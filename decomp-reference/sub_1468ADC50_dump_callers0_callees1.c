// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Function: 0x1468ADC50 (sub_1468ADC50)
// Caller Depth: 0
// Callee/Ref Depth: 1
// Total Functions Found: 5
// ------------------------------------------------------------

// --- Function: __StarEngineModule__ (0x1402A16B0) ---
void __fastcall _StarEngineModule__(ULONG_PTR Parameter)
{
  ;
}

// --- End Function: __StarEngineModule__ (0x1402A16B0) ---

// --- Function: allocWithoutProfiling (0x1402A1E30) ---
__int64 __fastcall allocWithoutProfiling(unsigned __int64 size)
{
  return allocWithProfilerInfo(size, 0);
}

// --- End Function: allocWithoutProfiling (0x1402A1E30) ---

// --- Function: CreateStringObjectFromString (0x140357920) ---
// Creates a managed string object from a null-terminated C-style string.
// Allocates memory to hold metadata (length, capacity) and the string data. The
// returned pointer points to the string data, with metadata stored immediately
// before it.  Memory Layout: `[DWORD length] [DWORD capacity] [char data...] [char
// '\0']`  @param ppStringObjectData Output parameter; receives the pointer to the
// string data within the newly created object. @param pszInputString The null-
// terminated C-style string to copy. @return Returns the `ppStringObjectData`
// pointer.
void **__fastcall CreateStringObjectFromString(void **ppStringObjectData, _BYTE *pszInputString)
{
  unsigned __int64 inputStringLength; // rbx
  _DWORD *pAllocatedBuffer; // rax

  *ppStringObjectData = (char *)&qword_149808ABC + 4;
  if ( !pszInputString )
  {
    return ppStringObjectData;
  }
  inputStringLength = 0xFFFFFFFFFFFFFFFFuLL;
  do
  {
    ++inputStringLength;
  }
  while ( pszInputString[inputStringLength] );
  if ( (_DWORD)inputStringLength )
  {
    pAllocatedBuffer = (_DWORD *)allocWithProfilerInfo((int)inputStringLength + 9LL, 0);
    *ppStringObjectData = pAllocatedBuffer + 2;
    *pAllocatedBuffer = inputStringLength;
    pAllocatedBuffer[1] = inputStringLength;
    *((_BYTE *)*ppStringObjectData + (int)inputStringLength) = 0;
    if ( *ppStringObjectData != pszInputString )
    {
      memcpy(*ppStringObjectData, pszInputString, (int)inputStringLength);
    }
  }
  return ppStringObjectData;
}

// --- End Function: CreateStringObjectFromString (0x140357920) ---

// --- Function: sub_1468ADC50 (0x1468ADC50) ---
unsigned __int64 __fastcall sub_1468ADC50(unsigned __int64 a1, __int64 a2)
{
  unsigned int v4; // eax
  _QWORD *v5; // rax
  __int64 n0xE; // rcx
  unsigned __int64 v7; // rbx
  unsigned __int64 v8; // rcx
  char v9; // dl
  unsigned __int16 v10; // ax
  __int64 v11; // rdx
  int v12; // eax
  char v13; // r8
  unsigned __int64 v14; // rcx
  unsigned __int64 v15; // rdx
  unsigned __int16 v16; // ax
  char v17; // r8
  unsigned __int16 v18; // ax
  __int64 v19; // rax
  int n0xF00; // [rsp+30h] [rbp-68h] BYREF
  __int64 v22; // [rsp+34h] [rbp-64h]
  int v23; // [rsp+3Ch] [rbp-5Ch]
  __int64 v24; // [rsp+40h] [rbp-58h]
  unsigned __int64 v25; // [rsp+48h] [rbp-50h]
  __int64 v26; // [rsp+50h] [rbp-48h]
  __int64 v27; // [rsp+58h] [rbp-40h]

  *(_DWORD *)(a1 + 8) &= 0xFFFFC000;
  *(_QWORD *)a1 = off_14890D268;
  *(_WORD *)(a1 + 0xC) = 1;
  *(_QWORD *)(a1 + 0x10) = *(_QWORD *)(a2 + 0x40);
  *(_QWORD *)(a1 + 0x18) = *(_QWORD *)(a2 + 0xC8);
  *(_QWORD *)(a1 + 0x20) = *(_QWORD *)a2;
  v4 = qword_14981D41C;
  *(_QWORD *)(a1 + 0xC0) = 0;
  *(_DWORD *)(a1 + 0xC8) = 0xFFFFFFFF;
  *(_DWORD *)(a1 + 0xCC) = 0;
  *(_DWORD *)(a1 + 0xB4) = v4;
  *(_BYTE *)(a1 + 0xB8) = 0;
  *(_DWORD *)(a1 + 0x110) = *(_DWORD *)(a2 + 0xC0);
  *(_QWORD *)(a1 + 0x114) = 0;
  *(_DWORD *)(a1 + 0x11C) = 0xFFFFFFFF;
  *(_WORD *)(a1 + 0x120) = 0;
  *(_BYTE *)(a1 + 0x122) = 0;
  *(_QWORD *)(a1 + 0x128) = 0;
  *(_QWORD *)(a1 + 0x130) = 0;
  *(_QWORD *)(a1 + 0x238) = 0;
  *(_QWORD *)(a1 + 0x240) = 0;
  *(_QWORD *)(a1 + 0x248) = 0;
  *(_QWORD *)(a1 + 0x250) = 0;
  *(_QWORD *)(a1 + 0x258) = 0;
  *(_QWORD *)(a1 + 0x260) = 0;
  *(_QWORD *)(a1 + 0x268) = 0;
  *(_QWORD *)(a1 + 0x270) = 0;
  *(_QWORD *)(a1 + 0x278) = 0;
  *(_QWORD *)(a1 + 0x280) = 0;
  *(_QWORD *)(a1 + 0x288) = 0;
  CreateStringObjectFromString((void **)(a1 + 0x290), *(_BYTE **)(a2 + 0xB8));
  *(_QWORD *)(a1 + 0x298) = 0;
  v5 = (_QWORD *)(a1 + 0x368);
  *(_DWORD *)(a1 + 0x2A0) = 0xFFFFFFFF;
  n0xE = 0xE;
  *(_QWORD *)(a1 + 0x2F8) = 0;
  *(_QWORD *)(a1 + 0x300) = 0;
  *(_QWORD *)(a1 + 0x308) = 0;
  *(_QWORD *)(a1 + 0x310) = 0;
  *(_QWORD *)(a1 + 0x318) = 0;
  *(_QWORD *)(a1 + 0x320) = 0;
  *(_QWORD *)(a1 + 0x328) = 0;
  *(_QWORD *)(a1 + 0x330) = 0;
  *(_QWORD *)(a1 + 0x338) = 0;
  *(_QWORD *)(a1 + 0x340) = 0;
  *(_QWORD *)(a1 + 0x348) = 0;
  *(_QWORD *)(a1 + 0x350) = 0;
  *(_QWORD *)(a1 + 0x358) = 0;
  *(_QWORD *)(a1 + 0x360) = 0;
  *(_QWORD *)(a1 + 0x2A8) = 0;
  *(_DWORD *)(a1 + 0x2B0) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0x2B8) = 0;
  *(_DWORD *)(a1 + 0x2C0) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0x2C8) = a2;
  *(_QWORD *)(a1 + 0x2D8) = 0;
  *(_DWORD *)(a1 + 0x2E0) = 0xFFFFFFFF;
  *(_WORD *)(a1 + 0x2E4) = 0xFFFF;
  *(_QWORD *)(a1 + 0x2E8) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(a1 + 0x2F0) = 0xFFFFFFFF;
  do
  {
    *v5 = 0xFFFFFFFFFFFFFFFFuLL;
    v5[1] = 0;
    v5[2] = 0;
    v5 += 3;
    --n0xE;
  }
  while ( n0xE );
  *(_QWORD *)(a1 + 0x4B8) = 0;
  *(_QWORD *)(a1 + 0x4C0) = 0;
  if ( qword_15126E3D0 > a1 || a1 >= qword_15126E3D8 + qword_15126E3D0 )
  {
    v8 = a1 - 6;
    v9 = 0;
    v7 = a1 - 6;
  }
  else
  {
    v7 = a1 - 6;
    v8 = a1 & 0xFFFFFFFFFF000000uLL;
    v9 = 1;
  }
  v10 = *(_WORD *)(v8 + 2) | 0x2000;
  if ( !v9 )
  {
    v10 = *(_WORD *)(v8 + 2);
  }
  *(_QWORD *)(a1 + 0x4C0) = a1 | ((unsigned __int64)v10 << 0x30);
  *(_QWORD *)(a1 + 0x4D0) = 0;
  *(_WORD *)(a1 + 0x4C8) = 0;
  *(_DWORD *)(a1 + 0x4CC) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0x4D8) = 0;
  *(_QWORD *)(a1 + 0x4E0) = 0;
  *(_QWORD *)(a1 + 0x4E8) = 0;
  v11 = *(_QWORD *)(a1 + 0x290);
  *(_DWORD *)(a1 + 0x4F0) = 0;
  *(_QWORD *)(a1 + 0x4F8) = 0;
  *(_QWORD *)(a1 + 0x500) = 0;
  *(_QWORD *)(a1 + 0x508) = 0;
  *(_QWORD *)(a1 + 0x510) = 0;
  v12 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D360 + 0xF8LL))(qword_14981D360, v11);
  n0xF00 = 0xF00;
  *(_DWORD *)(a1 + 0x2D0) = v12;
  v22 = 0;
  v23 = 0;
  v25 = 0;
  v26 = 0;
  v27 = 0;
  v24 = 1;
  qword_149818EA0(
    &n0xF00,
    0,
    &p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( qword_15126E3D0 > a1 || a1 >= qword_15126E3D8 + qword_15126E3D0 )
  {
    v13 = 0;
    v15 = a1 & 0xFFFFFFFFFF000000uLL;
    v14 = v7;
  }
  else
  {
    v13 = 1;
    v14 = a1 & 0xFFFFFFFFFF000000uLL;
    v15 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v16 = *(_WORD *)(v14 + 2) | 0x2000;
  if ( !v13 )
  {
    v16 = *(_WORD *)(v14 + 2);
  }
  *(_QWORD *)(a1 + 0x318) = a1 | ((unsigned __int64)v16 << 0x30);
  if ( qword_15126E3D0 > a1 || a1 >= qword_15126E3D8 + qword_15126E3D0 )
  {
    v17 = 0;
    v15 = v7;
  }
  else
  {
    v17 = 1;
  }
  v18 = *(_WORD *)(v15 + 2) | 0x2000;
  if ( !v17 )
  {
    v18 = *(_WORD *)(v15 + 2);
  }
  *(_QWORD *)(a1 + 0x320) = a1 | ((unsigned __int64)v18 << 0x30);
  memset((void *)(a1 + 0x138), 0, 0x100u);
  v19 = allocWithoutProfiling(0xC0u);
  if ( v19 )
  {
    *(_DWORD *)v19 = 0;
    *(_QWORD *)(v19 + 0x98) = 0x3FF0000000000000LL;
    *(_DWORD *)(v19 + 4) = 0xFFFFFFFF;
    *(_DWORD *)(v19 + 8) = 0;
    *(_QWORD *)(v19 + 0x10) = 0;
    *(_QWORD *)(v19 + 0x18) = 0;
    *(_DWORD *)(v19 + 0x20) = 0xFFFFFFFE;
    *(_DWORD *)(v19 + 0x24) = 0xFFFFFFFE;
    *(_QWORD *)(v19 + 0x28) = 0;
    *(_QWORD *)(v19 + 0x30) = 0;
    *(_QWORD *)(v19 + 0x38) = 0xFFFFFFFFFFFFFFFFuLL;
    *(_DWORD *)(v19 + 0x40) = 0xFFFFFFFF;
    *(_DWORD *)(v19 + 0x44) = 0;
    *(_QWORD *)(v19 + 0x48) = 0;
    *(_BYTE *)(v19 + 0x50) = 0;
    *(_QWORD *)(v19 + 0x58) = 0;
    *(_QWORD *)(v19 + 0x60) = 0;
    *(_QWORD *)(v19 + 0x68) = 0;
    *(_QWORD *)(v19 + 0x70) = 0;
    *(_QWORD *)(v19 + 0x78) = 0;
    *(_QWORD *)(v19 + 0x80) = 0;
    *(_DWORD *)(v19 + 0x88) = 0;
    *(_BYTE *)(v19 + 0x8C) = 0;
    *(_QWORD *)(v19 + 0x90) = 0;
    *(_QWORD *)(v19 + 0xA0) = 0;
    *(_QWORD *)(v19 + 0xA8) = 0;
    *(_QWORD *)(v19 + 0xB0) = 0;
    *(_QWORD *)(v19 + 0xB8) = 0;
  }
  else
  {
    v19 = 0;
  }
  *(_QWORD *)(a1 + 0x328) = v19;
  (*(void (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  _StarEngineModule__(a1 + 0xC0);
  v25 = __rdtsc();
  qword_149818EA8(&n0xF00);
  return a1;
}

// --- End Function: sub_1468ADC50 (0x1468ADC50) ---

// --- Function: memset (0x147E162C7) ---
// attributes: thunk
void *__cdecl memset(void *a1, int Val, size_t Size)
{
  return __imp_memset(a1, Val, Size);
}

// --- End Function: memset (0x147E162C7) ---

