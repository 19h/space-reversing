// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Functions:
//   - 0x1403E75D0 (sub_1403E75D0)
//   - 0x140418C10 (sub_140418C10)
//   - 0x140716530 (sub_140716530)
//   - 0x140717810 (sub_140717810)
//   - 0x140717820 (sub_140717820)
//   - 0x141104860 (sub_141104860)
//   - 0x141706470 (sub_141706470)
//   - 0x141724C40 (sub_141724C40)
//   - 0x141726A50 (sub_141726A50)
//   - 0x142306700 (sub_142306700)
//   - 0x144D1D000 (sub_144D1D000)
//   - 0x1467F2AC0 (sub_1467F2AC0)
//   - 0x146875B10 (sub_146875B10)
//   - 0x146A27EC0 (sub_146A27EC0)
//   - 0x146A314C0 (sub_146A314C0)
//   - 0x146A31A80 (sub_146A31A80)
//   - 0x146A33E50 (sub_146A33E50)
//   - 0x146A39880 (sub_146A39880)
//   - 0x146A39890 (sub_146A39890)
//   - 0x146A7CF00 (sub_146A7CF00)
//   - 0x146ACA130 (sub_146ACA130)
//   - 0x146AD3710 (sub_146AD3710)
//   - 0x146AD3950 (sub_146AD3950)
//   - 0x146B1FE50 (sub_146B1FE50)
//   - 0x146B22610 (sub_146B22610)
//   - 0x146B25E00 (sub_146B25E00)
//   - 0x146B26470 (sub_146B26470)
//   - 0x146B26C00 (sub_146B26C00)
//   - 0x146B272C0 (sub_146B272C0)
//   - 0x146B276F0 (sub_146B276F0)
//   - 0x146B280A0 (sub_146B280A0)
//   - 0x146B28250 (sub_146B28250)
//   - 0x146B289C0 (sub_146B289C0)
//   - 0x146B2A280 (sub_146B2A280)
//   - 0x146B2A3A0 (sub_146B2A3A0)
//   - 0x146B33CA0 (sub_146B33CA0)
//   - 0x146B33ED0 (sub_146B33ED0)
//   - 0x146B35170 (sub_146B35170)
//   - 0x146B35CC0 (sub_146B35CC0)
//   - 0x146B37860 (sub_146B37860)
//   - 0x146B37980 (sub_146B37980)
//   - 0x146B37B90 (sub_146B37B90)
//   - 0x146B37D80 (sub_146B37D80)
//   - 0x146B39A00 (sub_146B39A00)
//   - 0x146B3D5A0 (sub_146B3D5A0)
//   - 0x146B3D5C0 (sub_146B3D5C0)
//   - 0x146B3DCC0 (sub_146B3DCC0)
//   - 0x146B3F9C0 (sub_146B3F9C0)
//   - 0x146B3FA40 (sub_146B3FA40)
//   - 0x146B40B40 (sub_146B40B40)
//   - 0x146B414F0 (sub_146B414F0)
//   - 0x146B41E70 (sub_146B41E70)
//   - 0x146B451B0 (sub_146B451B0)
//   - 0x146B453C0 (sub_146B453C0)
//   - 0x146B45500 (sub_146B45500)
//   - 0x146B456C0 (sub_146B456C0)
//   - 0x146B47B10 (sub_146B47B10)
//   - 0x146B47D20 (sub_146B47D20)
//   - 0x146B47DA0 (sub_146B47DA0)
//   - 0x146B48380 (sub_146B48380)
//   - 0x146B486E0 (sub_146B486E0)
//   - 0x146B488D0 (sub_146B488D0)
//   - 0x146B48AC0 (CEntity::ForEachInObject)
//   - 0x146B48B40 (sub_146B48B40)
//   - 0x146B48D60 (sub_146B48D60)
//   - 0x146B48EB0 (sub_146B48EB0)
//   - 0x146B48F10 (sub_146B48F10)
//   - 0x146B49710 (sub_146B49710)
//   - 0x146B49780 (sub_146B49780)
//   - 0x146B497D0 (sub_146B497D0)
//   - 0x146B49810 (sub_146B49810)
//   - 0x146B49830 (sub_146B49830)
//   - 0x146B49870 (sub_146B49870)
//   - 0x146B498F0 (sub_146B498F0)
//   - 0x146B49A10 (sub_146B49A10)
//   - 0x146B49A90 (sub_146B49A90)
//   - 0x146B49AE0 (sub_146B49AE0)
//   - 0x146B49B30 (sub_146B49B30)
//   - 0x146B49D80 (sub_146B49D80)
//   - 0x146B4A8F0 (sub_146B4A8F0)
//   - 0x146B4B1C0 (sub_146B4B1C0)
//   - 0x146B4B3E0 (sub_146B4B3E0)
//   - 0x146B4B810 (sub_146B4B810)
//   - 0x146B4BBE0 (sub_146B4BBE0)
//   - 0x146B4BC60 (sub_146B4BC60)
//   - 0x146B4BDA0 (sub_146B4BDA0)
//   - 0x146B4BDE0 (sub_146B4BDE0)
//   - 0x146B4BEE0 (sub_146B4BEE0)
//   - 0x146B4BF70 (sub_146B4BF70)
//   - 0x146B4BF90 (sub_146B4BF90)
//   - 0x146B4BFA0 (sub_146B4BFA0)
//   - 0x146B4BFF0 (sub_146B4BFF0)
//   - 0x146B4C010 (sub_146B4C010)
//   - 0x146B4C040 (sub_146B4C040)
//   - 0x146B4C170 (sub_146B4C170)
//   - 0x146B4C270 (sub_146B4C270)
//   - 0x146B4C310 (sub_146B4C310)
//   - 0x146B4CA40 (sub_146B4CA40)
//   - 0x146B4D040 (sub_146B4D040)
//   - 0x146B4D140 (sub_146B4D140)
//   - 0x146B4D170 (sub_146B4D170)
//   - 0x146B4E080 (sub_146B4E080)
//   - 0x146B4E0C0 (sub_146B4E0C0)
//   - 0x146B4E100 (sub_146B4E100)
//   - 0x146B4E140 (sub_146B4E140)
//   - 0x146B4E180 (sub_146B4E180)
//   - 0x146B4E1C0 (sub_146B4E1C0)
//   - 0x146B4E200 (sub_146B4E200)
//   - 0x146B4E340 (sub_146B4E340)
//   - 0x146B4E570 (sub_146B4E570)
//   - 0x146B4E6C0 (sub_146B4E6C0)
//   - 0x146B4EA30 (sub_146B4EA30)
//   - 0x146B4EC30 (sub_146B4EC30)
//   - 0x146B4ED70 (sub_146B4ED70)
//   - 0x146B4EF60 (sub_146B4EF60)
//   - 0x146B51140 (sub_146B51140)
//   - 0x146B513A0 (sub_146B513A0)
//   - 0x146B51490 (sub_146B51490)
//   - 0x146B516A0 (sub_146B516A0)
//   - 0x146B517A0 (sub_146B517A0)
//   - 0x146B517E0 (sub_146B517E0)
//   - 0x146B51810 (sub_146B51810)
//   - 0x146B51830 (sub_146B51830)
//   - 0x146B51860 (sub_146B51860)
//   - 0x146B518C0 (sub_146B518C0)
//   - 0x146B51940 (sub_146B51940)
//   - 0x146B51E20 (sub_146B51E20)
//   - 0x146B51EB0 (sub_146B51EB0)
//   - 0x146B51FA0 (sub_146B51FA0)
//   - 0x146B52050 (sub_146B52050)
//   - 0x146B520B0 (sub_146B520B0)
//   - 0x146B52280 (sub_146B52280)
//   - 0x146B526C0 (sub_146B526C0)
//   - 0x146B52700 (sub_146B52700)
//   - 0x146B529B0 (sub_146B529B0)
//   - 0x146B529E0 (sub_146B529E0)
//   - 0x146B52FA0 (sub_146B52FA0)
//   - 0x146B53300 (sub_146B53300)
//   - 0x146B53320 (sub_146B53320)
//   - 0x146B53340 (sub_146B53340)
//   - 0x146B53360 (sub_146B53360)
//   - 0x146B53500 (sub_146B53500)
//   - 0x146B536B0 (sub_146B536B0)
//   - 0x146B53860 (sub_146B53860)
//   - 0x146B53C10 (sub_146B53C10)
//   - 0x146B53C90 (sub_146B53C90)
//   - 0x146B53CB0 (sub_146B53CB0)
//   - 0x146B53D70 (sub_146B53D70)
//   - 0x146B53E20 (sub_146B53E20)
//   - 0x146B54040 (sub_146B54040)
//   - 0x146B54730 (sub_146B54730)
//   - 0x146B54980 (sub_146B54980)
//   - 0x146B54AB0 (sub_146B54AB0)
//   - 0x146B54C20 (sub_146B54C20)
//   - 0x146B55120 (sub_146B55120)
//   - 0x146B552F0 (sub_146B552F0)
//   - 0x146B5A040 (sub_146B5A040)
//   - 0x146B5A3D0 (sub_146B5A3D0)
//   - 0x146B5A3F0 (sub_146B5A3F0)
//   - 0x146B5A440 (sub_146B5A440)
//   - 0x146B5A460 (sub_146B5A460)
//   - 0x146B5A660 (sub_146B5A660)
//   - 0x146B5A730 (sub_146B5A730)
//   - 0x146B5A7F0 (sub_146B5A7F0)
//   - 0x146B5A800 (sub_146B5A800)
//   - 0x146B5AA90 (sub_146B5AA90)
//   - 0x146B5ADD0 (sub_146B5ADD0)
//   - 0x146B5AE10 (sub_146B5AE10)
//   - 0x146B5AEF0 (sub_146B5AEF0)
//   - 0x146B5B230 (sub_146B5B230)
//   - 0x146B5B730 (sub_146B5B730)
//   - 0x146B5B770 (sub_146B5B770)
//   - 0x146B5BA60 (sub_146B5BA60)
//   - 0x146B5BE80 (sub_146B5BE80)
//   - 0x146B5BF70 (sub_146B5BF70)
//   - 0x146B5C3D0 (sub_146B5C3D0)
//   - 0x146B5C410 (sub_146B5C410)
//   - 0x146B5C470 (sub_146B5C470)
//   - 0x146B5C4C0 (sub_146B5C4C0)
//   - 0x146B5C580 (sub_146B5C580)
//   - 0x146B5C8E0 (sub_146B5C8E0)
//   - 0x146B5CE20 (sub_146B5CE20)
//   - 0x146B62A70 (sub_146B62A70)
//   - 0x146B62AE0 (sub_146B62AE0)
//   - 0x146B63D10 (sub_146B63D10)
//   - 0x146B63DD0 (sub_146B63DD0)
//   - 0x146B63FF0 (sub_146B63FF0)
//   - 0x146B64280 (sub_146B64280)
//   - 0x146B66D20 (sub_146B66D20)
//   - 0x146B66EA0 (sub_146B66EA0)
//   - 0x146B66F10 (sub_146B66F10)
//   - 0x146B67030 (sub_146B67030)
//   - 0x146B67240 (sub_146B67240)
//   - 0x146B68FF0 (sub_146B68FF0)
//   - 0x146B69110 (sub_146B69110)
//   - 0x146B6DED0 (sub_146B6DED0)
//   - 0x146B70420 (sub_146B70420)
//   - 0x146B70860 (sub_146B70860)
//   - 0x146B71350 (sub_146B71350)
//   - 0x146B71510 (sub_146B71510)
//   - 0x146B716C0 (sub_146B716C0)
//   - 0x146B722A0 (sub_146B722A0)
//   - 0x146B729D0 (sub_146B729D0)
//   - 0x146B731A0 (sub_146B731A0)
//   - 0x146B738E0 (sub_146B738E0)
//   - 0x146B73990 (sub_146B73990)
//   - 0x146B74500 (sub_146B74500)
//   - 0x146B74520 (sub_146B74520)
//   - 0x146B745E0 (sub_146B745E0)
//   - 0x146B748B0 (sub_146B748B0)
//   - 0x146B74990 (sub_146B74990)
//   - 0x146B74B20 (sub_146B74B20)
//   - 0x146B74C50 (sub_146B74C50)
//   - 0x146B74CE0 (sub_146B74CE0)
//   - 0x146B74D60 (sub_146B74D60)
//   - 0x146B74F60 (sub_146B74F60)
//   - 0x146B74FA0 (sub_146B74FA0)
//   - 0x146B74FE0 (sub_146B74FE0)
//   - 0x146B750F0 (sub_146B750F0)
//   - 0x146B751A0 (sub_146B751A0)
//   - 0x146B75240 (sub_146B75240)
//   - 0x146B75380 (sub_146B75380)
//   - 0x146B75420 (sub_146B75420)
//   - 0x146B75510 (sub_146B75510)
//   - 0x146B75550 (sub_146B75550)
//   - 0x146B755B0 (sub_146B755B0)
//   - 0x146B75750 (sub_146B75750)
//   - 0x146B759C0 (sub_146B759C0)
//   - 0x146B75A50 (sub_146B75A50)
//   - 0x146B75AE0 (sub_146B75AE0)
//   - 0x146B75CA0 (sub_146B75CA0)
//   - 0x146B760A0 (sub_146B760A0)
//   - 0x146B77DE0 (sub_146B77DE0)
//   - 0x146B77F90 (sub_146B77F90)
//   - 0x146B79390 (sub_146B79390)
//   - 0x146B79470 (sub_146B79470)
//   - 0x146B79850 (sub_146B79850)
//   - 0x146B79930 (sub_146B79930)
//   - 0x146B82890 (sub_146B82890)
//   - 0x146B83C10 (sub_146B83C10)
//   - 0x146B83F20 (sub_146B83F20)
//   - 0x146B84AC0 (sub_146B84AC0)
//   - 0x146B86030 (sub_146B86030)
// Caller Depth: 0
// Callee/Ref Depth: 1
// Total Functions Found: 450
// ------------------------------------------------------------

// --- Function: ?StopProfileThreadUsage@MemoryMgr@AK@@YA_KXZ (0x1402A3180) ---
__int64 __fastcall AK::MemoryMgr::StopProfileThreadUsage(struct _exception *a1)
{
  return 0;
}

// --- End Function: ?StopProfileThreadUsage@MemoryMgr@AK@@YA_KXZ (0x1402A3180) ---

// --- Function: sub_1402A33E0 (0x1402A33E0) ---
__int64 __fastcall sub_1402A33E0(char *a1)
{
  char *v1; // r8
  unsigned int n0x9E37; // eax
  char v3; // cl

  v1 = a1;
  n0x9E37 = 0x9E37;
  v3 = *a1;
  if ( v3 )
  {
    do
    {
      ++v1;
      n0x9E37 = ((0x401 * (n0x9E37 + v3)) >> 6) ^ (0x401 * (n0x9E37 + v3));
      v3 = *v1;
    }
    while ( *v1 );
  }
  return 0x8001 * ((9 * n0x9E37) ^ ((9 * n0x9E37) >> 0xB));
}

// --- End Function: sub_1402A33E0 (0x1402A33E0) ---

// --- Function: __StarEngineModule__ (0x1402A34C0) ---
void __fastcall _StarEngineModule__(ULONG_PTR Parameter)
{
  ;
}

// --- End Function: __StarEngineModule__ (0x1402A34C0) ---

// --- Function: sub_1402A3D30 (0x1402A3D30) ---
__int64 __fastcall sub_1402A3D30(const void *a1)
{
  return sub_147605980(a1);
}

// --- End Function: sub_1402A3D30 (0x1402A3D30) ---

// --- Function: allocWithProfilerInfo_w (0x1402A3D40) ---
__int64 __fastcall sub_1402A3D40(unsigned __int64 allocSize)
{
  return allocWithProfilerInfo(allocSize, 0);
}

// --- End Function: allocWithProfilerInfo_w (0x1402A3D40) ---

// --- Function: sub_1402A6620 (0x1402A6620) ---
char *__fastcall sub_1402A6620(__int64 a1, _QWORD *a2)
{
  char *v2; // rsi
  char *v4; // rcx
  char *result; // rax
  __int64 v7; // rdx
  __int64 v8; // rbp
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // r8
  unsigned __int64 v11; // r14
  __int64 v12; // r12
  _QWORD *v13; // rdi
  void *v14; // rcx
  char *v15; // r8
  char *v16; // rdx
  char *v17; // rbp
  size_t Size; // r8

  v2 = *(char **)(a1 + 8);
  v4 = *(char **)(a1 + 0x10);
  if ( v2 == v4 )
  {
    v7 = 0x1FFFFFFFFFFFFFFFLL;
    v8 = (__int64)&v2[-*(_QWORD *)a1] >> 3;
    if ( v8 == 0x1FFFFFFFFFFFFFFFLL )
      unknown_libname_10();
    v9 = (__int64)&v4[-*(_QWORD *)a1] >> 3;
    v10 = v9 >> 1;
    v11 = v8 + 1;
    if ( v9 <= 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    {
      v7 = v10 + v9;
      if ( v10 + v9 < v11 )
        v7 = v8 + 1;
    }
    v12 = v7;
    v13 = (_QWORD *)sub_140391AB0(a1, 8 * v7);
    v13[v8] = *a2;
    v14 = v13;
    v15 = *(char **)(a1 + 8);
    v16 = *(char **)a1;
    v17 = (char *)&v13[v8];
    if ( v2 == v15 )
    {
      Size = v15 - v16;
    }
    else
    {
      memmove(v13, v16, v2 - v16);
      v14 = v17 + 8;
      Size = *(_QWORD *)(a1 + 8) - (_QWORD)v2;
      v16 = v2;
    }
    memmove(v14, v16, Size);
    if ( *(_QWORD *)a1 )
      sub_1403A3120(a1, *(const void **)a1, (*(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1) & 0xFFFFFFFFFFFFFFF8uLL);
    *(_QWORD *)a1 = v13;
    result = v17;
    *(_QWORD *)(a1 + 8) = &v13[v11];
    *(_QWORD *)(a1 + 0x10) = &v13[v12];
  }
  else
  {
    *(_QWORD *)v2 = *a2;
    result = *(char **)(a1 + 8);
    *(_QWORD *)(a1 + 8) = result + 8;
  }
  return result;
}

// --- End Function: sub_1402A6620 (0x1402A6620) ---

// --- Function: ?_Tidy@?$vector@V?$Vector@$02N@gte@@V?$allocator@V?$Vector@$02N@gte@@@std@@@std@@AEAAXXZ (0x1402B2380) ---
void __fastcall std::vector<gte::Vector<3,double>>::_Tidy(std::vector<gte::Vector<3,double>> *this)
{
  _QWORD *v2; // rcx

  v2 = *(_QWORD **)this;
  if ( v2 )
  {
    if ( (unsigned __int64)(24 * ((*((_QWORD *)this + 2) - (_QWORD)v2) / 24LL)) >= 0x1000 )
    {
      if ( (unsigned __int64)v2 - *(v2 - 1) - 8 > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v2 = (_QWORD *)*(v2 - 1);
    }
    sub_1402A3D30(v2);
    *(_QWORD *)this = 0;
    *((_QWORD *)this + 1) = 0;
    *((_QWORD *)this + 2) = 0;
  }
}

// --- End Function: ?_Tidy@?$vector@V?$Vector@$02N@gte@@V?$allocator@V?$Vector@$02N@gte@@@std@@@std@@AEAAXXZ (0x1402B2380) ---

// --- Function: LogTraceConditional (0x1402C1000) ---
// Logs a formatted message with level 3 if global logging flags `qword_14981D3D8`
// and `Parameter_3` are enabled and the global logger object `qword_14981D2D0` is
// available. Calls the virtual function at offset +8 of the logger object.
void LogTraceConditional(const char *format_string, ...)
{
  va_list va; // [rsp+38h] [rbp+10h] BYREF

  va_start(va, format_string);
  if ( qword_149B4FDB8 && qword_149B4FCA0 )
  {
    if ( qword_149B4FCB0 )
      (*(void (__fastcall **)(__int64, __int64, const char *, __int64 *))(*(_QWORD *)qword_149B4FCB0 + 8LL))(
        qword_149B4FCB0,
        3,
        format_string,
        (__int64 *)va);
  }
}

// --- End Function: LogTraceConditional (0x1402C1000) ---

// --- Function: NtCurrentTeb_w (0x1402C6400) ---
__int64 NtCurrentTeb_w()
{
  return *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 784LL;
}

// --- End Function: NtCurrentTeb_w (0x1402C6400) ---

// --- Function: sub_1402D2790 (0x1402D2790) ---
unsigned __int64 __fastcall sub_1402D2790(__int64 a1)
{
  unsigned __int64 result; // rax
  unsigned __int64 v3; // rdx

  result = NtCurrentTeb_w();
  if ( *(_DWORD *)(a1 + 16) == *(_DWORD *)(result + 24) && (result = *(unsigned int *)(a1 + 20), (_DWORD)result) )
  {
    result = (unsigned int)(result - 1);
    *(_DWORD *)(a1 + 20) = result;
  }
  else
  {
    v3 = _InterlockedDecrement64((volatile signed __int64 *)a1);
    if ( (v3 & 0x3FF) == 0 )
    {
      result = 0xFFFF0000FFC00000uLL;
      if ( (v3 & 0xFFFF0000FFC00000uLL) != 0 )
        return sub_1403CB820((volatile signed __int64 *)a1, v3);
    }
  }
  return result;
}

// --- End Function: sub_1402D2790 (0x1402D2790) ---

// --- Function: sub_1402DECA0 (0x1402DECA0) ---
void __fastcall sub_1402DECA0(unsigned __int64 *a1, const void *a2, size_t Size)
{
  unsigned __int64 *v5; // rsi
  size_t Size_1; // r14
  unsigned __int64 v8; // rbp
  unsigned __int64 n8; // rdx
  unsigned __int64 v10; // rax

  if ( Size )
  {
    v5 = (unsigned __int64 *)a1[2];
    Size_1 = *a1;
    v8 = *a1 + Size;
    if ( v8 <= a1[1] )
    {
      memcpy((char *)v5 + Size_1, a2, Size);
      *a1 += Size;
      *(_BYTE *)(*a1 + a1[2]) = 0;
    }
    else
    {
      n8 = 2 * Size_1;
      if ( 2 * Size_1 <= v8 )
        n8 = *a1 + Size;
      if ( n8 )
      {
        if ( n8 < 8 )
          n8 = 8;
        sub_1402A3B50((__int64 *)a1, n8);
        memcpy((void *)a1[2], v5, Size_1);
        memcpy((void *)(Size_1 + a1[2]), a2, Size);
        v10 = a1[2];
        *a1 = v8;
        *(_BYTE *)(Size_1 + Size + v10) = 0;
      }
      if ( v5 != a1 + 3 )
      {
        qword_149B3AB68 += -1LL - a1[1];
        sub_147605980(v5);
      }
    }
  }
}

// --- End Function: sub_1402DECA0 (0x1402DECA0) ---

// --- Function: unknown_libname_10 (0x1402E1F90) ---
// Microsoft VisualC v14 64bit runtime
void __noreturn unknown_libname_10()
{
  std::_Xlength_error("vector too long");
}

// --- End Function: unknown_libname_10 (0x1402E1F90) ---

// --- Function: sub_1402E3A20 (0x1402E3A20) ---
unsigned __int64 __fastcall sub_1402E3A20(__int64 a1, unsigned __int64 a2)
{
  const void *v3; // rcx
  unsigned __int64 result; // rax
  __int64 v5; // r14
  __int64 v6; // rsi
  char *v7; // rdi

  v3 = *(const void **)a1;
  result = (__int64)(*(_QWORD *)(a1 + 0x10) - (_QWORD)v3) >> 3;
  if ( a2 > result )
  {
    if ( a2 > 0x1FFFFFFFFFFFFFFFLL )
      unknown_libname_10();
    v5 = 8 * a2;
    v6 = (__int64)(*(_QWORD *)(a1 + 8) - (_QWORD)v3) >> 3;
    v7 = (char *)sub_140391AB0(a1, 8 * a2);
    memmove(v7, *(const void **)a1, *(_QWORD *)(a1 + 8) - *(_QWORD *)a1);
    if ( *(_QWORD *)a1 )
      sub_1403A3120(a1, *(const void **)a1, (*(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1) & 0xFFFFFFFFFFFFFFF8uLL);
    *(_QWORD *)a1 = v7;
    *(_QWORD *)(a1 + 8) = &v7[8 * v6];
    result = (unsigned __int64)&v7[v5];
    *(_QWORD *)(a1 + 0x10) = &v7[v5];
  }
  return result;
}

// --- End Function: sub_1402E3A20 (0x1402E3A20) ---

// --- Function: invokeGlobalCallbackAndMaskStatusBits (0x140300A70) ---
// Invokes the global callback function stored in `qword_149808980` if it is non-
// null, passing the provided arguments. If the callback is null, it defaults to
// returning 1. The result (status bits) is then potentially modified by clearing
// bit 2 if `qword_149808998` is zero, and clearing bit 3 if `qword_1498089A0` is
// zero.
__int64 invokeGlobalCallbackAndMaskStatusBits(__int64 a1, __int64 a2, __int64 a3, const char *a4, ...)
{
  __int64 result; // rax

  if ( qword_149B3B1F0 )
    result = qword_149B3B1F0(a1, a2, a3, a4);
  else
    result = 1;
  if ( !qword_149B3B208 )
    result = (unsigned int)result & 0xFFFFFFFB;
  if ( !qword_149B3B210 )
    return (unsigned int)result & 0xFFFFFFF7;
  return result;
}

// --- End Function: invokeGlobalCallbackAndMaskStatusBits (0x140300A70) ---

// --- Function: sub_140307890 (0x140307890) ---
char *__fastcall sub_140307890(__int64 a1, _WORD *a2)
{
  char *v2; // rsi
  char *v4; // rcx
  char *result; // rax
  __int64 v7; // rdx
  __int64 v8; // rbp
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // r8
  unsigned __int64 v11; // r14
  __int64 v12; // r12
  _WORD *v13; // rdi
  void *v14; // rcx
  char *v15; // r8
  char *v16; // rdx
  char *v17; // rbp
  size_t Size; // r8

  v2 = *(char **)(a1 + 8);
  v4 = *(char **)(a1 + 0x10);
  if ( v2 == v4 )
  {
    v7 = 0x7FFFFFFFFFFFFFFFLL;
    v8 = (__int64)&v2[-*(_QWORD *)a1] >> 1;
    if ( v8 == 0x7FFFFFFFFFFFFFFFLL )
      unknown_libname_10();
    v9 = (__int64)&v4[-*(_QWORD *)a1] >> 1;
    v10 = v9 >> 1;
    v11 = v8 + 1;
    if ( v9 <= 0x7FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    {
      v7 = v10 + v9;
      if ( v10 + v9 < v11 )
        v7 = v8 + 1;
    }
    v12 = v7;
    v13 = (_WORD *)sub_140391AB0(a1, 2 * v7);
    v13[v8] = *a2;
    v14 = v13;
    v15 = *(char **)(a1 + 8);
    v16 = *(char **)a1;
    v17 = (char *)&v13[v8];
    if ( v2 == v15 )
    {
      Size = v15 - v16;
    }
    else
    {
      memmove(v13, v16, v2 - v16);
      v14 = v17 + 2;
      Size = *(_QWORD *)(a1 + 8) - (_QWORD)v2;
      v16 = v2;
    }
    memmove(v14, v16, Size);
    if ( *(_QWORD *)a1 )
      sub_1403A3120(a1, *(const void **)a1, 2 * ((__int64)(*(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1) >> 1));
    *(_QWORD *)a1 = v13;
    result = v17;
    *(_QWORD *)(a1 + 8) = &v13[v11];
    *(_QWORD *)(a1 + 0x10) = &v13[v12];
  }
  else
  {
    *(_WORD *)v2 = *a2;
    result = *(char **)(a1 + 8);
    *(_QWORD *)(a1 + 8) = result + 2;
  }
  return result;
}

// --- End Function: sub_140307890 (0x140307890) ---

// --- Function: is_valid_handle_typeA (0x14030EB70) ---
// Validates a packed handle/flags value pointed to by `packed_handle_ptr`.
// Extracts the handle (lower 48 bits) and flags (upper 16 bits). Retrieves
// metadata for the handle using `get_handle_metadata`. Checks if the metadata type
// (at offset +4) is 4, or if it's 2 and specific thread conditions are met (TEB
// data exists or `check_handle_state_and_access` passes). Also verifies
// consistency between metadata flags (at offset +2) and the input flags.
bool __fastcall is_valid_handle_typeA(__int64 *a1)
{
  __int64 v1; // rbx
  __int64 v3; // rax
  __int16 n4; // cx

  v1 = *a1;
  if ( !*a1 )
    return 0;
  v3 = sub_1403B4B50(v1 & 0xFFFFFFFFFFFFLL);
  n4 = *(_WORD *)(v3 + 4);
  if ( n4 == 4 || *(_WORD *)(v3 + 2) != (HIWORD(v1) & 0xFFF) )
    return 0;
  if ( n4 != 2 || *(_QWORD *)NtCurrentTeb_w() )
    return sub_14031FE20(a1) != 0;
  return 1;
}

// --- End Function: is_valid_handle_typeA (0x14030EB70) ---

// --- Function: sub_14030EC00 (0x14030EC00) ---
bool __fastcall sub_14030EC00(unsigned __int64 *a1)
{
  unsigned __int64 v1; // r9
  __int64 v3; // r10
  unsigned __int64 v4; // r9
  __int64 v5; // rax
  __int64 v6; // r10
  __int64 v7; // rbx
  bool v8; // al

  v1 = *a1;
  if ( !*a1 )
    return 0;
  v3 = v1 & 0xFFFFFFFFFFFFLL;
  v4 = HIWORD(v1);
  if ( (v4 & 0xF000) != 0 )
  {
    v5 = map_flag_to_mask(0x2000u);
    v7 = v6 & ~(v5 - 1);
  }
  else
  {
    v7 = v3 - 6;
  }
  if ( *(_WORD *)(v7 + 2) != (v4 & 0xFFF) )
    return 0;
  if ( *(_BYTE *)(NtCurrentTeb_w() + 301) || (v8 = sub_140539D80()) )
    v8 = 1;
  return *(_WORD *)(v7 + 4) == 2 && v8 || sub_140392020(a1) != 0;
}

// --- End Function: sub_14030EC00 (0x14030EC00) ---

// --- Function: sub_14031FE20 (0x14031FE20) ---
char __fastcall sub_14031FE20(_QWORD *a1)
{
  __int64 v1; // rbx
  __int64 v2; // rax
  _QWORD *v3; // rax
  __int64 payload_ptr_state2; // rax
  __int64 payload_ptr_state1; // rax

  v1 = *a1 & 0xFFFFFFFFFFFFLL;
  v2 = sub_1403B4B50(v1);
  if ( !*(_WORD *)(v2 + 4) )
    return 0;
  if ( *(_WORD *)(v2 + 4) == 1 )
  {
    payload_ptr_state1 = sub_1403B0A40(v1);
    return check_thread_list_contains_value(payload_ptr_state1);
  }
  if ( *(_WORD *)(v2 + 4) != 2 )
  {
    if ( *(_WORD *)(v2 + 4) == 3 )
    {
      v3 = (_QWORD *)sub_1403B0A40(v1);
      return check_thread_state_and_value_not_equal(v3);
    }
    return 0;
  }
  if ( *(_BYTE *)(NtCurrentTeb_w() + 301) || sub_140539D80() )
    return 1;
  payload_ptr_state2 = sub_1403B0A40(v1);
  return validate_access_with_virtual_calls(payload_ptr_state2);
}

// --- End Function: sub_14031FE20 (0x14031FE20) ---

// --- Function: sub_14033FE10 (0x14033FE10) ---
_QWORD *__fastcall sub_14033FE10(__int64 a1, _QWORD *a2)
{
  __int64 (__fastcall *v4)(__int64, char *, __int16 *); // rsi
  __int16 n0xFFFF; // ax
  __int64 v6; // rcx
  _QWORD *result; // rax
  __int16 n0xFFFF_1; // [rsp+40h] [rbp+8h] BYREF
  char v9; // [rsp+48h] [rbp+10h] BYREF
  char v10; // [rsp+50h] [rbp+18h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, char *, __int16 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_23;
  if ( n0xFFFF_23 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v9,
                          "IEntityComponentNetwork");
    n0xFFFF_23 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, &v10, &n0xFFFF_1);
  result = a2;
  *a2 = v6;
  return result;
}

// --- End Function: sub_14033FE10 (0x14033FE10) ---

// --- Function: sub_14035B160 (0x14035B160) ---
void **__fastcall sub_14035B160(void **a1, const void **a2)
{
  size_t Size; // rsi
  _DWORD *v5; // rax

  *a1 = (char *)&qword_149B3B33C + 4;
  Size = *((int *)*a2 - 2);
  if ( (_DWORD)Size )
  {
    v5 = (_DWORD *)allocWithProfilerInfo(Size + 9, 0);
    *a1 = v5 + 2;
    *v5 = Size;
    v5[1] = Size;
    *((_BYTE *)*a1 + Size) = 0;
    if ( *a1 != *a2 )
      memcpy(*a1, *a2, Size);
  }
  return a1;
}

// --- End Function: sub_14035B160 (0x14035B160) ---

// --- Function: CreateStringObjectFromString (0x14035B2C0) ---
// Creates a managed string object from a null-terminated C-style string.
// Allocates memory to hold metadata (length, capacity) and the string data. The
// returned pointer points to the string data, with metadata stored immediately
// before it.  Memory Layout: `[DWORD length] [DWORD capacity] [char data...] [char
// '\0']`  @param ppStringObjectData Output parameter; receives the pointer to the
// string data within the newly created object. @param pszInputString The null-
// terminated C-style string to copy. @return Returns the `ppStringObjectData`
// pointer.
void **CreateStringObjectFromString(void **a1, const char *a2, ...)
{
  unsigned __int64 Size; // rbx
  _DWORD *v5; // rax

  *a1 = (char *)&qword_149B3B33C + 4;
  if ( !a2 )
    return a1;
  Size = 0xFFFFFFFFFFFFFFFFuLL;
  do
    ++Size;
  while ( a2[Size] );
  if ( (_DWORD)Size )
  {
    v5 = (_DWORD *)allocWithProfilerInfo((int)Size + 9LL, 0);
    *a1 = v5 + 2;
    *v5 = Size;
    v5[1] = Size;
    *((_BYTE *)*a1 + (int)Size) = 0;
    if ( *a1 != a2 )
      memcpy(*a1, a2, (int)Size);
  }
  return a1;
}

// --- End Function: CreateStringObjectFromString (0x14035B2C0) ---

// --- Function: sub_14035B3E0 (0x14035B3E0) ---
void __fastcall sub_14035B3E0(_QWORD *a1)
{
  *a1 = (char *)&qword_149B3B33C + 4;
}

// --- End Function: sub_14035B3E0 (0x14035B3E0) ---

// --- Function: sub_14035FCD0 (0x14035FCD0) ---
_DWORD *__fastcall sub_14035FCD0(_DWORD *a1, __int64 *a2)
{
  __int64 v4; // [rsp+30h] [rbp+8h] BYREF

  *a1 = 0xF0000000;
  v4 = *a2;
  if ( (_WORD)v4 != 0xFFFF )
    (*(void (__fastcall **)(__int64, _DWORD *, __int64 *))(*(_QWORD *)qword_149B4FBF8 + 0x70LL))(
      qword_149B4FBF8,
      a1,
      &v4);
  return a1;
}

// --- End Function: sub_14035FCD0 (0x14035FCD0) ---

// --- Function: sub_140360130 (0x140360130) ---
_DWORD *__fastcall sub_140360130(_DWORD *a1)
{
  *a1 = 0xF0000000;
  return a1;
}

// --- End Function: sub_140360130 (0x140360130) ---

// --- Function: sub_14036C3F0 (0x14036C3F0) ---
__int64 __fastcall sub_14036C3F0(__int64 a1, int a2)
{
  *(_DWORD *)a1 = a2;
  *(_QWORD *)(a1 + 8) = 0;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_QWORD *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)(a1 + 0x28) = 0;
  *(_QWORD *)(a1 + 0x30) = 0;
  return a1;
}

// --- End Function: sub_14036C3F0 (0x14036C3F0) ---

// --- Function: sub_14036C410 (0x14036C410) ---
__int64 __fastcall sub_14036C410(__int64 a1)
{
  *(_QWORD *)(a1 + 8) = 0;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_DWORD *)a1 = 0x2D;
  *(_QWORD *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)(a1 + 0x28) = 0;
  *(_QWORD *)(a1 + 0x30) = 0;
  return a1;
}

// --- End Function: sub_14036C410 (0x14036C410) ---

// --- Function: sub_14036F120 (0x14036F120) ---
__int64 __fastcall sub_14036F120(__int64 a1)
{
  __int64 result; // rax

  *(_QWORD *)a1 = 0;
  result = a1;
  *(_WORD *)(a1 + 8) = 0;
  return result;
}

// --- End Function: sub_14036F120 (0x14036F120) ---

// --- Function: sub_140370D10 (0x140370D10) ---
void __fastcall sub_140370D10(_QWORD *a1)
{
  int *v1; // rcx

  v1 = (int *)(*a1 - 8LL);
  if ( v1[1] > 0 )
    sub_147605980(v1);
}

// --- End Function: sub_140370D10 (0x140370D10) ---

// --- Function: sub_1403729F0 (0x1403729F0) ---
__int64 __fastcall sub_1403729F0(_DWORD *a1)
{
  __int64 result; // rax

  if ( *a1 != 0xF0000000 )
    return (*(__int64 (__fastcall **)(__int64, _DWORD *))(*(_QWORD *)qword_149B4FBF8 + 0xF8LL))(qword_149B4FBF8, a1);
  return result;
}

// --- End Function: sub_1403729F0 (0x1403729F0) ---

// --- Function: sub_140372E30 (0x140372E30) ---
__int64 (__fastcall **__fastcall sub_140372E30(_QWORD *a1))()
{
  __int64 (__fastcall **result)(); // rax

  result = &off_1481AE868;
  *a1 = &off_1481AE868;
  return result;
}

// --- End Function: sub_140372E30 (0x140372E30) ---

// --- Function: assignCStringToStringStructure (0x140377FA0) ---
// Assigns the content of the null-terminated C-string `a2` to the custom string
// structure pointed to by `a1`. Calculates the length of `a2` and calls
// `sub_1403D9750` to handle buffer management and copying.
void **__fastcall assignCStringToStringStructure(void **a1, _BYTE *a2)
{
  __int64 Size; // rax

  if ( a2 )
  {
    Size = -1;
    do
      ++Size;
    while ( a2[Size] );
    sub_1403DE230(a1, a2, (int)Size);
    return a1;
  }
  else
  {
    sub_1403DE230(a1, 0, 0);
    return a1;
  }
}

// --- End Function: assignCStringToStringStructure (0x140377FA0) ---

// --- Function: AssetMeta::HasActorSubresource (0x14037FBB0) ---
bool __fastcall AssetMeta::HasActorSubresource(__int64 *a1)
{
  __int64 v1; // rbx
  __int64 v3; // rax
  __int16 n4; // cx

  v1 = *a1;
  if ( !*a1 )
    return 0;
  v3 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)gEnv + 0x128LL))(gEnv, v1 & 0xFFFFFFFFFFFFLL, 0);
  n4 = *(_WORD *)(v3 + 4);
  if ( n4 == 4 || *(_WORD *)(v3 + 2) != (HIWORD(v1) & 0xFFF) )
    return 0;
  if ( n4 != 2 || *(_QWORD *)NtCurrentTeb_w() )
    return sub_140391F30(a1) != 0;
  return 1;
}

// --- End Function: AssetMeta::HasActorSubresource (0x14037FBB0) ---

// --- Function: sub_1403912C0 (0x1403912C0) ---
char __fastcall sub_1403912C0(__int64 a1, __int64 a2)
{
  __int64 v3; // [rsp+38h] [rbp+10h] BYREF

  v3 = a2;
  if ( (_WORD)a2 == 0xFFFF )
    return 0;
  else
    return (*(__int64 (__fastcall **)(__int64, __int64, __int64 *))(*(_QWORD *)qword_149B4FBF8 + 0x70LL))(
             qword_149B4FBF8,
             a1,
             &v3);
}

// --- End Function: sub_1403912C0 (0x1403912C0) ---

// --- Function: sub_140391AB0 (0x140391AB0) ---
__int64 __fastcall sub_140391AB0(__int64 a1, unsigned __int64 allocSize)
{
  __m256i *v3; // rsi
  unsigned __int64 n0x40; // rbp
  __int64 result; // rax
  unsigned __int64 n0x40_1; // r9
  unsigned __int64 n0x4000; // rbx
  __int64 v8; // rcx
  unsigned __int64 n0x4000_1; // rcx
  unsigned __int64 n0x4000_2; // r8
  unsigned __int64 n0x40_2; // rcx
  unsigned __int64 n0x4000_3; // rax
  int v13; // eax
  unsigned __int64 v14; // rdx
  unsigned int v15; // edi
  _QWORD v16[2]; // [rsp+30h] [rbp-38h] BYREF
  _QWORD v17[4]; // [rsp+40h] [rbp-28h] BYREF
  const char *p_CigTemporaryAllocator; // [rsp+78h] [rbp+10h] BYREF

  v3 = (__m256i *)sub_1403B38D0();
  n0x40 = (allocSize >> 8) + ((_BYTE)allocSize != 0);
  if ( n0x40 < 0x4000 )
  {
    n0x40_1 = 0;
    n0x4000 = 0;
    if ( n0x40 <= 0x40 )
      goto LABEL_7;
    while ( v3[1].m256i_i64[(n0x4000 >> 6) + 1] )
    {
      n0x4000 += 0x40LL;
      if ( n0x4000 >= 0x4000 )
        goto LABEL_2;
    }
LABEL_7:
    while ( n0x40_1 != n0x40 )
    {
      v8 = v3[1].m256i_i64[(n0x4000 >> 6) + 1];
      if ( _bittest64(&v8, n0x4000 & 0x3F) )
        n0x40_1 = 0xFFFFFFFFFFFFFFFFuLL;
      ++n0x4000;
      ++n0x40_1;
      if ( n0x4000 >= 0x4000 )
      {
        if ( n0x40_1 != n0x40 )
          goto LABEL_2;
        break;
      }
    }
    n0x4000_1 = n0x4000;
    n0x4000_2 = n0x4000 - n0x40_1;
    if ( n0x4000 >= ((n0x4000 - n0x40_1) & 0xFFFFFFFFFFFFFFC0uLL) + 0x40 )
      n0x4000_1 = (n0x4000_2 & 0xFFFFFFFFFFFFFFC0uLL) + 0x40;
    n0x40_2 = n0x4000_1 - n0x4000_2;
    if ( (n0x4000_2 & 0x3F) != 0 || n0x40_2 < 0x40 )
    {
      v3[1].m256i_i64[(n0x4000_2 >> 6) + 1] |= ((1LL << n0x40_2) - 1) << ((n0x4000 - n0x40_1) & 0x3F);
      n0x4000_2 = ((n0x4000 - n0x40_1) & 0xFFFFFFFFFFFFFFC0uLL) + 0x40;
    }
    for ( ;
          n0x4000_2 + 0x40 <= (n0x4000 & 0xFFFFFFFFFFFFFFC0uLL);
          v3[1].m256i_i64[(n0x4000_3 >> 6) + 1] = 0xFFFFFFFFFFFFFFFFuLL )
    {
      n0x4000_3 = n0x4000_2;
      n0x4000_2 += 0x40LL;
    }
    if ( n0x4000_2 < n0x4000 )
      v3[1].m256i_i64[(n0x4000_2 >> 6) + 1] |= (1LL << ((__int64)n0x4000 % 0x40)) - 1;
    if ( !v3->m256i_i64[0] )
    {
      v16[0] = 0x200000;
      v17[0] = v16;
      v16[1] = 0;
      v17[1] = v17;
      v13 = sub_14056DB80((__int64)v17);
      p_CigTemporaryAllocator = "CigTemporaryAllocator";
      *v3 = *(__m256i *)sub_14056DBC0((__int64)v17, 0x400000, v13, &p_CigTemporaryAllocator, 0, 0);
    }
    v14 = v3[1].m256i_u32[0];
    if ( n0x4000 << 8 > v14 )
    {
      v15 = -v3->m256i_i32[5] & (((_DWORD)n0x4000 << 8) - v14 + v3->m256i_i32[5] - 1);
      __asm { vzeroupper }
      sub_14056DA40((__int64)v3, v3->m256i_i64[0] + v14, v15);
      v3[1].m256i_i32[0] += v15;
    }
    result = v3->m256i_i64[0] + ((n0x4000 - n0x40) << 8);
  }
  else
  {
LABEL_2:
    result = allocWithProfilerInfo(allocSize, 0);
  }
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_140391AB0 (0x140391AB0) ---

// --- Function: sub_140391F30 (0x140391F30) ---
char __fastcall sub_140391F30(_QWORD *a1)
{
  __int64 v1; // rbx
  __int64 v2; // rax
  __int64 v3; // rax

  v1 = *a1 & 0xFFFFFFFFFFFFLL;
  v2 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)gEnv + 296LL))(gEnv, v1, 0);
  if ( !*(_WORD *)(v2 + 4) )
    return 0;
  if ( *(_WORD *)(v2 + 4) == 1 )
    return check_thread_list_contains_value(*(_QWORD *)(v1 + 8) & 0xFFFFFFFFFFFFLL);
  if ( *(_WORD *)(v2 + 4) != 2 )
  {
    if ( *(_WORD *)(v2 + 4) == 3 )
    {
      v3 = *(_QWORD *)(*(_QWORD *)(NtCurrentTeb_w() + 16) + 8LL);
      if ( v3 )
      {
        if ( *(_DWORD *)(v3 + 8) == 1 )
          return *(_QWORD *)(*(_QWORD *)(v1 + 8) & 0xFFFFFFFFFFFFLL) != 0x13374770CLL;
      }
    }
    return 0;
  }
  if ( *(_BYTE *)(NtCurrentTeb_w() + 301) || sub_140539D80() )
    return 1;
  else
    return validate_access_with_virtual_calls(*(_QWORD *)(v1 + 8) & 0xFFFFFFFFFFFFLL);
}

// --- End Function: sub_140391F30 (0x140391F30) ---

// --- Function: sub_140392020 (0x140392020) ---
char __fastcall sub_140392020(_QWORD *a1)
{
  _QWORD *payload_ptr_state1; // rbx
  __int64 v2; // rax
  __int64 v3; // rax

  payload_ptr_state1 = (_QWORD *)(*a1 & 0xFFFFFFFFFFFFLL);
  if ( (*a1 & 0xF000000000000000uLL) != 0 )
    v2 = *a1 & 0xFFFFFF000000LL;
  else
    v2 = (__int64)payload_ptr_state1 - 6;
  if ( !*(_WORD *)(v2 + 4) )
    return 0;
  if ( *(_WORD *)(v2 + 4) == 1 )
    return check_thread_list_contains_value((__int64)payload_ptr_state1);
  if ( *(_WORD *)(v2 + 4) != 2 )
  {
    if ( (unsigned int)*(unsigned __int16 *)(v2 + 4) - 3 <= 1 )
    {
      v3 = *(_QWORD *)(*(_QWORD *)(NtCurrentTeb_w() + 16) + 8LL);
      if ( v3 )
      {
        if ( *(_DWORD *)(v3 + 8) == 1 )
          return *payload_ptr_state1 != 0x13374770CLL;
      }
    }
    return 0;
  }
  if ( *(_BYTE *)(NtCurrentTeb_w() + 301) || sub_140539D80() )
    return 1;
  else
    return validate_access_with_virtual_calls((__int64)payload_ptr_state1);
}

// --- End Function: sub_140392020 (0x140392020) ---

// --- Function: sub_1403A3120 (0x1403A3120) ---
void __fastcall sub_1403A3120(__int64 a1, const void *a2, unsigned __int64 a3)
{
  __int64 v5; // rax
  unsigned __int64 v6; // rcx
  unsigned __int64 v7; // rbx
  unsigned __int64 v8; // r10
  unsigned __int64 v9; // rcx
  unsigned __int64 n0x40; // rcx
  unsigned __int64 v11; // rcx

  v5 = sub_1403B38D0();
  v6 = *(_QWORD *)v5;
  if ( *(_QWORD *)v5 && (unsigned __int64)a2 >= v6 && (unsigned __int64)a2 < v6 + *(unsigned int *)(v5 + 0x20) )
  {
    v7 = ((unsigned __int64)a2 - v6) >> 8;
    v8 = (a3 >> 8) + v7 + ((_BYTE)a3 != 0);
    v9 = v8;
    if ( v8 >= (v7 & 0xFFFFFFFFFFFFFFC0uLL) + 0x40 )
      v9 = (v7 & 0xFFFFFFFFFFFFFFC0uLL) + 0x40;
    n0x40 = v9 - v7;
    if ( (v7 & 0x3F) != 0 || n0x40 < 0x40 )
    {
      *(_QWORD *)(v5 + 8 * (v7 >> 6) + 0x28) &= ~(((1LL << n0x40) - 1) << (v7 & 0x3F));
      v7 = (v7 & 0xFFFFFFFFFFFFFFC0uLL) + 0x40;
    }
    for ( ; v7 + 0x40 <= (v8 & 0xFFFFFFFFFFFFFFC0uLL); *(_QWORD *)(v5 + 8 * (v11 >> 6) + 0x28) = 0 )
    {
      v11 = v7;
      v7 += 0x40LL;
    }
    if ( v7 < v8 )
      *(_QWORD *)(v5 + 8 * (v7 >> 6) + 0x28) &= ~((1LL << ((__int64)v8 % 0x40)) - 1);
  }
  else
  {
    sub_147605980(a2);
  }
}

// --- End Function: sub_1403A3120 (0x1403A3120) ---

// --- Function: sub_1403A3F60 (0x1403A3F60) ---
char __fastcall sub_1403A3F60(__int64 a1, int *a2)
{
  unsigned int v4; // r14d
  __int64 v5; // r8
  __int64 v6; // rbx
  unsigned int v7; // esi
  __int64 n4; // rsi
  unsigned __int64 n4_1; // rsi
  unsigned __int64 v11; // rbp
  __int64 v12; // rdx
  __int64 v13; // r8
  unsigned __int64 j; // rcx
  unsigned __int64 i; // rbp
  __int64 v16; // rdx
  __int64 v17; // r8
  __int64 v18; // rcx
  int v19; // [rsp+58h] [rbp+10h] BYREF
  __int64 v20; // [rsp+60h] [rbp+18h] BYREF
  __int64 v21; // [rsp+68h] [rbp+20h] BYREF

  v4 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBF8 + 0x108LL))(qword_149B4FBF8);
  v5 = *(_QWORD *)qword_149B4FBF8;
  v19 = *a2;
  v6 = (*(__int64 (__fastcall **)(__int64, int *))(v5 + 0x130))(qword_149B4FBF8, &v19);
  v7 = 0;
  while ( !(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBF8 + 0x100LL))(
             qword_149B4FBF8,
             a1 + 8LL * v7)
       && !(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBF8 + 0x100LL))(
             qword_149B4FBF8,
             a1 + 8LL * v7 + 4) )
  {
    if ( ++v7 >= 4 )
    {
      n4 = 4;
      if ( *(_WORD *)(a1 + 0x28) <= 4u )
        return 0;
      while ( !(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBF8 + 0x100LL))(
                 qword_149B4FBF8,
                 *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4)
           && !(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBF8 + 0x100LL))(
                 qword_149B4FBF8,
                 *(_QWORD *)(a1 + 0x20) - 0x1CLL + 8 * n4) )
      {
        if ( ++n4 >= (unsigned __int64)*(unsigned __int16 *)(a1 + 0x28) )
          return 0;
      }
      break;
    }
  }
  for ( n4_1 = 0; n4_1 < *(unsigned __int16 *)(a1 + 0x28); ++n4_1 )
  {
    v11 = 0;
LABEL_12:
    if ( n4_1 >= 4 )
      v12 = *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4_1;
    else
      v12 = a1 + 8 * n4_1;
    if ( v11 >= (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBF8 + 0x100LL))(
                  qword_149B4FBF8,
                  v12) )
    {
      for ( i = 0; ; ++i )
      {
        if ( n4_1 >= 4 )
          v16 = *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4_1;
        else
          v16 = a1 + 8 * n4_1;
        if ( i >= (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBF8 + 0x100LL))(
                    qword_149B4FBF8,
                    v16 + 4) )
          return 1;
        v17 = n4_1 >= 4 ? *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4_1 : a1 + 8 * n4_1;
        (*(void (__fastcall **)(__int64, __int64 *, __int64, _QWORD))(*(_QWORD *)qword_149B4FBF8 + 0x128LL))(
          qword_149B4FBF8,
          &v21,
          v17 + 4,
          (unsigned int)i);
        v18 = 0;
        if ( v4 )
          break;
LABEL_35:
        ;
      }
      while ( *(_WORD *)(v6 + 2 * v18) != (_WORD)v21 )
      {
        if ( ++v18 >= (unsigned __int64)v4 )
          goto LABEL_35;
      }
    }
    else
    {
      if ( n4_1 >= 4 )
        v13 = *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4_1;
      else
        v13 = a1 + 8 * n4_1;
      (*(void (__fastcall **)(__int64, __int64 *, __int64, _QWORD))(*(_QWORD *)qword_149B4FBF8 + 0x128LL))(
        qword_149B4FBF8,
        &v20,
        v13,
        (unsigned int)v11);
      for ( j = 0; j < v4; ++j )
      {
        if ( *(_WORD *)(v6 + 2 * j) == (_WORD)v20 )
        {
          ++v11;
          goto LABEL_12;
        }
      }
    }
  }
  return 0;
}

// --- End Function: sub_1403A3F60 (0x1403A3F60) ---

// --- Function: sub_1403A9130 (0x1403A9130) ---
char **sub_1403A9130(char **a1, const char *Format_1, ...)
{
  _QWORD *v4; // rdi
  int BufferCount_2; // eax
  int BufferCount_1; // ecx
  size_t BufferCount; // rbx
  va_list va; // [rsp+70h] [rbp+18h] BYREF

  va_start(va, Format_1);
  v4 = sub_1402A4380();
  BufferCount_2 = _stdio_common_vsprintf(*v4 | 2LL, 0, 0, Format_1, 0, va);
  if ( BufferCount_2 < 0 )
    BufferCount_2 = -1;
  BufferCount_1 = 0;
  if ( BufferCount_2 >= 0 )
    BufferCount_1 = BufferCount_2;
  BufferCount = BufferCount_1;
  sub_1403E9810(a1, BufferCount_1, 32);
  _stdio_common_vsprintf(*v4 | 1LL, *a1, BufferCount, Format_1, 0, va);
  return a1;
}

// --- End Function: sub_1403A9130 (0x1403A9130) ---

// --- Function: sub_1403B4B50 (0x1403B4B50) ---
__int64 __fastcall sub_1403B4B50(__int64 a1)
{
  return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)gEnv + 296LL))(gEnv, a1, 0);
}

// --- End Function: sub_1403B4B50 (0x1403B4B50) ---

// --- Function: sub_1403B6340 (0x1403B6340) ---
__int64 __fastcall sub_1403B6340(__int64 a1)
{
  return *(unsigned int *)(a1 + 192);
}

// --- End Function: sub_1403B6340 (0x1403B6340) ---

// --- Function: sub_1403B7240 (0x1403B7240) ---
__int64 __fastcall sub_1403B7240(__int64 a1, __int64 a2, unsigned int a3)
{
  (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBF8 + 0x128LL))(
    qword_149B4FBF8,
    a2,
    a1,
    a3);
  return a2;
}

// --- End Function: sub_1403B7240 (0x1403B7240) ---

// --- Function: sub_1403B7280 (0x1403B7280) ---
__int64 __fastcall sub_1403B7280(__int64 a1)
{
  return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBF8 + 0x100LL))(qword_149B4FBF8, a1);
}

// --- End Function: sub_1403B7280 (0x1403B7280) ---

// --- Function: sub_1403BA100 (0x1403BA100) ---
unsigned __int64 __fastcall sub_1403BA100(__int64 a1, unsigned __int64 a2, _QWORD *a3)
{
  unsigned __int64 v3; // rsi
  __int64 v8; // rbx
  int v9; // r14d
  signed __int32 v10; // eax
  unsigned __int64 v11; // r8
  unsigned __int64 v12; // rdx
  __int64 v13; // r14
  unsigned __int64 v14; // rdi
  int v15; // eax

  v3 = *(_QWORD *)(a1 + 0x20);
  if ( v3 >= a2 )
    return 0;
  v8 = a1 + 0x38;
  v9 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(v8 + 0x10) == v9 )
  {
    ++*(_DWORD *)(v8 + 0x14);
  }
  else
  {
    v10 = _InterlockedCompareExchange((volatile signed __int32 *)v8, 1, 0);
    if ( v10 )
      sub_1403C3680(v8, v10, "CIGThreadSafeContainer::GrowTo");
    else
      *(_QWORD *)(v8 + 8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    *(_DWORD *)(v8 + 0x10) = v9;
  }
  v11 = *(_QWORD *)(a1 + 0x28);
  if ( a2 > v11 )
  {
    v12 = (a2 - v11) % *(_QWORD *)(a1 + 0x30);
    v13 = *(_QWORD *)(a1 + 0x30) + a2 - v11 - v12;
    if ( *(_QWORD *)(a1 + 0x30) + a2 - v12 > *(_QWORD *)(a1 + 8) )
      LogFatalError("Not enough storage reserved for thread safe container");
    sub_14056DA40(a1, *(_QWORD *)a1 + *(_QWORD *)(a1 + 0x28), v13);
    *(_QWORD *)(a1 + 0x28) += v13;
  }
  do
  {
    if ( v3 == _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x20), a2, v3) )
      break;
    v3 = *(_QWORD *)(a1 + 0x20);
  }
  while ( a2 > v3 );
  if ( a2 >= v3 )
  {
    *a3 = a2 - v3;
    v14 = v3 + *(_QWORD *)a1;
  }
  else
  {
    v14 = 0;
  }
  v15 = *(_DWORD *)(v8 + 0x14);
  if ( v15 )
  {
    *(_DWORD *)(v8 + 0x14) = v15 - 1;
  }
  else
  {
    *(_DWORD *)(v8 + 0x10) = 0xFFFFFFFF;
    sub_1402DB100(v8);
  }
  return v14;
}

// --- End Function: sub_1403BA100 (0x1403BA100) ---

// --- Function: get_event_key_from_source_location (0x1403BB9D0) ---
// Retrieves an event key (DWORD ID) based on input parameters, likely source file
// path and line number. Dynamically resolves the address of the `__GetEventKey__`
// function using GetProcAddress/LoadLibraryA on the first call and caches the
// result. Calls the resolved function with `a2` (source path?) and `a3` (line
// number?) and stores the returned key in `*a1`.
__int64 __fastcall get_event_key_from_source_location(_DWORD *a1, __int64 a2, __int64 a3)
{
  FARPROC ProcAddress; // rbx
  HMODULE hModule; // rax
  HMODULE hModule_1; // rax
  __int64 result; // rax

  ProcAddress = (FARPROC)qword_149B3D530;
  if ( !qword_149B3D530 )
  {
    hModule = GetModuleHandleA(0);
    ProcAddress = GetProcAddress(hModule, "__GetEventKey__");
    if ( !ProcAddress )
    {
      hModule_1 = LoadLibraryA(0);
      if ( hModule_1 )
        ProcAddress = GetProcAddress(hModule_1, "__GetEventKey__");
    }
    qword_149B3D530 = (__int64)ProcAddress;
  }
  result = ((__int64 (__fastcall *)(__int64, __int64))ProcAddress)(a2, a3);
  *a1 = result;
  return result;
}

// --- End Function: get_event_key_from_source_location (0x1403BB9D0) ---

// --- Function: sub_1403BFA30 (0x1403BFA30) ---
bool __fastcall sub_1403BFA30(_QWORD *a1)
{
  return *(_DWORD *)(*a1 - 8LL) == 0;
}

// --- End Function: sub_1403BFA30 (0x1403BFA30) ---

// --- Function: sub_1403C33A0 (0x1403C33A0) ---
__int64 __fastcall sub_1403C33A0(__int64 a1, unsigned __int32 a2, const char *a3, char a4)
{
  if ( a4 && *(_BYTE *)(NtCurrentTeb_w() + 28) && qword_149B4FDB8 )
    return sub_1403C3410(a1, a2, a3);
  else
    return sub_1403C3680(a1, a2, a3);
}

// --- End Function: sub_1403C33A0 (0x1403C33A0) ---

// --- Function: sub_1403CB300 (0x1403CB300) ---
double __fastcall sub_1403CB300(__int64 a1, signed __int64 a2, const char *a3, const char *a4, char a5)
{
  if ( a5 && *(_BYTE *)(NtCurrentTeb_w() + 28) && qword_149B4FDB8 )
    return sub_1403CB380(a1, a2, a3, a4);
  else
    return sub_1403CB5B0(a1, a2, a3, a4);
}

// --- End Function: sub_1403CB300 (0x1403CB300) ---

// --- Function: sub_1403DB1F0 (0x1403DB1F0) ---
const ULONG_PTR *__fastcall sub_1403DB1F0(__int64 a1, unsigned __int32 a2)
{
  signed __int32 v4; // ebx
  int v5; // edx
  signed __int32 v6; // eax
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source; // rax
  int v8; // [rsp+50h] [rbp+8h] BYREF
  int v9; // [rsp+58h] [rbp+10h] BYREF
  __int64 v10; // [rsp+60h] [rbp+18h] BYREF
  __int64 v11; // [rsp+68h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFE;
    if ( (a2 & 0xFFFE) == 0 && (a2 & 0xFFFF0000) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149B4FCF8 + 248LL))(
        qword_149B4FCF8,
        &v10,
        &v9);
      v4 = (unsigned __int16)v4;
      v5 = *(_DWORD *)(((((unsigned __int64)a2 >> 16) & (unsigned int)(v9 - 1)) << 9) + v10 + 292);
      if ( v5 != -1 )
        v4 = (v5 << 16) | (unsigned __int16)v4;
    }
    v6 = _InterlockedCompareExchange((volatile signed __int32 *)a1, v4, a2);
    if ( a2 == v6 )
      break;
    a2 = v6;
  }
  if ( (a2 & 0xFFFE) != 0 )
  {
    qword_149B3B488(a1);
  }
  else if ( (a2 & 0xFFFF0000) != 0 )
  {
    (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149B4FCF8 + 248LL))(qword_149B4FCF8, &v11, &v8);
    *(_DWORD *)(((HIWORD(a2) & (unsigned __int64)(unsigned int)(v8 - 1)) << 9) + v11 + 284) = (unsigned __int16)(HIWORD(a2) + v8);
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FCF8 + 216LL))(qword_149B4FCF8);
  }
  p_p_p_p_p_p_p_p_p_p_p_p_Source = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_QWORD *)(a1 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  return p_p_p_p_p_p_p_p_p_p_p_p_Source;
}

// --- End Function: sub_1403DB1F0 (0x1403DB1F0) ---

// --- Function: sub_1403DCD60 (0x1403DCD60) ---
signed __int64 __fastcall sub_1403DCD60(
        __int64 a1,
        unsigned __int64 a2,
        __int64 a3,
        const char *a4,
        const char *a5,
        char a6)
{
  if ( a6 && *(_BYTE *)(NtCurrentTeb_w() + 0x1C) && qword_149B4FDB8 )
    return sub_1403DCDF0(a1, a2, a3, a4, a5);
  else
    return sub_1403DD0B0(a1, a2, a3, a4, a5);
}

// --- End Function: sub_1403DCD60 (0x1403DCD60) ---

// --- Function: sub_1403DD380 (0x1403DD380) ---
const ULONG_PTR *__fastcall sub_1403DD380(__int64 a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdi
  unsigned int v5; // edx
  signed __int64 v6; // rax
  __int64 v7; // rdi
  __int64 v8; // r8
  int v9; // ecx
  __int64 v10; // r8
  unsigned __int64 v11; // rbx
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source; // rax
  int v13; // [rsp+70h] [rbp+8h] BYREF
  int v14; // [rsp+78h] [rbp+10h] BYREF
  __int64 v15; // [rsp+80h] [rbp+18h] BYREF
  __int64 v16; // [rsp+88h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFFFFD003FFuLL;
    if ( (a2 & 0xFFFF00100000LL) != 0 )
    {
      v4 = a2 & 0xFFFF0000FFC003FFuLL;
    }
    else if ( (a2 & 0xFFC003FF) == 0 && (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149B4FCF8 + 0xF8LL))(
        qword_149B4FCF8,
        &v16,
        &v14);
      v4 = a2 & 0xFFFFFFD003FFLL;
      v5 = *(_DWORD *)(((HIWORD(a2) & (unsigned int)(v14 - 1)) << 9) + v16 + 0x124);
      if ( v5 != 0xFFFFFFFF )
        v4 |= (unsigned __int64)v5 << 0x30;
    }
    v6 = _InterlockedCompareExchange64((volatile signed __int64 *)a1, v4, a2);
    if ( a2 == v6 )
      break;
    a2 = v6;
  }
  if ( (a2 & 0x3FF) != 0 )
  {
    if ( (a2 & 0x100000) != 0 )
      qword_149B3B490(a1);
    if ( (a2 & 0xFFFF00000000LL) != 0 )
    {
      v7 = qword_149B4FCF8;
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149B4FCF8 + 0xF8LL))(
        qword_149B4FCF8,
        &v15,
        &v13);
      v8 = v15 + ((WORD2(a2) & (unsigned __int64)(unsigned int)(v13 - 1)) << 9);
      LODWORD(a2) = *(_DWORD *)(v8 + 0x124);
      *(_DWORD *)(v8 + 0x11C) = (unsigned __int16)(WORD2(a2) + v13);
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v7 + 0xD8LL))(v7);
      while ( (_DWORD)a2 != 0xFFFFFFFF )
      {
        v9 = (unsigned __int16)(a2 + v13);
        v10 = v15 + ((unsigned __int64)((unsigned int)a2 & (v13 - 1)) << 9);
        LODWORD(a2) = *(_DWORD *)(v10 + 0x124);
        *(_DWORD *)(v10 + 0x11C) = v9;
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v7 + 0xD8LL))(v7);
      }
    }
  }
  else if ( (a2 & 0xFFC00000) != 0 )
  {
    qword_149B3B488(a1);
  }
  else if ( (a2 & 0xFFFF000000000000uLL) != 0 )
  {
    (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149B4FCF8 + 0xF8LL))(
      qword_149B4FCF8,
      &v15,
      &v13);
    v11 = HIWORD(a2);
    *(_DWORD *)(((unsigned __int64)((unsigned int)v11 & (v13 - 1)) << 9) + v15 + 0x11C) = (unsigned __int16)(v11 + v13);
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FCF8 + 0xD8LL))(qword_149B4FCF8, (unsigned int)v11);
  }
  p_p_p_p_p_p_p_p_p_p_p_p_Source = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_QWORD *)(a1 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  return p_p_p_p_p_p_p_p_p_p_p_p_Source;
}

// --- End Function: sub_1403DD380 (0x1403DD380) ---

// --- Function: sub_1403E0B50 (0x1403E0B50) ---
void __noreturn sub_1403E0B50()
{
  stdext::exception *v0; // rax
  __int128 v1; // [rsp+20h] [rbp-18h] BYREF

  v1 = 0;
  v0 = (stdext::exception *)sub_1403703D0(&v1);
  stdext::exception::_Raise(v0);
}

// --- End Function: sub_1403E0B50 (0x1403E0B50) ---

// --- Function: sub_1403E2C90 (0x1403E2C90) ---
__int64 __fastcall sub_1403E2C90(unsigned __int8 *a1)
{
  __int64 v1; // r8

  v1 = 0xFFFFFFFFFFFFFFFFuLL;
  do
    ++v1;
  while ( a1[v1] );
  return (unsigned int)~psub_1403361A0(0xFFFFFFFF, a1, v1);
}

// --- End Function: sub_1403E2C90 (0x1403E2C90) ---

// --- Function: sub_1403E47B0 (0x1403E47B0) ---
__int64 __fastcall sub_1403E47B0(unsigned __int8 **a1, __int64 a2)
{
  unsigned __int8 *v2; // rax
  __int64 v3; // rdx
  unsigned __int8 v4; // cl

  v2 = *a1;
  v3 = a2 - (_QWORD)*a1;
  while ( 1 )
  {
    v4 = *v2;
    if ( *v2 != v2[v3] )
      break;
    ++v2;
    if ( !v4 )
      return 0;
  }
  return v4 < v2[v3] ? 0xFFFFFFFF : 1;
}

// --- End Function: sub_1403E47B0 (0x1403E47B0) ---

// --- Function: sub_1403E6750 (0x1403E6750) ---
unsigned __int64 __fastcall sub_1403E6750(unsigned __int64 *a1)
{
  if ( sub_14030EC00(a1) )
    return *a1 & 0xFFFFFFFFFFFFLL;
  else
    return 0;
}

// --- End Function: sub_1403E6750 (0x1403E6750) ---

// --- Function: sub_1403E75D0 (0x1403E75D0) ---
char __fastcall sub_1403E75D0(__int64 a1)
{
  return *(_BYTE *)(a1 + 8) & 1;
}

// --- End Function: sub_1403E75D0 (0x1403E75D0) ---

// --- Function: sub_140418C10 (0x140418C10) ---
bool __fastcall sub_140418C10(__int64 a1)
{
  return (*(_DWORD *)(a1 + 8) & 0x10) != 0;
}

// --- End Function: sub_140418C10 (0x140418C10) ---

// --- Function: sub_1404B6AF0 (0x1404B6AF0) ---
double *__fastcall sub_1404B6AF0(double *a1, double *a2)
{
  double v2; // xmm4_8
  __int64 v3; // xmm1_8
  double *result; // rax
  double v5; // xmm12_8
  double v6; // xmm10_8
  double v7; // xmm8_8
  double v8; // xmm15_8
  double v9; // xmm11_8
  double v10; // xmm9_8
  double v11; // xmm7_8
  double v12; // xmm6_8
  double v13; // xmm4_8

  v2 = a1[3];
  v3 = *(_QWORD *)a1;
  result = a2;
  v5 = a1[6];
  v6 = a1[5];
  v7 = a1[4];
  v8 = 1.0 / a1[7];
  *(_QWORD *)&v9 = *((_QWORD *)a1 + 1) ^ 0x8000000000000000uLL;
  *(_QWORD *)&v10 = *((_QWORD *)a1 + 2) ^ 0x8000000000000000uLL;
  a2[3] = v2;
  v11 = v9 * v5 - v10 * v6 + v2 * v7;
  v12 = v10 * v7 - v5 * COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) + v2 * v6;
  v13 = v6 * COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) - v9 * v7 + v2 * v5;
  a2[7] = v8;
  *a2 = COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL);
  a2[1] = v9;
  a2[2] = v10;
  a2[4] = (v7 + v9 * v13 - v10 * v12 + v9 * v13 - v10 * v12) * COERCE_DOUBLE(*(_QWORD *)&v8 ^ 0x8000000000000000uLL);
  a2[5] = (v6
         + v10 * v11
         - COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) * v13
         + v10 * v11
         - COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) * v13)
        * COERCE_DOUBLE(*(_QWORD *)&v8 ^ 0x8000000000000000uLL);
  a2[6] = (v5
         + COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) * v12
         - v9 * v11
         + COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) * v12
         - v9 * v11)
        * COERCE_DOUBLE(*(_QWORD *)&v8 ^ 0x8000000000000000uLL);
  return result;
}

// --- End Function: sub_1404B6AF0 (0x1404B6AF0) ---

// --- Function: getThreadLogContextSlot (0x1404BDCA0) ---
// Retrieves a pointer to the current thread's logging context slot from Thread
// Local Storage (TLS). The specific slot is determined by an index stored within
// the TLS data block.
__int64 *getThreadLogContextSlot()
{
  unsigned __int64 *v0; // rax
  unsigned __int64 *v1; // rcx
  unsigned __int64 n15; // rax

  v0 = sub_1404B3EA0();
  v1 = v0;
  if ( !v0 )
    return &dword_149B45F40;
  n15 = *v0;
  if ( n15 > 0xF )
    n15 = 15;
  return (__int64 *)&v1[22 * n15 + 1];
}

// --- End Function: getThreadLogContextSlot (0x1404BDCA0) ---

// --- Function: sub_140522CD0 (0x140522CD0) ---
__int64 __fastcall sub_140522CD0(__int64 a1)
{
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FC00 + 0x220LL))(qword_149B4FC00, a1);
  return 0;
}

// --- End Function: sub_140522CD0 (0x140522CD0) ---

// --- Function: sub_140522CF0 (0x140522CF0) ---
__int64 __fastcall sub_140522CF0(__int64 a1)
{
  return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FC00 + 0x228LL))(qword_149B4FC00, a1);
}

// --- End Function: sub_140522CF0 (0x140522CF0) ---

// --- Function: sub_140539D80 (0x140539D80) ---
bool sub_140539D80()
{
  __int64 v0; // rcx

  v0 = *(_QWORD *)(NtCurrentTeb_w() + 16);
  if ( v0 )
    return *(_BYTE *)(v0 + 66) != 0;
  else
    return *(_BYTE *)(NtCurrentTeb_w() + 302) != 0;
}

// --- End Function: sub_140539D80 (0x140539D80) ---

// --- Function: LogFatalError (0x1405C0CD0) ---
// Formats a string using printf-style arguments and logs it as a fatal error.
// Checks if the fatal error system is initialized. If not properly initialized
// (missing `Parameter_3` or `qword_14981D3D8`), it triggers a debug break.
// Otherwise, it formats the message into a buffer and calls an external logging
// function via a function pointer derived from the global `Parameter_3`.  @param
// Format A printf-style format string. @param ... Variadic arguments for the
// format string. @return Returns the result of the external logging function call,
// though typically execution may halt.
_BYTE *LogFatalError(const char *Format, ...)
{
  __int64 (*v1)(void); // rax
  FARPROC v2; // rax
  _BYTE *result; // rax
  _QWORD *v4; // rax
  int n0x1000; // eax
  char Buffer[4096]; // [rsp+30h] [rbp-1018h] BYREF
  va_list va; // [rsp+1058h] [rbp+10h] BYREF

  va_start(va, Format);
  v1 = (__int64 (*)(void))qword_149B4FB98;
  if ( !qword_149B4FB98 )
  {
    v2 = sub_14039B170(0, "__InitFatalFunctions__", 0);
    ((void (__fastcall *)(__int64 *))v2)(&qword_149B4FB98);
    v1 = (__int64 (*)(void))qword_149B4FB98;
  }
  result = (_BYTE *)v1();
  if ( !*result )
  {
    if ( !qword_149B4FDB8 || !qword_149B4FCA0 )
    {
      __debugbreak();
      while ( 1 )
        ;
    }
    v4 = sub_1402A4380();
    n0x1000 = _stdio_common_vsprintf(*v4 | 2LL, Buffer, 0x1000u, Format, 0, va);
    if ( n0x1000 < 0 )
      n0x1000 = -1;
    if ( (unsigned int)n0x1000 >= 0x1000 )
      Buffer[4095] = 0;
    return (_BYTE *)(*(__int64 (__fastcall **)(__int64, const wchar_t *, char *))(*(_QWORD *)qword_149B4FCA0 + 280LL))(
                      qword_149B4FCA0,
                      &Format_,
                      Buffer);
  }
  return result;
}

// --- End Function: LogFatalError (0x1405C0CD0) ---

// --- Function: sub_1405C0E00 (0x1405C0E00) ---
__int64 sub_1405C0E00(unsigned int a1, unsigned int a2, const char *a3, ...)
{
  __int64 result; // rax
  va_list va; // [rsp+68h] [rbp+20h] BYREF

  va_start(va, a3);
  if ( qword_149B4FDB8 && qword_149B4FCA0 )
  {
    if ( a3 )
      return (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD, _QWORD, _QWORD, const char *, __int64 *))(*(_QWORD *)qword_149B4FCA0 + 0x158LL))(
               qword_149B4FCA0,
               a1,
               a2,
               0,
               0,
               a3,
               (__int64 *)va);
  }
  return result;
}

// --- End Function: sub_1405C0E00 (0x1405C0E00) ---

// --- Function: sub_140716530 (0x140716530) ---
_QWORD *__fastcall sub_140716530(__int64 a1, _QWORD *a2)
{
  *a2 = *(_QWORD *)(a1 + 0x18);
  return a2;
}

// --- End Function: sub_140716530 (0x140716530) ---

// --- Function: sub_140717810 (0x140717810) ---
__int64 __fastcall sub_140717810(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x290);
}

// --- End Function: sub_140717810 (0x140717810) ---

// --- Function: sub_140717820 (0x140717820) ---
__int64 __fastcall sub_140717820(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x298);
}

// --- End Function: sub_140717820 (0x140717820) ---

// --- Function: sub_140745F90 (0x140745F90) ---
_UNKNOWN **__fastcall sub_140745F90(float *a1)
{
  _UNKNOWN **result; // rax
  float v2; // xmm6_4
  __m128 v3; // xmm7
  __m128 v4; // kr00_16
  float v7; // xmm1_4
  float v8; // xmm12_4
  float v9; // xmm13_4
  __m128 v10; // kr00_16
  __m128 v11; // xmm2
  __m128 v12; // xmm11
  __m128 v13; // kr00_16
  float v14; // xmm6_4
  __m128 v15; // kr00_16
  float v16; // xmm5_4
  float v19; // xmm10_4
  float v20; // xmm9_4
  float v21; // xmm8_4
  __m128 v22; // kr00_16
  float v23; // xmm6_4
  float v24; // xmm5_4
  _UNKNOWN *retaddr; // [rsp+98h] [rbp+0h] BYREF

  result = &retaddr;
  v2 = a1[8];
  v3 = (__m128)*((unsigned int *)a1 + 4);
  v4 = v3;
  v4.m128_f32[0] = (float)((float)((float)(v3.m128_f32[0] * v3.m128_f32[0]) + (float)(*a1 * *a1)) + (float)(v2 * v2))
                 + 1.1754944e-38;
  _XMM0 = _mm_shuffle_ps(v4, v4, 0);
  __asm { vrsqrtps xmm3, xmm0 }
  _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
  v7 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v4.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
     * _XMM3.m128_f32[0];
  v8 = v3.m128_f32[0] * v7;
  v10 = (__m128)LODWORD(v2);
  v9 = v2 * v7;
  v10.m128_f32[0] = (float)(v2 * v7) * a1[1];
  v11 = v10;
  v13 = (__m128)*(unsigned int *)a1;
  v13.m128_f32[0] = *a1 * v7;
  v12 = v13;
  v3.m128_f32[0] = (float)((float)(v3.m128_f32[0] * v7) * a1[9]) - (float)((float)(v2 * v7) * a1[5]);
  v15 = v11;
  v14 = v11.m128_f32[0] - (float)((float)(*a1 * v7) * a1[9]);
  v16 = (float)((float)(*a1 * v7) * a1[5]) - (float)(v8 * a1[1]);
  v15.m128_f32[0] = (float)((float)((float)(v14 * v14) + (float)(v3.m128_f32[0] * v3.m128_f32[0])) + (float)(v16 * v16))
                  + 1.1754944e-38;
  _XMM1 = _mm_shuffle_ps(v15, v15, 0);
  __asm { vrsqrtps xmm3, xmm1 }
  _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
  _XMM1.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM3.m128_f32[0] * v15.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                    * _XMM3.m128_f32[0];
  v19 = v16 * _XMM1.m128_f32[0];
  v20 = v14 * _XMM1.m128_f32[0];
  v21 = v3.m128_f32[0] * _XMM1.m128_f32[0];
  v3.m128_f32[0] = (float)(v9 * (float)(v14 * _XMM1.m128_f32[0])) - (float)(v8 * (float)(v16 * _XMM1.m128_f32[0]));
  v22 = v12;
  v23 = (float)(v12.m128_f32[0] * (float)(v16 * _XMM1.m128_f32[0])) - (float)(v9 * v21);
  v24 = (float)(v8 * v21) - (float)(v12.m128_f32[0] * v20);
  v22.m128_f32[0] = (float)((float)((float)(v23 * v23) + (float)(v3.m128_f32[0] * v3.m128_f32[0])) + (float)(v24 * v24))
                  + 1.1754944e-38;
  _XMM1 = _mm_shuffle_ps(v22, v22, 0);
  __asm { vrsqrtps xmm3, xmm1 }
  _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM3.m128_f32[0] * v22.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                    * _XMM3.m128_f32[0];
  a1[1] = v3.m128_f32[0] * _XMM3.m128_f32[0];
  *a1 = v12.m128_f32[0];
  a1[4] = v8;
  a1[8] = v9;
  a1[2] = v21;
  a1[6] = v20;
  a1[0xA] = v19;
  a1[9] = v24 * _XMM3.m128_f32[0];
  a1[5] = v23 * _XMM3.m128_f32[0];
  return result;
}

// --- End Function: sub_140745F90 (0x140745F90) ---

// --- Function: sub_141104860 (0x141104860) ---
__int64 __fastcall sub_141104860(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x118);
}

// --- End Function: sub_141104860 (0x141104860) ---

// --- Function: sub_1411DB5C0 (0x1411DB5C0) ---
__int64 __fastcall sub_1411DB5C0(_BYTE *a1, unsigned __int8 *a2)
{
  __int64 result; // rax

  result = *a2;
  *a1 = result;
  return result;
}

// --- End Function: sub_1411DB5C0 (0x1411DB5C0) ---

// --- Function: sub_14129F6A0 (0x14129F6A0) ---
__int64 __fastcall sub_14129F6A0(_QWORD *a1)
{
  _QWORD *v2; // rcx
  _QWORD *v3; // rcx
  __int64 result; // rax

  v2 = (_QWORD *)*a1;
  if ( v2 )
  {
    sub_1411F3840(v2, a1[1], a1);
    v3 = (_QWORD *)*a1;
    if ( ((a1[2] - *a1) & 0xFFFFFFFFFFFFFFE0uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)v3 - v3[0xFFFFFFFF] - 8 > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v3 = (_QWORD *)v3[0xFFFFFFFF];
    }
    sub_1402A3D30(v3);
    result = 0;
    *a1 = 0;
    a1[1] = 0;
    a1[2] = 0;
  }
  return result;
}

// --- End Function: sub_14129F6A0 (0x14129F6A0) ---

// --- Function: sub_1412A3B70 (0x1412A3B70) ---
float *__fastcall sub_1412A3B70(float *a1, double *a2)
{
  float v8; // xmm0_4
  double v9; // xmm5_8
  double X; // xmm3_8
  double v12; // xmm2_8
  double v15; // xmm2_8

  _XMM0 = COERCE_UNSIGNED_INT64((*a2 * a2[2] - a2[3] * a2[1]) * -2.0);
  __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
  LODWORD(_XMM0) = 0xBF800000;
  __asm
  {
    vminss  xmm2, xmm1, xmm3
    vmaxss  xmm4, xmm2, xmm0
  }
  if ( *(float *)&_XMM4 >= -1.0 )
    __asm { vminss  xmm0, xmm4, xmm3; X }
  v8 = asinf(*(float *)&_XMM0);
  a1[1] = v8;
  if ( fabs(COERCE_FLOAT(LODWORD(v8) & 0x7FFFFFFF) - 1.5707964) >= 0.0099999998 )
  {
    v12 = a2[1];
    *((_QWORD *)&_XMM0 + 1) = 0;
    *(double *)&_XMM0 = atan2(
                          *a2 * a2[3] + *a2 * a2[3] + v12 * a2[2] + v12 * a2[2],
                          1.0 - (*a2 * *a2 + *a2 * *a2 + v12 * v12 + v12 * v12));
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *a1 = *(float *)&_XMM1;
    v15 = a2[2];
    *(double *)&_XMM1 = a2[1];
    _XMM0 = COERCE_UNSIGNED_INT64(v15 * a2[3] + v15 * a2[3] + *(double *)&_XMM1 * *a2 + *(double *)&_XMM1 * *a2);
    X = 1.0 - (v15 * v15 + v15 * v15 + *(double *)&_XMM1 * *(double *)&_XMM1 + *(double *)&_XMM1 * *(double *)&_XMM1);
  }
  else
  {
    *a1 = 0.0;
    v9 = a2[2];
    X = 1.0 - (*a2 * *a2 + *a2 * *a2 + v9 * v9 + v9 * v9);
    _XMM0 = COERCE_UNSIGNED_INT64((*a2 * a2[1] - v9 * a2[3]) * -2.0);
  }
  *(double *)&_XMM0 = atan2(*(double *)&_XMM0, X);
  __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
  a1[2] = *(float *)&_XMM1;
  return a1;
}

// --- End Function: sub_1412A3B70 (0x1412A3B70) ---

// --- Function: sub_141706470 (0x141706470) ---
__int64 __fastcall sub_141706470(__int64 a1)
{
  return a1 + 0x318;
}

// --- End Function: sub_141706470 (0x141706470) ---

// --- Function: sub_141724C40 (0x141724C40) ---
__int64 __fastcall sub_141724C40(__int64 a1)
{
  return a1 + 0x328;
}

// --- End Function: sub_141724C40 (0x141724C40) ---

// --- Function: sub_141726A50 (0x141726A50) ---
__int64 __fastcall sub_141726A50(__int64 a1)
{
  return a1 + 0x2A8;
}

// --- End Function: sub_141726A50 (0x141726A50) ---

// --- Function: sub_141EEDE60 (0x141EEDE60) ---
_QWORD *__fastcall sub_141EEDE60(__int64 a1, _QWORD *a2)
{
  __int64 (__fastcall *v4)(__int64, _BYTE *, __int16 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 v7; // rax
  __int16 n4; // dx
  __int64 (__fastcall *v10)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_2; // ax
  _BYTE v12[8]; // [rsp+20h] [rbp-38h] BYREF
  _BYTE v13[48]; // [rsp+28h] [rbp-30h] BYREF
  __int16 n0xFFFF_1; // [rsp+60h] [rbp+8h] BYREF
  __int64 v15; // [rsp+68h] [rbp+10h] BYREF
  char v16; // [rsp+70h] [rbp+18h] BYREF
  char v17; // [rsp+78h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int16 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v16,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v12, &n0xFFFF_1);
  v15 = v6;
  if ( v6
    && (v7 = sub_1403B4B50(v6 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v7 + 4), n4 != 4)
    && *(_WORD *)(v7 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v15)) )
  {
    *a2 = v6;
    return a2;
  }
  else
  {
    v10 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
    n0xFFFF_2 = n0xFFFF_25;
    if ( n0xFFFF_25 == (__int16)0xFFFF )
    {
      n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                     + 0x10LL))(
                              qword_149B4FC88,
                              &v17,
                              "PhysicalProxy");
      n0xFFFF_25 = n0xFFFF_2;
    }
    LOWORD(v15) = n0xFFFF_2;
    *a2 = *(_QWORD *)v10(a1, v13, &v15);
    return a2;
  }
}

// --- End Function: sub_141EEDE60 (0x141EEDE60) ---

// --- Function: sub_141EEF430 (0x141EEF430) ---
__int64 sub_141EEF430(char *Buffer, _QWORD *a2, _DWORD *a3, const char *Format, ...)
{
  _QWORD *v8; // rax
  int v9; // eax
  __int64 result; // rax
  va_list va; // [rsp+80h] [rbp+28h] BYREF

  va_start(va, Format);
  v8 = sub_1402A4380();
  v9 = _stdio_common_vsprintf(*v8 | 2LL, Buffer, 0xF8u, Format, 0, va);
  *a2 = Buffer;
  if ( v9 < 0 )
    v9 = 0xFFFFFFFF;
  result = (v9 + 8) & 0xFFFFFFF8;
  *a3 = result;
  return result;
}

// --- End Function: sub_141EEF430 (0x141EEF430) ---

// --- Function: sub_141EF04A0 (0x141EF04A0) ---
__int64 __fastcall sub_141EF04A0(__int64 a1)
{
  __int64 result; // rax

  *(_WORD *)(a1 + 4) = 0x100;
  *(_DWORD *)a1 = 0;
  *(_QWORD *)(a1 + 0x30) = 0x1000007FFLL;
  result = a1;
  *(_DWORD *)(a1 + 8) = 0xFFFFFFFF;
  *(_BYTE *)(a1 + 0xC) = 0;
  *(_BYTE *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_QWORD *)(a1 + 0x28) = 0;
  *(_QWORD *)(a1 + 0x38) = 0x81;
  *(_QWORD *)(a1 + 0x40) = 0;
  *(_QWORD *)(a1 + 0x48) = 0;
  *(_QWORD *)(a1 + 0x50) = 0;
  *(_BYTE *)(a1 + 0x58) = 0;
  *(_QWORD *)(a1 + 0x60) = 0;
  *(_QWORD *)(a1 + 0x68) = 0;
  *(_QWORD *)(a1 + 0x70) = 0;
  *(_BYTE *)(a1 + 0x78) = 0;
  *(_DWORD *)(a1 + 0x7C) = 0;
  *(_WORD *)(a1 + 0x80) = 1;
  *(_QWORD *)(a1 + 0x88) = 0;
  *(_QWORD *)(a1 + 0x90) = 0;
  *(_QWORD *)(a1 + 0x98) = 0;
  *(_QWORD *)(a1 + 0xA0) = 0;
  *(_QWORD *)(a1 + 0xA8) = 0;
  *(_DWORD *)(a1 + 0xB0) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0xB8) = 0;
  *(_QWORD *)(a1 + 0xC0) = 0;
  *(_QWORD *)(a1 + 0xC8) = 0;
  *(_QWORD *)(a1 + 0xD0) = 0;
  *(_DWORD *)(a1 + 0xD8) = 0;
  *(_DWORD *)(a1 + 0x14) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x10) = 0xFFBFFFFF;
  return result;
}

// --- End Function: sub_141EF04A0 (0x141EF04A0) ---

// --- Function: sub_142306700 (0x142306700) ---
__int64 __fastcall sub_142306700(__int64 a1)
{
  return a1 + 0x320;
}

// --- End Function: sub_142306700 (0x142306700) ---

// --- Function: sub_142E04BC0 (0x142E04BC0) ---
_QWORD *__fastcall sub_142E04BC0(__int64 a1, _QWORD *a2)
{
  *a2 = *(_QWORD *)(a1 + 0x450);
  return a2;
}

// --- End Function: sub_142E04BC0 (0x142E04BC0) ---

// --- Function: sub_143E087A0 (0x143E087A0) ---
__int64 __fastcall sub_143E087A0(__int64 n4, __int64 **a2, __int64 a3)
{
  __int64 result; // rax
  __int64 *v4; // [rsp+28h] [rbp-40h]

  switch ( n4 )
  {
    case 0LL:
      goto LABEL_6;
    case 1LL:
      return sub_143DF24F0(a2, a3);
    case 2LL:
      return sub_143DF25D0(a2, a3);
    case 3LL:
      return sub_143DF2350(a2, a3);
  }
  if ( n4 != 4 )
  {
LABEL_6:
    v4 = *a2;
    sub_140371550(*a2);
    result = (__int64)v4;
    *((_BYTE *)v4 + 0x120) = 0xFF;
    return result;
  }
  return sub_143DF2420(a2, a3);
}

// --- End Function: sub_143E087A0 (0x143E087A0) ---

// --- Function: sub_143E30390 (0x143E30390) ---
__int64 __fastcall sub_143E30390(__int64 a1)
{
  sub_143E30260();
  return a1;
}

// --- End Function: sub_143E30390 (0x143E30390) ---

// --- Function: sub_144D1D000 (0x144D1D000) ---
__int64 __fastcall sub_144D1D000(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x2D0);
}

// --- End Function: sub_144D1D000 (0x144D1D000) ---

// --- Function: sub_1467F2AC0 (0x1467F2AC0) ---
__int64 __fastcall sub_1467F2AC0(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x2D8);
}

// --- End Function: sub_1467F2AC0 (0x1467F2AC0) ---

// --- Function: sub_146875B10 (0x146875B10) ---
__int64 __fastcall sub_146875B10(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x2C0);
}

// --- End Function: sub_146875B10 (0x146875B10) ---

// --- Function: sub_146A27EC0 (0x146A27EC0) ---
bool __fastcall sub_146A27EC0(__int64 a1, int a2)
{
  return (a2 & *(_DWORD *)(a1 + 0x118)) == a2;
}

// --- End Function: sub_146A27EC0 (0x146A27EC0) ---

// --- Function: sub_146A2A8D0 (0x146A2A8D0) ---
unsigned __int64 *__fastcall sub_146A2A8D0(
        __int64 a1,
        unsigned __int64 *a2,
        unsigned __int64 a3,
        unsigned __int16 *a4,
        unsigned int a5,
        __int64 a6,
        char a7)
{
  volatile signed __int64 *v9; // rax

  v9 = (volatile signed __int64 *)sub_146A31EC0(a1, *a4);
  if ( v9 )
    sub_146A2A3C0(v9, a2, a3, a5, a6, a7);
  else
    *a2 = 0;
  return a2;
}

// --- End Function: sub_146A2A8D0 (0x146A2A8D0) ---

// --- Function: sub_146A2FF70 (0x146A2FF70) ---
char __fastcall sub_146A2FF70(__int64 a1, __int64 a2, char a3)
{
  __int64 v4; // rax
  __int64 v5; // r12
  int v6; // r10d
  unsigned __int64 v7; // rbx
  _QWORD *v8; // rsi
  unsigned __int64 v9; // r13
  __int64 v10; // rdi
  __int64 v11; // r14
  unsigned __int8 v12; // bp
  char v13; // al

  LOBYTE(v4) = sub_14030EC00((unsigned __int64 *)(a2 + 8));
  if ( (_BYTE)v4 )
  {
    LOBYTE(v4) = 0xFF;
    v5 = *(_QWORD *)(a2 + 8) & 0xFFFFFFFFFFFFLL;
    if ( v5 )
    {
      if ( *(_BYTE *)((*(_QWORD *)(a2 + 8) & 0xFFFFFFFFFFFFLL) + 0xD) < 5u )
      {
        v4 = *(unsigned __int16 *)(a2 + 0x10);
        v6 = a1;
        v7 = 0;
        v8 = (_QWORD *)(0x2E0 * v4 + a1 + 0x4058);
        v9 = v8[0x4E] - v8[0x4D];
        if ( v9 )
        {
          v10 = 0;
          v11 = 0;
          do
          {
            v12 = *(_BYTE *)(v7 + v8[0x4D]);
            v4 = v8[0x1F];
            if ( *(_QWORD *)(v10 + v4) )
            {
              v13 = 0xFF;
              if ( a3 )
                v13 = 1;
              *(_BYTE *)(*(_QWORD *)(a2 + 0x18) + v11 + 3) += v13;
              LOBYTE(v4) = sub_146A38570(v6, v5, a2, (_DWORD)v8, __popcnt(v8[0x4C] & ((1LL << v12) - 1)));
              if ( (_BYTE)v4 )
                LOBYTE(v4) = sub_146A24990(a1, a2, v12, 0);
              v6 = a1;
            }
            ++v7;
            v10 += 0x20;
            v11 += 0xC;
          }
          while ( v7 < v9 );
        }
      }
    }
  }
  return v4;
}

// --- End Function: sub_146A2FF70 (0x146A2FF70) ---

// --- Function: sub_146A300D0 (0x146A300D0) ---
char __fastcall sub_146A300D0(__int64 a1, __int64 a2, char a3)
{
  __int64 v5; // rax
  unsigned __int64 v6; // rbx
  _QWORD *v7; // r14
  unsigned __int64 v8; // r12
  __int64 v9; // rdi
  __int64 v10; // rsi
  __int64 v11; // rcx
  __int64 v12; // rdx
  unsigned __int8 v13; // r15
  char v14; // al
  bool v15; // al
  int v16; // edx
  unsigned __int64 v18; // [rsp+78h] [rbp+10h] BYREF
  char v19; // [rsp+80h] [rbp+18h]

  v19 = a3;
  v18 = *(_QWORD *)(a2 + 8);
  LOBYTE(v5) = sub_14030EC00(&v18);
  if ( (_BYTE)v5 )
  {
    LOBYTE(v5) = v18;
    if ( (v18 & 0xFFFFFFFFFFFFLL) != 0 && *(_BYTE *)((v18 & 0xFFFFFFFFFFFFLL) + 0xD) < 5u )
    {
      LOBYTE(v5) = 0;
      v6 = 0;
      v7 = (_QWORD *)(a1 + 0x2E0LL * *(unsigned __int16 *)(a2 + 0x10) + 0x4058);
      v8 = v7[0x4E] - v7[0x4D];
      if ( v8 )
      {
        v9 = 0;
        v10 = 0;
        do
        {
          v11 = v7[0x1F];
          v5 = v7[0x4D];
          v12 = *(_QWORD *)(a2 + 0x18);
          v13 = *(_BYTE *)(v6 + v5);
          if ( *(_QWORD *)(v11 + v10) )
          {
            switch ( *(_WORD *)(v11 + v10 + 8) )
            {
              case 3:
              case 4:
              case 7:
              case 8:
              case 0xB:
              case 0xD:
              case 0xE:
              case 0x11:
              case 0x12:
              case 0x15:
                goto LABEL_9;
              case 5:
              case 6:
              case 9:
              case 0xA:
              case 0xC:
              case 0xF:
              case 0x10:
              case 0x13:
              case 0x14:
              case 0x16:
                if ( *(_BYTE *)(v12 + v9) )
                {
LABEL_9:
                  v14 = 0xFF;
                  if ( v19 )
                    v14 = 1;
                  *(_BYTE *)(v12 + v9 + 2) += v14;
                }
                break;
              default:
                break;
            }
            v15 = sub_14030EC00(&v18);
            v16 = v18;
            if ( !v15 )
              v16 = 0;
            LOBYTE(v5) = sub_146A38570(a1, v16, a2, (_DWORD)v7, __popcnt(v7[0x4C] & ((1LL << v13) - 1)));
            if ( (_BYTE)v5 )
              LOBYTE(v5) = sub_146A24990(a1, a2, v13, 0);
          }
          ++v6;
          v10 += 0x20;
          v9 += 0xC;
        }
        while ( v6 < v8 );
      }
    }
  }
  return v5;
}

// --- End Function: sub_146A300D0 (0x146A300D0) ---

// --- Function: sub_146A314C0 (0x146A314C0) ---
bool __fastcall sub_146A314C0(__int64 a1)
{
  return (*(_DWORD *)(a1 + 8) & 0x2000) != 0;
}

// --- End Function: sub_146A314C0 (0x146A314C0) ---

// --- Function: sub_146A31A80 (0x146A31A80) ---
unsigned __int64 *__fastcall sub_146A31A80(unsigned __int64 a1, unsigned __int64 *a2)
{
  bool v4; // r8
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax

  v4 = sub_146B5A9D0(a1);
  if ( v4 )
    v5 = a1 & 0xFFFFFFFFFF000000uLL;
  else
    v5 = a1 - 6;
  v6 = *(_WORD *)(v5 + 2) | 0x2000;
  if ( !v4 )
    v6 = *(_WORD *)(v5 + 2);
  *a2 = a1 | ((unsigned __int64)v6 << 0x30);
  return a2;
}

// --- End Function: sub_146A31A80 (0x146A31A80) ---

// --- Function: sub_146A33E50 (0x146A33E50) ---
__int64 __fastcall sub_146A33E50(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x2B0);
}

// --- End Function: sub_146A33E50 (0x146A33E50) ---

// --- Function: sub_146A37560 (0x146A37560) ---
bool __fastcall sub_146A37560(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4)
{
  __int64 v4; // rdi
  _QWORD *v7; // rax
  signed __int64 v9; // rdx
  _QWORD *v10; // rax
  bool v11; // bl
  __int64 v12; // rax
  unsigned int v13; // edx
  __int64 v14; // rcx
  bool v15; // zf

  v4 = a4;
  if ( a3 )
  {
    if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++dword_149AC4C0C;
    }
    else
    {
      v9 = _InterlockedIncrement64(&qword_149AC4BF8);
      if ( (v9 & 0x200000) != 0 )
        sub_1403CB300(
          (__int64)&qword_149AC4BF8,
          v9,
          "CEntityComponentUpdateScheduler::IsAggregateCompleteBoundsInRange",
          "CEntity::s_aggregateHierarchyLock",
          1);
    }
    v10 = (_QWORD *)sub_142306700(a2);
    if ( *(_DWORD *)((*v10 & 0xFFFFFFFFFFFFLL) + 0x2F0) == 0xFFFFFFFF )
    {
      v11 = 0;
    }
    else
    {
      v12 = sub_146B49880(qword_1515B1A08, v10);
      v13 = *(_DWORD *)(v12 + 0x8C);
      if ( v13 == 0xFFFFFFFF )
      {
LABEL_14:
        v15 = *(_BYTE *)(v4 + v12 + 0x74) == 0;
      }
      else
      {
        while ( 1 )
        {
          v14 = *(_QWORD *)(qword_1515B1A08 + 0x180) + 0x20LL * v13;
          if ( *(_QWORD *)v14 == a3 )
            break;
          v13 = *(_DWORD *)(v14 + 0x18);
          if ( v13 == 0xFFFFFFFF )
            goto LABEL_14;
        }
        v15 = *(_BYTE *)(v4 + v14 + 0xC) == 0;
      }
      v11 = !v15;
    }
    sub_1402D2790((__int64)&qword_149AC4BF8);
    return v11;
  }
  else
  {
    v7 = (_QWORD *)sub_142306700(a2);
    return *(_DWORD *)((*v7 & 0xFFFFFFFFFFFFLL) + 0x2F0) != 0xFFFFFFFF
        && *(_BYTE *)(v4 + sub_146B49880(qword_1515B1A08, v7) + 0x74) != 0;
  }
}

// --- End Function: sub_146A37560 (0x146A37560) ---

// --- Function: sub_146A376D0 (0x146A376D0) ---
bool __fastcall sub_146A376D0(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4)
{
  __int64 v5; // rdi
  _QWORD *v7; // rax
  signed __int64 v9; // rdx
  _QWORD *v10; // rax
  __int64 v11; // rax
  unsigned int v12; // edx
  __int64 v13; // rcx
  bool v14; // zf
  bool v15; // bl

  v5 = a4;
  if ( BYTE1(qword_149B501D6) )
    return 0;
  if ( !a3 )
  {
    v7 = (_QWORD *)sub_142306700(a2);
    if ( *(_DWORD *)((*v7 & 0xFFFFFFFFFFFFLL) + 0x2F0) != 0xFFFFFFFF )
      return *(_BYTE *)(v5 + sub_146B49880(qword_1515B1A08, v7) + 0x7C) != 0;
    return 0;
  }
  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v9 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v9 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BF8,
        v9,
        "CEntityComponentUpdateScheduler::IsAggregateCompleteBoundsVisible",
        "CEntity::s_aggregateHierarchyLock",
        1);
  }
  v10 = (_QWORD *)sub_142306700(a2);
  if ( *(_DWORD *)((*v10 & 0xFFFFFFFFFFFFLL) + 0x2F0) == 0xFFFFFFFF )
  {
    sub_1402D2790((__int64)&qword_149AC4BF8);
    return 0;
  }
  else
  {
    v11 = sub_146B49880(qword_1515B1A08, v10);
    v12 = *(_DWORD *)(v11 + 0x90);
    if ( v12 == 0xFFFFFFFF )
    {
LABEL_14:
      v14 = *(_BYTE *)(v5 + v11 + 0x7C) == 0;
    }
    else
    {
      while ( 1 )
      {
        v13 = *(_QWORD *)(qword_1515B1A08 + 0x1E0) + 0x18LL * v12;
        if ( *(_QWORD *)v13 == a3 )
          break;
        v12 = *(_DWORD *)(v13 + 0x10);
        if ( v12 == 0xFFFFFFFF )
          goto LABEL_14;
      }
      v14 = *(_BYTE *)(v5 + v13 + 0xC) == 0;
    }
    v15 = !v14;
    sub_1402D2790((__int64)&qword_149AC4BF8);
    return v15;
  }
}

// --- End Function: sub_146A376D0 (0x146A376D0) ---

// --- Function: sub_146A38430 (0x146A38430) ---
bool __fastcall sub_146A38430(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4)
{
  __int64 v5; // rdi
  signed __int64 v8; // rdx
  _QWORD *v9; // rax
  bool v10; // bl

  v5 = a4;
  if ( (*(_DWORD *)(a2 + 8) & 0x100) == 0 )
    return 0;
  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v8 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v8 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BF8,
        v8,
        "CEntityComponentUpdateScheduler::IsComponentIsVisible",
        "CEntity::s_aggregateHierarchyLock",
        1);
  }
  v9 = (_QWORD *)sub_142306700(a2);
  v10 = *(_DWORD *)((*v9 & 0xFFFFFFFFFFFFLL) + 0x2F0) != 0xFFFFFFFF
     && *(_BYTE *)(v5 + 0x20LL * *(unsigned __int16 *)(a3 + 0x62) + *(_QWORD *)sub_146B49880(qword_1515B1A08, v9) + 0x10) != 0;
  sub_1402D2790((__int64)&qword_149AC4BF8);
  return v10;
}

// --- End Function: sub_146A38430 (0x146A38430) ---

// --- Function: sub_146A38E20 (0x146A38E20) ---
char __fastcall sub_146A38E20(__int64 a1, __int64 a2)
{
  unsigned __int64 v2; // r9
  __int64 v3; // rcx
  _BYTE *i; // rax

  v2 = *(_QWORD *)(0x2E0LL * *(unsigned __int16 *)(a2 + 0x10) + a1 + 0x42C8)
     - *(_QWORD *)(0x2E0LL * *(unsigned __int16 *)(a2 + 0x10) + a1 + 0x42C0);
  v3 = 0;
  if ( !v2 )
    return 0;
  for ( i = (_BYTE *)(*(_QWORD *)(a2 + 0x18) + 2LL); !*i; i += 0xC )
  {
    if ( ++v3 >= v2 )
      return 0;
  }
  return 1;
}

// --- End Function: sub_146A38E20 (0x146A38E20) ---

// --- Function: sub_146A39880 (0x146A39880) ---
bool __fastcall sub_146A39880(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) >= 4u;
}

// --- End Function: sub_146A39880 (0x146A39880) ---

// --- Function: sub_146A39890 (0x146A39890) ---
bool __fastcall sub_146A39890(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) >= 5u;
}

// --- End Function: sub_146A39890 (0x146A39890) ---

// --- Function: sub_146A3BA20 (0x146A3BA20) ---
void __fastcall sub_146A3BA20(__int64 a1, unsigned __int64 a2, __int64 a3, __int64 a4)
{
  __int128 v4; // xmm7
  __int64 v8; // rbx
  __int64 v9; // rdi
  volatile signed __int32 *v10; // rbx
  int v11; // r15d
  unsigned __int32 v12; // eax
  __int64 v13; // rax
  _QWORD *v14; // rcx
  int v15; // eax
  unsigned __int32 v16; // eax
  bool v17; // dl
  unsigned __int64 v18; // rcx
  unsigned __int16 v19; // ax
  float v20; // xmm0_4
  volatile signed __int32 *v21; // rbx
  int v22; // r14d
  unsigned __int32 v23; // eax
  __int64 *v24; // rax
  bool v25; // dl
  unsigned __int64 v26; // rcx
  unsigned __int16 v27; // ax
  int v28; // eax
  unsigned __int32 v29; // eax
  __int64 v30; // rcx
  _BYTE v33[16]; // [rsp+20h] [rbp-58h] BYREF
  __int128 v34; // [rsp+30h] [rbp-48h]

  if ( sub_146A38970() )
  {
    v8 = *(unsigned int *)(a2 + 0x2E8);
    if ( (_DWORD)v8 != 0xFFFFFFFF && sub_140418C10(a2) )
    {
      v9 = *(_QWORD *)(a1 + 0x240) + 0x60 * v8;
      if ( *(_BYTE *)(v9 + 0x45) )
      {
        v10 = (volatile signed __int32 *)(a1 + 0x2D0);
        v11 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
        if ( *(_DWORD *)(a1 + 0x2E0) == v11 )
        {
          ++*(_DWORD *)(a1 + 0x2E4);
        }
        else
        {
          v12 = _InterlockedCompareExchange(v10, 1, 0);
          if ( v12 )
            sub_1403C33A0(a1 + 0x2D0, v12, "CEntityLifetimeManager::OnDensityClassChanged", 1);
          else
            *(_QWORD *)(a1 + 0x2D8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
          *(_DWORD *)(a1 + 0x2E0) = v11;
        }
        sub_146A2F080(a1);
        v13 = *(_QWORD *)v9;
        v14 = *(_QWORD **)(v9 + 8);
        *v14 = *(_QWORD *)v9;
        *(_QWORD *)(v13 + 8) = v14;
        *(_BYTE *)(v9 + 0x45) = 0;
        v15 = *(_DWORD *)(a1 + 0x2E4);
        if ( v15 )
        {
          *(_DWORD *)(a1 + 0x2E4) = v15 - 1;
        }
        else
        {
          *(_DWORD *)(a1 + 0x2E0) = 0xFFFFFFFF;
          v16 = _InterlockedCompareExchange(v10, 0, 1);
          if ( v16 == 1 )
            *(_QWORD *)(a1 + 0x2D8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
          else
            sub_1403DB1F0(a1 + 0x2D0, v16);
        }
      }
      v17 = sub_146B5A9D0(a2);
      if ( v17 )
        v18 = a2 & 0xFFFFFFFFFF000000uLL;
      else
        v18 = a2 - 6;
      v19 = *(_WORD *)(v18 + 2) | 0x2000;
      if ( !v17 )
        v19 = *(_WORD *)(v18 + 2);
      sub_146A282A0(a1, a2 | ((unsigned __int64)v19 << 0x30), v9);
      v20 = *(float *)(a4 + 0x18);
      if ( v20 <= 0.0 )
      {
        *(float *)(v9 + 0x40) = 0xBF800000;
        *(_BYTE *)(v9 + 0x44) = *(_BYTE *)(a4 + 0x1C);
      }
      else
      {
        *(float *)(v9 + 0x40) = v20 * 60.0;
        *(_BYTE *)(v9 + 0x44) = *(_BYTE *)(a4 + 0x1C);
        if ( (float)(v20 * 60.0) > 0.0 )
        {
          v34 = v4;
          v21 = (volatile signed __int32 *)(a1 + 0x2D0);
          v22 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
          if ( *(_DWORD *)(a1 + 0x2E0) == v22 )
          {
            ++*(_DWORD *)(a1 + 0x2E4);
          }
          else
          {
            v23 = _InterlockedCompareExchange(v21, 1, 0);
            if ( v23 )
              sub_1403C33A0(a1 + 0x2D0, v23, "CEntityLifetimeManager::OnDensityClassChanged", 1);
            else
              *(_QWORD *)(a1 + 0x2D8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
            *(_DWORD *)(a1 + 0x2E0) = v22;
          }
          v24 = (__int64 *)sub_146A2F080(a1);
          *(_QWORD *)v9 = *v24;
          *(_QWORD *)(v9 + 8) = v24;
          *v24 = v9;
          *(_QWORD *)(*(_QWORD *)v9 + 8LL) = v9;
          *(_BYTE *)(v9 + 0x45) = 1;
          v25 = sub_146B5A9D0(a2);
          if ( v25 )
            v26 = a2 & 0xFFFFFFFFFF000000uLL;
          else
            v26 = a2 - 6;
          v27 = *(_WORD *)(v26 + 2) | 0x2000;
          if ( !v25 )
            v27 = *(_WORD *)(v26 + 2);
          sub_146A46210(a1, a2 | ((unsigned __int64)v27 << 0x30), v9);
          v28 = *(_DWORD *)(a1 + 0x2E4);
          if ( v28 )
          {
            *(_DWORD *)(a1 + 0x2E4) = v28 - 1;
          }
          else
          {
            *(_DWORD *)(a1 + 0x2E0) = 0xFFFFFFFF;
            v29 = _InterlockedCompareExchange(v21, 0, 1);
            if ( v29 == 1 )
              *(_QWORD *)(a1 + 0x2D8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
            else
              sub_1403DB1F0(a1 + 0x2D0, v29);
          }
        }
      }
      if ( *(float *)(v9 + 0x58) >= 0.0 )
      {
        v30 = *(_QWORD *)(a4 + 0x20);
        if ( !v30 )
          goto LABEL_49;
        (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v30 + 0x30LL))(v30, v33);
        _XMM0 = sub_140597760();
        __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
        if ( *(float *)&_XMM3 >= 0.0 )
        {
          sub_146A28180(a1, a2, v9);
        }
        else
        {
LABEL_49:
          if ( *(_BYTE *)(v9 + 0x45) )
            sub_146A424B0(a1, v9);
          *(_DWORD *)(v9 + 0x58) = 0xBF800000;
          *(_QWORD *)(v9 + 0x50) = 0;
        }
      }
    }
  }
}

// --- End Function: sub_146A3BA20 (0x146A3BA20) ---

// --- Function: sub_146A3BF30 (0x146A3BF30) ---
double __fastcall sub_146A3BF30(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4)
{
  int v4; // r8d
  __int64 v5; // r14
  __int64 v7; // rdi
  __int64 *v8; // rsi
  __int64 v9; // rbp
  bool v10; // al
  unsigned __int64 v11; // r12
  unsigned __int64 v12; // rbx
  _QWORD *v13; // r15
  __int64 v14; // rdi
  unsigned __int8 v15; // r13
  bool v16; // al
  char v17; // di
  __int64 v18; // r8
  char v19; // cl
  unsigned __int64 v21; // [rsp+30h] [rbp-A8h] BYREF
  __int64 v22; // [rsp+38h] [rbp-A0h]
  unsigned __int64 v23; // [rsp+40h] [rbp-98h]
  __int64 *v24; // [rsp+48h] [rbp-90h]
  _DWORD v25[2]; // [rsp+50h] [rbp-88h] BYREF
  __int64 v26; // [rsp+58h] [rbp-80h]
  unsigned __int64 v27; // [rsp+60h] [rbp-78h]
  unsigned __int64 v28; // [rsp+68h] [rbp-70h]
  __int64 v29; // [rsp+70h] [rbp-68h]
  __int64 v30; // [rsp+78h] [rbp-60h]

  v4 = *(_DWORD *)(a2 + 0x2D8);
  v5 = 0;
  v25[0] = 0x1400;
  v26 = 0;
  v7 = a1;
  v28 = 0;
  v29 = 0;
  v30 = 0;
  v27 = __rdtsc();
  v25[1] = v4;
  qword_149B4B870(
    v25,
    &word_1515B0070,
    "CEntityComponentUpdateScheduler::OnEntityAuthorityChanged",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\ComponentSystemCore/EntityComponentUpdateScheduler.cpp",
    0x129B);
  HIWORD(v25[0]) = word_1515B0070;
  if ( a2 )
  {
    if ( *(_BYTE *)(a2 + 0xD) < 5u )
    {
      v8 = *(__int64 **)(a2 + 0x240);
      v24 = *(__int64 **)(a2 + 0x248);
      if ( v8 != v24 )
      {
        while ( 1 )
        {
          v22 = v7 + 0x2E0LL * *(unsigned __int16 *)((*v8 & 0xFFFFFFFFFFFFLL) + 0x10) + 0x4058;
          if ( is_valid_handle_typeA(v8) )
            v9 = *v8 & 0xFFFFFFFFFFFFLL;
          else
            v9 = 0;
          v21 = *(_QWORD *)(v9 + 8);
          v10 = sub_14030EC00(&v21);
          v11 = v21 & 0xFFFFFFFFFFFFLL;
          if ( !v10 )
            v11 = 0;
          if ( sub_14030EC00(&v21) && *(_BYTE *)((v21 & 0xFFFFFFFFFFFFLL) + 0xD) < 5u )
          {
            v12 = 0;
            v13 = (_QWORD *)(v7 + 0x2E0LL * *(unsigned __int16 *)(v9 + 0x10));
            v23 = v13[0x859] - v13[0x858];
            if ( v23 )
              break;
          }
LABEL_27:
          if ( ++v8 == v24 )
            goto LABEL_28;
        }
        while ( 1 )
        {
          v14 = v13[0x82A];
          v15 = *(_BYTE *)(v12 + v13[0x858]);
          if ( *(_QWORD *)(v14 + v5) )
          {
            switch ( *(_BYTE *)(v14 + v5 + 0x11) )
            {
              case 0:
                goto LABEL_19;
              case 1:
                v16 = sub_140418C10(v11);
                break;
              case 2:
                v16 = !sub_140418C10(v11);
                break;
              default:
                goto LABEL_24;
            }
            if ( v16 )
            {
LABEL_19:
              v17 = *(_BYTE *)(v14 + v5 + 0x10);
              if ( is_valid_handle_typeA(v8) )
                v18 = *v8 & 0xFFFFFFFFFFFFLL;
              else
                v18 = 0;
              v19 = v17;
              v7 = a1;
              if ( sub_146A38570(a1, a2, v18, v22, __popcnt(*(_QWORD *)(v22 + 0x260) & ((1LL << v19) - 1))) )
                sub_146A24990(a1, v9, v15, a4);
              goto LABEL_25;
            }
          }
LABEL_24:
          v7 = a1;
LABEL_25:
          ++v12;
          v5 += 0x20;
          if ( v12 >= v23 )
          {
            v5 = 0;
            goto LABEL_27;
          }
        }
      }
    }
  }
LABEL_28:
  v28 = __rdtsc();
  return qword_149B4B878(v25);
}

// --- End Function: sub_146A3BF30 (0x146A3BF30) ---

// --- Function: sub_146A3C230 (0x146A3C230) ---
double __fastcall sub_146A3C230(__int64 a1, unsigned __int64 a2)
{
  __int128 v2; // xmm7
  __int64 v5; // rbx
  __int64 v6; // rdi
  char v7; // al
  __int64 v8; // rdi
  volatile signed __int32 *v9; // rbx
  int v10; // r15d
  unsigned __int32 v11; // eax
  __int64 v12; // rax
  _QWORD *v13; // rcx
  int v14; // eax
  unsigned __int32 v15; // eax
  bool v16; // cf
  volatile signed __int32 *v17; // rbx
  int v18; // r15d
  unsigned __int32 v19; // eax
  __int64 *v20; // rax
  int v21; // eax
  unsigned __int32 v22; // eax
  bool v23; // al
  unsigned __int64 v24; // rdx
  __int64 v25; // rax
  __int64 v26; // rcx
  void (__fastcall *v27)(__int64, unsigned __int64, _QWORD *); // r9
  int v28; // ebx
  __int64 *ThreadLogContextSlot; // rax
  unsigned __int64 v31; // [rsp+50h] [rbp-B0h] BYREF
  _DWORD v32[2]; // [rsp+58h] [rbp-A8h] BYREF
  _DWORD v33[2]; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v34; // [rsp+68h] [rbp-98h] BYREF
  int n0x1400; // [rsp+70h] [rbp-90h] BYREF
  __int64 v36; // [rsp+74h] [rbp-8Ch]
  int v37; // [rsp+7Ch] [rbp-84h]
  unsigned __int64 v38; // [rsp+80h] [rbp-80h]
  unsigned __int64 v39; // [rsp+88h] [rbp-78h]
  __int64 v40; // [rsp+90h] [rbp-70h]
  __int64 v41; // [rsp+98h] [rbp-68h]
  _QWORD v42[2]; // [rsp+C0h] [rbp-40h] BYREF
  _QWORD v43[2]; // [rsp+D0h] [rbp-30h] BYREF
  _QWORD v44[2]; // [rsp+E0h] [rbp-20h] BYREF
  _QWORD v45[6]; // [rsp+F0h] [rbp-10h] BYREF
  _OWORD v46[2]; // [rsp+120h] [rbp+20h] BYREF
  char v47; // [rsp+1A0h] [rbp+A0h] BYREF
  char v48; // [rsp+1A8h] [rbp+A8h] BYREF

  n0x1400 = 0x1400;
  v37 = 0;
  v39 = 0;
  v40 = 0;
  v41 = 0;
  v36 = 1;
  v38 = __rdtsc();
  qword_149B4B870(
    &n0x1400,
    &word_1515B0280,
    "CEntityLifetimeManager::OnEntityAuthorityChanged",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\EntityDensityManager.cpp",
    0x127);
  HIWORD(n0x1400) = word_1515B0280;
  if ( sub_146A38970() )
  {
    v31 = a2;
    v5 = a2 & 0xFFFFFFFFFFFFLL;
    v6 = *(unsigned int *)(v5 + 0x2E8);
    if ( (_DWORD)v6 != 0xFFFFFFFF )
    {
      v7 = sub_140418C10(v5);
      v8 = *(_QWORD *)(a1 + 0x240) + 0x60 * v6;
      if ( *(_BYTE *)(v8 + 0x47) != v7 )
      {
        *(_BYTE *)(v8 + 0x47) = v7;
        if ( v7 )
        {
          v16 = *(float *)(v8 + 0x40) > 0.0;
          v46[1] = v2;
          if ( v16 )
          {
            v17 = (volatile signed __int32 *)(a1 + 0x2D0);
            v18 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
            if ( *(_DWORD *)(a1 + 0x2E0) == v18 )
            {
              ++*(_DWORD *)(a1 + 0x2E4);
            }
            else
            {
              v19 = _InterlockedCompareExchange(v17, 1, 0);
              if ( v19 )
                sub_1403C33A0(a1 + 0x2D0, v19, "CEntityLifetimeManager::OnEntityAuthorityChanged", 1);
              else
                *(_QWORD *)(a1 + 0x2D8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
              *(_DWORD *)(a1 + 0x2E0) = v18;
            }
            v20 = (__int64 *)sub_146A2F080(a1);
            *(_QWORD *)v8 = *v20;
            *(_QWORD *)(v8 + 8) = v20;
            *v20 = v8;
            *(_QWORD *)(*(_QWORD *)v8 + 8LL) = v8;
            *(_BYTE *)(v8 + 0x45) = 1;
            sub_146A46210(a1, v31, v8);
            v21 = *(_DWORD *)(a1 + 0x2E4);
            if ( v21 )
            {
              *(_DWORD *)(a1 + 0x2E4) = v21 - 1;
            }
            else
            {
              *(_DWORD *)(a1 + 0x2E0) = 0xFFFFFFFF;
              v22 = _InterlockedCompareExchange(v17, 0, 1);
              if ( v22 == 1 )
                *(_QWORD *)(a1 + 0x2D8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
              else
                sub_1403DB1F0(a1 + 0x2D0, v22);
            }
          }
          if ( *(float *)(v8 + 0x58) >= 0.0 )
          {
            v23 = sub_14030EC00(&v31);
            v24 = v31 & 0xFFFFFFFFFFFFLL;
            if ( !v23 )
              v24 = 0;
            sub_146A28180(a1, v24, v8);
          }
          v25 = sub_146B4A8F0(v31 & 0xFFFFFFFFFFFFLL);
          v48 = 0;
          v47 = 0;
          v26 = *(_QWORD *)qword_149B4FBE8;
          v45[2] = v25;
          v45[3] = &v48;
          v45[4] = &v47;
          v27 = *(void (__fastcall **)(__int64, unsigned __int64, _QWORD *))(v26 + 0x278);
          v45[1] = v31;
          v42[0] = v45;
          v45[0] = a1;
          v42[1] = sub_146A0C5F0;
          v45[5] = v8;
          v27(qword_149B4FBE8, (v31 & 0xFFFFFFFFFFFFLL) + 0x2A8, v42);
          if ( v47 )
          {
            v32[0] = 0xCA;
            v43[0] = v32;
            v32[1] = 0x2C;
            v43[1] = v33;
            v28 = invokeGlobalCallbackAndMaskStatusBits(
                    5,
                    (__int64)v43,
                    (__int64)"Density Entity Destroy",
                    "Density Management OnEntityAuthorityChanged destroyed Entity: $$");
            if ( (v28 & 0xFFFFF) != 0 )
            {
              v34 = *(_QWORD *)((v31 & 0xFFFFFFFFFFFFLL) + 0x10);
              ThreadLogContextSlot = getThreadLogContextSlot();
              v33[0] = 0xCA;
              v44[0] = v33;
              v33[1] = 0x2C;
              v44[1] = &v34;
              v46[0] = 0;
              sub_140440640(
                5,
                (__int64)v44,
                (void *)"Density Entity Destroy",
                (__int64)"Density Management OnEntityAuthorityChanged destroyed Entity: $$",
                1,
                v28,
                v46,
                0,
                (__int64)ThreadLogContextSlot,
                (__int64)&v34);
            }
            sub_146B3D310(qword_1515B19E8, v31);
          }
          else if ( v48 )
          {
            sub_146A46210(a1, v31, v8);
          }
        }
        else
        {
          if ( *(_BYTE *)(v8 + 0x45) )
          {
            v9 = (volatile signed __int32 *)(a1 + 0x2D0);
            v10 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
            if ( *(_DWORD *)(a1 + 0x2E0) == v10 )
            {
              ++*(_DWORD *)(a1 + 0x2E4);
            }
            else
            {
              v11 = _InterlockedCompareExchange(v9, 1, 0);
              if ( v11 )
                sub_1403C33A0(a1 + 0x2D0, v11, "CEntityLifetimeManager::OnEntityAuthorityChanged", 1);
              else
                *(_QWORD *)(a1 + 0x2D8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
              *(_DWORD *)(a1 + 0x2E0) = v10;
            }
            sub_146A2F080(a1);
            v12 = *(_QWORD *)v8;
            v13 = *(_QWORD **)(v8 + 8);
            *v13 = *(_QWORD *)v8;
            *(_QWORD *)(v12 + 8) = v13;
            *(_BYTE *)(v8 + 0x45) = 0;
            v14 = *(_DWORD *)(a1 + 0x2E4);
            if ( v14 )
            {
              *(_DWORD *)(a1 + 0x2E4) = v14 - 1;
            }
            else
            {
              *(_DWORD *)(a1 + 0x2E0) = 0xFFFFFFFF;
              v15 = _InterlockedCompareExchange(v9, 0, 1);
              if ( v15 == 1 )
                *(_QWORD *)(a1 + 0x2D8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
              else
                sub_1403DB1F0(a1 + 0x2D0, v15);
            }
          }
          if ( *(_BYTE *)(v8 + 0x5C) )
            sub_146A424B0(a1, v8);
        }
      }
    }
  }
  v39 = __rdtsc();
  return qword_149B4B878(&n0x1400);
}

// --- End Function: sub_146A3C230 (0x146A3C230) ---

// --- Function: sub_146A3D0E0 (0x146A3D0E0) ---
__int64 __fastcall sub_146A3D0E0(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  LOBYTE(a4) = 1;
  return sub_146A434A0(a1, a2, 0, a4);
}

// --- End Function: sub_146A3D0E0 (0x146A3D0E0) ---

// --- Function: sub_146A3DB20 (0x146A3DB20) ---
__int64 __fastcall sub_146A3DB20(__int64 a1, __int64 a2, __int64 a3)
{
  LOBYTE(a3) = 1;
  return sub_146A434A0(a1, a2, a3, 0);
}

// --- End Function: sub_146A3DB20 (0x146A3DB20) ---

// --- Function: sub_146A63540 (0x146A63540) ---
_QWORD *__fastcall sub_146A63540(__int64 a1, _QWORD *a2)
{
  __int64 (__fastcall *v4)(__int64, _BYTE *, __int16 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 v7; // rax
  __int16 n4; // dx
  __int64 (__fastcall *v10)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_2; // ax
  _BYTE v12[8]; // [rsp+20h] [rbp-38h] BYREF
  _BYTE v13[48]; // [rsp+28h] [rbp-30h] BYREF
  __int16 n0xFFFF_1; // [rsp+60h] [rbp+8h] BYREF
  __int64 v15; // [rsp+68h] [rbp+10h] BYREF
  char v16; // [rsp+70h] [rbp+18h] BYREF
  char v17; // [rsp+78h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int16 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_37;
  if ( n0xFFFF_37 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v16,
                          "RenderProxy");
    n0xFFFF_37 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v12, &n0xFFFF_1);
  v15 = v6;
  if ( v6
    && (v7 = sub_1403B4B50(v6 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v7 + 4), n4 != 4)
    && *(_WORD *)(v7 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v15)) )
  {
    *a2 = v6;
    return a2;
  }
  else
  {
    v10 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
    n0xFFFF_2 = n0xFFFF_38;
    if ( n0xFFFF_38 == (__int16)0xFFFF )
    {
      n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                     + 0x10LL))(
                              qword_149B4FC88,
                              &v17,
                              "RenderProxy");
      n0xFFFF_38 = n0xFFFF_2;
    }
    LOWORD(v15) = n0xFFFF_2;
    *a2 = *(_QWORD *)v10(a1, v13, &v15);
    return a2;
  }
}

// --- End Function: sub_146A63540 (0x146A63540) ---

// --- Function: sub_146A795F0 (0x146A795F0) ---
char __fastcall sub_146A795F0(__int64 a1)
{
  __int64 v1; // rax
  _QWORD *v2; // rbx
  __int64 v3; // rcx

  v1 = *(_QWORD *)(a1 + 0x4C0);
  if ( v1 )
  {
    v2 = (_QWORD *)(v1 + 8);
    if ( sub_14030EC00((unsigned __int64 *)(v1 + 8)) )
      v3 = *v2 & 0xFFFFFFFFFFFFLL;
    else
      v3 = 0;
    LOBYTE(v1) = (*(unsigned __int8 (__fastcall **)(__int64, __int64))(*(_QWORD *)v3 + 0x40LL))(v3, 0x40000000) != 0;
  }
  return v1;
}

// --- End Function: sub_146A795F0 (0x146A795F0) ---

// --- Function: sub_146A7CF00 (0x146A7CF00) ---
__int64 __fastcall sub_146A7CF00(__int64 a1, unsigned int a2)
{
  return sub_146B74410(a1, *(_DWORD *)(a1 + 0x118) | a2);
}

// --- End Function: sub_146A7CF00 (0x146A7CF00) ---

// --- Function: sub_146A7E0C0 (0x146A7E0C0) ---
__int64 __fastcall sub_146A7E0C0(__int64 a1, int a2, __int64 a3, int a4, int a5)
{
  int v6; // edi
  __int64 result; // rax
  unsigned int v10; // r14d
  int v11; // r12d
  __int64 v12; // r8
  __int64 v13; // rcx
  __int64 v14; // rbx
  void (__fastcall ***v15)(_QWORD); // rbx
  __int64 v16; // rdx
  __int64 v17; // r8
  unsigned __int64 v18; // rcx
  unsigned __int64 v19; // rcx
  unsigned __int64 v20; // rcx
  unsigned __int64 v21; // rcx
  __int64 v22; // rcx
  unsigned __int64 v23; // rcx
  volatile signed __int64 *v24; // rdi
  int v25; // ebx
  unsigned __int64 v26; // rax
  __int64 v27; // rbx
  __int64 v28; // rax
  __int64 v29; // rcx
  int v30; // eax
  int v31; // eax
  unsigned __int64 n0x200000; // rax
  int v33; // [rsp+30h] [rbp-D0h] BYREF
  int v34; // [rsp+34h] [rbp-CCh]
  __int64 v35; // [rsp+38h] [rbp-C8h]
  int v36; // [rsp+40h] [rbp-C0h]
  __int64 v37; // [rsp+48h] [rbp-B8h]
  int v38; // [rsp+50h] [rbp-B0h]
  void (__fastcall ***v39)(_QWORD); // [rsp+58h] [rbp-A8h]
  __int128 v40; // [rsp+60h] [rbp-A0h]
  _OWORD v41[3]; // [rsp+70h] [rbp-90h] BYREF
  char v42; // [rsp+A0h] [rbp-60h]
  char v43[4]; // [rsp+B0h] [rbp-50h] BYREF
  int v44; // [rsp+B4h] [rbp-4Ch]
  unsigned int v45; // [rsp+B8h] [rbp-48h]
  __int64 v46; // [rsp+C0h] [rbp-40h]
  void (__fastcall ***v47)(_QWORD); // [rsp+128h] [rbp+28h]
  __int128 v48; // [rsp+130h] [rbp+30h]
  __int128 v49; // [rsp+140h] [rbp+40h]
  __int128 v50; // [rsp+150h] [rbp+50h]
  __int64 v51; // [rsp+168h] [rbp+68h]
  unsigned int v52; // [rsp+1B0h] [rbp+B0h] BYREF

  v6 = a3;
  if ( !*(_QWORD *)(a3 + 0x78) )
  {
    *(_DWORD *)(a3 + 0x80) = 2;
    *(_QWORD *)(a3 + 0x78) = *(_QWORD *)(a1 + 8);
    *(_QWORD *)(a3 + 0xB0) = *(_QWORD *)(a1 + 8);
  }
  result = sub_146A7CF10(a1, a2, a3, 0xFFFFFFFF, 0);
  v52 = result;
  v10 = result;
  if ( (int)result < 0 )
    return result;
  v34 = 0;
  v35 = 0;
  v37 = 0;
  v38 = 0;
  v39 = 0;
  v42 = 0;
  v11 = a5;
  v40 = 0;
  memset(v41, 0, sizeof(v41));
  v36 = a5;
  v33 = a4;
  sub_140344E10((__int64)v41, 0, (int *)&v52);
  v13 = *(_QWORD *)(a1 + 8);
  v35 = v13;
  if ( v11 >= 0 && a4 == 1 )
  {
    v43[0] = 0;
    v44 = 0;
    v45 = 0xFFFFFFFF;
    v46 = 0;
    v47 = 0;
    v48 = 0;
    v49 = 0;
    v50 = 0;
    v51 = 0;
    if ( (*(unsigned __int8 (__fastcall **)(__int64, _QWORD, char *, _QWORD))(*(_QWORD *)(v13 & 0xFFFFFFFFFFFFLL)
                                                                            + 0x498LL))(
           v13 & 0xFFFFFFFFFFFFLL,
           (unsigned int)v11,
           v43,
           0) )
    {
      v14 = v48;
      if ( (_QWORD)v48 )
      {
        if ( v37 != (_QWORD)v48 )
        {
          (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v48 + 8LL))(v48);
          v37 = v14;
        }
      }
      else
      {
        v15 = v47;
        if ( !v47 || v39 == v47 )
          goto LABEL_14;
        (**v47)(v47);
        v39 = v15;
      }
    }
    v15 = v47;
LABEL_14:
    if ( v51 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v51 + 0x10LL))(v51);
      v15 = v47;
    }
    v51 = 0;
    if ( v15 )
      (*v15)[1](v15);
    v47 = 0;
    if ( (v46 & 0x100000000000000LL) != 0 && (v46 & 0xFFFFFFFFFFFFLL) != 0 )
      sub_1402A3D30((const void *)(v46 & 0xFFFFFFFFFFFFLL));
  }
  LOBYTE(v12) = 1;
  sub_146A7DF40(a1, &v33, v12);
  v18 = *(_QWORD *)(a1 + 0x460);
  if ( v18 )
  {
    v19 = HIWORD(v18);
    v16 = *(_QWORD *)(a1 + 0x460) & 0xFFFFFFFFFFFFLL;
    LOBYTE(v17) = *(_QWORD *)(v16 + 8) == v19;
    if ( *(_QWORD *)(v16 + 8) == v19 )
      sub_146A7CF10(a1, a2, v6, v10, *(_QWORD *)(a1 + 0x460) & 0xFFFFFFFFFFFFLL);
  }
  v20 = *(_QWORD *)(a1 + 0x468);
  if ( v20 )
  {
    v21 = HIWORD(v20);
    v16 = *(_QWORD *)(a1 + 0x468) & 0xFFFFFFFFFFFFLL;
    LOBYTE(v17) = *(_QWORD *)(v16 + 8) == v21;
    if ( *(_QWORD *)(v16 + 8) == v21 )
      sub_146A7CF10(a1, a2, v6, v10, *(_QWORD *)(a1 + 0x468) & 0xFFFFFFFFFFFFLL);
  }
  v22 = *(_QWORD *)(a1 + 0x4C0);
  if ( v22 != a1 )
  {
    v23 = *(_QWORD *)(v22 + 0x450);
    if ( v23 )
    {
      if ( *(_QWORD *)((v23 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v23) )
      {
        v24 = (volatile signed __int64 *)(a1 + 0x538);
        v25 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
        if ( *(_DWORD *)(a1 + 0x548) == v25 )
        {
          ++*(_DWORD *)(a1 + 0x54C);
        }
        else
        {
          v17 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
          v26 = _InterlockedCompareExchange64(v24, 0x200000, 0);
          if ( v26 )
            sub_1403DCD60(
              a1 + 0x538,
              v26,
              v17,
              "CPhysicalProxy::AddPhysicsGeometry",
              "m_compoundedPhysicsBlocksLock",
              1);
          else
            *(_QWORD *)(a1 + 0x540) = v17;
          v10 = v52;
          *(_DWORD *)(a1 + 0x548) = v25;
        }
        v27 = *(_QWORD *)(a1 + 0x528);
        v28 = *(_QWORD *)(a1 + 0x520);
        if ( v27 != v28 )
        {
          while ( 1 )
          {
            v27 -= 0x78;
            if ( *(_DWORD *)(v27 + 4) == v34 )
              break;
            if ( v27 == v28 )
              goto LABEL_44;
          }
          if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
            v29 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
          else
            v29 = 0;
          v30 = sub_146B4E140(v29);
          sub_146A91AD0(a1, *(_QWORD *)(a1 + 0x4C0), v27, v30, 0, 1);
        }
LABEL_44:
        if ( a1 != 0xFFFFFFFFFFFFFAC8uLL )
        {
          v31 = *(_DWORD *)(a1 + 0x54C);
          if ( v31 )
          {
            *(_DWORD *)(a1 + 0x54C) = v31 - 1;
          }
          else
          {
            *(_DWORD *)(a1 + 0x548) = 0xFFFFFFFF;
            n0x200000 = _InterlockedCompareExchange64(v24, 0, 0x200000);
            if ( n0x200000 == 0x200000 )
              *(_QWORD *)(a1 + 0x540) = &p_p_p_p_p_p_p_p_p_p_p_Source;
            else
              sub_1403DD380(a1 + 0x538, n0x200000);
            v10 = v52;
          }
        }
      }
    }
  }
  sub_146A757C0(&v33, v16, v17);
  return v10;
}

// --- End Function: sub_146A7E0C0 (0x146A7E0C0) ---

// --- Function: sub_146A7FAF0 (0x146A7FAF0) ---
char __fastcall sub_146A7FAF0(__int64 a1, const vraudio::AudioBuffer *__Val_0___1, unsigned __int8 a3)
{
  bool v5; // al
  unsigned __int64 v6; // rcx
  __int64 v7; // rsi
  __int64 v8; // rax
  const char *v9; // rbx
  const char *v10; // rax
  std::vector<vraudio::AudioBuffer const *> *v12; // r9
  const vraudio::AudioBuffer **_Whereptr; // rdx
  const vraudio::AudioBuffer **v14; // rcx
  char v15; // bl
  __int64 v17; // rcx
  int v18; // eax
  unsigned __int64 n0x200000; // rax
  std::vector<vraudio::AudioBuffer const *> *v20; // [rsp+30h] [rbp-38h] BYREF
  __int64 v21; // [rsp+38h] [rbp-30h]
  _DWORD *v22; // [rsp+40h] [rbp-28h]
  unsigned __int64 __Val_0__; // [rsp+78h] [rbp+10h] BYREF

  __Val_0__ = (unsigned __int64)__Val_0___1;
  if ( !sub_14030EC00(&__Val_0__) )
    return 0;
  v5 = sub_14030EC00(&__Val_0__);
  v6 = __Val_0__ & 0xFFFFFFFFFFFFLL;
  if ( !v5 )
    v6 = 0;
  v7 = sub_146B4E3D0(v6);
  if ( !v7 )
  {
    v8 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(__Val_0__ & 0xFFFFFFFFFFFFLL) + 0x20LL))(__Val_0__ & 0xFFFFFFFFFFFFLL);
    v9 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x18LL))(v8);
    v10 = (const char *)(*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(__Val_0__ & 0xFFFFFFFFFFFFLL) + 0x70LL))(__Val_0__ & 0xFFFFFFFFFFFFLL);
    sub_1405C0E00(
      6u,
      2u,
      "Entity '%s' was passed to CPhysicalProxy::AddToIgnoreList, but doesn't have a physics proxy. Entity Class: '%s'.",
      v10,
      v9);
    return 0;
  }
  sub_1402E4000(a1 + 0x580, (__int64)&v20);
  v12 = v20;
  _Whereptr = (const vraudio::AudioBuffer **)*((_QWORD *)v20 + 1);
  v14 = *(const vraudio::AudioBuffer ***)v20;
  if ( *(const vraudio::AudioBuffer ***)v20 == _Whereptr )
  {
LABEL_10:
    if ( _Whereptr == *((const vraudio::AudioBuffer ***)v20 + 2) )
    {
      std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        v20,
        _Whereptr,
        (const vraudio::AudioBuffer **)&__Val_0__);
    }
    else
    {
      *_Whereptr = (const vraudio::AudioBuffer *)__Val_0__;
      *((_QWORD *)v12 + 1) += 8LL;
    }
    v15 = 1;
  }
  else
  {
    while ( *v14 != (const vraudio::AudioBuffer *)__Val_0__ )
    {
      if ( ++v14 == _Whereptr )
        goto LABEL_10;
    }
    v15 = 0;
  }
  if ( (*v22)-- == 1 )
  {
    v17 = v21;
    v18 = *(_DWORD *)(v21 + 0x14);
    if ( v18 )
    {
      *(_DWORD *)(v21 + 0x14) = v18 - 1;
    }
    else
    {
      *(_DWORD *)(v21 + 0x10) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v17, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        *(_QWORD *)(v17 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380(v17, n0x200000);
    }
  }
  if ( !v15 )
    return 0;
  return sub_146A7F9A0(a1, *(_QWORD *)(v7 + 0x4C0), a3);
}

// --- End Function: sub_146A7FAF0 (0x146A7FAF0) ---

// --- Function: sub_146A800D0 (0x146A800D0) ---
char __fastcall sub_146A800D0(__int64 a1, __int64 a2, char a3, char a4)
{
  unsigned __int64 v4; // rax
  int v7; // edi
  __int64 v9; // rcx
  __int64 v10; // rcx
  __int64 v11; // rcx
  __int64 v12; // rcx
  unsigned int v13; // esi
  __int64 v14; // rcx
  __int64 v15; // rax
  unsigned __int64 *v16; // rax
  signed __int64 v17; // rdx
  __int64 v18; // rsi
  __int64 v19; // rsi
  __int64 v20; // rcx
  __int64 v21; // rbp
  __int64 v22; // rbx
  __int64 v23; // rax
  __int64 v24; // r8
  __int64 v25; // rcx
  char v27; // [rsp+60h] [rbp+8h] BYREF

  v4 = *(_QWORD *)(a1 + 0x450);
  v7 = 0;
  if ( v4 && *(_QWORD *)((v4 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v4) && a2 && (a4 || *(_QWORD *)(a1 + 0x4C0) == a1) )
  {
    if ( (v4 & 0xFFFFFFFFFFFFLL) != 0 )
      LOBYTE(v4) = sub_141339470(a2, v4 & 0xFFFFFFFFFFFFLL | (*(_QWORD *)((v4 & 0xFFFFFFFFFFFFLL) + 8) << 0x30));
    v9 = *(_QWORD *)(a1 + 0x458);
    if ( v9 )
    {
      v10 = v9 & 0xFFFFFFFFFFFFLL;
      v4 = HIWORD(*(_QWORD *)(a1 + 0x458));
      if ( *(_QWORD *)(v10 + 8) == v4 )
      {
        if ( v10 )
          LOBYTE(v4) = sub_141339470(a2, v10 | (*(_QWORD *)(v10 + 8) << 0x30));
      }
    }
    v11 = *(_QWORD *)(a1 + 0x468);
    if ( v11 )
    {
      v12 = v11 & 0xFFFFFFFFFFFFLL;
      v4 = HIWORD(*(_QWORD *)(a1 + 0x468));
      if ( *(_QWORD *)(v12 + 8) == v4 )
      {
        if ( v12 )
          LOBYTE(v4) = sub_141339470(a2, v12 | (*(_QWORD *)(v12 + 8) << 0x30));
      }
    }
    if ( (*(_DWORD *)(a1 + 0x1C0) & 0x100) != 0 )
    {
      v13 = *(_DWORD *)(a1 + 0x1C0) & 0xF;
      v14 = sub_14030EC00((unsigned __int64 *)(a1 + 8)) ? *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL : 0LL;
      v4 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v14 + 0x4F8LL))(v14, v13);
      if ( v4 )
      {
        v15 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)v4 + 0x30LL))(v4);
        v16 = (unsigned __int64 *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)v15 + 0x28LL))(v15, &v27);
        LOBYTE(v4) = sub_141339470(a2, *v16);
      }
    }
  }
  if ( a3 )
  {
    if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++dword_149AC4C0C;
    }
    else
    {
      v17 = _InterlockedIncrement64(&qword_149AC4BF8);
      if ( (v17 & 0x200000) != 0 )
        sub_1403CB300(
          (__int64)&qword_149AC4BF8,
          v17,
          "CPhysicalProxy::BuildChildIgnoreList",
          "CEntity::s_aggregateHierarchyLock",
          1);
    }
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v18 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v18 = 0;
    v19 = *(_QWORD *)(v18 + 0x130);
    if ( v19 )
    {
      v20 = *(_QWORD *)(v19 + 0x1B8);
      if ( (*(_QWORD *)(v19 + 0x1C0) - v20) >> 3 )
      {
        v21 = 0;
        do
        {
          v22 = *(_QWORD *)(v20 + v21) & 0xFFFFFFFFFFFFLL;
          v23 = sub_146B4E3D0(v22);
          if ( v23 )
          {
            v25 = *(_QWORD *)(v22 + 0x130);
            if ( !v25 || (*(_BYTE *)(v25 + 0x140) & 8) == 0 )
            {
              LOBYTE(v24) = 1;
              sub_146A800D0(v23, a2, v24, 0);
            }
          }
          v20 = *(_QWORD *)(v19 + 0x1B8);
          ++v7;
          v21 += 8;
        }
        while ( v7 < (unsigned __int64)((*(_QWORD *)(v19 + 0x1C0) - v20) >> 3) );
      }
    }
    LOBYTE(v4) = sub_1402D2790((__int64)&qword_149AC4BF8);
  }
  return v4;
}

// --- End Function: sub_146A800D0 (0x146A800D0) ---

// --- Function: sub_146A85370 (0x146A85370) ---
void __fastcall sub_146A85370(__int64 a1, unsigned __int64 a2, __int64 a3, __int64 a4)
{
  unsigned __int64 v4; // r10
  unsigned __int64 *v9; // r14
  int v10; // r9d
  __int64 v11; // rsi
  __int64 v12; // r14
  __int64 v13; // rax
  char *v14; // rdx
  __int64 i; // rcx
  __int64 v16; // rdi
  unsigned __int64 *v17; // rbx
  __int64 v18; // rbx
  __int64 v19; // rdi
  char n2; // bl
  __int64 v21; // rax
  char v22; // [rsp+30h] [rbp-1A8h] BYREF
  char v23; // [rsp+38h] [rbp-1A0h] BYREF
  int v24; // [rsp+40h] [rbp-198h] BYREF
  int v25; // [rsp+44h] [rbp-194h]
  unsigned __int64 v26; // [rsp+1E0h] [rbp+8h] BYREF

  v4 = *(_QWORD *)(a1 + 0x450);
  if ( v4 && *(_QWORD *)((*(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v4) )
  {
    v9 = sub_146B49710(a2, &v26);
    v11 = 0;
    if ( sub_14030EC00(v9) )
      v12 = *v9 & 0xFFFFFFFFFFFFLL;
    else
      v12 = 0;
    if ( (*(_DWORD *)(v12 + 0x118) & 0x40000000) != 0 )
    {
      if ( (*(_DWORD *)(a1 + 0x1C0) & 0x10) == 0 )
        *(_DWORD *)(a1 + 0x1C0) |= 0x20u;
      LOBYTE(v10) = 1;
      sub_146AAB270(a1, 0, 0x13, v10, a4);
    }
    else
    {
      v13 = sub_146B4E3D0(a2);
      v14 = &v22;
      for ( i = a2; ; i = v18 )
      {
        v16 = v13;
        v17 = sub_146B4D140(i, v14);
        if ( sub_14030EC00(v17) )
          v18 = *v17 & 0xFFFFFFFFFFFFLL;
        else
          v18 = 0;
        if ( v16 && (*(_DWORD *)(a2 + 0x118) & 0x4000) == 0 && (*(_BYTE *)(v16 + 0x1C0) & 0x20) == 0 )
          goto LABEL_20;
        if ( !v18 )
          break;
        v13 = sub_146B4E3D0(v18);
        v14 = &v23;
      }
      if ( v16 )
      {
LABEL_20:
        v19 = *(_QWORD *)(v16 + 0x4C0);
        goto LABEL_22;
      }
      v19 = a1;
LABEL_22:
      sub_146A72520(&v24, a3);
      if ( !sub_146875B10(v12) || (n2 = 0x13, (v25 & 4) != 0) )
      {
        n2 = 2;
      }
      else if ( (v25 & 8) != 0 )
      {
        n2 = 0x11;
      }
      if ( sub_146B4E3D0(v12) )
      {
        v21 = sub_146B4E3D0(v12);
        if ( !sub_146AD3840(v21, n2) )
          goto LABEL_33;
      }
      if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
        v11 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)(v11 + 0x130) && (*(_BYTE *)(*(_QWORD *)(sub_146AB3220(a1) + 0x130) + 0x140LL) & 0x10) != 0 )
LABEL_33:
        v25 |= 0x10u;
      sub_146A833D0(a1, v19, &v24, 0, a4);
      sub_140374950((__int64)&v24);
    }
  }
}

// --- End Function: sub_146A85370 (0x146A85370) ---

// --- Function: sub_146A94C20 (0x146A94C20) ---
__int64 __fastcall sub_146A94C20(__int64 a1, __int64 a2)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  __int128 v4; // xmm8
  __int128 v5; // xmm9
  __int64 v6; // r15
  __int64 result; // rax
  unsigned __int64 v9; // rcx
  float v10; // xmm6_4
  float v11; // xmm8_4
  _QWORD *v12; // rcx
  float v13; // xmm9_4
  float v14; // kr00_4
  __int64 v15; // rcx
  const char *v16; // rax
  int v17; // eax
  __int64 v18; // rdx
  int v23; // eax
  __int64 v24; // rdx
  __int64 v25; // rax
  __int64 v26; // rbx
  unsigned __int64 allocSize; // rdi
  __int64 v28; // r12
  __int64 v29; // rax
  __int64 v30; // rdx
  unsigned int v31; // edi
  __int64 v32; // rdx
  int v33; // r8d
  char v34; // r13
  __int64 v35; // rdx
  int v36; // ebx
  __int64 v37; // rdx
  __int64 v38; // rax
  __int64 v39; // rax
  __int64 v40; // rax
  __int64 v41; // rbx
  __int64 v42; // rax
  __int64 v43; // rdi
  __int64 v44; // rcx
  const char *v45; // rax
  unsigned __int64 v46; // r13
  __int64 v47; // rdx
  unsigned __int64 v48; // r8
  unsigned __int64 v49; // r15
  __int64 v50; // rcx
  char *v51; // rax
  __int64 *v52; // rax
  __int64 v53; // rcx
  __int64 (__fastcall *v54)(__int64 *, __int64, __int128 *, __int128 *, _QWORD); // r10
  __int64 v55; // rbx
  __int64 v56; // rax
  __int64 v57; // rdi
  __int64 v58; // rcx
  const char *v59; // rax
  __int64 v60; // r8
  int v61; // ebx
  __int64 v62; // r8
  __int64 v63; // r8
  __int64 v64; // rdx
  __int64 v65; // rdx
  __int64 v66; // rcx
  __int64 v67; // rdx
  __int64 v68; // rcx
  __int64 v69; // rcx
  unsigned __int64 v70; // rcx
  volatile signed __int64 *v71; // rdi
  int v72; // ebx
  unsigned __int64 v73; // rax
  int *v74; // rbx
  int *v75; // rax
  __int64 v76; // rcx
  int v77; // eax
  int v78; // eax
  unsigned __int64 n0x200000; // rax
  const void *v80; // rbx
  __int64 v81; // rcx
  const char *v82; // rax
  __int64 v83; // rax
  double v84; // xmm1_8
  double v85; // xmm0_8
  double v86; // kr00_8
  __int64 v87; // rax
  __int64 v88; // rcx
  int n0xA; // eax
  __int64 v90; // rdi
  __int64 (__fastcall *v91)(__int64, __int64 *, int *, __int64); // rbx
  __int64 v92; // rax
  int v93; // eax
  __int64 v94; // rsi
  const char *v95; // rax
  int v96; // [rsp+30h] [rbp-D0h] BYREF
  _BYTE v97[24]; // [rsp+38h] [rbp-C8h] BYREF
  __int64 v98; // [rsp+50h] [rbp-B0h] BYREF
  _DWORD v99[6]; // [rsp+58h] [rbp-A8h] BYREF
  __int128 v100; // [rsp+70h] [rbp-90h]
  __int128 v101; // [rsp+80h] [rbp-80h]
  __int64 n5; // [rsp+90h] [rbp-70h] BYREF
  __int64 v103; // [rsp+98h] [rbp-68h]
  unsigned int v104; // [rsp+A0h] [rbp-60h]
  __int64 v105; // [rsp+A8h] [rbp-58h]
  int v106; // [rsp+B0h] [rbp-50h]
  __int64 v107; // [rsp+B8h] [rbp-48h]
  __int128 v108; // [rsp+C0h] [rbp-40h]
  _OWORD v109[3]; // [rsp+D0h] [rbp-30h] BYREF
  char v110; // [rsp+100h] [rbp+0h]
  __int128 v111; // [rsp+110h] [rbp+10h] BYREF
  __int128 v112; // [rsp+120h] [rbp+20h] BYREF
  _BYTE v113[4]; // [rsp+130h] [rbp+30h] BYREF
  float v114; // [rsp+134h] [rbp+34h]
  float v115; // [rsp+138h] [rbp+38h]
  __int64 v116; // [rsp+13Ch] [rbp+3Ch]
  int v117; // [rsp+144h] [rbp+44h]
  __int128 v118; // [rsp+148h] [rbp+48h]
  int v119; // [rsp+158h] [rbp+58h]
  __int64 n0x4000; // [rsp+178h] [rbp+78h]
  __int64 v121; // [rsp+180h] [rbp+80h]
  __int64 v122; // [rsp+1A8h] [rbp+A8h]
  int n2; // [rsp+1B0h] [rbp+B0h]
  char v124; // [rsp+1DCh] [rbp+DCh]
  __int64 v125; // [rsp+1E0h] [rbp+E0h]
  unsigned int v126; // [rsp+1E8h] [rbp+E8h]
  __int64 v127[2]; // [rsp+1F0h] [rbp+F0h] BYREF
  _DWORD v128[4]; // [rsp+200h] [rbp+100h] BYREF
  _BYTE v129[72]; // [rsp+210h] [rbp+110h] BYREF
  __int64 n0x8000; // [rsp+258h] [rbp+158h]
  __int64 v131; // [rsp+2C0h] [rbp+1C0h]
  int v132; // [rsp+2C8h] [rbp+1C8h]
  __int64 v133; // [rsp+2D0h] [rbp+1D0h] BYREF
  int v134[4]; // [rsp+2E0h] [rbp+1E0h] BYREF
  int n0x1B; // [rsp+2F0h] [rbp+1F0h] BYREF
  double v136; // [rsp+2F4h] [rbp+1F4h]
  int v137; // [rsp+2FCh] [rbp+1FCh]
  double v138; // [rsp+300h] [rbp+200h]
  float v139; // [rsp+308h] [rbp+208h]
  float v140; // [rsp+30Ch] [rbp+20Ch]
  unsigned int v141; // [rsp+310h] [rbp+210h]
  unsigned int v142; // [rsp+314h] [rbp+214h]
  int n0x8000_1; // [rsp+318h] [rbp+218h]
  int v144; // [rsp+31Ch] [rbp+21Ch]
  __int64 v145; // [rsp+320h] [rbp+220h]
  int v146; // [rsp+328h] [rbp+228h]
  __int64 v147; // [rsp+330h] [rbp+230h]
  __int64 v148; // [rsp+338h] [rbp+238h]
  __int64 v149; // [rsp+340h] [rbp+240h]
  __int64 v150; // [rsp+348h] [rbp+248h]
  int v151; // [rsp+350h] [rbp+250h]
  char v152; // [rsp+354h] [rbp+254h]
  char v153; // [rsp+355h] [rbp+255h]
  char v154; // [rsp+356h] [rbp+256h]
  char v155; // [rsp+357h] [rbp+257h]
  char v156; // [rsp+358h] [rbp+258h]
  bool v157; // [rsp+359h] [rbp+259h]
  char v158; // [rsp+35Ah] [rbp+25Ah]
  char v159; // [rsp+35Bh] [rbp+25Bh]
  char v160; // [rsp+35Ch] [rbp+25Ch]
  char v161; // [rsp+35Dh] [rbp+25Dh]
  int n0xE; // [rsp+360h] [rbp+260h] BYREF
  _BYTE v163[12]; // [rsp+364h] [rbp+264h]
  double v164; // [rsp+370h] [rbp+270h]
  double v165; // [rsp+378h] [rbp+278h]
  double v166; // [rsp+380h] [rbp+280h]
  double v167; // [rsp+388h] [rbp+288h]
  __int128 v168; // [rsp+390h] [rbp+290h]
  unsigned int v169; // [rsp+3A0h] [rbp+2A0h]
  unsigned int v170; // [rsp+3A4h] [rbp+2A4h]
  int v171; // [rsp+3A8h] [rbp+2A8h]
  unsigned int v172; // [rsp+3ACh] [rbp+2ACh]
  char Buffer[256]; // [rsp+3B0h] [rbp+2B0h] BYREF
  char Buffer_[256]; // [rsp+4B0h] [rbp+3B0h] BYREF
  __int128 v175; // [rsp+5C0h] [rbp+4C0h]
  __int128 v176; // [rsp+5D0h] [rbp+4D0h]
  __int128 v177; // [rsp+5E0h] [rbp+4E0h]
  __int128 v178; // [rsp+5F0h] [rbp+4F0h]

  v6 = a2;
  v98 = a2;
  result = (__int64)memset(Buffer, 0, sizeof(Buffer));
  if ( !v6 || *(_BYTE *)(a1 + 0x5B0) )
    return result;
  v9 = *(_QWORD *)(a1 + 0x450);
  if ( !v9 || *(_QWORD *)((v9 & 0xFFFFFFFFFFFFLL) + 8) != HIWORD(v9) )
  {
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v94 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v94 = 0;
    v95 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v94 + 0x70LL))(v94);
    return sub_1405C0E00(6u, 1u, "Cant create a local physics grid if there is no Physical Entity on Entity %s!", v95);
  }
  v178 = v2;
  v177 = v3;
  v176 = v4;
  v175 = v5;
  v99[0] = 0xF;
  v99[1] = 0x80000000;
  v99[3] = 0x80000000;
  v99[2] = 0x1001000;
  sub_146AFA280(a1, v99, 0);
  v10 = -9.9999999e14;
  v11 = 9.9999999e14;
  *(_DWORD *)(a1 + 0x1C0) |= 0x200000u;
  v12 = *(_QWORD **)(v6 + 8);
  *(float *)&v97[0x14] = -9.9999999e14;
  *(float *)v97 = 9.9999999e14;
  *(_OWORD *)&v97[4] = xmmword_148490550;
  if ( v12 )
  {
    (*(void (__fastcall **)(_QWORD, int *))(*(_QWORD *)*v12 + 0x30LL))(*v12, &n0xE);
    v13 = *(float *)&v167 + *((float *)&v168 + 1);
    v10 = *(float *)&v168 + *((float *)&v168 + 3);
    v14 = *(float *)&v167 - *((float *)&v168 + 1);
    v11 = *(float *)&v167 - *((float *)&v168 + 1);
    *(float *)&v97[0xC] = *(float *)&v167 + *((float *)&v168 + 1);
    *(float *)&v97[0x14] = *(float *)&v168 + *((float *)&v168 + 3);
    *(float *)&v97[4] = *((float *)&v167 + 1) - *((float *)&v168 + 2);
    *(float *)&v97[8] = *(float *)&v168 - *((float *)&v168 + 3);
    *(float *)&v97[0x10] = *((float *)&v167 + 1) + *((float *)&v168 + 2);
    sub_141EF0850((__int64)v129);
    n0x8000 = 0x8000;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v15 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v15 = 0;
    v16 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x70LL))(v15);
    sub_141EEF430(Buffer, &v133, v134, "localgrid-voxelization-proxy:%s", v16);
    v17 = sub_1403E2C40(v133);
    v18 = *(_QWORD *)(v6 + 8);
    v132 = v17;
    v131 = *(_QWORD *)(a1 + 8);
    sub_146A7E0C0(a1, v18, (__int64)v129, 5, 0xFFFFFFFF);
    *(float *)v97 = v14;
  }
  else
  {
    v13 = *(float *)&v97[0xC];
  }
  _XMM7 = 0;
  __asm { vcmpltss xmm1, xmm7, xmm2 }
  _XMM0 = 0xFFBFFFFF;
  __asm { vblendvps xmm0, xmm0, xmm2, xmm1 }
  v155 = *(_BYTE *)(v6 + 0x59);
  v23 = *(_DWORD *)v6;
  v140 = *(float *)&_XMM0;
  n0x1B = 0x1B;
  LODWORD(v136) = 0xFFBFFFFF;
  LODWORD(v138) = 0xFFBFFFFF;
  v141 = 0x80000000;
  v142 = 0x80000000;
  v145 = 0;
  v148 = 0;
  v149 = 0;
  v150 = 0;
  v151 = 1;
  v154 = 0;
  v156 = 0;
  v158 = 0;
  v146 = 0;
  v147 = 0;
  v144 = v23;
  if ( v11 <= v13 )
  {
    v136 = *(double *)v97;
    v138 = *(double *)&v97[0xC];
    v139 = v10;
    v137 = *(_DWORD *)&v97[8];
  }
  v24 = *(_QWORD *)(v6 + 0x18);
  v152 = *(_BYTE *)(v6 + 0x6D);
  v153 = *(_BYTE *)(v6 + 0x6E);
  v159 = *(_BYTE *)(v6 + 0x6F);
  v161 = *(_BYTE *)(v6 + 0x70);
  n0x8000_1 = 0x8000;
  if ( !v24 || *(_BYTE *)(v6 + 0x10) )
  {
    if ( !*(_DWORD *)(v6 + 0x68) )
    {
      n0xE = 0xE;
      DWORD2(v168) = 0xFFBFFFFF;
      v170 = 0xFFBFFFFF;
      v83 = sub_146AB3220(a1);
      sub_146B53CB0(v83, v97, 0);
      v84 = *(double *)v97 + *(double *)(v6 + 0x40);
      *(double *)&v163[4] = *(double *)v97 + *(double *)(v6 + 0x28);
      v164 = *(double *)&v97[8] + *(double *)(v6 + 0x30);
      v165 = *(double *)&v97[0x10] + *(double *)(v6 + 0x38);
      v85 = *(double *)&v97[8] + *(double *)(v6 + 0x48);
      v166 = v84;
      v86 = *(double *)&v97[0x10] + *(double *)(v6 + 0x50);
      v167 = v85;
      *(double *)&v168 = v86;
      sub_146AFA280(a1, &n0xE, 0);
      v151 = *(_DWORD *)(v6 + 0x68);
    }
  }
  else
  {
    v25 = (*(__int64 (__fastcall **)(__int64, __int64, const char *, _QWORD))(*(_QWORD *)qword_149B4FC18 + 0x138LL))(
            qword_149B4FC18,
            v24,
            "rb",
            0);
    v26 = v25;
    if ( v25 )
    {
      allocSize = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FC18 + 0x188LL))(
                    qword_149B4FC18,
                    v25);
      v28 = allocWithProfilerInfo(allocSize, 0);
      (*(void (__fastcall **)(__int64, __int64, unsigned __int64, __int64, const char *))(*(_QWORD *)qword_149B4FC18
                                                                                        + 0x158LL))(
        qword_149B4FC18,
        v28,
        allocSize,
        v26,
        "CPhysicalProxy::CreateLocalPhysicsGrid");
      v29 = allocWithProfilerInfo_w(0x20u);
      if ( v29 )
      {
        *(_QWORD *)v29 = v28;
        *(_DWORD *)(v29 + 0x10) = allocSize;
        *(_DWORD *)(v29 + 0xC) = 0;
        *(_BYTE *)(v29 + 0x14) = 0;
        *(_DWORD *)(v29 + 0x18) = 0;
      }
      else
      {
        v29 = 0;
      }
      v145 = v29;
      *(_BYTE *)(v29 + 0x14) = 1;
      (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FC18 + 0x1D0LL))(qword_149B4FC18, v26);
      v30 = *(int *)(v145 + 0xC);
      v31 = *(_DWORD *)(v30 + *(_QWORD *)v145);
      *(_DWORD *)(v145 + 0xC) = v30 + 4;
      if ( v31 == 0xCAFEBAC3 )
        goto LABEL_22;
      if ( v31 + 0x35014541 <= 3 )
      {
        if ( v31 != 0xCAFEBAC2 )
        {
LABEL_23:
          if ( v31 + 0x35014540 > 2 )
          {
            v34 = 0;
LABEL_26:
            *(_DWORD *)(v145 + 0xC) += 0xC;
            *(_DWORD *)(v145 + 0xC) += 0xC;
            v35 = *(int *)(v145 + 0xC);
            v36 = *(_DWORD *)(v35 + *(_QWORD *)v145);
            *(_DWORD *)(v145 + 0xC) = v35 + 4;
            v37 = *(int *)(v145 + 0xC);
            v96 = *(_DWORD *)(v37 + *(_QWORD *)v145);
            *(_DWORD *)(v145 + 0xC) = v37 + 4;
            sub_141EF0850((__int64)v113);
            v125 = *(_QWORD *)(a1 + 8);
            v121 = 0;
            n0x4000 = 0x4000;
            v124 = 1;
            v114 = 0.0;
            v115 = 0.0;
            if ( v36 )
            {
              v38 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC00 + 0x50LL))(qword_149B4FC00);
              v39 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v38 + 0x108LL))(v38, v145, v31);
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v39 + 8LL))(v39);
            }
            if ( v96 )
            {
              v40 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC00 + 0x50LL))(qword_149B4FC00);
              v41 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v40 + 0x108LL))(v40, v145, v31);
              v42 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC00 + 0x50LL))(qword_149B4FC00);
              v43 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD, _QWORD, _DWORD))(*(_QWORD *)v42 + 0x50LL))(
                      v42,
                      v41,
                      0,
                      0,
                      0);
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v41 + 8LL))(v41);
              *(_DWORD *)(v43 + 0x4C) = *(_DWORD *)(v43 + 0x4C) & 0x3FFFFFFF | 0x40000000;
              if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
                v44 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
              else
                v44 = 0;
              v45 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v44 + 0x70LL))(v44);
              sub_141EEF430(Buffer, v127, v128, "localgrid-bitvoxel:%s", v45);
              v126 = sub_1403E2C40(v127[0]);
              sub_146A7E0C0(a1, v43, (__int64)v113, 5, 0xFFFFFFFF);
            }
            if ( v34 )
            {
              v46 = 0;
              v47 = *(int *)(v145 + 0xC);
              v48 = *(int *)(v47 + *(_QWORD *)v145);
              *(_DWORD *)(v145 + 0xC) = v47 + 4;
              if ( (_DWORD)v48 )
              {
                v49 = v48;
                do
                {
                  memset(Buffer_, 0, sizeof(Buffer_));
                  v50 = *(int *)(v145 + 0xC);
                  v51 = *(char **)v145;
                  v116 = *(_QWORD *)(v50 + *(_QWORD *)v145);
                  v117 = *(_DWORD *)&v51[v50 + 8];
                  *(_DWORD *)(v145 + 0xC) += 0xC;
                  v118 = *(_OWORD *)(*(int *)(v145 + 0xC) + *(_QWORD *)v145);
                  *(_DWORD *)(v145 + 0xC) += 0x10;
                  v119 = *(_DWORD *)(*(int *)(v145 + 0xC) + *(_QWORD *)v145);
                  *(_DWORD *)(v145 + 0xC) += 4;
                  *(_DWORD *)(v145 + 0xC) += 0xC;
                  *(_DWORD *)(v145 + 0xC) += 0xC;
                  v52 = (__int64 *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC00 + 0x50LL))(qword_149B4FC00);
                  *(_QWORD *)&v100 = 0;
                  DWORD2(v100) = 2;
                  v53 = *v52;
                  *(_QWORD *)&v101 = 0;
                  DWORD2(v101) = 0xC;
                  v54 = *(__int64 (__fastcall **)(__int64 *, __int64, __int128 *, __int128 *, _QWORD))(v53 + 0x70);
                  v111 = v100;
                  v112 = v101;
                  v55 = v54(v52, v145, &v112, &v111, 0);
                  v56 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC00 + 0x50LL))(qword_149B4FC00);
                  v57 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD, _QWORD, _DWORD))(*(_QWORD *)v56 + 0x40LL))(
                          v56,
                          v55,
                          0,
                          0,
                          0);
                  (*(void (__fastcall **)(__int64))(*(_QWORD *)v55 + 0x18LL))(v55);
                  *(_DWORD *)(v57 + 0x4C) |= 0xC0000000;
                  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
                    v58 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
                  else
                    v58 = 0;
                  v59 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v58 + 0x70LL))(v58);
                  sub_141EEF430(Buffer_, v127, v128, "localgrid-prim:%d:%s", v46, v59);
                  v60 = 0xFFFFFFFFFFFFFFFFuLL;
                  do
                    ++v60;
                  while ( *(_BYTE *)(v127[0] + v60) );
                  v126 = ~(unsigned int)psub_1403360E0(0xFFFFFFFF, v127[0], v60);
                  if ( !v122 )
                  {
                    v122 = *(_QWORD *)(a1 + 8);
                    v125 = v122;
                    n2 = 2;
                  }
                  v96 = sub_146A7CF10(a1, v57, (unsigned int)v113, 0xFFFFFFFF, 0);
                  v61 = v96;
                  if ( v96 >= 0 )
                  {
                    n5 = 5;
                    v103 = 0;
                    v105 = 0;
                    v108 = 0;
                    memset(v109, 0, sizeof(v109));
                    v106 = 0;
                    v107 = 0;
                    v110 = 0;
                    v104 = 0xFFFFFFFF;
                    sub_140344E10((__int64)v109, 0, &v96);
                    LOBYTE(v62) = 1;
                    v103 = *(_QWORD *)(a1 + 8);
                    sub_146A7DF40(a1, &n5, v62);
                    v64 = *(_QWORD *)(a1 + 0x460);
                    if ( v64 )
                    {
                      v65 = v64 & 0xFFFFFFFFFFFFLL;
                      v66 = HIWORD(*(_QWORD *)(a1 + 0x460));
                      LOBYTE(v63) = *(_QWORD *)(v65 + 8) == v66;
                      if ( *(_QWORD *)(v65 + 8) == v66 )
                        sub_146A7CF10(a1, v57, (unsigned int)v113, v61, v65);
                    }
                    v67 = *(_QWORD *)(a1 + 0x468);
                    if ( v67 )
                    {
                      v67 &= 0xFFFFFFFFFFFFuLL;
                      v68 = HIWORD(*(_QWORD *)(a1 + 0x468));
                      LOBYTE(v63) = *(_QWORD *)(v67 + 8) == v68;
                      if ( *(_QWORD *)(v67 + 8) == v68 )
                        sub_146A7CF10(a1, v57, (unsigned int)v113, v61, v67);
                    }
                    v69 = *(_QWORD *)(a1 + 0x4C0);
                    if ( v69 != a1 )
                    {
                      v70 = *(_QWORD *)(v69 + 0x450);
                      if ( v70 )
                      {
                        v67 = 0xFFFFFFFFFFFFLL;
                        if ( *(_QWORD *)((v70 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v70) )
                        {
                          v71 = (volatile signed __int64 *)(a1 + 0x538);
                          v72 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
                          if ( *(_DWORD *)(a1 + 0x548) == v72 )
                          {
                            ++*(_DWORD *)(a1 + 0x54C);
                          }
                          else
                          {
                            v63 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
                            v73 = _InterlockedCompareExchange64(v71, 0x200000, 0);
                            if ( v73 )
                              sub_1403DCD60(
                                a1 + 0x538,
                                v73,
                                v63,
                                "CPhysicalProxy::AddPhysicsGeometry",
                                "m_compoundedPhysicsBlocksLock",
                                1);
                            else
                              *(_QWORD *)(a1 + 0x540) = v63;
                            *(_DWORD *)(a1 + 0x548) = v72;
                          }
                          v74 = *(int **)(a1 + 0x528);
                          v75 = *(int **)(a1 + 0x520);
                          if ( v74 != v75 )
                          {
                            while ( 1 )
                            {
                              v74 += 0xFFFFFFE2;
                              if ( v74[1] == HIDWORD(n5) )
                                break;
                              if ( v74 == v75 )
                                goto LABEL_67;
                            }
                            if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
                              v76 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
                            else
                              v76 = 0;
                            v77 = sub_146B4E140(v76);
                            sub_146A91AD0(a1, *(_QWORD **)(a1 + 0x4C0), v74, v77, 0, 1);
                          }
LABEL_67:
                          if ( a1 != 0xFFFFFFFFFFFFFAC8uLL )
                          {
                            v78 = *(_DWORD *)(a1 + 0x54C);
                            if ( v78 )
                            {
                              *(_DWORD *)(a1 + 0x54C) = v78 - 1;
                            }
                            else
                            {
                              *(_DWORD *)(a1 + 0x548) = 0xFFFFFFFF;
                              n0x200000 = _InterlockedCompareExchange64(v71, 0, 0x200000);
                              if ( n0x200000 == 0x200000 )
                                *(_QWORD *)(a1 + 0x540) = &p_p_p_p_p_p_p_p_p_p_p_Source;
                              else
                                sub_1403DD380(a1 + 0x538, n0x200000);
                            }
                          }
                        }
                      }
                    }
                    sub_146A757C0(&n5, v67, v63);
                  }
                  ++v46;
                }
                while ( v46 < v49 );
                v6 = v98;
              }
            }
            v80 = (const void *)v145;
            if ( v145 )
            {
              if ( *(_BYTE *)(v145 + 0x14) )
                sub_147605980(*(const void **)v145);
              sub_1402A3D30(v80);
            }
            v145 = 0;
            v158 = 1;
            goto LABEL_87;
          }
LABEL_25:
          v34 = 1;
          goto LABEL_26;
        }
LABEL_22:
        v32 = *(int *)(v145 + 0xC);
        v33 = *(_DWORD *)(v32 + *(_QWORD *)v145);
        *(_DWORD *)(v145 + 0xC) = v32 + 4;
        *(_DWORD *)(v145 + 0xC) += v33;
        if ( v31 == 0xCAFEBAC3 )
          goto LABEL_25;
        goto LABEL_23;
      }
    }
    else
    {
      if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
        v81 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      else
        v81 = 0;
      v82 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v81 + 0x70LL))(v81);
      sub_1405C0E00(
        6u,
        1u,
        "Cant open interior voxel file %s while trying to create local grid for Entity %s!",
        *(const char **)(v6 + 0x18),
        v82);
    }
  }
LABEL_87:
  if ( *(_QWORD *)(v6 + 0x18) )
  {
    v87 = v149;
    if ( *(_BYTE *)(v6 + 0x10) )
      v87 = *(_QWORD *)(v6 + 0x18);
    v149 = v87;
  }
  v88 = *(_QWORD *)(a1 + 0x450);
  v157 = *(_BYTE *)(v6 + 0x6C) != 0;
  n0xA = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v88 & 0xFFFFFFFFFFFFLL) + 8LL))(v88 & 0xFFFFFFFFFFFFLL);
  if ( n0xA == 0xA || (v160 = 0, n0xA == 3) )
    v160 = 1;
  v90 = *(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL;
  v91 = *(__int64 (__fastcall **)(__int64, __int64 *, int *, __int64))(*(_QWORD *)v90 + 0x100LL);
  v92 = sub_146ABE200(a1);
  result = v91(v90, &v98, &n0x1B, v92);
  if ( v98 )
    result = sub_140522CF0(v98);
  if ( *(_BYTE *)(v6 + 0x58) )
  {
    v93 = *(_DWORD *)(v6 + 0x64);
    v168 = xmmword_1483ED440;
    *(_QWORD *)v163 = *(_QWORD *)(v6 + 0x5C);
    *(_QWORD *)&v164 = 0x80000000FFBFFFFFuLL;
    v165 = -2.247115882823591e307;
    v166 = NAN;
    v167 = -2.2471164175315e307;
    v169 = 0xFFBFFFFF;
    v170 = 0x80000000;
    n0xE = 0x1C;
    v171 = 0;
    v172 = 0x80000000;
    *(_DWORD *)&v163[8] = v93;
    result = sub_146AFA280(a1, &n0xE, 0);
  }
  *(_BYTE *)(a1 + 0x5B0) = 1;
  return result;
}

// --- End Function: sub_146A94C20 (0x146A94C20) ---

// --- Function: sub_146A9B490 (0x146A9B490) ---
unsigned __int64 __fastcall sub_146A9B490(__int64 a1, __int64 a2)
{
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  unsigned __int64 i; // rdi
  __int64 v8; // rcx
  __int64 v9; // rcx
  __int64 *v10; // r14
  char v11; // al
  char v12; // cl
  char v13; // al
  char v14; // cl
  char v15; // al
  int v16; // ecx
  double *v17; // rax
  double v18; // xmm15_8
  double v19; // xmm7_8
  double v20; // xmm1_8
  double v21; // xmm3_8
  double v22; // xmm5_8
  double v23; // xmm14_8
  double v24; // xmm9_8
  double v25; // xmm8_8
  double v26; // xmm3_8
  double v27; // xmm10_8
  double v28; // xmm12_8
  double v29; // xmm6_8
  double v30; // xmm1_8
  __int64 v31; // rax
  signed __int64 v32; // rdx
  __int64 v33; // r14
  __int64 v34; // r14
  __int64 v35; // rcx
  __int64 v36; // r14
  __int64 v37; // r8
  double v39[12]; // [rsp+40h] [rbp-C0h] BYREF
  char v40; // [rsp+A0h] [rbp-60h]
  char v41; // [rsp+A1h] [rbp-5Fh]
  char v42; // [rsp+A2h] [rbp-5Eh]
  char v43; // [rsp+A3h] [rbp-5Dh]
  char v44; // [rsp+A4h] [rbp-5Ch]
  char v45; // [rsp+A5h] [rbp-5Bh]
  char v46; // [rsp+A6h] [rbp-5Ah]
  char v47; // [rsp+A7h] [rbp-59h]
  unsigned int v48; // [rsp+A8h] [rbp-58h]
  char v49; // [rsp+B0h] [rbp-50h] BYREF
  char v50; // [rsp+F0h] [rbp-10h] BYREF
  double v51; // [rsp+200h] [rbp+100h]
  double v52; // [rsp+210h] [rbp+110h]
  double v53; // [rsp+218h] [rbp+118h]

  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(v3, v5, "CRenderProxy::DebugDraw", "m_SlotsLock", 1);
  }
  v6 = *(_QWORD *)(a1 + 0xE0);
  for ( i = 0; i < (*(_QWORD *)(a1 + 0xE8) - v6) >> 3; ++i )
  {
    v8 = *(_QWORD *)(v6 + 8 * i);
    if ( v8 )
    {
      v9 = *(_QWORD *)(v8 + 0x58);
      if ( v9 && (v10 = (__int64 *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v9 + 0x30LL))(v9)) != 0 )
      {
        v11 = *(_BYTE *)(a2 + 0x64);
        v40 = *(_BYTE *)(a2 + 0x60);
        v41 = *(_BYTE *)(a2 + 0x61);
        v12 = *(_BYTE *)(a2 + 0x62);
        v44 = v11;
        v13 = *(_BYTE *)(a2 + 0x65);
        v42 = v12;
        v14 = *(_BYTE *)(a2 + 0x63);
        v45 = v13;
        v15 = *(_BYTE *)(a2 + 0x66);
        v43 = v14;
        v16 = *(_DWORD *)(a2 + 0x68);
        v46 = v15;
        v47 = *(_BYTE *)(a2 + 0x67);
        v48 = v48 & 0xFFFFFFF8 | v16 & 7;
        v17 = (double *)((__int64 (__fastcall *)(_DWORD, unsigned int, _DWORD, _DWORD, char))sub_146AC15F0)(
                          a1,
                          (unsigned int)&v49,
                          i,
                          0,
                          0);
        v18 = v17[7];
        v19 = *v17;
        v20 = v17[3];
        v21 = v17[1];
        v22 = v17[2];
        v23 = (v21 + v21) * v20;
        v24 = (v21 + v21) * v21;
        v25 = (v21 + v21) * *v17;
        v51 = 1.0 - (v19 + v19) * v19;
        v53 = (v19 + v19) * v20;
        v52 = (v22 + v22) * v21;
        v26 = (v22 + v22) * v20;
        v27 = v17[4];
        v28 = (v22 + v22) * *v17;
        v29 = v17[5];
        v30 = v17[6];
        v39[0] = (1.0 - v24 - (v22 + v22) * v22) * v18;
        v39[1] = (v25 - v26) * v18;
        v39[2] = (v28 + v23) * v18;
        v39[3] = v27;
        v39[4] = (v26 + v25) * v18;
        v31 = *v10;
        v39[7] = v29;
        v39[0xA] = (v51 - v24) * v18;
        v39[5] = (v51 - (v22 + v22) * v22) * v18;
        v39[6] = (v52 - v53) * v18;
        v39[8] = (v28 - v23) * v18;
        v39[9] = (v52 + v53) * v18;
        v39[0xB] = v30;
        (*(void (__fastcall **)(__int64 *, double *))(v31 + 0x558))(v10, v39);
      }
      else
      {
        if ( *(_DWORD *)(v3 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
        {
          ++*(_DWORD *)(v3 + 0x14);
        }
        else
        {
          v32 = _InterlockedIncrement64((volatile signed __int64 *)v3);
          if ( (v32 & 0x200000) != 0 )
            sub_1403CB300(v3, v32, "CRenderProxy::GetGeomCacheRenderNode", "m_SlotsLock", 1);
        }
        if ( (i & 0x80000000) == 0LL
          && (v33 = *(_QWORD *)(a1 + 0xE0), (int)i < (int)((*(_QWORD *)(a1 + 0xE8) - v33) >> 3))
          && (v34 = *(_QWORD *)(v33 + 8LL * (int)i)) != 0 )
        {
          v35 = *(_QWORD *)(v34 + 0x90);
          if ( v35 && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v35 + 0x158LL))(v35) == 0x18 )
            v36 = *(_QWORD *)(v34 + 0x90);
          else
            v36 = 0;
          sub_1402D2790(v3);
          if ( v36 )
          {
            sub_146AC15F0(a1, (unsigned int)&v50, i, 0, 0);
            (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)v36 + 0x260LL))(v36, a2, v37, 0);
          }
        }
        else
        {
          sub_1402D2790(v3);
        }
      }
    }
    v6 = *(_QWORD *)(a1 + 0xE0);
  }
  return sub_1402D2790(v3);
}

// --- End Function: sub_146A9B490 (0x146A9B490) ---

// --- Function: sub_146AA2D10 (0x146AA2D10) ---
unsigned __int64 __fastcall sub_146AA2D10(__int64 a1)
{
  __int64 v2; // rcx
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 v4; // rcx
  unsigned __int64 v5; // rcx
  volatile signed __int64 *v6; // rdi
  int v7; // ebp
  __int64 v8; // r8
  unsigned __int64 v9; // rax
  unsigned __int64 v10; // rdx
  unsigned __int64 v11; // rax
  __int64 v12; // rcx
  __int64 v13; // rdx
  unsigned __int64 v14; // rdx
  unsigned __int64 v15; // rax
  __int64 v16; // rcx
  __int64 v17; // rdx
  int v18; // ebp
  int v19; // r9d
  __int64 v20; // r8
  unsigned __int64 v21; // rax
  int v22; // eax
  unsigned __int64 n0x200000; // rax
  int v24; // eax
  int n0x1D; // [rsp+70h] [rbp+8h] BYREF
  char v26; // [rsp+74h] [rbp+Ch]
  char v27; // [rsp+78h] [rbp+10h] BYREF

  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v2 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v2 = 0;
  n0x200000_1 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v2 + 0x58LL))(v2);
  if ( !(_BYTE)n0x200000_1 )
  {
    v4 = *(_QWORD *)(a1 + 0x450);
    if ( v4 )
    {
      n0x200000_1 = *(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)(n0x200000_1 + 8) == HIWORD(v4) )
      {
        v5 = *(_QWORD *)(a1 + 0x460);
        if ( v5 )
        {
          n0x200000_1 = *(_QWORD *)(a1 + 0x460) & 0xFFFFFFFFFFFFLL;
          if ( *(_QWORD *)(n0x200000_1 + 8) == HIWORD(v5) )
          {
            v6 = (volatile signed __int64 *)(a1 + 0x538);
            v7 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
            if ( *(_DWORD *)(a1 + 0x548) == v7 )
            {
              ++*(_DWORD *)(a1 + 0x54C);
            }
            else
            {
              v8 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
              v9 = _InterlockedCompareExchange64(v6, 0x200000, 0);
              if ( v9 )
                sub_1403DCD60(
                  a1 + 0x538,
                  v9,
                  v8,
                  "CPhysicalProxy::DestroyLocalPhysicsGrid",
                  "m_compoundedPhysicsBlocksLock",
                  1);
              else
                *(_QWORD *)(a1 + 0x540) = v8;
              *(_DWORD *)(a1 + 0x548) = v7;
            }
            v10 = *(_QWORD *)(a1 + 0x460);
            if ( v10 && *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v10) )
            {
              sub_146ADA1F0(a1, v10, 0, 0x1000, 0, 0, 0, 0);
              v11 = *(_QWORD *)(a1 + 0x460);
              if ( v11 )
              {
                v12 = *(_QWORD *)(a1 + 0x460) & 0xFFFFFFFFFFFFLL;
                LOBYTE(v11) = *(_QWORD *)(v12 + 8) == HIWORD(v11);
              }
              else
              {
                v12 = 0;
              }
              v13 = 0;
              if ( (_BYTE)v11 )
                v13 = v12;
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FC00 + 0x148LL))(
                qword_149B4FC00,
                v13,
                0);
              *(_QWORD *)(a1 + 0x460) = 0;
            }
            v14 = *(_QWORD *)(a1 + 0x468);
            if ( v14 && *(_QWORD *)((v14 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v14) )
            {
              sub_146ADA1F0(a1, v14, 0, 0, 0, 0, 0, 1);
              v15 = *(_QWORD *)(a1 + 0x468);
              if ( v15 )
              {
                v16 = *(_QWORD *)(a1 + 0x468) & 0xFFFFFFFFFFFFLL;
                LOBYTE(v15) = *(_QWORD *)(v16 + 8) == HIWORD(v15);
              }
              else
              {
                v16 = 0;
              }
              v17 = 0;
              if ( (_BYTE)v15 )
                v17 = v16;
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FC00 + 0x148LL))(
                qword_149B4FC00,
                v17,
                0);
              *(_QWORD *)(a1 + 0x468) = 0;
            }
            n0x1D = 0x1D;
            v26 = 0;
            n0x200000_1 = sub_146AFA280(a1, &n0x1D, 0);
            if ( !*(_BYTE *)(a1 + 0x5B0) )
            {
              if ( a1 == 0xFFFFFFFFFFFFFAC8uLL )
                return n0x200000_1;
              goto LABEL_50;
            }
            v18 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
            if ( *(_DWORD *)(a1 + 0x548) == v18 )
            {
              ++*(_DWORD *)(a1 + 0x54C);
            }
            else
            {
              v20 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
              v21 = _InterlockedCompareExchange64(v6, 0x200000, 0);
              if ( v21 )
                sub_1403DCD60(
                  a1 + 0x538,
                  v21,
                  v20,
                  "CPhysicalProxy::DestroyLocalPhysicsGrid",
                  "m_compoundedPhysicsBlocksLock",
                  1);
              else
                *(_QWORD *)(a1 + 0x540) = v20;
              *(_DWORD *)(a1 + 0x548) = v18;
            }
            n0x200000_1 = *(_QWORD *)(a1 + 0x520);
            while ( n0x200000_1 != *(_QWORD *)(a1 + 0x528) )
            {
              if ( *(_DWORD *)n0x200000_1 == 5 )
              {
                LOBYTE(v19) = 1;
                n0x200000_1 = *(_QWORD *)sub_146AF0E40(a1, (unsigned int)&v27, n0x200000_1, v19, 1, 1);
              }
              else
              {
                n0x200000_1 += 0x78LL;
              }
            }
            *(_BYTE *)(a1 + 0x5B0) = 0;
            if ( a1 != 0xFFFFFFFFFFFFFAC8uLL )
            {
              v22 = *(_DWORD *)(a1 + 0x54C);
              if ( v22 )
              {
                *(_DWORD *)(a1 + 0x54C) = v22 - 1;
              }
              else
              {
                *(_DWORD *)(a1 + 0x548) = 0xFFFFFFFF;
                n0x200000 = _InterlockedCompareExchange64(v6, 0, 0x200000);
                if ( n0x200000 == 0x200000 )
                  *(_QWORD *)(a1 + 0x540) = &p_p_p_p_p_p_p_p_p_p_p_Source;
                else
                  sub_1403DD380(a1 + 0x538, n0x200000);
              }
LABEL_50:
              v24 = *(_DWORD *)(a1 + 0x54C);
              if ( v24 )
              {
                n0x200000_1 = (unsigned int)(v24 - 1);
                *(_DWORD *)(a1 + 0x54C) = n0x200000_1;
              }
              else
              {
                *(_DWORD *)(a1 + 0x548) = 0xFFFFFFFF;
                n0x200000_1 = _InterlockedCompareExchange64(v6, 0, 0x200000);
                if ( n0x200000_1 == 0x200000 )
                  *(_QWORD *)(a1 + 0x540) = &p_p_p_p_p_p_p_p_p_p_p_Source;
                else
                  return (unsigned __int64)sub_1403DD380(a1 + 0x538, n0x200000_1);
              }
            }
          }
        }
      }
    }
  }
  return n0x200000_1;
}

// --- End Function: sub_146AA2D10 (0x146AA2D10) ---

// --- Function: sub_146AA5170 (0x146AA5170) ---
char __fastcall sub_146AA5170(__int64 a1, int a2)
{
  __int64 v2; // rdi
  __int64 v3; // rbx
  char v5; // r14
  __int64 v6; // rdx
  int v7; // ebp
  __int64 v8; // r8
  unsigned __int64 v9; // rax
  __int64 v10; // rcx
  __int64 v11; // rdi
  __int64 *v12; // rcx
  __int64 v13; // rax
  int v14; // eax
  int v15; // eax
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 n0x200000; // rax
  __int64 v19; // [rsp+50h] [rbp+8h] BYREF

  v2 = a2;
  v3 = a1 + 0x230;
  v5 = 0;
  v7 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(v3 + 0x10) == v7 )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v8 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v9 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0x200000, 0);
    if ( v9 )
      sub_1403DCD60(v3, v9, v8, "CRenderProxy::DetachSkinRenderObject", "m_SlotsLock", 1);
    else
      *(_QWORD *)(v3 + 8) = v8;
    *(_DWORD *)(v3 + 0x10) = v7;
  }
  if ( (int)v2 < 0 || (v10 = *(_QWORD *)(a1 + 0xE0), (int)v2 >= (int)((*(_QWORD *)(a1 + 0xE8) - v10) >> 3)) )
  {
LABEL_14:
    if ( v3 )
    {
      v14 = *(_DWORD *)(v3 + 0x14);
      if ( v14 )
      {
        *(_DWORD *)(v3 + 0x14) = v14 - 1;
      }
      else
      {
        *(_DWORD *)(v3 + 0x10) = 0xFFFFFFFF;
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0, 0x200000);
        if ( n0x200000 == 0x200000 )
          *(_QWORD *)(v3 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
        else
          sub_1403DD380(v3, n0x200000);
      }
    }
    LOBYTE(v6) = 1;
    sub_146AD1F20(a1, v6);
    return v5;
  }
  v11 = *(_QWORD *)(v10 + 8 * v2);
  v12 = *(__int64 **)(v11 + 0x68);
  if ( v12 && (*(_WORD *)(v11 + 0xD8) & 0x100) == 0 )
  {
    v13 = *v12;
    v19 = 0;
    (*(void (__fastcall **)(__int64 *, __int64 *))(v13 + 0x50))(v12, &v19);
    if ( v19 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v19 + 0x10LL))(v19);
    v5 = 1;
    *(_WORD *)(v11 + 0xD8) = *(_WORD *)(v11 + 0xD8) & 0xFEFE | 0x100;
    goto LABEL_14;
  }
  if ( v3 )
  {
    v15 = *(_DWORD *)(v3 + 0x14);
    if ( v15 )
    {
      *(_DWORD *)(v3 + 0x14) = v15 - 1;
      return 0;
    }
    *(_DWORD *)(v3 + 0x10) = 0xFFFFFFFF;
    n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0, 0x200000);
    if ( n0x200000_1 == 0x200000 )
    {
      *(_QWORD *)(v3 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      return 0;
    }
    sub_1403DD380(v3, n0x200000_1);
  }
  return 0;
}

// --- End Function: sub_146AA5170 (0x146AA5170) ---

// --- Function: sub_146AAB270 (0x146AAB270) ---
void __fastcall sub_146AAB270(__int64 a1, unsigned __int8 a2, unsigned int a3, char a4, __int64 a5)
{
  __int64 v6; // rsi
  unsigned int v7; // ebx
  int v9; // edx
  unsigned int v10; // ecx
  unsigned __int64 v11; // rcx
  __int64 v12; // rdx
  __int64 v13; // rcx
  __int64 v14; // rcx
  _BYTE v15[24]; // [rsp+20h] [rbp-78h] BYREF
  __int64 v16; // [rsp+38h] [rbp-60h]

  v6 = a2;
  v7 = a3;
  if ( (a3 & 8) == 0 )
  {
    v9 = *(_DWORD *)(a1 + 0x1C0);
    v10 = a3 & 0xFFFFFFFD;
    if ( (_BYTE)v6 == ((v9 & 0x10) != 0) )
      v10 = a3;
    v7 = v10 & 0xFFFFFFFE;
    if ( (_BYTE)v6 == ((v9 & 0x800000) != 0) )
      v7 = v10;
    if ( (_BYTE)v6 != (HIBYTE(v9) & 1) )
      v7 &= ~0x10u;
  }
  v11 = *(_QWORD *)(a1 + 0x450);
  if ( v11 && *(_QWORD *)((*(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v11) && (v7 & 0x1B) != 0 )
  {
    sub_146AAB3E0(a1, (unsigned __int8)v6, v7, a5);
    LOBYTE(v12) = 1;
    sub_146A8F5D0(a1, v12);
    sub_14036C3F0((__int64)v15, 0x10);
    v16 = v6;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v13 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v13 = 0;
    (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v13 + 0x2F0LL))(v13, v15);
    if ( *(_DWORD *)((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC00 + 0xF0LL))(qword_149B4FC00) + 0x104) )
    {
      v14 = a1 + 0x1C8;
      if ( (_BYTE)v6 )
        sub_146A805C0(v14);
      else
        sub_146AA6CC0(v14);
    }
    if ( a4 )
      sub_146AAA790(a1, (unsigned __int8)v6, v7, a5);
  }
}

// --- End Function: sub_146AAB270 (0x146AAB270) ---

// --- Function: sub_146AABD10 (0x146AABD10) ---
__int64 __fastcall sub_146AABD10(__int64 a1)
{
  __int64 result; // rax

  if ( a1 )
    return (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FCA0 + 0x158LL))(
             qword_149B4FCA0,
             6,
             2);
  return result;
}

// --- End Function: sub_146AABD10 (0x146AABD10) ---

// --- Function: sub_146AAE920 (0x146AAE920) ---
__int64 __fastcall sub_146AAE920(__int64 a1, unsigned int a2)
{
  volatile signed __int64 *v3; // rbx
  signed __int64 v4; // rdx
  __int64 v5; // rcx
  __int64 v6; // rdi
  unsigned int v8; // [rsp+68h] [rbp+10h] BYREF

  v8 = a2;
  sub_146AD99E0(a1, &v8, 0xFFFFFFFFLL);
  v3 = (volatile signed __int64 *)(a1 + 0x230);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v4 = _InterlockedIncrement64(v3);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v4, "CRenderProxy::FadeGlobalDensity", "m_SlotsLock", 1);
  }
  v5 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * (int)v8);
  v6 = *(_QWORD *)(v5 + 0x90);
  if ( v6 && (*(unsigned int (__fastcall **)(_QWORD))(*(_QWORD *)v6 + 0x158LL))(*(_QWORD *)(v5 + 0x90)) == 6 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v6 + 0x1F8LL))(v6);
  sub_1402D2790((__int64)v3);
  return v8;
}

// --- End Function: sub_146AAE920 (0x146AAE920) ---

// --- Function: sub_146AB2040 (0x146AB2040) ---
void __fastcall sub_146AB2040(__int64 a1, int a2)
{
  __int64 v2; // rbx
  _QWORD *v4; // rbp
  __int64 v5; // r14
  int v6; // edi
  __int64 v7; // r8
  unsigned __int64 v8; // rax
  __int64 *v9; // r15
  __int64 v10; // rcx
  __int64 v11; // rax
  __int64 v12; // rdi
  __int64 v13; // rcx
  __int64 v14; // rcx
  __int64 v15; // rax
  int v16; // eax
  __int64 v17; // rdx
  __int64 v18; // rax
  __int64 v19; // rdx
  __int64 v20; // r8
  __int64 v21; // rax
  int v22; // eax
  unsigned __int64 n0x200000; // rax
  __int64 v24; // rcx
  __int64 v25; // rcx

  v2 = a1 + 0x230;
  v4 = 0;
  v5 = a2;
  v6 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(v2 + 0x10) == v6 )
  {
    ++*(_DWORD *)(v2 + 0x14);
  }
  else
  {
    v7 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v8 = _InterlockedCompareExchange64((volatile signed __int64 *)v2, 0x200000, 0);
    if ( v8 )
      sub_1403DCD60(v2, v8, v7, "CRenderProxy::FreeSlot", "m_SlotsLock", 1);
    else
      *(_QWORD *)(v2 + 8) = v7;
    *(_DWORD *)(v2 + 0x10) = v6;
  }
  if ( (int)v5 < 0 )
    goto LABEL_30;
  v9 = (__int64 *)(a1 + 0xE0);
  v10 = *(_QWORD *)(a1 + 0xE0);
  if ( (int)v5 >= (int)((*(_QWORD *)(a1 + 0xE8) - v10) >> 3) )
    goto LABEL_30;
  v11 = *(_QWORD *)(v10 + 8 * v5);
  v12 = v5;
  if ( !v11 )
    goto LABEL_30;
  v4 = *(_QWORD **)(v10 + 8 * v5);
  if ( *(_QWORD *)(v11 + 0x80) )
  {
    v13 = *(_QWORD *)(a1 + 0x1A0);
    if ( v13 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x10LL))(v13);
  }
  *(_QWORD *)(*v9 + 8 * v5) = 0;
  v14 = *v9;
  if ( v5 != ((__int64)(*(_QWORD *)(a1 + 0xE8) - *(_QWORD *)(a1 + 0xE0)) >> 3) - 1 )
  {
    v16 = *(_DWORD *)(a1 + 0xF8);
    if ( v16 < (int)v5 )
      v16 = v5;
LABEL_23:
    *(_DWORD *)(a1 + 0xF8) = v16;
    goto LABEL_24;
  }
  do
  {
    if ( *(_QWORD *)(v14 + 8 * v12) )
      break;
    *(_QWORD *)(a1 + 0xE8) -= 8LL;
    --v12;
  }
  while ( v12 >= 0 );
  v15 = *(_QWORD *)(a1 + 0xE8) - v14;
  *(_DWORD *)(a1 + 0xF8) = 0xFFFFFFFF;
  v16 = (v15 >> 3) - 1;
  if ( v16 >= 0 )
  {
    v17 = v16;
    while ( *(_QWORD *)(v14 + 8 * v17) )
    {
      --v16;
      if ( --v17 < 0 )
        goto LABEL_24;
    }
    goto LABEL_23;
  }
LABEL_24:
  v18 = (*(_QWORD *)(a1 + 0xE8) - v14) >> 3;
  if ( (_DWORD)v18 )
  {
    v19 = 0;
    v20 = (unsigned int)v18;
    do
    {
      v21 = *(_QWORD *)(v14 + v19);
      if ( v21 && *(_QWORD **)(v21 + 0x50) == v4 )
      {
        *(_QWORD *)(v21 + 0x50) = 0;
        v14 = *v9;
      }
      v19 += 8;
      --v20;
    }
    while ( v20 );
  }
LABEL_30:
  if ( v2 )
  {
    v22 = *(_DWORD *)(v2 + 0x14);
    if ( v22 )
    {
      *(_DWORD *)(v2 + 0x14) = v22 - 1;
    }
    else
    {
      *(_DWORD *)(v2 + 0x10) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v2, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        *(_QWORD *)(v2 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380(v2, n0x200000);
    }
  }
  if ( v4 )
  {
    v24 = v4[0x12];
    if ( v24 && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v24 + 0x158LL))(v24) != 8 )
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v4[0x12] + 0x190LL))(v4[0x12]);
    v25 = v4[0x11];
    if ( v25 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v25 + 0x190LL))(v25);
    sub_146A73E70(v4);
    sub_1402A3D30(v4);
  }
}

// --- End Function: sub_146AB2040 (0x146AB2040) ---

// --- Function: sub_146AB26A0 (0x146AB26A0) ---
_QWORD *__fastcall sub_146AB26A0(__int64 a1, _QWORD *a2)
{
  _QWORD *result; // rax

  result = a2;
  *a2 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8LL);
  return result;
}

// --- End Function: sub_146AB26A0 (0x146AB26A0) ---

// --- Function: sub_146AB26C0 (0x146AB26C0) ---
_QWORD *__fastcall sub_146AB26C0(__int64 a1, _QWORD *a2)
{
  _QWORD *result; // rax

  result = a2;
  *a2 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 0x450LL);
  return result;
}

// --- End Function: sub_146AB26C0 (0x146AB26C0) ---

// --- Function: sub_146AB3260 (0x146AB3260) ---
__int64 __fastcall sub_146AB3260(__int64 a1, int a2)
{
  __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // rdi
  __int64 v8; // rdi

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(v3, v5, "CRenderProxy::GetCharacter", "m_SlotsLock", 1);
  }
  if ( (int)v2 >= 0
    && (v6 = *(_QWORD *)(a1 + 0xE0), (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3))
    && (v7 = *(_QWORD *)(v6 + 8 * v2)) != 0 )
  {
    v8 = *(_QWORD *)(v7 + 0x80);
  }
  else
  {
    v8 = 0;
  }
  sub_1402D2790(v3);
  return v8;
}

// --- End Function: sub_146AB3260 (0x146AB3260) ---

// --- Function: sub_146AB4F70 (0x146AB4F70) ---
_QWORD *__fastcall sub_146AB4F70(int a1, _QWORD *a2, int a3)
{
  unsigned int v5; // [rsp+30h] [rbp-58h] BYREF
  __int64 v6; // [rsp+38h] [rbp-50h]
  __int64 v7; // [rsp+40h] [rbp-48h]
  unsigned int v8; // [rsp+48h] [rbp-40h]
  __int64 v9; // [rsp+50h] [rbp-38h]
  unsigned int v10; // [rsp+58h] [rbp-30h]
  __int128 v11; // [rsp+60h] [rbp-28h]
  __int64 v12; // [rsp+70h] [rbp-18h]

  v5 = 0xFFFFFFFF;
  v6 = 0;
  v7 = 0;
  v8 = 0xFFFFFFFF;
  v9 = 0;
  v10 = 0xFFFFFFFF;
  v11 = 0;
  v12 = 0;
  if ( (unsigned __int8)sub_146AB5010(a1, a3, (unsigned int)&v5, 0, 0) )
    *a2 = *(_QWORD *)(v6 + 8);
  else
    *a2 = 0;
  if ( v12 )
    sub_1402D2790(v12);
  return a2;
}

// --- End Function: sub_146AB4F70 (0x146AB4F70) ---

// --- Function: sub_146AB61A0 (0x146AB61A0) ---
__int64 __fastcall sub_146AB61A0(__int64 a1, int a2)
{
  __int64 v2; // rbx
  __int64 v3; // rdi
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // rbx
  __int64 v8; // rcx
  __int64 v9; // rbx

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(v3, v5, "CRenderProxy::GetGeomCacheRenderNode", "m_SlotsLock", 1);
  }
  if ( (int)v2 >= 0
    && (v6 = *(_QWORD *)(a1 + 0xE0), (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3))
    && (v7 = *(_QWORD *)(v6 + 8 * v2)) != 0
    && (v8 = *(_QWORD *)(v7 + 0x90)) != 0
    && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x158LL))(v8) == 0x18 )
  {
    v9 = *(_QWORD *)(v7 + 0x90);
  }
  else
  {
    v9 = 0;
  }
  sub_1402D2790(v3);
  return v9;
}

// --- End Function: sub_146AB61A0 (0x146AB61A0) ---

// --- Function: sub_146AB6A20 (0x146AB6A20) ---
__int64 __fastcall sub_146AB6A20(__int64 a1)
{
  unsigned __int64 v1; // rax

  v1 = *(_QWORD *)(a1 + 0x450);
  if ( v1 && *(_QWORD *)((v1 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v1) && (*(_DWORD *)(a1 + 0x1C0) & 0x10) == 0 )
    return (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v1 & 0xFFFFFFFFFFFFLL) + 0x110LL))(v1 & 0xFFFFFFFFFFFFLL);
  else
    return 0;
}

// --- End Function: sub_146AB6A20 (0x146AB6A20) ---

// --- Function: sub_146AB9D00 (0x146AB9D00) ---
__int64 __fastcall sub_146AB9D00(__int64 a1, int a2)
{
  __int64 v2; // rbx
  __int64 v3; // rdi
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // rbx
  __int64 v8; // rcx
  __int64 v9; // rbx

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(v3, v5, "CRenderProxy::GetParticleEmitter", "m_SlotsLock", 1);
  }
  if ( (int)v2 >= 0
    && (v6 = *(_QWORD *)(a1 + 0xE0), (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3))
    && (v7 = *(_QWORD *)(v6 + 8 * v2)) != 0
    && (v8 = *(_QWORD *)(v7 + 0x90)) != 0
    && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x158LL))(v8) == 8 )
  {
    v9 = *(_QWORD *)(v7 + 0x90);
  }
  else
  {
    v9 = 0;
  }
  sub_1402D2790(v3);
  return v9;
}

// --- End Function: sub_146AB9D00 (0x146AB9D00) ---

// --- Function: sub_146ABE200 (0x146ABE200) ---
__int64 __fastcall sub_146ABE200(__int64 a1)
{
  __int64 result; // rax
  __int64 v3; // rbx
  int v4; // esi
  __int64 v5; // r8
  unsigned __int64 v6; // rax
  __int64 v7; // rax
  __int64 v8; // rcx
  __int64 v9; // rdi
  int v10; // eax
  unsigned __int64 n0x200000; // rax

  result = *(_QWORD *)(a1 + 0x4E8);
  if ( !result )
  {
    if ( *(_QWORD *)(a1 + 0x4F0) )
    {
      return *(_QWORD *)(a1 + 0x4F0);
    }
    else
    {
      v3 = a1 + 0x4F8;
      v4 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(v3 + 0x10) == v4 )
      {
        ++*(_DWORD *)(v3 + 0x14);
      }
      else
      {
        v5 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
        v6 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0x200000, 0);
        if ( v6 )
          sub_1403DCD60(v3, v6, v5, "CPhysicalProxy::GetQueue", "m_queueLock", 1);
        else
          *(_QWORD *)(v3 + 8) = v5;
        *(_DWORD *)(v3 + 0x10) = v4;
      }
      if ( *(_BYTE *)(a1 + 0x510) )
      {
        if ( !*(_QWORD *)(a1 + 0x4E8) )
        {
          v7 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC00 + 0x90LL))(qword_149B4FC00);
          *(_QWORD *)(a1 + 0x4E8) = v7;
          if ( v7 )
          {
            v8 = sub_14030EC00((unsigned __int64 *)(a1 + 8)) ? *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL : 0LL;
            if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x50LL))(v8) )
              sub_146B28890(qword_1515B19E8, a1);
          }
        }
      }
      v9 = *(_QWORD *)(a1 + 0x4E8);
      if ( v3 )
      {
        v10 = *(_DWORD *)(v3 + 0x14);
        if ( v10 )
        {
          *(_DWORD *)(v3 + 0x14) = v10 - 1;
        }
        else
        {
          *(_DWORD *)(v3 + 0x10) = 0xFFFFFFFF;
          n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0, 0x200000);
          if ( n0x200000 == 0x200000 )
            *(_QWORD *)(v3 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
          else
            sub_1403DD380(v3, n0x200000);
        }
      }
      return v9;
    }
  }
  return result;
}

// --- End Function: sub_146ABE200 (0x146ABE200) ---

// --- Function: sub_146ABE890 (0x146ABE890) ---
__int64 *__fastcall sub_146ABE890(__int64 a1, __int64 *a2, int a3)
{
  unsigned __int64 v3; // rbp
  __int64 v4; // rbx
  signed __int64 v7; // rdx
  __int64 v8; // rdx
  __int64 v9; // rdx
  __int64 v11; // r8
  __int64 v12; // rax
  unsigned __int64 v13; // rcx
  __int64 v14; // rcx
  __int64 v15; // rax

  v3 = a3;
  v4 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v4);
    if ( (v7 & 0x200000) != 0 )
      sub_1403CB300(v4, v7, "CRenderProxy::GetRenderMaterial", "m_SlotsLock", 1);
  }
  if ( (v3 & 0x80000000) != 0LL )
  {
    v11 = *(_QWORD *)(a1 + 0xE0);
    v12 = 0;
    v13 = (*(_QWORD *)(a1 + 0xE8) - v11) >> 3;
    if ( !v13 )
    {
LABEL_8:
      *a2 = 0;
      goto LABEL_9;
    }
    while ( 1 )
    {
      v9 = *(_QWORD *)(v11 + 8 * v12);
      if ( v9 )
      {
        if ( (*(_BYTE *)(v9 + 0xD8) & 1) != 0 )
          break;
      }
      if ( ++v12 >= v13 )
        goto LABEL_8;
    }
  }
  else
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( v3 >= (*(_QWORD *)(a1 + 0xE8) - v8) >> 3 )
      goto LABEL_8;
    v9 = *(_QWORD *)(v8 + 8 * v3);
    if ( !v9 )
      goto LABEL_8;
  }
  v14 = *(_QWORD *)(a1 + 0x160);
  if ( v14 )
  {
    *a2 = v14;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v14 + 8LL))(v14);
  }
  else
  {
    v15 = sub_146AC1380(a1, (_QWORD *)v9);
    *a2 = v15;
    if ( v15 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v15 + 8LL))(v15);
  }
LABEL_9:
  sub_1402D2790(v4);
  return a2;
}

// --- End Function: sub_146ABE890 (0x146ABE890) ---

// --- Function: sub_146ABEC80 (0x146ABEC80) ---
_QWORD *__fastcall sub_146ABEC80(__int64 a1, _QWORD *a2)
{
  *a2 = *(_QWORD *)(a1 + 0x460);
  return a2;
}

// --- End Function: sub_146ABEC80 (0x146ABEC80) ---

// --- Function: sub_146ABEE50 (0x146ABEE50) ---
__int64 __fastcall sub_146ABEE50(__int64 a1, int a2)
{
  __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // rdi
  __int64 v8; // rdi

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(v3, v5, "CRenderProxy::GetSkinRenderObjectForSlot", "m_SlotsLock", 1);
  }
  if ( (int)v2 >= 0
    && (v6 = *(_QWORD *)(a1 + 0xE0), (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3))
    && (v7 = *(_QWORD *)(v6 + 8 * v2)) != 0 )
  {
    v8 = *(_QWORD *)(v7 + 0x68);
  }
  else
  {
    v8 = 0;
  }
  sub_1402D2790(v3);
  return v8;
}

// --- End Function: sub_146ABEE50 (0x146ABEE50) ---

// --- Function: sub_146ABEFA0 (0x146ABEFA0) ---
__int64 __fastcall sub_146ABEFA0(__int64 a1)
{
  __int64 v2; // rdi
  signed __int64 v3; // rdx
  __int64 v4; // rbx

  v2 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0x14);
  }
  else
  {
    v3 = _InterlockedIncrement64((volatile signed __int64 *)v2);
    if ( (v3 & 0x200000) != 0 )
      sub_1403CB300(v2, v3, "CRenderProxy::GetSlotCount", "m_SlotsLock", 1);
  }
  v4 = (__int64)(*(_QWORD *)(a1 + 0xE8) - *(_QWORD *)(a1 + 0xE0)) >> 3;
  sub_1402D2790(v2);
  return (unsigned int)v4;
}

// --- End Function: sub_146ABEFA0 (0x146ABEFA0) ---

// --- Function: sub_146ABF040 (0x146ABF040) ---
__int64 __fastcall sub_146ABF040(__int64 a1, int a2)
{
  __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // rcx
  unsigned int v8; // edi

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(v3, v5, "CRenderProxy::GetSlotFlags", "m_SlotsLock", 1);
  }
  if ( (int)v2 >= 0
    && (v6 = *(_QWORD *)(a1 + 0xE0), (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3))
    && (v7 = *(_QWORD *)(v6 + 8 * v2)) != 0 )
  {
    v8 = *(unsigned __int16 *)(v7 + 0xD8);
  }
  else
  {
    v8 = 0;
  }
  sub_1402D2790(v3);
  return v8;
}

// --- End Function: sub_146ABF040 (0x146ABF040) ---

// --- Function: sub_146ABF0F0 (0x146ABF0F0) ---
float *__fastcall sub_146ABF0F0(__int64 a1, float *a2, int a3, __int64 a4, unsigned __int8 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  unsigned __int8 v17; // r9
  float *v20; // rax
  float v21; // xmm5_4
  float v22; // xmm6_4
  float v23; // xmm7_4
  float v24; // xmm1_4
  __m128 v25; // xmm2
  float v26; // xmm3_4
  float v27; // xmm8_4
  float v28; // xmm9_4
  float v29; // xmm10_4
  float v30; // xmm11_4
  float v31; // xmm12_4
  float v32; // xmm13_4
  __m128 v33; // kr00_16
  float v34; // xmm4_4
  __m128 v35; // xmm3
  __m128 v36; // kr00_16
  __m128 v37; // xmm3
  __m128 v38; // kr00_16
  __m128 v39; // xmm4
  float v40; // xmm2_4
  float v41; // xmm1_4
  __m128 v42; // kr00_16
  __m128 v43; // xmm4
  float v45; // xmm2_4
  __int64 v47; // rax
  __int64 v48; // rax
  __int64 v49; // rax
  __int64 v50; // rax
  float v51; // xmm11_4
  float v52; // xmm9_4
  float v53; // xmm8_4
  float v54; // xmm13_4
  float v55; // xmm14_4
  float v56; // xmm12_4
  float v57; // xmm15_4
  __m128 v58; // xmm10
  float v59; // xmm5_4
  float v60; // xmm6_4
  float v61; // xmm5_4
  float v62; // xmm7_4
  __int128 v63; // kr00_16
  float v65; // xmm11_4
  float v66; // xmm14_4
  float v67; // xmm13_4
  float v68; // xmm12_4
  float v69; // xmm9_4
  __int64 v71; // r14
  __int64 v72; // rdi
  unsigned int v73; // eax
  __int64 v74; // rax
  unsigned int v75; // eax
  float *v76; // rax
  float v77; // xmm14_4
  float v78; // xmm15_4
  float v79; // xmm12_4
  float v80; // xmm13_4
  float v81; // xmm6_4
  float v82; // xmm5_4
  __int128 v83; // kr00_16
  float v84; // xmm8_4
  float v85; // xmm2_4
  float v86; // xmm6_4
  float v87; // xmm7_4
  float v88; // xmm3_4
  float v90; // xmm5_4
  float v91; // xmm10_4
  __int64 v93; // rax
  __int64 v95; // [rsp+38h] [rbp-D0h] BYREF
  float v96; // [rsp+40h] [rbp-C8h] BYREF
  float v97; // [rsp+44h] [rbp-C4h]
  float v98; // [rsp+48h] [rbp-C0h]
  float v99; // [rsp+4Ch] [rbp-BCh]
  float v100; // [rsp+50h] [rbp-B8h]
  float v101; // [rsp+54h] [rbp-B4h]
  float v102; // [rsp+58h] [rbp-B0h]
  float v103; // [rsp+60h] [rbp-A8h]
  _DWORD v104[4]; // [rsp+68h] [rbp-A0h] BYREF
  __int64 v105; // [rsp+78h] [rbp-90h]
  __int64 v106; // [rsp+E0h] [rbp-28h]
  __int128 v107; // [rsp+E8h] [rbp-20h]
  __int128 v108; // [rsp+F8h] [rbp-10h]
  __int128 v109; // [rsp+108h] [rbp+0h]
  __int64 v110; // [rsp+120h] [rbp+18h]
  __int64 p_n0xB[3]; // [rsp+128h] [rbp+20h] BYREF
  __int128 v112; // [rsp+148h] [rbp+40h]
  __int128 v113; // [rsp+158h] [rbp+50h]
  __int128 v114; // [rsp+168h] [rbp+60h]
  __int128 v115; // [rsp+178h] [rbp+70h]
  __int128 v116; // [rsp+188h] [rbp+80h]
  __int128 v117; // [rsp+198h] [rbp+90h]
  __int128 v118; // [rsp+1A8h] [rbp+A0h]
  __int128 v119; // [rsp+1B8h] [rbp+B0h]
  __int128 v120; // [rsp+1C8h] [rbp+C0h]
  __int128 v121; // [rsp+1D8h] [rbp+D0h]
  float v122; // [rsp+210h] [rbp+108h] BYREF

  v17 = a5;
  v121 = v5;
  v120 = v6;
  *(_QWORD *)a2 = 0;
  a2[2] = 0.0;
  *((_QWORD *)a2 + 2) = 0;
  a2[6] = 0.0;
  a2[3] = 1.0;
  v113 = v13;
  v112 = v14;
  LOBYTE(v104[0]) = 0;
  v104[1] = 0;
  v104[2] = 0xFFFFFFFF;
  v105 = 0;
  v106 = 0;
  v107 = 0;
  v108 = 0;
  v109 = 0;
  v110 = 0;
  if ( (unsigned __int8)sub_146AC0180(a1, a3, (__int64)v104, v17) )
  {
    v119 = v7;
    v118 = v8;
    v117 = v9;
    v116 = v10;
    v115 = v11;
    v114 = v12;
    if ( v106 )
    {
      v20 = (float *)(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v106 + 0x378LL))(v106, a4);
      v21 = 1.0;
      v22 = 0.0;
      v23 = 0.0;
      v24 = *v20;
      v25 = (__m128)*((unsigned int *)v20 + 5);
      v26 = v20[0xA];
      v27 = v20[1];
      v28 = v20[2];
      v29 = v20[4];
      v30 = v20[6];
      v31 = v20[8];
      v32 = v20[9];
      v33 = v25;
      v33.m128_f32[0] = (float)(v25.m128_f32[0] + *v20) + v26;
      v34 = 0.0;
      if ( v33.m128_f32[0] <= 0.0 )
      {
        if ( v24 < v25.m128_f32[0] || v24 < v26 )
        {
          if ( v25.m128_f32[0] < v24 || v25.m128_f32[0] < v26 )
          {
            if ( v26 < v24 || v26 < v25.m128_f32[0] )
              goto LABEL_15;
            v42 = (__m128)*((unsigned int *)v20 + 0xA);
            v42.m128_f32[0] = (float)((float)(v26 - v24) - v25.m128_f32[0]) + 1.0;
            v43 = _mm_sqrt_ps(_mm_shuffle_ps(v42, v42, 0));
            v43.m128_f32[0] = _mm_shuffle_ps(v43, v43, 0xFF).m128_f32[0];
            v40 = 0.5 / v43.m128_f32[0];
            v21 = (float)(v29 - v27) * (float)(0.5 / v43.m128_f32[0]);
            v23 = (float)(v32 + v30) * (float)(0.5 / v43.m128_f32[0]);
            v41 = v31 + v28;
            v34 = v43.m128_f32[0] * 0.5;
          }
          else
          {
            v38 = (__m128)*((unsigned int *)v20 + 5);
            v38.m128_f32[0] = (float)((float)(v25.m128_f32[0] - v26) - v24) + 1.0;
            v39 = _mm_sqrt_ps(_mm_shuffle_ps(v38, v38, 0));
            v39.m128_f32[0] = _mm_shuffle_ps(v39, v39, 0xFF).m128_f32[0];
            v40 = 0.5 / v39.m128_f32[0];
            v21 = (float)(v28 - v31) * (float)(0.5 / v39.m128_f32[0]);
            v23 = v39.m128_f32[0] * 0.5;
            v34 = (float)(v32 + v30) * (float)(0.5 / v39.m128_f32[0]);
            v41 = v29 + v27;
          }
          v22 = v41 * v40;
        }
        else
        {
          v36 = (__m128)*(unsigned int *)v20;
          v36.m128_f32[0] = (float)((float)(v24 - v25.m128_f32[0]) - v26) + 1.0;
          v37 = _mm_sqrt_ps(_mm_shuffle_ps(v36, v36, 0));
          v37.m128_f32[0] = _mm_shuffle_ps(v37, v37, 0xFF).m128_f32[0];
          v21 = (float)(v32 - v30) * (float)(0.5 / v37.m128_f32[0]);
          v22 = v37.m128_f32[0] * 0.5;
          v34 = (float)(v31 + v28) * (float)(0.5 / v37.m128_f32[0]);
          v23 = (float)(v29 + v27) * (float)(0.5 / v37.m128_f32[0]);
        }
      }
      else
      {
        v33.m128_f32[0] = v33.m128_f32[0] + 1.0;
        v35 = _mm_sqrt_ps(_mm_shuffle_ps(v33, v33, 0));
        v35.m128_f32[0] = _mm_shuffle_ps(v35, v35, 0xFF).m128_f32[0];
        v22 = (float)(v32 - v30) * (float)(0.5 / v35.m128_f32[0]);
        v21 = v35.m128_f32[0] * 0.5;
        v34 = (float)(v29 - v27) * (float)(0.5 / v35.m128_f32[0]);
        v23 = (float)(v28 - v31) * (float)(0.5 / v35.m128_f32[0]);
      }
LABEL_15:
      _XMM1 = *((unsigned int *)v20 + 3);
      v45 = v20[0xB];
      *a2 = v22;
      a2[1] = v23;
      a2[2] = v34;
      a2[3] = v21;
      __asm { vunpcklps xmm0, xmm1, xmm0 }
      *((double *)a2 + 2) = *(double *)&_XMM0;
      a2[6] = v45;
      goto LABEL_28;
    }
    if ( (_QWORD)v107 )
    {
      v47 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v107 + 0x50LL))(v107);
      v48 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v47 + 0x58LL))(v47, a4);
      if ( v48 )
      {
        v49 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v48 + 0x118LL))(v48);
        *a2 = *(float *)v49;
        a2[1] = *(float *)(v49 + 4);
        a2[2] = *(float *)(v49 + 8);
        a2[3] = *(float *)(v49 + 0xC);
        *((double *)a2 + 2) = *(double *)(v49 + 0x10);
        a2[6] = *(float *)(v49 + 0x18);
        v50 = sub_146AC04D0(a1, (__int64)p_n0xB, a3, 0, 2);
        v51 = a2[6];
        v52 = a2[5];
        v53 = a2[4];
        v54 = *(float *)(v50 + 4);
        v55 = *(float *)(v50 + 8);
        v56 = *(float *)v50;
        v57 = *(float *)(v50 + 0xC);
        v58 = (__m128)*(unsigned __int64 *)(v50 + 0x10);
        v59 = (float)((float)(v53 * v55) - (float)(v51 * *(float *)v50)) + (float)(v52 * v57);
        v60 = (float)((float)((float)((float)(v52 * *(float *)v50) - (float)(v53 * v54)) + (float)(v51 * v57)) * v54)
            - (float)(v59 * v55);
        v61 = (float)(v59 * *(float *)v50)
            - (float)((float)((float)((float)(v51 * v54) - (float)(v52 * v55)) + (float)(v53 * v57)) * v54);
        v62 = a2[3];
        v63 = LODWORD(v53);
        *(float *)&v63 = (float)((float)(v53 + v60) + v58.m128_f32[0]) + v60;
        _XMM8 = v63;
        _mm_shuffle_ps(v58, v58, 0x55);
        *(float *)&v63 = (float)(v51 + v61) + *(float *)(v50 + 0x18);
        v103 = v55;
        v65 = v55;
        v66 = a2[2];
        v122 = v54;
        v67 = a2[1];
        v58.m128_f32[0] = v122;
        *(float *)&v95 = v56;
        v68 = *a2;
        v69 = *(float *)&v95;
        *a2 = (float)((float)((float)(v66 * v122) - (float)(v67 * v103)) + (float)(*a2 * v57))
            + (float)(v62 * *(float *)&v95);
        a2[1] = (float)((float)((float)(v68 * v65) - (float)(v66 * v69)) + (float)(v67 * v57))
              + (float)(v62 * v58.m128_f32[0]);
        a2[2] = (float)((float)((float)(v67 * v69) - (float)(v68 * v58.m128_f32[0])) + (float)(v66 * v57))
              + (float)(v62 * v65);
        __asm { vunpcklps xmm0, xmm8, xmm6 }
        *((double *)a2 + 2) = *(double *)&_XMM0;
        a2[6] = *(float *)&v63 + v61;
        a2[3] = (float)((float)((float)(v62 * v57) - (float)(v68 * v69)) - (float)(v67 * v58.m128_f32[0]))
              - (float)(v66 * v65);
      }
      else
      {
        v71 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v107 + 0x30LL))(v107);
        if ( v71 )
        {
          v72 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v107 + 0x70LL))(v107);
          if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v72 + 0xC0LL))(v72) )
          {
            v72 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v72 + 0xB8LL))(v72, &v95);
            if ( v95 )
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v95 + 0x160LL))(v95);
            v95 = 0;
          }
          v73 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v72 + 0x48LL))(v72, a4);
          if ( v73 == 0xFFFFFFFF )
          {
            v74 = *(_QWORD *)v72;
            v99 = 1.0;
            v96 = 0.0;
            v97 = 0.0;
            v98 = 0.0;
            v100 = 0.0;
            v101 = 0.0;
            v102 = 0.0;
            v75 = (*(__int64 (__fastcall **)(__int64, __int64, float *, float *))(v74 + 0xA8))(v72, a4, &v122, &v96);
            if ( v75 != 0xFFFFFFFF )
            {
              v76 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v71 + 0x148LL))(v71, v75);
              v77 = v76[1];
              v78 = v76[2];
              v79 = *v76;
              v80 = v76[3];
              v81 = (float)((float)(v78 * v100) - (float)(*v76 * v102)) + (float)(v80 * v101);
              v82 = (float)(v77 * (float)((float)((float)(*v76 * v101) - (float)(v77 * v100)) + (float)(v80 * v102)))
                  - (float)(v78 * v81);
              v83 = LODWORD(v100);
              v84 = v98;
              v85 = *v76 * v81;
              v86 = v96;
              v87 = v97;
              v88 = v85
                  - (float)(v77 * (float)((float)((float)(v77 * v102) - (float)(v78 * v101)) + (float)(v80 * v100)));
              *(float *)&v83 = (float)((float)(v100 + v82) + v76[4]) + v82;
              _XMM11 = v83;
              v90 = v99;
              v91 = (float)((float)(v102 + v88) + v76[6]) + v88;
              *a2 = (float)((float)((float)(v77 * v98) - (float)(v78 * v97)) + (float)(v80 * v96)) + (float)(*v76 * v99);
              a2[1] = (float)((float)((float)(v78 * v86) - (float)(v79 * v84)) + (float)(v80 * v87))
                    + (float)(v77 * v90);
              a2[2] = (float)((float)((float)(v79 * v87) - (float)(v77 * v86)) + (float)(v80 * v84))
                    + (float)(v78 * v90);
              a2[3] = (float)((float)((float)(v80 * v90) - (float)(v79 * v86)) - (float)(v77 * v87))
                    - (float)(v78 * v84);
              __asm { vunpcklps xmm0, xmm11, xmm9 }
              *((double *)a2 + 2) = *(double *)&_XMM0;
              a2[6] = v91;
            }
          }
          else
          {
            v93 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v71 + 0x148LL))(v71, v73);
            *a2 = *(float *)v93;
            a2[1] = *(float *)(v93 + 4);
            a2[2] = *(float *)(v93 + 8);
            a2[3] = *(float *)(v93 + 0xC);
            *((double *)a2 + 2) = *(double *)(v93 + 0x10);
            a2[6] = *(float *)(v93 + 0x18);
          }
        }
      }
    }
  }
LABEL_28:
  if ( v110 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v110 + 0x10LL))(v110);
  v110 = 0;
  if ( v106 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v106 + 8LL))(v106);
  v106 = 0;
  if ( (v105 & 0x100000000000000LL) != 0 && (v105 & 0xFFFFFFFFFFFFLL) != 0 )
    sub_1402A3D30((const void *)(v105 & 0xFFFFFFFFFFFFLL));
  return a2;
}

// --- End Function: sub_146ABF0F0 (0x146ABF0F0) ---

// --- Function: sub_146ABF920 (0x146ABF920) ---
__int64 __fastcall sub_146ABF920(__int64 a1, __int64 a2, __int64 a3, __int64 a4, unsigned __int8 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  int v17; // r14d
  __int64 v19; // rcx
  float v20; // xmm6_4
  __m128 v21; // kr00_16
  float v22; // xmm7_4
  float v23; // xmm8_4
  float v24; // xmm4_4
  __m128 v25; // xmm2
  __m128 v26; // kr00_16
  __m128 v27; // xmm5
  __m128 v28; // kr00_16
  __m128 v29; // xmm5
  __m128 v30; // kr00_16
  __m128 v31; // xmm5
  float v33; // xmm2_4
  unsigned __int8 v34; // bl
  __int64 v36; // rax
  __int64 v37; // rax
  __int64 v38; // rax
  float v39; // xmm1_4
  float v40; // xmm2_4
  float v41; // xmm3_4
  __m128 v42; // xmm6
  float v43; // ebx
  __int64 v44; // rax
  float v45; // xmm9_4
  float v46; // xmm14_4
  float v47; // xmm15_4
  float v48; // xmm13_4
  float v49; // xmm12_4
  __m128 v50; // xmm10
  float v51; // xmm5_4
  __int128 v52; // kr00_16
  float v53; // xmm8_4
  float v54; // xmm3_4
  float v56; // xmm9_4
  float v57; // xmm11_4
  float v58; // xmm0_4
  __int64 v60; // r14
  __int64 v61; // rbx
  unsigned int v62; // eax
  __int64 v63; // rax
  unsigned int v64; // eax
  float *v65; // rax
  float v66; // xmm14_4
  float v67; // xmm15_4
  float v68; // xmm12_4
  float v69; // xmm13_4
  float v70; // xmm6_4
  float v71; // xmm5_4
  __int128 v72; // kr00_16
  float v73; // xmm8_4
  float v74; // xmm2_4
  float v75; // xmm6_4
  float v76; // xmm7_4
  float v77; // xmm3_4
  float v79; // xmm5_4
  float v80; // xmm10_4
  __int64 v82; // rax
  float v84; // [rsp+38h] [rbp-D0h] BYREF
  float p_n0xB; // [rsp+40h] [rbp-C8h] BYREF
  float p_n0xB_4; // [rsp+44h] [rbp-C4h]
  float v87; // [rsp+48h] [rbp-C0h]
  unsigned int v88; // [rsp+4Ch] [rbp-BCh]
  float v89; // [rsp+50h] [rbp-B8h]
  float p_n0xB_2; // [rsp+54h] [rbp-B4h]
  float v91; // [rsp+58h] [rbp-B0h]
  float v92; // [rsp+60h] [rbp-A8h]
  float v93; // [rsp+64h] [rbp-A4h]
  float p_n0xB_1; // [rsp+68h] [rbp-A0h]
  float v95; // [rsp+6Ch] [rbp-9Ch]
  float v96; // [rsp+70h] [rbp-98h] BYREF
  float v97; // [rsp+74h] [rbp-94h]
  float v98; // [rsp+78h] [rbp-90h]
  float v99; // [rsp+7Ch] [rbp-8Ch]
  double v100; // [rsp+80h] [rbp-88h]
  float v101; // [rsp+88h] [rbp-80h]
  __int64 v102; // [rsp+90h] [rbp-78h] BYREF
  float v103; // [rsp+98h] [rbp-70h]
  float v104; // [rsp+9Ch] [rbp-6Ch]
  _BYTE v105[4]; // [rsp+A8h] [rbp-60h] BYREF
  int v106; // [rsp+ACh] [rbp-5Ch]
  unsigned int v107; // [rsp+B0h] [rbp-58h]
  __int64 v108; // [rsp+B8h] [rbp-50h]
  __int64 v109; // [rsp+120h] [rbp+18h]
  __int128 v110; // [rsp+128h] [rbp+20h]
  __int128 v111; // [rsp+138h] [rbp+30h]
  __int128 v112; // [rsp+148h] [rbp+40h]
  __int64 v113; // [rsp+160h] [rbp+58h]
  __int128 v114; // [rsp+168h] [rbp+60h]
  __int128 v115; // [rsp+178h] [rbp+70h]
  __int128 v116; // [rsp+188h] [rbp+80h]
  __int128 v117; // [rsp+198h] [rbp+90h]
  __int128 v118; // [rsp+1A8h] [rbp+A0h]
  __int128 v119; // [rsp+1B8h] [rbp+B0h]
  __int128 v120; // [rsp+1C8h] [rbp+C0h]
  __int128 v121; // [rsp+1D8h] [rbp+D0h]
  __int128 v122; // [rsp+1E8h] [rbp+E0h]
  __int128 v123; // [rsp+1F8h] [rbp+F0h]

  v17 = a2;
  v123 = v5;
  v122 = v6;
  v121 = v7;
  v120 = v8;
  v119 = v9;
  v118 = v10;
  v117 = v11;
  v116 = v12;
  v115 = v13;
  v114 = v14;
  v105[0] = 0;
  v106 = 0;
  v107 = 0xFFFFFFFF;
  v108 = 0;
  v109 = 0;
  v110 = 0;
  v111 = 0;
  v112 = 0;
  v113 = 0;
  if ( !(unsigned __int8)sub_146AC0180(a1, a2, (__int64)v105, a5) )
    goto LABEL_28;
  v19 = v109;
  if ( !v109 )
  {
    if ( !(_QWORD)v110 )
    {
LABEL_29:
      v34 = 0;
      goto LABEL_30;
    }
    v36 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v110 + 0x50LL))(v110);
    v37 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v36 + 0x58LL))(v36, a3);
    if ( v37 )
    {
      v38 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v37 + 0x118LL))(v37);
      v39 = *(float *)v38;
      v40 = *(float *)(v38 + 4);
      v41 = *(float *)(v38 + 8);
      v42 = (__m128)*(unsigned __int64 *)(v38 + 0x10);
      v43 = *(float *)(v38 + 0x18);
      v84 = *(float *)(v38 + 0xC);
      *(float *)&v102 = v39;
      v104 = v40;
      v103 = v41;
      v44 = sub_146AC04D0(a1, (__int64)&p_n0xB, v17, 0, 2);
      v45 = _mm_shuffle_ps(v42, v42, 0x55).m128_f32[0];
      v100 = *(double *)v42.m128_u64;
      v46 = *(float *)(v44 + 4);
      v47 = *(float *)(v44 + 8);
      v48 = *(float *)v44;
      v49 = *(float *)(v44 + 0xC);
      v50 = (__m128)*(unsigned __int64 *)(v44 + 0x10);
      v42.m128_f32[0] = (float)((float)(*(float *)&v100 * v47) - (float)(v43 * *(float *)v44)) + (float)(v45 * v49);
      v51 = (float)((float)((float)((float)(v45 * *(float *)v44) - (float)(*(float *)&v100 * v46)) + (float)(v43 * v49))
                  * v46)
          - (float)(v42.m128_f32[0] * v47);
      v52 = LODWORD(v100);
      v53 = v84;
      v54 = (float)(v42.m128_f32[0] * *(float *)v44)
          - (float)((float)((float)((float)(v43 * v46) - (float)(v45 * v47)) + (float)(*(float *)&v100 * v49)) * v46);
      *(float *)&v52 = (float)((float)(*(float *)&v100 + v51) + v50.m128_f32[0]) + v51;
      _XMM7 = v52;
      v56 = *(float *)&v102;
      _mm_shuffle_ps(v50, v50, 0x55);
      v50.m128_f32[0] = v104;
      v57 = v103;
      v42.m128_f32[0] = (float)((float)(v43 + v54) + *(float *)(v44 + 0x18)) + v54;
      v58 = *(float *)v44 * v103;
      *(float *)a4 = (float)((float)((float)(v46 * v103) - (float)(v47 * v104)) + (float)(v49 * *(float *)&v102))
                   + (float)(*(float *)v44 * v84);
      v19 = v109;
      v34 = 1;
      *(float *)(a4 + 4) = (float)((float)((float)(v47 * v56) - v58) + (float)(v49 * v50.m128_f32[0]))
                         + (float)(v46 * v53);
      *(float *)(a4 + 8) = (float)((float)((float)(v48 * v50.m128_f32[0]) - (float)(v46 * v56)) + (float)(v49 * v57))
                         + (float)(v47 * v53);
      *(float *)(a4 + 0xC) = (float)((float)((float)(v49 * v53) - (float)(v48 * v56)) - (float)(v46 * v50.m128_f32[0]))
                           - (float)(v47 * v57);
      __asm { vunpcklps xmm0, xmm7, xmm5 }
      *(double *)(a4 + 0x10) = *(double *)&_XMM0;
      *(float *)(a4 + 0x18) = v42.m128_f32[0];
      goto LABEL_30;
    }
    v60 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v110 + 0x30LL))(v110);
    if ( v60 )
    {
      v61 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v110 + 0x70LL))(v110);
      if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v61 + 0xC0LL))(v61) )
      {
        v61 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v61 + 0xB8LL))(v61, &v102);
        if ( v102 )
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v102 + 0x160LL))(v102);
        v102 = 0;
      }
      v62 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v61 + 0x48LL))(v61, a3);
      if ( v62 != 0xFFFFFFFF )
      {
        v82 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v60 + 0x148LL))(v60, v62);
        v34 = 1;
        *(_DWORD *)a4 = *(_DWORD *)v82;
        *(_DWORD *)(a4 + 4) = *(_DWORD *)(v82 + 4);
        *(_DWORD *)(a4 + 8) = *(_DWORD *)(v82 + 8);
        *(_DWORD *)(a4 + 0xC) = *(_DWORD *)(v82 + 0xC);
        v19 = v109;
        *(double *)(a4 + 0x10) = *(double *)(v82 + 0x10);
        *(_DWORD *)(a4 + 0x18) = *(_DWORD *)(v82 + 0x18);
        goto LABEL_30;
      }
      v63 = *(_QWORD *)v61;
      v99 = 1.0;
      v96 = 0.0;
      v97 = 0.0;
      v98 = 0.0;
      v100 = 0.0;
      v101 = 0.0;
      v64 = (*(__int64 (__fastcall **)(__int64, __int64, float *, float *))(v63 + 0xA8))(v61, a3, &v84, &v96);
      if ( v64 != 0xFFFFFFFF )
      {
        v65 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v60 + 0x148LL))(v60, v64);
        v66 = v65[1];
        v67 = v65[2];
        v68 = *v65;
        v69 = v65[3];
        v70 = (float)((float)(v67 * *(float *)&v100) - (float)(*v65 * v101)) + (float)(v69 * *((float *)&v100 + 1));
        v71 = (float)(v66
                    * (float)((float)((float)(*v65 * *((float *)&v100 + 1)) - (float)(v66 * *(float *)&v100))
                            + (float)(v69 * v101)))
            - (float)(v67 * v70);
        v72 = LODWORD(v100);
        v73 = v98;
        v74 = *v65 * v70;
        v75 = v96;
        v76 = v97;
        v77 = v74
            - (float)(v66
                    * (float)((float)((float)(v66 * v101) - (float)(v67 * *((float *)&v100 + 1)))
                            + (float)(v69 * *(float *)&v100)));
        *(float *)&v72 = (float)((float)(*(float *)&v100 + v71) + v65[4]) + v71;
        _XMM11 = v72;
        v79 = v99;
        v80 = (float)((float)(v101 + v77) + v65[6]) + v77;
        *(float *)a4 = (float)((float)((float)(v66 * v98) - (float)(v67 * v97)) + (float)(v69 * v96))
                     + (float)(*v65 * v99);
        *(float *)(a4 + 4) = (float)((float)((float)(v67 * v75) - (float)(v68 * v73)) + (float)(v69 * v76))
                           + (float)(v66 * v79);
        *(float *)(a4 + 8) = (float)((float)((float)(v68 * v76) - (float)(v66 * v75)) + (float)(v69 * v73))
                           + (float)(v67 * v79);
        *(float *)(a4 + 0xC) = (float)((float)((float)(v69 * v79) - (float)(v68 * v75)) - (float)(v66 * v76))
                             - (float)(v67 * v73);
        v19 = v109;
        v34 = 1;
        __asm { vunpcklps xmm0, xmm11, xmm9 }
        *(double *)(a4 + 0x10) = *(double *)&_XMM0;
        *(float *)(a4 + 0x18) = v80;
        goto LABEL_30;
      }
    }
LABEL_28:
    v19 = v109;
    goto LABEL_29;
  }
  if ( !(*(unsigned __int8 (__fastcall **)(__int64, __int64, float *))(*(_QWORD *)v109 + 0x370LL))(v109, a3, &p_n0xB) )
    goto LABEL_28;
  v20 = 1.0;
  v21 = (__m128)LODWORD(p_n0xB_2);
  v21.m128_f32[0] = (float)(p_n0xB_2 + p_n0xB) + p_n0xB_1;
  v22 = 0.0;
  v23 = 0.0;
  v24 = 0.0;
  if ( v21.m128_f32[0] <= 0.0 )
  {
    if ( p_n0xB < p_n0xB_2 || p_n0xB < p_n0xB_1 )
    {
      if ( p_n0xB_2 < p_n0xB || p_n0xB_2 < p_n0xB_1 )
      {
        if ( p_n0xB_1 >= p_n0xB && p_n0xB_1 >= p_n0xB_2 )
        {
          v30 = (__m128)LODWORD(p_n0xB_1);
          v30.m128_f32[0] = (float)((float)(p_n0xB_1 - p_n0xB) - p_n0xB_2) + 1.0;
          v31 = _mm_sqrt_ps(_mm_shuffle_ps(v30, v30, 0));
          v31.m128_f32[0] = _mm_shuffle_ps(v31, v31, 0xFF).m128_f32[0];
          v20 = (float)(v89 - p_n0xB_4) * (float)(0.5 / v31.m128_f32[0]);
          v23 = (float)(v93 + v91) * (float)(0.5 / v31.m128_f32[0]);
          v22 = (float)(v92 + v87) * (float)(0.5 / v31.m128_f32[0]);
          v24 = v31.m128_f32[0] * 0.5;
        }
      }
      else
      {
        v28 = (__m128)LODWORD(p_n0xB_2);
        v28.m128_f32[0] = (float)((float)(p_n0xB_2 - p_n0xB_1) - p_n0xB) + 1.0;
        v29 = _mm_sqrt_ps(_mm_shuffle_ps(v28, v28, 0));
        v29.m128_f32[0] = _mm_shuffle_ps(v29, v29, 0xFF).m128_f32[0];
        v20 = (float)(v87 - v92) * (float)(0.5 / v29.m128_f32[0]);
        v22 = (float)(v89 + p_n0xB_4) * (float)(0.5 / v29.m128_f32[0]);
        v23 = v29.m128_f32[0] * 0.5;
        v24 = (float)(v93 + v91) * (float)(0.5 / v29.m128_f32[0]);
      }
    }
    else
    {
      v26 = (__m128)LODWORD(p_n0xB);
      v26.m128_f32[0] = (float)((float)(p_n0xB - p_n0xB_2) - p_n0xB_1) + 1.0;
      v27 = _mm_sqrt_ps(_mm_shuffle_ps(v26, v26, 0));
      v27.m128_f32[0] = _mm_shuffle_ps(v27, v27, 0xFF).m128_f32[0];
      v20 = (float)(v93 - v91) * (float)(0.5 / v27.m128_f32[0]);
      v23 = (float)(v89 + p_n0xB_4) * (float)(0.5 / v27.m128_f32[0]);
      v24 = (float)(v92 + v87) * (float)(0.5 / v27.m128_f32[0]);
      v22 = v27.m128_f32[0] * 0.5;
    }
  }
  else
  {
    v21.m128_f32[0] = v21.m128_f32[0] + 1.0;
    v25 = _mm_sqrt_ps(_mm_shuffle_ps(v21, v21, 0));
    v25.m128_f32[0] = _mm_shuffle_ps(v25, v25, 0xFF).m128_f32[0];
    v20 = v25.m128_f32[0] * 0.5;
    v22 = (float)(v93 - v91) * (float)(0.5 / v25.m128_f32[0]);
    v24 = (float)(v89 - p_n0xB_4) * (float)(0.5 / v25.m128_f32[0]);
    v23 = (float)(v87 - v92) * (float)(0.5 / v25.m128_f32[0]);
  }
  _XMM1 = v88;
  v33 = v95;
  v19 = v109;
  v34 = 1;
  *(float *)a4 = v22;
  *(float *)(a4 + 4) = v23;
  *(float *)(a4 + 8) = v24;
  *(float *)(a4 + 0xC) = v20;
  __asm { vunpcklps xmm0, xmm1, xmm0 }
  *(double *)(a4 + 0x10) = *(double *)&_XMM0;
  *(float *)(a4 + 0x18) = v33;
LABEL_30:
  if ( v113 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v113 + 0x10LL))(v113);
    v19 = v109;
  }
  v113 = 0;
  if ( v19 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v19 + 8LL))(v19);
  v109 = 0;
  if ( (v108 & 0x100000000000000LL) != 0 && (v108 & 0xFFFFFFFFFFFFLL) != 0 )
    sub_1402A3D30((const void *)(v108 & 0xFFFFFFFFFFFFLL));
  return v34;
}

// --- End Function: sub_146ABF920 (0x146ABF920) ---

// --- Function: sub_146AC0180 (0x146AC0180) ---
__int64 __fastcall sub_146AC0180(__int64 a1, int a2, __int64 a3, unsigned __int8 a4)
{
  __int64 v5; // rbx
  __int64 v7; // rbp
  signed __int64 v9; // rdx
  __int64 v10; // rcx
  __int64 *v11; // rbx
  __int64 v12; // r14
  __int64 v13; // r15
  signed __int64 v14; // rsi
  _QWORD *v15; // rax
  unsigned __int64 v16; // rsi
  unsigned __int64 v17; // rcx
  __int64 v18; // rcx
  void (__fastcall ***v19)(_QWORD); // rsi
  __int64 v20; // rcx
  __int64 v21; // rax
  float v22; // xmm3_4
  float v23; // xmm1_4
  float v24; // xmm4_4
  __m128 _Al__204; // xmm0
  int epi32; // ecx
  float v27; // xmm2_4
  float v28; // xmm5_4
  __int64 v29; // rdx
  __int64 v30; // rax
  __int128 v31; // xmm0
  __m256i v32; // ymm4
  __int64 v33; // rcx
  __int64 v34; // rax
  __int64 v35; // rcx
  unsigned __int8 v36; // bl

  v5 = a2;
  v7 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v7 + 0x14);
  }
  else
  {
    v9 = _InterlockedIncrement64((volatile signed __int64 *)v7);
    if ( (v9 & 0x200000) != 0 )
      sub_1403CB300(v7, v9, "CRenderProxy::GetSlotInfo", "m_SlotsLock", 1);
  }
  if ( (int)v5 >= 0
    && (v10 = *(_QWORD *)(a1 + 0xE0), (int)v5 < (int)((*(_QWORD *)(a1 + 0xE8) - v10) >> 3))
    && (v11 = *(__int64 **)(v10 + 8 * v5)) != 0 )
  {
    *(_BYTE *)a3 = 1;
    v12 = 0;
    *(_DWORD *)(a3 + 4) = *((unsigned __int16 *)v11 + 0x6C);
    v13 = v11[0xA];
    if ( v13 )
    {
      if ( *(_DWORD *)(v7 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(v7 + 0x14);
      }
      else
      {
        v14 = _InterlockedIncrement64((volatile signed __int64 *)v7);
        if ( (v14 & 0x200000) != 0 )
          sub_1403CB300(v7, v14, "CRenderProxy::GetSlotId", "m_SlotsLock", 1);
      }
      v15 = *(_QWORD **)(a1 + 0xE0);
      v16 = 0;
      v17 = (__int64)(*(_QWORD *)(a1 + 0xE8) - (_QWORD)v15) >> 3;
      if ( v17 )
      {
        while ( *v15 != v13 )
        {
          ++v16;
          ++v15;
          if ( v16 >= v17 )
            goto LABEL_16;
        }
      }
      else
      {
LABEL_16:
        LODWORD(v16) = 0xFFFFFFFF;
      }
      sub_1402D2790(v7);
    }
    else
    {
      LODWORD(v16) = 0xFFFFFFFF;
    }
    *(_DWORD *)(a3 + 8) = v16;
    v18 = v11[0xB];
    if ( v18 )
      v19 = (void (__fastcall ***)(_QWORD))(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v18 + 0x30LL))(v18);
    else
      v19 = 0;
    if ( *(void (__fastcall ****)(_QWORD))(a3 + 0x78) != v19 )
    {
      if ( v19 )
        (**v19)(v19);
      v20 = *(_QWORD *)(a3 + 0x78);
      if ( v20 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v20 + 8LL))(v20);
      *(_QWORD *)(a3 + 0x78) = v19;
    }
    *(_QWORD *)(a3 + 0x80) = v11[0x10];
    *(_QWORD *)(a3 + 0x90) = v11[0x11];
    sub_140378610((_QWORD *)(a3 + 0xB8), v11 + 0x18);
    v21 = *v11;
    if ( *v11 )
    {
      v22 = *(float *)(v21 + 0xC);
      v23 = *(float *)(v21 + 4);
      v24 = *(float *)(v21 + 8);
      _Al__204.m128_u64[0] = *(_QWORD *)(v21 + 0x10);
      epi32 = *(_DWORD *)(v21 + 0x18);
      v27 = *(float *)(v21 + 0x1C);
      v28 = *(float *)v21;
    }
    else
    {
      _Al__204 = (__m128)Al__204;
      v22 = 1.0;
      LODWORD(v27) = _mm_shuffle_ps(_Al__204, _Al__204, 0xFF).m128_u32[0];
      epi32 = _mm_extract_epi32((__m128i)Al__204, 2);
      v23 = 0.0;
      v24 = 0.0;
      v28 = 0.0;
    }
    *(float *)(a3 + 0x18) = v28;
    *(float *)(a3 + 0x1C) = v23;
    *(float *)(a3 + 0x20) = v24;
    *(float *)(a3 + 0x24) = v22;
    *(double *)(a3 + 0x28) = *(double *)_Al__204.m128_u64;
    *(_DWORD *)(a3 + 0x30) = epi32;
    *(float *)(a3 + 0x34) = v27;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v29 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v29 = 0;
    if ( (*((_BYTE *)v11 + 0xDB) & 0x10) == 0 )
      sub_146B0E140(v11, v29, 0, a4);
    v30 = v11[1];
    v31 = *((_OWORD *)v11 + 1);
    v32 = *(__m256i *)(v11 + 5);
    *(double *)(a3 + 0x50) = *((double *)v11 + 4);
    *(_QWORD *)(a3 + 0x38) = v30;
    *(_OWORD *)(a3 + 0x40) = v31;
    *(__m256i *)(a3 + 0x58) = v32;
    *(_QWORD *)(a3 + 0x98) = v11[0x12];
    v33 = v11[0x12];
    if ( !v33 )
      goto LABEL_39;
    __asm { vzeroupper }
    if ( (*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)v33 + 0x158LL))(v33, v29) == 8 )
      v34 = v11[0x12];
    else
LABEL_39:
      v34 = 0;
    *(_QWORD *)(a3 + 0x88) = v34;
    *(_QWORD *)(a3 + 0xA0) = v11[0xD];
    *(_QWORD *)(a3 + 0xA8) = v11[0xF];
    v35 = v11[0x12];
    if ( v35 )
    {
      __asm { vzeroupper }
      if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v35 + 0x158LL))(v35) == 0x18 )
        v12 = v11[0x12];
    }
    *(_QWORD *)(a3 + 0xB0) = v12;
    __asm { vzeroupper }
    sub_14056EBC0((void *)(a3 + 0x10), v11 + 0x29);
    v36 = 1;
  }
  else
  {
    v36 = 0;
  }
  sub_1402D2790(v7);
  return v36;
}

// --- End Function: sub_146AC0180 (0x146AC0180) ---

// --- Function: sub_146AC04D0 (0x146AC04D0) ---
__int64 __fastcall sub_146AC04D0(__int64 a1, __int64 p_n0xB, int a3, char a4, int n2)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  float v18; // xmm7_4
  float v19; // xmm13_4
  float v20; // xmm9_4
  float v21; // xmm11_4
  __int64 v22; // r14
  int v23; // ebx
  unsigned int v24; // esi
  signed __int64 v25; // rdx
  __int64 v26; // r8
  __int64 *v27; // r8
  __int64 *v28; // rdx
  __int64 v29; // rax
  float v30; // xmm14_4
  float v31; // xmm10_4
  int n0x3F800000; // xmm1_4
  float v34; // xmm4_4
  float v35; // xmm2_4
  __int64 v36; // rcx
  float v37; // xmm8_4
  float v38; // xmm3_4
  float v39; // xmm5_4
  __int32 v40; // eax
  __m128 v41; // xmm12
  float v42; // xmm6_4
  float v43; // xmm5_4
  float v44; // xmm4_4
  __int128 v45; // kr00_16
  __m128 v46; // kr00_16
  int epi32; // esi
  __int64 v49; // rax
  __m128 _Al__204_1; // xmm0
  __m128 v51; // xmm2
  float v52; // xmm1_4
  __int64 v53; // rcx
  __int64 v54; // rax
  __int64 v55; // r15
  __int64 v56; // rbx
  float v57; // xmm15_4
  __m128 v58; // xmm13
  float v59; // xmm14_4
  float v60; // xmm11_4
  float v61; // xmm10_4
  float v62; // xmm12_4
  __m128 v63; // kr00_16
  __m128 v66; // xmm1
  float v67; // xmm7_4
  float v68; // xmm5_4
  __m128 v69; // kr00_16
  __m128 v70; // xmm6
  float v73; // xmm8_4
  float v74; // xmm7_4
  __m128 v75; // xmm6
  __m128 v76; // kr00_16
  float v77; // xmm10_4
  float v78; // xmm14_4
  __m128 v79; // kr00_16
  float v80; // xmm15_4
  __m128 v81; // xmm2
  __m128 v82; // kr00_16
  float v83; // xmm13_4
  float v84; // xmm11_4
  float v85; // xmm12_4
  __m128 v86; // xmm1
  __m128 v87; // kr00_16
  __m128 v88; // xmm3
  __m128 v89; // kr00_16
  __m128 v90; // xmm3
  float v91; // xmm2_4
  float v92; // xmm1_4
  __m128 v93; // kr00_16
  __m128 v94; // xmm3
  float v95; // xmm10_4
  float v96; // xmm9_4
  float v97; // xmm8_4
  float v98; // xmm6_4
  float v99; // xmm7_4
  float v100; // xmm5_4
  float v101; // xmm4_4
  float v102; // xmm9_4
  float v103; // xmm7_4
  float v104; // xmm2_4
  float v105; // xmm10_4
  float v106; // xmm6_4
  float v107; // xmm12_4
  float v109; // xmm10_4
  __int64 p_n0xB_1; // rax
  __int64 v111; // rcx
  __int64 *v112; // rcx
  __int64 v113; // rax
  unsigned __int64 *v114; // rax
  float v131; // [rsp+38h] [rbp-D0h]
  float v132; // [rsp+38h] [rbp-D0h]
  float v133; // [rsp+3Ch] [rbp-CCh]
  float v134; // [rsp+3Ch] [rbp-CCh]
  float v135; // [rsp+40h] [rbp-C8h]
  float v136; // [rsp+40h] [rbp-C8h]
  float v137; // [rsp+44h] [rbp-C4h]
  float v138; // [rsp+44h] [rbp-C4h]
  float v139; // [rsp+48h] [rbp-C0h]
  float v140; // [rsp+48h] [rbp-C0h]
  float v141; // [rsp+4Ch] [rbp-BCh]
  float v142; // [rsp+4Ch] [rbp-BCh]
  float v143; // [rsp+50h] [rbp-B8h]
  float v144; // [rsp+50h] [rbp-B8h]
  float v145; // [rsp+54h] [rbp-B4h]
  float v146; // [rsp+54h] [rbp-B4h]
  float v147; // [rsp+58h] [rbp-B0h]
  float v148; // [rsp+5Ch] [rbp-ACh]
  float v149; // [rsp+5Ch] [rbp-ACh]
  float v150; // [rsp+60h] [rbp-A8h]
  float v151; // [rsp+60h] [rbp-A8h]
  float v152; // [rsp+64h] [rbp-A4h]
  float v153; // [rsp+64h] [rbp-A4h]
  float v154; // [rsp+68h] [rbp-A0h]
  float v155; // [rsp+68h] [rbp-A0h]
  float v156; // [rsp+6Ch] [rbp-9Ch]
  float v157; // [rsp+70h] [rbp-98h]
  float v158; // [rsp+74h] [rbp-94h]
  float v159; // [rsp+78h] [rbp-90h]
  float v160; // [rsp+7Ch] [rbp-8Ch]
  float v161; // [rsp+80h] [rbp-88h]
  float v162; // [rsp+84h] [rbp-84h]
  float v163; // [rsp+88h] [rbp-80h]
  float v164; // [rsp+8Ch] [rbp-7Ch]
  float v165; // [rsp+90h] [rbp-78h]
  float v166; // [rsp+94h] [rbp-74h]
  float v167; // [rsp+98h] [rbp-70h]
  float v168; // [rsp+9Ch] [rbp-6Ch]
  float v169; // [rsp+A0h] [rbp-68h]
  float v170; // [rsp+A4h] [rbp-64h]
  float v171; // [rsp+A8h] [rbp-60h]
  float v172; // [rsp+ACh] [rbp-5Ch]
  float v173; // [rsp+B0h] [rbp-58h]
  float v174; // [rsp+B4h] [rbp-54h]
  float v175; // [rsp+B8h] [rbp-50h]
  double v176; // [rsp+C0h] [rbp-48h] BYREF
  double v177; // [rsp+C8h] [rbp-40h]
  __m128 _Al__204; // [rsp+D0h] [rbp-38h]
  double v179; // [rsp+E0h] [rbp-28h]
  double v180; // [rsp+E8h] [rbp-20h]
  double v181; // [rsp+F0h] [rbp-18h]
  double v182; // [rsp+F8h] [rbp-10h]
  __m128 v183; // [rsp+108h] [rbp+0h] BYREF
  unsigned __int64 v184; // [rsp+118h] [rbp+10h]
  _QWORD v185[3]; // [rsp+150h] [rbp+48h]
  __int128 v186; // [rsp+168h] [rbp+60h]
  __int128 v187; // [rsp+178h] [rbp+70h]
  __int128 v188; // [rsp+188h] [rbp+80h]
  __int128 v189; // [rsp+198h] [rbp+90h]
  __int128 v190; // [rsp+1A8h] [rbp+A0h]
  __int128 v191; // [rsp+1B8h] [rbp+B0h]
  __int128 v192; // [rsp+1C8h] [rbp+C0h]
  __int128 v193; // [rsp+1D8h] [rbp+D0h]
  __int128 v194; // [rsp+1E8h] [rbp+E0h]
  float v195; // [rsp+238h] [rbp+130h]
  float v196; // [rsp+238h] [rbp+130h]

  v194 = v5;
  v193 = v6;
  v192 = v7;
  v191 = v8;
  v190 = v9;
  v189 = v10;
  v188 = v11;
  v187 = v12;
  v186 = v13;
  v18 = 0.0;
  v19 = 0.0;
  v20 = 0.0;
  v176 = 0.0;
  v147 = 1.0;
  v177 = 0.0078125;
  v133 = 0.0;
  v21 = 1.0;
  _Al__204 = (__m128)Al__204;
  if ( a3 >= 0 )
  {
    v22 = a1 + 0x230;
    v23 = ((unsigned int)a3 >> 0x11) & 0x3FFF;
    v24 = a3 & 0x1FFFF;
    if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v22 + 0x14);
    }
    else
    {
      v25 = _InterlockedIncrement64((volatile signed __int64 *)v22);
      if ( (v25 & 0x200000) != 0 )
        sub_1403CB300(v22, v25, "CRenderProxy::GetSlotLocalTransform", "m_SlotsLock", 1);
      v19 = *((float *)&v176 + 1);
      v20 = *(float *)&v177;
      v21 = *((float *)&v177 + 1);
      v133 = *(float *)&v176;
    }
    v26 = *(_QWORD *)(a1 + 0xE0);
    if ( v24 >= (unsigned __int64)((*(_QWORD *)(a1 + 0xE8) - v26) >> 3) || (v27 = *(__int64 **)(v26 + 8LL * v24)) == 0 )
    {
      v109 = _Al__204.m128_f32[1];
      _XMM8 = _Al__204.m128_u32[0];
      v107 = _Al__204.m128_f32[2];
      v106 = _Al__204.m128_f32[3];
      __asm { vunpcklps xmm14, xmm8, xmm10 }
      epi32 = _Al__204.m128_i32[2];
      goto LABEL_44;
    }
    v28 = (__int64 *)v27[0xA];
    *(_OWORD *)&v185[1] = v14;
    if ( !v28 || a4 )
    {
      v49 = *v27;
      if ( *v27 )
      {
        v21 = *(float *)(v49 + 0xC);
        v19 = *(float *)(v49 + 4);
        v20 = *(float *)(v49 + 8);
        _Al__204_1 = (__m128)*(unsigned __int64 *)(v49 + 0x10);
        epi32 = *(_DWORD *)(v49 + 0x18);
        v51 = (__m128)*(unsigned int *)(v49 + 0x1C);
        v52 = *(float *)v49;
        v142 = v21;
      }
      else
      {
        _Al__204_1 = (__m128)Al__204;
        v51 = _mm_shuffle_ps(_Al__204_1, _Al__204_1, 0xFF);
        epi32 = _mm_extract_epi32((__m128i)Al__204, 2);
        v142 = 1.0;
        v21 = 1.0;
        v19 = 0.0;
        v20 = 0.0;
        v52 = 0.0;
      }
      __asm { vextractps [rbp+110h+arg_10], xmm0, 1 }
      *(_QWORD *)&_XMM14 = _Al__204_1.m128_u64[0];
      _Al__204.m128_u64[0] = _Al__204_1.m128_u64[0];
      v132 = _Al__204.m128_f32[0];
      v133 = v52;
      v183 = v51;
      v137 = *(float *)&epi32;
    }
    else
    {
      v29 = *v27;
      if ( *v27 )
      {
        v30 = *(float *)(v29 + 0x1C);
        v21 = *(float *)(v29 + 0xC);
        v19 = *(float *)(v29 + 4);
        v31 = *(float *)v29;
        v20 = *(float *)(v29 + 8);
        v18 = *(float *)(v29 + 0x18);
        v184 = *(_QWORD *)(v29 + 0x10);
        _XMM15 = (unsigned int)v184;
        n0x3F800000 = LODWORD(v30);
        LODWORD(v34) = _mm_shuffle_ps((__m128)v184, (__m128)v184, 0x55).m128_u32[0];
      }
      else
      {
        _XMM15 = 0;
        v34 = 0.0;
        v21 = 1.0;
        v19 = 0.0;
        v31 = 0.0;
        v20 = 0.0;
        v30 = 1.0;
        n0x3F800000 = 0x3F800000;
      }
      v137 = v18;
      v195 = v34;
      v172 = v19;
      v173 = v31;
      v174 = v21;
      v134 = v31;
      v175 = v31;
      v156 = v20;
      v165 = v20;
      v157 = v19;
      v166 = v19;
      v158 = v21;
      v167 = v21;
      v159 = v19;
      v168 = v19;
      v160 = v31;
      v169 = v31;
      v161 = v20;
      v170 = v20;
      v162 = v21;
      v171 = v21;
      v163 = v21;
      v148 = v21;
      v164 = v31;
      v150 = v31;
      v143 = v19;
      v152 = v19;
      v145 = v20;
      v154 = v20;
      v35 = v20;
      do
      {
        v36 = *v28;
        if ( *v28 )
        {
          v37 = *(float *)(v36 + 4);
          v38 = *(float *)(v36 + 8);
          v39 = *(float *)v36;
          v40 = *(_DWORD *)(v36 + 0x18);
          v41 = (__m128)*(unsigned int *)(v36 + 0x1C);
          v131 = *(float *)(v36 + 0xC);
          _Al__204.m128_u64[0] = *(_QWORD *)(v36 + 0x10);
          v141 = v37;
          v139 = v38;
          v135 = v39;
          _Al__204.m128_i32[2] = v40;
        }
        else
        {
          v19 = v172;
          v31 = v173;
          v21 = v174;
          v134 = v175;
          v156 = v165;
          v157 = v166;
          v158 = v167;
          v159 = v168;
          v160 = v169;
          v161 = v170;
          v162 = v171;
          v163 = v148;
          v164 = v150;
          v143 = v152;
          v131 = 1.0;
          v37 = 0.0;
          v38 = 0.0;
          v39 = 0.0;
          _Al__204 = (__m128)Al__204;
          v145 = v154;
          v141 = 0.0;
          v139 = 0.0;
          v135 = 0.0;
          v20 = v35;
          v30 = *(float *)&n0x3F800000;
          v41 = _mm_shuffle_ps(_Al__204, _Al__204, 0xFF);
        }
        v28 = (__int64 *)v28[0xA];
        v42 = (float)((float)(v37 * v18) - (float)(v38 * v34)) + (float)(*(float *)&_XMM15 * v131);
        v43 = (float)((float)(v38 * *(float *)&_XMM15) - (float)(v18 * v39)) + (float)(v34 * v131);
        v44 = (float)((float)(v34 * v135) - (float)(v37 * *(float *)&_XMM15)) + (float)(v18 * v131);
        v31 = (float)((float)((float)(v141 * v20) - (float)(v139 * v19)) + (float)(v31 * v131)) + (float)(v21 * v135);
        v19 = (float)((float)((float)(v139 * v134) - (float)(v135 * v156)) + (float)(v131 * v157))
            + (float)(v141 * v158);
        v20 = (float)((float)((float)(v135 * v159) - (float)(v141 * v160)) + (float)(v131 * v161))
            + (float)(v139 * v162);
        v21 = (float)((float)((float)(v131 * v163) - (float)(v135 * v164)) - (float)(v141 * v143))
            - (float)(v139 * v145);
        v45 = _XMM15;
        *(float *)&v45 = (float)((float)((float)(*(float *)&_XMM15 + (float)((float)(v37 * v44) - (float)(v43 * v139)))
                                       + (float)((float)(v37 * v44) - (float)(v43 * v139)))
                               * v41.m128_f32[0])
                       + _Al__204.m128_f32[0];
        _XMM15 = v45;
        v34 = (float)((float)((float)((float)((float)(v42 * v139) - (float)(v44 * v135)) + v195)
                            + (float)((float)(v42 * v139) - (float)(v44 * v135)))
                    * v41.m128_f32[0])
            + _Al__204.m128_f32[1];
        v18 = (float)((float)((float)((float)((float)(v43 * v135) - (float)(v42 * v141)) + v137)
                            + (float)((float)(v43 * v135) - (float)(v42 * v141)))
                    * v41.m128_f32[0])
            + _Al__204.m128_f32[2];
        v137 = v18;
        v195 = v34;
        v172 = v19;
        v173 = v31;
        v174 = v21;
        v134 = v31;
        v175 = v31;
        v156 = v20;
        v46 = v41;
        v30 = v41.m128_f32[0] * v30;
        v46.m128_f32[0] = v30;
        v35 = v20;
        v165 = v20;
        v157 = v19;
        v166 = v19;
        v158 = v21;
        v167 = v21;
        v159 = v19;
        v168 = v19;
        v160 = v31;
        v169 = v31;
        v161 = v20;
        v170 = v20;
        v162 = v21;
        v171 = v21;
        v163 = v21;
        v148 = v21;
        v164 = v31;
        v150 = v31;
        v143 = v19;
        v152 = v19;
        v145 = v20;
        v154 = v20;
        n0x3F800000 = LODWORD(v30);
      }
      while ( v28 );
      v183 = v46;
      __asm { vunpcklps xmm14, xmm15, xmm4 }
      v132 = *(float *)&_XMM15;
      v142 = v21;
      v133 = v31;
      epi32 = LODWORD(v18);
    }
    v53 = v27[0xB];
    v146 = v19;
    v144 = v20;
    if ( !v53
      || (v54 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v53 + 0x30LL))(v53), (v55 = v54) == 0)
      || !v23
      || (*(int (__fastcall **)(__int64))(*(_QWORD *)v54 + 0x3D8LL))(v54) < v23 )
    {
      v107 = v137;
      v109 = v195;
      *(float *)&_XMM8 = v132;
      v106 = v183.m128_f32[0];
      goto LABEL_44;
    }
    v56 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v55 + 0x3F8LL))(v55, (unsigned int)(v23 - 1));
    v57 = *(float *)(v56 + 0x14);
    v58 = (__m128)*(unsigned int *)(v56 + 0x10);
    v59 = *(float *)(v56 + 0x30);
    v60 = *(float *)(v56 + 0x38);
    v61 = *(float *)(v56 + 0x18);
    v62 = *(float *)(v56 + 0x34);
    v149 = powf(
             fabs(
               (float)((float)((float)((float)((float)((float)(v58.m128_f32[0] * *(float *)(v56 + 0x24)) * v60)
                                             + (float)((float)(v57 * *(float *)(v56 + 0x28)) * v59))
                                     + (float)((float)(v61 * *(float *)(v56 + 0x20)) * v62))
                             - (float)((float)(v61 * *(float *)(v56 + 0x24)) * v59))
                     - (float)((float)(v58.m128_f32[0] * *(float *)(v56 + 0x28)) * v62))
             - (float)((float)(v57 * *(float *)(v56 + 0x20)) * v60)),
             0.33333334);
    v63 = v58;
    v63.m128_f32[0] = (float)((float)(v58.m128_f32[0] * v58.m128_f32[0]) + (float)(v57 * v57))
                    + (float)((float)(v61 * v61) + 1.1754944e-38);
    _XMM2 = _mm_shuffle_ps(v63, v63, 0);
    __asm { vrsqrtps xmm3, xmm2 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v66 = (__m128)*(unsigned __int64 *)(v56 + 0x10);
    _XMM3.m128_f32[0] = (float)(1.5
                              - (float)((float)((float)(_XMM3.m128_f32[0] * v63.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                      * _XMM3.m128_f32[0];
    v151 = v66.m128_f32[0] * _XMM3.m128_f32[0];
    v155 = _mm_shuffle_ps(v66, v66, 0x55).m128_f32[0] * _XMM3.m128_f32[0];
    v153 = _XMM3.m128_f32[0] * v61;
    v67 = (float)(v61 * v62) - (float)(v57 * v60);
    v68 = (float)(v59 * v57) - (float)(v58.m128_f32[0] * v62);
    v69 = v58;
    v69.m128_f32[0] = (float)(v58.m128_f32[0] * v60) - (float)(v61 * v59);
    v70 = v69;
    v69.m128_f32[0] = (float)((float)(v69.m128_f32[0] * v69.m128_f32[0]) + (float)(v67 * v67))
                    + (float)((float)(v68 * v68) + 1.1754944e-38);
    _XMM0 = _mm_shuffle_ps(v69, v69, 0);
    __asm { vrsqrtps xmm4, xmm0 }
    _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
    v66.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM4.m128_f32[0] * v69.m128_f32[0]) * _XMM4.m128_f32[0]) * 0.5))
                    * _XMM4.m128_f32[0];
    v73 = v67 * v66.m128_f32[0];
    v74 = _XMM3.m128_f32[0] * v61;
    v76 = v70;
    v76.m128_f32[0] = v70.m128_f32[0] * v66.m128_f32[0];
    v75 = v76;
    v77 = v68 * v66.m128_f32[0];
    v78 = (float)(v155 * (float)(v68 * v66.m128_f32[0])) - (float)(v153 * v76.m128_f32[0]);
    v79 = (__m128)LODWORD(v151);
    v80 = (float)(v153 * v73) - (float)(v151 * (float)(v68 * v66.m128_f32[0]));
    v79.m128_f32[0] = (float)(v151 * v75.m128_f32[0]) - (float)(v155 * v73);
    v81 = v79;
    v82 = (__m128)LODWORD(v151);
    v82.m128_f32[0] = (float)(v151 + v75.m128_f32[0]) + v81.m128_f32[0];
    v83 = 0.0;
    v84 = 0.0;
    v85 = 0.0;
    v140 = 0.0;
    v136 = 0.0;
    if ( v82.m128_f32[0] <= 0.0 )
    {
      if ( v151 < v75.m128_f32[0] || v151 < v81.m128_f32[0] )
      {
        if ( v75.m128_f32[0] < v151 || v75.m128_f32[0] < v81.m128_f32[0] )
        {
          if ( v81.m128_f32[0] < v151 || v81.m128_f32[0] < v75.m128_f32[0] )
            goto LABEL_41;
          v93 = v81;
          v93.m128_f32[0] = (float)((float)(v81.m128_f32[0] - v151) - v75.m128_f32[0]) + 1.0;
          v94 = _mm_sqrt_ps(_mm_shuffle_ps(v93, v93, 0));
          v94.m128_f32[0] = _mm_shuffle_ps(v94, v94, 0xFF).m128_f32[0];
          v91 = 0.5 / v94.m128_f32[0];
          v147 = (float)(v73 - v155) * (float)(0.5 / v94.m128_f32[0]);
          v84 = (float)(v80 + v77) * (float)(0.5 / v94.m128_f32[0]);
          v92 = v74 + v78;
          v85 = v94.m128_f32[0] * 0.5;
        }
        else
        {
          v89 = v75;
          v89.m128_f32[0] = (float)((float)(v75.m128_f32[0] - v81.m128_f32[0]) - v151) + 1.0;
          v90 = _mm_sqrt_ps(_mm_shuffle_ps(v89, v89, 0));
          v90.m128_f32[0] = _mm_shuffle_ps(v90, v90, 0xFF).m128_f32[0];
          v91 = 0.5 / v90.m128_f32[0];
          v147 = (float)(v74 - v78) * (float)(0.5 / v90.m128_f32[0]);
          v85 = (float)(v80 + v77) * (float)(0.5 / v90.m128_f32[0]);
          v92 = v155 + v73;
          v84 = v90.m128_f32[0] * 0.5;
        }
        v83 = v92 * v91;
      }
      else
      {
        v87 = (__m128)LODWORD(v151);
        v87.m128_f32[0] = (float)((float)(v151 - v75.m128_f32[0]) - v81.m128_f32[0]) + 1.0;
        v88 = _mm_sqrt_ps(_mm_shuffle_ps(v87, v87, 0));
        v88.m128_f32[0] = _mm_shuffle_ps(v88, v88, 0xFF).m128_f32[0];
        v147 = (float)(v80 - v77) * (float)(0.5 / v88.m128_f32[0]);
        v85 = (float)(v74 + v78) * (float)(0.5 / v88.m128_f32[0]);
        v83 = v88.m128_f32[0] * 0.5;
        v84 = (float)(v155 + v73) * (float)(0.5 / v88.m128_f32[0]);
      }
    }
    else
    {
      v82.m128_f32[0] = v82.m128_f32[0] + 1.0;
      v86 = _mm_sqrt_ps(_mm_shuffle_ps(v82, v82, 0));
      v86.m128_f32[0] = _mm_shuffle_ps(v86, v86, 0xFF).m128_f32[0];
      v147 = v86.m128_f32[0] * 0.5;
      v83 = (float)(v80 - v77) * (float)(0.5 / v86.m128_f32[0]);
      v85 = (float)(v73 - v155) * (float)(0.5 / v86.m128_f32[0]);
      v84 = (float)(v74 - v78) * (float)(0.5 / v86.m128_f32[0]);
    }
    v136 = v85;
    v140 = v84;
LABEL_41:
    v95 = v133;
    v96 = *(float *)(v56 + 0x3C);
    v97 = *(float *)(v56 + 0x2C);
    v98 = *(float *)(v56 + 0x1C);
    v99 = (float)((float)(v146 * v96) - (float)(v144 * v97)) + (float)(v142 * v98);
    v100 = (float)((float)(v144 * v98) - (float)(v133 * v96)) + (float)(v142 * v97);
    v101 = (float)((float)(v133 * v97) - (float)(v146 * v98)) + (float)(v142 * v96);
    v102 = v133 * v84;
    v196 = (float)((float)((float)((float)((float)(v144 * v99) - (float)(v133 * v101)) + v97)
                         + (float)((float)(v144 * v99) - (float)(v133 * v101)))
                 * v183.m128_f32[0])
         + v195;
    v138 = (float)((float)((float)((float)((float)(v133 * v100) - (float)(v146 * v99)) + *(float *)(v56 + 0x3C))
                         + (float)((float)(v133 * v100) - (float)(v146 * v99)))
                 * v183.m128_f32[0])
         + v137;
    v103 = v133 * v85;
    v133 = (float)((float)((float)(v146 * v136) - (float)(v144 * v140)) + (float)(v142 * v83)) + (float)(v147 * v133);
    v104 = v102 - (float)(v146 * v83);
    v105 = v95 * v83;
    v19 = (float)((float)((float)(v144 * v83) - v103) + (float)(v142 * v140)) + (float)(v146 * v147);
    v20 = (float)(v104 + (float)(v142 * v136)) + (float)(v144 * v147);
    v106 = v183.m128_f32[0] * v149;
    v21 = (float)((float)((float)(v142 * v147) - v105) - (float)(v146 * v84)) - (float)(v144 * v85);
    v107 = v138;
    _XMM8 = COERCE_UNSIGNED_INT(
              (float)((float)((float)((float)((float)(v146 * v101) - (float)(v144 * v100)) + *(float *)(v56 + 0x1C))
                            + (float)((float)(v146 * v101) - (float)(v144 * v100)))
                    * v183.m128_f32[0])
            + v132);
    v109 = v196;
    __asm { vunpcklps xmm14, xmm8, xmm10 }
    epi32 = LODWORD(v138);
LABEL_44:
    sub_1402D2790(v22);
    v18 = v133;
    goto LABEL_46;
  }
  v109 = _Al__204.m128_f32[1];
  _XMM8 = _Al__204.m128_u32[0];
  v107 = _Al__204.m128_f32[2];
  v106 = _Al__204.m128_f32[3];
  __asm { vunpcklps xmm14, xmm8, xmm10 }
  epi32 = _Al__204.m128_i32[2];
LABEL_46:
  if ( n2 )
  {
    p_n0xB_1 = p_n0xB;
    if ( n2 == 2 )
    {
      *(float *)(p_n0xB + 0xC) = v21;
      *(float *)p_n0xB = v18;
      *(float *)(p_n0xB + 4) = v19;
      *(float *)(p_n0xB + 8) = v20;
      *(double *)(p_n0xB + 0x10) = *(double *)&_XMM14;
      *(_DWORD *)(p_n0xB + 0x18) = epi32;
      *(float *)(p_n0xB + 0x1C) = v106;
    }
    else
    {
      *(_DWORD *)(p_n0xB + 0xC) = 0x3F800000;
      *(_QWORD *)p_n0xB = 0;
      *(_DWORD *)(p_n0xB + 8) = 0;
      *(_QWORD *)(p_n0xB + 0x10) = 0;
      *(_DWORD *)(p_n0xB + 0x18) = 0;
      *(_DWORD *)(p_n0xB + 0x1C) = 0x3F800000;
    }
  }
  else
  {
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v111 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v111 = 0;
    v112 = *(__int64 **)(v111 + 0x2B0);
    v113 = *v112;
    v176 = v18;
    v177 = v19;
    *(double *)_Al__204.m128_u64 = v20;
    *(double *)&_Al__204.m128_u64[1] = v21;
    v179 = *(float *)&_XMM8;
    v180 = v109;
    v181 = v107;
    v182 = v106;
    v114 = (unsigned __int64 *)(*(__int64 (__fastcall **)(__int64 *, __m128 *, double *))(v113 + 0x140))(
                                 v112,
                                 &v183,
                                 &v176);
    _XMM0 = *v114;
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(float *)p_n0xB = *(float *)&_XMM0;
    _XMM1 = v114[1];
    __asm { vcvtpd2ps xmm1, xmm1 }
    *(float *)(p_n0xB + 4) = *(float *)&_XMM1;
    _XMM0 = v114[2];
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(float *)(p_n0xB + 8) = *(float *)&_XMM0;
    _XMM1 = v114[3];
    __asm { vcvtpd2ps xmm1, xmm1 }
    *(float *)(p_n0xB + 0xC) = *(float *)&_XMM1;
    _XMM0 = v114[4];
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(float *)(p_n0xB + 0x10) = *(float *)&_XMM0;
    _XMM1 = v114[5];
    __asm { vcvtpd2ps xmm1, xmm1 }
    *(float *)(p_n0xB + 0x14) = *(float *)&_XMM1;
    _XMM0 = v114[6];
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(float *)(p_n0xB + 0x18) = *(float *)&_XMM0;
    _XMM1 = v114[7];
    __asm { vcvtpd2ps xmm1, xmm1 }
    *(float *)(p_n0xB + 0x1C) = *(float *)&_XMM1;
    return p_n0xB;
  }
  return p_n0xB_1;
}

// --- End Function: sub_146AC04D0 (0x146AC04D0) ---

// --- Function: sub_146AC15F0 (0x146AC15F0) ---
__int64 __fastcall sub_146AC15F0(__int64 a1, __int64 a2, int a3, int n2, unsigned __int8 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  double v18; // xmm14_8
  double v20; // xmm15_8
  __int64 v23; // rsi
  unsigned __int64 v24; // r15
  int v25; // edi
  signed __int64 v26; // rdx
  __int64 v27; // rcx
  __int64 v28; // r15
  int v29; // eax
  __int64 v30; // rax
  __int64 v31; // rcx
  __int64 v32; // rax
  __int64 *v33; // r15
  __int64 v34; // rcx
  __int64 (__fastcall *v35)(__int64 *, _QWORD); // rax
  __int64 v36; // rax
  float v37; // xmm13_4
  __int128 v38; // xmm12
  float v39; // xmm5_4
  float v40; // xmm6_4
  float v41; // xmm9_4
  __int128 v42; // xmm8
  float v43; // xmm11_4
  float v44; // xmm7_4
  float v45; // xmm10_4
  double v46; // xmm13_8
  __int128 v47; // xmm12
  __int128 v48; // kr00_16
  double v49; // xmm9_8
  __int128 v50; // xmm8
  double v51; // xmm11_8
  double v52; // xmm10_8
  double v53; // xmm0_8
  double v58; // xmm6_8
  double v59; // xmm7_8
  __int128 v60; // xmm5
  double v61; // xmm4_8
  double v66; // xmm10_8
  double v67; // xmm8_8
  double v68; // xmm6_8
  __int128 v69; // xmm5
  double v70; // xmm11_8
  double v71; // xmm12_8
  __int128 v72; // xmm2
  __int128 v73; // kr00_16
  double v74; // xmm13_8
  double v75; // xmm9_8
  __int128 v84; // kr00_16
  __int128 v89; // kr00_16
  double v94; // xmm14_8
  double v95; // xmm7_8
  double v96; // xmm5_8
  double v97; // xmm12_8
  double v98; // xmm4_8
  double v99; // xmm11_8
  double v100; // xmm1_8
  double v101; // kr00_8
  double v102; // xmm7_8
  double v103; // xmm9_8
  double v104; // xmm10_8
  double v105; // xmm13_8
  double v106; // xmm5_8
  __int128 v107; // xmm0
  __int64 v108; // rcx
  double v110; // [rsp+38h] [rbp-D0h]
  double v111; // [rsp+40h] [rbp-C8h]
  double v112; // [rsp+48h] [rbp-C0h]
  double v113; // [rsp+50h] [rbp-B8h]
  __int128 v114; // [rsp+58h] [rbp-B0h] BYREF
  double v115; // [rsp+68h] [rbp-A0h]
  double v116[3]; // [rsp+70h] [rbp-98h]
  __int128 v117; // [rsp+88h] [rbp-80h]
  double v118; // [rsp+98h] [rbp-70h]
  double v119; // [rsp+A0h] [rbp-68h]
  double v120; // [rsp+A8h] [rbp-60h]
  double v121; // [rsp+B0h] [rbp-58h]
  double v122; // [rsp+B8h] [rbp-50h]
  char v123; // [rsp+C0h] [rbp-48h] BYREF
  __int128 v124; // [rsp+108h] [rbp+0h]
  __int128 v125; // [rsp+118h] [rbp+10h]
  __int128 v126; // [rsp+128h] [rbp+20h]
  __int128 v127; // [rsp+138h] [rbp+30h]
  __int128 v128; // [rsp+148h] [rbp+40h]
  __int128 v129; // [rsp+158h] [rbp+50h]
  __int128 v130; // [rsp+168h] [rbp+60h]
  __int128 v131; // [rsp+178h] [rbp+70h]
  _OWORD v132[3]; // [rsp+188h] [rbp+80h]

  v125 = v13;
  v124 = v14;
  v18 = 1.0;
  _XMM0 = 0;
  v20 = 0.0;
  __asm
  {
    vmovupd [rsp+1B0h+var_168+8], xmm0
    vmovupd xmm0, cs:xmmword_1481AA7F0
  }
  _XMM2 = 0;
  __asm { vmovupd [rbp+0B0h+var_130], xmm0 }
  v113 = 1.0;
  v116[0] = 1.0;
  v112 = 0.0;
  v115 = 0.0;
  __asm { vmovupd xmmword ptr [rsp+1B0h+var_148+8], xmm2 }
  if ( a3 >= 0 )
  {
    v23 = a1 + 0x230;
    v24 = a3 & 0x1FFFF;
    v25 = ((unsigned int)a3 >> 0x11) & 0x3FFF;
    if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v23 + 0x14);
    }
    else
    {
      v26 = _InterlockedIncrement64((volatile signed __int64 *)v23);
      if ( (v26 & 0x200000) != 0 )
        sub_1403CB300(v23, v26, "CRenderProxy::GetSlotTransform", "m_SlotsLock", 1);
    }
    v27 = *(_QWORD *)(a1 + 0xE0);
    if ( v24 >= (*(_QWORD *)(a1 + 0xE8) - v27) >> 3 )
      goto LABEL_25;
    v28 = *(_QWORD *)(v27 + 8 * v24);
    if ( !v28 )
      goto LABEL_25;
    v29 = sub_146AB3220(a1);
    v30 = sub_146AC8A30(v28, (unsigned int)&v123, v29, a5, 1);
    v114 = *(_OWORD *)v30;
    v115 = *(double *)(v30 + 0x10);
    v116[0] = *(double *)(v30 + 0x18);
    *(_OWORD *)&v116[1] = *(_OWORD *)(v30 + 0x20);
    v117 = *(_OWORD *)(v30 + 0x30);
    v31 = *(_QWORD *)(v28 + 0x58);
    if ( !v31 )
      goto LABEL_25;
    v32 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v31 + 0x30LL))(v31);
    v33 = (__int64 *)v32;
    if ( !v32 || !v25 || (*(int (__fastcall **)(__int64))(*(_QWORD *)v32 + 0x3D8LL))(v32) < v25 )
      goto LABEL_25;
    v34 = *v33;
    v132[1] = v5;
    v132[0] = v6;
    v131 = v7;
    v35 = *(__int64 (__fastcall **)(__int64 *, _QWORD))(v34 + 0x3F8);
    v130 = v8;
    v129 = v9;
    v128 = v10;
    v127 = v11;
    v126 = v12;
    v36 = v35(v33, (unsigned int)(v25 - 1));
    v37 = *(float *)(v36 + 0x10);
    v38 = *(unsigned int *)(v36 + 0x14);
    v39 = *(float *)(v36 + 0x24);
    v40 = *(float *)(v36 + 0x28);
    v41 = *(float *)(v36 + 0x30);
    v42 = *(unsigned int *)(v36 + 0x38);
    v43 = *(float *)(v36 + 0x18);
    v44 = *(float *)(v36 + 0x20);
    v45 = *(float *)(v36 + 0x34);
    v118 = *(float *)(v36 + 0x1C);
    v119 = *(float *)(v36 + 0x2C);
    v120 = *(float *)(v36 + 0x3C);
    v46 = v37;
    *((_QWORD *)&v48 + 1) = *((_QWORD *)&v38 + 1);
    *(double *)&v48 = *(float *)&v38;
    v47 = v48;
    v49 = v41;
    *((_QWORD *)&v48 + 1) = *((_QWORD *)&v42 + 1);
    *(double *)&v48 = *(float *)&v42;
    v50 = v48;
    v51 = v43;
    v52 = v45;
    v53 = pow(
            fabs(
              v39 * v46 * *(double *)&v48
            + v40 * *(double *)&v47 * v49
            + v44 * v51 * v52
            - v39 * v51 * v49
            - v40 * v46 * v52
            - v44 * *(double *)&v47 * *(double *)&v48),
            0.3333333333333333);
    *((_QWORD *)&v48 + 1) = *((_QWORD *)&v47 + 1);
    *(double *)&v48 = *(double *)&v47 * *(double *)&v47 + v46 * v46 + v51 * v51 + 2.225073858507201e-308;
    _XMM1 = v48;
    __asm
    {
      vmovddup xmm2, xmm1
      vsqrtpd xmm3, xmm2
      vunpckhpd xmm3, xmm3, xmm3
    }
    v122 = v53;
    *(double *)&_XMM2 = *(double *)&v47 * (1.0 / *(double *)&_XMM3);
    v121 = v46 * (1.0 / *(double *)&_XMM3);
    v58 = v52 * v51 - *(double *)&v50 * *(double *)&v47;
    *((_QWORD *)&v48 + 1) = *((_QWORD *)&v50 + 1);
    v59 = v51 * (1.0 / *(double *)&_XMM3);
    *(double *)&v48 = *(double *)&v50 * v46 - v49 * v51;
    v60 = v48;
    v61 = v49 * *(double *)&v47 - v52 * v46;
    *(double *)&v48 = *(double *)&v60 * *(double *)&v60 + v58 * v58 + v61 * v61 + 2.225073858507201e-308;
    _XMM1 = v48;
    __asm
    {
      vmovddup xmm3, xmm1
      vsqrtpd xmm0, xmm3
      vunpckhpd xmm0, xmm0, xmm0
    }
    *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
    v66 = v61 * *(double *)&_XMM0;
    v67 = v58 * *(double *)&_XMM0;
    v68 = *(double *)&_XMM2;
    *((_QWORD *)&v48 + 1) = *((_QWORD *)&v60 + 1);
    *(double *)&v48 = *(double *)&v60 * *(double *)&_XMM0;
    v69 = v48;
    v70 = v61 * *(double *)&_XMM0 * *(double *)&_XMM2 - *(double *)&v48 * v59;
    v71 = v67 * v59 - v61 * *(double *)&_XMM0 * v121;
    *(double *)&v48 = *(double *)&v48 * v121 - v67 * *(double *)&_XMM2;
    v72 = v48;
    *((_QWORD *)&v73 + 1) = *((_QWORD *)&v69 + 1);
    *(double *)&v73 = *(double *)&v69 + v121 + *(double *)&v72;
    v74 = 0.0;
    v75 = 0.0;
    v111 = 0.0;
    v110 = 0.0;
    if ( *(double *)&v73 <= 0.0 )
    {
      if ( v121 < *(double *)&v69 || v121 < *(double *)&v72 )
      {
        if ( *(double *)&v69 < v121 || *(double *)&v69 < *(double *)&v72 )
        {
          if ( *(double *)&v72 < v121 || *(double *)&v72 < *(double *)&v69 )
            goto LABEL_24;
          *((_QWORD *)&v89 + 1) = *((_QWORD *)&v72 + 1);
          *(double *)&v89 = *(double *)&v72 - v121 - *(double *)&v69 + 1.0;
          _XMM2 = v89;
          __asm { vmovddup xmm3, xmm2 }
          __asm
          {
            vsqrtpd xmm5, xmm3
            vunpckhpd xmm5, xmm5, xmm5
          }
          v113 = (v67 - v68) * (0.5 / *(double *)&_XMM5);
          v112 = (v70 + v59) * (0.5 / *(double *)&_XMM5);
          v74 = (v71 + v66) * (0.5 / *(double *)&_XMM5);
          v75 = *(double *)&_XMM5 * 0.5;
        }
        else
        {
          *((_QWORD *)&v84 + 1) = *((_QWORD *)&v69 + 1);
          *(double *)&v84 = *(double *)&v69 - *(double *)&v72 - v121 + 1.0;
          _XMM2 = v84;
          __asm { vmovddup xmm3, xmm2 }
          __asm
          {
            vsqrtpd xmm5, xmm3
            vunpckhpd xmm5, xmm5, xmm5
          }
          v113 = (v59 - v70) * (0.5 / *(double *)&_XMM5);
          v112 = (v67 + v68) * (0.5 / *(double *)&_XMM5);
          v75 = (v71 + v66) * (0.5 / *(double *)&_XMM5);
          v74 = *(double *)&_XMM5 * 0.5;
        }
      }
      else
      {
        _XMM2 = COERCE_UNSIGNED_INT64(v121 - *(double *)&v69 - *(double *)&v72 + 1.0);
        __asm { vmovddup xmm3, xmm2 }
        __asm
        {
          vsqrtpd xmm4, xmm3
          vunpckhpd xmm4, xmm4, xmm4
        }
        v113 = (v71 - v66) * (0.5 / *(double *)&_XMM4);
        v112 = *(double *)&_XMM4 * 0.5;
        v75 = (v70 + v59) * (0.5 / *(double *)&_XMM4);
        v74 = (v67 + v68) * (0.5 / *(double *)&_XMM4);
      }
    }
    else
    {
      *(double *)&v73 = *(double *)&v73 + 1.0;
      _XMM0 = v73;
      __asm { vmovddup xmm1, xmm0 }
      __asm
      {
        vsqrtpd xmm3, xmm1
        vunpckhpd xmm3, xmm3, xmm3
      }
      v113 = *(double *)&_XMM3 * 0.5;
      v112 = (v71 - v66) * (0.5 / *(double *)&_XMM3);
      v75 = (v67 - v68) * (0.5 / *(double *)&_XMM3);
      v74 = (v59 - v70) * (0.5 / *(double *)&_XMM3);
    }
    v110 = v75;
    v111 = v74;
LABEL_24:
    v94 = v115 * v110;
    v95 = *((double *)&v114 + 1) * v120 - v115 * v119 + v116[0] * v118;
    v96 = v115 * v118 - *(double *)&v114 * v120 + v116[0] * v119;
    v97 = *(double *)&v114 * v112;
    v98 = *(double *)&v114 * v119 - *((double *)&v114 + 1) * v118 + v116[0] * v120;
    v99 = (*((double *)&v114 + 1) * v98 - v115 * v96 + v118 + *((double *)&v114 + 1) * v98 - v115 * v96)
        * *((double *)&v117 + 1)
        + v116[1];
    v100 = (v115 * v95 - *(double *)&v114 * v98 + v119 + v115 * v95 - *(double *)&v114 * v98) * *((double *)&v117 + 1);
    v101 = *(double *)&v114 * v96
         - *((double *)&v114 + 1) * v95
         + v120
         + *(double *)&v114 * v96
         - *((double *)&v114 + 1) * v95;
    v102 = v75 * *(double *)&v114;
    v103 = *((double *)&v114 + 1) * v112;
    v104 = v74 * *(double *)&v114;
    v105 = v74 * *((double *)&v114 + 1);
    v106 = v101 * *((double *)&v117 + 1) + *(double *)&v117;
    *(double *)&v114 = v110 * *((double *)&v114 + 1) - v111 * v115 + v112 * v116[0] + *(double *)&v114 * v113;
    *((double *)&v114 + 1) = v115 * v112 - v102 + v116[0] * v111 + v113 * *((double *)&v114 + 1);
    v115 = v116[0] * v110 + v104 - v103 + v113 * v115;
    v116[1] = v99;
    v116[2] = v100 + v116[2];
    *((double *)&v117 + 1) = *((double *)&v117 + 1) * v122;
    v116[0] = v113 * v116[0] - v97 - v105 - v94;
    *(double *)&v117 = v106;
LABEL_25:
    sub_1402D2790(v23);
    __asm { vmovupd xmm2, xmmword ptr [rsp+1B0h+var_148+8] }
    v18 = v116[0];
    v20 = v115;
  }
  if ( n2 )
  {
    if ( n2 == 2 )
    {
      *(_OWORD *)a2 = v114;
      v107 = v117;
      *(double *)(a2 + 0x18) = v18;
      *(double *)(a2 + 0x10) = v20;
      *(_OWORD *)(a2 + 0x20) = _XMM2;
      *(_OWORD *)(a2 + 0x30) = v107;
    }
    else
    {
      *(_QWORD *)(a2 + 0x18) = 0x3FF0000000000000LL;
      *(_QWORD *)a2 = 0;
      *(_QWORD *)(a2 + 8) = 0;
      *(_QWORD *)(a2 + 0x10) = 0;
      *(_QWORD *)(a2 + 0x20) = 0;
      *(_QWORD *)(a2 + 0x28) = 0;
      *(_QWORD *)(a2 + 0x30) = 0;
      *(_QWORD *)(a2 + 0x38) = 0x3FF0000000000000LL;
    }
  }
  else
  {
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v108 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v108 = 0;
    (*(void (__fastcall **)(_QWORD, __int64, __int128 *))(**(_QWORD **)(v108 + 0x2B0) + 0x140LL))(
      *(_QWORD *)(v108 + 0x2B0),
      a2,
      &v114);
  }
  return a2;
}

// --- End Function: sub_146AC15F0 (0x146AC15F0) ---

// --- Function: sub_146AC21D0 (0x146AC21D0) ---
__int64 *__fastcall sub_146AC21D0(__int64 a1, __int64 *a2, int a3, int a4)
{
  __int64 v4; // rbx
  __int64 v7; // r14
  __int64 v9; // rdi
  signed __int64 v10; // rdx
  __int64 v11; // rcx
  __int64 v12; // rcx
  __int64 v13; // rcx
  __int64 v14; // rax

  v4 = 0;
  v7 = a3;
  if ( a3 >= 0 )
  {
    v9 = a1 + 0x230;
    if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v9 + 0x14);
    }
    else
    {
      v10 = _InterlockedIncrement64((volatile signed __int64 *)v9);
      if ( (v10 & 0x200000) != 0 )
        sub_1403CB300(v9, v10, "CRenderProxy::GetStatObj", "m_SlotsLock", 1);
    }
    v11 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v7 < (int)((*(_QWORD *)(a1 + 0xE8) - v11) >> 3) )
    {
      v12 = *(_QWORD *)(v11 + 8 * v7);
      if ( v12 )
      {
        v13 = *(_QWORD *)(v12 + 0x58);
        if ( v13 )
        {
          v14 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x30LL))(v13);
          v4 = v14;
          if ( v14 )
          {
            if ( a4 >= 0 && a4 < (*(int (__fastcall **)(__int64))(*(_QWORD *)v14 + 0x3D8LL))(v14) )
              v4 = *(_QWORD *)((*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v4 + 0x3F8LL))(
                                 v4,
                                 (unsigned int)a4)
                             + 0xA0);
          }
        }
      }
    }
    sub_1402D2790(v9);
  }
  *a2 = v4;
  if ( v4 )
    (**(void (__fastcall ***)(__int64))v4)(v4);
  return a2;
}

// --- End Function: sub_146AC21D0 (0x146AC21D0) ---

// --- Function: sub_146ACA130 (0x146ACA130) ---
__int64 __fastcall sub_146ACA130(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x2B8);
}

// --- End Function: sub_146ACA130 (0x146ACA130) ---

// --- Function: sub_146AD3710 (0x146AD3710) ---
bool __fastcall sub_146AD3710(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) == 1;
}

// --- End Function: sub_146AD3710 (0x146AD3710) ---

// --- Function: sub_146AD3950 (0x146AD3950) ---
bool __fastcall sub_146AD3950(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) == 2;
}

// --- End Function: sub_146AD3950 (0x146AD3950) ---

// --- Function: sub_146AD3A90 (0x146AD3A90) ---
_BOOL8 __fastcall sub_146AD3A90(__int64 a1, int a2)
{
  __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  bool v7; // di

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(v3, v5, "CRenderProxy::IsSlotValid", "m_SlotsLock", 1);
  }
  v7 = 0;
  if ( (int)v2 >= 0 )
  {
    v6 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3) )
    {
      if ( *(_QWORD *)(v6 + 8 * v2) )
        v7 = 1;
    }
  }
  sub_1402D2790(v3);
  return v7;
}

// --- End Function: sub_146AD3A90 (0x146AD3A90) ---

// --- Function: sub_146AD3D10 (0x146AD3D10) ---
__int64 __fastcall sub_146AD3D10(__int64 a1, unsigned int a2, _BYTE *a3, unsigned int a4, int a5)
{
  __int64 v8; // r15
  __int64 v9; // rcx
  __int64 v11; // rcx
  __int64 v12; // [rsp+60h] [rbp+18h] BYREF

  if ( a3 && *a3 )
  {
    v8 = (*(__int64 (__fastcall **)(__int64, _BYTE *, _QWORD, _QWORD, unsigned int, int))(*(_QWORD *)qword_149B4FCA8
                                                                                        + 0x10LL))(
           qword_149B4FCA8,
           a3,
           0x20 * (a4 & 0x10),
           *(_QWORD *)(a1 + 8),
           a2,
           a5);
    if ( !v8 )
    {
      if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
        v9 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      else
        v9 = 0;
      (*(void (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v9 + 0x78LL))(v9, &v12);
      sub_146AABD10((__int64)"[%s] Failed to load character [%s] for entity: [%s]");
      sub_140370D10(&v12);
    }
    return sub_146AFBB30(a1, a2, a4, v8);
  }
  else
  {
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v11 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v11 = 0;
    (*(void (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v11 + 0x78LL))(v11, &v12);
    sub_146AABD10((__int64)"[%s] Called with empty filename for entity: [%s]");
    sub_140370D10(&v12);
    return 0xFFFFFFFFLL;
  }
}

// --- End Function: sub_146AD3D10 (0x146AD3D10) ---

// --- Function: sub_146AD40A0 (0x146AD40A0) ---
__int64 __fastcall sub_146AD40A0(__int64 a1, unsigned int a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  signed __int64 v15; // rdx
  _QWORD *v16; // rsi
  __int64 v17; // r13
  __int64 v18; // rdi
  void (__fastcall *v19)(__int64, __int64, __int64, __int64, int); // rbx
  __int64 v20; // r9
  __int64 v21; // rbx
  __int64 v22; // rcx
  double *v23; // rax
  double v24; // xmm8_8
  double v25; // xmm1_8
  double v26; // xmm3_8
  double v27; // xmm5_8
  double v28; // xmm11_8
  double v29; // xmm6_8
  double v30; // xmm14_8
  double v31; // xmm10_8
  double v32; // xmm9_8
  double v33; // xmm4_8
  double v34; // xmm5_8
  double v35; // xmm3_8
  double v36; // xmm15_8
  double v37; // xmm12_8
  double v38; // xmm6_8
  double v39; // xmm8_8
  double v40; // xmm13_8
  double v41; // xmm2_8
  double v42; // xmm10_8
  double v43; // xmm7_8
  double v44; // xmm5_8
  double v45; // xmm3_8
  double v46; // xmm1_8
  __int64 v47; // rax
  __m128 v48; // xmm1
  __int128 v50; // kr00_16
  float v51; // xmm0_4
  float v52; // xmm7_4
  float v53; // xmm5_4
  __m128 v55; // kr00_16
  __int64 v58; // r8
  __int64 v59; // rdx
  int v61; // [rsp+20h] [rbp-158h]
  double v62; // [rsp+30h] [rbp-148h]
  double v63; // [rsp+40h] [rbp-138h] BYREF
  float v64; // [rsp+48h] [rbp-130h]
  double v65; // [rsp+4Ch] [rbp-12Ch]
  float v66; // [rsp+54h] [rbp-124h]
  char v67; // [rsp+58h] [rbp-120h] BYREF
  __int128 v68; // [rsp+A0h] [rbp-D8h]
  __int128 v69; // [rsp+B0h] [rbp-C8h]
  __int128 v70; // [rsp+C0h] [rbp-B8h]
  __int128 v71; // [rsp+D0h] [rbp-A8h]
  __int128 v72; // [rsp+E0h] [rbp-98h]
  __int128 v73; // [rsp+F0h] [rbp-88h]
  __int128 v74; // [rsp+100h] [rbp-78h]
  __int128 v75; // [rsp+110h] [rbp-68h]
  __int128 v76; // [rsp+120h] [rbp-58h]
  __int128 v77; // [rsp+130h] [rbp-48h]
  double v78; // [rsp+180h] [rbp+8h]
  unsigned int v79; // [rsp+188h] [rbp+10h] BYREF
  double v80; // [rsp+190h] [rbp+18h]
  double v81; // [rsp+198h] [rbp+20h]

  v79 = a2;
  v77 = v3;
  v76 = v4;
  v75 = v5;
  v74 = v6;
  v73 = v7;
  v72 = v8;
  v71 = v9;
  v70 = v10;
  v69 = v11;
  v68 = v12;
  sub_146AD99E0(a1, &v79, 0xFFFFFFFFLL);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v15 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v15, "CRenderProxy::LoadFogVolume", "m_SlotsLock", 1);
  }
  v16 = (_QWORD *)(a1 + 8);
  v17 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * (int)v79);
  if ( *(_QWORD *)(v17 + 0x90) )
  {
    v18 = qword_149B4FBE8;
    v19 = *(void (__fastcall **)(__int64, __int64, __int64, __int64, int))(*(_QWORD *)qword_149B4FBE8 + 0x468LL);
    LOBYTE(v61) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(*v16 & 0xFFFFFFFFFFFFLL) + 0x710LL))(*v16 & 0xFFFFFFFFFFFFLL);
    LOBYTE(v20) = 1;
    v19(v18, 0xD3F3, *(_QWORD *)(v17 + 0x90) + 0x28LL, v20, v61);
    sub_146AEF560(v17);
  }
  v21 = 0;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v22 = *v16 & 0xFFFFFFFFFFFFLL;
  else
    LODWORD(v22) = 0;
  v23 = (double *)sub_146B526C0(v22, (unsigned int)&v67, 2, 0, 0);
  v24 = *v23;
  v25 = v23[3];
  v26 = v23[1];
  v27 = v23[2];
  v28 = v23[4];
  v29 = v27 + v27;
  v30 = (v26 + v26) * v25;
  v31 = (v26 + v26) * v26;
  v32 = (v26 + v26) * *v23;
  v33 = (v27 + v27) * v27;
  v34 = v23[7];
  v78 = 1.0 - (v24 + v24) * v24;
  v81 = (v24 + v24) * v25;
  v80 = v29 * v26;
  v35 = v29 * v25;
  v36 = (1.0 - v31 - v33) * v34;
  v37 = v29 * v24;
  v38 = v23[5];
  v39 = (v35 + v32) * v34;
  v40 = (v32 - v35) * v34;
  v41 = v23[7];
  v62 = v31;
  v42 = (v37 + v30) * v34;
  v43 = (v78 - v33) * v34;
  v44 = (v80 - v81) * v34;
  v45 = (v80 + v81) * v41;
  v46 = v23[6];
  *(double *)(a3 + 0x58) = (v78 - v62) * v41;
  *(double *)(a3 + 8) = v36;
  *(double *)(a3 + 0x10) = v40;
  *(double *)(a3 + 0x18) = v42;
  *(double *)(a3 + 0x20) = v28;
  *(double *)(a3 + 0x28) = v39;
  *(double *)(a3 + 0x30) = v43;
  *(double *)(a3 + 0x38) = v44;
  *(double *)(a3 + 0x40) = v38;
  *(double *)(a3 + 0x48) = (v37 - v30) * v41;
  *(double *)(a3 + 0x50) = v45;
  *(double *)(a3 + 0x60) = v46;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v47 = *v16 & 0xFFFFFFFFFFFFLL;
  else
    v47 = 0;
  *(_DWORD *)(a3 + 0x68) = *(_DWORD *)(v47 + 0x2B8);
  *(_QWORD *)(v17 + 0x90) = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE0 + 0x328LL))(
                              qword_149B4FBE0,
                              6,
                              a3);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v21 = *v16 & 0xFFFFFFFFFFFFLL;
  sub_146AE2860(v17, v21, 0);
  v48 = (__m128)*(unsigned __int64 *)(a3 + 0x98);
  v50 = 0xBF000000;
  *(float *)&v50 = -0.5 * *(float *)(a3 + 0x98);
  _XMM4 = v50;
  _mm_shuffle_ps(v48, v48, 0x55);
  v51 = *(float *)(a3 + 0xA0);
  v52 = v51 * 0.5;
  v53 = -0.5 * v51;
  v55 = v48;
  v55.m128_f32[0] = v48.m128_f32[0] * 0.5;
  _XMM8 = v55;
  __asm { vunpcklps xmm0, xmm4, xmm2 }
  v63 = *(double *)&_XMM0;
  __asm { vunpcklps xmm0, xmm8, xmm6 }
  LOBYTE(v58) = 1;
  v65 = *(double *)&_XMM0;
  v64 = v53;
  v66 = v52;
  sub_146AF9690(a1, &v63, v58);
  LOBYTE(v59) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_146ADEB80(a1, v59);
  sub_146AEB290(a1, v17);
  sub_1402D2790(a1 + 0x230);
  return v79;
}

// --- End Function: sub_146AD40A0 (0x146AD40A0) ---

// --- Function: sub_146AD51D0 (0x146AD51D0) ---
__int64 __fastcall sub_146AD51D0(__int64 a1, unsigned int a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  signed __int64 v14; // rdx
  __int64 v15; // r13
  __int64 v16; // rdi
  __int64 v17; // rcx
  char v18; // al
  __int64 v19; // rcx
  double v20; // xmm12_8
  double v21; // xmm15_8
  double v22; // xmm8_8
  double v23; // xmm13_8
  double v24; // xmm4_8
  double v25; // xmm14_8
  double v26; // xmm2_8
  __int64 v27; // rax
  __int64 v28; // rbx
  __int64 v29; // rdx
  __int64 v30; // rdx
  double v32; // [rsp+38h] [rbp-D0h] BYREF
  double v33; // [rsp+40h] [rbp-C8h]
  double v34; // [rsp+48h] [rbp-C0h]
  double v35; // [rsp+50h] [rbp-B8h]
  __int64 v36; // [rsp+58h] [rbp-B0h]
  __int64 v37; // [rsp+60h] [rbp-A8h]
  __int64 v38; // [rsp+68h] [rbp-A0h]
  double v39; // [rsp+70h] [rbp-98h]
  _QWORD v40[13]; // [rsp+78h] [rbp-90h] BYREF
  int v41; // [rsp+E0h] [rbp-28h]
  __int128 v42; // [rsp+108h] [rbp+0h]
  __int128 v43; // [rsp+118h] [rbp+10h]
  __int128 v44; // [rsp+128h] [rbp+20h]
  __int128 v45; // [rsp+138h] [rbp+30h]
  __int128 v46; // [rsp+148h] [rbp+40h]
  __int128 v47; // [rsp+158h] [rbp+50h]
  __int128 v48; // [rsp+168h] [rbp+60h]
  __int128 v49; // [rsp+178h] [rbp+70h]
  __int128 v50; // [rsp+188h] [rbp+80h]
  __int128 v51; // [rsp+198h] [rbp+90h]
  double v52; // [rsp+1E8h] [rbp+E0h]
  unsigned int v53; // [rsp+1F0h] [rbp+E8h] BYREF
  __int64 v54; // [rsp+1F8h] [rbp+F0h]

  v54 = a3;
  v53 = a2;
  v51 = v3;
  v50 = v4;
  v49 = v5;
  v48 = v6;
  v47 = v7;
  v46 = v8;
  v45 = v9;
  v44 = v10;
  v43 = v11;
  v42 = v12;
  sub_146AD99E0(a1, &v53, 0xFFFFFFFFLL);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v14 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v14 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v14, "CRenderProxy::LoadGeomCache", "m_SlotsLock", 1);
  }
  v15 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * (int)v53);
  sub_146AEF560(v15);
  v16 = 0;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v17 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v17 = 0;
  v18 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x50LL))(v17);
  sub_14050C7D0((__int64)v40, 0x18, v18 == 0);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v19 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    LODWORD(v19) = 0;
  sub_146B526C0(v19, (unsigned int)&v32, 2, 0, 0);
  v20 = (v33 + v33) * v35;
  v21 = (v33 + v33) * v33;
  v22 = (v33 + v33) * v32;
  v23 = (v34 + v34) * v33;
  v24 = (v34 + v34) * v32;
  v25 = (v32 + v32) * v35;
  v52 = 1.0 - (v32 + v32) * v32;
  v26 = (v34 + v34) * v35;
  v40[4] = v36;
  v40[8] = v37;
  v40[0xC] = v38;
  *(double *)&v40[1] = (1.0 - v21 - (v34 + v34) * v34) * v39;
  *(double *)&v40[2] = (v22 - v26) * v39;
  *(double *)&v40[3] = (v24 + v20) * v39;
  *(double *)&v40[5] = (v26 + v22) * v39;
  *(double *)&v40[6] = (v52 - (v34 + v34) * v34) * v39;
  *(double *)&v40[7] = (v23 - v25) * v39;
  *(double *)&v40[9] = (v24 - v20) * v39;
  *(double *)&v40[0xA] = (v23 + v25) * v39;
  *(double *)&v40[0xB] = (v52 - v21) * v39;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v27 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v27 = 0;
  v41 = *(_DWORD *)(v27 + 0x2B8);
  v28 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD *))(*(_QWORD *)qword_149B4FBE0 + 0x328LL))(
          qword_149B4FBE0,
          0x18,
          v40);
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v28 + 0x1E8LL))(v28, v54);
  *(_QWORD *)(v15 + 0x90) = v28;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v16 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  sub_146AE2860(v15, v16, 0);
  LOBYTE(v29) = 1;
  *(_WORD *)(v15 + 0xD8) = 1;
  sub_146AD1F20(a1, v29);
  LOBYTE(v30) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_146ADEB80(a1, v30);
  sub_146AEB290(a1, v15);
  sub_14050E3F0(v40);
  sub_1402D2790(a1 + 0x230);
  return v53;
}

// --- End Function: sub_146AD51D0 (0x146AD51D0) ---

// --- Function: sub_146AD58C0 (0x146AD58C0) ---
__int64 __fastcall sub_146AD58C0(int a1, int a2, __int64 a3, _BYTE *a4)
{
  void (***v5)(void); // rbx
  __int64 v8; // rbp
  __int64 v9; // rax
  __int64 v10; // rsi
  void (***v11)(void); // rdi
  void (***v12)(void); // rcx
  unsigned int v13; // edi
  void (***v15)(void); // [rsp+50h] [rbp-38h] BYREF
  void (***v16)(void); // [rsp+58h] [rbp-30h] BYREF
  void (***v17)(void); // [rsp+A8h] [rbp+20h] BYREF

  v5 = 0;
  (*(void (__fastcall **)(__int64, void (****)(void)))(*(_QWORD *)qword_149B4FBE0 + 0xA8LL))(qword_149B4FBE0, &v17);
  v8 = 0;
  if ( a4 && *a4 )
  {
    v9 = ((__int64 (__fastcall *)(void (***)(void), _BYTE *))(*v17)[0x85])(v17, a4);
    v10 = v9;
    if ( v9 && (v11 = *(void (****)(void))(v9 + 0xA0)) != 0 )
    {
      v8 = v9 + 0x10;
      v12 = v17;
      if ( (*(_BYTE *)(v9 + 0xBC) & 1) != 0 )
        v8 = 0;
      if ( v17 )
      {
        v5 = v17;
        (**v17)();
        v12 = v17;
        v11 = *(void (****)(void))(v10 + 0xA0);
      }
      if ( v12 != v11 )
      {
        if ( v11 )
        {
          ((void (__fastcall *)(void (***)(void)))**v11)(v11);
          v12 = v17;
        }
        if ( v12 )
          ((void (__fastcall *)(void (***)(void)))(*v12)[1])(v12);
        v12 = v11;
        v17 = v11;
      }
    }
    else
    {
      v12 = v17;
      if ( v17 )
      {
        ((void (__fastcall *)(void (***)(void)))(*v17)[1])(v17);
        v12 = 0;
        v17 = 0;
        v15 = 0;
        goto LABEL_20;
      }
    }
  }
  else
  {
    v12 = v17;
  }
  v15 = v5;
  if ( v5 )
  {
    ((void (__fastcall *)(void (***)(void)))**v5)(v5);
    v12 = v17;
  }
LABEL_20:
  v16 = v12;
  if ( v12 )
    ((void (__fastcall *)(void (***)(void)))**v12)(v12);
  v13 = sub_146AD5D60(a1, a2, (unsigned int)&v16, (unsigned int)&v15, v8);
  if ( v5 )
    ((void (__fastcall *)(void (***)(void)))(*v5)[1])(v5);
  if ( v17 )
    ((void (__fastcall *)(void (***)(void)))(*v17)[1])(v17);
  return v13;
}

// --- End Function: sub_146AD58C0 (0x146AD58C0) ---

// --- Function: sub_146AD5AA0 (0x146AD5AA0) ---
__int64 __fastcall sub_146AD5AA0(__int64 a1, unsigned int a2, _QWORD *a3, _QWORD *a4)
{
  __int64 v6; // rdi
  volatile signed __int64 *v7; // r15
  signed __int64 v8; // rdx
  unsigned int v9; // r14d
  __int64 v10; // rbp
  __int64 v11; // rcx
  __int64 v12; // rbx
  __int64 v13; // rbx
  __int64 v14; // rcx
  __int64 v15; // rdi
  __int64 v16; // rax
  volatile signed __int32 *v17; // rdi
  void (__fastcall ***v18)(_QWORD); // rcx
  __int64 *v19; // rdi
  __int64 v20; // rax
  void (__fastcall *v21)(__int64 *, void (__fastcall ****)(_QWORD)); // r13
  void (__fastcall ***v22)(_QWORD); // rcx
  __int64 *v23; // rdi
  __int64 v24; // rax
  void (__fastcall *v25)(__int64 *, void (__fastcall ****)(_QWORD)); // r13
  __int64 v26; // rdx
  __int64 *v28; // [rsp+30h] [rbp-58h]
  void (__fastcall ***v29)(_QWORD, __int64); // [rsp+38h] [rbp-50h] BYREF
  void (__fastcall ***v30)(_QWORD); // [rsp+40h] [rbp-48h] BYREF
  void (__fastcall ***v31)(_QWORD); // [rsp+48h] [rbp-40h] BYREF
  unsigned int v33; // [rsp+98h] [rbp+10h] BYREF

  v33 = a2;
  v6 = a1;
  sub_146AD99E0(a1, &v33, 0xFFFFFFFFLL);
  v7 = (volatile signed __int64 *)(v6 + 0x230);
  if ( *(_DWORD *)(v6 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x244);
  }
  else
  {
    v8 = _InterlockedIncrement64(v7);
    if ( (v8 & 0x200000) != 0 )
      sub_1403CB300(v6 + 0x230, v8, "CRenderProxy::LoadGeometry", "m_SlotsLock", 1);
  }
  v9 = v33;
  v10 = *(_QWORD *)(*(_QWORD *)(v6 + 0xE0) + 8LL * (int)v33);
  v11 = *(_QWORD *)(v10 + 0x68);
  if ( v11
    && (*(_WORD *)(v10 + 0xD8) & 0x100) == 0
    && (v12 = *a3, (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x10LL))(v11) == v12)
    && (v13 = *a4,
        (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v10 + 0x68) + 0x20LL))(*(_QWORD *)(v10 + 0x68)) == v13) )
  {
    sub_1402D2790(v6 + 0x230);
    if ( *a3 )
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
    *a3 = 0;
    if ( *a4 )
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a4 + 8LL))(*a4);
  }
  else
  {
    sub_146AEF560(v10);
    if ( *a3 || *a4 )
    {
      v28 = (__int64 *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FBE0 + 0x358LL))(
                         qword_149B4FBE0,
                         &v29);
      v14 = 0;
      v15 = *v28;
      v16 = 0;
      if ( *v28 )
      {
        v16 = allocWithProfilerInfo_w(0x18u);
        if ( v16 )
        {
          *(_DWORD *)(v16 + 8) = 1;
          *(_QWORD *)v16 = &off_1481B59C0;
          *(_DWORD *)(v16 + 0xC) = 1;
          *(_QWORD *)(v16 + 0x10) = v15;
        }
        else
        {
          v16 = 0;
        }
        *v28 = 0;
        v14 = v15;
      }
      v17 = *(volatile signed __int32 **)(v10 + 0x70);
      *(_QWORD *)(v10 + 0x68) = v14;
      *(_QWORD *)(v10 + 0x70) = v16;
      if ( v17 )
      {
        if ( _InterlockedExchangeAdd(v17 + 2, 0xFFFFFFFF) == 1 )
        {
          (**(void (__fastcall ***)(volatile signed __int32 *))v17)(v17);
          if ( _InterlockedExchangeAdd(v17 + 3, 0xFFFFFFFF) == 1 )
            (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v17 + 8LL))(v17);
        }
        v9 = v33;
      }
      if ( v29 )
        (**v29)(v29, 1);
      v18 = (void (__fastcall ***)(_QWORD))*a3;
      v19 = *(__int64 **)(v10 + 0x68);
      v20 = *v19;
      v30 = v18;
      v21 = *(void (__fastcall **)(__int64 *, void (__fastcall ****)(_QWORD)))(v20 + 0x28);
      if ( v18 )
        (**v18)(v18);
      v21(v19, &v30);
      v22 = (void (__fastcall ***)(_QWORD))*a4;
      v23 = *(__int64 **)(v10 + 0x68);
      v24 = *v23;
      v31 = v22;
      v25 = *(void (__fastcall **)(__int64 *, void (__fastcall ****)(_QWORD)))(v24 + 0x30);
      if ( v22 )
        (**v22)(v22);
      v25(v23, &v31);
      v6 = a1;
    }
    *(_WORD *)(v10 + 0xD8) = *(_WORD *)(v10 + 0xD8) & 0xFEFE | 1;
    sub_146B0DF70(v6, v10);
    LOBYTE(v26) = 1;
    sub_146AD1F20(v6, v26);
    sub_146AEB290(v6, v10);
    sub_1402D2790((__int64)v7);
    if ( *a3 )
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
    *a3 = 0;
    if ( *a4 )
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a4 + 8LL))(*a4);
  }
  *a4 = 0;
  return v9;
}

// --- End Function: sub_146AD5AA0 (0x146AD5AA0) ---

// --- Function: sub_146AD6430 (0x146AD6430) ---
__int64 __fastcall sub_146AD6430(int a1, int a2, _QWORD *a3)
{
  void (__fastcall ***v4)(_QWORD); // rcx
  __int64 result; // rax
  unsigned int v8; // edi
  void (__fastcall ***v9)(_QWORD); // [rsp+30h] [rbp-28h] BYREF
  __int64 v10; // [rsp+70h] [rbp+18h] BYREF

  v4 = (void (__fastcall ***)(_QWORD))*a3;
  v10 = 0;
  v9 = v4;
  if ( v4 )
    (**v4)(v4);
  result = sub_146AD5D60(a1, a2, (unsigned int)&v9, (unsigned int)&v10, 0);
  v8 = result;
  if ( *a3 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
    result = v8;
  }
  *a3 = 0;
  return result;
}

// --- End Function: sub_146AD6430 (0x146AD6430) ---

// --- Function: sub_146AD64B0 (0x146AD64B0) ---
__int64 __fastcall sub_146AD64B0(__int64 a1, int a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  volatile signed __int64 *v15; // rbx
  signed __int64 v16; // rdx
  int v17; // r15d
  __int64 v18; // rax
  __int64 v19; // r13
  __int64 v20; // rbp
  __int64 v21; // rcx
  double v22; // xmm12_8
  double v23; // xmm15_8
  double v24; // xmm8_8
  double v25; // xmm13_8
  double v26; // xmm4_8
  double v27; // xmm14_8
  double v28; // xmm9_8
  double v29; // xmm2_8
  double v30; // xmm10_8
  double v31; // xmm11_8
  double v32; // xmm8_8
  double v33; // xmm5_8
  double v34; // xmm6_8
  double v35; // xmm1_8
  double v36; // xmm3_8
  double v37; // xmm4_8
  __int64 v38; // rax
  signed __int64 v39; // r14
  __int64 v40; // r14
  __int64 v41; // r14
  __int64 v42; // r14
  __int64 v43; // r8
  __int64 v44; // rdx
  double v46; // [rsp+30h] [rbp-118h] BYREF
  double v47; // [rsp+38h] [rbp-110h]
  double v48; // [rsp+40h] [rbp-108h]
  double v49; // [rsp+48h] [rbp-100h]
  double v50; // [rsp+50h] [rbp-F8h]
  double v51; // [rsp+58h] [rbp-F0h]
  double v52; // [rsp+60h] [rbp-E8h]
  double v53; // [rsp+68h] [rbp-E0h]
  __int128 v54; // [rsp+70h] [rbp-D8h]
  __int128 v55; // [rsp+80h] [rbp-C8h]
  __int128 v56; // [rsp+90h] [rbp-B8h]
  __int128 v57; // [rsp+A0h] [rbp-A8h]
  __int128 v58; // [rsp+B0h] [rbp-98h]
  __int128 v59; // [rsp+C0h] [rbp-88h]
  __int128 v60; // [rsp+D0h] [rbp-78h]
  __int128 v61; // [rsp+E0h] [rbp-68h]
  __int128 v62; // [rsp+F0h] [rbp-58h]
  __int128 v63; // [rsp+100h] [rbp-48h]
  double v64; // [rsp+150h] [rbp+8h]
  int v65; // [rsp+158h] [rbp+10h] BYREF
  __int64 v66; // [rsp+160h] [rbp+18h]

  v65 = a2;
  v63 = v3;
  v62 = v4;
  v61 = v5;
  v60 = v6;
  v59 = v7;
  v58 = v8;
  v57 = v9;
  v56 = v10;
  v55 = v11;
  v54 = v12;
  sub_146AD99E0(a1, &v65, 0xFFFFFFFFLL);
  v15 = (volatile signed __int64 *)(a1 + 0x230);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v16 = _InterlockedIncrement64(v15);
    if ( (v16 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v16, "CRenderProxy::LoadHoloProjectorVolume", "m_SlotsLock", 1);
  }
  v17 = v65;
  v18 = *(_QWORD *)(a1 + 0xE0);
  v66 = v65;
  v19 = *(_QWORD *)(v18 + 8LL * v65);
  if ( *(_QWORD *)(v19 + 0x90) )
    sub_146AEF560(*(_QWORD *)(v18 + 8LL * v65));
  v20 = 0;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v21 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    LODWORD(v21) = 0;
  sub_146B526C0(v21, (unsigned int)&v46, 2, 0, 0);
  v22 = (v47 + v47) * v49;
  v23 = (v47 + v47) * v47;
  v24 = (v47 + v47) * v46;
  v25 = (v48 + v48) * v47;
  v26 = (v48 + v48) * v46;
  v27 = (v46 + v46) * v49;
  v28 = v53;
  v64 = 1.0 - (v46 + v46) * v46;
  v29 = (v48 + v48) * v49;
  v30 = (v24 - v29) * v53;
  v31 = (1.0 - v23 - (v48 + v48) * v48) * v53;
  v32 = (v29 + v24) * v53;
  v33 = (v26 + v22) * v53;
  v34 = (v64 - (v48 + v48) * v48) * v53;
  v35 = v26 - v22;
  v36 = (v25 - v27) * v53;
  v37 = (v27 + v25) * v53;
  *(double *)(a3 + 0x20) = v50;
  *(double *)(a3 + 0x40) = v51;
  *(double *)(a3 + 0x60) = v52;
  *(double *)(a3 + 8) = v31;
  *(double *)(a3 + 0x10) = v30;
  *(double *)(a3 + 0x18) = v33;
  *(double *)(a3 + 0x28) = v32;
  *(double *)(a3 + 0x30) = v34;
  *(double *)(a3 + 0x38) = v36;
  *(double *)(a3 + 0x48) = v35 * v28;
  *(double *)(a3 + 0x50) = v37;
  *(double *)(a3 + 0x58) = (v64 - v23) * v28;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v38 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v38 = 0;
  *(_DWORD *)(a3 + 0x68) = *(_DWORD *)(v38 + 0x2B8);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v39 = _InterlockedIncrement64(v15);
    if ( (v39 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v39, "CRenderProxy::GetVisualState", "m_SlotsLock", 1);
    v17 = v65;
  }
  if ( v17 >= 0
    && (v40 = *(_QWORD *)(a1 + 0xE0), v17 < (int)((*(_QWORD *)(a1 + 0xE8) - v40) >> 3))
    && (v41 = *(_QWORD *)(v40 + 8 * v66)) != 0 )
  {
    v42 = v41 + 0xA8;
  }
  else
  {
    v42 = 0;
  }
  sub_1402D2790(a1 + 0x230);
  *(_BYTE *)(a3 + 0xC8) = *(_BYTE *)v42;
  *(_BYTE *)(a3 + 0xC9) = *(_BYTE *)(v42 + 1);
  *(_BYTE *)(a3 + 0xCA) = *(_BYTE *)(v42 + 2);
  *(_BYTE *)(a3 + 0xCB) = *(_BYTE *)(v42 + 3);
  *(_BYTE *)(a3 + 0xCC) = *(_BYTE *)(v42 + 4);
  *(_BYTE *)(a3 + 0xCD) = *(_BYTE *)(v42 + 5);
  *(_BYTE *)(a3 + 0xCE) = *(_BYTE *)(v42 + 6);
  *(_BYTE *)(a3 + 0xCF) = *(_BYTE *)(v42 + 7);
  *(_BYTE *)(a3 + 0xD0) = *(_BYTE *)(v42 + 8);
  *(_DWORD *)(a3 + 0xD1) = *(_DWORD *)(v42 + 9);
  *(_DWORD *)(a3 + 0xD5) = *(_DWORD *)(v42 + 0xD);
  *(_BYTE *)(a3 + 0xD9) = *(_BYTE *)(v42 + 0x11);
  *(_QWORD *)(v19 + 0x90) = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE0 + 0x328LL))(
                              qword_149B4FBE0,
                              0x11,
                              a3);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v20 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  sub_146AE2860(v19, v20, 0);
  LOBYTE(v43) = 1;
  sub_146AF9690(a1, a3 + 0x98, v43);
  LOBYTE(v44) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_146ADEB80(a1, v44);
  sub_146AEB370(a1, (unsigned int)v17);
  sub_1402D2790(a1 + 0x230);
  return (unsigned int)v17;
}

// --- End Function: sub_146AD64B0 (0x146AD64B0) ---

// --- Function: sub_146AD7810 (0x146AD7810) ---
__int64 __fastcall sub_146AD7810(__int64 a1, unsigned int a2, __int64 a3, unsigned __int16 n0xFFFF, unsigned int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  volatile signed __int64 *v18; // rbx
  signed __int64 v19; // rdx
  __int64 v20; // r14
  __int64 v21; // r12
  __int64 v22; // rdx
  __int64 v23; // rcx
  __int64 v24; // rcx
  _BYTE *v25; // rax
  __int64 v26; // rdi
  __int64 v27; // rcx
  char n0xFF; // al
  double v29; // xmm8_8
  double v30; // xmm1_8
  double v31; // xmm3_8
  double v32; // xmm5_8
  double v33; // xmm11_8
  double v34; // xmm6_8
  double v35; // xmm14_8
  double v36; // xmm10_8
  double v37; // xmm9_8
  double v38; // xmm4_8
  double v39; // xmm5_8
  double v40; // xmm3_8
  double v41; // xmm15_8
  double v42; // xmm12_8
  double v43; // xmm6_8
  double v44; // xmm8_8
  double v45; // xmm13_8
  double v46; // xmm2_8
  double v47; // xmm10_8
  double v48; // xmm7_8
  double v49; // xmm5_8
  double v50; // xmm3_8
  double v51; // xmm1_8
  __int64 v52; // rax
  double v53; // xmm1_8
  __int64 v54; // rax
  __int64 v55; // rdx
  _BYTE *v56; // rcx
  __int64 n0x3E8; // rdx
  __int64 v58; // rdi
  void (__fastcall *v59)(__int64, _QWORD); // rbx
  __int64 v60; // rcx
  double v61; // xmm8_8
  double v62; // xmm3_8
  double v63; // xmm1_8
  double v64; // xmm5_8
  __int64 *v65; // rcx
  double v66; // xmm10_8
  __int64 v67; // rax
  double v68; // xmm6_8
  double v69; // xmm12_8
  double v70; // xmm14_8
  double v71; // xmm13_8
  double v72; // xmm9_8
  double v73; // xmm11_8
  double v74; // xmm3_8
  double v75; // kr00_8
  double v76; // xmm5_8
  double v77; // xmm0_8
  double v78; // xmm1_8
  __int64 v79; // rcx
  unsigned int v80; // edi
  __int128 v82; // [rsp+38h] [rbp-D0h] BYREF
  __m256 v83; // [rsp+48h] [rbp-C0h] BYREF
  __m256i v84; // [rsp+68h] [rbp-A0h]
  __m256 v85; // [rsp+88h] [rbp-80h]
  double v86; // [rsp+A8h] [rbp-60h]
  double v87; // [rsp+B0h] [rbp-58h]
  double v88; // [rsp+B8h] [rbp-50h]
  __int128 v89; // [rsp+C0h] [rbp-48h] BYREF
  double v90; // [rsp+D0h] [rbp-38h]
  double v91[11]; // [rsp+D8h] [rbp-30h] BYREF
  __int128 v92; // [rsp+138h] [rbp+30h]
  __int128 v93; // [rsp+148h] [rbp+40h]
  __int128 v94; // [rsp+158h] [rbp+50h]
  __int128 v95; // [rsp+168h] [rbp+60h]
  __int128 v96; // [rsp+178h] [rbp+70h]
  __int128 v97; // [rsp+188h] [rbp+80h]
  __int128 v98; // [rsp+198h] [rbp+90h]
  __int128 v99; // [rsp+1A8h] [rbp+A0h]
  __int128 v100; // [rsp+1B8h] [rbp+B0h]
  __int128 v101; // [rsp+1C8h] [rbp+C0h]
  double v102; // [rsp+218h] [rbp+110h] BYREF
  unsigned int v103; // [rsp+220h] [rbp+118h] BYREF
  unsigned __int16 n0xFFFF_1; // [rsp+230h] [rbp+128h]

  n0xFFFF_1 = n0xFFFF;
  v103 = a2;
  sub_146AD99E0(a1, &v103, a5);
  v18 = (volatile signed __int64 *)(a1 + 0x230);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v19 = _InterlockedIncrement64(v18);
    if ( (v19 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v19, "CRenderProxy::LoadLight", "m_SlotsLock", 1);
  }
  v20 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * (int)v103);
  v21 = 0;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v22 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    LODWORD(v22) = 0;
  v101 = v5;
  v100 = v6;
  v99 = v7;
  v98 = v8;
  v97 = v9;
  v96 = v10;
  v95 = v11;
  v94 = v12;
  v93 = v13;
  sub_146B0E140((__int64 *)v20, v22, 0, 1);
  v23 = *(_QWORD *)(v20 + 0x88);
  if ( v23 )
  {
    (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v23 + 0x128LL))(v23, a1 + 0x160);
    n0x3E8 = 0x3E8;
    if ( *(_BYTE *)(a1 + 0x8D) != 0xFF )
      n0x3E8 = *(unsigned __int8 *)(a1 + 0x8D);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x198LL))(*(_QWORD *)(v20 + 0x88), n0x3E8);
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0xD8LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a1 + 0x8E));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0xE0LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a1 + 0x8F));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x140LL))(*(_QWORD *)(v20 + 0x88), n0xFFFF);
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x1A0LL))(
      *(_QWORD *)(v20 + 0x88),
      (*(_DWORD *)(a3 + 0x6C) | *(_DWORD *)(*(_QWORD *)(v20 + 0x88) + 8LL))
    ^ (*(_DWORD *)(a1 + 0x80)
     ^ (*(_DWORD *)(a3 + 0x6C) | *(_DWORD *)(*(_QWORD *)(v20 + 0x88) + 8LL)))
    & 0x7000000u);
    v58 = *(_QWORD *)(v20 + 0x88);
    v59 = *(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v58 + 0x238LL);
    sub_1403B0A70((unsigned __int64 *)(a1 + 8), &v102);
    v59(v58, *(_QWORD *)&v102);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x2A0LL))(*(_QWORD *)(v20 + 0x88), a3 + 0x100);
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x218LL))(
      *(_QWORD *)(v20 + 0x88),
      *(_QWORD *)(a3 + 0x90));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x1E8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, __int64, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x1F8LL))(
      *(_QWORD *)(v20 + 0x88),
      a3 + 0x9C,
      0);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x200LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x208LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x210LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x248LL))(*(_QWORD *)(v20 + 0x88), a3 + 0xC0);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x250LL))(*(_QWORD *)(v20 + 0x88), a3 + 0xC8);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x258LL))(*(_QWORD *)(v20 + 0x88), a3 + 0xD0);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x260LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x268LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x270LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0xEC));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x278LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x280LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x288LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x290LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int16 *)(a3 + 0x1F0));
    (*(void (__fastcall **)(_QWORD, _QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x298LL))(
      *(_QWORD *)(v20 + 0x88),
      *(_BYTE *)(a3 + 0xFC) & 0xF,
      *(_BYTE *)(a3 + 0xFC) >> 4);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2A8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2B0LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x240LL))(*(_QWORD *)(v20 + 0x88), a3 + 0x128);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x2C0LL))(*(_QWORD *)(v20 + 0x88), a3 + 0x190);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2D0LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2D8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2E0LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2E8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x310LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0x1C0));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x318LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x320LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x348LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0x208));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x360LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x368LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x370LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x378LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2C8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x2B8LL))(*(_QWORD *)(v20 + 0x88), a3 + 0x1D0);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2F0LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2F8LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0x1E4));
    (*(void (__fastcall **)(_QWORD, _QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x300LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0x1E5),
      *(unsigned __int8 *)(a3 + 0x1E6));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x308LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x220LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0xB8));
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v60 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v60 = 0;
    if ( sub_146B35CC0(v60, v91, (__int64)&v89, 0) )
    {
      (*(void (__fastcall **)(_QWORD, double *))(**(_QWORD **)(v20 + 0x88) + 0x228LL))(*(_QWORD *)(v20 + 0x88), v91);
      (*(void (__fastcall **)(_QWORD, __int128 *))(**(_QWORD **)(v20 + 0x88) + 0x230LL))(*(_QWORD *)(v20 + 0x88), &v89);
    }
    v82 = 0;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v21 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    if ( sub_146B49B30(v21, &v82) )
      (*(void (__fastcall **)(_QWORD, __int128 *))(**(_QWORD **)(v20 + 0x88) + 0x328LL))(*(_QWORD *)(v20 + 0x88), &v82);
    v61 = *(double *)(v20 + 8);
    v62 = *(double *)(v20 + 0x10);
    v63 = *(double *)(v20 + 0x20);
    v64 = *(double *)(v20 + 0x18);
    v65 = *(__int64 **)(v20 + 0x88);
    v66 = v63 * (v62 + v62);
    v67 = *v65;
    v68 = v64 + v64;
    v69 = v63 * (v61 + v61);
    v70 = 1.0 - (v61 + v61) * v61;
    v71 = (v62 + v62) * v62;
    v72 = (v62 + v62) * v61;
    v73 = (v64 + v64) * v62;
    v74 = v63 * (v64 + v64);
    v75 = (v64 + v64) * v64;
    v76 = *(double *)(v20 + 0x40);
    *(double *)v83.m256_f32 = (1.0 - v71 - v75) * v76;
    *(double *)&v83.m256_f32[2] = (v72 - v74) * v76;
    *(_QWORD *)&v83.m256_f32[6] = *(_QWORD *)(v20 + 0x28);
    *(double *)&v83.m256_f32[4] = (v68 * v61 + v66) * v76;
    *(double *)v84.m256i_i64 = (v74 + v72) * v76;
    *(double *)&v84.m256i_i64[1] = (v70 - v75) * v76;
    v77 = *(double *)(v20 + 0x30);
    *(double *)&v84.m256i_i64[2] = (v73 - v69) * v76;
    *(double *)&v84.m256i_i64[3] = v77;
    *(double *)v85.m256_f32 = (v68 * v61 - v66) * v76;
    *(double *)&v85.m256_f32[2] = (v73 + v69) * v76;
    v78 = *(double *)(v20 + 0x38);
    *(double *)&v85.m256_f32[4] = (v70 - v71) * v76;
    *(double *)&v85.m256_f32[6] = v78;
    (*(void (__fastcall **)(__int64 *, __m256 *, __int64, _QWORD))(v67 + 0x1F0))(
      v65,
      &v83,
      2,
      (unsigned int)dword_149B4FDFC);
    v18 = (volatile signed __int64 *)(a1 + 0x230);
  }
  else
  {
    v92 = v14;
    sub_146AEF560(v20);
    if ( sub_1403BFA30((_QWORD *)(a3 + 0x120)) )
    {
      if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
        v24 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      else
        v24 = 0;
      v25 = (_BYTE *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v24 + 0x70LL))(v24);
      assignCStringToStringStructure((void **)(a3 + 0x120), v25);
    }
    v26 = *(_QWORD *)(a1 + 0x160);
    if ( *(_QWORD *)(a3 + 0x1E8) != v26 )
    {
      if ( v26 )
        (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v26 + 8LL))(*(_QWORD *)(a1 + 0x160));
      v27 = *(_QWORD *)(a3 + 0x1E8);
      if ( v27 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v27 + 0x10LL))(v27);
      *(_QWORD *)(a3 + 0x1E8) = v26;
    }
    n0xFF = *(_BYTE *)(a1 + 0x8D);
    if ( n0xFF == (char)0xFF )
      n0xFF = 0xE8;
    *(_BYTE *)(a3 + 0x70) = n0xFF;
    *(_BYTE *)(a3 + 0x71) = *(_BYTE *)(a1 + 0x8E);
    *(_BYTE *)(a3 + 0x72) = *(_BYTE *)(a1 + 0x8F);
    *(_WORD *)(a3 + 0x1F2) = n0xFFFF_1;
    v29 = *(double *)(v20 + 8);
    v30 = *(double *)(v20 + 0x20);
    v31 = *(double *)(v20 + 0x10);
    v32 = *(double *)(v20 + 0x18);
    v33 = *(double *)(v20 + 0x28);
    v34 = v32 + v32;
    v35 = v30 * (v31 + v31);
    v36 = (v31 + v31) * v31;
    v37 = (v31 + v31) * v29;
    v38 = (v32 + v32) * v32;
    v39 = *(double *)(v20 + 0x40);
    v102 = 1.0 - (v29 + v29) * v29;
    v87 = v30 * (v29 + v29);
    v86 = v34 * v31;
    v40 = v34 * v30;
    v41 = (1.0 - v36 - v38) * v39;
    v42 = v34 * v29;
    v43 = *(double *)(v20 + 0x30);
    v44 = (v40 + v37) * v39;
    v45 = (v37 - v40) * v39;
    v46 = *(double *)(v20 + 0x40);
    v88 = v36;
    v47 = (v42 + v35) * v39;
    v48 = (v102 - v38) * v39;
    v49 = (v86 - v87) * v39;
    v50 = (v86 + v87) * v46;
    v51 = *(double *)(v20 + 0x38);
    *(double *)(a3 + 0x58) = (v102 - v88) * v46;
    *(double *)(a3 + 8) = v41;
    *(double *)(a3 + 0x10) = v45;
    *(double *)(a3 + 0x18) = v47;
    *(double *)(a3 + 0x20) = v33;
    *(double *)(a3 + 0x28) = v44;
    *(double *)(a3 + 0x30) = v48;
    *(double *)(a3 + 0x38) = v49;
    *(double *)(a3 + 0x40) = v43;
    *(double *)(a3 + 0x48) = (v42 - v35) * v46;
    *(double *)(a3 + 0x50) = v50;
    *(double *)(a3 + 0x60) = v51;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v52 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v52 = 0;
    *(_DWORD *)(a3 + 0x68) = *(_DWORD *)(v52 + 0x2B8);
    *(_DWORD *)(a3 + 0x6C) ^= (*(_DWORD *)(a1 + 0x80) ^ *(_DWORD *)(a3 + 0x6C)) & 0x7000000;
    sub_1403B0A70((unsigned __int64 *)(a1 + 8), &v82);
    *(_QWORD *)(a3 + 0x88) = v82;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v21 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    if ( sub_146B35CC0(v21, (double *)v83.m256_f32, (__int64)&v89, 0) )
    {
      v53 = v90;
      *(__m256 *)(a3 + 0x130) = v83;
      *(__m256i *)(a3 + 0x150) = v84;
      *(__m256 *)(a3 + 0x170) = v85;
      *(_OWORD *)(a3 + 0x190) = v89;
      *(double *)(a3 + 0x1A0) = v53;
    }
    __asm { vzeroupper }
    v54 = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE0 + 0x328LL))(
            qword_149B4FBE0,
            3,
            a3);
    *(_QWORD *)(v20 + 0x88) = v54;
    v56 = *(_BYTE **)(a1 + 0xA0);
    if ( !v56 || v56 != (_BYTE *)1 && !*v56 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v54 + 0x188LL))(v54);
  }
  *(_WORD *)(v20 + 0xD8) &= ~1u;
  *(_DWORD *)(a1 + 0x194) &= ~2u;
  LOBYTE(v55) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_146ADEB80(a1, v55);
  v79 = *(_QWORD *)(v20 + 0x88);
  v80 = v103;
  if ( v79 && *(_QWORD *)(a1 + 0x1D8) && v103 == 1 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v79 + 0x338LL))(v79);
  sub_146AEB290(a1, v20);
  sub_1402D2790((__int64)v18);
  return v80;
}

// --- End Function: sub_146AD7810 (0x146AD7810) ---

// --- Function: sub_146AD83F0 (0x146AD83F0) ---
__int64 __fastcall sub_146AD83F0(__int64 a1, unsigned int a2, __int64 a3, unsigned int a4)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  signed __int64 v15; // rdx
  __int64 v16; // rsi
  __int64 v17; // r9
  __int64 v18; // rdx
  __int64 *v19; // rcx
  __int64 v20; // rax
  double v21; // xmm8_8
  double v22; // xmm3_8
  double v23; // xmm1_8
  double v24; // xmm5_8
  double v25; // xmm10_8
  double v26; // xmm6_8
  double v27; // xmm12_8
  double v28; // xmm14_8
  double v29; // xmm13_8
  double v30; // xmm9_8
  double v31; // xmm11_8
  double v32; // xmm3_8
  double v33; // kr00_8
  double v34; // xmm5_8
  double v35; // xmm0_8
  double v36; // xmm1_8
  __int64 v37; // rcx
  __int64 v38; // rcx
  __int64 v39; // rdi
  void (__fastcall *v40)(__int64, __int64); // rbx
  __int64 v41; // rdx
  __int64 v42; // rdi
  __int64 v43; // rbx
  __int64 v44; // rbx
  __int64 v45; // rax
  __int64 v46; // rdx
  _QWORD v48[3]; // [rsp+30h] [rbp-D8h] BYREF
  double v49[12]; // [rsp+48h] [rbp-C0h] BYREF
  _BYTE v50[32]; // [rsp+A8h] [rbp-60h] BYREF
  _BYTE v51[96]; // [rsp+C8h] [rbp-40h] BYREF
  __int128 v52; // [rsp+128h] [rbp+20h]
  __int128 v53; // [rsp+138h] [rbp+30h]
  __int128 v54; // [rsp+148h] [rbp+40h]
  __int128 v55; // [rsp+158h] [rbp+50h]
  __int128 v56; // [rsp+168h] [rbp+60h]
  __int128 v57; // [rsp+178h] [rbp+70h]
  __int128 v58; // [rsp+188h] [rbp+80h]
  __int128 v59; // [rsp+198h] [rbp+90h]
  __int128 v60; // [rsp+1A8h] [rbp+A0h]
  __int64 v61; // [rsp+1E8h] [rbp+E0h] BYREF
  unsigned int v62; // [rsp+1F0h] [rbp+E8h] BYREF

  v62 = a2;
  v60 = v4;
  v59 = v5;
  v58 = v6;
  v57 = v7;
  v56 = v8;
  v55 = v9;
  v54 = v10;
  v53 = v11;
  v52 = v12;
  sub_146AD99E0(a1, &v62, a4);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v15 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v15, "CRenderProxy::LoadLight", "m_SlotsLock", 1);
  }
  v16 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * (int)v62);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v18 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v18 = 0;
  LOBYTE(v17) = 1;
  sub_146B0E140(v16, v18, 0, v17);
  v19 = *(__int64 **)(v16 + 0x88);
  if ( !v19 )
  {
    sub_146AEF560(v16);
    v19 = (__int64 *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a3 + 0x50LL))(a3);
    *(_QWORD *)(v16 + 0x88) = v19;
  }
  v20 = *v19;
  v21 = *(double *)(v16 + 8);
  v22 = *(double *)(v16 + 0x10);
  v23 = *(double *)(v16 + 0x20);
  v24 = *(double *)(v16 + 0x18);
  v25 = (v22 + v22) * v23;
  v26 = v24 + v24;
  v27 = (v21 + v21) * v23;
  v28 = 1.0 - (v21 + v21) * v21;
  v29 = (v22 + v22) * v22;
  v30 = (v22 + v22) * v21;
  v31 = (v24 + v24) * v22;
  v32 = (v24 + v24) * v23;
  v33 = (v24 + v24) * v24;
  v34 = *(double *)(v16 + 0x40);
  v49[0] = (1.0 - v29 - v33) * v34;
  v49[1] = (v30 - v32) * v34;
  v49[3] = *(double *)(v16 + 0x28);
  v49[2] = (v26 * v21 + v25) * v34;
  v49[4] = (v32 + v30) * v34;
  v49[5] = (v28 - v33) * v34;
  v35 = *(double *)(v16 + 0x30);
  v49[6] = (v31 - v27) * v34;
  v49[7] = v35;
  v49[8] = (v26 * v21 - v25) * v34;
  v49[9] = (v27 + v31) * v34;
  v36 = *(double *)(v16 + 0x38);
  v49[0xA] = (v28 - v29) * v34;
  v49[0xB] = v36;
  (*(void (__fastcall **)(__int64 *, double *, __int64, _QWORD))(v20 + 0x1F0))(
    v19,
    v49,
    2,
    (unsigned int)dword_149B4FDFC);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v37 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v37 = 0;
  if ( (unsigned __int8)sub_146B35CC0(v37, v51, v50, 0) )
  {
    (*(void (__fastcall **)(_QWORD, _BYTE *))(**(_QWORD **)(v16 + 0x88) + 0x228LL))(*(_QWORD *)(v16 + 0x88), v51);
    (*(void (__fastcall **)(_QWORD, _BYTE *))(**(_QWORD **)(v16 + 0x88) + 0x230LL))(*(_QWORD *)(v16 + 0x88), v50);
  }
  *(_OWORD *)&v48[1] = 0;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v38 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v38 = 0;
  if ( (unsigned __int8)sub_146B49B30(v38, &v48[1]) )
    (*(void (__fastcall **)(_QWORD, _QWORD *))(**(_QWORD **)(v16 + 0x88) + 0x328LL))(*(_QWORD *)(v16 + 0x88), &v48[1]);
  v39 = *(_QWORD *)(v16 + 0x88);
  v40 = *(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v39 + 0x238LL);
  sub_1403B0A70((unsigned __int64 *)(a1 + 8), &v61);
  v40(v39, v61);
  v41 = *(_QWORD *)(v16 + 0x88);
  *(_WORD *)(v16 + 0xD8) &= ~1u;
  v42 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x60LL))(qword_149B4FBE8, v41 + 0x10);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v43 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v43 = 0;
  v44 = *(_QWORD *)(v43 + 0x2B0);
  v45 = (*(__int64 (__fastcall **)(__int64, double *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x480LL))(
          qword_149B4FBE8,
          v49,
          v42,
          v44);
  sub_146ADA730((_QWORD *)v16, v44, v45, 1u, 0);
  *(_DWORD *)(a1 + 0x194) &= ~2u;
  LOBYTE(v46) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_146ADEB80(a1, v46);
  sub_146AEB290(a1, v16);
  sub_1402D2790(a1 + 0x230);
  return v62;
}

// --- End Function: sub_146AD83F0 (0x146AD83F0) ---

// --- Function: sub_146AD8810 (0x146AD8810) ---
__int64 __fastcall sub_146AD8810(
        __int64 a1,
        unsigned int a2,
        float *a3,
        _QWORD *a4,
        __int64 a5,
        __int64 a6,
        char a7,
        __int16 a8)
{
  _QWORD *v8; // rdi
  __int64 v11; // rax
  __int64 v12; // rax
  __int128 v13; // xmm1
  __m256i v14; // ymm0
  int v15; // eax
  signed __int64 v16; // rdx
  unsigned int v17; // r12d
  __int64 v18; // rax
  __int64 v19; // rsi
  __int64 v20; // rcx
  _QWORD *v21; // rbx
  __int64 v22; // r8
  __int64 v23; // r9
  __int64 v24; // rdx
  __m256 v25; // ymm0
  __int64 v26; // rax
  __int64 *v27; // r12
  __int64 v28; // r9
  __int64 v29; // rdx
  __int128 v30; // xmm0
  __int64 v31; // rcx
  __int128 v32; // xmm1
  char v33; // al
  __int16 v34; // dx
  __int64 v35; // rbx
  __int64 v36; // r9
  _QWORD **v37; // rax
  __int64 v39; // rdx
  __int64 n0x3E8; // rdx
  __int64 v41; // rdx
  volatile signed __int32 *v42; // rdi
  __int64 v43; // rdx
  unsigned __int32 v44; // eax
  int v45; // eax
  unsigned __int32 v46; // eax
  _QWORD *v47; // rbx
  __int64 v48; // [rsp+40h] [rbp-C0h]
  __int16 v49; // [rsp+40h] [rbp-C0h]
  int v50; // [rsp+40h] [rbp-C0h]
  void (__fastcall *v51)(__int64, _QWORD *, _QWORD, _QWORD); // [rsp+48h] [rbp-B8h]
  void (__fastcall *v52)(_QWORD *, __m256 *, __int64); // [rsp+48h] [rbp-B8h]
  __int64 v53; // [rsp+48h] [rbp-B8h]
  __int64 (__fastcall *v54)(__int64, __int64 *, __m256 *, _QWORD, __int64, __int64, __int16, __m256i *); // [rsp+50h] [rbp-B0h]
  void (__fastcall *v55)(_QWORD *, __int64, _QWORD); // [rsp+50h] [rbp-B0h]
  __int64 v56; // [rsp+58h] [rbp-A8h] BYREF
  __int128 v57; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v58; // [rsp+70h] [rbp-90h]
  __m256 v59; // [rsp+78h] [rbp-88h] BYREF
  __m256 v60; // [rsp+98h] [rbp-68h]
  __m256 v61; // [rsp+C0h] [rbp-40h] BYREF
  __int128 v62; // [rsp+E0h] [rbp-20h]
  __int128 v63; // [rsp+F0h] [rbp-10h]
  __m256i v64; // [rsp+100h] [rbp+0h] BYREF
  __m256i v65; // [rsp+120h] [rbp+20h]
  __m256i v66; // [rsp+140h] [rbp+40h]
  __int128 v67; // [rsp+160h] [rbp+60h]
  __int128 v68; // [rsp+170h] [rbp+70h]
  __m256i v69; // [rsp+180h] [rbp+80h]
  __m256i v70; // [rsp+1A0h] [rbp+A0h]
  __int128 v71; // [rsp+1C0h] [rbp+C0h]
  int v72; // [rsp+1D0h] [rbp+D0h]
  _BYTE v73[272]; // [rsp+1E0h] [rbp+E0h] BYREF
  unsigned int v74; // [rsp+308h] [rbp+208h] BYREF
  _QWORD *v75; // [rsp+318h] [rbp+218h]

  v75 = a4;
  v74 = a2;
  v8 = a4;
  if ( !*a4 )
    goto LABEL_48;
  sub_140368BF0((__int64)&v64, 0, 2);
  v11 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*v8 + 0x78LL))(*v8);
  if ( v11 )
  {
    v12 = sub_140368BF0((__int64)v73, *(_DWORD *)(v11 + 0x258), *(_DWORD *)(v11 + 0x25C));
    v64 = *(__m256i *)v12;
    v65 = *(__m256i *)(v12 + 0x20);
    v66 = *(__m256i *)(v12 + 0x40);
    v67 = *(_OWORD *)(v12 + 0x60);
    v68 = *(_OWORD *)(v12 + 0x70);
    v12 += 0x80;
    v69 = *(__m256i *)v12;
    v70 = *(__m256i *)(v12 + 0x20);
    v71 = *(_OWORD *)(v12 + 0x40);
    v72 = *(_DWORD *)(v12 + 0x50);
    if ( a6 )
    {
      v13 = *(_OWORD *)(a6 + 0x70);
      v64 = *(__m256i *)a6;
      v65 = *(__m256i *)(a6 + 0x20);
      v66 = *(__m256i *)(a6 + 0x40);
      v67 = *(_OWORD *)(a6 + 0x60);
      v14 = *(__m256i *)(a6 + 0x80);
      v68 = v13;
      v69 = v14;
      v70 = *(__m256i *)(a6 + 0xA0);
      v15 = *(_DWORD *)(a6 + 0xD0);
      v71 = *(_OWORD *)(a6 + 0xC0);
      v72 = v15;
    }
  }
  __asm { vzeroupper }
  sub_146AD99E0(a1, &v74, 3);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v16 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v16 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v16, "CRenderProxy::LoadParticleEmitter", "m_SlotsLock", 1);
  }
  v17 = v74;
  v18 = *(_QWORD *)(a1 + 0xE0);
  v19 = *(_QWORD *)(v18 + 8LL * (int)v74);
  if ( a3[3] != 1.0
    || *a3 != 0.0
    || a3[1] != 0.0
    || a3[2] != 0.0
    || a3[4] != 0.0
    || a3[5] != 0.0
    || a3[6] != 0.0
    || a3[7] != 1.0 )
  {
    sub_146B0A920(*(_QWORD *)(v18 + 8LL * (int)v74), a3);
  }
  v20 = *(_QWORD *)(v19 + 0x90);
  if ( !v20
    || (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v20 + 0x158LL))(v20) != 8
    || (v21 = *(_QWORD **)(v19 + 0x90)) == 0 )
  {
    v27 = (__int64 *)(a1 + 8);
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v29 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v29 = 0;
    if ( (*(_BYTE *)(v19 + 0xDB) & 0x10) == 0 )
    {
      LOBYTE(v28) = 1;
      sub_146B0E140(v19, v29, 0, v28);
    }
    v30 = *(_OWORD *)(v19 + 0x28);
    v31 = *v27;
    v61 = *(__m256 *)(v19 + 8);
    v32 = *(_OWORD *)(v19 + 0x38);
    v62 = v30;
    v63 = v32;
    __asm { vzeroupper }
    v33 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(v31 & 0xFFFFFFFFFFFFLL) + 0x710LL))(
            v31 & 0xFFFFFFFFFFFFLL,
            v29);
    v34 = a8 | 0x1000;
    if ( !v33 )
      v34 = a8;
    v53 = *v75;
    v49 = v34;
    v54 = *(__int64 (__fastcall **)(__int64, __int64 *, __m256 *, _QWORD, __int64, __int64, __int16, __m256i *))(*(_QWORD *)*v75 + 8LL);
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v35 = *v27 & 0xFFFFFFFFFFFFLL;
    else
      v35 = 0;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v36 = *v27 & 0xFFFFFFFFFFFFLL;
    else
      v36 = 0;
    v37 = (_QWORD **)v54(v53, &v56, &v61, *(_QWORD *)(v36 + 0x2B0), v35, a5, v49, &v64);
    v21 = *v37;
    *v37 = 0;
    if ( v56 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)(v56 + 0x30) + 0x10LL))(v56 + 0x30);
    if ( v21 )
    {
      if ( a7 )
        (*(void (__fastcall **)(_QWORD *))(*v21 + 0x228LL))(v21);
      (*(void (__fastcall **)(_QWORD *))(v21[6] + 8LL))(v21 + 6);
      sub_146AEF560(v19);
      *(_QWORD *)(v19 + 0x90) = v21;
      v55 = *(void (__fastcall **)(_QWORD *, __int64, _QWORD))(*v21 + 0x268LL);
      if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
        v39 = *v27 & 0xFFFFFFFFFFFFLL;
      else
        v39 = 0;
      v55(v21, v39, v74);
      if ( *(_QWORD *)(v19 + 0xC0) )
        (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v19 + 0x90) + 0x128LL))(*(_QWORD *)(v19 + 0x90));
      n0x3E8 = 0x3E8;
      if ( *(_BYTE *)(a1 + 0x8D) != 0xFF )
        n0x3E8 = *(unsigned __int8 *)(a1 + 0x8D);
      (*(void (__fastcall **)(_QWORD *, __int64))(*v21 + 0x198LL))(v21, n0x3E8);
      v41 = *(_DWORD *)(a1 + 0x80) >> 8;
      LOBYTE(v41) = BYTE1(*(_DWORD *)(a1 + 0x80)) & 1;
      (*(void (__fastcall **)(_QWORD *, __int64))(*v21 + 0x98LL))(v21, v41);
      v42 = (volatile signed __int32 *)(a1 + 0x218);
      v50 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(a1 + 0x228) == v50 )
      {
        ++*(_DWORD *)(a1 + 0x22C);
      }
      else
      {
        v44 = _InterlockedCompareExchange(v42, 1, 0);
        if ( v44 )
          sub_1403C33A0(a1 + 0x218, v44, "CRenderProxy::LoadParticleEmitter", 1);
        else
          *(_QWORD *)(a1 + 0x220) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
        *(_DWORD *)(a1 + 0x228) = v50;
      }
      LOBYTE(v43) = 1;
      sub_146AD1F20(a1, v43);
      sub_146B09E30(a1);
      sub_146AEB290(a1, v19);
      v45 = *(_DWORD *)(a1 + 0x22C);
      if ( v45 )
      {
        *(_DWORD *)(a1 + 0x22C) = v45 - 1;
      }
      else
      {
        *(_DWORD *)(a1 + 0x228) = 0xFFFFFFFF;
        v46 = _InterlockedCompareExchange(v42, 0, 1);
        if ( v46 == 1 )
          *(_QWORD *)(a1 + 0x220) = &p_p_p_p_p_p_p_p_p_p_p_Source;
        else
          sub_1403DB1F0(a1 + 0x218, v46);
      }
      v17 = v74;
      goto LABEL_70;
    }
    sub_1402D2790(a1 + 0x230);
    v8 = v75;
    if ( *v75 )
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*v75 + 0x48LL))(*v75);
LABEL_48:
    *v8 = 0;
    return 0xFFFFFFFFLL;
  }
  (*(void (__fastcall **)(_QWORD *))(v21[6] + 8LL))(v21 + 6);
  v48 = qword_149B4FBE8;
  v51 = *(void (__fastcall **)(__int64, _QWORD *, _QWORD, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x50LL);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v22 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v22 = 0;
  v51(v48, v21 + 2, *(_QWORD *)(v22 + 0x2B0), 0);
  v52 = *(void (__fastcall **)(_QWORD *, __m256 *, __int64))(*v21 + 0x270LL);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v24 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v24 = 0;
  if ( (*(_BYTE *)(v19 + 0xDB) & 0x10) == 0 )
  {
    LOBYTE(v23) = 1;
    sub_146B0E140(v19, v24, 0, v23);
  }
  v25 = *(__m256 *)(v19 + 0x28);
  v59 = *(__m256 *)(v19 + 8);
  v60 = v25;
  __asm { vzeroupper }
  v52(v21, &v59, 2);
  (*(void (__fastcall **)(_QWORD *, _QWORD *))(*v21 + 0x238LL))(v21, v75);
  v26 = *v21;
  v58 = 0;
  v57 = 0;
  (*(void (__fastcall **)(_QWORD *, __m256i *, __int128 *))(v26 + 0x248))(v21, &v64, &v57);
  sub_146AEB370(a1, v17);
LABEL_70:
  (*(void (__fastcall **)(_QWORD *))(v21[6] + 0x10LL))(v21 + 6);
  sub_1402D2790(a1 + 0x230);
  v47 = v75;
  if ( *v75 )
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*v75 + 0x48LL))(*v75);
  *v47 = 0;
  return v17;
}

// --- End Function: sub_146AD8810 (0x146AD8810) ---

// --- Function: sub_146AD8EB0 (0x146AD8EB0) ---
__int64 __fastcall sub_146AD8EB0(__int64 a1, unsigned int a2, unsigned int a3, __int64 a4)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  __int128 v13; // xmm15
  signed __int64 v17; // rdx
  __int64 v18; // r13
  __int64 v19; // rsi
  _QWORD *v20; // rdi
  __int64 v21; // rcx
  double v22; // xmm12_8
  double v23; // xmm15_8
  double v24; // xmm8_8
  double v25; // xmm13_8
  double v26; // xmm4_8
  double v27; // xmm14_8
  double v28; // xmm9_8
  double v29; // xmm2_8
  double v30; // xmm10_8
  double v31; // xmm11_8
  double v32; // xmm8_8
  double v33; // xmm5_8
  double v34; // xmm6_8
  double v35; // xmm1_8
  double v36; // xmm3_8
  double v37; // xmm4_8
  __int64 v38; // rax
  __int64 v39; // r15
  __int64 v40; // r14
  __int64 v41; // r8
  __int64 v42; // rdx
  __int64 v43; // rdx
  double v45; // [rsp+30h] [rbp-108h] BYREF
  double v46; // [rsp+38h] [rbp-100h]
  double v47; // [rsp+40h] [rbp-F8h]
  double v48; // [rsp+48h] [rbp-F0h]
  double v49; // [rsp+50h] [rbp-E8h]
  double v50; // [rsp+58h] [rbp-E0h]
  double v51; // [rsp+60h] [rbp-D8h]
  double v52; // [rsp+68h] [rbp-D0h]
  __int128 v53; // [rsp+70h] [rbp-C8h]
  __int128 v54; // [rsp+80h] [rbp-B8h]
  __int128 v55; // [rsp+90h] [rbp-A8h]
  __int128 v56; // [rsp+A0h] [rbp-98h]
  __int128 v57; // [rsp+B0h] [rbp-88h]
  __int128 v58; // [rsp+C0h] [rbp-78h]
  __int128 v59; // [rsp+D0h] [rbp-68h]
  __int128 v60; // [rsp+E0h] [rbp-58h]
  __int128 v61; // [rsp+F0h] [rbp-48h]
  __int128 v62; // [rsp+100h] [rbp-38h]
  double v63; // [rsp+140h] [rbp+8h]
  void (__fastcall *v64)(__int64, __int64, _QWORD, _QWORD); // [rsp+140h] [rbp+8h]
  unsigned int v65; // [rsp+148h] [rbp+10h] BYREF

  v65 = a2;
  sub_146AD99E0(a1, &v65, 0xFFFFFFFFLL);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v17 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v17 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v17, "CRenderProxy::LoadRenderNode", "m_SlotsLock", 1);
  }
  v18 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * (int)v65);
  sub_146AEF560(v18);
  v19 = 0;
  v20 = (_QWORD *)(a1 + 8);
  if ( a4 )
  {
    v62 = v4;
    v61 = v5;
    v60 = v6;
    v59 = v7;
    v58 = v8;
    v57 = v9;
    v56 = v10;
    v55 = v11;
    v54 = v12;
    v53 = v13;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v21 = *v20 & 0xFFFFFFFFFFFFLL;
    else
      LODWORD(v21) = 0;
    sub_146B526C0(v21, (unsigned int)&v45, 2, 0, 0);
    v22 = (v46 + v46) * v48;
    v23 = (v46 + v46) * v46;
    v24 = (v46 + v46) * v45;
    v25 = (v47 + v47) * v46;
    v26 = (v47 + v47) * v45;
    v27 = (v45 + v45) * v48;
    v28 = v52;
    v63 = 1.0 - (v45 + v45) * v45;
    v29 = (v47 + v47) * v48;
    v30 = (v24 - v29) * v52;
    v31 = (1.0 - v23 - (v47 + v47) * v47) * v52;
    v32 = (v29 + v24) * v52;
    v33 = (v26 + v22) * v52;
    v34 = (v63 - (v47 + v47) * v47) * v52;
    v35 = v26 - v22;
    v36 = (v25 - v27) * v52;
    v37 = (v25 + v27) * v52;
    *(double *)(a4 + 0x20) = v49;
    *(double *)(a4 + 0x40) = v50;
    *(double *)(a4 + 0x60) = v51;
    *(double *)(a4 + 8) = v31;
    *(double *)(a4 + 0x10) = v30;
    *(double *)(a4 + 0x18) = v33;
    *(double *)(a4 + 0x28) = v32;
    *(double *)(a4 + 0x30) = v34;
    *(double *)(a4 + 0x38) = v36;
    *(double *)(a4 + 0x48) = v35 * v28;
    *(double *)(a4 + 0x50) = v37;
    *(double *)(a4 + 0x58) = (v63 - v23) * v28;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v38 = *v20 & 0xFFFFFFFFFFFFLL;
    else
      v38 = 0;
    *(_DWORD *)(a4 + 0x68) = *(_DWORD *)(v38 + 0x2B8);
  }
  v39 = (*(__int64 (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)qword_149B4FBE0 + 0x328LL))(
          qword_149B4FBE0,
          a3,
          a4);
  if ( !a4 )
  {
    v40 = qword_149B4FBE8;
    v64 = *(void (__fastcall **)(__int64, __int64, _QWORD, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x50LL);
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v41 = *v20 & 0xFFFFFFFFFFFFLL;
    else
      v41 = 0;
    v64(v40, v39 + 0x10, *(_QWORD *)(v41 + 0x2B0), 0);
  }
  *(_QWORD *)(v18 + 0x90) = v39;
  if ( *(_QWORD *)(a1 + 0x160) )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v39 + 0x128LL))(v39);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v19 = *v20 & 0xFFFFFFFFFFFFLL;
  sub_146AE2860(v18, v19, 0);
  LOBYTE(v42) = 1;
  sub_146AD1F20(a1, v42);
  LOBYTE(v43) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_146ADEB80(a1, v43);
  sub_146AEB290(a1, v18);
  sub_1402D2790(a1 + 0x230);
  return v65;
}

// --- End Function: sub_146AD8EB0 (0x146AD8EB0) ---

// --- Function: sub_146AE0450 (0x146AE0450) ---
__int64 __fastcall sub_146AE0450(__int64 a1)
{
  unsigned __int64 v1; // rdx
  __int64 result; // rax
  _DWORD v4[4]; // [rsp+20h] [rbp-68h] BYREF
  _DWORD v5[15]; // [rsp+30h] [rbp-58h] BYREF
  char v6; // [rsp+6Ch] [rbp-1Ch]
  __int64 v7; // [rsp+70h] [rbp-18h]

  v1 = *(_QWORD *)(a1 + 0x450);
  if ( v1 )
  {
    result = v1 & 0xFFFFFFFFFFFFLL;
    if ( *(_QWORD *)((v1 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v1) )
    {
      v5[3] = 0xFFF7FFFF;
      v5[0] = 0;
      v7 = 0;
      v6 = v6 & 0xF0 | 8;
      v5[0xC] = 0xFFBFFFFF;
      v5[0xB] = 0xFFBFFFFF;
      v5[0xD] = 0x80000000;
      v5[0xE] = 0x200;
      sub_146AFA280(a1, v5, 0);
      v4[0] = 0xF;
      v4[1] = 0x80000000;
      v4[2] = 0x80000000;
      v4[3] = 0xEFFFFFFF;
      return sub_146AFA280(a1, v4, 0);
    }
  }
  return result;
}

// --- End Function: sub_146AE0450 (0x146AE0450) ---

// --- Function: sub_146AE6890 (0x146AE6890) ---
__int64 __fastcall sub_146AE6890(__int64 a1, __int64 a2)
{
  unsigned __int64 v4; // rcx
  unsigned int v5; // r14d
  __int64 v6; // rcx
  __int64 v7; // rax
  __int64 v8; // rdi
  __int64 v9; // rbx
  signed __int64 v10; // rdx
  __int64 v11; // rax
  int v12; // r9d
  _QWORD *v13; // rbx
  __int64 v14; // rdx
  __int64 v15; // r8
  signed int v17; // edi
  __int64 v18; // rbx
  __int64 v19; // rcx
  __int64 v20; // rcx
  __int64 v21; // rcx
  __int64 v22; // rcx
  _QWORD *v23; // r12
  const void *v24; // rcx
  const void *v25; // rcx
  __int64 v27; // rcx
  __int64 v28; // rcx
  __int64 v29; // rcx
  float v30; // xmm1_4
  float v32; // xmm0_4
  __int64 v33; // rax
  __int64 *v34; // rax
  __int64 v35; // rbx
  volatile signed __int64 *v36; // r14
  int v37; // edi
  __int64 v38; // r8
  unsigned __int64 v39; // rax
  void (__fastcall **v40)(_QWORD *); // rax
  void (__fastcall *v41)(_QWORD *); // rdi
  __int64 v42; // rcx
  int v43; // eax
  unsigned __int64 n0x200000_1; // rax
  volatile signed __int64 *v45; // r14
  int v46; // ebx
  unsigned __int64 v47; // rax
  int *v48; // rdi
  int *v49; // rax
  __int64 v50; // rax
  unsigned int v51; // ebx
  __int64 v52; // rax
  int v53; // eax
  int v54; // eax
  unsigned __int64 n0x200000; // rax
  signed int v56; // [rsp+30h] [rbp-D0h]
  __int64 v57; // [rsp+38h] [rbp-C8h] BYREF
  __int64 v58; // [rsp+40h] [rbp-C0h] BYREF
  __int64 v59; // [rsp+48h] [rbp-B8h]
  __int64 v60; // [rsp+50h] [rbp-B0h]
  __int64 v61; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v62; // [rsp+68h] [rbp-98h]
  unsigned int v63; // [rsp+70h] [rbp-90h]
  __int64 v64; // [rsp+78h] [rbp-88h]
  int v65; // [rsp+80h] [rbp-80h]
  _QWORD *v66; // [rsp+88h] [rbp-78h]
  __int128 v67; // [rsp+90h] [rbp-70h]
  __int128 v68; // [rsp+A0h] [rbp-60h] BYREF
  __int128 v69; // [rsp+B0h] [rbp-50h] BYREF
  __int128 v70; // [rsp+C0h] [rbp-40h]
  char v71; // [rsp+D0h] [rbp-30h]
  __int128 v72; // [rsp+E0h] [rbp-20h] BYREF
  __int64 v73; // [rsp+F0h] [rbp-10h]
  int v74; // [rsp+F8h] [rbp-8h]
  float v75; // [rsp+FCh] [rbp-4h]
  __int64 v76; // [rsp+100h] [rbp+0h] BYREF
  int n0xB; // [rsp+108h] [rbp+8h] BYREF
  __int64 v78; // [rsp+110h] [rbp+10h]
  int n0x64; // [rsp+118h] [rbp+18h]
  int v80; // [rsp+11Ch] [rbp+1Ch]
  unsigned int v81; // [rsp+120h] [rbp+20h]
  int v82; // [rsp+124h] [rbp+24h]
  _QWORD v83[2]; // [rsp+128h] [rbp+28h] BYREF
  unsigned int v84; // [rsp+138h] [rbp+38h]
  int v85; // [rsp+13Ch] [rbp+3Ch]
  __int64 v86; // [rsp+140h] [rbp+40h]
  __int64 v87; // [rsp+148h] [rbp+48h]
  __int64 v88; // [rsp+150h] [rbp+50h]
  __int64 v89; // [rsp+158h] [rbp+58h]
  __int128 *v90; // [rsp+160h] [rbp+60h]
  char *v91; // [rsp+168h] [rbp+68h]
  __int64 v92; // [rsp+170h] [rbp+70h]
  __int64 v93; // [rsp+178h] [rbp+78h]
  _BYTE v94[4]; // [rsp+180h] [rbp+80h] BYREF
  float v95; // [rsp+184h] [rbp+84h]
  float v96; // [rsp+188h] [rbp+88h]
  __int64 v97; // [rsp+18Ch] [rbp+8Ch]
  int v98; // [rsp+194h] [rbp+94h]
  __int128 v99; // [rsp+198h] [rbp+98h]
  float v100; // [rsp+1A8h] [rbp+A8h]
  _QWORD v101[5]; // [rsp+1C8h] [rbp+C8h] BYREF
  int v102; // [rsp+1F0h] [rbp+F0h]
  __int64 v103; // [rsp+1F8h] [rbp+F8h]
  int n0xA; // [rsp+200h] [rbp+100h]
  int v105; // [rsp+204h] [rbp+104h]
  __int64 v106; // [rsp+230h] [rbp+130h]
  __int64 v107; // [rsp+248h] [rbp+148h] BYREF
  int v108[3]; // [rsp+254h] [rbp+154h] BYREF
  _BYTE v109[512]; // [rsp+260h] [rbp+160h] BYREF
  char Buffer[256]; // [rsp+460h] [rbp+360h] BYREF

  memset(Buffer, 0, sizeof(Buffer));
  v4 = *(_QWORD *)(a1 + 0x450);
  v5 = 0xFFFFFFFF;
  if ( v4 && *(_QWORD *)((v4 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v4) )
  {
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v6 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v6 = 0;
    v7 = sub_146B513B0(v6);
    v8 = v7;
    if ( !v7 )
      return v5;
    v9 = v7 + 0x230;
    v60 = v7 + 0x230;
    if ( *(_DWORD *)(v7 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v9 + 0x14);
    }
    else
    {
      v10 = _InterlockedIncrement64((volatile signed __int64 *)v9);
      if ( (v10 & 0x200000) != 0 )
        sub_1403CB300(v9, v10, "CPhysicalProxy::PhysicalizeGeometry", "pRenderProxy->GetSlotsLock()", 1);
    }
    v11 = sub_146ABEF00(v8, *(unsigned int *)(a2 + 8));
    v13 = (_QWORD *)v11;
    if ( v11 && (*(_BYTE *)(v11 + 0xD8) & 1) != 0 )
    {
      LOBYTE(v12) = 1;
      sub_146AF1630(a1, *(_DWORD *)(a2 + 8), 1, v12, 1, 1);
      _XMM0 = 0;
      v67 = 0;
      v68 = 0;
      v69 = 0;
      v70 = 0;
      v61 = 0;
      v62 = 0;
      v63 = 0xFFFFFFFF;
      v64 = 0;
      v65 = 0;
      v66 = 0;
      v71 = 0;
      if ( v13[0x10] )
      {
        v56 = sub_146AE7A30(a1, a2, &v61);
        v17 = v56;
        if ( v56 )
        {
          v18 = v13[0x10];
          v19 = v64;
          if ( v64 != v18 )
          {
            if ( v18 )
            {
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v18 + 8LL))(v18);
              v19 = v64;
            }
            if ( v19 )
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v19 + 0x10LL))(v19);
            v64 = v18;
          }
        }
        goto LABEL_86;
      }
      v20 = v13[0x12];
      if ( v20 && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v20 + 0x158LL))(v20) == 0x18 )
      {
        v17 = sub_146AE6630(a1, a2, &v61);
        v56 = v17;
LABEL_86:
        if ( v17 > (int)0xFFFFFFFF )
        {
          v62 = *(_QWORD *)(a1 + 8);
          LOBYTE(v15) = 1;
          v63 = *(_DWORD *)(a2 + 8);
          LODWORD(v61) = 1;
          sub_146A7DF40(a1, &v61, v15);
          sub_146B06670(a1);
          sub_146B07060(a1);
          if ( *(_QWORD *)(a1 + 0x4C0) != a1 && (*(_DWORD *)(a1 + 0x1C0) & 0x10) == 0 )
          {
            v45 = (volatile signed __int64 *)(a1 + 0x538);
            v46 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
            if ( *(_DWORD *)(a1 + 0x548) == v46 )
            {
              ++*(_DWORD *)(a1 + 0x54C);
            }
            else
            {
              v15 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
              v47 = _InterlockedCompareExchange64(v45, 0x200000, 0);
              if ( v47 )
                sub_1403DCD60(
                  a1 + 0x538,
                  v47,
                  v15,
                  "CPhysicalProxy::PhysicalizeGeometry",
                  "m_compoundedPhysicsBlocksLock",
                  1);
              else
                *(_QWORD *)(a1 + 0x540) = v15;
              *(_DWORD *)(a1 + 0x548) = v46;
            }
            v48 = *(int **)(a1 + 0x528);
            v49 = *(int **)(a1 + 0x520);
            if ( v48 != v49 )
            {
              while ( 1 )
              {
                v48 += 0xFFFFFFE2;
                if ( v48[1] == HIDWORD(v61) )
                  break;
                if ( v48 == v49 )
                  goto LABEL_100;
              }
              v50 = sub_146AB3220(a1);
              v51 = sub_146B4E1C0(v50);
              v52 = sub_146AB3220(a1);
              v53 = sub_146B4E140(v52);
              sub_146A91AD0(a1, *(_QWORD **)(a1 + 0x4C0), v48, v53, v51, 0);
            }
LABEL_100:
            if ( a1 != 0xFFFFFFFFFFFFFAC8uLL )
            {
              v54 = *(_DWORD *)(a1 + 0x54C);
              if ( v54 )
              {
                *(_DWORD *)(a1 + 0x54C) = v54 - 1;
              }
              else
              {
                *(_DWORD *)(a1 + 0x548) = 0xFFFFFFFF;
                n0x200000 = _InterlockedCompareExchange64(v45, 0, 0x200000);
                if ( n0x200000 == 0x200000 )
                  *(_QWORD *)(a1 + 0x540) = &p_p_p_p_p_p_p_p_p_p_p_Source;
                else
                  sub_1403DD380(a1 + 0x538, n0x200000);
              }
            }
          }
          if ( !*(_DWORD *)a2 )
          {
            v76 = a1;
            sub_146A63220(a1 + 0x668, sub_140B13368, &v76);
            sub_146ADB080(a1);
          }
        }
        v5 = v56;
        goto LABEL_109;
      }
      v21 = v13[0xB];
      if ( !v21 || !(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v21 + 0x30LL))(v21) )
      {
LABEL_109:
        sub_146A757C0(&v61, v14, v15);
        sub_1402D2790(v60);
        return v5;
      }
      if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
        v22 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      else
        v22 = 0;
      v23 = *(_QWORD **)(*(__int64 (__fastcall **)(__int64, __int64 *, _QWORD, __int64))(*(_QWORD *)v22 + 0x508LL))(
                          v22,
                          &v57,
                          *(unsigned int *)(a2 + 8),
                          0xFFFFFFFFLL);
      if ( v57 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v57 + 8LL))(v57);
      v57 = 0;
      if ( v23 )
      {
        sub_141EF0850((__int64)v94);
        if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
          v27 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
        else
          v27 = 0;
        (*(void (__fastcall **)(__int64, __int128 *, _QWORD, _QWORD, int))(*(_QWORD *)v27 + 0x4C0LL))(
          v27,
          &v72,
          *(unsigned int *)(a2 + 8),
          0,
          2);
        if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
          v28 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
        else
          v28 = 0;
        *(double *)&_XMM0 = (*(double (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v28 + 0x2B8LL))(v28, 0);
        v29 = *(_QWORD *)(a1 + 8);
        v30 = *(float *)(a2 + 0x14);
        __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
        v32 = *(float *)(a2 + 0x10);
        v101[0] = *(_QWORD *)(a2 + 0x30);
        v33 = *(_QWORD *)(a2 + 0x38);
        v95 = v32;
        v101[1] = v33;
        v97 = v73;
        v98 = v74;
        LODWORD(v33) = *(_DWORD *)(a2 + 8);
        v103 = v29;
        v106 = v29;
        v99 = v72;
        v75 = *(float *)&_XMM2 * v75;
        v96 = v30;
        v100 = v75;
        n0xA = 0xA;
        v105 = v33;
        sub_141EEF430(Buffer, &v107, v108, "slot:%d", v33);
        if ( *(int *)(a2 + 8) < 0 )
        {
          v35 = *(_QWORD *)(v8 + 0x160);
          v59 = v35;
          if ( v35 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v35 + 8LL))(v35);
          v59 = 0;
        }
        else
        {
          v34 = (__int64 *)sub_146AC12B0(v8, &v58);
          v35 = *v34;
          *v34 = 0;
          if ( v58 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v58 + 0x10LL))(v58);
          v58 = 0;
        }
        if ( v35 )
        {
          v102 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, _QWORD *, _QWORD *))(*(_QWORD *)v35 + 0x170LL))(
                   v35,
                   v109,
                   0x80,
                   v101,
                   v101);
          v101[4] = v109;
        }
        v36 = (volatile signed __int64 *)(a1 + 0x4F8);
        v37 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
        if ( *(_DWORD *)(a1 + 0x508) == v37 )
        {
          ++*(_DWORD *)(a1 + 0x50C);
        }
        else
        {
          v38 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
          v39 = _InterlockedCompareExchange64(v36, 0x200000, 0);
          if ( v39 )
            sub_1403DCD60(a1 + 0x4F8, v39, v38, "CPhysicalProxy::PhysicalizeGeometry", "m_queueLock", 1);
          else
            *(_QWORD *)(a1 + 0x500) = v38;
          *(_DWORD *)(a1 + 0x508) = v37;
        }
        v40 = (void (__fastcall **)(_QWORD *))*v23;
        v84 = 0xFFFFFFFF;
        v41 = v40[0x98];
        v85 = 0;
        v92 = 0;
        v93 = 0;
        v83[0] = *(_QWORD *)(a1 + 0x450);
        v83[1] = v94;
        v86 = *(_QWORD *)(a2 + 0xD0);
        v87 = *(_QWORD *)(a1 + 0x460);
        v88 = *(_QWORD *)(a1 + 0x468);
        v89 = sub_146ABE200(a1);
        v90 = &v68;
        v91 = (char *)&v69 + 8;
        v56 = ((__int64 (__fastcall *)(_QWORD *, _QWORD *))v41)(v23, v83);
        v17 = v56;
        if ( v56 > (int)0xFFFFFFFF && v66 != v23 )
        {
          (*(void (__fastcall **)(_QWORD *))*v23)(v23);
          if ( v66 )
            (*(void (__fastcall **)(_QWORD *))(*v66 + 8LL))(v66);
          v66 = v23;
        }
        if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)(*(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL) + 8LL))(*(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL) == 0xD
          || (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)(*(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL) + 8LL))(*(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL) == 8 )
        {
          n0xB = 0xB;
          v82 = 0;
          v81 = 0xFFFFFFFF;
          n0x64 = 0x64;
          v78 = sub_140417CF0((unsigned __int64 *)(a2 + 0xA8));
          v80 = *(_DWORD *)(a2 + 0xB0);
          sub_146AFA280(a1, &n0xB, 0);
          if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
            v42 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
          else
            v42 = 0;
          (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v42 + 0x30LL))(v42, 0x4000000, 0);
          *(_DWORD *)(a1 + 0x1C0) |= 0x400u;
        }
        if ( a1 != 0xFFFFFFFFFFFFFB08uLL )
        {
          v43 = *(_DWORD *)(a1 + 0x50C);
          if ( v43 )
          {
            *(_DWORD *)(a1 + 0x50C) = v43 - 1;
          }
          else
          {
            *(_DWORD *)(a1 + 0x508) = 0xFFFFFFFF;
            n0x200000_1 = _InterlockedCompareExchange64(v36, 0, 0x200000);
            if ( n0x200000_1 == 0x200000 )
              *(_QWORD *)(a1 + 0x500) = &p_p_p_p_p_p_p_p_p_p_p_Source;
            else
              sub_1403DD380(a1 + 0x4F8, n0x200000_1);
          }
        }
        if ( v35 )
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v35 + 0x10LL))(v35);
        goto LABEL_86;
      }
      v24 = (const void *)*((_QWORD *)&v69 + 1);
      if ( *((_QWORD *)&v69 + 1) )
      {
        if ( ((*((_QWORD *)&v70 + 1) - *((_QWORD *)&v69 + 1)) & 0xFFFFFFFFFFFFFFF0uLL) >= 0x1000 )
        {
          v24 = *(const void **)(*((_QWORD *)&v69 + 1) - 8LL);
          if ( (unsigned __int64)(*((_QWORD *)&v69 + 1) - (_QWORD)v24 - 8LL) > 0x1F )
LABEL_39:
            invalid_parameter_noinfo_noreturn();
        }
        sub_1402A3D30(v24);
      }
      v25 = (const void *)v68;
      if ( (_QWORD)v68 )
      {
        if ( (((_QWORD)v69 - (_QWORD)v68) & 0xFFFFFFFFFFFFFFFCuLL) >= 0x1000 )
        {
          v25 = *(const void **)(v68 - 8);
          if ( (unsigned __int64)(v68 - (_QWORD)v25 - 8) > 0x1F )
            goto LABEL_39;
        }
        sub_1402A3D30(v25);
      }
      if ( v66 )
        (*(void (__fastcall **)(_QWORD *))(*v66 + 8LL))(v66);
      if ( v64 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v64 + 0x10LL))(v64);
    }
    sub_1402D2790(v60);
    return 0xFFFFFFFFLL;
  }
  return 0xFFFFFFFFLL;
}

// --- End Function: sub_146AE6890 (0x146AE6890) ---

// --- Function: sub_146AF0350 (0x146AF0350) ---
char __fastcall sub_146AF0350(__int64 a1, unsigned __int64 a2, unsigned __int8 a3)
{
  int v5; // edi
  __int64 v6; // r8
  unsigned __int64 v7; // rax
  _BYTE *v8; // r8
  _QWORD *v9; // rcx
  _BYTE *v10; // rdx
  char v11; // bl
  int v12; // eax
  unsigned __int64 n0x200000; // rax
  bool v14; // al
  unsigned __int64 v15; // rcx
  __int64 v16; // rdx
  _QWORD **v18; // [rsp+30h] [rbp-38h]
  volatile signed __int64 *v19; // [rsp+38h] [rbp-30h]
  unsigned __int64 v20; // [rsp+78h] [rbp+10h] BYREF

  v20 = a2;
  if ( !sub_14030EC00(&v20) )
    return 0;
  v18 = (_QWORD **)(a1 + 0x580);
  v19 = (volatile signed __int64 *)(a1 + 0x598);
  v5 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(a1 + 0x5A8) == v5 )
  {
    ++*(_DWORD *)(a1 + 0x5AC);
  }
  else
  {
    v6 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v7 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x598), 0x200000, 0);
    if ( v7 )
      sub_1403DCD60(
        a1 + 0x598,
        v7,
        v6,
        (const char *)&p_p_p_p_p_p_p_p_p_p_p_Source,
        (const char *)&p_p_p_p_p_p_p_p_p_p_p_Source,
        1);
    else
      *(_QWORD *)(a1 + 0x5A0) = v6;
    *(_DWORD *)(a1 + 0x5A8) = v5;
  }
  v8 = *(_BYTE **)(a1 + 0x588);
  v9 = *v18;
  if ( *v18 == (_QWORD *)v8 )
  {
LABEL_11:
    v11 = 0;
  }
  else
  {
    while ( 1 )
    {
      v10 = v9 + 1;
      if ( *v9 == v20 )
        break;
      ++v9;
      if ( v10 == v8 )
        goto LABEL_11;
    }
    memmove(v9, v10, v8 - v10);
    *(_QWORD *)(a1 + 0x588) -= 8LL;
    v11 = 1;
  }
  v12 = *(_DWORD *)(a1 + 0x5AC);
  if ( v12 )
  {
    *(_DWORD *)(a1 + 0x5AC) = v12 - 1;
  }
  else
  {
    *(_DWORD *)(a1 + 0x5A8) = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(v19, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
      *(_QWORD *)(a1 + 0x5A0) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DD380((__int64)v19, n0x200000);
  }
  if ( !v11 )
    return 0;
  v14 = sub_14030EC00(&v20);
  v15 = v20 & 0xFFFFFFFFFFFFLL;
  if ( !v14 )
    v15 = 0;
  v16 = *(_QWORD *)(sub_146B4E3D0(v15) + 0x4C0);
  if ( *(_QWORD *)(a1 + 0x4C8) == v16 || *(_QWORD *)(v16 + 0x4C8) == *(_QWORD *)(a1 + 0x4C0) )
    return 0;
  else
    return sub_146AF0200(a1, v16, a3);
}

// --- End Function: sub_146AF0350 (0x146AF0350) ---

// --- Function: sub_146AF1310 (0x146AF1310) ---
__int64 __fastcall sub_146AF1310(int a1, int a2)
{
  return sub_146AF08B0(a1, a2, 1, 1, 1);
}

// --- End Function: sub_146AF1310 (0x146AF1310) ---

// --- Function: sub_146AF1630 (0x146AF1630) ---
void __fastcall sub_146AF1630(__int64 a1, int a2, char a3, unsigned __int8 a4, char a5, char a6)
{
  unsigned __int64 v6; // r10
  __int64 v11; // rbx
  char v12; // r12
  char v13; // r15
  unsigned __int64 v14; // rcx
  __int64 v15; // rbx
  int v16; // edi
  __int64 v17; // r8
  unsigned __int64 v18; // rax
  __int64 v19; // r10
  __int64 v20; // r8
  __int64 v21; // rax
  int v22; // eax
  unsigned __int64 n0x200000; // rax
  volatile signed __int64 *v24; // rdi
  int v25; // ebx
  __int64 v26; // r8
  unsigned __int64 v27; // rax
  __int64 v28; // rbx
  __int64 v29; // rax
  int v30; // eax
  unsigned __int64 n0x200000_1; // rax
  char v32; // [rsp+30h] [rbp-38h] BYREF
  char v33; // [rsp+38h] [rbp-30h] BYREF
  __int64 v34; // [rsp+70h] [rbp+8h] BYREF

  v6 = *(_QWORD *)(a1 + 0x450);
  if ( v6 && *(_QWORD *)((v6 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v6) )
  {
    v11 = *(_QWORD *)(a1 + 0x4C0);
    v12 = a5;
    v13 = a6;
    if ( v11 != a1 )
    {
      v14 = *(_QWORD *)(v11 + 0x450);
      if ( v14 )
      {
        if ( *(_QWORD *)((*(_QWORD *)(v11 + 0x450) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v14) )
        {
          v15 = v11 + 0x538;
          v16 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
          if ( *(_DWORD *)(v15 + 0x10) == v16 )
          {
            ++*(_DWORD *)(v15 + 0x14);
          }
          else
          {
            v17 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
            v18 = _InterlockedCompareExchange64((volatile signed __int64 *)v15, 0x200000, 0);
            if ( v18 )
              sub_1403DCD60(
                v15,
                v18,
                v17,
                "CPhysicalProxy::RemoveSlotGeometry",
                "m_pAdamProxy->m_compoundedPhysicsBlocksLock",
                1);
            else
              *(_QWORD *)(v15 + 8) = v17;
            *(_DWORD *)(v15 + 0x10) = v16;
          }
          v19 = *(_QWORD *)(a1 + 0x4C0);
          v20 = *(_QWORD *)(v19 + 0x520);
          v21 = *(_QWORD *)(v19 + 0x528);
          if ( v20 != v21 )
          {
            while ( *(_QWORD *)(v20 + 8) != *(_QWORD *)(a1 + 8) || *(_DWORD *)(v20 + 0x10) != a2 )
            {
              v20 += 0x78;
              if ( v20 == v21 )
                goto LABEL_18;
            }
            sub_146AF0E40(v19, (unsigned int)&v32, v20, a4, v12, v13);
          }
LABEL_18:
          if ( v15 )
          {
            v22 = *(_DWORD *)(v15 + 0x14);
            if ( v22 )
            {
              *(_DWORD *)(v15 + 0x14) = v22 - 1;
            }
            else
            {
              *(_DWORD *)(v15 + 0x10) = 0xFFFFFFFF;
              n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v15, 0, 0x200000);
              if ( n0x200000 == 0x200000 )
                *(_QWORD *)(v15 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
              else
                sub_1403DD380(v15, n0x200000);
            }
          }
        }
      }
    }
    v24 = (volatile signed __int64 *)(a1 + 0x538);
    v25 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( *(_DWORD *)(a1 + 0x548) == v25 )
    {
      ++*(_DWORD *)(a1 + 0x54C);
    }
    else
    {
      v26 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
      v27 = _InterlockedCompareExchange64(v24, 0x200000, 0);
      if ( v27 )
        sub_1403DCD60(a1 + 0x538, v27, v26, "CPhysicalProxy::RemoveSlotGeometry", "m_compoundedPhysicsBlocksLock", 1);
      else
        *(_QWORD *)(a1 + 0x540) = v26;
      *(_DWORD *)(a1 + 0x548) = v25;
    }
    v28 = *(_QWORD *)(a1 + 0x520);
    v29 = *(_QWORD *)(a1 + 0x528);
    if ( v28 != v29 )
    {
      while ( *(_QWORD *)(v28 + 8) != *(_QWORD *)(a1 + 8) || *(_DWORD *)(v28 + 0x10) != a2 )
      {
        v28 += 0x78;
        if ( v28 == v29 )
          goto LABEL_38;
      }
      *(_BYTE *)(v28 + 0x70) = 0;
      if ( *(_QWORD *)(a1 + 0x4C0) == a1 || a3 )
      {
        v34 = a1;
        sub_146A63220(a1 + 0x668, sub_140B13368, &v34);
        sub_146AF0E40(a1, (unsigned int)&v33, v28, a4, v12, v13);
      }
    }
LABEL_38:
    if ( a1 != 0xFFFFFFFFFFFFFAC8uLL )
    {
      v30 = *(_DWORD *)(a1 + 0x54C);
      if ( v30 )
      {
        *(_DWORD *)(a1 + 0x54C) = v30 - 1;
      }
      else
      {
        *(_DWORD *)(a1 + 0x548) = 0xFFFFFFFF;
        n0x200000_1 = _InterlockedCompareExchange64(v24, 0, 0x200000);
        if ( n0x200000_1 == 0x200000 )
          *(_QWORD *)(a1 + 0x540) = &p_p_p_p_p_p_p_p_p_p_p_Source;
        else
          sub_1403DD380(a1 + 0x538, n0x200000_1);
      }
    }
  }
}

// --- End Function: sub_146AF1630 (0x146AF1630) ---

// --- Function: sub_146AF9690 (0x146AF9690) ---
__int64 __fastcall sub_146AF9690(__int64 a1, __int64 a2, char a3)
{
  __int64 v4; // rbx
  int v7; // esi
  __int64 v8; // r8
  unsigned __int64 v9; // rax
  __int64 v10; // rdx
  int v11; // eax
  unsigned __int64 n0x200000; // rax
  int v13; // eax
  int v14; // ecx
  unsigned int v15; // eax

  v4 = a1 + 0x100;
  v7 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(v4 + 0x10) == v7 )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v8 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v9 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0x200000, 0);
    if ( v9 )
      sub_1403DCD60(v4, v9, v8, "CRenderProxy::SetLocalBounds", "localBBoxLock", 1);
    else
      *(_QWORD *)(v4 + 8) = v8;
    *(_DWORD *)(v4 + 0x10) = v7;
  }
  *(_OWORD *)(a1 + 0x118) = *(_OWORD *)a2;
  *(double *)(a1 + 0x128) = *(double *)(a2 + 0x10);
  *(float *)(a1 + 0x130) = sub_14189E9B0(a2).m128_f32[0];
  if ( v4 )
  {
    v11 = *(_DWORD *)(v4 + 0x14);
    if ( v11 )
    {
      *(_DWORD *)(v4 + 0x14) = v11 - 1;
    }
    else
    {
      *(_DWORD *)(v4 + 0x10) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        *(_QWORD *)(v4 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380(v4, n0x200000);
    }
  }
  LOBYTE(v10) = 1;
  v13 = *(_DWORD *)(a1 + 0x194);
  v14 = v13 | 4;
  v15 = v13 & 0xFFFFFFFB;
  if ( !a3 )
    v14 = v15;
  *(_DWORD *)(a1 + 0x194) = v14 | 2;
  return sub_146AD1F20(a1, v10);
}

// --- End Function: sub_146AF9690 (0x146AF9690) ---

// --- Function: sub_146AF9B40 (0x146AF9B40) ---
unsigned __int64 __fastcall sub_146AF9B40(__int64 a1, _QWORD *a2)
{
  __int64 v2; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rbx
  __int64 v7; // rcx
  unsigned __int64 i; // r12
  signed __int64 v9; // rdx
  __int64 v10; // rbx
  __int64 v11; // rbx
  __int64 v12; // rcx
  __int64 v13; // rcx
  __int64 v14; // rcx
  __int64 *v15; // rdi
  __int64 v16; // rax
  __int64 v17; // rcx
  void (__fastcall *v18)(__int64 *, __int64 *); // rbp
  __int64 v19; // rcx
  _QWORD *v20; // rdx
  bool v21; // bl
  bool v22; // di
  __int64 v23; // rdx
  __int64 v24; // rdx
  __int64 *v25; // rbp
  __int64 *v26; // rsi
  __int64 v27; // rdi
  __int64 *v28; // rbx
  __int64 v29; // rax
  __int64 *v30; // rax
  __int64 v31; // rcx
  __int16 v32; // rbx^6
  __int64 v33; // rdi
  __int64 v34; // rax
  __int16 n4; // cx
  __int64 v36; // rbx
  _QWORD *v37; // rax
  void (__fastcall *v38)(__int64, __int64 (__fastcall **)(), __int64, __int64); // rdi
  _QWORD *v39; // rax
  __int64 v40; // r8
  __int64 (__fastcall *p_sub_146A8AFF0)(); // [rsp+30h] [rbp-68h] BYREF
  __int64 (__fastcall *p_sub_146A8BA70)(); // [rsp+38h] [rbp-60h]
  _QWORD *v44; // [rsp+40h] [rbp-58h]
  __int64 (__fastcall *p_sub_146A8B610)(); // [rsp+48h] [rbp-50h] BYREF
  __int64 (__fastcall *p_sub_146A8CD00)(); // [rsp+50h] [rbp-48h]
  _QWORD *v47; // [rsp+58h] [rbp-40h]
  __int64 v48; // [rsp+A0h] [rbp+8h] BYREF
  __int64 v49; // [rsp+A8h] [rbp+10h] BYREF
  __int64 v50; // [rsp+B0h] [rbp+18h]

  v2 = a1 + 0x1B8;
  v50 = a1 + 0x1B8;
  if ( *(_DWORD *)(a1 + 0x1C8) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v2);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(v2, v5, "CRenderProxy::SetMaterial", "m_SlotsLock", 1);
  }
  v6 = *a2;
  if ( *(_QWORD *)(a1 + 0xE8) != *a2 )
  {
    if ( v6 )
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v6 + 8LL))(*a2);
    v7 = *(_QWORD *)(a1 + 0xE8);
    if ( v7 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x10LL))(v7);
    *(_QWORD *)(a1 + 0xE8) = v6;
  }
  for ( i = 0; i < (__int64)(*(_QWORD *)(a1 + 0x70) - *(_QWORD *)(a1 + 0x68)) >> 3; ++i )
  {
    if ( *(_DWORD *)(a1 + 0x1C8) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0x1CC);
    }
    else
    {
      v9 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x1B8));
      if ( (v9 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0x1B8, v9, "CRenderProxy::SetSlotMaterial", "m_SlotsLock", 1);
    }
    if ( (i & 0x80000000) == 0LL )
    {
      v10 = *(_QWORD *)(a1 + 0x68);
      if ( (int)i < (int)((*(_QWORD *)(a1 + 0x70) - v10) >> 3) )
      {
        v11 = *(_QWORD *)(v10 + 8LL * (int)i);
        if ( v11 )
        {
          sub_140378610((_QWORD *)(v11 + 0xC0), a2);
          v12 = *(_QWORD *)(v11 + 0x88);
          if ( v12 )
            (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v12 + 0x128LL))(v12, a2);
          v13 = *(_QWORD *)(v11 + 0x58);
          if ( v13 )
            (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v13 + 0x20LL))(v13, *a2);
          v14 = *(_QWORD *)(v11 + 0x90);
          if ( v14 )
            (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v14 + 0x128LL))(v14, a2);
          v15 = *(__int64 **)(v11 + 0x80);
          if ( v15 )
          {
            v16 = *v15;
            v17 = *a2;
            v49 = v17;
            v18 = *(void (__fastcall **)(__int64 *, __int64 *))(v16 + 0x170);
            if ( v17 )
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v17 + 8LL))(v17);
            v18(v15, &v49);
          }
          v19 = *(_QWORD *)(v11 + 0x68);
          if ( v19 && (*(_WORD *)(v11 + 0xD8) & 0x100) == 0 )
          {
            v20 = a2;
            if ( *(_QWORD *)(a1 + 0xE8) )
              v20 = (_QWORD *)(a1 + 0xE8);
            (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v19 + 0x50LL))(v19, v20);
          }
          sub_146B0DF70(a1 - 0x78, v11);
          sub_146AEBE10(a1 - 0x78, v11);
        }
      }
    }
    sub_1402D2790(a1 + 0x1B8);
  }
  v21 = 0;
  v22 = 0;
  if ( *a2 )
  {
    v21 = ((*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x90LL))(*a2) & 0x2000) != 0;
    v22 = ((*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x90LL))(*a2) & 0x100000) != 0;
  }
  v23 = *(unsigned int *)(a1 + 8);
  if ( v21 )
    LODWORD(v23) = v23 | 0x400000;
  else
    LODWORD(v23) = v23 & 0xFFBFFFFF;
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)a1 + 0x1A0LL))(a1, v23);
  v24 = *(unsigned int *)(a1 + 8);
  if ( v22 )
    LODWORD(v24) = v24 | 0x8000000;
  else
    LODWORD(v24) = v24 & 0xF7FFFFFF;
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)a1 + 0x1A0LL))(a1, v24);
  sub_146B0AA80(a1 - 0x78);
  sub_146B0E070(a1 - 0x78);
  v25 = *(__int64 **)(a1 + 0x70);
  v26 = *(__int64 **)(a1 + 0x68);
  if ( v26 != v25 )
  {
    while ( 1 )
    {
      v27 = *v26;
      if ( *v26 )
        break;
LABEL_56:
      if ( ++v26 == v25 )
        goto LABEL_57;
    }
    v28 = *(__int64 **)(a1 + 0xE8);
    if ( v28 )
    {
      v29 = *v28;
    }
    else
    {
      v30 = *(__int64 **)(v27 + 0xC0);
      if ( !v30 )
      {
LABEL_51:
        v31 = *(_QWORD *)(v27 + 0x58);
        if ( v31 )
          (*(void (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v31 + 0x20LL))(v31, v28);
        if ( v28 )
          (*(void (__fastcall **)(__int64 *))(*v28 + 0x10))(v28);
        sub_146B0DF70(a1 - 0x78, v27);
        goto LABEL_56;
      }
      v28 = *(__int64 **)(v27 + 0xC0);
      v29 = *v30;
    }
    (*(void (__fastcall **)(__int64 *))(v29 + 8))(v28);
    goto LABEL_51;
  }
LABEL_57:
  sub_14033A9E0(a1 - 0x78, &v48);
  v32 = HIWORD(v48);
  if ( v48 )
  {
    v33 = v48 & 0xFFFFFFFFFFFFLL;
    v34 = sub_1403B4B50(v48 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(v34 + 4);
    if ( n4 != 4
      && *(_WORD *)(v34 + 2) == (v32 & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v48)) )
    {
      if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v33 + 0x758LL))(v33) )
      {
        v36 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v33 + 0x600LL))(v33);
        v37 = (_QWORD *)allocWithProfilerInfo_w(8u);
        if ( v37 )
        {
          *v37 = a2;
          v47 = v37;
        }
        else
        {
          v47 = 0;
        }
        p_sub_146A8B610 = sub_146A8B610;
        p_sub_146A8CD00 = sub_146A8CD00;
        v38 = *(void (__fastcall **)(__int64, __int64 (__fastcall **)(), __int64, __int64))(*(_QWORD *)v36 + 0x10LL);
        v39 = (_QWORD *)allocWithProfilerInfo_w(8u);
        if ( v39 )
        {
          *v39 = &p_sub_146A8B610;
          v44 = v39;
        }
        else
        {
          v44 = 0;
        }
        p_sub_146A8AFF0 = sub_146A8AFF0;
        LOBYTE(v40) = 1;
        p_sub_146A8BA70 = sub_146A8BA70;
        v38(v36, &p_sub_146A8AFF0, v40, 0x72);
        if ( (unsigned __int64)p_sub_146A8BA70 >= 2 )
          ((void (__fastcall *)(__int64, __int64 (__fastcall **)()))p_sub_146A8BA70)(2, &p_sub_146A8AFF0);
        if ( (unsigned __int64)p_sub_146A8CD00 >= 2 )
          ((void (__fastcall *)(__int64, __int64 (__fastcall **)()))p_sub_146A8CD00)(2, &p_sub_146A8B610);
      }
    }
  }
  return sub_1402D2790(v50);
}

// --- End Function: sub_146AF9B40 (0x146AF9B40) ---

// --- Function: sub_146AFA280 (0x146AFA280) ---
__int64 __fastcall sub_146AFA280(__int64 a1, __int64 a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int64 v5; // rsi
  unsigned __int64 v7; // r8
  unsigned __int64 v9; // rbx
  __int64 (__fastcall *v10)(unsigned __int64, _BYTE *, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v12; // rdi
  bool v13; // r14
  unsigned __int64 v14; // rbx
  __int64 (__fastcall *v15)(unsigned __int64, _BYTE *, __int16 *); // r15
  __int16 n0xFFFF_2; // ax
  __int64 v17; // rbx
  __int64 v18; // rax
  __int16 n4; // dx
  char v20; // bl
  bool v21; // al
  __int64 v23; // rdi
  char *v24; // rax
  volatile signed __int64 *v25; // rbx
  int v26; // edi
  __int64 v27; // r8
  unsigned __int64 v28; // rax
  __int64 (__fastcall ***v29)(_QWORD, __int64, __int64); // rax
  unsigned int v30; // eax
  unsigned int v31; // edi
  int v32; // eax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v34; // [rsp+30h] [rbp-D0h] BYREF
  _BYTE v35[2]; // [rsp+38h] [rbp-C8h] BYREF
  _BYTE v36[6]; // [rsp+3Ah] [rbp-C6h] BYREF
  unsigned __int64 v37; // [rsp+40h] [rbp-C0h] BYREF
  unsigned __int64 v38; // [rsp+48h] [rbp-B8h] BYREF
  __int64 v39; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v40; // [rsp+58h] [rbp-A8h] BYREF
  _BYTE v41[8]; // [rsp+60h] [rbp-A0h] BYREF
  _BYTE v42[8]; // [rsp+68h] [rbp-98h] BYREF
  int n8; // [rsp+70h] [rbp-90h] BYREF
  double v44; // [rsp+78h] [rbp-88h]
  __int128 v46; // [rsp+90h] [rbp-70h]
  __int128 v47; // [rsp+A0h] [rbp-60h]
  __int128 v48; // [rsp+B0h] [rbp-50h]
  __int128 v49; // [rsp+C0h] [rbp-40h]
  __int128 v50; // [rsp+D0h] [rbp-30h]
  __int128 v51; // [rsp+E0h] [rbp-20h]
  float v52; // [rsp+F0h] [rbp-10h]
  float v53; // [rsp+F4h] [rbp-Ch]
  float v54; // [rsp+F8h] [rbp-8h]
  int v55; // [rsp+FCh] [rbp-4h]
  __int128 v56; // [rsp+100h] [rbp+0h]
  int v57; // [rsp+110h] [rbp+10h]
  float v58; // [rsp+114h] [rbp+14h]
  unsigned int v59; // [rsp+118h] [rbp+18h]
  unsigned int v60; // [rsp+11Ch] [rbp+1Ch]
  __int128 v61; // [rsp+120h] [rbp+20h]
  __int16 n0xFFFF_1; // [rsp+180h] [rbp+80h] BYREF
  __int16 n0xFFFF_3; // [rsp+188h] [rbp+88h] BYREF

  v5 = a3;
  if ( !a3 )
  {
    v7 = *(_QWORD *)(a1 + 0x450);
    if ( !v7 )
      return 0;
    v5 = 0;
    if ( *(_QWORD *)((v7 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v7) )
      v5 = v7 & 0xFFFFFFFFFFFFLL;
    if ( !v5 )
      return 0;
  }
  (*(void (__fastcall **)(__int64, unsigned __int64 *, __int64))(*(_QWORD *)gEnv + 0x180LL))(gEnv, &v34, v5);
  if ( sub_14030EC00(&v34) && (_BYTE)qword_149B501D6 )
  {
    (*(void (__fastcall **)(unsigned __int64, unsigned __int64 *))(*(_QWORD *)(v34 & 0xFFFFFFFFFFFFLL) + 0x150LL))(
      v34 & 0xFFFFFFFFFFFFLL,
      &v38);
    v9 = v34 & 0xFFFFFFFFFFFFLL;
    v10 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int16 *))(*(_QWORD *)(v34 & 0xFFFFFFFFFFFFLL) + 0x340LL);
    n0xFFFF = n0xFFFF_24;
    if ( n0xFFFF_24 == (__int16)0xFFFF )
    {
      n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                            qword_149B4FC88,
                            v35,
                            "IEntityPhysicalProxy");
      n0xFFFF_24 = n0xFFFF;
    }
    n0xFFFF_1 = n0xFFFF;
    v12 = *(_QWORD *)v10(v9, v41, &n0xFFFF_1);
    v39 = v12;
    if ( sub_14030EC00(&v38) && AssetMeta::HasActorSubresource(&v39) )
    {
      v61 = v3;
      (*(void (__fastcall **)(unsigned __int64, unsigned __int64 *))(*(_QWORD *)(v38 & 0xFFFFFFFFFFFFLL) + 0x3C0LL))(
        v38 & 0xFFFFFFFFFFFFLL,
        &v37);
      if ( v37 )
        v13 = *(_QWORD *)((v37 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v37);
      else
        v13 = 0;
      v14 = v34 & 0xFFFFFFFFFFFFLL;
      v15 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int16 *))(*(_QWORD *)(v34 & 0xFFFFFFFFFFFFLL)
                                                                           + 0x340LL);
      n0xFFFF_2 = n0xFFFF_39;
      if ( n0xFFFF_39 == (__int16)0xFFFF )
      {
        n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                        + 0x10LL))(
                                qword_149B4FC88,
                                v36,
                                "IEntityPhysicsController");
        n0xFFFF_39 = n0xFFFF_2;
      }
      n0xFFFF_3 = n0xFFFF_2;
      v17 = *(_QWORD *)v15(v14, v42, &n0xFFFF_3);
      v40 = v17;
      if ( v17
        && (v18 = sub_1403B4B50(v17 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v18 + 4), n4 != 4)
        && *(_WORD *)(v18 + 2) == (HIWORD(v17) & 0xFFF)
        && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v40)) )
      {
        v20 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v17 & 0xFFFFFFFFFFFFLL) + 0x5C0LL))(v17 & 0xFFFFFFFFFFFFLL);
      }
      else
      {
        v20 = 1;
      }
      v21 = v13
         && ((*(int (__fastcall **)(unsigned __int64))(*(_QWORD *)(v37 & 0xFFFFFFFFFFFFLL) + 8LL))(v37 & 0xFFFFFFFFFFFFLL) <= 3
          || (*(unsigned int (__fastcall **)(unsigned __int64))(*(_QWORD *)(v37 & 0xFFFFFFFFFFFFLL) + 8LL))(v37 & 0xFFFFFFFFFFFFLL) == 0xA)
         && (*(int (__fastcall **)(__int64))(*(_QWORD *)v5 + 8LL))(v5) <= 2;
      _XMM1 = 0;
      v59 = 0x80000000;
      v55 = 0;
      v57 = 0;
      v60 = 0x80000000;
      n8 = 8;
      v44 = 0.0;
      v52 = 0.0;
      v53 = 0.0;
      v54 = 0.0;
      v58 = 0.0;
      __asm { vmovupd [rbp+60h+var_E0], xmm1 }
      v46 = 0;
      v47 = 0;
      v48 = 0;
      v49 = 0;
      v50 = 0;
      v51 = 0;
      v56 = 0;
      if ( v21
        && !v20
        && (*(unsigned int (__fastcall **)(unsigned __int64))(*(_QWORD *)(v34 & 0xFFFFFFFFFFFFLL) + 0x178LL))(v34 & 0xFFFFFFFFFFFFLL) == 1 )
      {
        v23 = v12 & 0xFFFFFFFFFFFFLL;
        if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v23 + 0x750LL))(v23) )
        {
          if ( (*(unsigned int (__fastcall **)(__int64, int *))(*(_QWORD *)v5 + 0x28LL))(v5, &n8) )
          {
            if ( v53 != 0.0 )
            {
              v24 = (char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v23 + 0x6C0LL))(v23);
              if ( v24 )
                sub_140404D60(v24);
            }
          }
        }
      }
    }
  }
  v25 = (volatile signed __int64 *)(a1 + 0x4F8);
  v26 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(a1 + 0x508) == v26 )
  {
    ++*(_DWORD *)(a1 + 0x50C);
  }
  else
  {
    v27 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v28 = _InterlockedCompareExchange64(v25, 0x200000, 0);
    if ( v28 )
      sub_1403DCD60(a1 + 0x4F8, v28, v27, "CPhysicalProxy::SetParams", "m_queueLock", 1);
    else
      *(_QWORD *)(a1 + 0x500) = v27;
    *(_DWORD *)(a1 + 0x508) = v26;
  }
  v29 = (__int64 (__fastcall ***)(_QWORD, __int64, __int64))sub_146ABE200(a1);
  if ( v29 )
    v30 = (**v29)(v29, v5, a2);
  else
    v30 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v5 + 0x18LL))(v5, a2, 0);
  v31 = v30;
  if ( a1 != 0xFFFFFFFFFFFFFB08uLL )
  {
    v32 = *(_DWORD *)(a1 + 0x50C);
    if ( v32 )
    {
      *(_DWORD *)(a1 + 0x50C) = v32 - 1;
    }
    else
    {
      *(_DWORD *)(a1 + 0x508) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(v25, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        *(_QWORD *)(a1 + 0x500) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380(a1 + 0x4F8, n0x200000);
    }
  }
  return v31;
}

// --- End Function: sub_146AFA280 (0x146AFA280) ---

// --- Function: sub_146AFA750 (0x146AFA750) ---
char __fastcall sub_146AFA750(__int64 a1, int a2, int a3)
{
  unsigned __int64 v3; // rbx
  unsigned __int64 v5; // rbp
  __int64 v6; // rdi
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  unsigned __int64 v9; // rax
  __int64 v10; // rax
  __int64 v11; // rbx
  bool v12; // zf
  __int64 v13; // rax

  v3 = a3;
  v5 = a2;
  if ( a2 < 0 || a3 < 0 )
    return 0;
  v6 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
      sub_1403CB300(v6, v7, "CRenderProxy::SetParentSlot", "m_SlotsLock", 1);
  }
  v8 = *(_QWORD *)(a1 + 0xE0);
  v9 = (*(_QWORD *)(a1 + 0xE8) - v8) >> 3;
  if ( v5 >= v9 || v3 >= v9 || (v10 = *(_QWORD *)(v8 + 8 * v5), v11 = *(_QWORD *)(v8 + 8 * v3), !v10) || !v11 )
  {
    sub_1402D2790(v6);
    return 0;
  }
  v12 = *(_QWORD *)v11 == 0;
  *(_QWORD *)(v11 + 0x50) = v10;
  if ( v12 )
  {
    v13 = allocWithProfilerInfo_w(0x40u);
    if ( v13 )
    {
      *(_DWORD *)(v13 + 0xC) = 0x3F800000;
      *(_QWORD *)v13 = 0;
      *(_DWORD *)(v13 + 8) = 0;
      *(_QWORD *)(v13 + 0x10) = 0;
      *(_DWORD *)(v13 + 0x18) = 0;
      *(_QWORD *)(v13 + 0x1C) = 0x3F800000;
      *(_DWORD *)(v13 + 0x2C) = 0x3F800000;
      *(_QWORD *)(v13 + 0x24) = 0;
      *(_QWORD *)(v13 + 0x30) = 0;
      *(_DWORD *)(v13 + 0x38) = 0;
      *(_DWORD *)(v13 + 0x3C) = 0x3F800000;
    }
    else
    {
      v13 = 0;
    }
    *(_QWORD *)v11 = v13;
  }
  *(_BYTE *)(v11 + 0xDB) &= ~0x10u;
  sub_1402D2790(v6);
  return 1;
}

// --- End Function: sub_146AFA750 (0x146AFA750) ---

// --- Function: sub_146AFAB10 (0x146AFAB10) ---
__int64 __fastcall sub_146AFAB10(__int64 a1, unsigned int a2, _QWORD *a3)
{
  signed __int64 v5; // rdx
  __int64 v6; // rbp
  void (__fastcall *v7)(_QWORD *, __int64, _QWORD); // r12
  __int64 v8; // rdx
  __int64 n0x3E8; // rdx
  __int64 v10; // rdx
  __int64 v11; // rdx
  unsigned int v13; // [rsp+58h] [rbp+10h] BYREF

  v13 = a2;
  sub_146AD99E0(a1, &v13, 0xFFFFFFFFLL);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v5, "CRenderProxy::SetParticleEmitter", "m_SlotsLock", 1);
  }
  v6 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * (int)v13);
  (*(void (__fastcall **)(_QWORD *))(a3[6] + 8LL))(a3 + 6);
  sub_146AEF560(v6);
  *(_QWORD *)(v6 + 0x90) = a3;
  v7 = *(void (__fastcall **)(_QWORD *, __int64, _QWORD))(*a3 + 0x268LL);
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v8 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v8 = 0;
  v7(a3, v8, v13);
  if ( *(_QWORD *)(v6 + 0xC0) || *(_QWORD *)(a1 + 0x160) )
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v6 + 0x90) + 0x128LL))(*(_QWORD *)(v6 + 0x90));
  n0x3E8 = 0x3E8;
  if ( *(_BYTE *)(a1 + 0x8D) != 0xFF )
    n0x3E8 = *(unsigned __int8 *)(a1 + 0x8D);
  (*(void (__fastcall **)(_QWORD *, __int64))(*a3 + 0x198LL))(a3, n0x3E8);
  v10 = *(_DWORD *)(a1 + 0x80) >> 8;
  LOBYTE(v10) = BYTE1(*(_DWORD *)(a1 + 0x80)) & 1;
  (*(void (__fastcall **)(_QWORD *, __int64))(*a3 + 0x98LL))(a3, v10);
  LOBYTE(v11) = 1;
  sub_146AD1F20(a1, v11);
  sub_146B09E30(a1);
  sub_146AEB290(a1, v6);
  sub_1402D2790(a1 + 0x230);
  return v13;
}

// --- End Function: sub_146AFAB10 (0x146AFAB10) ---

// --- Function: sub_146AFAD30 (0x146AFAD30) ---
void __fastcall sub_146AFAD30(__int64 a1, int a2, __int64 *a3)
{
  unsigned __int64 v4; // rcx
  int v6; // r14d
  __int64 v7; // rcx
  unsigned __int64 *v8; // rbx
  __int64 v9; // rcx
  signed __int64 v10; // rdx
  _DWORD *v11; // rdi
  _DWORD *v12; // rbp
  _QWORD *v13; // r12
  int v14; // eax
  __int64 v15; // rcx
  __int64 v16; // rax
  __int64 v17; // rax
  __int64 v18; // rdx
  int v19; // edi
  __int64 v20; // r13
  __int64 v21; // rdx
  __int64 v22; // rdx
  __int64 v23; // rdx
  __int64 v24; // rdx
  __int64 v25; // rdx
  unsigned __int64 v26; // rcx
  __int64 v27; // r15
  signed __int64 v28; // rdx
  __int64 v29; // rcx
  unsigned __int64 v30; // rax
  __int64 v31; // rbx
  __int64 v32; // rdx
  __int64 v33; // rdx
  int v34; // ebp
  __int64 v35; // rdi
  __int64 v36; // rcx
  __int64 v37; // rcx
  __int64 v38; // r9
  __int64 v39; // r9
  __int64 v40; // rcx
  __int64 v41; // r9
  __int64 v42; // r9
  int v43; // [rsp+30h] [rbp-388h]
  _DWORD *v45; // [rsp+38h] [rbp-380h]
  _DWORD *v46; // [rsp+40h] [rbp-378h]
  _BYTE v47[4]; // [rsp+50h] [rbp-368h] BYREF
  int v48; // [rsp+54h] [rbp-364h]
  int v49; // [rsp+5Ch] [rbp-35Ch]
  char v50[8]; // [rsp+90h] [rbp-328h] BYREF
  char v51[72]; // [rsp+98h] [rbp-320h] BYREF
  _BYTE *v52; // [rsp+E0h] [rbp-2D8h]
  int v53; // [rsp+E8h] [rbp-2D0h]
  _BYTE v54[512]; // [rsp+170h] [rbp-248h] BYREF

  v4 = *(_QWORD *)(a1 + 0x450);
  v6 = a2;
  if ( v4 && *(_QWORD *)((v4 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v4) && *a3 )
  {
    sub_140370740((__int64)v47);
    v7 = *a3;
    v49 = 0;
    v53 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, char *, char *))(*(_QWORD *)v7 + 0x170LL))(
            v7,
            v54,
            0x80,
            v51,
            v50);
    v8 = (unsigned __int64 *)(a1 + 8);
    v52 = v54;
    v9 = sub_14030EC00((unsigned __int64 *)(a1 + 8)) ? *v8 & 0xFFFFFFFFFFFFLL : 0LL;
    if ( sub_146B513B0(v9) )
    {
      if ( *(_DWORD *)(a1 + 0x548) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(a1 + 0x54C);
      }
      else
      {
        v10 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x538));
        if ( (v10 & 0x200000) != 0 )
          sub_1403CB300(a1 + 0x538, v10, "CPhysicalProxy::SetPhysicsMaterial", "m_compoundedPhysicsBlocksLock", 1);
      }
      v11 = *(_DWORD **)(a1 + 0x520);
      v12 = *(_DWORD **)(a1 + 0x528);
      v45 = v11;
      v46 = v12;
      if ( v11 != v12 )
      {
        v13 = v11 + 0x12;
        do
        {
          if ( *v11 == 1 && v13[0xFFFFFFF8] == *v8 )
          {
            v14 = *((_DWORD *)v13 + 0xFFFFFFF2);
            if ( v14 >= 0 && (v14 == v6 || v6 < 0) )
            {
              v15 = sub_14030EC00(v8) ? *v8 & 0xFFFFFFFFFFFFLL : 0LL;
              v16 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x4F8LL))(v15, (unsigned int)v6);
              if ( v16 )
              {
                v17 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v16 + 0x30LL))(v16);
                if ( v17 )
                  (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v17 + 0x290LL))(v17, v47);
              }
              else
              {
                v18 = v13[0xFFFFFFFF];
                v19 = 0;
                v43 = 0;
                if ( (*v13 - v18) >> 2 )
                {
                  v20 = 0;
                  do
                  {
                    v48 = *(_DWORD *)(v18 + v20);
                    sub_146AFA280(a1, (__int64)v47, 0);
                    v21 = *(_QWORD *)(a1 + 0x460);
                    if ( v21 )
                    {
                      v22 = v21 & 0xFFFFFFFFFFFFLL;
                      if ( *(_QWORD *)(v22 + 8) == HIWORD(*(_QWORD *)(a1 + 0x460)) )
                        sub_146AFA280(a1, (__int64)v47, v22);
                    }
                    v23 = *(_QWORD *)(a1 + 0x468);
                    if ( v23 )
                    {
                      v24 = v23 & 0xFFFFFFFFFFFFLL;
                      if ( *(_QWORD *)(v24 + 8) == HIWORD(*(_QWORD *)(a1 + 0x468)) )
                        sub_146AFA280(a1, (__int64)v47, v24);
                    }
                    v25 = *(_QWORD *)(a1 + 0x4C0);
                    if ( v25 != a1 )
                    {
                      v26 = *(_QWORD *)(v25 + 0x450);
                      if ( v26 )
                      {
                        if ( *(_QWORD *)((*(_QWORD *)(v25 + 0x450) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v26) )
                        {
                          v27 = v25 + 0x538;
                          if ( *(_DWORD *)(v25 + 0x548) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
                          {
                            ++*(_DWORD *)(v27 + 0x14);
                          }
                          else
                          {
                            v28 = _InterlockedIncrement64((volatile signed __int64 *)v27);
                            if ( (v28 & 0x200000) != 0 )
                              sub_1403CB300(
                                v27,
                                v28,
                                "CPhysicalProxy::SetPhysicsMaterial",
                                "m_pAdamProxy->m_compoundedPhysicsBlocksLock",
                                1);
                          }
                          v29 = *(_QWORD *)(a1 + 0x4C0);
                          v30 = *v8;
                          v31 = *(_QWORD *)(v29 + 0x520);
                          v32 = *(_QWORD *)(v29 + 0x528);
                          if ( v31 != v32 )
                          {
                            while ( *(_QWORD *)(v31 + 8) != v30 || *(_DWORD *)(v31 + 0x10) != v6 && v6 >= 0 )
                            {
                              v31 += 0x78;
                              if ( v31 == v32 )
                                goto LABEL_56;
                            }
                            v33 = *(_QWORD *)(v31 + 0x40);
                            v34 = 0;
                            if ( (*(_QWORD *)(v31 + 0x48) - v33) >> 2 )
                            {
                              v35 = 0;
                              do
                              {
                                v36 = *(_QWORD *)(a1 + 0x4C0);
                                v48 = *(_DWORD *)(v35 + v33);
                                sub_146AFA280(v36, (__int64)v47, 0);
                                v37 = *(_QWORD *)(a1 + 0x4C0);
                                v38 = *(_QWORD *)(v37 + 0x460);
                                if ( v38 )
                                {
                                  v39 = v38 & 0xFFFFFFFFFFFFLL;
                                  if ( *(_QWORD *)(v39 + 8) == HIWORD(*(_QWORD *)(v37 + 0x460)) )
                                    sub_146AFA280(v37, (__int64)v47, v39);
                                }
                                v40 = *(_QWORD *)(a1 + 0x4C0);
                                v41 = *(_QWORD *)(v40 + 0x468);
                                if ( v41 )
                                {
                                  v42 = v41 & 0xFFFFFFFFFFFFLL;
                                  if ( *(_QWORD *)(v42 + 8) == HIWORD(*(_QWORD *)(v40 + 0x468)) )
                                    sub_146AFA280(v40, (__int64)v47, v42);
                                }
                                v33 = *(_QWORD *)(v31 + 0x40);
                                ++v34;
                                v35 += 4;
                              }
                              while ( v34 < (unsigned __int64)((*(_QWORD *)(v31 + 0x48) - v33) >> 2) );
                              v6 = a2;
                              v19 = v43;
                            }
                          }
LABEL_56:
                          sub_1402D2790(v27);
                          v8 = (unsigned __int64 *)(a1 + 8);
                        }
                      }
                    }
                    v18 = v13[0xFFFFFFFF];
                    ++v19;
                    v20 += 4;
                    v43 = v19;
                  }
                  while ( v19 < (unsigned __int64)((*v13 - v18) >> 2) );
                  v12 = v46;
                }
                v11 = v45;
              }
              if ( v6 >= 0 )
                break;
            }
          }
          v11 += 0x1E;
          v13 += 0xF;
          v45 = v11;
        }
        while ( v11 != v12 );
      }
      sub_1402D2790(a1 + 0x538);
    }
  }
}

// --- End Function: sub_146AFAD30 (0x146AFAD30) ---

// --- Function: sub_146AFBB30 (0x146AFBB30) ---
__int64 __fastcall sub_146AFBB30(__int64 a1, signed int a2, __int64 a3, __int64 *a4)
{
  unsigned int v4; // ebx
  signed __int64 v7; // rdx
  unsigned int v8; // r12d
  __int64 v9; // rbp
  __int64 v10; // rcx
  __int64 v11; // r15
  __int64 (__fastcall *v12)(__int64, char *, signed int *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v14; // rbx
  __int64 v15; // rax
  __int16 n4; // dx
  __int64 (__fastcall *v17)(__int64, char *, __int64 *); // rbx
  __int16 n0xFFFF_1; // ax
  __int64 v19; // rcx
  __int64 v20; // rax
  void (__fastcall *v21)(__int64 *, __int64 *); // rbx
  void (__fastcall *v22)(__int64 *, __int64); // rbx
  __int64 v23; // rax
  __int64 v24; // rax
  __int64 v25; // rdx
  __int64 v26; // rdx
  char v28[8]; // [rsp+30h] [rbp-98h] BYREF
  __int64 v29; // [rsp+38h] [rbp-90h] BYREF
  char v30[8]; // [rsp+40h] [rbp-88h] BYREF
  char v31[8]; // [rsp+48h] [rbp-80h] BYREF
  char v32[64]; // [rsp+50h] [rbp-78h] BYREF
  __int64 v33; // [rsp+D0h] [rbp+8h] BYREF
  signed int v34; // [rsp+D8h] [rbp+10h] BYREF
  char v35; // [rsp+E8h] [rbp+20h] BYREF

  v34 = a2;
  v4 = 0xFFFFFFFF;
  sub_146AD99E0(a1, &v34, 0xFFFFFFFFLL);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v7 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v7, "CRenderProxy::SetSlotCharacter", "m_SlotsLock", 1);
  }
  v8 = v34;
  v9 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * v34);
  if ( *(__int64 **)(v9 + 0x80) != a4 )
  {
    if ( a4 )
      (*(void (__fastcall **)(__int64 *))(*a4 + 8))(a4);
    if ( *(_QWORD *)(v9 + 0x80) )
    {
      v10 = *(_QWORD *)(a1 + 0x1A0);
      if ( v10 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x10LL))(v10);
    }
    sub_146AEF560(v9);
    if ( a4 )
    {
      if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
        v11 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      else
        v11 = 0;
      v12 = *(__int64 (__fastcall **)(__int64, char *, signed int *))(*(_QWORD *)v11 + 0x340LL);
      n0xFFFF = n0xFFFF_46;
      if ( n0xFFFF_46 == (__int16)0xFFFF )
      {
        n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                     + 0x10LL))(
                              qword_149B4FC88,
                              &v35,
                              "EntityObjectComponentCharacter");
        n0xFFFF_46 = n0xFFFF;
      }
      LOWORD(v34) = n0xFFFF;
      v14 = *(_QWORD *)v12(v11, v30, &v34);
      v29 = v14;
      if ( !v14
        || (v15 = sub_1403B4B50(v14 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v15 + 4), n4 == 4)
        || *(_WORD *)(v15 + 2) != (HIWORD(v14) & 0xFFF)
        || (n4 != 2 || *(_QWORD *)NtCurrentTeb_w()) && !sub_14031FE20(&v29) )
      {
        v17 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)v11 + 0x338LL);
        n0xFFFF_1 = n0xFFFF_47;
        if ( n0xFFFF_47 == (__int16)0xFFFF )
        {
          n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                         + 0x10LL))(
                                  qword_149B4FC88,
                                  v28,
                                  "EntityObjectComponentCharacter");
          n0xFFFF_47 = n0xFFFF_1;
        }
        LOWORD(v33) = n0xFFFF_1;
        v14 = *(_QWORD *)v17(v11, v31, &v33);
      }
      *(_QWORD *)(v9 + 0xA0) = v14;
      sub_146A25E00(v14 & 0xFFFFFFFFFFFFLL, a4, v9, v8);
      *(_WORD *)(v9 + 0xD8) |= 1u;
      *(_QWORD *)(v9 + 0x80) = a4;
      (*(void (__fastcall **)(__int64 *, __int64))(*a4 + 0x160))(a4, a1 + 0x160);
      v19 = *(_QWORD *)(v9 + 0xC0);
      if ( v19 || (v19 = *(_QWORD *)(a1 + 0x160)) != 0 )
      {
        v20 = *a4;
        v33 = v19;
        v21 = *(void (__fastcall **)(__int64 *, __int64 *))(v20 + 0x170);
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v19 + 8LL))(v19);
        v21(a4, &v33);
      }
      (*(void (__fastcall **)(__int64 *, _QWORD, _QWORD))(*a4 + 0x288))(a4, *(_QWORD *)(a1 + 8), v8);
      v22 = *(void (__fastcall **)(__int64 *, __int64))(*a4 + 0x250);
      v23 = sub_146AC15F0(a1, (__int64)v32, v8, 2, 0);
      v22(a4, v23);
      v24 = (*(__int64 (__fastcall **)(__int64 *))(*a4 + 0x20))(a4);
      if ( v24 )
        (*(void (__fastcall **)(__int64, __int64 (__fastcall *)(), __int64))(*(_QWORD *)v24 + 0x198LL))(
          v24,
          sub_146A80710,
          a1);
      LOBYTE(v25) = 1;
      sub_146AD1F20(a1, v25);
      v4 = 0xFFFFFFFF;
    }
    else
    {
      *(_WORD *)(v9 + 0xD8) &= ~1u;
    }
    sub_146B0AA80(a1);
    sub_146B0DF70(a1, v9);
    LOBYTE(v26) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
    sub_146ADEB80(a1, v26);
    sub_146AEB290(a1, v9);
    if ( a4 )
      v4 = v8;
    v8 = v4;
  }
  sub_1402D2790(a1 + 0x230);
  return v8;
}

// --- End Function: sub_146AFBB30 (0x146AFBB30) ---

// --- Function: sub_146AFBEC0 (0x146AFBEC0) ---
unsigned __int64 __fastcall sub_146AFBEC0(__int64 a1, int a2, int a3)
{
  __int64 v4; // rbx
  __int64 v6; // rcx
  __int64 v7; // r14
  volatile signed __int64 *v8; // r12
  signed __int64 v9; // rdx
  __int64 *v10; // rdi
  __int64 *v11; // rbx
  __int64 v12; // rcx
  __int64 v13; // rax
  __int64 v14; // rcx
  __int64 v15; // rcx
  __int16 v16; // ax
  int v18; // [rsp+30h] [rbp-D0h] BYREF
  __int16 n0x100; // [rsp+34h] [rbp-CCh]
  int v20; // [rsp+38h] [rbp-C8h]
  char v21; // [rsp+3Ch] [rbp-C4h]
  unsigned int v22; // [rsp+40h] [rbp-C0h]
  unsigned int v23; // [rsp+44h] [rbp-BCh]
  char v24; // [rsp+48h] [rbp-B8h]
  unsigned __int64 v25; // [rsp+50h] [rbp-B0h]
  __int64 v26; // [rsp+58h] [rbp-A8h]
  __int64 v27; // [rsp+60h] [rbp-A0h]
  __int64 n0x81; // [rsp+68h] [rbp-98h]
  __int128 v29; // [rsp+70h] [rbp-90h]
  __int64 v30; // [rsp+80h] [rbp-80h]
  char v31; // [rsp+88h] [rbp-78h]
  __int128 v32; // [rsp+90h] [rbp-70h]
  __int64 v33; // [rsp+A0h] [rbp-60h]
  char v34; // [rsp+A8h] [rbp-58h]
  float v35; // [rsp+ACh] [rbp-54h]
  __int16 v36; // [rsp+B0h] [rbp-50h]
  __int64 v37; // [rsp+B8h] [rbp-48h]
  int v38; // [rsp+C0h] [rbp-40h]
  float v39; // [rsp+C4h] [rbp-3Ch]
  __int64 v40; // [rsp+C8h] [rbp-38h]
  __int64 v41; // [rsp+D0h] [rbp-30h]
  __int64 v42; // [rsp+D8h] [rbp-28h]
  unsigned int v43; // [rsp+E0h] [rbp-20h]
  __int64 v44; // [rsp+E8h] [rbp-18h]
  __int128 v45; // [rsp+F0h] [rbp-10h]
  __int64 v46; // [rsp+100h] [rbp+0h]
  int v47; // [rsp+108h] [rbp+8h]

  v4 = a2;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
    v6 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v6 = 0;
  v7 = sub_146B4E3D0(v6);
  v8 = (volatile signed __int64 *)(a1 + 0x230);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v9 = _InterlockedIncrement64(v8);
    if ( (v9 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0x230, v9, "CRenderProxy::SetSlotFlags", "m_SlotsLock", 1);
  }
  if ( (int)v4 >= 0 )
  {
    v14 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v4 < (int)((*(_QWORD *)(a1 + 0xE8) - v14) >> 3) )
    {
      v15 = *(_QWORD *)(v14 + 8 * v4);
      if ( v15 )
      {
        v16 = *(_WORD *)(v15 + 0xD8);
        *(_WORD *)(v15 + 0xD8) = a3;
        if ( v7 )
        {
          if ( (((unsigned __int8)a3 ^ (unsigned __int8)v16) & 1) != 0 )
          {
            if ( (a3 & 1) != 0 )
            {
              sub_141EF04A0((__int64)&v18);
              v20 = v4;
              sub_146AE6890(v7, (__int64)&v18);
            }
            else
            {
              sub_146AF1630(v7, v4, 1, 1u, 1, 1);
            }
          }
        }
      }
    }
  }
  else
  {
    v10 = *(__int64 **)(a1 + 0xE8);
    v11 = *(__int64 **)(a1 + 0xE0);
    if ( v11 != v10 )
    {
      do
      {
        v12 = *v11;
        if ( *v11 )
        {
          v9 = *(unsigned __int16 *)(v12 + 0xD8);
          v13 = (__int64)(*(_QWORD *)(a1 + 0xE0) - (_QWORD)v11) >> 3;
          *(_WORD *)(v12 + 0xD8) = a3;
          if ( v7 )
          {
            v9 = a3 ^ (unsigned int)v9;
            if ( (v9 & 1) != 0 )
            {
              if ( (a3 & 1) != 0 )
              {
                v18 = 0;
                n0x100 = 0x100;
                v29 = 0;
                v32 = 0;
                v45 = 0;
                v35 = 0.0;
                v39 = 0.0;
                v21 = 0;
                v24 = 0;
                v25 = 0xFFFFFFFFFFFFFFFFuLL;
                v26 = 0;
                v27 = 0x1000007FFLL;
                n0x81 = 0x81;
                v30 = 0;
                v31 = 0;
                v33 = 0;
                v34 = 0;
                v36 = 1;
                v37 = 0;
                v38 = 0;
                v40 = 0;
                v41 = 0;
                v42 = 0;
                v43 = 0xFFFFFFFF;
                v44 = 0;
                v46 = 0;
                v47 = 0;
                v23 = 0xFFBFFFFF;
                v22 = 0xFFBFFFFF;
                v20 = v13;
                sub_146AE6890(v7, (__int64)&v18);
              }
              else
              {
                sub_146AF1630(v7, v13, 1, 1u, 1, 1);
              }
            }
          }
        }
        ++v11;
      }
      while ( v11 != v10 );
      v8 = (volatile signed __int64 *)(a1 + 0x230);
    }
  }
  LOBYTE(v9) = 1;
  sub_146AD1F20(a1, v9);
  return sub_1402D2790((__int64)v8);
}

// --- End Function: sub_146AFBEC0 (0x146AFBEC0) ---

// --- Function: sub_146AFC190 (0x146AFC190) ---
__int64 __fastcall sub_146AFC190(__int64 a1, unsigned int a2, __int64 *a3, char a4)
{
  __int64 v4; // r13
  unsigned int v6; // esi
  __int64 v8; // r14
  signed __int64 v9; // rdx
  __int64 *v10; // rcx
  __int64 v11; // rcx
  __int64 v12; // rcx
  __int64 v13; // rax
  __int64 v14; // rbx
  __int64 v15; // rdi
  __int64 v16; // rbx
  __int64 v17; // rdi
  int v18; // eax
  signed __int64 v19; // r15
  __int64 v20; // rbx
  __int64 v21; // rbx
  void (__fastcall ***v22)(__int64); // r14
  __int64 v23; // rcx
  __int64 v24; // rdx
  __int64 v25; // rdx
  signed __int64 v26; // r15
  __int64 v27; // rdi
  __int64 v28; // rcx
  __int16 v29; // ax
  __int16 v30; // cx
  __int16 v31; // ax
  __int64 v32; // rdx
  int v34; // [rsp+20h] [rbp-58h]
  __int64 *v35; // [rsp+40h] [rbp-38h] BYREF
  signed int v36; // [rsp+88h] [rbp+10h] BYREF

  v36 = a2;
  v4 = 0;
  v6 = a2;
  if ( !a4 )
    goto LABEL_39;
  v8 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v8 + 0x14);
  }
  else
  {
    v9 = _InterlockedIncrement64((volatile signed __int64 *)v8);
    if ( (v9 & 0x200000) != 0 )
      sub_1403CB300(v8, v9, "CRenderProxy::GetCompoundObj", "m_SlotsLock", 1);
    v6 = v36;
  }
  v10 = *(__int64 **)(a1 + 0xE0);
  if ( v10 == *(__int64 **)(a1 + 0xE8)
    || (v11 = *v10) == 0
    || (v12 = *(_QWORD *)(v11 + 0x58)) == 0
    || (v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x30LL))(v12), (v14 = v13) == 0) )
  {
    sub_1402D2790(v8);
LABEL_39:
    sub_146AD99E0(a1, &v36, 0xFFFFFFFFLL);
    if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0x244);
    }
    else
    {
      v26 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
      if ( (v26 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0x230, v26, "CRenderProxy::SetSlotGeometry", "m_SlotsLock", 1);
    }
    v6 = v36;
    v27 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * v36);
    v28 = *(_QWORD *)(v27 + 0x58);
    if ( v28 )
      v4 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v28 + 0x30LL))(v28);
    if ( v4 != *a3 )
    {
      sub_146AEF560(v27);
      v29 = *(_WORD *)(v27 + 0xD8);
      v30 = v29 | 1;
      v31 = v29 & 0xFFFE;
      if ( !*a3 )
        v30 = v31;
      *(_WORD *)(v27 + 0xD8) = v30;
      sub_146AFCB10(v27, *a3);
      sub_146AEBE10(a1, v27);
      sub_146B0DF70(a1, v27);
      sub_1402D2790(a1 + 0x230);
      goto LABEL_50;
    }
    LOBYTE(v25) = 1;
    sub_146AD1F20(a1, v25);
    sub_1402D2790(a1 + 0x230);
    return v6;
  }
  v15 = 0;
  if ( ((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x120LL))(v13) & 0x20) != 0 )
    v15 = v14;
  sub_1402D2790(v8);
  if ( !v15 || *a3 && ((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)*a3 + 0x120LL))(*a3) & 0x20) != 0 )
    goto LABEL_39;
  if ( (v6 & 0x80000000) != 0 )
  {
    v6 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x3D8LL))(v15);
    v36 = v6;
  }
  if ( ((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x120LL))(v15) & 4) == 0 )
  {
    LOBYTE(v34) = 1;
    (*(void (__fastcall **)(__int64, __int64 **, _QWORD, _QWORD, int, char, _BYTE))(*(_QWORD *)v15 + 0x518LL))(
      v15,
      &v35,
      0,
      0,
      v34,
      1,
      0);
    v16 = (__int64)v35;
    v17 = *v35;
    v18 = (*(__int64 (__fastcall **)(__int64 *))(*v35 + 0x120))(v35);
    (*(void (__fastcall **)(__int64, _QWORD))(v17 + 0x108))(v16, v18 | 4u);
    (*(void (__fastcall **)(__int64 *))*v35)(v35);
    if ( *(_DWORD *)(v8 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v8 + 0x14);
    }
    else
    {
      v19 = _InterlockedIncrement64((volatile signed __int64 *)v8);
      if ( (v19 & 0x200000) != 0 )
        sub_1403CB300(v8, v19, "CRenderProxy::SetSlotGeometry", "m_SlotsLock", 1);
      v6 = v36;
    }
    v20 = **(_QWORD **)(a1 + 0xE0);
    sub_146AEF560(v20);
    v15 = (__int64)v35;
    sub_146AFCB10(v20, (__int64)v35);
    sub_146AEBE10(a1, v20);
    sub_146B0DF70(a1, v20);
    sub_1402D2790(v8);
    if ( v35 )
      (*(void (__fastcall **)(__int64 *))(*v35 + 8))(v35);
    v35 = 0;
  }
  v21 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3F8LL))(v15, v6);
  if ( !v21 )
  {
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3E8LL))(v15, v6 + 1);
    v21 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3F8LL))(v15, v6);
LABEL_29:
    v22 = (void (__fastcall ***)(__int64))*a3;
    if ( *(_QWORD *)(v21 + 0xA0) != *a3 )
    {
      if ( v22 )
        (**v22)(*a3);
      v23 = *(_QWORD *)(v21 + 0xA0);
      if ( v23 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v23 + 8LL))(v23);
      *(_QWORD *)(v21 + 0xA0) = v22;
    }
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3A8LL))(v15, 0);
LABEL_50:
    LOBYTE(v24) = 1;
    sub_146AD1F20(a1, v24);
    sub_146B0AA80(a1);
    LOBYTE(v32) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
    sub_146ADEB80(a1, v32);
    return v6;
  }
  if ( *(_QWORD *)(v21 + 0xA0) != *a3 )
    goto LABEL_29;
  (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3A8LL))(v15, 0);
  return v6;
}

// --- End Function: sub_146AFC190 (0x146AFC190) ---

// --- Function: sub_146AFC5A0 (0x146AFC5A0) ---
unsigned __int64 __fastcall sub_146AFC5A0(__int64 a1, int a2, _QWORD *a3)
{
  __int64 v4; // rbx
  __int64 v6; // rdi
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  __int64 v9; // rbx
  __int64 v10; // rcx
  __int64 v11; // rcx
  __int64 v12; // rcx
  __int64 *v13; // r14
  __int64 v14; // rax
  __int64 v15; // rcx
  void (__fastcall *v16)(__int64 *, __int64 *); // r15
  __int64 v17; // rcx
  __int64 v19; // [rsp+50h] [rbp+8h] BYREF

  v4 = a2;
  v6 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
      sub_1403CB300(v6, v7, "CRenderProxy::SetSlotMaterial", "m_SlotsLock", 1);
  }
  if ( (int)v4 >= 0 )
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v4 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3) )
    {
      v9 = *(_QWORD *)(v8 + 8 * v4);
      if ( v9 )
      {
        sub_140378610((_QWORD *)(v9 + 0xC0), a3);
        v10 = *(_QWORD *)(v9 + 0x88);
        if ( v10 )
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v10 + 0x128LL))(v10, a3);
        v11 = *(_QWORD *)(v9 + 0x58);
        if ( v11 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v11 + 0x20LL))(v11, *a3);
        v12 = *(_QWORD *)(v9 + 0x90);
        if ( v12 )
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v12 + 0x128LL))(v12, a3);
        v13 = *(__int64 **)(v9 + 0x80);
        if ( v13 )
        {
          v14 = *v13;
          v15 = *a3;
          v19 = v15;
          v16 = *(void (__fastcall **)(__int64 *, __int64 *))(v14 + 0x170);
          if ( v15 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v15 + 8LL))(v15);
          v16(v13, &v19);
        }
        v17 = *(_QWORD *)(v9 + 0x68);
        if ( v17 && (*(_WORD *)(v9 + 0xD8) & 0x100) == 0 )
        {
          if ( *(_QWORD *)(a1 + 0x160) )
            a3 = (_QWORD *)(a1 + 0x160);
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v17 + 0x50LL))(v17, a3);
        }
        sub_146B0DF70(a1, v9);
        sub_146AEBE10(a1, v9);
      }
    }
  }
  return sub_1402D2790(v6);
}

// --- End Function: sub_146AFC5A0 (0x146AFC5A0) ---

// --- Function: sub_146B06670 (0x146B06670) ---
__int64 __fastcall sub_146B06670(__int64 a1)
{
  unsigned __int64 v1; // rdx
  __int64 result; // rax
  int n0x1A; // [rsp+20h] [rbp-28h] BYREF
  __int64 v4; // [rsp+28h] [rbp-20h]
  int v5; // [rsp+30h] [rbp-18h]

  if ( *(_QWORD *)(a1 + 0x4D8) )
  {
    v1 = *(_QWORD *)(a1 + 0x450);
    if ( v1 )
    {
      result = v1 & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)((v1 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v1) )
      {
        v4 = *(_QWORD *)(a1 + 0x4D8);
        v5 = 0;
        n0x1A = 0x1A;
        return sub_146A79440(a1, &n0x1A, 0);
      }
    }
  }
  return result;
}

// --- End Function: sub_146B06670 (0x146B06670) ---

// --- Function: sub_146B073D0 (0x146B073D0) ---
void __fastcall sub_146B073D0(__int64 a1)
{
  unsigned int v2; // ebx
  __int64 v3; // rcx
  __int64 v4; // rax
  __int64 v5; // rax

  if ( (*(_DWORD *)(a1 + 0x1C0) & 0x80u) != 0 )
  {
    v2 = *(_DWORD *)(a1 + 0x1C0) & 0xF;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v3 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v3 = 0;
    v4 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v3 + 0x4F8LL))(v3, v2);
    if ( v4 )
    {
      v5 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x30LL))(v4);
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v5 + 0x50LL))(v5, *(_QWORD *)(a1 + 0x450));
    }
  }
}

// --- End Function: sub_146B073D0 (0x146B073D0) ---

// --- Function: sub_146B0B370 (0x146B0B370) ---
void __fastcall sub_146B0B370(__int64 a1, char a2)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  __int128 v4; // xmm8
  __int128 v5; // xmm9
  __int128 v6; // xmm10
  __int128 v7; // xmm11
  __int128 v8; // xmm12
  __int128 v9; // xmm13
  __int128 v10; // xmm14
  __int128 v11; // xmm15
  unsigned __int64 v13; // rcx
  unsigned __int64 v15; // rcx
  __int64 v16; // rdi
  __int64 v17; // r8
  __int64 v18; // rcx
  __int64 v29; // rcx
  unsigned __int64 v30; // rcx
  __int64 v31; // rsi
  __int64 *v32; // r14
  double *v33; // rax
  double v34; // xmm12_8
  double v35; // xmm13_8
  double v36; // xmm14_8
  double v37; // xmm15_8
  double v38; // xmm5_8
  __int128 v39; // xmm9
  double v40; // xmm11_8
  __int128 v44; // kr00_16
  __int128 v45; // xmm2
  __int64 v51; // rax
  unsigned __int64 v56; // rax
  __int64 v57; // rcx
  __int64 v58; // r8
  unsigned __int64 v59; // rax
  __int64 v60; // rcx
  __int64 v61; // rdx
  unsigned __int64 v62; // rcx
  __int64 v63; // rax
  bool v64; // zf
  __int64 v65; // r9
  unsigned __int64 v66; // rcx
  __int64 v67; // rax
  double v68; // [rsp+30h] [rbp-D0h] BYREF
  double v69; // [rsp+38h] [rbp-C8h]
  double v70; // [rsp+40h] [rbp-C0h]
  double v71; // [rsp+48h] [rbp-B8h]
  __int128 v72; // [rsp+50h] [rbp-B0h]
  double v73; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v74; // [rsp+68h] [rbp-98h]
  int v75; // [rsp+70h] [rbp-90h] BYREF
  __int128 v76; // [rsp+78h] [rbp-88h]
  double v77; // [rsp+88h] [rbp-78h]
  float v78; // [rsp+90h] [rbp-70h]
  float v79; // [rsp+94h] [rbp-6Ch]
  float v80; // [rsp+98h] [rbp-68h]
  float v81; // [rsp+9Ch] [rbp-64h]
  float v82; // [rsp+A0h] [rbp-60h]
  unsigned int v83; // [rsp+A4h] [rbp-5Ch]
  int v84; // [rsp+A8h] [rbp-58h]
  char v85; // [rsp+ACh] [rbp-54h]
  __int64 v86; // [rsp+B0h] [rbp-50h]
  int v87; // [rsp+C0h] [rbp-40h] BYREF
  __int128 v88; // [rsp+C8h] [rbp-38h]
  double v89; // [rsp+D8h] [rbp-28h]
  float v90; // [rsp+E0h] [rbp-20h]
  float v91; // [rsp+E4h] [rbp-1Ch]
  float v92; // [rsp+E8h] [rbp-18h]
  float v93; // [rsp+ECh] [rbp-14h]
  float v94; // [rsp+F0h] [rbp-10h]
  unsigned int v95; // [rsp+F4h] [rbp-Ch]
  int v96; // [rsp+F8h] [rbp-8h]
  char v97; // [rsp+FCh] [rbp-4h]
  __int64 v98; // [rsp+100h] [rbp+0h]
  __int128 v99; // [rsp+110h] [rbp+10h]
  __int128 v100; // [rsp+120h] [rbp+20h]
  __int128 v101; // [rsp+130h] [rbp+30h]
  __int128 v102; // [rsp+140h] [rbp+40h]
  __int128 v103; // [rsp+150h] [rbp+50h]
  __int128 v104; // [rsp+160h] [rbp+60h]
  __int128 v105; // [rsp+170h] [rbp+70h]
  __int128 v106; // [rsp+180h] [rbp+80h]
  __int128 v107; // [rsp+190h] [rbp+90h]
  __int128 v108; // [rsp+1A0h] [rbp+A0h]
  double v109; // [rsp+1E0h] [rbp+E0h] BYREF

  v13 = *(_QWORD *)(a1 + 0x4B8);
  if ( v13 && *(_QWORD *)((v13 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v13) )
  {
    *(_DWORD *)(a1 + 0x1C0) |= 0x80000u;
    sub_1403CF100(a1, 0);
  }
  v15 = *(_QWORD *)(a1 + 0x450);
  v16 = 0;
  if ( v15 && *(_QWORD *)((v15 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v15) && *(_QWORD *)(a1 + 0x4C0) == a1 )
  {
    v75 = 0;
    v83 = 0x80000000;
    v85 = v85 & 0xF0 | 8;
    v84 = 1;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v18 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v18 = 0;
    LOBYTE(v17) = 1;
    sub_146B54040(v18, &v68, v17);
    _XMM3 = *(unsigned __int64 *)&v71;
    _XMM2 = *(unsigned __int64 *)&v70;
    v76 = v72;
    _XMM0 = *(unsigned __int64 *)&v68;
    __asm { vcvtpd2ps xmm0, xmm0 }
    v78 = *(float *)&_XMM0;
    _XMM0 = v74;
    v77 = v73;
    _XMM1 = *(unsigned __int64 *)&v69;
    __asm
    {
      vcvtpd2ps xmm0, xmm0
      vcvtpd2ps xmm3, xmm3
      vcvtpd2ps xmm1, xmm1
      vcvtpd2ps xmm2, xmm2
    }
    v82 = *(float *)&_XMM0;
    v79 = *(float *)&_XMM1;
    v80 = *(float *)&_XMM2;
    v81 = *(float *)&_XMM3;
    if ( sub_14030EC00((unsigned __int64 *)(a1 + 8)) )
      v29 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    else
      v29 = 0;
    v86 = *(_QWORD *)(*(__int64 (__fastcall **)(_QWORD, double *))(**(_QWORD **)(v29 + 0x2B0) + 0x18LL))(
                       *(_QWORD *)(v29 + 0x2B0),
                       &v109);
    if ( v109 != 0.0 )
      sub_140522CF0(*(__int64 *)&v109);
    v84 |= 0x100u;
    sub_146AFA280(a1, (__int64)&v75, 0);
  }
  v30 = *(_QWORD *)(a1 + 0x468);
  if ( v30
    && *(_QWORD *)((*(_QWORD *)(a1 + 0x468) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v30)
    && *(_QWORD *)(a1 + 0x4C0) == a1 )
  {
    v31 = sub_14030EC00((unsigned __int64 *)(a1 + 8)) ? *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL : 0LL;
    v32 = (__int64 *)(*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v31 + 0x2B0) + 8LL))(*(_QWORD *)(v31 + 0x2B0));
    if ( v32 )
    {
      v108 = v2;
      v107 = v3;
      v106 = v4;
      v105 = v5;
      v104 = v6;
      v103 = v7;
      v102 = v8;
      v101 = v9;
      v100 = v10;
      v99 = v11;
      sub_146B54040(v31, &v68, 0);
      v33 = (double *)(*(__int64 (__fastcall **)(__int64, int *, _QWORD, __int64 *))(*(_QWORD *)qword_149B4FBE8 + 0x480LL))(
                        qword_149B4FBE8,
                        &v75,
                        *(_QWORD *)(v31 + 0x2B0),
                        v32);
      v34 = v33[1];
      v35 = *v33;
      v36 = v33[2];
      v37 = v33[3];
      v38 = *(double *)&v72 * v36 - v73 * *v33 + *((double *)&v72 + 1) * v37;
      v39 = COERCE_UNSIGNED_INT64((*((double *)&v72 + 1) * *v33 - *(double *)&v72 * v34 + v73 * v37) * v34 - v38 * v36);
      v40 = v38 * *v33 - (v73 * v34 - *((double *)&v72 + 1) * v36 + *(double *)&v72 * v37) * v34;
      v109 = v70 * v34 - v69 * v36 + v68 * v37 + v71 * *v33;
      _XMM14 = COERCE_UNSIGNED_INT64(v68 * v36 - v70 * v35 + v69 * v37 + v71 * v34);
      _XMM12 = COERCE_UNSIGNED_INT64(v69 * v35 - v68 * v34 + v70 * v37 + v71 * v33[2]);
      _XMM6 = *(unsigned __int64 *)&v109;
      *((_QWORD *)&v44 + 1) = *((_QWORD *)&v39 + 1);
      *(double *)&v44 = *(double *)&v39 + *(double *)&v72 + v33[4];
      v45 = v44;
      *((_QWORD *)&v44 + 1) = 0;
      *(double *)&v44 = v71 * v37 - v68 * v35 - v69 * v33[1] - v70 * v33[2];
      _XMM5 = v44;
      *((_QWORD *)&v44 + 1) = *((_QWORD *)&v45 + 1);
      *(double *)&v44 = *(double *)&v45 + *(double *)&v39;
      _XMM4 = v44;
      __asm { vunpcklpd xmm2, xmm4, xmm3 }
      v73 = v40 + v73 + v33[6] + v40;
      v89 = v73;
      v87 = 0;
      v95 = 0x80000000;
      __asm { vcvtsd2ss xmm0, xmm6, xmm6 }
      v90 = *(float *)&_XMM0;
      _XMM0 = v74;
      v97 = v97 & 0xF0 | 8;
      v51 = *v32;
      v72 = _XMM2;
      v88 = _XMM2;
      __asm
      {
        vcvtpd2ps xmm0, xmm0
        vcvtsd2ss xmm3, xmm5, xmm5
        vcvtsd2ss xmm1, xmm14, xmm14
        vcvtsd2ss xmm2, xmm12, xmm12
      }
      v94 = *(float *)&_XMM0;
      v68 = v109;
      v69 = *(double *)&_XMM14;
      v70 = *(double *)&_XMM12;
      v71 = *(double *)&_XMM5;
      v91 = *(float *)&_XMM1;
      v92 = *(float *)&_XMM2;
      v93 = *(float *)&_XMM3;
      v96 = 1;
      v98 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64 *, double *))(v51 + 0x18))(v32, &v109);
      if ( v109 != 0.0 )
        sub_140522CF0(*(__int64 *)&v109);
      v96 |= 0x300u;
      v56 = *(_QWORD *)(a1 + 0x468);
      if ( v56 )
      {
        v57 = *(_QWORD *)(a1 + 0x468) & 0xFFFFFFFFFFFFLL;
        LOBYTE(v56) = *(_QWORD *)(v57 + 8) == HIWORD(v56);
      }
      else
      {
        v57 = 0;
      }
      v58 = 0;
      if ( (_BYTE)v56 )
        v58 = v57;
      sub_146AFA280(a1, (__int64)&v87, v58);
    }
  }
  if ( a2 )
  {
    v59 = *(_QWORD *)(a1 + 0x468);
    if ( v59 )
    {
      v60 = *(_QWORD *)(a1 + 0x468) & 0xFFFFFFFFFFFFLL;
      LOBYTE(v59) = *(_QWORD *)(v60 + 8) == HIWORD(v59);
    }
    else
    {
      v60 = 0;
    }
    v61 = 0;
    if ( (_BYTE)v59 )
      v61 = v60;
    v62 = *(_QWORD *)(a1 + 0x460);
    if ( v62 )
    {
      v63 = *(_QWORD *)(a1 + 0x460) & 0xFFFFFFFFFFFFLL;
      LOBYTE(v62) = *(_QWORD *)(v63 + 8) == HIWORD(v62);
    }
    else
    {
      v63 = 0;
    }
    v64 = (_BYTE)v62 == 0;
    v65 = 0;
    v66 = *(_QWORD *)(a1 + 0x450);
    if ( !v64 )
      v65 = v63;
    if ( v66 )
    {
      v67 = *(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL;
      LOBYTE(v66) = *(_QWORD *)(v67 + 8) == HIWORD(v66);
    }
    else
    {
      v67 = 0;
    }
    if ( (_BYTE)v66 )
      v16 = v67;
    sub_146B0C8A0(a1, a1, v16, v65, v61);
  }
}

// --- End Function: sub_146B0B370 (0x146B0B370) ---

// --- Function: sub_146B0DDD0 (0x146B0DDD0) ---
__int64 __fastcall sub_146B0DDD0(__int64 a1, int a2, __int64 a3, int n2, int a5, unsigned __int8 a6)
{
  __int64 v7; // rdi
  __int64 v9; // rbx
  signed __int64 v10; // rdx
  __int64 v11; // rcx
  _QWORD *v12; // rdi
  bool v15; // cl
  bool v16; // al
  unsigned __int64 v17; // rax
  __int64 v18; // rdx
  unsigned __int8 v19; // di

  v7 = a2;
  v9 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v9 + 0x14);
  }
  else
  {
    v10 = _InterlockedIncrement64((volatile signed __int64 *)v9);
    if ( (v10 & 0x200000) != 0 )
      sub_1403CB300(v9, v10, "CRenderProxy::UpdateSlotLocalTransform", "m_SlotsLock", 1);
  }
  if ( (int)v7 < 0 )
    goto LABEL_20;
  v11 = *(_QWORD *)(a1 + 0xE0);
  if ( (int)v7 >= (int)((*(_QWORD *)(a1 + 0xE8) - v11) >> 3) )
    goto LABEL_20;
  v12 = *(_QWORD **)(v11 + 8 * v7);
  if ( !v12 )
    goto LABEL_20;
  if ( *v12 )
    goto LABEL_17;
  _XMM0 = *(unsigned int *)(a3 + 0xC) & (unsigned __int128)0x7FFFFFFFu;
  __asm { vminss  xmm0, xmm0, cs:Y; X }
  v15 = acosf(*(float *)&_XMM0) <= 0.001;
  v16 = COERCE_FLOAT(*(_DWORD *)(a3 + 0x10) & 0x7FFFFFFF) <= 0.050000001
     && COERCE_FLOAT(*(_DWORD *)(a3 + 0x14) & 0x7FFFFFFF) <= 0.050000001
     && COERCE_FLOAT(*(_DWORD *)(a3 + 0x18) & 0x7FFFFFFF) <= 0.050000001;
  if ( v15 && v16 && fabs(*(float *)(a3 + 0x1C) - 1.0) <= 0.050000001 )
  {
LABEL_20:
    v19 = 0;
  }
  else
  {
LABEL_17:
    sub_146B0A920(v12, a3);
    v17 = sub_146AB3220(a1);
    sub_146AE2860((__int64)v12, v17, a6);
    if ( (a5 & 0x20000) == 0 )
    {
      LOBYTE(v18) = 1;
      sub_146AD1F20(a1, v18);
    }
    v19 = 1;
  }
  sub_1402D2790(v9);
  return v19;
}

// --- End Function: sub_146B0DDD0 (0x146B0DDD0) ---

// --- Function: sub_146B110B0 (0x146B110B0) ---
__int64 __fastcall sub_146B110B0(
        _QWORD *a1,
        char *Entity:_$$[$$]_Aggregate_Radius:_$$_Entity_Radius:_$$_Pos:_($$, _QWORD *a3, _QWORD *a4, __int64 a5, __int64 a6, __int64 a7, __int64 a8, __int64 a9, __int64 a10, __int64 a11, __int64 a12)
{
  __int64 v13; // r10
  __int64 *v15; // rsi
  __int64 v17; // rdx
  _QWORD *v18; // rdi
  __int64 v19; // r10
  __int64 v20; // rcx
  unsigned __int64 v21; // r9
  __int64 v22; // rbp
  __int64 i; // rbx
  __int64 n0xA; // r9
  unsigned __int64 v25; // rbx
  _QWORD *v26; // rax
  _QWORD *v27; // rcx
  const char *p_null; // rdx
  unsigned __int64 v29; // rax
  __int64 v30; // rax
  int v31; // r9d
  int v32; // r8d
  int v33; // edx
  __int64 v35; // [rsp+20h] [rbp-78h]
  __int64 v36; // [rsp+28h] [rbp-70h]
  __int64 v37; // [rsp+30h] [rbp-68h]
  __int64 v38; // [rsp+38h] [rbp-60h]
  __int64 v39; // [rsp+40h] [rbp-58h]
  _QWORD v40[4]; // [rsp+50h] [rbp-48h] BYREF
  char v41; // [rsp+A0h] [rbp+8h] BYREF

  v13 = a1[4] - a1[3];
  v15 = a1 + 3;
  v40[0] = Entity:_$$[$$]_Aggregate_Radius:_$$_Entity_Radius:_$$_Pos:_($$;
  v40[2] = 0xA;
  v17 = a1[1];
  v40[1] = v13 / 0x70;
  if ( v17 == a1[2] )
  {
    sub_1402A6C80((__int64)a1, (_BYTE *)v17, (__int64)v40);
  }
  else
  {
    *(_QWORD *)v17 = Entity:_$$[$$]_Aggregate_Radius:_$$_Entity_Radius:_$$_Pos:_($$;
    *(_QWORD *)(v17 + 8) = v13 / 0x70;
    *(_QWORD *)(v17 + 0x10) = 0xA;
    a1[1] += 0x18LL;
  }
  v18 = (_QWORD *)v15[1];
  v19 = *v15;
  v20 = (__int64)v18 - *v15;
  v21 = v20 / 0x70 + 0xA;
  if ( v21 >= v20 / 0x70 )
  {
    if ( v21 <= (v15[2] - v19) / 0x70 )
    {
      n0xA = 0xA;
      do
      {
        *v18 = 0;
        v18 += 0xE;
        --n0xA;
      }
      while ( n0xA );
      v15[1] = (__int64)v18;
    }
    else
    {
      sub_1402FDD50(v15, v21, &v41);
    }
  }
  else
  {
    v22 = v19 + 0x70 * v21;
    for ( i = v22; (_QWORD *)i != v18; i += 0x70 )
    {
      if ( *(_BYTE *)(i + 0x58) && *(_QWORD *)i )
        (*(void (**)(void))(i + 0x40))();
    }
    v15[1] = v22;
  }
  v25 = *v15
      + 0x70
      * (((__int64)((unsigned __int128)((v15[1] - *v15) * (__int128)0x4924924924924925LL) >> 0x40) >> 5)
       - 0xA
       + ((unsigned __int64)((unsigned __int128)((v15[1] - *v15) * (__int128)0x4924924924924925LL) >> 0x40) >> 0x3F));
  v26 = (_QWORD *)allocWithProfilerInfo_w(0x18u);
  if ( v26 )
    v27 = sub_14035C4B0(v26, a3);
  else
    v27 = 0;
  *(_QWORD *)v25 = v27;
  *(_QWORD *)(v25 + 8) = "Name";
  p_null = "null";
  *(_BYTE *)(v25 + 0x59) = 0;
  *(_QWORD *)(v25 + 0x10) = *a3;
  *(_QWORD *)(v25 + 0x18) = sub_1403EB580;
  *(_QWORD *)(v25 + 0x20) = sub_1403EB0E0;
  *(_QWORD *)(v25 + 0x30) = sub_1403E7650;
  *(_QWORD *)(v25 + 0x40) = sub_1403E4E80;
  *(_QWORD *)(v25 + 0x48) = sub_1403E4B90;
  *(_QWORD *)(v25 + 0x28) = 0;
  *(_QWORD *)(v25 + 0x38) = 0;
  *(_QWORD *)(v25 + 0x50) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_BYTE *)(v25 + 0x58) = 1;
  *(_QWORD *)(v25 + 0x60) = 0x18;
  if ( v27[1] )
    p_null = (const char *)v27[1];
  v29 = 0xFFFFFFFFFFFFFFFFuLL;
  do
    ++v29;
  while ( p_null[v29] );
  *(_QWORD *)(v25 + 0x68) = v29;
  v30 = allocWithProfilerInfo_w(0x18u);
  if ( v30 )
  {
    *(_QWORD *)(v30 + 8) = *a4;
    *(_QWORD *)v30 = 0;
    *(_BYTE *)(v30 + 0x10) = 0;
  }
  else
  {
    v30 = 0;
  }
  v31 = a7;
  v32 = a6;
  v33 = a5;
  *(_QWORD *)(v25 + 0x70) = v30;
  *(_QWORD *)(v25 + 0x78) = "EntityId";
  *(_QWORD *)(v25 + 0x88) = sub_1403EB550;
  *(_QWORD *)(v25 + 0x90) = sub_1403EAFB0;
  *(_QWORD *)(v25 + 0xA0) = std::error_category::operator==;
  *(_QWORD *)(v25 + 0xB0) = sub_1403E4EB0;
  *(_QWORD *)(v25 + 0xB8) = sub_1403E4C70;
  v39 = a12;
  v38 = a11;
  v37 = a10;
  v36 = a9;
  v35 = a8;
  *(_WORD *)(v25 + 0xC8) = 0x101;
  *(_QWORD *)(v25 + 0x80) = 0;
  *(_QWORD *)(v25 + 0x98) = 0;
  *(_QWORD *)(v25 + 0xA8) = 0;
  *(_QWORD *)(v25 + 0xC0) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_QWORD *)(v25 + 0xD0) = 8;
  *(_QWORD *)(v25 + 0xD8) = 0x17;
  return sub_146B1D2A0((int)v25 + 0xE0, v33, v32, v31, v35, v36, v37, v38, v39);
}

// --- End Function: sub_146B110B0 (0x146B110B0) ---

// --- Function: sub_146B11430 (0x146B11430) ---
__int64 __fastcall sub_146B11430(__int64 a1)
{
  __int64 v1; // rbx
  unsigned __int8 (__fastcall *v2)(__int64, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // [rsp+30h] [rbp+8h] BYREF
  char v6; // [rsp+38h] [rbp+10h] BYREF

  v1 = a1;
  v2 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)a1 + 8LL);
  n0xFFFF = n0xFFFF_33;
  if ( n0xFFFF_33 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v6,
                          "IEntityComponentObjectContainer");
    n0xFFFF_33 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  if ( !v2(v1, &n0xFFFF_1) )
    return 0;
  return v1;
}

// --- End Function: sub_146B11430 (0x146B11430) ---

// --- Function: sub_146B114A0 (0x146B114A0) ---
__int64 __fastcall sub_146B114A0(__int64 a1)
{
  __int64 v1; // rbx
  unsigned __int8 (__fastcall *v2)(__int64, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // [rsp+30h] [rbp+8h] BYREF
  char v6; // [rsp+38h] [rbp+10h] BYREF

  v1 = a1;
  v2 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)a1 + 8LL);
  n0xFFFF = n0xFFFF_48;
  if ( n0xFFFF_48 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v6,
                          "IEntityComponentUIPrimitiveRenderNode");
    n0xFFFF_48 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  if ( !v2(v1, &n0xFFFF_1) )
    return 0;
  return v1;
}

// --- End Function: sub_146B114A0 (0x146B114A0) ---

// --- Function: sub_146B11510 (0x146B11510) ---
__int64 __fastcall sub_146B11510(__int64 a1)
{
  __int64 v1; // rbx
  unsigned __int8 (__fastcall *v2)(__int64, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // [rsp+30h] [rbp+8h] BYREF
  char v6; // [rsp+38h] [rbp+10h] BYREF

  v1 = a1;
  v2 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)a1 + 8LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v6,
                          "IEntityComponentUIRenderToTexture");
    n0xFFFF_49 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  if ( !v2(v1, &n0xFFFF_1) )
    return 0;
  return v1;
}

// --- End Function: sub_146B11510 (0x146B11510) ---

// --- Function: sub_146B11580 (0x146B11580) ---
__int64 __fastcall sub_146B11580(__int64 a1)
{
  __int64 v1; // rbx
  unsigned __int8 (__fastcall *v2)(__int64, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // [rsp+30h] [rbp+8h] BYREF
  char v6; // [rsp+38h] [rbp+10h] BYREF

  v1 = a1;
  v2 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)a1 + 8LL);
  n0xFFFF = n0xFFFF_37;
  if ( n0xFFFF_37 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v6,
                          "RenderProxy");
    n0xFFFF_37 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  if ( !v2(v1, &n0xFFFF_1) )
    return 0;
  return v1;
}

// --- End Function: sub_146B11580 (0x146B11580) ---

// --- Function: sub_146B15A20 (0x146B15A20) ---
__int64 __fastcall sub_146B15A20(__int64 a1, __int64 *a2)
{
  __int64 *v2; // rbx
  __int64 *v4; // rcx
  __int64 result; // rax
  __int64 v7; // rdx
  __int64 v8; // rsi
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // rbp
  unsigned __int64 v11; // r8
  __int64 v12; // r12
  __int64 v13; // r14
  __int64 *v14; // rdx
  __int64 *v15; // r8
  __int64 *v16; // rcx
  __int64 v17; // rsi
  __int64 v18; // rax
  __int64 *v19; // rcx
  __int64 v20; // rdx

  v2 = *(__int64 **)(a1 + 8);
  v4 = *(__int64 **)(a1 + 0x10);
  if ( v2 == v4 )
  {
    v7 = 0x1FFFFFFFFFFFFFFFLL;
    v8 = ((__int64)v2 - *(_QWORD *)a1) >> 3;
    if ( v8 == 0x1FFFFFFFFFFFFFFFLL )
      unknown_libname_10();
    v9 = ((__int64)v4 - *(_QWORD *)a1) >> 3;
    v10 = v8 + 1;
    v11 = v9 >> 1;
    if ( v9 <= 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    {
      v7 = v11 + v9;
      if ( v11 + v9 < v10 )
        v7 = v8 + 1;
    }
    v12 = 8 * v7;
    v13 = sub_140391AB0(a1, 8 * v7);
    *(_QWORD *)(v13 + 8 * v8) = *a2;
    v14 = (__int64 *)v13;
    v15 = *(__int64 **)(a1 + 8);
    v16 = *(__int64 **)a1;
    v17 = v13 + 8 * v8;
    if ( v2 == v15 )
    {
      for ( ; v16 != v15; ++v14 )
      {
        v18 = *v16++;
        *v14 = v18;
      }
    }
    else
    {
      for ( ; v16 != v2; ++v16 )
      {
        *v14++ = *v16;
        *v16 = 0;
      }
      v19 = *(__int64 **)(a1 + 8);
      if ( v2 != v19 )
      {
        v20 = v17 - (_QWORD)v2;
        do
        {
          *(__int64 *)((char *)v2 + v20 + 8) = *v2;
          *v2++ = 0;
        }
        while ( v2 != v19 );
      }
    }
    if ( *(_QWORD *)a1 )
      sub_1403A3120(a1, *(const void **)a1, (*(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1) & 0xFFFFFFFFFFFFFFF8uLL);
    *(_QWORD *)a1 = v13;
    result = v17;
    *(_QWORD *)(a1 + 8) = v13 + 8 * v10;
    *(_QWORD *)(a1 + 0x10) = v12 + v13;
  }
  else
  {
    *v2 = *a2;
    result = *(_QWORD *)(a1 + 8);
    *(_QWORD *)(a1 + 8) = result + 8;
  }
  return result;
}

// --- End Function: sub_146B15A20 (0x146B15A20) ---

// --- Function: sub_146B15D30 (0x146B15D30) ---
__int64 __fastcall sub_146B15D30(__int64 a1, __int64 *a2)
{
  __int64 *v2; // rbx
  __int64 *v4; // rcx
  __int64 result; // rax
  __int64 v7; // rdx
  __int64 v8; // rsi
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // rbp
  unsigned __int64 v11; // r8
  __int64 v12; // r12
  __int64 v13; // rax
  __int64 v14; // r15
  __int64 *v15; // rdx
  __int64 *v16; // r9
  __int64 v17; // rsi
  __int64 *v18; // rcx
  __int64 v19; // rax
  __int64 *v20; // rcx
  __int64 v21; // rdx

  v2 = *(__int64 **)(a1 + 8);
  v4 = *(__int64 **)(a1 + 0x10);
  if ( v2 == v4 )
  {
    v7 = 0x1FFFFFFFFFFFFFFFLL;
    v8 = ((__int64)v2 - *(_QWORD *)a1) >> 3;
    if ( v8 == 0x1FFFFFFFFFFFFFFFLL )
      unknown_libname_10();
    v9 = ((__int64)v4 - *(_QWORD *)a1) >> 3;
    v10 = v8 + 1;
    v11 = v9 >> 1;
    if ( v9 <= 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    {
      v7 = v11 + v9;
      if ( v11 + v9 < v10 )
        v7 = v8 + 1;
    }
    v12 = 8 * v7;
    v13 = sub_140391AB0(a1, 8 * v7);
    *(_QWORD *)(v13 + 8 * v8) = *a2;
    v14 = v13;
    *a2 = 0;
    v15 = (__int64 *)v13;
    v16 = *(__int64 **)(a1 + 8);
    v17 = v13 + 8 * v8;
    v18 = *(__int64 **)a1;
    if ( v2 == v16 )
    {
      for ( ; v18 != v16; ++v15 )
      {
        v19 = *v18++;
        *v15 = v19;
      }
    }
    else
    {
      for ( ; v18 != v2; ++v18 )
      {
        *v15++ = *v18;
        *v18 = 0;
      }
      v20 = *(__int64 **)(a1 + 8);
      if ( v2 != v20 )
      {
        v21 = v17 - (_QWORD)v2;
        do
        {
          *(__int64 *)((char *)v2 + v21 + 8) = *v2;
          *v2++ = 0;
        }
        while ( v2 != v20 );
      }
    }
    if ( *(_QWORD *)a1 )
      sub_1403A3120(a1, *(const void **)a1, (*(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1) & 0xFFFFFFFFFFFFFFF8uLL);
    *(_QWORD *)a1 = v14;
    result = v17;
    *(_QWORD *)(a1 + 8) = v14 + 8 * v10;
    *(_QWORD *)(a1 + 0x10) = v12 + v14;
  }
  else
  {
    *v2 = *a2;
    *a2 = 0;
    result = *(_QWORD *)(a1 + 8);
    *(_QWORD *)(a1 + 8) = result + 8;
  }
  return result;
}

// --- End Function: sub_146B15D30 (0x146B15D30) ---

// --- Function: sub_146B16590 (0x146B16590) ---
__int64 __fastcall sub_146B16590(__int64 *a1, __int64 a2, __int64 a3)
{
  __int64 v6; // rbp
  __int64 v7; // rdx
  unsigned __int64 v8; // r15
  unsigned __int64 v9; // rdx
  unsigned __int64 v10; // rsi
  unsigned __int64 allocSize; // rcx
  unsigned __int64 v12; // rcx
  __int64 v13; // rax
  _DWORD *v14; // rbx
  __int64 v15; // rbp
  int *v16; // r8
  int *v17; // r10
  _DWORD *v18; // rcx
  _DWORD *v19; // rdx
  int v20; // eax
  __int64 v21; // rax
  const void *v22; // r8
  __int64 result; // rax

  v6 = (a2 - *a1) / 0x88;
  v7 = (a1[1] - *a1) / 0x88;
  if ( v7 == 0x1E1E1E1E1E1E1E1LL )
    unknown_libname_10();
  v8 = v7 + 1;
  v9 = (a1[2] - *a1) / 0x88;
  if ( v9 <= 0x1E1E1E1E1E1E1E1LL - (v9 >> 1) )
  {
    v12 = v8;
    if ( (v9 >> 1) + v9 >= v8 )
      v12 = (v9 >> 1) + v9;
    if ( v12 > 0x1E1E1E1E1E1E1E1LL )
      goto LABEL_28;
    v10 = 0x88 * v12;
    if ( 0x88 * v12 < 0x1000 )
    {
      if ( v10 )
        v14 = (_DWORD *)allocWithProfilerInfo_w(0x88 * v12);
      else
        v14 = 0;
      goto LABEL_14;
    }
    allocSize = v10 + 0x27;
    if ( v10 + 0x27 < v10 )
LABEL_28:
      sub_1402E1170();
  }
  else
  {
    v10 = 0xFFFFFFFFFFFFFF88uLL;
    allocSize = 0xFFFFFFFFFFFFFFAFuLL;
  }
  v13 = allocWithProfilerInfo_w(allocSize);
  if ( !v13 )
    goto LABEL_26;
  v14 = (_DWORD *)((v13 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
  *((_QWORD *)v14 + 0xFFFFFFFF) = v13;
LABEL_14:
  v15 = (__int64)&v14[0x22 * v6];
  sub_146B1EC60((__int64)a1, v15, a3);
  v16 = (int *)a1[1];
  v17 = (int *)*a1;
  if ( (int *)a2 == v16 )
  {
    if ( v17 != v16 )
    {
      v18 = v14 + 0x14;
      v19 = v17 + 0x14;
      do
      {
        v20 = *v17;
        v17 += 0x22;
        v18[0xFFFFFFEC] = v20;
        v18 += 0x22;
        v21 = *((_QWORD *)v19 + 0xFFFFFFF7);
        v19 += 0x22;
        *((_QWORD *)v18 + 0xFFFFFFE6) = v21;
        *(_OWORD *)(v18 + 0xFFFFFFCE) = *(_OWORD *)(v19 + 0xFFFFFFCE);
        *((_QWORD *)v18 + 0xFFFFFFE9) = *((_QWORD *)v19 + 0xFFFFFFE9);
        *((_OWORD *)v18 + 0xFFFFFFF5) = *((_OWORD *)v19 + 0xFFFFFFF5);
        *((double *)v18 + 0xFFFFFFEC) = *((double *)v19 + 0xFFFFFFEC);
        *((double *)v18 + 0xFFFFFFED) = *((double *)v19 + 0xFFFFFFED);
        v18[0xFFFFFFDC] = v19[0xFFFFFFDC];
        v18[0xFFFFFFE0] = v19[0xFFFFFFE0];
        v18[0xFFFFFFDD] = v19[0xFFFFFFDD];
        v18[0xFFFFFFDE] = v19[0xFFFFFFDE];
        v18[0xFFFFFFDF] = v19[0xFFFFFFDF];
        *(_OWORD *)(v18 + 0xFFFFFFE2) = *(_OWORD *)(v19 + 0xFFFFFFE2);
        *((double *)v18 + 0xFFFFFFF3) = *((double *)v19 + 0xFFFFFFF3);
        v18[0xFFFFFFE8] = v19[0xFFFFFFE8];
        v18[0xFFFFFFE9] = v19[0xFFFFFFE9];
        *((_BYTE *)v18 + 0xFFFFFFA8) = *((_BYTE *)v19 + 0xFFFFFFA8);
      }
      while ( v17 != v16 );
    }
  }
  else
  {
    sub_146B1C080(*a1, a2, v14);
    sub_146B1C080(a2, a1[1], (_DWORD *)(v15 + 0x88));
  }
  v22 = (const void *)*a1;
  if ( *a1 )
  {
    if ( (unsigned __int64)(0x88 * ((a1[2] - (__int64)v22) / 0x88)) < 0x1000 )
    {
LABEL_24:
      sub_1402A3D30(v22);
      goto LABEL_25;
    }
    if ( (unsigned __int64)v22 - *((_QWORD *)v22 + 0xFFFFFFFF) - 8 <= 0x1F )
    {
      v22 = (const void *)*((_QWORD *)v22 + 0xFFFFFFFF);
      goto LABEL_24;
    }
LABEL_26:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_25:
  *a1 = (__int64)v14;
  result = v15;
  a1[1] = (__int64)&v14[0x22 * v8];
  a1[2] = (__int64)&v14[v10 / 4];
  return result;
}

// --- End Function: sub_146B16590 (0x146B16590) ---

// --- Function: sub_146B173C0 (0x146B173C0) ---
char *__fastcall sub_146B173C0(unsigned __int64 *a1, char *a2, _QWORD *a3)
{
  char *v3; // rbx
  __int64 v5; // rbp
  __int64 v6; // rax
  unsigned __int64 v8; // r12
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // rdx
  unsigned __int64 v11; // r14
  unsigned __int64 allocSize; // r14
  __int64 v13; // rax
  unsigned __int64 v14; // rdi
  char *v15; // rbp
  _QWORD *v16; // rdx
  char *v17; // r8
  char *v18; // rax
  __int64 v19; // rcx
  char *v20; // rcx
  signed __int64 v21; // rdx
  _QWORD *v22; // rcx
  char *result; // rax

  v3 = a2;
  v5 = (__int64)&a2[-*a1] >> 3;
  v6 = (__int64)(a1[1] - *a1) >> 3;
  if ( v6 == 0x1FFFFFFFFFFFFFFFLL )
    unknown_libname_10();
  v8 = v6 + 1;
  v9 = (__int64)(a1[2] - *a1) >> 3;
  v10 = v9 >> 1;
  if ( v9 > 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    goto LABEL_30;
  v11 = v6 + 1;
  if ( v10 + v9 >= v8 )
    v11 = v10 + v9;
  if ( v11 > 0x1FFFFFFFFFFFFFFFLL )
    goto LABEL_30;
  allocSize = 8 * v11;
  if ( allocSize < 0x1000 )
  {
    if ( allocSize )
      v14 = allocWithProfilerInfo_w(allocSize);
    else
      v14 = 0;
    goto LABEL_13;
  }
  if ( allocSize + 0x27 < allocSize )
LABEL_30:
    sub_1402E1170();
  v13 = allocWithProfilerInfo_w(allocSize + 0x27);
  if ( !v13 )
    goto LABEL_28;
  v14 = (v13 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL;
  *(_QWORD *)(v14 - 8) = v13;
LABEL_13:
  v15 = (char *)(v14 + 8 * v5);
  *(_QWORD *)v15 = *a3;
  v16 = (_QWORD *)v14;
  *a3 = 0;
  v17 = (char *)a1[1];
  v18 = (char *)*a1;
  if ( v3 == v17 )
  {
    for ( ; v18 != v17; ++v16 )
    {
      v19 = *(_QWORD *)v18;
      v18 += 8;
      *v16 = v19;
    }
  }
  else
  {
    for ( ; v18 != v3; v18 += 8 )
    {
      *v16++ = *(_QWORD *)v18;
      *(_QWORD *)v18 = 0;
    }
    v20 = (char *)a1[1];
    if ( v3 != v20 )
    {
      v21 = v15 - v3;
      do
      {
        *(_QWORD *)&v3[v21 + 8] = *(_QWORD *)v3;
        *(_QWORD *)v3 = 0;
        v3 += 8;
      }
      while ( v3 != v20 );
    }
  }
  v22 = (_QWORD *)*a1;
  if ( *a1 )
  {
    if ( ((a1[2] - (_QWORD)v22) & 0xFFFFFFFFFFFFFFF8uLL) < 0x1000 )
    {
LABEL_26:
      sub_1402A3D30(v22);
      goto LABEL_27;
    }
    if ( (unsigned __int64)v22 - v22[0xFFFFFFFF] - 8 <= 0x1F )
    {
      v22 = (_QWORD *)v22[0xFFFFFFFF];
      goto LABEL_26;
    }
LABEL_28:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_27:
  result = v15;
  *a1 = v14;
  a1[1] = v14 + 8 * v8;
  a1[2] = allocSize + v14;
  return result;
}

// --- End Function: sub_146B173C0 (0x146B173C0) ---

// --- Function: sub_146B1C740 (0x146B1C740) ---
char __fastcall sub_146B1C740(
        unsigned int n3,
        __int64 *a2,
        char *p_Entities_that_cannot_be_replicated_must_not_change_parent_(exce, char *a4, __int64 a5, int a6, _QWORD *a7, __int64 a8, __int64 *ThreadLogContextSlot, __int64 a10, __int64 a11, __int64 a12, __int64 a13, __int64 a14)
{
  void *v18; // rsp
  __int64 v20; // [rsp+18h] [rbp-2B8h]
  _BYTE __Val_0___[592]; // [rsp+30h] [rbp-2A0h] BYREF

  v18 = alloca(0x2A0);
  sub_146B1DB70((unsigned int)__Val_0___, (_DWORD)ThreadLogContextSlot, a10, a11, a12, a13, a14);
  LODWORD(v20) = a6;
  return sub_1403045C0(
           n3,
           a2,
           p_Entities_that_cannot_be_replicated_must_not_change_parent_(exce,
           a4,
           (vraudio::AudioBuffer *)__Val_0___,
           6u,
           a5,
           v20,
           a7,
           a8);
}

// --- End Function: sub_146B1C740 (0x146B1C740) ---

// --- Function: sub_146B1C830 (0x146B1C830) ---
char __fastcall sub_146B1C830(
        unsigned int n2,
        __int64 *a2,
        char *p_Attaching_to_an_already_removing_owner___will_crash_later,
        char *p_Attaching_$$_to_an_already_removing_owner_($$)._reason_($$),
        __int64 a5,
        int a6,
        _QWORD *a7,
        __int64 a8,
        __int64 *ThreadLogContextSlot,
        _QWORD *a10,
        _QWORD *a11,
        _QWORD *a12)
{
  void *v15; // rsp
  const char *p_null; // r8
  const char *p_null_1; // rdx
  unsigned __int64 v18; // rcx
  unsigned __int64 v19; // rcx
  __int64 v21; // [rsp+18h] [rbp-1D8h]
  _QWORD __Val_0___[11]; // [rsp+30h] [rbp-1C0h] BYREF
  __int16 n0x100; // [rsp+88h] [rbp-168h]
  __int64 n0xB0; // [rsp+90h] [rbp-160h]
  __int64 n0xA8; // [rsp+98h] [rbp-158h]
  _QWORD *v26; // [rsp+A0h] [rbp-150h]
  const char *p_Name; // [rsp+A8h] [rbp-148h]
  __int64 v28; // [rsp+B0h] [rbp-140h]
  __int64 (__fastcall *p_sub_1403EB580)(__int64, _BYTE *, size_t, __int64, char); // [rsp+B8h] [rbp-138h]
  __int64 (__fastcall *p_sub_1403EB0E0)(__int64, _BYTE *, int); // [rsp+C0h] [rbp-130h]
  __int64 v31; // [rsp+C8h] [rbp-128h]
  bool (__fastcall *p_sub_1403E7650)(__int64, __int64); // [rsp+D0h] [rbp-120h]
  __int64 v33; // [rsp+D8h] [rbp-118h]
  __int64 (__fastcall *p_sub_1403E4E80)(const void **); // [rsp+E0h] [rbp-110h]
  _QWORD *(__fastcall *p_sub_1403E4B90)(_QWORD *); // [rsp+E8h] [rbp-108h]
  unsigned __int64 v36; // [rsp+F0h] [rbp-100h]
  char v37; // [rsp+F8h] [rbp-F8h]
  char v38; // [rsp+F9h] [rbp-F7h]
  __int64 n0x18; // [rsp+100h] [rbp-F0h]
  unsigned __int64 v40; // [rsp+108h] [rbp-E8h]
  _QWORD *v41; // [rsp+110h] [rbp-E0h]
  const char *p_Name_1; // [rsp+118h] [rbp-D8h]
  __int64 v43; // [rsp+120h] [rbp-D0h]
  __int64 (__fastcall *p_sub_1403EB580_1)(__int64, _BYTE *, size_t, __int64, char); // [rsp+128h] [rbp-C8h]
  __int64 (__fastcall *p_sub_1403EB0E0_1)(__int64, _BYTE *, int); // [rsp+130h] [rbp-C0h]
  __int64 v46; // [rsp+138h] [rbp-B8h]
  bool (__fastcall *p_sub_1403E7650_1)(__int64, __int64); // [rsp+140h] [rbp-B0h]
  __int64 v48; // [rsp+148h] [rbp-A8h]
  __int64 (__fastcall *p_sub_1403E4E80_1)(const void **); // [rsp+150h] [rbp-A0h]
  _QWORD *(__fastcall *p_sub_1403E4B90_1)(_QWORD *); // [rsp+158h] [rbp-98h]
  unsigned __int64 v51; // [rsp+160h] [rbp-90h]
  char v52; // [rsp+168h] [rbp-88h]
  char v53; // [rsp+169h] [rbp-87h]
  __int64 n0x18_1; // [rsp+170h] [rbp-80h]
  unsigned __int64 v55; // [rsp+178h] [rbp-78h]
  _QWORD *v56; // [rsp+180h] [rbp-70h]
  const char *p_Number; // [rsp+188h] [rbp-68h]
  __int64 v58; // [rsp+190h] [rbp-60h]
  __int64 (__fastcall *p_sub_1403EB110)(__int64, __int64, __int64); // [rsp+198h] [rbp-58h]
  __int64 (__fastcall *p_sub_1403EB110_1)(__int64, __int64, __int64); // [rsp+1A0h] [rbp-50h]
  __int64 v61; // [rsp+1A8h] [rbp-48h]
  bool (__fastcall *p_??8error_category@std@@QEBA_NAEBV01@@Z)(__int64, __int64); // [rsp+1B0h] [rbp-40h]
  __int64 v63; // [rsp+1B8h] [rbp-38h]
  __int64 (__fastcall *p_sub_1403E4E70)(__int64); // [rsp+1C0h] [rbp-30h]
  _OWORD *(__fastcall *p_sub_1403E4B60)(_OWORD *); // [rsp+1C8h] [rbp-28h]
  unsigned __int64 v66; // [rsp+1D0h] [rbp-20h]
  char v67; // [rsp+1D8h] [rbp-18h]
  char v68; // [rsp+1D9h] [rbp-17h]
  __int64 n0x10; // [rsp+1E0h] [rbp-10h]
  __int64 n0x15; // [rsp+1E8h] [rbp-8h]

  v15 = alloca(0x1C0);
  __Val_0___[1] = "TraceContext";
  v26 = a10;
  __Val_0___[3] = sub_1403EB6A0;
  __Val_0___[0] = ThreadLogContextSlot;
  __Val_0___[4] = sub_1403EB240;
  n0x100 = 0x100;
  __Val_0___[6] = sub_1403E77F0;
  __Val_0___[2] = 0;
  __Val_0___[8] = sub_1403E4E60;
  __Val_0___[5] = 0;
  __Val_0___[9] = allocWithProfilerInfo_ww;
  p_null = "null";
  __Val_0___[7] = 0;
  __Val_0___[0xA] = 0xFFFFFFFFFFFFFFFFuLL;
  n0xB0 = 0xB0;
  n0xA8 = 0xA8;
  p_Name = "Name";
  v38 = 0;
  v28 = *a10;
  p_sub_1403E4B90 = sub_1403E4B90;
  p_sub_1403EB580 = sub_1403EB580;
  p_sub_1403EB0E0 = sub_1403EB0E0;
  v31 = 0;
  p_sub_1403E7650 = sub_1403E7650;
  v33 = 0;
  p_sub_1403E4E80 = sub_1403E4E80;
  v36 = 0xFFFFFFFFFFFFFFFFuLL;
  v37 = 0;
  n0x18 = 0x18;
  p_null_1 = "null";
  if ( a10[1] )
    p_null_1 = (const char *)a10[1];
  v18 = 0xFFFFFFFFFFFFFFFFuLL;
  do
    ++v18;
  while ( p_null_1[v18] );
  v40 = v18;
  v41 = a11;
  p_Name_1 = "Name";
  v53 = 0;
  v43 = *a11;
  p_sub_1403E4B90_1 = sub_1403E4B90;
  p_sub_1403EB580_1 = sub_1403EB580;
  p_sub_1403EB0E0_1 = sub_1403EB0E0;
  v46 = 0;
  p_sub_1403E7650_1 = sub_1403E7650;
  v48 = 0;
  p_sub_1403E4E80_1 = sub_1403E4E80;
  v51 = 0xFFFFFFFFFFFFFFFFuLL;
  v52 = 0;
  n0x18_1 = 0x18;
  if ( a11[1] )
    p_null = (const char *)a11[1];
  v19 = 0xFFFFFFFFFFFFFFFFuLL;
  do
    ++v19;
  while ( p_null[v19] );
  v55 = v19;
  v56 = a12;
  p_Number = "Number";
  v68 = 0;
  v58 = *a12;
  p_sub_1403EB110 = sub_1403EB110;
  p_sub_1403EB110_1 = sub_1403EB110;
  p_??8error_category@std@@QEBA_NAEBV01@@Z = std::error_category::operator==;
  p_sub_1403E4E70 = sub_1403E4E70;
  p_sub_1403E4B60 = sub_1403E4B60;
  LODWORD(v21) = a6;
  v61 = 0;
  v63 = 0;
  v66 = 0xFFFFFFFFFFFFFFFFuLL;
  v67 = 0;
  n0x10 = 0x10;
  n0x15 = 0x15;
  return sub_1403045C0(
           n2,
           a2,
           p_Attaching_to_an_already_removing_owner___will_crash_later,
           p_Attaching_$$_to_an_already_removing_owner_($$)._reason_($$),
           (vraudio::AudioBuffer *)__Val_0___,
           4u,
           a5,
           v21,
           a7,
           a8);
}

// --- End Function: sub_146B1C830 (0x146B1C830) ---

// --- Function: sub_146B1CF90 (0x146B1CF90) ---
char __fastcall sub_146B1CF90(
        unsigned int n4,
        __int64 *p_p_n210,
        char *p_GetEntityFromID_CrossBatchAccess,
        char *p_GetEntityFromID_CrossBatchAccess:_Entity_%llu_(%s)_is_a_streama,
        __int64 a5,
        int a6,
        _QWORD *a7,
        __int64 a8,
        __int64 *ThreadLogContextSlot,
        __int64 a10,
        const char **a11)
{
  void *v15; // rsp
  __int64 v17; // [rsp+18h] [rbp-168h]
  _QWORD __Val_0___[11]; // [rsp+30h] [rbp-150h] BYREF
  __int16 n0x100; // [rsp+88h] [rbp-F8h]
  __int64 n0xB0; // [rsp+90h] [rbp-F0h]
  __int64 n0xA8; // [rsp+98h] [rbp-E8h]
  __int64 v22; // [rsp+A0h] [rbp-E0h] BYREF

  v15 = alloca(0x150);
  __Val_0___[0] = ThreadLogContextSlot;
  __Val_0___[1] = "TraceContext";
  __Val_0___[3] = sub_1403EB6A0;
  __Val_0___[4] = sub_1403EB240;
  __Val_0___[6] = sub_1403E77F0;
  __Val_0___[8] = sub_1403E4E60;
  __Val_0___[2] = 0;
  __Val_0___[5] = 0;
  __Val_0___[7] = 0;
  __Val_0___[9] = allocWithProfilerInfo_ww;
  n0x100 = 0x100;
  __Val_0___[0xA] = 0xFFFFFFFFFFFFFFFFuLL;
  n0xB0 = 0xB0;
  n0xA8 = 0xA8;
  sub_140B57CC0((__int64)&v22, a10, a11);
  LODWORD(v17) = a6;
  return sub_1403045C0(
           n4,
           p_p_n210,
           p_GetEntityFromID_CrossBatchAccess,
           p_GetEntityFromID_CrossBatchAccess:_Entity_%llu_(%s)_is_a_streama,
           (vraudio::AudioBuffer *)__Val_0___,
           3u,
           a5,
           v17,
           a7,
           a8);
}

// --- End Function: sub_146B1CF90 (0x146B1CF90) ---

// --- Function: sub_146B1FE50 (0x146B1FE50) ---
unsigned __int64 __fastcall sub_146B1FE50(unsigned __int64 a1, __int64 a2)
{
  int v4; // eax
  _QWORD *v5; // rax
  __int64 n0xE; // rcx
  unsigned __int64 v7; // rbx
  unsigned __int64 v8; // rcx
  char v9; // dl
  unsigned __int16 v10; // ax
  __int64 v11; // rdx
  int v12; // eax
  char v13; // r8
  unsigned __int64 v14; // rcx
  unsigned __int64 v15; // rdx
  unsigned __int16 v16; // ax
  char v17; // r8
  unsigned __int16 v18; // ax
  __int64 v19; // rax
  _DWORD v21[2]; // [rsp+30h] [rbp-68h] BYREF
  __int64 v22; // [rsp+38h] [rbp-60h]
  unsigned __int64 v23; // [rsp+40h] [rbp-58h]
  unsigned __int64 v24; // [rsp+48h] [rbp-50h]
  __int64 v25; // [rsp+50h] [rbp-48h]
  __int64 v26; // [rsp+58h] [rbp-40h]

  *(_DWORD *)(a1 + 8) &= 0xFFFFC000;
  *(_QWORD *)a1 = &CEntityVtbl;
  *(_WORD *)(a1 + 0xC) = 1;
  *(_QWORD *)(a1 + 0x10) = *(_QWORD *)(a2 + 0x40);
  *(_QWORD *)(a1 + 0x18) = *(_QWORD *)(a2 + 0xC8);
  *(_QWORD *)(a1 + 0x20) = *(_QWORD *)a2;
  v4 = dword_149B4FDFC;
  *(_QWORD *)(a1 + 0xC0) = 0;
  *(_QWORD *)(a1 + 0xC8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_DWORD *)(a1 + 0xD0) = 0xFFFFFFFF;
  *(_DWORD *)(a1 + 0xD4) = 0;
  *(_DWORD *)(a1 + 0xB4) = v4;
  *(_BYTE *)(a1 + 0xB8) = 0;
  *(_DWORD *)(a1 + 0x118) = *(_DWORD *)(a2 + 0xC0);
  *(_QWORD *)(a1 + 0x11C) = 0;
  *(_DWORD *)(a1 + 0x124) = 0xFFFFFFFF;
  *(_WORD *)(a1 + 0x128) = 0;
  *(_BYTE *)(a1 + 0x12A) = 0;
  *(_QWORD *)(a1 + 0x130) = 0;
  *(_QWORD *)(a1 + 0x138) = 0;
  *(_QWORD *)(a1 + 0x240) = 0;
  *(_QWORD *)(a1 + 0x248) = 0;
  *(_QWORD *)(a1 + 0x250) = 0;
  *(_QWORD *)(a1 + 0x258) = 0;
  *(_QWORD *)(a1 + 0x260) = 0;
  *(_QWORD *)(a1 + 0x268) = 0;
  *(_QWORD *)(a1 + 0x270) = 0;
  *(_QWORD *)(a1 + 0x278) = 0;
  *(_QWORD *)(a1 + 0x280) = 0;
  *(_QWORD *)(a1 + 0x288) = 0;
  *(_QWORD *)(a1 + 0x290) = 0;
  CreateStringObjectFromString((void **)(a1 + 0x298), *(const char **)(a2 + 0xB8));
  *(_QWORD *)(a1 + 0x2A0) = 0;
  v5 = (_QWORD *)(a1 + 0x370);
  *(_DWORD *)(a1 + 0x2A8) = 0xFFFFFFFF;
  n0xE = 0xE;
  *(_QWORD *)(a1 + 0x300) = 0;
  *(_QWORD *)(a1 + 0x308) = 0;
  *(_QWORD *)(a1 + 0x310) = 0;
  *(_QWORD *)(a1 + 0x318) = 0;
  *(_QWORD *)(a1 + 0x320) = 0;
  *(_QWORD *)(a1 + 0x328) = 0;
  *(_QWORD *)(a1 + 0x330) = 0;
  *(_QWORD *)(a1 + 0x338) = 0;
  *(_QWORD *)(a1 + 0x340) = 0;
  *(_QWORD *)(a1 + 0x348) = 0;
  *(_QWORD *)(a1 + 0x350) = 0;
  *(_QWORD *)(a1 + 0x358) = 0;
  *(_QWORD *)(a1 + 0x360) = 0;
  *(_QWORD *)(a1 + 0x368) = 0;
  *(_QWORD *)(a1 + 0x2B0) = 0;
  *(_DWORD *)(a1 + 0x2B8) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0x2C0) = 0;
  *(_DWORD *)(a1 + 0x2C8) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0x2D0) = a2;
  *(_QWORD *)(a1 + 0x2E0) = 0;
  *(_DWORD *)(a1 + 0x2E8) = 0xFFFFFFFF;
  *(_WORD *)(a1 + 0x2EC) = 0xFFFF;
  *(_QWORD *)(a1 + 0x2F0) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(a1 + 0x2F8) = 0xFFFFFFFF;
  do
  {
    *v5 = 0xFFFFFFFFFFFFFFFFuLL;
    v5[1] = 0;
    v5[2] = 0;
    v5 += 3;
    --n0xE;
  }
  while ( n0xE );
  *(_QWORD *)(a1 + 0x4C0) = 0;
  *(_QWORD *)(a1 + 0x4C8) = 0;
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v8 = a1 - 6;
    v9 = 0;
    v7 = a1 - 6;
  }
  else
  {
    v7 = a1 - 6;
    v8 = a1 & 0xFFFFFFFFFF000000uLL;
    v9 = 1;
  }
  v10 = *(_WORD *)(v8 + 2) | 0x2000;
  if ( !v9 )
    v10 = *(_WORD *)(v8 + 2);
  *(_QWORD *)(a1 + 0x4C8) = a1 | ((unsigned __int64)v10 << 0x30);
  *(_QWORD *)(a1 + 0x4D8) = 0;
  *(_WORD *)(a1 + 0x4D0) = 0;
  *(_DWORD *)(a1 + 0x4D4) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0x4E0) = 0;
  *(_QWORD *)(a1 + 0x4E8) = 0;
  *(_QWORD *)(a1 + 0x4F0) = 0;
  v11 = *(_QWORD *)(a1 + 0x298);
  *(_DWORD *)(a1 + 0x4F8) = 0;
  *(_QWORD *)(a1 + 0x500) = 0;
  *(_QWORD *)(a1 + 0x508) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_QWORD *)(a1 + 0x510) = 0;
  *(_QWORD *)(a1 + 0x518) = 0;
  *(_QWORD *)(a1 + 0x520) = 0;
  v12 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FD40 + 0xF8LL))(qword_149B4FD40, v11);
  *(_DWORD *)(a1 + 0x2D8) = v12;
  v21[0] = 0xF00;
  v22 = 0;
  v24 = 0;
  v25 = 0;
  v26 = 0;
  v21[1] = v12;
  v23 = __rdtsc();
  qword_149B4B870(
    v21,
    &word_1515B1B64,
    "CEntity::CEntity",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x74);
  HIWORD(v21[0]) = word_1515B1B64;
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v13 = 0;
    v15 = a1 & 0xFFFFFFFFFF000000uLL;
    v14 = v7;
  }
  else
  {
    v13 = 1;
    v14 = a1 & 0xFFFFFFFFFF000000uLL;
    v15 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v16 = *(_WORD *)(v14 + 2) | 0x2000;
  if ( !v13 )
    v16 = *(_WORD *)(v14 + 2);
  *(_QWORD *)(a1 + 0x320) = a1 | ((unsigned __int64)v16 << 0x30);
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v17 = 0;
    v15 = v7;
  }
  else
  {
    v17 = 1;
  }
  v18 = *(_WORD *)(v15 + 2) | 0x2000;
  if ( !v17 )
    v18 = *(_WORD *)(v15 + 2);
  *(_QWORD *)(a1 + 0x328) = a1 | ((unsigned __int64)v18 << 0x30);
  memset((void *)(a1 + 0x140), 0, 0x100u);
  v19 = allocWithProfilerInfo_w(0xC8u);
  if ( v19 )
  {
    *(_DWORD *)v19 = 0;
    *(_QWORD *)(v19 + 0xA0) = 0x3FF0000000000000LL;
    *(_QWORD *)(v19 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    *(_DWORD *)(v19 + 0x10) = 0xFFFFFFFF;
    *(_DWORD *)(v19 + 0x14) = 0;
    *(_QWORD *)(v19 + 0x18) = 0;
    *(_QWORD *)(v19 + 0x20) = 0;
    *(_DWORD *)(v19 + 0x28) = 0xFFFFFFFE;
    *(_DWORD *)(v19 + 0x2C) = 0xFFFFFFFE;
    *(_QWORD *)(v19 + 0x30) = 0;
    *(_QWORD *)(v19 + 0x38) = 0;
    *(_QWORD *)(v19 + 0x40) = 0xFFFFFFFFFFFFFFFFuLL;
    *(_DWORD *)(v19 + 0x48) = 0xFFFFFFFF;
    *(_DWORD *)(v19 + 0x4C) = 0;
    *(_QWORD *)(v19 + 0x50) = 0;
    *(_BYTE *)(v19 + 0x58) = 0;
    *(_QWORD *)(v19 + 0x60) = 0;
    *(_QWORD *)(v19 + 0x68) = 0;
    *(_QWORD *)(v19 + 0x70) = 0;
    *(_QWORD *)(v19 + 0x78) = 0;
    *(_QWORD *)(v19 + 0x80) = 0;
    *(_QWORD *)(v19 + 0x88) = 0;
    *(_DWORD *)(v19 + 0x90) = 0;
    *(_BYTE *)(v19 + 0x94) = 0;
    *(_QWORD *)(v19 + 0x98) = 0;
    *(_QWORD *)(v19 + 0xA8) = 0;
    *(_QWORD *)(v19 + 0xB0) = 0;
    *(_QWORD *)(v19 + 0xB8) = 0;
    *(_QWORD *)(v19 + 0xC0) = 0;
  }
  else
  {
    v19 = 0;
  }
  *(_QWORD *)(a1 + 0x330) = v19;
  (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
  _StarEngineModule__(a1 + 0xC0);
  v24 = __rdtsc();
  qword_149B4B878(v21);
  return a1;
}

// --- End Function: sub_146B1FE50 (0x146B1FE50) ---

// --- Function: sub_146B223F0 (0x146B223F0) ---
void __fastcall sub_146B223F0(const void **a1)
{
  _QWORD *v1; // rbx
  _QWORD *v2; // rcx

  v1 = *a1;
  if ( *a1 )
  {
    v2 = (_QWORD *)*v1;
    if ( *v1 )
    {
      if ( ((v1[2] - (_QWORD)v2) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
      {
        if ( (unsigned __int64)v2 - v2[0xFFFFFFFF] - 8 > 0x1F )
          invalid_parameter_noinfo_noreturn();
        v2 = (_QWORD *)v2[0xFFFFFFFF];
      }
      sub_1402A3D30(v2);
      *v1 = 0;
      v1[1] = 0;
      v1[2] = 0;
    }
    sub_1402A3D30(v1);
  }
}

// --- End Function: sub_146B223F0 (0x146B223F0) ---

// --- Function: sub_146B22590 (0x146B22590) ---
__int64 __fastcall sub_146B22590(__int64 a1)
{
  _QWORD *v2; // rcx
  __int64 result; // rax

  v2 = *(_QWORD **)a1;
  if ( v2 )
  {
    if ( (unsigned __int64)(0x88 * ((*(_QWORD *)(a1 + 0x10) - (_QWORD)v2) / 0x88LL)) >= 0x1000 )
    {
      if ( (unsigned __int64)v2 - v2[0xFFFFFFFF] - 8 > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v2 = (_QWORD *)v2[0xFFFFFFFF];
    }
    sub_1402A3D30(v2);
    result = 0;
    *(_QWORD *)a1 = 0;
    *(_QWORD *)(a1 + 8) = 0;
    *(_QWORD *)(a1 + 0x10) = 0;
  }
  return result;
}

// --- End Function: sub_146B22590 (0x146B22590) ---

// --- Function: sub_146B22610 (0x146B22610) ---
__int64 (__fastcall **__fastcall sub_146B22610(__int64 a1))()
{
  __int64 v1; // rdi
  _QWORD *v3; // rdi
  __int64 n0xE; // rsi
  __int64 v5; // rcx
  const void *v6; // rcx
  _QWORD *v7; // rcx
  _QWORD *v8; // rcx
  _QWORD *v9; // rcx
  _QWORD *v10; // rcx
  _QWORD *v11; // rcx
  __int64 v12; // rcx

  v1 = *(_QWORD *)(a1 + 0x330);
  *(_QWORD *)a1 = &CEntityVtbl;
  if ( v1 )
  {
    std::vector<gte::Vector<3,double>>::_Tidy((std::vector<gte::Vector<3,double>> *)(v1 + 0x78));
    std::vector<gte::Vector<3,double>>::_Tidy((std::vector<gte::Vector<3,double>> *)(v1 + 0x60));
    sub_1402A3D30((const void *)v1);
  }
  (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FD40 + 0x100LL))(
    qword_149B4FD40,
    *(unsigned int *)(a1 + 0x2D8));
  sub_146B22590(a1 + 0x510);
  v3 = (_QWORD *)(a1 + 0x4C8);
  n0xE = 0xE;
  do
  {
    v5 = v3[0xFFFFFFFE];
    v3 += 0xFFFFFFFD;
    --n0xE;
    v6 = (const void *)(v5 & 0xFFFFFFFFFFFFLL);
    if ( v6 )
    {
      sub_147605980(v6);
      v3[1] = 0;
    }
    if ( (*v3 & 0xFFFFFFFFFFFFLL) != 0 )
    {
      sub_147605980((const void *)(*v3 & 0xFFFFFFFFFFFFLL));
      *v3 = 0;
    }
  }
  while ( n0xE );
  v7 = *(_QWORD **)(a1 + 0x358);
  if ( v7 )
  {
    if ( ((*(_QWORD *)(a1 + 0x368) - (_QWORD)v7) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)v7 - v7[0xFFFFFFFF] - 8 > 0x1F )
        goto LABEL_37;
      v7 = (_QWORD *)v7[0xFFFFFFFF];
    }
    sub_1402A3D30(v7);
    *(_QWORD *)(a1 + 0x358) = 0;
    *(_QWORD *)(a1 + 0x360) = 0;
    *(_QWORD *)(a1 + 0x368) = 0;
  }
  sub_14129F6A0((_QWORD *)(a1 + 0x340));
  sub_146B223F0((const void **)(a1 + 0x338));
  v8 = *(_QWORD **)(a1 + 0x300);
  if ( v8 )
  {
    if ( ((*(_QWORD *)(a1 + 0x310) - (_QWORD)v8) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)v8 - v8[0xFFFFFFFF] - 8 > 0x1F )
        goto LABEL_37;
      v8 = (_QWORD *)v8[0xFFFFFFFF];
    }
    sub_1402A3D30(v8);
    *(_QWORD *)(a1 + 0x300) = 0;
    *(_QWORD *)(a1 + 0x308) = 0;
    *(_QWORD *)(a1 + 0x310) = 0;
  }
  sub_140370D10((_QWORD *)(a1 + 0x298));
  v9 = *(_QWORD **)(a1 + 0x278);
  if ( v9 )
  {
    if ( ((*(_QWORD *)(a1 + 0x288) - (_QWORD)v9) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)v9 - v9[0xFFFFFFFF] - 8 > 0x1F )
        goto LABEL_37;
      v9 = (_QWORD *)v9[0xFFFFFFFF];
    }
    sub_1402A3D30(v9);
    *(_QWORD *)(a1 + 0x278) = 0;
    *(_QWORD *)(a1 + 0x280) = 0;
    *(_QWORD *)(a1 + 0x288) = 0;
  }
  v10 = *(_QWORD **)(a1 + 0x258);
  if ( v10 )
  {
    if ( ((*(_QWORD *)(a1 + 0x268) - (_QWORD)v10) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)v10 - v10[0xFFFFFFFF] - 8 > 0x1F )
        goto LABEL_37;
      v10 = (_QWORD *)v10[0xFFFFFFFF];
    }
    sub_1402A3D30(v10);
    *(_QWORD *)(a1 + 0x258) = 0;
    *(_QWORD *)(a1 + 0x260) = 0;
    *(_QWORD *)(a1 + 0x268) = 0;
  }
  v11 = *(_QWORD **)(a1 + 0x240);
  if ( !v11 )
    goto LABEL_34;
  if ( ((*(_QWORD *)(a1 + 0x250) - (_QWORD)v11) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
  {
    if ( (unsigned __int64)v11 - v11[0xFFFFFFFF] - 8 <= 0x1F )
    {
      v11 = (_QWORD *)v11[0xFFFFFFFF];
      goto LABEL_33;
    }
LABEL_37:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_33:
  sub_1402A3D30(v11);
  *(_QWORD *)(a1 + 0x240) = 0;
  *(_QWORD *)(a1 + 0x248) = 0;
  *(_QWORD *)(a1 + 0x250) = 0;
LABEL_34:
  v12 = *(_QWORD *)(a1 + 0x138);
  if ( v12 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x10LL))(v12);
  *(_QWORD *)(a1 + 0x138) = 0;
  return sub_140372E30((_QWORD *)a1);
}

// --- End Function: sub_146B22610 (0x146B22610) ---

// --- Function: sub_146B25E00 (0x146B25E00) ---
const void *__fastcall sub_146B25E00(const void *a1, char a2)
{
  sub_146B22610((__int64)a1);
  if ( (a2 & 1) != 0 )
    sub_1402A3D30(a1);
  return a1;
}

// --- End Function: sub_146B25E00 (0x146B25E00) ---

// --- Function: sub_146B26470 (0x146B26470) ---
__int64 __fastcall sub_146B26470(_BYTE *a1, __int64 a2, unsigned __int64 a3)
{
  __int64 (__fastcall *v6)(_BYTE *, _QWORD *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v8; // rdi
  __int64 v9; // rax
  __int16 n4; // dx
  __int64 v12; // rcx
  unsigned __int16 n0xFFFF_1; // ax
  __int16 v14; // rbx^6
  __int64 v15; // rdi
  __int64 v16; // rax
  __int16 n4_1; // cx
  __int64 v18; // rcx
  unsigned __int64 v19; // rax
  _BYTE v20[8]; // [rsp+20h] [rbp-38h] BYREF
  _QWORD v21[6]; // [rsp+28h] [rbp-30h] BYREF
  __int64 v22; // [rsp+60h] [rbp+8h] BYREF

  v6 = *(__int64 (__fastcall **)(_BYTE *, _QWORD *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          v20,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v22) = n0xFFFF;
  v8 = *(_QWORD *)v6(a1, v21, &v22);
  v22 = v8;
  if ( v8 )
  {
    v9 = sub_1403B4B50(v8 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(v9 + 4);
    if ( n4 != 4
      && *(_WORD *)(v9 + 2) == (HIWORD(v8) & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v22)) )
    {
      return (*(__int64 (__fastcall **)(__int64, __int64, unsigned __int64))(*(_QWORD *)(v8 & 0xFFFFFFFFFFFFLL) + 0x718LL))(
               v8 & 0xFFFFFFFFFFFFLL,
               a2,
               a3);
    }
  }
  if ( a3 )
  {
    v12 = a3 & 0xFFFFFFFFFFFFLL;
    if ( *(_QWORD *)((a3 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a3) )
      return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v12 + 0x30LL))(v12, a2, 0);
  }
  n0xFFFF_1 = n0xFFFF_50;
  if ( n0xFFFF_50 == (__int16)0xFFFF )
  {
    n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                      + 0x10LL))(
                            qword_149B4FC88,
                            &v22,
                            "RopeProxy");
    n0xFFFF_50 = n0xFFFF_1;
  }
  if ( a1[0xD] != 7 )
  {
    sub_146B49DE0(a1, v21, n0xFFFF_1);
    v14 = HIWORD(v21[0]);
    v22 = v21[0];
    if ( v21[0] )
    {
      v15 = v21[0] & 0xFFFFFFFFFFFFLL;
      v16 = sub_1403B4B50(v21[0] & 0xFFFFFFFFFFFFLL);
      n4_1 = *(_WORD *)(v16 + 4);
      if ( n4_1 != 4
        && *(_WORD *)(v16 + 2) == (v14 & 0xFFF)
        && (n4_1 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v22)) )
      {
        v18 = *(_QWORD *)(v15 + 0x70);
        if ( v18 )
        {
          v19 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v18 + 0xE8LL))(v18, &v22);
          if ( v19 )
          {
            v12 = v19 & 0xFFFFFFFFFFFFLL;
            if ( *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v19) )
              return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v12 + 0x30LL))(v12, a2, 0);
          }
        }
      }
    }
  }
  return 0;
}

// --- End Function: sub_146B26470 (0x146B26470) ---

// --- Function: sub_146B26C00 (0x146B26C00) ---
void **__fastcall sub_146B26C00(__int64 a1, _BYTE *a2, unsigned __int64 a3)
{
  void **v5; // rax
  void **v6; // rbx
  __int64 v7; // rcx
  __int64 i; // rax
  _BYTE v10[24]; // [rsp+20h] [rbp-58h] BYREF
  void **v11; // [rsp+38h] [rbp-40h]
  void *v12; // [rsp+90h] [rbp+18h] BYREF

  v12 = (void *)a3;
  if ( !a2 || !sub_14030EC00((unsigned __int64 *)&v12) )
    return 0;
  v5 = (void **)allocWithProfilerInfo_w(0x18u);
  v6 = v5;
  if ( v5 )
  {
    sub_14035B3E0(v5);
    v6[1] = 0;
    v6[2] = 0;
  }
  else
  {
    v6 = 0;
  }
  assignCStringToStringStructure(v6, a2);
  v6[1] = v12;
  v6[2] = 0;
  v7 = *(_QWORD *)(a1 + 0x290);
  if ( v7 )
  {
    for ( i = *(_QWORD *)(v7 + 0x10); i; i = *(_QWORD *)(i + 0x10) )
      v7 = i;
    *(_QWORD *)(v7 + 0x10) = v6;
  }
  else
  {
    *(_QWORD *)(a1 + 0x290) = v6;
  }
  sub_14036C3F0((__int64)v10, 0xA);
  v11 = v6;
  sub_146B731A0(a1, v10);
  return v6;
}

// --- End Function: sub_146B26C00 (0x146B26C00) ---

// --- Function: sub_146B272C0 (0x146B272C0) ---
__int64 __fastcall sub_146B272C0(__int64 a1, __int64 a2, __int64 a3, unsigned int a4, unsigned __int64 a5)
{
  __int64 (__fastcall *v9)(__int64, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v11; // rbx
  __int64 v12; // rax
  __int16 n4; // dx
  _BYTE v15[8]; // [rsp+30h] [rbp-28h] BYREF
  _BYTE v16[32]; // [rsp+38h] [rbp-20h] BYREF
  __int64 v17; // [rsp+60h] [rbp+8h] BYREF

  v9 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          v15,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v17) = n0xFFFF;
  v11 = *(_QWORD *)v9(a1, v16, &v17);
  v17 = v11;
  if ( v11 )
  {
    v12 = sub_1403B4B50(v11 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(v12 + 4);
    if ( n4 != 4
      && *(_WORD *)(v12 + 2) == (HIWORD(v11) & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v17)) )
    {
      return (*(__int64 (__fastcall **)(__int64, __int64, __int64, _QWORD, unsigned __int64))(*(_QWORD *)(v11 & 0xFFFFFFFFFFFFLL)
                                                                                            + 0x720LL))(
               v11 & 0xFFFFFFFFFFFFLL,
               a2,
               a3,
               a4,
               a5);
    }
  }
  if ( a5 && *(_QWORD *)((a5 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a5) )
    return (*(__int64 (__fastcall **)(unsigned __int64, __int64, __int64, _QWORD, _DWORD))(*(_QWORD *)(a5 & 0xFFFFFFFFFFFFLL)
                                                                                         + 0x38LL))(
             a5 & 0xFFFFFFFFFFFFLL,
             a2,
             a3,
             a4,
             0);
  return 0xFFFFFFFFLL;
}

// --- End Function: sub_146B272C0 (0x146B272C0) ---

// --- Function: sub_146B276F0 (0x146B276F0) ---
__int64 __fastcall sub_146B276F0(__int64 a1, int a2, __int64 a3, int n4, int a5)
{
  __int64 v8; // rax

  v8 = sub_146B4E3D0(a1);
  if ( !v8 )
    return 0xFFFFFFFFLL;
  if ( n4 == 0xFFFFFFFF )
    n4 = 4;
  return sub_146A7E0C0(v8, a2, a3, n4, a5);
}

// --- End Function: sub_146B276F0 (0x146B276F0) ---

// --- Function: sub_146B280A0 (0x146B280A0) ---
char __fastcall sub_146B280A0(__int64 a1, __int64 *a2, unsigned __int8 a3)
{
  __int64 v3; // rbx
  const char *v7; // rbx
  const char **v8; // rax
  __int64 v10; // rbp
  char v11; // si
  __int64 v12; // rbx
  int *v13; // rax
  __int128 v14; // [rsp+30h] [rbp-38h] BYREF
  __int64 v15; // [rsp+40h] [rbp-28h]
  __int64 v16; // [rsp+88h] [rbp+20h] BYREF

  v3 = qword_1515B19E8;
  sub_14035FCD0(&v16, a2);
  LOBYTE(v3) = sub_1403A3F60(v3 + 0x800, (int *)&v16);
  sub_1403729F0(&v16);
  if ( (_BYTE)v3 )
  {
    v7 = *(const char **)(a1 + 0x298);
    v8 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *, __int64 *))(*(_QWORD *)qword_149B4FBF8 + 0x48LL))(
                          qword_149B4FBF8,
                          &v16,
                          a2);
    sub_1405C0E00(6u, 0, "Trying to add the reserved engine Tag %s to Entity %s", *v8, v7);
    sub_140370D10(&v16);
    return 0;
  }
  else
  {
    v14 = 0;
    v15 = 0;
    v10 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
            qword_149B4FBE8,
            0x7832,
            &v14,
            0);
    v11 = (*(__int64 (__fastcall **)(__int64, __int64, __int64 *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x410LL))(
            qword_149B4FBE8,
            a1 + 0x2A8,
            a2,
            v10,
            a1 + 0xC0);
    v12 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x448LL))(qword_149B4FBE8);
    v13 = (int *)sub_146B68FF0(a1, a3);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_1403A3F60(v12, v13) << 0xB) | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v11 )
      sub_146B74B20(a1, 0x20);
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
      qword_149B4FBE8,
      0x7832,
      v10);
    if ( (_QWORD)v14 )
      sub_1403A3120((__int64)&v14, (const void *)v14, (v15 - v14) & 0xFFFFFFFFFFFFFFE0uLL);
    return v11;
  }
}

// --- End Function: sub_146B280A0 (0x146B280A0) ---

// --- Function: sub_146B28250 (0x146B28250) ---
__int64 __fastcall sub_146B28250(__int64 a1, int *a2, unsigned __int8 a3)
{
  unsigned __int64 v6; // rbx
  unsigned __int64 v7; // r14
  __int64 v8; // rdi
  const char *v9; // rdi
  const char **v10; // rax
  __int64 v11; // r14
  unsigned __int8 v12; // di
  __int64 v13; // rbx
  int *v14; // rax
  __int64 v15; // r14
  __int64 v16; // rbx
  int *v17; // rax
  int v19; // [rsp+30h] [rbp-50h] BYREF
  __int64 v20; // [rsp+38h] [rbp-48h] BYREF
  __int64 v21; // [rsp+40h] [rbp-40h] BYREF
  __int128 v22; // [rsp+48h] [rbp-38h] BYREF
  __int64 v23; // [rsp+58h] [rbp-28h]
  __int128 v24; // [rsp+60h] [rbp-20h] BYREF
  __int64 v25; // [rsp+70h] [rbp-10h]
  int v26; // [rsp+C8h] [rbp+48h] BYREF

  if ( sub_1403A3F60(qword_1515B19E8 + 0x800, a2) )
  {
    sub_140360130(&v26);
    v6 = 0;
    v7 = sub_1403B7280((__int64)a2);
    if ( v7 )
    {
      do
      {
        sub_1403B7240((__int64)a2, (__int64)&v20, v6);
        v8 = qword_1515B19E8;
        sub_14035FCD0(&v19, &v20);
        LOBYTE(v8) = sub_1403A3F60(v8 + 0x800, &v19);
        sub_1403729F0(&v19);
        if ( (_BYTE)v8 )
        {
          v9 = *(const char **)(a1 + 0x298);
          v10 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *, __int64 *))(*(_QWORD *)qword_149B4FBF8
                                                                                        + 0x48LL))(
                                 qword_149B4FBF8,
                                 &v21,
                                 &v20);
          sub_1405C0E00(6u, 0, "Trying to add the reserved engine Tag %s to Entity %s", *v10, v9);
          sub_140370D10(&v21);
        }
        else
        {
          sub_1403912C0((__int64)&v26, v20);
        }
        ++v6;
      }
      while ( v6 < v7 );
    }
    v22 = 0;
    v23 = 0;
    v11 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
            qword_149B4FBE8,
            0x7832,
            &v22,
            0);
    v12 = (*(__int64 (__fastcall **)(__int64, __int64, int *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x418LL))(
            qword_149B4FBE8,
            a1 + 0x2A8,
            &v26,
            v11,
            a1 + 0xC0);
    v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x448LL))(qword_149B4FBE8);
    v14 = (int *)sub_146B68FF0(a1, a3);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_1403A3F60(v13, v14) << 0xB) | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v12 )
      sub_146B74B20(a1, 0x20);
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
      qword_149B4FBE8,
      0x7832,
      v11);
    if ( (_QWORD)v22 )
    {
      sub_1403A3120((__int64)&v22, (const void *)v22, (v23 - v22) & 0xFFFFFFFFFFFFFFE0uLL);
      v22 = 0;
      v23 = 0;
    }
    sub_1403729F0(&v26);
  }
  else
  {
    v24 = 0;
    v25 = 0;
    v15 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
            qword_149B4FBE8,
            0x7832,
            &v24,
            0);
    v12 = (*(__int64 (__fastcall **)(__int64, __int64, int *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x418LL))(
            qword_149B4FBE8,
            a1 + 0x2A8,
            a2,
            v15,
            a1 + 0xC0);
    v16 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x448LL))(qword_149B4FBE8);
    v17 = (int *)sub_146B68FF0(a1, a3);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_1403A3F60(v16, v17) << 0xB) | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v12 )
      sub_146B74B20(a1, 0x20);
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
      qword_149B4FBE8,
      0x7832,
      v15);
    if ( (_QWORD)v24 )
      sub_1403A3120((__int64)&v24, (const void *)v24, (v25 - v24) & 0xFFFFFFFFFFFFFFE0uLL);
  }
  return v12;
}

// --- End Function: sub_146B28250 (0x146B28250) ---

// --- Function: sub_146B28560 (0x146B28560) ---
double __fastcall sub_146B28560(
        __int64 a1,
        unsigned __int64 *a2,
        __int64 a3,
        unsigned __int8 n0xFF,
        unsigned int a5,
        unsigned int a6,
        char a7)
{
  int n0xFF_1; // r12d
  volatile signed __int32 *v11; // rbx
  int v12; // r15d
  unsigned __int32 v13; // eax
  __int16 v14; // ax
  float v15; // kr00_4
  float v16; // xmm0_4
  float v17; // xmm1_4
  __int64 v18; // rdx
  char v19; // cl
  int v20; // eax
  unsigned __int32 v21; // eax
  void **v22; // rax
  unsigned __int64 v24; // [rsp+30h] [rbp-71h] BYREF
  __int64 v25; // [rsp+38h] [rbp-69h] BYREF
  unsigned int v26; // [rsp+40h] [rbp-61h]
  unsigned int v27; // [rsp+44h] [rbp-5Dh]
  __int16 v28; // [rsp+48h] [rbp-59h]
  char n0xFF_2; // [rsp+4Ah] [rbp-57h]
  char v30; // [rsp+4Bh] [rbp-56h]
  __int64 v31; // [rsp+50h] [rbp-51h] BYREF
  void *v32[3]; // [rsp+58h] [rbp-49h] BYREF
  int n0xF00; // [rsp+70h] [rbp-31h] BYREF
  __int64 v34; // [rsp+74h] [rbp-2Dh]
  int v35; // [rsp+7Ch] [rbp-25h]
  unsigned __int64 v36; // [rsp+80h] [rbp-21h]
  unsigned __int64 v37; // [rsp+88h] [rbp-19h]
  __int64 v38; // [rsp+90h] [rbp-11h]
  __int64 v39; // [rsp+98h] [rbp-9h]
  unsigned __int8 v40; // [rsp+108h] [rbp+67h]

  n0xFF_1 = n0xFF;
  v35 = 0;
  v37 = 0;
  v38 = 0;
  v39 = 0;
  n0xF00 = 0xF00;
  v34 = 1;
  v36 = __rdtsc();
  qword_149B4B870(
    &n0xF00,
    &word_1515B1CF0,
    "CEntitySystem::AddTimerEvent",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\EntitySystem.cpp",
    0xE45);
  HIWORD(n0xF00) = word_1515B1CF0;
  if ( (_BYTE)n0xFF_1 != 0xFF && a3 && sub_14030EC00(a2) && (*a2 & 0xFFFFFFFFFFFFLL) != 0 && *(_QWORD *)(a3 + 8) == *a2 )
  {
    v11 = (volatile signed __int32 *)(a1 + 0x838);
    v31 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FC40 + 0x38LL))(
                       qword_149B4FC40,
                       0);
    v12 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( *(_DWORD *)(a1 + 0x848) == v12 )
    {
      ++*(_DWORD *)(a1 + 0x84C);
    }
    else
    {
      v13 = _InterlockedCompareExchange(v11, 1, 0);
      if ( v13 )
        sub_1403C33A0(a1 + 0x838, v13, "CEntitySystem::AddTimerEvent", 1);
      else
        *(_QWORD *)(a1 + 0x840) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
      *(_DWORD *)(a1 + 0x848) = v12;
    }
    v24 = *a2;
    v14 = *(_WORD *)(a3 + 0x10);
    v27 = a6;
    v28 = v14;
    v26 = a5;
    v15 = (float)(unsigned int)sub_14056D140((__int64)&unk_1499305A0);
    v16 = (float)a6;
    v17 = (float)a5;
    v25 = 0x2710LL * (unsigned int)(int)(float)((float)((float)(v15 * 2.3283064e-10) * v16) + v17);
    sub_1402FBEB0(&v25, &v31);
    v18 = *(_QWORD *)(a1 + 0x858);
    n0xFF_2 = n0xFF_1;
    v30 = a7 | v30 & 0xFE;
    if ( v18 == *(_QWORD *)(a1 + 0x860) )
    {
      sub_146B16DC0(a1 + 0x850, v18, &v24);
    }
    else
    {
      *(_QWORD *)v18 = v24;
      v24 = 0;
      v19 = *(_BYTE *)(v18 + 0x1B);
      *(_QWORD *)(v18 + 8) = v25;
      *(_DWORD *)(v18 + 0x10) = v26;
      *(_DWORD *)(v18 + 0x14) = v27;
      *(_WORD *)(v18 + 0x18) = v28;
      *(_BYTE *)(v18 + 0x1A) = n0xFF_2;
      *(_BYTE *)(v18 + 0x1B) = v30 & 1 | v19 & 0xFE;
      *(_QWORD *)(a1 + 0x858) += 0x20LL;
    }
    ++*(_BYTE *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x12A);
    if ( !*(_BYTE *)(a1 + 0x888) )
      sub_146B1FC00(*(_QWORD *)(a1 + 0x850), *(_QWORD *)(a1 + 0x858), v40);
    v20 = *(_DWORD *)(a1 + 0x84C);
    if ( v20 )
    {
      *(_DWORD *)(a1 + 0x84C) = v20 - 1;
    }
    else
    {
      *(_DWORD *)(a1 + 0x848) = 0xFFFFFFFF;
      v21 = _InterlockedCompareExchange(v11, 0, 1);
      if ( v21 == 1 )
        *(_QWORD *)(a1 + 0x840) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DB1F0(a1 + 0x838, v21);
    }
    if ( dword_1515B18E8 && sub_14030EC00(a2) )
    {
      v22 = sub_146B4B3E0(*a2 & 0xFFFFFFFFFFFFLL, v32);
      LogTraceConditional("SetTimer (timerID=%d,time=%dms) for Entity %s", n0xFF_1, a5, (const char *)*v22);
      sub_140370D10(v32);
    }
  }
  v37 = __rdtsc();
  return qword_149B4B878(&n0xF00);
}

// --- End Function: sub_146B28560 (0x146B28560) ---

// --- Function: sub_146B289C0 (0x146B289C0) ---
char __fastcall sub_146B289C0(__int64 a1, __int64 a2, char a3)
{
  __int64 v5; // rax

  v5 = sub_146B4E3D0(a1);
  if ( v5 )
    LOBYTE(v5) = sub_146A800D0(v5, a2, a3, 1);
  return v5;
}

// --- End Function: sub_146B289C0 (0x146B289C0) ---

// --- Function: sub_146B29550 (0x146B29550) ---
void __fastcall sub_146B29550(unsigned __int64 a1)
{
  __int64 v2; // rax
  __int64 v3; // rdi
  char v4; // dl
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax

  if ( !*(_QWORD *)(a1 + 0x130) )
  {
    v2 = allocWithProfilerInfo_w(0x1D0u);
    v3 = v2;
    if ( v2 )
    {
      *(_QWORD *)v2 = 0;
      *(_QWORD *)(v2 + 8) = 0;
      *(_DWORD *)(v2 + 0x10) = 0;
      sub_14035B3E0((_QWORD *)(v2 + 0x18));
      *(_BYTE *)(v3 + 0x138) = 0;
      *(_QWORD *)(v3 + 0x168) = 0x3FF0000000000000LL;
      *(_DWORD *)(v3 + 0x140) = 0;
      *(_QWORD *)(v3 + 0x144) = 0xFFFFFFFFFFFFFFFFuLL;
      *(_DWORD *)(v3 + 0x14C) = 0;
      *(_QWORD *)(v3 + 0x150) = 0;
      *(_QWORD *)(v3 + 0x158) = 0;
      *(_QWORD *)(v3 + 0x160) = 0;
      *(_QWORD *)(v3 + 0x170) = 0;
      *(_QWORD *)(v3 + 0x178) = 0;
      *(_QWORD *)(v3 + 0x180) = 0;
      *(_QWORD *)(v3 + 0x188) = 0x3FF0000000000000LL;
      *(_OWORD *)(v3 + 0x190) = xmmword_148C31620;
      *(_QWORD *)(v3 + 0x1A0) = 0;
      *(_QWORD *)(v3 + 0x1A8) = 0;
      *(_BYTE *)(v3 + 0x1B0) = 0;
      *(_QWORD *)(v3 + 0x1B8) = 0;
      *(_QWORD *)(v3 + 0x1C0) = 0;
      *(_QWORD *)(v3 + 0x1C8) = 0;
    }
    else
    {
      v3 = 0;
    }
    *(_QWORD *)(a1 + 0x130) = v3;
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v4 = 0;
      v5 = a1 - 6;
    }
    else
    {
      v4 = 1;
      v5 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v6 = *(_WORD *)(v5 + 2) | 0x2000;
    if ( !v4 )
      v6 = *(_WORD *)(v5 + 2);
    *(_QWORD *)(v3 + 8) = a1 | ((unsigned __int64)v6 << 0x30);
  }
}

// --- End Function: sub_146B29550 (0x146B29550) ---

// --- Function: sub_146B2A280 (0x146B2A280) ---
void __fastcall sub_146B2A280(__int64 a1, __int64 a2, unsigned __int8 a3)
{
  __int64 v6; // rsi
  __int64 v7; // rbx
  int *v8; // rax
  __int128 v9; // [rsp+30h] [rbp-28h] BYREF
  __int64 v10; // [rsp+40h] [rbp-18h]

  v10 = 0;
  v9 = 0;
  v6 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
         qword_149B4FBE8,
         0x7832,
         &v9,
         0);
  (*(void (__fastcall **)(__int64, __int64, __int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x3F8LL))(
    qword_149B4FBE8,
    a1 + 0x2A8,
    a2,
    v6,
    a1 + 0xC0);
  v7 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x448LL))(qword_149B4FBE8);
  v8 = (int *)sub_146B68FF0(a1, a3);
  *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_1403A3F60(v7, v8) << 0xB) | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
  sub_146B74B20(a1, 0x20);
  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
    qword_149B4FBE8,
    0x7832,
    v6);
  if ( (_QWORD)v9 )
    sub_1403A3120((__int64)&v9, (const void *)v9, (v10 - v9) & 0xFFFFFFFFFFFFFFE0uLL);
}

// --- End Function: sub_146B2A280 (0x146B2A280) ---

// --- Function: sub_146B2A3A0 (0x146B2A3A0) ---
char __fastcall sub_146B2A3A0(unsigned __int64 a1, unsigned __int64 a2, __int64 a3)
{
  unsigned __int64 *v5; // rax
  int v6; // ecx
  void (*v7)(const char *, ...); // rbx
  __int64 v8; // rax
  bool v9; // al
  unsigned __int64 v10; // r14
  char v11; // al
  __int64 v12; // rsi
  bool v13; // bl
  unsigned __int64 *v14; // rcx
  char v15; // si
  unsigned __int64 *v16; // rcx
  __int64 v17; // rcx
  __int64 v19; // rcx
  __int64 v20; // rax
  __m256i v21; // ymm0
  int v22; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v24; // rax
  int v25; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source_1; // r8
  unsigned __int64 v27; // rax
  __int64 v28; // rdi
  int v29; // r12d
  __int64 v30; // r8
  unsigned __int64 v31; // rax
  __int64 v32; // r12
  int v33; // ebx
  __int64 v34; // r8
  unsigned __int64 v35; // rax
  __int64 v36; // rbx
  __int64 v37; // r8
  unsigned __int64 v38; // rax
  __int128 v39; // xmm15
  double v40; // xmm14_8
  char v43; // cl
  double *v44; // rax
  double v45; // xmm8_8
  double v46; // xmm11_8
  double v47; // xmm9_8
  double v48; // xmm10_8
  double v49; // xmm2_8
  double v51; // xmm1_8
  __int64 v52; // rdx
  __int64 v53; // rcx
  __int64 v54; // rax
  __int64 v55; // rdx
  double *v56; // rax
  double v57; // xmm15_8
  double v58; // xmm5_8
  double v59; // xmm6_8
  double v60; // xmm14_8
  double v61; // xmm2_8
  double v62; // xmm0_8
  double v63; // xmm11_8
  double v64; // xmm13_8
  double v65; // xmm1_8
  double v66; // xmm9_8
  double v67; // xmm0_8
  double v68; // xmm10_8
  double v69; // xmm12_8
  double v70; // xmm7_8
  double v71; // xmm6_8
  double v72; // xmm4_8
  double v73; // xmm5_8
  double v74; // xmm4_8
  double v75; // kr00_8
  double v76; // xmm8_8
  _QWORD *v77; // rdx
  unsigned __int64 v78; // r8
  unsigned __int64 *v79; // rcx
  unsigned __int64 v80; // r10
  unsigned __int64 *v81; // r9
  unsigned __int64 *v82; // r8
  __int64 v83; // rax
  unsigned int v84; // ebx
  __int64 v85; // rdx
  __int64 v86; // rcx
  double v87; // xmm0_8
  __int64 v88; // rax
  double v89; // xmm0_8
  __int128 v92; // xmm11
  __int128 v93; // xmm13
  double v94; // xmm8_8
  __int128 v95; // xmm10
  double v96; // xmm12_8
  __int128 v97; // xmm9
  __int128 v98; // kr00_16
  __int128 v103; // xmm7
  double v104; // xmm6_8
  __int128 v105; // xmm5
  double v110; // xmm9_8
  double v111; // xmm6_8
  double v112; // xmm8_8
  __int128 v113; // xmm4
  double v114; // xmm5_8
  double v115; // xmm10_8
  double v116; // xmm11_8
  __int128 v117; // xmm2
  __int128 v118; // kr00_16
  double v123; // xmm0_8
  __int128 v124; // kr00_16
  __int128 v129; // kr00_16
  __int128 v134; // kr00_16
  double v139; // xmm6_8
  double v140; // xmm5_8
  double v141; // xmm4_8
  double *v142; // rax
  double v143; // xmm10_8
  double v144; // xmm11_8
  double v145; // xmm4_8
  double v146; // xmm12_8
  double v147; // xmm8_8
  double v148; // xmm6_8
  double v149; // xmm4_8
  double v150; // xmm5_8
  double v152; // xmm13_8
  double v153; // xmm10_8
  double *v154; // rcx
  double v155; // xmm7_8
  double v156; // xmm1_8
  double v157; // kr00_8
  double v158; // xmm0_8
  __int64 v159; // rax
  double v160; // xmm4_8
  _QWORD *v162; // rax
  double v163; // xmm12_8
  __int128 v164; // xmm14
  double v165; // xmm9_8
  __int128 v166; // xmm11
  double v167; // xmm13_8
  double v168; // xmm10_8
  double *v169; // rbx
  __int128 v170; // kr00_16
  __int128 v175; // xmm7
  double v176; // xmm6_8
  double v177; // xmm5_8
  double v180; // xmm9_8
  double v181; // xmm10_8
  double v184; // xmm12_8
  double v185; // xmm11_8
  __int128 v186; // xmm4
  double v187; // xmm5_8
  double v188; // xmm13_8
  double v189; // xmm14_8
  __int128 v190; // xmm2
  __int128 v191; // kr00_16
  double v192; // xmm6_8
  double v193; // xmm8_8
  __int128 v198; // kr00_16
  __int128 v203; // kr00_16
  double v208; // xmm2_8
  double v209; // xmm1_8
  __int128 v210; // kr00_16
  double v215; // kr00_8
  double v216; // xmm13_8
  double v217; // xmm8_8
  double v218; // xmm7_8
  double v219; // xmm5_8
  double v220; // xmm15_8
  double v221; // xmm5_8
  double v222; // xmm6_8
  double v223; // xmm11_8
  double v224; // xmm10_8
  double v225; // xmm14_8
  double v226; // xmm2_8
  double v227; // xmm13_8
  double v228; // xmm8_8
  double v229; // xmm12_8
  double v230; // xmm7_8
  double v231; // xmm6_8
  double v232; // xmm4_8
  double v233; // xmm9_8
  __int64 v234; // rax
  __int64 v235; // rbx
  float v236; // xmm7_4
  float v237; // xmm6_4
  unsigned __int8 *v238; // rax
  int v239; // eax
  __int16 v240; // cx
  __int64 v241; // rax
  __int64 v242; // rax
  float v243; // xmm1_4
  float v244; // xmm2_4
  float v245; // xmm0_4
  float v246; // xmm3_4
  float v247; // xmm4_4
  double v248; // xmm9_8
  double v249; // xmm7_8
  double v250; // xmm13_8
  double v251; // xmm14_8
  double v252; // xmm15_8
  double v253; // kr00_8
  __int64 v254; // rdx
  __int64 v255; // rcx
  double v256; // xmm0_8
  __int64 v257; // rax
  double v258; // xmm0_8
  double v259; // xmm6_8
  double v260; // xmm5_8
  double v261; // xmm4_8
  double *v262; // rax
  double v263; // xmm10_8
  double v264; // xmm11_8
  double v265; // xmm4_8
  double v266; // xmm12_8
  double v267; // xmm8_8
  double v268; // xmm6_8
  double v269; // xmm4_8
  double v270; // xmm5_8
  double v272; // xmm13_8
  double v273; // xmm10_8
  double v274; // xmm7_8
  double *v275; // rcx
  double v276; // xmm1_8
  double v277; // kr00_8
  double v278; // xmm0_8
  __int64 v279; // rax
  double v280; // xmm4_8
  _QWORD *v282; // rax
  double v283; // xmm6_8
  double v284; // xmm5_8
  double v285; // xmm4_8
  double v286; // xmm10_8
  double v287; // xmm3_8
  double v288; // xmm11_8
  double v289; // xmm13_8
  double *v290; // rax
  double v291; // xmm15_8
  double v292; // xmm11_8
  double v293; // xmm5_8
  double v294; // xmm12_8
  double v295; // xmm6_8
  double v296; // xmm5_8
  double v297; // xmm11_8
  double v298; // xmm14_8
  double v299; // xmm13_8
  double v300; // xmm8_8
  double v301; // xmm9_8
  double v302; // xmm12_8
  double v303; // xmm5_8
  double v304; // xmm3_8
  double v305; // xmm0_8
  double v306; // xmm10_8
  double v308; // xmm5_8
  double v309; // kr00_8
  __int64 v311; // rcx
  __int64 v312; // r8
  __int64 v313; // rax
  __int64 *v314; // rbx
  __int64 v315; // rax
  void (__fastcall *v316)(__int64 *, _QWORD); // rdi
  int v317; // eax
  __int64 v318; // rdx
  __int64 v319; // rcx
  double v320; // xmm0_8
  __int64 v321; // rax
  double v322; // xmm0_8
  float *v323; // rax
  double v324; // xmm7_8
  double v325; // xmm8_8
  double v326; // xmm15_8
  double v327; // xmm13_8
  double v328; // kr00_8
  double v329; // xmm6_8
  double v330; // xmm5_8
  double v331; // xmm4_8
  double *v332; // rax
  double v333; // xmm11_8
  double v334; // xmm10_8
  double v335; // xmm4_8
  double v336; // xmm12_8
  double v337; // xmm8_8
  double v338; // xmm6_8
  double v339; // xmm4_8
  double v341; // xmm13_8
  double *v342; // rcx
  double v343; // xmm5_8
  double v344; // xmm10_8
  double v345; // xmm7_8
  double v346; // xmm1_8
  double v347; // kr00_8
  double v348; // xmm0_8
  __int64 v349; // rax
  double v350; // xmm4_8
  _QWORD *v352; // rax
  __int64 v353; // rdi
  __int64 v354; // rax
  __int64 v355; // rsi
  unsigned __int8 *v356; // rax
  __int64 v357; // rax
  int v358; // eax
  __int16 v359; // cx
  __int64 v360; // rax
  __int64 v361; // rax
  double *v362; // rdi
  float *v363; // rsi
  float *v364; // rax
  double v365; // xmm6_8
  double v366; // xmm5_8
  double v367; // xmm8_8
  double v368; // xmm13_8
  double v369; // xmm14_8
  double v370; // xmm9_8
  double v371; // xmm4_8
  double v372; // xmm7_8
  double v373; // xmm6_8
  double v374; // xmm5_8
  double v375; // xmm5_8
  double v376; // xmm8_8
  double v377; // xmm1_8
  double v378; // xmm9_8
  double v379; // xmm11_8
  double v380; // xmm10_8
  double v381; // xmm12_8
  double v382; // xmm14_8
  double v383; // xmm7_8
  double v384; // xmm6_8
  double v385; // xmm4_8
  double v386; // xmm5_8
  double v387; // xmm7_8
  double v388; // xmm6_8
  double v389; // xmm14_8
  double v390; // xmm15_8
  double v391; // xmm13_8
  double v392; // xmm12_8
  double v393; // xmm11_8
  double v394; // xmm10_8
  double v395; // xmm9_8
  double v396; // kr00_8
  double v397; // xmm6_8
  double v398; // xmm5_8
  double v399; // xmm3_8
  __int64 v402; // rax
  __int64 v403; // rax
  __m256 v404; // ymm0
  __m256 v405; // ymm0
  __int64 v406; // rdx
  __int64 v407; // rcx
  double *v408; // rax
  double v409; // xmm5_8
  double v410; // xmm14_8
  double v411; // xmm15_8
  double v412; // xmm13_8
  double v413; // xmm12_8
  double v414; // xmm0_8
  double v415; // xmm8_8
  double v416; // xmm1_8
  double v417; // xmm9_8
  double v418; // kr00_8
  double v419; // xmm0_8
  double v420; // xmm10_8
  double v421; // xmm11_8
  double v422; // xmm7_8
  double v423; // xmm6_8
  double v424; // xmm4_8
  double v425; // xmm3_8
  double *v428; // rbx
  double *v429; // rax
  double v430; // xmm5_8
  double v431; // xmm6_8
  double v432; // xmm9_8
  double v433; // xmm13_8
  double v434; // xmm7_8
  double v435; // xmm15_8
  double v436; // xmm14_8
  double v437; // xmm12_8
  double v438; // xmm8_8
  double v439; // xmm10_8
  double v440; // kr00_8
  double v441; // xmm6_8
  double v442; // xmm11_8
  double v443; // xmm7_8
  double v444; // xmm5_8
  double v445; // xmm2_8
  __int128 v447; // kr00_16
  double v448; // xmm2_8
  double v449; // xmm5_8
  double v450; // xmm4_8
  __int64 v452; // rax
  float *v453; // rax
  __int64 v454; // r8
  double v455; // xmm1_8
  double v456; // xmm2_8
  double v457; // xmm3_8
  __int128 v458; // kr00_16
  __int128 v459; // xmm7
  double v460; // xmm8_8
  double v461; // xmm6_8
  double v462; // xmm9_8
  double v463; // xmm10_8
  double v464; // xmm11_8
  double v465; // xmm12_8
  double v466; // xmm13_8
  __int128 v471; // kr00_16
  __int128 v472; // kr00_16
  __int128 v477; // kr00_16
  double v482; // xmm2_8
  double v483; // xmm1_8
  __int128 v484; // kr00_16
  double *v489; // rcx
  double v490; // xmm13_8
  double v491; // xmm12_8
  double v492; // xmm11_8
  double v493; // xmm15_8
  double v494; // xmm9_8
  double v495; // xmm6_8
  double v496; // xmm5_8
  __int128 v497; // kr00_16
  double v498; // kr00_8
  double v499; // xmm3_8
  double v500; // xmm5_8
  double v501; // xmm14_8
  double v502; // xmm10_8
  double v503; // xmm9_8
  double v504; // xmm5_8
  double v506; // xmm6_8
  __int64 v507; // rax
  __int64 v509; // rax
  __int64 v510; // rcx
  int v511; // ebx
  double *v512; // rax
  double v513; // xmm10_8
  double v514; // xmm5_8
  double v515; // xmm6_8
  double v516; // xmm8_8
  double v517; // xmm11_8
  double v518; // xmm14_8
  double v519; // xmm0_8
  double v520; // xmm10_8
  double v521; // kr00_8
  double v522; // xmm8_8
  double v523; // xmm12_8
  double v524; // xmm7_8
  double v525; // xmm4_8
  double v526; // xmm5_8
  double v527; // xmm9_8
  double v528; // xmm3_8
  int v529; // eax
  unsigned __int64 n0x200000_5; // rax
  int v531; // eax
  unsigned __int64 n0x200000_6; // rax
  int v533; // eax
  unsigned __int64 n0x200000_7; // rax
  unsigned __int64 n0x200000_8; // rax
  unsigned __int64 n0x200000_9; // rax
  unsigned __int64 *v537; // rdx
  unsigned __int64 v538; // rax
  unsigned __int64 *v539; // rcx
  unsigned __int64 *v540; // r8
  char *v541; // rdx
  char v542; // dl
  unsigned __int64 v543; // rcx
  unsigned __int16 v544; // ax
  double v545; // rbx
  double *v546; // rax
  double v547; // xmm14_8
  double v548; // xmm15_8
  double v549; // xmm13_8
  double v550; // xmm7_8
  double v551; // xmm6_8
  double v552; // xmm5_8
  double v553; // xmm4_8
  int v554; // r9d
  int n0x40000E_1; // ebx
  unsigned __int64 *v556; // rax
  unsigned __int64 *v557; // rax
  _QWORD *v558; // rax
  unsigned __int64 *v559; // rax
  unsigned __int64 *v560; // rax
  __int64 v561; // rax
  __int64 v562; // rcx
  int v563; // eax
  unsigned __int64 n0x200000; // rax
  int v565; // eax
  unsigned __int64 n0x200000_1; // rax
  int v567; // eax
  unsigned __int64 n0x200000_2; // rax
  unsigned __int64 n0x200000_3; // rax
  unsigned __int64 n0x200000_4; // rax
  char v571; // dl
  unsigned __int64 v572; // rcx
  unsigned __int16 v573; // ax
  char v574; // dl
  unsigned __int64 v575; // rcx
  unsigned __int16 v576; // ax
  char v577; // bl
  double v579; // [rsp+30h] [rbp-DC8h]
  unsigned int v580; // [rsp+30h] [rbp-DC8h]
  double v581; // [rsp+30h] [rbp-DC8h]
  double v582; // [rsp+30h] [rbp-DC8h]
  unsigned int v583; // [rsp+30h] [rbp-DC8h]
  double v584; // [rsp+30h] [rbp-DC8h]
  double v585; // [rsp+30h] [rbp-DC8h]
  int v586; // [rsp+30h] [rbp-DC8h]
  double v587; // [rsp+30h] [rbp-DC8h]
  double v588; // [rsp+38h] [rbp-DC0h]
  double v589; // [rsp+38h] [rbp-DC0h]
  double v590; // [rsp+38h] [rbp-DC0h]
  double v591; // [rsp+38h] [rbp-DC0h]
  double v592; // [rsp+38h] [rbp-DC0h]
  double v593; // [rsp+38h] [rbp-DC0h]
  double v594; // [rsp+38h] [rbp-DC0h]
  double v595; // [rsp+38h] [rbp-DC0h]
  double v596; // [rsp+40h] [rbp-DB8h]
  int v597; // [rsp+40h] [rbp-DB8h]
  double v598; // [rsp+40h] [rbp-DB8h]
  double v599; // [rsp+40h] [rbp-DB8h]
  double v600; // [rsp+40h] [rbp-DB8h]
  double v601; // [rsp+40h] [rbp-DB8h]
  double v602; // [rsp+40h] [rbp-DB8h]
  double v603; // [rsp+48h] [rbp-DB0h]
  double v604; // [rsp+48h] [rbp-DB0h]
  double v605; // [rsp+48h] [rbp-DB0h]
  double v606; // [rsp+48h] [rbp-DB0h]
  int v607; // [rsp+50h] [rbp-DA8h]
  double v608; // [rsp+50h] [rbp-DA8h]
  unsigned int v609; // [rsp+50h] [rbp-DA8h]
  double v610; // [rsp+50h] [rbp-DA8h]
  double v611; // [rsp+50h] [rbp-DA8h]
  double v612; // [rsp+50h] [rbp-DA8h]
  unsigned int v613; // [rsp+50h] [rbp-DA8h]
  double v614; // [rsp+50h] [rbp-DA8h]
  bool v615; // [rsp+58h] [rbp-DA0h]
  double v616; // [rsp+60h] [rbp-D98h]
  __int64 v617; // [rsp+60h] [rbp-D98h]
  double v618; // [rsp+60h] [rbp-D98h]
  double v619; // [rsp+60h] [rbp-D98h]
  __int64 v620; // [rsp+60h] [rbp-D98h]
  double v621; // [rsp+60h] [rbp-D98h]
  double v622; // [rsp+60h] [rbp-D98h]
  double v623; // [rsp+60h] [rbp-D98h]
  double v624; // [rsp+60h] [rbp-D98h]
  double v625; // [rsp+60h] [rbp-D98h]
  double v626; // [rsp+68h] [rbp-D90h]
  double v627; // [rsp+68h] [rbp-D90h]
  double v628; // [rsp+68h] [rbp-D90h]
  double v629; // [rsp+68h] [rbp-D90h]
  __int64 v630; // [rsp+70h] [rbp-D88h]
  double v631; // [rsp+70h] [rbp-D88h]
  __int64 v632; // [rsp+70h] [rbp-D88h]
  double v633; // [rsp+70h] [rbp-D88h]
  double v634; // [rsp+70h] [rbp-D88h]
  double v635; // [rsp+70h] [rbp-D88h]
  int n0x40000E; // [rsp+78h] [rbp-D80h]
  double v637; // [rsp+78h] [rbp-D80h]
  double v638; // [rsp+78h] [rbp-D80h]
  double v639; // [rsp+78h] [rbp-D80h]
  double v640; // [rsp+78h] [rbp-D80h]
  double v641; // [rsp+78h] [rbp-D80h]
  double v642; // [rsp+80h] [rbp-D78h]
  __int64 v643; // [rsp+80h] [rbp-D78h]
  double v644; // [rsp+80h] [rbp-D78h]
  double v645; // [rsp+80h] [rbp-D78h]
  double v646; // [rsp+80h] [rbp-D78h]
  double v647; // [rsp+80h] [rbp-D78h]
  double v648; // [rsp+80h] [rbp-D78h]
  char v649; // [rsp+88h] [rbp-D70h]
  double v650; // [rsp+90h] [rbp-D68h]
  double v651; // [rsp+90h] [rbp-D68h]
  unsigned __int8 *v652; // [rsp+90h] [rbp-D68h]
  double v653; // [rsp+90h] [rbp-D68h]
  double v654; // [rsp+90h] [rbp-D68h]
  double v655; // [rsp+98h] [rbp-D60h]
  double v656; // [rsp+98h] [rbp-D60h]
  unsigned __int8 *v657; // [rsp+98h] [rbp-D60h]
  double v658; // [rsp+98h] [rbp-D60h]
  double v659; // [rsp+98h] [rbp-D60h]
  double v660; // [rsp+A0h] [rbp-D58h] BYREF
  double v661; // [rsp+A8h] [rbp-D50h]
  double v662; // [rsp+B0h] [rbp-D48h]
  double v663; // [rsp+B8h] [rbp-D40h]
  __m256 v664; // [rsp+C0h] [rbp-D38h]
  __int64 v665; // [rsp+E0h] [rbp-D18h] BYREF
  double v666; // [rsp+F0h] [rbp-D08h]
  double v667; // [rsp+F8h] [rbp-D00h]
  double v668; // [rsp+100h] [rbp-CF8h]
  double v669; // [rsp+108h] [rbp-CF0h]
  __m256 v670; // [rsp+110h] [rbp-CE8h]
  __int64 v671; // [rsp+130h] [rbp-CC8h]
  double v672; // [rsp+138h] [rbp-CC0h]
  double v673; // [rsp+140h] [rbp-CB8h]
  __int64 v674; // [rsp+148h] [rbp-CB0h]
  float v675; // [rsp+150h] [rbp-CA8h] BYREF
  float v676; // [rsp+154h] [rbp-CA4h]
  float v677; // [rsp+158h] [rbp-CA0h]
  float v678; // [rsp+15Ch] [rbp-C9Ch]
  float v679; // [rsp+160h] [rbp-C98h]
  float v680; // [rsp+164h] [rbp-C94h]
  float v681; // [rsp+168h] [rbp-C90h]
  float v682; // [rsp+16Ch] [rbp-C8Ch]
  float v683; // [rsp+170h] [rbp-C88h]
  float v684; // [rsp+174h] [rbp-C84h]
  float v685; // [rsp+178h] [rbp-C80h]
  float v686; // [rsp+17Ch] [rbp-C7Ch]
  float v687; // [rsp+180h] [rbp-C78h] BYREF
  float v688; // [rsp+184h] [rbp-C74h]
  float v689; // [rsp+188h] [rbp-C70h]
  float v690; // [rsp+18Ch] [rbp-C6Ch]
  float v691; // [rsp+190h] [rbp-C68h]
  float v692; // [rsp+194h] [rbp-C64h]
  float v693; // [rsp+198h] [rbp-C60h]
  int v694; // [rsp+1A0h] [rbp-C58h] BYREF
  int v695; // [rsp+1A4h] [rbp-C54h] BYREF
  unsigned __int64 v696; // [rsp+1A8h] [rbp-C50h] BYREF
  unsigned __int64 v697; // [rsp+1B0h] [rbp-C48h] BYREF
  __int128 v698; // [rsp+1B8h] [rbp-C40h] BYREF
  __int64 v699; // [rsp+1C8h] [rbp-C30h]
  float v700; // [rsp+1D0h] [rbp-C28h]
  float v701; // [rsp+1D4h] [rbp-C24h]
  float v702; // [rsp+1D8h] [rbp-C20h]
  float v703; // [rsp+1DCh] [rbp-C1Ch]
  __int64 v704; // [rsp+1E0h] [rbp-C18h]
  float v705; // [rsp+1E8h] [rbp-C10h]
  __int64 v706; // [rsp+1F0h] [rbp-C08h] BYREF
  __int64 v707; // [rsp+1F8h] [rbp-C00h] BYREF
  float v708; // [rsp+200h] [rbp-BF8h]
  float v709; // [rsp+204h] [rbp-BF4h]
  float v710; // [rsp+208h] [rbp-BF0h]
  float v711; // [rsp+20Ch] [rbp-BECh]
  float v712; // [rsp+210h] [rbp-BE8h]
  float v713; // [rsp+214h] [rbp-BE4h]
  float v714; // [rsp+218h] [rbp-BE0h]
  _DWORD v715[2]; // [rsp+220h] [rbp-BD8h] BYREF
  __int64 v716; // [rsp+228h] [rbp-BD0h]
  unsigned __int64 v717; // [rsp+230h] [rbp-BC8h]
  unsigned __int64 v718; // [rsp+238h] [rbp-BC0h]
  __int64 v719; // [rsp+240h] [rbp-BB8h]
  __int64 v720; // [rsp+248h] [rbp-BB0h]
  double v721; // [rsp+270h] [rbp-B88h] BYREF
  double v722; // [rsp+278h] [rbp-B80h]
  double v723; // [rsp+280h] [rbp-B78h]
  double v724; // [rsp+288h] [rbp-B70h]
  double v725; // [rsp+290h] [rbp-B68h]
  double v726; // [rsp+298h] [rbp-B60h]
  double v727; // [rsp+2A0h] [rbp-B58h]
  double v728; // [rsp+2A8h] [rbp-B50h]
  double v729[8]; // [rsp+2B0h] [rbp-B48h] BYREF
  double v730; // [rsp+2F0h] [rbp-B08h] BYREF
  double v731; // [rsp+2F8h] [rbp-B00h]
  double v732; // [rsp+300h] [rbp-AF8h]
  double v733; // [rsp+308h] [rbp-AF0h]
  double v734; // [rsp+310h] [rbp-AE8h]
  double v735; // [rsp+318h] [rbp-AE0h]
  double v736; // [rsp+320h] [rbp-AD8h]
  double v737; // [rsp+328h] [rbp-AD0h]
  double v738; // [rsp+330h] [rbp-AC8h] BYREF
  double v739; // [rsp+338h] [rbp-AC0h]
  double v740; // [rsp+340h] [rbp-AB8h]
  double v741; // [rsp+348h] [rbp-AB0h]
  double v742; // [rsp+350h] [rbp-AA8h]
  double v743; // [rsp+358h] [rbp-AA0h]
  double v744; // [rsp+360h] [rbp-A98h]
  double v745; // [rsp+368h] [rbp-A90h]
  double v746; // [rsp+370h] [rbp-A88h] BYREF
  double v747; // [rsp+378h] [rbp-A80h]
  double v748; // [rsp+380h] [rbp-A78h]
  double v749; // [rsp+388h] [rbp-A70h]
  double v750; // [rsp+390h] [rbp-A68h]
  double v751; // [rsp+398h] [rbp-A60h]
  double v752; // [rsp+3A0h] [rbp-A58h]
  double v753; // [rsp+3A8h] [rbp-A50h]
  double v754; // [rsp+3B0h] [rbp-A48h] BYREF
  double v755; // [rsp+3B8h] [rbp-A40h]
  double v756; // [rsp+3C0h] [rbp-A38h]
  double v757; // [rsp+3C8h] [rbp-A30h]
  double v758; // [rsp+3D0h] [rbp-A28h]
  double v759; // [rsp+3D8h] [rbp-A20h]
  double v760; // [rsp+3E0h] [rbp-A18h]
  double v761; // [rsp+3E8h] [rbp-A10h]
  double v762[8]; // [rsp+3F0h] [rbp-A08h] BYREF
  double v763; // [rsp+430h] [rbp-9C8h] BYREF
  double v764; // [rsp+438h] [rbp-9C0h]
  double v765; // [rsp+440h] [rbp-9B8h]
  double v766; // [rsp+448h] [rbp-9B0h]
  double v767; // [rsp+450h] [rbp-9A8h]
  double v768; // [rsp+458h] [rbp-9A0h]
  double v769; // [rsp+460h] [rbp-998h]
  double v770; // [rsp+468h] [rbp-990h]
  double v771[8]; // [rsp+470h] [rbp-988h] BYREF
  double v772[8]; // [rsp+4B0h] [rbp-948h] BYREF
  char v773[16]; // [rsp+4F0h] [rbp-908h] BYREF
  unsigned __int64 v774; // [rsp+500h] [rbp-8F8h] BYREF
  unsigned __int64 v775; // [rsp+508h] [rbp-8F0h] BYREF
  char v776[8]; // [rsp+510h] [rbp-8E8h] BYREF
  unsigned __int64 v777; // [rsp+518h] [rbp-8E0h] BYREF
  char v778[8]; // [rsp+520h] [rbp-8D8h] BYREF
  unsigned __int64 v779[5]; // [rsp+528h] [rbp-8D0h] BYREF
  __int128 v780; // [rsp+550h] [rbp-8A8h]
  double v781; // [rsp+560h] [rbp-898h]
  double v782; // [rsp+568h] [rbp-890h]
  double v783; // [rsp+578h] [rbp-880h]
  double v784; // [rsp+580h] [rbp-878h]
  double v785; // [rsp+588h] [rbp-870h]
  __int128 v786; // [rsp+590h] [rbp-868h]
  double v787; // [rsp+5A0h] [rbp-858h]
  double v788; // [rsp+5A8h] [rbp-850h]
  double v789; // [rsp+5B8h] [rbp-840h]
  double v790; // [rsp+5C0h] [rbp-838h]
  double v791; // [rsp+5C8h] [rbp-830h]
  __int128 v792; // [rsp+5D0h] [rbp-828h]
  double v793; // [rsp+5E0h] [rbp-818h]
  double v794; // [rsp+5E8h] [rbp-810h]
  double v795; // [rsp+5F8h] [rbp-800h]
  double v796; // [rsp+600h] [rbp-7F8h]
  double v797; // [rsp+608h] [rbp-7F0h]
  __int128 v798; // [rsp+610h] [rbp-7E8h]
  double v799; // [rsp+620h] [rbp-7D8h]
  double v800; // [rsp+628h] [rbp-7D0h]
  __m256 v801; // [rsp+688h] [rbp-770h]
  __int128 v802; // [rsp+6C8h] [rbp-730h]
  double v803; // [rsp+6D8h] [rbp-720h]
  __int128 v804; // [rsp+6E8h] [rbp-710h] BYREF
  double v805; // [rsp+6F8h] [rbp-700h]
  double v806; // [rsp+700h] [rbp-6F8h]
  _BYTE v808[88]; // [rsp+740h] [rbp-6B8h] BYREF
  __int128 v809; // [rsp+798h] [rbp-660h]
  double v810; // [rsp+7A8h] [rbp-650h]
  __int128 v811; // [rsp+7D8h] [rbp-620h]
  double v812; // [rsp+7E8h] [rbp-610h]
  __int128 v813; // [rsp+818h] [rbp-5E0h]
  double v814; // [rsp+828h] [rbp-5D0h]
  __int128 v815; // [rsp+858h] [rbp-5A0h]
  double v816; // [rsp+868h] [rbp-590h]
  char v817[56]; // [rsp+878h] [rbp-580h] BYREF
  char v818[56]; // [rsp+8B0h] [rbp-548h] BYREF
  char v819[64]; // [rsp+8E8h] [rbp-510h] BYREF
  char v820[64]; // [rsp+928h] [rbp-4D0h] BYREF
  char v821[64]; // [rsp+968h] [rbp-490h] BYREF
  char v822[64]; // [rsp+9A8h] [rbp-450h] BYREF
  char v823[64]; // [rsp+9E8h] [rbp-410h] BYREF
  double v824[8]; // [rsp+A28h] [rbp-3D0h] BYREF
  char v825[64]; // [rsp+A68h] [rbp-390h] BYREF
  double v826[8]; // [rsp+AA8h] [rbp-350h] BYREF
  char v827[64]; // [rsp+AE8h] [rbp-310h] BYREF
  char v828[64]; // [rsp+B28h] [rbp-2D0h] BYREF
  double v829[8]; // [rsp+B68h] [rbp-290h] BYREF
  char v830[64]; // [rsp+BA8h] [rbp-250h] BYREF
  char v831[64]; // [rsp+BE8h] [rbp-210h] BYREF
  char v832[64]; // [rsp+C28h] [rbp-1D0h] BYREF
  char v833[64]; // [rsp+C68h] [rbp-190h] BYREF
  char v834[8]; // [rsp+CA8h] [rbp-150h] BYREF
  unsigned __int64 v835; // [rsp+CB0h] [rbp-148h]
  __int64 v836; // [rsp+CC0h] [rbp-138h]
  __int64 v837; // [rsp+CC8h] [rbp-130h]
  char v838[8]; // [rsp+CE0h] [rbp-118h] BYREF
  unsigned __int64 v839; // [rsp+CE8h] [rbp-110h]
  __int64 v840; // [rsp+CF8h] [rbp-100h]
  __int64 v841; // [rsp+D00h] [rbp-F8h]
  unsigned __int64 v842; // [rsp+E08h] [rbp+10h] BYREF

  v842 = a2;
  if ( !sub_14030EC00(&v842) )
    return 0;
  if ( *(_BYTE *)(a1 + 0xD) >= 5u )
    return 0;
  if ( (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v842 & 0xFFFFFFFFFFFFLL) + 0x58LL))(v842 & 0xFFFFFFFFFFFFLL) )
    return 0;
  if ( (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v842 & 0xFFFFFFFFFFFFLL) + 0x60LL))(v842 & 0xFFFFFFFFFFFFLL) )
    return 0;
  v5 = (unsigned __int64 *)(*(__int64 (__fastcall **)(unsigned __int64, char *))(*(_QWORD *)(v842 & 0xFFFFFFFFFFFFLL)
                                                                               + 0x10LL))(
                             v842 & 0xFFFFFFFFFFFFLL,
                             v773);
  if ( sub_14030EC00(v5) )
  {
    if ( (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v842 & 0xFFFFFFFFFFFFLL) + 0x50LL))(v842 & 0xFFFFFFFFFFFFLL) )
      return 0;
  }
  v6 = *(_DWORD *)(a1 + 0x2D8);
  v716 = 0;
  v718 = 0;
  v719 = 0;
  v720 = 0;
  v715[0] = 0xF00;
  v715[1] = v6;
  v717 = __rdtsc();
  qword_149B4B870(
    v715,
    &word_1515B1B8C,
    "CEntity::AttachChild",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x3BD);
  v7 = (void (*)(const char *, ...))qword_149B4B8B0;
  HIWORD(v715[0]) = word_1515B1B8C;
  v8 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v842 & 0xFFFFFFFFFFFFLL) + 0x70LL))(v842 & 0xFFFFFFFFFFFFLL);
  v7("Attaching %s", v8);
  v9 = sub_14030EC00(&v842);
  v10 = v842 & 0xFFFFFFFFFFFFLL;
  if ( !v9 )
    v10 = 0;
  v11 = *(_BYTE *)(v10 + 0xB8);
  v698 = 0;
  v699 = 0;
  v649 = v11;
  *(double *)&v12 = COERCE_DOUBLE(
                      (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8
                                                                                      + 0x180LL))(
                        qword_149B4FBE8,
                        0x7832,
                        &v698,
                        0));
  v673 = *(double *)&v12;
  v13 = !*(_QWORD *)NtCurrentTeb_w() || !dword_149AC4B00;
  v615 = v13;
  (*(void (**)(void))(*(_QWORD *)qword_149B4FBE8 + 0xF0LL))();
  n0x40000E = 0;
  if ( v10 == a1 )
    goto LABEL_16;
  v14 = *(unsigned __int64 **)(a1 + 0x130);
  if ( !v14 )
  {
    sub_146B29550(a1);
    goto LABEL_18;
  }
  if ( sub_1403E6750(v14) != v10 )
  {
LABEL_18:
    v16 = *(unsigned __int64 **)(v10 + 0x130);
    if ( v16 )
    {
      if ( sub_14030EC00(v16) )
      {
        if ( sub_1403E6750(*(unsigned __int64 **)(v10 + 0x130)) == a1 && *(_DWORD *)a3 == 9 )
        {
          v17 = *(_QWORD *)(v10 + 0x130);
          if ( (*(_DWORD *)(v17 + 0x10) == 1 || *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x10LL) == 0xA)
            && ((*(_BYTE *)(a3 + 4) ^ *(_BYTE *)(v17 + 0x140)) & 0xC) == 0 )
          {
            __asm { vmovupd ymm0, cs:ymmword_1481A4CC0 }
            *(_DWORD *)(v17 + 0x10) = 9;
            v19 = *(_QWORD *)(v10 + 0x130);
            __asm { vmovupd [rsp+0DF8h+var_770], ymm0 }
            *(_DWORD *)(v19 + 0x140) = *(_DWORD *)(a3 + 4) | *(_DWORD *)(v19 + 0x140) & 2;
            v20 = *(_QWORD *)(v10 + 0x130);
            *(_QWORD *)(v20 + 0x150) = 0;
            *(double *)(v20 + 0x158) = 0;
            *(double *)(v20 + 0x160) = *(double *)_mm_shuffle_ps((__m128)0LL, (__m128)0LL, 0xEE).m128_u64;
            v21 = (__m256i)v801;
            *(double *)(v20 + 0x168) = 0x3FF0000000000000LL;
            *(__m256i *)(v20 + 0x170) = v21;
            __asm { vzeroupper }
            (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
              qword_149B4FBE8,
              0x7832,
              v12);
            v15 = 1;
            goto LABEL_237;
          }
        }
        sub_146B3FB00(v10, 0, 0, v12);
      }
    }
    else
    {
      sub_146B29550(v10);
    }
    if ( v13 )
    {
      v22 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( dword_149AC4C08 == v22 )
      {
        ++dword_149AC4C0C;
      }
      else
      {
        p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
        v24 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0x200000, 0);
        if ( v24 )
          sub_1403DCD60(
            (__int64)&qword_149AC4BF8,
            v24,
            (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
            "CEntity::AttachChild",
            "s_aggregateHierarchyLock",
            1);
        else
          ::p_p_p_p_p_p_p_p_p_p_p_p_Source = p_p_p_p_p_p_p_p_p_p_p_p_Source;
        dword_149AC4C08 = v22;
      }
      v25 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( dword_149AC4BF0 == v25 )
      {
        ++dword_149AC4BF4;
      }
      else
      {
        p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = *(char **)(NtCurrentTeb_w() + 0x20);
        v27 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0x200000, 0);
        if ( v27 )
          sub_1403DCD60(
            (__int64)&qword_149AC4BE0,
            v27,
            (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source_1,
            "CEntity::AttachChild",
            "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
            1);
        else
          ::p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = p_p_p_p_p_p_p_p_p_p_p_p_Source_1;
        dword_149AC4BF0 = v25;
      }
      v28 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      v630 = v28;
      v29 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(v28 + 0x10) == v29 )
      {
        ++*(_DWORD *)(v28 + 0x14);
      }
      else
      {
        v30 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
        v31 = _InterlockedCompareExchange64((volatile signed __int64 *)v28, 0x200000, 0);
        if ( v31 )
          sub_1403DCD60(v28, v31, v30, "CEntity::AttachChild", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
        else
          *(_QWORD *)(v28 + 8) = v30;
        *(_DWORD *)(v28 + 0x10) = v29;
      }
      (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xA8LL))(qword_149B4FBE8);
      v32 = a1 + 0xC0;
      v33 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(a1 + 0xD0) == v33 )
      {
        ++*(_DWORD *)(a1 + 0xD4);
      }
      else
      {
        v34 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
        v35 = _InterlockedCompareExchange64((volatile signed __int64 *)v32, 0x200000, 0);
        if ( v35 )
          sub_1403DCD60(a1 + 0xC0, v35, v34, "CEntity::AttachChild", "m_cross_ecus_state.updateLock", 1);
        else
          *(_QWORD *)(a1 + 0xC8) = v34;
        *(_DWORD *)(a1 + 0xD0) = v33;
        v630 = v28;
      }
      v36 = v10 + 0xC0;
      v674 = v10 + 0xC0;
      v607 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(v10 + 0xD0) == v607 )
      {
        ++*(_DWORD *)(v10 + 0xD4);
      }
      else
      {
        v37 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
        v38 = _InterlockedCompareExchange64((volatile signed __int64 *)(v10 + 0xC0), 0x200000, 0);
        if ( v38 )
          sub_1403DCD60(v10 + 0xC0, v38, v37, "CEntity::AttachChild", "pChild->m_cross_ecus_state.updateLock", 1);
        else
          *(_QWORD *)(v10 + 0xC8) = v37;
        *(_DWORD *)(v10 + 0xD0) = v607;
      }
    }
    else
    {
      v36 = v10 + 0xC0;
      v630 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      v28 = v630;
      v674 = v10 + 0xC0;
      v32 = a1 + 0xC0;
    }
    v39 = 0x3FF0000000000000uLL;
    v40 = 0.0;
    v603 = 1.0;
    v626 = 0.0;
    if ( !*(_QWORD *)(a1 + 0x2C0) || (*(_BYTE *)(a3 + 4) & 4) != 0 )
    {
      v44 = (double *)sub_146B54040(a1, v820, 0);
      v43 = 0;
      v45 = *v44;
    }
    else
    {
      __asm { vmovupd ymm1, cs:ymmword_1481A4CC0 }
      _XMM0 = 0;
      __asm
      {
        vmovupd [rsp+0DF8h+var_710], xmm0
        vmovupd [rsp+0DF8h+var_6F0], ymm1
      }
      v806 = 1.0;
      v805 = 0.0;
      v43 = 1;
      v44 = (double *)&v804;
      v45 = 0.0;
    }
    v46 = v44[3];
    v47 = v44[1];
    v48 = v44[2];
    v49 = v44[7];
    _XMM0 = *((_OWORD *)v44 + 2);
    v51 = v44[6];
    v608 = v46;
    v669 = v46;
    v579 = v47;
    v667 = v47;
    v596 = v48;
    v668 = v48;
    v616 = v49;
    *(double *)&v670.m256_f32[6] = v49;
    v663 = v46;
    v661 = v47;
    v662 = v48;
    *(double *)v664.m256_f32 = *(double *)&_XMM0;
    __asm { vmovhpd qword ptr [rsp+0DF8h+var_D38+8], xmm0 }
    *(double *)&v664.m256_f32[4] = v51;
    *(double *)&v664.m256_f32[6] = v49;
    *(_OWORD *)v670.m256_f32 = _XMM0;
    *(double *)&v670.m256_f32[4] = v51;
    v588 = v45;
    v666 = v45;
    v660 = v45;
    if ( v43 )
      v671 = *(_QWORD *)(a1 + 0x2C0);
    else
      v671 = *(_QWORD *)(a1 + 0x2B0);
    v672 = *(double *)(v10 + 0x2B0);
    switch ( *(_DWORD *)a3 )
    {
      case 1:
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 1;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        if ( (*(_BYTE *)(a3 + 4) & 1) != 0 || (v52 = *(_QWORD *)(a3 + 0x130)) == 0 )
        {
          __asm { vzeroupper }
          v54 = sub_146B51140(a1, v822, v10, 0);
          v55 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
          *(_QWORD *)v55 = *(_QWORD *)v54;
          *(_QWORD *)(v55 + 8) = *(_QWORD *)(v54 + 8);
          *(_QWORD *)(v55 + 0x10) = *(_QWORD *)(v54 + 0x10);
          *(_QWORD *)(v55 + 0x18) = *(_QWORD *)(v54 + 0x18);
          *(_OWORD *)(v55 + 0x20) = *(_OWORD *)(v54 + 0x20);
          *(double *)(v55 + 0x30) = *(double *)(v54 + 0x30);
          *(_QWORD *)(v55 + 0x38) = *(_QWORD *)(v54 + 0x38);
        }
        else
        {
          v53 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
          *(_QWORD *)v53 = *(_QWORD *)v52;
          *(_QWORD *)(v53 + 8) = *(_QWORD *)(v52 + 8);
          *(_QWORD *)(v53 + 0x10) = *(_QWORD *)(v52 + 0x10);
          *(_QWORD *)(v53 + 0x18) = *(_QWORD *)(v52 + 0x18);
          *(_OWORD *)(v53 + 0x20) = *(_OWORD *)(v52 + 0x20);
          *(double *)(v53 + 0x30) = *(double *)(v52 + 0x30);
          *(_QWORD *)(v53 + 0x38) = *(_QWORD *)(v52 + 0x38);
          if ( *(_BYTE *)(v10 + 0xD) >= 4u )
          {
            __asm { vzeroupper }
            *(double *)(*(_QWORD *)(v10 + 0x130) + 0x188LL) = *(double *)(sub_146B54040(v10, v821, 0) + 0x38)
                                                            * *(double *)(*(_QWORD *)(v10 + 0x130) + 0x188LL);
          }
        }
        v56 = (double *)(*(_QWORD *)(v10 + 0x130) + 0x150LL);
        v57 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x160LL);
        v58 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x158LL);
        v59 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x168LL);
        v60 = v48 * *v56 - v45 * v57 + v58 * v46 + v47 * v59;
        v61 = v46 * v59;
        v62 = v57 * v46;
        v63 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x180LL);
        v64 = v58 * v45 - v47 * *v56 + v62 + v48 * v59;
        v65 = v58 * v47;
        v66 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x170LL);
        v67 = v48 * v57;
        v68 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x178LL);
        v69 = v61 - v45 * *v56 - v65 - v67;
        v70 = v579 * v63 - v68 * v596 + v66 * v608;
        v71 = v66 * v596 - v45 * v63 + v68 * v608;
        v72 = v45 * v68 - v579 * v66 + v63 * v608;
        v73 = v579 * v72 - v71 * v596;
        v74 = v70 * v596 - v45 * v72;
        v75 = v45 * v71;
        v76 = v616 * *(double *)(*(_QWORD *)(v10 + 0x130) + 0x188LL);
        v660 = v57 * v579
             - v596 * *(double *)(*(_QWORD *)(v10 + 0x130) + 0x158LL)
             + *v56 * v608
             + v588 * *(double *)(*(_QWORD *)(v10 + 0x130) + 0x168LL);
        v661 = v60;
        v662 = v64;
        v663 = v69;
        *(double *)v664.m256_f32 = (v73 + v66 + v73) * v616 + *(double *)v670.m256_f32;
        *(double *)&v664.m256_f32[2] = (v74 + v68 + v74) * v616 + *(double *)&v670.m256_f32[2];
        *(double *)&v664.m256_f32[4] = (v75 - v70 * v579 + v63 + v75 - v70 * v579) * v616 + *(double *)&v670.m256_f32[4];
        *(double *)&v664.m256_f32[6] = v76;
        goto LABEL_74;
      case 2:
        if ( a3 == 0xFFFFFFFFFFFFFFF8uLL )
          goto LABEL_205;
        if ( *(_BYTE *)(a3 + 0x128) )
          goto LABEL_205;
        __asm { vzeroupper }
        if ( sub_1403BFA30((_QWORD *)(a3 + 8)) )
          goto LABEL_205;
        v609 = *(_DWORD *)(a3 + 4) >> 0x1C;
        v597 = sub_1402A33E0(*(char **)(a3 + 8));
        v83 = sub_146B4B810(a1, v609);
        v617 = v83;
        if ( !v83 )
        {
LABEL_144:
          v311 = qword_149B4FBE8;
          v312 = v12;
          v313 = *(_QWORD *)qword_149B4FBE8;
          goto LABEL_206;
        }
        v580 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v83 + 0x270LL))(v83);
        v84 = 0;
        if ( !v580 )
          goto LABEL_75;
        while ( (*(unsigned int (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v617 + 0x288LL))(v617, v84) != v597 )
        {
          if ( ++v84 >= v580 )
            goto LABEL_75;
        }
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 2;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        sub_143E30390(*(_QWORD *)(v10 + 0x130) + 0x18LL);
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x144LL) = v609;
        *(_WORD *)(*(_QWORD *)(v10 + 0x130) + 0x148LL) = v84;
        (*(void (__fastcall **)(__int64, float *, _QWORD))(*(_QWORD *)v617 + 0x278LL))(v617, &v675, v84);
        sub_140745F90(&v675);
        v85 = *(_QWORD *)(a3 + 0x130);
        if ( v85 )
        {
          v86 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
          *(_QWORD *)v86 = *(_QWORD *)v85;
          *(_QWORD *)(v86 + 8) = *(_QWORD *)(v85 + 8);
          *(_QWORD *)(v86 + 0x10) = *(_QWORD *)(v85 + 0x10);
          *(_QWORD *)(v86 + 0x18) = *(_QWORD *)(v85 + 0x18);
          *(_OWORD *)(v86 + 0x20) = *(_OWORD *)(v85 + 0x20);
          *(double *)(v86 + 0x30) = *(double *)(v85 + 0x30);
          *(_QWORD *)(v86 + 0x38) = *(_QWORD *)(v85 + 0x38);
          if ( *(_BYTE *)(v10 + 0xD) < 4u )
            goto LABEL_108;
          v87 = *(double *)(sub_146B54040(v10, v823, 0) + 0x38);
          v88 = *(_QWORD *)(v10 + 0x130);
          v89 = v87 * *(double *)(v88 + 0x188);
          goto LABEL_107;
        }
        if ( (*(_BYTE *)(a3 + 4) & 1) == 0 )
        {
          v162 = (_QWORD *)(*(_QWORD *)(v10 + 0x130) + 0x150LL);
          v162[3] = 0x3FF0000000000000LL;
          *v162 = 0;
          v162[1] = 0;
          v162[2] = 0;
          v162[4] = 0;
          v162[5] = 0;
          v162[6] = 0;
          v162[7] = 0x3FF0000000000000LL;
          if ( *(_BYTE *)(v10 + 0xD) < 4u )
            goto LABEL_108;
          v89 = *(double *)(sub_146B54040(v10, v819, 0) + 0x38);
          v88 = *(_QWORD *)(v10 + 0x130);
LABEL_107:
          *(double *)(v88 + 0x188) = v89;
LABEL_108:
          v638 = v678;
          v611 = v686;
          v163 = v675;
          v164 = COERCE_UNSIGNED_INT64(v676);
          v618 = v682;
          v165 = v683;
          v166 = COERCE_UNSIGNED_INT64(v685);
          v167 = v677;
          v168 = v684;
          v169 = (double *)(*(_QWORD *)(v10 + 0x130) + 0x150LL);
          v650 = pow(
                   fabs(
                     v680 * v675 * *(double *)&v166
                   + v681 * *(double *)&v164 * v683
                   + v679 * v167 * v684
                   - v680 * v167 * v683
                   - v681 * v675 * v684
                   - v679 * *(double *)&v164 * *(double *)&v166),
                   0.3333333333333333);
          *((_QWORD *)&v170 + 1) = *((_QWORD *)&v164 + 1);
          *(double *)&v170 = *(double *)&v164 * *(double *)&v164 + v163 * v163 + v167 * v167 + 2.225073858507201e-308;
          _XMM1 = v170;
          __asm
          {
            vmovddup xmm4, xmm1
            vsqrtpd xmm2, xmm4
            vunpckhpd xmm2, xmm2, xmm2
          }
          *((_QWORD *)&v170 + 1) = *((_QWORD *)&v39 + 1);
          *(double *)&v170 = *(double *)&v39 / *(double *)&_XMM2 * v163;
          v175 = v170;
          v176 = v165 * *(double *)&v164 - v168 * v163;
          *((_QWORD *)&v170 + 1) = *((_QWORD *)&v166 + 1);
          v177 = *(double *)&v166 * v163 - v165 * v167;
          *(double *)&_XMM4 = v168 * v167 - *(double *)&v166 * *(double *)&v164;
          *(double *)&v170 = v177 * v177 + *(double *)&_XMM4 * *(double *)&_XMM4 + v176 * v176 + 2.225073858507201e-308;
          _XMM1 = v170;
          __asm { vmovddup xmm3, xmm1 }
          v180 = *(double *)&v39 / *(double *)&_XMM2 * *(double *)&v164;
          v181 = *(double *)&v39 / *(double *)&_XMM2 * v167;
          __asm
          {
            vsqrtpd xmm0, xmm3
            vunpckhpd xmm0, xmm0, xmm0
          }
          *((_QWORD *)&v170 + 1) = *((_QWORD *)&v39 + 1);
          v184 = *(double *)&v39 / *(double *)&_XMM0 * v176;
          v185 = *(double *)&v39 / *(double *)&_XMM0 * *(double *)&_XMM4;
          *(double *)&v170 = *(double *)&v39 / *(double *)&_XMM0 * v177;
          v186 = v170;
          v187 = 0.0;
          v188 = v184 * v180 - v181 * *(double *)&v170;
          v189 = v181 * v185 - v184 * *(double *)&v175;
          *(double *)&v170 = *(double *)&v170 * *(double *)&v175 - v185 * v180;
          v190 = v170;
          *((_QWORD *)&v191 + 1) = *((_QWORD *)&v186 + 1);
          *(double *)&v191 = *(double *)&v186 + *(double *)&v175 + *(double *)&v190;
          v599 = 0.0;
          v582 = 0.0;
          v192 = 0.0;
          v193 = 0.0;
          if ( *(double *)&v191 <= 0.0 )
          {
            if ( *(double *)&v175 < *(double *)&v186 || *(double *)&v175 < *(double *)&v190 )
            {
              if ( *(double *)&v186 < *(double *)&v175 || *(double *)&v186 < *(double *)&v190 )
              {
                if ( *(double *)&v190 < *(double *)&v175 || *(double *)&v190 < *(double *)&v186 )
                {
LABEL_121:
                  v604 = v668 * v187 - v666 * v193 + v669 * v192 + v667 * *(double *)&v39;
                  v215 = v666 * v192 - v667 * v187 + v669 * v193 + v668 * *(double *)&v39;
                  v216 = v669 * *(double *)&v39 - v666 * v187 - v667 * v192 - v668 * v193;
                  v217 = v611 * v667 - v618 * v668 + v669 * v638;
                  v218 = v668 * v638 - v611 * v666 + v618 * v669;
                  v219 = v618 * v666 - v667 * v638 + v611 * v669;
                  v639 = (v667 * v219 - v668 * v218 + v638 + v667 * v219 - v668 * v218) * *(double *)&v670.m256_f32[6]
                       + *(double *)v670.m256_f32;
                  v642 = (v668 * v217 - v666 * v219 + v618 + v668 * v217 - v666 * v219) * *(double *)&v670.m256_f32[6]
                       + *(double *)&v670.m256_f32[2];
                  v612 = (v666 * v218 - v667 * v217 + v611 + v666 * v218 - v667 * v217) * *(double *)&v670.m256_f32[6]
                       + *(double *)&v670.m256_f32[4];
                  v619 = *(double *)&v670.m256_f32[6] * v650;
                  v651 = v667 * v582 - v668 * v599 + v669 * v626 + v666 * *(double *)&v39;
                  v631 = v216;
                  v220 = v169[2];
                  v221 = v169[1];
                  v222 = v169[3];
                  v223 = v169[6];
                  v224 = v169[5];
                  v225 = v215 * *v169 - v220 * v651 + v216 * v221 + v604 * v222;
                  v226 = v222 * v216;
                  v227 = v221 * v651 - v604 * *v169 + v216 * v220 + v222 * v215;
                  v228 = v169[4];
                  v229 = v226 - *v169 * v651 - v604 * v221 - v215 * v220;
                  v230 = v223 * v604 - v215 * v224 + v631 * v228;
                  v231 = v215 * v228 - v223 * v651 + v631 * v224;
                  v232 = v224 * v651 - v228 * v604 + v631 * v223;
                  v233 = v619 * v169[7];
                  v660 = v220 * v604 - v215 * v221 + v631 * *v169 + v169[3] * v651;
                  v661 = v225;
                  v662 = v227;
                  v663 = v229;
                  *(double *)v664.m256_f32 = (v232 * v604 - v231 * v215 + v228 + v232 * v604 - v231 * v215) * v619
                                           + v639;
                  *(double *)&v664.m256_f32[2] = (v230 * v215 - v232 * v651 + v224 + v230 * v215 - v232 * v651) * v619
                                               + v642;
                  *(double *)&v664.m256_f32[4] = (v231 * v651 - v230 * v604 + v223 + v231 * v651 - v230 * v604) * v619
                                               + v612;
                  *(double *)&v664.m256_f32[6] = v233;
LABEL_74:
                  n0x40000E = 0x40000E;
LABEL_75:
                  v77 = *(_QWORD **)(a1 + 0x130);
                  if ( *(int *)(a3 + 0x160) < 0
                    || (v78 = *(int *)(a3 + 0x160), v79 = v77 + 0x37, (__int64)(v77[0x38] - v77[0x37]) >> 3 <= v78) )
                  {
                    v79 = v77 + 0x37;
                    v697 = v842;
                    v541 = (char *)v77[0x38];
                    if ( v541 != (char *)v79[2] )
                    {
                      *(_QWORD *)v541 = v842;
                      v697 = 0;
                      v79[1] += 8LL;
                      goto LABEL_246;
                    }
                    v540 = &v697;
                  }
                  else
                  {
                    v80 = v842;
                    v696 = v842;
                    v81 = (unsigned __int64 *)(*v79 + 8 * v78);
                    v82 = (unsigned __int64 *)v77[0x38];
                    if ( v82 != (unsigned __int64 *)v77[0x39] )
                    {
                      if ( v81 == v82 )
                      {
                        *v82 = v842;
                        v696 = 0;
                        v77[0x38] += 8LL;
                      }
                      else
                      {
                        v696 = 0;
                        v537 = v82 + 0xFFFFFFFF;
                        *v82 = v82[0xFFFFFFFF];
                        v82[0xFFFFFFFF] = 0;
                        v79[1] += 8LL;
                        if ( v82 + 0xFFFFFFFF != v81 )
                        {
                          do
                          {
                            v538 = v537[0xFFFFFFFF];
                            v539 = v537;
                            v537 += 0xFFFFFFFF;
                            *v539 = v538;
                            *v537 = 0;
                          }
                          while ( v537 != v81 );
                        }
                        *v81 = v80;
                      }
LABEL_246:
                      if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
                      {
                        v542 = 0;
                        v543 = a1 - 6;
                      }
                      else
                      {
                        v542 = 1;
                        v543 = a1 & 0xFFFFFFFFFF000000uLL;
                      }
                      v544 = *(_WORD *)(v543 + 2) | 0x2000;
                      if ( !v542 )
                        v544 = *(_WORD *)(v543 + 2);
                      **(_QWORD **)(v10 + 0x130) = a1 | ((unsigned __int64)v544 << 0x30);
                      v706 = *(_QWORD *)(*(_QWORD *)(a1 + 0x130) + 8LL);
                      __asm { vzeroupper }
                      sub_146B73900(v10, &v706);
                      sub_146B33ED0(v10, a1, 1u);
                      v545 = v672;
                      if ( v671 == *(_QWORD *)&v672 )
                      {
                        if ( *(_BYTE *)(v10 + 0xD) < 4u )
                        {
                          (*(void (__fastcall **)(double, __int64 *))(**(_QWORD **)&v672 + 0x40LL))(
                            COERCE_DOUBLE(*(_QWORD *)&v672),
                            &v707);
                          v556 = sub_146B49710(a1, &v774);
                          if ( (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(*v556 & 0xFFFFFFFFFFFFLL)
                                                                           + 0x668LL))(*v556 & 0xFFFFFFFFFFFFLL) )
                          {
                            v557 = sub_146B49710(a1, &v775);
                            v558 = (_QWORD *)(*(__int64 (__fastcall **)(unsigned __int64, char *))(*(_QWORD *)(*v557 & 0xFFFFFFFFFFFFLL)
                                                                                                 + 8LL))(
                                               *v557 & 0xFFFFFFFFFFFFLL,
                                               v776);
                          }
                          else
                          {
                            v559 = sub_146B49710(a1, &v777);
                            v558 = (_QWORD *)(*(__int64 (__fastcall **)(unsigned __int64, char *))(*(_QWORD *)(*v559 & 0xFFFFFFFFFFFFLL)
                                                                                                 + 0x660LL))(
                                               *v559 & 0xFFFFFFFFFFFFLL,
                                               v778);
                          }
                          if ( v707 != *v558
                            || (v560 = sub_146B49710(a1, v779),
                                (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(*v560 & 0xFFFFFFFFFFFFLL)
                                                                            + 0x668LL))(*v560 & 0xFFFFFFFFFFFFLL)) )
                          {
                            *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) |= 2u;
                          }
                        }
                        (*(void (__fastcall **)(__int64, unsigned __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8
                                                                                           + 0x140LL))(
                          qword_149B4FBE8,
                          v10 + 0x2A8,
                          v12,
                          0);
                        (*(void (__fastcall **)(__int64, unsigned __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8
                                                                                           + 0x148LL))(
                          qword_149B4FBE8,
                          v10 + 0x2A8,
                          v12,
                          0);
                        n0x40000E_1 = n0x40000E;
                        if ( !n0x40000E )
                          goto LABEL_263;
                      }
                      else
                      {
                        (*(void (__fastcall **)(__int64, _BYTE *, double, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x480LL))(
                          qword_149B4FBE8,
                          v808,
                          COERCE_DOUBLE(*(_QWORD *)&v672),
                          v671);
                        v546 = (double *)(*(__int64 (__fastcall **)(__int64, char *, __int64, double))(*(_QWORD *)qword_149B4FBE8 + 0x480LL))(
                                           qword_149B4FBE8,
                                           v818,
                                           v671,
                                           COERCE_DOUBLE(*(_QWORD *)&v545));
                        v547 = *v546;
                        v548 = v546[1];
                        v549 = v546[3];
                        v550 = v546[2];
                        v673 = v546[4];
                        v659 = v546[5];
                        v648 = v546[6];
                        v672 = v550;
                        v551 = *(double *)&v664.m256_f32[4] * v548
                             - *(double *)&v664.m256_f32[2] * v550
                             + *(double *)v664.m256_f32 * v549;
                        v552 = *(double *)v664.m256_f32 * v550
                             - *(double *)&v664.m256_f32[4] * v547
                             + *(double *)&v664.m256_f32[2] * v549;
                        v553 = *(double *)&v664.m256_f32[2] * v547
                             - *(double *)v664.m256_f32 * v548
                             + *(double *)&v664.m256_f32[4] * v549;
                        v771[0] = v662 * v548 - v661 * v550 + v660 * v549 + v663 * v547;
                        v771[1] = v660 * v550 - v662 * v547 + v661 * v549 + v663 * v548;
                        v771[2] = v661 * v547 - v660 * v548 + v662 * v549 + v663 * v550;
                        v771[3] = v663 * v549 - v660 * v547 - v661 * v548 - v662 * v550;
                        v771[4] = *(double *)v664.m256_f32
                                + v553 * v548
                                - v552 * v550
                                + v553 * v548
                                - v552 * v550
                                + v673;
                        v771[5] = v551 * v550
                                - v553 * v547
                                + *(double *)&v664.m256_f32[2]
                                + v551 * v550
                                - v553 * v547
                                + v659;
                        v771[6] = v552 * v547
                                - v551 * v548
                                + *(double *)&v664.m256_f32[4]
                                + v552 * v547
                                - v551 * v548
                                + v648;
                        v771[7] = *(double *)&v664.m256_f32[6];
                        (*(void (__fastcall **)(__int64, unsigned __int64, double *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x3B0LL))(
                          qword_149B4FBE8,
                          v10 + 0x2A8,
                          v771,
                          2,
                          v12);
                        (*(void (__fastcall **)(__int64, unsigned __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8
                                                                                           + 0x140LL))(
                          qword_149B4FBE8,
                          v10 + 0x2A8,
                          v12,
                          0);
                        LOBYTE(v554) = 1;
                        sub_146B5CF90(v10, v671, (unsigned int)v808, v554, v12, 1);
                        n0x40000E_1 = 0x40000E;
                        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) |= 2u;
                      }
                      sub_146B86300(v10, (unsigned int)&v660, n0x40000E_1 | 0x1020, v12, 0);
LABEL_263:
                      sub_146B7CAF0(v10);
                      v561 = sub_146B4E3D0(v10);
                      if ( v561 && (*(_DWORD *)(a1 + 0x118) & 0x4000) == 0 )
                        sub_146A85370(v561, a1, a3, v12);
                      if ( v615 )
                      {
                        v562 = v674;
                        if ( v674 )
                        {
                          v563 = *(_DWORD *)(v674 + 0x14);
                          if ( v563 )
                          {
                            *(_DWORD *)(v674 + 0x14) = v563 - 1;
                          }
                          else
                          {
                            *(_DWORD *)(v674 + 0x10) = 0xFFFFFFFF;
                            n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v562, 0, 0x200000);
                            if ( n0x200000 == 0x200000 )
                              *(_QWORD *)(v562 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
                            else
                              sub_1403DD380(v562, n0x200000);
                          }
                        }
                        if ( v32 )
                        {
                          v565 = *(_DWORD *)(v32 + 0x14);
                          if ( v565 )
                          {
                            *(_DWORD *)(v32 + 0x14) = v565 - 1;
                          }
                          else
                          {
                            *(_DWORD *)(v32 + 0x10) = 0xFFFFFFFF;
                            n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)v32, 0, 0x200000);
                            if ( n0x200000_1 == 0x200000 )
                              *(_QWORD *)(v32 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
                            else
                              sub_1403DD380(v32, n0x200000_1);
                          }
                        }
                        if ( v28 )
                        {
                          v567 = *(_DWORD *)(v28 + 0x14);
                          if ( v567 )
                          {
                            *(_DWORD *)(v28 + 0x14) = v567 - 1;
                          }
                          else
                          {
                            *(_DWORD *)(v28 + 0x10) = 0xFFFFFFFF;
                            n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)v28, 0, 0x200000);
                            if ( n0x200000_2 == 0x200000 )
                              *(_QWORD *)(v28 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
                            else
                              sub_1403DD380(v28, n0x200000_2);
                          }
                        }
                        if ( dword_149AC4BF4 )
                        {
                          --dword_149AC4BF4;
                        }
                        else
                        {
                          dword_149AC4BF0 = 0xFFFFFFFF;
                          n0x200000_3 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0, 0x200000);
                          if ( n0x200000_3 == 0x200000 )
                            ::p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
                          else
                            sub_1403DD380((__int64)&qword_149AC4BE0, n0x200000_3);
                        }
                        if ( dword_149AC4C0C )
                        {
                          --dword_149AC4C0C;
                        }
                        else
                        {
                          dword_149AC4C08 = 0xFFFFFFFF;
                          n0x200000_4 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
                          if ( n0x200000_4 == 0x200000 )
                            ::p_p_p_p_p_p_p_p_p_p_p_p_Source = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
                          else
                            sub_1403DD380((__int64)&qword_149AC4BF8, n0x200000_4);
                        }
                      }
                      if ( n0x40000E_1 )
                        sub_146B5A040(v10, n0x40000E_1 | 0x2000000u, v12);
                      (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xF8LL))(qword_149B4FBE8);
                      sub_14036C3F0((__int64)v834, 6);
                      if ( qword_1515B1B10 > v10 || v10 >= qword_1515B1B18 + qword_1515B1B10 )
                      {
                        v571 = 0;
                        v572 = v10 - 6;
                      }
                      else
                      {
                        v571 = 1;
                        v572 = v10 & 0xFFFFFFFFFF000000uLL;
                      }
                      v573 = *(_WORD *)(v572 + 2) | 0x2000;
                      if ( !v571 )
                        v573 = *(_WORD *)(v572 + 2);
                      v835 = v10 | ((unsigned __int64)v573 << 0x30);
                      v836 = *(_QWORD *)(v10 + 0x10);
                      v837 = v12;
                      sub_146B731A0(a1, v834);
                      sub_14036C3F0((__int64)v838, 7);
                      if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
                      {
                        v574 = 0;
                        v575 = a1 - 6;
                      }
                      else
                      {
                        v574 = 1;
                        v575 = a1 & 0xFFFFFFFFFF000000uLL;
                      }
                      v576 = *(_WORD *)(v575 + 2) | 0x2000;
                      if ( !v574 )
                        v576 = *(_WORD *)(v575 + 2);
                      v839 = a1 | ((unsigned __int64)v576 << 0x30);
                      v840 = *(_QWORD *)(a1 + 0x10);
                      v841 = v12;
                      sub_146B731A0(v10, v838);
                      v577 = *(_BYTE *)(a1 + 0xB8);
                      if ( v649 )
                        sub_146B722C0(a1);
                      if ( v577 )
                        sub_146B722C0(v10);
                      (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
                        qword_149B4FBE8,
                        0x7832,
                        v12);
                      v15 = 1;
                      goto LABEL_314;
                    }
                    v540 = &v696;
                    v541 = (char *)v81;
                  }
                  __asm { vzeroupper }
                  sub_146B173C0(v79, v541, v540);
                  goto LABEL_246;
                }
                *((_QWORD *)&v210 + 1) = *((_QWORD *)&v190 + 1);
                *(double *)&v210 = *(double *)&v190 - *(double *)&v175 - *(double *)&v186 + *(double *)&v39;
                _XMM2 = v210;
                __asm
                {
                  vmovddup xmm3, xmm2
                  vsqrtpd xmm4, xmm3
                }
                __asm { vunpckhpd xmm4, xmm4, xmm4 }
                v208 = 0.5 / *(double *)&_XMM4;
                *(double *)&v39 = (v185 - v180) * (0.5 / *(double *)&_XMM4);
                v192 = (v189 + v184) * (0.5 / *(double *)&_XMM4);
                v209 = v188 + v181;
                v193 = *(double *)&_XMM4 * 0.5;
              }
              else
              {
                *((_QWORD *)&v203 + 1) = *((_QWORD *)&v186 + 1);
                *(double *)&v203 = *(double *)&v186 - *(double *)&v190 - *(double *)&v175 + *(double *)&v39;
                _XMM2 = v203;
                __asm
                {
                  vmovddup xmm3, xmm2
                  vsqrtpd xmm4, xmm3
                }
                __asm { vunpckhpd xmm4, xmm4, xmm4 }
                v208 = 0.5 / *(double *)&_XMM4;
                *(double *)&v39 = (v181 - v188) * (0.5 / *(double *)&_XMM4);
                v193 = (v189 + v184) * (0.5 / *(double *)&_XMM4);
                v209 = v185 + v180;
                v192 = *(double *)&_XMM4 * 0.5;
              }
              v187 = v209 * v208;
            }
            else
            {
              *((_QWORD *)&v198 + 1) = *((_QWORD *)&v175 + 1);
              *(double *)&v198 = *(double *)&v175 - *(double *)&v186 - *(double *)&v190 + *(double *)&v39;
              _XMM2 = v198;
              __asm { vmovddup xmm3, xmm2 }
              __asm
              {
                vsqrtpd xmm4, xmm3
                vunpckhpd xmm4, xmm4, xmm4
              }
              *(double *)&v39 = (v189 - v184) * (0.5 / *(double *)&_XMM4);
              v187 = *(double *)&_XMM4 * 0.5;
              v193 = (v188 + v181) * (0.5 / *(double *)&_XMM4);
              v192 = (v185 + v180) * (0.5 / *(double *)&_XMM4);
            }
          }
          else
          {
            *(double *)&v191 = *(double *)&v191 + *(double *)&v39;
            _XMM0 = v191;
            __asm { vmovddup xmm1, xmm0 }
            __asm
            {
              vsqrtpd xmm2, xmm1
              vunpckhpd xmm2, xmm2, xmm2
            }
            *(double *)&v39 = *(double *)&_XMM2 * 0.5;
            v187 = (v189 - v184) * (0.5 / *(double *)&_XMM2);
            v193 = (v185 - v180) * (0.5 / *(double *)&_XMM2);
            v192 = (v181 - v188) * (0.5 / *(double *)&_XMM2);
          }
          v582 = v193;
          v599 = v192;
          v626 = v187;
          goto LABEL_121;
        }
        v803 = v686;
        _XMM2 = COERCE_UNSIGNED_INT64(v678);
        __asm { vunpcklpd xmm0, xmm2, xmm0 }
        v802 = _XMM0;
        v92 = COERCE_UNSIGNED_INT64(v675);
        v93 = COERCE_UNSIGNED_INT64(v676);
        v94 = v683;
        v95 = COERCE_UNSIGNED_INT64(v685);
        v96 = v677;
        v97 = COERCE_UNSIGNED_INT64(v684);
        v589 = pow(
                 fabs(
                   v680 * *(double *)&v92 * *(double *)&v95
                 + v681 * *(double *)&v93 * v94
                 + v679 * v96 * v684
                 - v680 * v96 * v94
                 - v681 * *(double *)&v92 * *(double *)&v97
                 - v679 * *(double *)&v93 * *(double *)&v95),
                 0.3333333333333333);
        *((_QWORD *)&v98 + 1) = *((_QWORD *)&v93 + 1);
        *(double *)&v98 = *(double *)&v93 * *(double *)&v93
                        + *(double *)&v92 * *(double *)&v92
                        + v96 * v96
                        + 2.225073858507201e-308;
        _XMM1 = v98;
        __asm
        {
          vmovddup xmm4, xmm1
          vsqrtpd xmm2, xmm4
          vunpckhpd xmm2, xmm2, xmm2
        }
        *((_QWORD *)&v98 + 1) = *((_QWORD *)&v92 + 1);
        *(double *)&v98 = *(double *)&v92 * (1.0 / *(double *)&_XMM2);
        v103 = v98;
        v104 = v94 * *(double *)&v93 - *(double *)&v97 * *(double *)&v92;
        *((_QWORD *)&v98 + 1) = *((_QWORD *)&v95 + 1);
        *(double *)&v98 = *(double *)&v95 * *(double *)&v92 - v94 * v96;
        v105 = v98;
        *((_QWORD *)&v98 + 1) = *((_QWORD *)&v97 + 1);
        *(double *)&_XMM4 = *(double *)&v97 * v96 - *(double *)&v95 * *(double *)&v93;
        *(double *)&v98 = *(double *)&_XMM4 * *(double *)&_XMM4
                        + *(double *)&v105 * *(double *)&v105
                        + v104 * v104
                        + 2.225073858507201e-308;
        _XMM1 = v98;
        __asm
        {
          vmovddup xmm3, xmm1
          vsqrtpd xmm0, xmm3
          vunpckhpd xmm0, xmm0, xmm0
        }
        *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
        v110 = v104 * *(double *)&_XMM0;
        v111 = v96 * (1.0 / *(double *)&_XMM2);
        v112 = *(double *)&_XMM4 * *(double *)&_XMM0;
        *((_QWORD *)&v98 + 1) = *((_QWORD *)&v105 + 1);
        *(double *)&v98 = *(double *)&v105 * *(double *)&_XMM0;
        v113 = v98;
        v114 = *(double *)&v93 * (1.0 / *(double *)&_XMM2);
        v115 = v114 * v110 - v111 * *(double *)&v98;
        *((_QWORD *)&v98 + 1) = *((_QWORD *)&v103 + 1);
        v116 = v111 * v112 - *(double *)&v103 * v110;
        *(double *)&v98 = *(double *)&v103 * *(double *)&v113 - v114 * v112;
        v117 = v98;
        *((_QWORD *)&v118 + 1) = *((_QWORD *)&v103 + 1);
        *(double *)&v118 = *(double *)&v103 + *(double *)&v113 + *(double *)&v117;
        v637 = 1.0;
        v598 = 0.0;
        v610 = 0.0;
        v581 = 0.0;
        if ( *(double *)&v118 <= 0.0 )
        {
          if ( *(double *)&v103 < *(double *)&v113 || *(double *)&v103 < *(double *)&v117 )
          {
            if ( *(double *)&v113 < *(double *)&v103 || *(double *)&v113 < *(double *)&v117 )
            {
              if ( *(double *)&v117 < *(double *)&v103 || *(double *)&v117 < *(double *)&v113 )
                goto LABEL_104;
              *((_QWORD *)&v134 + 1) = *((_QWORD *)&v117 + 1);
              *(double *)&v134 = *(double *)&v117 - *(double *)&v103 - *(double *)&v113 + 1.0;
              _XMM2 = v134;
              __asm
              {
                vmovddup xmm3, xmm2
                vsqrtpd xmm4, xmm3
              }
              __asm { vunpckhpd xmm4, xmm4, xmm4 }
              v637 = (v112 - v114) * (0.5 / *(double *)&_XMM4);
              v598 = (v111 + v115) * (0.5 / *(double *)&_XMM4);
              v610 = (v116 + v110) * (0.5 / *(double *)&_XMM4);
              v123 = *(double *)&_XMM4 * 0.5;
            }
            else
            {
              *((_QWORD *)&v129 + 1) = *((_QWORD *)&v113 + 1);
              *(double *)&v129 = *(double *)&v113 - *(double *)&v117 - *(double *)&v103 + 1.0;
              _XMM2 = v129;
              __asm
              {
                vmovddup xmm3, xmm2
                vsqrtpd xmm4, xmm3
              }
              __asm { vunpckhpd xmm4, xmm4, xmm4 }
              v637 = (v111 - v115) * (0.5 / *(double *)&_XMM4);
              v598 = (v114 + v112) * (0.5 / *(double *)&_XMM4);
              v610 = *(double *)&_XMM4 * 0.5;
              v123 = (v116 + v110) * (0.5 / *(double *)&_XMM4);
            }
          }
          else
          {
            *((_QWORD *)&v124 + 1) = *((_QWORD *)&v103 + 1);
            *(double *)&v124 = *(double *)&v103 - *(double *)&v113 - *(double *)&v117 + 1.0;
            _XMM2 = v124;
            __asm { vmovddup xmm3, xmm2 }
            __asm
            {
              vsqrtpd xmm4, xmm3
              vunpckhpd xmm4, xmm4, xmm4
            }
            v637 = (v116 - v110) * (0.5 / *(double *)&_XMM4);
            v598 = *(double *)&_XMM4 * 0.5;
            v610 = (v114 + v112) * (0.5 / *(double *)&_XMM4);
            v123 = (v111 + v115) * (0.5 / *(double *)&_XMM4);
          }
        }
        else
        {
          *(double *)&v118 = *(double *)&v118 + 1.0;
          _XMM0 = v118;
          __asm { vmovddup xmm1, xmm0 }
          __asm
          {
            vsqrtpd xmm2, xmm1
            vunpckhpd xmm2, xmm2, xmm2
          }
          v637 = *(double *)&_XMM2 * 0.5;
          v598 = (v116 - v110) * (0.5 / *(double *)&_XMM2);
          v610 = (v111 - v115) * (0.5 / *(double *)&_XMM2);
          v123 = (v112 - v114) * (0.5 / *(double *)&_XMM2);
        }
        v581 = v123;
LABEL_104:
        sub_146B52280(a1, (unsigned int)&v721, 0, dword_149B4FDFC, 0, 0);
        v139 = v722 * v803 - v723 * *((double *)&v802 + 1) + v724 * *(double *)&v802;
        v140 = *(double *)&v802 * v723 - v721 * v803 + v724 * *((double *)&v802 + 1);
        v141 = v721 * *((double *)&v802 + 1) - *(double *)&v802 * v722 + v724 * v803;
        v729[0] = v722 * v581 - v723 * v610 + v724 * v598 + v721 * v637;
        v729[1] = v723 * v598 - v721 * v581 + v724 * v610 + v722 * v637;
        v729[2] = v721 * v610 - v722 * v598 + v724 * v581 + v723 * v637;
        v729[3] = v724 * v637 - v721 * v598 - v722 * v610 - v723 * v581;
        v729[4] = (*(double *)&v802 + v722 * v141 - v723 * v140 + v722 * v141 - v723 * v140) * v728 + v725;
        v729[5] = (*((double *)&v802 + 1) + v723 * v139 - v721 * v141 + v723 * v139 - v721 * v141) * v728 + v726;
        v729[6] = (v803 + v721 * v140 - v722 * v139 + v721 * v140 - v722 * v139) * v728 + v727;
        v729[7] = v728 * v589;
        sub_146B52280(v10, (unsigned int)&v730, 0, dword_149B4FDFC, 0, 0);
        v142 = sub_1404B6AF0(v729, v824);
        v143 = v142[1];
        v144 = v142[2];
        v145 = v142[3];
        v146 = v142[7];
        v147 = v143 * v736 - v144 * v735 + v734 * v145;
        v148 = v144 * v734 - *v142 * v736 + v735 * v145;
        v149 = *v142 * v735 - v734 * v143 + v736 * v145;
        v150 = v142[3];
        _XMM15 = COERCE_UNSIGNED_INT64((v149 * v143 - v144 * v148 + v734 + v149 * v143 - v144 * v148) * v146 + v142[4]);
        v152 = (*v142 * v148 - v147 * v143 + v736 + *v142 * v148 - v147 * v143) * v146 + v142[6];
        v153 = v730 * v144 - v732 * *v142 + v731 * v150 + v143 * v733;
        v154 = v142;
        v155 = v731 * *v142 - v730 * v142[1] + v732 * v150 + v733 * v144;
        v156 = v731 * v142[1];
        v157 = v733 * v150 - v730 * *v142;
        v158 = v732 * v144;
        v159 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
        v160 = v146 * v737;
        __asm { vunpcklpd xmm15, xmm15, xmm14 }
        *(double *)v159 = v732 * v154[1] - v731 * v154[2] + v730 * v154[3] + v733 * *v154;
        *(double *)(v159 + 8) = v153;
        *(double *)(v159 + 0x10) = v155;
        *(double *)(v159 + 0x18) = v157 - v156 - v158;
        *(_OWORD *)(v159 + 0x20) = _XMM15;
        *(double *)(v159 + 0x30) = v152;
        v780 = _XMM15;
        v39 = 0x3FF0000000000000uLL;
        *(double *)(v159 + 0x38) = v160;
        *(double *)&v779[2] = v153;
        *(double *)&v779[3] = v155;
        *(double *)&v779[4] = v157 - v156 - v158;
        v781 = v152;
        v782 = v160;
        goto LABEL_108;
      case 3:
        v583 = *(_DWORD *)(a3 + 4) >> 0x1C;
        __asm { vzeroupper }
        v234 = sub_146B49A10(a1, v583);
        v643 = v234;
        if ( a3 == 0xFFFFFFFFFFFFFFF8uLL || *(_BYTE *)(a3 + 0x128) || !v234 )
          goto LABEL_144;
        v632 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v234 + 0x30LL))(v234);
        v652 = *(unsigned __int8 **)(a3 + 8);
        v613 = sub_1403E2C90(v652);
        LODWORD(v235) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v632 + 0x2E8LL))(
                          v632,
                          v842,
                          v613);
        v236 = 1.0;
        v237 = 0.0;
        v690 = 1.0;
        v687 = 0.0;
        v688 = 0.0;
        v689 = 0.0;
        v691 = 0.0;
        v692 = 0.0;
        v693 = 0.0;
        if ( (int)v235 <= (int)0xFFFFFFFF )
        {
          v620 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v643 + 0x70LL))(v643);
          LODWORD(v235) = (*(__int64 (__fastcall **)(__int64, unsigned __int8 *, int *, float *))(*(_QWORD *)v620
                                                                                                + 0xA8LL))(
                            v620,
                            v652,
                            &v694,
                            &v687);
          if ( (_DWORD)v235 != 0xFFFFFFFF )
          {
            v238 = (unsigned __int8 *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v620 + 0x40LL))(
                                        v620,
                                        (unsigned int)v235);
            v613 = sub_1403E2C90(v238);
            v235 = (*(unsigned int (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v632 + 0x2E8LL))(
                     v632,
                     v842,
                     v613);
            v239 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v620 + 0x88LL))(v620, v235);
            v240 = v694;
            if ( v239 == v694 )
              v240 = 0xFFFF;
            *(_WORD *)(*(_QWORD *)(v10 + 0x130) + 0x14ALL) = v240;
          }
        }
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 3;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x144LL) = v583;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x14CLL) = v613;
        *(_WORD *)(*(_QWORD *)(v10 + 0x130) + 0x148LL) = v235;
        sub_143E30390(*(_QWORD *)(v10 + 0x130) + 0x18LL);
        v241 = *(_QWORD *)(v10 + 0x130);
        *(__m256i *)(v241 + 0x190) = *(__m256i *)(a3 + 0x138);
        *(double *)(v241 + 0x1B0) = *(double *)(a3 + 0x158);
        if ( (_DWORD)v235 == 0xFFFFFFFF )
        {
          v711 = 1.0;
          v708 = 0.0;
          v709 = 0.0;
          v710 = 0.0;
          v712 = 0.0;
          v713 = 0.0;
          v714 = 0.0;
          v243 = 0.0;
          v244 = 0.0;
          v245 = 0.0;
          v246 = 0.0;
          v247 = 0.0;
        }
        else
        {
          __asm { vzeroupper }
          v242 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v632 + 0x148LL))(v632, (unsigned int)v235);
          v236 = *(float *)(v242 + 0xC);
          v703 = v236;
          v237 = *(float *)v242;
          v700 = *(float *)v242;
          v243 = *(float *)(v242 + 4);
          v701 = v243;
          v244 = *(float *)(v242 + 8);
          v702 = v244;
          v704 = *(_QWORD *)(v242 + 0x10);
          v245 = *(float *)&v704;
          v246 = *((float *)&v704 + 1);
          v705 = *(float *)(v242 + 0x18);
          v247 = v705;
        }
        v248 = v236;
        v249 = v245;
        v250 = v237;
        v251 = v243;
        v252 = v244;
        v253 = v246;
        v633 = v247;
        v644 = v237;
        v590 = v243;
        v627 = v244;
        v621 = v245;
        v584 = v246;
        if ( (_DWORD)v235 == 0xFFFFFFFF )
          *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) |= 0x80u;
        v254 = *(_QWORD *)(a3 + 0x130);
        if ( v254 )
        {
          v255 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
          *(_QWORD *)v255 = *(_QWORD *)v254;
          *(_QWORD *)(v255 + 8) = *(_QWORD *)(v254 + 8);
          *(_QWORD *)(v255 + 0x10) = *(_QWORD *)(v254 + 0x10);
          *(_QWORD *)(v255 + 0x18) = *(_QWORD *)(v254 + 0x18);
          *(_OWORD *)(v255 + 0x20) = *(_OWORD *)(v254 + 0x20);
          *(double *)(v255 + 0x30) = *(double *)(v254 + 0x30);
          *(_QWORD *)(v255 + 0x38) = *(_QWORD *)(v254 + 0x38);
          if ( *(_BYTE *)(v10 + 0xD) < 4u )
            goto LABEL_143;
          __asm { vzeroupper }
          v256 = *(double *)(sub_146B54040(v10, v825, 0) + 0x38);
          v257 = *(_QWORD *)(v10 + 0x130);
          v258 = v256 * *(double *)(v257 + 0x188);
        }
        else
        {
          if ( (*(_BYTE *)(a3 + 4) & 1) != 0 )
          {
            __asm { vzeroupper }
            sub_146B52280(a1, (unsigned int)&v738, 0, dword_149B4FDFC, 0, 0);
            v259 = v633 * v739 - v253 * v740 + v249 * v741;
            v260 = v249 * v740 - v633 * v738 + v253 * v741;
            v261 = v253 * v738 - v249 * v739 + v633 * v741;
            v772[0] = v252 * v739 - v251 * v740 + v250 * v741 + v248 * v738;
            v772[1] = v250 * v740 - v252 * v738 + v251 * v741 + v248 * v739;
            v772[2] = v251 * v738 - v250 * v739 + v252 * v741 + v248 * v740;
            v772[3] = v248 * v741 - v250 * v738 - v251 * v739 - v252 * v740;
            v772[4] = (v261 * v739 - v260 * v740 + v249 + v261 * v739 - v260 * v740) * v745 + v742;
            v772[5] = (v259 * v740 - v261 * v738 + v584 + v259 * v740 - v261 * v738) * v745 + v743;
            v772[6] = (v260 * v738 - v259 * v739 + v633 + v260 * v738 - v259 * v739) * v745 + v744;
            v772[7] = v745;
            sub_146B52280(v10, (unsigned int)&v746, 0, dword_149B4FDFC, 0, 0);
            v262 = sub_1404B6AF0(v772, v826);
            v263 = v262[1];
            v264 = v262[2];
            v265 = v262[3];
            v266 = v262[7];
            v267 = v263 * v752 - v264 * v751 + v265 * v750;
            v268 = v264 * v750 - *v262 * v752 + v265 * v751;
            v269 = *v262 * v751 - v263 * v750 + v265 * v752;
            v270 = v262[3];
            _XMM15 = COERCE_UNSIGNED_INT64((v269 * v263 - v268 * v264 + v750 + v269 * v263 - v268 * v264) * v266 + v262[4]);
            v272 = (v268 * *v262 - v267 * v263 + v752 + v268 * *v262 - v267 * v263) * v266 + v262[6];
            v273 = v746 * v264 - v748 * *v262 + v270 * v747 + v263 * v749;
            v274 = v747 * *v262 - v746 * v262[1] + v270 * v748 + v749 * v264;
            v275 = v262;
            v276 = v747 * v262[1];
            v277 = v270 * v749 - v746 * *v262;
            v278 = v748 * v264;
            v279 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
            v280 = v266 * v753;
            __asm { vunpcklpd xmm15, xmm15, xmm14 }
            *(double *)v279 = v748 * v275[1] - v747 * v275[2] + v746 * v275[3] + v749 * *v275;
            *(double *)(v279 + 8) = v273;
            *(double *)(v279 + 0x10) = v274;
            *(double *)(v279 + 0x18) = v277 - v276 - v278;
            *(_OWORD *)(v279 + 0x20) = _XMM15;
            *(double *)(v279 + 0x30) = v272;
            v787 = v272;
            v250 = v644;
            *(double *)(v279 + 0x38) = v280;
            v783 = v273;
            v784 = v274;
            v785 = v277 - v276 - v278;
            v788 = v280;
            v786 = _XMM15;
            goto LABEL_143;
          }
          v282 = (_QWORD *)(*(_QWORD *)(v10 + 0x130) + 0x150LL);
          v282[3] = 0x3FF0000000000000LL;
          *v282 = 0;
          v282[1] = 0;
          v282[2] = 0;
          v282[4] = 0;
          v282[5] = 0;
          v282[6] = 0;
          v282[7] = 0x3FF0000000000000LL;
          if ( *(_BYTE *)(v10 + 0xD) < 4u )
          {
LABEL_143:
            v283 = v693 * v590 - v692 * v627 + v691 * v248;
            v284 = v691 * v627 - v693 * v250 + v692 * v248;
            v285 = v692 * v250 - v691 * v590 + v693 * v248;
            v286 = v283 * v627 - v285 * v250;
            v287 = v284 * v250;
            v288 = v284 * v250 - v283 * v590;
            v600 = v689 * v590 - v688 * v627 + v687 * v248 + v690 * v250;
            v653 = v687 * v627 - v689 * v250 + v688 * v248 + v690 * v590;
            v645 = v688 * v250 - v687 * v590 + v689 * v248 + v690 * v627;
            v289 = v690 * v248 - v687 * v250 - v688 * v590 - v689 * v627;
            v614 = v692 + v286 + v286 + v584;
            v628 = v691 + v285 * v590 - v284 * v627 + v285 * v590 - v284 * v627 + v621;
            v290 = (double *)(*(_QWORD *)(v10 + 0x130) + 0x150LL);
            v291 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x160LL);
            v292 = v287 - v283 * v590 + v633 + v288 + v693;
            v293 = v668 * v628 - v666 * v292 + v669 * v614;
            v622 = v667 * (v666 * v614 - v667 * v628 + v669 * v292) - v668 * v293;
            v640 = v666 * v293 - v667 * (v667 * v292 - v668 * v614 + v669 * v628);
            v655 = v292;
            v605 = v667 * v645 - v668 * v653 + v669 * v600 + v666 * v289;
            v591 = v668 * v600 - v666 * v645 + v669 * v653 + v667 * v289;
            v294 = v666 * v653 - v667 * v600 + v669 * v645 + v668 * v289;
            v295 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x168LL);
            v296 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x158LL);
            v634 = v294;
            v646 = v669 * v289 - v666 * v600 - v667 * v653 - v668 * v645;
            v297 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x180LL);
            v298 = *v290 * v294 - v291 * v605 + v296 * v646 + v295 * v591;
            v299 = v296 * v605 - *v290 * v591 + v291 * v646 + v295 * v294;
            v300 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x170LL);
            v301 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x178LL);
            v302 = v295 * v646 - *v290 * v605 - v296 * v591 - v291 * v294;
            v303 = v634 * v300 - v297 * v605 + v646 * v301;
            v304 = (v301 * v605 - v300 * v591 + v646 * v297) * v591;
            v305 = (v297 * v591 - v634 * v301 + v646 * v300) * v591;
            v306 = *(double *)&v670.m256_f32[6] * *(double *)(*(_QWORD *)(v10 + 0x130) + 0x188LL);
            _XMM8 = COERCE_UNSIGNED_INT64(
                      (v622 + v628 + v622) * *(double *)&v670.m256_f32[6]
                    + *(double *)v670.m256_f32
                    + (v304 - v303 * v634 + v300 + v304 - v303 * v634) * *(double *)&v670.m256_f32[6]);
            v308 = (v640 + v655 + v640) * *(double *)&v670.m256_f32[6]
                 + *(double *)&v670.m256_f32[4]
                 + (v303 * v605 - v305 + v297 + v303 * v605 - v305) * *(double *)&v670.m256_f32[6];
            v309 = v291 * v591 - *(double *)(*(_QWORD *)(v10 + 0x130) + 0x158LL) * v634 + *v290 * v646 + v295 * v605;
            __asm { vunpcklpd xmm0, xmm8, xmm6 }
            v811 = _XMM0;
            *(_OWORD *)v664.m256_f32 = _XMM0;
            v660 = v309;
            v661 = v298;
            v662 = v299;
            v663 = v302;
            v812 = v308;
            *(double *)&v664.m256_f32[6] = v306;
            *(double *)&v664.m256_f32[4] = v308;
            n0x40000E = 0x40000E;
            goto LABEL_75;
          }
          __asm { vzeroupper }
          v258 = *(double *)(sub_146B54040(v10, v827, 0) + 0x38);
          v257 = *(_QWORD *)(v10 + 0x130);
        }
        *(double *)(v257 + 0x188) = v258;
        goto LABEL_143;
      case 4:
        if ( *(_BYTE *)(a3 + 0x128) != 1 )
        {
          __asm { vzeroupper }
          sub_1403E0B50();
        }
        v314 = *(__int64 **)(a3 + 8);
        if ( !v314 )
        {
          v36 = v674;
          goto LABEL_207;
        }
        __asm { vzeroupper }
        (*(void (__fastcall **)(_QWORD))(*v314 + 8))(*(_QWORD *)(a3 + 8));
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 4;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        sub_143E30390(*(_QWORD *)(v10 + 0x130) + 0x18LL);
        v315 = *(_QWORD *)(v10 + 0x130);
        *(__m256i *)(v315 + 0x190) = *(__m256i *)(a3 + 0x138);
        *(double *)(v315 + 0x1B0) = *(double *)(a3 + 0x158);
        v316 = *(void (__fastcall **)(__int64 *, _QWORD))(*v314 + 0x40);
        __asm { vzeroupper }
        v317 = (*(__int64 (__fastcall **)(__int64 *))(*v314 + 0x38))(v314);
        v316(v314, v317 | 0x1000u);
        (*(void (__fastcall **)(__int64 *))(*v314 + 8))(v314);
        v318 = *(_QWORD *)(a3 + 0x130);
        if ( v318 )
        {
          v319 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
          *(_QWORD *)v319 = *(_QWORD *)v318;
          *(_QWORD *)(v319 + 8) = *(_QWORD *)(v318 + 8);
          *(_QWORD *)(v319 + 0x10) = *(_QWORD *)(v318 + 0x10);
          *(_QWORD *)(v319 + 0x18) = *(_QWORD *)(v318 + 0x18);
          *(_OWORD *)(v319 + 0x20) = *(_OWORD *)(v318 + 0x20);
          *(double *)(v319 + 0x30) = *(double *)(v318 + 0x30);
          *(_QWORD *)(v319 + 0x38) = *(_QWORD *)(v318 + 0x38);
          if ( *(_BYTE *)(v10 + 0xD) < 4u )
            goto LABEL_155;
          v320 = *(double *)(sub_146B54040(v10, v828, 0) + 0x38);
          v321 = *(_QWORD *)(v10 + 0x130);
          v322 = v320 * *(double *)(v321 + 0x188);
        }
        else
        {
          if ( (*(_BYTE *)(a3 + 4) & 1) != 0 )
          {
            v323 = (float *)(*(__int64 (__fastcall **)(__int64 *))(*v314 + 0x118))(v314);
            v656 = v323[1];
            v324 = v323[5];
            v325 = v323[6];
            v592 = v323[2];
            v326 = *v323;
            v327 = v323[3];
            v328 = v323[4];
            sub_146B52280(a1, (unsigned int)&v754, 0, dword_149B4FDFC, 0, 0);
            v329 = v325 * v755 - v324 * v756 + v328 * v757;
            v330 = v328 * v756 - v325 * v754 + v324 * v757;
            v331 = v324 * v754 - v328 * v755 + v325 * v757;
            v762[0] = v755 * v592 - v656 * v756 + v326 * v757 + v327 * v754;
            v762[1] = v326 * v756 - v754 * v592 + v656 * v757 + v327 * v755;
            v762[2] = v656 * v754 - v326 * v755 + v757 * v592 + v327 * v756;
            v762[3] = v327 * v757 - v326 * v754 - v656 * v755 - v756 * v592;
            v762[4] = (v328 + v755 * v331 - v756 * v330 + v755 * v331 - v756 * v330) * v761 + v758;
            v762[5] = (v756 * v329 - v754 * v331 + v324 + v756 * v329 - v754 * v331) * v761 + v759;
            v762[6] = (v754 * v330 - v755 * v329 + v325 + v754 * v330 - v755 * v329) * v761 + v760;
            v762[7] = v761;
            sub_146B52280(v10, (unsigned int)&v763, 0, dword_149B4FDFC, 0, 0);
            v332 = sub_1404B6AF0(v762, v829);
            v333 = v332[2];
            v334 = v332[1];
            v335 = v332[3];
            v336 = v332[7];
            v337 = v334 * v769 - v333 * v768 + v335 * v767;
            v338 = v333 * v767 - *v332 * v769 + v335 * v768;
            v339 = *v332 * v768 - v334 * v767 + v335 * v769;
            _XMM15 = COERCE_UNSIGNED_INT64((v767 + v334 * v339 - v333 * v338 + v334 * v339 - v333 * v338) * v336 + v332[4]);
            v341 = (v769 + *v332 * v338 - v334 * v337 + *v332 * v338 - v334 * v337) * v336 + v332[6];
            v342 = v332;
            v343 = v332[3];
            v344 = v763 * v333 - v765 * *v332 + v764 * v343 + v766 * v334;
            v345 = v764 * *v332 - v763 * v332[1] + v765 * v343 + v766 * v333;
            v346 = v764 * v332[1];
            v347 = v343 * v766 - v763 * *v332;
            v348 = v765 * v333;
            v349 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
            v350 = v336 * v770;
            __asm { vunpcklpd xmm15, xmm15, xmm14 }
            *(double *)v349 = v765 * v342[1] - v764 * v342[2] + v763 * v342[3] + v766 * *v342;
            *(double *)(v349 + 8) = v344;
            *(double *)(v349 + 0x10) = v345;
            *(double *)(v349 + 0x18) = v347 - v346 - v348;
            *(_OWORD *)(v349 + 0x20) = _XMM15;
            *(double *)(v349 + 0x30) = v341;
            *(double *)(v349 + 0x38) = v350;
            v789 = v344;
            v790 = v345;
            v791 = v347 - v346 - v348;
            v793 = v341;
            v794 = v350;
            v792 = _XMM15;
            goto LABEL_155;
          }
          v352 = (_QWORD *)(*(_QWORD *)(v10 + 0x130) + 0x150LL);
          v352[3] = 0x3FF0000000000000LL;
          *v352 = 0;
          v352[1] = 0;
          v352[2] = 0;
          v352[4] = 0;
          v352[5] = 0;
          v352[6] = 0;
          v352[7] = 0x3FF0000000000000LL;
          if ( *(_BYTE *)(v10 + 0xD) < 4u )
          {
LABEL_155:
            v657 = (unsigned __int8 *)(*(__int64 (__fastcall **)(__int64 *))(*v314 + 0xE0))(v314);
            if ( v657 )
            {
              v353 = (*(__int64 (__fastcall **)(__int64 *))(*v314 + 0xB8))(v314);
              if ( v353 )
              {
                *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x14CLL) = sub_1403E2C90(v657);
                v354 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v353 + 0x30LL))(v353);
                *(_WORD *)(*(_QWORD *)(v10 + 0x130) + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v354 + 0x2E8LL))(
                                                                   v354,
                                                                   v842,
                                                                   *(unsigned int *)(*(_QWORD *)(v10 + 0x130) + 0x14CLL));
                if ( *(__int16 *)(*(_QWORD *)(v10 + 0x130) + 0x148LL) <= (__int16)0xFFFFFFFF )
                {
                  v355 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v353 + 0x70LL))(v353);
                  *(_WORD *)(*(_QWORD *)(v10 + 0x130) + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int8 *, int *, _QWORD))(*(_QWORD *)v355 + 0xA8LL))(
                                                                     v355,
                                                                     v657,
                                                                     &v695,
                                                                     0);
                  if ( *(_WORD *)(*(_QWORD *)(v10 + 0x130) + 0x148LL) != 0xFFFF )
                  {
                    v356 = (unsigned __int8 *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v355 + 0x40LL))(v355);
                    *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x14CLL) = sub_1403E2C90(v356);
                    v357 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v353 + 0x30LL))(v353);
                    *(_WORD *)(*(_QWORD *)(v10 + 0x130) + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v357 + 0x2E8LL))(
                                                                       v357,
                                                                       v842,
                                                                       *(unsigned int *)(*(_QWORD *)(v10 + 0x130)
                                                                                       + 0x14CLL));
                    v358 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v355 + 0x88LL))(
                             v355,
                             (unsigned int)*(__int16 *)(*(_QWORD *)(v10 + 0x130) + 0x148LL));
                    v359 = v695;
                    if ( v358 == v695 )
                      v359 = 0xFFFF;
                    *(_WORD *)(*(_QWORD *)(v10 + 0x130) + 0x14ALL) = v359;
                  }
                }
                v360 = *(_QWORD *)(v10 + 0x130);
                if ( *(_WORD *)(v360 + 0x148) == 0xFFFF )
                  *(_DWORD *)(v360 + 0x140) |= 0x80u;
              }
            }
            v361 = (*(__int64 (__fastcall **)(__int64 *))(*v314 + 0x1F8))(v314);
            v362 = (double *)(*(_QWORD *)(v10 + 0x130) + 0x150LL);
            v363 = (float *)v361;
            v364 = (float *)(*(__int64 (__fastcall **)(__int64 *))(*v314 + 0x118))(v314);
            v365 = *v364;
            v366 = v364[3];
            v367 = v364[5];
            v368 = v364[2];
            v369 = v364[1];
            v370 = v364[6];
            v593 = v668 * v365 - v666 * v368 + v669 * v369 + v667 * v366;
            v629 = v666 * v369 - v667 * v365 + v669 * v368 + v668 * v366;
            v654 = v669 * v366 - v666 * v365 - v667 * v369 - v668 * v368;
            v371 = v364[4];
            v372 = v667 * v370 - v668 * v367 + v669 * v371;
            v373 = v668 * v371 - v666 * v370 + v669 * v367;
            v374 = v666 * v367 - v667 * v371 + v669 * v370;
            v623 = (v371 + v667 * v374 - v668 * v373 + v667 * v374 - v668 * v373) * *(double *)&v670.m256_f32[6]
                 + *(double *)v670.m256_f32;
            v375 = v362[4];
            v376 = v362[5];
            v377 = v370 + v666 * v373 - v667 * v372;
            v378 = v362[6];
            v641 = (v377 + v666 * v373 - v667 * v372) * *(double *)&v670.m256_f32[6] + *(double *)&v670.m256_f32[4];
            v379 = v362[1];
            v380 = v362[2];
            v381 = v362[3];
            v382 = v667 * v368 - v668 * v369 + v669 * *v364 + v666 * v364[3];
            v606 = *v362 * v629 - v380 * v382 + v379 * v654 + v381 * v593;
            v585 = v379 * v382 - *v362 * v593 + v380 * v654 + v381 * v629;
            v601 = v381 * v654 - *v362 * v382 - v379 * v593 - v380 * v629;
            v383 = v378 * v593 - v376 * v629 + v375 * v654;
            v384 = v375 * v629 - v378 * v382 + v376 * v654;
            v385 = v376 * v382 - v375 * v593 + v378 * v654;
            v647 = (v375 + v385 * v593 - v384 * v629 + v385 * v593 - v384 * v629) * *(double *)&v670.m256_f32[6] + v623;
            v624 = (v378 + v384 * v382 - v383 * v593 + v384 * v382 - v383 * v593) * *(double *)&v670.m256_f32[6] + v641;
            v658 = *(double *)&v670.m256_f32[6] * v362[7];
            v386 = v363[3];
            v387 = v380 * v593 - v379 * v629 + *v362 * v654 + v381 * v382;
            v388 = *v363;
            v389 = v363[2];
            v390 = v363[1];
            v391 = v388 * v585 - v387 * v389 + v390 * v601 + v386 * v606;
            v392 = v387 * v390 - v388 * v606 + v389 * v601 + v386 * v585;
            v393 = v386 * v601 - v387 * v388 - v390 * v606 - v389 * v585;
            v394 = v363[6];
            v395 = v363[5];
            v396 = v363[4];
            v594 = v387;
            v397 = v396 * v585 - v394 * v387 + v395 * v601;
            v398 = (v395 * v387 - v396 * v606 + v394 * v601) * v606 - v397 * v585;
            v399 = v397 * v387 - (v394 * v606 - v395 * v585 + v396 * v601) * v606;
            _XMM7 = COERCE_UNSIGNED_INT64((v396 + v398 + v398) * v658 + v647);
            __asm { vunpcklpd xmm0, xmm7, xmm5 }
            v660 = v389 * v606 - v390 * v585 + *v363 * v601 + v594 * v363[3];
            v661 = v391;
            v662 = v392;
            v663 = v393;
            *(double *)&v664.m256_f32[6] = v658;
            *(_OWORD *)v664.m256_f32 = _XMM0;
            *(double *)&v664.m256_f32[4] = (v394 + v399 + v399) * v658 + v624;
            n0x40000E = 0x40000E;
            v402 = *v314;
            v814 = *(double *)&v664.m256_f32[4];
            v813 = _XMM0;
            (*(void (__fastcall **)(__int64 *))(v402 + 0x10))(v314);
            v28 = v630;
            *(double *)&v12 = v673;
            goto LABEL_75;
          }
          v322 = *(double *)(sub_146B54040(v10, v830, 0) + 0x38);
          v321 = *(_QWORD *)(v10 + 0x130);
        }
        *(double *)(v321 + 0x188) = v322;
        goto LABEL_155;
      case 5:
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 5;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        __asm { vzeroupper }
        sub_143E30390(*(_QWORD *)(v10 + 0x130) + 0x18LL);
        v403 = *(_QWORD *)(v10 + 0x130);
        *(__m256i *)(v403 + 0x190) = *(__m256i *)(a3 + 0x138);
        v404 = v670;
        *(double *)(v403 + 0x1B0) = *(double *)(a3 + 0x158);
        v664 = v404;
        goto LABEL_74;
      case 6:
        v405 = v670;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 6;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        v664 = v405;
        goto LABEL_74;
      case 7:
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 7;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        v406 = *(_QWORD *)(a3 + 0x130);
        if ( v406 )
        {
          v407 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
          *(_QWORD *)v407 = *(_QWORD *)v406;
          *(_QWORD *)(v407 + 8) = *(_QWORD *)(v406 + 8);
          *(_QWORD *)(v407 + 0x10) = *(_QWORD *)(v406 + 0x10);
          *(_QWORD *)(v407 + 0x18) = *(_QWORD *)(v406 + 0x18);
          *(_OWORD *)(v407 + 0x20) = *(_OWORD *)(v406 + 0x20);
          *(double *)(v407 + 0x30) = *(double *)(v406 + 0x30);
          *(_QWORD *)(v407 + 0x38) = *(_QWORD *)(v406 + 0x38);
          __asm { vzeroupper }
          *(double *)(*(_QWORD *)(v10 + 0x130) + 0x188LL) = sub_146B516A0(v10, 0);
          v408 = *(double **)(a3 + 0x130);
          v409 = v408[3];
          v410 = v408[2];
          v411 = v408[1];
          v412 = v48 * *v408 - v410 * v45 + v411 * v46 + v47 * v409;
          v413 = v411 * v45 - v47 * *v408 + v410 * v46 + v48 * v409;
          v414 = *v408 * v45;
          v415 = v408[4];
          v416 = v47 * v411;
          v417 = v408[5];
          v418 = v409 * v46 - v414 - v416;
          v419 = v48 * v410;
          v420 = v408[6];
          v421 = v418 - v419;
          v422 = v579 * v420 - v417 * v596 + v415 * v608;
          v423 = v415 * v596 - v420 * v588 + v417 * v608;
          v424 = v417 * v588 - v579 * v415 + v420 * v608;
          v425 = v423 * v588;
          _XMM6 = COERCE_UNSIGNED_INT64(v415 + v579 * v424 - v423 * v596 + v579 * v424 - v423 * v596 + *(double *)v670.m256_f32);
          __asm { vunpcklpd xmm0, xmm6, xmm5 }
          v660 = v410 * v579 - v411 * v596 + *v408 * v608 + v588 * v409;
          v661 = v412;
          v662 = v413;
          v663 = v421;
          v816 = v420 + v425 - v422 * v579 + v425 - v422 * v579 + *(double *)&v670.m256_f32[4];
          v815 = _XMM0;
          *(_OWORD *)v664.m256_f32 = _XMM0;
          *(double *)&v664.m256_f32[4] = v816;
          n0x40000E = 0x40000E;
          *(double *)&v664.m256_f32[6] = sub_146B516A0(v10, 0);
        }
        else
        {
          __asm { vzeroupper }
          *(double *)&v664.m256_f32[6] = *(double *)&v664.m256_f32[6]
                                       / v49
                                       * *(double *)(sub_146B54040(v10, v831, 0) + 0x38);
        }
        sub_143E30390(*(_QWORD *)(v10 + 0x130) + 0x18LL);
        goto LABEL_75;
      case 8:
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 8;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        goto LABEL_75;
      case 9:
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 9;
        *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
        __asm { vzeroupper }
        v428 = (double *)sub_146B54040(v10, v832, 0);
        v429 = (double *)(*(__int64 (__fastcall **)(__int64, char *, double, __int64))(*(_QWORD *)qword_149B4FBE8
                                                                                     + 0x480LL))(
                           qword_149B4FBE8,
                           v817,
                           COERCE_DOUBLE(*(_QWORD *)&v672),
                           v671);
        v430 = v428[2];
        v431 = v428[3];
        v432 = v429[3];
        v433 = v429[1];
        v434 = v429[2];
        v435 = v428[1];
        v436 = *v428 * v434 - *v429 * v430 + v432 * v435 + v433 * v431;
        v437 = v435 * *v429 - v433 * *v428 + v432 * v430 + v431 * v434;
        v438 = v428[5];
        v439 = v428[6];
        v440 = v431 * v432;
        v441 = v428[4];
        v442 = v440 - *v429 * *v428 - v433 * v435 - v430 * v434;
        v443 = v439 * v433 - v438 * v434 + v441 * v432;
        v444 = v441 * v429[2] - v439 * *v429 + v438 * v432;
        v445 = v433 * (v438 * *v429 - v441 * v433 + v439 * v432) - v444 * v429[2];
        *((_QWORD *)&v447 + 1) = 0;
        *(double *)&v447 = v445 + v429[4] + v441 + v445;
        _XMM9 = v447;
        v448 = v444 * *v429;
        v449 = v428[7];
        v450 = v448 - v433 * v443 + v429[6] + v439 + v448 - v433 * v443;
        *(double *)&v447 = v433 * v428[2] - v435 * v429[2] + v429[3] * *v428 + *v429 * v428[3];
        __asm { vunpcklpd xmm0, xmm9, xmm6 }
        v809 = _XMM0;
        *(_OWORD *)v664.m256_f32 = _XMM0;
        v660 = *(double *)&v447;
        v661 = v436;
        v662 = v437;
        v663 = v442;
        v810 = v450;
        *(double *)&v664.m256_f32[6] = v449;
        *(double *)&v664.m256_f32[4] = v450;
        goto LABEL_75;
      case 0xA:
        if ( a3 == 0xFFFFFFFFFFFFFFF8uLL || *(_BYTE *)(a3 + 0x128) )
        {
LABEL_205:
          v311 = qword_149B4FBE8;
          v312 = v12;
          v313 = *(_QWORD *)qword_149B4FBE8;
          __asm { vzeroupper }
LABEL_206:
          (*(void (__fastcall **)(__int64, __int64, __int64))(v313 + 0x190))(v311, 0x7832, v312);
LABEL_207:
          v15 = 0;
        }
        else
        {
          v586 = *(_DWORD *)(a3 + 4) >> 0x1C;
          __asm { vzeroupper }
          v452 = sub_146B513B0(a1);
          if ( v452 )
          {
            sub_146AC21D0(v452, &v665, v586, 0xFFFFFFFF);
            if ( v665 )
            {
              *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x10LL) = 0xA;
              *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(a3 + 4);
              v453 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v665 + 0x428LL))(
                                v665,
                                *(_QWORD *)(a3 + 8));
              if ( !v453 )
              {
                v510 = *(_QWORD *)(v10 + 0x130);
                LOBYTE(v454) = 1;
                v511 = *(_DWORD *)(v510 + 0x140);
                *(_DWORD *)(v510 + 0x140) = v511 | 0x20;
                sub_146B54C20(v10, 1, v454, v12);
                *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL) = *(_DWORD *)(*(_QWORD *)(v10 + 0x130) + 0x140LL)
                                                                ^ ((unsigned __int8)v511
                                                                 ^ (unsigned __int8)*(_DWORD *)(*(_QWORD *)(v10 + 0x130)
                                                                                              + 0x140LL))
                                                                & 0x40
                                                                | 0x10;
LABEL_198:
                v512 = (double *)(*(_QWORD *)(v10 + 0x130) + 0x150LL);
                v513 = *v512;
                v514 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x160LL);
                v515 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x158LL);
                v516 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x168LL);
                v517 = *(double *)(*(_QWORD *)(v10 + 0x130) + 0x180LL);
                v673 = v668 * *v512 - v666 * v514 + v669 * v515 + v667 * v516;
                v518 = v666 * v515 - v667 * v513 + v669 * v514 + v668 * v516;
                v519 = v666 * v513;
                v520 = v512[5];
                v521 = v669 * v516;
                v522 = v512[4];
                v523 = v521 - v519 - v667 * v515 - v668 * v514;
                v524 = v667 * v517 - v668 * v520 + v669 * v522;
                v525 = v520 * v666 - v667 * v522 + v669 * v517;
                v526 = v667 * v525 - v668 * (v668 * v522 - v517 * v666 + v669 * v520);
                v527 = *(double *)&v670.m256_f32[6] * v512[7];
                v528 = (v668 * v522 - v517 * v666 + v669 * v520) * v666 - v667 * v524;
                n0x40000E = 0x40000E;
                v660 = v667 * v512[2] - v668 * v512[1] + v669 * *v512 + v666 * v512[3];
                v661 = v673;
                v662 = v518;
                v663 = v523;
                *(double *)v664.m256_f32 = (v526 + v522 + v526) * *(double *)&v670.m256_f32[6]
                                         + *(double *)v670.m256_f32;
                *(double *)&v664.m256_f32[2] = (v668 * v524 - v525 * v666 + v520 + v668 * v524 - v525 * v666)
                                             * *(double *)&v670.m256_f32[6]
                                             + *(double *)&v670.m256_f32[2];
                *(double *)&v664.m256_f32[4] = (v528 + v517 + v528) * *(double *)&v670.m256_f32[6]
                                             + *(double *)&v670.m256_f32[4];
                *(double *)&v664.m256_f32[6] = v527;
                if ( v665 )
                  (*(void (__fastcall **)(__int64))(*(_QWORD *)v665 + 8LL))(v665);
                v665 = 0;
                goto LABEL_75;
              }
              v625 = v453[7];
              v635 = v453[0xB];
              v455 = v453[4];
              v456 = v453[9];
              v595 = v453[0xF];
              v457 = v453[0xE];
              *((_QWORD *)&v458 + 1) = 0;
              *(double *)&v458 = v456 + v455 + v457;
              v459 = 0;
              v460 = 0.0;
              v587 = 0.0;
              v602 = 0.0;
              v461 = v453[5];
              v462 = v453[6];
              v463 = v453[8];
              v464 = v453[0xA];
              v465 = v453[0xC];
              v466 = v453[0xD];
              if ( *(double *)&v458 <= 0.0 )
              {
                if ( v455 < v456 || v455 < v457 )
                {
                  if ( v456 < v455 || v456 < v457 )
                  {
                    if ( v457 < v455 || v457 < v456 )
                      goto LABEL_192;
                    *((_QWORD *)&v484 + 1) = 0;
                    *(double *)&v484 = v457 - v455 - v456 + 1.0;
                    _XMM2 = v484;
                    __asm { vmovddup xmm3, xmm2 }
                    __asm
                    {
                      vsqrtpd xmm5, xmm3
                      vunpckhpd xmm5, xmm5, xmm5
                    }
                    v482 = 0.5 / *(double *)&_XMM5;
                    *(double *)&v39 = (v463 - v461) * (0.5 / *(double *)&_XMM5);
                    *((_QWORD *)&v484 + 1) = 0;
                    *(double *)&v484 = (v466 + v464) * (0.5 / *(double *)&_XMM5);
                    v459 = v484;
                    v483 = v465 + v462;
                    v460 = *(double *)&_XMM5 * 0.5;
                  }
                  else
                  {
                    *((_QWORD *)&v477 + 1) = 0;
                    *(double *)&v477 = v456 - v457 - v455 + 1.0;
                    _XMM2 = v477;
                    __asm { vmovddup xmm3, xmm2 }
                    __asm
                    {
                      vsqrtpd xmm5, xmm3
                      vunpckhpd xmm5, xmm5, xmm5
                    }
                    v482 = 0.5 / *(double *)&_XMM5;
                    *(double *)&v39 = (v462 - v465) * (0.5 / *(double *)&_XMM5);
                    v460 = (v466 + v464) * (0.5 / *(double *)&_XMM5);
                    v483 = v463 + v461;
                    *((_QWORD *)&v477 + 1) = *((_QWORD *)&_XMM5 + 1);
                    *(double *)&v477 = *(double *)&_XMM5 * 0.5;
                    v459 = v477;
                  }
                  v40 = v483 * v482;
                }
                else
                {
                  *((_QWORD *)&v472 + 1) = 0;
                  *(double *)&v472 = v455 - v456 - v457 + 1.0;
                  _XMM2 = v472;
                  __asm { vmovddup xmm3, xmm2 }
                  __asm
                  {
                    vsqrtpd xmm4, xmm3
                    vunpckhpd xmm4, xmm4, xmm4
                  }
                  *(double *)&v39 = (v466 - v464) * (0.5 / *(double *)&_XMM4);
                  v40 = *(double *)&_XMM4 * 0.5;
                  *((_QWORD *)&v472 + 1) = 0;
                  v460 = (v465 + v462) * (0.5 / *(double *)&_XMM4);
                  *(double *)&v472 = (v463 + v461) * (0.5 / *(double *)&_XMM4);
                  v459 = v472;
                }
              }
              else
              {
                *(double *)&v458 = *(double *)&v458 + 1.0;
                _XMM0 = v458;
                __asm { vmovddup xmm1, xmm0 }
                __asm
                {
                  vsqrtpd xmm3, xmm1
                  vunpckhpd xmm3, xmm3, xmm3
                }
                *(double *)&v39 = *(double *)&_XMM3 * 0.5;
                v40 = (v466 - v464) * (0.5 / *(double *)&_XMM3);
                *((_QWORD *)&v471 + 1) = 0;
                v460 = (v463 - v461) * (0.5 / *(double *)&_XMM3);
                *(double *)&v471 = (v462 - v465) * (0.5 / *(double *)&_XMM3);
                v459 = v471;
              }
              v602 = v460;
              v587 = *(double *)&v459;
              v626 = v40;
              v603 = *(double *)&v39;
LABEL_192:
              v489 = *(double **)(a3 + 0x130);
              if ( v489 )
              {
                v490 = v489[6];
                v491 = v489[5];
                v492 = v489[4];
                v493 = v489[1];
                v494 = v489[2];
                v495 = v490 * *(double *)&v459 - v491 * v460 + v492 * v603;
                v496 = v492 * v460 - v490 * v40 + v491 * v603;
                *((_QWORD *)&v497 + 1) = *((_QWORD *)&v459 + 1);
                v498 = *(double *)&v459 * (v491 * v40 - v492 * *(double *)&v459 + v490 * v603) - v460 * v496;
                v499 = v40 * v496;
                v500 = v489[3];
                v501 = v489[7];
                v502 = *v489 * v602 - v494 * v626 + v493 * v603 + v500 * v587;
                v503 = v493 * v626 - v587 * *v489 + v494 * v603 + v500 * v602;
                v504 = v500 * v603 - v626 * *v489 - v493 * v587 - v602 * v489[2];
                *(double *)&v497 = v498 + v492 + v498 + v625;
                _XMM7 = v497;
                v506 = v499 - v495 * v587 + v490 + v499 - v495 * v587 + v595;
                v507 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
                *(double *)&v497 = v489[2] * v587 - v493 * v602 + *v489 * v603 + v489[3] * v626;
                v795 = v502;
                *(double *)v507 = *(double *)&v497;
                *(double *)(v507 + 8) = v502;
                *(double *)(v507 + 0x10) = v503;
                *(double *)(v507 + 0x18) = v504;
                __asm { vunpcklpd xmm7, xmm7, xmm4 }
                *(_OWORD *)(v507 + 0x20) = _XMM7;
                *(double *)(v507 + 0x30) = v506;
                *(double *)(v507 + 0x38) = v501;
                v796 = v503;
                v797 = v504;
                v799 = v506;
                v800 = v501;
                v798 = _XMM7;
              }
              else
              {
                v509 = *(_QWORD *)(v10 + 0x130) + 0x150LL;
                *(double *)v509 = v40;
                *(double *)(v509 + 8) = *(double *)&v459;
                *(double *)(v509 + 0x10) = v460;
                *(double *)(v509 + 0x18) = *(double *)&v39;
                *(double *)(v509 + 0x20) = v625;
                *(double *)(v509 + 0x28) = v635;
                *(double *)(v509 + 0x30) = v595;
                *(_QWORD *)(v509 + 0x38) = 0x3FF0000000000000LL;
              }
              if ( *(_BYTE *)(v10 + 0xD) >= 4u )
                *(double *)(*(_QWORD *)(v10 + 0x130) + 0x188LL) = *(double *)(sub_146B54040(v10, v833, 0) + 0x38);
              goto LABEL_198;
            }
          }
          else
          {
            v665 = 0;
          }
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
            qword_149B4FBE8,
            0x7832,
            v12);
          if ( v665 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v665 + 8LL))(v665);
          v665 = 0;
          v15 = 0;
        }
        if ( v615 )
        {
          if ( v36 )
          {
            v529 = *(_DWORD *)(v36 + 0x14);
            if ( v529 )
            {
              *(_DWORD *)(v36 + 0x14) = v529 - 1;
            }
            else
            {
              *(_DWORD *)(v36 + 0x10) = 0xFFFFFFFF;
              n0x200000_5 = _InterlockedCompareExchange64((volatile signed __int64 *)v36, 0, 0x200000);
              if ( n0x200000_5 == 0x200000 )
              {
                *(_QWORD *)(v36 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
              }
              else
              {
                __asm { vzeroupper }
                sub_1403DD380(v36, n0x200000_5);
              }
            }
          }
          if ( v32 )
          {
            v531 = *(_DWORD *)(v32 + 0x14);
            if ( v531 )
            {
              *(_DWORD *)(v32 + 0x14) = v531 - 1;
            }
            else
            {
              *(_DWORD *)(v32 + 0x10) = 0xFFFFFFFF;
              n0x200000_6 = _InterlockedCompareExchange64((volatile signed __int64 *)v32, 0, 0x200000);
              if ( n0x200000_6 == 0x200000 )
              {
                *(_QWORD *)(v32 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
              }
              else
              {
                __asm { vzeroupper }
                sub_1403DD380(v32, n0x200000_6);
              }
            }
          }
          if ( v28 )
          {
            v533 = *(_DWORD *)(v28 + 0x14);
            if ( v533 )
            {
              *(_DWORD *)(v28 + 0x14) = v533 - 1;
            }
            else
            {
              *(_DWORD *)(v28 + 0x10) = 0xFFFFFFFF;
              n0x200000_7 = _InterlockedCompareExchange64((volatile signed __int64 *)v28, 0, 0x200000);
              if ( n0x200000_7 == 0x200000 )
              {
                *(_QWORD *)(v28 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
              }
              else
              {
                __asm { vzeroupper }
                sub_1403DD380(v28, n0x200000_7);
              }
            }
          }
          if ( dword_149AC4BF4 )
          {
            --dword_149AC4BF4;
          }
          else
          {
            dword_149AC4BF0 = 0xFFFFFFFF;
            n0x200000_8 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0, 0x200000);
            if ( n0x200000_8 == 0x200000 )
            {
              ::p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
            }
            else
            {
              __asm { vzeroupper }
              sub_1403DD380((__int64)&qword_149AC4BE0, n0x200000_8);
            }
          }
          if ( dword_149AC4C0C )
          {
            --dword_149AC4C0C;
          }
          else
          {
            dword_149AC4C08 = 0xFFFFFFFF;
            n0x200000_9 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
            if ( n0x200000_9 == 0x200000 )
            {
              ::p_p_p_p_p_p_p_p_p_p_p_p_Source = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
            }
            else
            {
              __asm { vzeroupper }
              sub_1403DD380((__int64)&qword_149AC4BF8, n0x200000_9);
            }
          }
        }
        goto LABEL_237;
      default:
        goto LABEL_75;
    }
  }
LABEL_16:
  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
    qword_149B4FBE8,
    0x7832,
    v12);
  v15 = 0;
LABEL_237:
  __asm { vzeroupper }
  (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xF8LL))(qword_149B4FBE8);
LABEL_314:
  if ( (_QWORD)v698 )
  {
    sub_1403A3120((__int64)&v698, (const void *)v698, (v699 - v698) & 0xFFFFFFFFFFFFFFE0uLL);
    v698 = 0;
    v699 = 0;
  }
  v718 = __rdtsc();
  qword_149B4B878(v715);
  return v15;
}

// --- End Function: sub_146B2A3A0 (0x146B2A3A0) ---

// --- Function: sub_146B33CA0 (0x146B33CA0) ---
char __fastcall sub_146B33CA0(unsigned __int64 a1, unsigned __int8 a2)
{
  int v3; // esi
  unsigned __int64 v4; // rbp
  unsigned __int64 v5; // rcx
  char v6; // dl
  unsigned __int64 v7; // rdi
  unsigned __int16 v8; // ax
  char v9; // dl
  unsigned __int16 v10; // ax
  unsigned __int64 v11; // rax
  __int64 v12; // rbx
  int event_key_from_source_location; // eax
  char *v15; // [rsp+20h] [rbp-58h] BYREF
  int event_key_from_source_location_1; // [rsp+28h] [rbp-50h]
  __int64 v17; // [rsp+30h] [rbp-48h]
  const char *p_struct_SCEvt_OnAuthorityChanged; // [rsp+38h] [rbp-40h]
  char v19; // [rsp+40h] [rbp-38h]
  void (__fastcall *__StarEngineModule_)(ULONG_PTR); // [rsp+48h] [rbp-30h]
  __int64 (__fastcall *p_sub_1411DB5C0)(_BYTE *, unsigned __int8 *); // [rsp+50h] [rbp-28h]
  unsigned __int64 v22; // [rsp+80h] [rbp+8h] BYREF
  char v23; // [rsp+88h] [rbp+10h] BYREF

  v3 = a2;
  if ( ((*(_DWORD *)(a1 + 8) & 0x10) != 0) == a2
    || *(_BYTE *)(a1 + 0xD) != 4
    || a2
    && (*(_BYTE *)(a1 + 0x118) & 0x10) == 0
    && (!(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBF0 + 0xA8LL))(qword_149B4FBF0)
     && (*(_DWORD *)(a1 + 0x118) & 0x2000) != 0
     || !byte_149B4FE80) )
  {
    return 0;
  }
  *(_DWORD *)(a1 + 8) &= ~0x10u;
  *(_DWORD *)(a1 + 8) |= 0x10 * v3;
  sub_146B74B20(a1, *(unsigned __int16 *)(a1 + 0x128));
  sub_146A3BF30(qword_1515B19F0, a1, (unsigned __int8)v3, 0);
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v6 = 0;
    v5 = a1 - 6;
    v4 = a1 - 6;
    v7 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  else
  {
    v4 = a1 - 6;
    v5 = a1 & 0xFFFFFFFFFF000000uLL;
    v6 = 1;
    v7 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v8 = *(_WORD *)(v5 + 2) | 0x2000;
  if ( !v6 )
    v8 = *(_WORD *)(v5 + 2);
  sub_146A3C230(qword_1515B1A00, a1 | ((unsigned __int64)v8 << 0x30));
  v23 = v3;
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v9 = 0;
    v7 = v4;
  }
  else
  {
    v9 = 1;
  }
  v10 = *(_WORD *)(v7 + 2) | 0x2000;
  if ( !v9 )
    v10 = *(_WORD *)(v7 + 2);
  v11 = a1 | ((unsigned __int64)v10 << 0x30);
  v12 = qword_1515B19E8;
  v22 = v11;
  if ( !sub_14030EC00(&v22) )
    return 0;
  v15 = &v23;
  event_key_from_source_location = event_key_from_source_location_0;
  if ( !event_key_from_source_location_0 )
    event_key_from_source_location = get_event_key_from_source_location(
                                       &event_key_from_source_location_0,
                                       (__int64)"W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryCommon\\Events/Network/NetworkEvents.h",
                                       0xC);
  event_key_from_source_location_1 = event_key_from_source_location;
  v17 = 1;
  p_struct_SCEvt_OnAuthorityChanged = "struct SCEvt_OnAuthorityChanged";
  v19 = byte_1515B1B60;
  __StarEngineModule_ = _StarEngineModule__;
  p_sub_1411DB5C0 = sub_1411DB5C0;
  return (*(__int64 (__fastcall **)(__int64, unsigned __int64, char **))(*(_QWORD *)v12 + 0x360LL))(v12, v22, &v15);
}

// --- End Function: sub_146B33CA0 (0x146B33CA0) ---

// --- Function: sub_146B33ED0 (0x146B33ED0) ---
double __fastcall sub_146B33ED0(__int64 a1, unsigned __int64 a2, unsigned int n4_1)
{
  __int64 n4_2; // r13
  unsigned __int64 v4; // rdi
  unsigned __int64 v5; // rbx
  int v6; // esi
  __int64 v7; // rax
  __int64 *ThreadLogContextSlot; // rax
  _QWORD *v9; // rax
  volatile signed __int32 *v10; // rsi
  volatile signed __int32 *v11; // r14
  signed __int64 v12; // rdx
  char v13; // cl
  unsigned __int64 v14; // rdx
  unsigned __int16 v15; // ax
  int v16; // esi
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v18; // rax
  char v19; // dl
  unsigned __int64 v20; // rcx
  unsigned __int16 v21; // ax
  unsigned __int64 v22; // rdx
  char v23; // r8
  unsigned __int64 v24; // rcx
  unsigned __int16 v25; // ax
  __int64 v26; // rsi
  __int64 v27; // r15
  __int64 v28; // r14
  int v29; // eax
  unsigned __int64 *v30; // r12
  unsigned __int64 v31; // rax
  __int64 v32; // r13
  unsigned __int64 v33; // rax
  __int64 v34; // r13
  __int64 v35; // rax
  char v36; // dl
  unsigned __int64 v37; // rcx
  unsigned __int16 v38; // ax
  bool v39; // al
  unsigned __int64 v40; // rdi
  unsigned __int64 v41; // r13
  __int64 v42; // rcx
  unsigned __int64 i; // r12
  char v44; // dl
  unsigned __int64 v45; // rcx
  unsigned __int16 v46; // ax
  unsigned __int64 v47; // rdi
  char v48; // dl
  unsigned __int64 v49; // rcx
  unsigned __int16 v50; // ax
  __int64 v51; // rbx
  int v52; // eax
  unsigned __int64 n0x200000; // rax
  int v54; // ecx
  const char *p_No_Owner; // rax
  __int64 *ThreadLogContextSlot_1; // rax
  unsigned __int64 v58; // [rsp+78h] [rbp-88h]
  int v59[2]; // [rsp+80h] [rbp-80h]
  int v60; // [rsp+80h] [rbp-80h]
  unsigned __int64 v61; // [rsp+88h] [rbp-78h] BYREF
  unsigned int n4; // [rsp+90h] [rbp-70h]
  __int64 v63; // [rsp+98h] [rbp-68h] BYREF
  __int64 v64[3]; // [rsp+A0h] [rbp-60h] BYREF
  unsigned __int64 v65; // [rsp+B8h] [rbp-48h] BYREF
  __int64 v66; // [rsp+C8h] [rbp-38h] BYREF
  __int64 v67; // [rsp+D0h] [rbp-30h] BYREF
  unsigned int v68[2]; // [rsp+D8h] [rbp-28h] BYREF
  unsigned int v69[2]; // [rsp+E0h] [rbp-20h] BYREF
  unsigned int v70[2]; // [rsp+E8h] [rbp-18h] BYREF
  __int64 v71[2]; // [rsp+F0h] [rbp-10h] BYREF
  char v72; // [rsp+100h] [rbp+0h]
  _DWORD v73[2]; // [rsp+110h] [rbp+10h] BYREF
  __int64 v74; // [rsp+118h] [rbp+18h]
  unsigned __int64 v75; // [rsp+120h] [rbp+20h]
  unsigned __int64 v76; // [rsp+128h] [rbp+28h]
  __int64 v77; // [rsp+130h] [rbp+30h]
  __int64 v78; // [rsp+138h] [rbp+38h]
  __int64 v79[2]; // [rsp+160h] [rbp+60h] BYREF
  const void *v80; // [rsp+170h] [rbp+70h]
  __int64 v81[2]; // [rsp+178h] [rbp+78h] BYREF
  const void *v82; // [rsp+188h] [rbp+88h]
  __int64 v83[2]; // [rsp+190h] [rbp+90h] BYREF
  const void *v84; // [rsp+1A0h] [rbp+A0h]
  __int64 v85[2]; // [rsp+1A8h] [rbp+A8h] BYREF
  const void *v86; // [rsp+1B8h] [rbp+B8h]
  _QWORD v87[2]; // [rsp+1C0h] [rbp+C0h] BYREF
  __int64 v88[2]; // [rsp+1D0h] [rbp+D0h] BYREF
  unsigned int v89[2]; // [rsp+1E0h] [rbp+E0h] BYREF
  char *v90; // [rsp+1E8h] [rbp+E8h]
  _QWORD v91[2]; // [rsp+1F0h] [rbp+F0h] BYREF
  __int64 v92[2]; // [rsp+200h] [rbp+100h] BYREF
  unsigned int v93[2]; // [rsp+210h] [rbp+110h] BYREF
  char *v94; // [rsp+218h] [rbp+118h]
  __int64 v95[2]; // [rsp+220h] [rbp+120h] BYREF
  char v96; // [rsp+230h] [rbp+130h]
  char v97[8]; // [rsp+238h] [rbp+138h] BYREF
  __int64 v98[2]; // [rsp+240h] [rbp+140h] BYREF
  __int64 v99; // [rsp+250h] [rbp+150h] BYREF
  volatile signed __int32 *v100; // [rsp+258h] [rbp+158h]
  __int64 v101[2]; // [rsp+260h] [rbp+160h] BYREF
  _DWORD v102[3]; // [rsp+270h] [rbp+170h] BYREF
  char v103; // [rsp+27Ch] [rbp+17Ch] BYREF
  _DWORD v104[3]; // [rsp+280h] [rbp+180h] BYREF
  char v105; // [rsp+28Ch] [rbp+18Ch] BYREF
  _DWORD v106[3]; // [rsp+290h] [rbp+190h] BYREF
  char v107; // [rsp+29Ch] [rbp+19Ch] BYREF
  _DWORD v108[3]; // [rsp+2A0h] [rbp+1A0h] BYREF
  char v109; // [rsp+2ACh] [rbp+1ACh] BYREF

  n4_2 = (int)n4_1;
  n4 = n4_1;
  v4 = a2;
  v74 = 0;
  v5 = a1;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  v58 = a2;
  v63 = a1;
  v73[0] = 0xF00;
  v75 = __rdtsc();
  v73[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v73,
    &word_1515B1BE4,
    "CEntity::ChangeOwnerEntity",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity_Aggregates.cpp",
    0x20);
  HIWORD(v73[0]) = word_1515B1BE4;
  if ( (_DWORD)n4_2 == 4 )
  {
    sub_146B34EF0(v5);
    goto LABEL_144;
  }
  if ( (int)n4_2 >= 3 )
    LogFatalError("Invalid entity ownership reason");
  if ( *(_BYTE *)(v5 + 0xD) < 5u )
  {
    if ( v4 )
    {
      if ( !(_BYTE)qword_149B501D6
        && (*(_BYTE *)(v4 + 0xD) >= 5u || (*(_BYTE *)(v4 + 8) & 8) != 0 && (*(_BYTE *)(v5 + 8) & 8) == 0) )
      {
        v106[0] = 0xD2;
        v87[0] = v106;
        v106[1] = 0x2C;
        v87[1] = &v107;
        v106[2] = 0x31;
        v6 = invokeGlobalCallbackAndMaskStatusBits(
               2,
               (__int64)v87,
               (__int64)"Attaching to an already removing owner - will crash later",
               "Attaching $$ to an already removing owner ($$). reason ($$)");
        if ( (v6 & 0xFFFFF) != 0 )
        {
          v7 = *(_QWORD *)(v5 + 0x298);
          v88[1] = (unsigned int)n4_2;
          v81[1] = *(_QWORD *)(v4 + 0x298);
          v88[0] = 0;
          v81[0] = 0;
          v82 = 0;
          v79[0] = 0;
          v79[1] = v7;
          v80 = 0;
          ThreadLogContextSlot = getThreadLogContextSlot();
          v108[0] = 0xD2;
          *(_QWORD *)v89 = v108;
          v90 = &v109;
          *(_OWORD *)v98 = 0;
          v108[1] = 0x2C;
          v108[2] = 0x31;
          sub_146B1C830(
            2,
            (unsigned int)v89,
            (unsigned int)"Attaching to an already removing owner - will crash later",
            (unsigned int)"Attaching $$ to an already removing owner ($$). reason ($$)",
            1,
            v6,
            (__int64)v98,
            0,
            ThreadLogContextSlot,
            (__int64)v79,
            (__int64)v81,
            (__int64)v88);
          sub_1402A3D30(v80);
          sub_1402A3D30(v82);
        }
      }
      if ( *(_BYTE *)(v5 + 0xD) < 4u )
      {
        v9 = sub_146B51FA0(v5, &v99);
        v10 = (volatile signed __int32 *)v9[1];
        v9[1] = 0;
        *v9 = 0;
        v11 = v100;
        if ( v100 )
        {
          if ( _InterlockedExchangeAdd(v100 + 2, 0xFFFFFFFF) == 1 )
          {
            (**(void (__fastcall ***)(volatile signed __int32 *))v11)(v11);
            if ( _InterlockedExchangeAdd(v11 + 3, 0xFFFFFFFF) == 1 )
              (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v11 + 8LL))(v11);
          }
        }
        if ( v10 )
        {
          if ( _InterlockedExchangeAdd(v10 + 2, 0xFFFFFFFF) == 1 )
          {
            (**(void (__fastcall ***)(volatile signed __int32 *))v10)(v10);
            if ( _InterlockedExchangeAdd(v10 + 3, 0xFFFFFFFF) == 1 )
              (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v10 + 8LL))(v10);
          }
        }
      }
    }
    if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++dword_149AC4C0C;
    }
    else
    {
      v12 = _InterlockedIncrement64(&qword_149AC4BF8);
      if ( (v12 & 0x200000) != 0 )
        sub_1403CB300((__int64)&qword_149AC4BF8, v12, "CEntity::ChangeOwnerEntity", "s_aggregateHierarchyLock", 1);
    }
    if ( !sub_14030EC00((unsigned __int64 *)(v5 + 0x4E0 + 8 * n4_2)) && !v4 )
      goto LABEL_36;
    sub_146B74B20(v5, 0x16);
    if ( v4 )
    {
      if ( qword_1515B1B10 > v4 || v4 >= qword_1515B1B18 + qword_1515B1B10 )
      {
        v13 = 0;
        v14 = v4 - 6;
      }
      else
      {
        v13 = 1;
        v14 = v4 & 0xFFFFFFFFFF000000uLL;
      }
      v15 = *(_WORD *)(v14 + 2) | 0x2000;
      if ( !v13 )
        v15 = *(_WORD *)(v14 + 2);
      if ( *(_QWORD *)(v5 + 8 * n4_2 + 0x4E0) == (v4 | ((unsigned __int64)v15 << 0x30)) )
      {
LABEL_36:
        sub_1402D2790((__int64)&qword_149AC4BF8);
        goto LABEL_144;
      }
    }
    sub_1402D2790((__int64)&qword_149AC4BF8);
    v16 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( dword_149AC4C08 == v16 )
    {
      ++dword_149AC4C0C;
    }
    else
    {
      p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
      v18 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0x200000, 0);
      if ( v18 )
        sub_1403DCD60(
          (__int64)&qword_149AC4BF8,
          v18,
          (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
          "CEntity::ChangeOwnerEntity",
          "s_aggregateHierarchyLock",
          1);
      else
        ::p_p_p_p_p_p_p_p_p_p_p_p_Source = p_p_p_p_p_p_p_p_p_p_p_p_Source;
      dword_149AC4C08 = v16;
    }
    if ( v4 )
    {
      if ( qword_1515B1B10 > v5 || v5 >= qword_1515B1B18 + qword_1515B1B10 )
      {
        v19 = 0;
        v20 = v5 - 6;
      }
      else
      {
        v19 = 1;
        v20 = v5 & 0xFFFFFFFFFF000000uLL;
      }
      v21 = *(_WORD *)(v20 + 2) | 0x2000;
      if ( !v19 )
        v21 = *(_WORD *)(v20 + 2);
      v22 = v5 | ((unsigned __int64)v21 << 0x30);
      if ( qword_1515B1B10 > v4 || v4 >= qword_1515B1B18 + qword_1515B1B10 )
      {
        v23 = 0;
        v24 = v4 - 6;
      }
      else
      {
        v23 = 1;
        v24 = v4 & 0xFFFFFFFFFF000000uLL;
      }
      v25 = *(_WORD *)(v24 + 2) | 0x2000;
      if ( !v23 )
        v25 = *(_WORD *)(v24 + 2);
      if ( !sub_146B34BD0(v4 | ((unsigned __int64)v25 << 0x30), v22) )
      {
        if ( byte_149B4FE80 )
          goto LABEL_129;
        sub_14033FE10(v5, v64);
        if ( !AssetMeta::HasActorSubresource(v64)
          || !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)(v64[0] & 0xFFFFFFFFFFFFLL) + 0x578LL))(v64[0] & 0xFFFFFFFFFFFFLL) )
        {
          goto LABEL_129;
        }
        sub_146AABD10((__int64)"%s setting reason=%u owner to nullptr due to non-authoritative client ownership change on"
                               " entityId=%llu entityName=\"%s\" entityState=%u");
        goto LABEL_61;
      }
      if ( dword_1515B1968 == 1 )
      {
        v35 = sub_146A31A80(v4, v97);
        if ( (unsigned __int8)sub_146B34C30(v5, v35) )
        {
          LogTraceConditional(
            "%s: Trying to set cyclic entity ownership - eReason=%d entity {name =\"%s\" id=%llu} newOwner {name=\"%s\" id=%llu}",
            "CEntity::ChangeOwnerEntity",
            n4_2,
            *(const char **)(v5 + 0x298),
            *(_QWORD *)(v5 + 0x10),
            *(const char **)(v4 + 0x298),
            *(_QWORD *)(v4 + 0x10));
          sub_146B44340(v5);
          if ( (_BYTE)qword_149B501D6 )
            sub_146AABD10((__int64)"Cyclic Entity ownership - attempting to set entity as being owned by itself or one of"
                                   " the entities owned by it!!!");
          else
            LogFatalError(
              "Cyclic Entity ownership - attempting to set entity as being owned by itself or one of the entities owned by it!!!");
LABEL_61:
          v26 = *(_QWORD *)(v5 + 0x320);
          v4 = 0;
          v27 = *(_QWORD *)(v5 + 0x318);
          v58 = 0;
          v28 = *(_QWORD *)(v5 + 0x328);
          goto LABEL_62;
        }
      }
    }
    v26 = *(_QWORD *)(v5 + 0x320);
    v28 = *(_QWORD *)(v5 + 0x328);
    v27 = *(_QWORD *)(v5 + 0x318);
    if ( v4 )
    {
      if ( qword_1515B1B10 > v4 || v4 >= qword_1515B1B18 + qword_1515B1B10 )
      {
        v36 = 0;
        v37 = v4 - 6;
      }
      else
      {
        v36 = 1;
        v37 = v4 & 0xFFFFFFFFFF000000uLL;
      }
      v38 = *(_WORD *)(v37 + 2) | 0x2000;
      v58 = v4;
      if ( !v36 )
        v38 = *(_WORD *)(v37 + 2);
      *(_QWORD *)(v5 + 8 * n4_2 + 0x4E0) = v4 | ((unsigned __int64)v38 << 0x30);
      v29 = *(_DWORD *)(v5 + 0x4F8) | (1 << n4_2);
      goto LABEL_63;
    }
LABEL_62:
    *(_QWORD *)(v5 + 8 * n4_2 + 0x4E0) = 0;
    v29 = *(_DWORD *)(v5 + 0x4F8) & ~(1 << n4_2);
LABEL_63:
    *(_DWORD *)(v5 + 0x4F8) = v29;
    *(_QWORD *)v59 = 0;
    v30 = (unsigned __int64 *)(v5 + 0x4E0);
    do
    {
      v31 = *v30;
      if ( *v30 )
      {
        v32 = v31 & 0xFFFFFFFFFFFFLL;
        v33 = HIWORD(v31);
        v34 = (v33 & 0xF000) != 0 ? v32 & 0xFFFFFF000000LL : v32 - 6;
        v58 = v4;
        if ( *(_WORD *)(v34 + 2) == (v33 & 0xFFF) )
        {
          if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v39 = sub_140539D80()) )
            v39 = 1;
          if ( (v58 = v4, *(_WORD *)(v34 + 4) == 2) && v39 || sub_140392020(v30) )
          {
            v61 = v4;
            v40 = *v30;
            if ( (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x58LL))(v5 & 0xFFFFFFFFFFFFLL)
              || (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v40 & 0xFFFFFFFFFFFFLL) + 0x58LL))(v40 & 0xFFFFFFFFFFFFLL) )
            {
              v4 = v58;
            }
            else
            {
              v4 = v61;
              v65 = *v30;
              v58 = v61;
              if ( !(unsigned __int8)sub_146B34C30(v5, &v65) )
              {
                v41 = *v30;
                v58 = v61;
                goto LABEL_95;
              }
            }
          }
        }
      }
      v42 = *(_QWORD *)v59;
      *v30++ = 0;
      *(_DWORD *)(v5 + 0x4F8) &= ~(1 << SLOBYTE(v59[0]));
      ++*(_QWORD *)v59;
    }
    while ( (unsigned __int64)(v42 + 1) < 3 );
    v41 = 0;
LABEL_95:
    if ( (*(_BYTE *)(v5 + 0x4F8) & 3) != 0
      && (sub_14030EC00((unsigned __int64 *)(v5 + 0x4E0)) || *(_QWORD *)(v5 + 0x4E8) != *(_QWORD *)(v5 + 0x18)) )
    {
      for ( i = v41;
            (*(_BYTE *)((i & 0xFFFFFFFFFFFFLL) + 0x4F8) & 3) != 0
         && (sub_14030EC00((unsigned __int64 *)((i & 0xFFFFFFFFFFFFLL) + 0x4E0))
          || *(_QWORD *)((i & 0xFFFFFFFFFFFFLL) + 0x4E8) != *(_QWORD *)((i & 0xFFFFFFFFFFFFLL) + 0x18));
            i = *(_QWORD *)((i & 0xFFFFFFFFFFFFLL) + 0x318) )
      {
        ;
      }
    }
    else
    {
      if ( qword_1515B1B10 > v5 || v5 >= qword_1515B1B18 + qword_1515B1B10 )
      {
        v44 = 0;
        v45 = v5 - 6;
      }
      else
      {
        v44 = 1;
        v45 = v5 & 0xFFFFFFFFFF000000uLL;
      }
      v46 = *(_WORD *)(v45 + 2) | 0x2000;
      if ( !v44 )
        v46 = *(_WORD *)(v45 + 2);
      i = v5 | ((unsigned __int64)v46 << 0x30);
    }
    v61 = v41;
    if ( (unsigned __int8)sub_146B5AE10(v5) )
    {
      if ( !sub_14030EC00(&v61) || (v47 = v61, (*(_DWORD *)((v61 & 0xFFFFFFFFFFFFLL) + 0x118) & 0x2000) != 0) )
      {
        if ( qword_1515B1B10 > v5 || v5 >= qword_1515B1B18 + qword_1515B1B10 )
        {
          v48 = 0;
          v49 = v5 - 6;
        }
        else
        {
          v48 = 1;
          v49 = v5 & 0xFFFFFFFFFF000000uLL;
        }
        v50 = *(_WORD *)(v49 + 2) | 0x2000;
        if ( !v48 )
          v50 = *(_WORD *)(v49 + 2);
        v47 = v5 | ((unsigned __int64)v50 << 0x30);
        goto LABEL_126;
      }
    }
    else
    {
      v47 = v61;
    }
    if ( !(unsigned __int8)sub_146B5AE10(v47 & 0xFFFFFFFFFFFFLL) )
    {
      v51 = v47 & 0xFFFFFFFFFFFFLL;
      do
      {
        v47 = *(_QWORD *)(v51 + 0x318);
        v51 = v47 & 0xFFFFFFFFFFFFLL;
      }
      while ( !(unsigned __int8)sub_146B5AE10(v47 & 0xFFFFFFFFFFFFLL) );
      v5 = v63;
    }
LABEL_126:
    if ( v27 != v41 || i != v26 || v28 != v47 )
    {
      if ( *(_BYTE *)(v5 + 0xD) >= 4u )
      {
        v54 = *(_DWORD *)(v5 + 0x118);
        if ( (v54 & 0x10) == 0 && (v54 & 0x1800) != 0x1000 )
        {
          v102[0] = 0xD2;
          v91[0] = v102;
          v102[1] = 0x2C;
          v91[1] = &v103;
          v102[2] = 0x31;
          v60 = invokeGlobalCallbackAndMaskStatusBits(
                  3,
                  (__int64)v91,
                  (__int64)"Entities that cannot be replicated must not change parent (except during spawn or removal)",
                  "Entities that cannot be replicated must not change parent (except during spawn or removal) - reason=$$"
                  ", parent {name =\"$$\" id=$$}, child {name =\"$$\" id=$$}");
          if ( (v60 & 0xFFFFF) != 0 )
          {
            v95[1] = *(_QWORD *)(v5 + 0x10);
            v85[1] = *(_QWORD *)(v5 + 0x298);
            v95[0] = 0;
            v96 = 0;
            v85[0] = 0;
            v86 = 0;
            v72 = 0;
            if ( v58 )
            {
              v71[1] = *(_QWORD *)(v58 + 0x10);
              p_No_Owner = *(const char **)(v58 + 0x298);
              v71[0] = 0;
            }
            else
            {
              *(_OWORD *)v71 = 0;
              p_No_Owner = "No Owner";
            }
            v83[1] = (__int64)p_No_Owner;
            v92[1] = n4;
            v83[0] = 0;
            v84 = 0;
            v92[0] = 0;
            ThreadLogContextSlot_1 = getThreadLogContextSlot();
            v104[0] = 0xD2;
            *(_QWORD *)v93 = v104;
            v104[1] = 0x2C;
            v94 = &v105;
            v104[2] = 0x31;
            *(_OWORD *)v101 = 0;
            sub_146B1C740(
              3,
              (unsigned int)v93,
              (unsigned int)"Entities that cannot be replicated must not change parent (except during spawn or removal)",
              (unsigned int)"Entities that cannot be replicated must not change parent (except during spawn or removal) -"
                            " reason=$$, parent {name =\"$$\" id=$$}, child {name =\"$$\" id=$$}",
              1,
              v60,
              (__int64)v101,
              0,
              ThreadLogContextSlot_1,
              (__int64)v92,
              (__int64)v83,
              (__int64)v71,
              (__int64)v85,
              (__int64)v95);
            sub_1402A3D30(v84);
            sub_1402A3D30(v86);
          }
        }
      }
      v63 = v28;
      v66 = v47;
      v67 = v26;
      *(_QWORD *)v68 = i;
      *(_QWORD *)v69 = v27;
      *(_QWORD *)v70 = v41;
      sub_146B60560(
        v5,
        (unsigned int)v70,
        (unsigned int)v69,
        (unsigned int)v68,
        (__int64)&v67,
        (__int64)&v66,
        (__int64)&v63,
        n4);
      v52 = dword_149AC4C0C;
      if ( dword_149AC4C0C )
        goto LABEL_130;
      dword_149AC4C08 = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        goto LABEL_132;
      goto LABEL_143;
    }
LABEL_129:
    v52 = dword_149AC4C0C;
    if ( dword_149AC4C0C )
    {
LABEL_130:
      dword_149AC4C0C = v52 - 1;
      goto LABEL_144;
    }
    dword_149AC4C08 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
    {
LABEL_132:
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
      goto LABEL_144;
    }
LABEL_143:
    sub_1403DD380((__int64)&qword_149AC4BF8, n0x200000);
  }
LABEL_144:
  v76 = __rdtsc();
  return qword_149B4B878(v73);
}

// --- End Function: sub_146B33ED0 (0x146B33ED0) ---

// --- Function: sub_146B34BD0 (0x146B34BD0) ---
bool __fastcall sub_146B34BD0(__int64 a1, __int64 a2)
{
  return !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)(a2 & 0xFFFFFFFFFFFFLL) + 0x58LL))(a2 & 0xFFFFFFFFFFFFLL)
      && !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)(a1 & 0xFFFFFFFFFFFFLL) + 0x58LL))(a1 & 0xFFFFFFFFFFFFLL);
}

// --- End Function: sub_146B34BD0 (0x146B34BD0) ---

// --- Function: sub_146B34C30 (0x146B34C30) ---
char __fastcall sub_146B34C30(unsigned __int64 a1, __int64 *a2)
{
  __int64 i; // r8
  __int64 v4; // rbx
  bool v5; // al
  char v6; // dl
  unsigned __int64 v7; // rcx
  unsigned __int16 v8; // ax
  __int64 v10; // [rsp+48h] [rbp+10h] BYREF

  for ( i = *a2; ; i = *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 0x318) )
  {
    v10 = i;
    if ( !i )
      break;
    v4 = (i & 0xF000000000000000uLL) != 0 ? i & 0xFFFFFF000000LL : (i & 0xFFFFFFFFFFFFLL) - 6;
    if ( *(_WORD *)(v4 + 2) != (HIWORD(i) & 0xFFF) )
      break;
    if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v5 = sub_140539D80()) )
      v5 = 1;
    if ( (*(_WORD *)(v4 + 4) != 2 || !v5) && !sub_140392020(&v10) )
      break;
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v6 = 0;
      v7 = a1 - 6;
    }
    else
    {
      v6 = 1;
      v7 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v8 = *(_WORD *)(v7 + 2) | 0x2000;
    if ( !v6 )
      v8 = *(_WORD *)(v7 + 2);
    if ( v10 == (a1 | ((unsigned __int64)v8 << 0x30)) )
      return 1;
  }
  return 0;
}

// --- End Function: sub_146B34C30 (0x146B34C30) ---

// --- Function: sub_146B34EF0 (0x146B34EF0) ---
const ULONG_PTR *__fastcall sub_146B34EF0(unsigned __int64 a1)
{
  int v2; // edi
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v4; // rax
  __int64 v5; // rcx
  __int64 v6; // rdx
  __int64 v7; // r8
  unsigned __int64 v8; // rsi
  unsigned __int64 v9; // r9
  char v10; // bp
  unsigned __int64 v11; // r11
  unsigned __int16 v12; // ax
  unsigned __int64 v13; // rax
  char v14; // r10
  unsigned __int16 v15; // dx
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source_1; // rax
  unsigned __int64 n0x200000; // rax
  unsigned int v18[2]; // [rsp+50h] [rbp-58h] BYREF
  unsigned int v19[2]; // [rsp+58h] [rbp-50h] BYREF
  __int64 v20; // [rsp+60h] [rbp-48h] BYREF
  __int64 v21; // [rsp+B0h] [rbp+8h] BYREF
  __int64 v22; // [rsp+B8h] [rbp+10h] BYREF
  __int64 v23; // [rsp+C0h] [rbp+18h] BYREF
  unsigned __int64 v24; // [rsp+C8h] [rbp+20h] BYREF

  v2 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( dword_149AC4C08 == v2 )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
    v4 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0x200000, 0);
    if ( v4 )
      sub_1403DCD60(
        (__int64)&qword_149AC4BF8,
        v4,
        (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
        "CEntity::ClearAllOwners",
        "s_aggregateHierarchyLock",
        1);
    else
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source = p_p_p_p_p_p_p_p_p_p_p_p_Source;
    dword_149AC4C08 = v2;
  }
  v5 = *(_QWORD *)(a1 + 0x320);
  v6 = *(_QWORD *)(a1 + 0x328);
  v7 = *(_QWORD *)(a1 + 0x318);
  *(_DWORD *)(a1 + 0x4F8) = 0;
  *(_QWORD *)(a1 + 0x4E0) = 0;
  *(_QWORD *)(a1 + 0x4E8) = 0;
  *(_QWORD *)(a1 + 0x4F0) = 0;
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v10 = 0;
    v9 = a1 - 6;
    v8 = a1 - 6;
    v11 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  else
  {
    v8 = a1 - 6;
    v9 = a1 & 0xFFFFFFFFFF000000uLL;
    v10 = 1;
    v11 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v12 = *(_WORD *)(v9 + 2) | 0x2000;
  if ( !v10 )
    v12 = *(_WORD *)(v9 + 2);
  v13 = a1 | ((unsigned __int64)v12 << 0x30);
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v14 = 0;
    v11 = v8;
  }
  else
  {
    v14 = 1;
  }
  v21 = v6;
  v15 = *(_WORD *)(v11 + 2) | 0x2000;
  v24 = v13;
  if ( !v14 )
    v15 = *(_WORD *)(v11 + 2);
  v22 = a1 | ((unsigned __int64)v15 << 0x30);
  v23 = v5;
  *(_QWORD *)v18 = v7;
  *(_QWORD *)v19 = 0;
  sub_146B60560(
    a1,
    (unsigned __int64 *)v19,
    (__int64 *)v18,
    (__int64 *)&v24,
    &v23,
    (unsigned __int64 *)&v22,
    (unsigned __int64 *)&v21,
    4u);
  v20 = 0;
  sub_146B5C9C0(a1, &v20, 4);
  if ( dword_149AC4C0C )
  {
    return (const ULONG_PTR *)(unsigned int)--dword_149AC4C0C;
  }
  else
  {
    dword_149AC4C08 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
    {
      p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = &p_p_p_p_p_p_p_p_p_p_p_Source;
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
    }
    else
    {
      return sub_1403DD380((__int64)&qword_149AC4BF8, n0x200000);
    }
  }
  return p_p_p_p_p_p_p_p_p_p_p_p_Source_1;
}

// --- End Function: sub_146B34EF0 (0x146B34EF0) ---

// --- Function: sub_146B35170 (0x146B35170) ---
__int64 __fastcall sub_146B35170(__int64 a1, int a2)
{
  return sub_146B74410(a1, (unsigned int)~a2 & *(_DWORD *)(a1 + 0x118));
}

// --- End Function: sub_146B35170 (0x146B35170) ---

// --- Function: sub_146B35CC0 (0x146B35CC0) ---
char __fastcall sub_146B35CC0(__int64 a1, double *a2, __int64 a3, __int64 a4)
{
  __int64 v4; // rdi
  unsigned __int64 v8; // rax
  unsigned __int64 v9; // rbx
  unsigned __int64 v10; // rax
  __int64 v11; // rbx
  __int64 v12; // rbx
  bool v13; // al
  __int64 v14; // rbx
  __int64 (__fastcall *v15)(__int64, double *, double *); // rsi
  __int16 n0xFFFF; // ax
  double v17; // rbx
  __int64 v18; // rax
  __int16 n4; // dx
  __int64 *v21; // rbx
  __int64 v22; // rax
  float *v23; // rax
  __int64 v24; // rcx
  float v25; // xmm5_4
  float v26; // xmm6_4
  float v27; // xmm7_4
  float v28; // xmm0_4
  double v29; // xmm3_8
  float v30; // xmm1_4
  __int64 v31; // rax
  double v32; // xmm2_8
  double v33; // xmm15_8
  double v34; // xmm14_8
  double v35; // xmm1_8
  double v36; // xmm2_8
  double v37; // xmm1_8
  double v38; // xmm2_8
  double v39; // xmm10_8
  double v40; // xmm4_8
  double v41; // xmm6_8
  double v42; // xmm12_8
  double v43; // xmm3_8
  double v44; // xmm5_8
  double v45; // xmm9_8
  double v46; // xmm4_8
  double v47; // xmm11_8
  double v48; // xmm13_8
  double v49; // xmm1_8
  double v50; // xmm10_8
  double v51; // xmm2_8
  double v52; // xmm6_8
  double v53; // xmm7_8
  double v54; // xmm3_8
  double v55; // xmm13_8
  double v56; // xmm9_8
  double v57; // xmm12_8
  double v58; // xmm11_8
  double v59; // kr00_8
  double v60; // xmm15_8
  double v61; // xmm10_8
  double v62; // xmm9_8
  double v63; // xmm13_8
  double v64; // xmm8_8
  double v65; // xmm0_8
  double v66; // xmm7_8
  __int64 v67; // rax
  double v68; // xmm6_8
  double v69; // xmm5_8
  double v70; // xmm4_8
  double v71; // xmm0_8
  double v72; // xmm6_8
  double v73; // xmm3_8
  double v74; // xmm2_8
  double v75; // xmm5_8
  double v76; // xmm2_8
  __int64 v77; // rax
  double v78; // [rsp+30h] [rbp-1A8h] BYREF
  _BYTE v79[8]; // [rsp+38h] [rbp-1A0h] BYREF
  unsigned __int64 v80; // [rsp+40h] [rbp-198h] BYREF
  double v81; // [rsp+48h] [rbp-190h]
  double v82; // [rsp+50h] [rbp-188h]
  double v83; // [rsp+58h] [rbp-180h]
  double v84; // [rsp+60h] [rbp-178h]
  double v85; // [rsp+68h] [rbp-170h]
  double v86; // [rsp+70h] [rbp-168h] BYREF
  double v87; // [rsp+78h] [rbp-160h]
  double v88; // [rsp+80h] [rbp-158h]
  double v89; // [rsp+88h] [rbp-150h]
  double v90; // [rsp+90h] [rbp-148h]
  double v91; // [rsp+98h] [rbp-140h]
  double v92; // [rsp+A0h] [rbp-138h]
  double v93; // [rsp+A8h] [rbp-130h]
  double v94; // [rsp+B0h] [rbp-128h]
  double v95; // [rsp+B8h] [rbp-120h]
  double v96; // [rsp+C0h] [rbp-118h]
  double v97; // [rsp+C8h] [rbp-110h]
  double v98; // [rsp+D0h] [rbp-108h] BYREF
  double v99; // [rsp+D8h] [rbp-100h]
  double v100; // [rsp+E0h] [rbp-F8h]
  double v101; // [rsp+E8h] [rbp-F0h]
  double v102; // [rsp+F0h] [rbp-E8h]
  double v103; // [rsp+F8h] [rbp-E0h]
  double v104; // [rsp+100h] [rbp-D8h]
  double v105; // [rsp+108h] [rbp-D0h]
  double v106; // [rsp+1E0h] [rbp+8h] BYREF

  v4 = *(_QWORD *)(a1 + 0x290);
  if ( !v4 )
    return 0;
  while ( 1 )
  {
    v8 = *(_QWORD *)(v4 + 8);
    v80 = v8;
    if ( v8 )
    {
      v9 = v8;
      v10 = HIWORD(v8);
      v11 = v9 & 0xFFFFFFFFFFFFLL;
      v12 = (v10 & 0xF000) != 0 ? v11 & 0xFFFFFF000000LL : v11 - 6;
      if ( *(_WORD *)(v12 + 2) == (v10 & 0xFFF) )
      {
        if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v13 = sub_140539D80()) )
          v13 = 1;
        if ( (*(_WORD *)(v12 + 4) == 2 && v13 || sub_140392020(&v80)) && v4 != a4 )
        {
          v14 = v80 & 0xFFFFFFFFFFFFLL;
          v15 = *(__int64 (__fastcall **)(__int64, double *, double *))(*(_QWORD *)(v80 & 0xFFFFFFFFFFFFLL) + 0x340LL);
          n0xFFFF = n0xFFFF_51;
          if ( n0xFFFF_51 == (__int16)0xFFFF )
          {
            n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                          + 0x10LL))(
                                  qword_149B4FC88,
                                  v79,
                                  "IEntityComponentLightBox");
            n0xFFFF_51 = n0xFFFF;
          }
          LOWORD(v106) = n0xFFFF;
          v17 = *(double *)v15(v14, &v86, &v106);
          v78 = v17;
          if ( v17 != 0.0 )
          {
            v18 = sub_1403B4B50(*(_QWORD *)&v17 & 0xFFFFFFFFFFFFLL);
            n4 = *(_WORD *)(v18 + 4);
            if ( n4 != 4
              && *(_WORD *)(v18 + 2) == (HIWORD(v17) & 0xFFF)
              && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v78)) )
            {
              break;
            }
          }
        }
      }
    }
    v4 = *(_QWORD *)(v4 + 0x10);
    if ( !v4 )
      return 0;
  }
  v21 = (__int64 *)(*(_QWORD *)&v17 & 0xFFFFFFFFFFFFLL);
  *a2 = 1.0;
  a2[5] = 1.0;
  a2[0xA] = 1.0;
  v22 = *v21;
  a2[1] = 0.0;
  a2[2] = 0.0;
  a2[3] = 0.0;
  a2[4] = 0.0;
  a2[6] = 0.0;
  a2[7] = 0.0;
  a2[8] = 0.0;
  a2[9] = 0.0;
  a2[0xB] = 0.0;
  v23 = (float *)(*(__int64 (__fastcall **)(__int64 *))(v22 + 0x580))(v21);
  v24 = v80 & 0xFFFFFFFFFFFFLL;
  v25 = *v23;
  v26 = v23[1];
  v27 = v23[2];
  v28 = v23[4] - v26;
  v29 = (float)(v23[3] - *v23);
  v30 = v23[5];
  v31 = *(_QWORD *)(v80 & 0xFFFFFFFFFFFFLL);
  a2[0xB] = v27;
  *a2 = v29;
  a2[3] = v25;
  a2[5] = v28;
  a2[7] = v26;
  a2[0xA] = (float)(v30 - v27);
  a2[1] = 0.0;
  a2[2] = 0.0;
  a2[4] = 0.0;
  a2[6] = 0.0;
  a2[8] = 0.0;
  a2[9] = 0.0;
  (*(void (__fastcall **)(__int64, double *, __int64, _QWORD, char))(v31 + 0x1E8))(v24, &v98, 2, 0, 1);
  v32 = v105 * a2[1];
  v33 = v105 * a2[4];
  v34 = v105 * a2[8];
  v87 = v105 * *a2;
  v81 = v105 * a2[2];
  v89 = v105 * a2[5];
  v82 = v105 * a2[6];
  v35 = v105 * a2[9];
  v88 = v32;
  v36 = v105 * a2[0xA];
  v90 = v35;
  v37 = v105 * a2[3];
  v94 = v36;
  v38 = v105 * a2[0xB];
  v39 = v98;
  v40 = v99;
  v41 = v100;
  v96 = v37;
  v97 = v105 * a2[7];
  v86 = v38;
  v42 = v40 * (v40 + v40);
  v43 = v98 * (v40 + v40);
  v44 = v101 * (v40 + v40);
  v45 = v99 * (v41 + v41);
  v46 = v98 * (v41 + v41);
  v47 = v101 * (v39 + v39);
  v48 = 1.0 - v39 * (v39 + v39);
  v49 = v101 * (v41 + v41);
  v50 = v45 - v47;
  v51 = v41 * (v41 + v41);
  v52 = 1.0 - v42 - v51;
  v53 = v43 - v49;
  v78 = v49 + v43;
  v91 = v48 - v51;
  v54 = (v48 - v51) * v33;
  v106 = v46 - v44;
  v55 = v48 - v42;
  v56 = v45 + v47;
  v57 = v53 * v33 + v52 * v87 + (v46 + v44) * v34;
  v58 = v54 + v78 * v87 + v50 * v34;
  v59 = v56 * v33;
  v60 = v91;
  v85 = v55;
  v83 = v50;
  v61 = v59 + v87 * (v46 - v44) + v55 * v34;
  v84 = v56;
  v62 = v52 * v88 + v53 * v89 + (v46 + v44) * v90;
  v92 = v53;
  v63 = v53;
  v93 = v46 + v44;
  v64 = v78 * v88 + v91 * v89 + v90 * v83;
  v65 = v53 * v82;
  v66 = v88 * (v46 - v44) + v89 * v84 + v90 * v85;
  v95 = v52;
  v67 = *v21;
  v68 = v52 * v81 + v65 + v94 * (v46 + v44);
  v69 = v78 * v81 + v91 * v82 + v94 * v83;
  a2[0xA] = v106 * v81 + v84 * v82 + v94 * v85;
  v70 = v97;
  v71 = v63 * v97;
  a2[2] = v68;
  v72 = v96;
  v73 = v96 * v78;
  v74 = v96 * v95 + v71;
  a2[6] = v69;
  v75 = v86;
  a2[3] = v74 + v86 * v93 + v102;
  v76 = v72 * v106 + v70 * v84;
  a2[7] = v73 + v60 * v70 + v75 * v83 + v103;
  a2[0xB] = v76 + v75 * v85 + v104;
  *a2 = v57;
  a2[1] = v62;
  a2[4] = v58;
  a2[5] = v64;
  a2[8] = v61;
  a2[9] = v66;
  v77 = (*(__int64 (__fastcall **)(__int64 *))(v67 + 0x588))(v21);
  *(_OWORD *)a3 = *(_OWORD *)v77;
  *(double *)(a3 + 0x10) = *(double *)(v77 + 0x10);
  return 1;
}

// --- End Function: sub_146B35CC0 (0x146B35CC0) ---

// --- Function: sub_146B37860 (0x146B37860) ---
__int64 __fastcall sub_146B37860(__int64 a1, __int64 a2)
{
  char v4; // r15
  __int64 v5; // rdi
  signed __int64 v6; // rdx
  signed __int64 v7; // rsi

  v4 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  v5 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
  if ( !v4 )
  {
    if ( *(_DWORD *)(v5 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v5 + 0x14);
    }
    else
    {
      v6 = _InterlockedIncrement64((volatile signed __int64 *)v5);
      if ( (v6 & 0x200000) != 0 )
        sub_1403CB300(v5, v6, "CEntity::CopyTags", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
    }
  }
  if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xD4);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v7 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0xC0, v7, "CEntity::CopyTags", "m_cross_ecus_state.updateLock", 1);
  }
  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x408LL))(
    qword_149B4FBE8,
    a2,
    a1 + 0x2A8);
  sub_1402D2790(a1 + 0xC0);
  if ( !v4 )
    sub_1402D2790(v5);
  return a2;
}

// --- End Function: sub_146B37860 (0x146B37860) ---

// --- Function: sub_146B37980 (0x146B37980) ---
unsigned __int64 *__fastcall sub_146B37980(unsigned __int64 a1, unsigned __int64 *a2, unsigned __int16 *a3)
{
  __int64 v3; // r10
  __int64 v7; // r9
  __int64 v8; // r10
  bool v9; // cf
  unsigned __int16 v11; // [rsp+40h] [rbp-28h] BYREF
  _QWORD v12[2]; // [rsp+48h] [rbp-20h] BYREF
  int v13; // [rsp+58h] [rbp-10h]

  v3 = *(_QWORD *)(a1 + 0x2D0);
  if ( !v3 || (v7 = *(_QWORD *)(v3 + 8), v8 = *(_QWORD *)(v3 + 0x10), v7 == v8) )
  {
LABEL_5:
    v11 = 0xFFFF;
    sub_14036F120((__int64)v12);
    v11 = *a3;
    v9 = *(_BYTE *)(a1 + 0xD) < 2u;
    v13 = 0;
    sub_146A2A8D0(*(_QWORD *)(qword_1515B19E8 + 0x7E0), a2, a1, &v11, 0, (__int64)v12, !v9);
    if ( v12[0] )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)(v12[0] + 8LL) + 0x10LL))(v12[0] + 8LL);
    return a2;
  }
  else
  {
    while ( *(_WORD *)v7 != *a3 )
    {
      v7 += 0x20;
      if ( v7 == v8 )
        goto LABEL_5;
    }
    sub_146A2A8D0(
      *(_QWORD *)(qword_1515B19E8 + 0x7E0),
      a2,
      a1,
      (unsigned __int16 *)v7,
      *(_DWORD *)(v7 + 0x18),
      v7 + 8,
      *(_BYTE *)(a1 + 0xD) >= 2u);
    return a2;
  }
}

// --- End Function: sub_146B37980 (0x146B37980) ---

// --- Function: sub_146B37B90 (0x146B37B90) ---
__int64 __fastcall sub_146B37B90(__int64 a1, __int64 a2)
{
  __int64 result; // rax

  result = sub_146B4E3D0(a1);
  if ( result )
    return sub_146A94C20(result, a2);
  return result;
}

// --- End Function: sub_146B37B90 (0x146B37B90) ---

// --- Function: sub_146B37D80 (0x146B37D80) ---
__int64 __fastcall sub_146B37D80(unsigned __int64 a1, char *a2, unsigned __int8 a3, unsigned __int8 a4)
{
  unsigned __int64 v4; // r14
  int v6; // eax
  _QWORD *i; // rbx
  __int64 v11; // rax
  __int64 v12; // rcx
  char **v13; // rax
  char n0xA; // bl
  char v15; // bl
  __int64 v16; // rax
  __int64 v17; // rbx
  __int64 v18; // r13
  __int64 v19; // rcx
  __int64 (__fastcall *v20)(__int64, __int64, _QWORD, _QWORD, _QWORD *, __int64, char **, unsigned __int64); // r15
  __int64 v21; // rax
  __int64 v22; // rdx
  __int64 v23; // rax
  __int64 v24; // r15
  void (__fastcall *v25)(__int64, char **, unsigned __int64, _QWORD); // r12
  char v26; // cl
  unsigned __int64 v27; // rdx
  unsigned __int16 v28; // ax
  unsigned __int64 v29; // rbx
  __int64 v30; // r15
  __int64 v31; // rdx
  __int64 v32; // rbx
  int v33; // r9d
  int v34; // ebx
  __int64 *ThreadLogContextSlot; // rax
  __int64 v36; // [rsp+20h] [rbp-E0h]
  const char *v37; // [rsp+28h] [rbp-D8h]
  __int128 v39; // [rsp+68h] [rbp-98h] BYREF
  __int64 v40[2]; // [rsp+78h] [rbp-88h] BYREF
  __int64 p_p_n210[2]; // [rsp+88h] [rbp-78h] BYREF
  _QWORD v42[4]; // [rsp+98h] [rbp-68h] BYREF
  __int128 v43; // [rsp+B8h] [rbp-48h]
  __int64 v44; // [rsp+C8h] [rbp-38h]
  _BYTE v45[64]; // [rsp+D0h] [rbp-30h] BYREF
  char *v46[2]; // [rsp+110h] [rbp+10h] BYREF
  __int64 v47; // [rsp+120h] [rbp+20h]
  unsigned __int64 v48; // [rsp+128h] [rbp+28h] BYREF
  int n0x31; // [rsp+130h] [rbp+30h]
  char v50; // [rsp+134h] [rbp+34h] BYREF

  v4 = 0;
  LODWORD(v39) = 0;
  v6 = *(_DWORD *)(a1 + 0x118);
  if ( (v6 & 0x10) != 0 && !(_BYTE)qword_149B501D6 )
  {
    LogFatalError(
      "%s: Entities that host a zone are not allowed to be client/server only id=%llu name=%s",
      "CEntity::CreateZoneHost",
      *(_QWORD *)(a1 + 0x10),
      *(const char **)(a1 + 0x298));
    return 0;
  }
  if ( *(_QWORD *)(a1 + 0x2C0) )
  {
    v46[0] = (char *)0x2C000000D2LL;
    v40[0] = (__int64)v46;
    v40[1] = (__int64)&v46[1] + 4;
    LODWORD(v46[1]) = 0x31;
    v34 = invokeGlobalCallbackAndMaskStatusBits(
            4,
            (__int64)v40,
            (__int64)"[CEntity CreateZoneHost Duplicate Call]",
            "CEntity::CreateZoneHost was called twice for entity id=%llu name=%s",
            v36,
            v37);
    if ( (v34 & 0xFFFFF) != 0 )
    {
      v46[0] = *(char **)(a1 + 0x298);
      v40[0] = *(_QWORD *)(a1 + 0x10);
      ThreadLogContextSlot = getThreadLogContextSlot();
      v48 = 0x2C000000D2LL;
      p_p_n210[0] = (__int64)&v48;
      p_p_n210[1] = (__int64)&v50;
      n0x31 = 0x31;
      v39 = 0;
      sub_146B1CF90(
        4u,
        p_p_n210,
        "[CEntity CreateZoneHost Duplicate Call]",
        "CEntity::CreateZoneHost was called twice for entity id=%llu name=%s",
        1,
        v34,
        &v39,
        0,
        ThreadLogContextSlot,
        (__int64)v40,
        (const char **)v46);
    }
    return *(_QWORD *)(a1 + 0x2C0);
  }
  if ( (v6 & 0x400) == 0 )
  {
    LogTraceConditional("Component dump for %s:", *(const char **)(a1 + 0x298));
    for ( i = *(_QWORD **)(a1 + 0x240); i != *(_QWORD **)(a1 + 0x248); ++i )
    {
      v11 = AK::MemoryMgr::StopProfileThreadUsage((struct _exception *)(*i & 0xFFFFFFFFFFFFLL));
      LogTraceConditional((const char *)&Format_, v11);
    }
  }
  sub_146B4E570(a1, &v48);
  if ( a2 )
  {
    sub_140522CD0((__int64)a2);
    p_p_n210[0] = 0;
    v12 = 0;
  }
  else
  {
    if ( v48 && *(_QWORD *)((v48 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v48) )
    {
      (*(void (__fastcall **)(__int64, __int128 *, unsigned __int64, _QWORD))(*(_QWORD *)qword_149B4FC00 + 0x218LL))(
        qword_149B4FC00,
        &v39,
        v48 & 0xFFFFFFFFFFFFLL,
        0);
      a2 = (char *)v39;
      v13 = (char **)&v39;
      n0xA = 0xA;
    }
    else
    {
      v13 = v46;
      a2 = 0;
      n0xA = 0xC;
    }
    *v13 = 0;
    v15 = n0xA & 0xF7;
    v40[0] = 0;
    if ( (v15 & 4) != 0 )
    {
      v15 &= ~4u;
      if ( v46[0] )
        sub_140522CF0((__int64)v46[0]);
    }
    if ( (v15 & 2) == 0 )
      goto LABEL_21;
    v12 = v39;
  }
  if ( v12 )
    sub_140522CF0(v12);
LABEL_21:
  v16 = (*(__int64 (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)qword_149B4FBE8 + 0x60LL))(
          qword_149B4FBE8,
          a1 + 0x2A8);
  v17 = qword_149B4FBE8;
  v18 = v16;
  v19 = *(_QWORD *)qword_149B4FBE8;
  v46[0] = a2;
  v20 = *(__int64 (__fastcall **)(__int64, __int64, _QWORD, _QWORD, _QWORD *, __int64, char **, unsigned __int64))(v19 + 0x40);
  if ( a2 )
    sub_140522CD0((__int64)a2);
  v21 = sub_146B54040(a1, v45, 0);
  v22 = *(_QWORD *)(a1 + 0x298);
  v42[3] = *(_QWORD *)(v21 + 0x18);
  v42[0] = *(_QWORD *)v21;
  v42[1] = *(_QWORD *)(v21 + 8);
  v42[2] = *(_QWORD *)(v21 + 0x10);
  v43 = *(_OWORD *)(v21 + 0x20);
  v44 = *(_QWORD *)(v21 + 0x30);
  v23 = v20(v17, v22, a3, a4, v42, v18, v46, a1);
  *(_QWORD *)(a1 + 0x2C0) = v23;
  *(_DWORD *)(a1 + 0x2C8) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v23 + 0x1F8LL))(v23);
  if ( a2 )
  {
    v24 = qword_149B4FC00;
    v25 = *(void (__fastcall **)(__int64, char **, unsigned __int64, _QWORD))(*(_QWORD *)qword_149B4FC00 + 0x230LL);
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v26 = 0;
      v27 = a1 - 6;
    }
    else
    {
      v26 = 1;
      v27 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v28 = *(_WORD *)(v27 + 2) | 0x2000;
    if ( !v26 )
      v28 = *(_WORD *)(v27 + 2);
    v29 = a1 | ((unsigned __int64)v28 << 0x30);
    v46[0] = a2;
    sub_140522CD0((__int64)a2);
    v25(v24, v46, v29, 0);
  }
  if ( *(_QWORD *)(a1 + 0x130) )
  {
    *(_OWORD *)v46 = 0;
    v47 = 0;
    v30 = (*(__int64 (__fastcall **)(__int64, __int64, char **, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
            qword_149B4FBE8,
            0x7832,
            v46,
            0);
    (*(void (__fastcall **)(__int64, _QWORD *, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x480LL))(
      qword_149B4FBE8,
      v42,
      v18,
      *(_QWORD *)(a1 + 0x2C0));
    v31 = *(_QWORD *)(a1 + 0x130);
    if ( (__int64)(*(_QWORD *)(v31 + 0x1C0) - *(_QWORD *)(v31 + 0x1B8)) >> 3 )
    {
      do
      {
        v32 = *(_QWORD *)(*(_QWORD *)(v31 + 0x1B8) + 8 * v4) & 0xFFFFFFFFFFFFLL;
        (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x140LL))(
          qword_149B4FBE8,
          v32 + 0x2A8,
          v30,
          0);
        LOBYTE(v33) = 1;
        sub_146B5CF90(v32, *(_QWORD *)(a1 + 0x2C0), (unsigned int)v42, v33, v30, 0);
        v31 = *(_QWORD *)(a1 + 0x130);
        ++v4;
      }
      while ( v4 < (__int64)(*(_QWORD *)(v31 + 0x1C0) - *(_QWORD *)(v31 + 0x1B8)) >> 3 );
    }
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
      qword_149B4FBE8,
      0x7832,
      v30);
    if ( v46[0] )
      sub_1403A3120((__int64)v46, v46[0], (v47 - (unsigned __int64)v46[0]) & 0xFFFFFFFFFFFFFFE0uLL);
  }
  if ( a2 )
    sub_140522CF0((__int64)a2);
  return *(_QWORD *)(a1 + 0x2C0);
}

// --- End Function: sub_146B37D80 (0x146B37D80) ---

// --- Function: sub_146B39A00 (0x146B39A00) ---
unsigned __int64 __fastcall sub_146B39A00(__int64 a1, __int64 a2)
{
  unsigned __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146A9B490(result, a2);
  return result;
}

// --- End Function: sub_146B39A00 (0x146B39A00) ---

// --- Function: sub_146B3D5A0 (0x146B3D5A0) ---
unsigned __int64 __fastcall sub_146B3D5A0(__int64 a1)
{
  unsigned __int64 result; // rax

  result = sub_146B4E3D0(a1);
  if ( result )
    return sub_146AA2D10(result);
  return result;
}

// --- End Function: sub_146B3D5A0 (0x146B3D5A0) ---

// --- Function: sub_146B3D5C0 (0x146B3D5C0) ---
double __fastcall sub_146B3D5C0(__int64 a1)
{
  __int64 v2; // rax
  unsigned __int64 v3; // rdi
  __int64 v4; // rcx
  __int64 v5; // r14
  int v6; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v8; // rax
  int v9; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source_1; // r8
  unsigned __int64 v11; // rax
  __int64 v12; // r15
  int v13; // ebx
  __int64 v14; // r8
  unsigned __int64 v15; // rax
  __int64 v16; // r12
  __int64 v17; // rax
  __int64 v18; // rsi
  __int64 v19; // rax
  __int64 v20; // rcx
  __int64 v21; // rbx
  __int64 v22; // rax
  int v23; // r9d
  __int64 v24; // rdi
  __int64 v25; // r14
  int v26; // ebx
  __int64 v27; // r8
  unsigned __int64 v28; // rax
  unsigned __int16 v29; // ax
  __int64 v30; // rbx
  int v31; // eax
  unsigned __int64 n0x200000; // rax
  __int64 v33; // rbx
  int v34; // eax
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 n0x200000_2; // rax
  unsigned __int64 n0x200000_3; // rax
  __int64 v38; // rax
  double result; // xmm0_8
  __int128 v40; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v41; // [rsp+40h] [rbp-C0h]
  _DWORD v42[2]; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v43; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v44; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v45; // [rsp+68h] [rbp-98h]
  __int64 v46; // [rsp+70h] [rbp-90h]
  __int64 v47; // [rsp+78h] [rbp-88h]
  _DWORD v48[2]; // [rsp+A0h] [rbp-60h] BYREF
  __int64 v49; // [rsp+A8h] [rbp-58h]
  unsigned __int64 v50; // [rsp+B0h] [rbp-50h]
  unsigned __int64 v51; // [rsp+B8h] [rbp-48h]
  __int64 v52; // [rsp+C0h] [rbp-40h]
  __int64 v53; // [rsp+C8h] [rbp-38h]
  char v54[8]; // [rsp+F0h] [rbp-10h] BYREF
  _BYTE v55[56]; // [rsp+F8h] [rbp-8h] BYREF
  __int64 v56; // [rsp+178h] [rbp+78h] BYREF
  __int64 v57; // [rsp+180h] [rbp+80h]

  if ( *(_QWORD *)(a1 + 0x2C0) )
  {
    v2 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC78 + 0xA0LL))(qword_149B4FC78);
    if ( *(_QWORD *)(a1 + 0x10) != *(_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)v2 + 0x1D8LL))(
                                                v2,
                                                v54) )
    {
      v3 = 0;
      v49 = 0;
      v51 = 0;
      v52 = 0;
      v53 = 0;
      v48[0] = 0xF00;
      v50 = __rdtsc();
      v48[1] = *(_DWORD *)(a1 + 0x2D8);
      qword_149B4B870(
        v48,
        &word_1515B1BD8,
        "CEntity::DestroyZoneHost",
        "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
        0x15F0);
      HIWORD(v48[0]) = word_1515B1BD8;
      v42[0] = 0xF00;
      v43 = 0;
      v45 = 0;
      v46 = 0;
      v47 = 0;
      v44 = __rdtsc();
      v42[1] = *(_DWORD *)(a1 + 0x2D8);
      qword_149B4B870(
        v42,
        &word_1515B1BDC,
        "Wait for Zone Host Deletion Batches",
        "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
        0x15F3);
      v4 = *(_QWORD *)(a1 + 0x2C0);
      HIWORD(v42[0]) = word_1515B1BDC;
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x1E8LL))(v4);
      v45 = __rdtsc();
      qword_149B4B878(v42);
      v40 = 0;
      v41 = 0;
      v5 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
             qword_149B4FBE8,
             0x7832,
             &v40,
             0);
      v57 = v5;
      v6 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( dword_149AC4C08 == v6 )
      {
        ++dword_149AC4C0C;
      }
      else
      {
        p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
        v8 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0x200000, 0);
        if ( v8 )
          sub_1403DCD60(
            (__int64)&qword_149AC4BF8,
            v8,
            (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
            "CEntity::DestroyZoneHost",
            "s_aggregateHierarchyLock",
            1);
        else
          ::p_p_p_p_p_p_p_p_p_p_p_p_Source = p_p_p_p_p_p_p_p_p_p_p_p_Source;
        dword_149AC4C08 = v6;
      }
      v9 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( dword_149AC4BF0 == v9 )
      {
        ++dword_149AC4BF4;
      }
      else
      {
        p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = *(char **)(NtCurrentTeb_w() + 0x20);
        v11 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0x200000, 0);
        if ( v11 )
          sub_1403DCD60(
            (__int64)&qword_149AC4BE0,
            v11,
            (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source_1,
            "CEntity::DestroyZoneHost",
            "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
            1);
        else
          ::p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = p_p_p_p_p_p_p_p_p_p_p_p_Source_1;
        dword_149AC4BF0 = v9;
      }
      v12 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      v13 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(v12 + 0x10) == v13 )
      {
        ++*(_DWORD *)(v12 + 0x14);
      }
      else
      {
        v14 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
        v15 = _InterlockedCompareExchange64((volatile signed __int64 *)v12, 0x200000, 0);
        if ( v15 )
          sub_1403DCD60(v12, v15, v14, "CEntity::DestroyZoneHost", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
        else
          *(_QWORD *)(v12 + 8) = v14;
        *(_DWORD *)(v12 + 0x10) = v13;
      }
      (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xA8LL))(qword_149B4FBE8);
      (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xC0LL))(qword_149B4FBE8);
      v16 = *(_QWORD *)(a1 + 0x2C0);
      if ( v16 == (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x10LL))(qword_149B4FBE8) )
        v17 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x10LL))(qword_149B4FBE8);
      else
        v17 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v16 + 8LL))(v16);
      while ( 1 )
      {
        v18 = v17;
        v19 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x20LL))(v17);
        if ( v19 )
        {
          if ( *(_BYTE *)(v19 + 0xD) < 5u && (*(_BYTE *)(v19 + 8) & 8) == 0 )
            break;
        }
        if ( v18 == (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x10LL))(qword_149B4FBE8) )
          break;
        v17 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v18 + 8LL))(v18);
      }
      (*(void (__fastcall **)(__int64, _BYTE *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x480LL))(
        qword_149B4FBE8,
        v55,
        v16,
        v18);
      v20 = *(_QWORD *)(a1 + 0x130);
      if ( v20 && (__int64)(*(_QWORD *)(v20 + 0x1C0) - *(_QWORD *)(v20 + 0x1B8)) >> 3 )
      {
        do
        {
          v21 = *(_QWORD *)(*(_QWORD *)(v20 + 0x1B8) + 8 * v3) & 0xFFFFFFFFFFFFLL;
          v22 = sub_146B4E3D0(v21);
          if ( v22 )
            sub_146AE0450(v22);
          (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x140LL))(
            qword_149B4FBE8,
            v21 + 0x2A8,
            v5,
            0);
          LOBYTE(v23) = 1;
          sub_146B5CF90(v21, v18, (unsigned int)v55, v23, v5, 0);
          v20 = *(_QWORD *)(a1 + 0x130);
          ++v3;
        }
        while ( v3 < (__int64)(*(_QWORD *)(v20 + 0x1C0) - *(_QWORD *)(v20 + 0x1B8)) >> 3 );
      }
      v24 = qword_1515B1A08;
      v25 = qword_1515B1A08 + 8;
      v26 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(v25 + 0x10) == v26 )
      {
        ++*(_DWORD *)(v25 + 0x14);
      }
      else
      {
        v27 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
        v28 = _InterlockedCompareExchange64((volatile signed __int64 *)v25, 0x200000, 0);
        if ( v28 )
          sub_1403DCD60(v25, v28, v27, "CEntityAggregateManager::OnZoneDelete", "m_UpdateQueueLock", 1);
        else
          *(_QWORD *)(v25 + 8) = v27;
        *(_DWORD *)(v25 + 0x10) = v26;
      }
      sub_146B880F0((int *)v24);
      v29 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v16 + 0x1F8LL))(v16);
      v56 = 0;
      v30 = v29;
      sub_1403BA100(v24 + 0x20, 0x40E0LL * ((unsigned int)v29 + 1), &v56);
      *(_DWORD *)(0x40E0 * v30 + *(_QWORD *)(v24 + 0x20)) = 0;
      if ( v25 )
      {
        v31 = *(_DWORD *)(v25 + 0x14);
        if ( v31 )
        {
          *(_DWORD *)(v25 + 0x14) = v31 - 1;
        }
        else
        {
          *(_DWORD *)(v25 + 0x10) = 0xFFFFFFFF;
          n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v25, 0, 0x200000);
          if ( n0x200000 == 0x200000 )
            *(_QWORD *)(v25 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
          else
            sub_1403DD380(v25, n0x200000);
        }
      }
      v33 = v57;
      (*(void (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x48LL))(
        qword_149B4FBE8,
        v16,
        v18,
        v57);
      *(_QWORD *)(a1 + 0x2C0) = 0;
      *(_DWORD *)(a1 + 0x2C8) = 0xFFFFFFFF;
      (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xC8LL))(qword_149B4FBE8);
      if ( v12 )
      {
        v34 = *(_DWORD *)(v12 + 0x14);
        if ( v34 )
        {
          *(_DWORD *)(v12 + 0x14) = v34 - 1;
        }
        else
        {
          *(_DWORD *)(v12 + 0x10) = 0xFFFFFFFF;
          n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)v12, 0, 0x200000);
          if ( n0x200000_1 == 0x200000 )
            *(_QWORD *)(v12 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
          else
            sub_1403DD380(v12, n0x200000_1);
        }
      }
      if ( dword_149AC4BF4 )
      {
        --dword_149AC4BF4;
      }
      else
      {
        dword_149AC4BF0 = 0xFFFFFFFF;
        n0x200000_2 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0, 0x200000);
        if ( n0x200000_2 == 0x200000 )
          ::p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
        else
          sub_1403DD380((__int64)&qword_149AC4BE0, n0x200000_2);
      }
      if ( dword_149AC4C0C )
      {
        --dword_149AC4C0C;
      }
      else
      {
        dword_149AC4C08 = 0xFFFFFFFF;
        n0x200000_3 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
        if ( n0x200000_3 == 0x200000 )
          ::p_p_p_p_p_p_p_p_p_p_p_p_Source = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
        else
          sub_1403DD380((__int64)&qword_149AC4BF8, n0x200000_3);
      }
      (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
        qword_149B4FBE8,
        0x7832,
        v33);
      v38 = sub_146B4E3D0(a1);
      if ( v38 )
        sub_146AA2D10(v38);
      if ( (_QWORD)v40 )
      {
        sub_1403A3120((__int64)&v40, (const void *)v40, (v41 - v40) & 0xFFFFFFFFFFFFFFE0uLL);
        v40 = 0;
        v41 = 0;
      }
      v51 = __rdtsc();
      return qword_149B4B878(v48);
    }
  }
  return result;
}

// --- End Function: sub_146B3D5C0 (0x146B3D5C0) ---

// --- Function: sub_146B3DCC0 (0x146B3DCC0) ---
void __fastcall sub_146B3DCC0(_QWORD *a1, unsigned int a2)
{
  __int64 v2; // r8
  bool v5; // al
  unsigned __int64 v6; // rcx
  bool v7; // dl
  _QWORD *v8; // rax
  __int64 v9; // rdx
  _QWORD *v10; // rax
  _QWORD *v11; // r8
  _QWORD *i; // rax
  unsigned __int64 v13; // [rsp+30h] [rbp+8h] BYREF

  v2 = a1[0x26];
  if ( v2 && *(_QWORD *)(v2 + 0x1B8) != *(_QWORD *)(v2 + 0x1C0) )
  {
    do
    {
      v13 = **(_QWORD **)(v2 + 0x1B8);
      v5 = sub_14030EC00(&v13);
      v6 = v13;
      v7 = v5;
      v8 = (_QWORD *)(v13 & 0xFFFFFFFFFFFFLL);
      if ( !v7 )
        v8 = 0;
      if ( *a1 == *v8 )
      {
        sub_146B3FA40(v13 & 0xFFFFFFFFFFFFLL, a2, 0);
        v6 = v13;
      }
      v9 = a1[0x26];
      v10 = *(_QWORD **)(v9 + 0x1B8);
      if ( v10 != *(_QWORD **)(v9 + 0x1C0) && *v10 == v6 )
      {
        v11 = *(_QWORD **)(v9 + 0x1C0);
        for ( i = v10 + 1; i != v11; ++i )
        {
          i[0xFFFFFFFF] = *i;
          *i = 0;
        }
        *(_QWORD *)(v9 + 0x1C0) -= 8LL;
      }
      v2 = a1[0x26];
    }
    while ( *(_QWORD *)(v2 + 0x1B8) != *(_QWORD *)(v2 + 0x1C0) );
  }
}

// --- End Function: sub_146B3DCC0 (0x146B3DCC0) ---

// --- Function: sub_146B3F9C0 (0x146B3F9C0) ---
char __fastcall sub_146B3F9C0(__int64 a1, int a2)
{
  __int64 v4; // rax
  __int64 v5; // rsi
  __int64 v6; // rax

  v4 = sub_146B513B0(a1);
  v5 = v4;
  if ( v4 )
  {
    if ( a2 > (int)0xFFFFFFFF )
    {
      v6 = sub_146B4E3D0(a1);
      if ( v6 )
        sub_146AF1630(v6, a2, 1, 1u, 1, 1);
    }
    LOBYTE(v4) = sub_146AA5170(v5, a2);
  }
  return v4;
}

// --- End Function: sub_146B3F9C0 (0x146B3F9C0) ---

// --- Function: sub_146B3FA40 (0x146B3FA40) ---
__int64 __fastcall sub_146B3FA40(__int64 a1, unsigned int a2, unsigned int a3)
{
  __int64 v6; // rbx
  unsigned __int8 v7; // di
  __int128 v9; // [rsp+20h] [rbp-28h] BYREF
  __int64 v10; // [rsp+30h] [rbp-18h]

  v10 = 0;
  v9 = 0;
  v6 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
         qword_149B4FBE8,
         0x7832,
         &v9,
         0);
  v7 = sub_146B3FB00(a1, a2, a3, v6);
  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
    qword_149B4FBE8,
    0x7832,
    v6);
  if ( (_QWORD)v9 )
    sub_1403A3120((__int64)&v9, (const void *)v9, (v10 - v9) & 0xFFFFFFFFFFFFFFE0uLL);
  return v7;
}

// --- End Function: sub_146B3FA40 (0x146B3FA40) ---

// --- Function: sub_146B3FB00 (0x146B3FB00) ---
__int64 __fastcall sub_146B3FB00(unsigned __int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int128 v4; // xmm6
  int v6; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v8; // rax
  unsigned __int64 *v9; // rcx
  unsigned __int64 v10; // rdi
  int v11; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source_1; // r8
  unsigned __int64 v13; // rax
  __int64 v14; // r15
  int v15; // ebx
  __int64 v16; // r8
  unsigned __int64 v17; // rax
  volatile signed __int64 *v18; // r14
  int v19; // ebx
  __int64 v20; // r8
  unsigned __int64 v21; // rax
  __int64 v22; // r13
  int v23; // ebx
  __int64 v24; // r8
  unsigned __int64 v25; // rax
  unsigned __int64 *v26; // rcx
  _QWORD *v28; // rax
  int v29; // eax
  __int64 v30; // rbx
  unsigned __int64 *v31; // rcx
  __int64 v32; // rax
  double v33; // xmm0_8
  double v34; // xmm1_8
  double v35; // xmm2_8
  __int128 v36; // xmm3
  double v37; // xmm4_8
  double v38; // xmm5_8
  double v39; // xmm6_8
  __int64 v40; // rcx
  __int64 v41; // r9
  unsigned __int64 v42; // rbx
  __int64 v43; // rax
  unsigned __int64 *v44; // r14
  __int64 v45; // rax
  char v46; // dl
  unsigned __int64 v47; // rcx
  unsigned __int16 v48; // ax
  _QWORD *v49; // r8
  _QWORD *v50; // rcx
  unsigned __int64 v51; // rax
  _QWORD *v52; // rdx
  const char *p_Could_not_find_Entity_%s_in_child_list_of_parent_%s; // rcx
  _QWORD *v54; // rcx
  __int64 v55; // rbx
  int n4; // eax
  __int64 v57; // rdx
  __int64 v58; // rbx
  __int64 v59; // rax
  __int64 v60; // r8
  char v61; // dl
  unsigned __int64 v62; // rcx
  unsigned __int16 v63; // ax
  __int64 v64; // rbx
  __int64 v65; // rax
  __int64 v66; // r8
  char v67; // dl
  unsigned __int64 v68; // rcx
  unsigned __int16 v69; // ax
  _QWORD *v70; // rax
  __int64 (__fastcall **v71)(__int64); // rdx
  __int64 (__fastcall *p_sub_146B32890_1)(); // rax
  __int64 v73; // rcx
  __int64 v74; // rbx
  __int64 v75; // rax
  __int64 v76; // rax
  __int64 v77; // r8
  int v78; // eax
  int v79; // eax
  unsigned __int64 n0x200000_5; // rax
  int v81; // eax
  unsigned __int64 n0x200000_6; // rax
  int v83; // eax
  unsigned __int64 n0x200000_7; // rax
  unsigned __int64 n0x200000_8; // rax
  unsigned __int64 n0x200000_9; // rax
  __int64 v87; // rdi
  __int64 i; // rbx
  void (*v89)(void); // rax
  char v90; // dl
  unsigned __int64 v91; // rcx
  unsigned __int16 v92; // ax
  char v93; // dl
  unsigned __int64 v94; // rcx
  unsigned __int16 v95; // ax
  int n0x20; // edi
  signed __int64 v97; // rdx
  signed __int64 v98; // rbx
  __int64 v99; // r14
  __int64 v100; // rbx
  __int64 v101; // rcx
  _QWORD *v102; // rax
  __int64 v103; // r8
  unsigned __int8 v104; // si
  int v105; // eax
  unsigned __int64 n0x200000_1; // rax
  int v107; // eax
  unsigned __int64 n0x200000_2; // rax
  int v109; // eax
  unsigned __int64 n0x200000_3; // rax
  unsigned __int64 n0x200000_4; // rax
  unsigned __int64 n0x200000; // rax
  _QWORD *v113; // rbx
  _QWORD *v114; // rdi
  void (__fastcall *n2)(__int64, _QWORD *); // rax
  unsigned __int64 v117; // [rsp+30h] [rbp-D0h]
  __int64 (__fastcall *p_sub_146B31270)(__int64); // [rsp+38h] [rbp-C8h] BYREF
  __int64 (__fastcall *p_sub_146B32890)(); // [rsp+40h] [rbp-C0h]
  _QWORD *v120; // [rsp+48h] [rbp-B8h]
  __int64 v121; // [rsp+50h] [rbp-B0h]
  __int128 v122; // [rsp+58h] [rbp-A8h] BYREF
  __int64 v123; // [rsp+68h] [rbp-98h]
  unsigned __int64 v124; // [rsp+70h] [rbp-90h] BYREF
  __int64 v125; // [rsp+78h] [rbp-88h]
  volatile signed __int64 *v126; // [rsp+80h] [rbp-80h]
  __int64 v127; // [rsp+88h] [rbp-78h]
  unsigned __int64 v128; // [rsp+90h] [rbp-70h] BYREF
  double v129; // [rsp+98h] [rbp-68h] BYREF
  double v130; // [rsp+A0h] [rbp-60h]
  double v131; // [rsp+A8h] [rbp-58h]
  double v132; // [rsp+B0h] [rbp-50h]
  __int128 v133; // [rsp+B8h] [rbp-48h]
  double v134; // [rsp+C8h] [rbp-38h]
  double v135; // [rsp+D0h] [rbp-30h]
  _DWORD v136[2]; // [rsp+E0h] [rbp-20h] BYREF
  __int64 v137; // [rsp+E8h] [rbp-18h]
  unsigned __int64 v138; // [rsp+F0h] [rbp-10h]
  unsigned __int64 v139; // [rsp+F8h] [rbp-8h]
  __int64 v140; // [rsp+100h] [rbp+0h]
  __int64 v141; // [rsp+108h] [rbp+8h]
  _BYTE v142[56]; // [rsp+130h] [rbp+30h] BYREF
  _BYTE v143[64]; // [rsp+168h] [rbp+68h] BYREF
  _BYTE v144[8]; // [rsp+1A8h] [rbp+A8h] BYREF
  unsigned __int64 v145; // [rsp+1B0h] [rbp+B0h]
  __int64 v146; // [rsp+1C0h] [rbp+C0h]
  _BYTE v147[8]; // [rsp+1E0h] [rbp+E0h] BYREF
  unsigned __int64 v148; // [rsp+1E8h] [rbp+E8h]
  __int64 v149; // [rsp+1F8h] [rbp+F8h]
  __int128 v150; // [rsp+220h] [rbp+120h]

  v121 = a4;
  v137 = 0;
  v139 = 0;
  v140 = 0;
  v141 = 0;
  v136[0] = 0xF00;
  v138 = __rdtsc();
  v136[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v136,
    &word_1515B1B90,
    "CEntity::DetachThisImpl",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x676);
  v122 = 0;
  HIWORD(v136[0]) = word_1515B1B90;
  v123 = 0;
  v6 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( dword_149AC4C08 == v6 )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
    v8 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0x200000, 0);
    if ( v8 )
      sub_1403DCD60(
        (__int64)&qword_149AC4BF8,
        v8,
        (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
        "CEntity::DetachThisImpl",
        "s_aggregateHierarchyLock",
        1);
    else
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source = p_p_p_p_p_p_p_p_p_p_p_p_Source;
    dword_149AC4C08 = v6;
  }
  v9 = *(unsigned __int64 **)(a1 + 0x130);
  if ( !v9 || !sub_14030EC00(v9) )
  {
LABEL_207:
    if ( dword_149AC4C0C )
    {
      --dword_149AC4C0C;
    }
    else
    {
      dword_149AC4C08 = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        ::p_p_p_p_p_p_p_p_p_p_p_p_Source = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380((__int64)&qword_149AC4BF8, n0x200000);
    }
    v104 = 0;
    goto LABEL_213;
  }
  v10 = **(_QWORD **)(a1 + 0x130);
  v11 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( dword_149AC4BF0 == v11 )
  {
    ++dword_149AC4BF4;
  }
  else
  {
    p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = *(char **)(NtCurrentTeb_w() + 0x20);
    v13 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0x200000, 0);
    if ( v13 )
      sub_1403DCD60(
        (__int64)&qword_149AC4BE0,
        v13,
        (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source_1,
        "CEntity::DetachThisImpl",
        "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
    else
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = p_p_p_p_p_p_p_p_p_p_p_p_Source_1;
    dword_149AC4BF0 = v11;
  }
  v14 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
  v125 = v14;
  v15 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(v14 + 0x10) == v15 )
  {
    ++*(_DWORD *)(v14 + 0x14);
  }
  else
  {
    v16 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v17 = _InterlockedCompareExchange64((volatile signed __int64 *)v14, 0x200000, 0);
    if ( v17 )
      sub_1403DCD60(v14, v17, v16, "CEntity::DetachThisImpl", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
    else
      *(_QWORD *)(v14 + 8) = v16;
    *(_DWORD *)(v14 + 0x10) = v15;
  }
  (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xA8LL))(qword_149B4FBE8);
  v126 = (volatile signed __int64 *)((**(_QWORD **)(a1 + 0x130) & 0xFFFFFFFFFFFFLL) + 0xC0);
  v18 = v126;
  v19 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *((_DWORD *)v126 + 4) == v19 )
  {
    ++*((_DWORD *)v126 + 5);
  }
  else
  {
    v20 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v21 = _InterlockedCompareExchange64(v126, 0x200000, 0);
    if ( v21 )
      sub_1403DCD60(
        (__int64)v126,
        v21,
        v20,
        "CEntity::DetachThisImpl",
        "m_pBinds->pParent->m_cross_ecus_state.updateLock",
        1);
    else
      *((_QWORD *)v126 + 1) = v20;
    *((_DWORD *)v18 + 4) = v19;
  }
  v22 = a1 + 0xC0;
  v23 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(a1 + 0xD0) == v23 )
  {
    ++*(_DWORD *)(a1 + 0xD4);
  }
  else
  {
    v24 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v25 = _InterlockedCompareExchange64((volatile signed __int64 *)v22, 0x200000, 0);
    if ( v25 )
      sub_1403DCD60(a1 + 0xC0, v25, v24, "CEntity::DetachThisImpl", "m_cross_ecus_state.updateLock", 1);
    else
      *(_QWORD *)(a1 + 0xC8) = v24;
    *(_DWORD *)(a1 + 0xD0) = v23;
  }
  v26 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v26 && sub_14030EC00(v26) && *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x10LL) == 5 )
  {
    v28 = *(_QWORD **)(a1 + 0x130);
    LOBYTE(v24) = 1;
    v150 = v4;
    v29 = sub_146B54040(*v28 & 0xFFFFFFFFFFFFLL, v143, v24);
    sub_146B86300(a1, v29, 0x26, v121, 1);
    v30 = **(_QWORD **)(a1 + 0x130) & 0xFFFFFFFFFFFFLL;
    v31 = *(unsigned __int64 **)(v30 + 0x130);
    if ( v31 && sub_14030EC00(v31) && (v32 = *(_QWORD *)(v30 + 0x130), *(_DWORD *)(v32 + 0x10) == 5) )
    {
      sub_146B4EC30(*(_QWORD *)v32 & 0xFFFFFFFFFFFFLL, &v129, 2);
      v33 = v129;
      v34 = v135;
      v35 = v134;
      v36 = v133;
      v37 = v132;
      v38 = v131;
      v39 = v130;
    }
    else
    {
      v37 = *(double *)(v30 + 0x80);
      v132 = v37;
      v33 = *(double *)(v30 + 0x68);
      v129 = v33;
      v39 = *(double *)(v30 + 0x70);
      v130 = v39;
      v38 = *(double *)(v30 + 0x78);
      v131 = v38;
      v36 = *(_OWORD *)(v30 + 0x88);
      v133 = v36;
      v35 = *(double *)(v30 + 0x98);
      v134 = v35;
      v34 = *(double *)(v30 + 0xA0);
      v135 = v34;
    }
    *(double *)(a1 + 0x70) = v39;
    *(double *)(a1 + 0x68) = v33;
    *(double *)(a1 + 0x78) = v38;
    *(double *)(a1 + 0x80) = v37;
    *(_OWORD *)(a1 + 0x88) = v36;
    *(double *)(a1 + 0x98) = v35;
    *(double *)(a1 + 0xA0) = v34;
  }
  (*(void (__fastcall **)(__int64, unsigned __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x140LL))(
    qword_149B4FBE8,
    a1 + 0x2A8,
    v121,
    0);
  v117 = v10 & 0xFFFFFFFFFFFFLL;
  v40 = *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 0x130);
  if ( !v40 )
  {
    p_Could_not_find_Entity_%s_in_child_list_of_parent_%s = "Specified parent %s of %s does not have a binds structure. S"
                                                            "omething is very wrong!";
    goto LABEL_185;
  }
  v41 = v40 + 0x1B8;
  v42 = 0;
  v43 = (__int64)(*(_QWORD *)(v40 + 0x1C0) - *(_QWORD *)(v40 + 0x1B8)) >> 3;
  v127 = v40 + 0x1B8;
  if ( v43 )
  {
    do
    {
      v44 = (unsigned __int64 *)(*(_QWORD *)(v40 + 0x1B8) + 8 * v42);
      if ( sub_14030EC00(v44) )
        v45 = *v44 & 0xFFFFFFFFFFFFLL;
      else
        v45 = 0;
      if ( v45 == a1 )
        break;
      v40 = *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 0x130);
      ++v42;
    }
    while ( v42 < (__int64)(*(_QWORD *)(v40 + 0x1C0) - *(_QWORD *)(v40 + 0x1B8)) >> 3 );
    v14 = v125;
    v22 = a1 + 0xC0;
    v18 = v126;
    v41 = v127;
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v46 = 0;
    v47 = a1 - 6;
  }
  else
  {
    v46 = 1;
    v47 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v48 = *(_WORD *)(v47 + 2) | 0x2000;
  v49 = *(_QWORD **)(v41 + 8);
  if ( !v46 )
    v48 = *(_WORD *)(v47 + 2);
  v50 = *(_QWORD **)v41;
  v51 = a1 | ((unsigned __int64)v48 << 0x30);
  if ( *(_QWORD **)v41 == v49 )
  {
LABEL_62:
    p_Could_not_find_Entity_%s_in_child_list_of_parent_%s = "Could not find Entity %s in child list of parent %s";
LABEL_185:
    sub_146AABD10((__int64)p_Could_not_find_Entity_%s_in_child_list_of_parent_%s);
    if ( v22 )
    {
      v105 = *(_DWORD *)(v22 + 0x14);
      if ( v105 )
      {
        *(_DWORD *)(v22 + 0x14) = v105 - 1;
      }
      else
      {
        *(_DWORD *)(v22 + 0x10) = 0xFFFFFFFF;
        n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)v22, 0, 0x200000);
        if ( n0x200000_1 == 0x200000 )
          *(_QWORD *)(v22 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
        else
          sub_1403DD380(v22, n0x200000_1);
      }
    }
    v107 = *((_DWORD *)v18 + 5);
    if ( v107 )
    {
      *((_DWORD *)v18 + 5) = v107 - 1;
    }
    else
    {
      *((_DWORD *)v18 + 4) = 0xFFFFFFFF;
      n0x200000_2 = _InterlockedCompareExchange64(v18, 0, 0x200000);
      if ( n0x200000_2 == 0x200000 )
        *((_QWORD *)v18 + 1) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380((__int64)v18, n0x200000_2);
    }
    if ( v14 )
    {
      v109 = *(_DWORD *)(v14 + 0x14);
      if ( v109 )
      {
        *(_DWORD *)(v14 + 0x14) = v109 - 1;
      }
      else
      {
        *(_DWORD *)(v14 + 0x10) = 0xFFFFFFFF;
        n0x200000_3 = _InterlockedCompareExchange64((volatile signed __int64 *)v14, 0, 0x200000);
        if ( n0x200000_3 == 0x200000 )
          *(_QWORD *)(v14 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
        else
          sub_1403DD380(v14, n0x200000_3);
      }
    }
    if ( dword_149AC4BF4 )
    {
      --dword_149AC4BF4;
    }
    else
    {
      dword_149AC4BF0 = 0xFFFFFFFF;
      n0x200000_4 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0, 0x200000);
      if ( n0x200000_4 == 0x200000 )
        ::p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380((__int64)&qword_149AC4BE0, n0x200000_4);
    }
    goto LABEL_207;
  }
  while ( 1 )
  {
    v52 = v50 + 1;
    if ( *v50 == v51 )
      break;
    ++v50;
    if ( v52 == v49 )
      goto LABEL_62;
  }
  for ( ; v52 != v49; ++v52 )
  {
    v52[0xFFFFFFFF] = *v52;
    *v52 = 0;
  }
  *(_QWORD *)(v41 + 8) -= 8LL;
  v54 = *(_QWORD **)(a1 + 0x130);
  v128 = v51;
  *v54 = 0;
  sub_146B73900(a1, &v128);
  sub_146B7D400(a1);
  sub_146B33ED0(a1, 0, 1u);
  v55 = *(_QWORD *)(a1 + 0x130);
  n4 = *(_DWORD *)(v55 + 0x10);
  if ( n4 != 3 )
  {
    if ( n4 != 4 )
      goto LABEL_108;
    if ( *(_BYTE *)(v55 + 0x138) != 1 )
      sub_1403E0B50();
    v64 = *(_QWORD *)(v55 + 0x18);
    if ( v64 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v64 + 8LL))(v64);
    if ( *(_WORD *)(*(_QWORD *)(a1 + 0x130) + 0x148LL) != 0xFFFF )
    {
      v65 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v64 + 0xB8LL))(v64);
      if ( v65 )
      {
        v66 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v65 + 0x30LL))(v65);
        if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
        {
          v67 = 0;
          v68 = a1 - 6;
        }
        else
        {
          v67 = 1;
          v68 = a1 & 0xFFFFFFFFFF000000uLL;
        }
        v69 = *(_WORD *)(v68 + 2) | 0x2000;
        if ( !v67 )
          v69 = *(_WORD *)(v68 + 2);
        (*(void (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)v66 + 0x2F0LL))(
          v66,
          a1 | ((unsigned __int64)v69 << 0x30));
      }
    }
    if ( v64 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v64 + 8LL))(v64);
    v70 = (_QWORD *)allocWithProfilerInfo_w(8u);
    if ( v70 )
    {
      *v70 = v64;
      v120 = v70;
      p_sub_146B31270 = sub_146B31270;
      p_sub_146B32890 = sub_146B32890;
    }
    else
    {
      v120 = 0;
      p_sub_146B31270 = sub_146B31270;
      p_sub_146B32890 = sub_146B32890;
      if ( v64 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v64 + 0x10LL))(v64);
    }
    v71 = (__int64 (__fastcall **)(__int64))*((_QWORD *)&v122 + 1);
    if ( *((_QWORD *)&v122 + 1) == v123 )
    {
      sub_146B16FB0(&v122, *((_QWORD *)&v122 + 1), &p_sub_146B31270);
      p_sub_146B32890_1 = p_sub_146B32890;
      goto LABEL_104;
    }
    **((_QWORD **)&v122 + 1) = 0;
    v71[1] = 0;
    v71[2] = 0;
    p_sub_146B32890_1 = p_sub_146B32890;
    if ( p_sub_146B32890 == (__int64 (__fastcall *)())1 )
    {
      *v71 = p_sub_146B31270;
      v71[1] = (__int64 (__fastcall *)(__int64))p_sub_146B32890;
    }
    else
    {
      if ( !p_sub_146B32890 )
      {
LABEL_102:
        *((_QWORD *)&v122 + 1) += 0x18LL;
LABEL_104:
        if ( (unsigned __int64)p_sub_146B32890_1 >= 2 )
          ((void (__fastcall *)(__int64, __int64 (__fastcall **)(__int64)))p_sub_146B32890_1)(2, &p_sub_146B31270);
        if ( v64 )
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v64 + 0x10LL))(v64);
        goto LABEL_108;
      }
      ((void (__fastcall *)(__int64, __int64 (__fastcall **)(__int64), __int64 (__fastcall **)(__int64)))p_sub_146B32890)(
        1,
        v71,
        &p_sub_146B31270);
    }
    p_sub_146B32890_1 = p_sub_146B32890;
    if ( (unsigned __int64)p_sub_146B32890 >= 2 )
    {
      ((void (__fastcall *)(__int64, __int64 (__fastcall **)(__int64)))p_sub_146B32890)(2, &p_sub_146B31270);
      p_sub_146B32890_1 = 0;
      p_sub_146B32890 = 0;
    }
    p_sub_146B31270 = 0;
    goto LABEL_102;
  }
  if ( *(_WORD *)(v55 + 0x148) != 0xFFFF )
  {
    v57 = *(unsigned int *)(v55 + 0x144);
    v58 = v10 & 0xFFFFFFFFFFFFLL;
    v59 = sub_146B49A10(v117, v57);
    if ( v59 )
    {
      v60 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v59 + 0x30LL))(v59);
      if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
      {
        v61 = 0;
        v62 = a1 - 6;
      }
      else
      {
        v61 = 1;
        v62 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      v63 = *(_WORD *)(v62 + 2) | 0x2000;
      if ( !v61 )
        v63 = *(_WORD *)(v62 + 2);
      (*(void (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)v60 + 0x2F0LL))(
        v60,
        a1 | ((unsigned __int64)v63 << 0x30));
    }
    goto LABEL_109;
  }
LABEL_108:
  v58 = v10 & 0xFFFFFFFFFFFFLL;
LABEL_109:
  v73 = *(_QWORD *)(a1 + 0x130);
  if ( (*(_DWORD *)(v73 + 0x140) & 0xA) == 2 )
  {
    v74 = *(_QWORD *)(v58 + 0x2B0);
    v124 = v10;
    if ( *(_DWORD *)(v73 + 0x10) != 9 && sub_14030EC00(&v124) )
    {
      while ( !*(_QWORD *)((v124 & 0xFFFFFFFFFFFFLL) + 0x2C0) )
      {
        v75 = *(_QWORD *)((v124 & 0xFFFFFFFFFFFFLL) + 0x130);
        if ( *(_DWORD *)(v75 + 0x10) != 9 )
        {
          v124 = *(_QWORD *)v75;
          if ( sub_14030EC00(&v124) )
            continue;
        }
        goto LABEL_117;
      }
      v74 = *(_QWORD *)((v124 & 0xFFFFFFFFFFFFLL) + 0x2B0);
    }
LABEL_117:
    while ( 1 )
    {
      v76 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v74 + 0x20LL))(v74);
      if ( v76 )
      {
        if ( *(_BYTE *)(v76 + 0xD) < 5u && (*(_BYTE *)(v76 + 8) & 8) == 0 )
          break;
      }
      if ( v74 == (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x10LL))(qword_149B4FBE8) )
        break;
      v74 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v74 + 8LL))(v74);
    }
    v77 = *(_QWORD *)(a1 + 0x2B0);
    if ( v74 != v77 )
    {
      v78 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x480LL))(
              qword_149B4FBE8,
              v142,
              v77,
              v74);
      sub_146B5CF90(a1, v74, v78, 1, v121, 0);
    }
  }
  else
  {
    (*(void (__fastcall **)(__int64, unsigned __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x148LL))(
      qword_149B4FBE8,
      a1 + 0x2A8,
      v121,
      0);
  }
  if ( v22 )
  {
    v79 = *(_DWORD *)(v22 + 0x14);
    if ( v79 )
    {
      *(_DWORD *)(v22 + 0x14) = v79 - 1;
    }
    else
    {
      *(_DWORD *)(v22 + 0x10) = 0xFFFFFFFF;
      n0x200000_5 = _InterlockedCompareExchange64((volatile signed __int64 *)v22, 0, 0x200000);
      if ( n0x200000_5 == 0x200000 )
        *(_QWORD *)(v22 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380(v22, n0x200000_5);
    }
  }
  v81 = *((_DWORD *)v18 + 5);
  if ( v81 )
  {
    *((_DWORD *)v18 + 5) = v81 - 1;
  }
  else
  {
    *((_DWORD *)v18 + 4) = 0xFFFFFFFF;
    n0x200000_6 = _InterlockedCompareExchange64(v18, 0, 0x200000);
    if ( n0x200000_6 == 0x200000 )
      *((_QWORD *)v18 + 1) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DD380((__int64)v18, n0x200000_6);
  }
  if ( v14 )
  {
    v83 = *(_DWORD *)(v14 + 0x14);
    if ( v83 )
    {
      *(_DWORD *)(v14 + 0x14) = v83 - 1;
    }
    else
    {
      *(_DWORD *)(v14 + 0x10) = 0xFFFFFFFF;
      n0x200000_7 = _InterlockedCompareExchange64((volatile signed __int64 *)v14, 0, 0x200000);
      if ( n0x200000_7 == 0x200000 )
        *(_QWORD *)(v14 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380(v14, n0x200000_7);
    }
  }
  if ( dword_149AC4BF4 )
  {
    --dword_149AC4BF4;
  }
  else
  {
    dword_149AC4BF0 = 0xFFFFFFFF;
    n0x200000_8 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0, 0x200000);
    if ( n0x200000_8 == 0x200000 )
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DD380((__int64)&qword_149AC4BE0, n0x200000_8);
  }
  if ( dword_149AC4C0C )
  {
    --dword_149AC4C0C;
  }
  else
  {
    dword_149AC4C08 = 0xFFFFFFFF;
    n0x200000_9 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
    if ( n0x200000_9 == 0x200000 )
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DD380((__int64)&qword_149AC4BF8, n0x200000_9);
  }
  v87 = *((_QWORD *)&v122 + 1);
  for ( i = v122; i != v87; i += 0x18 )
  {
    v89 = *(void (**)(void))i;
    if ( *(_QWORD *)(i + 8) == 1 )
      v89();
    else
      ((void (__fastcall *)(__int64))v89)(i);
  }
  sub_14036C3F0((__int64)v144, 8);
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v90 = 0;
    v91 = a1 - 6;
  }
  else
  {
    v90 = 1;
    v91 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v92 = *(_WORD *)(v91 + 2) | 0x2000;
  if ( !v90 )
    v92 = *(_WORD *)(v91 + 2);
  v145 = a1 | ((unsigned __int64)v92 << 0x30);
  v146 = *(_QWORD *)(a1 + 0x10);
  sub_146B731A0(v117, v144);
  sub_14036C3F0((__int64)v147, 9);
  if ( qword_1515B1B10 > v117 || v117 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v93 = 0;
    v94 = v117 - 6;
  }
  else
  {
    v93 = 1;
    v94 = v117 & 0xFFFFFFFFFF000000uLL;
  }
  v95 = *(_WORD *)(v94 + 2) | 0x2000;
  if ( !v93 )
    v95 = *(_WORD *)(v94 + 2);
  v148 = v117 | ((unsigned __int64)v95 << 0x30);
  v149 = *(_QWORD *)(v117 + 0x10);
  sub_146B731A0(a1, v147);
  n0x20 = *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x140LL) & 0x60;
  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v97 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v97 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v97, "CEntity::DetachThisImpl", "s_aggregateHierarchyLock", 1);
  }
  if ( dword_149AC4BF0 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4BF4;
  }
  else
  {
    v98 = _InterlockedIncrement64(&qword_149AC4BE0);
    if ( (v98 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BE0,
        v98,
        "CEntity::DetachThisImpl",
        "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
  }
  v99 = v121;
  sub_146B3F040(a1, (*(_BYTE *)(a1 + 8) & 1) == 0, v121, 0);
  v100 = *(_QWORD *)(a1 + 0x130);
  if ( *(_BYTE *)(v100 + 0x138) == 1 )
  {
    v101 = *(_QWORD *)(v100 + 0x18);
    *(_QWORD *)(v100 + 0x18) = 0;
    if ( v101 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v101 + 0x10LL))(v101);
  }
  else
  {
    sub_1422D62B0((__int64 *)(v100 + 0x18));
    *(_QWORD *)(v100 + 0x18) = 0;
    *(_BYTE *)(v100 + 0x138) = 1;
  }
  *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x10LL) = 0;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x140LL) = 0;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x144LL) = 0xFFFFFFFF;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x14CLL) = 0;
  *(_WORD *)(*(_QWORD *)(a1 + 0x130) + 0x148LL) = 0xFFFF;
  *(_WORD *)(*(_QWORD *)(a1 + 0x130) + 0x14ALL) = 0xFFFF;
  v102 = (_QWORD *)(*(_QWORD *)(a1 + 0x130) + 0x150LL);
  *v102 = 0;
  v102[1] = 0;
  v102[2] = 0;
  v102[3] = 0x3FF0000000000000LL;
  v102[4] = 0;
  v102[5] = 0;
  v102[6] = 0;
  v102[7] = 0x3FF0000000000000LL;
  sub_1402D2790((__int64)&qword_149AC4BE0);
  sub_1402D2790((__int64)&qword_149AC4BF8);
  *(_DWORD *)(a1 + 8) &= ~0x20u;
  if ( n0x20 == 0x20 )
  {
    LOBYTE(v103) = 1;
    sub_146B54C20(a1, 0, v103, v99);
  }
  v104 = 1;
LABEL_213:
  v113 = (_QWORD *)v122;
  if ( (_QWORD)v122 )
  {
    v114 = (_QWORD *)*((_QWORD *)&v122 + 1);
    if ( (_QWORD)v122 != *((_QWORD *)&v122 + 1) )
    {
      do
      {
        n2 = (void (__fastcall *)(__int64, _QWORD *))v113[1];
        if ( (unsigned __int64)n2 >= 2 )
        {
          n2(2, v113);
          v113[1] = 0;
        }
        *v113 = 0;
        v113 += 3;
      }
      while ( v113 != v114 );
      v113 = (_QWORD *)v122;
    }
    sub_1403A3120((__int64)&v122, v113, 0x18 * ((v123 - (__int64)v113) / 0x18));
    v122 = 0;
    v123 = 0;
  }
  v139 = __rdtsc();
  qword_149B4B878(v136);
  return v104;
}

// --- End Function: sub_146B3FB00 (0x146B3FB00) ---

// --- Function: sub_146B40B40 (0x146B40B40) ---
__int64 __fastcall sub_146B40B40(_BYTE *a1, unsigned __int64 a2)
{
  __int64 (__fastcall *v4)(_BYTE *, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v6; // rdi
  __int64 v7; // rax
  __int16 n4_1; // dx
  __int64 v10; // rcx
  unsigned __int16 n0xFFFF_1; // ax
  __int16 v12; // rbx^6
  __int64 v13; // rdi
  __int64 v14; // rax
  __int16 n4; // cx
  __int64 v16; // rcx
  unsigned __int64 v17; // rax
  _BYTE v18[56]; // [rsp+20h] [rbp-38h] BYREF
  __int64 v19; // [rsp+60h] [rbp+8h] BYREF
  __int64 v20; // [rsp+78h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(_BYTE *, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v20,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v19) = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v18, &v19);
  v19 = v6;
  if ( v6
    && (v7 = sub_1403B4B50(v6 & 0xFFFFFFFFFFFFLL), n4_1 = *(_WORD *)(v7 + 4), n4_1 != 4)
    && *(_WORD *)(v7 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4_1 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v19)) )
  {
    (*(void (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x738LL))(
      v6 & 0xFFFFFFFFFFFFLL,
      a2);
    return 1;
  }
  else
  {
    if ( a2 )
    {
      v10 = a2 & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a2) )
        goto LABEL_12;
    }
    n0xFFFF_1 = n0xFFFF_50;
    if ( n0xFFFF_50 == (__int16)0xFFFF )
    {
      n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                        + 0x10LL))(
                              qword_149B4FC88,
                              &v19,
                              "RopeProxy");
      n0xFFFF_50 = n0xFFFF_1;
    }
    if ( a1[0xD] == 7 )
      return 0;
    sub_146B49DE0(a1, &v20, n0xFFFF_1);
    v12 = HIWORD(v20);
    v19 = v20;
    if ( !v20 )
      return 0;
    v13 = v20 & 0xFFFFFFFFFFFFLL;
    v14 = sub_1403B4B50(v20 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(v14 + 4);
    if ( n4 == 4 || *(_WORD *)(v14 + 2) != (v12 & 0xFFF) )
      return 0;
    if ( (n4 != 2 || *(_QWORD *)NtCurrentTeb_w()) && !sub_14031FE20(&v19) )
      return 0;
    v16 = *(_QWORD *)(v13 + 0x70);
    if ( v16
      && (v17 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v16 + 0xE8LL))(v16, &v19)) != 0
      && (v10 = v17 & 0xFFFFFFFFFFFFLL, *(_QWORD *)((v17 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v17)) )
    {
LABEL_12:
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v10 + 0x58LL))(v10, 0);
      return 1;
    }
    else
    {
      return 0;
    }
  }
}

// --- End Function: sub_146B40B40 (0x146B40B40) ---

// --- Function: sub_146B414F0 (0x146B414F0) ---
char __fastcall sub_146B414F0(__int64 a1)
{
  __int64 v1; // rax
  __int64 v2; // rbp
  __int64 v3; // rdi
  signed __int64 v4; // rdx
  int v5; // ebx
  int v6; // esi
  __int64 v7; // rax
  __int64 v8; // rax

  v1 = sub_146B513B0(a1);
  v2 = v1;
  if ( v1 )
  {
    v3 = v1 + 0x230;
    if ( *(_DWORD *)(v1 + 0x240) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v3 + 0x14);
    }
    else
    {
      v4 = _InterlockedIncrement64((volatile signed __int64 *)v3);
      if ( (v4 & 0x200000) != 0 )
        sub_1403CB300(v3, v4, "CEntity::DoesEntityHostVisAreas", "pRenderProxy->GetSlotLock()", 1);
    }
    v5 = 0;
    v6 = sub_146ABEFA0(v2);
    if ( v6 <= 0 )
    {
LABEL_11:
      sub_1402D2790(v3);
      LOBYTE(v1) = 0;
    }
    else
    {
      while ( 1 )
      {
        v7 = sub_146AB3260(v2, v5);
        if ( v7 )
        {
          v8 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x30LL))(v7);
          if ( v8 )
          {
            if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x1C8LL))(v8) )
              break;
          }
        }
        if ( ++v5 >= v6 )
          goto LABEL_11;
      }
      sub_1402D2790(v3);
      LOBYTE(v1) = 1;
    }
  }
  return v1;
}

// --- End Function: sub_146B414F0 (0x146B414F0) ---

// --- Function: sub_146B41E70 (0x146B41E70) ---
void __fastcall sub_146B41E70(__int64 a1)
{
  int v2; // ebx
  int v3; // edi
  __int64 v4; // rsi
  __int64 v5; // rbp
  const char *v6; // rax
  int v7; // eax
  const char *p_true_1; // rdx
  const char *p_true; // r8

  v2 = *(_DWORD *)(a1 + 0x118);
  v3 = *(unsigned __int8 *)(a1 + 0xD);
  v4 = *(_QWORD *)(a1 + 0x10);
  v5 = (__int64)(*(_QWORD *)(a1 + 0x248) - *(_QWORD *)(a1 + 0x240)) >> 3;
  v6 = (const char *)(*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x18LL))(*(_QWORD *)(a1 + 0x20));
  LogTraceConditional(
    "%s: Class=%s, Id=%llu, State=%d, Flags=%u, Components=%zu",
    *(const char **)(a1 + 0x298),
    v6,
    v4,
    v3,
    v2,
    v5);
  v7 = *(_DWORD *)(a1 + 8);
  p_true_1 = "false";
  p_true = "false";
  if ( (v7 & 8) != 0 )
    p_true = "true";
  if ( (v7 & 4) != 0 )
    p_true_1 = "true";
  LogTraceConditional("EventListeners=%s, RemoveRequested=%s", p_true_1, p_true);
}

// --- End Function: sub_146B41E70 (0x146B41E70) ---

// --- Function: sub_146B44340 (0x146B44340) ---
unsigned __int64 __fastcall sub_146B44340(unsigned __int64 a1)
{
  signed __int64 v2; // rdx
  char v3; // dl
  unsigned __int64 v4; // rcx
  unsigned __int16 v5; // ax
  unsigned __int64 i; // rcx
  __int64 v7; // rbx
  bool v8; // al
  unsigned __int64 v10; // [rsp+40h] [rbp+8h] BYREF

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v2 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v2 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v2, "CEntity::DumpOwnerInfo", "s_aggregateHierarchyLock", 1);
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v3 = 0;
    v4 = a1 - 6;
  }
  else
  {
    v3 = 1;
    v4 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v5 = *(_WORD *)(v4 + 2) | 0x2000;
  if ( !v3 )
    v5 = *(_WORD *)(v4 + 2);
  for ( i = a1 | ((unsigned __int64)v5 << 0x30); ; i = *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 0x318) )
  {
    v10 = i;
    if ( !i )
      break;
    v7 = (i & 0xF000000000000000uLL) != 0 ? i & 0xFFFFFF000000LL : (i & 0xFFFFFFFFFFFFLL) - 6;
    if ( *(_WORD *)(v7 + 2) != (HIWORD(i) & 0xFFF) )
      break;
    if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v8 = sub_140539D80()) )
      v8 = 1;
    if ( (*(_WORD *)(v7 + 4) != 2 || !v8) && !sub_140392020(&v10) )
      break;
    sub_146B65E30(v10 & 0xFFFFFFFFFFFFLL);
  }
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B44340 (0x146B44340) ---

// --- Function: sub_146B451B0 (0x146B451B0) ---
__int64 __fastcall sub_146B451B0(_BYTE *a1, unsigned __int64 a2)
{
  __int64 (__fastcall *v4)(_BYTE *, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v6; // rdi
  __int64 v7; // rax
  __int16 n4_1; // dx
  __int64 v10; // rcx
  unsigned __int16 n0xFFFF_1; // ax
  __int16 v12; // rbx^6
  __int64 v13; // rdi
  __int64 v14; // rax
  __int16 n4; // cx
  __int64 v16; // rcx
  unsigned __int64 v17; // rax
  _BYTE v18[56]; // [rsp+20h] [rbp-38h] BYREF
  __int64 v19; // [rsp+60h] [rbp+8h] BYREF
  __int64 v20; // [rsp+78h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(_BYTE *, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v20,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v19) = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v18, &v19);
  v19 = v6;
  if ( v6
    && (v7 = sub_1403B4B50(v6 & 0xFFFFFFFFFFFFLL), n4_1 = *(_WORD *)(v7 + 4), n4_1 != 4)
    && *(_WORD *)(v7 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4_1 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v19)) )
  {
    (*(void (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x730LL))(
      v6 & 0xFFFFFFFFFFFFLL,
      a2);
    return 1;
  }
  else
  {
    if ( a2 )
    {
      v10 = a2 & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a2) )
        goto LABEL_12;
    }
    n0xFFFF_1 = n0xFFFF_50;
    if ( n0xFFFF_50 == (__int16)0xFFFF )
    {
      n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                        + 0x10LL))(
                              qword_149B4FC88,
                              &v19,
                              "RopeProxy");
      n0xFFFF_50 = n0xFFFF_1;
    }
    if ( a1[0xD] == 7 )
      return 0;
    sub_146B49DE0(a1, &v20, n0xFFFF_1);
    v12 = HIWORD(v20);
    v19 = v20;
    if ( !v20 )
      return 0;
    v13 = v20 & 0xFFFFFFFFFFFFLL;
    v14 = sub_1403B4B50(v20 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(v14 + 4);
    if ( n4 == 4 || *(_WORD *)(v14 + 2) != (v12 & 0xFFF) )
      return 0;
    if ( (n4 != 2 || *(_QWORD *)NtCurrentTeb_w()) && !sub_14031FE20(&v19) )
      return 0;
    v16 = *(_QWORD *)(v13 + 0x70);
    if ( v16
      && (v17 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v16 + 0xE8LL))(v16, &v19)) != 0
      && (v10 = v17 & 0xFFFFFFFFFFFFLL, *(_QWORD *)((v17 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v17)) )
    {
LABEL_12:
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v10 + 0x60LL))(v10, 0);
      return 1;
    }
    else
    {
      return 0;
    }
  }
}

// --- End Function: sub_146B451B0 (0x146B451B0) ---

// --- Function: sub_146B453C0 (0x146B453C0) ---
char __fastcall sub_146B453C0(__int64 a1, unsigned __int8 a2, unsigned int a3, char a4)
{
  __int64 v7; // rax
  __int64 v8; // rbx

  v7 = sub_146B4E3D0(a1);
  v8 = v7;
  if ( v7 )
  {
    LOBYTE(v7) = sub_146A795F0(v7);
    if ( !(_BYTE)v7 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xF0LL))(qword_149B4FBE8);
      sub_146AAB270(v8, a2, a3, a4, 0);
      LOBYTE(v7) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xF8LL))(qword_149B4FBE8);
    }
  }
  return v7;
}

// --- End Function: sub_146B453C0 (0x146B453C0) ---

// --- Function: sub_146B45450 (0x146B45450) ---
__int64 __fastcall sub_146B45450(__int64 a1, __int64 a2)
{
  unsigned __int8 v3; // di
  __int64 v4; // rax
  __int64 v5; // rsi
  __int64 v6; // rdx

  v3 = (*(_BYTE *)(a1 + 8) & 1) == 0;
  v4 = sub_146B4E3D0(a1);
  v5 = v4;
  if ( v4 && !sub_146A795F0(v4) )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xF0LL))(qword_149B4FBE8);
    sub_146AAB270(v5, v3, 0x13u, 0, 0);
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xF8LL))(qword_149B4FBE8);
  }
  v6 = *(unsigned int *)((a2 & 0xFFFFFFFFFFFFLL) + 0x80);
  LODWORD(v6) = v6 | 0x100;
  return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 0x78) + 0x1A0LL))(
           (a2 & 0xFFFFFFFFFFFFLL) + 0x78,
           v6);
}

// --- End Function: sub_146B45450 (0x146B45450) ---

// --- Function: sub_146B45500 (0x146B45500) ---
__int64 __fastcall sub_146B45500(__int64 a1, _QWORD *a2)
{
  __int64 result; // rax
  _QWORD *v5; // rsi
  _QWORD *v6; // rdi
  __int64 i; // rcx
  __int64 *v8; // rbx
  __int64 v9; // rax
  void (__fastcall *v10)(__int64 *, __int64 *); // rbp
  __int64 v11; // rbx
  void (__fastcall *v12)(__int64, __int64); // rbp
  __int64 v13; // rax
  _QWORD *v14; // rbx
  __int64 v15; // [rsp+50h] [rbp+8h] BYREF
  __int64 v16; // [rsp+58h] [rbp+10h] BYREF
  __int64 v17; // [rsp+60h] [rbp+18h] BYREF

  if ( !(_BYTE)qword_149B501D6 )
    LogFatalError("CEntity::Export should only be called in editor");
  result = (*(__int64 (__fastcall **)(__int64, __int64 *, const ULONG_PTR *, _QWORD))(*(_QWORD *)qword_149B4FCA0
                                                                                    + 0x3A0LL))(
             qword_149B4FCA0,
             &v15,
             &p_p_p_p_p_p_p_p_p_p_p_Source,
             0);
  v5 = *(_QWORD **)(a1 + 0x248);
  v6 = *(_QWORD **)(a1 + 0x240);
  for ( i = v15; v6 != v5; ++v6 )
  {
    v8 = (__int64 *)(*v6 & 0xFFFFFFFFFFFFLL);
    v9 = *v8;
    v16 = i;
    v10 = *(void (__fastcall **)(__int64 *, __int64 *))(v9 + 0x18);
    if ( i )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
    v10(v8, &v16);
    if ( (*(int (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x158LL))(v15) > 0
      || (result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x50LL))(v15), (int)result > 0) )
    {
      v11 = v15;
      v12 = *(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v15 + 0x40LL);
      v13 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FC88 + 0x20LL))(
              qword_149B4FC88,
              *(unsigned __int16 *)((*v6 & 0xFFFFFFFFFFFFLL) + 0x10));
      v12(v11, v13);
      (*(void (__fastcall **)(_QWORD, __int64 *))(*(_QWORD *)*a2 + 0x120LL))(*a2, &v15);
      v14 = (_QWORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const ULONG_PTR *, _QWORD))(*(_QWORD *)qword_149B4FCA0
                                                                                               + 0x3A0LL))(
                        qword_149B4FCA0,
                        &v17,
                        &p_p_p_p_p_p_p_p_p_p_p_Source,
                        0);
      if ( *v14 )
        (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*v14 + 0x20LL))(*v14);
      if ( v15 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x28LL))(v15);
      result = v17;
      i = *v14;
      v15 = *v14;
      if ( !v17 )
        continue;
      result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x28LL))(v17);
    }
    i = v15;
  }
  if ( i )
    result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x28LL))(i);
  if ( *a2 )
    return (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x28LL))(*a2);
  return result;
}

// --- End Function: sub_146B45500 (0x146B45500) ---

// --- Function: sub_146B456C0 (0x146B456C0) ---
__int64 __fastcall sub_146B456C0(__int64 a1, unsigned int a2)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  __int64 v6; // [rsp+20h] [rbp-38h] BYREF
  __int128 v7; // [rsp+30h] [rbp-28h]
  __int128 v8; // [rsp+40h] [rbp-18h]

  v8 = v2;
  v7 = v3;
  sub_146A63540(a1, &v6);
  return sub_146AAE920(v6 & 0xFFFFFFFFFFFFLL, a2);
}

// --- End Function: sub_146B456C0 (0x146B456C0) ---

// --- Function: sub_146B47B10 (0x146B47B10) ---
unsigned __int64 __fastcall sub_146B47B10(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BF8,
        v4,
        "CEntity::ForEachAggregateInStreamingGroup",
        "s_aggregateHierarchyLock",
        1);
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
    v7 = *(_WORD *)(v6 + 2);
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(_QWORD **)(a1 + 0x308);
  for ( i = *(_QWORD **)(a1 + 0x300); i != v8; ++i )
    sub_146B47C30(*i & 0xFFFFFFFFFFFFLL, a2);
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B47B10 (0x146B47B10) ---

// --- Function: sub_146B47C30 (0x146B47C30) ---
char __fastcall sub_146B47C30(unsigned __int64 a1, __int64 a2)
{
  __int64 v4; // rax
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rdi
  _QWORD *i; // rbx

  LOBYTE(v4) = sub_146B5AE10(a1);
  if ( !(_BYTE)v4 )
  {
    if ( (*(_BYTE *)(a1 + 0x4F8) & 3) == 0
      || (LOBYTE(v4) = sub_14030EC00((unsigned __int64 *)(a1 + 0x4E0)), !(_BYTE)v4)
      && (v4 = *(_QWORD *)(a1 + 0x18), *(_QWORD *)(a1 + 0x4E8) == v4) )
    {
      if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
      {
        v5 = 0;
        v6 = a1 - 6;
      }
      else
      {
        v5 = 1;
        v6 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      v7 = *(_WORD *)(v6 + 2) | 0x2000;
      if ( !v5 )
        v7 = *(_WORD *)(v6 + 2);
      LOBYTE(v4) = (*(__int64 (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
                     *(_QWORD *)a2,
                     a1 | ((unsigned __int64)v7 << 0x30));
    }
    v8 = *(_QWORD **)(a1 + 0x308);
    for ( i = *(_QWORD **)(a1 + 0x300); i != v8; ++i )
      LOBYTE(v4) = sub_146B47C30(*i & 0xFFFFFFFFFFFFLL, a2);
  }
  return v4;
}

// --- End Function: sub_146B47C30 (0x146B47C30) ---

// --- Function: sub_146B47D20 (0x146B47D20) ---
__int64 __fastcall sub_146B47D20(__int64 a1, __int64 a2)
{
  __int64 result; // rax
  __int64 v5; // rbx
  _QWORD *v6; // rsi
  _QWORD *i; // rbx

  result = (*(__int64 (__fastcall **)(_QWORD, __int64))(a2 + 8))(*(_QWORD *)a2, a1);
  v5 = *(_QWORD *)(a1 + 0x130);
  if ( v5 )
  {
    v6 = *(_QWORD **)(v5 + 0x1C0);
    for ( i = *(_QWORD **)(v5 + 0x1B8); i != v6; ++i )
      result = sub_146B47D20(*i & 0xFFFFFFFFFFFFLL, a2);
  }
  return result;
}

// --- End Function: sub_146B47D20 (0x146B47D20) ---

// --- Function: sub_146B47DA0 (0x146B47DA0) ---
unsigned __int64 __fastcall sub_146B47DA0(__int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  unsigned __int64 *v5; // rsi
  unsigned __int64 *i; // rdi
  unsigned __int64 v7; // rax
  unsigned __int64 v8; // rbx
  unsigned __int64 v9; // rax
  __int64 v10; // rbx
  __int64 v11; // rbx
  bool v12; // al
  unsigned __int64 v13; // r8
  char v14; // dl
  __int64 v15; // rcx
  unsigned __int16 v16; // ax
  unsigned __int64 v18; // [rsp+60h] [rbp+8h] BYREF

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v4, "CEntity::ForEachDirectlyOwnedEntity", "s_aggregateHierarchyLock", 1);
  }
  v5 = *(unsigned __int64 **)(a1 + 0x308);
  for ( i = *(unsigned __int64 **)(a1 + 0x300); i != v5; ++i )
  {
    v7 = *i;
    v18 = v7;
    if ( v7 )
    {
      v8 = v7;
      v9 = HIWORD(v7);
      v10 = v8 & 0xFFFFFFFFFFFFLL;
      v11 = (v9 & 0xF000) != 0 ? v10 & 0xFFFFFF000000LL : v10 - 6;
      if ( *(_WORD *)(v11 + 2) == (v9 & 0xFFF) )
      {
        if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v12 = sub_140539D80()) )
          v12 = 1;
        if ( *(_WORD *)(v11 + 4) == 2 && v12 || sub_140392020(&v18) )
        {
          v13 = v18 & 0xFFFFFFFFFFFFLL;
          if ( qword_1515B1B10 > (v18 & 0xFFFFFFFFFFFFLL) || v13 >= qword_1515B1B18 + qword_1515B1B10 )
          {
            v14 = 0;
            v15 = v13 - 6;
          }
          else
          {
            v14 = 1;
            v15 = v18 & 0xFFFFFF000000LL;
          }
          v16 = *(_WORD *)(v15 + 2) | 0x2000;
          if ( !v14 )
            v16 = *(_WORD *)(v15 + 2);
          (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
            *(_QWORD *)a2,
            v13 | ((unsigned __int64)v16 << 0x30));
        }
      }
    }
  }
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B47DA0 (0x146B47DA0) ---

// --- Function: sub_146B48380 (0x146B48380) ---
unsigned __int64 __fastcall sub_146B48380(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v4, "CEntity::ForEachEntityInAggregate", "s_aggregateHierarchyLock", 1);
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
    v7 = *(_WORD *)(v6 + 2);
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(_QWORD **)(a1 + 0x308);
  for ( i = *(_QWORD **)(a1 + 0x300); i != v8; ++i )
    sub_146B484A0(*i & 0xFFFFFFFFFFFFLL, a2);
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B48380 (0x146B48380) ---

// --- Function: sub_146B484A0 (0x146B484A0) ---
void __fastcall sub_146B484A0(unsigned __int64 a1, __int64 a2)
{
  char v4; // dl
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax
  _QWORD *v7; // rsi
  _QWORD *i; // rbx

  if ( (*(_BYTE *)(a1 + 0x4F8) & 3) != 0
    && (sub_14030EC00((unsigned __int64 *)(a1 + 0x4E0)) || *(_QWORD *)(a1 + 0x4E8) != *(_QWORD *)(a1 + 0x18)) )
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v4 = 0;
      v5 = a1 - 6;
    }
    else
    {
      v4 = 1;
      v5 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v6 = *(_WORD *)(v5 + 2) | 0x2000;
    if ( !v4 )
      v6 = *(_WORD *)(v5 + 2);
    (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v6 << 0x30));
    v7 = *(_QWORD **)(a1 + 0x308);
    for ( i = *(_QWORD **)(a1 + 0x300); i != v7; ++i )
      sub_146B484A0(*i & 0xFFFFFFFFFFFFLL, a2);
  }
}

// --- End Function: sub_146B484A0 (0x146B484A0) ---

// --- Function: sub_146B48590 (0x146B48590) ---
char __fastcall sub_146B48590(unsigned __int64 a1, __int64 a2)
{
  char v4; // r8
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax
  unsigned __int64 v7; // rax
  unsigned __int64 *v8; // rbp
  unsigned __int64 *i; // rdi
  __int64 v10; // rbx
  bool v11; // al

  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B10 + qword_1515B1B18 )
  {
    v4 = 0;
    v5 = a1 - 6;
  }
  else
  {
    v4 = 1;
    v5 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v6 = *(_WORD *)(v5 + 2) | 0x2000;
  if ( !v4 )
    v6 = *(_WORD *)(v5 + 2);
  LOBYTE(v7) = (*(__int64 (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
                 *(_QWORD *)a2,
                 a1 | ((unsigned __int64)v6 << 0x30));
  v8 = *(unsigned __int64 **)(a1 + 0x308);
  for ( i = *(unsigned __int64 **)(a1 + 0x300); i != v8; ++i )
  {
    v7 = *i;
    if ( *i )
    {
      v7 >>= 0x30;
      v10 = (v7 & 0xF000) != 0 ? *i & 0xFFFFFF000000LL : (*i & 0xFFFFFFFFFFFFLL) - 6;
      LOWORD(v7) = v7 & 0xFFF;
      if ( *(_WORD *)(v10 + 2) == (_WORD)v7 )
      {
        if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v11 = sub_140539D80()) )
          v11 = 1;
        if ( *(_WORD *)(v10 + 4) == 2 && v11 || (LOBYTE(v7) = sub_140392020(i), (_BYTE)v7) )
        {
          LOBYTE(v7) = sub_146B5AE10(*i & 0xFFFFFFFFFFFFLL);
          if ( !(_BYTE)v7 )
            LOBYTE(v7) = sub_146B48590(*i & 0xFFFFFFFFFFFFLL, a2);
        }
      }
    }
  }
  return v7;
}

// --- End Function: sub_146B48590 (0x146B48590) ---

// --- Function: sub_146B486E0 (0x146B486E0) ---
unsigned __int64 __fastcall sub_146B486E0(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BF8,
        v4,
        "CEntity::ForEachEntityInReplicationGroup",
        "s_aggregateHierarchyLock",
        1);
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
    v7 = *(_WORD *)(v6 + 2);
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(_QWORD **)(a1 + 0x308);
  for ( i = *(_QWORD **)(a1 + 0x300); i != v8; ++i )
    sub_146B48800(*i & 0xFFFFFFFFFFFFLL, a2);
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B486E0 (0x146B486E0) ---

// --- Function: sub_146B48800 (0x146B48800) ---
void __fastcall sub_146B48800(unsigned __int64 a1, __int64 a2)
{
  char v4; // dl
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax
  _QWORD *v7; // rsi
  _QWORD *i; // rbx

  if ( (*(_DWORD *)(a1 + 0x118) & 0x1010) == 0 )
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B10 + qword_1515B1B18 )
    {
      v4 = 0;
      v5 = a1 - 6;
    }
    else
    {
      v4 = 1;
      v5 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v6 = *(_WORD *)(v5 + 2) | 0x2000;
    if ( !v4 )
      v6 = *(_WORD *)(v5 + 2);
    (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v6 << 0x30));
    v7 = *(_QWORD **)(a1 + 0x308);
    for ( i = *(_QWORD **)(a1 + 0x300); i != v7; ++i )
      sub_146B48800(*i & 0xFFFFFFFFFFFFLL, a2);
  }
}

// --- End Function: sub_146B48800 (0x146B48800) ---

// --- Function: sub_146B488D0 (0x146B488D0) ---
unsigned __int64 __fastcall sub_146B488D0(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BF8,
        v4,
        "CEntity::ForEachEntityInStreamingGroup",
        "s_aggregateHierarchyLock",
        1);
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
    v7 = *(_WORD *)(v6 + 2);
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(_QWORD **)(a1 + 0x308);
  for ( i = *(_QWORD **)(a1 + 0x300); i != v8; ++i )
    sub_146B489F0(*i & 0xFFFFFFFFFFFFLL, a2);
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B488D0 (0x146B488D0) ---

// --- Function: sub_146B489F0 (0x146B489F0) ---
__int64 __fastcall sub_146B489F0(unsigned __int64 a1, __int64 a2)
{
  __int64 result; // rax
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  result = sub_146B5AE10(a1);
  if ( !(_BYTE)result )
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B10 + qword_1515B1B18 )
    {
      v5 = 0;
      v6 = a1 - 6;
    }
    else
    {
      v5 = 1;
      v6 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v7 = *(_WORD *)(v6 + 2) | 0x2000;
    if ( !v5 )
      v7 = *(_WORD *)(v6 + 2);
    result = (*(__int64 (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
               *(_QWORD *)a2,
               a1 | ((unsigned __int64)v7 << 0x30));
    v8 = *(_QWORD **)(a1 + 0x308);
    for ( i = *(_QWORD **)(a1 + 0x300); i != v8; ++i )
      result = sub_146B489F0(*i & 0xFFFFFFFFFFFFLL, a2);
  }
  return result;
}

// --- End Function: sub_146B489F0 (0x146B489F0) ---

// --- Function: CEntity::ForEachInObject (0x146B48AC0) ---
unsigned __int64 __fastcall CEntity::ForEachInObject(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v4, "CEntity::ForEachInObject", "s_aggregateHierarchyLock", 1);
  }
  sub_146B48590(a1, a2);
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: CEntity::ForEachInObject (0x146B48AC0) ---

// --- Function: sub_146B48B40 (0x146B48B40) ---
unsigned __int64 __fastcall sub_146B48B40(__int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v4, "CEntity::ForEachOwnedEntity", "s_aggregateHierarchyLock", 1);
  }
  sub_146B48BC0(a1, a2);
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B48B40 (0x146B48B40) ---

// --- Function: sub_146B48BC0 (0x146B48BC0) ---
unsigned __int64 __fastcall sub_146B48BC0(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  unsigned __int64 *v8; // rsi
  unsigned __int64 *i; // rdi
  unsigned __int64 v10; // rax
  unsigned __int64 v11; // rbx
  unsigned __int64 v12; // rax
  __int64 v13; // rbx
  __int64 v14; // rbx
  bool v15; // al
  unsigned __int64 v17; // [rsp+60h] [rbp+8h] BYREF

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BF8,
        v4,
        "CEntity::ForEachOwnedEntity_Recursive",
        "s_aggregateHierarchyLock",
        1);
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
    v7 = *(_WORD *)(v6 + 2);
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(unsigned __int64 **)(a1 + 0x308);
  for ( i = *(unsigned __int64 **)(a1 + 0x300); i != v8; ++i )
  {
    v10 = *i;
    v17 = v10;
    if ( v10 )
    {
      v11 = v10;
      v12 = HIWORD(v10);
      v13 = v11 & 0xFFFFFFFFFFFFLL;
      v14 = (v12 & 0xF000) != 0 ? v13 & 0xFFFFFF000000LL : v13 - 6;
      if ( *(_WORD *)(v14 + 2) == (v12 & 0xFFF) )
      {
        if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v15 = sub_140539D80()) )
          v15 = 1;
        if ( *(_WORD *)(v14 + 4) == 2 && v15 || sub_140392020(&v17) )
          sub_146B48BC0(v17 & 0xFFFFFFFFFFFFLL, a2);
      }
    }
  }
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B48BC0 (0x146B48BC0) ---

// --- Function: sub_146B48D60 (0x146B48D60) ---
char __fastcall sub_146B48D60(__int64 a1)
{
  __int64 v1; // rdx
  __int64 v2; // rbx
  __int64 *v4; // rdi
  __int64 v5; // rdx

  v1 = *(_QWORD *)(a1 + 0x240);
  v2 = 0;
  if ( !((*(_QWORD *)(a1 + 0x248) - v1) >> 3) )
    return 0;
  while ( 1 )
  {
    v4 = (__int64 *)(v1 + 8 * v2);
    v5 = is_valid_handle_typeA(v4) ? *v4 & 0xFFFFFFFFFFFFLL : 0LL;
    if ( sub_146A38E20(qword_1515B19F0, v5) )
      break;
    v1 = *(_QWORD *)(a1 + 0x240);
    if ( ++v2 >= (unsigned __int64)((*(_QWORD *)(a1 + 0x248) - v1) >> 3) )
      return 0;
  }
  return 1;
}

// --- End Function: sub_146B48D60 (0x146B48D60) ---

// --- Function: sub_146B48EB0 (0x146B48EB0) ---
void __fastcall sub_146B48EB0(__int64 a1, int a2)
{
  __int64 v4; // rax
  __int64 v5; // rax

  if ( a2 > (int)0xFFFFFFFF )
  {
    v4 = sub_146B4E3D0(a1);
    if ( v4 )
      sub_146AF1630(v4, a2, 1, 1u, 1, 1);
  }
  v5 = sub_146B513B0(a1);
  if ( v5 )
    sub_146AB2040(v5, a2);
}

// --- End Function: sub_146B48EB0 (0x146B48EB0) ---

// --- Function: sub_146B48F10 (0x146B48F10) ---
unsigned __int64 __fastcall sub_146B48F10(_QWORD *a1, _QWORD *a2)
{
  signed __int64 v4; // rdx
  signed __int64 v5; // rdx
  __int64 v6; // rbx
  int v7; // esi
  unsigned __int32 v8; // eax
  unsigned __int64 *v9; // rcx
  bool v10; // al
  __int64 v11; // rcx
  char v12; // al
  __int64 v13; // rcx
  __int64 v14; // rax
  __int64 v15; // rax
  double v16; // xmm1_8
  double v17; // xmm0_8
  __int64 v18; // rdx
  __int64 v19; // rax
  unsigned int v20; // ecx
  __int64 v21; // rcx
  int v22; // eax
  unsigned __int32 v23; // eax
  _QWORD v25[2]; // [rsp+60h] [rbp-59h] BYREF
  const void *v26; // [rsp+70h] [rbp-49h]
  __int64 v27[2]; // [rsp+78h] [rbp-41h] BYREF
  const void *v28; // [rsp+88h] [rbp-31h]
  bool v29[8]; // [rsp+90h] [rbp-29h] BYREF
  __int64 v30; // [rsp+98h] [rbp-21h]
  __int64 v31[2]; // [rsp+A0h] [rbp-19h] BYREF
  __int64 v32[2]; // [rsp+B0h] [rbp-9h] BYREF
  __int64 v33[2]; // [rsp+C0h] [rbp+7h] BYREF
  __int64 v34[2]; // [rsp+D0h] [rbp+17h] BYREF
  __int64 v35[2]; // [rsp+E0h] [rbp+27h] BYREF
  __int64 v36[2]; // [rsp+F0h] [rbp+37h] BYREF
  __int64 v37; // [rsp+120h] [rbp+67h] BYREF

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BF8,
        v4,
        "CEntity::GatherBoundsDefiningChildren",
        "s_aggregateHierarchyLock",
        1);
  }
  if ( dword_149AC4BF0 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4BF4;
  }
  else
  {
    v5 = _InterlockedIncrement64(&qword_149AC4BE0);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(
        (__int64)&qword_149AC4BE0,
        v5,
        "CEntity::GatherBoundsDefiningChildren",
        "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
  }
  v6 = a1[0x66];
  v7 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(v6 + 0x10) == v7 )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v8 = _InterlockedCompareExchange((volatile signed __int32 *)v6, 1, 0);
    if ( v8 )
      sub_1403C33A0(v6, v8, "CEntity::GatherBoundsDefiningChildren", 1);
    else
      *(_QWORD *)(v6 + 8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    *(_DWORD *)(v6 + 0x10) = v7;
  }
  v9 = (unsigned __int64 *)a1[0x26];
  v10 = v9 && sub_14030EC00(v9) && *(_DWORD *)(a1[0x26] + 0x10LL) == 5;
  v11 = a1[0x66];
  v29[0] = v10;
  v30 = 0;
  v31[1] = 0;
  v12 = *(_BYTE *)(v11 + 0x94);
  v13 = *(_QWORD *)(v11 + 0xC0);
  LOBYTE(v31[0]) = v12;
  v27[0] = 0;
  v14 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x1F0LL))(v13);
  v28 = 0;
  v27[1] = v14;
  v15 = a1[0x66];
  v35[0] = (__int64)"fEntityCompleteRadius";
  v32[0] = 0;
  v36[0] = (__int64)"fAggregateCompleteRadius";
  v16 = *(double *)(v15 + 0xB0);
  v32[1] = *(_QWORD *)(v15 + 0xB8);
  v34[1] = *(_QWORD *)(v15 + 0xA8);
  *(double *)&v35[1] = *(float *)(v15 + 0x98);
  v17 = *(double *)(v15 + 0x18);
  v37 = a1[2];
  v25[1] = a1[0x53];
  *(double *)&v33[1] = v16;
  *(double *)&v36[1] = v17;
  v33[0] = 0;
  v34[0] = 0;
  v25[0] = 0;
  v26 = 0;
  sub_146B110B0(
    a2,
    "Entity: $$[$$] Aggregate Radius: $$ Entity Radius: $$ Pos: ($$, $$, $$) Zone: $$ bIgnoringForAggregateBounds: $$ Sho"
    "uldUseParentTransform: $$",
    v25,
    &v37,
    (__int64)v36,
    (__int64)v35,
    (__int64)v34,
    (__int64)v33,
    (__int64)v32,
    (__int64)v27,
    (__int64)v31,
    (__int64)v29);
  sub_1402A3D30(v26);
  sub_1402A3D30(v28);
  v18 = a1[0x66];
  v19 = *(unsigned int *)(v18 + 0x28);
  if ( (_DWORD)v19 != 0xFFFFFFFE )
  {
    v20 = v19 + 0x80000000;
    if ( (unsigned int)v19 + 0x80000000 > 0x7FFFFFFD )
    {
      if ( (unsigned int)v19 >= 0x80000000 )
        v19 = v20;
      v21 = *(_QWORD *)(v18 + 0x60);
    }
    else
    {
      if ( (unsigned int)v19 >= 0x80000000 )
        v19 = v20;
      v21 = *(_QWORD *)(v18 + 0x78);
    }
    sub_146B48F10(*(_QWORD **)(v21 + 0x18 * v19), a2);
  }
  v22 = *(_DWORD *)(v6 + 0x14);
  if ( v22 )
  {
    *(_DWORD *)(v6 + 0x14) = v22 - 1;
  }
  else
  {
    *(_DWORD *)(v6 + 0x10) = 0xFFFFFFFF;
    v23 = _InterlockedCompareExchange((volatile signed __int32 *)v6, 0, 1);
    if ( v23 == 1 )
      *(_QWORD *)(v6 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DB1F0(v6, v23);
  }
  sub_1402D2790((__int64)&qword_149AC4BE0);
  return sub_1402D2790((__int64)&qword_149AC4BF8);
}

// --- End Function: sub_146B48F10 (0x146B48F10) ---

// --- Function: sub_146B49710 (0x146B49710) ---
unsigned __int64 *__fastcall sub_146B49710(unsigned __int64 a1, unsigned __int64 *a2)
{
  __int64 v2; // rax
  char v5; // r9
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax

  v2 = *(_QWORD *)(a1 + 0x130);
  if ( v2 )
  {
    *a2 = *(_QWORD *)(v2 + 8);
    return a2;
  }
  else
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v5 = 0;
      v6 = a1 - 6;
    }
    else
    {
      v5 = 1;
      v6 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v7 = *(_WORD *)(v6 + 2) | 0x2000;
    if ( !v5 )
      v7 = *(_WORD *)(v6 + 2);
    *a2 = a1 | ((unsigned __int64)v7 << 0x30);
    return a2;
  }
}

// --- End Function: sub_146B49710 (0x146B49710) ---

// --- Function: sub_146B49780 (0x146B49780) ---
_QWORD *__fastcall sub_146B49780(__int64 a1, _QWORD *a2)
{
  __int64 v3; // rax

  v3 = sub_146B4E3D0(a1);
  if ( v3 )
    sub_146AB26C0(v3, a2);
  else
    *a2 = 0;
  return a2;
}

// --- End Function: sub_146B49780 (0x146B49780) ---

// --- Function: sub_146B497D0 (0x146B497D0) ---
__int64 __fastcall sub_146B497D0(__int64 a1, __int64 a2)
{
  _XMM2 = *(unsigned __int64 *)(*(_QWORD *)(a1 + 0x330) + 0x18LL);
  _XMM1 = _XMM2 ^ xmmword_1481AD540;
  __asm { vmovddup xmm0, xmm1 }
  *(_OWORD *)a2 = _XMM0;
  __asm { vmovddup xmm0, xmm2 }
  *(_OWORD *)(a2 + 0x18) = _XMM0;
  *(double *)(a2 + 0x28) = *(double *)&_XMM2;
  *(double *)(a2 + 0x10) = COERCE_DOUBLE(_XMM2 ^ 0x8000000000000000uLL);
  return a2;
}

// --- End Function: sub_146B497D0 (0x146B497D0) ---

// --- Function: sub_146B49810 (0x146B49810) ---
double __fastcall sub_146B49810(__int64 a1)
{
  return *(double *)(*(_QWORD *)(a1 + 0x330) + 0x18LL);
}

// --- End Function: sub_146B49810 (0x146B49810) ---

// --- Function: sub_146B49830 (0x146B49830) ---
__int64 __fastcall sub_146B49830(__int64 a1, __int64 a2)
{
  _XMM2 = *(unsigned __int64 *)(*(_QWORD *)(a1 + 0x330) + 0x20LL);
  _XMM1 = _XMM2 ^ xmmword_1481AD540;
  __asm { vmovddup xmm0, xmm1 }
  *(_OWORD *)a2 = _XMM0;
  __asm { vmovddup xmm0, xmm2 }
  *(_OWORD *)(a2 + 0x18) = _XMM0;
  *(double *)(a2 + 0x28) = *(double *)&_XMM2;
  *(double *)(a2 + 0x10) = COERCE_DOUBLE(_XMM2 ^ 0x8000000000000000uLL);
  return a2;
}

// --- End Function: sub_146B49830 (0x146B49830) ---

// --- Function: sub_146B49870 (0x146B49870) ---
double __fastcall sub_146B49870(__int64 a1)
{
  return *(double *)(*(_QWORD *)(a1 + 0x330) + 0x20LL);
}

// --- End Function: sub_146B49870 (0x146B49870) ---

// --- Function: sub_146B498F0 (0x146B498F0) ---
__int64 __fastcall sub_146B498F0(__int64 a1)
{
  __int64 v1; // rax
  __int64 result; // rax

  v1 = *(_QWORD *)(a1 + 0x130);
  if ( !v1 )
    return 0;
  if ( *(_DWORD *)(v1 + 0x10) != 7 )
    return 0;
  result = v1 + 0x18;
  if ( !result || *(_BYTE *)(result + 0x120) != 2 )
    return 0;
  return result;
}

// --- End Function: sub_146B498F0 (0x146B498F0) ---

// --- Function: sub_146B49A10 (0x146B49A10) ---
__int64 __fastcall sub_146B49A10(__int64 a1, int a2)
{
  __int64 result; // rax
  __int64 v4; // rdi
  int v5; // ebx
  __int64 v6; // rsi
  int v7; // edx

  result = sub_146B513B0(a1);
  v4 = result;
  if ( result )
  {
    if ( a2 == 0xFFFFFFFF )
    {
      v5 = 0;
      v6 = 0;
      do
      {
        if ( v5 >= (int)sub_146ABEFA0(v4) )
          break;
        v7 = v5++;
        v6 = sub_146AB3260(v4, v7);
      }
      while ( !v6 );
      return v6;
    }
    else
    {
      return sub_146AB3260(result, a2);
    }
  }
  return result;
}

// --- End Function: sub_146B49A10 (0x146B49A10) ---

// --- Function: sub_146B49A90 (0x146B49A90) ---
_QWORD *__fastcall sub_146B49A90(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v3; // rax
  __int64 v4; // rcx
  _QWORD *result; // rax

  v3 = *(_QWORD *)(a1 + 0x130);
  if ( v3 && a3 >= 0 && (v4 = *(_QWORD *)(v3 + 0x1B8), a3 < (int)((*(_QWORD *)(v3 + 0x1C0) - v4) >> 3)) )
  {
    result = a2;
    *a2 = *(_QWORD *)(v4 + 8LL * a3);
  }
  else
  {
    *a2 = 0;
    return a2;
  }
  return result;
}

// --- End Function: sub_146B49A90 (0x146B49A90) ---

// --- Function: sub_146B49AE0 (0x146B49AE0) ---
__int64 __fastcall sub_146B49AE0(__int64 a1)
{
  __int64 v1; // rdx

  v1 = *(_QWORD *)(a1 + 0x130);
  if ( v1 )
    return (__int64)(*(_QWORD *)(v1 + 0x1C0) - *(_QWORD *)(v1 + 0x1B8)) >> 3;
  else
    return 0;
}

// --- End Function: sub_146B49AE0 (0x146B49AE0) ---

// --- Function: sub_146B49B30 (0x146B49B30) ---
bool __fastcall sub_146B49B30(__int64 a1, _QWORD *a2)
{
  __int64 i; // rsi
  unsigned __int64 v4; // rax
  unsigned __int64 v5; // rbx
  unsigned __int64 v6; // rax
  __int64 v7; // rbx
  __int64 v8; // rbx
  bool v9; // al
  __int64 v10; // rax
  const char *String1; // rax
  __int64 v12; // rbx
  __int64 (__fastcall *v13)(__int64, _BYTE *, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v15; // rbx
  __int64 v16; // rax
  __int16 n4; // dx
  __int64 v18; // rax
  _BYTE v20[24]; // [rsp+20h] [rbp-58h] BYREF
  __int16 n0xFFFF_1; // [rsp+80h] [rbp+8h] BYREF
  char v22; // [rsp+88h] [rbp+10h] BYREF
  unsigned __int64 v23; // [rsp+90h] [rbp+18h] BYREF
  __int64 v24; // [rsp+98h] [rbp+20h] BYREF

  for ( i = *(_QWORD *)(a1 + 0x290); i; i = *(_QWORD *)(i + 0x10) )
  {
    v4 = *(_QWORD *)(i + 8);
    v23 = v4;
    if ( v4 )
    {
      v5 = v4;
      v6 = HIWORD(v4);
      v7 = v5 & 0xFFFFFFFFFFFFLL;
      v8 = (v6 & 0xF000) != 0 ? v7 & 0xFFFFFF000000LL : v7 - 6;
      if ( *(_WORD *)(v8 + 2) == (v6 & 0xFFF) )
      {
        if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v9 = sub_140539D80()) )
          v9 = 1;
        if ( *(_WORD *)(v8 + 4) == 2 && v9 || sub_140392020(&v23) )
        {
          v10 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v23 & 0xFFFFFFFFFFFFLL) + 0x20LL))(v23 & 0xFFFFFFFFFFFFLL);
          String1 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x18LL))(v10);
          if ( !_stricmp(String1, "ClipVolume") )
          {
            v12 = v23 & 0xFFFFFFFFFFFFLL;
            v13 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int16 *))(*(_QWORD *)(v23 & 0xFFFFFFFFFFFFLL) + 0x340LL);
            n0xFFFF = n0xFFFF_52;
            if ( n0xFFFF_52 == (__int16)0xFFFF )
            {
              n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                           + 0x10LL))(
                                    qword_149B4FC88,
                                    &v22,
                                    "IClipVolumeProxy");
              n0xFFFF_52 = n0xFFFF;
            }
            n0xFFFF_1 = n0xFFFF;
            v15 = *(_QWORD *)v13(v12, v20, &n0xFFFF_1);
            v24 = v15;
            if ( v15 )
            {
              v16 = sub_1403B4B50(v15 & 0xFFFFFFFFFFFFLL);
              n4 = *(_WORD *)(v16 + 4);
              if ( n4 != 4
                && *(_WORD *)(v16 + 2) == (HIWORD(v15) & 0xFFF)
                && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v24)) )
              {
                v18 = 0;
                while ( a2[v18] )
                {
                  if ( ++v18 >= 2 )
                    goto LABEL_27;
                }
                a2[v18] = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v15 & 0xFFFFFFFFFFFFLL) + 0x578LL))(v15 & 0xFFFFFFFFFFFFLL);
              }
            }
          }
        }
      }
    }
LABEL_27:
    ;
  }
  return *a2 || a2[1];
}

// --- End Function: sub_146B49B30 (0x146B49B30) ---

// --- Function: sub_146B49D80 (0x146B49D80) ---
_QWORD *__fastcall sub_146B49D80(__int64 a1, _QWORD *a2, unsigned __int16 *a3)
{
  if ( *(_BYTE *)(a1 + 0xD) == 7 )
  {
    *a2 = 0;
    return a2;
  }
  else
  {
    sub_146B49DE0(a1, a2, *a3);
    return a2;
  }
}

// --- End Function: sub_146B49D80 (0x146B49D80) ---

// --- Function: sub_146B49DE0 (0x146B49DE0) ---
unsigned __int64 *__fastcall sub_146B49DE0(__int64 a1, unsigned __int64 *a2, unsigned __int64 a3)
{
  unsigned __int64 v4; // r9
  __int64 v5; // r10
  __int64 v7; // r11
  __int64 v8; // rdx
  unsigned __int64 *v9; // rcx
  unsigned __int64 *result; // rax
  __int64 v11; // rcx
  unsigned __int16 *v12; // rdi
  unsigned __int16 *v13; // rbp
  unsigned __int64 v14; // rbx
  __int64 v15; // rax
  __int16 n4; // cx
  unsigned __int64 v17; // [rsp+50h] [rbp+8h] BYREF

  v4 = a3 >> 6;
  v5 = 1LL << (a3 & 0x3F);
  v7 = *(_QWORD *)(a1 + 8 * (a3 >> 6) + 0x140);
  if ( (v7 & v5) != 0 )
  {
    v8 = 0;
    if ( v4 )
    {
      v9 = (unsigned __int64 *)(a1 + 0x140);
      do
      {
        v8 += __popcnt(*v9++);
        --v4;
      }
      while ( v4 );
    }
    result = a2;
    *a2 = *(_QWORD *)(*(_QWORD *)(a1 + 0x258) + 8 * (v8 + __popcnt(v7 & (v5 - 1))));
  }
  else
  {
    v11 = *(_QWORD *)(qword_149B4FC88 + 0x70);
    v12 = *(unsigned __int16 **)(v11 + 0x18 * a3);
    v13 = *(unsigned __int16 **)(v11 + 0x18 * a3 + 8);
    if ( v12 == v13 )
    {
LABEL_14:
      *a2 = 0;
    }
    else
    {
      while ( 1 )
      {
        sub_146B49DE0(a1, &v17, *v12);
        if ( v17 )
        {
          v14 = HIWORD(v17);
          v15 = sub_1403B4B50(v17 & 0xFFFFFFFFFFFFLL);
          n4 = *(_WORD *)(v15 + 4);
          if ( n4 != 4
            && *(_WORD *)(v15 + 2) == (v14 & 0xFFF)
            && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v17)) )
          {
            break;
          }
        }
        if ( ++v12 == v13 )
          goto LABEL_14;
      }
      *a2 = v17;
    }
    return a2;
  }
  return result;
}

// --- End Function: sub_146B49DE0 (0x146B49DE0) ---

// --- Function: sub_146B4A8F0 (0x146B4A8F0) ---
__int64 __fastcall sub_146B4A8F0(__int64 a1)
{
  __int64 result; // rax

  result = *(_QWORD *)(a1 + 0x2E0);
  if ( !result )
    return (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x68LL))(*(_QWORD *)(a1 + 0x20));
  return result;
}

// --- End Function: sub_146B4A8F0 (0x146B4A8F0) ---

// --- Function: sub_146B4B1C0 (0x146B4B1C0) ---
_QWORD *__fastcall sub_146B4B1C0(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v5; // rax

  v5 = sub_146B4E3D0(a1);
  if ( v5 )
    sub_146AB4F70(v5, a2, a3);
  else
    *a2 = 0;
  return a2;
}

// --- End Function: sub_146B4B1C0 (0x146B4B1C0) ---

// --- Function: sub_146B4B3E0 (0x146B4B3E0) ---
void **__fastcall sub_146B4B3E0(unsigned __int64 a1, void **a2)
{
  _BYTE *v4; // rdi
  size_t n0x1FF_1; // rbx
  _BYTE *v6; // rax
  char v7; // dl
  unsigned __int64 v8; // rcx
  unsigned __int16 v9; // ax
  size_t Size; // r8
  char **v11; // rax
  char **v12; // rsi
  const char *p_p_Unknown_1; // rbx
  const char *v14; // rdi
  const char *v15; // rax
  char **v16; // rax
  void *v18; // [rsp+30h] [rbp-D0h] BYREF
  void *p_p_Unknown; // [rsp+38h] [rbp-C8h] BYREF
  unsigned __int64 v20[2]; // [rsp+40h] [rbp-C0h] BYREF
  size_t n0x1FF_2; // [rsp+50h] [rbp-B0h] BYREF
  __int64 n0x1FF; // [rsp+58h] [rbp-A8h]
  void *v23; // [rsp+60h] [rbp-A0h]
  _BYTE v24[520]; // [rsp+68h] [rbp-98h] BYREF

  sub_14035B3E0(&p_p_Unknown);
  sub_14035B3E0(&v18);
  v4 = *(_BYTE **)(a1 + 0x298);
  v23 = v24;
  v24[0] = 0;
  n0x1FF_2 = 0;
  n0x1FF = 0x1FF;
  if ( v4 )
  {
    n0x1FF_1 = 0xFFFFFFFFFFFFFFFFuLL;
    do
      ++n0x1FF_1;
    while ( v4[n0x1FF_1] );
    if ( n0x1FF_1 )
    {
      v6 = v24;
      if ( n0x1FF_1 + 1 > 0x200 )
      {
        v6 = (_BYTE *)allocWithProfilerInfo(n0x1FF_1 + 1, 0);
        qword_149B3AB68 += n0x1FF_1 + 1;
        n0x1FF = n0x1FF_1;
      }
      v23 = v6;
      n0x1FF_2 = n0x1FF_1;
      v6[n0x1FF_1] = 0;
      memcpy(v23, v4, n0x1FF_1);
    }
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v7 = 0;
    v8 = a1 - 6;
  }
  else
  {
    v7 = 1;
    v8 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v9 = *(_WORD *)(v8 + 2) | 0x2000;
  if ( !v7 )
    v9 = *(_WORD *)(v8 + 2);
  v20[0] = a1 | ((unsigned __int64)v9 << 0x30);
  if ( sub_14030EC00(v20) )
  {
    sub_146B4CA40(a1, &p_p_Unknown, &v18);
  }
  else
  {
    Size = 0xFFFFFFFFFFFFFFFFuLL;
    do
      ++Size;
    while ( aUninitialized_1[Size] );
    sub_1402DECA0(&n0x1FF_2, "(uninitialized)", Size);
  }
  sub_14035B3E0(v20);
  v12 = v11;
  p_p_Unknown_1 = (const char *)p_p_Unknown;
  v14 = (const char *)v18;
  v15 = (const char *)(*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x18LL))(*(_QWORD *)(a1 + 0x20));
  v16 = sub_1403A9130(v12, "%s - Class(%s) - Context(%s) - Socpak(%s)", (const char *)v23, v15, v14, p_p_Unknown_1);
  sub_14035B160(a2, (const void **)v16);
  sub_140370D10(v20);
  if ( v23 != v24 )
  {
    qword_149B3AB68 += 0xFFFFFFFFFFFFFFFFuLL - n0x1FF;
    sub_147605980(v23);
  }
  sub_140370D10(&v18);
  sub_140370D10(&p_p_Unknown);
  return a2;
}

// --- End Function: sub_146B4B3E0 (0x146B4B3E0) ---

// --- Function: sub_146B4B810 (0x146B4B810) ---
__int64 __fastcall sub_146B4B810(__int64 a1, int a2)
{
  __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146AB61A0(result, a2);
  return result;
}

// --- End Function: sub_146B4B810 (0x146B4B810) ---

// --- Function: sub_146B4BBE0 (0x146B4BBE0) ---
__int64 __fastcall sub_146B4BBE0(__int64 a1, __int64 a2, unsigned int a3, __int64 a4, unsigned __int8 a5)
{
  __int64 v8; // rax
  __int64 result; // rax

  v8 = sub_146B513B0(a1);
  if ( v8 )
  {
    sub_146ABF0F0(v8, (float *)a2, a3, a4, a5);
    return a2;
  }
  else
  {
    *(_QWORD *)a2 = 0;
    *(_DWORD *)(a2 + 8) = 0;
    *(_QWORD *)(a2 + 0x10) = 0;
    *(_DWORD *)(a2 + 0x18) = 0;
    result = a2;
    *(_DWORD *)(a2 + 0xC) = 0x3F800000;
  }
  return result;
}

// --- End Function: sub_146B4BBE0 (0x146B4BBE0) ---

// --- Function: sub_146B4BC60 (0x146B4BC60) ---
__int64 __fastcall sub_146B4BC60(__int64 a1, unsigned int a2, __int64 a3, __int64 a4)
{
  __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146ABF920(result, a2, a3, a4, 0);
  return result;
}

// --- End Function: sub_146B4BC60 (0x146B4BC60) ---

// --- Function: sub_146B4BDA0 (0x146B4BDA0) ---
__int64 __fastcall sub_146B4BDA0(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x2C8);
}

// --- End Function: sub_146B4BDA0 (0x146B4BDA0) ---

// --- Function: sub_146B4BDE0 (0x146B4BDE0) ---
char __fastcall sub_146B4BDE0(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v4; // rbx
  __int64 v5; // rax
  __int16 n4; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_23;
  if ( n0xFFFF_23 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v9,
                          "IEntityComponentNetwork");
    n0xFFFF_23 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  v4 = *(_QWORD *)v2(a1, &v10, &v8);
  v8 = v4;
  if ( v4
    && (v5 = sub_1403B4B50(v4 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v5 + 4), n4 != 4)
    && *(_WORD *)(v5 + 2) == (HIWORD(v4) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v8)) )
  {
    return (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v4 & 0xFFFFFFFFFFFFLL) + 0x608LL))(v4 & 0xFFFFFFFFFFFFLL);
  }
  else
  {
    return 3;
  }
}

// --- End Function: sub_146B4BDE0 (0x146B4BDE0) ---

// --- Function: sub_146B4BEE0 (0x146B4BEE0) ---
__int64 __fastcall sub_146B4BEE0(__int64 a1, __int64 a2, char a3)
{
  __int64 result; // rax
  float v4; // xmm3_4

  if ( a3 )
  {
    if ( a3 != 1 )
    {
      *(_QWORD *)(a2 + 0xC) = 0;
      *(_DWORD *)(a2 + 0x14) = 0;
      result = a2;
      *(float *)a2 = COERCE_FLOAT(*(_DWORD *)(a2 + 0xC) ^ 0x80000000);
      *(_DWORD *)(a2 + 4) = 0x80000000;
      *(_DWORD *)(a2 + 8) = 0x80000000;
      return result;
    }
    v4 = *(float *)(a1 + 0x11C);
  }
  else
  {
    v4 = *(float *)(a1 + 0x120);
  }
  *(float *)(a2 + 0xC) = v4;
  *(float *)(a2 + 0x10) = v4;
  *(float *)(a2 + 0x14) = v4;
  *(float *)a2 = COERCE_FLOAT(*(_DWORD *)(a2 + 0xC) ^ 0x80000000);
  *(float *)(a2 + 4) = COERCE_FLOAT(LODWORD(v4) ^ 0x80000000);
  *(float *)(a2 + 8) = COERCE_FLOAT(LODWORD(v4) ^ 0x80000000);
  return a2;
}

// --- End Function: sub_146B4BEE0 (0x146B4BEE0) ---

// --- Function: sub_146B4BF70 (0x146B4BF70) ---
__int64 __fastcall sub_146B4BF70(__int64 a1, __int64 a2)
{
  (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2B0) + 0x18LL))(*(_QWORD *)(a1 + 0x2B0));
  return a2;
}

// --- End Function: sub_146B4BF70 (0x146B4BF70) ---

// --- Function: sub_146B4BF90 (0x146B4BF90) ---
__int64 __fastcall sub_146B4BF90(__int64 a1)
{
  return (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2B0) + 0x20LL))(*(_QWORD *)(a1 + 0x2B0));
}

// --- End Function: sub_146B4BF90 (0x146B4BF90) ---

// --- Function: sub_146B4BFA0 (0x146B4BFA0) ---
_QWORD *__fastcall sub_146B4BFA0(__int64 a1, _QWORD *a2)
{
  __int64 v3; // rax

  v3 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2B0) + 0x20LL))(*(_QWORD *)(a1 + 0x2B0));
  if ( v3 )
    (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v3 + 0x18LL))(v3, a2);
  else
    *a2 = 0;
  return a2;
}

// --- End Function: sub_146B4BFA0 (0x146B4BFA0) ---

// --- Function: sub_146B4BFF0 (0x146B4BFF0) ---
__int64 __fastcall sub_146B4BFF0(__int64 a1)
{
  __int64 result; // rax

  result = sub_146B4E3D0(a1);
  if ( result )
    return sub_146ABE200(result);
  return result;
}

// --- End Function: sub_146B4BFF0 (0x146B4BFF0) ---

// --- Function: sub_146B4C010 (0x146B4C010) ---
__int64 *__fastcall sub_146B4C010(__int64 a1, __int64 *a2)
{
  __int64 v2; // rcx

  v2 = *(_QWORD *)(a1 + 0x138);
  *a2 = v2;
  if ( v2 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v2 + 8LL))(v2);
  return a2;
}

// --- End Function: sub_146B4C010 (0x146B4C010) ---

// --- Function: sub_146B4C040 (0x146B4C040) ---
unsigned __int64 __fastcall sub_146B4C040(__int64 a1, __int64 a2, __int64 a3)
{
  unsigned __int64 v6; // r8
  unsigned __int64 result; // rax
  __int64 v8; // r15
  __int64 v9; // r14
  char *v10; // rsi
  __int64 *v11; // rsi
  __int64 *i; // rbx
  __int64 v13; // [rsp+40h] [rbp+8h] BYREF

  v6 = (__int64)(*(_QWORD *)(a1 + 0x248) - *(_QWORD *)(a1 + 0x240)) >> 3;
  result = (__int64)(*(_QWORD *)(a3 + 0x10) - *(_QWORD *)a3) >> 3;
  if ( v6 > result )
  {
    if ( v6 > 0x1FFFFFFFFFFFFFFFLL )
      unknown_libname_10();
    v8 = 8 * v6;
    v9 = (__int64)(*(_QWORD *)(a3 + 8) - *(_QWORD *)a3) >> 3;
    v10 = (char *)sub_140391AB0(a3, 8 * v6);
    memmove(v10, *(const void **)a3, *(_QWORD *)(a3 + 8) - *(_QWORD *)a3);
    if ( *(_QWORD *)a3 )
      sub_1403A3120(a3, *(const void **)a3, (*(_QWORD *)(a3 + 0x10) - *(_QWORD *)a3) & 0xFFFFFFFFFFFFFFF8uLL);
    *(_QWORD *)a3 = v10;
    *(_QWORD *)(a3 + 8) = &v10[8 * v9];
    result = (unsigned __int64)&v10[v8];
    *(_QWORD *)(a3 + 0x10) = &v10[v8];
  }
  v11 = *(__int64 **)(a1 + 0x248);
  for ( i = *(__int64 **)(a1 + 0x240); i != v11; ++i )
  {
    result = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(*i & 0xFFFFFFFFFFFFLL) + 8LL))(
               *i & 0xFFFFFFFFFFFFLL,
               a2);
    if ( (_BYTE)result )
    {
      v13 = *i;
      result = (unsigned __int64)sub_1402A6620(a3, &v13);
    }
  }
  return result;
}

// --- End Function: sub_146B4C040 (0x146B4C040) ---

// --- Function: sub_146B4C170 (0x146B4C170) ---
__int64 __fastcall sub_146B4C170(__int64 a1, __int64 a2)
{
  unsigned __int64 *v4; // rcx
  __int64 v5; // rax
  __int64 result; // rax
  _BYTE v7[56]; // [rsp+20h] [rbp-38h] BYREF

  while ( 1 )
  {
    v4 = *(unsigned __int64 **)(a1 + 0x130);
    if ( !v4 )
      break;
    if ( !sub_14030EC00(v4) )
      break;
    v5 = *(_QWORD *)(a1 + 0x130);
    if ( *(_DWORD *)(v5 + 0x10) != 5 )
      break;
    a1 = *(_QWORD *)v5 & 0xFFFFFFFFFFFFLL;
  }
  result = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x2D0LL))(
             qword_149B4FBE8,
             v7,
             a1 + 0x2A8,
             3);
  *(__m256i *)a2 = *(__m256i *)result;
  *(_OWORD *)(a2 + 0x20) = *(_OWORD *)(result + 0x20);
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_146B4C170 (0x146B4C170) ---

// --- Function: sub_146B4C270 (0x146B4C270) ---
__int64 __fastcall sub_146B4C270(__int64 a1, __int64 a2)
{
  __int64 v2; // r8
  __int64 result; // rax

  v2 = *(_QWORD *)(a1 + 0x130);
  if ( v2 )
  {
    *(_QWORD *)(a2 + 0x18) = *(_QWORD *)(v2 + 0x168);
    *(_QWORD *)a2 = *(_QWORD *)(v2 + 0x150);
    *(_QWORD *)(a2 + 8) = *(_QWORD *)(v2 + 0x158);
    *(_QWORD *)(a2 + 0x10) = *(_QWORD *)(v2 + 0x160);
    *(_OWORD *)(a2 + 0x20) = *(_OWORD *)(v2 + 0x170);
    *(double *)(a2 + 0x30) = *(double *)(v2 + 0x180);
    *(_QWORD *)(a2 + 0x38) = *(_QWORD *)(v2 + 0x188);
    return a2;
  }
  else
  {
    *(_QWORD *)a2 = 0;
    *(_QWORD *)(a2 + 8) = 0;
    *(_QWORD *)(a2 + 0x10) = 0;
    *(_QWORD *)(a2 + 0x18) = 0x3FF0000000000000LL;
    *(_QWORD *)(a2 + 0x20) = 0;
    *(_QWORD *)(a2 + 0x28) = 0;
    *(_QWORD *)(a2 + 0x30) = 0;
    result = a2;
    *(_QWORD *)(a2 + 0x38) = 0x3FF0000000000000LL;
  }
  return result;
}

// --- End Function: sub_146B4C270 (0x146B4C270) ---

// --- Function: sub_146B4C310 (0x146B4C310) ---
unsigned __int64 *__fastcall sub_146B4C310(unsigned __int64 a1, unsigned __int64 *a2, unsigned __int16 *a3)
{
  unsigned __int64 v6; // rbx
  unsigned __int64 v7; // rbp
  __int64 v8; // rax
  __int16 n4; // dx
  __int64 v10; // rcx
  __int64 v11; // r9
  __int64 v12; // rcx
  bool v13; // cf
  unsigned __int16 v15; // [rsp+40h] [rbp-38h] BYREF
  _QWORD v16[2]; // [rsp+48h] [rbp-30h] BYREF
  int v17; // [rsp+58h] [rbp-20h]
  unsigned __int64 v18; // [rsp+80h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) != 7
    && (sub_146B49DE0(a1, &v18, *a3), (v6 = v18) != 0)
    && (v7 = v18 & 0xFFFFFFFFFFFFLL, v8 = sub_1403B4B50(v18 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v8 + 4), n4 != 4)
    && *(_WORD *)(v8 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v18))
    && v7 )
  {
    *a2 = v6;
  }
  else
  {
    v10 = *(_QWORD *)(a1 + 0x2D0);
    if ( !v10 || (v11 = *(_QWORD *)(v10 + 8), v12 = *(_QWORD *)(v10 + 0x10), v11 == v12) )
    {
LABEL_14:
      v15 = 0xFFFF;
      sub_14036F120((__int64)v16);
      v15 = *a3;
      v13 = *(_BYTE *)(a1 + 0xD) < 2u;
      v17 = 0;
      sub_146A2A8D0(*(_QWORD *)(qword_1515B19E8 + 0x7E0), &v18, a1, &v15, 0, (__int64)v16, !v13);
      if ( v16[0] )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)(v16[0] + 8LL) + 0x10LL))(v16[0] + 8LL);
    }
    else
    {
      while ( *(_WORD *)v11 != *a3 )
      {
        v11 += 0x20;
        if ( v11 == v12 )
          goto LABEL_14;
      }
      sub_146A2A8D0(
        *(_QWORD *)(qword_1515B19E8 + 0x7E0),
        &v18,
        a1,
        (unsigned __int16 *)v11,
        *(_DWORD *)(v11 + 0x18),
        v11 + 8,
        *(_BYTE *)(a1 + 0xD) >= 2u);
    }
    *a2 = v18;
  }
  return a2;
}

// --- End Function: sub_146B4C310 (0x146B4C310) ---

// --- Function: sub_146B4CA40 (0x146B4CA40) ---
char __fastcall sub_146B4CA40(__int64 a1, void **p_p_Unknown, void **a3)
{
  int v6; // eax
  bool v7; // r12
  __int64 v9; // rbx
  __int64 (__fastcall *v10)(__int64, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v12; // rbx
  __int64 v13; // r8
  __int16 n4; // dx
  _BYTE *v15; // rax
  const char *p_%s_Movable; // rdx
  __int64 (__fastcall *v17)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_1; // ax
  __int64 v19; // rbx
  __int64 v20; // rax
  __int16 n4_1; // r8
  _BYTE *v22; // rax
  __int64 (__fastcall *v23)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_4; // ax
  bool valid; // al
  const char *p_Movable; // r8
  __int64 (__fastcall *v27)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_2; // ax
  __int64 v29; // rdi
  __int64 (__fastcall *v30)(__int64, _QWORD); // rbx
  unsigned int v31; // eax
  _BYTE *v32; // rax
  const char *p_Unstreamable; // r8
  __int64 (__fastcall *v34)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_3; // ax
  __int64 v36; // rbx
  __int64 v37; // r8
  __int16 n4_2; // dx
  __int64 v39; // rax
  const char *p_Unstreamable_1; // r8
  _BYTE v41[16]; // [rsp+20h] [rbp-20h] BYREF
  __int64 v42; // [rsp+70h] [rbp+30h] BYREF
  __int64 v43; // [rsp+88h] [rbp+48h] BYREF

  assignCStringToStringStructure(p_p_Unknown, &p_p_p_p_p_p_p_p_p_p_p_Source);
  assignCStringToStringStructure(a3, &p_p_p_p_p_p_p_p_p_p_p_Source);
  v6 = *(_DWORD *)(a1 + 0x118);
  v7 = (v6 & 0x2000) != 0;
  if ( (_BYTE)qword_149B501D6 && (v6 & 1) != 0 )
  {
    assignCStringToStringStructure(a3, "Placed editor object");
    return 1;
  }
  v42 = *(_QWORD *)(a1 + 0x18);
  if ( sub_14030EC00((unsigned __int64 *)&v42) )
  {
    v9 = *(_QWORD *)(a1 + 0x18) & 0xFFFFFFFFFFFFLL;
    v10 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)v9 + 0x340LL);
    n0xFFFF = n0xFFFF_33;
    if ( n0xFFFF_33 == (__int16)0xFFFF )
    {
      n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                      + 0x10LL))(
                            qword_149B4FC88,
                            &v43,
                            "IEntityComponentObjectContainer");
      n0xFFFF_33 = n0xFFFF;
    }
    LOWORD(v42) = n0xFFFF;
    v12 = *(_QWORD *)v10(v9, v41, &v42);
    v42 = v12;
    if ( v12 )
    {
      v13 = sub_1403B4B50(v12 & 0xFFFFFFFFFFFFLL);
      n4 = *(_WORD *)(v13 + 4);
      if ( n4 != 4
        && *(_WORD *)(v13 + 2) == (HIWORD(v12) & 0xFFF)
        && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v42)) )
      {
        v15 = (_BYTE *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v12 & 0xFFFFFFFFFFFFLL) + 0x578LL))(v12 & 0xFFFFFFFFFFFFLL);
        assignCStringToStringStructure(p_p_Unknown, v15);
        p_%s_Movable = "%s Immovable";
LABEL_33:
        p_Unstreamable = "Streamable";
        if ( v7 )
          p_Unstreamable = "Unstreamable";
        sub_1403A9130((char **)a3, p_%s_Movable, p_Unstreamable);
        return !sub_1403BFA30(p_p_Unknown);
      }
    }
  }
  else
  {
    v17 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
    n0xFFFF_1 = n0xFFFF_33;
    if ( n0xFFFF_33 == (__int16)0xFFFF )
    {
      n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                        + 0x10LL))(
                              qword_149B4FC88,
                              &v43,
                              "IEntityComponentObjectContainer");
      n0xFFFF_33 = n0xFFFF_1;
    }
    LOWORD(v42) = n0xFFFF_1;
    v19 = *(_QWORD *)v17(a1, v41, &v42);
    v42 = v19;
    if ( v19 )
    {
      v20 = sub_1403B4B50(v19 & 0xFFFFFFFFFFFFLL);
      n4_1 = *(_WORD *)(v20 + 4);
      if ( n4_1 != 4
        && *(_WORD *)(v20 + 2) == (HIWORD(v19) & 0xFFF)
        && (n4_1 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v42)) )
      {
        v22 = (_BYTE *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v19 & 0xFFFFFFFFFFFFLL) + 0x578LL))(v19 & 0xFFFFFFFFFFFFLL);
        assignCStringToStringStructure(p_p_Unknown, v22);
        if ( v7 )
        {
          assignCStringToStringStructure(a3, "Unstreamable Immovable");
          return !sub_1403BFA30(p_p_Unknown);
        }
        v23 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
        n0xFFFF_4 = n0xFFFF_53;
        if ( n0xFFFF_53 == (__int16)0xFFFF )
        {
          n0xFFFF_4 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                            + 0x10LL))(
                                  qword_149B4FC88,
                                  &v43,
                                  "EntityComponentDynamicInstanceProperties");
          n0xFFFF_53 = n0xFFFF_4;
        }
        LOWORD(v42) = n0xFFFF_4;
        v42 = *(_QWORD *)v23(a1, v41, &v42);
        valid = is_valid_handle_typeA(&v42);
        p_Movable = "Immovable";
        if ( valid )
          p_Movable = "Movable";
        sub_1403A9130((char **)a3, "Streamable %s", p_Movable);
        return !sub_1403BFA30(p_p_Unknown);
      }
    }
    v27 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
    n0xFFFF_2 = n0xFFFF_53;
    if ( n0xFFFF_53 == (__int16)0xFFFF )
    {
      n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                        + 0x10LL))(
                              qword_149B4FC88,
                              &v43,
                              "EntityComponentDynamicInstanceProperties");
      n0xFFFF_53 = n0xFFFF_2;
    }
    LOWORD(v42) = n0xFFFF_2;
    v43 = *(_QWORD *)v27(a1, v41, &v42);
    v42 = v43;
    if ( is_valid_handle_typeA(&v42) )
    {
      v29 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FCA0 + 0x258LL))(qword_149B4FCA0);
      v30 = *(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v29 + 0xF8LL);
      v31 = sub_1403B6340(v43 & 0xFFFFFFFFFFFFLL);
      v32 = (_BYTE *)v30(v29, v31);
      assignCStringToStringStructure(p_p_Unknown, v32);
      p_%s_Movable = "%s Movable";
      goto LABEL_33;
    }
    v34 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
    n0xFFFF_3 = n0xFFFF_6;
    if ( n0xFFFF_6 == (__int16)0xFFFF )
    {
      n0xFFFF_3 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                        + 0x10LL))(
                              qword_149B4FC88,
                              &v43,
                              "IAttachableComponent");
      n0xFFFF_6 = n0xFFFF_3;
    }
    LOWORD(v42) = n0xFFFF_3;
    v36 = *(_QWORD *)v34(a1, v41, &v42);
    v42 = v36;
    if ( v36 )
    {
      v37 = sub_1403B4B50(v36 & 0xFFFFFFFFFFFFLL);
      n4_2 = *(_WORD *)(v37 + 4);
      if ( n4_2 != 4
        && *(_WORD *)(v37 + 2) == (HIWORD(v36) & 0xFFF)
        && (n4_2 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v42)) )
      {
        v39 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v36 & 0xFFFFFFFFFFFFLL) + 0x608LL))(v36 & 0xFFFFFFFFFFFFLL);
        if ( v39 )
        {
          v42 = *(_QWORD *)((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v39 + 0xD0LL))(v39) + 8);
          if ( sub_14030EC00((unsigned __int64 *)&v42) )
            return sub_146B4CA40(v42 & 0xFFFFFFFFFFFFLL, p_p_Unknown, a3);
        }
      }
    }
    p_Unstreamable_1 = "Streamable";
    if ( v7 )
      p_Unstreamable_1 = "Unstreamable";
    sub_1403A9130((char **)a3, "%s Runtime-spawned", p_Unstreamable_1);
  }
  return 0;
}

// --- End Function: sub_146B4CA40 (0x146B4CA40) ---

// --- Function: sub_146B4D040 (0x146B4D040) ---
__int64 __fastcall sub_146B4D040(__int64 a1, __int64 a2)
{
  __int64 (__fastcall *v4)(__int64, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 v7; // rax
  __int16 n4; // dx
  _BYTE v10[24]; // [rsp+20h] [rbp-18h] BYREF
  __int64 v11; // [rsp+40h] [rbp+8h] BYREF
  char v12; // [rsp+58h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v12,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v11) = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v10, &v11);
  v11 = v6;
  if ( v6
    && (v7 = sub_1403B4B50(v6 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v7 + 4), n4 != 4)
    && *(_WORD *)(v7 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v11)) )
  {
    return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x700LL))(
             v6 & 0xFFFFFFFFFFFFLL,
             a2);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_146B4D040 (0x146B4D040) ---

// --- Function: sub_146B4D140 (0x146B4D140) ---
_QWORD *__fastcall sub_146B4D140(__int64 a1, _QWORD *a2)
{
  _QWORD *v2; // rax

  v2 = *(_QWORD **)(a1 + 0x130);
  if ( v2 )
    *a2 = *v2;
  else
    *a2 = 0;
  return a2;
}

// --- End Function: sub_146B4D140 (0x146B4D140) ---

// --- Function: sub_146B4D170 (0x146B4D170) ---
_QWORD *__fastcall sub_146B4D170(__int64 a1, _QWORD *a2, int n2, char a4, char a5)
{
  unsigned __int64 *v7; // rcx
  __int64 v11; // rcx
  __int64 *v12; // rbx
  int n7; // eax
  __int64 v14; // rax
  __int64 v15; // rbx
  __int64 v16; // r15
  __int64 v17; // rax
  __int64 v18; // rax
  __int64 v19; // rdx
  float v20; // xmm15_4
  float v21; // xmm11_4
  float v22; // xmm7_4
  float v23; // xmm10_4
  double v24; // xmm0_8
  __int16 v25; // r8
  float *v26; // rax
  float v27; // xmm14_4
  float v28; // xmm13_4
  float v29; // xmm12_4
  float v30; // xmm8_4
  float v31; // xmm6_4
  float v32; // xmm5_4
  float v33; // kr00_4
  float v34; // xmm1_4
  float v35; // xmm9_4
  float v36; // kr00_4
  float v37; // xmm5_4
  float v38; // xmm0_4
  float v39; // xmm7_4
  float v40; // xmm11_4
  float v41; // kr00_4
  float v42; // xmm6_4
  float v43; // xmm3_4
  float v44; // xmm5_4
  float v45; // xmm4_4
  float v46; // xmm2_4
  double v47; // xmm13_8
  double v48; // xmm12_8
  double v49; // xmm4_8
  double v50; // xmm7_8
  double v51; // xmm5_8
  double v52; // xmm0_8
  double v53; // xmm4_8
  double v54; // xmm3_8
  double v55; // xmm8_8
  double v56; // xmm15_8
  double v57; // xmm6_8
  double v58; // xmm5_8
  double v59; // xmm9_8
  double v60; // xmm2_8
  double v61; // xmm11_8
  double v62; // xmm10_8
  double v63; // xmm13_8
  double v64; // xmm14_8
  double v65; // xmm8_8
  double v66; // xmm9_8
  double v67; // xmm10_8
  __int64 v68; // rcx
  int v69; // ebx
  __int64 v70; // rax
  __int64 v71; // rax
  float *v72; // rax
  float v73; // xmm9_4
  float v74; // xmm10_4
  float v75; // xmm11_4
  float v76; // xmm1_4
  __m128 v77; // xmm2
  float v78; // xmm3_4
  float v79; // xmm5_4
  float v80; // xmm6_4
  float v81; // xmm7_4
  float v82; // xmm8_4
  float v83; // xmm12_4
  float v84; // xmm13_4
  __m128 v85; // kr00_16
  __m128 v86; // xmm3
  float v87; // xmm0_4
  __m128 v88; // kr00_16
  __m128 v89; // xmm3
  __m128 v90; // kr00_16
  __m128 v91; // xmm4
  float v92; // xmm2_4
  float v93; // xmm1_4
  __m128 v94; // kr00_16
  __m128 v95; // xmm4
  double v96; // xmm13_8
  double v97; // xmm14_8
  double v98; // xmm4_8
  double v99; // xmm7_8
  double v100; // xmm12_8
  double v101; // xmm6_8
  double v102; // xmm5_8
  double v103; // xmm8_8
  double v104; // xmm4_8
  double v105; // xmm3_8
  double v106; // xmm4_8
  double v107; // xmm7_8
  double v108; // xmm5_8
  double v109; // xmm3_8
  double v110; // xmm6_8
  double v111; // xmm11_8
  double v112; // xmm12_8
  double v113; // xmm7_8
  double v114; // xmm15_8
  double v115; // xmm0_8
  double v116; // xmm4_8
  double v117; // xmm9_8
  double v118; // xmm3_8
  double v119; // xmm10_8
  double v120; // xmm13_8
  __int64 v121; // rbx
  float *v122; // rax
  double v123; // xmm14_8
  float v124; // xmm13_4
  double v125; // xmm4_8
  double v126; // xmm6_8
  double v127; // xmm12_8
  double v128; // xmm7_8
  double v129; // xmm5_8
  float v130; // xmm9_4
  double v131; // xmm4_8
  double v132; // xmm8_8
  double v133; // xmm12_8
  double v134; // xmm6_8
  double v135; // xmm5_8
  double v136; // xmm9_8
  double v137; // xmm13_8
  double v138; // xmm7_8
  double v139; // xmm11_8
  double v140; // xmm10_8
  double v141; // kr00_8
  double v142; // xmm3_8
  double v143; // xmm13_8
  double *v144; // rax
  double v145; // xmm12_8
  double v146; // xmm7_8
  double v147; // xmm4_8
  double v148; // xmm6_8
  double v149; // kr00_8
  double v150; // xmm4_8
  double v151; // xmm7_8
  double v152; // xmm0_8
  double v153; // xmm8_8
  double v154; // xmm10_8
  double v155; // xmm2_8
  double v156; // xmm9_8
  double v157; // xmm14_8
  double v158; // xmm3_8
  double v159; // xmm15_8
  double v160; // xmm12_8
  double v161; // xmm7_8
  double v162; // xmm4_8
  double v163; // xmm2_8
  __int64 v164; // rax
  __int64 v165; // rax
  double v166; // xmm0_8
  double v167; // xmm1_8
  _QWORD *result; // rax
  __m256 v169; // [rsp+30h] [rbp-D0h] BYREF
  __int128 v170; // [rsp+50h] [rbp-B0h]
  double v171; // [rsp+60h] [rbp-A0h]
  double v172; // [rsp+68h] [rbp-98h]
  double v173; // [rsp+70h] [rbp-90h]
  double v174; // [rsp+78h] [rbp-88h]
  float v175; // [rsp+80h] [rbp-80h]
  float v176; // [rsp+84h] [rbp-7Ch]
  double v177; // [rsp+88h] [rbp-78h]
  double v178; // [rsp+90h] [rbp-70h]
  double v179; // [rsp+98h] [rbp-68h]
  double v180; // [rsp+A0h] [rbp-60h]
  _BYTE v181[16]; // [rsp+A8h] [rbp-58h] BYREF
  double v182; // [rsp+B8h] [rbp-48h]
  float v183; // [rsp+C0h] [rbp-40h]
  float v184; // [rsp+1C0h] [rbp+C0h]
  double v185; // [rsp+1C0h] [rbp+C0h]
  float v186; // [rsp+1C0h] [rbp+C0h]

  v7 = *(unsigned __int64 **)(a1 + 0x130);
  if ( !v7 || !sub_14030EC00(v7) )
  {
    *a2 = 0;
    a2[1] = 0;
    a2[2] = 0;
    a2[3] = 0x3FF0000000000000LL;
    a2[4] = 0;
    a2[5] = 0;
    a2[6] = 0;
    result = a2;
    a2[7] = 0x3FF0000000000000LL;
    goto LABEL_44;
  }
  v11 = **(_QWORD **)(a1 + 0x130) & 0xFFFFFFFFFFFFLL;
  if ( *(_QWORD *)(v11 + 0x4C8) != *(_QWORD *)(a1 + 0x4C8) )
    a5 = 1;
  sub_146B52280(v11, (unsigned int)&v169, 0, dword_149B4FDFC, 0, a5);
  v12 = *(__int64 **)(a1 + 0x130);
  n7 = *((_DWORD *)v12 + 4);
  switch ( n7 )
  {
    case 3:
      v14 = sub_146B49A10(*v12 & 0xFFFFFFFFFFFFLL, *((_DWORD *)v12 + 0x51));
      v15 = v14;
      if ( v14 && *(_WORD *)(*(_QWORD *)(a1 + 0x130) + 0x148LL) != 0xFFFF )
      {
        v16 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v14 + 0x68LL))(v14);
        v17 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x28LL))(v15);
        v18 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v17 + 0x148LL))(
                v17,
                (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x130) + 0x148LL));
        v19 = *(_QWORD *)(a1 + 0x130);
        v20 = *(float *)(v18 + 0xC);
        v21 = *(float *)v18;
        v22 = *(float *)(v18 + 4);
        v23 = *(float *)(v18 + 8);
        v24 = *(double *)(v18 + 0x10);
        v25 = *(_WORD *)(v19 + 0x14A);
        v183 = *(float *)(v18 + 0x18);
        *(float *)&v174 = v20;
        *(float *)&v178 = v21;
        v184 = v22;
        *(float *)&v179 = v23;
        v175 = v23;
        v176 = v22;
        *(float *)&v180 = v21;
        *(float *)&v173 = v20;
        v182 = v24;
        if ( v25 < 0 )
        {
          v46 = v183;
          v45 = *((float *)&v182 + 1);
          v44 = *(float *)&v182;
        }
        else
        {
          v26 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v16 + 0x90LL))(
                           v16,
                           *(unsigned __int16 *)(v19 + 0x148));
          v27 = v26[6];
          v28 = v26[5];
          v29 = v26[4];
          v30 = v26[2];
          v31 = (float)((float)(v27 * v22) - (float)(v28 * v23)) + (float)(v29 * v20);
          v32 = (float)((float)(v29 * v23) - (float)(v21 * v27)) + (float)(v28 * v20);
          v33 = (float)((float)(v21 * v28) - (float)(v29 * v22)) + (float)(v27 * v20);
          v34 = v33 * v21;
          v35 = (float)(v33 * v22) - (float)(v32 * v23);
          v36 = v32 * v21;
          v37 = v26[3];
          v38 = v31 * v22;
          v39 = v26[1];
          v40 = v36 - v38;
          v41 = v31 * v23;
          v42 = *v26;
          *(float *)&v180 = (float)((float)((float)(v30 * v184) - (float)(v39 * *(float *)&v179)) + (float)(*v26 * v20))
                          + (float)(v37 * *(float *)&v178);
          v176 = (float)((float)((float)(v42 * *(float *)&v179) - (float)(v30 * *(float *)&v178)) + (float)(v39 * v20))
               + (float)(v37 * v184);
          v175 = (float)((float)((float)(v39 * *(float *)&v178) - (float)(v42 * v184)) + (float)(v30 * v20))
               + (float)(v37 * *(float *)&v179);
          v43 = (float)((float)((float)(v37 * v20) - (float)(v42 * *(float *)&v178)) - (float)(v39 * v184))
              - (float)(v30 * *(float *)&v179);
          v44 = (float)((float)(v35 + v29) + *(float *)&v182) + v35;
          v45 = (float)((float)((float)(v41 - v34) + v28) + *((float *)&v182 + 1)) + (float)(v41 - v34);
          v23 = v175;
          v46 = (float)((float)(v40 + v27) + v183) + v40;
          v21 = *(float *)&v180;
          *(float *)&v174 = v43;
          v184 = v176;
          *(float *)&v173 = v43;
        }
        v47 = *(double *)v169.m256_f32;
        v48 = v44;
        v49 = v45;
        v50 = v46 * *(double *)&v169.m256_f32[2]
            - v49 * *(double *)&v169.m256_f32[4]
            + v44 * *(double *)&v169.m256_f32[6];
        v51 = v44 * *(double *)&v169.m256_f32[4] - v46 * *(double *)v169.m256_f32 + v49 * *(double *)&v169.m256_f32[6];
        v52 = v51 * *(double *)&v169.m256_f32[4];
        v179 = v49;
        v53 = v49 * *(double *)v169.m256_f32 - v48 * *(double *)&v169.m256_f32[2] + v46 * *(double *)&v169.m256_f32[6];
        v54 = v53 * *(double *)&v169.m256_f32[2];
        v174 = *(float *)&v174;
        v55 = v21;
        v178 = v46;
        v177 = v23;
        v56 = v23 * *(double *)&v169.m256_f32[4];
        v57 = (v50 * *(double *)&v169.m256_f32[4]
             - v53 * *(double *)v169.m256_f32
             + v179
             + v50 * *(double *)&v169.m256_f32[4]
             - v53 * *(double *)v169.m256_f32)
            * v172
            + *((double *)&v170 + 1);
        v58 = (v51 * *(double *)v169.m256_f32
             - v50 * *(double *)&v169.m256_f32[2]
             + v46
             + v51 * *(double *)v169.m256_f32
             - v50 * *(double *)&v169.m256_f32[2])
            * v172
            + v171;
        v59 = v184;
        v185 = v172;
        v60 = v21 * *(double *)&v169.m256_f32[4] - v23 * *(double *)v169.m256_f32;
        *(double *)v169.m256_f32 = v175 * *(double *)&v169.m256_f32[2]
                                 - v176 * *(double *)&v169.m256_f32[4]
                                 + *(float *)&v180 * *(double *)&v169.m256_f32[6]
                                 + *(float *)&v173 * *(double *)v169.m256_f32;
        v61 = v59 * v47;
        v62 = v55 * *(double *)&v169.m256_f32[2];
        v63 = v55 * v47;
        v64 = v59 * *(double *)&v169.m256_f32[2];
        v65 = v60 + v59 * *(double *)&v169.m256_f32[6] + v174 * *(double *)&v169.m256_f32[2];
        v66 = v61 - v62 + *(double *)&v169.m256_f32[6] * v177 + v174 * *(double *)&v169.m256_f32[4];
        v67 = v174 * *(double *)&v169.m256_f32[6] - v63 - v64 - v56;
        *(double *)&v169.m256_f32[6] = v67;
        *(double *)&v169.m256_f32[2] = v65;
        *(double *)&v169.m256_f32[4] = v66;
        *(double *)&v170 = (v48 + v54 - v52 + v54 - v52) * v172 + *(double *)&v170;
        *((double *)&v170 + 1) = v57;
        v171 = v58;
LABEL_35:
        if ( a4 )
        {
          v143 = *(double *)v169.m256_f32;
          v144 = (double *)(*(_QWORD *)(a1 + 0x130) + 0x150LL);
          v145 = *(double *)(*(_QWORD *)(a1 + 0x130) + 0x170LL);
          v146 = *(double *)(*(_QWORD *)(a1 + 0x130) + 0x180LL);
          v147 = *(double *)(*(_QWORD *)(a1 + 0x130) + 0x178LL);
          v148 = v146 * v65 - v147 * v66 + v145 * v67;
          v149 = v145 * v66 - v146 * *(double *)v169.m256_f32 + v147 * v67;
          v150 = v147 * *(double *)v169.m256_f32 - v145 * v65 + v146 * v67;
          v151 = v150 * v65 - v149 * v66;
          v152 = v148 * v65;
          v153 = *v144;
          v154 = *v144 * *(double *)&v169.m256_f32[2];
          v155 = v148 * v66;
          v156 = *(double *)(*(_QWORD *)(a1 + 0x130) + 0x158LL);
          v157 = v156 * *(double *)&v169.m256_f32[2];
          v158 = *(double *)(*(_QWORD *)(a1 + 0x130) + 0x160LL);
          v159 = v158 * *(double *)&v169.m256_f32[4];
          v177 = *(double *)(*(_QWORD *)(a1 + 0x130) + 0x168LL);
          v160 = (v145 + v151 + v151) * v185 + *(double *)&v170;
          v161 = (v155 - v150 * *(double *)v169.m256_f32 + v144[5] + v155 - v150 * *(double *)v169.m256_f32) * v185
               + *((double *)&v170 + 1);
          v162 = (v149 * *(double *)v169.m256_f32 - v152 + v144[6] + v149 * *(double *)v169.m256_f32 - v152) * v185
               + v171;
          v185 = v185 * v144[7];
          v173 = v158;
          v163 = v153 * *(double *)&v169.m256_f32[4] - v158 * *(double *)v169.m256_f32;
          *(double *)v169.m256_f32 = v158 * *(double *)&v169.m256_f32[2]
                                   - v156 * *(double *)&v169.m256_f32[4]
                                   + v153 * *(double *)&v169.m256_f32[6]
                                   + v177 * *(double *)v169.m256_f32;
          *(double *)&v169.m256_f32[2] = v163
                                       + v156 * *(double *)&v169.m256_f32[6]
                                       + v177 * *(double *)&v169.m256_f32[2];
          *(double *)&v169.m256_f32[4] = v156 * v143
                                       - v154
                                       + *(double *)&v169.m256_f32[6] * v158
                                       + v177 * *(double *)&v169.m256_f32[4];
          *(double *)&v169.m256_f32[6] = v177 * *(double *)&v169.m256_f32[6] - v153 * v143 - v157 - v159;
          v172 = v185;
          *(double *)&v170 = v160;
          *((double *)&v170 + 1) = v161;
          v171 = v162;
        }
        goto LABEL_38;
      }
      goto LABEL_34;
    case 2:
      v68 = *v12;
      v69 = *((_DWORD *)v12 + 0x51);
      v70 = sub_146B513B0(v68 & 0xFFFFFFFFFFFFLL);
      if ( !v70 )
        goto LABEL_34;
      v71 = sub_146AB61A0(v70, v69);
      if ( !v71 )
        goto LABEL_34;
      v72 = (float *)(*(__int64 (__fastcall **)(__int64, _BYTE *, _QWORD))(*(_QWORD *)v71 + 0x278LL))(
                       v71,
                       v181,
                       (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x130) + 0x148LL));
      v73 = 1.0;
      v74 = 0.0;
      v75 = 0.0;
      v76 = *v72;
      v77 = (__m128)*((unsigned int *)v72 + 5);
      v78 = v72[0xA];
      v79 = v72[1];
      v80 = v72[2];
      v81 = v72[4];
      v82 = v72[6];
      v83 = v72[8];
      v84 = v72[9];
      v85 = v77;
      v85.m128_f32[0] = (float)(v77.m128_f32[0] + *v72) + v78;
      v186 = 0.0;
      if ( v85.m128_f32[0] <= 0.0 )
      {
        if ( v76 < v77.m128_f32[0] || v76 < v78 )
        {
          if ( v77.m128_f32[0] < v76 || v77.m128_f32[0] < v78 )
          {
            if ( v78 < v76 || v78 < v77.m128_f32[0] )
              goto LABEL_28;
            v94 = (__m128)*((unsigned int *)v72 + 0xA);
            v94.m128_f32[0] = (float)((float)(v78 - v76) - v77.m128_f32[0]) + 1.0;
            v95 = _mm_sqrt_ps(_mm_shuffle_ps(v94, v94, 0));
            v95.m128_f32[0] = _mm_shuffle_ps(v95, v95, 0xFF).m128_f32[0];
            v92 = 0.5 / v95.m128_f32[0];
            v73 = (float)(v81 - v79) * (float)(0.5 / v95.m128_f32[0]);
            v75 = (float)(v84 + v82) * (float)(0.5 / v95.m128_f32[0]);
            v87 = v95.m128_f32[0] * 0.5;
            v93 = v83 + v80;
          }
          else
          {
            v90 = (__m128)*((unsigned int *)v72 + 5);
            v90.m128_f32[0] = (float)((float)(v77.m128_f32[0] - v78) - v76) + 1.0;
            v91 = _mm_sqrt_ps(_mm_shuffle_ps(v90, v90, 0));
            v91.m128_f32[0] = _mm_shuffle_ps(v91, v91, 0xFF).m128_f32[0];
            v92 = 0.5 / v91.m128_f32[0];
            v73 = (float)(v80 - v83) * (float)(0.5 / v91.m128_f32[0]);
            v87 = (float)(v84 + v82) * (float)(0.5 / v91.m128_f32[0]);
            v93 = v81 + v79;
            v75 = v91.m128_f32[0] * 0.5;
          }
          v74 = v93 * v92;
        }
        else
        {
          v88 = (__m128)*(unsigned int *)v72;
          v88.m128_f32[0] = (float)((float)(v76 - v77.m128_f32[0]) - v78) + 1.0;
          v89 = _mm_sqrt_ps(_mm_shuffle_ps(v88, v88, 0));
          v89.m128_f32[0] = _mm_shuffle_ps(v89, v89, 0xFF).m128_f32[0];
          v73 = (float)(v84 - v82) * (float)(0.5 / v89.m128_f32[0]);
          v74 = v89.m128_f32[0] * 0.5;
          v87 = (float)(v83 + v80) * (float)(0.5 / v89.m128_f32[0]);
          v75 = (float)(v81 + v79) * (float)(0.5 / v89.m128_f32[0]);
        }
      }
      else
      {
        v85.m128_f32[0] = v85.m128_f32[0] + 1.0;
        v86 = _mm_sqrt_ps(_mm_shuffle_ps(v85, v85, 0));
        v86.m128_f32[0] = _mm_shuffle_ps(v86, v86, 0xFF).m128_f32[0];
        v74 = (float)(v84 - v82) * (float)(0.5 / v86.m128_f32[0]);
        v73 = v86.m128_f32[0] * 0.5;
        v87 = (float)(v81 - v79) * (float)(0.5 / v86.m128_f32[0]);
        v75 = (float)(v80 - v83) * (float)(0.5 / v86.m128_f32[0]);
      }
      v186 = v87;
LABEL_28:
      v96 = *(double *)v169.m256_f32;
      v97 = *(double *)&v169.m256_f32[2];
      v98 = v72[7];
      v99 = v72[0xB];
      v100 = v72[3];
      v101 = v99 * *(double *)&v169.m256_f32[2]
           - v98 * *(double *)&v169.m256_f32[4]
           + v100 * *(double *)&v169.m256_f32[6];
      v177 = v98;
      v102 = v100 * *(double *)&v169.m256_f32[4] - v99 * *(double *)v169.m256_f32 + v98 * *(double *)&v169.m256_f32[6];
      v103 = v74;
      v104 = v98 * *(double *)v169.m256_f32 - v100 * *(double *)&v169.m256_f32[2] + v99 * *(double *)&v169.m256_f32[6];
      v105 = v104 * *(double *)&v169.m256_f32[2];
      v106 = v101 * *(double *)&v169.m256_f32[4] - v104 * *(double *)v169.m256_f32;
      v174 = v99;
      v107 = v105 - v102 * *(double *)&v169.m256_f32[4];
      v108 = v102 * *(double *)v169.m256_f32 - v101 * *(double *)&v169.m256_f32[2];
      v109 = v186;
      v110 = v186 * *(double *)v169.m256_f32;
      v111 = v75;
      v173 = v73;
      v112 = (v107 + v100 + v107) * v172 + *(double *)&v170;
      v185 = v172;
      v113 = (v106 + v177 + v106) * v172 + *((double *)&v170 + 1);
      v180 = v109;
      v114 = v109 * *(double *)&v169.m256_f32[4];
      v115 = v109 * *(double *)&v169.m256_f32[2]
           - v111 * *(double *)&v169.m256_f32[4]
           + v74 * *(double *)&v169.m256_f32[6]
           + v73 * *(double *)v169.m256_f32;
      v116 = v73;
      v117 = v74 * *(double *)&v169.m256_f32[2];
      *(double *)v169.m256_f32 = v115;
      v118 = v74 * *(double *)&v169.m256_f32[4] - v110 + *(double *)&v169.m256_f32[6] * v111;
      v119 = v96 * v111;
      v120 = v103 * v96;
      v65 = v118 + v116 * *(double *)&v169.m256_f32[2];
      *(double *)&v169.m256_f32[2] = v65;
      v66 = *(double *)&v169.m256_f32[6] * v180 + v119 - v117 + v116 * *(double *)&v169.m256_f32[4];
      v67 = v116 * *(double *)&v169.m256_f32[6] - v120 - v97 * v111 - v114;
      *(double *)&v169.m256_f32[6] = v67;
      *(double *)&v169.m256_f32[4] = v66;
      *(double *)&v170 = v112;
      *((double *)&v170 + 1) = v113;
      v171 = (v108 + v174 + v108) * v172 + v171;
      goto LABEL_35;
    case 4:
      if ( *((_BYTE *)v12 + 0x138) != 1 )
        sub_1403E0B50();
      v121 = v12[3];
      if ( v121 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v121 + 8LL))(v121);
        v122 = (float *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v121 + 0x118LL))(v121);
        v123 = *(double *)v169.m256_f32;
        v124 = v122[2];
        v125 = v122[5];
        v126 = v122[6];
        v127 = v122[4];
        v128 = *(double *)&v169.m256_f32[2] * v126
             - *(double *)&v169.m256_f32[4] * v125
             + *(double *)&v169.m256_f32[6] * v127;
        v129 = *(double *)&v169.m256_f32[4] * v127
             - *(double *)v169.m256_f32 * v126
             + *(double *)&v169.m256_f32[6] * v125;
        v130 = v122[1];
        v177 = v125;
        v131 = *(double *)v169.m256_f32 * v125
             - *(double *)&v169.m256_f32[2] * v127
             + *(double *)&v169.m256_f32[6] * v126;
        v132 = *v122;
        v174 = v126;
        v173 = v122[3];
        v133 = (v131 * *(double *)&v169.m256_f32[2]
              - v129 * *(double *)&v169.m256_f32[4]
              + v127
              + v131 * *(double *)&v169.m256_f32[2]
              - v129 * *(double *)&v169.m256_f32[4])
             * v172
             + *(double *)&v170;
        v134 = (v128 * *(double *)&v169.m256_f32[4]
              - v131 * *(double *)v169.m256_f32
              + v177
              + v128 * *(double *)&v169.m256_f32[4]
              - v131 * *(double *)v169.m256_f32)
             * v172
             + *((double *)&v170 + 1);
        v135 = (v129 * *(double *)v169.m256_f32
              - v128 * *(double *)&v169.m256_f32[2]
              + v174
              + v129 * *(double *)v169.m256_f32
              - v128 * *(double *)&v169.m256_f32[2])
             * v172
             + v171;
        v136 = v130;
        v137 = v124;
        v138 = *(double *)v169.m256_f32 * v137;
        v139 = v136 * *(double *)v169.m256_f32;
        v140 = v132 * *(double *)&v169.m256_f32[2];
        *(double *)v169.m256_f32 = v137 * *(double *)&v169.m256_f32[2]
                                 - v136 * *(double *)&v169.m256_f32[4]
                                 + v132 * *(double *)&v169.m256_f32[6]
                                 + v173 * *(double *)v169.m256_f32;
        v141 = v136 * *(double *)&v169.m256_f32[2];
        *(double *)&v169.m256_f32[2] = v132 * *(double *)&v169.m256_f32[4]
                                     - v138
                                     + v136 * *(double *)&v169.m256_f32[6]
                                     + v173 * *(double *)&v169.m256_f32[2];
        v142 = v137 * *(double *)&v169.m256_f32[4];
        *(double *)&v169.m256_f32[4] = *(double *)&v169.m256_f32[6] * v137
                                     + v139
                                     - v140
                                     + v173 * *(double *)&v169.m256_f32[4];
        *(double *)&v169.m256_f32[6] = v173 * *(double *)&v169.m256_f32[6] - v132 * v123 - v141 - v142;
        *(double *)&v170 = v133;
        *((double *)&v170 + 1) = v134;
        v171 = v135;
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v121 + 0x10LL))(v121);
      }
      goto LABEL_34;
  }
  if ( n7 != 7 )
  {
LABEL_34:
    v67 = *(double *)&v169.m256_f32[6];
    v66 = *(double *)&v169.m256_f32[4];
    v65 = *(double *)&v169.m256_f32[2];
    v185 = v172;
    goto LABEL_35;
  }
  v185 = v172;
LABEL_38:
  if ( n2 == 2 )
  {
    v164 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x60LL))(
             qword_149B4FBE8,
             a1 + 0x2A8);
    if ( v164 )
    {
      v165 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __m256 *))(*(_QWORD *)v164 + 0xC8LL))(v164, v181, &v169);
      v169 = *(__m256 *)v165;
      v170 = *(_OWORD *)(v165 + 0x20);
      v171 = *(double *)(v165 + 0x30);
      v166 = *(double *)(v165 + 0x38);
    }
    else
    {
      v166 = v172;
    }
    v185 = v166;
  }
  v167 = v171;
  result = a2;
  *(__m256 *)a2 = v169;
  *((_OWORD *)a2 + 2) = v170;
  *((double *)a2 + 7) = v185;
  *((double *)a2 + 6) = v167;
LABEL_44:
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_146B4D170 (0x146B4D170) ---

// --- Function: sub_146B4E080 (0x146B4E080) ---
__int64 __fastcall sub_146B4E080(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v2 && sub_14030EC00(v2) )
    return (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x130) + 0x148LL);
  else
    return 0xFFFFFFFFLL;
}

// --- End Function: sub_146B4E080 (0x146B4E080) ---

// --- Function: sub_146B4E0C0 (0x146B4E0C0) ---
__int64 __fastcall sub_146B4E0C0(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v2 && sub_14030EC00(v2) )
    return *(_QWORD *)(a1 + 0x130) + 0x18LL;
  else
    return 0;
}

// --- End Function: sub_146B4E0C0 (0x146B4E0C0) ---

// --- Function: sub_146B4E100 (0x146B4E100) ---
__int64 __fastcall sub_146B4E100(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v2 && sub_14030EC00(v2) )
    return *(unsigned int *)(*(_QWORD *)(a1 + 0x130) + 0x14CLL);
  else
    return 0;
}

// --- End Function: sub_146B4E100 (0x146B4E100) ---

// --- Function: sub_146B4E140 (0x146B4E140) ---
__int64 __fastcall sub_146B4E140(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v2 && sub_14030EC00(v2) )
    return *(unsigned int *)(*(_QWORD *)(a1 + 0x130) + 0x10LL);
  else
    return 0;
}

// --- End Function: sub_146B4E140 (0x146B4E140) ---

// --- Function: sub_146B4E180 (0x146B4E180) ---
__int64 __fastcall sub_146B4E180(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v2 && sub_14030EC00(v2) )
    return *(_QWORD *)(a1 + 0x130) + 0x190LL;
  else
    return 0;
}

// --- End Function: sub_146B4E180 (0x146B4E180) ---

// --- Function: sub_146B4E1C0 (0x146B4E1C0) ---
__int64 __fastcall sub_146B4E1C0(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v2 && sub_14030EC00(v2) )
    return *(unsigned int *)(*(_QWORD *)(a1 + 0x130) + 0x140LL);
  else
    return 0;
}

// --- End Function: sub_146B4E1C0 (0x146B4E1C0) ---

// --- Function: sub_146B4E200 (0x146B4E200) ---
__int64 __fastcall sub_146B4E200(__int64 a1, int a2)
{
  __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146AB9D00(result, a2);
  return result;
}

// --- End Function: sub_146B4E200 (0x146B4E200) ---

// --- Function: sub_146B4E340 (0x146B4E340) ---
unsigned __int64 *__fastcall sub_146B4E340(unsigned __int64 a1, unsigned __int64 *a2)
{
  __int64 v4; // rax
  char v6; // dl
  unsigned __int64 v7; // rcx
  unsigned __int16 v8; // ax

  v4 = sub_146B4E3D0(a1);
  if ( v4 )
  {
    sub_146AB26A0(v4, a2);
    return a2;
  }
  else
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v6 = 0;
      v7 = a1 - 6;
    }
    else
    {
      v6 = 1;
      v7 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v8 = *(_WORD *)(v7 + 2) | 0x2000;
    if ( !v6 )
      v8 = *(_WORD *)(v7 + 2);
    *a2 = a1 | ((unsigned __int64)v8 << 0x30);
    return a2;
  }
}

// --- End Function: sub_146B4E340 (0x146B4E340) ---

// --- Function: sub_146B4E3D0 (0x146B4E3D0) ---
__int64 __fastcall sub_146B4E3D0(__int64 a1)
{
  unsigned __int64 v1; // rbx
  __int64 v3; // rax
  __int16 n4_1; // dx
  __int64 v5; // rdi
  __int64 v6; // rax
  __int16 n4_2; // cx
  unsigned __int16 n0xFFFF; // ax
  unsigned __int64 v10; // rbx
  __int64 v11; // rsi
  __int64 v12; // rax
  __int16 n4; // cx
  unsigned __int64 v14; // [rsp+40h] [rbp+8h] BYREF
  unsigned __int64 v15; // [rsp+48h] [rbp+10h] BYREF

  v1 = *(_QWORD *)(a1 + 0x4D8);
  v14 = v1;
  if ( !v1
    || (v3 = sub_1403B4B50(v1 & 0xFFFFFFFFFFFFLL), n4_1 = *(_WORD *)(v3 + 4), n4_1 == 4)
    || *(_WORD *)(v3 + 2) != (HIWORD(v1) & 0xFFF)
    || (n4_1 != 2 || *(_QWORD *)NtCurrentTeb_w()) && !sub_14031FE20(&v14) )
  {
    n0xFFFF = n0xFFFF_54;
    if ( n0xFFFF_54 == (__int16)0xFFFF )
    {
      n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                               + 0x10LL))(
                            qword_149B4FC88,
                            &v14,
                            "PhysicalProxy");
      n0xFFFF_54 = n0xFFFF;
    }
    if ( *(_BYTE *)(a1 + 0xD) == 7 )
    {
      *(_QWORD *)(a1 + 0x4D8) = 0;
    }
    else
    {
      sub_146B49DE0(a1, &v15, n0xFFFF);
      v10 = v15;
      v14 = v15;
      *(_QWORD *)(a1 + 0x4D8) = v15;
      if ( v10 )
      {
        v11 = v10 & 0xFFFFFFFFFFFFLL;
        v12 = sub_1403B4B50(v10 & 0xFFFFFFFFFFFFLL);
        n4 = *(_WORD *)(v12 + 4);
        if ( n4 != 4
          && *(_WORD *)(v12 + 2) == (HIWORD(v10) & 0xFFF)
          && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v14)) )
        {
          return v11;
        }
      }
    }
    return 0;
  }
  v5 = v1 & 0xFFFFFFFFFFFFLL;
  v6 = sub_1403B4B50(v1 & 0xFFFFFFFFFFFFLL);
  n4_2 = *(_WORD *)(v6 + 4);
  if ( n4_2 == 4
    || *(_WORD *)(v6 + 2) != (HIWORD(v1) & 0xFFF)
    || (n4_2 != 2 || *(_QWORD *)NtCurrentTeb_w()) && !sub_14031FE20(&v14) )
  {
    return 0;
  }
  return v5;
}

// --- End Function: sub_146B4E3D0 (0x146B4E3D0) ---

// --- Function: sub_146B4E570 (0x146B4E570) ---
unsigned __int64 *__fastcall sub_146B4E570(__int64 a1, unsigned __int64 *a2)
{
  __int64 v4; // rax
  unsigned __int64 *result; // rax
  unsigned __int16 n0xFFFF; // ax
  __int16 v7; // rbx^6
  unsigned __int64 v8; // rsi
  __int64 v9; // rax
  __int16 n4; // cx
  __int64 v11; // rcx
  unsigned __int64 v12; // [rsp+50h] [rbp+18h] BYREF
  unsigned __int64 v13; // [rsp+58h] [rbp+20h] BYREF

  v4 = sub_146B4E3D0(a1);
  if ( v4 && (sub_142E04BC0(v4, &v12), v12) && *(_QWORD *)((v12 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v12) )
  {
    *a2 = v12;
    return a2;
  }
  else
  {
    n0xFFFF = n0xFFFF_50;
    if ( n0xFFFF_50 == (__int16)0xFFFF )
    {
      n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                               + 0x10LL))(
                            qword_149B4FC88,
                            &v12,
                            "RopeProxy");
      n0xFFFF_50 = n0xFFFF;
    }
    if ( *(_BYTE *)(a1 + 0xD) != 7
      && (sub_146B49DE0(a1, &v13, n0xFFFF), v7 = HIWORD(v13), v13)
      && (v8 = v13 & 0xFFFFFFFFFFFFLL, v9 = sub_1403B4B50(v13 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v9 + 4), n4 != 4)
      && *(_WORD *)(v9 + 2) == (v7 & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v13))
      && v8
      && (v11 = *(_QWORD *)(v8 + 0x70)) != 0 )
    {
      (*(void (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v11 + 0xE8LL))(v11, a2);
      return a2;
    }
    else
    {
      result = a2;
      *a2 = 0;
    }
  }
  return result;
}

// --- End Function: sub_146B4E570 (0x146B4E570) ---

// --- Function: sub_146B4E6C0 (0x146B4E6C0) ---
__int64 __fastcall sub_146B4E6C0(__int64 a1)
{
  __int64 result; // rax

  result = sub_146B4E3D0(a1);
  if ( result )
    return sub_146AB6A20(result);
  return result;
}

// --- End Function: sub_146B4E6C0 (0x146B4E6C0) ---

// --- Function: sub_146B4EA30 (0x146B4EA30) ---
__int64 __fastcall sub_146B4EA30(__int64 a1, __int64 a2, unsigned int n2_1, unsigned __int8 n2_2)
{
  int n2; // ebx
  unsigned __int64 *v6; // rcx
  __int64 v9; // rax
  char v11; // di
  char v12; // bp
  __int64 v13; // rbx
  signed __int64 v14; // rdx
  signed __int64 v15; // r12
  bool v16; // zf
  __int64 n0xF8; // rax

  n2 = n2_2;
  v6 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v6 )
  {
    if ( sub_14030EC00(v6) )
    {
      v9 = *(_QWORD *)(a1 + 0x130);
      if ( *(_DWORD *)(v9 + 0x10) == 5 )
      {
        sub_146B4EA30(*(_QWORD *)v9 & 0xFFFFFFFFFFFFLL, a2, n2_1);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v11 = 0;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  }
  else
  {
    v11 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) )
    {
      v12 = 1;
      v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      if ( *(_DWORD *)(v13 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(v13 + 0x14);
      }
      else
      {
        v14 = _InterlockedIncrement64((volatile signed __int64 *)v13);
        if ( (v14 & 0x200000) != 0 )
          sub_1403CB300(v13, v14, "CEntity::GetPos", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
      }
      goto LABEL_14;
    }
  }
  v12 = 0;
  v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
LABEL_14:
  if ( v11 )
  {
    if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xD4);
    }
    else
    {
      v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v15 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0xC0, v15, "CEntity::GetPos", "m_cross_ecus_state.updateLock", 1);
    }
  }
  if ( n2_1 == 2 )
  {
    v16 = v11 == 0;
    n0xF8 = 0xF8;
    if ( !v11 )
      n0xF8 = 0x48;
    *(_OWORD *)a2 = *(_OWORD *)(n0xF8 + a1);
    *(double *)(a2 + 0x10) = *(double *)(n0xF8 + a1 + 0x10);
  }
  else
  {
    (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x2D8LL))(
      qword_149B4FBE8,
      a2,
      a1 + 0x2A8,
      n2_1);
    v16 = v11 == 0;
  }
  if ( !v16 )
    sub_1402D2790(a1 + 0xC0);
  if ( v12 )
    sub_1402D2790(v13);
  return a2;
}

// --- End Function: sub_146B4EA30 (0x146B4EA30) ---

// --- Function: sub_146B4EC30 (0x146B4EC30) ---
__int64 __fastcall sub_146B4EC30(__int64 a1, __int64 a2, unsigned int n2)
{
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  __int64 result; // rax

  v5 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v5 && sub_14030EC00(v5) && (v7 = *(_QWORD *)(a1 + 0x130), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_146B4EC30(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, n2);
    return a2;
  }
  else if ( n2 )
  {
    if ( n2 == 2 )
    {
      *(_QWORD *)(a2 + 0x18) = *(_QWORD *)(a1 + 0x80);
      *(_QWORD *)a2 = *(_QWORD *)(a1 + 0x68);
      *(_QWORD *)(a2 + 8) = *(_QWORD *)(a1 + 0x70);
      *(_QWORD *)(a2 + 0x10) = *(_QWORD *)(a1 + 0x78);
      *(_OWORD *)(a2 + 0x20) = *(_OWORD *)(a1 + 0x88);
      *(double *)(a2 + 0x30) = *(double *)(a1 + 0x98);
      *(_QWORD *)(a2 + 0x38) = *(_QWORD *)(a1 + 0xA0);
      return a2;
    }
    else
    {
      __debugbreak();
      *(_QWORD *)a2 = 0;
      *(_QWORD *)(a2 + 8) = 0;
      *(_QWORD *)(a2 + 0x10) = 0;
      *(_QWORD *)(a2 + 0x18) = 0x3FF0000000000000LL;
      *(_QWORD *)(a2 + 0x20) = 0;
      *(_QWORD *)(a2 + 0x28) = 0;
      *(_QWORD *)(a2 + 0x30) = 0;
      result = a2;
      *(_QWORD *)(a2 + 0x38) = 0x3FF0000000000000LL;
    }
  }
  else
  {
    (*(void (__fastcall **)(_QWORD, __int64, __int64))(**(_QWORD **)(a1 + 0x2B0) + 0x140LL))(
      *(_QWORD *)(a1 + 0x2B0),
      a2,
      a1 + 0x68);
    return a2;
  }
  return result;
}

// --- End Function: sub_146B4EC30 (0x146B4EC30) ---

// --- Function: sub_146B4ED70 (0x146B4ED70) ---
__int64 __fastcall sub_146B4ED70(__int64 a1)
{
  signed __int64 v2; // rdx
  unsigned __int64 n3; // rsi
  _QWORD *v4; // rdi
  __int64 v5; // rax
  __int64 v6; // rbx
  bool v7; // al

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v2 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v2 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v2, "CEntity::GetPrimaryOwnerReason", "s_aggregateHierarchyLock", 1);
  }
  n3 = 0;
  v4 = (_QWORD *)(a1 + 0x4E0);
  while ( 1 )
  {
    if ( *v4 )
    {
      v5 = HIWORD(*v4);
      v6 = (v5 & 0xF000) != 0 ? *v4 & 0xFFFFFF000000LL : (*v4 & 0xFFFFFFFFFFFFLL) - 6;
      if ( *(_WORD *)(v6 + 2) == (v5 & 0xFFF) )
      {
        if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v7 = sub_140539D80()) )
          v7 = 1;
        if ( *(_WORD *)(v6 + 4) == 2 && v7 || sub_140392020(v4) )
          break;
      }
    }
    ++n3;
    ++v4;
    if ( n3 >= 3 )
    {
      LODWORD(n3) = 5;
      break;
    }
  }
  sub_1402D2790((__int64)&qword_149AC4BF8);
  return (unsigned int)n3;
}

// --- End Function: sub_146B4ED70 (0x146B4ED70) ---

// --- Function: sub_146B4EE90 (0x146B4EE90) ---
_WORD *__fastcall sub_146B4EE90(_WORD *a1, int a2, unsigned __int16 a3)
{
  char **v4; // r14
  char *v5; // r15
  __int16 v6; // ax
  _WORD *result; // rax
  __int64 v8; // rdi
  __int64 (*v9)(__int64, char *, const char *, ...); // rbx
  const ULONG_PTR *v10; // rax
  __int16 v11; // cx
  char v12; // [rsp+60h] [rbp+18h] BYREF

  v4 = &(&off_149AC4C80)[0x202 * a2];           // "ENTITY_EVENT_XFORM"
  v5 = (char *)v4 + 2 * a3;
  v6 = *((_WORD *)v5 + 6);
  if ( v6 )
  {
    *a1 = v6;
    return a1;
  }
  else
  {
    v8 = qword_149B4FD40;
    v9 = *(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL);
    v10 = sub_146A32280(*(_QWORD *)(qword_1515B19E8 + 0x7E0), a3);
    v11 = *(_WORD *)v9(v8, &v12, "CEntity::SendEvent(%s - %s)", *v4, v10);
    result = a1;
    *((_WORD *)v5 + 6) = v11;
    *a1 = v11;
  }
  return result;
}

// --- End Function: sub_146B4EE90 (0x146B4EE90) ---

// --- Function: sub_146B4EF60 (0x146B4EF60) ---
float __fastcall sub_146B4EF60(__int64 a1, char a2)
{
  if ( !a2 )
    return *(float *)(a1 + 0x120);
  if ( a2 == 1 )
    return *(float *)(a1 + 0x11C);
  return 0.0;
}

// --- End Function: sub_146B4EF60 (0x146B4EF60) ---

// --- Function: sub_146B51140 (0x146B51140) ---
__int64 __fastcall sub_146B51140(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 n2_1)
{
  int n2; // ebx
  unsigned __int64 *v6; // rcx
  __int64 v9; // rax
  char v11; // di
  char v12; // r15
  __int64 v13; // rsi
  signed __int64 v14; // rdx
  __int64 v15; // rbx
  __int64 v16; // r12
  signed __int64 v17; // rdx
  signed __int64 v18; // r14

  n2 = n2_1;
  v6 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v6 )
  {
    if ( sub_14030EC00(v6) )
    {
      v9 = *(_QWORD *)(a1 + 0x130);
      if ( *(_DWORD *)(v9 + 0x10) == 5 )
      {
        sub_146B51140(*(_QWORD *)v9 & 0xFFFFFFFFFFFFLL, a2, a3, (unsigned __int8)n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v11 = 0;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  }
  else
  {
    v11 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) )
    {
      v12 = 1;
      v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      if ( *(_DWORD *)(v13 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(v13 + 0x14);
      }
      else
      {
        v14 = _InterlockedIncrement64((volatile signed __int64 *)v13);
        if ( (v14 & 0x200000) != 0 )
          sub_1403CB300(v13, v14, "CEntity::GetRelativeTransform", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
      }
      goto LABEL_14;
    }
  }
  v12 = 0;
  v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
LABEL_14:
  if ( v11 )
  {
    if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xD4);
      v15 = a3 + 0xC0;
      v16 = a3 + 0xC0;
      goto LABEL_20;
    }
    v17 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v17 & 0x200000) != 0 )
    {
      sub_1403CB300(a1 + 0xC0, v17, "CEntity::GetRelativeTransform", "m_cross_ecus_state.updateLock", 1);
      v15 = a3 + 0xC0;
      v16 = a3 + 0xC0;
      goto LABEL_20;
    }
  }
  v15 = a3 + 0xC0;
  v16 = a3 + 0xC0;
  if ( v11 )
  {
LABEL_20:
    if ( *(_DWORD *)(v15 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v15 + 0x14);
    }
    else
    {
      v18 = _InterlockedIncrement64((volatile signed __int64 *)v15);
      if ( (v18 & 0x200000) != 0 )
        sub_1403CB300(
          v15,
          v18,
          "CEntity::GetRelativeTransform",
          "static_cast<const CEntity*>(pTarget)->m_cross_ecus_state.updateLock",
          1);
    }
  }
  (*(void (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x478LL))(
    qword_149B4FBE8,
    a2,
    a3 + 0x2A8,
    a1 + 0x2A8);
  if ( v11 )
  {
    sub_1402D2790(v16);
    sub_1402D2790(a1 + 0xC0);
  }
  if ( v12 )
    sub_1402D2790(v13);
  return a2;
}

// --- End Function: sub_146B51140 (0x146B51140) ---

// --- Function: sub_146B513A0 (0x146B513A0) ---
_QWORD *__fastcall sub_146B513A0(__int64 a1, _QWORD *a2)
{
  *a2 = a1 + 0xC;
  return a2;
}

// --- End Function: sub_146B513A0 (0x146B513A0) ---

// --- Function: sub_146B513B0 (0x146B513B0) ---
unsigned __int64 __fastcall sub_146B513B0(__int64 a1)
{
  unsigned __int16 n0xFFFF; // ax
  __int16 v3; // rbx^6
  unsigned __int64 v4; // rdi
  __int64 v5; // rax
  __int16 n4; // cx
  char v8; // [rsp+30h] [rbp+8h] BYREF
  unsigned __int64 v9; // [rsp+38h] [rbp+10h] BYREF

  n0xFFFF = n0xFFFF_38;
  if ( n0xFFFF_38 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v8,
                          "RenderProxy");
    n0xFFFF_38 = n0xFFFF;
  }
  if ( *(_BYTE *)(a1 + 0xD) != 7
    && (sub_146B49DE0(a1, &v9, n0xFFFF), v3 = HIWORD(v9), v9)
    && (v4 = v9 & 0xFFFFFFFFFFFFLL, v5 = sub_1403B4B50(v9 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v5 + 4), n4 != 4)
    && *(_WORD *)(v5 + 2) == (v3 & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v9)) )
  {
    return v4;
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_146B513B0 (0x146B513B0) ---

// --- Function: sub_146B51490 (0x146B51490) ---
_QWORD *__fastcall sub_146B51490(__int64 a1, _QWORD *a2, unsigned int n2_1, unsigned __int8 n2_2)
{
  int n2; // ebx
  unsigned __int64 *v6; // rcx
  __int64 v9; // rax
  char v11; // di
  char v12; // bp
  __int64 v13; // rbx
  signed __int64 v14; // rdx
  signed __int64 v15; // r12
  __int64 n0xD8; // rdx
  _QWORD *v17; // rdx

  n2 = n2_2;
  v6 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v6 )
  {
    if ( sub_14030EC00(v6) )
    {
      v9 = *(_QWORD *)(a1 + 0x130);
      if ( *(_DWORD *)(v9 + 0x10) == 5 )
      {
        sub_146B51490(*(_QWORD *)v9 & 0xFFFFFFFFFFFFLL, a2, n2_1, (unsigned __int8)n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v11 = 0;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  }
  else
  {
    v11 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) )
    {
      v12 = 1;
      v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      if ( *(_DWORD *)(v13 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(v13 + 0x14);
      }
      else
      {
        v14 = _InterlockedIncrement64((volatile signed __int64 *)v13);
        if ( (v14 & 0x200000) != 0 )
          sub_1403CB300(v13, v14, "CEntity::GetRotation", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
      }
      goto LABEL_14;
    }
  }
  v12 = 0;
  v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
LABEL_14:
  if ( v11 )
  {
    if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xD4);
    }
    else
    {
      v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v15 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0xC0, v15, "CEntity::GetRotation", "m_cross_ecus_state.updateLock", 1);
    }
  }
  if ( n2_1 == 2 )
  {
    n0xD8 = 0xD8;
    if ( !v11 )
      n0xD8 = 0x28;
    v17 = (_QWORD *)(a1 + n0xD8);
    a2[3] = v17[3];
    *a2 = *v17;
    a2[1] = v17[1];
    a2[2] = v17[2];
  }
  else
  {
    (*(void (__fastcall **)(__int64, _QWORD *, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x2E0LL))(
      qword_149B4FBE8,
      a2,
      a1 + 0x2A8,
      n2_1);
  }
  if ( v11 )
    sub_1402D2790(a1 + 0xC0);
  if ( v12 )
    sub_1402D2790(v13);
  return a2;
}

// --- End Function: sub_146B51490 (0x146B51490) ---

// --- Function: sub_146B516A0 (0x146B516A0) ---
__m128 __fastcall sub_146B516A0(__int64 a1, unsigned __int8 n2)
{
  __int128 v2; // xmm6
  unsigned __int64 *v5; // rcx
  __int64 v6; // rax
  __int64 v7; // rdi
  __int128 v8; // xmm6
  unsigned __int64 *v9; // rax
  unsigned __int64 v10; // rax
  __int64 *v11; // rax
  double v12; // xmm2_8
  __int128 v14; // kr00_16
  _BYTE v15[64]; // [rsp+20h] [rbp-58h] BYREF
  __int128 v16; // [rsp+60h] [rbp-18h]
  unsigned __int64 v17; // [rsp+80h] [rbp+8h] BYREF

  v16 = v2;
  while ( 1 )
  {
    v5 = *(unsigned __int64 **)(a1 + 0x130);
    if ( !v5 )
      break;
    if ( !sub_14030EC00(v5) )
      break;
    v6 = *(_QWORD *)(a1 + 0x130);
    if ( *(_DWORD *)(v6 + 0x10) != 5 )
      break;
    a1 = *(_QWORD *)v6 & 0xFFFFFFFFFFFFLL;
  }
  v7 = 0;
  v8 = *(unsigned __int64 *)(sub_146B54040(a1, (__int64)v15, n2) + 0x38);
  v9 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v9 )
    v10 = *v9;
  else
    v10 = 0;
  v17 = v10;
  if ( !sub_14030EC00(&v17) )
    return (__m128)v8;
  v11 = *(__int64 **)(a1 + 0x130);
  if ( v11 )
    v7 = *v11;
  v12 = (*(double (__fastcall **)(__int64, _QWORD))(*(_QWORD *)(v7 & 0xFFFFFFFFFFFFLL) + 0x2B8LL))(
          v7 & 0xFFFFFFFFFFFFLL,
          n2);
  if ( COERCE_DOUBLE(*(_QWORD *)&v12 & 0x7FFFFFFFFFFFFFFFLL) > 0.0 )
  {
    *((_QWORD *)&v14 + 1) = *((_QWORD *)&v8 + 1);
    *(double *)&v14 = *(double *)&v8 / v12;
    return (__m128)v14;
  }
  else
  {
    return (__m128)v8;
  }
}

// --- End Function: sub_146B516A0 (0x146B516A0) ---

// --- Function: sub_146B517A0 (0x146B517A0) ---
_QWORD *__fastcall sub_146B517A0(__int64 a1, _QWORD *a2)
{
  __int64 v3; // rax

  v3 = sub_146B4E3D0(a1);
  if ( v3 )
    sub_146ABEC80(v3, a2);
  else
    *a2 = 0;
  return a2;
}

// --- End Function: sub_146B517A0 (0x146B517A0) ---

// --- Function: sub_146B517E0 (0x146B517E0) ---
unsigned __int64 __fastcall sub_146B517E0(__int64 a1, int a2)
{
  unsigned __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146ABEE50(result, a2);
  return result;
}

// --- End Function: sub_146B517E0 (0x146B517E0) ---

// --- Function: sub_146B51810 (0x146B51810) ---
unsigned __int64 __fastcall sub_146B51810(__int64 a1)
{
  unsigned __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146ABEFA0(result);
  return result;
}

// --- End Function: sub_146B51810 (0x146B51810) ---

// --- Function: sub_146B51830 (0x146B51830) ---
unsigned __int64 __fastcall sub_146B51830(__int64 a1, int a2)
{
  unsigned __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146ABF040(result, a2);
  return result;
}

// --- End Function: sub_146B51830 (0x146B51830) ---

// --- Function: sub_146B51860 (0x146B51860) ---
unsigned __int64 __fastcall sub_146B51860(__int64 a1, int a2, __int64 a3, unsigned __int8 a4)
{
  unsigned __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146AC0180(result, a2, a3, a4);
  return result;
}

// --- End Function: sub_146B51860 (0x146B51860) ---

// --- Function: sub_146B518C0 (0x146B518C0) ---
__int64 __fastcall sub_146B518C0(__int64 a1, __int64 p_n0xB, int a3, char a4, int n2)
{
  unsigned __int64 v8; // rax
  __int64 p_n0xB_1; // rax

  v8 = sub_146B513B0(a1);
  if ( v8 )
  {
    sub_146AC04D0(v8, p_n0xB, a3, a4, n2);
    return p_n0xB;
  }
  else
  {
    *(_DWORD *)(p_n0xB + 0xC) = 0x3F800000;
    *(_QWORD *)p_n0xB = 0;
    *(_DWORD *)(p_n0xB + 8) = 0;
    *(_QWORD *)(p_n0xB + 0x10) = 0;
    *(_DWORD *)(p_n0xB + 0x18) = 0;
    p_n0xB_1 = p_n0xB;
    *(_DWORD *)(p_n0xB + 0x1C) = 0x3F800000;
  }
  return p_n0xB_1;
}

// --- End Function: sub_146B518C0 (0x146B518C0) ---

// --- Function: sub_146B51940 (0x146B51940) ---
__int64 *__fastcall sub_146B51940(__int64 a1, __int64 *a2, int a3)
{
  unsigned __int64 v6; // rax
  __int64 v7; // rdi
  __int64 v8; // rcx

  v6 = sub_146B513B0(a1);
  v7 = v6;
  if ( v6 )
  {
    if ( sub_146AD3A90(v6, a3) )
      sub_146ABE890(v7, a2, a3);
    else
      sub_146ABE890(v7, a2, 0xFFFFFFFF);
  }
  else
  {
    v8 = *(_QWORD *)(a1 + 0x138);
    *a2 = v8;
    if ( v8 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v8 + 8LL))(v8);
  }
  return a2;
}

// --- End Function: sub_146B51940 (0x146B51940) ---

// --- Function: sub_146B51E20 (0x146B51E20) ---
__int64 __fastcall sub_146B51E20(__int64 a1, __int64 p_n0xB, int a3, int n2, char a5)
{
  int v8; // esi
  unsigned __int64 v9; // rax
  unsigned int v10; // r9d

  v8 = a1;
  v9 = sub_146B513B0(a1);
  if ( v9 )
  {
    sub_146AC15F0(v9, p_n0xB, a3, n2, a5);
  }
  else
  {
    v10 = 0xFFFFFFFF;
    if ( !n2 )
      v10 = dword_149B4FDFC;
    sub_146B52280(v8, p_n0xB, n2, v10, a5, 0);
  }
  return p_n0xB;
}

// --- End Function: sub_146B51E20 (0x146B51E20) ---

// --- Function: sub_146B51EB0 (0x146B51EB0) ---
__int64 __fastcall sub_146B51EB0(_QWORD *a1, __int64 a2)
{
  __int64 (__fastcall *v4)(_QWORD *, _BYTE *, __int16 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 v7; // rax
  __int16 n4; // cx
  __int64 v9; // rcx
  _BYTE v11[40]; // [rsp+20h] [rbp-28h] BYREF
  __int16 n0xFFFF_1; // [rsp+50h] [rbp+8h] BYREF
  char v13; // [rsp+60h] [rbp+18h] BYREF
  __int64 v14; // [rsp+68h] [rbp+20h] BYREF

  if ( !a1[0x58] )
    goto LABEL_11;
  v4 = *(__int64 (__fastcall **)(_QWORD *, _BYTE *, __int16 *))(*a1 + 0x340LL);
  n0xFFFF = n0xFFFF_19;
  if ( n0xFFFF_19 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v13,
                          "IEntityComponentSolarSystem");
    n0xFFFF_19 = n0xFFFF;
  }
  if ( (n0xFFFF_1 = n0xFFFF, v6 = *(_QWORD *)v4(a1, v11, &n0xFFFF_1), (v14 = v6) != 0)
    && (v7 = sub_1403B4B50(v6 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v7 + 4), n4 != 4)
    && *(_WORD *)(v7 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v14)) )
  {
    v9 = a1[0x58];
  }
  else
  {
LABEL_11:
    v9 = a1[0x56];
  }
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v9 + 0x10LL))(v9, a2);
  return a2;
}

// --- End Function: sub_146B51EB0 (0x146B51EB0) ---

// --- Function: sub_146B51FA0 (0x146B51FA0) ---
_QWORD *__fastcall sub_146B51FA0(__int64 a1, _QWORD *a2)
{
  __int64 v2; // rax
  volatile signed __int32 *v4; // r8
  __int64 v5; // r9
  signed __int32 v6; // eax
  signed __int32 v7; // ett

  v2 = *(_QWORD *)(a1 + 0x2D0);
  if ( v2 && (v4 = *(volatile signed __int32 **)(v2 + 0x28)) != 0 )
  {
    v5 = *(_QWORD *)(v2 + 0x20);
    _InterlockedIncrement(v4 + 3);
    *a2 = 0;
    a2[1] = 0;
    v6 = *((_DWORD *)v4 + 2);
    if ( v6 )
    {
      while ( 1 )
      {
        v7 = v6;
        v6 = _InterlockedCompareExchange(v4 + 2, v6 + 1, v6);
        if ( v7 == v6 )
          break;
        if ( !v6 )
          goto LABEL_8;
      }
      *a2 = v5;
      a2[1] = v4;
    }
LABEL_8:
    if ( _InterlockedExchangeAdd(v4 + 3, 0xFFFFFFFF) == 1 )
    {
      (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v4 + 8LL))(v4);
      return a2;
    }
  }
  else
  {
    a2[1] = 0;
    *a2 = 0;
  }
  return a2;
}

// --- End Function: sub_146B51FA0 (0x146B51FA0) ---

// --- Function: sub_146B52050 (0x146B52050) ---
__int64 *__fastcall sub_146B52050(__int64 a1, __int64 *a2, int a3, int a4)
{
  unsigned __int64 v7; // rax
  __int64 *result; // rax

  v7 = sub_146B513B0(a1);
  if ( v7 )
  {
    sub_146AC21D0(v7, a2, a3, a4);
    return a2;
  }
  else
  {
    result = a2;
    *a2 = 0;
  }
  return result;
}

// --- End Function: sub_146B52050 (0x146B52050) ---

// --- Function: sub_146B520B0 (0x146B520B0) ---
__int64 __fastcall sub_146B520B0(__int64 a1, __int64 a2)
{
  __int64 (__fastcall *v4)(__int64, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 v7; // rax
  __int16 n4; // dx
  _BYTE v10[24]; // [rsp+20h] [rbp-18h] BYREF
  __int64 v11; // [rsp+40h] [rbp+8h] BYREF
  char v12; // [rsp+58h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v12,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v11) = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v10, &v11);
  v11 = v6;
  if ( v6
    && (v7 = sub_1403B4B50(v6 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v7 + 4), n4 != 4)
    && *(_WORD *)(v7 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v11)) )
  {
    return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x710LL))(
             v6 & 0xFFFFFFFFFFFFLL,
             a2);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_146B520B0 (0x146B520B0) ---

// --- Function: sub_146B52280 (0x146B52280) ---
__int64 __fastcall sub_146B52280(unsigned __int64 a1, __int64 a2, int n2_1, int a4, char a5, unsigned __int8 n2)
{
  unsigned __int64 *v7; // rcx
  __int64 v10; // r12
  _DWORD *v11; // rax
  unsigned __int64 *v13; // rcx
  signed __int64 v14; // rdx
  char v15; // dl
  unsigned __int64 v16; // rcx
  unsigned __int16 v17; // ax
  const void *v18; // rdx
  __int64 v19; // rbx
  __int64 v20; // rdi
  unsigned __int64 v21; // rax
  bool v22; // al
  int v23; // edx
  char v24; // di
  char v25; // r15
  __int64 v26; // rbx
  signed __int64 v27; // rdx
  signed __int64 v28; // r13
  bool v29; // zf
  __int64 n0xD8; // rdx
  __int64 i; // [rsp+30h] [rbp-48h] BYREF
  unsigned __int64 v32; // [rsp+38h] [rbp-40h] BYREF
  unsigned __int64 v33; // [rsp+40h] [rbp-38h] BYREF
  __int128 v34; // [rsp+48h] [rbp-30h] BYREF
  __int64 v35; // [rsp+58h] [rbp-20h]

  v7 = *(unsigned __int64 **)(a1 + 0x130);
  v10 = a2;
  if ( v7 )
  {
    if ( sub_14030EC00(v7) )
    {
      v11 = *(_DWORD **)(a1 + 0x130);
      if ( v11[4] == 5 )
      {
        sub_146B52280(*v11, v10, n2_1, a4, a5, n2);
        return v10;
      }
    }
  }
  if ( a5 )
  {
    if ( *(_BYTE *)(a1 + 0xB8) )
    {
      v13 = *(unsigned __int64 **)(a1 + 0x130);
      if ( v13 )
      {
        if ( sub_14030EC00(v13) )
        {
          if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
          {
            ++dword_149AC4C0C;
          }
          else
          {
            v14 = _InterlockedIncrement64(&qword_149AC4BF8);
            if ( (v14 & 0x200000) != 0 )
              sub_1403CB300((__int64)&qword_149AC4BF8, v14, "CEntity::GetTransform", "s_aggregateHierarchyLock", 1);
          }
          v35 = 0;
          v34 = 0;
          if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
          {
            v15 = 0;
            v16 = a1 - 6;
          }
          else
          {
            v15 = 1;
            v16 = a1 & 0xFFFFFFFFFF000000uLL;
          }
          v17 = *(_WORD *)(v16 + 2) | 0x2000;
          if ( !v15 )
            v17 = *(_WORD *)(v16 + 2);
          v33 = a1 | ((unsigned __int64)v17 << 0x30);
          sub_146B15D30((__int64)&v34, (__int64 *)&v33);
          for ( i = **(_QWORD **)(a1 + 0x130);
                sub_14030EC00((unsigned __int64 *)&i);
                i = **(_QWORD **)((i & 0xFFFFFFFFFFFFLL) + 0x130) )
          {
            sub_146B15A20((__int64)&v34, &i);
          }
          v18 = (const void *)v34;
          v19 = *((_QWORD *)&v34 + 1) - 8LL;
          v20 = *(_QWORD *)(*((_QWORD *)&v34 + 1) - 8LL);
          if ( *((_QWORD *)&v34 + 1) - 8LL != (_QWORD)v34 )
          {
            do
            {
              v21 = *(_QWORD *)(v19 - 8);
              v19 -= 8;
              v32 = v21;
              v22 = sub_14030EC00(&v32);
              v23 = v32;
              if ( !v22 )
                v23 = 0;
              sub_146B828D0(v20, v23, n2, 0, 0);
              v18 = (const void *)v34;
              LODWORD(v20) = v32;
            }
            while ( v19 != (_QWORD)v34 );
            v10 = a2;
          }
          if ( v18 )
          {
            sub_1403A3120((__int64)&v34, v18, (v35 - (_QWORD)v18) & 0xFFFFFFFFFFFFFFF8uLL);
            v34 = 0;
            v35 = 0;
          }
          sub_1402D2790((__int64)&qword_149AC4BF8);
        }
      }
    }
  }
  if ( !n2 || n2 == 2 )
  {
    v24 = 0;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  }
  else
  {
    v24 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) )
    {
      v25 = 1;
      v26 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      if ( *(_DWORD *)(v26 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(v26 + 0x14);
      }
      else
      {
        v27 = _InterlockedIncrement64((volatile signed __int64 *)v26);
        if ( (v27 & 0x200000) != 0 )
          sub_1403CB300(v26, v27, "CEntity::GetTransform", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
      }
      goto LABEL_38;
    }
  }
  v25 = 0;
  v26 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
LABEL_38:
  if ( v24 )
  {
    if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xD4);
    }
    else
    {
      v28 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v28 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0xC0, v28, "CEntity::GetTransform", "m_cross_ecus_state.updateLock", 1);
    }
  }
  if ( n2_1 == 2 )
  {
    v29 = v24 == 0;
    n0xD8 = 0xD8;
    if ( !v24 )
      n0xD8 = 0x28;
    *(_QWORD *)(v10 + 0x18) = *(_QWORD *)(n0xD8 + a1 + 0x18);
    *(_QWORD *)v10 = *(_QWORD *)(n0xD8 + a1);
    *(_QWORD *)(v10 + 8) = *(_QWORD *)(n0xD8 + a1 + 8);
    *(_QWORD *)(v10 + 0x10) = *(_QWORD *)(n0xD8 + a1 + 0x10);
    *(_OWORD *)(v10 + 0x20) = *(_OWORD *)(n0xD8 + a1 + 0x20);
    *(double *)(v10 + 0x30) = *(double *)(n0xD8 + a1 + 0x30);
    *(_QWORD *)(v10 + 0x38) = *(_QWORD *)(n0xD8 + a1 + 0x38);
  }
  else
  {
    (*(void (__fastcall **)(__int64, __int64, unsigned __int64))(*(_QWORD *)qword_149B4FBE8 + 0x2F0LL))(
      qword_149B4FBE8,
      v10,
      a1 + 0x2A8);
    v29 = v24 == 0;
  }
  if ( !v29 )
    sub_1402D2790(a1 + 0xC0);
  if ( v25 )
    sub_1402D2790(v26);
  return v10;
}

// --- End Function: sub_146B52280 (0x146B52280) ---

// --- Function: sub_146B526C0 (0x146B526C0) ---
__int64 __fastcall sub_146B526C0(unsigned __int64 a1, __int64 a2, int n2, char a4, unsigned __int8 n2_1)
{
  int v6; // r9d

  v6 = 0xFFFFFFFF;
  if ( !n2 )
    v6 = dword_149B4FDFC;
  sub_146B52280(a1, a2, n2, v6, a4, n2_1);
  return a2;
}

// --- End Function: sub_146B526C0 (0x146B526C0) ---

// --- Function: sub_146B52700 (0x146B52700) ---
__int64 __fastcall sub_146B52700(__int64 a1, __int64 a2, unsigned int a3)
{
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax

  v5 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v5 && sub_14030EC00(v5) && (v7 = *(_QWORD *)(a1 + 0x130), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_146B52700(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, a3);
    return a2;
  }
  else
  {
    (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x310LL))(
      qword_149B4FBE8,
      a2,
      a1 + 0x2A8,
      a3);
    return a2;
  }
}

// --- End Function: sub_146B52700 (0x146B52700) ---

// --- Function: sub_146B529B0 (0x146B529B0) ---
float *__fastcall sub_146B529B0(__int64 a1, float *a2, unsigned __int8 n2)
{
  double v5[5]; // [rsp+20h] [rbp-28h] BYREF

  sub_146B51490(a1, v5, 0, n2);
  sub_1412A3B70(a2, v5);
  return a2;
}

// --- End Function: sub_146B529B0 (0x146B529B0) ---

// --- Function: sub_146B529E0 (0x146B529E0) ---
unsigned __int64 __fastcall sub_146B529E0(__int64 a1, double *a2, unsigned __int8 n2_1)
{
  int n2; // edi
  unsigned __int64 *v6; // rcx
  __int64 v7; // rax
  char v8; // si
  char v9; // r15
  __int64 v10; // rdi
  signed __int64 v11; // rdx
  volatile signed __int64 *v12; // rbp
  signed __int64 v13; // r14
  float v14; // xmm0_4
  float v15; // xmm1_4
  double v16; // xmm7_8
  double v17; // xmm6_8
  double v18; // xmm9_8
  double v19; // xmm10_8
  double *v20; // rax
  double v21; // xmm2_8
  double v22; // xmm8_8
  double v23; // xmm0_8
  double v24; // xmm1_8
  double v25; // xmm8_8
  double v26; // xmm6_8
  double v27; // xmm5_8
  double v28; // xmm3_8
  double v29; // kr00_8
  double v30; // xmm5_8
  double v31; // xmm0_8
  double v32; // xmm12_8
  double v33; // xmm7_8
  double v34; // xmm13_8
  double v35; // xmm14_8
  double v36; // xmm15_8
  double v37; // xmm9_8
  double v38; // xmm8_8
  double v39; // xmm10_8
  double v40; // xmm5_8
  double v41; // xmm0_8
  double v42; // xmm12_8
  double v43; // kr00_8
  double v44; // xmm8_8
  double v45; // xmm11_8
  double v46; // xmm14_8
  double v47; // xmm13_8
  double v48; // xmm4_8
  double v49; // xmm9_8
  double v50; // kr00_8
  double v51; // xmm7_8
  double v52; // xmm6_8
  double v53; // xmm4_8
  double v54; // xmm5_8
  double v55; // xmm4_8
  double v56; // xmm3_8
  unsigned __int64 n0x10; // rax
  double v58; // [rsp+30h] [rbp-148h]
  double v59; // [rsp+38h] [rbp-140h]
  double v60; // [rsp+40h] [rbp-138h]
  double v61; // [rsp+40h] [rbp-138h]
  double v62; // [rsp+48h] [rbp-130h]
  double v63; // [rsp+50h] [rbp-128h]
  double v64; // [rsp+58h] [rbp-120h]
  _BYTE v65[64]; // [rsp+60h] [rbp-118h] BYREF
  double v66; // [rsp+180h] [rbp+8h]
  double v67; // [rsp+198h] [rbp+20h]

  n2 = n2_1;
  while ( 1 )
  {
    v6 = *(unsigned __int64 **)(a1 + 0x130);
    if ( !v6 )
      break;
    if ( !sub_14030EC00(v6) )
      break;
    v7 = *(_QWORD *)(a1 + 0x130);
    if ( *(_DWORD *)(v7 + 0x10) != 5 )
      break;
    a1 = *(_QWORD *)v7 & 0xFFFFFFFFFFFFLL;
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v8 = 0;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
    goto LABEL_14;
  }
  v8 = 1;
  if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) )
  {
LABEL_14:
    v9 = 0;
    v10 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
    goto LABEL_15;
  }
  v9 = 1;
  v10 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
  if ( *(_DWORD *)(v10 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v10 + 0x14);
  }
  else
  {
    v11 = _InterlockedIncrement64((volatile signed __int64 *)v10);
    if ( (v11 & 0x200000) != 0 )
      sub_1403CB300(v10, v11, "CEntity::GetWorldBounds", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
  }
LABEL_15:
  v12 = (volatile signed __int64 *)(a1 + 0xC0);
  if ( v8 )
  {
    if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xD4);
    }
    else
    {
      v13 = _InterlockedIncrement64(v12);
      if ( (v13 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0xC0, v13, "CEntity::GetWorldBounds", "m_cross_ecus_state.updateLock", 1);
    }
  }
  v14 = *(float *)(a1 + 0x120);
  LODWORD(v15) = LODWORD(v14) ^ 0x80000000;
  v16 = 1.0e150;
  v17 = -1.0e150;
  if ( COERCE_FLOAT(LODWORD(v14) ^ 0x80000000) <= v14 )
  {
    v19 = v14;
    v18 = v15;
    v63 = v14;
    v66 = v15;
    v59 = v15;
    v67 = v14;
    v58 = v14;
  }
  else
  {
    v66 = 1.0e150;
    v59 = 1.0e150;
    v63 = -1.0e150;
    v67 = -1.0e150;
    v58 = -1.0e150;
    v18 = 1.0e150;
    v19 = -1.0e150;
  }
  v62 = v18;
  v20 = (double *)(*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x2F8LL))(
                    qword_149B4FBE8,
                    v65,
                    a1 + 0x2A8,
                    0);
  if ( v18 <= v19 )
  {
    v25 = *v20;
    v26 = v20[1];
    v27 = v20[2];
    v28 = v27 + v27;
    v29 = (v27 + v27) * v26;
    v30 = (v27 + v27) * v27;
    v60 = 1.0 - (v25 + v25) * v25;
    v31 = v20[3];
    v32 = v28 * *v20;
    v33 = (v26 + v26) * *v20;
    v34 = v31 * (v25 + v25);
    v35 = v31 * (v26 + v26);
    v36 = (v26 + v26) * v26;
    v37 = (v19 - v18) * 0.5;
    v38 = (v67 - v66) * 0.5;
    v39 = (v58 - v59) * 0.5;
    v64 = (fabs(1.0 - v36 - v30) * v37 + fabs(v33 - v31 * v28) * v38 + fabs(v32 + v35) * v39) * v20[7];
    v40 = (fabs(v60 - v30) * v38 + fabs(v31 * v28 + v33) * v37 + fabs(v29 - v34) * v39) * v20[7];
    v41 = v32 - v35;
    v42 = v20[7];
    v43 = fabs(v29 + v34) * v38 + COERCE_DOUBLE(*(_QWORD *)&v41 & 0x7FFFFFFFFFFFFFFFLL) * v37 + fabs(v60 - v36) * v39;
    v44 = (v62 + v63) * 0.5;
    v61 = v40;
    v45 = v43 * v42;
    v46 = v26;
    v47 = v20[2];
    v48 = v20[3];
    v49 = (v66 + v67) * 0.5;
    v50 = (v58 + v59) * 0.5;
    v51 = v26 * v50 - v47 * v49 + v48 * v44;
    v52 = v47 * v44 - *v20 * v50 + v48 * v49;
    v53 = *v20 * v49 - v46 * v44 + v48 * v50;
    v54 = (v46 * v53 - v47 * v52 + v44 + v46 * v53 - v47 * v52) * v42 + v20[4];
    v22 = v54 + v64;
    v55 = (v49 + v47 * v51 - *v20 * v53 + v47 * v51 - *v20 * v53) * v42 + v20[5];
    v23 = v55 - v61;
    v56 = (v50 + *v20 * v52 - v46 * v51 + *v20 * v52 - v46 * v51) * v42 + v20[6];
    v21 = v55 + v61;
    v24 = v54 - v64;
    v17 = v45 + v56;
    v16 = v56 - v45;
  }
  else
  {
    v21 = -1.0e150;
    v22 = -1.0e150;
    v23 = 1.0e150;
    v24 = 1.0e150;
  }
  *a2 = v24;
  n0x10 = 0x10;
  a2[1] = v23;
  a2[2] = v16;
  a2[3] = v22;
  a2[4] = v21;
  a2[5] = v17;
  if ( v8 )
    n0x10 = sub_1402D2790((__int64)v12);
  if ( v9 )
    return sub_1402D2790(v10);
  return n0x10;
}

// --- End Function: sub_146B529E0 (0x146B529E0) ---

// --- Function: sub_146B52FA0 (0x146B52FA0) ---
float *__fastcall sub_146B52FA0(__int64 a1, float *a2, unsigned __int8 n2_1)
{
  int n2; // ebx
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  char v9; // si
  char v10; // r14
  __int64 v11; // rbx
  signed __int64 v12; // rdx
  signed __int64 v13; // rbp
  __int64 v14; // rax
  double *v15; // rax
  double v16; // xmm11_8
  double v17; // xmm9_8
  double v18; // xmm4_8
  __int128 v19; // xmm13
  double v20; // xmm12_8
  double v21; // kr00_8
  double v22; // xmm8_8
  double v23; // xmm6_8
  double v24; // xmm4_8
  double v26; // xmm3_8
  __int128 v30; // kr00_16
  _BYTE v33[64]; // [rsp+30h] [rbp-E8h] BYREF

  n2 = n2_1;
  v5 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v5 )
  {
    if ( sub_14030EC00(v5) )
    {
      v7 = *(_QWORD *)(a1 + 0x130);
      if ( *(_DWORD *)(v7 + 0x10) == 5 )
      {
        sub_146B52FA0(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, (unsigned __int8)n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v9 = 0;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  }
  else
  {
    v9 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) )
    {
      v10 = 1;
      v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      if ( *(_DWORD *)(v11 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(v11 + 0x14);
      }
      else
      {
        v12 = _InterlockedIncrement64((volatile signed __int64 *)v11);
        if ( (v12 & 0x200000) != 0 )
          sub_1403CB300(v11, v12, "CEntity::GetWorldForwardDir", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
      }
      goto LABEL_14;
    }
  }
  v10 = 0;
  v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
LABEL_14:
  if ( v9 )
  {
    if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xD4);
    }
    else
    {
      v13 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v13 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0xC0, v13, "CEntity::GetWorldForwardDir", "m_cross_ecus_state.updateLock", 1);
    }
  }
  v14 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x60LL))(qword_149B4FBE8, a1 + 0x2A8);
  v15 = (double *)(*(__int64 (__fastcall **)(__int64, _BYTE *, _QWORD))(*(_QWORD *)v14 + 0x68LL))(v14, v33, 0);
  v16 = v15[1];
  v17 = v15[2];
  v18 = v15[3];
  v19 = COERCE_UNSIGNED_INT64(*(float *)(a1 + 0xB0));
  v20 = *(float *)(a1 + 0xAC);
  v21 = *(float *)(a1 + 0xA8);
  v22 = v16 * *(double *)&v19 - v17 * v20 + v18 * v21;
  v23 = v21 * v17 - *v15 * *(double *)&v19 + v18 * v20;
  v24 = *v15 * v20 - v21 * v16 + v18 * *(double *)&v19;
  _XMM2 = COERCE_UNSIGNED_INT64(v21 + v16 * v24 - v17 * v23 + v16 * v24 - v17 * v23);
  v26 = *v15 * v23 - v16 * v22;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  _XMM2 = COERCE_UNSIGNED_INT64(v20 + v17 * v22 - *v15 * v24 + v17 * v22 - *v15 * v24);
  *a2 = *(float *)&_XMM0;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  *((_QWORD *)&v30 + 1) = *((_QWORD *)&v19 + 1);
  *(double *)&v30 = *(double *)&v19 + v26 + v26;
  _XMM2 = v30;
  a2[1] = *(float *)&_XMM0;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  a2[2] = *(float *)&_XMM0;
  if ( v9 )
    sub_1402D2790(a1 + 0xC0);
  if ( v10 )
    sub_1402D2790(v11);
  return a2;
}

// --- End Function: sub_146B52FA0 (0x146B52FA0) ---

// --- Function: sub_146B53300 (0x146B53300) ---
__int64 __fastcall sub_146B53300(__int64 a1, __int64 a2, unsigned __int8 n2)
{
  sub_146B4EA30(a1, a2, 0, n2);
  return a2;
}

// --- End Function: sub_146B53300 (0x146B53300) ---

// --- Function: sub_146B53320 (0x146B53320) ---
_QWORD *__fastcall sub_146B53320(__int64 a1, _QWORD *a2, unsigned __int8 n2)
{
  sub_146B51490(a1, a2, 0, n2);
  return a2;
}

// --- End Function: sub_146B53320 (0x146B53320) ---

// --- Function: sub_146B53340 (0x146B53340) ---
double __fastcall sub_146B53340(__m256 *n0xD, unsigned __int8 a2)
{
  _BYTE v3[72]; // [rsp+20h] [rbp-48h] BYREF

  return *(double *)(sub_146B54040(n0xD, v3, a2) + 0x38);
}

// --- End Function: sub_146B53340 (0x146B53340) ---

// --- Function: sub_146B53360 (0x146B53360) ---
__int64 __fastcall sub_146B53360(unsigned __int64 a1, __int64 a2, int a3, unsigned __int8 n2)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  __int64 v14; // rcx
  double v15; // xmm8_8
  double v16; // xmm3_8
  double v17; // xmm1_8
  double v18; // xmm5_8
  double v19; // xmm6_8
  double v20; // xmm12_8
  double v21; // xmm14_8
  double v22; // xmm10_8
  double v23; // xmm9_8
  double v24; // xmm13_8
  double v25; // xmm11_8
  double v26; // xmm3_8
  double v27; // kr00_8
  double v28; // xmm5_8
  __int64 v29; // rax
  double v30; // xmm8_8
  __int64 v31; // rax
  __int64 v32; // rax
  __int64 result; // rax
  _BYTE v34[64]; // [rsp+30h] [rbp-D8h] BYREF
  __int128 v35; // [rsp+70h] [rbp-98h]
  __int128 v36; // [rsp+80h] [rbp-88h]
  __int128 v37; // [rsp+90h] [rbp-78h]
  __int128 v38; // [rsp+A0h] [rbp-68h]
  __int128 v39; // [rsp+B0h] [rbp-58h]
  __int128 v40; // [rsp+C0h] [rbp-48h]
  __int128 v41; // [rsp+D0h] [rbp-38h]
  __int128 v42; // [rsp+E0h] [rbp-28h]
  __int128 v43; // [rsp+F0h] [rbp-18h]

  v43 = v4;
  v42 = v5;
  v41 = v6;
  v40 = v7;
  v39 = v8;
  v38 = v9;
  v37 = v10;
  v36 = v11;
  v35 = v12;
  v14 = sub_146B52280(a1, (__int64)v34, 0, a3, 0, n2);
  v15 = *(double *)v14;
  v16 = *(double *)(v14 + 8);
  v17 = *(double *)(v14 + 0x18);
  v18 = *(double *)(v14 + 0x10);
  v19 = v18 + v18;
  v20 = (v15 + v15) * v17;
  v21 = 1.0 - (v15 + v15) * v15;
  v22 = (v16 + v16) * v17;
  v23 = (v16 + v16) * *(double *)v14;
  v24 = (v16 + v16) * v16;
  v25 = (v18 + v18) * v16;
  v26 = (v18 + v18) * v17;
  v27 = (v18 + v18) * v18;
  v28 = *(double *)(v14 + 0x38);
  v29 = *(_QWORD *)(v14 + 0x20);
  *(double *)a2 = (1.0 - v24 - v27) * v28;
  v30 = v19 * v15;
  *(double *)(a2 + 0x10) = (v30 + v22) * v28;
  *(double *)(a2 + 8) = (v23 - v26) * v28;
  *(double *)(a2 + 0x20) = (v26 + v23) * v28;
  *(_QWORD *)(a2 + 0x18) = v29;
  v31 = *(_QWORD *)(v14 + 0x28);
  *(double *)(a2 + 0x28) = (v21 - v27) * v28;
  *(double *)(a2 + 0x30) = (v25 - v20) * v28;
  *(_QWORD *)(a2 + 0x38) = v31;
  v32 = *(_QWORD *)(v14 + 0x30);
  *(double *)(a2 + 0x40) = (v30 - v22) * v28;
  *(_QWORD *)(a2 + 0x58) = v32;
  result = a2;
  *(double *)(a2 + 0x50) = (v21 - v24) * v28;
  *(double *)(a2 + 0x48) = (v25 + v20) * v28;
  return result;
}

// --- End Function: sub_146B53360 (0x146B53360) ---

// --- Function: sub_146B53500 (0x146B53500) ---
double *__fastcall sub_146B53500(unsigned __int64 a1, double *a2, unsigned __int8 n2)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  double v13; // xmm8_8
  double v14; // xmm3_8
  double *result; // rax
  double v16; // xmm6_8
  double v17; // xmm12_8
  double v18; // xmm14_8
  double v19; // xmm10_8
  double v20; // xmm9_8
  double v21; // xmm13_8
  double v22; // xmm11_8
  double v23; // xmm3_8
  double v24; // kr00_8
  double v25; // xmm5_8
  double v26; // xmm8_8
  double v27; // xmm2_8
  double v28; // xmm0_8
  double v29; // xmm1_8
  double v30; // [rsp+30h] [rbp-D8h] BYREF
  double v31; // [rsp+38h] [rbp-D0h]
  double v32; // [rsp+40h] [rbp-C8h]
  double v33; // [rsp+48h] [rbp-C0h]
  double v34; // [rsp+50h] [rbp-B8h]
  double v35; // [rsp+58h] [rbp-B0h]
  double v36; // [rsp+60h] [rbp-A8h]
  double v37; // [rsp+68h] [rbp-A0h]
  __int128 v38; // [rsp+70h] [rbp-98h]
  __int128 v39; // [rsp+80h] [rbp-88h]
  __int128 v40; // [rsp+90h] [rbp-78h]
  __int128 v41; // [rsp+A0h] [rbp-68h]
  __int128 v42; // [rsp+B0h] [rbp-58h]
  __int128 v43; // [rsp+C0h] [rbp-48h]
  __int128 v44; // [rsp+D0h] [rbp-38h]
  __int128 v45; // [rsp+E0h] [rbp-28h]
  __int128 v46; // [rsp+F0h] [rbp-18h]

  v46 = v3;
  v45 = v4;
  v44 = v5;
  v43 = v6;
  v42 = v7;
  v41 = v8;
  v40 = v9;
  v39 = v10;
  v38 = v11;
  sub_146B52280(a1, (__int64)&v30, 0, dword_149B4FDFC, 0, n2);
  v13 = v30;
  v14 = v31;
  result = a2;
  v16 = v32 + v32;
  v17 = (v13 + v13) * v33;
  v18 = 1.0 - (v13 + v13) * v13;
  v19 = (v14 + v14) * v33;
  v20 = (v14 + v14) * v30;
  v21 = (v14 + v14) * v14;
  v22 = (v32 + v32) * v31;
  v23 = (v32 + v32) * v33;
  v24 = (v32 + v32) * v32;
  v25 = v37;
  *a2 = (1.0 - v21 - v24) * v37;
  v26 = v16 * v13;
  a2[1] = (v20 - v23) * v25;
  v27 = v34;
  a2[2] = (v26 + v19) * v25;
  a2[3] = v27;
  a2[4] = (v23 + v20) * v25;
  a2[5] = (v18 - v24) * v25;
  v28 = v35;
  a2[6] = (v22 - v17) * v25;
  a2[7] = v28;
  a2[8] = (v26 - v19) * v25;
  a2[9] = (v22 + v17) * v25;
  v29 = v36;
  a2[0xA] = (v18 - v21) * v25;
  a2[0xB] = v29;
  return result;
}

// --- End Function: sub_146B53500 (0x146B53500) ---

// --- Function: sub_146B536B0 (0x146B536B0) ---
__int64 __fastcall sub_146B536B0(__int64 a1, __int64 a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int64 v13; // rax
  __int64 v14; // rcx
  double v15; // xmm8_8
  double v16; // xmm3_8
  double v17; // xmm1_8
  double v18; // xmm5_8
  double v19; // xmm6_8
  double v20; // xmm12_8
  double v21; // xmm14_8
  double v22; // xmm10_8
  double v23; // xmm9_8
  double v24; // xmm13_8
  double v25; // xmm11_8
  double v26; // xmm3_8
  double v27; // kr00_8
  double v28; // xmm5_8
  __int64 v29; // rax
  double v30; // xmm8_8
  __int64 v31; // rax
  __int64 v32; // rax
  __int64 result; // rax
  _BYTE v34[64]; // [rsp+30h] [rbp-D8h] BYREF
  __int128 v35; // [rsp+70h] [rbp-98h]
  __int128 v36; // [rsp+80h] [rbp-88h]
  __int128 v37; // [rsp+90h] [rbp-78h]
  __int128 v38; // [rsp+A0h] [rbp-68h]
  __int128 v39; // [rsp+B0h] [rbp-58h]
  __int128 v40; // [rsp+C0h] [rbp-48h]
  __int128 v41; // [rsp+D0h] [rbp-38h]
  __int128 v42; // [rsp+E0h] [rbp-28h]
  __int128 v43; // [rsp+F0h] [rbp-18h]

  v43 = v3;
  v42 = v4;
  v41 = v5;
  v40 = v6;
  v39 = v7;
  v38 = v8;
  v37 = v9;
  v36 = v10;
  v13 = *(_QWORD *)qword_149B4FBE8;
  v35 = v11;
  v14 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, _QWORD, _DWORD))(v13 + 0x308))(
          qword_149B4FBE8,
          v34,
          a1 + 0x2A8,
          0,
          *(_DWORD *)(a3 + 0x7C));
  v15 = *(double *)v14;
  v16 = *(double *)(v14 + 8);
  v17 = *(double *)(v14 + 0x18);
  v18 = *(double *)(v14 + 0x10);
  v19 = v18 + v18;
  v20 = (v15 + v15) * v17;
  v21 = 1.0 - (v15 + v15) * v15;
  v22 = (v16 + v16) * v17;
  v23 = (v16 + v16) * *(double *)v14;
  v24 = (v16 + v16) * v16;
  v25 = (v18 + v18) * v16;
  v26 = (v18 + v18) * v17;
  v27 = (v18 + v18) * v18;
  v28 = *(double *)(v14 + 0x38);
  v29 = *(_QWORD *)(v14 + 0x20);
  v30 = v19 * *(double *)v14;
  *(double *)a2 = (1.0 - v24 - v27) * v28;
  *(double *)(a2 + 0x10) = (v30 + v22) * v28;
  *(double *)(a2 + 8) = (v23 - v26) * v28;
  *(double *)(a2 + 0x20) = (v26 + v23) * v28;
  *(_QWORD *)(a2 + 0x18) = v29;
  v31 = *(_QWORD *)(v14 + 0x28);
  *(double *)(a2 + 0x28) = (v21 - v27) * v28;
  *(double *)(a2 + 0x30) = (v25 - v20) * v28;
  *(_QWORD *)(a2 + 0x38) = v31;
  v32 = *(_QWORD *)(v14 + 0x30);
  *(double *)(a2 + 0x40) = (v30 - v22) * v28;
  *(_QWORD *)(a2 + 0x58) = v32;
  result = a2;
  *(double *)(a2 + 0x50) = (v21 - v24) * v28;
  *(double *)(a2 + 0x48) = (v25 + v20) * v28;
  return result;
}

// --- End Function: sub_146B536B0 (0x146B536B0) ---

// --- Function: sub_146B53860 (0x146B53860) ---
__int64 __fastcall sub_146B53860(__int64 a1, double *a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm9
  __int128 v6; // xmm10
  float v7; // xmm0_4
  float v8; // xmm1_4
  double v10; // xmm9_8
  double v11; // xmm10_8
  double *v12; // rax
  double v13; // xmm2_8
  double v14; // xmm3_8
  double v15; // xmm6_8
  double v16; // xmm7_8
  double v17; // xmm0_8
  double v18; // xmm1_8
  double v19; // xmm6_8
  double v20; // xmm5_8
  double v21; // xmm8_8
  double v22; // xmm3_8
  double v23; // kr00_8
  double v24; // xmm5_8
  double v25; // xmm0_8
  double v26; // xmm7_8
  double v27; // xmm13_8
  double v28; // xmm14_8
  double v29; // xmm15_8
  double v30; // xmm9_8
  double v31; // xmm10_8
  double v32; // xmm12_8
  double v33; // xmm11_8
  double v34; // xmm8_8
  double v35; // xmm14_8
  double v36; // xmm13_8
  double v37; // xmm9_8
  double v38; // xmm7_8
  double v39; // xmm6_8
  double v40; // xmm4_8
  double v41; // xmm5_8
  double v42; // xmm4_8
  double v43; // xmm3_8
  double v44; // xmm5_8
  double v45; // kr00_8
  double v46; // xmm3_8
  __int64 n0x10; // rax
  double v48; // [rsp+20h] [rbp-108h]
  double v49; // [rsp+20h] [rbp-108h]
  double v50; // [rsp+28h] [rbp-100h]
  double v51; // [rsp+30h] [rbp-F8h]
  _BYTE v52[72]; // [rsp+38h] [rbp-F0h] BYREF
  __int128 v53; // [rsp+D0h] [rbp-58h]
  __int128 v54; // [rsp+E0h] [rbp-48h]
  __int128 v55; // [rsp+100h] [rbp-28h]
  __int128 v56; // [rsp+110h] [rbp-18h]
  double v57; // [rsp+148h] [rbp+20h]

  v7 = *(float *)(a1 + 0x120);
  LODWORD(v8) = LODWORD(v7) ^ 0x80000000;
  v56 = v3;
  v55 = v4;
  v54 = v5;
  v53 = v6;
  if ( COERCE_FLOAT(LODWORD(v7) ^ 0x80000000) <= v7 )
  {
    v10 = v7;
    v11 = v8;
    v57 = v7;
    v50 = v8;
    v12 = (double *)sub_146B54040(a1, v52, a3);
    if ( v8 <= (double)v7 )
    {
      v19 = v12[1];
      v20 = v12[2];
      v21 = *v12;
      v22 = v20 + v20;
      v23 = (v20 + v20) * v19;
      v24 = (v20 + v20) * v20;
      v48 = 1.0 - (v21 + v21) * v21;
      v25 = v12[3];
      v26 = (v19 + v19) * *v12;
      v27 = v25 * (v21 + v21);
      v28 = v25 * (v19 + v19);
      v29 = (v19 + v19) * v19;
      v30 = (v10 - v11) * 0.5;
      v31 = (v57 - v11) * 0.5;
      v51 = (fabs(1.0 - v29 - v24) * v30 + fabs(v26 - v25 * v22) * v31 + fabs(v22 * *v12 + v28) * v31) * v12[7];
      v32 = v12[7];
      v33 = (fabs(v23 + v27) * v31 + fabs(v22 * *v12 - v28) * v30 + fabs(v48 - v29) * v31) * v32;
      v34 = (v50 + v57) * 0.5;
      v49 = (fabs(v48 - v24) * v31 + fabs(v25 * v22 + v26) * v30 + fabs(v23 - v27) * v31) * v32;
      v35 = v19;
      v36 = v12[2];
      v37 = (v57 + v50) * 0.5;
      v38 = v19 * v37 - v36 * v37 + v34 * v25;
      v39 = v34 * v36 - *v12 * v37 + v25 * v37;
      v40 = *v12 * v37 - v34 * v35 + v25 * v37;
      v41 = v35 * v40 - v36 * v39;
      v42 = v36 * v38 - *v12 * v40;
      v43 = *v12 * v39 - v35 * v38;
      v44 = (v34 + v41 + v41) * v32 + v12[4];
      v16 = v44 + v51;
      v45 = (v37 + v42 + v42) * v32 + v12[5];
      v15 = v45 + v49;
      v17 = v45 - v49;
      v46 = (v37 + v43 + v43) * v32 + v12[6];
      v18 = v44 - v51;
      v13 = v33 + v46;
      v14 = v46 - v33;
      goto LABEL_6;
    }
  }
  else
  {
    sub_146B54040(a1, v52, a3);
  }
  v13 = -1.0e150;
  v14 = 1.0e150;
  v15 = -1.0e150;
  v16 = -1.0e150;
  v17 = 1.0e150;
  v18 = 1.0e150;
LABEL_6:
  *a2 = v18;
  n0x10 = 0x10;
  a2[1] = v17;
  a2[2] = v14;
  a2[3] = v16;
  a2[4] = v15;
  a2[5] = v13;
  return n0x10;
}

// --- End Function: sub_146B53860 (0x146B53860) ---

// --- Function: sub_146B53C10 (0x146B53C10) ---
__int64 __fastcall sub_146B53C10(__int64 a1, __int64 a2)
{
  unsigned __int64 *v4; // rcx
  __int64 v5; // rax

  v4 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v4 && sub_14030EC00(v4) && (v5 = *(_QWORD *)(a1 + 0x130), *(_DWORD *)(v5 + 0x10) == 5) )
  {
    sub_146B53C10(*(_QWORD *)v5 & 0xFFFFFFFFFFFFLL, a2);
    return a2;
  }
  else
  {
    *(double *)a2 = *(double *)(a1 + 0xA8);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(a1 + 0xB0);
    return a2;
  }
}

// --- End Function: sub_146B53C10 (0x146B53C10) ---

// --- Function: sub_146B53C90 (0x146B53C90) ---
__int64 __fastcall sub_146B53C90(__int64 a1, __int64 a2)
{
  (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2B0) + 0x40LL))(*(_QWORD *)(a1 + 0x2B0));
  return a2;
}

// --- End Function: sub_146B53C90 (0x146B53C90) ---

// --- Function: sub_146B53CB0 (0x146B53CB0) ---
__int64 __fastcall sub_146B53CB0(__int64 a1, __int64 a2, unsigned __int8 n2_1)
{
  int n2; // esi
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  __int64 result; // rax
  bool v9; // cl
  __int64 n0xF8; // rax
  double v11; // xmm1_8

  n2 = n2_1;
  v5 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v5 && sub_14030EC00(v5) && (v7 = *(_QWORD *)(a1 + 0x130), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_146B53CB0(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, (unsigned __int8)n2);
    return a2;
  }
  else
  {
    v9 = (_BYTE)n2 && n2 != 2;
    n0xF8 = 0xF8;
    if ( !v9 )
      n0xF8 = 0x48;
    *(_OWORD *)a2 = *(_OWORD *)(n0xF8 + a1);
    v11 = *(double *)(n0xF8 + a1 + 0x10);
    result = a2;
    *(double *)(a2 + 0x10) = v11;
  }
  return result;
}

// --- End Function: sub_146B53CB0 (0x146B53CB0) ---

// --- Function: sub_146B53D70 (0x146B53D70) ---
_QWORD *__fastcall sub_146B53D70(__int64 a1, _QWORD *a2, unsigned __int8 a3)
{
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  _QWORD *v9; // rax
  _BYTE v10[72]; // [rsp+20h] [rbp-48h] BYREF

  v5 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v5 && sub_14030EC00(v5) && (v7 = *(_QWORD *)(a1 + 0x130), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_146B53D70(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, a3);
    return a2;
  }
  else
  {
    v9 = (_QWORD *)sub_146B54040(a1, v10, a3);
    a2[3] = v9[3];
    *a2 = *v9;
    a2[1] = v9[1];
    a2[2] = v9[2];
    return a2;
  }
}

// --- End Function: sub_146B53D70 (0x146B53D70) ---

// --- Function: sub_146B53E20 (0x146B53E20) ---
__int64 __fastcall sub_146B53E20(__int64 a1, __int64 a2, unsigned __int8 a3)
{
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  __int64 v8; // rax
  double v9; // xmm8_8
  double v10; // xmm3_8
  double v11; // xmm1_8
  double v12; // xmm5_8
  double v13; // xmm12_8
  double v14; // xmm14_8
  double v15; // xmm10_8
  double v16; // xmm9_8
  double v17; // xmm13_8
  double v18; // xmm11_8
  double v19; // xmm3_8
  double v20; // xmm8_8
  double v21; // kr00_8
  _BYTE v23[64]; // [rsp+20h] [rbp-D8h] BYREF

  v5 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v5 && sub_14030EC00(v5) && (v7 = *(_QWORD *)(a1 + 0x130), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_146B53E20(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, a3);
  }
  else
  {
    v8 = sub_146B54040(a1, v23, a3);
    v9 = *(double *)v8;
    v10 = *(double *)(v8 + 8);
    v11 = *(double *)(v8 + 0x18);
    v12 = *(double *)(v8 + 0x10);
    v13 = (v9 + v9) * v11;
    v14 = 1.0 - (v9 + v9) * v9;
    v15 = (v10 + v10) * v11;
    v16 = (v10 + v10) * *(double *)v8;
    v17 = (v10 + v10) * v10;
    v18 = (v12 + v12) * v10;
    v19 = (v12 + v12) * v11;
    v20 = (v12 + v12) * *(double *)v8;
    v21 = (v12 + v12) * v12;
    *(double *)a2 = (1.0 - v17 - v21) * *(double *)(v8 + 0x38);
    *(double *)(a2 + 8) = (v16 - v19) * *(double *)(v8 + 0x38);
    *(double *)(a2 + 0x10) = (v20 + v15) * *(double *)(v8 + 0x38);
    *(_QWORD *)(a2 + 0x18) = *(_QWORD *)(v8 + 0x20);
    *(double *)(a2 + 0x20) = (v19 + v16) * *(double *)(v8 + 0x38);
    *(double *)(a2 + 0x28) = (v14 - v21) * *(double *)(v8 + 0x38);
    *(double *)(a2 + 0x30) = (v18 - v13) * *(double *)(v8 + 0x38);
    *(_QWORD *)(a2 + 0x38) = *(_QWORD *)(v8 + 0x28);
    *(double *)(a2 + 0x40) = (v20 - v15) * *(double *)(v8 + 0x38);
    *(double *)(a2 + 0x48) = (v18 + v13) * *(double *)(v8 + 0x38);
    *(double *)(a2 + 0x50) = (v14 - v17) * *(double *)(v8 + 0x38);
    *(_QWORD *)(a2 + 0x58) = *(_QWORD *)(v8 + 0x30);
  }
  return a2;
}

// --- End Function: sub_146B53E20 (0x146B53E20) ---

// --- Function: sub_146B54040 (0x146B54040) ---
__int64 __fastcall sub_146B54040(__int64 a1, __int64 a2, unsigned __int8 n2_1)
{
  int n2; // ebx
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  char v9; // si
  char v10; // r12
  __int64 v11; // rbx
  signed __int64 v12; // rdx
  signed __int64 v13; // r15
  __int64 n0xD8; // rdx

  n2 = n2_1;
  v5 = *(unsigned __int64 **)(a1 + 0x130);
  if ( v5 )
  {
    if ( sub_14030EC00(v5) )
    {
      v7 = *(_QWORD *)(a1 + 0x130);
      if ( *(_DWORD *)(v7 + 0x10) == 5 )
      {
        sub_146B54040(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, (unsigned __int8)n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v9 = 0;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  }
  else
  {
    v9 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) )
    {
      v10 = 1;
      v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      if ( *(_DWORD *)(v11 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(v11 + 0x14);
      }
      else
      {
        v12 = _InterlockedIncrement64((volatile signed __int64 *)v11);
        if ( (v12 & 0x200000) != 0 )
          sub_1403CB300(v11, v12, "CEntity::GetZoneTransform", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
      }
      goto LABEL_14;
    }
  }
  v10 = 0;
  v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
LABEL_14:
  if ( v9 )
  {
    if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xD4);
    }
    else
    {
      v13 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v13 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0xC0, v13, "CEntity::GetZoneTransform", "m_cross_ecus_state.updateLock", 1);
    }
  }
  n0xD8 = 0xD8;
  if ( !v9 )
    n0xD8 = 0x28;
  *(_QWORD *)(a2 + 0x18) = *(_QWORD *)(n0xD8 + a1 + 0x18);
  *(_QWORD *)a2 = *(_QWORD *)(n0xD8 + a1);
  *(_QWORD *)(a2 + 8) = *(_QWORD *)(n0xD8 + a1 + 8);
  *(_QWORD *)(a2 + 0x10) = *(_QWORD *)(n0xD8 + a1 + 0x10);
  *(_OWORD *)(a2 + 0x20) = *(_OWORD *)(n0xD8 + a1 + 0x20);
  *(double *)(a2 + 0x30) = *(double *)(n0xD8 + a1 + 0x30);
  *(_QWORD *)(a2 + 0x38) = *(_QWORD *)(n0xD8 + a1 + 0x38);
  if ( v9 )
    sub_1402D2790(a1 + 0xC0);
  if ( v10 )
    sub_1402D2790(v11);
  return a2;
}

// --- End Function: sub_146B54040 (0x146B54040) ---

// --- Function: sub_146B54730 (0x146B54730) ---
__int64 __fastcall sub_146B54730(__int64 a1, __int64 a2)
{
  char v4; // r14
  __int64 v5; // rdi
  signed __int64 v6; // rdx
  signed __int64 v7; // rsi
  unsigned __int8 v8; // si

  v4 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  v5 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
  if ( !v4 )
  {
    if ( *(_DWORD *)(v5 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v5 + 0x14);
    }
    else
    {
      v6 = _InterlockedIncrement64((volatile signed __int64 *)v5);
      if ( (v6 & 0x200000) != 0 )
        sub_1403CB300(v5, v6, "CEntity::HasAllTags", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
    }
  }
  if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xD4);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v7 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0xC0, v7, "CEntity::HasAllTags", "m_cross_ecus_state.updateLock", 1);
  }
  v8 = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x438LL))(
         qword_149B4FBE8,
         a1 + 0x2A8,
         a2);
  sub_1402D2790(a1 + 0xC0);
  if ( !v4 )
    sub_1402D2790(v5);
  return v8;
}

// --- End Function: sub_146B54730 (0x146B54730) ---

// --- Function: sub_146B54980 (0x146B54980) ---
__int64 __fastcall sub_146B54980(__int64 a1, __int64 a2)
{
  char v4; // r14
  __int64 v5; // rdi
  signed __int64 v6; // rdx
  signed __int64 v7; // rsi
  unsigned __int8 v8; // si

  v4 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  v5 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
  if ( !v4 )
  {
    if ( *(_DWORD *)(v5 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v5 + 0x14);
    }
    else
    {
      v6 = _InterlockedIncrement64((volatile signed __int64 *)v5);
      if ( (v6 & 0x200000) != 0 )
        sub_1403CB300(v5, v6, "CEntity::HasTag", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
    }
  }
  if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xD4);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v7 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0xC0, v7, "CEntity::HasTag", "m_cross_ecus_state.updateLock", 1);
  }
  v8 = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x430LL))(
         qword_149B4FBE8,
         a1 + 0x2A8,
         a2);
  sub_1402D2790(a1 + 0xC0);
  if ( !v4 )
    sub_1402D2790(v5);
  return v8;
}

// --- End Function: sub_146B54980 (0x146B54980) ---

// --- Function: sub_146B54AB0 (0x146B54AB0) ---
__int64 __fastcall sub_146B54AB0(__int64 a1)
{
  char v2; // r14
  __int64 v3; // rdi
  signed __int64 v4; // rdx
  signed __int64 v5; // rsi
  unsigned __int8 v6; // si

  v2 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  v3 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
  if ( !v2 )
  {
    if ( *(_DWORD *)(v3 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v3 + 0x14);
    }
    else
    {
      v4 = _InterlockedIncrement64((volatile signed __int64 *)v3);
      if ( (v4 & 0x200000) != 0 )
        sub_1403CB300(v3, v4, "CEntity::HasTags", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
    }
  }
  if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xD4);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0xC0, v5, "CEntity::HasTags", "m_cross_ecus_state.updateLock", 1);
  }
  v6 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x440LL))(qword_149B4FBE8, a1 + 0x2A8);
  sub_1402D2790(a1 + 0xC0);
  if ( !v2 )
    sub_1402D2790(v3);
  return v6;
}

// --- End Function: sub_146B54AB0 (0x146B54AB0) ---

// --- Function: sub_146B54C20 (0x146B54C20) ---
double __fastcall sub_146B54C20(__int64 a1, unsigned __int8 a2, char a3, __int64 a4)
{
  int v4; // edi
  int v7; // r14d
  signed __int64 v8; // rdx
  char v9; // r12
  __int64 v10; // rsi
  signed __int64 v11; // rbp
  volatile signed __int64 *v12; // rsi
  int v13; // ebp
  __int64 v14; // r8
  __int64 v15; // r9
  unsigned __int64 v16; // rax
  int v17; // edx
  int v18; // eax
  unsigned __int64 n0x200000; // rax
  __int64 v20; // rax
  __int64 v21; // rcx
  int v22; // eax
  char v23; // bp
  bool v24; // si
  unsigned int v25; // ecx
  __int64 v26; // rdx
  __int64 v27; // rdx
  volatile signed __int64 *v28; // rcx
  int v29; // eax
  unsigned __int64 n0x200000_1; // rax
  __int64 v31; // rax
  __int64 v32; // rdx
  __int64 v33; // rsi
  __int64 v34; // r8
  _DWORD v37[2]; // [rsp+40h] [rbp-108h] BYREF
  __int64 v38; // [rsp+48h] [rbp-100h]
  unsigned __int64 v39; // [rsp+50h] [rbp-F8h]
  unsigned __int64 v40; // [rsp+58h] [rbp-F0h]
  __int64 v41; // [rsp+60h] [rbp-E8h]
  __int64 v42; // [rsp+68h] [rbp-E0h]
  _BYTE v43[24]; // [rsp+90h] [rbp-B8h] BYREF
  __int64 v44; // [rsp+A8h] [rbp-A0h]
  _BYTE v45[24]; // [rsp+C8h] [rbp-80h] BYREF
  __int64 v46; // [rsp+E0h] [rbp-68h]

  v4 = 0;
  v38 = 0;
  v40 = 0;
  v41 = 0;
  v42 = 0;
  v7 = a2;
  v37[0] = 0xF00;
  v39 = __rdtsc();
  v37[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v37,
    &word_1515B1BC0,
    "CEntity::Hide",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0xC2A);
  HIWORD(v37[0]) = word_1515B1BC0;
  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v8 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v8 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v8, "CEntity::Hide", "CEntity::s_aggregateHierarchyLock", 1);
  }
  v9 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  if ( !v9 )
  {
    v10 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
    if ( *(_DWORD *)(v10 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v10 + 0x14);
    }
    else
    {
      v11 = _InterlockedIncrement64((volatile signed __int64 *)v10);
      if ( (v11 & 0x200000) != 0 )
        sub_1403CB300(
          v10,
          v11,
          (const char *)&p_p_p_p_p_p_p_p_p_p_p_Source,
          (const char *)&p_p_p_p_p_p_p_p_p_p_p_Source,
          1);
    }
  }
  v12 = (volatile signed __int64 *)(a1 + 0xC0);
  v13 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(a1 + 0xD0) == v13 )
  {
    ++*(_DWORD *)(a1 + 0xD4);
  }
  else
  {
    v14 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v16 = _InterlockedCompareExchange64(v12, 0x200000, 0);
    if ( v16 )
      sub_1403DCD60(
        a1 + 0xC0,
        v16,
        v14,
        (const char *)&p_p_p_p_p_p_p_p_p_p_p_Source,
        (const char *)&p_p_p_p_p_p_p_p_p_p_p_Source,
        1);
    else
      *(_QWORD *)(a1 + 0xC8) = v14;
    *(_DWORD *)(a1 + 0xD0) = v13;
  }
  v17 = *(_DWORD *)(a1 + 8);
  if ( (*(_BYTE *)(a1 + 8) & 1) == (_BYTE)v7 )
  {
    v18 = *(_DWORD *)(a1 + 0xD4);
    if ( v18 )
    {
      *(_DWORD *)(a1 + 0xD4) = v18 - 1;
    }
    else
    {
      *(_DWORD *)(a1 + 0xD0) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(v12, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        *(_QWORD *)(a1 + 0xC8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380(a1 + 0xC0, n0x200000);
    }
    if ( !v9 )
    {
      v20 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
      sub_1402D2790(v20);
    }
    goto LABEL_62;
  }
  v21 = *(_QWORD *)(a1 + 0x130);
  if ( v21 )
  {
    v22 = *(_DWORD *)(v21 + 0x140);
    if ( !(_BYTE)v7 )
    {
      *(_DWORD *)(v21 + 0x140) = v22 & 0xFFFFFFBF;
      if ( (*(_BYTE *)(*(_QWORD *)(a1 + 0x130) + 0x140LL) & 0x20) != 0 )
      {
        sub_146B6D990(a1, 0, v9 == 0);
        goto LABEL_62;
      }
      goto LABEL_32;
    }
    *(_DWORD *)(v21 + 0x140) = v22 | 0x40;
    v17 = *(_DWORD *)(a1 + 8);
  }
  if ( (_BYTE)v7 != 1 )
  {
LABEL_32:
    v17 = *(_DWORD *)(a1 + 8);
    goto LABEL_33;
  }
  if ( (v17 & 1) != 0 )
  {
LABEL_33:
    v23 = 0;
    v24 = !(_BYTE)v7 && (v17 & 1) != 0;
    goto LABEL_37;
  }
  v23 = 1;
  v24 = 0;
  sub_146A3D0E0(qword_1515B19F0, a1, v14, v15);
  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x160LL))(
    qword_149B4FBE8,
    a1 + 0x2A8,
    a4);
LABEL_37:
  v25 = v7 | *(_DWORD *)(a1 + 8) & 0xFFFFFFFE;
  *(_DWORD *)(a1 + 8) = v25;
  if ( byte_149B4FE9B )
  {
    v26 = *(unsigned int *)(a1 + 0x118);
    if ( (v25 & 1) != 0 )
    {
      LODWORD(v26) = v26 | 0x2000000;
      sub_146B74410(a1, v26);
      v27 = *(unsigned int *)(a1 + 0x118);
      LODWORD(v27) = v27 & 0xDFFFFFFF;
    }
    else
    {
      LODWORD(v26) = v26 | 0x20000000;
      sub_146B74410(a1, v26);
      v27 = *(unsigned int *)(a1 + 0x118);
      LODWORD(v27) = v27 & 0xFDFFFFFF;
    }
    sub_146B74410(a1, v27);
  }
  if ( v24 )
  {
    sub_146A3DB20(qword_1515B19F0, a1, v14);
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x168LL))(
      qword_149B4FBE8,
      a1 + 0x2A8,
      a4);
  }
  v28 = (volatile signed __int64 *)(a1 + 0xC0);
  v29 = *(_DWORD *)(a1 + 0xD4);
  if ( v29 )
  {
    *(_DWORD *)(a1 + 0xD4) = v29 - 1;
  }
  else
  {
    *(_DWORD *)(a1 + 0xD0) = 0xFFFFFFFF;
    n0x200000_1 = _InterlockedCompareExchange64(v28, 0, 0x200000);
    if ( n0x200000_1 == 0x200000 )
      *(_QWORD *)(a1 + 0xC8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DD380((__int64)v28, n0x200000_1);
  }
  if ( !v9 )
  {
    v31 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
    sub_1402D2790(v31);
  }
  if ( v23 )
  {
    sub_14036C3F0((__int64)v43, 0xC);
    v44 = a4;
    sub_146B731A0(a1, v43);
  }
  if ( v24 )
  {
    sub_14036C3F0((__int64)v45, 0xD);
    v46 = a4;
    sub_146B731A0(a1, v45);
  }
  v32 = *(_QWORD *)(a1 + 0x130);
  if ( v32 && a3 && (int)((__int64)(*(_QWORD *)(v32 + 0x1C0) - *(_QWORD *)(v32 + 0x1B8)) >> 3) > 0 )
  {
    v33 = 0;
    do
    {
      if ( sub_14030EC00((unsigned __int64 *)(*(_QWORD *)(v32 + 0x1B8) + 8LL * v4)) )
      {
        LOBYTE(v34) = 1;
        sub_146B54C20(
          *(_QWORD *)(v33 + *(_QWORD *)(*(_QWORD *)(a1 + 0x130) + 0x1B8LL)) & 0xFFFFFFFFFFFFLL,
          (unsigned __int8)v7,
          v34,
          a4);
      }
      v32 = *(_QWORD *)(a1 + 0x130);
      ++v4;
      v33 += 8;
    }
    while ( v4 < (int)((__int64)(*(_QWORD *)(v32 + 0x1C0) - *(_QWORD *)(v32 + 0x1B8)) >> 3) );
  }
LABEL_62:
  sub_1402D2790((__int64)&qword_149AC4BF8);
  v40 = __rdtsc();
  return qword_149B4B878(v37);
}

// --- End Function: sub_146B54C20 (0x146B54C20) ---

// --- Function: sub_146B55120 (0x146B55120) ---
__int64 __fastcall sub_146B55120(__int64 a1, unsigned __int8 a2)
{
  __int64 result; // rax
  bool v5; // zf
  int n0xE; // edx
  __int64 v7; // rcx
  int v8; // ebp
  __int64 v9; // rdi
  _QWORD *v10; // r14
  __int64 v11; // rax
  __int64 v12; // rbx
  bool v13; // al
  _BYTE v14[56]; // [rsp+20h] [rbp-78h] BYREF

  result = (*(_DWORD *)(a1 + 8) >> 1) & 1;
  if ( (_DWORD)result != a2 )
  {
    *(_DWORD *)(a1 + 8) = *(_DWORD *)(a1 + 8) & 0xFFFFFFFD | (2 * a2);
    v5 = a2 == 0;
    n0xE = 0xE;
    if ( v5 )
      n0xE = 0xF;
    sub_14036C3F0((__int64)v14, n0xE);
    result = sub_146B731A0(a1, v14);
    v7 = *(_QWORD *)(a1 + 0x130);
    if ( v7 )
    {
      v8 = 0;
      result = (__int64)(*(_QWORD *)(v7 + 0x1C0) - *(_QWORD *)(v7 + 0x1B8)) >> 3;
      if ( (int)result > 0 )
      {
        v9 = 0;
        do
        {
          v10 = (_QWORD *)(v9 + *(_QWORD *)(v7 + 0x1B8));
          if ( *v10 )
          {
            v11 = HIWORD(*v10);
            v12 = (v11 & 0xF000) != 0 ? *v10 & 0xFFFFFF000000LL : (*v10 & 0xFFFFFFFFFFFFLL) - 6;
            if ( *(_WORD *)(v12 + 2) == (v11 & 0xFFF) )
            {
              if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v13 = sub_140539D80()) )
                v13 = 1;
              if ( *(_WORD *)(v12 + 4) == 2 && v13 || sub_140392020(v10) )
                sub_146B55120(*(_QWORD *)(v9 + *(_QWORD *)(*(_QWORD *)(a1 + 0x130) + 0x1B8LL)) & 0xFFFFFFFFFFFFLL, a2);
            }
          }
          v7 = *(_QWORD *)(a1 + 0x130);
          ++v8;
          v9 += 8;
          result = (__int64)(*(_QWORD *)(v7 + 0x1C0) - *(_QWORD *)(v7 + 0x1B8)) >> 3;
        }
        while ( v8 < (int)result );
      }
    }
  }
  return result;
}

// --- End Function: sub_146B55120 (0x146B55120) ---

// --- Function: sub_146B552F0 (0x146B552F0) ---
char __fastcall sub_146B552F0(__int64 a1, const vraudio::AudioBuffer *__Val_0___1, unsigned __int8 a3)
{
  __int64 v5; // rax
  const vraudio::AudioBuffer *__Val_0__; // [rsp+38h] [rbp+10h] BYREF

  __Val_0__ = __Val_0___1;
  if ( sub_14030EC00((unsigned __int64 *)&__Val_0__) && (v5 = sub_146B4E3D0(a1)) != 0 )
    return sub_146A7FAF0(v5, __Val_0__, a3);
  else
    return 0;
}

// --- End Function: sub_146B552F0 (0x146B552F0) ---

// --- Function: sub_146B5A040 (0x146B5A040) ---
double __fastcall sub_146B5A040(unsigned __int64 a1, int a2, __int64 a3)
{
  __int64 v6; // rdx
  unsigned __int64 v7; // rbx
  __int64 v8; // rcx
  __int64 v9; // rax
  __int64 v10; // r9
  char v11; // dl
  unsigned __int64 v12; // rcx
  unsigned __int16 v13; // ax
  __int64 v14; // rax
  __int64 v15; // rbx
  _QWORD *v16; // rbp
  _QWORD *i; // rbx
  __int64 v18; // rax
  __int64 v19; // rax
  __int64 v20; // rbx
  __int64 v21; // rax
  __int64 v22; // r9
  char v23; // dl
  unsigned __int64 v24; // rcx
  unsigned __int16 v25; // ax
  _DWORD v27[2]; // [rsp+30h] [rbp-68h] BYREF
  __int64 v28; // [rsp+38h] [rbp-60h]
  unsigned __int64 v29; // [rsp+40h] [rbp-58h]
  unsigned __int64 v30; // [rsp+48h] [rbp-50h]
  __int64 v31; // [rsp+50h] [rbp-48h]
  __int64 v32; // [rsp+58h] [rbp-40h]

  v27[0] = 0xF00;
  v28 = 0;
  v30 = 0;
  v31 = 0;
  v32 = 0;
  v29 = __rdtsc();
  v27[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v27,
    &word_1515B1BB4,
    "CEntity::InvalidateTM",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x8FF);
  HIWORD(v27[0]) = word_1515B1BB4;
  if ( (a2 & 0x40000E) != 0 && (a2 & 0x2000) == 0 )
    *(_DWORD *)(a1 + 8) |= 0x20u;
  if ( (a2 & 0x400000) != 0 )
    *(_DWORD *)(a1 + 0xB4) = dword_149B4FDFC - 1;
  if ( (a2 & 0x1000000) != 0 )
  {
    v7 = a1 + 0x130;
    v8 = *(_QWORD *)(a1 + 0x130);
    if ( v8 )
    {
      if ( *(_DWORD *)(v8 + 0x10) == 3 && sub_14030EC00((unsigned __int64 *)v8) )
      {
        v9 = sub_146B49A10(**(_QWORD **)v7 & 0xFFFFFFFFFFFFLL, *(_DWORD *)(*(_QWORD *)v7 + 0x144LL));
        if ( v9 )
        {
          v10 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v9 + 0x30LL))(v9);
          if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
          {
            v11 = 0;
            v12 = a1 - 6;
          }
          else
          {
            v11 = 1;
            v12 = a1 & 0xFFFFFFFFFF000000uLL;
          }
          v13 = *(_WORD *)(v12 + 2) | 0x2000;
          if ( !v11 )
            v13 = *(_WORD *)(v12 + 2);
          *(_WORD *)(*(_QWORD *)v7 + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v10 + 0x2E8LL))(
                                                  v10,
                                                  a1 | ((unsigned __int64)v13 << 0x30),
                                                  *(unsigned int *)(*(_QWORD *)v7 + 0x14CLL));
LABEL_18:
          v7 = a1 + 0x130;
        }
      }
      else
      {
        v19 = *(_QWORD *)v7;
        if ( *(_DWORD *)(*(_QWORD *)v7 + 0x10LL) == 4 && *(_DWORD *)(v19 + 0x14C) )
        {
          if ( *(_BYTE *)(v19 + 0x138) != 1 )
            sub_1403E0B50();
          v20 = *(_QWORD *)(v19 + 0x18);
          if ( v20 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v20 + 8LL))(v20);
          v21 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v20 + 0xB8LL))(v20);
          if ( v21 )
          {
            v22 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v21 + 0x30LL))(v21);
            if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
            {
              v23 = 0;
              v24 = a1 - 6;
            }
            else
            {
              v23 = 1;
              v24 = a1 & 0xFFFFFFFFFF000000uLL;
            }
            v25 = *(_WORD *)(v24 + 2) | 0x2000;
            if ( !v23 )
              v25 = *(_WORD *)(v24 + 2);
            *(_WORD *)(*(_QWORD *)(a1 + 0x130) + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v22 + 0x2E8LL))(
                                                              v22,
                                                              a1 | ((unsigned __int64)v25 << 0x30),
                                                              *(unsigned int *)(*(_QWORD *)(a1 + 0x130) + 0x14CLL));
          }
          if ( v20 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v20 + 0x10LL))(v20);
          goto LABEL_18;
        }
      }
      v14 = *(_QWORD *)v7;
      if ( *(_WORD *)(*(_QWORD *)v7 + 0x148LL) != 0xFFFF && *(char *)(v14 + 0x140) < 0 )
      {
        *(_DWORD *)(a1 + 8) |= 0x40u;
        *(_DWORD *)(v14 + 0x140) &= ~0x80u;
      }
    }
  }
  v15 = *(_QWORD *)(a1 + 0x130);
  if ( v15 )
  {
    if ( (a2 & 0x800000) == 0 )
    {
      v16 = *(_QWORD **)(v15 + 0x1C0);
      for ( i = *(_QWORD **)(v15 + 0x1B8); i != v16; ++i )
      {
        if ( !*(_QWORD *)(a1 + 0x2C0) || (*(_BYTE *)(*(_QWORD *)((*i & 0xFFFFFFFFFFFFLL) + 0x130) + 0x140LL) & 4) != 0 )
          sub_146B5A040(*i & 0xFFFFFFFFFFFFLL, a2 | 0x20u, 0);
      }
    }
  }
  if ( (a2 & 0x8000) != 0 )
  {
    v18 = sub_146B4E3D0(a1);
    if ( v18 )
      sub_146B0B370(v18, (*(_DWORD *)(a1 + 8) & 0x40) != 0);
    *(_DWORD *)(a1 + 8) &= ~0x20u;
    *(_DWORD *)(a1 + 8) &= ~0x40u;
    goto LABEL_52;
  }
  if ( (a2 & 0x20) == 0 )
  {
    if ( (a2 & 0x2000000) != 0 )
    {
      LOBYTE(v6) = 1;
      sub_146B64A10(a1, v6, a3);
    }
    else if ( (a2 & 0x40400E) != 0 )
    {
LABEL_52:
      sub_146B722C0(a1);
    }
  }
  v30 = __rdtsc();
  return qword_149B4B878(v27);
}

// --- End Function: sub_146B5A040 (0x146B5A040) ---

// --- Function: sub_146B5A3D0 (0x146B5A3D0) ---
bool __fastcall sub_146B5A3D0(__int64 a1, unsigned __int8 a2)
{
  return sub_146A37560(qword_1515B19F0, a1, 0, a2);
}

// --- End Function: sub_146B5A3D0 (0x146B5A3D0) ---

// --- Function: sub_146B5A3F0 (0x146B5A3F0) ---
bool __fastcall sub_146B5A3F0(__int64 a1)
{
  if ( (*(_BYTE *)(a1 + 0x4F8) & 3) == 0 )
    return 1;
  if ( sub_14030EC00((unsigned __int64 *)(a1 + 0x4E0)) )
    return 0;
  return *(_QWORD *)(a1 + 0x4E8) == *(_QWORD *)(a1 + 0x18);
}

// --- End Function: sub_146B5A3F0 (0x146B5A3F0) ---

// --- Function: sub_146B5A440 (0x146B5A440) ---
bool __fastcall sub_146B5A440(__int64 a1)
{
  return sub_146A376D0(qword_1515B19F0, a1, 0, 1u);
}

// --- End Function: sub_146B5A440 (0x146B5A440) ---

// --- Function: sub_146B5A460 (0x146B5A460) ---
char __fastcall sub_146B5A460(__int64 a1)
{
  if ( (*(_BYTE *)(a1 + 0x118) & 0x10) != 0 )
    return 1;
  if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBF0 + 0xA8LL))(qword_149B4FBF0)
    || (*(_DWORD *)(a1 + 0x118) & 0x2000) == 0 )
  {
    return byte_149B4FE80;
  }
  return 0;
}

// --- End Function: sub_146B5A460 (0x146B5A460) ---

// --- Function: sub_146B5A660 (0x146B5A660) ---
bool __fastcall sub_146B5A660(__int64 a1, __int64 a2)
{
  return sub_146A38430(qword_1515B19F0, a1, a2, 1u);
}

// --- End Function: sub_146B5A660 (0x146B5A660) ---

// --- Function: sub_146B5A730 (0x146B5A730) ---
char __fastcall sub_146B5A730(__int64 a1, __int64 a2)
{
  __int64 v2; // r8
  __int64 v3; // rbx
  __int64 *v6; // rdi
  __int64 v7; // rax

  v2 = *(_QWORD *)(a1 + 0x240);
  v3 = 0;
  if ( !((*(_QWORD *)(a1 + 0x248) - v2) >> 3) )
    return 0;
  while ( 1 )
  {
    v6 = (__int64 *)(v2 + 8 * v3);
    v7 = is_valid_handle_typeA(v6) ? *v6 & 0xFFFFFFFFFFFFLL : 0LL;
    if ( a2 == v7 && sub_146A38E20(qword_1515B19F0, a2) )
      break;
    v2 = *(_QWORD *)(a1 + 0x240);
    if ( ++v3 >= (unsigned __int64)((*(_QWORD *)(a1 + 0x248) - v2) >> 3) )
      return 0;
  }
  return 1;
}

// --- End Function: sub_146B5A730 (0x146B5A730) ---

// --- Function: sub_146B5A7F0 (0x146B5A7F0) ---
bool __fastcall sub_146B5A7F0(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) >= 6u;
}

// --- End Function: sub_146B5A7F0 (0x146B5A7F0) ---

// --- Function: sub_146B5A800 (0x146B5A800) ---
__int64 __fastcall sub_146B5A800(__int64 a1)
{
  __int64 v1; // rax
  volatile signed __int32 *v3; // rdx
  __int64 v4; // rbx
  volatile signed __int32 *v5; // rbp
  __int64 v6; // r9
  signed __int32 v7; // eax
  signed __int32 v8; // ett
  char n3; // r14
  volatile signed __int32 *v10; // rdi
  __int64 v11; // rax
  volatile signed __int32 *v12; // rbx
  __int64 v13; // r15
  volatile signed __int32 *v14; // rdx
  __int64 v15; // r9
  signed __int32 v16; // eax
  signed __int32 v17; // ett
  unsigned __int8 v18; // bp
  volatile signed __int32 *v20; // [rsp+40h] [rbp+8h]

  v1 = *(_QWORD *)(a1 + 0x2D0);
  LODWORD(v20) = 0;
  if ( !v1 )
  {
    v10 = 0;
    n3 = 1;
LABEL_23:
    v12 = v20;
    goto LABEL_24;
  }
  v3 = *(volatile signed __int32 **)(v1 + 0x28);
  v4 = 0;
  v5 = 0;
  if ( v3 )
  {
    v6 = *(_QWORD *)(v1 + 0x20);
    _InterlockedIncrement(v3 + 3);
    v7 = *((_DWORD *)v3 + 2);
    if ( v7 )
    {
      while ( 1 )
      {
        v8 = v7;
        v7 = _InterlockedCompareExchange(v3 + 2, v7 + 1, v7);
        if ( v8 == v7 )
          break;
        if ( !v7 )
          goto LABEL_8;
      }
      v4 = v6;
      v5 = v3;
    }
LABEL_8:
    if ( _InterlockedExchangeAdd(v3 + 3, 0xFFFFFFFF) == 1 )
      (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v3 + 8LL))(v3);
  }
  n3 = 1;
  v10 = v5;
  if ( !v4 )
    goto LABEL_23;
  v11 = *(_QWORD *)(a1 + 0x2D0);
  v12 = 0;
  v13 = 0;
  if ( v11 )
  {
    v14 = *(volatile signed __int32 **)(v11 + 0x28);
    if ( v14 )
    {
      v15 = *(_QWORD *)(v11 + 0x20);
      _InterlockedIncrement(v14 + 3);
      v16 = *((_DWORD *)v14 + 2);
      if ( v16 )
      {
        while ( 1 )
        {
          v17 = v16;
          v16 = _InterlockedCompareExchange(v14 + 2, v16 + 1, v16);
          if ( v17 == v16 )
            break;
          if ( !v16 )
            goto LABEL_18;
        }
        v13 = v15;
        v12 = v14;
      }
LABEL_18:
      if ( _InterlockedExchangeAdd(v14 + 3, 0xFFFFFFFF) == 1 )
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v14 + 8LL))(v14);
    }
  }
  n3 = 3;
  if ( (*(int (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x10LL))(v13) >= 9 )
  {
LABEL_24:
    v18 = 0;
    if ( (n3 & 2) == 0 )
      goto LABEL_29;
    goto LABEL_25;
  }
  v18 = 1;
LABEL_25:
  if ( v12 )
  {
    if ( _InterlockedExchangeAdd(v12 + 2, 0xFFFFFFFF) == 1 )
    {
      (**(void (__fastcall ***)(volatile signed __int32 *))v12)(v12);
      if ( _InterlockedExchangeAdd(v12 + 3, 0xFFFFFFFF) == 1 )
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v12 + 8LL))(v12);
    }
  }
LABEL_29:
  if ( v10 )
  {
    if ( _InterlockedExchangeAdd(v10 + 2, 0xFFFFFFFF) == 1 )
    {
      (**(void (__fastcall ***)(volatile signed __int32 *))v10)(v10);
      if ( _InterlockedExchangeAdd(v10 + 3, 0xFFFFFFFF) == 1 )
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v10 + 8LL))(v10);
    }
  }
  return v18;
}

// --- End Function: sub_146B5A800 (0x146B5A800) ---

// --- Function: sub_146B5A9D0 (0x146B5A9D0) ---
bool __fastcall sub_146B5A9D0(unsigned __int64 a1)
{
  return qword_1515B1B10 <= a1 && a1 < qword_1515B1B18 + qword_1515B1B10;
}

// --- End Function: sub_146B5A9D0 (0x146B5A9D0) ---

// --- Function: sub_146B5AA90 (0x146B5AA90) ---
char __fastcall sub_146B5AA90(__int64 a1, __int64 a2)
{
  __int64 v2; // rsi
  unsigned __int64 v4; // rax
  unsigned __int64 v5; // rax
  __int64 v6; // rdi
  bool v7; // al
  char v9; // [rsp+50h] [rbp+8h] BYREF

  v2 = *(_QWORD *)(a1 + 0x290);
  if ( !v2 )
    return 0;
  while ( 1 )
  {
    v4 = *(_QWORD *)(v2 + 8);
    if ( v4 )
    {
      v5 = HIWORD(v4);
      v6 = (v5 & 0xF000) != 0 ? *(_QWORD *)(v2 + 8) & 0xFFFFFF000000LL : (*(_QWORD *)(v2 + 8) & 0xFFFFFFFFFFFFLL) - 6;
      if ( *(_WORD *)(v6 + 2) == (v5 & 0xFFF) )
      {
        if ( *(_BYTE *)(NtCurrentTeb_w() + 0x12D) || (v7 = sub_140539D80()) )
          v7 = 1;
        if ( (*(_WORD *)(v6 + 4) == 2 && v7 || sub_140392020((_QWORD *)(v2 + 8)))
          && *(_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)(*(_QWORD *)(v2 + 8) & 0xFFFFFFFFFFFFLL)
                                                                   + 8LL))(
                          *(_QWORD *)(v2 + 8) & 0xFFFFFFFFFFFFLL,
                          &v9) == a2 )
        {
          break;
        }
      }
    }
    v2 = *(_QWORD *)(v2 + 0x10);
    if ( !v2 )
      return 0;
  }
  return 1;
}

// --- End Function: sub_146B5AA90 (0x146B5AA90) ---

// --- Function: sub_146B5ADD0 (0x146B5ADD0) ---
unsigned __int64 __fastcall sub_146B5ADD0(__int64 a1, int a2)
{
  unsigned __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146AD3A90(result, a2);
  return result;
}

// --- End Function: sub_146B5ADD0 (0x146B5ADD0) ---

// --- Function: sub_146B5AE10 (0x146B5AE10) ---
bool __fastcall sub_146B5AE10(__int64 a1)
{
  __int64 v2; // rax
  unsigned __int64 v4; // [rsp+30h] [rbp+8h] BYREF

  if ( (*(_DWORD *)(a1 + 0x118) & 0x1800) == 0x1000
    && sub_14030EC00((unsigned __int64 *)(a1 + 0x318))
    && (((unsigned __int8)(*(_DWORD *)(a1 + 0x118) >> 0xD)
       ^ (unsigned __int8)(*(_DWORD *)((*(_QWORD *)(a1 + 0x318) & 0xFFFFFFFFFFFFLL) + 0x118) >> 0xD))
      & 1) != 0 )
  {
    return 1;
  }
  if ( (*(_BYTE *)(a1 + 0x4F8) & 3) == 0 )
  {
    v4 = *(_QWORD *)(a1 + 0x4F0);
    if ( sub_14030EC00(&v4) )
    {
      v2 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v4 & 0xFFFFFFFFFFFFLL) + 0x668LL))(v4 & 0xFFFFFFFFFFFFLL);
      if ( v2 )
        return (*(unsigned __int16 (__fastcall **)(__int64))(*(_QWORD *)v2 + 0x48LL))(v2) != 2;
    }
    return 1;
  }
  return 0;
}

// --- End Function: sub_146B5AE10 (0x146B5AE10) ---

// --- Function: sub_146B5AEF0 (0x146B5AEF0) ---
void __fastcall sub_146B5AEF0(unsigned __int64 a1, __int64 a2, unsigned __int8 a3)
{
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  unsigned __int64 v8; // [rsp+30h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B10 + qword_1515B1B18 )
    {
      v5 = 0;
      v6 = a1 - 6;
    }
    else
    {
      v5 = 1;
      v6 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v7 = *(_WORD *)(v6 + 2) | 0x2000;
    if ( !v5 )
      v7 = *(_WORD *)(v6 + 2);
    v8 = a1 | ((unsigned __int64)v7 << 0x30);
    sub_146B719D0(qword_1515B19E8, &v8, a2, a3);
  }
}

// --- End Function: sub_146B5AEF0 (0x146B5AEF0) ---

// --- Function: sub_146B5B230 (0x146B5B230) ---
__int64 __fastcall sub_146B5B230(__int64 a1, signed int a2, _BYTE *a3, unsigned int a4, int a5)
{
  __int64 v5; // rbx
  __int64 v10; // rax
  unsigned int v11; // r15d
  unsigned __int64 *v12; // rax
  char v13; // al
  __int64 v14; // r14
  __int64 v15; // rax
  unsigned __int16 n0xFFFF; // ax
  char v17; // al
  unsigned __int64 v19; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v20; // [rsp+38h] [rbp-C8h] BYREF
  __int64 n6; // [rsp+40h] [rbp-C0h] BYREF
  unsigned int v22; // [rsp+48h] [rbp-B8h]
  _DWORD v23[2]; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v24; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v25; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v26; // [rsp+68h] [rbp-98h]
  __int64 v27; // [rsp+70h] [rbp-90h]
  __int64 v28; // [rsp+78h] [rbp-88h]
  int v29; // [rsp+A0h] [rbp-60h] BYREF
  char v30; // [rsp+A4h] [rbp-5Ch]
  char v31; // [rsp+A5h] [rbp-5Bh]
  unsigned int v32; // [rsp+A8h] [rbp-58h]
  char v33; // [rsp+ACh] [rbp-54h]
  float v34; // [rsp+B0h] [rbp-50h]
  float v35; // [rsp+B4h] [rbp-4Ch]
  char v36; // [rsp+B8h] [rbp-48h]
  unsigned __int64 v37; // [rsp+C0h] [rbp-40h]
  __int64 v38; // [rsp+C8h] [rbp-38h]
  __int64 v39; // [rsp+D0h] [rbp-30h]
  __int64 n0x81; // [rsp+D8h] [rbp-28h]
  __int128 v41; // [rsp+E0h] [rbp-20h]
  __int64 v42; // [rsp+F0h] [rbp-10h]
  char v43; // [rsp+F8h] [rbp-8h]
  __int128 v44; // [rsp+100h] [rbp+0h]
  __int64 v45; // [rsp+110h] [rbp+10h]
  char v46; // [rsp+118h] [rbp+18h]
  float v47; // [rsp+11Ch] [rbp+1Ch]
  __int16 v48; // [rsp+120h] [rbp+20h]
  __int64 v49; // [rsp+128h] [rbp+28h]
  int v50; // [rsp+130h] [rbp+30h]
  float v51; // [rsp+134h] [rbp+34h]
  __int64 v52; // [rsp+138h] [rbp+38h]
  __int64 v53; // [rsp+140h] [rbp+40h]
  __int64 v54; // [rsp+148h] [rbp+48h]
  unsigned int v55; // [rsp+150h] [rbp+50h]
  __int64 v56; // [rsp+158h] [rbp+58h]
  __int128 v57; // [rsp+160h] [rbp+60h]
  __int64 v58; // [rsp+170h] [rbp+70h]
  int v59; // [rsp+178h] [rbp+78h]
  int n2; // [rsp+180h] [rbp+80h] BYREF
  char v61; // [rsp+184h] [rbp+84h]
  char v62; // [rsp+185h] [rbp+85h]
  unsigned int v63; // [rsp+188h] [rbp+88h]
  char v64; // [rsp+18Ch] [rbp+8Ch]
  unsigned int v65; // [rsp+190h] [rbp+90h]
  unsigned int v66; // [rsp+194h] [rbp+94h]
  char v67; // [rsp+198h] [rbp+98h]
  unsigned __int64 v68; // [rsp+1A0h] [rbp+A0h]
  __int64 v69; // [rsp+1A8h] [rbp+A8h]
  __int64 v70; // [rsp+1B0h] [rbp+B0h]
  __int64 n0x81_1; // [rsp+1B8h] [rbp+B8h]
  __int128 v72; // [rsp+1C0h] [rbp+C0h]
  __int64 v73; // [rsp+1D0h] [rbp+D0h]
  char v74; // [rsp+1D8h] [rbp+D8h]
  __int128 v75; // [rsp+1E0h] [rbp+E0h]
  __int64 v76; // [rsp+1F0h] [rbp+F0h]
  char v77; // [rsp+1F8h] [rbp+F8h]
  float v78; // [rsp+1FCh] [rbp+FCh]
  __int16 v79; // [rsp+200h] [rbp+100h]
  __int64 v80; // [rsp+208h] [rbp+108h]
  int v81; // [rsp+210h] [rbp+110h]
  float v82; // [rsp+214h] [rbp+114h]
  __int64 v83; // [rsp+218h] [rbp+118h]
  __int64 v84; // [rsp+220h] [rbp+120h]
  __int64 v85; // [rsp+228h] [rbp+128h]
  unsigned int v86; // [rsp+230h] [rbp+130h]
  __int64 v87; // [rsp+238h] [rbp+138h]
  __int128 v88; // [rsp+240h] [rbp+140h]
  __int64 v89; // [rsp+250h] [rbp+150h]
  int v90; // [rsp+258h] [rbp+158h]
  unsigned __int64 v91; // [rsp+260h] [rbp+160h] BYREF
  int n0xB; // [rsp+268h] [rbp+168h] BYREF
  unsigned __int64 v93; // [rsp+270h] [rbp+170h]
  __int128 v94; // [rsp+278h] [rbp+178h]
  __int64 v95; // [rsp+2C0h] [rbp+1C0h] BYREF
  float v96; // [rsp+2C8h] [rbp+1C8h] BYREF

  v5 = 0;
  v23[0] = 0xF00;
  v24 = 0;
  v26 = 0;
  v27 = 0;
  v28 = 0;
  v25 = __rdtsc();
  v23[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v23,
    &word_1515B1BD0,
    "CEntity::LoadCharacter",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x12E1);
  HIWORD(v23[0]) = word_1515B1BD0;
  qword_149B4B8B0((const char *)&Format_, a3);
  if ( a2 > (int)0xFFFFFFFF )
  {
    v10 = sub_146B4E3D0(a1);
    if ( v10 )
      sub_146AF1630(v10, a2, 1, 1u, 1, 1);
  }
  sub_146A63540(a1, &v20);
  v11 = sub_146AD3D10(v20 & 0xFFFFFFFFFFFFLL, a2, a3, a4, a5);
  if ( (a4 & 2) == 0
    && (v12 = sub_146B4E570(a1, &v91), *v12)
    && *(_QWORD *)((*v12 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*v12) )
  {
    v29 = 0;
    v39 = 0x1000007FFLL;
    v30 = 0;
    v48 = 1;
    v13 = ~*(_BYTE *)(a1 + 8);
    v33 = 0;
    v36 = 0;
    v31 = v13 & 1;
    v47 = 0.0;
    v51 = 0.0;
    v37 = 0xFFFFFFFFFFFFFFFFuLL;
    v38 = 0;
    n0x81 = 0x81;
    v41 = 0;
    v42 = 0;
    v43 = 0;
    v44 = 0;
    v45 = 0;
    v46 = 0;
    v49 = 0;
    v50 = 0;
    v52 = 0;
    v53 = 0;
    v54 = 0;
    v55 = 0xFFFFFFFF;
    v56 = 0;
    v57 = 0;
    v58 = 0;
    v59 = 0;
    v35 = NAN;
    v34 = NAN;
    v32 = v11;
    v14 = sub_146B4E3D0(a1);
    if ( v14 )
    {
      if ( !v32 )
      {
        v96 = v35;
        if ( (LODWORD(v35) & 0xFFA00000) == 0xFFA00000 )
        {
          v96 = v34;
          if ( (LODWORD(v34) & 0xFFA00000) == 0xFFA00000 )
          {
            v15 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_149B4FC90 + 0xC0LL))(
                    qword_149B4FC90,
                    "p_physical_properties");
            if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x10LL))(v15) )
            {
              n0xFFFF = n0xFFFF_58;
              if ( n0xFFFF_58 == (__int16)0xFFFF )
              {
                n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, float *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                              + 0x10LL))(
                                      qword_149B4FC88,
                                      &v96,
                                      "EntityPhysicsController");
                n0xFFFF_58 = n0xFFFF;
              }
              if ( *(_BYTE *)(a1 + 0xD) != 7 )
              {
                sub_146B49DE0(a1, (unsigned __int64 *)&v95, n0xFFFF);
                v5 = v95;
              }
              v95 = v5;
              if ( is_valid_handle_typeA(&v95) )
                v35 = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v5 & 0xFFFFFFFFFFFFLL);
            }
          }
        }
      }
      sub_146AE6890(v14, (__int64)&v29);
    }
  }
  else if ( (a4 & 1) != 0 )
  {
    v61 = 0;
    v70 = 0x1000007FFLL;
    v64 = 0;
    v79 = 1;
    v17 = ~*(_BYTE *)(a1 + 8);
    v67 = 0;
    v68 = 0xFFFFFFFFFFFFFFFFuLL;
    v62 = v17 & 1;
    v78 = 0.0;
    v82 = 0.0;
    v69 = 0;
    n0x81_1 = 0x81;
    v72 = 0;
    v73 = 0;
    v74 = 0;
    v75 = 0;
    v76 = 0;
    v77 = 0;
    v80 = 0;
    v81 = 0;
    v83 = 0;
    v84 = 0;
    v85 = 0;
    v86 = 0xFFFFFFFF;
    v87 = 0;
    v88 = 0;
    v89 = 0;
    v90 = 0;
    v66 = 0xFFBFFFFF;
    v65 = 0xFFBFFFFF;
    v63 = v11;
    n2 = 2;
    sub_146B63FF0(a1, &n2);
    sub_146B4E570(a1, &v19);
    if ( v19 )
    {
      if ( *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v19) )
      {
        n6 = 6;
        v22 = 0xFFBFFFFF;
        (*(void (__fastcall **)(unsigned __int64, __int64 *, _QWORD))(*(_QWORD *)(v19 & 0xFFFFFFFFFFFFLL) + 0x30LL))(
          v19 & 0xFFFFFFFFFFFFLL,
          &n6,
          0);
        n0xB = 0xB;
        v93 = 0xFFFFFFFFFFFFFFFFuLL;
        v94 = xmmword_1481B6C30;
        (*(void (__fastcall **)(unsigned __int64, int *, _QWORD))(*(_QWORD *)(v19 & 0xFFFFFFFFFFFFLL) + 0x18LL))(
          v19 & 0xFFFFFFFFFFFFLL,
          &n0xB,
          0);
      }
    }
  }
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
    sub_146B45450(a1, v20);
  v26 = __rdtsc();
  qword_149B4B878(v23);
  return v11;
}

// --- End Function: sub_146B5B230 (0x146B5B230) ---

// --- Function: sub_146B5B730 (0x146B5B730) ---
__int64 __fastcall sub_146B5B730(__int64 a1, unsigned int a2, __int64 a3)
{
  __int64 v6; // [rsp+48h] [rbp+20h] BYREF

  sub_146A63540(a1, &v6);
  return sub_146AD40A0(v6 & 0xFFFFFFFFFFFFLL, a2, a3);
}

// --- End Function: sub_146B5B730 (0x146B5B730) ---

// --- Function: sub_146B5B770 (0x146B5B770) ---
__int64 __fastcall sub_146B5B770(__int64 a1, signed int a2, __int64 a3)
{
  __int64 v6; // rax
  unsigned int v7; // r14d
  unsigned __int64 *v8; // rax
  __int64 v9; // rbx
  __int64 v10; // rsi
  __int64 v11; // rax
  unsigned __int16 n0xFFFF; // ax
  unsigned __int64 v13; // rax
  __int64 v14; // rax
  __int64 v16; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v17; // [rsp+38h] [rbp-C8h] BYREF
  int v18; // [rsp+40h] [rbp-C0h] BYREF
  __int16 n0x100; // [rsp+44h] [rbp-BCh]
  signed int v20; // [rsp+48h] [rbp-B8h]
  char v21; // [rsp+4Ch] [rbp-B4h]
  float v22; // [rsp+50h] [rbp-B0h]
  float v23; // [rsp+54h] [rbp-ACh]
  char v24; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v25; // [rsp+60h] [rbp-A0h]
  __int64 v26; // [rsp+68h] [rbp-98h]
  __int64 v27; // [rsp+70h] [rbp-90h]
  __int64 n0x81; // [rsp+78h] [rbp-88h]
  __int128 v29; // [rsp+80h] [rbp-80h]
  __int64 v30; // [rsp+90h] [rbp-70h]
  char v31; // [rsp+98h] [rbp-68h]
  __int128 v32; // [rsp+A0h] [rbp-60h]
  __int64 v33; // [rsp+B0h] [rbp-50h]
  char v34; // [rsp+B8h] [rbp-48h]
  float v35; // [rsp+BCh] [rbp-44h]
  __int16 v36; // [rsp+C0h] [rbp-40h]
  __int64 v37; // [rsp+C8h] [rbp-38h]
  int v38; // [rsp+D0h] [rbp-30h]
  float v39; // [rsp+D4h] [rbp-2Ch]
  __int64 v40; // [rsp+D8h] [rbp-28h]
  __int64 v41; // [rsp+E0h] [rbp-20h]
  __int64 v42; // [rsp+E8h] [rbp-18h]
  unsigned int v43; // [rsp+F0h] [rbp-10h]
  __int64 v44; // [rsp+F8h] [rbp-8h]
  __int128 v45; // [rsp+100h] [rbp+0h]
  __int64 v46; // [rsp+110h] [rbp+10h]
  int v47; // [rsp+118h] [rbp+18h]
  _DWORD v48[6]; // [rsp+120h] [rbp+20h] BYREF
  __int64 v49; // [rsp+138h] [rbp+38h]

  if ( a2 > (int)0xFFFFFFFF )
  {
    v6 = sub_146B4E3D0(a1);
    if ( v6 )
      sub_146AF1630(v6, a2, 1, 1u, 1, 1);
  }
  sub_146A63540(a1, &v16);
  v7 = sub_146AD51D0(v16 & 0xFFFFFFFFFFFFLL, a2, a3);
  v8 = sub_146B4E570(a1, (unsigned __int64 *)&v17);
  if ( *v8 )
  {
    if ( *(_QWORD *)((*v8 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*v8) )
    {
      v9 = 0;
      n0x100 = 0x100;
      v18 = 0;
      v27 = 0x1000007FFLL;
      v21 = 0;
      v36 = 1;
      v35 = 0.0;
      v39 = 0.0;
      v24 = 0;
      v25 = 0xFFFFFFFFFFFFFFFFuLL;
      v26 = 0;
      n0x81 = 0x81;
      v29 = 0;
      v30 = 0;
      v31 = 0;
      v32 = 0;
      v33 = 0;
      v34 = 0;
      v37 = 0;
      v38 = 0;
      v40 = 0;
      v41 = 0;
      v42 = 0;
      v43 = 0xFFFFFFFF;
      v44 = 0;
      v45 = 0;
      v46 = 0;
      v47 = 0;
      v23 = NAN;
      v22 = NAN;
      v20 = a2;
      v10 = sub_146B4E3D0(a1);
      if ( v10 )
      {
        if ( !v20 )
        {
          *(float *)&v16 = v23;
          if ( (LODWORD(v23) & 0xFFA00000) == 0xFFA00000 )
          {
            *(float *)&v16 = v22;
            if ( (LODWORD(v22) & 0xFFA00000) == 0xFFA00000 )
            {
              v11 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_149B4FC90 + 0xC0LL))(
                      qword_149B4FC90,
                      "p_physical_properties");
              if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x10LL))(v11) )
              {
                n0xFFFF = n0xFFFF_58;
                if ( n0xFFFF_58 == (__int16)0xFFFF )
                {
                  n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                                  + 0x10LL))(
                                        qword_149B4FC88,
                                        &v16,
                                        "EntityPhysicsController");
                  n0xFFFF_58 = n0xFFFF;
                }
                if ( *(_BYTE *)(a1 + 0xD) != 7 )
                {
                  sub_146B49DE0(a1, (unsigned __int64 *)&v17, n0xFFFF);
                  v9 = v17;
                }
                v17 = v9;
                if ( is_valid_handle_typeA(&v17) )
                  v23 = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v9 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v9 & 0xFFFFFFFFFFFFLL);
              }
            }
          }
        }
        sub_146AE6890(v10, (__int64)&v18);
      }
    }
  }
  v13 = sub_146B513B0(a1);
  if ( v13 )
  {
    sub_146AF9B40(v13 + 0x78, (_QWORD *)(a1 + 0x138));
    v14 = sub_146B4E3D0(a1);
    if ( v14 )
      sub_146AFAD30(v14, 0xFFFFFFFF, (__int64 *)(a1 + 0x138));
  }
  sub_14036C410((__int64)v48);
  v49 = *(_QWORD *)(a1 + 0x138);
  v48[0] = 0x18;
  sub_146B731A0(a1, v48);
  return v7;
}

// --- End Function: sub_146B5B770 (0x146B5B770) ---

// --- Function: sub_146B5BA60 (0x146B5BA60) ---
__int64 __fastcall sub_146B5BA60(__int64 a1, int a2, __int64 a3, _BYTE *a4, float a5)
{
  __int64 v9; // rax
  char v10; // r15
  unsigned int v11; // r14d
  unsigned __int64 *v12; // rax
  unsigned __int64 v13; // rbx
  char v14; // al
  __int64 v15; // r15
  __int64 v16; // rax
  unsigned __int16 n0xFFFF; // ax
  char v18; // al
  __int64 v20; // [rsp+30h] [rbp-D0h] BYREF
  __int64 n6; // [rsp+38h] [rbp-C8h] BYREF
  unsigned int v22; // [rsp+40h] [rbp-C0h]
  int n2; // [rsp+50h] [rbp-B0h] BYREF
  char v24; // [rsp+54h] [rbp-ACh]
  char v25; // [rsp+55h] [rbp-ABh]
  unsigned int v26; // [rsp+58h] [rbp-A8h]
  char v27; // [rsp+5Ch] [rbp-A4h]
  float v28; // [rsp+60h] [rbp-A0h]
  float v29; // [rsp+64h] [rbp-9Ch]
  char v30; // [rsp+68h] [rbp-98h]
  unsigned __int64 v31; // [rsp+70h] [rbp-90h]
  __int64 v32; // [rsp+78h] [rbp-88h]
  __int64 v33; // [rsp+80h] [rbp-80h]
  __int64 n0x81; // [rsp+88h] [rbp-78h]
  __int128 v35; // [rsp+90h] [rbp-70h]
  __int64 v36; // [rsp+A0h] [rbp-60h]
  char v37; // [rsp+A8h] [rbp-58h]
  __int128 v38; // [rsp+B0h] [rbp-50h]
  __int64 v39; // [rsp+C0h] [rbp-40h]
  char v40; // [rsp+C8h] [rbp-38h]
  float v41; // [rsp+CCh] [rbp-34h]
  __int16 v42; // [rsp+D0h] [rbp-30h]
  __int64 v43; // [rsp+D8h] [rbp-28h]
  int v44; // [rsp+E0h] [rbp-20h]
  float v45; // [rsp+E4h] [rbp-1Ch]
  __int64 v46; // [rsp+E8h] [rbp-18h]
  __int64 v47; // [rsp+F0h] [rbp-10h]
  __int64 v48; // [rsp+F8h] [rbp-8h]
  unsigned int v49; // [rsp+100h] [rbp+0h]
  __int64 v50; // [rsp+108h] [rbp+8h]
  __int128 v51; // [rsp+110h] [rbp+10h]
  __int64 v52; // [rsp+120h] [rbp+20h]
  int v53; // [rsp+128h] [rbp+28h]
  int n0xB; // [rsp+130h] [rbp+30h] BYREF
  unsigned __int64 v55; // [rsp+138h] [rbp+38h]
  __int128 v56; // [rsp+140h] [rbp+40h]
  unsigned __int64 v57; // [rsp+180h] [rbp+80h] BYREF

  if ( a2 > (int)0xFFFFFFFF )
  {
    v9 = sub_146B4E3D0(a1);
    if ( v9 )
      sub_146AF1630(v9, a2, 1, 1u, 1, 1);
  }
  sub_146A63540(a1, &v20);
  v10 = LOBYTE(a5);
  v11 = sub_146AD58C0(v20, a2, a3, a4);
  if ( (v10 & 2) == 0
    && (v12 = sub_146B4E570(a1, &v57), *v12)
    && *(_QWORD *)((*v12 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*v12) )
  {
    v13 = 0;
    v31 = 0xFFFFFFFFFFFFFFFFuLL;
    n2 = 0;
    v33 = 0x1000007FFLL;
    v24 = 0;
    v42 = 1;
    v14 = ~*(_BYTE *)(a1 + 8);
    v27 = 0;
    v30 = 0;
    v25 = v14 & 1;
    v41 = 0.0;
    v45 = 0.0;
    v32 = 0;
    n0x81 = 0x81;
    v35 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v40 = 0;
    v43 = 0;
    v44 = 0;
    v46 = 0;
    v47 = 0;
    v48 = 0;
    v49 = 0xFFFFFFFF;
    v50 = 0;
    v51 = 0;
    v52 = 0;
    v53 = 0;
    v29 = NAN;
    v28 = NAN;
    v26 = v11;
    v15 = sub_146B4E3D0(a1);
    if ( v15 )
    {
      if ( !v26 )
      {
        a5 = v29;
        if ( (LODWORD(v29) & 0xFFA00000) == 0xFFA00000 )
        {
          a5 = v28;
          if ( (LODWORD(v28) & 0xFFA00000) == 0xFFA00000 )
          {
            v16 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_149B4FC90 + 0xC0LL))(
                    qword_149B4FC90,
                    "p_physical_properties");
            if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v16 + 0x10LL))(v16) )
            {
              n0xFFFF = n0xFFFF_58;
              if ( n0xFFFF_58 == (__int16)0xFFFF )
              {
                n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, float *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                              + 0x10LL))(
                                      qword_149B4FC88,
                                      &a5,
                                      "EntityPhysicsController");
                n0xFFFF_58 = n0xFFFF;
              }
              if ( *(_BYTE *)(a1 + 0xD) != 7 )
              {
                sub_146B49DE0(a1, &v57, n0xFFFF);
                v13 = v57;
              }
              v57 = v13;
              if ( is_valid_handle_typeA((__int64 *)&v57) )
                v29 = (*(float (__fastcall **)(unsigned __int64))(*(_QWORD *)(v13 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v13 & 0xFFFFFFFFFFFFLL);
            }
          }
        }
      }
      sub_146AE6890(v15, (__int64)&n2);
    }
  }
  else if ( (v10 & 1) != 0 )
  {
    v24 = 0;
    v27 = 0;
    v33 = 0x1000007FFLL;
    v30 = 0;
    v42 = 1;
    v18 = ~*(_BYTE *)(a1 + 8);
    v31 = 0xFFFFFFFFFFFFFFFFuLL;
    v32 = 0;
    v25 = v18 & 1;
    v41 = 0.0;
    v45 = 0.0;
    n0x81 = 0x81;
    v35 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v40 = 0;
    v43 = 0;
    v44 = 0;
    v46 = 0;
    v47 = 0;
    v48 = 0;
    v49 = 0xFFFFFFFF;
    v50 = 0;
    v51 = 0;
    v52 = 0;
    v53 = 0;
    v29 = NAN;
    v28 = NAN;
    v26 = v11;
    n2 = 2;
    sub_146B63FF0(a1, &n2);
    sub_146B4E570(a1, &v57);
    if ( v57 )
    {
      if ( *(_QWORD *)((v57 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v57) )
      {
        n6 = 6;
        v22 = 0xFFBFFFFF;
        (*(void (__fastcall **)(unsigned __int64, __int64 *, _QWORD))(*(_QWORD *)(v57 & 0xFFFFFFFFFFFFLL) + 0x30LL))(
          v57 & 0xFFFFFFFFFFFFLL,
          &n6,
          0);
        n0xB = 0xB;
        v55 = 0xFFFFFFFFFFFFFFFFuLL;
        v56 = xmmword_1481B6C30;
        (*(void (__fastcall **)(unsigned __int64, int *, _QWORD))(*(_QWORD *)(v57 & 0xFFFFFFFFFFFFLL) + 0x18LL))(
          v57 & 0xFFFFFFFFFFFFLL,
          &n0xB,
          0);
      }
    }
  }
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
    sub_146B45450(a1, v20);
  return v11;
}

// --- End Function: sub_146B5BA60 (0x146B5BA60) ---

// --- Function: sub_146B5BE80 (0x146B5BE80) ---
__int64 __fastcall sub_146B5BE80(__int64 a1, signed int a2, _QWORD *a3, _QWORD *a4)
{
  __int64 v8; // rax
  __int64 v9; // rbx
  void (__fastcall ***v10)(_QWORD); // rcx
  __int64 v11; // r15
  void (__fastcall ***v12)(_QWORD); // rcx
  unsigned int v13; // r14d
  __int64 v15; // [rsp+60h] [rbp+8h] BYREF
  void (__fastcall ***v16)(_QWORD); // [rsp+70h] [rbp+18h] BYREF

  if ( a2 > (int)0xFFFFFFFF )
  {
    v8 = sub_146B4E3D0(a1);
    if ( v8 )
      sub_146AF1630(v8, a2, 1, 1u, 1, 1);
  }
  sub_146A63540(a1, &v15);
  v9 = v15;
  v10 = (void (__fastcall ***)(_QWORD))*a4;
  v11 = v15 & 0xFFFFFFFFFFFFLL;
  v15 = (__int64)v10;
  if ( v10 )
    (**v10)(v10);
  v12 = (void (__fastcall ***)(_QWORD))*a3;
  v16 = v12;
  if ( v12 )
    (**v12)(v12);
  v13 = sub_146AD5AA0(v11, a2, &v16, &v15);
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
    sub_146B45450(a1, v9);
  if ( *a3 )
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
  *a3 = 0;
  if ( *a4 )
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a4 + 8LL))(*a4);
  *a4 = 0;
  return v13;
}

// --- End Function: sub_146B5BE80 (0x146B5BE80) ---

// --- Function: sub_146B5BF70 (0x146B5BF70) ---
__int64 __fastcall sub_146B5BF70(__int64 a1, int a2, _QWORD *a3, char a4)
{
  __int64 v8; // rax
  void (__fastcall ***v9)(_QWORD); // rcx
  int v10; // r15d
  unsigned int v11; // r15d
  unsigned __int64 *v12; // rax
  char v13; // al
  __int64 v14; // r12
  __int64 v15; // rax
  unsigned __int16 n0xFFFF; // ax
  unsigned __int64 v17; // rbx
  char v18; // al
  __int64 result; // rax
  __int64 n6; // [rsp+30h] [rbp-D0h] BYREF
  unsigned int v21; // [rsp+38h] [rbp-C8h]
  int n2; // [rsp+40h] [rbp-C0h] BYREF
  char v23; // [rsp+44h] [rbp-BCh]
  char v24; // [rsp+45h] [rbp-BBh]
  unsigned int v25; // [rsp+48h] [rbp-B8h]
  char v26; // [rsp+4Ch] [rbp-B4h]
  float v27; // [rsp+50h] [rbp-B0h]
  float v28; // [rsp+54h] [rbp-ACh]
  char v29; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v30; // [rsp+60h] [rbp-A0h]
  __int64 v31; // [rsp+68h] [rbp-98h]
  __int64 v32; // [rsp+70h] [rbp-90h]
  __int64 n0x81; // [rsp+78h] [rbp-88h]
  __int128 v34; // [rsp+80h] [rbp-80h]
  __int64 v35; // [rsp+90h] [rbp-70h]
  char v36; // [rsp+98h] [rbp-68h]
  __int128 v37; // [rsp+A0h] [rbp-60h]
  __int64 v38; // [rsp+B0h] [rbp-50h]
  char v39; // [rsp+B8h] [rbp-48h]
  float v40; // [rsp+BCh] [rbp-44h]
  __int16 v41; // [rsp+C0h] [rbp-40h]
  __int64 v42; // [rsp+C8h] [rbp-38h]
  int v43; // [rsp+D0h] [rbp-30h]
  float v44; // [rsp+D4h] [rbp-2Ch]
  __int64 v45; // [rsp+D8h] [rbp-28h]
  __int64 v46; // [rsp+E0h] [rbp-20h]
  __int64 v47; // [rsp+E8h] [rbp-18h]
  unsigned int v48; // [rsp+F0h] [rbp-10h]
  __int64 v49; // [rsp+F8h] [rbp-8h]
  __int128 v50; // [rsp+100h] [rbp+0h]
  __int64 v51; // [rsp+110h] [rbp+10h]
  int v52; // [rsp+118h] [rbp+18h]
  int n0xB; // [rsp+120h] [rbp+20h] BYREF
  unsigned __int64 v54; // [rsp+128h] [rbp+28h]
  __int128 v55; // [rsp+130h] [rbp+30h]
  unsigned __int64 v56; // [rsp+180h] [rbp+80h] BYREF
  float v57; // [rsp+188h] [rbp+88h] BYREF
  __int64 v58; // [rsp+190h] [rbp+90h] BYREF

  if ( a2 > (int)0xFFFFFFFF )
  {
    v8 = sub_146B4E3D0(a1);
    if ( v8 )
      sub_146AF1630(v8, a2, 1, 1u, 1, 1);
  }
  sub_146A63540(a1, &v58);
  v9 = (void (__fastcall ***)(_QWORD))*a3;
  v10 = v58;
  v56 = (unsigned __int64)v9;
  if ( v9 )
    (**v9)(v9);
  v11 = sub_146AD6430(v10, a2, &v56);
  if ( (a4 & 2) == 0
    && (v12 = sub_146B4E570(a1, &v56), *v12)
    && *(_QWORD *)((*v12 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*v12) )
  {
    n2 = 0;
    v32 = 0x1000007FFLL;
    v23 = 0;
    v41 = 1;
    v13 = ~*(_BYTE *)(a1 + 8);
    v26 = 0;
    v29 = 0;
    v24 = v13 & 1;
    v40 = 0.0;
    v44 = 0.0;
    v30 = 0xFFFFFFFFFFFFFFFFuLL;
    v31 = 0;
    n0x81 = 0x81;
    v34 = 0;
    v35 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v42 = 0;
    v43 = 0;
    v45 = 0;
    v46 = 0;
    v47 = 0;
    v48 = 0xFFFFFFFF;
    v49 = 0;
    v50 = 0;
    v51 = 0;
    v52 = 0;
    v28 = NAN;
    v27 = NAN;
    v25 = v11;
    v14 = sub_146B4E3D0(a1);
    if ( v14 )
    {
      if ( !v25 )
      {
        v57 = v27;
        v15 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_149B4FC90 + 0xC0LL))(
                qword_149B4FC90,
                "p_physical_properties");
        if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x10LL))(v15) )
        {
          n0xFFFF = n0xFFFF_58;
          if ( n0xFFFF_58 == (__int16)0xFFFF )
          {
            n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, float *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                          + 0x10LL))(
                                  qword_149B4FC88,
                                  &v57,
                                  "EntityPhysicsController");
            n0xFFFF_58 = n0xFFFF;
          }
          if ( *(_BYTE *)(a1 + 0xD) == 7 )
          {
            v17 = 0;
          }
          else
          {
            sub_146B49DE0(a1, &v56, n0xFFFF);
            v17 = v56;
          }
          v56 = v17;
          if ( is_valid_handle_typeA((__int64 *)&v56) )
            v28 = (*(float (__fastcall **)(unsigned __int64))(*(_QWORD *)(v17 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v17 & 0xFFFFFFFFFFFFLL);
        }
      }
      sub_146AE6890(v14, (__int64)&n2);
    }
  }
  else if ( (a4 & 1) != 0 )
  {
    v23 = 0;
    v32 = 0x1000007FFLL;
    v26 = 0;
    v41 = 1;
    v18 = ~*(_BYTE *)(a1 + 8);
    v29 = 0;
    v30 = 0xFFFFFFFFFFFFFFFFuLL;
    v24 = v18 & 1;
    v40 = 0.0;
    v44 = 0.0;
    v31 = 0;
    n0x81 = 0x81;
    v34 = 0;
    v35 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v42 = 0;
    v43 = 0;
    v45 = 0;
    v46 = 0;
    v47 = 0;
    v48 = 0xFFFFFFFF;
    v49 = 0;
    v50 = 0;
    v51 = 0;
    v52 = 0;
    v28 = NAN;
    v27 = NAN;
    v25 = v11;
    n2 = 2;
    sub_146B63FF0(a1, &n2);
    sub_146B4E570(a1, &v56);
    if ( v56 )
    {
      if ( *(_QWORD *)((v56 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v56) )
      {
        n6 = 6;
        v21 = 0xFFBFFFFF;
        (*(void (__fastcall **)(unsigned __int64, __int64 *, _QWORD))(*(_QWORD *)(v56 & 0xFFFFFFFFFFFFLL) + 0x30LL))(
          v56 & 0xFFFFFFFFFFFFLL,
          &n6,
          0);
        n0xB = 0xB;
        v54 = 0xFFFFFFFFFFFFFFFFuLL;
        v55 = xmmword_1481B6C30;
        (*(void (__fastcall **)(unsigned __int64, int *, _QWORD))(*(_QWORD *)(v56 & 0xFFFFFFFFFFFFLL) + 0x18LL))(
          v56 & 0xFFFFFFFFFFFFLL,
          &n0xB,
          0);
      }
    }
  }
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
    sub_146B45450(a1, v58);
  if ( *a3 )
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
  result = v11;
  *a3 = 0;
  return result;
}

// --- End Function: sub_146B5BF70 (0x146B5BF70) ---

// --- Function: sub_146B5C3D0 (0x146B5C3D0) ---
__int64 __fastcall sub_146B5C3D0(__int64 a1, int a2, __int64 a3)
{
  __int64 v6; // [rsp+48h] [rbp+20h] BYREF

  sub_146A63540(a1, &v6);
  return sub_146AD64B0(v6 & 0xFFFFFFFFFFFFLL, a2, a3);
}

// --- End Function: sub_146B5C3D0 (0x146B5C3D0) ---

// --- Function: sub_146B5C410 (0x146B5C410) ---
__int64 __fastcall sub_146B5C410(__int64 a1, unsigned int a2, __int64 a3, unsigned int a4)
{
  _QWORD v8[3]; // [rsp+30h] [rbp-18h] BYREF

  sub_146A63540(a1, v8);
  return sub_146AD7810(v8[0] & 0xFFFFFFFFFFFFLL, a2, a3, 0xFFFFu, a4);
}

// --- End Function: sub_146B5C410 (0x146B5C410) ---

// --- Function: sub_146B5C470 (0x146B5C470) ---
__int64 __fastcall sub_146B5C470(__int64 a1, unsigned int a2, __int64 a3, unsigned int a4)
{
  _QWORD v8[3]; // [rsp+20h] [rbp-18h] BYREF

  sub_146A63540(a1, v8);
  return sub_146AD83F0(v8[0] & 0xFFFFFFFFFFFFLL, a2, a3, a4);
}

// --- End Function: sub_146B5C470 (0x146B5C470) ---

// --- Function: sub_146B5C4C0 (0x146B5C4C0) ---
__int64 __fastcall sub_146B5C4C0(
        __int64 a1,
        unsigned int a2,
        float *a3,
        _QWORD *a4,
        __int64 a5,
        __int64 a6,
        char a7,
        __int16 a8)
{
  __int64 v11; // rcx
  __int64 v12; // rdi
  __int64 result; // rax
  unsigned int v14; // edi
  __int64 v15; // [rsp+68h] [rbp+20h] BYREF

  sub_146A63540(a1, &v15);
  v11 = *a4;
  v12 = v15 & 0xFFFFFFFFFFFFLL;
  v15 = v11;
  if ( v11 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x40LL))(v11);
  result = sub_146AD8810(v12, a2, a3, &v15, a5, a6, a7, a8);
  v14 = result;
  if ( *a4 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a4 + 0x48LL))(*a4);
    result = v14;
  }
  *a4 = 0;
  return result;
}

// --- End Function: sub_146B5C4C0 (0x146B5C4C0) ---

// --- Function: sub_146B5C580 (0x146B5C580) ---
__int64 __fastcall sub_146B5C580(__int64 a1, unsigned int a2, unsigned int a3, __int64 a4)
{
  _QWORD v8[3]; // [rsp+20h] [rbp-18h] BYREF

  sub_146A63540(a1, v8);
  return sub_146AD8EB0(v8[0] & 0xFFFFFFFFFFFFLL, a2, a3, a4);
}

// --- End Function: sub_146B5C580 (0x146B5C580) ---

// --- Function: sub_146B5C8E0 (0x146B5C8E0) ---
char __fastcall sub_146B5C8E0(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v4; // rax
  __int64 v5; // rbx
  __int16 n2; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v9,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  v4 = v2(a1, &v10, &v8);
  v5 = *(_QWORD *)v4;
  v8 = v5;
  if ( v5 )
  {
    v4 = sub_1403B4B50(v5 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(v4 + 4);
    if ( n2 != 4 && *(_WORD *)(v4 + 2) == (HIWORD(v5) & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)NtCurrentTeb_w() || (LOBYTE(v4) = sub_140391F30(&v8), (_BYTE)v4) )
        LOBYTE(v4) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x6F0LL))(v5 & 0xFFFFFFFFFFFFLL);
    }
  }
  return v4;
}

// --- End Function: sub_146B5C8E0 (0x146B5C8E0) ---

// --- Function: sub_146B5CE20 (0x146B5CE20) ---
void __fastcall sub_146B5CE20(__int64 a1, __int64 a2, int a3, unsigned __int8 a4, __int64 a5)
{
  __int64 v9; // rax
  __int64 v10; // rbp
  __int128 v11; // [rsp+30h] [rbp-38h] BYREF
  __int64 v12; // [rsp+40h] [rbp-28h]
  unsigned __int64 v13; // [rsp+70h] [rbp+8h] BYREF
  char v14; // [rsp+78h] [rbp+10h] BYREF

  if ( *(_QWORD *)(a1 + 0x2B0) != a2 )
  {
    if ( a2 )
    {
      v9 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC78 + 0xA0LL))(qword_149B4FC78);
      (*(void (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v9 + 0x1D8LL))(v9, &v13);
      (*(void (__fastcall **)(__int64, char *))(*(_QWORD *)a2 + 0x40LL))(a2, &v14);
    }
    if ( (_BYTE)qword_149B501D6
      || (v13 = *(_QWORD *)(a1 + 0x18), !sub_14030EC00(&v13))
      || (unsigned __int8)(*(_BYTE *)(a1 + 0xD) - 4) > 1u )
    {
      v11 = 0;
      v12 = 0;
      v10 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
              qword_149B4FBE8,
              0x7832,
              &v11,
              a5);
      (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x140LL))(
        qword_149B4FBE8,
        a1 + 0x2A8,
        v10,
        0);
      sub_146B5CF90(a1, a2, a3, a4, v10, 0);
      if ( !a5 )
        (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
          qword_149B4FBE8,
          0x7832,
          v10);
      if ( (_QWORD)v11 )
        sub_1403A3120((__int64)&v11, (const void *)v11, (v12 - v11) & 0xFFFFFFFFFFFFFFE0uLL);
    }
  }
}

// --- End Function: sub_146B5CE20 (0x146B5CE20) ---

// --- Function: sub_146B5CF90 (0x146B5CF90) ---
double __fastcall sub_146B5CF90(__int64 a1, __int64 a2, __int64 a3, char a4, __int64 a5, char a6)
{
  __int128 v6; // xmm6
  __int128 v7; // xmm15
  _QWORD *v8; // r13
  unsigned __int64 v9; // r14
  signed __int64 v12; // rdx
  int v13; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v15; // rax
  __int64 v16; // rbx
  int v17; // edi
  unsigned __int32 v18; // eax
  __int64 v19; // rdx
  double v20; // xmm15_8
  __int128 v21; // xmm6
  unsigned __int64 *v22; // rcx
  __int64 v24; // rdi
  unsigned __int64 *v25; // rcx
  __int64 v26; // rax
  double v27; // xmm0_8
  double v28; // xmm1_8
  double v29; // xmm2_8
  __int128 v30; // xmm3
  double v31; // xmm4_8
  double v32; // xmm5_8
  double v33; // xmm7_8
  __int64 v34; // rax
  __int64 v35; // r13
  __int64 (__fastcall *v36)(__int64, _BYTE *, __int64); // rdi
  __int64 v37; // rax
  __int64 v38; // rax
  __int64 v39; // rax
  char v40; // al
  __int64 v41; // rdx
  bool v42; // di
  __int64 v43; // rdx
  double v44; // xmm9_8
  double v45; // xmm10_8
  double v46; // xmm4_8
  double v47; // xmm5_8
  double v52; // xmm8_8
  __int128 v53; // xmm5
  __int128 v54; // kr00_16
  double v55; // xmm7_8
  __int128 v56; // kr00_16
  __int128 v59; // xmm2
  __int128 v60; // xmm5
  int v65; // eax
  unsigned __int32 v66; // eax
  unsigned __int64 n0x200000; // rax
  double *v68; // rax
  double v69; // rcx
  __int64 *v70; // rcx
  __int64 v71; // rcx
  __int64 v72; // rdx
  int v73; // eax
  int v74; // ebx
  unsigned __int64 v75; // rax
  __int64 v76; // rax
  __int128 v79; // xmm13
  __int128 v80; // xmm12
  double v81; // xmm9_8
  __int128 v82; // xmm8
  double v83; // xmm11_8
  double v84; // xmm10_8
  __int128 v85; // kr00_16
  __int128 v90; // xmm14
  double v91; // xmm6_8
  __int128 v92; // xmm5
  double v97; // xmm9_8
  double v98; // xmm8_8
  __int128 v99; // xmm5
  double v100; // xmm10_8
  double v101; // xmm11_8
  __int128 v102; // xmm2
  __int128 v103; // kr00_16
  double v104; // xmm3_8
  double v105; // xmm1_8
  double v106; // xmm0_8
  double v111; // xmm2_8
  __int128 v112; // kr00_16
  __int128 v117; // kr00_16
  __int128 v122; // kr00_16
  double *v127; // rax
  double v128; // xmm10_8
  double v129; // xmm9_8
  double v130; // xmm8_8
  __int128 v131; // xmm15
  double v132; // xmm11_8
  double v133; // xmm12_8
  double v134; // xmm14_8
  double v135; // xmm13_8
  double v136; // xmm5_8
  __int128 v137; // kr00_16
  double v138; // kr00_8
  double v139; // xmm7_8
  double v140; // xmm5_8
  double v142; // xmm9_8
  double v143; // xmm5_8
  double v144; // xmm6_8
  __int64 v145; // rax
  double v146; // xmm12_8
  double v147; // xmm11_8
  double v148; // xmm10_8
  __int64 v149; // rax
  double v150; // xmm2_8
  double v151; // xmm0_8
  __int64 v152; // rax
  __int64 v153; // rbx
  __int64 v154; // rcx
  __int64 v155; // rdi
  __int64 v156; // rax
  __int64 v157; // rax
  __int64 v158; // rdx
  float v159; // xmm6_4
  float v160; // xmm11_4
  float v161; // xmm12_4
  __int16 v162; // r8
  float v163; // ecx
  float v164; // xmm13_4
  double v165; // xmm0_8
  float v166; // xmm9_4
  float v167; // xmm10_4
  float v168; // xmm1_4
  float *v169; // rax
  float v170; // xmm10_4
  float v171; // xmm9_4
  float v172; // xmm8_4
  float v173; // xmm14_4
  float v174; // xmm7_4
  float v175; // xmm5_4
  __int128 v176; // kr00_16
  float v177; // xmm6_4
  float v178; // xmm13_4
  float v179; // xmm3_4
  float v180; // xmm11_4
  float v181; // xmm0_4
  float v182; // xmm12_4
  float v183; // xmm7_4
  float v184; // xmm8_4
  double *v187; // rax
  double v188; // xmm10_8
  double v189; // xmm9_8
  double v190; // xmm8_8
  __int128 v191; // xmm11
  double v192; // xmm12_8
  double v193; // xmm15_8
  double v194; // xmm13_8
  double v195; // xmm5_8
  __int128 v196; // kr00_16
  double v197; // kr00_8
  double v198; // xmm7_8
  double v199; // xmm5_8
  double v200; // xmm9_8
  __int64 v201; // rax
  __int64 v203; // rbx
  float *v204; // rax
  float v205; // xmm1_4
  float v206; // xmm0_4
  double v207; // xmm1_8
  float v208; // xmm0_4
  double v209; // kr00_8
  double *v210; // rax
  __int128 v211; // xmm8
  double v212; // xmm10_8
  double v213; // xmm9_8
  double v214; // xmm11_8
  double v215; // xmm12_8
  double v216; // xmm4_8
  double v217; // xmm15_8
  double v218; // xmm14_8
  double v219; // xmm13_8
  double v220; // xmm7_8
  double v221; // xmm5_8
  double v222; // xmm4_8
  double v223; // xmm0_8
  double v224; // xmm7_8
  __int128 v225; // kr00_16
  double v227; // xmm5_8
  double v228; // xmm6_8
  __int64 v229; // rax
  double v230; // xmm11_8
  double v231; // xmm12_8
  double v232; // xmm10_8
  double v233; // xmm9_8
  __int64 v235; // rcx
  const char *v236; // rax
  unsigned __int64 v237; // rdi
  _QWORD *v238; // rax
  _QWORD *v239; // r13
  int v240; // ebx
  __int64 v241; // rdi
  char v242; // al
  __int64 v243; // rbx
  __int64 v244; // rdx
  __int64 v245; // rax
  int v246; // r9d
  __int64 v247; // rdx
  int v248; // r9d
  unsigned __int64 v249; // rax
  bool v252; // [rsp+38h] [rbp-D0h]
  _QWORD *v253; // [rsp+40h] [rbp-C8h]
  double v254; // [rsp+40h] [rbp-C8h]
  double v255; // [rsp+40h] [rbp-C8h]
  float v256; // [rsp+40h] [rbp-C8h]
  float v257; // [rsp+40h] [rbp-C8h]
  double v258; // [rsp+40h] [rbp-C8h]
  double v259; // [rsp+40h] [rbp-C8h]
  _QWORD *v260; // [rsp+40h] [rbp-C8h]
  double v261; // [rsp+48h] [rbp-C0h] BYREF
  double v262; // [rsp+50h] [rbp-B8h]
  __int64 v263; // [rsp+58h] [rbp-B0h]
  __int64 v264; // [rsp+60h] [rbp-A8h]
  double v265; // [rsp+78h] [rbp-90h]
  float v266; // [rsp+80h] [rbp-88h]
  float v267[4]; // [rsp+88h] [rbp-80h] BYREF
  float v268; // [rsp+98h] [rbp-70h]
  float v269; // [rsp+9Ch] [rbp-6Ch]
  float v270; // [rsp+A0h] [rbp-68h]
  float v271; // [rsp+A8h] [rbp-60h]
  float v272; // [rsp+ACh] [rbp-5Ch]
  float v273; // [rsp+B0h] [rbp-58h]
  float v274; // [rsp+B4h] [rbp-54h]
  double v275; // [rsp+B8h] [rbp-50h] BYREF
  double v276; // [rsp+C0h] [rbp-48h]
  double v277; // [rsp+C8h] [rbp-40h]
  double v278; // [rsp+D0h] [rbp-38h]
  __int128 v279; // [rsp+D8h] [rbp-30h]
  double v280; // [rsp+E8h] [rbp-20h]
  double v281; // [rsp+F0h] [rbp-18h]
  _BYTE v282[2]; // [rsp+F8h] [rbp-10h] BYREF
  __int16 v283; // [rsp+FAh] [rbp-Eh]
  int v284; // [rsp+FCh] [rbp-Ch]
  __int64 v285; // [rsp+100h] [rbp-8h]
  unsigned __int64 v286; // [rsp+108h] [rbp+0h]
  unsigned __int64 v287; // [rsp+110h] [rbp+8h]
  __int64 v288; // [rsp+118h] [rbp+10h]
  __int64 v289; // [rsp+120h] [rbp+18h]
  _DWORD v290[2]; // [rsp+148h] [rbp+40h] BYREF
  __int64 v291; // [rsp+150h] [rbp+48h]
  unsigned __int64 v292; // [rsp+158h] [rbp+50h]
  unsigned __int64 v293; // [rsp+160h] [rbp+58h]
  __int64 v294; // [rsp+168h] [rbp+60h]
  __int64 v295; // [rsp+170h] [rbp+68h]
  double v296[8]; // [rsp+198h] [rbp+90h] BYREF
  double v297[8]; // [rsp+1D8h] [rbp+D0h] BYREF
  double v298[4]; // [rsp+218h] [rbp+110h] BYREF
  __int128 v299; // [rsp+238h] [rbp+130h]
  double v300; // [rsp+248h] [rbp+140h]
  double v301; // [rsp+250h] [rbp+148h]
  _BYTE v302[64]; // [rsp+258h] [rbp+150h] BYREF
  _BYTE v303[64]; // [rsp+298h] [rbp+190h] BYREF
  _BYTE v304[64]; // [rsp+2D8h] [rbp+1D0h] BYREF
  _BYTE v305[64]; // [rsp+318h] [rbp+210h] BYREF
  double v306[16]; // [rsp+358h] [rbp+250h] BYREF
  double v307[16]; // [rsp+3D8h] [rbp+2D0h] BYREF
  double v308[16]; // [rsp+458h] [rbp+350h] BYREF
  _BYTE v309[24]; // [rsp+4D8h] [rbp+3D0h] BYREF
  __int64 v310; // [rsp+4F0h] [rbp+3E8h]
  _BOOL8 v311; // [rsp+4F8h] [rbp+3F0h]
  __int64 v312; // [rsp+500h] [rbp+3F8h]
  __int128 v313; // [rsp+518h] [rbp+410h]
  __int128 v314; // [rsp+5A8h] [rbp+4A0h]

  v314 = v6;
  v313 = v7;
  v8 = *(_QWORD **)(a1 + 0x2B0);
  v9 = 0;
  v253 = v8;
  v291 = 0;
  v293 = 0;
  v294 = 0;
  v295 = 0;
  v264 = a3;
  v290[0] = 0xF00;
  v292 = __rdtsc();
  v290[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v290,
    &word_1515B1BC8,
    "CEntity::MoveToZoneImpl",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x10DA);
  HIWORD(v290[0]) = word_1515B1BC8;
  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v12 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v12 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v12, "CEntity::MoveToZoneImpl", "s_aggregateHierarchyLock", 1);
  }
  v13 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( dword_149AC4BF0 == v13 )
  {
    ++dword_149AC4BF4;
  }
  else
  {
    p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
    v15 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0x200000, 0);
    if ( v15 )
      sub_1403DCD60(
        (__int64)&qword_149AC4BE0,
        v15,
        (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
        "CEntity::MoveToZoneImpl",
        "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
    else
      p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = p_p_p_p_p_p_p_p_p_p_p_p_Source;
    dword_149AC4BF0 = v13;
  }
  v16 = *(_QWORD *)(a1 + 0x330);
  v17 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(v16 + 0x10) == v17 )
  {
    ++*(_DWORD *)(v16 + 0x14);
  }
  else
  {
    v18 = _InterlockedCompareExchange((volatile signed __int32 *)v16, 1, 0);
    if ( v18 )
      sub_1403C33A0(v16, v18, "CEntity::MoveToZoneImpl", 1);
    else
      *(_QWORD *)(v16 + 8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    *(_DWORD *)(v16 + 0x10) = v17;
  }
  *(_QWORD *)(a1 + 0x2B0) = a2;
  *(_DWORD *)(a1 + 0x2B8) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a2 + 0x1F8LL))(a2);
  (*(void (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x50LL))(
    qword_149B4FBE8,
    a1 + 0x2A8,
    a2,
    a5);
  v19 = *(_QWORD *)(a1 + 0x2C0);
  if ( v19 )
    (*(void (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x58LL))(
      qword_149B4FBE8,
      v19,
      a2,
      a5);
  (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x148LL))(
    qword_149B4FBE8,
    a1 + 0x2A8,
    a5,
    0);
  v20 = 1.0;
  v21 = 0;
  if ( !a6 )
  {
    v22 = *(unsigned __int64 **)(a1 + 0x130);
    if ( v22 && sub_14030EC00(v22) && *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x10LL) == 5 )
    {
      v24 = **(_QWORD **)(a1 + 0x130) & 0xFFFFFFFFFFFFLL;
      v25 = *(unsigned __int64 **)(v24 + 0x130);
      if ( v25 && sub_14030EC00(v25) && (v26 = *(_QWORD *)(v24 + 0x130), *(_DWORD *)(v26 + 0x10) == 5) )
      {
        sub_146B4EC30(*(_QWORD *)v26 & 0xFFFFFFFFFFFFLL, (__int64)&v275, 2u);
        v27 = v275;
        v28 = v281;
        v29 = v280;
        v30 = v279;
        v31 = v278;
        v32 = v277;
        v33 = v276;
      }
      else
      {
        v31 = *(double *)(v24 + 0x80);
        v278 = v31;
        v27 = *(double *)(v24 + 0x68);
        v275 = v27;
        v33 = *(double *)(v24 + 0x70);
        v276 = v33;
        v32 = *(double *)(v24 + 0x78);
        v277 = v32;
        v30 = *(_OWORD *)(v24 + 0x88);
        v279 = v30;
        v29 = *(double *)(v24 + 0x98);
        v280 = v29;
        v28 = *(double *)(v24 + 0xA0);
        v281 = v28;
      }
      *(double *)(a1 + 0x68) = v27;
      *(double *)(a1 + 0x70) = v33;
      *(double *)(a1 + 0x78) = v32;
      *(double *)(a1 + 0x80) = v31;
      *(_OWORD *)(a1 + 0x88) = v30;
      *(double *)(a1 + 0x98) = v29;
      *(double *)(a1 + 0xA0) = v28;
      v34 = sub_146B54040(**(_QWORD **)(a1 + 0x130) & 0xFFFFFFFFFFFFLL, (__int64)v302, 0);
      v35 = a1 + 0x28;
    }
    else
    {
      v36 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)a2 + 0xC8LL);
      v37 = *v8;
      v35 = a1 + 0x28;
      v38 = (*(__int64 (__fastcall **)(_QWORD *, _BYTE *, __int64))(v37 + 0x140))(v253, v303, a1 + 0x28);
      v39 = v36(a2, v304, v38);
      *(_QWORD *)(a1 + 0x68) = *(_QWORD *)v39;
      *(_QWORD *)(a1 + 0x70) = *(_QWORD *)(v39 + 8);
      *(_QWORD *)(a1 + 0x78) = *(_QWORD *)(v39 + 0x10);
      *(_QWORD *)(a1 + 0x80) = *(_QWORD *)(v39 + 0x18);
      *(_OWORD *)(a1 + 0x88) = *(_OWORD *)(v39 + 0x20);
      *(double *)(a1 + 0x98) = *(double *)(v39 + 0x30);
      *(_QWORD *)(a1 + 0xA0) = *(_QWORD *)(v39 + 0x38);
      v34 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x2F8LL))(
              qword_149B4FBE8,
              v305,
              a1 + 0x2A8,
              2);
    }
    *(_QWORD *)v35 = *(_QWORD *)v34;
    *(_QWORD *)(v35 + 8) = *(_QWORD *)(v34 + 8);
    *(_QWORD *)(v35 + 0x10) = *(_QWORD *)(v34 + 0x10);
    *(_QWORD *)(v35 + 0x18) = *(_QWORD *)(v34 + 0x18);
    *(_OWORD *)(v35 + 0x20) = *(_OWORD *)(v34 + 0x20);
    *(double *)(v35 + 0x30) = *(double *)(v34 + 0x30);
    *(double *)(v35 + 0x38) = *(double *)(v34 + 0x38);
    v40 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
    LOBYTE(v41) = 1;
    v42 = v40 == 0;
    sub_146B26100(a1, v41, v40 == 0);
    *(_QWORD *)(a1 + 0xD8) = *(_QWORD *)v35;
    LOBYTE(v43) = 1;
    *(_QWORD *)(a1 + 0xE0) = *(_QWORD *)(v35 + 8);
    *(_QWORD *)(a1 + 0xE8) = *(_QWORD *)(v35 + 0x10);
    *(_QWORD *)(a1 + 0xF0) = *(_QWORD *)(v35 + 0x18);
    *(_OWORD *)(a1 + 0xF8) = *(_OWORD *)(v35 + 0x20);
    *(double *)(a1 + 0x108) = *(double *)(v35 + 0x30);
    *(_QWORD *)(a1 + 0x110) = *(_QWORD *)(v35 + 0x38);
    sub_146B6D990(a1, v43, v42);
    v44 = *(double *)(v35 + 8);
    v45 = *(double *)(v35 + 0x10);
    v46 = *(double *)(v35 + 0x18);
    v47 = *(double *)v35;
    _XMM1 = COERCE_UNSIGNED_INT64(v45 * v45 + v44 * v44 + v47 * v47 + v46 * v46);
    if ( v45 * v45 + v44 * v44 + v47 * v47 + v46 * v46 <= 0.00000000999999993922529 )
    {
      v55 = 1.0;
      v52 = 0.0;
      v53 = 0;
    }
    else
    {
      __asm
      {
        vmovddup xmm0, xmm1
        vsqrtpd xmm1, xmm0
        vunpckhpd xmm1, xmm1, xmm1
      }
      v52 = 1.0 / *(double *)&_XMM1 * v47;
      *((_QWORD *)&v54 + 1) = 0;
      *(double *)&v54 = 1.0 / *(double *)&_XMM1 * v44;
      v53 = v54;
      v55 = 1.0 / *(double *)&_XMM1 * v46;
      *((_QWORD *)&v54 + 1) = 0;
      *(double *)&v54 = 1.0 / *(double *)&_XMM1 * v45;
      v21 = v54;
    }
    v8 = v253;
    *((_QWORD *)&v56 + 1) = *((_QWORD *)&v53 + 1);
    *(double *)&v56 = *(double *)&v53 * v52 - *(double *)&v21 * v55 + *(double *)&v53 * v52 - *(double *)&v21 * v55;
    _XMM0 = v56;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(a1 + 0xA8) = *(float *)&_XMM1;
    *((_QWORD *)&v56 + 1) = *((_QWORD *)&v53 + 1);
    *(double *)&v56 = *(double *)&v53 * *(double *)&v53 + *(double *)&v53 * *(double *)&v53;
    v59 = v56;
    *((_QWORD *)&v56 + 1) = *((_QWORD *)&v21 + 1);
    *(double *)&v56 = *(double *)&v21 * *(double *)&v53;
    v60 = v56;
    *((_QWORD *)&v56 + 1) = *((_QWORD *)&v59 + 1);
    *(double *)&v56 = *(double *)&v59 + v55 * v55 + v55 * v55 - 1.0;
    _XMM2 = v56;
    *((_QWORD *)&v56 + 1) = *((_QWORD *)&v60 + 1);
    __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
    *(double *)&v56 = *(double *)&v60 + *(double *)&v60 + v52 * v55 + v52 * v55;
    _XMM1 = v56;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(float *)(a1 + 0xAC) = *(float *)&_XMM3;
    *(float *)(a1 + 0xB0) = *(float *)&_XMM2;
  }
  sub_146B61DA0(qword_1515B1A08, *(_DWORD *)(a1 + 0x2F0), (_DWORD)v8, a2, a1 + 0x48);
  sub_146B7CE40(a1, v8, a2, a1 + 0x48);
  v65 = *(_DWORD *)(v16 + 0x14);
  if ( v65 )
  {
    *(_DWORD *)(v16 + 0x14) = v65 - 1;
  }
  else
  {
    *(_DWORD *)(v16 + 0x10) = 0xFFFFFFFF;
    v66 = _InterlockedCompareExchange((volatile signed __int32 *)v16, 0, 1);
    if ( v66 == 1 )
      *(_QWORD *)(v16 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DB1F0(v16, v66);
  }
  if ( dword_149AC4BF4 )
  {
    --dword_149AC4BF4;
  }
  else
  {
    dword_149AC4BF0 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
      p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DD380((__int64)&qword_149AC4BE0, n0x200000);
  }
  sub_1402D2790((__int64)&qword_149AC4BF8);
  if ( !a6 )
  {
    v68 = *(double **)(a1 + 0x130);
    v69 = v68 ? *v68 : 0.0;
    v261 = v69;
    if ( sub_14030EC00((unsigned __int64 *)&v261) )
    {
      v70 = *(__int64 **)(a1 + 0x130);
      if ( !a4 )
      {
        if ( v70 )
          v235 = *v70;
        else
          v235 = 0;
        v236 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v235 & 0xFFFFFFFFFFFFLL) + 0x70LL))(v235 & 0xFFFFFFFFFFFFLL);
        LogFatalError(
          "CEntity::MoveToZoneImpl not valid on %s due to it being attached to %s. Please only change the HostZone on AdamEntities",
          *(const char **)(a1 + 0x298),
          v236);
        goto LABEL_95;
      }
      if ( v70 )
        v71 = *v70;
      else
        v71 = 0;
      if ( (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v71 & 0xFFFFFFFFFFFFLL) + 0x668LL))(v71 & 0xFFFFFFFFFFFFLL) )
      {
        v72 = *(_QWORD *)(a1 + 0x130);
        if ( (*(_BYTE *)(v72 + 0x140) & 4) == 0 )
        {
          v73 = *(_DWORD *)(v72 + 0x10);
          switch ( v73 )
          {
            case 1:
            case 0xA:
              *(_QWORD *)(v72 + 0x150) = *(_QWORD *)(a1 + 0x28);
              *(_QWORD *)(v72 + 0x158) = *(_QWORD *)(a1 + 0x30);
              *(_QWORD *)(v72 + 0x160) = *(_QWORD *)(a1 + 0x38);
              *(_QWORD *)(v72 + 0x168) = *(_QWORD *)(a1 + 0x40);
              *(_OWORD *)(v72 + 0x170) = *(_OWORD *)(a1 + 0x48);
              *(double *)(v72 + 0x180) = *(double *)(a1 + 0x58);
              *(_QWORD *)(v72 + 0x188) = *(_QWORD *)(a1 + 0x60);
              break;
            case 2:
              v74 = *(_DWORD *)(v72 + 0x144);
              v75 = sub_146B513B0(a1);
              if ( v75 )
              {
                v76 = sub_146AB61A0(v75, v74);
                if ( v76 )
                {
                  (*(void (__fastcall **)(__int64, float *, _QWORD))(*(_QWORD *)v76 + 0x278LL))(
                    v76,
                    v267,
                    (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x130) + 0x148LL));
                  sub_140745F90(v267);
                  v300 = v274;
                  _XMM2 = COERCE_UNSIGNED_INT64(v267[3]);
                  __asm { vunpcklpd xmm0, xmm2, xmm0 }
                  v299 = _XMM0;
                  v79 = COERCE_UNSIGNED_INT64(v267[0]);
                  v80 = COERCE_UNSIGNED_INT64(v267[1]);
                  v81 = v271;
                  v82 = COERCE_UNSIGNED_INT64(v273);
                  v83 = v267[2];
                  v84 = v272;
                  v301 = pow(
                           fabs(
                             v269 * *(double *)&v79 * *(double *)&v82
                           + v270 * *(double *)&v80 * v81
                           + v268 * v83 * v272
                           - v269 * v83 * v81
                           - v270 * *(double *)&v79 * v272
                           - v268 * *(double *)&v80 * *(double *)&v82),
                           0.3333333333333333);
                  *((_QWORD *)&v85 + 1) = *((_QWORD *)&v80 + 1);
                  *(double *)&v85 = *(double *)&v80 * *(double *)&v80
                                  + *(double *)&v79 * *(double *)&v79
                                  + v83 * v83
                                  + 2.225073858507201e-308;
                  _XMM1 = v85;
                  __asm
                  {
                    vmovddup xmm2, xmm1
                    vsqrtpd xmm4, xmm2
                    vunpckhpd xmm4, xmm4, xmm4
                  }
                  v254 = *(double *)&v80 * (1.0 / *(double *)&_XMM4);
                  *((_QWORD *)&v85 + 1) = *((_QWORD *)&v79 + 1);
                  *(double *)&v85 = *(double *)&v79 * (1.0 / *(double *)&_XMM4);
                  v90 = v85;
                  v91 = v84 * v83 - *(double *)&v82 * *(double *)&v80;
                  v261 = v83 * (1.0 / *(double *)&_XMM4);
                  *((_QWORD *)&v85 + 1) = *((_QWORD *)&v82 + 1);
                  *(double *)&v85 = *(double *)&v82 * *(double *)&v79 - v81 * v83;
                  v92 = v85;
                  *(double *)&_XMM4 = v81 * *(double *)&v80 - v84 * *(double *)&v79;
                  *(double *)&v85 = *(double *)&v92 * *(double *)&v92
                                  + v91 * v91
                                  + *(double *)&_XMM4 * *(double *)&_XMM4
                                  + 2.225073858507201e-308;
                  _XMM1 = v85;
                  __asm
                  {
                    vmovddup xmm3, xmm1
                    vsqrtpd xmm0, xmm3
                    vunpckhpd xmm0, xmm0, xmm0
                  }
                  *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
                  v97 = *(double *)&_XMM4 * *(double *)&_XMM0;
                  v98 = v91 * *(double *)&_XMM0;
                  *((_QWORD *)&v85 + 1) = *((_QWORD *)&v92 + 1);
                  *(double *)&v85 = *(double *)&v92 * *(double *)&_XMM0;
                  v99 = v85;
                  v100 = *(double *)&_XMM4 * *(double *)&_XMM0 * v254 - v261 * *(double *)&v85;
                  v101 = v261 * (v91 * *(double *)&_XMM0) - *(double *)&_XMM4 * *(double *)&_XMM0 * *(double *)&v90;
                  *((_QWORD *)&v85 + 1) = *((_QWORD *)&v90 + 1);
                  *(double *)&v85 = *(double *)&v90 * *(double *)&v99 - v91 * *(double *)&_XMM0 * v254;
                  v102 = v85;
                  *((_QWORD *)&v103 + 1) = *((_QWORD *)&v90 + 1);
                  *(double *)&v103 = *(double *)&v90 + *(double *)&v99 + *(double *)&v102;
                  v104 = 0.0;
                  v105 = 0.0;
                  v106 = 0.0;
                  if ( *(double *)&v103 <= 0.0 )
                  {
                    if ( *(double *)&v90 < *(double *)&v99 || *(double *)&v90 < *(double *)&v102 )
                    {
                      if ( *(double *)&v99 < *(double *)&v90 || *(double *)&v99 < *(double *)&v102 )
                      {
                        if ( *(double *)&v102 >= *(double *)&v90 && *(double *)&v102 >= *(double *)&v99 )
                        {
                          *((_QWORD *)&v122 + 1) = *((_QWORD *)&v102 + 1);
                          *(double *)&v122 = *(double *)&v102 - *(double *)&v90 - *(double *)&v99 + 1.0;
                          _XMM2 = v122;
                          __asm
                          {
                            vmovddup xmm3, xmm2
                            vsqrtpd xmm5, xmm3
                            vunpckhpd xmm5, xmm5, xmm5
                          }
                          v20 = (v98 - v254) * (0.5 / *(double *)&_XMM5);
                          v104 = (v261 + v100) * (0.5 / *(double *)&_XMM5);
                          v105 = (v101 + v97) * (0.5 / *(double *)&_XMM5);
                          v106 = *(double *)&_XMM5 * 0.5;
                        }
                      }
                      else
                      {
                        *((_QWORD *)&v117 + 1) = *((_QWORD *)&v99 + 1);
                        *(double *)&v117 = *(double *)&v99 - *(double *)&v102 - *(double *)&v90 + 1.0;
                        _XMM2 = v117;
                        __asm
                        {
                          vmovddup xmm3, xmm2
                          vsqrtpd xmm5, xmm3
                          vunpckhpd xmm5, xmm5, xmm5
                        }
                        v20 = (v261 - v100) * (0.5 / *(double *)&_XMM5);
                        v104 = (v98 + v254) * (0.5 / *(double *)&_XMM5);
                        v106 = (v101 + v97) * (0.5 / *(double *)&_XMM5);
                        v105 = *(double *)&_XMM5 * 0.5;
                      }
                    }
                    else
                    {
                      *((_QWORD *)&v112 + 1) = *((_QWORD *)&v90 + 1);
                      *(double *)&v112 = *(double *)&v90 - *(double *)&v99 - *(double *)&v102 + 1.0;
                      _XMM2 = v112;
                      __asm
                      {
                        vmovddup xmm3, xmm2
                        vsqrtpd xmm4, xmm3
                        vunpckhpd xmm4, xmm4, xmm4
                      }
                      v20 = (v101 - v97) * (0.5 / *(double *)&_XMM4);
                      v104 = *(double *)&_XMM4 * 0.5;
                      v106 = (v261 + v100) * (0.5 / *(double *)&_XMM4);
                      v105 = (v98 + v254) * (0.5 / *(double *)&_XMM4);
                    }
                  }
                  else
                  {
                    *(double *)&v103 = *(double *)&v103 + 1.0;
                    _XMM0 = v103;
                    __asm { vmovddup xmm1, xmm0 }
                    __asm
                    {
                      vsqrtpd xmm3, xmm1
                      vunpckhpd xmm3, xmm3, xmm3
                    }
                    v111 = 0.5 / *(double *)&_XMM3;
                    v20 = *(double *)&_XMM3 * 0.5;
                    v104 = (v101 - v97) * (0.5 / *(double *)&_XMM3);
                    v106 = (v98 - v254) * v111;
                    v105 = (v261 - v100) * v111;
                  }
                  v298[0] = v104;
                  v298[1] = v105;
                  v298[2] = v106;
                  v298[3] = v20;
                  v127 = sub_1404B6AF0(v298, v306);
                  v128 = *(double *)(a1 + 0x58);
                  v129 = *(double *)(a1 + 0x50);
                  v130 = *(double *)(a1 + 0x48);
                  v131 = *(unsigned __int64 *)v127;
                  v132 = v127[1];
                  v133 = v127[2];
                  v134 = v127[7];
                  v135 = *(double *)(a1 + 0x38);
                  v262 = v127[3];
                  v136 = v130 * v133 - *(double *)&v131 * v128 + v262 * v129;
                  *((_QWORD *)&v137 + 1) = *((_QWORD *)&v131 + 1);
                  v138 = (*(double *)&v131 * v129 - v130 * v132 + v262 * v128) * v132 - v136 * v133;
                  v139 = *(double *)(a1 + 0x40);
                  v140 = v136 * *(double *)&v131 - (v128 * v132 - v129 * v133 + v130 * v262) * v132;
                  *(double *)&v137 = (v138 + v130 + v138) * v134 + v127[4];
                  _XMM8 = v137;
                  v142 = v262;
                  *(double *)&v137 = v140 + v128 + v140;
                  v143 = *(double *)(a1 + 0x60);
                  v144 = *(double *)&v137 * v134 + v127[6];
                  v145 = *(_QWORD *)(a1 + 0x130);
                  v255 = v133;
                  v146 = *(double *)(a1 + 0x30);
                  v261 = v132;
                  v147 = *(double *)(a1 + 0x28);
                  v148 = v261;
                  v149 = v145 + 0x150;
                  *(double *)v149 = v135 * v261 - v146 * v255 + v147 * v262 + v139 * *(double *)&v131;
                  *(double *)(v149 + 8) = v147 * v255 - v135 * *(double *)&v131 + v146 * v142 + v139 * v148;
                  *(double *)(v149 + 0x10) = v146 * *(double *)&v131 - v147 * v148 + v135 * v142 + v139 * v255;
                  v150 = v139 * v142 - v147 * *(double *)&v131;
                  v151 = v135 * v255;
LABEL_82:
                  *(double *)(v149 + 0x18) = v150 - v146 * v148 - v151;
                  __asm { vunpcklpd xmm0, xmm8, xmm4 }
                  *(_OWORD *)(v149 + 0x20) = _XMM0;
                  *(double *)(v149 + 0x30) = v144;
                  *(double *)(v149 + 0x38) = v134 * v143;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x140LL) |= 2u;
                  goto LABEL_95;
                }
              }
              break;
            case 3:
              v152 = sub_146B49A10(*(_QWORD *)v72 & 0xFFFFFFFFFFFFLL, *(_DWORD *)(v72 + 0x144));
              v153 = v152;
              if ( v152 )
              {
                v154 = *(_QWORD *)(a1 + 0x130);
                if ( *(_WORD *)(v154 + 0x148) == 0xFFFF )
                {
                  *(_QWORD *)(v154 + 0x150) = *(_QWORD *)(a1 + 0x28);
                  *(_QWORD *)(v154 + 0x158) = *(_QWORD *)(a1 + 0x30);
                  *(_QWORD *)(v154 + 0x160) = *(_QWORD *)(a1 + 0x38);
                  *(_QWORD *)(v154 + 0x168) = *(_QWORD *)(a1 + 0x40);
                  *(_OWORD *)(v154 + 0x170) = *(_OWORD *)(a1 + 0x48);
                  *(double *)(v154 + 0x180) = *(double *)(a1 + 0x58);
                  *(_QWORD *)(v154 + 0x188) = *(_QWORD *)(a1 + 0x60);
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x140LL) |= 2u;
                  goto LABEL_95;
                }
                v155 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v152 + 0x70LL))(v152);
                v156 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v153 + 0x30LL))(v153);
                v157 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v156 + 0x148LL))(
                         v156,
                         (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x130) + 0x148LL));
                v158 = *(_QWORD *)(a1 + 0x130);
                v159 = *(float *)(v157 + 0xC);
                v160 = *(float *)v157;
                v161 = *(float *)(v157 + 4);
                v162 = *(_WORD *)(v158 + 0x14A);
                v163 = *(float *)(v157 + 0x18);
                v266 = v163;
                v164 = *(float *)(v157 + 8);
                v165 = *(double *)(v157 + 0x10);
                *(float *)&v263 = v159;
                *(float *)&v262 = v160;
                *(float *)&v261 = v161;
                v256 = v164;
                v265 = v165;
                v166 = v159;
                v167 = v160;
                v168 = v161;
                if ( v162 >= 0 )
                {
                  v169 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v155 + 0x90LL))(
                                    v155,
                                    *(unsigned __int16 *)(v158 + 0x148));
                  v170 = v169[6];
                  v171 = v169[5];
                  v172 = v169[4];
                  v173 = v169[2];
                  v174 = (float)((float)(v170 * v161) - (float)(v171 * v164)) + (float)(v172 * v159);
                  v175 = (float)((float)(v172 * v164) - (float)(v170 * v160)) + (float)(v171 * v159);
                  v176 = LODWORD(v171);
                  v177 = (float)((float)((float)((float)(v171 * v160) - (float)(v172 * v161)) + (float)(v170 * v159))
                               * v161)
                       - (float)(v175 * v164);
                  v178 = v169[3];
                  v179 = v175 * v160;
                  v180 = v169[1];
                  v181 = v174 * v161;
                  v182 = *v169;
                  v183 = v179 - v181;
                  *(float *)&v176 = (float)(v177 + v172) + *(float *)&v265;
                  v184 = v256;
                  *(float *)&v176 = *(float *)&v176 + v177;
                  _XMM5 = v176;
                  __asm { vunpcklps xmm0, xmm5, xmm3 }
                  v265 = *(double *)&_XMM0;
                  v163 = (float)((float)(v183 + v170) + v266) + v183;
                  v166 = (float)((float)((float)(v178 * *(float *)&v263) - (float)(v182 * *(float *)&v262))
                               - (float)(v180 * *(float *)&v261))
                       - (float)(v173 * v256);
                  v167 = (float)((float)((float)(v173 * *(float *)&v261) - (float)(v180 * v256))
                               + (float)(v182 * *(float *)&v263))
                       + (float)(v178 * *(float *)&v262);
                  v257 = (float)((float)((float)(v182 * v256) - (float)(v173 * *(float *)&v262))
                               + (float)(v180 * *(float *)&v263))
                       + (float)(v178 * *(float *)&v261);
                  v164 = (float)((float)((float)(v180 * *(float *)&v262) - (float)(v182 * *(float *)&v261))
                               + (float)(v173 * *(float *)&v263))
                       + (float)(v178 * v184);
                  v168 = v257;
                }
                v296[1] = v168;
                v296[0] = v167;
                v296[2] = v164;
                v296[3] = v166;
                v296[4] = *(float *)&v265;
                v296[6] = v163;
                v296[5] = *((float *)&v265 + 1);
                v296[7] = 1.0;
                v187 = sub_1404B6AF0(v296, v307);
                v188 = *(double *)(a1 + 0x58);
                v189 = *(double *)(a1 + 0x50);
                v190 = *(double *)(a1 + 0x48);
                v191 = *((unsigned __int64 *)v187 + 1);
                v192 = v187[2];
                v193 = *v187;
                v134 = v187[7];
                v194 = *(double *)(a1 + 0x38);
                v262 = v187[3];
                v195 = v190 * v192 - v193 * v188 + v262 * v189;
                *((_QWORD *)&v196 + 1) = *((_QWORD *)&v191 + 1);
                v197 = *(double *)&v191 * (v193 * v189 - v190 * *(double *)&v191 + v262 * v188) - v192 * v195;
                v198 = *(double *)(a1 + 0x40);
                v199 = v193 * v195 - *(double *)&v191 * (*(double *)&v191 * v188 - v192 * v189 + v190 * v262);
                *(double *)&v196 = (v197 + v190 + v197) * v134 + v187[4];
                _XMM8 = v196;
                v200 = v262;
                *(double *)&v196 = v199 + v188 + v199;
                v143 = *(double *)(a1 + 0x60);
                v144 = *(double *)&v196 * v134 + v187[6];
                v201 = *(_QWORD *)(a1 + 0x130);
                v261 = *(double *)&v191;
                v148 = *(double *)&v191;
                *(_QWORD *)&v191 = *(_QWORD *)(a1 + 0x28);
                v258 = v192;
                v146 = *(double *)(a1 + 0x30);
                v149 = v201 + 0x150;
                *(double *)v149 = v194 * v148 - v146 * v258 + *(double *)&v191 * v262 + v198 * v193;
                *(double *)(v149 + 8) = *(double *)&v191 * v258 - v194 * v193 + v146 * v200 + v198 * v148;
                *(double *)(v149 + 0x10) = v146 * v193 - *(double *)&v191 * v148 + v194 * v200 + v198 * v258;
                v150 = v198 * v200 - *(double *)&v191 * v193;
                v151 = v194 * v258;
                goto LABEL_82;
              }
              break;
            case 4:
              if ( *(_BYTE *)(v72 + 0x138) != 1 )
                sub_1403E0B50();
              v203 = *(_QWORD *)(v72 + 0x18);
              if ( v203 )
                (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v203 + 8LL))(*(_QWORD *)(v72 + 0x18));
              v204 = (float *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v203 + 0x118LL))(v203);
              v297[7] = 1.0;
              v205 = v204[1];
              v297[0] = *v204;
              v297[2] = v204[2];
              v206 = v204[4];
              v297[1] = v205;
              v207 = v204[3];
              v297[4] = v206;
              v208 = v204[6];
              v297[3] = v207;
              v209 = v204[5];
              v297[6] = v208;
              v297[5] = v209;
              v210 = sub_1404B6AF0(v297, v308);
              v211 = *(unsigned __int64 *)(a1 + 0x48);
              v212 = *(double *)(a1 + 0x58);
              v213 = *(double *)(a1 + 0x50);
              v214 = v210[1];
              v215 = v210[2];
              v216 = v210[3];
              v217 = *v210;
              v218 = v210[7];
              v219 = *(double *)(a1 + 0x38);
              v220 = v212 * v214 - v213 * v215 + *(double *)&v211 * v216;
              v262 = v216;
              v221 = *(double *)&v211 * v215 - v217 * v212 + v216 * v213;
              v222 = v217 * v213 - *(double *)&v211 * v214 + v216 * v212;
              v223 = v214 * v220;
              v224 = *(double *)(a1 + 0x40);
              *((_QWORD *)&v225 + 1) = *((_QWORD *)&v211 + 1);
              *(double *)&v225 = (*(double *)&v211 + v214 * v222 - v215 * v221 + v214 * v222 - v215 * v221) * v218
                               + v210[4];
              _XMM8 = v225;
              *(double *)&v225 = v212 + v217 * v221 - v223 + v217 * v221 - v223;
              v227 = *(double *)(a1 + 0x60);
              v228 = *(double *)&v225 * v218 + v210[6];
              v229 = *(_QWORD *)(a1 + 0x130);
              v261 = v214;
              v230 = *(double *)(a1 + 0x28);
              v259 = v215;
              v231 = *(double *)(a1 + 0x30);
              v232 = v261;
              v233 = v262;
              v229 += 0x150;
              *(double *)v229 = v219 * v261 - v231 * v259 + v230 * v262 + v224 * v217;
              *(double *)(v229 + 8) = v230 * v259 - v219 * v217 + v231 * v233 + v224 * v232;
              *(double *)(v229 + 0x10) = v231 * v217 - v230 * v232 + v219 * v233 + v224 * v259;
              *(double *)(v229 + 0x18) = v224 * v233 - v230 * v217 - v231 * v232 - v219 * v259;
              __asm { vunpcklpd xmm0, xmm8, xmm4 }
              *(_OWORD *)(v229 + 0x20) = _XMM0;
              *(double *)(v229 + 0x38) = v218 * v227;
              *(double *)(v229 + 0x30) = v228;
              if ( v203 )
              {
                (*(void (__fastcall **)(__int64))(*(_QWORD *)v203 + 0x10LL))(v203);
                *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x140LL) |= 2u;
                goto LABEL_95;
              }
              break;
          }
        }
      }
      *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x140LL) |= 2u;
    }
  }
LABEL_95:
  v237 = *(unsigned __int64 *)(a1 + 0x2C0);
  v238 = *(_QWORD **)(a1 + 0x248);
  v239 = *(_QWORD **)(a1 + 0x240);
  v252 = v237 == 0;
  v261 = *(double *)&v237;
  v260 = v238;
  if ( v239 == v238 )
  {
    v243 = v264;
  }
  else
  {
    do
    {
      v240 = *(_DWORD *)(a1 + 0x2D8);
      v241 = *v239 & 0xFFFFFFFFFFFFLL;
      v242 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v241 + 0x20LL))(v241);
      v283 = 0;
      v285 = 0;
      v287 = 0;
      v288 = 0;
      v289 = 0;
      v282[1] = v242;
      v286 = __rdtsc();
      v284 = v240;
      v282[0] = 0;
      qword_149B4B870(
        v282,
        &word_1515B1BCC,
        "Component moved to zone",
        "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
        0x1159);
      v243 = v264;
      v283 = word_1515B1BCC;
      (*(void (__fastcall **)(__int64, __int64, __int64, bool, __int64))(*(_QWORD *)v241 + 0x10LL))(
        v241,
        a2,
        v264,
        v252,
        a5);
      v287 = __rdtsc();
      qword_149B4B878(v282);
      ++v239;
    }
    while ( v239 != v260 );
    *(double *)&v237 = v261;
  }
  sub_14036C3F0((__int64)v309, 0x21);
  v311 = v252;
  v310 = v243;
  v312 = a5;
  sub_146B731A0(a1, v309);
  v244 = *(_QWORD *)(a1 + 0x130);
  if ( v244 )
  {
    v245 = (__int64)(*(_QWORD *)(v244 + 0x1C0) - *(_QWORD *)(v244 + 0x1B8)) >> 3;
    if ( *(double *)&v237 == 0.0 )
    {
      if ( v245 )
      {
        do
        {
          (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x140LL))(
            qword_149B4FBE8,
            (*(_QWORD *)(*(_QWORD *)(v244 + 0x1B8) + 8 * v9) & 0xFFFFFFFFFFFFLL) + 0x2A8,
            a5,
            0);
          LOBYTE(v246) = 1;
          sub_146B5CF90(*(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x130) + 0x1B8LL) + 8 * v9), a2, v243, v246, a5, 0);
          v244 = *(_QWORD *)(a1 + 0x130);
          ++v9;
        }
        while ( v9 < (__int64)(*(_QWORD *)(v244 + 0x1C0) - *(_QWORD *)(v244 + 0x1B8)) >> 3 );
      }
    }
    else if ( v245 )
    {
      do
      {
        v247 = *(_QWORD *)(*(_QWORD *)(v244 + 0x1B8) + 8 * v9) & 0xFFFFFFFFFFFFLL;
        if ( (*(_BYTE *)(*(_QWORD *)(v247 + 0x130) + 0x140LL) & 4) != 0 )
        {
          (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x140LL))(
            qword_149B4FBE8,
            v247 + 0x2A8,
            a5,
            0);
          LOBYTE(v248) = 1;
          sub_146B5CF90(*(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x130) + 0x1B8LL) + 8 * v9), a2, v243, v248, a5, 0);
        }
        v244 = *(_QWORD *)(a1 + 0x130);
        ++v9;
      }
      while ( v9 < (__int64)(*(_QWORD *)(v244 + 0x1C0) - *(_QWORD *)(v244 + 0x1B8)) >> 3 );
    }
  }
  v249 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a2 + 0x20LL))(a2);
  sub_146B33ED0(a1, v249, 2u);
  v293 = __rdtsc();
  return qword_149B4B878(v290);
}

// --- End Function: sub_146B5CF90 (0x146B5CF90) ---

// --- Function: sub_146B60560 (0x146B60560) ---
double __fastcall sub_146B60560(
        unsigned __int64 a1,
        unsigned __int64 *a2,
        __int64 *a3,
        unsigned __int64 *a4,
        unsigned __int64 *a5,
        unsigned __int64 *a6,
        unsigned __int64 *a7,
        unsigned int n4)
{
  __int64 v9; // rcx
  unsigned __int64 v13; // r12
  unsigned __int64 *v14; // r14
  unsigned __int64 v15; // r15
  unsigned __int64 *v16; // rdx
  unsigned __int64 *v17; // rdi
  unsigned __int64 *v18; // rcx
  unsigned __int64 v19; // rcx
  __int64 v20; // r9
  __int64 v21; // r8
  __int64 v22; // rcx
  unsigned __int64 *v23; // r9
  char v24; // dl
  unsigned __int64 v25; // rcx
  unsigned __int16 v26; // ax
  bool v27; // zf
  char *v28; // rdx
  double result; // xmm0_8
  __int64 v30; // rax
  __int64 v31; // rax
  unsigned __int64 v32; // rdi
  unsigned __int64 v33; // r14
  char v34; // dl
  unsigned __int64 v35; // rcx
  unsigned __int16 v36; // ax
  int v37; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v39; // rax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v41; // rdi
  unsigned __int64 v42; // rbx
  __int64 v43; // rsi
  _QWORD *v44; // r14
  _QWORD *i; // rsi
  unsigned __int64 v46; // [rsp+30h] [rbp-D0h] BYREF
  unsigned __int64 v47; // [rsp+38h] [rbp-C8h] BYREF
  __int64 v48; // [rsp+40h] [rbp-C0h]
  unsigned __int64 v49; // [rsp+48h] [rbp-B8h] BYREF
  unsigned __int64 v50; // [rsp+50h] [rbp-B0h] BYREF
  unsigned __int64 v51[2]; // [rsp+58h] [rbp-A8h] BYREF
  unsigned __int64 v52; // [rsp+68h] [rbp-98h] BYREF
  __int64 v53; // [rsp+70h] [rbp-90h] BYREF
  unsigned __int64 v54; // [rsp+78h] [rbp-88h] BYREF
  __int64 v55; // [rsp+80h] [rbp-80h] BYREF
  unsigned __int64 v56; // [rsp+88h] [rbp-78h] BYREF
  unsigned __int64 v57; // [rsp+90h] [rbp-70h] BYREF
  unsigned __int64 v58; // [rsp+98h] [rbp-68h] BYREF
  __int64 v59; // [rsp+A0h] [rbp-60h]
  _QWORD v60[3]; // [rsp+A8h] [rbp-58h] BYREF
  _DWORD v61[2]; // [rsp+C0h] [rbp-40h] BYREF
  __int64 v62; // [rsp+C8h] [rbp-38h]
  unsigned __int64 v63; // [rsp+D0h] [rbp-30h]
  unsigned __int64 v64; // [rsp+D8h] [rbp-28h]
  __int64 v65; // [rsp+E0h] [rbp-20h]
  __int64 v66; // [rsp+E8h] [rbp-18h]
  unsigned __int64 v67; // [rsp+160h] [rbp+60h] BYREF
  unsigned __int64 v68; // [rsp+168h] [rbp+68h] BYREF
  __int64 *v69; // [rsp+170h] [rbp+70h]
  unsigned __int64 v70; // [rsp+178h] [rbp+78h] BYREF

  v69 = a3;
  v9 = *(_QWORD *)(a1 + 0x2B0);
  v59 = v9;
  if ( n4 == 4 )
  {
    v48 = 0;
  }
  else
  {
    v49 = *a2;
    v48 = sub_146B4BCC0(&v49, v9);
  }
  v13 = *a3;
  v14 = a7;
  v15 = *a2;
  v70 = *a4;
  v16 = (unsigned __int64 *)*a7;
  a7 = (unsigned __int64 *)*a7;
  v46 = *a5;
  v17 = a6;
  v18 = (unsigned __int64 *)*a6;
  a6 = (unsigned __int64 *)*a6;
  if ( v15 != v13 )
  {
    v67 = v13;
    v68 = v15;
    if ( sub_14030EC00(&v67) )
    {
      v19 = v67;
      v20 = *(unsigned int *)(a1 + 0x2F4);
      v21 = *(_QWORD *)((v67 & 0xFFFFFFFFFFFFLL) + 0x300);
      if ( v20 != ((*(_QWORD *)((v67 & 0xFFFFFFFFFFFFLL) + 0x308) - v21) >> 3) - 1 )
      {
        v22 = *(_QWORD *)(*(_QWORD *)((v67 & 0xFFFFFFFFFFFFLL) + 0x308) - 8LL);
        *(_QWORD *)(v21 + 8 * v20) = v22;
        *(_DWORD *)((v22 & 0xFFFFFFFFFFFFLL) + 0x2F4) = *(_DWORD *)(a1 + 0x2F4);
        v19 = v67;
      }
      *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 0x308) -= 8LL;
      *(_DWORD *)(a1 + 0x2F4) = 0xFFFFFFFF;
      *(_QWORD *)(a1 + 0x318) = 0;
    }
    if ( sub_14030EC00(&v68) )
    {
      v23 = (unsigned __int64 *)((v68 & 0xFFFFFFFFFFFFLL) + 0x300);
      *(_DWORD *)(a1 + 0x2F4) = (__int64)(*(_QWORD *)((v68 & 0xFFFFFFFFFFFFLL) + 0x308)
                                        - *(_QWORD *)((v68 & 0xFFFFFFFFFFFFLL) + 0x300)) >> 3;
      if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
      {
        v24 = 0;
        v25 = a1 - 6;
      }
      else
      {
        v24 = 1;
        v25 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      v26 = *(_WORD *)(v25 + 2) | 0x2000;
      v27 = v24 == 0;
      v28 = (char *)v23[1];
      if ( v27 )
        v26 = *(_WORD *)(v25 + 2);
      v47 = a1 | ((unsigned __int64)v26 << 0x30);
      if ( v28 == (char *)v23[2] )
      {
        sub_146B173C0(v23, v28, &v47);
      }
      else
      {
        *(_QWORD *)v28 = a1 | ((unsigned __int64)v26 << 0x30);
        v23[1] += 8LL;
        v47 = 0;
      }
      *(_QWORD *)(a1 + 0x318) = v68;
    }
    v16 = a7;
    v18 = a6;
  }
  if ( v70 == v46 )
  {
    if ( v18 == v16 )
      goto LABEL_35;
  }
  else
  {
    v50 = *a4;
    v60[0] = &v50;
    v60[1] = sub_146B10D30;
    sub_146B48380(a1, (__int64)v60);
    v60[0] = 0xFFFFFFFFFFFFFFFFuLL;
  }
  v51[0] = *a5;
  result = sub_146B61110(qword_1515B1A08, a1, a4, v51);
  v18 = a6;
  v16 = a7;
  if ( a6 != a7 )
  {
    v51[1] = *v14;
    v52 = *v17;
    sub_146B63B00(a1, (__int64 *)&v52);
    if ( sub_14030EC00(v17) )
      v30 = *v17 & 0xFFFFFFFFFFFFLL;
    else
      v30 = 0;
    if ( v30 == a1 || (sub_14030EC00(v14) ? (v31 = *v14 & 0xFFFFFFFFFFFFLL) : (v31 = 0), v31 == a1) )
      sub_146B74B20(a1, 0xC0);
    v16 = a7;
    v18 = a6;
  }
LABEL_35:
  if ( v15 == v13 && v18 == v16
    || (a6 = (unsigned __int64 *)*v14,
        a7 = (unsigned __int64 *)*v17,
        v53 = *v69,
        v54 = *a2,
        sub_146B60BA0(a1, (unsigned int)&v54, (unsigned int)&v53, (unsigned int)&a7, (__int64)&a6),
        v15 == v13) )
  {
    v32 = v70;
    v33 = v46;
    if ( v70 == v46 )
      goto LABEL_52;
  }
  else
  {
    v32 = v70;
    v33 = v46;
  }
  v70 = *a5;
  v46 = *a4;
  v55 = *v69;
  v56 = *a2;
  sub_146B60F00(a1, (unsigned int)&v56, (unsigned int)&v55, (unsigned int)&v46, (__int64)&v70);
  if ( v15 == v13 )
  {
    if ( v32 == v33 )
      goto LABEL_52;
  }
  else
  {
    v57 = *a2;
    sub_146B5C9C0(a1, &v57, n4);
  }
  if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
  {
    v34 = 0;
    v35 = a1 - 6;
  }
  else
  {
    v34 = 1;
    v35 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v36 = *(_WORD *)(v35 + 2) | 0x2000;
  if ( !v34 )
    v36 = *(_WORD *)(v35 + 2);
  v58 = a1 | ((unsigned __int64)v36 << 0x30);
  sub_146A3BD70(qword_1515B19F0, (unsigned int)&v58, (_DWORD)a2, (_DWORD)v69, (__int64)a4);
LABEL_52:
  v37 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( dword_149AC4BF0 == v37 )
  {
    ++dword_149AC4BF4;
  }
  else
  {
    p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
    v39 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0x200000, 0);
    if ( v39 )
      sub_1403DCD60(
        (__int64)&qword_149AC4BE0,
        v39,
        (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
        "CEntity::OnAggregateHierarchyChanged",
        "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
    else
      p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = p_p_p_p_p_p_p_p_p_p_p_p_Source;
    dword_149AC4BF0 = v37;
  }
  sub_146B7C460(a1, v48, v59);
  if ( *(_BYTE *)(a1 + 0xD) >= 5u && *(_DWORD *)(*(_QWORD *)(a1 + 0x330) + 0x48LL) != 0xFFFFFFFF )
    __debugbreak();
  if ( dword_149AC4BF4 )
  {
    --dword_149AC4BF4;
  }
  else
  {
    dword_149AC4BF0 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
      p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DD380((__int64)&qword_149AC4BE0, n0x200000);
  }
  if ( *(_BYTE *)(a1 + 0xD) >= 5u && *(_DWORD *)(*(_QWORD *)(a1 + 0x330) + 0x48LL) != 0xFFFFFFFF )
    __debugbreak();
  if ( v32 != v33 )
  {
    v41 = *a4;
    v61[0] = 0xF00;
    v62 = 0;
    v42 = *a5;
    v64 = 0;
    v65 = 0;
    v66 = 0;
    v63 = __rdtsc();
    v61[1] = *(_DWORD *)(a1 + 0x2D8);
    qword_149B4B870(
      v61,
      &word_1515B1BE8,
      "CEntity::OnAggregateRootChanged_ComponentAggregateRootChangeCallback",
      "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity_Aggregates.cpp",
      0x194);
    v43 = *(_QWORD *)(a1 + 0x338);
    HIWORD(v61[0]) = word_1515B1BE8;
    if ( v43 )
    {
      v44 = *(_QWORD **)(v43 + 8);
      for ( i = *(_QWORD **)v43; i != v44; ++i )
        (*(void (__fastcall **)(_QWORD, unsigned __int64, unsigned __int64))(*(_QWORD *)*i + 0x508LL))(*i, v41, v42);
    }
    v64 = __rdtsc();
    return qword_149B4B878(v61);
  }
  return result;
}

// --- End Function: sub_146B60560 (0x146B60560) ---

// --- Function: sub_146B622B0 (0x146B622B0) ---
__int64 __fastcall sub_146B622B0(__int64 a1, _QWORD *a2, unsigned int *a3)
{
  __int64 *v3; // rdi
  __int64 *i; // rbx
  __int64 v8; // rax
  __int64 result; // rax
  __int64 v10; // rbx
  volatile signed __int64 *v11; // rdi
  signed __int64 v12; // rdx
  _QWORD *v13; // rdx
  _QWORD *n; // rcx
  __int64 *v15; // r8
  _QWORD *k; // rax
  __int64 **v17; // r8
  __int64 j; // r8
  __int64 *v19; // r9
  __int64 v20; // r9
  unsigned __int64 v21; // rdx
  unsigned __int64 size; // rdx
  void *v23; // rsp
  void *v24; // rsp
  const void **v25; // rsi
  _QWORD *v26; // r8
  __int64 **v27; // rax
  __int64 m; // rax
  __int64 *v29; // rdx
  __int64 v30; // rdi
  const void *v31; // rbx
  __int64 v32; // rax
  _QWORD v33[4]; // [rsp+30h] [rbp+0h] BYREF

  v3 = *(__int64 **)(a1 + 0xD0);
  for ( i = *(__int64 **)(a1 + 0xC8); i != v3; i += 2 )
  {
    v8 = *i;
    if ( _bittest64(&v8, *a3) )
      (*(void (__fastcall **)(__int64, _QWORD, unsigned int *))(*(_QWORD *)i[1] + 0x20LL))(i[1], *a2, a3);
  }
  result = *a2 & 0xFFFFFFFFFFFFLL;
  if ( (*(_BYTE *)(result + 8) & 4) != 0 )
  {
    v10 = 0;
    v11 = (volatile signed __int64 *)(a1 + 0xB80);
    if ( *(_DWORD *)(a1 + 0xB90) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xB94);
    }
    else
    {
      v12 = _InterlockedIncrement64(v11);
      if ( (v12 & 0x200000) != 0 )
        sub_1403CB300(a1 + 0xB80, v12, "CEntitySystem::OnEntityEvent", "m_eventListenersLock", 1);
    }
    v13 = *(_QWORD **)(a1 + 0x10 * ((int)*a3 + 0x8BLL));
    n = v13;
    v15 = (__int64 *)v13[1];
    if ( !*((_BYTE *)v15 + 0x19) )
    {
      do
      {
        if ( (unsigned __int64)v15[4] >= *(_QWORD *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x10) )
        {
          n = v15;
          v15 = (__int64 *)*v15;
        }
        else
        {
          v15 = (__int64 *)v15[2];
        }
        k = n;
      }
      while ( !*((_BYTE *)v15 + 0x19) );
      if ( n != v13 )
      {
        do
        {
          if ( k[4] != *(_QWORD *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x10) )
            break;
          v17 = (__int64 **)k[2];
          v10 = (unsigned int)(v10 + 1);
          if ( *((_BYTE *)v17 + 0x19) )
          {
            for ( j = k[1]; !*(_BYTE *)(j + 0x19); j = *(_QWORD *)(j + 8) )
            {
              if ( k != *(_QWORD **)(j + 0x10) )
                break;
              k = (_QWORD *)j;
            }
            k = (_QWORD *)j;
          }
          else
          {
            v19 = *v17;
            for ( k = (_QWORD *)k[2]; !*((_BYTE *)v19 + 0x19); v19 = (__int64 *)*v19 )
              k = v19;
          }
        }
        while ( k != v13 );
      }
    }
    v20 = (unsigned int)v10;
    v21 = 8 * v10 + 0xF;
    if ( v21 <= 8 * v10 )
      v21 = 0xFFFFFFFFFFFFFF0LL;
    size = v21 & 0xFFFFFFFFFFFFFFF0uLL;
    v23 = alloca(size);
    v24 = alloca(size);
    v25 = (const void **)v33;
    if ( (_DWORD)v10 )
    {
      v26 = v33;
      do
      {
        *v26 = n[5];
        v27 = (__int64 **)n[2];
        if ( *((_BYTE *)v27 + 0x19) )
        {
          for ( m = n[1]; !*(_BYTE *)(m + 0x19); m = *(_QWORD *)(m + 8) )
          {
            if ( n != *(_QWORD **)(m + 0x10) )
              break;
            n = (_QWORD *)m;
          }
          n = (_QWORD *)m;
        }
        else
        {
          v29 = *v27;
          for ( n = (_QWORD *)n[2]; !*((_BYTE *)v29 + 0x19); v29 = (__int64 *)*v29 )
            n = v29;
        }
        ++v26;
        --v20;
      }
      while ( v20 );
      result = sub_1402D2790((__int64)v11);
      v30 = (unsigned int)v10;
      do
      {
        v31 = *v25;
        if ( qword_149B4FDB8 && qword_149B4FC90 )
        {
          if ( (dword_1515B1D08 & 1) == 0 )
          {
            v32 = *(_QWORD *)qword_149B4FC90;
            dword_1515B1D08 |= 1u;
            result = (*(__int64 (__fastcall **)(Parameter *, const char *))(v32 + 0xC0))(
                       qword_149B4FC90,
                       "es_debugEntityListeners");
            qword_1515B1D00 = result;
          }
          if ( qword_1515B1D00 )
          {
            result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_1515B1D00 + 0x10LL))(qword_1515B1D00);
            if ( (_DWORD)result )
              result = sub_1403A2CE0((__int64)"Event listener '%p'", v31);
          }
        }
        if ( v31 )
          result = (*(__int64 (__fastcall **)(const void *, _QWORD, unsigned int *))(*(_QWORD *)v31 + 8LL))(
                     v31,
                     *a2,
                     a3);
        ++v25;
        --v30;
      }
      while ( v30 );
    }
    else
    {
      return sub_1402D2790((__int64)v11);
    }
  }
  return result;
}

// --- End Function: sub_146B622B0 (0x146B622B0) ---

// --- Function: sub_146B62A70 (0x146B62A70) ---
__int64 __fastcall sub_146B62A70(__int64 a1, __int64 *a2)
{
  __int64 v4; // rax
  _BYTE v6[8]; // [rsp+20h] [rbp-58h] BYREF
  int n0x22; // [rsp+28h] [rbp-50h] BYREF
  __int64 v8; // [rsp+30h] [rbp-48h]

  sub_14036C410((__int64)&n0x22);
  v4 = *a2;
  n0x22 = 0x22;
  v8 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64 *, _BYTE *))(v4 + 0x18))(a2, v6);
  return sub_146B731A0(a1, &n0x22);
}

// --- End Function: sub_146B62A70 (0x146B62A70) ---

// --- Function: sub_146B62AE0 (0x146B62AE0) ---
__int64 __fastcall sub_146B62AE0(__int64 a1, __int64 *a2)
{
  __int64 v4; // rax
  _BYTE v6[8]; // [rsp+20h] [rbp-58h] BYREF
  int n0x23; // [rsp+28h] [rbp-50h] BYREF
  __int64 v8; // [rsp+30h] [rbp-48h]

  sub_14036C410((__int64)&n0x23);
  v4 = *a2;
  n0x23 = 0x23;
  v8 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64 *, _BYTE *))(v4 + 0x18))(a2, v6);
  return sub_146B731A0(a1, &n0x23);
}

// --- End Function: sub_146B62AE0 (0x146B62AE0) ---

// --- Function: sub_146B62B50 (0x146B62B50) ---
const ULONG_PTR *__fastcall sub_146B62B50(__int64 a1, int a2, _QWORD *a3)
{
  int v6; // edi
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v8; // rax
  int v9; // ebx
  __int64 i; // rdi
  __int64 v11; // rax
  __int64 v12; // rax
  __int64 v13; // rbx
  __int64 v14; // rax
  const char *v15; // rbx
  __int64 v16; // rax
  _QWORD *v17; // rax
  __int64 j; // rbx
  __int64 v19; // rax
  const char *p_true; // rdx
  int v21; // ebx
  __int64 *ThreadLogContextSlot; // rax
  __int64 v23; // rax
  const char *v24; // rbx
  __int64 v25; // rax
  _QWORD *v26; // rax
  __int64 v27; // r14
  __int64 v28; // rax
  __int64 v29; // rbx
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source_1; // rax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v32; // [rsp+58h] [rbp-B0h] BYREF
  __int128 v33; // [rsp+60h] [rbp-A8h] BYREF
  __int64 v34; // [rsp+70h] [rbp-98h]
  _DWORD v35[2]; // [rsp+78h] [rbp-90h] BYREF
  __int64 v36; // [rsp+80h] [rbp-88h]
  unsigned __int64 v37; // [rsp+88h] [rbp-80h]
  unsigned __int64 v38; // [rsp+90h] [rbp-78h]
  __int64 v39; // [rsp+98h] [rbp-70h]
  __int64 v40; // [rsp+A0h] [rbp-68h]
  _QWORD v41[2]; // [rsp+C8h] [rbp-40h] BYREF
  __int64 v42[2]; // [rsp+D8h] [rbp-30h] BYREF
  _BYTE v43[8]; // [rsp+E8h] [rbp-20h] BYREF
  _BYTE v44[8]; // [rsp+F0h] [rbp-18h] BYREF
  _BYTE v45[8]; // [rsp+F8h] [rbp-10h] BYREF
  _BYTE v46[8]; // [rsp+100h] [rbp-8h] BYREF
  _BYTE v47[8]; // [rsp+108h] [rbp+0h] BYREF
  _BYTE v48[8]; // [rsp+110h] [rbp+8h] BYREF
  __int128 v49; // [rsp+118h] [rbp+10h] BYREF
  _BYTE v50[56]; // [rsp+128h] [rbp+20h] BYREF
  _DWORD v51[3]; // [rsp+160h] [rbp+58h] BYREF
  char v52; // [rsp+16Ch] [rbp+64h] BYREF
  _DWORD v53[3]; // [rsp+170h] [rbp+68h] BYREF
  char v54; // [rsp+17Ch] [rbp+74h] BYREF

  v6 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( dword_149AC4C08 == v6 )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
    v8 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0x200000, 0);
    if ( v8 )
      sub_1403DCD60(
        (__int64)&qword_149AC4BF8,
        v8,
        (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
        "CEntity::OnOwnerRemoved",
        "s_aggregateHierarchyLock",
        1);
    else
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source = p_p_p_p_p_p_p_p_p_p_p_p_Source;
    dword_149AC4C08 = v6;
  }
  if ( a2 )
  {
    v9 = a2 - 1;
    if ( v9 )
    {
      if ( v9 == 1 )
      {
        for ( i = *(_QWORD *)(a1 + 0x2B0); i; i = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 8LL))(i) )
        {
          if ( !(*(unsigned __int16 (__fastcall **)(__int64))(*(_QWORD *)i + 0x48LL))(i) )
            break;
          v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
          if ( v11 )
          {
            if ( (*(_BYTE *)(v11 + 8) & 8) == 0 && *(_BYTE *)(v11 + 0xD) < 5u )
              break;
          }
        }
        v12 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC78 + 0xA0LL))(qword_149B4FC78);
        v13 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v12 + 0x1D8LL))(v12, v43);
        if ( *(_QWORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)i + 0x40LL))(i, v44) == v13 )
        {
          v35[0] = 0xF00;
          v36 = 0;
          v38 = 0;
          v39 = 0;
          v40 = 0;
          v37 = __rdtsc();
          v35[1] = *(_DWORD *)(a1 + 0x2D8);
          qword_149B4B870(
            v35,
            &word_1515B1BEC,
            "CEntity::OnOwnerRemoved",
            "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity_Aggregates.cpp",
            0x1DC);
          HIWORD(v35[0]) = word_1515B1BEC;
          v14 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
          v15 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v14 + 0x70LL))(v14);
          v16 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
          v17 = (_QWORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v16 + 8LL))(v16, v45);
          LogTraceConditional(
            "Failed to find non-removing parent zone for entity %llu name = \"%s\" when unblocking removal of parent id ="
            " %llu name = \"%s\" into zone host id = %llu name = \"%s\"",
            *(_QWORD *)(a1 + 0x10),
            *(const char **)(a1 + 0x298),
            *(_QWORD *)((*a3 & 0xFFFFFFFFFFFFLL) + 0x10),
            *(const char **)((*a3 & 0xFFFFFFFFFFFFLL) + 0x298),
            *v17,
            v15);
          LogTraceConditional("Parent zone information: ");
          for ( j = *(_QWORD *)(a1 + 0x2B0); j; j = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)j + 8LL))(j) )
          {
            v19 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)j + 0x20LL))(j);
            p_true = "false";
            if ( (*(_BYTE *)(v19 + 8) & 8) != 0 )
              p_true = "true";
            LogTraceConditional(
              "  Entity %s %llu : state %u, potential removal %s",
              *(_QWORD *)(v19 + 0x298),
              *(_QWORD *)(v19 + 0x10),
              *(unsigned __int8 *)(v19 + 0xD),
              p_true);
          }
          v51[0] = 0xD2;
          v41[0] = v51;
          v51[1] = 0x2C;
          v41[1] = &v52;
          v51[2] = 0x31;
          v21 = invokeGlobalCallbackAndMaskStatusBits(
                  5,
                  (__int64)v41,
                  (__int64)"FailedZoneReparent",
                  "Failed to reparent entity to remove parent zone. See log for details");
          if ( (v21 & 0xFFFFF) != 0 )
          {
            ThreadLogContextSlot = getThreadLogContextSlot();
            v42[0] = (__int64)v53;
            v42[1] = (__int64)&v54;
            v53[0] = 0xD2;
            v49 = 0;
            v53[1] = 0x2C;
            v53[2] = 0x31;
            sub_1403515F0(
              5u,
              v42,
              "FailedZoneReparent",
              "Failed to reparent entity to remove parent zone. See log for details",
              1,
              v21,
              &v49,
              0,
              (__int64)ThreadLogContextSlot);
          }
          v38 = __rdtsc();
          qword_149B4B878(v35);
        }
        v23 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
        v24 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v23 + 0x70LL))(v23);
        v25 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
        v26 = (_QWORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v25 + 8LL))(v25, v46);
        LogTraceConditional(
          "[net][bind]CEntity::OnOwnerRemoved: moving zone hosted child id = %llu name = \"%s\" to unblock removal of par"
          "ent id = %llu name = \"%s\" into zone host id = %llu name = \"%s\"",
          *(_QWORD *)(a1 + 0x10),
          *(const char **)(a1 + 0x298),
          *(_QWORD *)((*a3 & 0xFFFFFFFFFFFFLL) + 0x10),
          *(const char **)((*a3 & 0xFFFFFFFFFFFFLL) + 0x298),
          *v26,
          v24);
        v27 = (*(__int64 (__fastcall **)(__int64, _BYTE *, _QWORD, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x480LL))(
                qword_149B4FBE8,
                v50,
                *(_QWORD *)(a1 + 0x2B0),
                i);
        if ( *(_QWORD *)(a1 + 0x2B0) != i )
        {
          v28 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FC78 + 0xA0LL))(qword_149B4FC78);
          (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v28 + 0x1D8LL))(v28, v47);
          (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)i + 0x40LL))(i, v48);
          if ( (_BYTE)qword_149B501D6
            || (v32 = *(_QWORD *)(a1 + 0x18), !sub_14030EC00(&v32))
            || (unsigned __int8)(*(_BYTE *)(a1 + 0xD) - 4) > 1u )
          {
            v33 = 0;
            v34 = 0;
            v29 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
                    qword_149B4FBE8,
                    0x7832,
                    &v33,
                    0);
            (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x140LL))(
              qword_149B4FBE8,
              a1 + 0x2A8,
              v29,
              0);
            sub_146B5CF90(a1, i, v27, 0, v29, 0);
            (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
              qword_149B4FBE8,
              0x7832,
              v29);
            if ( (_QWORD)v33 )
              sub_1403A3120((__int64)&v33, (const void *)v33, (v34 - v33) & 0xFFFFFFFFFFFFFFE0uLL);
          }
        }
      }
    }
    else
    {
      LogTraceConditional(
        "[net][bind]CEntity::OnOwnerRemoved: force detaching ENTITY ATTACHMENT id = %llu name = \"%s\" to unblock removal"
        " of parent id = %llu name = \"%s\"",
        *(_QWORD *)(a1 + 0x10),
        *(const char **)(a1 + 0x298),
        *(_QWORD *)((*a3 & 0xFFFFFFFFFFFFLL) + 0x10),
        *(const char **)((*a3 & 0xFFFFFFFFFFFFLL) + 0x298));
      sub_146B3FA40(a1, 0, 0);
    }
  }
  else
  {
    LogTraceConditional(
      "[net][bind]CEntity::OnOwnerRemoved: force detaching ITEM id = %llu name = \"%s\" to unblock removal of parent id ="
      " %llu name = \"%s\"",
      *(_QWORD *)(a1 + 0x10),
      *(const char **)(a1 + 0x298),
      *(_QWORD *)((*a3 & 0xFFFFFFFFFFFFLL) + 0x10),
      *(const char **)((*a3 & 0xFFFFFFFFFFFFLL) + 0x298));
  }
  if ( dword_149AC4C0C )
  {
    return (const ULONG_PTR *)(unsigned int)--dword_149AC4C0C;
  }
  else
  {
    dword_149AC4C08 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_149AC4BF8, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
    {
      p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = &p_p_p_p_p_p_p_p_p_p_p_Source;
      ::p_p_p_p_p_p_p_p_p_p_p_p_Source = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
    }
    else
    {
      return sub_1403DD380((__int64)&qword_149AC4BF8, n0x200000);
    }
  }
  return p_p_p_p_p_p_p_p_p_p_p_p_Source_1;
}

// --- End Function: sub_146B62B50 (0x146B62B50) ---

// --- Function: sub_146B63D10 (0x146B63D10) ---
__int64 __fastcall sub_146B63D10(__int64 a1, unsigned int a2)
{
  unsigned __int64 v2; // rdi
  signed __int64 v4; // rdx
  __int64 v5; // rcx
  unsigned __int64 *v6; // rbx
  __int64 v7; // rbx

  v2 = a2;
  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v4 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v4, "CEntity::OwnedEntityByIndex", "s_aggregateHierarchyLock", 1);
  }
  v5 = *(_QWORD *)(a1 + 0x300);
  if ( v2 < (*(_QWORD *)(a1 + 0x308) - v5) >> 3 && (v6 = (unsigned __int64 *)(v5 + 8 * v2), sub_14030EC00(v6)) )
    v7 = *v6 & 0xFFFFFFFFFFFFLL;
  else
    v7 = 0;
  sub_1402D2790((__int64)&qword_149AC4BF8);
  return v7;
}

// --- End Function: sub_146B63D10 (0x146B63D10) ---

// --- Function: sub_146B63DD0 (0x146B63DD0) ---
__int64 __fastcall sub_146B63DD0(__int64 a1)
{
  signed __int64 v2; // rdx
  __int64 v3; // rbx

  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v2 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v2 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v2, "CEntity::OwnedEntityCount", "s_aggregateHierarchyLock", 1);
  }
  v3 = (__int64)(*(_QWORD *)(a1 + 0x308) - *(_QWORD *)(a1 + 0x300)) >> 3;
  sub_1402D2790((__int64)&qword_149AC4BF8);
  return (unsigned int)v3;
}

// --- End Function: sub_146B63DD0 (0x146B63DD0) ---

// --- Function: sub_146B63FF0 (0x146B63FF0) ---
_BYTE *__fastcall sub_146B63FF0(__int64 a1, float *p_n2)
{
  __int64 v4; // rax
  unsigned __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 (__fastcall *v7)(__int64, char *, __int64 *); // rbx
  __int16 n0xFFFF_1; // ax
  __int64 v9; // rbx
  __int64 v10; // rax
  __int16 n4; // dx
  __int64 *v12; // rcx
  __int64 v13; // rax
  __int64 v15; // [rsp+50h] [rbp+8h] BYREF
  __int64 v16; // [rsp+58h] [rbp+10h] BYREF
  char v17; // [rsp+60h] [rbp+18h] BYREF

  if ( !*((_DWORD *)p_n2 + 2) )
  {
    *(float *)&v15 = p_n2[5];
    if ( (v15 & 0xFFA00000) == 0xFFA00000 )
    {
      *(float *)&v15 = p_n2[4];
      if ( (v15 & 0xFFA00000) == 0xFFA00000 )
      {
        v4 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_149B4FC90 + 0xC0LL))(
               qword_149B4FC90,
               "p_physical_properties");
        if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x10LL))(v4) )
        {
          n0xFFFF = n0xFFFF_58;
          if ( n0xFFFF_58 == (__int16)0xFFFF )
          {
            n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                            + 0x10LL))(
                                  qword_149B4FC88,
                                  &v15,
                                  "EntityPhysicsController");
            n0xFFFF_58 = n0xFFFF;
          }
          if ( *(_BYTE *)(a1 + 0xD) == 7 )
          {
            v6 = 0;
          }
          else
          {
            sub_146B49DE0(a1, (unsigned __int64 *)&v16, n0xFFFF);
            v6 = v16;
          }
          v15 = v6;
          if ( is_valid_handle_typeA(&v15) )
            p_n2[5] = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v6 & 0xFFFFFFFFFFFFLL);
        }
      }
    }
  }
  if ( *(_BYTE *)(a1 + 0xD) < 4u )
  {
LABEL_25:
    v12 = (__int64 *)(*sub_141EEDE60(a1, &v15) & 0xFFFFFFFFFFFFLL);
    v13 = *v12;
    return (_BYTE *)(*(__int64 (__fastcall **)(__int64 *, float *))(v13 + 0x580))(v12, p_n2);
  }
  v7 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF_1 = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                      + 0x10LL))(
                            qword_149B4FC88,
                            &v16,
                            "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF_1;
  }
  LOWORD(v15) = n0xFFFF_1;
  v9 = *(_QWORD *)v7(a1, &v17, &v15);
  v15 = v9;
  if ( !v9
    || (v10 = sub_1403B4B50(v9 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v10 + 4), n4 == 4)
    || *(_WORD *)(v10 + 2) != (HIWORD(v9) & 0xFFF)
    || (n4 != 2 || *(_QWORD *)NtCurrentTeb_w()) && !sub_140391F30(&v15) )
  {
    if ( (*(_BYTE *)(a1 + 0x118) & 1) == 0 || !(_BYTE)qword_149B501D6 )
      return LogFatalError(
               "Runtime creation of physical proxy is not allowed. Entity: [%s]",
               *(const char **)(a1 + 0x298));
    goto LABEL_25;
  }
  v12 = (__int64 *)(v9 & 0xFFFFFFFFFFFFLL);
  v13 = *(_QWORD *)(v9 & 0xFFFFFFFFFFFFLL);
  return (_BYTE *)(*(__int64 (__fastcall **)(__int64 *, float *))(v13 + 0x580))(v12, p_n2);
}

// --- End Function: sub_146B63FF0 (0x146B63FF0) ---

// --- Function: sub_146B64280 (0x146B64280) ---
__int64 __fastcall sub_146B64280(__int64 a1, float *a2)
{
  __int64 v4; // rsi
  __int64 v5; // rax
  unsigned __int16 n0xFFFF; // ax
  __int64 v7; // rbx
  __int64 v9; // [rsp+40h] [rbp+18h] BYREF
  __int64 v10; // [rsp+48h] [rbp+20h] BYREF

  v4 = sub_146B4E3D0(a1);
  if ( !v4 )
    return 0xFFFFFFFFLL;
  if ( !*((_DWORD *)a2 + 2) )
  {
    *(float *)&v9 = a2[5];
    if ( (v9 & 0xFFA00000) == 0xFFA00000 )
    {
      *(float *)&v9 = a2[4];
      if ( (v9 & 0xFFA00000) == 0xFFA00000 )
      {
        v5 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_149B4FC90 + 0xC0LL))(
               qword_149B4FC90,
               "p_physical_properties");
        if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v5 + 0x10LL))(v5) )
        {
          n0xFFFF = n0xFFFF_58;
          if ( n0xFFFF_58 == (__int16)0xFFFF )
          {
            n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                            + 0x10LL))(
                                  qword_149B4FC88,
                                  &v9,
                                  "EntityPhysicsController");
            n0xFFFF_58 = n0xFFFF;
          }
          if ( *(_BYTE *)(a1 + 0xD) == 7 )
          {
            v7 = 0;
          }
          else
          {
            sub_146B49DE0(a1, (unsigned __int64 *)&v10, n0xFFFF);
            v7 = v10;
          }
          v9 = v7;
          if ( is_valid_handle_typeA(&v9) )
            a2[5] = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v7 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v7 & 0xFFFFFFFFFFFFLL);
        }
      }
    }
  }
  return sub_146AE6890(v4, (__int64)a2);
}

// --- End Function: sub_146B64280 (0x146B64280) ---

// --- Function: sub_146B64A10 (0x146B64A10) ---
double __fastcall sub_146B64A10(unsigned __int64 a1, unsigned __int8 a2, __int64 a3)
{
  __int64 v3; // rdi
  char n3; // bp
  unsigned __int8 v5; // r13
  bool v7; // cf
  __int64 v8; // rax
  volatile signed __int32 *v9; // rdx
  __int64 v10; // rsi
  volatile signed __int32 *v11; // r15
  __int64 v12; // r9
  signed __int32 v13; // eax
  signed __int32 v14; // ett
  volatile signed __int32 *v15; // r14
  __int64 v16; // rax
  __int64 v17; // r13
  volatile signed __int32 *v18; // rsi
  volatile signed __int32 *v19; // rdx
  __int64 v20; // r9
  signed __int32 v21; // eax
  signed __int32 v22; // ett
  int n0xA; // eax
  char v24; // r15
  __int64 v25; // rax
  __int64 v26; // rsi
  _QWORD *v27; // rax
  unsigned __int64 v28; // r8
  _QWORD *v29; // r9
  char v30; // dl
  unsigned __int64 v31; // rcx
  unsigned __int16 v32; // ax
  int v33; // eax
  unsigned __int64 v34; // rcx
  __int64 v35; // rax
  __int64 v36; // rax
  unsigned __int64 v37; // r10
  unsigned __int64 v38; // r9
  unsigned __int64 v39; // rdx
  char v40; // r10
  unsigned __int64 v41; // rcx
  unsigned __int16 v42; // ax
  char v43; // r8
  unsigned __int16 v44; // ax
  __int64 v46; // [rsp+30h] [rbp-98h] BYREF
  _DWORD v47[2]; // [rsp+40h] [rbp-88h] BYREF
  __int64 v48; // [rsp+48h] [rbp-80h]
  unsigned __int64 v49; // [rsp+50h] [rbp-78h]
  unsigned __int64 v50; // [rsp+58h] [rbp-70h]
  __int64 v51; // [rsp+60h] [rbp-68h]
  __int64 v52; // [rsp+68h] [rbp-60h]
  volatile signed __int32 *v53; // [rsp+D0h] [rbp+8h]

  v3 = 0;
  v47[0] = 0x2400;
  n3 = 0;
  v5 = a2;
  LODWORD(v53) = 0;
  v48 = 0;
  v50 = 0;
  v51 = 0;
  v52 = 0;
  v49 = __rdtsc();
  v47[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v47,
    &word_1515B1BB0,
    "CEntity::PostAnimationUpdate",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x8D2);
  v7 = *(_BYTE *)(a1 + 0xD) < 4u;
  HIWORD(v47[0]) = word_1515B1BB0;
  if ( !v7 )
  {
    v18 = v53;
    v15 = v53;
LABEL_26:
    v24 = 0;
    goto LABEL_27;
  }
  v8 = *(_QWORD *)(a1 + 0x2D0);
  if ( !v8 )
  {
    v15 = 0;
    n3 = 1;
LABEL_24:
    v18 = v53;
    v24 = 1;
    goto LABEL_27;
  }
  v9 = *(volatile signed __int32 **)(v8 + 0x28);
  v10 = 0;
  v11 = 0;
  if ( v9 )
  {
    v12 = *(_QWORD *)(v8 + 0x20);
    _InterlockedIncrement(v9 + 3);
    v13 = *((_DWORD *)v9 + 2);
    if ( v13 )
    {
      while ( 1 )
      {
        v14 = v13;
        v13 = _InterlockedCompareExchange(v9 + 2, v13 + 1, v13);
        if ( v14 == v13 )
          break;
        if ( !v13 )
          goto LABEL_9;
      }
      v10 = v12;
      v11 = v9;
    }
LABEL_9:
    if ( _InterlockedExchangeAdd(v9 + 3, 0xFFFFFFFF) == 1 )
      (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v9 + 8LL))(v9);
  }
  n3 = 1;
  v15 = v11;
  if ( !v10 )
    goto LABEL_24;
  v16 = *(_QWORD *)(a1 + 0x2D0);
  v17 = 0;
  v18 = 0;
  if ( v16 )
  {
    v19 = *(volatile signed __int32 **)(v16 + 0x28);
    if ( v19 )
    {
      v20 = *(_QWORD *)(v16 + 0x20);
      _InterlockedIncrement(v19 + 3);
      v21 = *((_DWORD *)v19 + 2);
      if ( v21 )
      {
        while ( 1 )
        {
          v22 = v21;
          v21 = _InterlockedCompareExchange(v19 + 2, v21 + 1, v21);
          if ( v22 == v21 )
            break;
          if ( !v21 )
            goto LABEL_19;
        }
        v17 = v20;
        v18 = v19;
      }
LABEL_19:
      if ( _InterlockedExchangeAdd(v19 + 3, 0xFFFFFFFF) == 1 )
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v19 + 8LL))(v19);
    }
  }
  n3 = 3;
  n0xA = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x10LL))(v17);
  v5 = a2;
  if ( n0xA >= 0xA )
    goto LABEL_26;
  v24 = 1;
LABEL_27:
  if ( (n3 & 2) != 0 )
  {
    n3 &= ~2u;
    if ( v18 )
    {
      if ( _InterlockedExchangeAdd(v18 + 2, 0xFFFFFFFF) == 1 )
      {
        (**(void (__fastcall ***)(volatile signed __int32 *))v18)(v18);
        if ( _InterlockedExchangeAdd(v18 + 3, 0xFFFFFFFF) == 1 )
          (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v18 + 8LL))(v18);
      }
    }
  }
  if ( (n3 & 1) != 0 )
  {
    if ( v15 )
    {
      if ( _InterlockedExchangeAdd(v15 + 2, 0xFFFFFFFF) == 1 )
      {
        (**(void (__fastcall ***)(volatile signed __int32 *))v15)(v15);
        if ( _InterlockedExchangeAdd(v15 + 3, 0xFFFFFFFF) == 1 )
          (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v15 + 8LL))(v15);
      }
    }
  }
  if ( !v24 && ((*(_BYTE *)(a1 + 8) & 0x60) != 0 || *(_DWORD *)(a1 + 0xB4) != dword_149B4FDFC) )
  {
    if ( ((*(_BYTE *)(a1 + 0x4F8) & 3) == 0
       || !sub_14030EC00((unsigned __int64 *)(a1 + 0x4E0)) && *(_QWORD *)(a1 + 0x4E8) == *(_QWORD *)(a1 + 0x18))
      && (*(_BYTE *)(a1 + 8) & 0x60) != 0 )
    {
      v25 = sub_146B4E3D0(a1);
      v26 = v25;
      if ( v25 )
      {
        v27 = sub_146AB26A0(v25, &v46);
        v28 = qword_1515B1B10;
        v29 = v27;
        if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B10 + qword_1515B1B18 )
        {
          v30 = 0;
          v31 = a1 - 6;
        }
        else
        {
          v30 = 1;
          v31 = a1 & 0xFFFFFFFFFF000000uLL;
        }
        v32 = *(_WORD *)(v31 + 2) | 0x2000;
        if ( !v30 )
          v32 = *(_WORD *)(v31 + 2);
        if ( *v29 != (a1 | ((unsigned __int64)v32 << 0x30)) )
          goto LABEL_62;
        v33 = *(_DWORD *)(a1 + 8);
        if ( (v33 & 0x20) != 0 )
        {
          sub_146B0B370(v26, (*(_DWORD *)(a1 + 8) & 0x40) != 0);
        }
        else
        {
          if ( (v33 & 0x40) == 0 )
          {
LABEL_62:
            v36 = *(_QWORD *)(a1 + 0x130);
            if ( v36 )
            {
              v37 = *(_QWORD *)(v36 + 8);
              v38 = a1 - 6;
              v39 = a1 & 0xFFFFFFFFFF000000uLL;
            }
            else
            {
              if ( v28 > a1 || a1 >= v28 + qword_1515B1B18 )
              {
                v40 = 0;
                v38 = a1 - 6;
                v41 = a1 - 6;
                v39 = a1 & 0xFFFFFFFFFF000000uLL;
              }
              else
              {
                v38 = a1 - 6;
                v39 = a1 & 0xFFFFFFFFFF000000uLL;
                v40 = 1;
                v41 = a1 & 0xFFFFFFFFFF000000uLL;
              }
              v42 = *(_WORD *)(v41 + 2) | 0x2000;
              if ( !v40 )
                v42 = *(_WORD *)(v41 + 2);
              v37 = a1 | ((unsigned __int64)v42 << 0x30);
            }
            if ( v28 > a1 || a1 >= v28 + qword_1515B1B18 )
            {
              v43 = 0;
              v39 = v38;
            }
            else
            {
              v43 = 1;
            }
            v44 = *(_WORD *)(v39 + 2) | 0x2000;
            if ( !v43 )
              v44 = *(_WORD *)(v39 + 2);
            LOBYTE(v39) = v37 != (a1 | ((unsigned __int64)v44 << 0x30));
            sub_146B65060(a1, v39, v5, v5, a3);
            goto LABEL_78;
          }
          v34 = *(_QWORD *)(v26 + 0x450);
          if ( v34 )
          {
            v35 = *(_QWORD *)(v26 + 0x450) & 0xFFFFFFFFFFFFLL;
            LOBYTE(v34) = *(_QWORD *)(v35 + 8) == HIWORD(v34);
          }
          else
          {
            v35 = 0;
          }
          if ( (_BYTE)v34 )
            v3 = v35;
          sub_146B0C8A0(v26, v26, v3);
        }
      }
    }
    v28 = qword_1515B1B10;
    goto LABEL_62;
  }
LABEL_78:
  *(_BYTE *)(a1 + 0xB8) = 0;
  v50 = __rdtsc();
  return qword_149B4B878(v47);
}

// --- End Function: sub_146B64A10 (0x146B64A10) ---

// --- Function: sub_146B66D20 (0x146B66D20) ---
__int64 __fastcall sub_146B66D20(__int64 a1, __int64 a2)
{
  __int64 p_p_p_p_p_p_p_p_p_p_p_p_Source; // rax
  __int64 v5; // rbx
  __int64 v6; // r8
  unsigned __int64 v7; // rax
  __int64 v8; // rdx
  unsigned __int64 n0x200000; // rax

  if ( *(_BYTE *)(a1 + 0xD) >= 4u )
    return sub_146B74D60(a1, a2, 0, 0);
  v5 = a1 + 0x500;
  v6 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
  v7 = _InterlockedCompareExchange64((volatile signed __int64 *)v5, 0x200000, 0);
  if ( v7 )
    sub_1403DCD60(v5, v7, v6, "CEntity::PushGridPortalChange", "m_queuedGridPortalChangesLock", 1);
  else
    *(_QWORD *)(v5 + 8) = v6;
  v8 = *(_QWORD *)(a1 + 0x518);
  if ( v8 == *(_QWORD *)(a1 + 0x520) )
  {
    p_p_p_p_p_p_p_p_p_p_p_p_Source = sub_146B16590((__int64 *)(a1 + 0x510), v8, a2);
  }
  else
  {
    *(_DWORD *)v8 = *(_DWORD *)a2;
    *(_QWORD *)(v8 + 8) = *(_QWORD *)(a2 + 8);
    *(_OWORD *)(v8 + 0x10) = *(_OWORD *)(a2 + 0x10);
    *(_QWORD *)(v8 + 0x20) = *(_QWORD *)(a2 + 0x20);
    *(_OWORD *)(v8 + 0x28) = *(_OWORD *)(a2 + 0x28);
    *(double *)(v8 + 0x38) = *(double *)(a2 + 0x38);
    *(double *)(v8 + 0x40) = *(double *)(a2 + 0x40);
    *(_DWORD *)(v8 + 0x48) = *(_DWORD *)(a2 + 0x48);
    *(_DWORD *)(v8 + 0x58) = *(_DWORD *)(a2 + 0x58);
    *(_DWORD *)(v8 + 0x4C) = *(_DWORD *)(a2 + 0x4C);
    *(_DWORD *)(v8 + 0x50) = *(_DWORD *)(a2 + 0x50);
    *(_DWORD *)(v8 + 0x54) = *(_DWORD *)(a2 + 0x54);
    *(_OWORD *)(v8 + 0x60) = *(_OWORD *)(a2 + 0x60);
    *(double *)(v8 + 0x70) = *(double *)(a2 + 0x70);
    *(_DWORD *)(v8 + 0x78) = *(_DWORD *)(a2 + 0x78);
    *(_DWORD *)(v8 + 0x7C) = *(_DWORD *)(a2 + 0x7C);
    p_p_p_p_p_p_p_p_p_p_p_p_Source = *(unsigned __int8 *)(a2 + 0x80);
    *(_BYTE *)(v8 + 0x80) = p_p_p_p_p_p_p_p_p_p_p_p_Source;
    *(_QWORD *)(a1 + 0x518) += 0x88LL;
  }
  if ( v5 )
  {
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v5, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
    {
      p_p_p_p_p_p_p_p_p_p_p_p_Source = (__int64)&p_p_p_p_p_p_p_p_p_p_p_Source;
      *(_QWORD *)(v5 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    }
    else
    {
      return (__int64)sub_1403DD380(v5, n0x200000);
    }
  }
  return p_p_p_p_p_p_p_p_p_p_p_p_Source;
}

// --- End Function: sub_146B66D20 (0x146B66D20) ---

// --- Function: sub_146B66EA0 (0x146B66EA0) ---
unsigned __int64 __fastcall sub_146B66EA0(__int64 a1, __int64 a2)
{
  unsigned __int64 result; // rax
  _QWORD *v5; // rsi
  _QWORD *i; // rbx

  result = sub_1402E3A20(a2, (__int64)(*(_QWORD *)(a1 + 0x248) - *(_QWORD *)(a1 + 0x240)) >> 3);
  v5 = *(_QWORD **)(a1 + 0x248);
  for ( i = *(_QWORD **)(a1 + 0x240); i != v5; ++i )
    result = (unsigned __int64)sub_1402A6620(a2, i);
  return result;
}

// --- End Function: sub_146B66EA0 (0x146B66EA0) ---

// --- Function: sub_146B66F10 (0x146B66F10) ---
unsigned __int64 __fastcall sub_146B66F10(__int64 a1, __int64 a2)
{
  unsigned __int64 v4; // rdx
  unsigned __int64 result; // rax
  __int64 v6; // r14
  __int64 v7; // rbp
  char *v8; // rsi
  _QWORD *v9; // rsi
  _QWORD *i; // rbx

  v4 = (__int64)(*(_QWORD *)(a1 + 0x248) - *(_QWORD *)(a1 + 0x240)) >> 3;
  result = (__int64)(*(_QWORD *)(a2 + 0x10) - *(_QWORD *)a2) >> 1;
  if ( v4 > result )
  {
    if ( v4 > 0x7FFFFFFFFFFFFFFFLL )
      unknown_libname_10();
    v6 = 2 * v4;
    v7 = (__int64)(*(_QWORD *)(a2 + 8) - *(_QWORD *)a2) >> 1;
    v8 = (char *)sub_140391AB0(a2, 2 * v4);
    memmove(v8, *(const void **)a2, *(_QWORD *)(a2 + 8) - *(_QWORD *)a2);
    if ( *(_QWORD *)a2 )
      sub_1403A3120(a2, *(const void **)a2, 2 * ((__int64)(*(_QWORD *)(a2 + 0x10) - *(_QWORD *)a2) >> 1));
    *(_QWORD *)a2 = v8;
    *(_QWORD *)(a2 + 8) = &v8[2 * v7];
    result = (unsigned __int64)&v8[v6];
    *(_QWORD *)(a2 + 0x10) = &v8[v6];
  }
  v9 = *(_QWORD **)(a1 + 0x248);
  for ( i = *(_QWORD **)(a1 + 0x240); i != v9; ++i )
    result = (unsigned __int64)sub_140307890(a2, (_WORD *)((*i & 0xFFFFFFFFFFFFLL) + 0x10));
  return result;
}

// --- End Function: sub_146B66F10 (0x146B66F10) ---

// --- Function: sub_146B67030 (0x146B67030) ---
_QWORD *__fastcall sub_146B67030(__int64 a1, _QWORD *a2, unsigned __int16 *a3)
{
  unsigned __int64 v5; // [rsp+30h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) == 7 )
  {
    *a2 = 0;
    return a2;
  }
  else
  {
    sub_146B49DE0(a1, &v5, *a3);
    *a2 = v5;
    return a2;
  }
}

// --- End Function: sub_146B67030 (0x146B67030) ---

// --- Function: sub_146B67240 (0x146B67240) ---
__int64 __fastcall sub_146B67240(__int64 a1, __int64 a2, __int64 a3)
{
  __int64 result; // rax
  _QWORD *v7; // rdi
  _QWORD *i; // rbx

  result = sub_1402E3A20(a3, (__int64)(*(_QWORD *)(a1 + 0x248) - *(_QWORD *)(a1 + 0x240)) >> 3);
  v7 = *(_QWORD **)(a1 + 0x248);
  for ( i = *(_QWORD **)(a1 + 0x240); i != v7; ++i )
  {
    result = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(*i & 0xFFFFFFFFFFFFLL) + 8LL))(
               *i & 0xFFFFFFFFFFFFLL,
               a2);
    if ( (_BYTE)result )
      result = (__int64)sub_1402A6620(a3, i);
  }
  return result;
}

// --- End Function: sub_146B67240 (0x146B67240) ---

// --- Function: sub_146B68FF0 (0x146B68FF0) ---
__int64 __fastcall sub_146B68FF0(__int64 a1)
{
  char v2; // r14
  __int64 v3; // rdi
  signed __int64 v4; // rdx
  signed __int64 v5; // rsi
  __int64 v6; // rsi

  v2 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8);
  v3 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
  if ( !v2 )
  {
    if ( *(_DWORD *)(v3 + 0x10) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++*(_DWORD *)(v3 + 0x14);
    }
    else
    {
      v4 = _InterlockedIncrement64((volatile signed __int64 *)v3);
      if ( (v4 & 0x200000) != 0 )
        sub_1403CB300(v3, v4, "CEntity::ReadTags", "gEnv->pZoneSystem->GetGlobalStateLock()", 1);
    }
  }
  if ( *(_DWORD *)(a1 + 0xD0) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xD4);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v5 & 0x200000) != 0 )
      sub_1403CB300(a1 + 0xC0, v5, "CEntity::ReadTags", "m_cross_ecus_state.updateLock", 1);
  }
  v6 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x400LL))(qword_149B4FBE8, a1 + 0x2A8);
  sub_1402D2790(a1 + 0xC0);
  if ( !v2 )
    sub_1402D2790(v3);
  return v6;
}

// --- End Function: sub_146B68FF0 (0x146B68FF0) ---

// --- Function: sub_146B69110 (0x146B69110) ---
_QWORD *__fastcall sub_146B69110(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v3; // rdi
  signed __int64 v6; // rdx

  v3 = a3;
  if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++dword_149AC4C0C;
  }
  else
  {
    v6 = _InterlockedIncrement64(&qword_149AC4BF8);
    if ( (v6 & 0x200000) != 0 )
      sub_1403CB300((__int64)&qword_149AC4BF8, v6, "CEntity::ReasonOwnerEntity", "s_aggregateHierarchyLock", 1);
  }
  *a2 = *(_QWORD *)(a1 + 8 * v3 + 0x4E0);
  sub_1402D2790((__int64)&qword_149AC4BF8);
  return a2;
}

// --- End Function: sub_146B69110 (0x146B69110) ---

// --- Function: sub_146B6D990 (0x146B6D990) ---
signed __int64 __fastcall sub_146B6D990(__int64 a1, char a2, char a3)
{
  __int64 v3; // rcx
  int v6; // eax
  signed __int64 n0x200000; // rax
  __int64 v8; // rax
  __int64 v9; // rcx
  int v10; // eax

  v3 = a1 + 0xC0;
  v6 = *(_DWORD *)(v3 + 0x14);
  if ( v6 )
  {
    n0x200000 = (unsigned int)(v6 - 1);
    *(_DWORD *)(v3 + 0x14) = n0x200000;
  }
  else
  {
    *(_DWORD *)(v3 + 0x10) = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
      *(_QWORD *)(v3 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      n0x200000 = (signed __int64)sub_1403DD380(v3, n0x200000);
  }
  if ( a3 )
  {
    v8 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x98LL))(qword_149B4FBE8);
    v9 = v8;
    if ( a2 )
    {
      v10 = *(_DWORD *)(v8 + 0x14);
      if ( v10 )
      {
        n0x200000 = (unsigned int)(v10 - 1);
        *(_DWORD *)(v9 + 0x14) = n0x200000;
      }
      else
      {
        *(_DWORD *)(v9 + 0x10) = 0xFFFFFFFF;
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v9, 0, 0x200000);
        if ( n0x200000 == 0x200000 )
          *(_QWORD *)(v9 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
        else
          return (signed __int64)sub_1403DD380(v9, n0x200000);
      }
    }
    else
    {
      return sub_1402D2790(v8);
    }
  }
  return n0x200000;
}

// --- End Function: sub_146B6D990 (0x146B6D990) ---

// --- Function: sub_146B6DED0 (0x146B6DED0) ---
double __fastcall sub_146B6DED0(__int64 a1)
{
  _QWORD *v2; // rdi
  _QWORD *v3; // rbx
  _DWORD v5[2]; // [rsp+30h] [rbp-98h] BYREF
  __int64 v6; // [rsp+38h] [rbp-90h]
  unsigned __int64 v7; // [rsp+40h] [rbp-88h]
  unsigned __int64 v8; // [rsp+48h] [rbp-80h]
  __int64 v9; // [rsp+50h] [rbp-78h]
  __int64 v10; // [rsp+58h] [rbp-70h]
  _BYTE v11[24]; // [rsp+80h] [rbp-48h] BYREF
  _QWORD *v12; // [rsp+98h] [rbp-30h]

  v5[0] = 0x1200;
  v6 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v7 = __rdtsc();
  v5[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v5,
    &word_1515B1BD4,
    "CEntity::RemoveAllEntityLinks",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x1413);
  v2 = *(_QWORD **)(a1 + 0x290);
  HIWORD(v5[0]) = word_1515B1BD4;
  if ( v2 )
  {
    do
    {
      v3 = (_QWORD *)v2[2];
      *(_QWORD *)(a1 + 0x290) = v2;
      sub_14036C3F0((__int64)v11, 0xB);
      v12 = v2;
      sub_146B731A0(a1, v11);
      sub_140370D10(v2);
      sub_1402A3D30(v2);
      v2 = v3;
    }
    while ( v3 );
  }
  *(_QWORD *)(a1 + 0x290) = 0;
  v8 = __rdtsc();
  return qword_149B4B878(v5);
}

// --- End Function: sub_146B6DED0 (0x146B6DED0) ---

// --- Function: sub_146B70420 (0x146B70420) ---
__int64 __fastcall sub_146B70420(__int64 a1, _QWORD *a2)
{
  _QWORD *v4; // rcx
  _QWORD *v5; // rax
  __int64 v6; // rbx
  _BYTE v8[24]; // [rsp+20h] [rbp-48h] BYREF
  _QWORD *v9; // [rsp+38h] [rbp-30h]

  if ( !*(_QWORD *)(a1 + 0x290) || !a2 )
    return 0;
  sub_14036C3F0((__int64)v8, 0xB);
  v9 = a2;
  sub_146B731A0(a1, v8);
  v4 = *(_QWORD **)(a1 + 0x290);
  v5 = (_QWORD *)v4[2];
  if ( v4 == a2 )
  {
    *(_QWORD *)(a1 + 0x290) = v5;
  }
  else
  {
    for ( ; v5; v5 = (_QWORD *)v5[2] )
    {
      if ( v5 == a2 )
        break;
      v4 = v5;
    }
    if ( (_QWORD *)v4[2] == a2 )
      v4[2] = a2[2];
  }
  v6 = a2[2];
  sub_140370D10(a2);
  sub_1402A3D30(a2);
  return v6;
}

// --- End Function: sub_146B70420 (0x146B70420) ---

// --- Function: sub_146B70860 (0x146B70860) ---
__int64 __fastcall sub_146B70860(__int64 a1, unsigned int a2, unsigned __int64 a3)
{
  __int64 (__fastcall *v6)(__int64, _BYTE *, __int64 *); // rbp
  __int16 n0xFFFF; // ax
  __int64 v8; // rdi
  __int64 v9; // rax
  __int16 n4; // dx
  _BYTE v12[8]; // [rsp+20h] [rbp-18h] BYREF
  _BYTE v13[16]; // [rsp+28h] [rbp-10h] BYREF
  __int64 v14; // [rsp+40h] [rbp+8h] BYREF

  v6 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          v12,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v14) = n0xFFFF;
  v8 = *(_QWORD *)v6(a1, v13, &v14);
  v14 = v8;
  if ( v8
    && (v9 = sub_1403B4B50(v8 & 0xFFFFFFFFFFFFLL), n4 = *(_WORD *)(v9 + 4), n4 != 4)
    && *(_WORD *)(v9 + 2) == (HIWORD(v8) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v14)) )
  {
    (*(void (__fastcall **)(__int64, _QWORD, unsigned __int64))(*(_QWORD *)(v8 & 0xFFFFFFFFFFFFLL) + 0x728LL))(
      v8 & 0xFFFFFFFFFFFFLL,
      a2,
      a3);
    return 1;
  }
  else if ( a3 && *(_QWORD *)((a3 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a3) )
  {
    (*(void (__fastcall **)(unsigned __int64, _QWORD, _QWORD))(*(_QWORD *)(a3 & 0xFFFFFFFFFFFFLL) + 0x40LL))(
      a3 & 0xFFFFFFFFFFFFLL,
      a2,
      0);
    return 1;
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_146B70860 (0x146B70860) ---

// --- Function: sub_146B71350 (0x146B71350) ---
__int64 __fastcall sub_146B71350(__int64 a1, int a2)
{
  __int64 result; // rax

  result = sub_146B4E3D0(a1);
  if ( result )
    return sub_146AF1310(result, a2);
  return result;
}

// --- End Function: sub_146B71350 (0x146B71350) ---

// --- Function: sub_146B71510 (0x146B71510) ---
char __fastcall sub_146B71510(__int64 a1, __int64 *a2)
{
  __int64 v2; // rbx
  const char *v5; // rbx
  const char **v6; // rax
  __int64 v8; // rbp
  char v9; // si
  __int64 v10; // rbx
  int *v11; // rax
  __int128 v12; // [rsp+30h] [rbp-38h] BYREF
  __int64 v13; // [rsp+40h] [rbp-28h]
  __int64 v14; // [rsp+88h] [rbp+20h] BYREF

  v2 = qword_1515B19E8;
  sub_14035FCD0(&v14, a2);
  LOBYTE(v2) = sub_1403A3F60(v2 + 0x800, (int *)&v14);
  sub_1403729F0(&v14);
  if ( (_BYTE)v2 )
  {
    v5 = *(const char **)(a1 + 0x298);
    v6 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *, __int64 *))(*(_QWORD *)qword_149B4FBF8 + 0x48LL))(
                          qword_149B4FBF8,
                          &v14,
                          a2);
    sub_1405C0E00(6u, 0, "Trying to remove the reserved engine Tag %s to Entity %s", *v6, v5);
    sub_140370D10(&v14);
    return 0;
  }
  else
  {
    v12 = 0;
    v13 = 0;
    v8 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
           qword_149B4FBE8,
           0x7832,
           &v12,
           0);
    v9 = (*(__int64 (__fastcall **)(__int64, __int64, __int64 *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x420LL))(
           qword_149B4FBE8,
           a1 + 0x2A8,
           a2,
           v8,
           a1 + 0xC0);
    v10 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x448LL))(qword_149B4FBE8);
    v11 = (int *)sub_146B68FF0(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_1403A3F60(v10, v11) << 0xB) | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v9 )
      sub_146B74B20(a1, 0x20);
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
      qword_149B4FBE8,
      0x7832,
      v8);
    if ( (_QWORD)v12 )
      sub_1403A3120((__int64)&v12, (const void *)v12, (v13 - v12) & 0xFFFFFFFFFFFFFFE0uLL);
    return v9;
  }
}

// --- End Function: sub_146B71510 (0x146B71510) ---

// --- Function: sub_146B716C0 (0x146B716C0) ---
__int64 __fastcall sub_146B716C0(__int64 a1, int *a2)
{
  unsigned __int64 v4; // rbx
  unsigned __int64 v5; // r14
  __int64 v6; // rdi
  const char *v7; // rdi
  const char **v8; // rax
  __int64 v9; // r14
  unsigned __int8 v10; // di
  __int64 v11; // rbx
  int *v12; // rax
  __int64 v13; // r14
  __int64 v14; // rbx
  int *v15; // rax
  int v17; // [rsp+30h] [rbp-50h] BYREF
  __int64 v18; // [rsp+38h] [rbp-48h] BYREF
  __int64 v19; // [rsp+40h] [rbp-40h] BYREF
  __int128 v20; // [rsp+48h] [rbp-38h] BYREF
  __int64 v21; // [rsp+58h] [rbp-28h]
  __int128 v22; // [rsp+60h] [rbp-20h] BYREF
  __int64 v23; // [rsp+70h] [rbp-10h]
  int v24; // [rsp+C8h] [rbp+48h] BYREF

  if ( sub_1403A3F60(qword_1515B19E8 + 0x800, a2) )
  {
    sub_140360130(&v24);
    v4 = 0;
    v5 = sub_1403B7280((__int64)a2);
    if ( v5 )
    {
      do
      {
        sub_1403B7240((__int64)a2, (__int64)&v18, v4);
        v6 = qword_1515B19E8;
        sub_14035FCD0(&v17, &v18);
        LOBYTE(v6) = sub_1403A3F60(v6 + 0x800, &v17);
        sub_1403729F0(&v17);
        if ( (_BYTE)v6 )
        {
          v7 = *(const char **)(a1 + 0x298);
          v8 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *, __int64 *))(*(_QWORD *)qword_149B4FBF8
                                                                                       + 0x48LL))(
                                qword_149B4FBF8,
                                &v19,
                                &v18);
          sub_1405C0E00(6u, 0, "Trying to remove the reserved engine Tag %s to Entity %s", *v8, v7);
          sub_140370D10(&v19);
        }
        else
        {
          sub_1403912C0((__int64)&v24, v18);
        }
        ++v4;
      }
      while ( v4 < v5 );
    }
    v20 = 0;
    v21 = 0;
    v9 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
           qword_149B4FBE8,
           0x7832,
           &v20,
           0);
    v10 = (*(__int64 (__fastcall **)(__int64, __int64, int *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x428LL))(
            qword_149B4FBE8,
            a1 + 0x2A8,
            &v24,
            v9,
            a1 + 0xC0);
    v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x448LL))(qword_149B4FBE8);
    v12 = (int *)sub_146B68FF0(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_1403A3F60(v11, v12) << 0xB) | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v10 )
      sub_146B74B20(a1, 0x20);
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
      qword_149B4FBE8,
      0x7832,
      v9);
    if ( (_QWORD)v20 )
    {
      sub_1403A3120((__int64)&v20, (const void *)v20, (v21 - v20) & 0xFFFFFFFFFFFFFFE0uLL);
      v20 = 0;
      v21 = 0;
    }
    sub_1403729F0(&v24);
  }
  else
  {
    v22 = 0;
    v23 = 0;
    v13 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
            qword_149B4FBE8,
            0x7832,
            &v22,
            0);
    v10 = (*(__int64 (__fastcall **)(__int64, __int64, int *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x428LL))(
            qword_149B4FBE8,
            a1 + 0x2A8,
            a2,
            v13,
            a1 + 0xC0);
    v14 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0x448LL))(qword_149B4FBE8);
    v15 = (int *)sub_146B68FF0(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_1403A3F60(v14, v15) << 0xB) | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v10 )
      sub_146B74B20(a1, 0x20);
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
      qword_149B4FBE8,
      0x7832,
      v13);
    if ( (_QWORD)v22 )
      sub_1403A3120((__int64)&v22, (const void *)v22, (v23 - v22) & 0xFFFFFFFFFFFFFFE0uLL);
  }
  return v10;
}

// --- End Function: sub_146B716C0 (0x146B716C0) ---

// --- Function: sub_146B719D0 (0x146B719D0) ---
double __fastcall sub_146B719D0(__int64 a1, _QWORD *a2, __int64 a3, char n0xFF_1)
{
  volatile signed __int32 *v8; // rbx
  int v9; // esi
  unsigned __int32 v10; // eax
  __int64 v11; // rax
  _QWORD *i; // r11
  _QWORD *v13; // r10
  __int64 v14; // rcx
  char v15; // r8
  int v16; // ebp
  unsigned __int32 v17; // eax
  char n0xFF; // cl
  __int64 v19; // rax
  __int64 v20; // rcx
  _QWORD *v21; // r9
  _QWORD *v22; // r10
  __int64 v23; // r8
  char v24; // cl
  int v25; // eax
  unsigned __int32 v26; // eax
  int n0xF00; // [rsp+30h] [rbp-78h] BYREF
  __int64 v29; // [rsp+34h] [rbp-74h]
  int v30; // [rsp+3Ch] [rbp-6Ch]
  unsigned __int64 v31; // [rsp+40h] [rbp-68h]
  unsigned __int64 v32; // [rsp+48h] [rbp-60h]
  __int64 v33; // [rsp+50h] [rbp-58h]
  __int64 v34; // [rsp+58h] [rbp-50h]

  n0xF00 = 0xF00;
  v30 = 0;
  v32 = 0;
  v33 = 0;
  v34 = 0;
  v29 = 1;
  v31 = __rdtsc();
  qword_149B4B870(
    &n0xF00,
    &word_1515B1CF4,
    "CEntitySystem::RemoveTimerEvent",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\EntitySystem.cpp",
    0xE78);
  v8 = (volatile signed __int32 *)(a1 + 0x838);
  HIWORD(n0xF00) = word_1515B1CF4;
  if ( n0xFF_1 == (char)0xFF )
  {
    v9 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( *(_DWORD *)(a1 + 0x848) == v9 )
    {
      ++*(_DWORD *)(a1 + 0x84C);
    }
    else
    {
      v10 = _InterlockedCompareExchange(v8, 1, 0);
      if ( v10 )
        sub_1403C33A0(a1 + 0x838, v10, "CEntitySystem::RemoveTimerEvent", 1);
      else
        *(_QWORD *)(a1 + 0x840) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
      *(_DWORD *)(a1 + 0x848) = v9;
    }
    v11 = *(_QWORD *)(a1 + 0x850);
    for ( i = *(_QWORD **)(a1 + 0x858); (_QWORD *)v11 != i; i = *(_QWORD **)(a1 + 0x858) )
    {
      if ( *(_QWORD *)v11 == *a2 && *(_WORD *)(v11 + 0x18) == *(_WORD *)(a3 + 0x10) )
      {
        v13 = (_QWORD *)(v11 + 0x20);
        if ( (_QWORD *)(v11 + 0x20) != i )
        {
          v14 = v11 + 0x10;
          do
          {
            *(_QWORD *)(v14 - 0x10) = *v13;
            v14 += 0x20;
            *v13 = 0;
            v13 += 4;
            v15 = *(_BYTE *)(v14 - 0x15);
            *(_QWORD *)(v14 - 0x28) = *(_QWORD *)(v14 - 8);
            *(_DWORD *)(v14 - 0x20) = *(_DWORD *)v14;
            *(_DWORD *)(v14 - 0x1C) = *(_DWORD *)(v14 + 4);
            *(_WORD *)(v14 - 0x18) = *(_WORD *)(v14 + 8);
            *(_BYTE *)(v14 - 0x16) = *(_BYTE *)(v14 + 0xA);
            *(_BYTE *)(v14 - 0x15) ^= (*(_BYTE *)(v14 + 0xB) ^ v15) & 1;
          }
          while ( v13 != i );
        }
        *(_QWORD *)(a1 + 0x858) -= 0x20LL;
        *(_BYTE *)(a1 + 0x888) = 1;
        --*(_BYTE *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x12A);
      }
      else
      {
        v11 += 0x20;
      }
    }
  }
  else
  {
    v16 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( *(_DWORD *)(a1 + 0x848) == v16 )
    {
      ++*(_DWORD *)(a1 + 0x84C);
    }
    else
    {
      v17 = _InterlockedCompareExchange(v8, 1, 0);
      if ( v17 )
        sub_1403C33A0(a1 + 0x838, v17, "CEntitySystem::RemoveTimerEvent", 1);
      else
        *(_QWORD *)(a1 + 0x840) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
      *(_DWORD *)(a1 + 0x848) = v16;
    }
    n0xFF = *(_BYTE *)(a1 + 0x882);
    if ( n0xFF == (char)0xFF
      || *(_QWORD *)(a1 + 0x868) != *a2
      || *(_WORD *)(a1 + 0x880) != *(_WORD *)(a3 + 0x10)
      || n0xFF != n0xFF_1 )
    {
      v19 = *(_QWORD *)(a1 + 0x850);
      v20 = *(_QWORD *)(a1 + 0x858);
      if ( v19 != v20 )
      {
        while ( *(_QWORD *)v19 != *a2
             || *(_WORD *)(v19 + 0x18) != *(_WORD *)(a3 + 0x10)
             || *(_BYTE *)(v19 + 0x1A) != n0xFF_1 )
        {
          v19 += 0x20;
          if ( v19 == v20 )
            goto LABEL_38;
        }
        v21 = (_QWORD *)(v19 + 0x20);
        v22 = *(_QWORD **)(a1 + 0x858);
        if ( v19 + 0x20 != v20 )
        {
          v23 = v19 + 0x10;
          do
          {
            *(_QWORD *)(v23 - 0x10) = *v21;
            v23 += 0x20;
            *v21 = 0;
            v21 += 4;
            v24 = *(_BYTE *)(v23 - 0x15);
            *(_QWORD *)(v23 - 0x28) = *(_QWORD *)(v23 - 8);
            *(_DWORD *)(v23 - 0x20) = *(_DWORD *)v23;
            *(_DWORD *)(v23 - 0x1C) = *(_DWORD *)(v23 + 4);
            *(_WORD *)(v23 - 0x18) = *(_WORD *)(v23 + 8);
            *(_BYTE *)(v23 - 0x16) = *(_BYTE *)(v23 + 0xA);
            *(_BYTE *)(v23 - 0x15) ^= (*(_BYTE *)(v23 + 0xB) ^ v24) & 1;
          }
          while ( v21 != v22 );
        }
        *(_QWORD *)(a1 + 0x858) -= 0x20LL;
        *(_BYTE *)(a1 + 0x888) = 1;
        --*(_BYTE *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x12A);
      }
    }
  }
LABEL_38:
  v25 = *(_DWORD *)(a1 + 0x84C);
  if ( v25 )
  {
    *(_DWORD *)(a1 + 0x84C) = v25 - 1;
  }
  else
  {
    *(_DWORD *)(a1 + 0x848) = 0xFFFFFFFF;
    v26 = _InterlockedCompareExchange(v8, 0, 1);
    if ( v26 == 1 )
      *(_QWORD *)(a1 + 0x840) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DB1F0(a1 + 0x838, v26);
  }
  v32 = __rdtsc();
  return qword_149B4B878(&n0xF00);
}

// --- End Function: sub_146B719D0 (0x146B719D0) ---

// --- Function: sub_146B722A0 (0x146B722A0) ---
bool __fastcall sub_146B722A0(__int64 a1)
{
  return (*(_QWORD *)(a1 + 0x270) & 0xC00000000LL) != 0;
}

// --- End Function: sub_146B722A0 (0x146B722A0) ---

// --- Function: sub_146B722C0 (0x146B722C0) ---
void __fastcall sub_146B722C0(__int64 a1)
{
  char v2; // al
  signed __int64 v3; // rbx
  __int64 v4; // rdi
  unsigned __int64 *v5; // rbp
  unsigned __int64 *i; // rdi
  _QWORD *v7; // rbx
  unsigned __int64 *v8; // rcx

  if ( !*(_BYTE *)(a1 + 0xB8) )
  {
    v2 = *(_BYTE *)(a1 + 0xB8);
    *(_BYTE *)(a1 + 0xB8) = 1;
    if ( !v2 )
    {
      if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++dword_149AC4C0C;
      }
      else
      {
        v3 = _InterlockedIncrement64(&qword_149AC4BF8);
        if ( (v3 & 0x200000) != 0 )
          sub_1403CB300(
            (__int64)&qword_149AC4BF8,
            v3,
            "CEntity::RequestPostAnimationUpdate",
            "s_aggregateHierarchyLock",
            1);
      }
      sub_146B72460(a1);
      v4 = *(_QWORD *)(a1 + 0x130);
      if ( v4 )
      {
        v5 = *(unsigned __int64 **)(v4 + 0x1C0);
        for ( i = *(unsigned __int64 **)(v4 + 0x1B8); i != v5; ++i )
        {
          if ( sub_14030EC00(i) )
          {
            v7 = (_QWORD *)(*i & 0xFFFFFFFFFFFFLL);
            if ( v7 )
            {
              if ( (*(_BYTE *)((*i & 0xFFFFFFFFFFFFLL) + 0x4F8) & 3) != 0
                && (sub_14030EC00(v7 + 0x9C) || v7[0x9D] != v7[3]) )
              {
                if ( (*(_BYTE *)(a1 + 8) & 0x20) != 0 )
                {
                  v8 = (unsigned __int64 *)v7[0x26];
                  if ( !v8 || !sub_14030EC00(v8) || *(_DWORD *)(v7[0x26] + 0x10LL) != 9 )
                    *(_DWORD *)((*i & 0xFFFFFFFFFFFFLL) + 8) |= 0x20u;
                }
                if ( !*(_QWORD *)(a1 + 0x2C0)
                  || (*(_BYTE *)(*(_QWORD *)((*i & 0xFFFFFFFFFFFFLL) + 0x130) + 0x140LL) & 4) != 0 )
                {
                  sub_146B722C0(v7);
                }
              }
            }
          }
        }
      }
      sub_1402D2790((__int64)&qword_149AC4BF8);
    }
  }
}

// --- End Function: sub_146B722C0 (0x146B722C0) ---

// --- Function: sub_146B729D0 (0x146B729D0) ---
__int16 __fastcall sub_146B729D0(__int64 a1, __int16 a2)
{
  signed __int16 v2; // ax
  signed __int16 v3; // tt

  _m_prefetchw((const void *)(a1 + 0x128));
  v2 = *(_WORD *)(a1 + 0x128);
  do
  {
    v3 = v2;
    v2 = _InterlockedCompareExchange16((volatile signed __int16 *)(a1 + 0x128), ~(a2 | 0x8000) & v2, v2);
  }
  while ( v3 != v2 );
  return v2 & 0x7FFF;
}

// --- End Function: sub_146B729D0 (0x146B729D0) ---

// --- Function: sub_146B731A0 (0x146B731A0) ---
__int64 __fastcall sub_146B731A0(unsigned __int64 a1, int *a2)
{
  char **v4; // rbx
  __int16 v5; // ax
  int v6; // ecx
  int v7; // ecx
  int v8; // ecx
  int v9; // ecx
  int n6; // ecx
  __int64 (__fastcall *v11)(unsigned __int64, char *, __int64 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v13; // rbx
  __int64 v14; // rax
  __int16 n4; // dx
  __int64 v16; // r13
  unsigned __int64 v17; // r12
  unsigned __int64 i; // r14
  __int16 *v19; // rax
  int v20; // edi
  __int16 v21; // bx
  __int64 v22; // rcx
  char v23; // al
  __int64 v24; // rcx
  char v25; // dl
  unsigned __int64 v26; // rcx
  unsigned __int64 v27; // rax
  __int64 v28; // rax
  __int64 v29; // rbx
  __int64 v30; // rax
  int v31; // edx
  unsigned __int16 v32; // ax
  unsigned __int8 v33; // bl
  __int16 v35; // [rsp+30h] [rbp-D0h] BYREF
  char v36[8]; // [rsp+38h] [rbp-C8h] BYREF
  unsigned __int64 v37; // [rsp+40h] [rbp-C0h] BYREF
  _BYTE v38[2]; // [rsp+50h] [rbp-B0h] BYREF
  __int16 v39; // [rsp+52h] [rbp-AEh]
  int v40; // [rsp+54h] [rbp-ACh]
  __int64 v41; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v42; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v43; // [rsp+68h] [rbp-98h]
  __int64 v44; // [rsp+70h] [rbp-90h]
  __int64 v45; // [rsp+78h] [rbp-88h]
  _DWORD v46[2]; // [rsp+A0h] [rbp-60h] BYREF
  __int64 v47; // [rsp+A8h] [rbp-58h]
  unsigned __int64 v48; // [rsp+B0h] [rbp-50h]
  unsigned __int64 v49; // [rsp+B8h] [rbp-48h]
  __int64 v50; // [rsp+C0h] [rbp-40h]
  __int64 v51; // [rsp+C8h] [rbp-38h]
  char v52[16]; // [rsp+F0h] [rbp-10h] BYREF
  __int64 v53; // [rsp+140h] [rbp+40h] BYREF
  __int16 v54; // [rsp+148h] [rbp+48h] BYREF

  v4 = &(&off_149AC4C80)[0x202 * *a2];          // "ENTITY_EVENT_XFORM"
  v5 = *((_WORD *)v4 + 4);
  if ( !v5 )
  {
    v5 = *(_WORD *)(*(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL))(
                     qword_149B4FD40,
                     v36,
                     "CEntity::SendEvent (%s)",
                     *v4);
    *((_WORD *)v4 + 4) = v5;
  }
  v35 = v5;
  v47 = 0;
  v49 = 0;
  v50 = 0;
  v51 = 0;
  v46[0] = 0xF00;
  v48 = __rdtsc();
  v46[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(v46, &v35, &p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  v6 = *a2;
  HIWORD(v46[0]) = v35;
  v7 = v6 - 3;
  if ( v7 )
  {
    v8 = v7 - 2;
    if ( v8 )
    {
      v9 = v8 - 7;
      if ( !v9 || (n6 = v9 - 1) == 0 || n6 == 6 )
      {
        if ( *(_BYTE *)(a1 + 0xD) >= 6u )
        {
LABEL_39:
          v33 = 0;
          goto LABEL_40;
        }
        v11 = *(__int64 (__fastcall **)(unsigned __int64, char *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
        n0xFFFF = n0xFFFF_36;
        if ( n0xFFFF_36 == (__int16)0xFFFF )
        {
          n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int16 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                          + 0x10LL))(
                                qword_149B4FC88,
                                &v54,
                                "IEntityAudioProxy");
          n0xFFFF_36 = n0xFFFF;
        }
        LOWORD(v53) = n0xFFFF;
        v13 = *(_QWORD *)v11(a1, v52, &v53);
        v53 = v13;
        if ( v13 )
        {
          v14 = sub_1403B4B50(v13 & 0xFFFFFFFFFFFFLL);
          n4 = *(_WORD *)(v14 + 4);
          if ( n4 != 4
            && *(_WORD *)(v14 + 2) == (HIWORD(v13) & 0xFFF)
            && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v53)) )
          {
            (*(void (__fastcall **)(__int64, int *))(*(_QWORD *)(v13 & 0xFFFFFFFFFFFFLL) + 0x28LL))(
              v13 & 0xFFFFFFFFFFFFLL,
              a2);
          }
        }
      }
    }
    else
    {
      v27 = sub_146B513B0(a1);
      if ( v27 )
      {
        v28 = sub_146AB3260(v27, 0);
        v29 = v28;
        if ( v28 )
        {
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v28 + 0x1A0LL))(v28);
          v30 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v29 + 0x70LL))(v29);
          if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v30 + 0xB0LL))(v30) )
            sub_146B5A040(a1, 0x400000, 0);
        }
      }
    }
  }
  else
  {
    v31 = a2[6];
    v53 = *((_QWORD *)a2 + 2);
    sub_146B62B50(a1, v31, &v53);
  }
  if ( *(_BYTE *)(a1 + 0xD) >= 6u )
    goto LABEL_39;
  v16 = 1LL << *a2;
  if ( (v16 & *(_QWORD *)(a1 + 0x270)) != 0 )
  {
    v17 = (__int64)(*(_QWORD *)(a1 + 0x280) - *(_QWORD *)(a1 + 0x278)) >> 3;
    for ( i = 0; i < v17; ++i )
    {
      if ( (v16 & *(_QWORD *)(*(_QWORD *)(a1 + 0x278) + 8 * i)) != 0 )
      {
        v19 = sub_146B4EE90(
                &v54,
                *a2,
                *(_WORD *)((*(_QWORD *)(*(_QWORD *)(a1 + 0x258) + 8 * i) & 0xFFFFFFFFFFFFLL) + 0x10));
        v20 = *(_DWORD *)(a1 + 0x2D8);
        v21 = *v19;
        v22 = *(_QWORD *)(*(_QWORD *)(a1 + 0x258) + 8 * i) & 0xFFFFFFFFFFFFLL;
        v23 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v22 + 0x20LL))(v22);
        LOWORD(v53) = v21;
        v39 = 0;
        v41 = 0;
        v43 = 0;
        v44 = 0;
        v45 = 0;
        v38[1] = v23;
        v42 = __rdtsc();
        v40 = v20;
        v38[0] = 0;
        qword_149B4B870(v38, &v53, &p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v39 = v53;
        v24 = *(_QWORD *)(*(_QWORD *)(a1 + 0x258) + 8 * i) & 0xFFFFFFFFFFFFLL;
        (*(void (__fastcall **)(__int64, int *))(*(_QWORD *)v24 + 0x28LL))(v24, a2);
        v43 = __rdtsc();
        qword_149B4B878(v38);
      }
    }
  }
  if ( *a2 || (a2[6] & 0x80000) == 0 )
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v25 = 0;
      v26 = a1 - 6;
    }
    else
    {
      v25 = 1;
      v26 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v32 = *(_WORD *)(v26 + 2) | 0x2000;
    if ( !v25 )
      v32 = *(_WORD *)(v26 + 2);
    v37 = a1 | ((unsigned __int64)v32 << 0x30);
    sub_146B622B0(qword_1515B19E8, &v37, (unsigned int *)a2);
  }
  v33 = 1;
LABEL_40:
  v49 = __rdtsc();
  qword_149B4B878(v46);
  return v33;
}

// --- End Function: sub_146B731A0 (0x146B731A0) ---

// --- Function: sub_146B738E0 (0x146B738E0) ---
unsigned int __fastcall sub_146B738E0(__int64 a1, unsigned __int8 a2)
{
  unsigned int result; // eax

  result = *(_DWORD *)(a1 + 8) & 0xFFFFDFFF;
  *(_DWORD *)(a1 + 8) = result | (a2 << 0xD);
  return result;
}

// --- End Function: sub_146B738E0 (0x146B738E0) ---

// --- Function: sub_146B73900 (0x146B73900) ---
void __fastcall sub_146B73900(__int64 a1, _QWORD *a2)
{
  __int64 v3; // rdx
  __int64 v4; // rax
  _QWORD *v5; // rsi
  _QWORD *i; // rbx
  __int64 v7; // rcx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF

  v3 = *(_QWORD *)(a1 + 0x130);
  if ( v3 )
  {
    *(_QWORD *)(v3 + 8) = *a2;
    v4 = *(_QWORD *)(a1 + 0x130);
    v5 = *(_QWORD **)(v4 + 0x1C0);
    for ( i = *(_QWORD **)(v4 + 0x1B8); i != v5; ++i )
    {
      v7 = *i & 0xFFFFFFFFFFFFLL;
      v8 = *a2;
      sub_146B73900(v7, &v8);
    }
  }
}

// --- End Function: sub_146B73900 (0x146B73900) ---

// --- Function: sub_146B73990 (0x146B73990) ---
__int64 __fastcall sub_146B73990(__int64 a1, __int64 *a2, int a3)
{
  __int64 v6; // rax
  __int64 v7; // rbx
  __int64 result; // rax
  unsigned int v9; // edi
  __int64 v10; // rbx
  __int64 v11; // r14
  __int64 v12; // rax
  unsigned __int16 n0xFFFF; // ax
  __int64 v14; // [rsp+30h] [rbp-D0h] BYREF
  int v15; // [rsp+40h] [rbp-C0h] BYREF
  __int16 n0x100; // [rsp+44h] [rbp-BCh]
  int v17; // [rsp+48h] [rbp-B8h]
  char v18; // [rsp+4Ch] [rbp-B4h]
  float v19; // [rsp+50h] [rbp-B0h]
  float v20; // [rsp+54h] [rbp-ACh]
  char v21; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v22; // [rsp+60h] [rbp-A0h]
  __int64 v23; // [rsp+68h] [rbp-98h]
  __int64 v24; // [rsp+70h] [rbp-90h]
  __int64 n0x81; // [rsp+78h] [rbp-88h]
  __int128 v26; // [rsp+80h] [rbp-80h]
  __int64 v27; // [rsp+90h] [rbp-70h]
  char v28; // [rsp+98h] [rbp-68h]
  __int128 v29; // [rsp+A0h] [rbp-60h]
  __int64 v30; // [rsp+B0h] [rbp-50h]
  char v31; // [rsp+B8h] [rbp-48h]
  float v32; // [rsp+BCh] [rbp-44h]
  __int16 v33; // [rsp+C0h] [rbp-40h]
  __int64 v34; // [rsp+C8h] [rbp-38h]
  int v35; // [rsp+D0h] [rbp-30h]
  float v36; // [rsp+D4h] [rbp-2Ch]
  __int64 v37; // [rsp+D8h] [rbp-28h]
  __int64 v38; // [rsp+E0h] [rbp-20h]
  __int64 v39; // [rsp+E8h] [rbp-18h]
  unsigned int v40; // [rsp+F0h] [rbp-10h]
  __int64 v41; // [rsp+F8h] [rbp-8h]
  __int128 v42; // [rsp+100h] [rbp+0h]
  __int64 v43; // [rsp+110h] [rbp+10h]
  int v44; // [rsp+118h] [rbp+18h]
  __int64 v45; // [rsp+158h] [rbp+58h] BYREF

  sub_146A63540(a1, &v45);
  v6 = sub_146B4E3D0(a1);
  v7 = v6;
  if ( v6 )
    sub_146AF1630(v6, a3, 1, 1u, 1, 1);
  result = sub_146AFBB30(v45 & 0xFFFFFFFFFFFFLL, a3, 0, a2);
  v9 = result;
  if ( v7 )
  {
    v10 = 0;
    n0x100 = 0x100;
    v15 = 0;
    v24 = 0x1000007FFLL;
    v18 = 0;
    v33 = 1;
    v32 = 0.0;
    v36 = 0.0;
    v21 = 0;
    v22 = 0xFFFFFFFFFFFFFFFFuLL;
    v23 = 0;
    n0x81 = 0x81;
    v26 = 0;
    v27 = 0;
    v28 = 0;
    v29 = 0;
    v30 = 0;
    v31 = 0;
    v34 = 0;
    v35 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v40 = 0xFFFFFFFF;
    v41 = 0;
    v42 = 0;
    v43 = 0;
    v44 = 0;
    v20 = NAN;
    v19 = NAN;
    v17 = a3;
    v11 = sub_146B4E3D0(a1);
    if ( v11 )
    {
      if ( !v17 )
      {
        *(float *)&v45 = v20;
        *(float *)&v45 = v19;
        v12 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_149B4FC90 + 0xC0LL))(
                qword_149B4FC90,
                "p_physical_properties");
        if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x10LL))(v12) )
        {
          n0xFFFF = n0xFFFF_58;
          if ( n0xFFFF_58 == (__int16)0xFFFF )
          {
            n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                            + 0x10LL))(
                                  qword_149B4FC88,
                                  &v45,
                                  "EntityPhysicsController");
            n0xFFFF_58 = n0xFFFF;
          }
          if ( *(_BYTE *)(a1 + 0xD) != 7 )
          {
            sub_146B49DE0(a1, (unsigned __int64 *)&v14, n0xFFFF);
            v10 = v14;
          }
          v45 = v10;
          if ( is_valid_handle_typeA(&v45) )
            v20 = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v10 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v10 & 0xFFFFFFFFFFFFLL);
        }
      }
      sub_146AE6890(v11, (__int64)&v15);
    }
    return v9;
  }
  return result;
}

// --- End Function: sub_146B73990 (0x146B73990) ---

// --- Function: sub_146B74410 (0x146B74410) ---
__int64 __fastcall sub_146B74410(__int64 a1, int a2, __int64 a3)
{
  __int64 result; // rax
  int v5; // edi
  __int64 n9; // r8
  unsigned __int64 v8; // rax

  result = *(unsigned int *)(a1 + 0x118);
  v5 = a2;
  if ( a2 != (_DWORD)result )
  {
    if ( !(_BYTE)qword_149B501D6 )
    {
      if ( ((a2 ^ (unsigned int)result) & 0x1FFFE) != 0 )
        LogFatalError(
          "Something is trying to set/clear entity flags which are meant to be constant at runtime on entity %s. Use spaw"
          "n params to set this flag",
          *(const char **)(a1 + 0x298));
      v5 &= ~1u;
    }
    if ( *(_BYTE *)(a1 + 0xD) >= 4u && (v5 & 0x1000000) != (*(_DWORD *)(a1 + 0x118) & 0x1000000) )
    {
      n9 = 9;
      if ( (v5 & 0x1000000) == 0 )
        n9 = 1;
      (*(void (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x3E8LL))(
        qword_149B4FBE8,
        a1 + 0x2A8,
        n9,
        a3);
    }
    *(_DWORD *)(a1 + 0x118) = v5;
    sub_146B74B20(a1, 1);
    v8 = sub_146B513B0(a1);
    if ( v8 )
      sub_146B09E30(v8);
    result = sub_146B49920(a1);
    if ( result )
      return sub_146A60F30(result);
  }
  return result;
}

// --- End Function: sub_146B74410 (0x146B74410) ---

// --- Function: sub_146B74500 (0x146B74500) ---
char __fastcall sub_146B74500(__int64 a1, char a2, __int64 a3)
{
  return sub_146A2FF70(qword_1515B19F0, a3, a2);
}

// --- End Function: sub_146B74500 (0x146B74500) ---

// --- Function: sub_146B74520 (0x146B74520) ---
unsigned __int64 __fastcall sub_146B74520(__int64 a1, char a2)
{
  __int64 v2; // r8
  unsigned __int64 v3; // rdi
  unsigned __int64 result; // rax
  __int64 *v7; // rbx
  __int64 v8; // rdx

  v2 = *(_QWORD *)(a1 + 0x240);
  v3 = 0;
  result = (*(_QWORD *)(a1 + 0x248) - v2) >> 3;
  if ( result )
  {
    do
    {
      v7 = (__int64 *)(v2 + 8 * v3);
      if ( is_valid_handle_typeA(v7) )
        v8 = *v7 & 0xFFFFFFFFFFFFLL;
      else
        v8 = 0;
      sub_146A300D0(qword_1515B19F0, v8, a2);
      v2 = *(_QWORD *)(a1 + 0x240);
      ++v3;
      result = (*(_QWORD *)(a1 + 0x248) - v2) >> 3;
    }
    while ( v3 < result );
  }
  return result;
}

// --- End Function: sub_146B74520 (0x146B74520) ---

// --- Function: sub_146B745E0 (0x146B745E0) ---
char __fastcall sub_146B745E0(__int64 a1, char a2, __int64 a3)
{
  return sub_146A300D0(qword_1515B19F0, a3, a2);
}

// --- End Function: sub_146B745E0 (0x146B745E0) ---

// --- Function: sub_146B748B0 (0x146B748B0) ---
__int64 __fastcall sub_146B748B0(unsigned __int64 a1, __int64 *a2)
{
  __int64 v2; // rdi
  __int64 v5; // rcx
  unsigned __int64 v6; // rax
  __int64 v7; // rax
  int v9[6]; // [rsp+20h] [rbp-48h] BYREF
  __int64 v10; // [rsp+38h] [rbp-30h]

  v2 = *a2;
  if ( *(_QWORD *)(a1 + 0x138) != *a2 )
  {
    if ( v2 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v2 + 8LL))(v2);
    v5 = *(_QWORD *)(a1 + 0x138);
    if ( v5 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v5 + 0x10LL))(v5);
    *(_QWORD *)(a1 + 0x138) = v2;
  }
  v6 = sub_146B513B0(a1);
  if ( v6 )
  {
    sub_146AF9B40(v6 + 0x78, a2);
    v7 = sub_146B4E3D0(a1);
    if ( v7 )
      sub_146AFAD30(v7, 0xFFFFFFFF, a2);
  }
  sub_14036C410((__int64)v9);
  v10 = *a2;
  v9[0] = 0x18;
  return sub_146B731A0(a1, v9);
}

// --- End Function: sub_146B748B0 (0x146B748B0) ---

// --- Function: sub_146B74990 (0x146B74990) ---
void __fastcall sub_146B74990(__int64 a1, _BYTE *a2)
{
  __int64 v4; // rax
  __int64 v5; // rbx
  unsigned int v6; // ebx
  unsigned __int64 v7; // [rsp+30h] [rbp-138h] BYREF
  int n0x32; // [rsp+38h] [rbp-130h] BYREF
  __int64 v9; // [rsp+40h] [rbp-128h] BYREF
  int v10; // [rsp+48h] [rbp-120h] BYREF
  char Buffer[256]; // [rsp+50h] [rbp-118h] BYREF

  if ( a2
    && *a2
    && (*(_BYTE *)(a1 + 0xD) <= 2u
     || (*(_BYTE *)(a1 + 0x118) & 0x10) != 0
     || (_BYTE)qword_149B501D6 && !BYTE3(qword_149B501D6))
    && (unsigned int)sub_1403E47B0((unsigned __int8 **)(a1 + 0x298), (__int64)a2) )
  {
    assignCStringToStringStructure((void **)(a1 + 0x298), a2);
    v4 = sub_146B4E3D0(a1);
    v5 = v4;
    if ( v4 )
    {
      sub_142E04BC0(v4, &v7);
      if ( v7 )
      {
        if ( *(_QWORD *)((v7 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v7) )
        {
          memset(Buffer, 0, sizeof(Buffer));
          n0x32 = 0x32;
          v9 = 0;
          v10 = 0;
          sub_141EEF430(Buffer, &v9, &v10, (const char *)&Format_, *(_QWORD *)(a1 + 0x298));
          sub_146AFA280(v5, (__int64)&n0x32, 0);
        }
      }
    }
    v6 = *(_DWORD *)(a1 + 0x2D8);
    *(_DWORD *)(a1 + 0x2D8) = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FD40 + 0xF8LL))(
                                qword_149B4FD40,
                                *(_QWORD *)(a1 + 0x298));
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FD40 + 0x100LL))(qword_149B4FD40, v6);
  }
}

// --- End Function: sub_146B74990 (0x146B74990) ---

// --- Function: sub_146B74B20 (0x146B74B20) ---
char __fastcall sub_146B74B20(__int64 a1, __int16 a2)
{
  unsigned int v2; // eax
  unsigned __int16 v3; // r9
  bool v4; // r10
  __int16 v5; // tt
  __int64 v7; // [rsp+30h] [rbp+8h] BYREF

  v2 = *(_DWORD *)(a1 + 8);
  if ( (v2 & 8) == 0 )
  {
    v3 = a2 & 0x7FFF;
    if ( (a2 & 0x7FFF) != 0 )
    {
      v4 = (v2 & 0x400) != 0 && (((unsigned __int16)(0xFEFF * ((v2 >> 4) & 1)) | 0x100) & v3) != 0;
      _m_prefetchw((const void *)(a1 + 0x128));
      LOWORD(v2) = *(_WORD *)(a1 + 0x128);
      do
      {
        v5 = v2;
        LOWORD(v2) = _InterlockedCompareExchange16((volatile signed __int16 *)(a1 + 0x128), v3 | (v4 << 0xF) | v2, v2);
      }
      while ( v5 != (_WORD)v2 );
      if ( (v2 & 0x8000u) == 0 && v4 )
      {
        sub_14033FE10(a1, &v7);
        LOBYTE(v2) = AssetMeta::HasActorSubresource(&v7);
        if ( (_BYTE)v2 )
          LOBYTE(v2) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v7 & 0xFFFFFFFFFFFFLL) + 0x590LL))(v7 & 0xFFFFFFFFFFFFLL);
      }
    }
  }
  return v2;
}

// --- End Function: sub_146B74B20 (0x146B74B20) ---

// --- Function: sub_146B74C50 (0x146B74C50) ---
double __fastcall sub_146B74C50(unsigned __int64 a1, __int64 a2, unsigned __int8 a3)
{
  __int64 v5; // rcx
  double result; // xmm0_8

  if ( *(_QWORD *)(a1 + 0x130) )
  {
    *(double *)(a2 + 0x38) = *(double *)sub_146B516A0(a1, a3).m128_u64 * *(double *)(a2 + 0x38);
    v5 = *(_QWORD *)(a1 + 0x130) + 0x150LL;
    *(_QWORD *)v5 = *(_QWORD *)a2;
    *(_QWORD *)(v5 + 8) = *(_QWORD *)(a2 + 8);
    *(_QWORD *)(v5 + 0x10) = *(_QWORD *)(a2 + 0x10);
    *(_QWORD *)(v5 + 0x18) = *(_QWORD *)(a2 + 0x18);
    *(_OWORD *)(v5 + 0x20) = *(_OWORD *)(a2 + 0x20);
    *(double *)(v5 + 0x30) = *(double *)(a2 + 0x30);
    *(_QWORD *)(v5 + 0x38) = *(_QWORD *)(a2 + 0x38);
    return sub_146B5A040(a1, 6, 0);
  }
  return result;
}

// --- End Function: sub_146B74C50 (0x146B74C50) ---

// --- Function: sub_146B74CE0 (0x146B74CE0) ---
void __fastcall sub_146B74CE0(unsigned __int64 a1, __int64 a2)
{
  __int64 v2; // rsi

  v2 = *(_QWORD *)(a1 + 0x2E0);
  if ( !v2 )
    v2 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x68LL))(*(_QWORD *)(a1 + 0x20));
  if ( v2 != a2 )
  {
    *(_QWORD *)(a1 + 0x2E0) = a2;
    if ( !a2 )
      a2 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x68LL))(*(_QWORD *)(a1 + 0x20));
    sub_146A3BA20(qword_1515B1A00, a1, v2, a2);
  }
}

// --- End Function: sub_146B74CE0 (0x146B74CE0) ---

// --- Function: sub_146B74D60 (0x146B74D60) ---
__int64 __fastcall sub_146B74D60(_BYTE *a1, __int64 a2, unsigned __int64 a3)
{
  __int64 (__fastcall *v6)(_BYTE *, unsigned __int64 *, unsigned __int64 *); // rdi
  __int16 n0xFFFF; // ax
  unsigned __int64 v8; // rdi
  __int64 v9; // rax
  __int16 n4; // dx
  __int64 v12; // rcx
  unsigned __int16 n0xFFFF_1; // ax
  __int16 v14; // rbx^6
  unsigned __int64 v15; // rdi
  __int64 v16; // rax
  __int16 n4_1; // cx
  __int64 v18; // rcx
  unsigned __int64 v19; // rax
  char v20[8]; // [rsp+20h] [rbp-38h] BYREF
  unsigned __int64 v21[6]; // [rsp+28h] [rbp-30h] BYREF
  unsigned __int64 v22; // [rsp+60h] [rbp+8h] BYREF

  v6 = *(__int64 (__fastcall **)(_BYTE *, unsigned __int64 *, unsigned __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          v20,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v22) = n0xFFFF;
  v8 = *(_QWORD *)v6(a1, v21, &v22);
  v22 = v8;
  if ( v8 )
  {
    v9 = sub_1403B4B50(v8 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(v9 + 4);
    if ( n4 != 4
      && *(_WORD *)(v9 + 2) == (HIWORD(v8) & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_140391F30(&v22)) )
    {
      return (*(__int64 (__fastcall **)(unsigned __int64, __int64, unsigned __int64))(*(_QWORD *)(v8 & 0xFFFFFFFFFFFFLL)
                                                                                    + 0x708LL))(
               v8 & 0xFFFFFFFFFFFFLL,
               a2,
               a3);
    }
  }
  if ( a3 )
  {
    v12 = a3 & 0xFFFFFFFFFFFFLL;
    if ( *(_QWORD *)((a3 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a3) )
      return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v12 + 0x18LL))(v12, a2, 0);
  }
  n0xFFFF_1 = n0xFFFF_50;
  if ( n0xFFFF_50 == (__int16)0xFFFF )
  {
    n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                               + 0x10LL))(
                            qword_149B4FC88,
                            &v22,
                            "RopeProxy");
    n0xFFFF_50 = n0xFFFF_1;
  }
  if ( a1[0xD] != 7 )
  {
    sub_146B49DE0((__int64)a1, v21, n0xFFFF_1);
    v14 = HIWORD(v21[0]);
    v22 = v21[0];
    if ( v21[0] )
    {
      v15 = v21[0] & 0xFFFFFFFFFFFFLL;
      v16 = sub_1403B4B50(v21[0] & 0xFFFFFFFFFFFFLL);
      n4_1 = *(_WORD *)(v16 + 4);
      if ( n4_1 != 4
        && *(_WORD *)(v16 + 2) == (v14 & 0xFFF)
        && (n4_1 == 2 && !*(_QWORD *)NtCurrentTeb_w() || sub_14031FE20(&v22)) )
      {
        v18 = *(_QWORD *)(v15 + 0x70);
        if ( v18 )
        {
          v19 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v18 + 0xE8LL))(v18, &v22);
          if ( v19 )
          {
            v12 = v19 & 0xFFFFFFFFFFFFLL;
            if ( *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v19) )
              return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v12 + 0x18LL))(v12, a2, 0);
          }
        }
      }
    }
  }
  return 0;
}

// --- End Function: sub_146B74D60 (0x146B74D60) ---

// --- Function: sub_146B74F60 (0x146B74F60) ---
char __fastcall sub_146B74F60(__int64 a1, int a2, int a3)
{
  unsigned __int64 v5; // rax

  v5 = sub_146B513B0(a1);
  if ( v5 )
    LOBYTE(v5) = sub_146AFA750(v5, a2, a3);
  return v5;
}

// --- End Function: sub_146B74F60 (0x146B74F60) ---

// --- Function: sub_146B74FA0 (0x146B74FA0) ---
__int64 __fastcall sub_146B74FA0(__int64 a1, unsigned int a2, _QWORD *a3)
{
  __int64 v6; // [rsp+48h] [rbp+20h] BYREF

  sub_146A63540(a1, &v6);
  return sub_146AFAB10(v6 & 0xFFFFFFFFFFFFLL, a2, a3);
}

// --- End Function: sub_146B74FA0 (0x146B74FA0) ---

// --- Function: sub_146B74FE0 (0x146B74FE0) ---
void __fastcall sub_146B74FE0(__int64 a1, _QWORD *a2)
{
  __int64 v4; // rax
  __int64 v5; // rax
  __int64 v6; // r14
  __int64 v7; // rax
  unsigned __int64 v8; // rdi
  __int64 v9; // rdx
  void (__fastcall *v10)(unsigned __int64, __int64 *, _QWORD); // rbx
  __int64 v11; // rax
  __int64 v12; // [rsp+20h] [rbp-38h] BYREF
  __int64 v13; // [rsp+28h] [rbp-30h] BYREF
  __int64 v14; // [rsp+30h] [rbp-28h] BYREF
  unsigned __int64 v15; // [rsp+68h] [rbp+10h] BYREF

  if ( *a2 )
  {
    sub_146B4E570(a1, &v15);
    if ( v15 )
    {
      if ( *(_QWORD *)((v15 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v15) )
      {
        v4 = (*(__int64 (**)(void))(*(_QWORD *)qword_149B4FCA0 + 0x3B8LL))();
        v5 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x28LL))(v4);
        v6 = v5;
        if ( v5 )
        {
          v7 = (*(__int64 (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v5 + 0x20LL))(v5, a2);
          v8 = v15 & 0xFFFFFFFFFFFFLL;
          v9 = *(_QWORD *)(v15 & 0xFFFFFFFFFFFFLL);
          v12 = v7;
          v10 = *(void (__fastcall **)(unsigned __int64, __int64 *, _QWORD))(v9 + 0xC0);
          sub_14035B3E0(&v13);
          sub_14035B3E0(&v14);
          v10(v8, &v12, 0);
          (*(void (__fastcall **)(unsigned __int64))(*(_QWORD *)(v15 & 0xFFFFFFFFFFFFLL) + 0xA8LL))(v15 & 0xFFFFFFFFFFFFLL);
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v6 + 0x10LL))(v6);
          v11 = sub_146B4E3D0(a1);
          if ( v11 )
            sub_146B073D0(v11);
        }
      }
    }
  }
}

// --- End Function: sub_146B74FE0 (0x146B74FE0) ---

// --- Function: sub_146B750F0 (0x146B750F0) ---
__int64 __fastcall sub_146B750F0(unsigned __int64 a1, double *a2, int n0x2000002, int n2, char n2_1)
{
  int v6; // r9d
  int v9; // ebp
  double v10; // xmm1_8
  _BYTE v12[32]; // [rsp+30h] [rbp-48h] BYREF
  __int128 v13; // [rsp+50h] [rbp-28h]
  double v14; // [rsp+60h] [rbp-18h]

  v6 = 0xFFFFFFFF;
  if ( !n2 )
    v6 = dword_149B4FDFC;
  v9 = a1;
  sub_146B52280(a1, (__int64)v12, n2, v6, 0, n2_1);
  v10 = a2[2];
  v13 = *(_OWORD *)a2;
  v14 = v10;
  return sub_146B86030(v9, (unsigned int)v12, n2, n0x2000002 | 2u, n2_1, 0);
}

// --- End Function: sub_146B750F0 (0x146B750F0) ---

// --- Function: sub_146B751A0 (0x146B751A0) ---
char __fastcall sub_146B751A0(__int64 a1, __int64 a2)
{
  __int64 v3; // rax
  __int16 v4; // rbx^6
  __int64 v5; // rdi
  __int16 n2; // cx
  __int64 v8; // [rsp+40h] [rbp+18h] BYREF

  LOBYTE(v3) = (unsigned __int8)sub_146A63540(a1, &v8);
  v4 = HIWORD(v8);
  if ( v8 )
  {
    v5 = v8 & 0xFFFFFFFFFFFFLL;
    v3 = sub_1403B4B50(v8 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(v3 + 4);
    if ( n2 != 4 && *(_WORD *)(v3 + 2) == (v4 & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)NtCurrentTeb_w() || (LOBYTE(v3) = sub_14031FE20(&v8), (_BYTE)v3) )
        LOBYTE(v3) = sub_146AF9690(v5, a2, 1);
    }
  }
  return v3;
}

// --- End Function: sub_146B751A0 (0x146B751A0) ---

// --- Function: sub_146B75240 (0x146B75240) ---
double __fastcall sub_146B75240(unsigned __int64 a1, __int64 a2, unsigned int a3, unsigned int a4, char n0xFF)
{
  unsigned __int64 v9; // rsi
  unsigned __int64 v10; // rcx
  char v11; // dl
  unsigned __int64 v12; // rdi
  unsigned __int16 v13; // ax
  char v14; // dl
  unsigned __int16 v15; // ax
  double result; // xmm0_8
  unsigned __int64 v17; // [rsp+70h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B10 + qword_1515B1B18 )
    {
      v11 = 0;
      v10 = a1 - 6;
      v9 = a1 - 6;
      v12 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    else
    {
      v9 = a1 - 6;
      v10 = a1 & 0xFFFFFFFFFF000000uLL;
      v11 = 1;
      v12 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v13 = *(_WORD *)(v10 + 2) | 0x2000;
    if ( !v11 )
      v13 = *(_WORD *)(v10 + 2);
    v17 = a1 | ((unsigned __int64)v13 << 0x30);
    sub_146B719D0(qword_1515B19E8, &v17, a2, n0xFF);
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v14 = 0;
      v12 = v9;
    }
    else
    {
      v14 = 1;
    }
    v15 = *(_WORD *)(v12 + 2) | 0x2000;
    if ( !v14 )
      v15 = *(_WORD *)(v12 + 2);
    v17 = a1 | ((unsigned __int64)v15 << 0x30);
    return sub_146B28560(qword_1515B19E8, &v17, a2, n0xFF, a3, a4, 1);
  }
  return result;
}

// --- End Function: sub_146B75240 (0x146B75240) ---

// --- Function: sub_146B75380 (0x146B75380) ---
__int64 __fastcall sub_146B75380(unsigned __int64 a1, __m256 *a2, int a3, int n2, char n2_1)
{
  int v6; // r9d
  int v9; // ebp
  __m256 v11; // [rsp+30h] [rbp-48h] BYREF

  v6 = 0xFFFFFFFF;
  if ( !n2 )
    v6 = dword_149B4FDFC;
  v9 = a1;
  sub_146B52280(a1, (__int64)&v11, n2, v6, 0, n2_1);
  v11 = *a2;
  __asm { vzeroupper }
  return sub_146B86030(v9, (unsigned int)&v11, n2, a3 | 4u, n2_1, 0);
}

// --- End Function: sub_146B75380 (0x146B75380) ---

// --- Function: sub_146B75420 (0x146B75420) ---
void __fastcall sub_146B75420(__int64 a1, double a2, char a3, unsigned __int8 n2)
{
  __int128 v4; // xmm6
  double v8; // xmm0_8
  _QWORD *v9; // rax
  unsigned __int64 v10; // [rsp+30h] [rbp-68h] BYREF
  _BYTE v11[56]; // [rsp+40h] [rbp-58h] BYREF
  double v12; // [rsp+78h] [rbp-20h]
  __int128 v13; // [rsp+80h] [rbp-18h]

  v13 = v4;
  *(_QWORD *)&v8 = sub_146B516A0(a1, n2).m128_u64[0];
  if ( a3 || v8 != a2 )
  {
    sub_146B54040(a1, (__int64)v11, n2);
    v9 = *(_QWORD **)(a1 + 0x130);
    if ( v9 )
      v9 = (_QWORD *)*v9;
    v10 = (unsigned __int64)v9;
    if ( sub_14030EC00(&v10) )
      v12 = (*(double (__fastcall **)(unsigned __int64, _QWORD))(*(_QWORD *)(v10 & 0xFFFFFFFFFFFFLL) + 0x2B8LL))(
              v10 & 0xFFFFFFFFFFFFLL,
              n2)
          * a2;
    else
      v12 = a2;
    sub_146B86030(a1, (unsigned int)v11, 2, 8, n2, 0);
  }
}

// --- End Function: sub_146B75420 (0x146B75420) ---

// --- Function: sub_146B75510 (0x146B75510) ---
__int64 __fastcall sub_146B75510(__int64 a1, int a2, int a3)
{
  __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
    return sub_146AFBEC0(result, a2, a3);
  return result;
}

// --- End Function: sub_146B75510 (0x146B75510) ---

// --- Function: sub_146B75550 (0x146B75550) ---
void __fastcall sub_146B75550(__int64 a1, int a2, __int64 *a3)
{
  unsigned __int64 v6; // rax
  __int64 v7; // rax

  v6 = sub_146B513B0(a1);
  if ( v6 )
  {
    sub_146AFC5A0(v6, a2, a3);
    v7 = sub_146B4E3D0(a1);
    if ( v7 )
      sub_146AFAD30(v7, a2, a3);
  }
}

// --- End Function: sub_146B75550 (0x146B75550) ---

// --- Function: sub_146B755B0 (0x146B755B0) ---
__int64 __fastcall sub_146B755B0(
        __int64 a1,
        __int64 *a2,
        int a3,
        char a4,
        int a5,
        __int64 a6,
        __int64 a7,
        __int64 a8,
        char a9,
        _QWORD *a10)
{
  __int64 v14; // rax
  __int64 v15; // rsi
  int v16; // edi
  unsigned __int64 v17; // rax
  __int64 v18; // rcx
  __int64 v19; // rcx
  __int64 v25; // [rsp+30h] [rbp-F8h] BYREF
  float v26[5]; // [rsp+40h] [rbp-E8h] BYREF
  float v27; // [rsp+54h] [rbp-D4h]
  __int64 v28; // [rsp+70h] [rbp-B8h]
  __int64 v29; // [rsp+78h] [rbp-B0h]

  sub_146A63540(a1, &v25);
  v14 = sub_146B4E3D0(a1);
  v15 = v14;
  if ( v14 && a3 >= 0 )
    sub_146AF1630(v14, a3, 1, 1u, 1, 1);
  v16 = sub_146AFC190(v25 & 0xFFFFFFFFFFFFLL, a3, a2, a9);
  if ( a6 )
  {
    v17 = sub_146B513B0(a1);
    if ( v17 )
    {
      if ( (unsigned __int8)sub_146B0DDD0(v17, v16, a6, 2, 0, 0) )
        *(_DWORD *)(a1 + 8) |= 0x40u;
    }
  }
  if ( a4 && v15 && v16 >= 0 )
  {
    sub_141EF04A0((__int64)v26);
    v18 = v28;
    if ( a7 != 0xFFFFFFFFFFFFFFFFuLL )
      v18 = a7;
    v28 = v18;
    v19 = v29;
    if ( a8 != 0xFFFFFFFFFFFFFFFFuLL )
      v19 = a8;
    _XMM0 = 0;
    __asm { vcmpless xmm1, xmm0, xmm2 }
    _XMM0 = LODWORD(v27);
    v29 = v19;
    __asm { vblendvps xmm1, xmm0, xmm2, xmm1 }
    LODWORD(v26[2]) = v16;
    v27 = *(float *)&_XMM1;
    sub_146B64280(a1, v26);
  }
  if ( *a10 )
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a10 + 8LL))(*a10);
  *a10 = 0;
  return (unsigned int)v16;
}

// --- End Function: sub_146B755B0 (0x146B755B0) ---

// --- Function: sub_146B75750 (0x146B75750) ---
double __fastcall sub_146B75750(unsigned __int64 a1, __int64 a2, unsigned int a3, char n0xFF)
{
  unsigned __int64 v8; // rsi
  unsigned __int64 v9; // rcx
  char v10; // dl
  unsigned __int64 v11; // rdi
  unsigned __int16 v12; // ax
  char v13; // dl
  unsigned __int16 v14; // ax
  double result; // xmm0_8
  unsigned __int64 v16; // [rsp+70h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B10 + qword_1515B1B18 )
    {
      v10 = 0;
      v9 = a1 - 6;
      v8 = a1 - 6;
      v11 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    else
    {
      v8 = a1 - 6;
      v9 = a1 & 0xFFFFFFFFFF000000uLL;
      v10 = 1;
      v11 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v12 = *(_WORD *)(v9 + 2) | 0x2000;
    if ( !v10 )
      v12 = *(_WORD *)(v9 + 2);
    v16 = a1 | ((unsigned __int64)v12 << 0x30);
    sub_146B719D0(qword_1515B19E8, &v16, a2, n0xFF);
    if ( qword_1515B1B10 > a1 || a1 >= qword_1515B1B18 + qword_1515B1B10 )
    {
      v13 = 0;
      v11 = v8;
    }
    else
    {
      v13 = 1;
    }
    v14 = *(_WORD *)(v11 + 2) | 0x2000;
    if ( !v13 )
      v14 = *(_WORD *)(v11 + 2);
    v16 = a1 | ((unsigned __int64)v14 << 0x30);
    return sub_146B28560(qword_1515B19E8, &v16, a2, n0xFF, a3, 0, 0);
  }
  return result;
}

// --- End Function: sub_146B75750 (0x146B75750) ---

// --- Function: sub_146B759C0 (0x146B759C0) ---
__int64 __fastcall sub_146B759C0(unsigned __int64 a1, double *a2, int a3, unsigned __int8 n2)
{
  int v7; // ebp
  double v8; // xmm1_8
  _BYTE v10[32]; // [rsp+30h] [rbp-48h] BYREF
  __int128 v11; // [rsp+50h] [rbp-28h]
  double v12; // [rsp+60h] [rbp-18h]

  v7 = a1;
  sub_146B52280(a1, (__int64)v10, 0, dword_149B4FDFC, 0, n2);
  v8 = a2[2];
  v11 = *(_OWORD *)a2;
  v12 = v8;
  return sub_146B86030(v7, (unsigned int)v10, 0, a3 | 2u, n2, 0);
}

// --- End Function: sub_146B759C0 (0x146B759C0) ---

// --- Function: sub_146B75A50 (0x146B75A50) ---
__int64 __fastcall sub_146B75A50(unsigned __int64 a1, __m256 *a2, int a3, char n2)
{
  int v7; // ebp
  __m256 v9; // [rsp+30h] [rbp-48h] BYREF

  v7 = a1;
  sub_146B52280(a1, (__int64)&v9, 0, dword_149B4FDFC, 0, n2);
  v9 = *a2;
  __asm { vzeroupper }
  return sub_146B86030(v7, (unsigned int)&v9, 0, a3 | 4u, n2, 0);
}

// --- End Function: sub_146B75A50 (0x146B75A50) ---

// --- Function: sub_146B75AE0 (0x146B75AE0) ---
double __fastcall sub_146B75AE0(unsigned __int64 a1, double *a2, int a3, char n2)
{
  __int128 v8; // xmm0
  double v9; // xmm1_8
  __int64 v10; // rax
  __int64 v11; // rbx
  int v12; // eax
  __int128 v14; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v15; // [rsp+40h] [rbp-C0h]
  _DWORD v16[2]; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v17; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v18; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v19; // [rsp+68h] [rbp-98h]
  __int64 v20; // [rsp+70h] [rbp-90h]
  __int64 v21; // [rsp+78h] [rbp-88h]
  __m256 v22; // [rsp+A0h] [rbp-60h] BYREF
  __int128 v23; // [rsp+C0h] [rbp-40h]
  __int128 v24; // [rsp+D0h] [rbp-30h]
  __m256 v25; // [rsp+E0h] [rbp-20h] BYREF
  __int128 v26; // [rsp+100h] [rbp+0h]
  __int128 v27; // [rsp+110h] [rbp+10h]

  sub_146B52280(a1, (__int64)&v22, 2, 0xFFFFFFFF, 0, n2);
  v8 = *(_OWORD *)a2;
  v9 = a2[2];
  v16[0] = 0xF00;
  v23 = v8;
  *(double *)&v24 = v9;
  v17 = 0;
  v19 = 0;
  v20 = 0;
  v21 = 0;
  v18 = __rdtsc();
  v16[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v16,
    &word_1515B1BB8,
    "CEntity::UpdateTransform",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x966);
  v27 = v24;
  v25 = v22;
  v14 = 0;
  HIWORD(v16[0]) = word_1515B1BB8;
  v15 = 0;
  v10 = *(_QWORD *)qword_149B4FBE8;
  v26 = v23;
  __asm { vzeroupper }
  v11 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, _QWORD))(v10 + 0x180))(
          qword_149B4FBE8,
          0x7832,
          &v14,
          0);
  v12 = sub_146B86300(a1, (unsigned int)&v25, a3 | 2u, v11, n2);
  sub_146B5A040(a1, v12, v11);
  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
    qword_149B4FBE8,
    0x7832,
    v11);
  if ( (_QWORD)v14 )
  {
    sub_1403A3120((__int64)&v14, (const void *)v14, (v15 - v14) & 0xFFFFFFFFFFFFFFE0uLL);
    v14 = 0;
    v15 = 0;
  }
  v19 = __rdtsc();
  return qword_149B4B878(v16);
}

// --- End Function: sub_146B75AE0 (0x146B75AE0) ---

// --- Function: sub_146B75CA0 (0x146B75CA0) ---
__int64 __fastcall sub_146B75CA0(unsigned __int64 a1, __m256 *a2, int a3, char n2)
{
  int v7; // ebp
  __m256 v9; // [rsp+30h] [rbp-48h] BYREF

  v7 = a1;
  sub_146B52280(a1, (__int64)&v9, 2, 0xFFFFFFFF, 0, n2);
  v9 = *a2;
  __asm { vzeroupper }
  return sub_146B86030(v7, (unsigned int)&v9, 2, a3 | 4u, n2, 0);
}

// --- End Function: sub_146B75CA0 (0x146B75CA0) ---

// --- Function: sub_146B760A0 (0x146B760A0) ---
bool __fastcall sub_146B760A0(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x130);
  return v2 && sub_14030EC00(v2) && *(_DWORD *)(*(_QWORD *)(a1 + 0x130) + 0x10LL) == 5;
}

// --- End Function: sub_146B760A0 (0x146B760A0) ---

// --- Function: sub_146B77DE0 (0x146B77DE0) ---
char __fastcall sub_146B77DE0(__int64 a1, unsigned __int64 a2, unsigned __int8 a3)
{
  __int64 v5; // rax
  unsigned __int64 v7; // [rsp+38h] [rbp+10h] BYREF

  v7 = a2;
  if ( sub_14030EC00(&v7) && (v5 = sub_146B4E3D0(a1)) != 0 )
    return sub_146AF0350(v5, v7, a3);
  else
    return 0;
}

// --- End Function: sub_146B77DE0 (0x146B77DE0) ---

// --- Function: sub_146B77F90 (0x146B77F90) ---
__int64 __fastcall sub_146B77F90(__int64 a1)
{
  __int64 result; // rax

  result = sub_146B4E3D0(a1);
  if ( result )
    return sub_146B06670(result);
  return result;
}

// --- End Function: sub_146B77F90 (0x146B77F90) ---

// --- Function: sub_146B79390 (0x146B79390) ---
char __fastcall sub_146B79390(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v4; // rax
  __int64 v5; // rbx
  __int16 n2; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_23;
  if ( n0xFFFF_23 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v9,
                          "IEntityComponentNetwork");
    n0xFFFF_23 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  v4 = v2(a1, &v10, &v8);
  v5 = *(_QWORD *)v4;
  v8 = v5;
  if ( v5 )
  {
    v4 = sub_1403B4B50(v5 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(v4 + 4);
    if ( n2 != 4 && *(_WORD *)(v4 + 2) == (HIWORD(v5) & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)NtCurrentTeb_w() || (LOBYTE(v4) = sub_140391F30(&v8), (_BYTE)v4) )
        LOBYTE(v4) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x610LL))(v5 & 0xFFFFFFFFFFFFLL);
    }
  }
  return v4;
}

// --- End Function: sub_146B79390 (0x146B79390) ---

// --- Function: sub_146B79470 (0x146B79470) ---
char __fastcall sub_146B79470(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v4; // rax
  __int64 v5; // rbx
  __int16 n2; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_23;
  if ( n0xFFFF_23 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v9,
                          "IEntityComponentNetwork");
    n0xFFFF_23 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  v4 = v2(a1, &v10, &v8);
  v5 = *(_QWORD *)v4;
  v8 = v5;
  if ( v5 )
  {
    v4 = sub_1403B4B50(v5 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(v4 + 4);
    if ( n2 != 4 && *(_WORD *)(v4 + 2) == (HIWORD(v5) & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)NtCurrentTeb_w() || (LOBYTE(v4) = sub_140391F30(&v8), (_BYTE)v4) )
        LOBYTE(v4) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x618LL))(v5 & 0xFFFFFFFFFFFFLL);
    }
  }
  return v4;
}

// --- End Function: sub_146B79470 (0x146B79470) ---

// --- Function: sub_146B79850 (0x146B79850) ---
char __fastcall sub_146B79850(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v4; // rax
  __int64 v5; // rbx
  __int16 n2; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x340LL);
  n0xFFFF = n0xFFFF_24;
  if ( n0xFFFF_24 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88 + 0x10LL))(
                          qword_149B4FC88,
                          &v9,
                          "IEntityPhysicalProxy");
    n0xFFFF_24 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  v4 = v2(a1, &v10, &v8);
  v5 = *(_QWORD *)v4;
  v8 = v5;
  if ( v5 )
  {
    v4 = sub_1403B4B50(v5 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(v4 + 4);
    if ( n2 != 4 && *(_WORD *)(v4 + 2) == (HIWORD(v5) & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)NtCurrentTeb_w() || (LOBYTE(v4) = sub_140391F30(&v8), (_BYTE)v4) )
        LOBYTE(v4) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x6F8LL))(v5 & 0xFFFFFFFFFFFFLL);
    }
  }
  return v4;
}

// --- End Function: sub_146B79850 (0x146B79850) ---

// --- Function: sub_146B79930 (0x146B79930) ---
void __fastcall sub_146B79930(__int64 a1, int a2)
{
  __int64 v3; // rax

  if ( a2 > (int)0xFFFFFFFF )
  {
    v3 = sub_146B4E3D0(a1);
    if ( v3 )
      sub_146AF1630(v3, a2, 1, 1u, 1, 1);
  }
}

// --- End Function: sub_146B79930 (0x146B79930) ---

// --- Function: sub_146B7CAF0 (0x146B7CAF0) ---
_UNKNOWN **__fastcall sub_146B7CAF0(__int64 a1)
{
  _UNKNOWN **result; // rax
  __int64 v3; // rsi
  signed __int64 v4; // rdx
  int v5; // ebx
  char *p_p_p_p_p_p_p_p_p_p_p_p_Source; // r8
  unsigned __int64 v7; // rax
  __int64 v8; // rdx
  __int64 v9; // rax
  unsigned __int64 v10; // rbx
  int n2; // eax
  __int64 v12; // r9
  unsigned int v13; // ebp
  __int64 v14; // r8
  unsigned int v15; // r14d
  __int64 v16; // rcx
  __int64 v17; // rcx
  __int64 v18; // rax
  __int128 v19; // xmm1
  double v20; // xmm0_8
  __int64 v21; // rax
  unsigned __int8 v22; // al
  __int64 *v23; // r9
  __int64 v24; // rdx
  char v25; // dl
  unsigned __int64 v26; // rcx
  unsigned __int16 v27; // ax
  unsigned __int64 n0x200000; // rax
  _OWORD v31[2]; // [rsp+30h] [rbp-48h] BYREF
  _UNKNOWN *retaddr; // [rsp+78h] [rbp+0h] BYREF
  __int64 v33; // [rsp+80h] [rbp+8h] BYREF

  result = &retaddr;
  v3 = *(_QWORD *)(a1 + 0x330);
  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++dword_149AC4C0C;
    }
    else
    {
      v4 = _InterlockedIncrement64(&qword_149AC4BF8);
      if ( (v4 & 0x200000) != 0 )
        sub_1403CB300(
          (__int64)&qword_149AC4BF8,
          v4,
          "CEntity::UpdateAggregateRadius_OnEntityAttach",
          "s_aggregateHierarchyLock",
          1);
    }
    v5 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( dword_149AC4BF0 == v5 )
    {
      ++dword_149AC4BF4;
    }
    else
    {
      p_p_p_p_p_p_p_p_p_p_p_p_Source = *(char **)(NtCurrentTeb_w() + 0x20);
      v7 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0x200000, 0);
      if ( v7 )
        sub_1403DCD60(
          (__int64)&qword_149AC4BE0,
          v7,
          (__int64)p_p_p_p_p_p_p_p_p_p_p_p_Source,
          "CEntity::UpdateAggregateRadius_OnEntityAttach",
          "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
          1);
      else
        p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = p_p_p_p_p_p_p_p_p_p_p_p_Source;
      dword_149AC4BF0 = v5;
    }
    v8 = *(_QWORD *)(v3 + 0xC0);
    v33 = *(_QWORD *)(a1 + 0x318);
    v9 = sub_146B4BCC0(&v33, v8);
    v10 = v9;
    if ( v9 )
    {
      n2 = sub_146B5A4B0(v9, a1, *(_QWORD *)(v3 + 0xC0));
      if ( *(_DWORD *)(v3 + 0x4C) == 1 && n2 == 2 )
      {
        v12 = *(_QWORD *)(v10 + 0x330);
        v13 = *(_DWORD *)(v3 + 0x48);
        v14 = v13;
        v15 = v13;
        if ( v13 >= 0x80000000 )
          v14 = v13 + 0x80000000;
        if ( v14 != ((__int64)((unsigned __int128)((__int64)(*(_QWORD *)(v12 + 0x80) - *(_QWORD *)(v12 + 0x78))
                                                 * (__int128)0x2AAAAAAAAAAAAAABLL) >> 0x40) >> 2)
                  + ((unsigned __int64)((unsigned __int128)((__int64)(*(_QWORD *)(v12 + 0x80) - *(_QWORD *)(v12 + 0x78))
                                                          * (__int128)0x2AAAAAAAAAAAAAABLL) >> 0x40) >> 0x3F)
                  - 1 )
        {
          v16 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(v12 + 0x80) - 0x18LL) + 0x330LL);
          v15 = *(_DWORD *)(v16 + 0x48);
          *(_DWORD *)(v16 + 0x48) = v13;
          v17 = 3 * v14;
          v18 = *(_QWORD *)(v12 + 0x80);
          v19 = *(_OWORD *)(v18 - 0x18);
          v20 = *(double *)(v18 - 8);
          v21 = *(_QWORD *)(v12 + 0x78);
          *(_OWORD *)(v21 + 8 * v17) = v19;
          *(double *)(v21 + 8 * v17 + 0x10) = v20;
        }
        *(_QWORD *)(v12 + 0x80) -= 0x18LL;
        *(_DWORD *)(v3 + 0x4C) = 0;
        *(_DWORD *)(v3 + 0x48) = 0xFFFFFFFF;
        *(_QWORD *)(v3 + 0x50) = 0;
        v22 = sub_146B76010(a1);
        sub_146B7C2E0(v10, v13, v15, v22);
        v23 = *(__int64 **)(v10 + 0x330);
        v24 = (unsigned __int128)((v23[0xD] - v23[0xC]) * (__int128)0x2AAAAAAAAAAAAAABLL) >> 0x40;
        *(_DWORD *)(v3 + 0x4C) = 2;
        *(_DWORD *)(v3 + 0x48) = ((unsigned __int64)v24 >> 0x3F) + (v24 >> 2);
        if ( qword_1515B1B10 > v10 || v10 >= qword_1515B1B18 + qword_1515B1B10 )
        {
          v25 = 0;
          v26 = v10 - 6;
        }
        else
        {
          v25 = 1;
          v26 = v10 & 0xFFFFFFFFFF000000uLL;
        }
        v27 = *(_WORD *)(v26 + 2) | 0x2000;
        *(_QWORD *)&v31[0] = a1;
        _XMM1 = 0;
        if ( !v25 )
          v27 = *(_WORD *)(v26 + 2);
        *(_QWORD *)(v3 + 0x50) = v10 | ((unsigned __int64)v27 << 0x30);
        _RDX = (_BYTE *)v23[0xD];
        __asm { vmovupd xmmword ptr [rsp+78h+var_48+8], xmm1 }
        if ( _RDX == (_BYTE *)v23[0xE] )
        {
          sub_1402A7670(v23 + 0xC, _RDX, (__int64)v31);
        }
        else
        {
          *(_OWORD *)_RDX = v31[0];
          __asm { vmovhpd qword ptr [rdx+10h], xmm1 }
          v23[0xD] += 0x18;
        }
        sub_146B7BED0(v10, a1);
      }
    }
    if ( dword_149AC4BF4 )
    {
      --dword_149AC4BF4;
    }
    else
    {
      dword_149AC4BF0 = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(&qword_149AC4BE0, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = (char *)&p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380((__int64)&qword_149AC4BE0, n0x200000);
    }
    return (_UNKNOWN **)sub_1402D2790((__int64)&qword_149AC4BF8);
  }
  return result;
}

// --- End Function: sub_146B7CAF0 (0x146B7CAF0) ---

// --- Function: sub_146B7D1B0 (0x146B7D1B0) ---
// local variable allocation has failed, the output may be wrong!
double __fastcall sub_146B7D1B0(__int64 a1, double a2)
{
  __int128 v2; // xmm6
  bool v3; // cf
  __int64 v5; // rbx
  float v6; // xmm6_4
  signed __int64 v7; // rdx
  signed __int64 v8; // rdx
  __int64 v9; // rdx
  int v10; // esi
  unsigned __int32 v11; // eax
  __int128 v12; // kr00_16
  int v15; // eax
  unsigned __int32 v16; // eax
  double result; // xmm0_8
  int n0xF00; // [rsp+30h] [rbp-68h] BYREF
  __int64 v19; // [rsp+34h] [rbp-64h]
  int v20; // [rsp+3Ch] [rbp-5Ch]
  unsigned __int64 v21; // [rsp+40h] [rbp-58h]
  unsigned __int64 v22; // [rsp+48h] [rbp-50h]
  __int64 v23; // [rsp+50h] [rbp-48h]
  __int64 v24; // [rsp+58h] [rbp-40h]
  __int128 v25; // [rsp+80h] [rbp-18h]

  v3 = *(_BYTE *)(a1 + 0xD) < 5u;
  v5 = *(_QWORD *)(a1 + 0x330);
  v25 = v2;
  v6 = *(float *)&a2;
  if ( v3 )
  {
    n0xF00 = 0xF00;
    v20 = 0;
    v22 = 0;
    v23 = 0;
    v24 = 0;
    v19 = 1;
    v21 = __rdtsc();
    qword_149B4B870(
      &n0xF00,
      &word_1515B1BFC,
      "CEntity::UpdateAggregateRadius_OnEntityCompleteRadiusChanged",
      "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity_AggregateRadius.cpp",
      0x1C8);
    HIWORD(n0xF00) = word_1515B1BFC;
    if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++dword_149AC4C0C;
    }
    else
    {
      v7 = _InterlockedIncrement64(&qword_149AC4BF8);
      if ( (v7 & 0x200000) != 0 )
        sub_1403CB300(
          (__int64)&qword_149AC4BF8,
          v7,
          "CEntity::UpdateAggregateRadius_OnEntityCompleteRadiusChanged",
          "s_aggregateHierarchyLock",
          1);
    }
    if ( dword_149AC4BF0 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++dword_149AC4BF4;
    }
    else
    {
      v8 = _InterlockedIncrement64(&qword_149AC4BE0);
      if ( (v8 & 0x200000) != 0 )
        sub_1403CB300(
          (__int64)&qword_149AC4BE0,
          v8,
          "CEntity::UpdateAggregateRadius_OnEntityCompleteRadiusChanged",
          "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
          1);
    }
    v10 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( *(_DWORD *)(v5 + 0x10) == v10 )
    {
      ++*(_DWORD *)(v5 + 0x14);
    }
    else
    {
      v11 = _InterlockedCompareExchange((volatile signed __int32 *)v5, 1, 0);
      if ( v11 )
        sub_1403C33A0(v5, v11, "CEntity::UpdateAggregateRadius_OnEntityCompleteRadiusChanged", 1);
      else
        *(_QWORD *)(v5 + 8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
      *(_DWORD *)(v5 + 0x10) = v10;
    }
    *((double *)&v12 + 1) = *(&a2 + 1);
    *(double *)&v12 = *(float *)&a2 * *(double *)(v5 + 0xA0);
    _XMM1 = v12;
    __asm { vminsd  xmm1, xmm1, cs:qword_1481B6B30 }
    *(float *)(v5 + 0x98) = v6;
    if ( (unsigned __int8)sub_146B7BC70(a1, v9, 0xFFFFFFFELL) )
      sub_146B5FDF0(a1);
    v15 = *(_DWORD *)(v5 + 0x14);
    if ( v15 )
    {
      *(_DWORD *)(v5 + 0x14) = v15 - 1;
    }
    else
    {
      *(_DWORD *)(v5 + 0x10) = 0xFFFFFFFF;
      v16 = _InterlockedCompareExchange((volatile signed __int32 *)v5, 0, 1);
      if ( v16 == 1 )
        *(_QWORD *)(v5 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DB1F0(v5, v16);
    }
    sub_1402D2790((__int64)&qword_149AC4BE0);
    sub_1402D2790((__int64)&qword_149AC4BF8);
    v22 = __rdtsc();
    return qword_149B4B878(&n0xF00);
  }
  return result;
}

// --- End Function: sub_146B7D1B0 (0x146B7D1B0) ---

// --- Function: sub_146B7DE00 (0x146B7DE00) ---
double __fastcall sub_146B7DE00(__int64 a1, float a2)
{
  __int128 v2; // xmm6
  bool v3; // cf
  __int64 v5; // rbx
  signed __int64 v6; // rdx
  signed __int64 v7; // rdx
  __int64 v8; // rdx
  int v9; // esi
  unsigned __int32 v10; // eax
  int v11; // eax
  unsigned __int32 v12; // eax
  double result; // xmm0_8
  int n0xF00; // [rsp+30h] [rbp-68h] BYREF
  __int64 v15; // [rsp+34h] [rbp-64h]
  int v16; // [rsp+3Ch] [rbp-5Ch]
  unsigned __int64 v17; // [rsp+40h] [rbp-58h]
  unsigned __int64 v18; // [rsp+48h] [rbp-50h]
  __int64 v19; // [rsp+50h] [rbp-48h]
  __int64 v20; // [rsp+58h] [rbp-40h]
  __int128 v21; // [rsp+80h] [rbp-18h]

  v3 = *(_BYTE *)(a1 + 0xD) < 5u;
  v5 = *(_QWORD *)(a1 + 0x330);
  v21 = v2;
  if ( v3 )
  {
    n0xF00 = 0xF00;
    v16 = 0;
    v18 = 0;
    v19 = 0;
    v20 = 0;
    v15 = 1;
    v17 = __rdtsc();
    qword_149B4B870(
      &n0xF00,
      &word_1515B1BF8,
      "CEntity::UpdateAggregateRadius_OnEntityRenderingRadiusChanged",
      "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity_AggregateRadius.cpp",
      0x1AD);
    HIWORD(n0xF00) = word_1515B1BF8;
    if ( dword_149AC4C08 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++dword_149AC4C0C;
    }
    else
    {
      v6 = _InterlockedIncrement64(&qword_149AC4BF8);
      if ( (v6 & 0x200000) != 0 )
        sub_1403CB300(
          (__int64)&qword_149AC4BF8,
          v6,
          "CEntity::UpdateAggregateRadius_OnEntityRenderingRadiusChanged",
          "s_aggregateHierarchyLock",
          1);
    }
    if ( dword_149AC4BF0 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
    {
      ++dword_149AC4BF4;
    }
    else
    {
      v7 = _InterlockedIncrement64(&qword_149AC4BE0);
      if ( (v7 & 0x200000) != 0 )
        sub_1403CB300(
          (__int64)&qword_149AC4BE0,
          v7,
          "CEntity::UpdateAggregateRadius_OnEntityRenderingRadiusChanged",
          "CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
          1);
    }
    v9 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( *(_DWORD *)(v5 + 0x10) == v9 )
    {
      ++*(_DWORD *)(v5 + 0x14);
    }
    else
    {
      v10 = _InterlockedCompareExchange((volatile signed __int32 *)v5, 1, 0);
      if ( v10 )
        sub_1403C33A0(v5, v10, "CEntity::UpdateAggregateRadius_OnEntityRenderingRadiusChanged", 1);
      else
        *(_QWORD *)(v5 + 8) = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
      *(_DWORD *)(v5 + 0x10) = v9;
    }
    *(float *)(v5 + 0x9C) = a2;
    if ( (unsigned __int8)sub_146B7BDA0(a1, v8, 0xFFFFFFFELL) )
      sub_146B60DD0(a1);
    v11 = *(_DWORD *)(v5 + 0x14);
    if ( v11 )
    {
      *(_DWORD *)(v5 + 0x14) = v11 - 1;
    }
    else
    {
      *(_DWORD *)(v5 + 0x10) = 0xFFFFFFFF;
      v12 = _InterlockedCompareExchange((volatile signed __int32 *)v5, 0, 1);
      if ( v12 == 1 )
        *(_QWORD *)(v5 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DB1F0(v5, v12);
    }
    sub_1402D2790((__int64)&qword_149AC4BE0);
    sub_1402D2790((__int64)&qword_149AC4BF8);
    v18 = __rdtsc();
    return qword_149B4B878(&n0xF00);
  }
  return result;
}

// --- End Function: sub_146B7DE00 (0x146B7DE00) ---

// --- Function: sub_146B82890 (0x146B82890) ---
__int64 __fastcall sub_146B82890(__int64 a1, __int64 a2)
{
  __int64 result; // rax
  __int64 v3; // rcx
  __int64 *v4; // [rsp+30h] [rbp+8h] BYREF

  result = *(_QWORD *)(a1 + 0x130);
  if ( result )
  {
    if ( *(_DWORD *)(result + 0x10) == 5 )
    {
      v3 = *(char *)(a2 + 0x120);
      v4 = (__int64 *)(result + 0x18);
      return sub_143E087A0(v3 + 1, &v4, a2);
    }
  }
  return result;
}

// --- End Function: sub_146B82890 (0x146B82890) ---

// --- Function: sub_146B828D0 (0x146B828D0) ---
double __fastcall sub_146B828D0(__int64 a1, unsigned __int64 a2, unsigned __int8 n2, char a4, __int64 a5)
{
  volatile signed __int32 *v5; // rdi
  char n3; // si
  bool v9; // cf
  __int64 v10; // rax
  volatile signed __int32 *v11; // rdx
  __int64 v12; // rbx
  volatile signed __int32 *v13; // r12
  __int64 v14; // r9
  signed __int32 v15; // eax
  signed __int32 v16; // ett
  __int64 v17; // rax
  volatile signed __int32 *v18; // rbx
  __int64 v19; // r13
  volatile signed __int32 *v20; // rdx
  __int64 v21; // r9
  signed __int32 v22; // eax
  signed __int32 v23; // ett
  char v24; // r12
  __int64 v25; // rsi
  unsigned __int64 *v26; // rcx
  unsigned __int8 v28; // di
  unsigned __int8 v29; // bl
  __int128 v30; // xmm1
  __int64 v32[2]; // [rsp+38h] [rbp-D0h] BYREF
  __int64 v33; // [rsp+48h] [rbp-C0h]
  _DWORD v34[2]; // [rsp+58h] [rbp-B0h] BYREF
  __int64 v35; // [rsp+60h] [rbp-A8h]
  unsigned __int64 v36; // [rsp+68h] [rbp-A0h]
  unsigned __int64 v37; // [rsp+70h] [rbp-98h]
  __int64 v38; // [rsp+78h] [rbp-90h]
  __int64 v39; // [rsp+80h] [rbp-88h]
  __int128 v40; // [rsp+A8h] [rbp-60h] BYREF
  __m256 v41; // [rsp+B8h] [rbp-50h] BYREF
  __int128 v42; // [rsp+D8h] [rbp-30h]
  __int64 v43[14]; // [rsp+E8h] [rbp-20h] BYREF
  volatile signed __int32 *v44; // [rsp+168h] [rbp+60h]

  v5 = 0;
  n3 = 0;
  LODWORD(v44) = 0;
  v35 = 0;
  v37 = 0;
  v38 = 0;
  v39 = 0;
  v34[0] = 0x2500;
  v36 = __rdtsc();
  v34[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v34,
    &word_1515B1B94,
    "CEntity::UpdateChild",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x746);
  v9 = *(_BYTE *)(a2 + 0xD) < 4u;
  HIWORD(v34[0]) = word_1515B1B94;
  if ( !v9 )
  {
    v18 = v44;
    v5 = v44;
LABEL_26:
    v24 = 1;
    goto LABEL_27;
  }
  v10 = *(_QWORD *)(a1 + 0x2D0);
  if ( !v10 )
  {
    n3 = 1;
LABEL_24:
    v18 = v44;
    v24 = 0;
    goto LABEL_27;
  }
  v11 = *(volatile signed __int32 **)(v10 + 0x28);
  v12 = 0;
  v13 = 0;
  if ( v11 )
  {
    v14 = *(_QWORD *)(v10 + 0x20);
    _InterlockedIncrement(v11 + 3);
    v15 = *((_DWORD *)v11 + 2);
    if ( v15 )
    {
      while ( 1 )
      {
        v16 = v15;
        v15 = _InterlockedCompareExchange(v11 + 2, v15 + 1, v15);
        if ( v16 == v15 )
          break;
        if ( !v15 )
          goto LABEL_9;
      }
      v12 = v14;
      v13 = v11;
    }
LABEL_9:
    if ( _InterlockedExchangeAdd(v11 + 3, 0xFFFFFFFF) == 1 )
      (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v11 + 8LL))(v11);
  }
  n3 = 1;
  v5 = v13;
  if ( !v12 )
    goto LABEL_24;
  v17 = *(_QWORD *)(a1 + 0x2D0);
  v18 = 0;
  v19 = 0;
  if ( v17 )
  {
    v20 = *(volatile signed __int32 **)(v17 + 0x28);
    if ( v20 )
    {
      v21 = *(_QWORD *)(v17 + 0x20);
      _InterlockedIncrement(v20 + 3);
      v22 = *((_DWORD *)v20 + 2);
      if ( v22 )
      {
        while ( 1 )
        {
          v23 = v22;
          v22 = _InterlockedCompareExchange(v20 + 2, v22 + 1, v22);
          if ( v23 == v22 )
            break;
          if ( !v22 )
            goto LABEL_19;
        }
        v19 = v21;
        v18 = v20;
      }
LABEL_19:
      if ( _InterlockedExchangeAdd(v20 + 3, 0xFFFFFFFF) == 1 )
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v20 + 8LL))(v20);
    }
  }
  n3 = 3;
  if ( (*(int (__fastcall **)(__int64))(*(_QWORD *)v19 + 0x10LL))(v19) >= 0xA )
    goto LABEL_26;
  v24 = 0;
LABEL_27:
  if ( (n3 & 2) != 0 )
  {
    n3 &= ~2u;
    if ( v18 )
    {
      if ( _InterlockedExchangeAdd(v18 + 2, 0xFFFFFFFF) == 1 )
      {
        (**(void (__fastcall ***)(volatile signed __int32 *))v18)(v18);
        if ( _InterlockedExchangeAdd(v18 + 3, 0xFFFFFFFF) == 1 )
          (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v18 + 8LL))(v18);
      }
    }
  }
  if ( (n3 & 1) != 0 )
  {
    if ( v5 )
    {
      if ( _InterlockedExchangeAdd(v5 + 2, 0xFFFFFFFF) == 1 )
      {
        (**(void (__fastcall ***)(volatile signed __int32 *))v5)(v5);
        if ( _InterlockedExchangeAdd(v5 + 3, 0xFFFFFFFF) == 1 )
          (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v5 + 8LL))(v5);
      }
    }
  }
  if ( v24 )
  {
    *(_OWORD *)v32 = 0;
    v33 = 0;
    v25 = (*(__int64 (__fastcall **)(__int64, __int64, __int64 *, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
            qword_149B4FBE8,
            0x7832,
            v32,
            a5);
    if ( (unsigned __int8)sub_146B4F360(a2, (__int64)v43, 0, n2, a4, v25) )
    {
      *(_DWORD *)(a2 + 8) |= 0x20u;
      (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xF0LL))(qword_149B4FBE8);
      sub_146B86300(a2, (double *)v43, 0x2Eu, v25, n2);
      (*(void (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xF8LL))(qword_149B4FBE8);
    }
    else
    {
      v26 = *(unsigned __int64 **)(a2 + 0x130);
      if ( v26 && sub_14030EC00(v26) && *(_DWORD *)(*(_QWORD *)(a2 + 0x130) + 0x10LL) == 5 )
      {
        sub_146B52280(a2, (__int64)&v40, 2, 0xFFFFFFFF, 0, n2);
        if ( (*(_DWORD *)(a2 + 8) & 0x800) != 0 )
        {
          v28 = n2 && n2 != 2;
          v29 = (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) == 0;
          sub_146B26100(a2, v28, v29);
          (*(void (__fastcall **)(__int64, unsigned __int64, __int128 *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8
                                                                                          + 0x3B0LL))(
            qword_149B4FBE8,
            a2 + 0x2A8,
            &v40,
            2,
            v25);
          v30 = v42;
          *(_OWORD *)(a2 + 0xD8) = v40;
          *(__m256 *)(a2 + 0xE8) = v41;
          *(_OWORD *)(a2 + 0x108) = v30;
          __asm { vzeroupper }
          sub_146B6D990(a2, v28, v29);
        }
        sub_146B7DA90(a2, &v41.m256_f32[4]);
      }
    }
    if ( !a5 )
      (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
        qword_149B4FBE8,
        0x7832,
        v25);
    if ( v32[0] )
    {
      sub_1403A3120((__int64)v32, (const void *)v32[0], (v33 - v32[0]) & 0xFFFFFFFFFFFFFFE0uLL);
      *(_OWORD *)v32 = 0;
      v33 = 0;
    }
  }
  v37 = __rdtsc();
  return qword_149B4B878(v34);
}

// --- End Function: sub_146B828D0 (0x146B828D0) ---

// --- Function: sub_146B83A40 (0x146B83A40) ---
double __fastcall sub_146B83A40(__int64 a1, __int64 a2)
{
  __int128 v2; // xmm6
  _QWORD *v4; // rsi
  _QWORD *v6; // rbx
  float i; // xmm6_4
  float v8; // xmm0_4
  __int64 v9; // rcx
  double v10; // xmm0_8
  __int64 v11; // rax
  double v12; // xmm1_8
  double v14[6]; // [rsp+20h] [rbp-58h] BYREF
  __int128 v15; // [rsp+50h] [rbp-28h]

  v15 = v2;
  *(_WORD *)(a1 + 0x124) = 0xFFFF;
  v4 = *(_QWORD **)(a1 + 0x248);
  v6 = *(_QWORD **)(a1 + 0x240);
  for ( i = 0.0; v6 != v4; ++v6 )
  {
    v8 = (*(float (__fastcall **)(__int64))(*(_QWORD *)(*v6 & 0xFFFFFFFFFFFFLL) + 0x38LL))(*v6 & 0xFFFFFFFFFFFFLL);
    if ( v8 > i )
    {
      i = v8;
      *(_WORD *)(a1 + 0x124) = *(_WORD *)((*v6 & 0xFFFFFFFFFFFFLL) + 0x10);
    }
  }
  v9 = *(unsigned __int16 *)(a1 + 0x2EC);
  v10 = i;
  if ( (_WORD)v9 != 0xFFFF )
    *(double *)(*(_QWORD *)(0xC0LL * *(unsigned int *)((*(_QWORD *)(a1 + 0x320) & 0xFFFFFFFFFFFFLL) + 0x2F0)
                          + *(_QWORD *)(qword_1515B1A08 + 0x120)
                          + 8)
              + 0x38 * v9
              + 0x10) = i;
  *(float *)(a1 + 0x120) = i;
  v11 = *(_QWORD *)qword_149B4FBE8;
  if ( COERCE_FLOAT(LODWORD(i) ^ 0x80000000) <= i )
  {
    v12 = COERCE_FLOAT(LODWORD(i) ^ 0x80000000);
  }
  else
  {
    v12 = 1.0e150;
    v10 = -1.0e150;
  }
  v14[0] = v12;
  v14[1] = v12;
  v14[2] = v12;
  v14[3] = v10;
  v14[4] = v10;
  v14[5] = v10;
  (*(void (__fastcall **)(__int64, __int64, double *, __int64))(v11 + 0x378))(qword_149B4FBE8, a1 + 0x2A8, v14, a2);
  return sub_146B7D1B0(a1, COERCE_DOUBLE((unsigned __int64)*(_DWORD *)(a1 + 0x120)));
}

// --- End Function: sub_146B83A40 (0x146B83A40) ---

// --- Function: sub_146B83BB0 (0x146B83BB0) ---
__int64 __fastcall sub_146B83BB0(__int64 a1, float a2)
{
  __int64 v2; // r9
  __int64 n0xFFFF; // rax

  v2 = *(unsigned __int16 *)(a1 + 0x2EC);
  n0xFFFF = 0xFFFF;
  if ( (_WORD)v2 != 0xFFFF )
  {
    n0xFFFF = *(_QWORD *)(0xC0LL * *(unsigned int *)((*(_QWORD *)(a1 + 0x320) & 0xFFFFFFFFFFFFLL) + 0x2F0)
                        + *(_QWORD *)(qword_1515B1A08 + 0x120)
                        + 8);
    *(double *)(n0xFFFF + 0x38 * v2 + 8) = a2;
  }
  return n0xFFFF;
}

// --- End Function: sub_146B83BB0 (0x146B83BB0) ---

// --- Function: sub_146B83C10 (0x146B83C10) ---
double __fastcall sub_146B83C10(__int64 a1, _WORD *a2, __int64 a3, char a4)
{
  double result; // xmm0_8
  __int128 v5; // xmm6
  double v10; // xmm0_8
  bool v11; // cf
  __int64 v12; // rcx
  __int64 v13; // rbx
  __int16 v14; // bx
  __int64 v15; // rax
  _WORD *v16; // rcx
  __int64 v17; // rax
  __int64 v18; // rax
  float v19; // xmm6_4
  float v20; // xmm0_4
  float v21; // xmm0_4
  float v22; // xmm1_4
  __int16 v23; // r9
  __int64 v24; // rcx
  double v25; // xmm1_8
  __int64 v26; // rax
  double v27; // xmm0_8
  double v28[6]; // [rsp+38h] [rbp-59h] BYREF
  _DWORD v29[2]; // [rsp+68h] [rbp-29h] BYREF
  __int64 v30; // [rsp+70h] [rbp-21h]
  unsigned __int64 v31; // [rsp+78h] [rbp-19h]
  unsigned __int64 v32; // [rsp+80h] [rbp-11h]
  __int64 v33; // [rsp+88h] [rbp-9h]
  __int64 v34; // [rsp+90h] [rbp-1h]
  _QWORD v35[3]; // [rsp+B0h] [rbp+1Fh]

  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    v30 = 0;
    v32 = 0;
    v33 = 0;
    v34 = 0;
    v29[0] = 0x1000;
    v31 = __rdtsc();
    v29[1] = *(_DWORD *)(a1 + 0x2D8);
    v10 = qword_149B4B870(
            v29,
            &word_1515B1BE0,
            "CEntity::UpdateEntityRadius_OnComponentChange",
            "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
            0x1659);
    v11 = *(_BYTE *)(a1 + 0xD) < 4u;
    HIWORD(v29[0]) = word_1515B1BE0;
    if ( !v11 )
    {
      v12 = *(unsigned int *)((*(_QWORD *)(a1 + 0x320) & 0xFFFFFFFFFFFFLL) + 0x2F0);
      if ( (_DWORD)v12 != 0xFFFFFFFF && a2[0x31] != 0xFFFF )
      {
        v13 = *(_QWORD *)(0xC0 * v12 + *(_QWORD *)(qword_1515B1A08 + 0x120)) + 0x20LL * (unsigned __int16)a2[0x31];
        *(float *)&v10 = (*(float (__fastcall **)(_WORD *))(*(_QWORD *)a2 + 0x38LL))(a2);
        *(float *)(v13 + 8) = *(float *)&v10;
      }
    }
    if ( !a4 )
      goto LABEL_29;
    v14 = a2[8];
    *(_OWORD *)&v35[1] = v5;
    v15 = sub_146B11580((__int64)a2);
    v16 = a2;
    if ( !v15 )
    {
      v17 = sub_146B11430((__int64)a2);
      if ( v17 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x588LL))(v17);
        goto LABEL_14;
      }
      v18 = sub_146B11510((__int64)a2);
      v16 = a2;
      if ( !v18 )
      {
        if ( !sub_146B114A0((__int64)a2) )
        {
LABEL_19:
          v21 = (*(float (__fastcall **)(_WORD *))(*(_QWORD *)a2 + 0x38LL))(a2);
          v22 = *(float *)(a1 + 0x120);
          v23 = a2[8];
          if ( v21 <= v22 )
          {
            if ( *(_WORD *)(a1 + 0x124) == v23 && v21 < v22 )
              sub_146B83A40(a1, a3);
          }
          else
          {
            v24 = *(unsigned __int16 *)(a1 + 0x2EC);
            v25 = v21;
            if ( (_WORD)v24 != 0xFFFF )
              *(double *)(*(_QWORD *)(0xC0LL * *(unsigned int *)((*(_QWORD *)(a1 + 0x320) & 0xFFFFFFFFFFFFLL) + 0x2F0)
                                    + *(_QWORD *)(qword_1515B1A08 + 0x120)
                                    + 8)
                        + 0x38 * v24
                        + 0x10) = v21;
            *(float *)(a1 + 0x120) = v21;
            *(_WORD *)(a1 + 0x124) = v23;
            v26 = *(_QWORD *)qword_149B4FBE8;
            if ( COERCE_FLOAT(LODWORD(v21) ^ 0x80000000) <= v21 )
            {
              v27 = COERCE_FLOAT(LODWORD(v21) ^ 0x80000000);
            }
            else
            {
              v27 = 1.0e150;
              v25 = -1.0e150;
            }
            v28[0] = v27;
            v28[1] = v27;
            v28[2] = v27;
            v28[3] = v25;
            v28[4] = v25;
            v28[5] = v25;
            (*(void (__fastcall **)(__int64, __int64, double *, _QWORD))(v26 + 0x378))(
              qword_149B4FBE8,
              a1 + 0x2A8,
              v28,
              0);
            sub_146B7D1B0(a1, COERCE_DOUBLE((unsigned __int64)*(_DWORD *)(a1 + 0x120)));
          }
LABEL_29:
          v32 = __rdtsc();
          return qword_149B4B878(v29);
        }
        v16 = a2;
      }
    }
    v10 = (*(double (__fastcall **)(_WORD *))(*(_QWORD *)a2 + 0x38LL))(v16);
LABEL_14:
    v19 = *(float *)&v10;
    v20 = *(float *)(a1 + 0x11C);
    if ( v19 <= v20 )
    {
      if ( *(_WORD *)(a1 + 0x126) == v14 && v19 < v20 )
        sub_146B83F60(a1);
    }
    else
    {
      sub_146B83BB0(a1, v19);
      *(_WORD *)(a1 + 0x126) = v14;
      *(float *)(a1 + 0x11C) = v19;
      sub_146B7DE00(a1, v19);
    }
    goto LABEL_19;
  }
  return result;
}

// --- End Function: sub_146B83C10 (0x146B83C10) ---

// --- Function: sub_146B83F20 (0x146B83F20) ---
void __fastcall sub_146B83F20(__int64 a1, __int64 a2)
{
  __int16 v2; // di

  v2 = *(_WORD *)(a2 + 0x10);
  if ( *(_WORD *)(a1 + 0x124) == v2 )
    sub_146B83A40(a1, 0);
  if ( *(_WORD *)(a1 + 0x126) == v2 )
    sub_146B83F60(a1);
}

// --- End Function: sub_146B83F20 (0x146B83F20) ---

// --- Function: sub_146B83F60 (0x146B83F60) ---
double __fastcall sub_146B83F60(__int64 a1)
{
  float v1; // xmm0_4
  __int128 v2; // xmm6
  _QWORD *v4; // rdi
  _QWORD *v5; // r14
  float v6; // xmm6_4
  __int64 v7; // rsi
  __int64 (__fastcall *v8)(__int64, __int16 *); // rbx
  __int16 n0xFFFF; // ax
  char v10; // al
  __int64 v11; // rbx
  __int64 v12; // rax
  __int64 *v13; // rcx
  unsigned __int8 (__fastcall *v14)(__int64, __int16 *); // rsi
  __int16 n0xFFFF_2; // ax
  __int64 v16; // rbx
  __int64 (__fastcall *v17)(__int64, __int16 *); // rsi
  __int16 n0xFFFF_4; // ax
  char v19; // al
  __int64 v20; // rcx
  _BYTE v22[2]; // [rsp+20h] [rbp-68h] BYREF
  _BYTE v23[14]; // [rsp+22h] [rbp-66h] BYREF
  __int128 v24; // [rsp+30h] [rbp-58h]
  __int16 n0xFFFF_1; // [rsp+90h] [rbp+8h] BYREF
  __int16 n0xFFFF_3; // [rsp+98h] [rbp+10h] BYREF
  __int16 n0xFFFF_5; // [rsp+A0h] [rbp+18h] BYREF
  char v28; // [rsp+A8h] [rbp+20h] BYREF

  v24 = v2;
  *(_WORD *)(a1 + 0x126) = 0xFFFF;
  v4 = *(_QWORD **)(a1 + 0x240);
  v5 = *(_QWORD **)(a1 + 0x248);
  v6 = 0.0;
  if ( v4 != v5 )
  {
    while ( 1 )
    {
      v7 = *v4 & 0xFFFFFFFFFFFFLL;
      v8 = *(__int64 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)v7 + 8LL);
      n0xFFFF = n0xFFFF_37;
      if ( n0xFFFF_37 == (__int16)0xFFFF )
      {
        n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                     + 0x10LL))(
                              qword_149B4FC88,
                              &v28,
                              "RenderProxy");
        n0xFFFF_37 = n0xFFFF;
      }
      n0xFFFF_1 = n0xFFFF;
      v10 = v8(v7, &n0xFFFF_1);
      v11 = *v4 & 0xFFFFFFFFFFFFLL;
      if ( !v10 )
        v7 = 0;
      v12 = *(_QWORD *)v11;
      if ( v7 )
      {
        v13 = (__int64 *)(*v4 & 0xFFFFFFFFFFFFLL);
        goto LABEL_22;
      }
      v14 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(v12 + 8);
      n0xFFFF_2 = n0xFFFF_33;
      if ( n0xFFFF_33 == (__int16)0xFFFF )
      {
        n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                        + 0x10LL))(
                                qword_149B4FC88,
                                v22,
                                "IEntityComponentObjectContainer");
        n0xFFFF_33 = n0xFFFF_2;
      }
      n0xFFFF_3 = n0xFFFF_2;
      if ( !v14(v11, &n0xFFFF_3) )
        v11 = 0;
      if ( v11 )
        break;
      v16 = *v4 & 0xFFFFFFFFFFFFLL;
      v17 = *(__int64 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)v16 + 8LL);
      n0xFFFF_4 = n0xFFFF_49;
      if ( n0xFFFF_49 == (__int16)0xFFFF )
      {
        n0xFFFF_4 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)qword_149B4FC88
                                                                                        + 0x10LL))(
                                qword_149B4FC88,
                                v23,
                                "IEntityComponentUIRenderToTexture");
        n0xFFFF_49 = n0xFFFF_4;
      }
      n0xFFFF_5 = n0xFFFF_4;
      v19 = v17(v16, &n0xFFFF_5);
      v13 = (__int64 *)(*v4 & 0xFFFFFFFFFFFFLL);
      if ( !v19 )
        v16 = 0;
      if ( v16 )
        goto LABEL_21;
      if ( sub_146B114A0((__int64)v13) )
      {
        v13 = (__int64 *)(*v4 & 0xFFFFFFFFFFFFLL);
LABEL_21:
        v12 = *v13;
LABEL_22:
        v1 = (*(float (__fastcall **)(__int64 *))(v12 + 0x38))(v13);
LABEL_23:
        if ( v1 > v6 )
        {
          v6 = v1;
          *(_WORD *)(a1 + 0x126) = *(_WORD *)((*v4 & 0xFFFFFFFFFFFFLL) + 0x10);
          *(float *)(a1 + 0x11C) = v1;
        }
      }
      if ( ++v4 == v5 )
        goto LABEL_26;
    }
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x588LL))(v11);
    goto LABEL_23;
  }
LABEL_26:
  v20 = *(unsigned __int16 *)(a1 + 0x2EC);
  if ( (_WORD)v20 != 0xFFFF )
    *(double *)(*(_QWORD *)(0xC0LL * *(unsigned int *)((*(_QWORD *)(a1 + 0x320) & 0xFFFFFFFFFFFFLL) + 0x2F0)
                          + *(_QWORD *)(qword_1515B1A08 + 0x120)
                          + 8)
              + 0x38 * v20
              + 8) = v6;
  return sub_146B7DE00(a1, v6);
}

// --- End Function: sub_146B83F60 (0x146B83F60) ---

// --- Function: sub_146B84AC0 (0x146B84AC0) ---
unsigned __int64 __fastcall sub_146B84AC0(__int64 a1, int a2, __int64 a3, int n2, int a5, unsigned __int8 a6)
{
  unsigned __int64 result; // rax

  result = sub_146B513B0(a1);
  if ( result )
  {
    result = sub_146B0DDD0(result, a2, a3, n2, a5, a6);
    if ( (_BYTE)result )
    {
      if ( (a5 & 0x2000) == 0 )
        *(_DWORD *)(a1 + 8) |= 0x40u;
    }
  }
  return result;
}

// --- End Function: sub_146B84AC0 (0x146B84AC0) ---

// --- Function: sub_146B86030 (0x146B86030) ---
__int64 __fastcall sub_146B86030(unsigned __int64 a1, __int64 a2, int n2, int a4, char a5, __int64 a6)
{
  __int64 v10; // rax
  __int64 v11; // rax
  __int128 v12; // xmm1
  __int128 v13; // xmm1
  __int64 v14; // rdi
  unsigned int v15; // esi
  __int128 v17; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v18; // [rsp+40h] [rbp-C0h]
  __m256 v19; // [rsp+50h] [rbp-B0h] BYREF
  __int128 v20; // [rsp+70h] [rbp-90h]
  __int128 v21; // [rsp+80h] [rbp-80h]
  _DWORD v22[2]; // [rsp+90h] [rbp-70h] BYREF
  __int64 v23; // [rsp+98h] [rbp-68h]
  unsigned __int64 v24; // [rsp+A0h] [rbp-60h]
  unsigned __int64 v25; // [rsp+A8h] [rbp-58h]
  __int64 v26; // [rsp+B0h] [rbp-50h]
  __int64 v27; // [rsp+B8h] [rbp-48h]
  _BYTE v28[64]; // [rsp+E0h] [rbp-20h] BYREF

  v22[0] = 0xF00;
  v23 = 0;
  v25 = 0;
  v26 = 0;
  v27 = 0;
  v24 = __rdtsc();
  v22[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v22,
    &word_1515B1BB8,
    "CEntity::UpdateTransform",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x966);
  HIWORD(v22[0]) = word_1515B1BB8;
  if ( n2 )
  {
    if ( n2 == 2 )
    {
      v13 = *(_OWORD *)(a2 + 0x30);
      v19 = *(__m256 *)a2;
      v20 = *(_OWORD *)(a2 + 0x20);
      v21 = v13;
    }
    else
    {
      LogFatalError("Unsupported ZoneSpace enum %u", n2);
    }
  }
  else
  {
    v10 = (*(__int64 (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)qword_149B4FBE8 + 0x60LL))(
            qword_149B4FBE8,
            a1 + 0x2A8);
    v11 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)v10 + 0xC8LL))(v10, v28, a2);
    v12 = *(_OWORD *)(v11 + 0x30);
    v19 = *(__m256 *)v11;
    v20 = *(_OWORD *)(v11 + 0x20);
    v21 = v12;
  }
  v17 = 0;
  v18 = 0;
  __asm { vzeroupper }
  v14 = (*(__int64 (__fastcall **)(__int64, __int64, __int128 *, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x180LL))(
          qword_149B4FBE8,
          0x7832,
          &v17,
          a6);
  v15 = sub_146B86300(a1, (unsigned int)&v19, a4, v14, a5);
  sub_146B5A040(a1, v15, v14);
  if ( !a6 )
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x190LL))(
      qword_149B4FBE8,
      0x7832,
      v14);
  if ( (_QWORD)v17 )
  {
    sub_1403A3120((__int64)&v17, (const void *)v17, (v18 - v17) & 0xFFFFFFFFFFFFFFE0uLL);
    v17 = 0;
    v18 = 0;
  }
  v25 = __rdtsc();
  qword_149B4B878(v22);
  return v15;
}

// --- End Function: sub_146B86030 (0x146B86030) ---

// --- Function: sub_146B86300 (0x146B86300) ---
__int64 __fastcall sub_146B86300(unsigned __int64 a1, double *a2, unsigned int a3, __int64 a4, unsigned __int8 n2)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm14
  __int128 v7; // xmm15
  __int64 v8; // r14
  double v12; // xmm14_8
  double v13; // xmm15_8
  double v14; // xmm8_8
  double v15; // xmm9_8
  double v16; // xmm4_8
  double v17; // xmm5_8
  double v22; // xmm7_8
  __int128 v23; // xmm5
  __int128 v24; // kr00_16
  __int128 v25; // xmm8
  __int128 v26; // xmm6
  __int128 v27; // kr00_16
  double v34; // xmm1_8
  double v35; // xmm2_8
  double v36; // xmm3_8
  double v37; // xmm4_8
  __int128 v38; // xmm5
  double v39; // xmm6_8
  double v40; // xmm0_8
  unsigned __int8 v41; // r14
  unsigned __int8 v42; // bl
  __int128 v43; // xmm1
  __int64 *v44; // rcx
  __int64 v45; // rax
  __int16 v46; // dx
  _QWORD *v47; // rbx
  __int64 v48; // rbx
  double v51; // xmm1_8
  double v52; // xmm8_8
  double v53; // xmm7_8
  unsigned __int8 n2_1; // cl
  __int64 v55; // rax
  int n0xA; // ecx
  int v57; // ebx
  unsigned __int64 v58; // rax
  __int64 v59; // rax
  double v60; // xmm13_8
  __int128 v61; // xmm12
  double v62; // xmm9_8
  __int128 v63; // xmm8
  double v64; // xmm11_8
  double v65; // xmm10_8
  __int128 v66; // kr00_16
  double v71; // xmm6_8
  double v72; // xmm5_8
  double v73; // xmm4_8
  __int128 v78; // xmm0
  double v79; // xmm9_8
  double v80; // xmm8_8
  __int128 v81; // kr00_16
  double v82; // xmm12_8
  double v83; // xmm13_8
  double v84; // xmm2_8
  double v85; // xmm10_8
  double v86; // xmm11_8
  double v99; // xmm2_8
  double v100; // xmm1_8
  double v105; // xmm6_8
  double v106; // xmm5_8
  double v107; // xmm4_8
  double *v110; // rax
  double v111; // xmm14_8
  double v112; // xmm15_8
  double v113; // xmm9_8
  double v114; // xmm8_8
  double v115; // xmm11_8
  double v116; // kr00_8
  double v117; // xmm7_8
  double v118; // xmm5_8
  double v119; // xmm6_8
  double v121; // kr00_8
  double v122; // xmm5_8
  double v123; // xmm7_8
  double v124; // xmm9_8
  double v125; // xmm2_8
  double v126; // xmm0_8
  double v127; // xmm1_8
  __int64 v128; // rax
  double v129; // xmm12_8
  double v130; // xmm13_8
  double v131; // xmm14_8
  double v132; // xmm3_8
  double v133; // xmm0_8
  double v134; // xmm1_8
  double v135; // xmm2_8
  double v136; // xmm0_8
  double v137; // xmm2_8
  __int64 v138; // rax
  __int64 v139; // r14
  __int64 v140; // rax
  __int64 v141; // rdx
  __int64 v142; // rbx
  __int64 v143; // rax
  float *v144; // rax
  __int64 v145; // rdx
  __int16 v146; // r8
  double v147; // xmm6_8
  double v148; // xmm14_8
  double v149; // xmm15_8
  double v150; // xmm10_8
  double v151; // xmm7_8
  double v152; // xmm8_8
  double v153; // xmm4_8
  double v154; // kr00_8
  float *v155; // rax
  double v156; // xmm8_8
  double v157; // xmm12_8
  double v158; // xmm9_8
  double v159; // xmm11_8
  double v160; // xmm13_8
  double v161; // xmm7_8
  double v162; // xmm5_8
  double v163; // xmm4_8
  double v164; // xmm6_8
  double v165; // xmm2_8
  double v166; // xmm0_8
  double v167; // xmm7_8
  double v168; // xmm5_8
  double v169; // xmm0_8
  double v170; // xmm10_8
  double v171; // kr00_8
  double v172; // xmm6_8
  double v173; // xmm5_8
  double v174; // xmm4_8
  double *v177; // rax
  double v178; // xmm14_8
  double v179; // xmm15_8
  double v180; // xmm9_8
  double v181; // xmm8_8
  double v182; // xmm11_8
  double v183; // xmm5_8
  double v184; // xmm7_8
  double v185; // xmm5_8
  double v186; // xmm6_8
  double v187; // kr00_8
  double v188; // xmm9_8
  double v189; // xmm2_8
  double v190; // xmm0_8
  double v191; // xmm1_8
  double v192; // xmm12_8
  double v193; // xmm13_8
  double v194; // kr00_8
  double v195; // xmm2_8
  double v196; // xmm0_8
  double v197; // xmm2_8
  __int64 v199; // rbx
  float *v200; // rax
  double v201; // xmm11_8
  double v202; // xmm13_8
  double v203; // xmm12_8
  double v204; // xmm6_8
  double v205; // xmm5_8
  double v206; // xmm4_8
  double v207; // xmm8_8
  double v208; // xmm9_8
  double v209; // xmm4_8
  double v210; // xmm10_8
  double v211; // xmm6_8
  double v212; // xmm7_8
  double v213; // kr00_8
  double *v216; // rax
  double v217; // xmm14_8
  double v218; // xmm15_8
  double v219; // xmm9_8
  double v220; // xmm8_8
  double v221; // xmm11_8
  double v222; // xmm5_8
  double v223; // xmm7_8
  double v224; // xmm5_8
  double v225; // xmm6_8
  double v227; // kr00_8
  double v228; // xmm5_8
  double v229; // xmm7_8
  double v230; // xmm2_8
  double v231; // xmm12_8
  double v232; // xmm13_8
  double v233; // xmm14_8
  double v234; // xmm15_8
  __int64 v235; // rax
  double v236; // kr00_8
  double v237; // xmm0_8
  double v238; // xmm1_8
  __int64 v240; // rax
  __int64 v241; // r8
  double v243; // [rsp+30h] [rbp-308h]
  double v244; // [rsp+30h] [rbp-308h]
  double v246; // [rsp+38h] [rbp-300h]
  double v247; // [rsp+38h] [rbp-300h]
  double v248; // [rsp+38h] [rbp-300h]
  double v249; // [rsp+38h] [rbp-300h]
  double v250; // [rsp+40h] [rbp-2F8h]
  double v251; // [rsp+48h] [rbp-2F0h]
  double v252; // [rsp+48h] [rbp-2F0h]
  double v253; // [rsp+48h] [rbp-2F0h]
  double v254; // [rsp+50h] [rbp-2E8h]
  double v255; // [rsp+50h] [rbp-2E8h]
  double v256; // [rsp+50h] [rbp-2E8h]
  double v257; // [rsp+58h] [rbp-2E0h]
  double v258; // [rsp+58h] [rbp-2E0h]
  double v259; // [rsp+60h] [rbp-2D8h]
  double v260; // [rsp+60h] [rbp-2D8h]
  double v261; // [rsp+68h] [rbp-2D0h]
  double v262; // [rsp+68h] [rbp-2D0h]
  __int128 v263; // [rsp+70h] [rbp-2C8h] BYREF
  __m256 v264; // [rsp+80h] [rbp-2B8h] BYREF
  __int128 v265; // [rsp+A0h] [rbp-298h]
  double v266; // [rsp+B0h] [rbp-288h]
  double v267; // [rsp+B8h] [rbp-280h]
  double v268; // [rsp+C0h] [rbp-278h]
  double v269; // [rsp+C8h] [rbp-270h]
  double v270; // [rsp+D0h] [rbp-268h] BYREF
  double v271; // [rsp+D8h] [rbp-260h]
  double v272; // [rsp+E0h] [rbp-258h]
  double v273; // [rsp+E8h] [rbp-250h]
  double v274; // [rsp+F0h] [rbp-248h]
  double v275; // [rsp+F8h] [rbp-240h]
  double v276; // [rsp+100h] [rbp-238h]
  double v277; // [rsp+108h] [rbp-230h]
  double v278; // [rsp+110h] [rbp-228h]
  __int128 v279; // [rsp+118h] [rbp-220h] BYREF
  double v280; // [rsp+128h] [rbp-210h]
  double v281; // [rsp+130h] [rbp-208h]
  __m256 v282; // [rsp+138h] [rbp-200h]
  _DWORD v283[2]; // [rsp+160h] [rbp-1D8h] BYREF
  __int64 v284; // [rsp+168h] [rbp-1D0h]
  unsigned __int64 v285; // [rsp+170h] [rbp-1C8h]
  unsigned __int64 v286; // [rsp+178h] [rbp-1C0h]
  __int64 v287; // [rsp+180h] [rbp-1B8h]
  __int64 v288; // [rsp+188h] [rbp-1B0h]
  double v289[6]; // [rsp+1B0h] [rbp-188h] BYREF
  double v290; // [rsp+1E0h] [rbp-158h]
  double v291[4]; // [rsp+1F0h] [rbp-148h] BYREF
  __int128 v292; // [rsp+210h] [rbp-128h]
  double v293; // [rsp+220h] [rbp-118h]
  int v294[4]; // [rsp+228h] [rbp-110h] BYREF
  float v295; // [rsp+238h] [rbp-100h]
  float v296; // [rsp+23Ch] [rbp-FCh]
  __int64 v297; // [rsp+240h] [rbp-F8h]
  __int64 v298; // [rsp+248h] [rbp-F0h]
  float v299[4]; // [rsp+250h] [rbp-E8h]
  __int128 v300; // [rsp+270h] [rbp-C8h]
  __int128 v301; // [rsp+280h] [rbp-B8h]
  __int128 v302; // [rsp+300h] [rbp-38h]

  v302 = v5;
  v301 = v6;
  v300 = v7;
  v283[0] = 0xF00;
  v8 = a4;
  v284 = 0;
  v286 = 0;
  v287 = 0;
  v288 = 0;
  v285 = __rdtsc();
  v283[1] = *(_DWORD *)(a1 + 0x2D8);
  qword_149B4B870(
    v283,
    &word_1515B1BBC,
    "CEntity::UpdateZoneTransform",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity.cpp",
    0x989);
  HIWORD(v283[0]) = word_1515B1BBC;
  if ( (a3 & 0x1000) == 0 )
  {
    if ( (a3 & 2) != 0
      && fabs(*(double *)(a1 + 0x48) - a2[4]) <= 0.00001
      && fabs(*(double *)(a1 + 0x50) - a2[5]) <= 0.00001
      && fabs(*(double *)(a1 + 0x58) - a2[6]) <= 0.00001 )
    {
      a3 &= ~2u;
    }
    if ( (a3 & 4) != 0
      && fabs(*(double *)(a1 + 0x28) - *a2) <= 0.00001
      && fabs(*(double *)(a1 + 0x30) - a2[1]) <= 0.00001
      && fabs(*(double *)(a1 + 0x38) - a2[2]) <= 0.00001
      && fabs(*(double *)(a1 + 0x40) - a2[3]) <= 0.00001 )
    {
      a3 &= ~4u;
    }
    if ( (a3 & 8) != 0 && fabs(*(double *)(a1 + 0x60) - a2[7]) <= 0.00001 )
      a3 &= ~8u;
  }
  *(_QWORD *)(a1 + 0x68) = *(_QWORD *)(a1 + 0x28);
  *(_QWORD *)(a1 + 0x70) = *(_QWORD *)(a1 + 0x30);
  *(_QWORD *)(a1 + 0x78) = *(_QWORD *)(a1 + 0x38);
  *(_QWORD *)(a1 + 0x80) = *(_QWORD *)(a1 + 0x40);
  *(_OWORD *)(a1 + 0x88) = *(_OWORD *)(a1 + 0x48);
  *(double *)(a1 + 0x98) = *(double *)(a1 + 0x58);
  *(_QWORD *)(a1 + 0xA0) = *(_QWORD *)(a1 + 0x60);
  if ( (a3 & 2) != 0 )
  {
    *(_OWORD *)(a1 + 0x48) = *((_OWORD *)a2 + 2);
    *(double *)(a1 + 0x58) = a2[6];
  }
  v12 = 1.0;
  v13 = 0.0;
  if ( (a3 & 4) != 0 )
  {
    v14 = a2[1];
    v15 = a2[2];
    v16 = a2[3];
    v17 = *a2;
    _XMM1 = COERCE_UNSIGNED_INT64(v15 * v15 + v14 * v14 + v16 * v16 + v17 * v17);
    if ( v15 * v15 + v14 * v14 + v16 * v16 + v17 * v17 <= 0.00000000999999993922529 )
    {
      v26 = 0x3FF0000000000000uLL;
      v22 = 0.0;
      v23 = 0;
      v25 = 0;
    }
    else
    {
      __asm
      {
        vmovddup xmm0, xmm1
        vsqrtpd xmm1, xmm0
        vunpckhpd xmm1, xmm1, xmm1
      }
      v22 = 1.0 / *(double *)&_XMM1 * v17;
      *((_QWORD *)&v24 + 1) = 0;
      *(double *)&v24 = 1.0 / *(double *)&_XMM1 * v14;
      v23 = v24;
      *((_QWORD *)&v24 + 1) = 0;
      *(double *)&v24 = 1.0 / *(double *)&_XMM1 * v15;
      v25 = v24;
      *((_QWORD *)&v24 + 1) = 0;
      *(double *)&v24 = 1.0 / *(double *)&_XMM1 * v16;
      v26 = v24;
    }
    *(double *)(a1 + 0x30) = *(double *)&v23;
    *(double *)(a1 + 0x40) = *(double *)&v26;
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v23 + 1);
    *(double *)&v27 = *(double *)&v23 * v22
                    - *(double *)&v25 * *(double *)&v26
                    + *(double *)&v23 * v22
                    - *(double *)&v25 * *(double *)&v26;
    _XMM0 = v27;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v26 + 1);
    *(double *)(a1 + 0x28) = v22;
    *(double *)(a1 + 0x38) = *(double *)&v25;
    *(float *)(a1 + 0xA8) = *(float *)&_XMM1;
    *(double *)&v27 = *(double *)&v26 * *(double *)&v26
                    + *(double *)&v26 * *(double *)&v26
                    + *(double *)&v23 * *(double *)&v23
                    + *(double *)&v23 * *(double *)&v23
                    - 1.0;
    _XMM2 = v27;
    __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v25 + 1);
    *(double *)&v27 = *(double *)&v25 * *(double *)&v23
                    + *(double *)&v25 * *(double *)&v23
                    + v22 * *(double *)&v26
                    + v22 * *(double *)&v26;
    _XMM1 = v27;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(float *)(a1 + 0xAC) = *(float *)&_XMM3;
    *(float *)(a1 + 0xB0) = *(float *)&_XMM2;
  }
  if ( (a3 & 8) != 0 )
    *(double *)(a1 + 0x60) = a2[7];
  v34 = *(double *)(a1 + 0x40);
  v35 = *(double *)(a1 + 0x28);
  v36 = *(double *)(a1 + 0x30);
  v37 = *(double *)(a1 + 0x38);
  v38 = *(_OWORD *)(a1 + 0x48);
  v39 = *(double *)(a1 + 0x58);
  v40 = *(double *)(a1 + 0x60);
  *(double *)&v264.m256_f32[2] = v34;
  *(double *)&v263 = v35;
  *((double *)&v263 + 1) = v36;
  *(double *)v264.m256_f32 = v37;
  *((double *)&v265 + 1) = v40;
  *(_OWORD *)&v264.m256_f32[4] = v38;
  *(double *)&v265 = v39;
  if ( (a3 & 0xE) != 0 )
  {
    v41 = n2 && n2 != 2;
    v42 = (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)qword_149B4FBE8 + 0xE8LL))(qword_149B4FBE8) == 0;
    sub_146B26100(a1, v41, v42);
    (*(void (__fastcall **)(__int64, unsigned __int64, __int128 *, __int64, __int64))(*(_QWORD *)qword_149B4FBE8
                                                                                    + 0x3B0LL))(
      qword_149B4FBE8,
      a1 + 0x2A8,
      &v263,
      2,
      a4);
    v43 = v265;
    *(_OWORD *)(a1 + 0xD8) = v263;
    *(__m256 *)(a1 + 0xE8) = v264;
    *(_OWORD *)(a1 + 0x108) = v43;
    __asm { vzeroupper }
    sub_146B6D990(a1, v41, v42);
    v38 = *(_OWORD *)&v264.m256_f32[4];
    v34 = *(double *)&v264.m256_f32[2];
    v37 = *(double *)v264.m256_f32;
    v36 = *((double *)&v263 + 1);
    v35 = *(double *)&v263;
    v39 = *(double *)&v265;
    v8 = a4;
  }
  v44 = *(__int64 **)(a1 + 0x2C0);
  if ( v44 && (a3 & 6) != 0 )
  {
    v45 = *v44;
    v291[0] = v35;
    v291[1] = v36;
    v291[2] = v37;
    v291[3] = v34;
    v292 = v38;
    v293 = v39;
    (*(void (__fastcall **)(__int64 *, double *, __int64))(v45 + 0x58))(v44, v291, 1);
  }
  if ( (a3 & 0xE) != 0 )
  {
    if ( (a3 & 0x40000) == 0 )
    {
      sub_14036C3F0((__int64)v294, 0);
      v297 = (int)a3;
      v298 = v8;
      *(_QWORD *)v299 = n2;
      sub_146B731A0(a1, v294);
    }
    if ( (a3 & 0x10000) == 0 || dword_1515B1994 )
    {
      v46 = ((a3 & 6) != 0 ? 6 : 0) | 8;
      if ( (a3 & 8) == 0 )
        v46 = (a3 & 6) != 0 ? 6 : 0;
      sub_146B74B20(a1, v46);
    }
    v47 = *(_QWORD **)(a1 + 0x130);
    if ( !v47 )
      goto LABEL_85;
    if ( (a3 & 0x20) != 0 )
      goto LABEL_85;
    if ( !sub_14030EC00(*(unsigned __int64 **)(a1 + 0x130)) )
      goto LABEL_85;
    v48 = *v47 & 0xFFFFFFFFFFFFLL;
    if ( !v48 )
      goto LABEL_85;
    if ( !*(_QWORD *)(v48 + 0x2C0) || (*(_BYTE *)(*(_QWORD *)(a1 + 0x130) + 0x140LL) & 4) != 0 )
    {
      n2_1 = n2;
      if ( *(_QWORD *)(v48 + 0x4C8) != *(_QWORD *)(a1 + 0x4C8) )
        n2_1 = 1;
      sub_146B52280(v48, (__int64)&v279, 2, 0xFFFFFFFF, 0, n2_1);
      v52 = v281;
      v51 = *((double *)&v279 + 1);
      v53 = v280;
      v254 = *(double *)&v279;
      v243 = *(double *)&v282.m256_f32[6];
      v250 = v281;
    }
    else
    {
      __asm { vmovupd ymm1, cs:ymmword_1481A4CC0 }
      _XMM0 = 0;
      __asm { vmovupd [rsp+338h+var_200], ymm1 }
      v51 = 0.0;
      v281 = 1.0;
      v280 = 0.0;
      v254 = 0.0;
      v250 = 1.0;
      v243 = 1.0;
      __asm { vmovupd [rsp+338h+var_220], xmm0 }
      v52 = 1.0;
      v53 = 0.0;
    }
    v55 = *(_QWORD *)(a1 + 0x130);
    v257 = v53;
    v261 = v51;
    n0xA = *(_DWORD *)(v55 + 0x10);
    v290 = *(double *)&v282.m256_f32[4];
    if ( n0xA == 1 || n0xA == 0xA )
    {
      __asm { vzeroupper }
      v240 = sub_146B51140(v48, (__int64)v289, a1, n2);
      v241 = *(_QWORD *)(a1 + 0x130) + 0x150LL;
      *(_QWORD *)v241 = *(_QWORD *)v240;
      *(_QWORD *)(v241 + 8) = *(_QWORD *)(v240 + 8);
      *(_QWORD *)(v241 + 0x10) = *(_QWORD *)(v240 + 0x10);
      *(_QWORD *)(v241 + 0x18) = *(_QWORD *)(v240 + 0x18);
      *(_OWORD *)(v241 + 0x20) = *(_OWORD *)(v240 + 0x20);
      *(double *)(v241 + 0x30) = *(double *)(v240 + 0x30);
      *(_QWORD *)(v241 + 0x38) = *(_QWORD *)(v240 + 0x38);
      goto LABEL_85;
    }
    if ( n0xA != 2 )
    {
      if ( n0xA != 3 )
      {
        if ( n0xA == 4 )
        {
          if ( *(_BYTE *)(v55 + 0x138) != 1 )
          {
            __asm { vzeroupper }
            sub_1403E0B50();
          }
          v199 = *(_QWORD *)(v55 + 0x18);
          if ( v199 )
          {
            __asm { vzeroupper }
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v199 + 8LL))(v199);
          }
          __asm { vzeroupper }
          v200 = (float *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v199 + 0x118LL))(v199);
          v201 = v200[4];
          v202 = v200[6];
          v203 = v200[5];
          v204 = v202 * v51 - v203 * v53 + v201 * v52;
          v205 = v201 * v53 - v202 * v254 + v203 * v52;
          v206 = v203 * v254 - v201 * v51 + v202 * v52;
          v207 = v206 * v51 - v205 * v53;
          v208 = v204 * v53 - v206 * v254;
          v209 = v200[3];
          v210 = v205 * v254 - v204 * v51;
          v211 = v200[1];
          v212 = v200[2];
          v213 = *v200;
          v270 = v212 * v51 - v211 * v257 + v213 * v250 + v209 * v254;
          v271 = v213 * v257 - v212 * v254 + v211 * v250 + v209 * v51;
          v272 = v211 * v254 - v213 * v51 + v212 * v250 + v209 * v257;
          _XMM3 = *(_OWORD *)v282.m256_f32;
          v273 = v209 * v250 - v213 * v254 - v211 * v51 - v212 * v257;
          v274 = (v201 + v207 + v207) * v243 + *(double *)v282.m256_f32;
          __asm { vunpckhpd xmm3, xmm3, xmm3 }
          v275 = (v203 + v208 + v208) * v243 + *(double *)&_XMM3;
          v276 = (v202 + v210 + v210) * v243 + v290;
          v277 = v243;
          v216 = sub_1404B6AF0(&v270, v289);
          v217 = v216[1];
          v218 = v216[2];
          v219 = v216[3];
          v220 = *(double *)v264.m256_f32;
          v221 = *(double *)&v263;
          v222 = v218 * *(double *)&v264.m256_f32[4] - *v216 * *(double *)&v265 + v219 * *(double *)&v264.m256_f32[6];
          v223 = v217
               * (*v216 * *(double *)&v264.m256_f32[6] - v217 * *(double *)&v264.m256_f32[4] + v219 * *(double *)&v265)
               - v218 * v222;
          v224 = *v216 * v222
               - v217
               * (v217 * *(double *)&v265 - v218 * *(double *)&v264.m256_f32[6] + v219 * *(double *)&v264.m256_f32[4]);
          v225 = *((double *)&v263 + 1);
          *(double *)&_XMM3 = v216[7];
          _XMM10 = COERCE_UNSIGNED_INT64((*(double *)&v264.m256_f32[4] + v223 + v223) * *(double *)&_XMM3 + v216[4]);
          v227 = v224 + *(double *)&v265 + v224;
          v228 = *(double *)&_XMM3 * *((double *)&v265 + 1);
          v229 = v227 * *(double *)&_XMM3 + v216[6];
          v256 = v218;
          v262 = v217;
          v230 = *(double *)v264.m256_f32 * v217 - *((double *)&v263 + 1) * v218;
          v249 = *v216;
          v231 = v217 * *(double *)&v264.m256_f32[2];
          v232 = v217 * *(double *)&v263;
          v233 = *(double *)v264.m256_f32 * v219;
          v234 = v218 * *(double *)&v264.m256_f32[2];
          v235 = *(_QWORD *)(a1 + 0x130) + 0x150LL;
          v236 = *(double *)&v264.m256_f32[2] * v219;
          v237 = *(double *)&v263 * v256 - *(double *)v264.m256_f32 * v249 + *((double *)&v263 + 1) * v219;
          v238 = *((double *)&v263 + 1) * v249;
          *(double *)v235 = v230 + *(double *)&v263 * v219 + *(double *)&v264.m256_f32[2] * v249;
          *(double *)(v235 + 8) = v237 + v231;
          *(double *)(v235 + 0x10) = v238 - v232 + v233 + v234;
          *(double *)(v235 + 0x18) = v236 - v221 * v249 - v225 * v262 - v220 * v256;
          __asm { vunpcklpd xmm0, xmm10, xmm4 }
          *(_OWORD *)(v235 + 0x20) = _XMM0;
          *(double *)(v235 + 0x30) = v229;
          *(double *)(v235 + 0x38) = v228;
          if ( v199 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v199 + 0x10LL))(v199);
        }
        goto LABEL_85;
      }
      __asm { vzeroupper }
      v138 = sub_146B49A10(v48, *(_DWORD *)(v55 + 0x144));
      v139 = v138;
      if ( v138 )
      {
        if ( *(_WORD *)(*(_QWORD *)(a1 + 0x130) + 0x148LL) != 0xFFFF )
        {
          v142 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v138 + 0x70LL))(v138);
          v143 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v139 + 0x30LL))(v139);
          v144 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v143 + 0x148LL))(
                            v143,
                            (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x130) + 0x148LL));
          v145 = *(_QWORD *)(a1 + 0x130);
          v146 = *(_WORD *)(v145 + 0x14A);
          v147 = v144[3];
          v148 = *v144;
          v149 = v144[1];
          v150 = v144[2];
          v151 = v144[4];
          v152 = v144[5];
          v154 = v144[6];
          v153 = v154;
          v266 = v150;
          v278 = v147;
          v260 = v151;
          v247 = v152;
          v252 = v154;
          v269 = v147;
          v268 = v148;
          v267 = v149;
          if ( v146 >= 0 )
          {
            v155 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v142 + 0x90LL))(
                              v142,
                              *(unsigned __int16 *)(v145 + 0x148));
            v156 = v155[4];
            v157 = v155[6];
            v158 = v155[5];
            v159 = v155[3];
            v160 = v155[2];
            v161 = v157 * v149 - v158 * v150 + v156 * v147;
            v162 = v156 * v150 - v157 * v148 + v158 * v147;
            v163 = v158 * v148 - v156 * v149 + v157 * v147;
            v164 = v163 * v149 - v162 * v150;
            v165 = v161 * v150;
            v166 = v161 * v149;
            v167 = v155[1];
            v168 = v162 * v148 - v166;
            v169 = v156 + v164;
            v152 = v158 + v165 - v163 * v148 + v165 - v163 * v148 + v247;
            v260 = v164 + v260 + v169;
            v170 = *v155;
            v252 = v157 + v168 + v168 + v154;
            v269 = v159 * v278 - v170 * v148 - v167 * v149 - v160 * v266;
            v268 = v160 * v149 - v167 * v266 + v170 * v278 + v159 * v148;
            v267 = v170 * v266 - v160 * v148 + v167 * v278 + v159 * v149;
            v171 = v167 * v148;
            v247 = v152;
            v151 = v260;
            v150 = v171 - v170 * v149 + v160 * v278 + v159 * v266;
            v153 = v252;
          }
          v172 = v153 * v51 - v152 * v257 + v151 * v250;
          v173 = v151 * v257 - v153 * v254 + v152 * v250;
          v174 = v152 * v254 - v151 * v51 + v153 * v250;
          v270 = v51 * v150 - v257 * v267 + v268 * v250 + v254 * v269;
          v271 = v257 * v268 - v254 * v150 + v267 * v250 + v51 * v269;
          v272 = v254 * v267 - v51 * v268 + v150 * v250 + v257 * v269;
          _XMM3 = *(_OWORD *)v282.m256_f32;
          v273 = v269 * v250 - v254 * v268 - v51 * v267 - v257 * v150;
          v274 = (v51 * v174 - v257 * v173 + v260 + v51 * v174 - v257 * v173) * v243 + *(double *)v282.m256_f32;
          __asm { vunpckhpd xmm3, xmm3, xmm3 }
          v275 = (v257 * v172 - v254 * v174 + v247 + v257 * v172 - v254 * v174) * v243 + *(double *)&_XMM3;
          v276 = (v254 * v173 - v51 * v172 + v252 + v254 * v173 - v51 * v172) * v243 + v290;
          v277 = v243;
          v177 = sub_1404B6AF0(&v270, v289);
          v178 = v177[1];
          v179 = v177[2];
          v180 = v177[3];
          v181 = *(double *)v264.m256_f32;
          v182 = *(double *)&v263;
          v183 = *(double *)&v264.m256_f32[4] * v179 - *(double *)&v265 * *v177 + *(double *)&v264.m256_f32[6] * v180;
          v184 = v178
               * (*(double *)&v264.m256_f32[6] * *v177 - *(double *)&v264.m256_f32[4] * v178 + *(double *)&v265 * v180)
               - v179 * v183;
          v185 = *v177 * v183
               - v178
               * (*(double *)&v265 * v178 - *(double *)&v264.m256_f32[6] * v179 + *(double *)&v264.m256_f32[4] * v180);
          v186 = *((double *)&v263 + 1);
          *(double *)&_XMM3 = v177[7];
          _XMM10 = COERCE_UNSIGNED_INT64((*(double *)&v264.m256_f32[4] + v184 + v184) * *(double *)&_XMM3 + v177[4]);
          v187 = v185 + *(double *)&v265 + v185;
          v122 = *(double *)&_XMM3 * *((double *)&v265 + 1);
          v123 = v187 * *(double *)&_XMM3 + v177[6];
          v253 = v180;
          v188 = *(double *)&v264.m256_f32[2];
          v248 = *v177;
          v189 = *(double *)v264.m256_f32 * v178
               - *((double *)&v263 + 1) * v179
               + *(double *)&v263 * v253
               + *(double *)&v264.m256_f32[2] * *v177;
          v190 = *(double *)&v263 * v179 - *(double *)v264.m256_f32 * *v177 + *((double *)&v263 + 1) * v253;
          v191 = *((double *)&v263 + 1) * *v177;
          v128 = *(_QWORD *)(a1 + 0x130) + 0x150LL;
          v192 = *(double *)&v264.m256_f32[2] * v178;
          v193 = *(double *)&v263 * v178;
          v194 = *(double *)v264.m256_f32 * v253;
          *(double *)v128 = v189;
          v195 = v190 + v192;
          v196 = v191 - v193 + v194;
          *(double *)(v128 + 8) = v195;
          v134 = v182 * v248;
          v132 = v188 * v253;
          v197 = v196 + v188 * v179;
          v136 = v186 * v178;
          *(double *)(v128 + 0x10) = v197;
          v137 = v181 * v179;
          goto LABEL_77;
        }
        v140 = sub_146B51140(v48, (__int64)v289, a1, 0);
        v141 = *(_QWORD *)(a1 + 0x130) + 0x150LL;
        *(_QWORD *)v141 = *(_QWORD *)v140;
        *(_QWORD *)(v141 + 8) = *(_QWORD *)(v140 + 8);
        *(_QWORD *)(v141 + 0x10) = *(_QWORD *)(v140 + 0x10);
        *(_QWORD *)(v141 + 0x18) = *(_QWORD *)(v140 + 0x18);
        *(_OWORD *)(v141 + 0x20) = *(_OWORD *)(v140 + 0x20);
        *(double *)(v141 + 0x30) = *(double *)(v140 + 0x30);
        *(_QWORD *)(v141 + 0x38) = *(_QWORD *)(v140 + 0x38);
      }
LABEL_85:
      __asm { vzeroupper }
      sub_146B7DA90(a1, &v264.m256_f32[4]);
      sub_146A3D400(qword_1515B1A00, *(unsigned int *)(a1 + 0x2E8));
      goto LABEL_86;
    }
    v57 = *(_DWORD *)(v55 + 0x144);
    __asm { vzeroupper }
    v58 = sub_146B513B0(a1);
    if ( !v58 )
      goto LABEL_85;
    v59 = sub_146AB61A0(v58, v57);
    if ( !v59 )
      goto LABEL_85;
    (*(void (__fastcall **)(__int64, int *, _QWORD))(*(_QWORD *)v59 + 0x278LL))(
      v59,
      v294,
      (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x130) + 0x148LL));
    sub_140745F90((float *)v294);
    v246 = *(float *)&v294[3];
    v259 = *((float *)&v297 + 1);
    v251 = v299[1];
    v60 = *(float *)v294;
    v61 = COERCE_UNSIGNED_INT64(*(float *)&v294[1]);
    v62 = *(float *)&v298;
    v63 = COERCE_UNSIGNED_INT64(v299[0]);
    v64 = *(float *)&v294[2];
    v65 = *((float *)&v298 + 1);
    v266 = pow(
             fabs(
               v296 * *(float *)v294 * *(double *)&v63
             + *(float *)&v297 * *(double *)&v61 * v62
             + v295 * v64 * *((float *)&v298 + 1)
             - v296 * v64 * v62
             - *(float *)&v297 * *(float *)v294 * *((float *)&v298 + 1)
             - v295 * *(double *)&v61 * *(double *)&v63),
             0.3333333333333333);
    *((_QWORD *)&v66 + 1) = *((_QWORD *)&v61 + 1);
    *(double *)&v66 = *(double *)&v61 * *(double *)&v61 + v60 * v60 + v64 * v64 + 2.225073858507201e-308;
    _XMM1 = v66;
    __asm
    {
      vmovddup xmm2, xmm1
      vsqrtpd xmm3, xmm2
      vunpckhpd xmm3, xmm3, xmm3
    }
    v267 = v60 * (1.0 / *(double *)&_XMM3);
    v71 = v65 * v64 - *(double *)&v63 * *(double *)&v61;
    v269 = *(double *)&v61 * (1.0 / *(double *)&_XMM3);
    v268 = v64 * (1.0 / *(double *)&_XMM3);
    *((_QWORD *)&v66 + 1) = *((_QWORD *)&v63 + 1);
    v72 = *(double *)&v63 * v60 - v62 * v64;
    v73 = v62 * *(double *)&v61 - v65 * v60;
    *(double *)&v66 = v72 * v72 + v71 * v71 + v73 * v73 + 2.225073858507201e-308;
    _XMM1 = v66;
    __asm
    {
      vmovddup xmm3, xmm1
      vsqrtpd xmm0, xmm3
      vunpckhpd xmm0, xmm0, xmm0
    }
    *(double *)&v66 = 1.0 / *(double *)&_XMM0;
    v78 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0);
    v79 = *(double *)&v66 * v73;
    v80 = *(double *)&v78 * v71;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v78 + 1);
    *(double *)&v81 = *(double *)&v78 * v72;
    v82 = v269 * v79 - v268 * (*(double *)&v78 * v72);
    v83 = *(double *)&v78 * v71 * v268 - v267 * v79;
    v84 = v267 * (*(double *)&v78 * v72) - v269 * (*(double *)&v78 * v71);
    v85 = 0.0;
    v86 = 0.0;
    if ( v267 + *(double *)&v78 * v72 + v84 <= 0.0 )
    {
      if ( v267 < *(double *)&v81 || v267 < v84 )
      {
        if ( *(double *)&v81 < v267 || *(double *)&v81 < v84 )
        {
          if ( v84 < v267 || v84 < *(double *)&v81 )
            goto LABEL_69;
          _XMM2 = COERCE_UNSIGNED_INT64(v84 - v267 - *(double *)&v81 + 1.0);
          __asm { vmovddup xmm3, xmm2 }
          __asm
          {
            vsqrtpd xmm5, xmm3
            vunpckhpd xmm5, xmm5, xmm5
          }
          v99 = 0.5 / *(double *)&_XMM5;
          v12 = (v80 - v269) * (0.5 / *(double *)&_XMM5);
          v85 = (v79 + *(double *)&v78 * v71 * v268 - v267 * v79) * (0.5 / *(double *)&_XMM5);
          v100 = v268 + v82;
          v86 = *(double *)&_XMM5 * 0.5;
        }
        else
        {
          *(double *)&v81 = *(double *)&v81 - v84 - v267 + 1.0;
          _XMM2 = v81;
          __asm { vmovddup xmm3, xmm2 }
          __asm
          {
            vsqrtpd xmm5, xmm3
            vunpckhpd xmm5, xmm5, xmm5
          }
          v99 = 0.5 / *(double *)&_XMM5;
          v12 = (v268 - v82) * (0.5 / *(double *)&_XMM5);
          v86 = (v79 + v83) * (0.5 / *(double *)&_XMM5);
          v100 = v269 + v80;
          v85 = *(double *)&_XMM5 * 0.5;
        }
        v13 = v100 * v99;
      }
      else
      {
        _XMM2 = COERCE_UNSIGNED_INT64(v267 - *(double *)&v81 - v84 + 1.0);
        __asm { vmovddup xmm3, xmm2 }
        __asm
        {
          vsqrtpd xmm4, xmm3
          vunpckhpd xmm4, xmm4, xmm4
        }
        v12 = (v83 - v79) * (0.5 / *(double *)&_XMM4);
        v13 = *(double *)&_XMM4 * 0.5;
        v86 = (v268 + v82) * (0.5 / *(double *)&_XMM4);
        v85 = (v269 + v80) * (0.5 / *(double *)&_XMM4);
      }
    }
    else
    {
      _XMM0 = COERCE_UNSIGNED_INT64(v267 + *(double *)&v81 + v84 + 1.0);
      __asm { vmovddup xmm1, xmm0 }
      __asm
      {
        vsqrtpd xmm3, xmm1
        vunpckhpd xmm3, xmm3, xmm3
      }
      v12 = *(double *)&_XMM3 * 0.5;
      v13 = (v83 - v79) * (0.5 / *(double *)&_XMM3);
      v86 = (v80 - v269) * (0.5 / *(double *)&_XMM3);
      v85 = (v268 - v82) * (0.5 / *(double *)&_XMM3);
    }
LABEL_69:
    v105 = v261 * v251 - v259 * v53 + v246 * v250;
    v106 = v246 * v53 - v254 * v251 + v259 * v250;
    v107 = v259 * v254 - v246 * v261 + v250 * v251;
    v270 = v261 * v86 - v53 * v85 + v250 * v13 + v254 * v12;
    v271 = v53 * v13 - v254 * v86 + v250 * v85 + v261 * v12;
    v272 = v254 * v85 - v261 * v13 + v250 * v86 + v53 * v12;
    _XMM3 = *(_OWORD *)v282.m256_f32;
    v273 = v250 * v12 - v254 * v13 - v261 * v85 - v53 * v86;
    v274 = (v261 * v107 - v53 * v106 + v246 + v261 * v107 - v53 * v106) * v243 + *(double *)v282.m256_f32;
    __asm { vunpckhpd xmm3, xmm3, xmm3 }
    v275 = (v53 * v105 - v107 * v254 + v259 + v53 * v105 - v107 * v254) * v243 + *(double *)&_XMM3;
    v276 = (v106 * v254 - v261 * v105 + v251 + v106 * v254 - v261 * v105) * v243 + v290;
    v277 = v243 * v266;
    v110 = sub_1404B6AF0(&v270, v289);
    v111 = v110[1];
    v112 = v110[2];
    v113 = v110[3];
    v114 = *(double *)v264.m256_f32;
    v115 = *(double *)&v263;
    v116 = *(double *)&v264.m256_f32[4] * v112 - *(double *)&v265 * *v110 + *(double *)&v264.m256_f32[6] * v113;
    v117 = (*(double *)&v264.m256_f32[6] * *v110 - *(double *)&v264.m256_f32[4] * v111 + *(double *)&v265 * v113) * v111
         - v116 * v112;
    v118 = v116 * *v110
         - (*(double *)&v265 * v111 - *(double *)&v264.m256_f32[6] * v112 + *(double *)&v264.m256_f32[4] * v113) * v111;
    v119 = *((double *)&v263 + 1);
    *(double *)&_XMM3 = v110[7];
    _XMM10 = COERCE_UNSIGNED_INT64((*(double *)&v264.m256_f32[4] + v117 + v117) * *(double *)&_XMM3 + v110[4]);
    v121 = v118 + *(double *)&v265 + v118;
    v122 = *(double *)&_XMM3 * *((double *)&v265 + 1);
    v123 = v121 * *(double *)&_XMM3 + v110[6];
    v258 = v113;
    v124 = *(double *)&v264.m256_f32[2];
    v244 = *v110;
    v255 = v111;
    v125 = *(double *)v264.m256_f32 * v111
         - *((double *)&v263 + 1) * v112
         + *(double *)&v263 * v258
         + *(double *)&v264.m256_f32[2] * *v110;
    v126 = *(double *)&v263 * v112 - *(double *)v264.m256_f32 * *v110 + *((double *)&v263 + 1) * v258;
    v127 = *((double *)&v263 + 1) * *v110;
    v128 = *(_QWORD *)(a1 + 0x130) + 0x150LL;
    v129 = *(double *)&v264.m256_f32[2] * v111;
    v130 = *(double *)&v263 * v111;
    v131 = *(double *)v264.m256_f32 * v258;
    *(double *)v128 = v125;
    *(double *)(v128 + 8) = v126 + v129;
    v132 = v124 * v258;
    v133 = v127 - v130 + v131;
    v134 = v115 * v244;
    v135 = v133 + v124 * v112;
    v136 = v119 * v255;
    *(double *)(v128 + 0x10) = v135;
    v137 = v114 * v112;
LABEL_77:
    *(double *)(v128 + 0x18) = v132 - v134 - v136 - v137;
    __asm { vunpcklpd xmm0, xmm10, xmm4 }
    *(_OWORD *)(v128 + 0x20) = _XMM0;
    *(double *)(v128 + 0x30) = v123;
    *(double *)(v128 + 0x38) = v122;
    goto LABEL_85;
  }
LABEL_86:
  v286 = __rdtsc();
  qword_149B4B878(v283);
  return a3;
}

// --- End Function: sub_146B86300 (0x146B86300) ---

// --- Function: sub_146B880F0 (0x146B880F0) ---
double __fastcall sub_146B880F0(int *a1)
{
  int i; // eax
  _DWORD v4[4]; // [rsp+30h] [rbp-68h] BYREF
  int n0x1000; // [rsp+40h] [rbp-58h] BYREF
  __int64 v6; // [rsp+44h] [rbp-54h]
  int v7; // [rsp+4Ch] [rbp-4Ch]
  unsigned __int64 v8; // [rsp+50h] [rbp-48h]
  unsigned __int64 v9; // [rsp+58h] [rbp-40h]
  __int64 v10; // [rsp+60h] [rbp-38h]
  __int64 v11; // [rsp+68h] [rbp-30h]

  n0x1000 = 0x1000;
  v6 = 0;
  v7 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v8 = __rdtsc();
  qword_149B4B870(
    &n0x1000,
    &word_1515B1C2C,
    "CEntityAggregateManager::WaitForUpdateQueue",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\Entity_AggregateManager.cpp",
    0x10CC);
  HIWORD(n0x1000) = word_1515B1C2C;
  for ( i = *a1; *a1; i = *a1 )
  {
    v4[0] = i;
    qword_149B3B480(a1, v4, 4, 0xFFFFFFFFLL);
  }
  v9 = __rdtsc();
  return qword_149B4B878(&n0x1000);
}

// --- End Function: sub_146B880F0 (0x146B880F0) ---

// --- Function: sub_147605980 (0x147605980) ---
void __fastcall sub_147605980(const void *a1)
{
  if ( a1 )
  {
    if ( qword_149B4FDB8 && qword_149B4FBE8 && a1 == (const void *)qword_149B4FBE8 )
      __debugbreak();
    if ( (unsigned __int64)a1 < qword_149B00898 || (unsigned __int64)a1 >= qword_149B00898 + 0x8000000000LL )
    {
      if ( (unsigned __int64)a1 >= qword_149B00878 && (unsigned __int64)a1 < qword_149B00878 + 0x200000000LL )
        LogFatalError("Address %p was allocated by persistent malloc and cannot be freed!", a1);
      sub_147602930((__int64)a1);
    }
  }
}

// --- End Function: sub_147605980 (0x147605980) ---

// --- Function: allocWithProfilerInfo (0x147605A30) ---
__int64 __fastcall allocWithProfilerInfo(unsigned __int64 allocSize, struct _exception *profilerInfo)
{
  char v4; // al
  __int64 v5; // rax
  __int64 result; // rax

  if ( allocSize )
  {
    v4 = sub_1474DA7B0();
    sub_14056A7D0(v4);
    v5 = AK::MemoryMgr::StopProfileThreadUsage(profilerInfo);
    result = sub_1476030D0(v5 + allocSize, (unsigned __int64)profilerInfo);
    if ( result )
      return result;
    sub_1476052F0(allocSize);
  }
  return 0;
}

// --- End Function: allocWithProfilerInfo (0x147605A30) ---

// --- Function: __security_check_cookie (0x148033700) ---
void __cdecl _security_check_cookie(uintptr_t StackCookie)
{
  __int64 v1; // rcx

  if ( StackCookie != _security_cookie )
ReportFailure:
    _report_gsfailure(StackCookie);
  v1 = __ROL8__(StackCookie, 16);
  if ( (_WORD)v1 )
  {
    StackCookie = __ROR8__(v1, 16);
    goto ReportFailure;
  }
}

// --- End Function: __security_check_cookie (0x148033700) ---

// --- Function: memcpy (0x14808212B) ---
// attributes: thunk
void *__cdecl memcpy(void *a1, const void *Src, size_t Size)
{
  return __imp_memcpy(a1, Src, Size);
}

// --- End Function: memcpy (0x14808212B) ---

// --- Function: memmove (0x148082131) ---
// attributes: thunk
void *__cdecl memmove(void *a1, const void *Src, size_t Size)
{
  return __imp_memmove(a1, Src, Size);
}

// --- End Function: memmove (0x148082131) ---

// --- Function: memset (0x148082137) ---
// attributes: thunk
void *__cdecl memset(void *a1, int Val, size_t Size)
{
  return __imp_memset(a1, Val, Size);
}

// --- End Function: memset (0x148082137) ---

// --- Function: pow (0x1480821E5) ---
// attributes: thunk
double __cdecl pow(double X, double Y)
{
  return __imp_pow(X, Y);
}

// --- End Function: pow (0x1480821E5) ---

