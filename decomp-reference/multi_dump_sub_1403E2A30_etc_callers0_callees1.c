// Start Functions:
//   - 0x1403E2A30 (sub_1403E2A30)
//   - 0x1404141B0 (sub_1404141B0)
//   - 0x140710890 (sub_140710890)
//   - 0x140711A80 (sub_140711A80)
//   - 0x140E3B650 (sub_140E3B650)
//   - 0x14168D410 (sub_14168D410)
//   - 0x1416AC410 (sub_1416AC410)
//   - 0x1423827D0 (sub_1423827D0)
//   - 0x143692D10 (sub_143692D10)
//   - 0x1467B99F0 (sub_1467B99F0)
//   - 0x1467C2E30 (sub_1467C2E30)
//   - 0x1467C3410 (sub_1467C3410)
//   - 0x1467C5810 (sub_1467C5810)
//   - 0x1467CB580 (sub_1467CB580)
//   - 0x1467CB590 (sub_1467CB590)
//   - 0x14680CA50 (sub_14680CA50)
//   - 0x146859B20 (sub_146859B20)
//   - 0x146863110 (sub_146863110)
//   - 0x146863350 (sub_146863350)
//   - 0x1468ADC50 (CEntity::Init)
//   - 0x1468B0300 (sub_1468B0300)
//   - 0x1468B3A20 (sub_1468B3A20)
//   - 0x1468B4050 (sub_1468B4050)
//   - 0x1468B47C0 (sub_1468B47C0)
//   - 0x1468B4E80 (sub_1468B4E80)
//   - 0x1468B52A0 (sub_1468B52A0)
//   - 0x1468B5C30 (sub_1468B5C30)
//   - 0x1468B5DE0 (sub_1468B5DE0)
//   - 0x1468B64F0 (sub_1468B64F0)
//   - 0x1468B78D0 (sub_1468B78D0)
//   - 0x1468B79F0 (CEntity::AttachChild)
//   - 0x1468C1220 (sub_1468C1220)
//   - 0x1468C1420 (CEntity::ChangeOwnerEntity)
//   - 0x1468C2650 (sub_1468C2650)
//   - 0x1468C31A0 (sub_1468C31A0)
//   - 0x1468C4D40 (CEntity::CopyTags)
//   - 0x1468C4E60 (sub_1468C4E60)
//   - 0x1468C5070 (sub_1468C5070)
//   - 0x1468C5260 (CEntity::CreateZoneHost)
//   - 0x1468C7070 (sub_1468C7070)
//   - 0x1468CAB20 (sub_1468CAB20)
//   - 0x1468CAB40 (CEntity::DestroyZoneHost)
//   - 0x1468CB1C0 (sub_1468CB1C0)
//   - 0x1468CCE80 (sub_1468CCE80)
//   - 0x1468CCF00 (sub_1468CCF00)
//   - 0x1468CDF50 (sub_1468CDF50)
//   - 0x1468CE890 (CEntity::DoesEntityHostVisAreas)
//   - 0x1468CF220 (sub_1468CF220)
//   - 0x1468D2420 (sub_1468D2420)
//   - 0x1468D2630 (sub_1468D2630)
//   - 0x1468D2770 (CEntity::Export)
//   - 0x1468D2930 (sub_1468D2930)
//   - 0x1468D4CC0 (sub_1468D4CC0)
//   - 0x1468D4ED0 (sub_1468D4ED0)
//   - 0x1468D4F50 (sub_1468D4F50)
//   - 0x1468D5530 (sub_1468D5530)
//   - 0x1468D5890 (sub_1468D5890)
//   - 0x1468D5A80 (sub_1468D5A80)
//   - 0x1468D5C70 (CEntity::ForEachInObject)
//   - 0x1468D5CF0 (sub_1468D5CF0)
//   - 0x1468D5F10 (sub_1468D5F10)
//   - 0x1468D6070 (sub_1468D6070)
//   - 0x1468D60D0 (sub_1468D60D0)
//   - 0x1468D68B0 (sub_1468D68B0)
//   - 0x1468D6920 (sub_1468D6920)
//   - 0x1468D6970 (sub_1468D6970)
//   - 0x1468D69B0 (sub_1468D69B0)
//   - 0x1468D69D0 (sub_1468D69D0)
//   - 0x1468D6A10 (sub_1468D6A10)
//   - 0x1468D6A90 (sub_1468D6A90)
//   - 0x1468D6BB0 (sub_1468D6BB0)
//   - 0x1468D6C30 (sub_1468D6C30)
//   - 0x1468D6C80 (sub_1468D6C80)
//   - 0x1468D6CD0 (sub_1468D6CD0)
//   - 0x1468D6F10 (sub_1468D6F10)
//   - 0x1468D7AF0 (sub_1468D7AF0)
//   - 0x1468D83B0 (sub_1468D83B0)
//   - 0x1468D84B0 (sub_1468D84B0)
//   - 0x1468D85E0 (sub_1468D85E0)
//   - 0x1468D8A10 (sub_1468D8A10)
//   - 0x1468D8DE0 (sub_1468D8DE0)
//   - 0x1468D8E60 (sub_1468D8E60)
//   - 0x1468D8FA0 (sub_1468D8FA0)
//   - 0x1468D8FE0 (sub_1468D8FE0)
//   - 0x1468D90E0 (sub_1468D90E0)
//   - 0x1468D9170 (sub_1468D9170)
//   - 0x1468D9190 (sub_1468D9190)
//   - 0x1468D91A0 (sub_1468D91A0)
//   - 0x1468D91F0 (sub_1468D91F0)
//   - 0x1468D9210 (sub_1468D9210)
//   - 0x1468D9240 (sub_1468D9240)
//   - 0x1468D9370 (sub_1468D9370)
//   - 0x1468D9470 (sub_1468D9470)
//   - 0x1468D9510 (sub_1468D9510)
//   - 0x1468D9C10 (sub_1468D9C10)
//   - 0x1468DA210 (sub_1468DA210)
//   - 0x1468DA310 (sub_1468DA310)
//   - 0x1468DA340 (sub_1468DA340)
//   - 0x1468DB250 (sub_1468DB250)
//   - 0x1468DB290 (sub_1468DB290)
//   - 0x1468DB2D0 (sub_1468DB2D0)
//   - 0x1468DB310 (sub_1468DB310)
//   - 0x1468DB350 (sub_1468DB350)
//   - 0x1468DB390 (sub_1468DB390)
//   - 0x1468DB3D0 (sub_1468DB3D0)
//   - 0x1468DB6A0 (sub_1468DB6A0)
//   - 0x1468DB7F0 (sub_1468DB7F0)
//   - 0x1468DBB60 (CEntity::GetPos)
//   - 0x1468DBD60 (sub_1468DBD60)
//   - 0x1468DBEA0 (sub_1468DBEA0)
//   - 0x1468DBFC0 (sub_1468DBFC0)
//   - 0x1468DBFE0 (sub_1468DBFE0)
//   - 0x1468DE1B0 (CEntity::GetRelativeTransform)
//   - 0x1468DE410 (sub_1468DE410)
//   - 0x1468DE500 (CEntity::GetRotation)
//   - 0x1468DE710 (sub_1468DE710)
//   - 0x1468DE810 (sub_1468DE810)
//   - 0x1468DE840 (sub_1468DE840)
//   - 0x1468DE860 (sub_1468DE860)
//   - 0x1468DE890 (sub_1468DE890)
//   - 0x1468DE8F0 (sub_1468DE8F0)
//   - 0x1468DE970 (sub_1468DE970)
//   - 0x1468DEE50 (sub_1468DEE50)
//   - 0x1468DEEE0 (sub_1468DEEE0)
//   - 0x1468DEFD0 (sub_1468DEFD0)
//   - 0x1468DF070 (sub_1468DF070)
//   - 0x1468DF080 (sub_1468DF080)
//   - 0x1468DF0E0 (sub_1468DF0E0)
//   - 0x1468DF290 (sub_1468DF290)
//   - 0x1468DF2B0 (CEntity::GetTransform)
//   - 0x1468DF6F0 (sub_1468DF6F0)
//   - 0x1468DF730 (sub_1468DF730)
//   - 0x1468DF9E0 (sub_1468DF9E0)
//   - 0x1468DFA10 (CEntity::GetWorldBounds)
//   - 0x1468DFFD0 (CEntity::GetWorldForwardDir)
//   - 0x1468E0330 (CEntity::getWorldPos)
//   - 0x1468E0350 (sub_1468E0350)
//   - 0x1468E0370 (sub_1468E0370)
//   - 0x1468E0390 (sub_1468E0390)
//   - 0x1468E0530 (sub_1468E0530)
//   - 0x1468E06E0 (sub_1468E06E0)
//   - 0x1468E0890 (sub_1468E0890)
//   - 0x1468E0C40 (sub_1468E0C40)
//   - 0x1468E0CC0 (sub_1468E0CC0)
//   - 0x1468E0CE0 (sub_1468E0CE0)
//   - 0x1468E0DA0 (sub_1468E0DA0)
//   - 0x1468E0E50 (sub_1468E0E50)
//   - 0x1468E1070 (CEntity::GetZoneTransform)
//   - 0x1468E1700 (CEntity::HasAllTags)
//   - 0x1468E1930 (CEntity::HasTag)
//   - 0x1468E1A60 (CEntity::HasTags)
//   - 0x1468E1BD0 (CEntity::Hide)
//   - 0x1468E20C0 (sub_1468E20C0)
//   - 0x1468E22B0 (sub_1468E22B0)
//   - 0x1468E6EC0 (sub_1468E6EC0)
//   - 0x1468E7230 (sub_1468E7230)
//   - 0x1468E7250 (sub_1468E7250)
//   - 0x1468E72A0 (sub_1468E72A0)
//   - 0x1468E72C0 (sub_1468E72C0)
//   - 0x1468E74B0 (sub_1468E74B0)
//   - 0x1468E7580 (sub_1468E7580)
//   - 0x1468E7660 (sub_1468E7660)
//   - 0x1468E7670 (sub_1468E7670)
//   - 0x1468E7900 (sub_1468E7900)
//   - 0x1468E7C30 (sub_1468E7C30)
//   - 0x1468E7C70 (sub_1468E7C70)
//   - 0x1468E7D50 (sub_1468E7D50)
//   - 0x1468E8090 (sub_1468E8090)
//   - 0x1468E8540 (sub_1468E8540)
//   - 0x1468E8580 (sub_1468E8580)
//   - 0x1468E8860 (sub_1468E8860)
//   - 0x1468E8C60 (sub_1468E8C60)
//   - 0x1468E8D50 (sub_1468E8D50)
//   - 0x1468E91A0 (sub_1468E91A0)
//   - 0x1468E91E0 (sub_1468E91E0)
//   - 0x1468E9240 (sub_1468E9240)
//   - 0x1468E9290 (sub_1468E9290)
//   - 0x1468E9350 (sub_1468E9350)
//   - 0x1468E9690 (sub_1468E9690)
//   - 0x1468E9BD0 (sub_1468E9BD0)
//   - 0x1468EF770 (sub_1468EF770)
//   - 0x1468EF7E0 (sub_1468EF7E0)
//   - 0x1468F0950 (CEntity::OwnedEntityByIndex)
//   - 0x1468F0A10 (CEntity::OwnedEntityCount)
//   - 0x1468F0C10 (sub_1468F0C10)
//   - 0x1468F0EA0 (sub_1468F0EA0)
//   - 0x1468F35A0 (CEntity::PushGridPortalChange)
//   - 0x1468F3700 (sub_1468F3700)
//   - 0x1468F3770 (sub_1468F3770)
//   - 0x1468F3890 (sub_1468F3890)
//   - 0x1468F3AA0 (sub_1468F3AA0)
//   - 0x1468F5800 (CEntity::ReadTags)
//   - 0x1468F5920 (sub_1468F5920)
//   - 0x1468FA260 (sub_1468FA260)
//   - 0x1468FC660 (sub_1468FC660)
//   - 0x1468FCA70 (sub_1468FCA70)
//   - 0x1468FD380 (sub_1468FD380)
//   - 0x1468FD530 (sub_1468FD530)
//   - 0x1468FD6E0 (sub_1468FD6E0)
//   - 0x1468FE240 (sub_1468FE240)
//   - 0x1468FE940 (sub_1468FE940)
//   - 0x1468FF140 (sub_1468FF140)
//   - 0x1468FF7D0 (sub_1468FF7D0)
//   - 0x1468FF880 (sub_1468FF880)
//   - 0x146900420 (sub_146900420)
//   - 0x146900440 (sub_146900440)
//   - 0x146900510 (sub_146900510)
//   - 0x1469007E0 (sub_1469007E0)
//   - 0x1469008C0 (sub_1469008C0)
//   - 0x146900A50 (sub_146900A50)
//   - 0x146900B80 (sub_146900B80)
//   - 0x146900C10 (sub_146900C10)
//   - 0x146900C90 (sub_146900C90)
//   - 0x146900E90 (sub_146900E90)
//   - 0x146900ED0 (sub_146900ED0)
//   - 0x146900F10 (sub_146900F10)
//   - 0x146901020 (sub_146901020)
//   - 0x1469010D0 (sub_1469010D0)
//   - 0x146901170 (sub_146901170)
//   - 0x1469012B0 (sub_1469012B0)
//   - 0x146901350 (sub_146901350)
//   - 0x146901440 (sub_146901440)
//   - 0x146901480 (sub_146901480)
//   - 0x1469014E0 (sub_1469014E0)
//   - 0x146901680 (sub_146901680)
//   - 0x1469018F0 (sub_1469018F0)
//   - 0x146901980 (sub_146901980)
//   - 0x146901A10 (sub_146901A10)
//   - 0x146901BB0 (sub_146901BB0)
//   - 0x146901FB0 (sub_146901FB0)
//   - 0x146903BF0 (sub_146903BF0)
//   - 0x146903DA0 (sub_146903DA0)
//   - 0x1469050E0 (sub_1469050E0)
//   - 0x1469051C0 (sub_1469051C0)
//   - 0x1469055A0 (sub_1469055A0)
//   - 0x146905680 (sub_146905680)
//   - 0x14690E6A0 (sub_14690E6A0)
//   - 0x14690F940 (sub_14690F940)
//   - 0x14690FC40 (sub_14690FC40)
//   - 0x146910770 (sub_146910770)
//   - 0x146911BB0 (sub_146911BB0)
// Caller Depth: 0
// Callee/Ref Depth: 1
// Total Functions Found: 446
// ------------------------------------------------------------

// --- Function: ?StopProfileThreadUsage@MemoryMgr@AK@@YA_KXZ (0x1402A1370) ---
__int64 __fastcall AK::MemoryMgr::StopProfileThreadUsage(struct _exception *a1)
{
  return 0;
}

// --- End Function: ?StopProfileThreadUsage@MemoryMgr@AK@@YA_KXZ (0x1402A1370) ---

// --- Function: sub_1402A15D0 (0x1402A15D0) ---
__int64 __fastcall sub_1402A15D0(char *a1)
{
  char *v1; // r8
  unsigned int n0x9E37; // eax
  char v3; // cl

  v1 = a1;
  n0x9E37 = 0x9E37;
  v3 = *a1;
  if ( v3 )
  {
    do
    {
      ++v1;
      n0x9E37 = ((0x401 * (n0x9E37 + v3)) >> 6) ^ (0x401 * (n0x9E37 + v3));
      v3 = *v1;
    }
    while ( *v1 );
  }
  return 0x8001 * ((9 * n0x9E37) ^ ((9 * n0x9E37) >> 0xB));
}

// --- End Function: sub_1402A15D0 (0x1402A15D0) ---

// --- Function: __StarEngineModule__ (0x1402A16B0) ---
void __fastcall _StarEngineModule__(ULONG_PTR Parameter)
{
  ;
}

// --- End Function: __StarEngineModule__ (0x1402A16B0) ---

// --- Function: free_memory_wrapper (0x1402A1E20) ---
// Wrapper function that forwards the memory deallocation request to
// `sub_14739AF10`.
void __fastcall free_memory_wrapper(const void *ptr_to_free)
{
  sub_14739AF10(ptr_to_free);
}

// --- End Function: free_memory_wrapper (0x1402A1E20) ---

// --- Function: allocWithoutProfiling (0x1402A1E30) ---
__int64 __fastcall allocWithoutProfiling(unsigned __int64 size)
{
  return allocWithProfilerInfo(size, 0);
}

// --- End Function: allocWithoutProfiling (0x1402A1E30) ---

// --- Function: sub_1402A4690 (0x1402A4690) ---
char *__fastcall sub_1402A4690(FH4 **a1, _QWORD *a2)
{
  FH4 *v2; // rsi
  char *v4; // rcx
  char *result; // rax
  __int64 v7; // rdx
  __int64 v8; // rbp
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // r8
  unsigned __int64 v11; // r14
  __int64 v12; // r12
  _QWORD *v13; // rdi
  void *v14; // rcx
  char *v15; // r8
  FH4 *v16; // rdx
  char *v17; // rbp
  char *Size; // r8

  v2 = a1[1];
  v4 = (char *)a1[2];
  if ( v2 == (FH4 *)v4 )
  {
    v7 = 0x1FFFFFFFFFFFFFFFLL;
    v8 = (v2 - *a1) >> 3;
    if ( v8 == 0x1FFFFFFFFFFFFFFFLL )
    {
      unknown_libname_10();
    }
    v9 = (v4 - (char *)*a1) >> 3;
    v10 = v9 >> 1;
    v11 = v8 + 1;
    if ( v9 <= 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    {
      v7 = v10 + v9;
      if ( v10 + v9 < v11 )
      {
        v7 = v8 + 1;
      }
    }
    v12 = v7;
    v13 = (_QWORD *)sub_14038E0B0((__int64)a1, 8 * v7);
    v13[v8] = *a2;
    v14 = v13;
    v15 = (char *)a1[1];
    v16 = *a1;
    v17 = (char *)&v13[v8];
    if ( v2 == (FH4 *)v15 )
    {
      Size = (char *)(v15 - (char *)v16);
    }
    else
    {
      memmove(v13, v16, v2 - v16);
      v14 = v17 + 8;
      Size = (char *)(a1[1] - v2);
      v16 = v2;
    }
    memmove(v14, v16, (size_t)Size);
    if ( *a1 )
    {
      sub_14039EFB0((__int64)a1, *a1, (a1[2] - *a1) & 0xFFFFFFFFFFFFFFF8uLL);
    }
    *a1 = (FH4 *)v13;
    result = v17;
    a1[1] = (FH4 *)&v13[v11];
    a1[2] = (FH4 *)&v13[v12];
  }
  else
  {
    *(_QWORD *)v2 = *a2;
    result = (char *)a1[1];
    a1[1] = (FH4 *)(result + 8);
  }
  return result;
}

// --- End Function: sub_1402A4690 (0x1402A4690) ---

// --- Function: ?_Tidy@?$vector@V?$Vector@$02N@gte@@V?$allocator@V?$Vector@$02N@gte@@@std@@@std@@AEAAXXZ (0x1402B0320) ---
void __fastcall std::vector<gte::Vector<3,double>>::_Tidy(std::vector<gte::Vector<3,double>> *this)
{
  _QWORD *ptr_to_free; // rcx

  ptr_to_free = *(_QWORD **)this;
  if ( ptr_to_free )
  {
    if ( (unsigned __int64)(0x18 * ((*((_QWORD *)this + 2) - (_QWORD)ptr_to_free) / 0x18LL)) >= 0x1000 )
    {
      if ( (unsigned __int64)ptr_to_free - ptr_to_free[0xFFFFFFFF] - 8 > 0x1F )
      {
        invalid_parameter_noinfo_noreturn();
      }
      ptr_to_free = (_QWORD *)ptr_to_free[0xFFFFFFFF];
    }
    free_memory_wrapper(ptr_to_free);
    *(_QWORD *)this = 0;
    *((_QWORD *)this + 1) = 0;
    *((_QWORD *)this + 2) = 0;
  }
}

// --- End Function: ?_Tidy@?$vector@V?$Vector@$02N@gte@@V?$allocator@V?$Vector@$02N@gte@@@std@@@std@@AEAAXXZ (0x1402B0320) ---

// --- Function: sub_1402B26C0 (0x1402B26C0) ---
__int64 __fastcall sub_1402B26C0(__int64 a1, __int64 a2)
{
  *(_QWORD *)a1 = *(_QWORD *)a2;
  *(_QWORD *)(a1 + 8) = *(_QWORD *)(a2 + 8);
  *(_QWORD *)(a1 + 0x10) = *(_QWORD *)(a2 + 0x10);
  *(_QWORD *)(a1 + 0x18) = *(_QWORD *)(a2 + 0x18);
  *(_OWORD *)(a1 + 0x20) = *(_OWORD *)(a2 + 0x20);
  *(double *)(a1 + 0x30) = *(double *)(a2 + 0x30);
  *(_QWORD *)(a1 + 0x38) = *(_QWORD *)(a2 + 0x38);
  return a1;
}

// --- End Function: sub_1402B26C0 (0x1402B26C0) ---

// --- Function: LogTraceConditional (0x1402BED30) ---
// Logs a formatted message with level 3 if global logging flags `qword_14981D3D8`
// and `Parameter_3` are enabled and the global logger object `qword_14981D2D0` is
// available. Calls the virtual function at offset +8 of the logger object.
void LogTraceConditional(const char *format_string, ...)
{
  va_list varargs; // [rsp+38h] [rbp+10h] BYREF

  va_start(varargs, format_string);
  if ( qword_14981D3D8 && CSystem )
  {
    if ( qword_14981D2D0 )
    {
      (*(void (__fastcall **)(__int64, __int64, const char *, __int64 *))(*(_QWORD *)qword_14981D2D0 + 8LL))(
        qword_14981D2D0,
        3,
        format_string,
        (__int64 *)varargs);
    }
  }
}

// --- End Function: LogTraceConditional (0x1402BED30) ---

// --- Function: a1 (0x1402C4010) ---
// Retrieves a pointer to a thread-specific data structure. Accesses the TEB's
// ThreadLocalStoragePointer array using the global TlsIndex, retrieves the base
// pointer for this thread's data, and adds a fixed offset of 784 bytes.
__int64 a1()
{
  return *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x310LL;
}

// --- End Function: a1 (0x1402C4010) ---

// --- Function: sub_1402D0950 (0x1402D0950) ---
unsigned __int64 __fastcall sub_1402D0950(__int64 a1)
{
  unsigned __int64 a1; // rax
  unsigned __int64 v3; // rdx

  a1 = a1();
  if ( *(_DWORD *)(a1 + 8) == *(_DWORD *)(a1 + 0x18)
    && (a1 = *(unsigned int *)(a1 + 0xC), (_DWORD)a1) )
  {
    a1 = (unsigned int)(a1 - 1);
    *(_DWORD *)(a1 + 0xC) = a1;
  }
  else
  {
    v3 = _InterlockedDecrement64((volatile signed __int64 *)a1);
    if ( (v3 & 0x3FF) == 0 )
    {
      a1 = 0xFFFF0000FFC00000uLL;
      if ( (v3 & 0xFFFF0000FFC00000uLL) != 0 )
      {
        return sub_1403C6F70((volatile signed __int64 *)a1, v3);
      }
    }
  }
  return a1;
}

// --- End Function: sub_1402D0950 (0x1402D0950) ---

// --- Function: sub_1402DC930 (0x1402DC930) ---
__int64 __fastcall sub_1402DC930(unsigned __int64 *a1, const void *a2, size_t Size)
{
  unsigned __int64 *pCZoneSystem; // rsi
  size_t Size_1; // r14
  unsigned __int64 v8; // rbp
  unsigned __int64 n8; // rdx
  unsigned __int64 v10; // rax
  __int64 result; // rax

  if ( Size )
  {
    pCZoneSystem = (unsigned __int64 *)a1[2];
    Size_1 = *a1;
    v8 = *a1 + Size;
    if ( v8 <= a1[1] )
    {
      memcpy((char *)pCZoneSystem + Size_1, a2, Size);
      *a1 += Size;
      result = a1[2];
      *(_BYTE *)(*a1 + result) = 0;
    }
    else
    {
      n8 = 2 * Size_1;
      if ( 2 * Size_1 <= v8 )
      {
        n8 = *a1 + Size;
      }
      if ( n8 )
      {
        if ( n8 < 8 )
        {
          n8 = 8;
        }
        sub_1402A1C40((__int64 *)a1, n8);
        memcpy((void *)a1[2], pCZoneSystem, Size_1);
        memcpy((void *)(Size_1 + a1[2]), a2, Size);
        v10 = a1[2];
        *a1 = v8;
        *(_BYTE *)(Size_1 + Size + v10) = 0;
      }
      result = (__int64)(a1 + 3);
      if ( pCZoneSystem != a1 + 3 )
      {
        qword_149808368 += 0xFFFFFFFFFFFFFFFFuLL - a1[1];
        sub_14739AF10((FH4 *)pCZoneSystem);
      }
    }
  }
  return result;
}

// --- End Function: sub_1402DC930 (0x1402DC930) ---

// --- Function: unknown_libname_10 (0x1402DFC60) ---
// Microsoft VisualC v14 64bit runtime
void __noreturn unknown_libname_10()
{
  std::_Xlength_error("vector too long");
}

// --- End Function: unknown_libname_10 (0x1402DFC60) ---

// --- Function: sub_1402E1770 (0x1402E1770) ---
unsigned __int64 __fastcall sub_1402E1770(__int64 a1, unsigned __int64 a2)
{
  const void *v3; // rcx
  unsigned __int64 result; // rax
  __int64 v5; // r14
  __int64 v6; // rsi
  char *v7; // rdi

  v3 = *(const void **)a1;
  result = (__int64)(*(_QWORD *)(a1 + 0x10) - (_QWORD)v3) >> 3;
  if ( a2 > result )
  {
    if ( a2 > 0x1FFFFFFFFFFFFFFFLL )
    {
      unknown_libname_10();
    }
    v5 = 8 * a2;
    v6 = (__int64)(*(_QWORD *)(a1 + 8) - (_QWORD)v3) >> 3;
    v7 = (char *)sub_14038E0B0(a1, 8 * a2);
    memmove(v7, *(const void **)a1, *(_QWORD *)(a1 + 8) - *(_QWORD *)a1);
    if ( *(_QWORD *)a1 )
    {
      sub_14039EFB0(a1, *(FH4 **)a1, (*(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1) & 0xFFFFFFFFFFFFFFF8uLL);
    }
    *(_QWORD *)a1 = v7;
    *(_QWORD *)(a1 + 8) = &v7[8 * v6];
    result = (unsigned __int64)&v7[v5];
    *(_QWORD *)(a1 + 0x10) = &v7[v5];
  }
  return result;
}

// --- End Function: sub_1402E1770 (0x1402E1770) ---

// --- Function: invokeGlobalCallbackAndMaskStatusBits (0x1402FE7C0) ---
// Invokes the global callback function stored in `qword_149808980` if it is non-
// null, passing the provided arguments. If the callback is null, it defaults to
// returning 1. The result (status bits) is then potentially modified by clearing
// bit 2 if `qword_149808998` is zero, and clearing bit 3 if `qword_1498089A0` is
// zero.
__int64 invokeGlobalCallbackAndMaskStatusBits(
        __int64 callback_arg1,
        __int64 callback_arg2,
        __int64 callback_arg3,
        const char *callback_arg4,
        ...)
{
  __int64 status_bits; // rax

  if ( qword_149808980 )
  {
    status_bits = qword_149808980(callback_arg1, callback_arg2, callback_arg3, callback_arg4);
  }
  else
  {
    status_bits = 1;
  }
  if ( !off_149808998 )
  {
    status_bits = (unsigned int)status_bits & 0xFFFFFFFB;
  }
  if ( !off_1498089A0 )
  {
    return (unsigned int)status_bits & 0xFFFFFFF7;
  }
  return status_bits;
}

// --- End Function: invokeGlobalCallbackAndMaskStatusBits (0x1402FE7C0) ---

// --- Function: sub_1403055F0 (0x1403055F0) ---
char *__fastcall sub_1403055F0(char **a1, _WORD *a2)
{
  char *v2; // rsi
  char *v4; // rcx
  char *result; // rax
  __int64 v7; // rdx
  __int64 v8; // rbp
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // r8
  unsigned __int64 v11; // r14
  __int64 v12; // r12
  _WORD *v13; // rdi
  void *v14; // rcx
  char *v15; // r8
  char *v16; // rdx
  char *v17; // rbp
  size_t Size; // r8

  v2 = a1[1];
  v4 = a1[2];
  if ( v2 == v4 )
  {
    v7 = 0x7FFFFFFFFFFFFFFFLL;
    v8 = (v2 - *a1) >> 1;
    if ( v8 == 0x7FFFFFFFFFFFFFFFLL )
    {
      unknown_libname_10();
    }
    v9 = (v4 - *a1) >> 1;
    v10 = v9 >> 1;
    v11 = v8 + 1;
    if ( v9 <= 0x7FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    {
      v7 = v10 + v9;
      if ( v10 + v9 < v11 )
      {
        v7 = v8 + 1;
      }
    }
    v12 = v7;
    v13 = (_WORD *)sub_14038E0B0((__int64)a1, 2 * v7);
    v13[v8] = *a2;
    v14 = v13;
    v15 = a1[1];
    v16 = *a1;
    v17 = (char *)&v13[v8];
    if ( v2 == v15 )
    {
      Size = v15 - v16;
    }
    else
    {
      memmove(v13, v16, v2 - v16);
      v14 = v17 + 2;
      Size = a1[1] - v2;
      v16 = v2;
    }
    memmove(v14, v16, Size);
    if ( *a1 )
    {
      sub_14039EFB0((__int64)a1, (FH4 *)*a1, 2 * ((a1[2] - *a1) >> 1));
    }
    *a1 = (char *)v13;
    result = v17;
    a1[1] = (char *)&v13[v11];
    a1[2] = (char *)&v13[v12];
  }
  else
  {
    *(_WORD *)v2 = *a2;
    result = a1[1];
    a1[1] = result + 2;
  }
  return result;
}

// --- End Function: sub_1403055F0 (0x1403055F0) ---

// --- Function: is_valid_handle_typeA (0x14030C820) ---
// Validates a packed handle/flags value pointed to by `packed_handle_ptr`.
// Extracts the handle (lower 48 bits) and flags (upper 16 bits). Retrieves
// metadata for the handle using `get_handle_metadata`. Checks if the metadata type
// (at offset +4) is 4, or if it's 2 and specific thread conditions are met (TEB
// data exists or `check_handle_state_and_access` passes). Also verifies
// consistency between metadata flags (at offset +2) and the input flags.
bool __fastcall is_valid_handle_typeA(__int64 *packed_handle_ptr)
{
  __int64 packed_handle_value; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 metadata_type; // cx

  packed_handle_value = *packed_handle_ptr;
  if ( !*packed_handle_ptr )
  {
    return 0;
  }
  handle_metadata_ptr = get_handle_metadata_ptr(packed_handle_value & 0xFFFFFFFFFFFFLL);
  metadata_type = *(_WORD *)(handle_metadata_ptr + 4);
  if ( metadata_type == 4 || *(_WORD *)(handle_metadata_ptr + 2) != (HIWORD(packed_handle_value) & 0xFFF) )
  {
    return 0;
  }
  if ( metadata_type != 2 || *(_QWORD *)a1() )
  {
    return check_handle_access_by_state(packed_handle_ptr) != 0;
  }
  return 1;
}

// --- End Function: is_valid_handle_typeA (0x14030C820) ---

// --- Function: is_valid_handle_typeB (0x14030C8B0) ---
// Validates a packed handle (QWORD containing a pointer in the lower 48 bits and
// flags in the upper 16 bits).  Calculates the pointer to the handle's metadata,
// potentially adjusting based on high flag bits (0xF000) using `map_flag_to_mask`.
// Checks if the lower 12 bits of the handle flags match the flags stored in the
// metadata (at offset +2).  If the metadata type (at offset +4) is 2 and certain
// thread state flags are set (checked via TLS offset +37 or
// `is_thread_flag_57_or_38_set`), the handle is considered valid.  Otherwise,
// delegates the validation to `check_handle_access_by_state_extended`.
bool __fastcall is_valid_handle_typeB(unsigned __int64 *packed_handle_ptr)
{
  unsigned __int64 packed_handle_value; // r9
  __int64 handle_ptr; // r10
  unsigned __int64 handle_flags; // r9
  __int64 mask_from_flag; // rax
  __int64 handle_ptr_copy; // r10
  __int64 metadata_ptr; // rbx
  bool is_thread_state_ok; // al

  packed_handle_value = *packed_handle_ptr;
  if ( !*packed_handle_ptr )
  {
    return 0;
  }
  handle_ptr = packed_handle_value & 0xFFFFFFFFFFFFLL;
  handle_flags = HIWORD(packed_handle_value);
  if ( (handle_flags & 0xF000) != 0 )
  {
    mask_from_flag = map_flag_to_mask(0x2000u);
    metadata_ptr = handle_ptr_copy & ~(mask_from_flag - 1);
  }
  else
  {
    metadata_ptr = handle_ptr - 6;
  }
  if ( *(_WORD *)(metadata_ptr + 2) != (handle_flags & 0xFFF) )
  {
    return 0;
  }
  if ( *(_BYTE *)(a1() + 0x25) || (is_thread_state_ok = is_thread_flag_57_or_38_set()) )
  {
    is_thread_state_ok = 1;
  }
  return *(_WORD *)(metadata_ptr + 4) == 2 && is_thread_state_ok
      || check_handle_access_by_state_extended(packed_handle_ptr) != 0;
}

// --- End Function: is_valid_handle_typeB (0x14030C8B0) ---

// --- Function: check_handle_access_by_state (0x14031DD70) ---
// Checks access permissions for the provided packed handle. Retrieves handle
// metadata using `get_handle_metadata`. Validates access based on the state field
// (metadata + 4): - State 0: Returns false (invalid). - State 1: Checks if the
// handle's payload exists in a thread-local list using
// `check_thread_list_contains_value`. - State 2: Returns true if specific thread
// flags are set (`get_thread_specific_data_offset_784() + 37` or
// `check_thread_flag_57_or_38`), otherwise validates access using
// `validate_access_with_virtual_calls` on the payload. - State 3: Checks thread
// state and compares the payload value against a constant using
// `check_thread_state_and_value_not_equal`. - Other states: Return false.
char __fastcall check_handle_access_by_state(_QWORD *packed_handle_ptr)
{
  __int64 handle_value; // rbx
  __int64 metadata_ptr; // rax
  _QWORD *payload_ptr; // rax
  __int64 payload_ptr_state2; // rax
  __int64 payload_ptr_state1; // rax

  handle_value = *packed_handle_ptr & 0xFFFFFFFFFFFFLL;
  metadata_ptr = get_handle_metadata_ptr(handle_value);
  if ( !*(_WORD *)(metadata_ptr + 4) )
  {
    return 0;
  }
  if ( *(_WORD *)(metadata_ptr + 4) == 1 )
  {
    payload_ptr_state1 = get_handle_payload_ptr(handle_value);
    return check_thread_list_contains_value(payload_ptr_state1);
  }
  if ( *(_WORD *)(metadata_ptr + 4) != 2 )
  {
    if ( *(_WORD *)(metadata_ptr + 4) == 3 )
    {
      payload_ptr = (_QWORD *)get_handle_payload_ptr(handle_value);
      return check_thread_state_and_value_not_equal(payload_ptr);
    }
    return 0;
  }
  if ( *(_BYTE *)(a1() + 0x25) || is_thread_flag_57_or_38_set() )
  {
    return 1;
  }
  payload_ptr_state2 = get_handle_payload_ptr(handle_value);
  return validate_access_with_virtual_calls(payload_ptr_state2);
}

// --- End Function: check_handle_access_by_state (0x14031DD70) ---

// --- Function: sub_14033D280 (0x14033D280) ---
_QWORD *__fastcall sub_14033D280(unsigned __int64 a1, _QWORD *a2)
{
  __int64 (__fastcall *v4)(unsigned __int64, char *, __int16 *); // rsi
  __int16 n0xFFFF; // ax
  __int64 v6; // rcx
  _QWORD *result; // rax
  __int16 n0xFFFF_1; // [rsp+40h] [rbp+8h] BYREF
  char v9; // [rsp+48h] [rbp+10h] BYREF
  char v10; // [rsp+50h] [rbp+18h] BYREF

  v4 = *(__int64 (__fastcall **)(unsigned __int64, char *, __int16 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_86;
  if ( n0xFFFF_86 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v9,
                          "IEntityComponentNetwork");
    n0xFFFF_86 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, &v10, &n0xFFFF_1);
  result = a2;
  *a2 = v6;
  return result;
}

// --- End Function: sub_14033D280 (0x14033D280) ---

// --- Function: sub_1403577C0 (0x1403577C0) ---
void **__fastcall sub_1403577C0(void **a1, const void **a2)
{
  size_t Size; // rsi
  _DWORD *v5; // rax

  *a1 = (char *)&qword_149808ABC + 4;
  Size = *((int *)*a2 + 0xFFFFFFFE);
  if ( (_DWORD)Size )
  {
    v5 = (_DWORD *)allocWithProfilerInfo(Size + 9, 0);
    *a1 = v5 + 2;
    *v5 = Size;
    v5[1] = Size;
    *((_BYTE *)*a1 + Size) = 0;
    if ( *a1 != *a2 )
    {
      memcpy(*a1, *a2, Size);
    }
  }
  return a1;
}

// --- End Function: sub_1403577C0 (0x1403577C0) ---

// --- Function: CreateStringObjectFromString (0x140357920) ---
// Creates a managed string object from a null-terminated C-style string.
// Allocates memory to hold metadata (length, capacity) and the string data. The
// returned pointer points to the string data, with metadata stored immediately
// before it.  Memory Layout: `[DWORD length] [DWORD capacity] [char data...] [char
// '\0']`  @param ppStringObjectData Output parameter; receives the pointer to the
// string data within the newly created object. @param pszInputString The null-
// terminated C-style string to copy. @return Returns the `ppStringObjectData`
// pointer.
void **__fastcall CreateStringObjectFromString(void **ppStringObjectData, _BYTE *pszInputString)
{
  unsigned __int64 inputStringLength; // rbx
  _DWORD *pAllocatedBuffer; // rax

  *ppStringObjectData = (char *)&qword_149808ABC + 4;
  if ( !pszInputString )
  {
    return ppStringObjectData;
  }
  inputStringLength = 0xFFFFFFFFFFFFFFFFuLL;
  do
  {
    ++inputStringLength;
  }
  while ( pszInputString[inputStringLength] );
  if ( (_DWORD)inputStringLength )
  {
    pAllocatedBuffer = (_DWORD *)allocWithProfilerInfo((int)inputStringLength + 9LL, 0);
    *ppStringObjectData = pAllocatedBuffer + 2;
    *pAllocatedBuffer = inputStringLength;
    pAllocatedBuffer[1] = inputStringLength;
    *((_BYTE *)*ppStringObjectData + (int)inputStringLength) = 0;
    if ( *ppStringObjectData != pszInputString )
    {
      memcpy(*ppStringObjectData, pszInputString, (int)inputStringLength);
    }
  }
  return ppStringObjectData;
}

// --- End Function: CreateStringObjectFromString (0x140357920) ---

// --- Function: initializeEmptyStringStructure (0x140357A40) ---
// Initializes the string structure pointed to by `a1` to represent an empty string
// by setting its internal pointer to the global empty string sentinel
// `qword_149808ABC + 4`.
void __fastcall initializeEmptyStringStructure(_QWORD *string_struct_ptr)
{
  *string_struct_ptr = (char *)&qword_149808ABC + 4;
}

// --- End Function: initializeEmptyStringStructure (0x140357A40) ---

// --- Function: sub_14035C280 (0x14035C280) ---
_DWORD *__fastcall sub_14035C280(_DWORD *a1, __int64 *a2)
{
  __int64 v4; // [rsp+30h] [rbp+8h] BYREF

  *a1 = 0xF0000000;
  v4 = *a2;
  if ( (_WORD)v4 != 0xFFFF )
  {
    (*(void (__fastcall **)(__int64, _DWORD *, __int64 *))(*(_QWORD *)qword_14981D218 + 0x70LL))(
      qword_14981D218,
      a1,
      &v4);
  }
  return a1;
}

// --- End Function: sub_14035C280 (0x14035C280) ---

// --- Function: Mat44f::SetIdentity (0x14035C6E0) ---
_DWORD *__fastcall Mat44f::SetIdentity(_DWORD *a1)
{
  *a1 = 0xF0000000;
  return a1;
}

// --- End Function: Mat44f::SetIdentity (0x14035C6E0) ---

// --- Function: sub_140368960 (0x140368960) ---
__int64 __fastcall sub_140368960(__int64 a1, int a2)
{
  *(_DWORD *)a1 = a2;
  *(_QWORD *)(a1 + 8) = 0;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_QWORD *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)(a1 + 0x28) = 0;
  *(_QWORD *)(a1 + 0x30) = 0;
  return a1;
}

// --- End Function: sub_140368960 (0x140368960) ---

// --- Function: sub_140368980 (0x140368980) ---
__int64 __fastcall sub_140368980(__int64 a1)
{
  *(_QWORD *)(a1 + 8) = 0;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_DWORD *)a1 = 0x2D;
  *(_QWORD *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)(a1 + 0x28) = 0;
  *(_QWORD *)(a1 + 0x30) = 0;
  return a1;
}

// --- End Function: sub_140368980 (0x140368980) ---

// --- Function: sub_14036B680 (0x14036B680) ---
__int64 __fastcall sub_14036B680(__int64 a1)
{
  __int64 result; // rax

  *(_QWORD *)a1 = 0;
  result = a1;
  *(_WORD *)(a1 + 8) = 0;
  return result;
}

// --- End Function: sub_14036B680 (0x14036B680) ---

// --- Function: DestroyStringObject (0x14036D270) ---
// Deallocates the memory buffer associated with a string object created by
// `CreateStringObjectFromString`.  It accesses metadata stored 8 bytes before the
// provided data pointer to get the allocation base pointer required by the
// deallocation function `sub_14739AF10`.  @param ppStringObjectData Pointer to the
// variable holding the pointer to the string object's data.
void __fastcall DestroyStringObject(_QWORD *ppStringObjectData)
{
  int *pStringMetadata; // rcx

  pStringMetadata = (int *)(*ppStringObjectData - 8LL);
  if ( pStringMetadata[1] > 0 )
  {
    sub_14739AF10(pStringMetadata);
  }
}

// --- End Function: DestroyStringObject (0x14036D270) ---

// --- Function: sub_14036EF50 (0x14036EF50) ---
__int64 __fastcall sub_14036EF50(_DWORD *a1)
{
  __int64 result; // rax

  if ( *a1 != 0xF0000000 )
  {
    return (*(__int64 (__fastcall **)(__int64, _DWORD *))(*(_QWORD *)qword_14981D218 + 0xF8LL))(qword_14981D218, a1);
  }
  return result;
}

// --- End Function: sub_14036EF50 (0x14036EF50) ---

// --- Function: sub_14036F390 (0x14036F390) ---
__int64 (__fastcall **__fastcall sub_14036F390(_QWORD *a1))()
{
  __int64 (__fastcall **result)(); // rax

  result = off_147F420D8;
  *a1 = off_147F420D8;
  return result;
}

// --- End Function: sub_14036F390 (0x14036F390) ---

// --- Function: assignCStringToStringStructure (0x140374520) ---
// Assigns the content of the null-terminated C-string `a2` to the custom string
// structure pointed to by `a1`. Calculates the length of `a2` and calls
// `sub_1403D9750` to handle buffer management and copying.
void **__fastcall assignCStringToStringStructure(void **string_struct_ptr, _BYTE *c_string)
{
  unsigned __int64 c_string_length; // rax

  if ( c_string )
  {
    c_string_length = 0xFFFFFFFFFFFFFFFFuLL;
    do
    {
      ++c_string_length;
    }
    while ( c_string[c_string_length] );
    sub_1403D9750(string_struct_ptr, c_string, (int)c_string_length);
    return string_struct_ptr;
  }
  else
  {
    sub_1403D9750(string_struct_ptr, 0, 0);
    return string_struct_ptr;
  }
}

// --- End Function: assignCStringToStringStructure (0x140374520) ---

// --- Function: AssetMeta::HasActorSubresource (0x14037C210) ---
bool __fastcall AssetMeta::HasActorSubresource(__int64 *a1)
{
  __int64 v1; // rbx
  __int64 v3; // rax
  __int16 n4; // cx

  v1 = *a1;
  if ( !*a1 )
  {
    return 0;
  }
  v3 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)global_validator_object + 0x128LL))(
         global_validator_object,
         v1 & 0xFFFFFFFFFFFFLL,
         0);
  n4 = *(_WORD *)(v3 + 4);
  if ( n4 == 4 || *(_WORD *)(v3 + 2) != (HIWORD(v1) & 0xFFF) )
  {
    return 0;
  }
  if ( n4 != 2 || *(_QWORD *)a1() )
  {
    return check_indirect_handle_access_by_state(a1) != 0;
  }
  return 1;
}

// --- End Function: AssetMeta::HasActorSubresource (0x14037C210) ---

// --- Function: sub_14038D900 (0x14038D900) ---
char __fastcall sub_14038D900(__int64 a1, __int64 a2)
{
  __int64 v3; // [rsp+38h] [rbp+10h] BYREF

  v3 = a2;
  if ( (_WORD)a2 == 0xFFFF )
  {
    return 0;
  }
  else
  {
    return (*(__int64 (__fastcall **)(__int64, __int64, __int64 *))(*(_QWORD *)qword_14981D218 + 0x70LL))(
             qword_14981D218,
             a1,
             &v3);
  }
}

// --- End Function: sub_14038D900 (0x14038D900) ---

// --- Function: sub_14038E0B0 (0x14038E0B0) ---
__int64 __fastcall sub_14038E0B0(__int64 a1, unsigned __int64 n0x6400000)
{
  __m256i *v3; // rsi
  unsigned __int64 n0x40; // rbp
  __int64 result; // rax
  unsigned __int64 n0x40_1; // r9
  unsigned __int64 n0x4000; // rbx
  __int64 v8; // rcx
  unsigned __int64 n0x4000_1; // rcx
  unsigned __int64 n0x4000_2; // r8
  unsigned __int64 n0x40_2; // rcx
  unsigned __int64 n0x4000_3; // rax
  int v13; // eax
  unsigned __int64 v14; // rdx
  unsigned int v15; // edi
  _QWORD v16[2]; // [rsp+30h] [rbp-38h] BYREF
  _QWORD v17[4]; // [rsp+40h] [rbp-28h] BYREF
  const char *p_CigTemporaryAllocator; // [rsp+78h] [rbp+10h] BYREF

  v3 = (__m256i *)sub_1403AF4C0();
  n0x40 = (n0x6400000 >> 8) + ((_BYTE)n0x6400000 != 0);
  if ( n0x40 < 0x4000 )
  {
    n0x40_1 = 0;
    n0x4000 = 0;
    if ( n0x40 <= 0x40 )
    {
      goto LABEL_7;
    }
    while ( v3[1].m256i_i64[(n0x4000 >> 6) + 1] )
    {
      n0x4000 += 0x40LL;
      if ( n0x4000 >= 0x4000 )
      {
        goto LABEL_2;
      }
    }
LABEL_7:
    while ( n0x40_1 != n0x40 )
    {
      v8 = v3[1].m256i_i64[(n0x4000 >> 6) + 1];
      if ( _bittest64(&v8, n0x4000 & 0x3F) )
      {
        n0x40_1 = 0xFFFFFFFFFFFFFFFFuLL;
      }
      ++n0x4000;
      ++n0x40_1;
      if ( n0x4000 >= 0x4000 )
      {
        if ( n0x40_1 != n0x40 )
        {
          goto LABEL_2;
        }
        break;
      }
    }
    n0x4000_1 = n0x4000;
    n0x4000_2 = n0x4000 - n0x40_1;
    if ( n0x4000 >= ((n0x4000 - n0x40_1) & 0xFFFFFFFFFFFFFFC0uLL) + 0x40 )
    {
      n0x4000_1 = (n0x4000_2 & 0xFFFFFFFFFFFFFFC0uLL) + 0x40;
    }
    n0x40_2 = n0x4000_1 - n0x4000_2;
    if ( (n0x4000_2 & 0x3F) != 0 || n0x40_2 < 0x40 )
    {
      v3[1].m256i_i64[(n0x4000_2 >> 6) + 1] |= ((1LL << n0x40_2) - 1) << ((n0x4000 - n0x40_1) & 0x3F);
      n0x4000_2 = ((n0x4000 - n0x40_1) & 0xFFFFFFFFFFFFFFC0uLL) + 0x40;
    }
    for ( ;
          n0x4000_2 + 0x40 <= (n0x4000 & 0xFFFFFFFFFFFFFFC0uLL);
          v3[1].m256i_i64[(n0x4000_3 >> 6) + 1] = 0xFFFFFFFFFFFFFFFFuLL )
    {
      n0x4000_3 = n0x4000_2;
      n0x4000_2 += 0x40LL;
    }
    if ( n0x4000_2 < n0x4000 )
    {
      v3[1].m256i_i64[(n0x4000_2 >> 6) + 1] |= (1LL << ((__int64)n0x4000 % 0x40)) - 1;
    }
    if ( !v3->m256i_i64[0] )
    {
      v16[0] = 0x200000;
      v17[0] = v16;
      v16[1] = 0;
      v17[1] = v17;
      v13 = sub_14056A090((__int64)v17);
      p_CigTemporaryAllocator = "CigTemporaryAllocator";
      *v3 = *(__m256i *)sub_14056A0D0((__int64)v17, 0x400000, v13, &p_CigTemporaryAllocator, 0, 0);
    }
    v14 = v3[1].m256i_u32[0];
    if ( n0x4000 << 8 > v14 )
    {
      v15 = -v3->m256i_i32[5] & (((_DWORD)n0x4000 << 8) - v14 + v3->m256i_i32[5] - 1);
      __asm { vzeroupper }
      sub_140569F50((__int64)v3, v3->m256i_i64[0] + v14, v15);
      v3[1].m256i_i32[0] += v15;
    }
    result = v3->m256i_i64[0] + ((n0x4000 - n0x40) << 8);
  }
  else
  {
LABEL_2:
    result = allocWithProfilerInfo(n0x6400000, 0);
  }
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_14038E0B0 (0x14038E0B0) ---

// --- Function: check_indirect_handle_access_by_state (0x14038E530) ---
// Checks access permissions for a handle stored indirectly. Takes a pointer `a1`
// to a structure containing a primary packed handle. Extracts the primary handle
// `v1 = *a1 & 0xFFFFFFFFFFFFLL`. Retrieves metadata for `v1` using
// `get_handle_metadata`. Validates access based on the state field (metadata + 4):
// - State 0: Returns false. - State 1: Extracts payload handle from `*(v1 + 8)`
// and calls `check_thread_list_contains_value`. - State 2: Extracts payload handle
// from `*(v1 + 8)`; returns true if thread flags set, otherwise calls
// `validate_access_with_virtual_calls` on payload handle. - State 3: Extracts
// payload handle from `*(v1 + 8)`; checks thread state and compares payload handle
// value against 0x13374770CLL. - Other states: Return false.
char __fastcall check_indirect_handle_access_by_state(_QWORD *packed_handle_owner_ptr)
{
  __int64 primary_handle_value; // rbx
  __int64 metadata_ptr; // rax
  __int64 thread_specific_data; // rax

  primary_handle_value = *packed_handle_owner_ptr & 0xFFFFFFFFFFFFLL;
  metadata_ptr = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)global_validator_object + 0x128LL))(
                   global_validator_object,
                   primary_handle_value,
                   0);
  if ( !*(_WORD *)(metadata_ptr + 4) )
  {
    return 0;
  }
  if ( *(_WORD *)(metadata_ptr + 4) == 1 )
  {
    return check_thread_list_contains_value(*(_QWORD *)(primary_handle_value + 8) & 0xFFFFFFFFFFFFLL);
  }
  if ( *(_WORD *)(metadata_ptr + 4) != 2 )
  {
    if ( *(_WORD *)(metadata_ptr + 4) == 3 )
    {
      thread_specific_data = *(_QWORD *)(*(_QWORD *)(a1() + 0x10) + 8LL);
      if ( thread_specific_data )
      {
        if ( *(_DWORD *)(thread_specific_data + 8) == 1 )
        {
          return *(_QWORD *)(*(_QWORD *)(primary_handle_value + 8) & 0xFFFFFFFFFFFFLL) != 0x13374770CLL;
        }
      }
    }
    return 0;
  }
  if ( *(_BYTE *)(a1() + 0x25) || is_thread_flag_57_or_38_set() )
  {
    return 1;
  }
  else
  {
    return validate_access_with_virtual_calls(*(_QWORD *)(primary_handle_value + 8) & 0xFFFFFFFFFFFFLL);
  }
}

// --- End Function: check_indirect_handle_access_by_state (0x14038E530) ---

// --- Function: check_handle_access_by_state_extended (0x14038E620) ---
// Checks access permissions for the provided packed handle using extended logic.
// Calculates the metadata pointer based on high bits in the packed handle.
// Validates access based on the state field (metadata + 4): - State 0: Returns
// false (invalid). - State 1: Checks if the handle's payload exists in a thread-
// local list using `check_thread_list_contains_value`. - State 2: Returns true if
// specific thread flags are set (`get_thread_specific_data_offset_784() + 37` or
// `check_thread_flag_57_or_38`), otherwise validates access using
// `validate_access_with_virtual_calls` on the payload. - State 3 or 4: Returns
// true if thread data exists, its status field at +8 is 1, and the payload value
// is not equal to the constant 0x13374770CLL. - Other states: Return false.
char __fastcall check_handle_access_by_state_extended(_QWORD *packed_handle_ptr)
{
  _QWORD *handle_payload_ptr; // rbx
  __int64 metadata_ptr; // rax
  __int64 thread_specific_data; // rax

  handle_payload_ptr = (_QWORD *)(*packed_handle_ptr & 0xFFFFFFFFFFFFLL);
  if ( (*packed_handle_ptr & 0xF000000000000000uLL) != 0 )
  {
    metadata_ptr = *packed_handle_ptr & 0xFFFFFF000000LL;
  }
  else
  {
    metadata_ptr = (__int64)handle_payload_ptr + 0xFFFFFFFA;
  }
  if ( !*(_WORD *)(metadata_ptr + 4) )
  {
    return 0;
  }
  if ( *(_WORD *)(metadata_ptr + 4) == 1 )
  {
    return check_thread_list_contains_value((__int64)handle_payload_ptr);
  }
  if ( *(_WORD *)(metadata_ptr + 4) != 2 )
  {
    if ( (unsigned int)*(unsigned __int16 *)(metadata_ptr + 4) - 3 <= 1 )
    {
      thread_specific_data = *(_QWORD *)(*(_QWORD *)(a1() + 0x10) + 8LL);
      if ( thread_specific_data )
      {
        if ( *(_DWORD *)(thread_specific_data + 8) == 1 )
        {
          return *handle_payload_ptr != 0x13374770CLL;
        }
      }
    }
    return 0;
  }
  if ( *(_BYTE *)(a1() + 0x25) || is_thread_flag_57_or_38_set() )
  {
    return 1;
  }
  else
  {
    return validate_access_with_virtual_calls((__int64)handle_payload_ptr);
  }
}

// --- End Function: check_handle_access_by_state_extended (0x14038E620) ---

// --- Function: sub_14039EFB0 (0x14039EFB0) ---
void __fastcall sub_14039EFB0(__int64 a1, FH4 *pCZoneSystem, unsigned __int64 a3)
{
  __int64 v5; // rax
  unsigned __int64 pCZoneSystem_1; // rcx
  unsigned __int64 v7; // rbx
  unsigned __int64 v8; // r10
  unsigned __int64 v9; // rcx
  unsigned __int64 n0x40; // rcx
  unsigned __int64 v11; // rcx

  v5 = sub_1403AF4C0();
  pCZoneSystem_1 = *(_QWORD *)v5;
  if ( *(_QWORD *)v5
    && (unsigned __int64)pCZoneSystem >= pCZoneSystem_1
    && (unsigned __int64)pCZoneSystem < pCZoneSystem_1 + *(unsigned int *)(v5 + 0x20) )
  {
    v7 = ((unsigned __int64)pCZoneSystem - pCZoneSystem_1) >> 8;
    v8 = (a3 >> 8) + v7 + ((_BYTE)a3 != 0);
    v9 = v8;
    if ( v8 >= (v7 & 0xFFFFFFFFFFFFFFC0uLL) + 0x40 )
    {
      v9 = (v7 & 0xFFFFFFFFFFFFFFC0uLL) + 0x40;
    }
    n0x40 = v9 - v7;
    if ( (v7 & 0x3F) != 0 || n0x40 < 0x40 )
    {
      *(_QWORD *)(v5 + 8 * (v7 >> 6) + 0x28) &= ~(((1LL << n0x40) - 1) << (v7 & 0x3F));
      v7 = (v7 & 0xFFFFFFFFFFFFFFC0uLL) + 0x40;
    }
    for ( ; v7 + 0x40 <= (v8 & 0xFFFFFFFFFFFFFFC0uLL); *(_QWORD *)(v5 + 8 * (v11 >> 6) + 0x28) = 0 )
    {
      v11 = v7;
      v7 += 0x40LL;
    }
    if ( v7 < v8 )
    {
      *(_QWORD *)(v5 + 8 * (v7 >> 6) + 0x28) &= ~((1LL << ((__int64)v8 % 0x40)) - 1);
    }
  }
  else
  {
    sub_14739AF10(pCZoneSystem);
  }
}

// --- End Function: sub_14039EFB0 (0x14039EFB0) ---

// --- Function: sub_14039FDF0 (0x14039FDF0) ---
char __fastcall sub_14039FDF0(__int64 a1, int *a2)
{
  unsigned int v4; // r14d
  __int64 v5; // r8
  __int64 v6; // rbx
  unsigned int v7; // esi
  __int64 n4; // rsi
  unsigned __int64 n4_1; // rsi
  unsigned __int64 v11; // rbp
  __int64 v12; // rdx
  __int64 v13; // r8
  unsigned __int64 j; // rcx
  unsigned __int64 i; // rbp
  __int64 v16; // rdx
  __int64 v17; // r8
  __int64 v18; // rcx
  int v19; // [rsp+58h] [rbp+10h] BYREF
  __int64 v20; // [rsp+60h] [rbp+18h] BYREF
  __int64 v21; // [rsp+68h] [rbp+20h] BYREF

  v4 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D218 + 0x108LL))(qword_14981D218);
  v5 = *(_QWORD *)qword_14981D218;
  v19 = *a2;
  v6 = (*(__int64 (__fastcall **)(__int64, int *))(v5 + 0x130))(qword_14981D218, &v19);
  v7 = 0;
  while ( !(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D218 + 0x100LL))(
             qword_14981D218,
             a1 + 8LL * v7)
       && !(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D218 + 0x100LL))(
             qword_14981D218,
             a1 + 8LL * v7 + 4) )
  {
    if ( ++v7 >= 4 )
    {
      n4 = 4;
      if ( *(_WORD *)(a1 + 0x28) <= 4u )
      {
        return 0;
      }
      while ( !(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D218 + 0x100LL))(
                 qword_14981D218,
                 *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4)
           && !(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D218 + 0x100LL))(
                 qword_14981D218,
                 *(_QWORD *)(a1 + 0x20) - 0x1CLL + 8 * n4) )
      {
        if ( ++n4 >= (unsigned __int64)*(unsigned __int16 *)(a1 + 0x28) )
        {
          return 0;
        }
      }
      break;
    }
  }
  for ( n4_1 = 0; n4_1 < *(unsigned __int16 *)(a1 + 0x28); ++n4_1 )
  {
    v11 = 0;
LABEL_12:
    if ( n4_1 >= 4 )
    {
      v12 = *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4_1;
    }
    else
    {
      v12 = a1 + 8 * n4_1;
    }
    if ( v11 >= (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D218 + 0x100LL))(
                  qword_14981D218,
                  v12) )
    {
      for ( i = 0; ; ++i )
      {
        if ( n4_1 >= 4 )
        {
          v16 = *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4_1;
        }
        else
        {
          v16 = a1 + 8 * n4_1;
        }
        if ( i >= (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D218 + 0x100LL))(
                    qword_14981D218,
                    v16 + 4) )
        {
          return 1;
        }
        v17 = n4_1 >= 4 ? *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4_1 : a1 + 8 * n4_1;
        (*(void (__fastcall **)(__int64, __int64 *, __int64, _QWORD))(*(_QWORD *)qword_14981D218 + 0x128LL))(
          qword_14981D218,
          &v21,
          v17 + 4,
          (unsigned int)i);
        v18 = 0;
        if ( v4 )
        {
          break;
        }
LABEL_35:
        ;
      }
      while ( *(_WORD *)(v6 + 2 * v18) != (_WORD)v21 )
      {
        if ( ++v18 >= (unsigned __int64)v4 )
        {
          goto LABEL_35;
        }
      }
    }
    else
    {
      if ( n4_1 >= 4 )
      {
        v13 = *(_QWORD *)(a1 + 0x20) - 0x20LL + 8 * n4_1;
      }
      else
      {
        v13 = a1 + 8 * n4_1;
      }
      (*(void (__fastcall **)(__int64, __int64 *, __int64, _QWORD))(*(_QWORD *)qword_14981D218 + 0x128LL))(
        qword_14981D218,
        &v20,
        v13,
        (unsigned int)v11);
      for ( j = 0; j < v4; ++j )
      {
        if ( *(_WORD *)(v6 + 2 * j) == (_WORD)v20 )
        {
          ++v11;
          goto LABEL_12;
        }
      }
    }
  }
  return 0;
}

// --- End Function: sub_14039FDF0 (0x14039FDF0) ---

// --- Function: sub_1403A5050 (0x1403A5050) ---
void **sub_1403A5050(void **a1, const char *Format, ...)
{
  _QWORD *v4; // rdi
  int BufferCount_2; // eax
  int BufferCount_1; // ecx
  size_t BufferCount; // rbx
  va_list va; // [rsp+70h] [rbp+18h] BYREF

  va_start(va, Format);
  v4 = sub_1402A2470();
  BufferCount_2 = _stdio_common_vsprintf(*v4 | 2LL, 0, 0, Format, 0, va);
  if ( BufferCount_2 < 0 )
  {
    BufferCount_2 = 0xFFFFFFFF;
  }
  BufferCount_1 = 0;
  if ( BufferCount_2 >= 0 )
  {
    BufferCount_1 = BufferCount_2;
  }
  BufferCount = BufferCount_1;
  sub_1403E4C30(a1, BufferCount_1, 0x20);
  _stdio_common_vsprintf(*v4 | 1LL, (char *)*a1, BufferCount, Format, 0, va);
  return a1;
}

// --- End Function: sub_1403A5050 (0x1403A5050) ---

// --- Function: get_handle_metadata_ptr (0x1403B0A30) ---
// Retrieves a pointer to the metadata structure associated with the given handle.
// Calls the virtual function at offset +296 on the global object
// `global_validator_object`, passing the handle.
__int64 __fastcall get_handle_metadata_ptr(__int64 handle_value)
{
  return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)global_validator_object + 0x128LL))(
           global_validator_object,
           handle_value,
           0);
}

// --- End Function: get_handle_metadata_ptr (0x1403B0A30) ---

// --- Function: sub_1403B2260 (0x1403B2260) ---
__int64 __fastcall sub_1403B2260(__int64 a1)
{
  return *(unsigned int *)(a1 + 0xC0);
}

// --- End Function: sub_1403B2260 (0x1403B2260) ---

// --- Function: sub_1403B3190 (0x1403B3190) ---
__int64 __fastcall sub_1403B3190(__int64 a1, __int64 a2, unsigned int a3)
{
  (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_14981D218 + 0x128LL))(
    qword_14981D218,
    a2,
    a1,
    a3);
  return a2;
}

// --- End Function: sub_1403B3190 (0x1403B3190) ---

// --- Function: sub_1403B31D0 (0x1403B31D0) ---
__int64 __fastcall sub_1403B31D0(__int64 a1)
{
  return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D218 + 0x100LL))(qword_14981D218, a1);
}

// --- End Function: sub_1403B31D0 (0x1403B31D0) ---

// --- Function: sub_1403B6060 (0x1403B6060) ---
unsigned __int64 __fastcall sub_1403B6060(__int64 a1, unsigned __int64 a2, _QWORD *a3)
{
  unsigned __int64 v3; // rsi
  __int64 v8; // rbx
  int v9; // r14d
  unsigned __int32 v10; // eax
  unsigned __int64 v11; // r8
  unsigned __int64 v12; // rdx
  __int64 v13; // r14
  unsigned __int64 v14; // rdi
  int v15; // eax

  v3 = *(_QWORD *)(a1 + 0x20);
  if ( v3 >= a2 )
  {
    return 0;
  }
  v8 = a1 + 0x38;
  v9 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(v8 + 4) == v9 )
  {
    ++*(_DWORD *)(v8 + 8);
  }
  else
  {
    v10 = _InterlockedCompareExchange((volatile signed __int32 *)v8, 1, 0);
    if ( v10 )
    {
      sub_1403BF290((volatile signed __int32 *)v8, v10, (__int64)"CIGThreadSafeContainer::GrowTo", 0);
    }
    *(_DWORD *)(v8 + 4) = v9;
  }
  v11 = *(_QWORD *)(a1 + 0x28);
  if ( a2 > v11 )
  {
    v12 = (a2 - v11) % *(_QWORD *)(a1 + 0x30);
    v13 = *(_QWORD *)(a1 + 0x30) + a2 - v11 - v12;
    if ( *(_QWORD *)(a1 + 0x30) + a2 - v12 > *(_QWORD *)(a1 + 8) )
    {
      LogFatalError("Not enough storage reserved for thread safe container");
    }
    sub_140569F50(a1, *(_QWORD *)a1 + *(_QWORD *)(a1 + 0x28), v13);
    *(_QWORD *)(a1 + 0x28) += v13;
  }
  do
  {
    if ( v3 == _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x20), a2, v3) )
    {
      break;
    }
    v3 = *(_QWORD *)(a1 + 0x20);
  }
  while ( a2 > v3 );
  if ( a2 >= v3 )
  {
    *a3 = a2 - v3;
    v14 = v3 + *(_QWORD *)a1;
  }
  else
  {
    v14 = 0;
  }
  v15 = *(_DWORD *)(v8 + 8);
  if ( v15 )
  {
    *(_DWORD *)(v8 + 8) = v15 - 1;
  }
  else
  {
    *(_DWORD *)(v8 + 4) = 0xFFFFFFFF;
    sub_1402D8F60((volatile signed __int32 *)v8);
  }
  return v14;
}

// --- End Function: sub_1403B6060 (0x1403B6060) ---

// --- Function: get_event_key_from_source_location (0x1403B78D0) ---
// Retrieves an event key (DWORD ID) based on input parameters, likely source file
// path and line number. Dynamically resolves the address of the `__GetEventKey__`
// function using GetProcAddress/LoadLibraryA on the first call and caches the
// result. Calls the resolved function with `a2` (source path?) and `a3` (line
// number?) and stores the returned key in `*a1`.
__int64 __fastcall get_event_key_from_source_location(
        _DWORD *out_event_key_ptr,
        __int64 source_file_path,
        __int64 source_line_number)
{
  FARPROC get_event_key_func_ptr; // rbx
  HMODULE current_module_handle; // rax
  HMODULE hModule; // rax
  __int64 event_key_func_ptr; // rax

  get_event_key_func_ptr = (FARPROC)_GetEventKey___0;
  if ( !_GetEventKey___0 )
  {
    current_module_handle = GetModuleHandleA(0);
    get_event_key_func_ptr = GetProcAddress(current_module_handle, "__GetEventKey__");
    if ( !get_event_key_func_ptr )
    {
      hModule = LoadLibraryA(0);
      if ( hModule )
      {
        get_event_key_func_ptr = GetProcAddress(hModule, "__GetEventKey__");
      }
    }
    _GetEventKey___0 = (__int64)get_event_key_func_ptr;
  }
  event_key_func_ptr = ((__int64 (__fastcall *)(__int64, __int64))get_event_key_func_ptr)(
                         source_file_path,
                         source_line_number);
  *out_event_key_ptr = event_key_func_ptr;
  return event_key_func_ptr;
}

// --- End Function: get_event_key_from_source_location (0x1403B78D0) ---

// --- Function: sub_1403BB9F0 (0x1403BB9F0) ---
bool __fastcall sub_1403BB9F0(_QWORD *a1)
{
  return *(_DWORD *)(*a1 - 8LL) == 0;
}

// --- End Function: sub_1403BB9F0 (0x1403BB9F0) ---

// --- Function: sub_1403BF290 (0x1403BF290) ---
__int64 __fastcall sub_1403BF290(volatile signed __int32 *a1, unsigned __int32 a2, __int64 a3, char a4)
{
  __int64 result; // rax
  char v7; // r14
  signed __int32 v8; // ecx
  bool v9; // zf
  unsigned __int32 v10; // esi
  signed __int32 v11; // eax
  unsigned __int32 v12; // [rsp+30h] [rbp-69h] BYREF
  unsigned __int32 v13[3]; // [rsp+34h] [rbp-65h] BYREF
  int n0x1600; // [rsp+40h] [rbp-59h] BYREF
  __int64 v15; // [rsp+44h] [rbp-55h]
  int v16; // [rsp+4Ch] [rbp-4Dh]
  __int64 v17; // [rsp+50h] [rbp-49h]
  unsigned __int64 v18; // [rsp+58h] [rbp-41h]
  __int64 v19; // [rsp+60h] [rbp-39h]
  __int64 v20; // [rsp+68h] [rbp-31h]
  int n0x1600_1; // [rsp+90h] [rbp-9h] BYREF
  __int64 v22; // [rsp+94h] [rbp-5h]
  int v23; // [rsp+9Ch] [rbp+3h]
  __int64 v24; // [rsp+A0h] [rbp+7h]
  unsigned __int64 v25; // [rsp+A8h] [rbp+Fh]
  __int64 v26; // [rsp+B0h] [rbp+17h]
  __int64 v27; // [rsp+B8h] [rbp+1Fh]

  if ( a4 && *(_BYTE *)(a1() + 0x1C) && qword_14981D3D8 )
  {
    return sub_1403BF450(a1, a2);
  }
  v7 = 0;
  do
  {
    while ( (a2 & 1) != 0 )
    {
      if ( v7 )
      {
        n0x1600 = 0x1600;
        v15 = 0;
        v16 = 0;
        v18 = 0;
        v19 = 0;
        v20 = 0;
        v17 = 1;
        psub_7FF6AAB938D0(
          &n0x1600,
          0,
          &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
          &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
          0);
        v12 = a2;
        off_149808B88(a1, &v12, 4, 0xFFFFFFFFLL);
        a2 = *a1;
        v18 = __rdtsc();
        psub_7FF6AAB93930(&n0x1600);
      }
      else
      {
        v10 = a2 + 2;
        v11 = _InterlockedCompareExchange(a1, a2 + 2, a2);
        v9 = a2 == v11;
        a2 = v11;
        if ( v9 )
        {
          n0x1600_1 = 0x1600;
          v22 = 0;
          v23 = 0;
          v25 = 0;
          v7 = 1;
          v26 = 0;
          v27 = 0;
          v24 = 1;
          psub_7FF6AAB938D0(
            &n0x1600_1,
            0,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            0);
          v13[0] = v10;
          off_149808B88(a1, v13, 4, 0xFFFFFFFFLL);
          a2 = *a1;
          v25 = __rdtsc();
          psub_7FF6AAB93930(&n0x1600_1);
        }
      }
    }
    v8 = (a2 | 1) - 2;
    if ( !v7 )
    {
      v8 = a2 | 1;
    }
    result = (unsigned int)_InterlockedCompareExchange(a1, v8, a2);
    v9 = a2 == (_DWORD)result;
    a2 = result;
  }
  while ( !v9 );
  return result;
}

// --- End Function: sub_1403BF290 (0x1403BF290) ---

// --- Function: sub_1403C6C70 (0x1403C6C70) ---
void __fastcall sub_1403C6C70(volatile signed __int64 *a1, signed __int64 a2, __int64 a3, __int64 a4, char a5)
{
  int *p_n0x1600; // rcx
  int v8; // esi
  bool v9; // zf
  signed __int64 v10; // rax
  int v11; // [rsp+30h] [rbp-61h] BYREF
  _DWORD v12[3]; // [rsp+34h] [rbp-5Dh] BYREF
  int n0x1600_1; // [rsp+40h] [rbp-51h] BYREF
  __int64 v14; // [rsp+44h] [rbp-4Dh]
  int v15; // [rsp+4Ch] [rbp-45h]
  __int64 v16; // [rsp+50h] [rbp-41h]
  unsigned __int64 v17; // [rsp+58h] [rbp-39h]
  __int64 v18; // [rsp+60h] [rbp-31h]
  __int64 v19; // [rsp+68h] [rbp-29h]
  int n0x1600; // [rsp+90h] [rbp-1h] BYREF
  __int64 v21; // [rsp+94h] [rbp+3h]
  int v22; // [rsp+9Ch] [rbp+Bh]
  __int64 v23; // [rsp+A0h] [rbp+Fh]
  unsigned __int64 v24; // [rsp+A8h] [rbp+17h]
  __int64 v25; // [rsp+B0h] [rbp+1Fh]
  __int64 v26; // [rsp+B8h] [rbp+27h]

  if ( a5 && *(_BYTE *)(a1() + 0x1C) && qword_14981D3D8 )
  {
    sub_1403C6E30(a1, a2);
    return;
  }
  if ( (a2 & 0x200000) != 0 )
  {
    while ( 1 )
    {
      if ( (a2 & 0xFFC00) != 0 )
      {
        (*(void (__fastcall **)(__int64, volatile signed __int64 *))(*(_QWORD *)qword_14981D318 + 0x128LL))(
          qword_14981D318,
          a1);
      }
      if ( (a2 & 0x100000) != 0 )
      {
        break;
      }
      v8 = a2 | 0x100000;
      v10 = _InterlockedCompareExchange64(a1, a2 | 0x100000, a2);
      v9 = a2 == v10;
      a2 = v10;
      if ( v9 )
      {
        n0x1600 = 0x1600;
        v21 = 0;
        v22 = 0;
        v24 = 0;
        v25 = 0;
        v26 = 0;
        v23 = 1;
        psub_7FF6AAB938D0(
          &n0x1600,
          0,
          &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
          &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
          0);
        v12[0] = v8;
        off_149808B88(a1, v12, 4, 0xFFFFFFFFLL);
        a2 = *a1;
        p_n0x1600 = &n0x1600;
        v24 = __rdtsc();
        goto LABEL_12;
      }
LABEL_13:
      if ( (a2 & 0x200000) == 0 )
      {
        return;
      }
    }
    n0x1600_1 = 0x1600;
    v14 = 0;
    v15 = 0;
    v17 = 0;
    v18 = 0;
    v19 = 0;
    v16 = 1;
    psub_7FF6AAB938D0(
      &n0x1600_1,
      0,
      &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
      &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
      0);
    v11 = a2;
    off_149808B88(a1, &v11, 4, 0xFFFFFFFFLL);
    a2 = *a1;
    p_n0x1600 = &n0x1600_1;
    v17 = __rdtsc();
LABEL_12:
    psub_7FF6AAB93930(p_n0x1600);
    goto LABEL_13;
  }
}

// --- End Function: sub_1403C6C70 (0x1403C6C70) ---

// --- Function: sub_1403D6A80 (0x1403D6A80) ---
__int64 __fastcall sub_1403D6A80(volatile signed __int32 *a1, unsigned __int32 a2)
{
  signed __int32 v4; // ebx
  int v5; // edx
  __int64 result; // rax
  int v7; // [rsp+50h] [rbp+8h] BYREF
  int v8; // [rsp+58h] [rbp+10h] BYREF
  __int64 v9; // [rsp+60h] [rbp+18h] BYREF
  __int64 v10; // [rsp+68h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFE;
    if ( (a2 & 0xFFFE) == 0 && (a2 & 0xFFFF0000) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_14981D318 + 0xF8LL))(
        qword_14981D318,
        &v9,
        &v8);
      v4 = (unsigned __int16)v4;
      v5 = *(_DWORD *)(0xC0 * (((unsigned __int64)a2 >> 0x10) & (unsigned int)(v8 - 1)) + v9 + 0x24);
      if ( v5 != 0xFFFFFFFF )
      {
        v4 = (v5 << 0x10) | (unsigned __int16)v4;
      }
    }
    result = (unsigned int)_InterlockedCompareExchange(a1, v4, a2);
    if ( a2 == (_DWORD)result )
    {
      break;
    }
    a2 = result;
  }
  if ( (a2 & 0xFFFE) != 0 )
  {
    return off_149808B90(a1);
  }
  if ( (a2 & 0xFFFF0000) != 0 )
  {
    (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_14981D318 + 0xF8LL))(
      qword_14981D318,
      &v10,
      &v7);
    *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned __int64)(unsigned int)(v7 - 1)) + v10 + 0x1C) = (unsigned __int16)(HIWORD(a2) + v7);
    return (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D318 + 0xD8LL))(qword_14981D318);
  }
  return result;
}

// --- End Function: sub_1403D6A80 (0x1403D6A80) ---

// --- Function: sub_1403D85B0 (0x1403D85B0) ---
unsigned __int64 __fastcall sub_1403D85B0(
        volatile signed __int64 *a1,
        unsigned __int64 a2,
        __int64 a3,
        __int64 a4,
        __int64 a5,
        char a6)
{
  if ( a6 && *(_BYTE *)(a1() + 0x1C) && qword_14981D3D8 )
  {
    return sub_1403D8640(a1, a2);
  }
  else
  {
    return sub_1403D8810(a1, a2);
  }
}

// --- End Function: sub_1403D85B0 (0x1403D85B0) ---

// --- Function: sub_1403D8A00 (0x1403D8A00) ---
__int64 __fastcall sub_1403D8A00(volatile signed __int64 *a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdi
  unsigned int v5; // edx
  signed __int64 v6; // rax
  __int64 result; // rax
  __int64 v8; // rdi
  __int64 v9; // r8
  int v10; // ecx
  __int64 v11; // r8
  unsigned __int64 v12; // rbx
  int v13; // [rsp+70h] [rbp+8h] BYREF
  int v14; // [rsp+78h] [rbp+10h] BYREF
  __int64 v15; // [rsp+80h] [rbp+18h] BYREF
  __int64 v16; // [rsp+88h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFFFFD003FFuLL;
    if ( (a2 & 0xFFFF00100000LL) != 0 )
    {
      v4 = a2 & 0xFFFF0000FFC003FFuLL;
    }
    else if ( (a2 & 0xFFC003FF) == 0 && (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_14981D318 + 0xF8LL))(
        qword_14981D318,
        &v16,
        &v14);
      v4 = a2 & 0xFFFFFFD003FFLL;
      v5 = *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned int)(v14 - 1)) + v16 + 0x24);
      if ( v5 != 0xFFFFFFFF )
      {
        v4 |= (unsigned __int64)v5 << 0x30;
      }
    }
    v6 = _InterlockedCompareExchange64(a1, v4, a2);
    if ( a2 == v6 )
    {
      break;
    }
    a2 = v6;
  }
  if ( (a2 & 0x3FF) != 0 )
  {
    if ( (a2 & 0x100000) != 0 )
    {
      off_149808B98(a1);
    }
    result = 0xFFFF00000000LL;
    if ( (a2 & 0xFFFF00000000LL) != 0 )
    {
      v8 = qword_14981D318;
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_14981D318 + 0xF8LL))(
        qword_14981D318,
        &v15,
        &v13);
      v9 = v15 + 0xC0 * (WORD2(a2) & (unsigned __int64)(unsigned int)(v13 - 1));
      LODWORD(a2) = *(_DWORD *)(v9 + 0x24);
      *(_DWORD *)(v9 + 0x1C) = (unsigned __int16)(WORD2(a2) + v13);
      for ( result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0xD8LL))(v8);
            (_DWORD)a2 != 0xFFFFFFFF;
            result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0xD8LL))(v8) )
      {
        v10 = (unsigned __int16)(a2 + v13);
        v11 = v15 + 0xC0LL * ((unsigned int)a2 & (v13 - 1));
        LODWORD(a2) = *(_DWORD *)(v11 + 0x24);
        *(_DWORD *)(v11 + 0x1C) = v10;
      }
    }
  }
  else
  {
    result = 0xFFC00000LL;
    if ( (a2 & 0xFFC00000) != 0 )
    {
      return off_149808B90(a1);
    }
    else if ( (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_14981D318 + 0xF8LL))(
        qword_14981D318,
        &v15,
        &v13);
      v12 = HIWORD(a2);
      *(_DWORD *)(0xC0LL * ((unsigned int)v12 & (v13 - 1)) + v15 + 0x1C) = (unsigned __int16)(v12 + v13);
      return (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_14981D318 + 0xD8LL))(
               qword_14981D318,
               (unsigned int)v12);
    }
  }
  return result;
}

// --- End Function: sub_1403D8A00 (0x1403D8A00) ---

// --- Function: sub_1403DC060 (0x1403DC060) ---
void __noreturn sub_1403DC060()
{
  stdext::exception *v0; // rax
  __int128 v1; // [rsp+20h] [rbp-18h] BYREF

  v1 = 0;
  v0 = (stdext::exception *)sub_14036C930(&v1);
  stdext::exception::_Raise(v0);
}

// --- End Function: sub_1403DC060 (0x1403DC060) ---

// --- Function: sub_1403DE0C0 (0x1403DE0C0) ---
__int64 __fastcall sub_1403DE0C0(unsigned __int8 *a1)
{
  __int64 v1; // r8

  v1 = 0xFFFFFFFFFFFFFFFFuLL;
  do
  {
    ++v1;
  }
  while ( a1[v1] );
  return (unsigned int)~psub_140333AB0(0xFFFFFFFF, a1, v1);
}

// --- End Function: sub_1403DE0C0 (0x1403DE0C0) ---

// --- Function: sub_1403DFC10 (0x1403DFC10) ---
__int64 __fastcall sub_1403DFC10(unsigned __int8 **a1, __int64 a2)
{
  unsigned __int8 *v2; // rax
  __int64 v3; // rdx
  unsigned __int8 v4; // cl

  v2 = *a1;
  v3 = a2 - (_QWORD)*a1;
  while ( 1 )
  {
    v4 = *v2;
    if ( *v2 != v2[v3] )
    {
      break;
    }
    ++v2;
    if ( !v4 )
    {
      return 0;
    }
  }
  return v4 < v2[v3] ? 0xFFFFFFFF : 1;
}

// --- End Function: sub_1403DFC10 (0x1403DFC10) ---

// --- Function: sub_1403E1BB0 (0x1403E1BB0) ---
unsigned __int64 __fastcall sub_1403E1BB0(unsigned __int64 *a1)
{
  if ( is_valid_handle_typeB(a1) )
  {
    return *a1 & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1403E1BB0 (0x1403E1BB0) ---

// --- Function: sub_1403E2A30 (0x1403E2A30) ---
char __fastcall sub_1403E2A30(__int64 a1)
{
  return *(_BYTE *)(a1 + 8) & 1;
}

// --- End Function: sub_1403E2A30 (0x1403E2A30) ---

// --- Function: sub_1404141B0 (0x1404141B0) ---
bool __fastcall sub_1404141B0(__int64 a1)
{
  return (*(_DWORD *)(a1 + 8) & 0x10) != 0;
}

// --- End Function: sub_1404141B0 (0x1404141B0) ---

// --- Function: sub_1404B0DB0 (0x1404B0DB0) ---
double *__fastcall sub_1404B0DB0(double *a1, double *a2)
{
  double v2; // xmm4_8
  __int64 v3; // xmm1_8
  double *result; // rax
  double v5; // xmm12_8
  double v6; // xmm10_8
  double v7; // xmm8_8
  double v8; // xmm15_8
  double v9; // xmm11_8
  double v10; // xmm9_8
  double v11; // xmm7_8
  double v12; // xmm6_8
  double v13; // xmm4_8

  v2 = a1[3];
  v3 = *(_QWORD *)a1;
  result = a2;
  v5 = a1[6];
  v6 = a1[5];
  v7 = a1[4];
  v8 = 1.0 / a1[7];
  *(_QWORD *)&v9 = *((_QWORD *)a1 + 1) ^ 0x8000000000000000uLL;
  *(_QWORD *)&v10 = *((_QWORD *)a1 + 2) ^ 0x8000000000000000uLL;
  a2[3] = v2;
  v11 = v9 * v5 - v10 * v6 + v2 * v7;
  v12 = v10 * v7 - v5 * COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) + v2 * v6;
  v13 = v6 * COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) - v9 * v7 + v2 * v5;
  a2[7] = v8;
  *a2 = COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL);
  a2[1] = v9;
  a2[2] = v10;
  a2[4] = (v7 + v9 * v13 - v10 * v12 + v9 * v13 - v10 * v12) * COERCE_DOUBLE(*(_QWORD *)&v8 ^ 0x8000000000000000uLL);
  a2[5] = (v6
         + v10 * v11
         - COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) * v13
         + v10 * v11
         - COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) * v13)
        * COERCE_DOUBLE(*(_QWORD *)&v8 ^ 0x8000000000000000uLL);
  a2[6] = (v5
         + COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) * v12
         - v9 * v11
         + COERCE_DOUBLE(v3 ^ 0x8000000000000000uLL) * v12
         - v9 * v11)
        * COERCE_DOUBLE(*(_QWORD *)&v8 ^ 0x8000000000000000uLL);
  return result;
}

// --- End Function: sub_1404B0DB0 (0x1404B0DB0) ---

// --- Function: getThreadLogContextSlot (0x1404B79A0) ---
// Retrieves a pointer to the current thread's logging context slot from Thread
// Local Storage (TLS). The specific slot is determined by an index stored within
// the TLS data block.
__int64 *getThreadLogContextSlot()
{
  unsigned __int64 *tls_log_structure; // rax
  unsigned __int64 *tls_log_structure_1; // rcx
  unsigned __int64 slot_index; // rax

  tls_log_structure = sub_1404AE300();
  tls_log_structure_1 = tls_log_structure;
  if ( !tls_log_structure )
  {
    return &arg40;
  }
  slot_index = *tls_log_structure;
  if ( slot_index > 0xF )
  {
    slot_index = 0xF;
  }
  return (__int64 *)&tls_log_structure_1[0x16 * slot_index + 1];
}

// --- End Function: getThreadLogContextSlot (0x1404B79A0) ---

// --- Function: sub_14051E980 (0x14051E980) ---
__int64 __fastcall sub_14051E980(__int64 a1)
{
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D220 + 0x220LL))(qword_14981D220, a1);
  return 0;
}

// --- End Function: sub_14051E980 (0x14051E980) ---

// --- Function: sub_14051E9A0 (0x14051E9A0) ---
__int64 __fastcall sub_14051E9A0(__int64 a1)
{
  return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D220 + 0x228LL))(qword_14981D220, a1);
}

// --- End Function: sub_14051E9A0 (0x14051E9A0) ---

// --- Function: is_thread_flag_57_or_38_set (0x140535D40) ---
// Checks specific boolean flags within thread-local storage (TLS). Retrieves a
// pointer from `TLS_base + 16` (where `TLS_base` is the result of
// `get_thread_specific_data_offset_784`). - If the pointer is valid, checks the
// byte flag at `pointer + 57`. - If the pointer is null, checks the byte flag at
// `TLS_base + 38`. Returns true if the checked flag is non-zero, false otherwise.
bool is_thread_flag_57_or_38_set()
{
  __int64 thread_data_ptr_offset_16; // rcx

  thread_data_ptr_offset_16 = *(_QWORD *)(a1() + 0x10);
  if ( thread_data_ptr_offset_16 )
  {
    return *(_BYTE *)(thread_data_ptr_offset_16 + 0x39) != 0;
  }
  else
  {
    return *(_BYTE *)(a1() + 0x26) != 0;
  }
}

// --- End Function: is_thread_flag_57_or_38_set (0x140535D40) ---

// --- Function: LogFatalError (0x1405BD370) ---
// Formats a string using printf-style arguments and logs it as a fatal error.
// Checks if the fatal error system is initialized. If not properly initialized
// (missing `Parameter_3` or `qword_14981D3D8`), it triggers a debug break.
// Otherwise, it formats the message into a buffer and calls an external logging
// function via a function pointer derived from the global `Parameter_3`.  @param
// Format A printf-style format string. @param ... Variadic arguments for the
// format string. @return Returns the result of the external logging function call,
// though typically execution may halt.
_BYTE *LogFatalError(const char *pszFormat, ...)
{
  __int64 (*v1)(void); // rax
  FARPROC v2; // rax
  _BYTE *result; // rax
  _QWORD *v4; // rax
  int charsWritten; // eax
  char formattedMessageBuffer[4096]; // [rsp+30h] [rbp-1018h] BYREF
  va_list args; // [rsp+1058h] [rbp+10h] BYREF

  va_start(args, pszFormat);
  v1 = (__int64 (*)(void))qword_14981D1B8;
  if ( !qword_14981D1B8 )
  {
    v2 = sub_140397520(0, "__InitFatalFunctions__", 0);
    ((void (__fastcall *)(__int64 *))v2)(&qword_14981D1B8);
    v1 = (__int64 (*)(void))qword_14981D1B8;
  }
  result = (_BYTE *)v1();
  if ( !*result )
  {
    if ( !qword_14981D3D8 || !CSystem )
    {
      __debugbreak();
      while ( 1 )
      {
        ;
      }
    }
    v4 = sub_1402A2470();
    charsWritten = _stdio_common_vsprintf(*v4 | 2LL, formattedMessageBuffer, 0x1000u, pszFormat, 0, args);
    if ( charsWritten < 0 )
    {
      charsWritten = 0xFFFFFFFF;
    }
    if ( (unsigned int)charsWritten >= 0x1000 )
    {
      formattedMessageBuffer[0xFFF] = 0;
    }
    return (_BYTE *)(*(__int64 (__fastcall **)(Parameter *, const wchar_t *, char *))(*(_QWORD *)CSystem + 0x118LL))(
                      CSystem,
                      &fmt,
                      formattedMessageBuffer);
  }
  return result;
}

// --- End Function: LogFatalError (0x1405BD370) ---

// --- Function: sub_1405BD4A0 (0x1405BD4A0) ---
__int64 sub_1405BD4A0(unsigned int a1, unsigned int a2, const char *a3, ...)
{
  __int64 result; // rax
  va_list va; // [rsp+68h] [rbp+20h] BYREF

  va_start(va, a3);
  if ( qword_14981D3D8 && CSystem )
  {
    if ( a3 )
    {
      return (*(__int64 (__fastcall **)(Parameter *, _QWORD, _QWORD, _QWORD, _QWORD, const char *, __int64 *))(*(_QWORD *)CSystem + 0x158LL))(
               CSystem,
               a1,
               a2,
               0,
               0,
               a3,
               (__int64 *)va);
    }
  }
  return result;
}

// --- End Function: sub_1405BD4A0 (0x1405BD4A0) ---

// --- Function: sub_140710890 (0x140710890) ---
_QWORD *__fastcall sub_140710890(__int64 a1, _QWORD *a2)
{
  *a2 = *(_QWORD *)(a1 + 0x18);
  return a2;
}

// --- End Function: sub_140710890 (0x140710890) ---

// --- Function: sub_140711A80 (0x140711A80) ---
__int64 __fastcall sub_140711A80(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x290);
}

// --- End Function: sub_140711A80 (0x140711A80) ---

// --- Function: sub_140740030 (0x140740030) ---
_UNKNOWN **__fastcall sub_140740030(float *a1)
{
  _UNKNOWN **result; // rax
  float v2; // xmm6_4
  __m128 v3; // xmm7
  __m128 v4; // kr00_16
  float v7; // xmm1_4
  float v8; // xmm12_4
  float v9; // xmm13_4
  __m128 v10; // kr00_16
  __m128 v11; // xmm2
  __m128 v12; // xmm11
  __m128 v13; // kr00_16
  float v14; // xmm6_4
  __m128 v15; // kr00_16
  float v16; // xmm5_4
  float v19; // xmm10_4
  float v20; // xmm9_4
  float v21; // xmm8_4
  __m128 v22; // kr00_16
  float v23; // xmm6_4
  float v24; // xmm5_4
  _UNKNOWN *retaddr; // [rsp+98h] [rbp+0h] BYREF

  result = &retaddr;
  v2 = a1[8];
  v3 = (__m128)*((unsigned int *)a1 + 4);
  v4 = v3;
  v4.m128_f32[0] = (float)((float)((float)(v3.m128_f32[0] * v3.m128_f32[0]) + (float)(*a1 * *a1)) + (float)(v2 * v2))
                 + 1.1754944e-38;
  _XMM0 = _mm_shuffle_ps(v4, v4, 0);
  __asm { vrsqrtps xmm3, xmm0 }
  _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
  v7 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v4.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
     * _XMM3.m128_f32[0];
  v8 = v3.m128_f32[0] * v7;
  v10 = (__m128)LODWORD(v2);
  v9 = v2 * v7;
  v10.m128_f32[0] = (float)(v2 * v7) * a1[1];
  v11 = v10;
  v13 = (__m128)*(unsigned int *)a1;
  v13.m128_f32[0] = *a1 * v7;
  v12 = v13;
  v3.m128_f32[0] = (float)((float)(v3.m128_f32[0] * v7) * a1[9]) - (float)((float)(v2 * v7) * a1[5]);
  v15 = v11;
  v14 = v11.m128_f32[0] - (float)((float)(*a1 * v7) * a1[9]);
  v16 = (float)((float)(*a1 * v7) * a1[5]) - (float)(v8 * a1[1]);
  v15.m128_f32[0] = (float)((float)((float)(v14 * v14) + (float)(v3.m128_f32[0] * v3.m128_f32[0])) + (float)(v16 * v16))
                  + 1.1754944e-38;
  _XMM1 = _mm_shuffle_ps(v15, v15, 0);
  __asm { vrsqrtps xmm3, xmm1 }
  _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
  _XMM1.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM3.m128_f32[0] * v15.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                    * _XMM3.m128_f32[0];
  v19 = v16 * _XMM1.m128_f32[0];
  v20 = v14 * _XMM1.m128_f32[0];
  v21 = v3.m128_f32[0] * _XMM1.m128_f32[0];
  v3.m128_f32[0] = (float)(v9 * (float)(v14 * _XMM1.m128_f32[0])) - (float)(v8 * (float)(v16 * _XMM1.m128_f32[0]));
  v22 = v12;
  v23 = (float)(v12.m128_f32[0] * (float)(v16 * _XMM1.m128_f32[0])) - (float)(v9 * v21);
  v24 = (float)(v8 * v21) - (float)(v12.m128_f32[0] * v20);
  v22.m128_f32[0] = (float)((float)((float)(v23 * v23) + (float)(v3.m128_f32[0] * v3.m128_f32[0])) + (float)(v24 * v24))
                  + 1.1754944e-38;
  _XMM1 = _mm_shuffle_ps(v22, v22, 0);
  __asm { vrsqrtps xmm3, xmm1 }
  _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM3.m128_f32[0] * v22.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                    * _XMM3.m128_f32[0];
  a1[1] = v3.m128_f32[0] * _XMM3.m128_f32[0];
  *a1 = v12.m128_f32[0];
  a1[4] = v8;
  a1[8] = v9;
  a1[2] = v21;
  a1[6] = v20;
  a1[0xA] = v19;
  a1[9] = v24 * _XMM3.m128_f32[0];
  a1[5] = v23 * _XMM3.m128_f32[0];
  return result;
}

// --- End Function: sub_140740030 (0x140740030) ---

// --- Function: sub_140E3B650 (0x140E3B650) ---
__int64 __fastcall sub_140E3B650(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x110);
}

// --- End Function: sub_140E3B650 (0x140E3B650) ---

// --- Function: sub_1411B0760 (0x1411B0760) ---
__int64 __fastcall sub_1411B0760(_BYTE *a1, unsigned __int8 *a2)
{
  __int64 result; // rax

  result = *a2;
  *a1 = result;
  return result;
}

// --- End Function: sub_1411B0760 (0x1411B0760) ---

// --- Function: sub_14126D000 (0x14126D000) ---
__int64 __fastcall sub_14126D000(_QWORD *a1)
{
  _QWORD *v2; // rcx
  _QWORD *ptr_to_free; // rcx
  __int64 result; // rax

  v2 = (_QWORD *)*a1;
  if ( v2 )
  {
    sub_1411C87F0(v2, a1[1], a1);
    ptr_to_free = (_QWORD *)*a1;
    if ( ((a1[2] - *a1) & 0xFFFFFFFFFFFFFFE0uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)ptr_to_free - ptr_to_free[0xFFFFFFFF] - 8 > 0x1F )
      {
        invalid_parameter_noinfo_noreturn();
      }
      ptr_to_free = (_QWORD *)ptr_to_free[0xFFFFFFFF];
    }
    free_memory_wrapper(ptr_to_free);
    result = 0;
    *a1 = 0;
    a1[1] = 0;
    a1[2] = 0;
  }
  return result;
}

// --- End Function: sub_14126D000 (0x14126D000) ---

// --- Function: sub_141271450 (0x141271450) ---
float *__fastcall sub_141271450(float *a1, double *a2)
{
  float v8; // xmm0_4
  double v9; // xmm5_8
  double X; // xmm3_8
  double v12; // xmm2_8
  double v15; // xmm2_8

  _XMM0 = COERCE_UNSIGNED_INT64((*a2 * a2[2] - a2[3] * a2[1]) * -2.0);
  __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
  LODWORD(_XMM0) = 0xBF800000;
  __asm
  {
    vminss  xmm2, xmm1, xmm3
    vmaxss  xmm4, xmm2, xmm0
  }
  if ( *(float *)&_XMM4 >= -1.0 )
  {
    __asm { vminss  xmm0, xmm4, xmm3; X }
  }
  v8 = asinf(*(float *)&_XMM0);
  a1[1] = v8;
  if ( fabs(COERCE_FLOAT(LODWORD(v8) & 0x7FFFFFFF) - 1.5707964) >= 0.0099999998 )
  {
    v12 = a2[1];
    *((_QWORD *)&_XMM0 + 1) = 0;
    *(double *)&_XMM0 = atan2(
                          *a2 * a2[3] + *a2 * a2[3] + v12 * a2[2] + v12 * a2[2],
                          1.0 - (*a2 * *a2 + *a2 * *a2 + v12 * v12 + v12 * v12));
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *a1 = *(float *)&_XMM1;
    v15 = a2[2];
    *(double *)&_XMM1 = a2[1];
    _XMM0 = COERCE_UNSIGNED_INT64(v15 * a2[3] + v15 * a2[3] + *(double *)&_XMM1 * *a2 + *(double *)&_XMM1 * *a2);
    X = 1.0 - (v15 * v15 + v15 * v15 + *(double *)&_XMM1 * *(double *)&_XMM1 + *(double *)&_XMM1 * *(double *)&_XMM1);
  }
  else
  {
    *a1 = 0.0;
    v9 = a2[2];
    X = 1.0 - (*a2 * *a2 + *a2 * *a2 + v9 * v9 + v9 * v9);
    _XMM0 = COERCE_UNSIGNED_INT64((*a2 * a2[1] - v9 * a2[3]) * -2.0);
  }
  *(double *)&_XMM0 = atan2(*(double *)&_XMM0, X);
  __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
  a1[2] = *(float *)&_XMM1;
  return a1;
}

// --- End Function: sub_141271450 (0x141271450) ---

// --- Function: sub_14168D410 (0x14168D410) ---
__int64 __fastcall sub_14168D410(__int64 a1)
{
  return a1 + 0x310;
}

// --- End Function: sub_14168D410 (0x14168D410) ---

// --- Function: sub_1416AC410 (0x1416AC410) ---
__int64 __fastcall sub_1416AC410(__int64 a1)
{
  return a1 + 0x318;
}

// --- End Function: sub_1416AC410 (0x1416AC410) ---

// --- Function: sub_141E45FB0 (0x141E45FB0) ---
_QWORD *__fastcall sub_141E45FB0(__int64 a1, _QWORD *a2)
{
  __int64 (__fastcall *v4)(__int64, _BYTE *, __int16 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 (__fastcall *v10)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_2; // ax
  _BYTE v12[8]; // [rsp+20h] [rbp-38h] BYREF
  _BYTE v13[48]; // [rsp+28h] [rbp-30h] BYREF
  __int16 n0xFFFF_1; // [rsp+60h] [rbp+8h] BYREF
  __int64 v15; // [rsp+68h] [rbp+10h] BYREF
  char v16; // [rsp+70h] [rbp+18h] BYREF
  char v17; // [rsp+78h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int16 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v16,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v12, &n0xFFFF_1);
  v15 = v6;
  if ( v6
    && (handle_metadata_ptr = get_handle_metadata_ptr(v6 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v15)) )
  {
    *a2 = v6;
    return a2;
  }
  else
  {
    v10 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x330LL);
    n0xFFFF_2 = n0xFFFF_94;
    if ( n0xFFFF_94 == (__int16)0xFFFF )
    {
      n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                     + 0x10LL))(
                              global_dispatcher_ptr,
                              &v17,
                              "PhysicalProxy");
      n0xFFFF_94 = n0xFFFF_2;
    }
    LOWORD(v15) = n0xFFFF_2;
    *a2 = *(_QWORD *)v10(a1, v13, &v15);
    return a2;
  }
}

// --- End Function: sub_141E45FB0 (0x141E45FB0) ---

// --- Function: sub_141E47560 (0x141E47560) ---
__int64 sub_141E47560(char *Buffer, _QWORD *a2, _DWORD *a3, const char *Format, ...)
{
  _QWORD *v8; // rax
  int v9; // eax
  __int64 result; // rax
  va_list va; // [rsp+80h] [rbp+28h] BYREF

  va_start(va, Format);
  v8 = sub_1402A2470();
  v9 = _stdio_common_vsprintf(*v8 | 2LL, Buffer, 0xF8u, Format, 0, va);
  *a2 = Buffer;
  if ( v9 < 0 )
  {
    v9 = 0xFFFFFFFF;
  }
  result = (v9 + 8) & 0xFFFFFFF8;
  *a3 = result;
  return result;
}

// --- End Function: sub_141E47560 (0x141E47560) ---

// --- Function: sub_141E48570 (0x141E48570) ---
__int64 __fastcall sub_141E48570(__int64 a1)
{
  __int64 result; // rax

  *(_WORD *)(a1 + 4) = 0x100;
  *(_DWORD *)a1 = 0;
  *(_QWORD *)(a1 + 0x30) = 0x1000007FFLL;
  result = a1;
  *(_DWORD *)(a1 + 8) = 0xFFFFFFFF;
  *(_BYTE *)(a1 + 0xC) = 0;
  *(_BYTE *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_QWORD *)(a1 + 0x28) = 0;
  *(_QWORD *)(a1 + 0x38) = 0x81;
  *(_QWORD *)(a1 + 0x40) = 0;
  *(_QWORD *)(a1 + 0x48) = 0;
  *(_QWORD *)(a1 + 0x50) = 0;
  *(_BYTE *)(a1 + 0x58) = 0;
  *(_QWORD *)(a1 + 0x60) = 0;
  *(_QWORD *)(a1 + 0x68) = 0;
  *(_QWORD *)(a1 + 0x70) = 0;
  *(_BYTE *)(a1 + 0x78) = 0;
  *(_DWORD *)(a1 + 0x7C) = 0;
  *(_QWORD *)(a1 + 0x80) = 0;
  *(_QWORD *)(a1 + 0x88) = 0;
  *(_QWORD *)(a1 + 0x90) = 0;
  *(_QWORD *)(a1 + 0x98) = 0;
  *(_QWORD *)(a1 + 0xA0) = 0;
  *(_DWORD *)(a1 + 0xA8) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0xB0) = 0;
  *(_QWORD *)(a1 + 0xB8) = 0;
  *(_QWORD *)(a1 + 0xC0) = 0;
  *(_QWORD *)(a1 + 0xC8) = 0;
  *(_DWORD *)(a1 + 0xD0) = 0;
  *(_DWORD *)(a1 + 0x14) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x10) = 0xFFBFFFFF;
  return result;
}

// --- End Function: sub_141E48570 (0x141E48570) ---

// --- Function: sub_1423827D0 (0x1423827D0) ---
__int64 __fastcall sub_1423827D0(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x2C0);
}

// --- End Function: sub_1423827D0 (0x1423827D0) ---

// --- Function: sub_143692D10 (0x143692D10) ---
__int64 __fastcall sub_143692D10(__int64 a1)
{
  return a1 + 0x2A0;
}

// --- End Function: sub_143692D10 (0x143692D10) ---

// --- Function: sub_143C4B060 (0x143C4B060) ---
__int64 __fastcall sub_143C4B060(__int64 n4, __int64 *a2, __int64 a3)
{
  __int64 result; // rax
  __int64 v4; // [rsp+28h] [rbp-40h]

  switch ( n4 )
  {
    case 0LL:
      goto LABEL_6;
    case 1LL:
      return sub_143C35680(a2, a3);
    case 2LL:
      return sub_143C35760(a2, a3);
    case 3LL:
      return sub_143C354E0(a2, a3);
  }
  if ( n4 != 4 )
  {
LABEL_6:
    v4 = *a2;
    sub_14036DAB0(*a2);
    result = v4;
    *(_BYTE *)(v4 + 0x120) = 0xFF;
    return result;
  }
  return sub_143C355B0(a2, a3);
}

// --- End Function: sub_143C4B060 (0x143C4B060) ---

// --- Function: sub_143C6EB00 (0x143C6EB00) ---
__int64 __fastcall sub_143C6EB00(__int64 a1)
{
  sub_143C6E9D0();
  return a1;
}

// --- End Function: sub_143C6EB00 (0x143C6EB00) ---

// --- Function: sub_1467B99F0 (0x1467B99F0) ---
bool __fastcall sub_1467B99F0(__int64 a1, int a2)
{
  return (a2 & *(_DWORD *)(a1 + 0x110)) == a2;
}

// --- End Function: sub_1467B99F0 (0x1467B99F0) ---

// --- Function: sub_1467BC2E0 (0x1467BC2E0) ---
_QWORD *__fastcall sub_1467BC2E0(__int64 a1, _QWORD *a2, int a3, unsigned __int16 *a4, int a5, __int64 a6, char a7)
{
  __int64 v9; // rax

  v9 = sub_1467C3880(a1, *a4);
  if ( v9 )
  {
    sub_1467BBEA0(v9, (_DWORD)a2, a3, a5, a6, a7);
  }
  else
  {
    *a2 = 0;
  }
  return a2;
}

// --- End Function: sub_1467BC2E0 (0x1467BC2E0) ---

// --- Function: sub_1467C17C0 (0x1467C17C0) ---
void __fastcall sub_1467C17C0(__int64 a1, __int64 a2, char a3)
{
  __int64 v5; // r12
  unsigned __int64 v6; // rdi
  _QWORD *v7; // rbx
  __int64 v8; // rsi
  __int64 v9; // r14
  char v10; // bp
  char v11; // al
  unsigned __int64 v12; // [rsp+78h] [rbp+10h]

  if ( is_valid_handle_typeB((unsigned __int64 *)(a2 + 8)) )
  {
    v5 = *(_QWORD *)(a2 + 8) & 0xFFFFFFFFFFFFLL;
    if ( v5 )
    {
      if ( *(_BYTE *)((*(_QWORD *)(a2 + 8) & 0xFFFFFFFFFFFFLL) + 0xD) < 5u )
      {
        v6 = 0;
        v7 = (_QWORD *)(a1 + 0x2D0LL * *(unsigned __int16 *)(a2 + 0x10) + 0x3F30);
        v12 = v7[0x4C] - v7[0x4B];
        if ( v12 )
        {
          v8 = 0;
          v9 = 0;
          do
          {
            if ( v7[0x4C] - v7[0x4B] <= v6 )
            {
              __debugbreak();
            }
            v10 = *(_BYTE *)(v6 + v7[0x4B]);
            if ( (__int64)(v7[0x1E] - v7[0x1D]) >> 5 <= v6 )
            {
              __debugbreak();
            }
            if ( *(_QWORD *)(v8 + v7[0x1D]) )
            {
              v11 = 0xFF;
              if ( a3 )
              {
                v11 = 1;
              }
              *(_BYTE *)(*(_QWORD *)(a2 + 0x18) + v9 + 3) += v11;
              if ( (unsigned __int8)sub_1467CA260(a1, v5, a2, (_DWORD)v7, __popcnt(v7[0x4A] & ((1LL << v10) - 1))) )
              {
                sub_1467B64E0(a1, a2, v10, 0);
              }
            }
            ++v6;
            v8 += 0x20;
            v9 += 0xC;
          }
          while ( v6 < v12 );
        }
      }
    }
  }
}

// --- End Function: sub_1467C17C0 (0x1467C17C0) ---

// --- Function: sub_1467C1950 (0x1467C1950) ---
void __fastcall sub_1467C1950(__int64 a1, __int64 a2, char a3)
{
  _QWORD *v5; // rbx
  unsigned __int64 v6; // rdi
  unsigned __int64 v7; // r12
  __int64 v8; // r14
  __int64 v9; // rsi
  char v10; // r15
  __int64 v11; // rcx
  __int64 v12; // rdx
  char v13; // al
  bool valid; // al
  int v15; // edx
  unsigned __int64 v16; // [rsp+78h] [rbp+10h] BYREF
  char v17; // [rsp+80h] [rbp+18h]

  v17 = a3;
  v16 = *(_QWORD *)(a2 + 8);
  if ( is_valid_handle_typeB(&v16) && (v16 & 0xFFFFFFFFFFFFLL) != 0 && *(_BYTE *)((v16 & 0xFFFFFFFFFFFFLL) + 0xD) < 5u )
  {
    v5 = (_QWORD *)(a1 + 0x2D0LL * *(unsigned __int16 *)(a2 + 0x10) + 0x3F30);
    v6 = 0;
    v7 = v5[0x4C] - v5[0x4B];
    if ( v7 )
    {
      v8 = 0;
      v9 = 0;
      do
      {
        if ( v5[0x4C] - v5[0x4B] <= v6 )
        {
          __debugbreak();
        }
        v10 = *(_BYTE *)(v6 + v5[0x4B]);
        if ( (__int64)(v5[0x1E] - v5[0x1D]) >> 5 <= v6 )
        {
          __debugbreak();
        }
        v11 = v5[0x1D];
        v12 = *(_QWORD *)(a2 + 0x18);
        if ( *(_QWORD *)(v11 + v8) )
        {
          switch ( *(_WORD *)(v11 + v8 + 8) )
          {
            case 3:
            case 4:
            case 7:
            case 8:
            case 0xB:
            case 0xD:
            case 0xE:
            case 0x11:
            case 0x12:
            case 0x15:
              goto LABEL_13;
            case 5:
            case 6:
            case 9:
            case 0xA:
            case 0xC:
            case 0xF:
            case 0x10:
            case 0x13:
            case 0x14:
            case 0x16:
              if ( *(_BYTE *)(v12 + v9) )
              {
LABEL_13:
                v13 = 0xFF;
                if ( v17 )
                {
                  v13 = 1;
                }
                *(_BYTE *)(v12 + v9 + 2) += v13;
              }
              break;
            default:
              break;
          }
          valid = is_valid_handle_typeB(&v16);
          v15 = v16;
          if ( !valid )
          {
            v15 = 0;
          }
          if ( (unsigned __int8)sub_1467CA260(a1, v15, a2, (_DWORD)v5, __popcnt(v5[0x4A] & ((1LL << v10) - 1))) )
          {
            sub_1467B64E0(a1, a2, v10, 0);
          }
        }
        ++v6;
        v8 += 0x20;
        v9 += 0xC;
      }
      while ( v6 < v7 );
    }
  }
}

// --- End Function: sub_1467C1950 (0x1467C1950) ---

// --- Function: sub_1467C2E30 (0x1467C2E30) ---
bool __fastcall sub_1467C2E30(__int64 a1)
{
  return (*(_DWORD *)(a1 + 8) & 0x2000) != 0;
}

// --- End Function: sub_1467C2E30 (0x1467C2E30) ---

// --- Function: sub_1467C3410 (0x1467C3410) ---
unsigned __int64 *__fastcall sub_1467C3410(unsigned __int64 a1, unsigned __int64 *a2)
{
  char v4; // r8
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax

  v4 = sub_1468E7840(a1);
  if ( v4 )
  {
    v5 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  else
  {
    v5 = a1 - 6;
  }
  v6 = *(_WORD *)(v5 + 2) | 0x2000;
  if ( !v4 )
  {
    v6 = *(_WORD *)(v5 + 2);
  }
  *a2 = a1 | ((unsigned __int64)v6 << 0x30);
  return a2;
}

// --- End Function: sub_1467C3410 (0x1467C3410) ---

// --- Function: sub_1467C5810 (0x1467C5810) ---
__int64 __fastcall sub_1467C5810(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x2A8);
}

// --- End Function: sub_1467C5810 (0x1467C5810) ---

// --- Function: sub_1467C9250 (0x1467C9250) ---
bool __fastcall sub_1467C9250(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4)
{
  __int64 v4; // rdi
  _QWORD *v7; // rax
  signed __int64 v9; // rdx
  _QWORD *v10; // rax
  bool v11; // bl
  __int64 v12; // rax
  unsigned int v13; // edx
  __int64 v14; // rcx
  bool v15; // zf

  v4 = a4;
  if ( a3 )
  {
    if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
    {
      ++dword_1497929DC;
    }
    else
    {
      v9 = _InterlockedIncrement64(&qword_1497929D0);
      if ( (v9 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          &qword_1497929D0,
          v9,
          (__int64)"CEntityComponentUpdateScheduler::IsAggregateCompleteBoundsInRange",
          (__int64)"CEntity::s_aggregateHierarchyLock",
          1);
      }
    }
    v10 = (_QWORD *)sub_1416AC410(a2);
    if ( *(_DWORD *)((*v10 & 0xFFFFFFFFFFFFLL) + 0x2E8) == 0xFFFFFFFF )
    {
      v11 = 0;
    }
    else
    {
      v12 = sub_1468D6A20(qword_15126E2D8, v10);
      v13 = *(_DWORD *)(v12 + 0x8C);
      if ( v13 == 0xFFFFFFFF )
      {
LABEL_14:
        v15 = *(_BYTE *)(v4 + v12 + 0x74) == 0;
      }
      else
      {
        while ( 1 )
        {
          v14 = *(_QWORD *)(qword_15126E2D8 + 0x160) + 0x20LL * v13;
          if ( *(_QWORD *)v14 == a3 )
          {
            break;
          }
          v13 = *(_DWORD *)(v14 + 0x18);
          if ( v13 == 0xFFFFFFFF )
          {
            goto LABEL_14;
          }
        }
        v15 = *(_BYTE *)(v4 + v14 + 0xC) == 0;
      }
      v11 = !v15;
    }
    sub_1402D0950((__int64)&qword_1497929D0);
    return v11;
  }
  else
  {
    v7 = (_QWORD *)sub_1416AC410(a2);
    return *(_DWORD *)((*v7 & 0xFFFFFFFFFFFFLL) + 0x2E8) != 0xFFFFFFFF
        && *(_BYTE *)(v4 + sub_1468D6A20(qword_15126E2D8, v7) + 0x74) != 0;
  }
}

// --- End Function: sub_1467C9250 (0x1467C9250) ---

// --- Function: sub_1467C93C0 (0x1467C93C0) ---
bool __fastcall sub_1467C93C0(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4)
{
  __int64 v5; // rdi
  _QWORD *v7; // rax
  signed __int64 v9; // rdx
  _QWORD *v10; // rax
  __int64 v11; // rax
  unsigned int v12; // edx
  __int64 v13; // rcx
  bool v14; // zf
  bool v15; // bl

  v5 = a4;
  if ( BYTE1(isEditor) )
  {
    return 0;
  }
  if ( !a3 )
  {
    v7 = (_QWORD *)sub_1416AC410(a2);
    if ( *(_DWORD *)((*v7 & 0xFFFFFFFFFFFFLL) + 0x2E8) != 0xFFFFFFFF )
    {
      return *(_BYTE *)(v5 + sub_1468D6A20(qword_15126E2D8, v7) + 0x7C) != 0;
    }
    return 0;
  }
  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v9 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v9 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v9,
        (__int64)"CEntityComponentUpdateScheduler::IsAggregateCompleteBoundsVisible",
        (__int64)"CEntity::s_aggregateHierarchyLock",
        1);
    }
  }
  v10 = (_QWORD *)sub_1416AC410(a2);
  if ( *(_DWORD *)((*v10 & 0xFFFFFFFFFFFFLL) + 0x2E8) == 0xFFFFFFFF )
  {
    sub_1402D0950((__int64)&qword_1497929D0);
    return 0;
  }
  else
  {
    v11 = sub_1468D6A20(qword_15126E2D8, v10);
    v12 = *(_DWORD *)(v11 + 0x90);
    if ( v12 == 0xFFFFFFFF )
    {
LABEL_14:
      v14 = *(_BYTE *)(v5 + v11 + 0x7C) == 0;
    }
    else
    {
      while ( 1 )
      {
        v13 = *(_QWORD *)(qword_15126E2D8 + 0x1C0) + 0x18LL * v12;
        if ( *(_QWORD *)v13 == a3 )
        {
          break;
        }
        v12 = *(_DWORD *)(v13 + 0x10);
        if ( v12 == 0xFFFFFFFF )
        {
          goto LABEL_14;
        }
      }
      v14 = *(_BYTE *)(v5 + v13 + 0xC) == 0;
    }
    v15 = !v14;
    sub_1402D0950((__int64)&qword_1497929D0);
    return v15;
  }
}

// --- End Function: sub_1467C93C0 (0x1467C93C0) ---

// --- Function: sub_1467CA120 (0x1467CA120) ---
bool __fastcall sub_1467CA120(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4)
{
  __int64 v5; // rdi
  signed __int64 v8; // rdx
  _QWORD *v9; // rax
  bool v10; // bl

  v5 = a4;
  if ( (*(_DWORD *)(a2 + 8) & 0x100) == 0 )
  {
    return 0;
  }
  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v8 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v8 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v8,
        (__int64)"CEntityComponentUpdateScheduler::IsComponentIsVisible",
        (__int64)"CEntity::s_aggregateHierarchyLock",
        1);
    }
  }
  v9 = (_QWORD *)sub_1416AC410(a2);
  v10 = *(_DWORD *)((*v9 & 0xFFFFFFFFFFFFLL) + 0x2E8) != 0xFFFFFFFF
     && *(_BYTE *)(v5 + 0x20LL * *(unsigned __int16 *)(a3 + 0x62) + *(_QWORD *)sub_1468D6A20(qword_15126E2D8, v9) + 0x10) != 0;
  sub_1402D0950((__int64)&qword_1497929D0);
  return v10;
}

// --- End Function: sub_1467CA120 (0x1467CA120) ---

// --- Function: sub_1467CAB20 (0x1467CAB20) ---
char __fastcall sub_1467CAB20(__int64 a1, __int64 a2)
{
  unsigned __int64 v2; // r9
  __int64 v3; // rcx
  _BYTE *i; // rax

  v2 = *(_QWORD *)(0x2D0LL * *(unsigned __int16 *)(a2 + 0x10) + a1 + 0x4190)
     - *(_QWORD *)(0x2D0LL * *(unsigned __int16 *)(a2 + 0x10) + a1 + 0x4188);
  v3 = 0;
  if ( !v2 )
  {
    return 0;
  }
  for ( i = (_BYTE *)(*(_QWORD *)(a2 + 0x18) + 2LL); !*i; i += 0xC )
  {
    if ( ++v3 >= v2 )
    {
      return 0;
    }
  }
  return 1;
}

// --- End Function: sub_1467CAB20 (0x1467CAB20) ---

// --- Function: sub_1467CB580 (0x1467CB580) ---
bool __fastcall sub_1467CB580(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) >= 4u;
}

// --- End Function: sub_1467CB580 (0x1467CB580) ---

// --- Function: sub_1467CB590 (0x1467CB590) ---
bool __fastcall sub_1467CB590(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) >= 5u;
}

// --- End Function: sub_1467CB590 (0x1467CB590) ---

// --- Function: sub_1467CD750 (0x1467CD750) ---
void __fastcall sub_1467CD750(__int64 a1, unsigned __int64 a1, __int64 a3, __int64 a4)
{
  __int128 v4; // xmm7
  __int64 v8; // rbx
  __int64 v9; // rdi
  volatile signed __int32 *v10; // rbx
  int v11; // r14d
  unsigned __int32 v12; // eax
  __int64 v13; // rax
  _QWORD *v14; // rcx
  int v15; // eax
  unsigned __int32 v16; // eax
  bool v17; // dl
  unsigned __int64 v18; // rcx
  unsigned __int16 v19; // ax
  float v20; // xmm0_4
  volatile signed __int32 *v21; // rbx
  int v22; // r14d
  unsigned __int32 v23; // eax
  __int64 *v24; // rax
  bool v25; // dl
  unsigned __int64 v26; // rcx
  unsigned __int16 v27; // ax
  int v28; // eax
  unsigned __int32 v29; // eax
  __int64 v30; // rcx
  double _XMM0; // xmm0_8
  _BYTE v34[16]; // [rsp+20h] [rbp-58h] BYREF
  __int128 v35; // [rsp+30h] [rbp-48h]

  if ( (unsigned __int8)sub_1467CA670() )
  {
    v8 = *(unsigned int *)(a1 + 0x2E0);
    if ( (_DWORD)v8 != 0xFFFFFFFF && sub_1404141B0(a1) )
    {
      v9 = *(_QWORD *)(a1 + 0x210) + 0x60 * v8;
      if ( *(_BYTE *)(v9 + 0x45) )
      {
        v10 = (volatile signed __int32 *)(a1 + 0x298);
        v11 = *(_DWORD *)(a1() + 0x18);
        if ( *(_DWORD *)(a1 + 0x29C) == v11 )
        {
          ++*(_DWORD *)(a1 + 0x2A0);
        }
        else
        {
          v12 = _InterlockedCompareExchange(v10, 1, 0);
          if ( v12 )
          {
            sub_1403BF290(
              (volatile signed __int32 *)(a1 + 0x298),
              v12,
              (__int64)"CEntityLifetimeManager::OnDensityClassChanged",
              1);
          }
          *(_DWORD *)(a1 + 0x29C) = v11;
        }
        sub_1467C08F0(a1);
        v13 = *(_QWORD *)v9;
        v14 = *(_QWORD **)(v9 + 8);
        *v14 = *(_QWORD *)v9;
        *(_QWORD *)(v13 + 8) = v14;
        *(_BYTE *)(v9 + 0x45) = 0;
        v15 = *(_DWORD *)(a1 + 0x2A0);
        if ( v15 )
        {
          *(_DWORD *)(a1 + 0x2A0) = v15 - 1;
        }
        else
        {
          *(_DWORD *)(a1 + 0x29C) = 0xFFFFFFFF;
          v16 = _InterlockedCompareExchange(v10, 0, 1);
          if ( v16 != 1 )
          {
            sub_1403D6A80((volatile signed __int32 *)(a1 + 0x298), v16);
          }
        }
      }
      v17 = sub_1468E7840(a1);
      if ( v17 )
      {
        v18 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      else
      {
        v18 = a1 - 6;
      }
      v19 = *(_WORD *)(v18 + 2) | 0x2000;
      if ( !v17 )
      {
        v19 = *(_WORD *)(v18 + 2);
      }
      sub_1467B9DD0(a1, a1 | ((unsigned __int64)v19 << 0x30), v9);
      v20 = *(float *)(a4 + 0x18);
      if ( v20 <= 0.0 )
      {
        *(float *)(v9 + 0x40) = 0xBF800000;
        *(_BYTE *)(v9 + 0x44) = *(_BYTE *)(a4 + 0x1C);
      }
      else
      {
        *(float *)(v9 + 0x40) = v20 * 60.0;
        *(_BYTE *)(v9 + 0x44) = *(_BYTE *)(a4 + 0x1C);
        if ( (float)(v20 * 60.0) > 0.0 )
        {
          v35 = v4;
          v21 = (volatile signed __int32 *)(a1 + 0x298);
          v22 = *(_DWORD *)(a1() + 0x18);
          if ( *(_DWORD *)(a1 + 0x29C) == v22 )
          {
            ++*(_DWORD *)(a1 + 0x2A0);
          }
          else
          {
            v23 = _InterlockedCompareExchange(v21, 1, 0);
            if ( v23 )
            {
              sub_1403BF290(
                (volatile signed __int32 *)(a1 + 0x298),
                v23,
                (__int64)"CEntityLifetimeManager::OnDensityClassChanged",
                1);
            }
            *(_DWORD *)(a1 + 0x29C) = v22;
          }
          v24 = (__int64 *)sub_1467C08F0(a1);
          *(_QWORD *)v9 = *v24;
          *(_QWORD *)(v9 + 8) = v24;
          *v24 = v9;
          *(_QWORD *)(*(_QWORD *)v9 + 8LL) = v9;
          *(_BYTE *)(v9 + 0x45) = 1;
          v25 = sub_1468E7840(a1);
          if ( v25 )
          {
            v26 = a1 & 0xFFFFFFFFFF000000uLL;
          }
          else
          {
            v26 = a1 - 6;
          }
          v27 = *(_WORD *)(v26 + 2) | 0x2000;
          if ( !v25 )
          {
            v27 = *(_WORD *)(v26 + 2);
          }
          sub_1467D74C0(a1, a1 | ((unsigned __int64)v27 << 0x30), v9);
          v28 = *(_DWORD *)(a1 + 0x2A0);
          if ( v28 )
          {
            *(_DWORD *)(a1 + 0x2A0) = v28 - 1;
          }
          else
          {
            *(_DWORD *)(a1 + 0x29C) = 0xFFFFFFFF;
            v29 = _InterlockedCompareExchange(v21, 0, 1);
            if ( v29 != 1 )
            {
              sub_1403D6A80((volatile signed __int32 *)(a1 + 0x298), v29);
            }
          }
        }
      }
      if ( *(float *)(v9 + 0x58) >= 0.0 )
      {
        v30 = *(_QWORD *)(a4 + 0x20);
        if ( !v30 )
        {
          goto LABEL_45;
        }
        _XMM0 = (*(double (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v30 + 0x30LL))(v30, v34);
        _XMM0 = sub_140593C00(_XMM0);
        __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
        if ( *(float *)&_XMM3 >= 0.0 )
        {
          sub_1467B9CB0(a1, a1, v9);
        }
        else
        {
LABEL_45:
          if ( *(_BYTE *)(v9 + 0x45) )
          {
            sub_1467D3DF0(a1, v9);
          }
          *(_DWORD *)(v9 + 0x58) = 0xBF800000;
          *(_QWORD *)(v9 + 0x50) = 0;
        }
      }
    }
  }
}

// --- End Function: sub_1467CD750 (0x1467CD750) ---

// --- Function: sub_1467CDC30 (0x1467CDC30) ---
double __fastcall sub_1467CDC30(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4)
{
  __int64 *v6; // rsi
  __int64 *i; // rbx
  __int64 v8; // rax
  __int64 v9; // rdx
  __int64 v11; // [rsp+30h] [rbp-49h] BYREF
  _QWORD v12[5]; // [rsp+38h] [rbp-41h] BYREF
  int n0x1400; // [rsp+60h] [rbp-19h] BYREF
  __int64 v14; // [rsp+64h] [rbp-15h]
  int v15; // [rsp+6Ch] [rbp-Dh]
  __int64 v16; // [rsp+70h] [rbp-9h]
  unsigned __int64 v17; // [rsp+78h] [rbp-1h]
  __int64 v18; // [rsp+80h] [rbp+7h]
  __int64 v19; // [rsp+88h] [rbp+Fh]
  __int64 v20; // [rsp+E8h] [rbp+6Fh] BYREF

  v20 = a2;
  n0x1400 = 0x1400;
  v14 = 0;
  v15 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v16 = 1;
  psub_7FF6AAB938D0(
    &n0x1400,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( v20 )
  {
    if ( *(_BYTE *)(v20 + 0xD) < 5u )
    {
      v6 = *(__int64 **)(v20 + 0x240);
      for ( i = *(__int64 **)(v20 + 0x238); i != v6; ++i )
      {
        v8 = *i & 0xFFFFFFFFFFFFLL;
        v12[0] = a1;
        v12[2] = i;
        v11 = a1 + 0x2D0LL * *(unsigned __int16 *)(v8 + 0x10) + 0x3F30;
        v12[1] = &v20;
        v12[3] = &v11;
        if ( is_valid_handle_typeA(i) )
        {
          v9 = *i & 0xFFFFFFFFFFFFLL;
        }
        else
        {
          v9 = 0;
        }
        sub_1467A3F40(a1, v9, a4, v12);
      }
    }
  }
  v17 = __rdtsc();
  return psub_7FF6AAB93930(&n0x1400);
}

// --- End Function: sub_1467CDC30 (0x1467CDC30) ---

// --- Function: sub_1467CDD80 (0x1467CDD80) ---
double __fastcall sub_1467CDD80(__int64 a1, unsigned __int64 a2)
{
  __int128 v2; // xmm7
  __int64 v5; // rbx
  __int64 v6; // rdi
  char v7; // al
  __int64 v8; // rdi
  volatile signed __int32 *v9; // rbx
  int v10; // r14d
  unsigned __int32 v11; // eax
  __int64 v12; // rax
  _QWORD *v13; // rcx
  int v14; // eax
  unsigned __int32 v15; // eax
  bool v16; // cf
  volatile signed __int32 *v17; // rbx
  int v18; // r14d
  unsigned __int32 v19; // eax
  __int64 *v20; // rax
  int v21; // eax
  unsigned __int32 v22; // eax
  bool valid; // al
  unsigned __int64 a1; // rdx
  __int64 v25; // rax
  __int64 v26; // rcx
  void (__fastcall *v27)(FH4 *, unsigned __int64, _QWORD *); // r9
  int v28; // ebx
  __int64 *ThreadLogContextSlot; // rax
  __int64 v31; // [rsp+28h] [rbp-D8h]
  unsigned __int64 v32; // [rsp+50h] [rbp-B0h] BYREF
  _DWORD v33[2]; // [rsp+58h] [rbp-A8h] BYREF
  _DWORD v34[2]; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v35; // [rsp+68h] [rbp-98h] BYREF
  int n0x1400; // [rsp+70h] [rbp-90h] BYREF
  __int64 v37; // [rsp+74h] [rbp-8Ch]
  int v38; // [rsp+7Ch] [rbp-84h]
  __int64 v39; // [rsp+80h] [rbp-80h]
  unsigned __int64 v40; // [rsp+88h] [rbp-78h]
  __int64 v41; // [rsp+90h] [rbp-70h]
  __int64 v42; // [rsp+98h] [rbp-68h]
  _QWORD v43[2]; // [rsp+C0h] [rbp-40h] BYREF
  _QWORD v44[2]; // [rsp+D0h] [rbp-30h] BYREF
  _QWORD v45[2]; // [rsp+E0h] [rbp-20h] BYREF
  _QWORD v46[6]; // [rsp+F0h] [rbp-10h] BYREF
  _OWORD v47[2]; // [rsp+120h] [rbp+20h] BYREF
  char v48; // [rsp+1A0h] [rbp+A0h] BYREF
  char v49; // [rsp+1A8h] [rbp+A8h] BYREF

  n0x1400 = 0x1400;
  v37 = 0;
  v38 = 0;
  v40 = 0;
  v41 = 0;
  v42 = 0;
  v39 = 1;
  psub_7FF6AAB938D0(
    &n0x1400,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( (unsigned __int8)sub_1467CA670(a1) )
  {
    v32 = a2;
    v5 = a2 & 0xFFFFFFFFFFFFLL;
    v6 = *(unsigned int *)(v5 + 0x2E0);
    if ( (_DWORD)v6 != 0xFFFFFFFF )
    {
      v7 = sub_1404141B0(v5);
      v8 = *(_QWORD *)(a1 + 0x210) + 0x60 * v6;
      if ( *(_BYTE *)(v8 + 0x47) != v7 )
      {
        *(_BYTE *)(v8 + 0x47) = v7;
        if ( v7 )
        {
          v16 = *(float *)(v8 + 0x40) > 0.0;
          v47[1] = v2;
          if ( v16 )
          {
            v17 = (volatile signed __int32 *)(a1 + 0x298);
            v18 = *(_DWORD *)(a1() + 0x18);
            if ( *(_DWORD *)(a1 + 0x29C) == v18 )
            {
              ++*(_DWORD *)(a1 + 0x2A0);
            }
            else
            {
              v19 = _InterlockedCompareExchange(v17, 1, 0);
              if ( v19 )
              {
                sub_1403BF290(
                  (volatile signed __int32 *)(a1 + 0x298),
                  v19,
                  (__int64)"CEntityLifetimeManager::OnEntityAuthorityChanged",
                  1);
              }
              *(_DWORD *)(a1 + 0x29C) = v18;
            }
            v20 = (__int64 *)sub_1467C08F0(a1);
            *(_QWORD *)v8 = *v20;
            *(_QWORD *)(v8 + 8) = v20;
            *v20 = v8;
            *(_QWORD *)(*(_QWORD *)v8 + 8LL) = v8;
            *(_BYTE *)(v8 + 0x45) = 1;
            sub_1467D74C0(a1, v32, v8);
            v21 = *(_DWORD *)(a1 + 0x2A0);
            if ( v21 )
            {
              *(_DWORD *)(a1 + 0x2A0) = v21 - 1;
            }
            else
            {
              *(_DWORD *)(a1 + 0x29C) = 0xFFFFFFFF;
              v22 = _InterlockedCompareExchange(v17, 0, 1);
              if ( v22 != 1 )
              {
                sub_1403D6A80((volatile signed __int32 *)(a1 + 0x298), v22);
              }
            }
          }
          if ( *(float *)(v8 + 0x58) >= 0.0 )
          {
            valid = is_valid_handle_typeB(&v32);
            a1 = v32 & 0xFFFFFFFFFFFFLL;
            if ( !valid )
            {
              a1 = 0;
            }
            sub_1467B9CB0(a1, a1, v8);
          }
          v25 = sub_1468D7AF0(v32 & 0xFFFFFFFFFFFFLL);
          v49 = 0;
          v48 = 0;
          v26 = *(_QWORD *)pCZoneSystem;
          v46[2] = v25;
          v46[3] = &v49;
          v46[4] = &v48;
          v27 = *(void (__fastcall **)(FH4 *, unsigned __int64, _QWORD *))(v26 + 0x278);
          v46[1] = v32;
          v43[0] = v46;
          v46[0] = a1;
          v43[1] = sub_14679F000;
          v46[5] = v8;
          v27(pCZoneSystem, (v32 & 0xFFFFFFFFFFFFLL) + 0x2A0, v43);
          if ( v48 )
          {
            v33[0] = 0xC9;
            v44[0] = v33;
            v33[1] = 0x2C;
            v44[1] = v34;
            v28 = invokeGlobalCallbackAndMaskStatusBits(
                    5,
                    (__int64)v44,
                    (__int64)"Density Entity Destroy",
                    "Density Management OnEntityAuthorityChanged destroyed Entity: $$");
            if ( (v28 & 0xFFFFF) != 0 )
            {
              v35 = *(_QWORD *)((v32 & 0xFFFFFFFFFFFFLL) + 0x10);
              ThreadLogContextSlot = getThreadLogContextSlot();
              v34[0] = 0xC9;
              v45[0] = v34;
              v34[1] = 0x2C;
              v45[1] = &v35;
              LODWORD(v31) = v28;
              v47[0] = 0;
              sub_14043B6E0(
                5,
                (__int64)v45,
                "Density Entity Destroy",
                (__int64)"Density Management OnEntityAuthorityChanged destroyed Entity: $$",
                1,
                v31,
                v47,
                0,
                (__int64)ThreadLogContextSlot,
                (__int64)&v35);
            }
            sub_1468CA890(pEntitySystem, v32);
          }
          else if ( v49 )
          {
            sub_1467D74C0(a1, v32, v8);
          }
        }
        else
        {
          if ( *(_BYTE *)(v8 + 0x45) )
          {
            v9 = (volatile signed __int32 *)(a1 + 0x298);
            v10 = *(_DWORD *)(a1() + 0x18);
            if ( *(_DWORD *)(a1 + 0x29C) == v10 )
            {
              ++*(_DWORD *)(a1 + 0x2A0);
            }
            else
            {
              v11 = _InterlockedCompareExchange(v9, 1, 0);
              if ( v11 )
              {
                sub_1403BF290(
                  (volatile signed __int32 *)(a1 + 0x298),
                  v11,
                  (__int64)"CEntityLifetimeManager::OnEntityAuthorityChanged",
                  1);
              }
              *(_DWORD *)(a1 + 0x29C) = v10;
            }
            sub_1467C08F0(a1);
            v12 = *(_QWORD *)v8;
            v13 = *(_QWORD **)(v8 + 8);
            *v13 = *(_QWORD *)v8;
            *(_QWORD *)(v12 + 8) = v13;
            *(_BYTE *)(v8 + 0x45) = 0;
            v14 = *(_DWORD *)(a1 + 0x2A0);
            if ( v14 )
            {
              *(_DWORD *)(a1 + 0x2A0) = v14 - 1;
            }
            else
            {
              *(_DWORD *)(a1 + 0x29C) = 0xFFFFFFFF;
              v15 = _InterlockedCompareExchange(v9, 0, 1);
              if ( v15 != 1 )
              {
                sub_1403D6A80((volatile signed __int32 *)(a1 + 0x298), v15);
              }
            }
          }
          if ( *(_BYTE *)(v8 + 0x5C) )
          {
            sub_1467D3DF0(a1, v8);
          }
        }
      }
    }
  }
  v40 = __rdtsc();
  return psub_7FF6AAB93930(&n0x1400);
}

// --- End Function: sub_1467CDD80 (0x1467CDD80) ---

// --- Function: sub_1467CEBF0 (0x1467CEBF0) ---
__int64 __fastcall sub_1467CEBF0(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  LOBYTE(a4) = 1;
  return sub_1467D4D90(a1, a2, 0, a4);
}

// --- End Function: sub_1467CEBF0 (0x1467CEBF0) ---

// --- Function: sub_1467CF630 (0x1467CF630) ---
__int64 __fastcall sub_1467CF630(__int64 a1, __int64 a2, __int64 a3)
{
  LOBYTE(a3) = 1;
  return sub_1467D4D90(a1, a2, a3, 0);
}

// --- End Function: sub_1467CF630 (0x1467CF630) ---

// --- Function: sub_1467F4290 (0x1467F4290) ---
_QWORD *__fastcall sub_1467F4290(__int64 a1, _QWORD *a2)
{
  __int64 (__fastcall *v4)(__int64, _BYTE *, __int16 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 (__fastcall *v10)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_2; // ax
  _BYTE v12[8]; // [rsp+20h] [rbp-38h] BYREF
  _BYTE v13[48]; // [rsp+28h] [rbp-30h] BYREF
  __int16 n0xFFFF_1; // [rsp+60h] [rbp+8h] BYREF
  __int64 v15; // [rsp+68h] [rbp+10h] BYREF
  char v16; // [rsp+70h] [rbp+18h] BYREF
  char v17; // [rsp+78h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int16 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_83;
  if ( n0xFFFF_83 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v16,
                          "RenderProxy");
    n0xFFFF_83 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v12, &n0xFFFF_1);
  v15 = v6;
  if ( v6
    && (handle_metadata_ptr = get_handle_metadata_ptr(v6 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v15)) )
  {
    *a2 = v6;
    return a2;
  }
  else
  {
    v10 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x330LL);
    n0xFFFF_2 = n0xFFFF_95;
    if ( n0xFFFF_95 == (__int16)0xFFFF )
    {
      n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                     + 0x10LL))(
                              global_dispatcher_ptr,
                              &v17,
                              "RenderProxy");
      n0xFFFF_95 = n0xFFFF_2;
    }
    LOWORD(v15) = n0xFFFF_2;
    *a2 = *(_QWORD *)v10(a1, v13, &v15);
    return a2;
  }
}

// --- End Function: sub_1467F4290 (0x1467F4290) ---

// --- Function: sub_146809370 (0x146809370) ---
char __fastcall sub_146809370(__int64 a1)
{
  __int64 v1; // rax
  _QWORD *v2; // rbx
  __int64 v3; // rcx

  v1 = *(_QWORD *)(a1 + 0x4A8);
  if ( v1 )
  {
    v2 = (_QWORD *)(v1 + 8);
    if ( is_valid_handle_typeB((unsigned __int64 *)(v1 + 8)) )
    {
      v3 = *v2 & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v3 = 0;
    }
    LOBYTE(v1) = (*(unsigned __int8 (__fastcall **)(__int64, __int64))(*(_QWORD *)v3 + 0x40LL))(v3, 0x40000000) != 0;
  }
  return v1;
}

// --- End Function: sub_146809370 (0x146809370) ---

// --- Function: sub_14680CA50 (0x14680CA50) ---
__int64 __fastcall sub_14680CA50(__int64 a1, unsigned int a2, __int64 a3)
{
  return sub_146900330(a1, *(_DWORD *)(a1 + 0x110) | a2, a3);
}

// --- End Function: sub_14680CA50 (0x14680CA50) ---

// --- Function: sub_14680DBF0 (0x14680DBF0) ---
__int64 __fastcall sub_14680DBF0(__int64 a1, int a2, __int64 a3, int a4, int a5)
{
  int v6; // edi
  __int64 result; // rax
  unsigned int v10; // r14d
  int v11; // r12d
  __int64 v12; // r8
  __int64 v13; // rcx
  __int64 v14; // rbx
  void (__fastcall ***v15)(_QWORD); // rbx
  unsigned __int64 v16; // rcx
  unsigned __int64 v17; // rcx
  __int64 v18; // rcx
  unsigned __int64 v19; // rcx
  volatile signed __int64 *v20; // rdi
  int v21; // ebx
  unsigned __int64 v22; // rax
  __int64 v23; // rbx
  __int64 v24; // rax
  __int64 v25; // rcx
  int v26; // eax
  int v27; // eax
  unsigned __int64 n0x200000; // rax
  int v29; // [rsp+30h] [rbp-D0h] BYREF
  int v30; // [rsp+34h] [rbp-CCh]
  __int64 v31; // [rsp+38h] [rbp-C8h]
  int v32; // [rsp+40h] [rbp-C0h]
  __int64 v33; // [rsp+48h] [rbp-B8h]
  int v34; // [rsp+50h] [rbp-B0h]
  void (__fastcall ***v35)(_QWORD); // [rsp+58h] [rbp-A8h]
  __int128 v36; // [rsp+60h] [rbp-A0h]
  _OWORD v37[3]; // [rsp+70h] [rbp-90h] BYREF
  char v38; // [rsp+A0h] [rbp-60h]
  char v39[4]; // [rsp+B0h] [rbp-50h] BYREF
  int v40; // [rsp+B4h] [rbp-4Ch]
  unsigned int v41; // [rsp+B8h] [rbp-48h]
  __int64 v42; // [rsp+C0h] [rbp-40h]
  void (__fastcall ***v43)(_QWORD); // [rsp+128h] [rbp+28h]
  __int128 v44; // [rsp+130h] [rbp+30h]
  __int128 v45; // [rsp+140h] [rbp+40h]
  __int128 v46; // [rsp+150h] [rbp+50h]
  __int64 v47; // [rsp+168h] [rbp+68h]
  unsigned int v48; // [rsp+1B0h] [rbp+B0h] BYREF

  v6 = a3;
  if ( !*(_QWORD *)(a3 + 0x78) )
  {
    *(_DWORD *)(a3 + 0x80) = 2;
    *(_QWORD *)(a3 + 0x78) = *(_QWORD *)(a1 + 8);
    *(_QWORD *)(a3 + 0xB0) = *(_QWORD *)(a1 + 8);
  }
  result = sub_14680CA60(a1, a2, a3, 0xFFFFFFFF, 0);
  v48 = result;
  v10 = result;
  if ( (int)result < 0 )
  {
    return result;
  }
  v30 = 0;
  v31 = 0;
  v33 = 0;
  v34 = 0;
  v35 = 0;
  v38 = 0;
  v11 = a5;
  v36 = 0;
  memset(v37, 0, sizeof(v37));
  v32 = a5;
  v29 = a4;
  sub_140342220((__int64 *)v37, 0, &v48);
  v13 = *(_QWORD *)(a1 + 8);
  v31 = v13;
  if ( v11 >= 0 && a4 == 1 )
  {
    v39[0] = 0;
    v40 = 0;
    v41 = 0xFFFFFFFF;
    v42 = 0;
    v43 = 0;
    v44 = 0;
    v45 = 0;
    v46 = 0;
    v47 = 0;
    if ( (*(unsigned __int8 (__fastcall **)(__int64, _QWORD, char *, _QWORD))(*(_QWORD *)(v13 & 0xFFFFFFFFFFFFLL)
                                                                            + 0x488LL))(
           v13 & 0xFFFFFFFFFFFFLL,
           (unsigned int)v11,
           v39,
           0) )
    {
      v14 = v44;
      if ( (_QWORD)v44 )
      {
        if ( v33 != (_QWORD)v44 )
        {
          (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v44 + 8LL))(v44);
          v33 = v14;
        }
      }
      else
      {
        v15 = v43;
        if ( !v43 || v35 == v43 )
        {
          goto LABEL_14;
        }
        (**v43)(v43);
        v35 = v15;
      }
    }
    v15 = v43;
LABEL_14:
    if ( v47 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v47 + 0x10LL))(v47);
      v15 = v43;
    }
    v47 = 0;
    if ( v15 )
    {
      (*v15)[1](v15);
    }
    v43 = 0;
    if ( (v42 & 0x100000000000000LL) != 0 && (v42 & 0xFFFFFFFFFFFFLL) != 0 )
    {
      free_memory_wrapper((const void *)(v42 & 0xFFFFFFFFFFFFLL));
    }
  }
  LOBYTE(v12) = 1;
  sub_14680DA90(a1, &v29, v12);
  v16 = *(_QWORD *)(a1 + 0x448);
  if ( v16 && *(_QWORD *)((*(_QWORD *)(a1 + 0x448) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v16) )
  {
    sub_14680CA60(a1, a2, v6, v10, *(_QWORD *)(a1 + 0x448) & 0xFFFFFFFFFFFFLL);
  }
  v17 = *(_QWORD *)(a1 + 0x450);
  if ( v17 && *(_QWORD *)((*(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v17) )
  {
    sub_14680CA60(a1, a2, v6, v10, *(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL);
  }
  v18 = *(_QWORD *)(a1 + 0x4A8);
  if ( v18 != a1 )
  {
    v19 = *(_QWORD *)(v18 + 0x438);
    if ( v19 )
    {
      if ( *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v19) )
      {
        v20 = (volatile signed __int64 *)(a1 + 0x518);
        v21 = *(_DWORD *)(a1() + 0x18);
        if ( *(_DWORD *)(a1 + 0x520) == v21 )
        {
          ++*(_DWORD *)(a1 + 0x524);
        }
        else
        {
          v22 = _InterlockedCompareExchange64(v20, 0x200000, 0);
          if ( v22 )
          {
            sub_1403D85B0(
              (volatile signed __int64 *)(a1 + 0x518),
              v22,
              0,
              (__int64)"CPhysicalProxy::AddPhysicsGeometry",
              (__int64)"m_compoundedPhysicsBlocksLock",
              1);
          }
          v10 = v48;
          *(_DWORD *)(a1 + 0x520) = v21;
        }
        v23 = *(_QWORD *)(a1 + 0x508);
        v24 = *(_QWORD *)(a1 + 0x500);
        if ( v23 != v24 )
        {
          while ( 1 )
          {
            v23 -= 0x78;
            if ( *(_DWORD *)(v23 + 4) == v30 )
            {
              break;
            }
            if ( v23 == v24 )
            {
              goto LABEL_43;
            }
          }
          if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
          {
            v25 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
          }
          else
          {
            v25 = 0;
          }
          v26 = sub_1468DB310(v25);
          sub_1468216D0(a1, *(_QWORD *)(a1 + 0x4A8), v23, v26, 0, 1);
        }
LABEL_43:
        if ( a1 != 0xFFFFFFFFFFFFFAE8uLL )
        {
          v27 = *(_DWORD *)(a1 + 0x524);
          if ( v27 )
          {
            *(_DWORD *)(a1 + 0x524) = v27 - 1;
          }
          else
          {
            *(_DWORD *)(a1 + 0x520) = 0xFFFFFFFF;
            n0x200000 = _InterlockedCompareExchange64(v20, 0, 0x200000);
            if ( n0x200000 != 0x200000 )
            {
              sub_1403D8A00((volatile signed __int64 *)(a1 + 0x518), n0x200000);
            }
            v10 = v48;
          }
        }
      }
    }
  }
  sub_1468055E0(&v29);
  return v10;
}

// --- End Function: sub_14680DBF0 (0x14680DBF0) ---

// --- Function: sub_14680F550 (0x14680F550) ---
char __fastcall sub_14680F550(__int64 a1, const vraudio::AudioBuffer *__Val_0___1, unsigned __int8 a3)
{
  bool valid; // al
  unsigned __int64 v6; // rcx
  __int64 v7; // rbp
  __int64 v8; // rax
  const char *v9; // rbx
  const char *v10; // rax
  int v12; // edi
  unsigned __int64 v13; // rax
  const vraudio::AudioBuffer **_Whereptr; // rdx
  const vraudio::AudioBuffer **v15; // rcx
  char v16; // bl
  int v17; // eax
  unsigned __int64 n0x200000; // rax
  std::vector<vraudio::AudioBuffer const *> *v19; // [rsp+30h] [rbp-48h]
  volatile signed __int64 *v20; // [rsp+38h] [rbp-40h]
  unsigned __int64 __Val_0__; // [rsp+88h] [rbp+10h] BYREF

  __Val_0__ = (unsigned __int64)__Val_0___1;
  if ( !is_valid_handle_typeB(&__Val_0__) )
  {
    return 0;
  }
  valid = is_valid_handle_typeB(&__Val_0__);
  v6 = __Val_0__ & 0xFFFFFFFFFFFFLL;
  if ( !valid )
  {
    v6 = 0;
  }
  v7 = sub_1468DB500(v6);
  if ( !v7 )
  {
    v8 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(__Val_0__ & 0xFFFFFFFFFFFFLL) + 0x20LL))(__Val_0__ & 0xFFFFFFFFFFFFLL);
    v9 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x18LL))(v8);
    v10 = (const char *)(*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(__Val_0__ & 0xFFFFFFFFFFFFLL) + 0x70LL))(__Val_0__ & 0xFFFFFFFFFFFFLL);
    sub_1405BD4A0(
      6u,
      2u,
      "Entity '%s' was passed to CPhysicalProxy::AddToIgnoreList, but doesn't have a physics proxy. Entity Class: '%s'.",
      v10,
      v9);
    return 0;
  }
  v19 = (std::vector<vraudio::AudioBuffer const *> *)(a1 + 0x550);
  v20 = (volatile signed __int64 *)(a1 + 0x568);
  v12 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(a1 + 0x570) == v12 )
  {
    ++*(_DWORD *)(a1 + 0x574);
  }
  else
  {
    v13 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x568), 0x200000, 0);
    if ( v13 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)(a1 + 0x568),
        v13,
        0,
        (__int64)&p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        (__int64)&p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        1);
    }
    *(_DWORD *)(a1 + 0x570) = v12;
  }
  _Whereptr = *(const vraudio::AudioBuffer ***)(a1 + 0x558);
  v15 = *(const vraudio::AudioBuffer ***)v19;
  if ( *(const vraudio::AudioBuffer ***)v19 == _Whereptr )
  {
LABEL_15:
    if ( _Whereptr == *(const vraudio::AudioBuffer ***)(a1 + 0x560) )
    {
      std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        v19,
        _Whereptr,
        (const vraudio::AudioBuffer **)&__Val_0__);
    }
    else
    {
      *_Whereptr = (const vraudio::AudioBuffer *)__Val_0__;
      *(_QWORD *)(a1 + 0x558) += 8LL;
    }
    v16 = 1;
  }
  else
  {
    while ( *v15 != (const vraudio::AudioBuffer *)__Val_0__ )
    {
      if ( ++v15 == _Whereptr )
      {
        goto LABEL_15;
      }
    }
    v16 = 0;
  }
  v17 = *(_DWORD *)(a1 + 0x574);
  if ( v17 )
  {
    *(_DWORD *)(a1 + 0x574) = v17 - 1;
  }
  else
  {
    *(_DWORD *)(a1 + 0x570) = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(v20, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
    {
      sub_1403D8A00(v20, n0x200000);
    }
  }
  if ( !v16 )
  {
    return 0;
  }
  return sub_14680F410(a1, *(_QWORD *)(v7 + 0x4A8), a3);
}

// --- End Function: sub_14680F550 (0x14680F550) ---

// --- Function: sub_14680FB90 (0x14680FB90) ---
unsigned __int64 __fastcall sub_14680FB90(__int64 a1, __int64 a2, char a3, char a4)
{
  unsigned __int64 result; // rax
  int v6; // ebp
  __int64 v9; // rcx
  __int64 v10; // rcx
  __int64 v11; // rcx
  __int64 v12; // rcx
  unsigned int v13; // edi
  __int64 v14; // rcx
  __int64 v15; // rax
  _QWORD *v16; // rax
  signed __int64 v17; // rdx
  __int64 v18; // rsi
  __int64 v19; // rsi
  __int64 v20; // rcx
  __int64 v21; // r8
  unsigned __int64 v22; // rdi
  __int64 v23; // rbx
  __int64 v24; // rax
  __int64 v25; // r8
  __int64 v26; // rcx
  char v27; // [rsp+60h] [rbp+8h] BYREF

  result = *(_QWORD *)(a1 + 0x438);
  v6 = 0;
  if ( result
    && *(_QWORD *)((result & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*(_QWORD *)(a1 + 0x438))
    && a2
    && (a4 || *(_QWORD *)(a1 + 0x4A8) == a1) )
  {
    if ( (result & 0xFFFFFFFFFFFFLL) != 0 )
    {
      result = sub_141307940(a2, result & 0xFFFFFFFFFFFFLL | (*(_QWORD *)((result & 0xFFFFFFFFFFFFLL) + 8) << 0x30));
    }
    v9 = *(_QWORD *)(a1 + 0x440);
    if ( v9 )
    {
      v10 = v9 & 0xFFFFFFFFFFFFLL;
      result = HIWORD(*(_QWORD *)(a1 + 0x440));
      if ( *(_QWORD *)(v10 + 8) == result )
      {
        if ( v10 )
        {
          result = sub_141307940(a2, v10 | (*(_QWORD *)(v10 + 8) << 0x30));
        }
      }
    }
    v11 = *(_QWORD *)(a1 + 0x450);
    if ( v11 )
    {
      v12 = v11 & 0xFFFFFFFFFFFFLL;
      result = HIWORD(*(_QWORD *)(a1 + 0x450));
      if ( *(_QWORD *)(v12 + 8) == result )
      {
        if ( v12 )
        {
          result = sub_141307940(a2, v12 | (*(_QWORD *)(v12 + 8) << 0x30));
        }
      }
    }
    if ( (*(_DWORD *)(a1 + 0x1B0) & 0x100) != 0 )
    {
      v13 = *(_DWORD *)(a1 + 0x1B0) & 0xF;
      v14 = is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) ? *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL : 0LL;
      result = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v14 + 0x4E8LL))(v14, v13);
      if ( result )
      {
        v15 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)result + 0x30LL))(result);
        v16 = (_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)v15 + 0x28LL))(v15, &v27);
        result = sub_141307940(a2, *v16);
      }
    }
  }
  if ( a3 )
  {
    if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
    {
      ++dword_1497929DC;
    }
    else
    {
      v17 = _InterlockedIncrement64(&qword_1497929D0);
      if ( (v17 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          &qword_1497929D0,
          v17,
          (__int64)"CPhysicalProxy::BuildChildIgnoreList",
          (__int64)"CEntity::s_aggregateHierarchyLock",
          1);
      }
    }
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v18 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v18 = 0;
    }
    v19 = *(_QWORD *)(v18 + 0x128);
    if ( v19 )
    {
      v20 = *(_QWORD *)(v19 + 0x1C0);
      v21 = *(_QWORD *)(v19 + 0x1B8);
      if ( (v20 - v21) >> 3 )
      {
        v22 = 0;
        do
        {
          if ( (v20 - v21) >> 3 <= v22 )
          {
            __debugbreak();
          }
          v23 = *(_QWORD *)(*(_QWORD *)(v19 + 0x1B8) + 8 * v22) & 0xFFFFFFFFFFFFLL;
          v24 = sub_1468DB500(v23);
          if ( v24 )
          {
            v26 = *(_QWORD *)(v23 + 0x128);
            if ( !v26 || (*(_BYTE *)(v26 + 0x140) & 8) == 0 )
            {
              LOBYTE(v25) = 1;
              sub_14680FB90(v24, a2, v25, 0);
            }
          }
          v20 = *(_QWORD *)(v19 + 0x1C0);
          ++v6;
          v21 = *(_QWORD *)(v19 + 0x1B8);
          ++v22;
        }
        while ( v6 < (unsigned __int64)((v20 - v21) >> 3) );
      }
    }
    return sub_1402D0950((__int64)&qword_1497929D0);
  }
  return result;
}

// --- End Function: sub_14680FB90 (0x14680FB90) ---

// --- Function: sub_146814FB0 (0x146814FB0) ---
void __fastcall sub_146814FB0(__int64 a1, __int64 a1, __int64 a3, __int64 a4)
{
  unsigned __int64 v4; // r10
  unsigned __int64 *v9; // r14
  int v10; // r9d
  __int64 v11; // rsi
  __int64 v12; // r14
  __int64 v13; // rax
  char *v14; // rdx
  __int64 a1_1; // rcx
  __int64 v16; // rdi
  unsigned __int64 *v17; // rbx
  __int64 a1_2; // rbx
  __int64 v19; // rdi
  unsigned int n2; // ebx
  __int64 v21; // rax
  char v22; // [rsp+30h] [rbp-1A8h] BYREF
  char v23; // [rsp+38h] [rbp-1A0h] BYREF
  _BYTE v24[4]; // [rsp+40h] [rbp-198h] BYREF
  int v25; // [rsp+44h] [rbp-194h]
  __int64 v26; // [rsp+1E0h] [rbp+8h] BYREF

  v4 = *(_QWORD *)(a1 + 0x438);
  if ( v4 && *(_QWORD *)((*(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v4) )
  {
    v9 = (unsigned __int64 *)sub_1468D68B0(a1, &v26);
    v11 = 0;
    if ( is_valid_handle_typeB(v9) )
    {
      v12 = *v9 & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v12 = 0;
    }
    if ( (*(_DWORD *)(v12 + 0x110) & 0x40000000) != 0 )
    {
      if ( (*(_DWORD *)(a1 + 0x1B0) & 0x10) == 0 )
      {
        *(_DWORD *)(a1 + 0x1B0) |= 0x20u;
      }
      LOBYTE(v10) = 1;
      sub_14683AB30(a1, 0, 0x13, v10, a4);
    }
    else
    {
      v13 = sub_1468DB500(a1);
      v14 = &v22;
      for ( a1_1 = a1; ; a1_1 = a1_2 )
      {
        v16 = v13;
        v17 = (unsigned __int64 *)sub_1468DA310(a1_1, v14);
        if ( is_valid_handle_typeB(v17) )
        {
          a1_2 = *v17 & 0xFFFFFFFFFFFFLL;
        }
        else
        {
          a1_2 = 0;
        }
        if ( v16 && (*(_DWORD *)(a1 + 0x110) & 0x4000) == 0 && (*(_BYTE *)(v16 + 0x1B0) & 0x20) == 0 )
        {
          goto LABEL_20;
        }
        if ( !a1_2 )
        {
          break;
        }
        v13 = sub_1468DB500(a1_2);
        v14 = &v23;
      }
      if ( v16 )
      {
LABEL_20:
        v19 = *(_QWORD *)(v16 + 0x4A8);
        goto LABEL_22;
      }
      LODWORD(v19) = a1;
LABEL_22:
      sub_1468023A0(v24, a3);
      if ( !sub_1468D8FA0(v12) || (n2 = 0x13, (v25 & 4) != 0) )
      {
        n2 = 2;
      }
      else if ( (v25 & 8) != 0 )
      {
        n2 = 0x11;
      }
      if ( sub_1468DB500(v12) )
      {
        v21 = sub_1468DB500(v12);
        if ( !(unsigned __int8)sub_146863240(v21, n2) )
        {
          goto LABEL_33;
        }
      }
      if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
      {
        v11 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      }
      if ( *(_QWORD *)(v11 + 0x128) && (*(_BYTE *)(*(_QWORD *)(sub_146842AB0(a1) + 0x128) + 0x140LL) & 0x10) != 0 )
      {
LABEL_33:
        v25 |= 0x10u;
      }
      sub_146812F30(a1, v19, (unsigned int)v24, 0, a4);
      sub_140370E80((__int64)v24);
    }
  }
}

// --- End Function: sub_146814FB0 (0x146814FB0) ---

// --- Function: sub_1468247C0 (0x1468247C0) ---
__int64 __fastcall sub_1468247C0(__int64 a1, __int64 rdx0)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  __int128 v4; // xmm8
  __int128 v5; // xmm9
  __int64 v6; // r15
  __int64 result; // rax
  unsigned __int64 v9; // rcx
  float v10; // xmm6_4
  float v11; // xmm8_4
  _QWORD *v12; // rcx
  float v13; // xmm9_4
  float v14; // kr00_4
  __int64 v15; // rcx
  const char *v16; // rax
  int v17; // eax
  __int64 v18; // rdx
  int v23; // eax
  __int64 v24; // rdx
  __int64 v25; // rax
  __int64 v26; // rbx
  unsigned __int64 allocSize; // rdi
  __int64 v28; // r12
  __int64 ptr_to_free_2; // rax
  __int64 v30; // rdx
  unsigned int v31; // edi
  __int64 v32; // rdx
  int v33; // r8d
  char v34; // r13
  __int64 v35; // rdx
  int v36; // ebx
  __int64 v37; // rdx
  __int64 v38; // rax
  __int64 v39; // rax
  __int64 v40; // rax
  __int64 v41; // rbx
  __int64 v42; // rax
  __int64 v43; // rdi
  __int64 v44; // rcx
  const char *v45; // rax
  unsigned __int64 v46; // r13
  __int64 v47; // rdx
  unsigned __int64 v48; // r8
  unsigned __int64 v49; // r15
  __int64 v50; // rcx
  FH4 *v51; // rax
  __int64 *v52; // rax
  __int64 v53; // rcx
  __int64 (__fastcall *v54)(__int64 *, __int64, __int128 *, __int128 *, _QWORD); // r10
  __int64 v55; // rbx
  __int64 v56; // rax
  __int64 v57; // rdi
  __int64 v58; // rcx
  const char *v59; // rax
  __int64 v60; // r8
  int v61; // ebx
  __int64 v62; // r8
  __int64 v63; // rdx
  __int64 v64; // rdx
  __int64 v65; // rdx
  __int64 v66; // rdx
  __int64 v67; // rcx
  unsigned __int64 v68; // rcx
  volatile signed __int64 *v69; // rdi
  int v70; // ebx
  unsigned __int64 v71; // rax
  __int64 v72; // rbx
  __int64 v73; // rax
  __int64 v74; // rcx
  int v75; // eax
  int v76; // eax
  unsigned __int64 n0x200000; // rax
  const void *ptr_to_free; // rbx
  __int64 v79; // rcx
  const char *v80; // rax
  __int64 v81; // rax
  double v82; // xmm1_8
  double v83; // xmm0_8
  double v84; // kr00_8
  __int64 v85; // rax
  __int64 v86; // rcx
  int n0xA; // eax
  __int64 v88; // rdi
  __int64 (__fastcall *v89)(__int64, __int64 *, int *, __int64); // rbx
  __int64 v90; // rax
  int v91; // eax
  __int64 v92; // rsi
  const char *v93; // rax
  __int64 v94; // [rsp+28h] [rbp-D8h]
  __int64 v95; // [rsp+30h] [rbp-D0h] BYREF
  _BYTE v96[24]; // [rsp+38h] [rbp-C8h] BYREF
  __int64 v97; // [rsp+50h] [rbp-B0h] BYREF
  _DWORD v98[6]; // [rsp+58h] [rbp-A8h] BYREF
  __int128 v99; // [rsp+70h] [rbp-90h]
  __int128 v100; // [rsp+80h] [rbp-80h]
  __int64 n5; // [rsp+90h] [rbp-70h] BYREF
  __int64 v102; // [rsp+98h] [rbp-68h]
  unsigned int v103; // [rsp+A0h] [rbp-60h]
  __int64 v104; // [rsp+A8h] [rbp-58h]
  int v105; // [rsp+B0h] [rbp-50h]
  __int64 v106; // [rsp+B8h] [rbp-48h]
  __int128 v107; // [rsp+C0h] [rbp-40h]
  _OWORD v108[3]; // [rsp+D0h] [rbp-30h] BYREF
  char v109; // [rsp+100h] [rbp+0h]
  __int128 v110; // [rsp+110h] [rbp+10h] BYREF
  __int128 v111; // [rsp+120h] [rbp+20h] BYREF
  _BYTE v112[4]; // [rsp+130h] [rbp+30h] BYREF
  float v113; // [rsp+134h] [rbp+34h]
  float v114; // [rsp+138h] [rbp+38h]
  __int64 v115; // [rsp+13Ch] [rbp+3Ch]
  int v116; // [rsp+144h] [rbp+44h]
  __int128 v117; // [rsp+148h] [rbp+48h]
  int v118; // [rsp+158h] [rbp+58h]
  __int64 n0x4000; // [rsp+178h] [rbp+78h]
  __int64 v120; // [rsp+180h] [rbp+80h]
  __int64 v121; // [rsp+1A8h] [rbp+A8h]
  int n2; // [rsp+1B0h] [rbp+B0h]
  char v123; // [rsp+1DCh] [rbp+DCh]
  __int64 v124; // [rsp+1E0h] [rbp+E0h]
  int v125; // [rsp+1E8h] [rbp+E8h]
  unsigned __int8 *v126[2]; // [rsp+1F0h] [rbp+F0h] BYREF
  _DWORD v127[4]; // [rsp+200h] [rbp+100h] BYREF
  _BYTE v128[72]; // [rsp+210h] [rbp+110h] BYREF
  __int64 n0x8000; // [rsp+258h] [rbp+158h]
  __int64 v130; // [rsp+2C0h] [rbp+1C0h]
  int v131; // [rsp+2C8h] [rbp+1C8h]
  __int64 a2; // [rsp+2D0h] [rbp+1D0h] BYREF
  int a3[4]; // [rsp+2E0h] [rbp+1E0h] BYREF
  int n0x1B; // [rsp+2F0h] [rbp+1F0h] BYREF
  double v135; // [rsp+2F4h] [rbp+1F4h]
  int v136; // [rsp+2FCh] [rbp+1FCh]
  double v137; // [rsp+300h] [rbp+200h]
  float v138; // [rsp+308h] [rbp+208h]
  float v139; // [rsp+30Ch] [rbp+20Ch]
  unsigned int v140; // [rsp+310h] [rbp+210h]
  unsigned int v141; // [rsp+314h] [rbp+214h]
  int n0x8000_1; // [rsp+318h] [rbp+218h]
  int v143; // [rsp+31Ch] [rbp+21Ch]
  __int64 ptr_to_free_1; // [rsp+320h] [rbp+220h]
  int v145; // [rsp+328h] [rbp+228h]
  __int64 v146; // [rsp+330h] [rbp+230h]
  __int64 v147; // [rsp+338h] [rbp+238h]
  __int64 v148; // [rsp+340h] [rbp+240h]
  __int64 v149; // [rsp+348h] [rbp+248h]
  int v150; // [rsp+350h] [rbp+250h]
  char v151; // [rsp+354h] [rbp+254h]
  char v152; // [rsp+355h] [rbp+255h]
  char v153; // [rsp+356h] [rbp+256h]
  char v154; // [rsp+357h] [rbp+257h]
  char v155; // [rsp+358h] [rbp+258h]
  bool v156; // [rsp+359h] [rbp+259h]
  char v157; // [rsp+35Ah] [rbp+25Ah]
  char v158; // [rsp+35Bh] [rbp+25Bh]
  char v159; // [rsp+35Ch] [rbp+25Ch]
  char v160; // [rsp+35Dh] [rbp+25Dh]
  int n0xE; // [rsp+360h] [rbp+260h] BYREF
  _BYTE v162[12]; // [rsp+364h] [rbp+264h]
  double v163; // [rsp+370h] [rbp+270h]
  double v164; // [rsp+378h] [rbp+278h]
  double v165; // [rsp+380h] [rbp+280h]
  double v166; // [rsp+388h] [rbp+288h]
  __int128 v167; // [rsp+390h] [rbp+290h]
  unsigned int v168; // [rsp+3A0h] [rbp+2A0h]
  unsigned int v169; // [rsp+3A4h] [rbp+2A4h]
  int v170; // [rsp+3A8h] [rbp+2A8h]
  unsigned int v171; // [rsp+3ACh] [rbp+2ACh]
  char Buffer[256]; // [rsp+3B0h] [rbp+2B0h] BYREF
  char Buffer_[256]; // [rsp+4B0h] [rbp+3B0h] BYREF
  __int128 v174; // [rsp+5C0h] [rbp+4C0h]
  __int128 v175; // [rsp+5D0h] [rbp+4D0h]
  __int128 v176; // [rsp+5E0h] [rbp+4E0h]
  __int128 v177; // [rsp+5F0h] [rbp+4F0h]

  v6 = rdx0;
  v97 = rdx0;
  result = (__int64)memset(Buffer, 0, sizeof(Buffer));
  if ( !v6 || *(_BYTE *)(a1 + 0x578) )
  {
    return result;
  }
  v9 = *(_QWORD *)(a1 + 0x438);
  if ( !v9 || *(_QWORD *)((v9 & 0xFFFFFFFFFFFFLL) + 8) != HIWORD(v9) )
  {
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v92 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v92 = 0;
    }
    v93 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v92 + 0x70LL))(v92);
    return sub_1405BD4A0(6u, 1u, "Cant create a local physics grid if there is no Physical Entity on Entity %s!", v93);
  }
  v177 = v2;
  v176 = v3;
  v175 = v4;
  v174 = v5;
  v98[0] = 0xF;
  v98[1] = 0x80000000;
  v98[3] = 0x80000000;
  v98[2] = 0x1001000;
  sub_146889840(a1, v98, 0);
  v10 = -9.9999999e14;
  v11 = 9.9999999e14;
  *(_DWORD *)(a1 + 0x1B0) |= 0x200000u;
  v12 = *(_QWORD **)(v6 + 8);
  *(float *)&v96[0x14] = -9.9999999e14;
  *(float *)v96 = 9.9999999e14;
  *(_OWORD *)&v96[4] = xmmword_1482008D0;
  if ( v12 )
  {
    (*(void (__fastcall **)(_QWORD, int *))(*(_QWORD *)*v12 + 0x30LL))(*v12, &n0xE);
    v13 = *(float *)&v166 + *((float *)&v167 + 1);
    v10 = *(float *)&v167 + *((float *)&v167 + 3);
    v14 = *(float *)&v166 - *((float *)&v167 + 1);
    v11 = *(float *)&v166 - *((float *)&v167 + 1);
    *(float *)&v96[0xC] = *(float *)&v166 + *((float *)&v167 + 1);
    *(float *)&v96[0x14] = *(float *)&v167 + *((float *)&v167 + 3);
    *(float *)&v96[4] = *((float *)&v166 + 1) - *((float *)&v167 + 2);
    *(float *)&v96[8] = *(float *)&v167 - *((float *)&v167 + 3);
    *(float *)&v96[0x10] = *((float *)&v166 + 1) + *((float *)&v167 + 2);
    sub_141E48910((__int64)v128);
    n0x8000 = 0x8000;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v15 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v15 = 0;
    }
    v16 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x70LL))(v15);
    sub_141E47560(Buffer, &a2, a3, "localgrid-voxelization-proxy:%s", v16);
    v17 = sub_1403DE070(a2);
    v18 = *(_QWORD *)(v6 + 8);
    v131 = v17;
    v130 = *(_QWORD *)(a1 + 8);
    sub_14680DBF0(a1, v18, (__int64)v128, 5, 0xFFFFFFFF);
    *(float *)v96 = v14;
  }
  else
  {
    v13 = *(float *)&v96[0xC];
  }
  _XMM7 = 0;
  __asm { vcmpltss xmm1, xmm7, xmm2 }
  _XMM0 = 0xFFBFFFFF;
  __asm { vblendvps xmm0, xmm0, xmm2, xmm1 }
  v154 = *(_BYTE *)(v6 + 0x59);
  v23 = *(_DWORD *)v6;
  v139 = *(float *)&_XMM0;
  n0x1B = 0x1B;
  LODWORD(v135) = 0xFFBFFFFF;
  LODWORD(v137) = 0xFFBFFFFF;
  v140 = 0x80000000;
  v141 = 0x80000000;
  ptr_to_free_1 = 0;
  v147 = 0;
  v148 = 0;
  v149 = 0;
  v150 = 1;
  v153 = 0;
  v155 = 0;
  v157 = 0;
  v145 = 0;
  v146 = 0;
  v143 = v23;
  if ( v11 <= v13 )
  {
    v135 = *(double *)v96;
    v137 = *(double *)&v96[0xC];
    v138 = v10;
    v136 = *(_DWORD *)&v96[8];
  }
  v24 = *(_QWORD *)(v6 + 0x18);
  v151 = *(_BYTE *)(v6 + 0x6D);
  v152 = *(_BYTE *)(v6 + 0x6E);
  v158 = *(_BYTE *)(v6 + 0x6F);
  v160 = *(_BYTE *)(v6 + 0x70);
  n0x8000_1 = 0x8000;
  if ( !v24 || *(_BYTE *)(v6 + 0x10) )
  {
    if ( !*(_DWORD *)(v6 + 0x68) )
    {
      n0xE = 0xE;
      DWORD2(v167) = 0xFFBFFFFF;
      v169 = 0xFFBFFFFF;
      v81 = sub_146842AB0(a1);
      sub_1468E0CE0(v81, v96, 0);
      v82 = *(double *)v96 + *(double *)(v6 + 0x40);
      *(double *)&v162[4] = *(double *)v96 + *(double *)(v6 + 0x28);
      v163 = *(double *)&v96[8] + *(double *)(v6 + 0x30);
      v164 = *(double *)&v96[0x10] + *(double *)(v6 + 0x38);
      v83 = *(double *)&v96[8] + *(double *)(v6 + 0x48);
      v165 = v82;
      v84 = *(double *)&v96[0x10] + *(double *)(v6 + 0x50);
      v166 = v83;
      *(double *)&v167 = v84;
      sub_146889840(a1, &n0xE, 0);
      v150 = *(_DWORD *)(v6 + 0x68);
    }
  }
  else
  {
    v25 = (*(__int64 (__fastcall **)(__int64, __int64, const char *, _QWORD))(*(_QWORD *)qword_14981D238 + 0x138LL))(
            qword_14981D238,
            v24,
            "rb",
            0);
    v26 = v25;
    if ( v25 )
    {
      allocSize = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D238 + 0x188LL))(
                    qword_14981D238,
                    v25);
      v28 = allocWithProfilerInfo(allocSize, 0);
      (*(void (__fastcall **)(__int64, __int64, unsigned __int64, __int64, const char *))(*(_QWORD *)qword_14981D238
                                                                                        + 0x158LL))(
        qword_14981D238,
        v28,
        allocSize,
        v26,
        "CPhysicalProxy::CreateLocalPhysicsGrid");
      ptr_to_free_2 = allocWithoutProfiling(0x20u);
      if ( ptr_to_free_2 )
      {
        *(_QWORD *)ptr_to_free_2 = v28;
        *(_DWORD *)(ptr_to_free_2 + 0x10) = allocSize;
        *(_DWORD *)(ptr_to_free_2 + 0xC) = 0;
        *(_BYTE *)(ptr_to_free_2 + 0x14) = 0;
        *(_DWORD *)(ptr_to_free_2 + 0x18) = 0;
      }
      else
      {
        ptr_to_free_2 = 0;
      }
      ptr_to_free_1 = ptr_to_free_2;
      *(_BYTE *)(ptr_to_free_2 + 0x14) = 1;
      (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D238 + 0x1D0LL))(qword_14981D238, v26);
      v30 = *(int *)(ptr_to_free_1 + 0xC);
      v31 = *(_DWORD *)(v30 + *(_QWORD *)ptr_to_free_1);
      *(_DWORD *)(ptr_to_free_1 + 0xC) = v30 + 4;
      if ( v31 == 0xCAFEBAC3 )
      {
        goto LABEL_22;
      }
      if ( v31 + 0x35014541 <= 3 )
      {
        if ( v31 != 0xCAFEBAC2 )
        {
LABEL_23:
          if ( v31 + 0x35014540 > 2 )
          {
            v34 = 0;
LABEL_26:
            *(_DWORD *)(ptr_to_free_1 + 0xC) += 0xC;
            *(_DWORD *)(ptr_to_free_1 + 0xC) += 0xC;
            v35 = *(int *)(ptr_to_free_1 + 0xC);
            v36 = *(_DWORD *)(v35 + *(_QWORD *)ptr_to_free_1);
            *(_DWORD *)(ptr_to_free_1 + 0xC) = v35 + 4;
            v37 = *(int *)(ptr_to_free_1 + 0xC);
            LODWORD(v95) = *(_DWORD *)(v37 + *(_QWORD *)ptr_to_free_1);
            *(_DWORD *)(ptr_to_free_1 + 0xC) = v37 + 4;
            sub_141E48910((__int64)v112);
            v124 = *(_QWORD *)(a1 + 8);
            v120 = 0;
            n0x4000 = 0x4000;
            v123 = 1;
            v113 = 0.0;
            v114 = 0.0;
            if ( v36 )
            {
              v38 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D220 + 0x50LL))(qword_14981D220);
              v39 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v38 + 0x108LL))(
                      v38,
                      ptr_to_free_1,
                      v31);
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v39 + 8LL))(v39);
            }
            if ( (_DWORD)v95 )
            {
              v40 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D220 + 0x50LL))(qword_14981D220);
              v41 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v40 + 0x108LL))(
                      v40,
                      ptr_to_free_1,
                      v31);
              v42 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D220 + 0x50LL))(qword_14981D220);
              v43 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD, _QWORD, _DWORD))(*(_QWORD *)v42 + 0x50LL))(
                      v42,
                      v41,
                      0,
                      0,
                      0);
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v41 + 8LL))(v41);
              *(_DWORD *)(v43 + 0x4C) = *(_DWORD *)(v43 + 0x4C) & 0x3FFFFFFF | 0x40000000;
              if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
              {
                v44 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
              }
              else
              {
                v44 = 0;
              }
              v45 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v44 + 0x70LL))(v44);
              sub_141E47560(Buffer, v126, v127, "localgrid-bitvoxel:%s", v45);
              v125 = sub_1403DE070((__int64)v126[0]);
              sub_14680DBF0(a1, v43, (__int64)v112, 5, 0xFFFFFFFF);
            }
            if ( v34 )
            {
              v46 = 0;
              v47 = *(int *)(ptr_to_free_1 + 0xC);
              v48 = *(int *)(v47 + *(_QWORD *)ptr_to_free_1);
              *(_DWORD *)(ptr_to_free_1 + 0xC) = v47 + 4;
              if ( (_DWORD)v48 )
              {
                v49 = v48;
                do
                {
                  memset(Buffer_, 0, sizeof(Buffer_));
                  v50 = *(int *)(ptr_to_free_1 + 0xC);
                  v51 = *(FH4 **)ptr_to_free_1;
                  v115 = *(_QWORD *)(v50 + *(_QWORD *)ptr_to_free_1);
                  v116 = *(_DWORD *)((char *)v51 + v50 + 8);
                  *(_DWORD *)(ptr_to_free_1 + 0xC) += 0xC;
                  v117 = *(_OWORD *)(*(int *)(ptr_to_free_1 + 0xC) + *(_QWORD *)ptr_to_free_1);
                  *(_DWORD *)(ptr_to_free_1 + 0xC) += 0x10;
                  v118 = *(_DWORD *)(*(int *)(ptr_to_free_1 + 0xC) + *(_QWORD *)ptr_to_free_1);
                  *(_DWORD *)(ptr_to_free_1 + 0xC) += 4;
                  *(_DWORD *)(ptr_to_free_1 + 0xC) += 0xC;
                  *(_DWORD *)(ptr_to_free_1 + 0xC) += 0xC;
                  v52 = (__int64 *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D220 + 0x50LL))(qword_14981D220);
                  *(_QWORD *)&v99 = 0;
                  DWORD2(v99) = 2;
                  v53 = *v52;
                  *(_QWORD *)&v100 = 0;
                  DWORD2(v100) = 0xC;
                  v54 = *(__int64 (__fastcall **)(__int64 *, __int64, __int128 *, __int128 *, _QWORD))(v53 + 0x70);
                  v110 = v99;
                  v111 = v100;
                  v55 = v54(v52, ptr_to_free_1, &v111, &v110, 0);
                  v56 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D220 + 0x50LL))(qword_14981D220);
                  v57 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD, _QWORD, _DWORD))(*(_QWORD *)v56 + 0x40LL))(
                          v56,
                          v55,
                          0,
                          0,
                          0);
                  (*(void (__fastcall **)(__int64))(*(_QWORD *)v55 + 0x18LL))(v55);
                  *(_DWORD *)(v57 + 0x4C) |= 0xC0000000;
                  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
                  {
                    v58 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
                  }
                  else
                  {
                    v58 = 0;
                  }
                  v59 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v58 + 0x70LL))(v58);
                  sub_141E47560(Buffer_, v126, v127, "localgrid-prim:%d:%s", v46, v59);
                  v60 = 0xFFFFFFFFFFFFFFFFuLL;
                  do
                  {
                    ++v60;
                  }
                  while ( v126[0][v60] );
                  v125 = ~(unsigned int)psub_1403339F0(0xFFFFFFFF, (__int64)v126[0], v60);
                  if ( !v121 )
                  {
                    v121 = *(_QWORD *)(a1 + 8);
                    v124 = v121;
                    n2 = 2;
                  }
                  LODWORD(v95) = sub_14680CA60(a1, v57, (unsigned int)v112, 0xFFFFFFFF, 0);
                  v61 = v95;
                  if ( (int)v95 >= 0 )
                  {
                    n5 = 5;
                    v102 = 0;
                    v104 = 0;
                    v107 = 0;
                    memset(v108, 0, sizeof(v108));
                    v105 = 0;
                    v106 = 0;
                    v109 = 0;
                    v103 = 0xFFFFFFFF;
                    sub_140342220((__int64 *)v108, 0, &v95);
                    LOBYTE(v62) = 1;
                    v102 = *(_QWORD *)(a1 + 8);
                    sub_14680DA90(a1, &n5, v62);
                    v63 = *(_QWORD *)(a1 + 0x448);
                    if ( v63 )
                    {
                      v64 = v63 & 0xFFFFFFFFFFFFLL;
                      if ( *(_QWORD *)(v64 + 8) == HIWORD(*(_QWORD *)(a1 + 0x448)) )
                      {
                        sub_14680CA60(a1, v57, (unsigned int)v112, v61, v64);
                      }
                    }
                    v65 = *(_QWORD *)(a1 + 0x450);
                    if ( v65 )
                    {
                      v66 = v65 & 0xFFFFFFFFFFFFLL;
                      if ( *(_QWORD *)(v66 + 8) == HIWORD(*(_QWORD *)(a1 + 0x450)) )
                      {
                        sub_14680CA60(a1, v57, (unsigned int)v112, v61, v66);
                      }
                    }
                    v67 = *(_QWORD *)(a1 + 0x4A8);
                    if ( v67 != a1 )
                    {
                      v68 = *(_QWORD *)(v67 + 0x438);
                      if ( v68 )
                      {
                        if ( *(_QWORD *)((v68 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v68) )
                        {
                          v69 = (volatile signed __int64 *)(a1 + 0x518);
                          v70 = *(_DWORD *)(a1() + 0x18);
                          if ( *(_DWORD *)(a1 + 0x520) == v70 )
                          {
                            ++*(_DWORD *)(a1 + 0x524);
                          }
                          else
                          {
                            v71 = _InterlockedCompareExchange64(v69, 0x200000, 0);
                            if ( v71 )
                            {
                              sub_1403D85B0(
                                (volatile signed __int64 *)(a1 + 0x518),
                                v71,
                                0,
                                (__int64)"CPhysicalProxy::AddPhysicsGeometry",
                                (__int64)"m_compoundedPhysicsBlocksLock",
                                1);
                            }
                            *(_DWORD *)(a1 + 0x520) = v70;
                          }
                          v72 = *(_QWORD *)(a1 + 0x508);
                          v73 = *(_QWORD *)(a1 + 0x500);
                          if ( v72 != v73 )
                          {
                            while ( 1 )
                            {
                              v72 -= 0x78;
                              if ( *(_DWORD *)(v72 + 4) == HIDWORD(n5) )
                              {
                                break;
                              }
                              if ( v72 == v73 )
                              {
                                goto LABEL_66;
                              }
                            }
                            if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
                            {
                              v74 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
                            }
                            else
                            {
                              v74 = 0;
                            }
                            v75 = sub_1468DB310(v74);
                            LOBYTE(v94) = 1;
                            sub_1468216D0(a1, *(_QWORD *)(a1 + 0x4A8), v72, v75, 0, v94, v95);
                          }
LABEL_66:
                          if ( a1 != 0xFFFFFFFFFFFFFAE8uLL )
                          {
                            v76 = *(_DWORD *)(a1 + 0x524);
                            if ( v76 )
                            {
                              *(_DWORD *)(a1 + 0x524) = v76 - 1;
                            }
                            else
                            {
                              *(_DWORD *)(a1 + 0x520) = 0xFFFFFFFF;
                              n0x200000 = _InterlockedCompareExchange64(v69, 0, 0x200000);
                              if ( n0x200000 != 0x200000 )
                              {
                                sub_1403D8A00((volatile signed __int64 *)(a1 + 0x518), n0x200000);
                              }
                            }
                          }
                        }
                      }
                    }
                    sub_1468055E0(&n5);
                  }
                  ++v46;
                }
                while ( v46 < v49 );
                v6 = v97;
              }
            }
            ptr_to_free = (const void *)ptr_to_free_1;
            if ( ptr_to_free_1 )
            {
              if ( *(_BYTE *)(ptr_to_free_1 + 0x14) )
              {
                sub_14739AF10(*(FH4 **)ptr_to_free_1);
              }
              free_memory_wrapper(ptr_to_free);
            }
            ptr_to_free_1 = 0;
            v157 = 1;
            goto LABEL_85;
          }
LABEL_25:
          v34 = 1;
          goto LABEL_26;
        }
LABEL_22:
        v32 = *(int *)(ptr_to_free_1 + 0xC);
        v33 = *(_DWORD *)(v32 + *(_QWORD *)ptr_to_free_1);
        *(_DWORD *)(ptr_to_free_1 + 0xC) = v32 + 4;
        *(_DWORD *)(ptr_to_free_1 + 0xC) += v33;
        if ( v31 == 0xCAFEBAC3 )
        {
          goto LABEL_25;
        }
        goto LABEL_23;
      }
    }
    else
    {
      if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
      {
        v79 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        v79 = 0;
      }
      v80 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v79 + 0x70LL))(v79);
      sub_1405BD4A0(
        6u,
        1u,
        "Cant open interior voxel file %s while trying to create local grid for Entity %s!",
        *(const char **)(v6 + 0x18),
        v80);
    }
  }
LABEL_85:
  if ( *(_QWORD *)(v6 + 0x18) )
  {
    v85 = v148;
    if ( *(_BYTE *)(v6 + 0x10) )
    {
      v85 = *(_QWORD *)(v6 + 0x18);
    }
    v148 = v85;
  }
  v86 = *(_QWORD *)(a1 + 0x438);
  v156 = *(_BYTE *)(v6 + 0x6C) != 0;
  n0xA = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v86 & 0xFFFFFFFFFFFFLL) + 8LL))(v86 & 0xFFFFFFFFFFFFLL);
  if ( n0xA == 0xA || (v159 = 0, n0xA == 3) )
  {
    v159 = 1;
  }
  v88 = *(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL;
  v89 = *(__int64 (__fastcall **)(__int64, __int64 *, int *, __int64))(*(_QWORD *)v88 + 0x100LL);
  v90 = sub_14684DBC0(a1);
  result = v89(v88, &v97, &n0x1B, v90);
  if ( v97 )
  {
    result = sub_14051E9A0(v97);
  }
  if ( *(_BYTE *)(v6 + 0x58) )
  {
    v91 = *(_DWORD *)(v6 + 0x64);
    v167 = xmmword_148173AF0;
    *(_QWORD *)v162 = *(_QWORD *)(v6 + 0x5C);
    *(_QWORD *)&v163 = 0x80000000FFBFFFFFuLL;
    v164 = -2.247115882823591e307;
    v165 = NAN;
    v166 = -2.2471164175315e307;
    v168 = 0xFFBFFFFF;
    v169 = 0x80000000;
    n0xE = 0x1C;
    v170 = 0;
    v171 = 0x80000000;
    *(_DWORD *)&v162[8] = v91;
    result = sub_146889840(a1, &n0xE, 0);
  }
  *(_BYTE *)(a1 + 0x578) = 1;
  return result;
}

// --- End Function: sub_1468247C0 (0x1468247C0) ---

// --- Function: sub_14682A890 (0x14682A890) ---
unsigned __int64 __fastcall sub_14682A890(__int64 a1, __int64 a2)
{
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  unsigned __int64 v7; // rdi
  __int64 v8; // rdx
  __int64 v9; // rcx
  __int64 v10; // rcx
  __int64 *v11; // r14
  char v12; // al
  char v13; // cl
  char v14; // al
  char v15; // cl
  char v16; // al
  int v17; // ecx
  double *v18; // rax
  double v19; // xmm15_8
  double v20; // xmm7_8
  double v21; // xmm1_8
  double v22; // xmm3_8
  double v23; // xmm5_8
  double v24; // xmm14_8
  double v25; // xmm9_8
  double v26; // xmm8_8
  double v27; // xmm3_8
  double v28; // xmm10_8
  double v29; // xmm12_8
  double v30; // xmm6_8
  double v31; // xmm1_8
  __int64 v32; // rax
  signed __int64 v33; // rdx
  unsigned __int64 v34; // rax
  __int64 v35; // r14
  __int64 v36; // rcx
  __int64 v37; // r14
  __int64 v38; // r8
  double v40[12]; // [rsp+40h] [rbp-C0h] BYREF
  char v41; // [rsp+A0h] [rbp-60h]
  char v42; // [rsp+A1h] [rbp-5Fh]
  char v43; // [rsp+A2h] [rbp-5Eh]
  char v44; // [rsp+A3h] [rbp-5Dh]
  char v45; // [rsp+A4h] [rbp-5Ch]
  char v46; // [rsp+A5h] [rbp-5Bh]
  char v47; // [rsp+A6h] [rbp-5Ah]
  char v48; // [rsp+A7h] [rbp-59h]
  unsigned int v49; // [rsp+A8h] [rbp-58h]
  char v50; // [rsp+B0h] [rbp-50h] BYREF
  char v51; // [rsp+F0h] [rbp-10h] BYREF
  double v52; // [rsp+200h] [rbp+100h]
  double v53; // [rsp+210h] [rbp+110h]
  double v54; // [rsp+218h] [rbp+118h]

  v3 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0xC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70((volatile signed __int64 *)v3, v5, (__int64)"CRenderProxy::DebugDraw", (__int64)"m_SlotsLock", 1);
    }
  }
  v6 = *(_QWORD *)(a1 + 0xE0);
  v7 = 0;
  v8 = *(_QWORD *)(a1 + 0xD8);
  if ( (v6 - v8) >> 3 )
  {
    do
    {
      if ( (v6 - v8) >> 3 <= v7 )
      {
        __debugbreak();
      }
      v9 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v7);
      if ( v9 )
      {
        v10 = *(_QWORD *)(v9 + 0x58);
        if ( v10 && (v11 = (__int64 *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x30LL))(v10)) != 0 )
        {
          v12 = *(_BYTE *)(a2 + 0x64);
          v41 = *(_BYTE *)(a2 + 0x60);
          v42 = *(_BYTE *)(a2 + 0x61);
          v13 = *(_BYTE *)(a2 + 0x62);
          v45 = v12;
          v14 = *(_BYTE *)(a2 + 0x65);
          v43 = v13;
          v15 = *(_BYTE *)(a2 + 0x63);
          v46 = v14;
          v16 = *(_BYTE *)(a2 + 0x66);
          v44 = v15;
          v17 = *(_DWORD *)(a2 + 0x68);
          v47 = v16;
          v48 = *(_BYTE *)(a2 + 0x67);
          v49 = v49 & 0xFFFFFFF8 | v17 & 7;
          v18 = (double *)((__int64 (__fastcall *)(_DWORD, unsigned int, _DWORD, _DWORD, char))sub_146851080)(
                            a1,
                            (unsigned int)&v50,
                            v7,
                            0,
                            0);
          v19 = v18[7];
          v20 = *v18;
          v21 = v18[3];
          v22 = v18[1];
          v23 = v18[2];
          v24 = (v22 + v22) * v21;
          v25 = (v22 + v22) * v22;
          v26 = (v22 + v22) * *v18;
          v52 = 1.0 - (v20 + v20) * v20;
          v54 = (v20 + v20) * v21;
          v53 = (v23 + v23) * v22;
          v27 = (v23 + v23) * v21;
          v28 = v18[4];
          v29 = (v23 + v23) * *v18;
          v30 = v18[5];
          v31 = v18[6];
          v40[0] = (1.0 - v25 - (v23 + v23) * v23) * v19;
          v40[1] = (v26 - v27) * v19;
          v40[2] = (v29 + v24) * v19;
          v40[3] = v28;
          v40[4] = (v27 + v26) * v19;
          v32 = *v11;
          v40[7] = v30;
          v40[0xA] = (v52 - v25) * v19;
          v40[5] = (v52 - (v23 + v23) * v23) * v19;
          v40[6] = (v53 - v54) * v19;
          v40[8] = (v29 - v24) * v19;
          v40[9] = (v53 + v54) * v19;
          v40[0xB] = v31;
          (*(void (__fastcall **)(__int64 *, double *))(v32 + 0x558))(v11, v40);
        }
        else
        {
          if ( *(_DWORD *)(v3 + 8) == *(_DWORD *)(a1() + 0x18) )
          {
            ++*(_DWORD *)(v3 + 0xC);
          }
          else
          {
            v33 = _InterlockedIncrement64((volatile signed __int64 *)v3);
            if ( (v33 & 0x200000) != 0 )
            {
              sub_1403C6C70(
                (volatile signed __int64 *)v3,
                v33,
                (__int64)"CRenderProxy::GetGeomCacheRenderNode",
                (__int64)"m_SlotsLock",
                1);
            }
          }
          if ( (v7 & 0x80000000) != 0LL )
          {
            goto LABEL_27;
          }
          v34 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
          if ( (int)v7 >= (int)v34 )
          {
            goto LABEL_27;
          }
          if ( v34 <= (int)v7 )
          {
            __debugbreak();
          }
          v35 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v7);
          if ( v35 )
          {
            v36 = *(_QWORD *)(v35 + 0x90);
            if ( v36 && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v36 + 0x158LL))(v36) == 0x18 )
            {
              v37 = *(_QWORD *)(v35 + 0x90);
            }
            else
            {
              v37 = 0;
            }
            sub_1402D0950(v3);
            if ( v37 )
            {
              sub_146851080(a1, (unsigned int)&v51, v7, 0, 0);
              (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)v37 + 0x260LL))(v37, a2, v38, 0);
            }
          }
          else
          {
LABEL_27:
            sub_1402D0950(v3);
          }
        }
      }
      v6 = *(_QWORD *)(a1 + 0xE0);
      ++v7;
      v8 = *(_QWORD *)(a1 + 0xD8);
    }
    while ( v7 < (v6 - v8) >> 3 );
  }
  return sub_1402D0950(v3);
}

// --- End Function: sub_14682A890 (0x14682A890) ---

// --- Function: sub_1468328A0 (0x1468328A0) ---
__int64 __fastcall sub_1468328A0(__int64 a1)
{
  __int64 v2; // rcx
  __int64 n0x200000_1; // rax
  unsigned __int64 v4; // rcx
  unsigned __int64 v5; // rcx
  volatile signed __int64 *v6; // rdi
  int v7; // ebp
  unsigned __int64 v8; // rax
  unsigned __int64 v9; // rdx
  unsigned __int64 v10; // rax
  __int64 v11; // rcx
  __int64 v12; // rdx
  unsigned __int64 v13; // rdx
  unsigned __int64 v14; // rax
  __int64 v15; // rcx
  __int64 v16; // rdx
  int v17; // ebp
  unsigned __int64 v18; // rax
  int v19; // eax
  unsigned __int64 n0x200000; // rax
  int v21; // eax
  int n0x1D; // [rsp+70h] [rbp+8h] BYREF
  char v23; // [rsp+74h] [rbp+Ch]
  __int64 v24; // [rsp+78h] [rbp+10h] BYREF

  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v2 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v2 = 0;
  }
  n0x200000_1 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v2 + 0x58LL))(v2);
  if ( !(_BYTE)n0x200000_1 )
  {
    v4 = *(_QWORD *)(a1 + 0x438);
    if ( v4 )
    {
      n0x200000_1 = *(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)(n0x200000_1 + 8) == HIWORD(v4) )
      {
        v5 = *(_QWORD *)(a1 + 0x448);
        if ( v5 )
        {
          n0x200000_1 = *(_QWORD *)(a1 + 0x448) & 0xFFFFFFFFFFFFLL;
          if ( *(_QWORD *)(n0x200000_1 + 8) == HIWORD(v5) )
          {
            v6 = (volatile signed __int64 *)(a1 + 0x518);
            v7 = *(_DWORD *)(a1() + 0x18);
            if ( *(_DWORD *)(a1 + 0x520) == v7 )
            {
              ++*(_DWORD *)(a1 + 0x524);
            }
            else
            {
              v8 = _InterlockedCompareExchange64(v6, 0x200000, 0);
              if ( v8 )
              {
                sub_1403D85B0(
                  (volatile signed __int64 *)(a1 + 0x518),
                  v8,
                  0,
                  (__int64)"CPhysicalProxy::DestroyLocalPhysicsGrid",
                  (__int64)"m_compoundedPhysicsBlocksLock",
                  1);
              }
              *(_DWORD *)(a1 + 0x520) = v7;
            }
            v9 = *(_QWORD *)(a1 + 0x448);
            if ( v9 && *(_QWORD *)((v9 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v9) )
            {
              sub_146869D50(a1, v9, 0, 0x1000, 0, 0, 0, 0);
              v10 = *(_QWORD *)(a1 + 0x448);
              if ( v10 )
              {
                v11 = *(_QWORD *)(a1 + 0x448) & 0xFFFFFFFFFFFFLL;
                LOBYTE(v10) = *(_QWORD *)(v11 + 8) == HIWORD(v10);
              }
              else
              {
                v11 = 0;
              }
              v12 = 0;
              if ( (_BYTE)v10 )
              {
                v12 = v11;
              }
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)qword_14981D220 + 0x148LL))(
                qword_14981D220,
                v12,
                0);
              *(_QWORD *)(a1 + 0x448) = 0;
            }
            v13 = *(_QWORD *)(a1 + 0x450);
            if ( v13 && *(_QWORD *)((v13 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v13) )
            {
              sub_146869D50(a1, v13, 0, 0, 0, 0, 0, 1);
              v14 = *(_QWORD *)(a1 + 0x450);
              if ( v14 )
              {
                v15 = *(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL;
                LOBYTE(v14) = *(_QWORD *)(v15 + 8) == HIWORD(v14);
              }
              else
              {
                v15 = 0;
              }
              v16 = 0;
              if ( (_BYTE)v14 )
              {
                v16 = v15;
              }
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)qword_14981D220 + 0x148LL))(
                qword_14981D220,
                v16,
                0);
              *(_QWORD *)(a1 + 0x450) = 0;
            }
            n0x1D = 0x1D;
            v23 = 0;
            n0x200000_1 = sub_146889840(a1, &n0x1D, 0);
            if ( !*(_BYTE *)(a1 + 0x578) )
            {
              if ( a1 == 0xFFFFFFFFFFFFFAE8uLL )
              {
                return n0x200000_1;
              }
              goto LABEL_47;
            }
            v17 = *(_DWORD *)(a1() + 0x18);
            if ( *(_DWORD *)(a1 + 0x520) == v17 )
            {
              ++*(_DWORD *)(a1 + 0x524);
            }
            else
            {
              v18 = _InterlockedCompareExchange64(v6, 0x200000, 0);
              if ( v18 )
              {
                sub_1403D85B0(
                  (volatile signed __int64 *)(a1 + 0x518),
                  v18,
                  0,
                  (__int64)"CPhysicalProxy::DestroyLocalPhysicsGrid",
                  (__int64)"m_compoundedPhysicsBlocksLock",
                  1);
              }
              *(_DWORD *)(a1 + 0x520) = v17;
            }
            n0x200000_1 = *(_QWORD *)(a1 + 0x500);
            while ( n0x200000_1 != *(_QWORD *)(a1 + 0x508) )
            {
              if ( *(_DWORD *)n0x200000_1 == 5 )
              {
                n0x200000_1 = *sub_1468805E0(a1, &v24, n0x200000_1, 1u, 1u, 1u);
              }
              else
              {
                n0x200000_1 += 0x78;
              }
            }
            *(_BYTE *)(a1 + 0x578) = 0;
            if ( a1 != 0xFFFFFFFFFFFFFAE8uLL )
            {
              v19 = *(_DWORD *)(a1 + 0x524);
              if ( v19 )
              {
                *(_DWORD *)(a1 + 0x524) = v19 - 1;
              }
              else
              {
                *(_DWORD *)(a1 + 0x520) = 0xFFFFFFFF;
                n0x200000 = _InterlockedCompareExchange64(v6, 0, 0x200000);
                if ( n0x200000 != 0x200000 )
                {
                  sub_1403D8A00((volatile signed __int64 *)(a1 + 0x518), n0x200000);
                }
              }
LABEL_47:
              v21 = *(_DWORD *)(a1 + 0x524);
              if ( v21 )
              {
                n0x200000_1 = (unsigned int)(v21 - 1);
                *(_DWORD *)(a1 + 0x524) = n0x200000_1;
              }
              else
              {
                *(_DWORD *)(a1 + 0x520) = 0xFFFFFFFF;
                n0x200000_1 = _InterlockedCompareExchange64(v6, 0, 0x200000);
                if ( n0x200000_1 != 0x200000 )
                {
                  return sub_1403D8A00((volatile signed __int64 *)(a1 + 0x518), n0x200000_1);
                }
              }
            }
          }
        }
      }
    }
  }
  return n0x200000_1;
}

// --- End Function: sub_1468328A0 (0x1468328A0) ---

// --- Function: sub_146834B10 (0x146834B10) ---
char __fastcall sub_146834B10(__int64 a1, int a2)
{
  unsigned __int64 v2; // rdi
  __int64 v3; // rbx
  char v5; // r14
  __int64 v6; // rdx
  int v7; // ebp
  unsigned __int64 v8; // rax
  unsigned __int64 v9; // rax
  __int64 v10; // rdi
  __int64 *v11; // rcx
  __int64 v12; // rax
  int v13; // eax
  int v14; // eax
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 n0x200000; // rax
  __int64 v18; // [rsp+50h] [rbp+8h] BYREF

  v2 = a2;
  v3 = a1 + 0x208;
  v5 = 0;
  v7 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(v3 + 8) == v7 )
  {
    ++*(_DWORD *)(v3 + 0xC);
  }
  else
  {
    v8 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0x200000, 0);
    if ( v8 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)v3,
        v8,
        0,
        (__int64)"CRenderProxy::DetachSkinRenderObject",
        (__int64)"m_SlotsLock",
        1);
    }
    *(_DWORD *)(v3 + 8) = v7;
  }
  if ( (v2 & 0x80000000) != 0LL )
  {
    goto LABEL_15;
  }
  v9 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v2 >= (int)v9 )
  {
    goto LABEL_15;
  }
  if ( v9 <= v2 )
  {
    __debugbreak();
  }
  v10 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v2);
  v11 = *(__int64 **)(v10 + 0x68);
  if ( v11 && (*(_WORD *)(v10 + 0xD8) & 0x100) == 0 )
  {
    v12 = *v11;
    v18 = 0;
    (*(void (__fastcall **)(__int64 *, __int64 *))(v12 + 0x50))(v11, &v18);
    if ( v18 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v18 + 0x10LL))(v18);
    }
    v5 = 1;
    *(_WORD *)(v10 + 0xD8) = *(_WORD *)(v10 + 0xD8) & 0xFEFE | 0x100;
LABEL_15:
    if ( v3 )
    {
      v13 = *(_DWORD *)(v3 + 0xC);
      if ( v13 )
      {
        *(_DWORD *)(v3 + 0xC) = v13 - 1;
      }
      else
      {
        *(_DWORD *)(v3 + 8) = 0xFFFFFFFF;
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
        {
          sub_1403D8A00((volatile signed __int64 *)v3, n0x200000);
        }
      }
    }
    LOBYTE(v6) = 1;
    sub_146861940(a1, v6);
    return v5;
  }
  if ( v3 )
  {
    v14 = *(_DWORD *)(v3 + 0xC);
    if ( v14 )
    {
      *(_DWORD *)(v3 + 0xC) = v14 - 1;
      return 0;
    }
    *(_DWORD *)(v3 + 8) = 0xFFFFFFFF;
    n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
    {
      sub_1403D8A00((volatile signed __int64 *)v3, n0x200000_1);
    }
  }
  return 0;
}

// --- End Function: sub_146834B10 (0x146834B10) ---

// --- Function: sub_14683AB30 (0x14683AB30) ---
void __fastcall sub_14683AB30(__int64 a1, unsigned __int8 a2, unsigned int a3, char a4, __int64 a5)
{
  __int64 v6; // rsi
  unsigned int v7; // ebx
  int v9; // edx
  unsigned int v10; // ecx
  unsigned __int64 v11; // rcx
  __int64 v12; // rdx
  __int64 v13; // rcx
  __int64 v14; // rcx
  _BYTE v15[24]; // [rsp+20h] [rbp-78h] BYREF
  __int64 v16; // [rsp+38h] [rbp-60h]

  v6 = a2;
  v7 = a3;
  if ( (a3 & 8) == 0 )
  {
    v9 = *(_DWORD *)(a1 + 0x1B0);
    v10 = a3 & 0xFFFFFFFD;
    if ( (_BYTE)v6 == ((v9 & 0x10) != 0) )
    {
      v10 = a3;
    }
    v7 = v10 & 0xFFFFFFFE;
    if ( (_BYTE)v6 == ((v9 & 0x800000) != 0) )
    {
      v7 = v10;
    }
    if ( (_BYTE)v6 != (HIBYTE(v9) & 1) )
    {
      v7 &= ~0x10u;
    }
  }
  v11 = *(_QWORD *)(a1 + 0x438);
  if ( v11 && *(_QWORD *)((*(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v11) && (v7 & 0x1B) != 0 )
  {
    sub_14683ACA0(a1, v6, v7, a5);
    LOBYTE(v12) = 1;
    sub_14681F1C0(a1, v12);
    sub_140368960((__int64)v15, 0x10);
    v16 = v6;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v13 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v13 = 0;
    }
    (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v13 + 0x2E8LL))(v13, v15);
    if ( *(_DWORD *)((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D220 + 0xF0LL))(qword_14981D220) + 0x104) )
    {
      v14 = a1 + 0x1B8;
      if ( (_BYTE)v6 )
      {
        sub_146810070(v14);
      }
      else
      {
        sub_146836610(v14);
      }
    }
    if ( a4 )
    {
      sub_14683A090(a1, v6, v7, a5);
    }
  }
}

// --- End Function: sub_14683AB30 (0x14683AB30) ---

// --- Function: sub_14683B580 (0x14683B580) ---
__int64 sub_14683B580(const char *a1, ...)
{
  __int64 result; // rax

  if ( a1 )
  {
    return (*(__int64 (__fastcall **)(Parameter *, __int64, __int64))(*(_QWORD *)CSystem + 0x158LL))(CSystem, 6, 2);
  }
  return result;
}

// --- End Function: sub_14683B580 (0x14683B580) ---

// --- Function: sub_14683E260 (0x14683E260) ---
__int64 __fastcall sub_14683E260(__int64 a1, unsigned int a2)
{
  volatile signed __int64 *v3; // rbx
  signed __int64 v4; // rdx
  __int64 v5; // rcx
  __int64 v6; // rdi
  unsigned int v8; // [rsp+68h] [rbp+10h] BYREF

  v8 = a2;
  sub_146869400(a1, &v8, 0xFFFFFFFFLL);
  v3 = (volatile signed __int64 *)(a1 + 0x208);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v4 = _InterlockedIncrement64(v3);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v4,
        (__int64)"CRenderProxy::FadeGlobalDensity",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v8 )
  {
    __debugbreak();
  }
  v5 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v8);
  v6 = *(_QWORD *)(v5 + 0x90);
  if ( v6 && (*(unsigned int (__fastcall **)(_QWORD))(*(_QWORD *)v6 + 0x158LL))(*(_QWORD *)(v5 + 0x90)) == 6 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v6 + 0x1F8LL))(v6);
  }
  sub_1402D0950((__int64)v3);
  return v8;
}

// --- End Function: sub_14683E260 (0x14683E260) ---

// --- Function: sub_1468417E0 (0x1468417E0) ---
void __fastcall sub_1468417E0(__int64 a1, int a2)
{
  unsigned __int64 v2; // r14
  _QWORD *ptr_to_free; // rbp
  __int64 v4; // rsi
  unsigned __int64 v6; // rdx
  int v7; // edi
  unsigned __int64 v8; // rax
  unsigned __int64 v9; // rax
  __int64 v10; // rdi
  __int64 v11; // rcx
  __int64 v12; // rcx
  __int64 v13; // rcx
  __int64 v14; // r8
  __int64 v15; // r10
  __int64 v16; // r9
  __int64 v17; // r10
  int v18; // r10d
  unsigned __int64 v19; // rcx
  int v20; // eax
  __int64 v21; // rax
  __int64 v22; // r9
  __int64 v23; // rcx
  __int64 v24; // rax
  int v25; // eax
  unsigned __int64 n0x200000; // rax
  __int64 v27; // rcx
  __int64 v28; // rcx

  v2 = a2;
  ptr_to_free = 0;
  v4 = a1 + 0x208;
  v7 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(v4 + 8) == v7 )
  {
    ++*(_DWORD *)(v4 + 0xC);
  }
  else
  {
    v8 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0x200000, 0);
    if ( v8 )
    {
      sub_1403D85B0((volatile signed __int64 *)v4, v8, 0, (__int64)"CRenderProxy::FreeSlot", (__int64)"m_SlotsLock", 1);
    }
    *(_DWORD *)(v4 + 8) = v7;
  }
  if ( (v2 & 0x80000000) == 0LL )
  {
    v9 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
    if ( (int)v2 < (int)v9 )
    {
      v10 = v2;
      if ( v9 <= v2 )
      {
        __debugbreak();
      }
      v11 = *(_QWORD *)(a1 + 0xD8);
      if ( *(_QWORD *)(v11 + 8 * v2) )
      {
        if ( (*(_QWORD *)(a1 + 0xE0) - v11) >> 3 <= v2 )
        {
          __debugbreak();
        }
        ptr_to_free = *(_QWORD **)(v11 + 8 * v2);
        v6 = ptr_to_free[0x10];
        if ( v6 )
        {
          v12 = *(_QWORD *)(a1 + 0x190);
          if ( v12 )
          {
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x10LL))(v12);
          }
        }
        if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= v2 )
        {
          __debugbreak();
        }
        *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v2) = 0;
        v13 = *(_QWORD *)(a1 + 0xD8);
        if ( v2 == ((*(_QWORD *)(a1 + 0xE0) - v13) >> 3) - 1 )
        {
          do
          {
            if ( (*(_QWORD *)(a1 + 0xE0) - v13) >> 3 <= (unsigned __int64)v10 )
            {
              __debugbreak();
            }
            v13 = *(_QWORD *)(a1 + 0xD8);
            v14 = v13;
            if ( *(_QWORD *)(v13 + 8 * v10) )
            {
              break;
            }
            *(_QWORD *)(a1 + 0xE0) -= 8LL;
            --v10;
          }
          while ( v10 >= 0 );
          v15 = *(_QWORD *)(a1 + 0xE0) - v13;
          *(_DWORD *)(a1 + 0xF0) = 0xFFFFFFFF;
          v16 = *(_QWORD *)(a1 + 0xE0);
          v17 = v15 >> 3;
          v6 = (v16 - v13) >> 3;
          if ( (int)v17 - 1 >= (int)v6 - 1 )
          {
            LODWORD(v17) = (v16 - v13) >> 3;
          }
          v18 = v17 - 1;
          v19 = v18;
          if ( v18 >= 0 )
          {
            while ( 1 )
            {
              if ( (v16 - v14) >> 3 <= v19 )
              {
                __debugbreak();
                v16 = *(_QWORD *)(a1 + 0xE0);
              }
              v14 = *(_QWORD *)(a1 + 0xD8);
              if ( !*(_QWORD *)(v14 + 8 * v19) )
              {
                break;
              }
              --v18;
              if ( (--v19 & 0x8000000000000000uLL) != 0LL )
              {
                goto LABEL_35;
              }
            }
            *(_DWORD *)(a1 + 0xF0) = v18;
          }
        }
        else
        {
          v20 = *(_DWORD *)(a1 + 0xF0);
          v14 = *(_QWORD *)(a1 + 0xD8);
          if ( v20 < (int)v2 )
          {
            v20 = v2;
          }
          *(_DWORD *)(a1 + 0xF0) = v20;
        }
LABEL_35:
        v21 = (*(_QWORD *)(a1 + 0xE0) - v14) >> 3;
        if ( (_DWORD)v21 )
        {
          v6 = 0;
          v22 = (unsigned int)v21;
          do
          {
            v23 = *(_QWORD *)(a1 + 0xE0);
            if ( (v23 - v14) >> 3 <= v6 )
            {
              __debugbreak();
            }
            v14 = *(_QWORD *)(a1 + 0xD8);
            if ( *(_QWORD *)(v14 + 8 * v6) )
            {
              if ( (v23 - v14) >> 3 <= v6 )
              {
                __debugbreak();
                v23 = *(_QWORD *)(a1 + 0xE0);
              }
              v24 = *(_QWORD *)(v14 + 8 * v6);
              if ( *(_QWORD **)(v24 + 0x50) == ptr_to_free )
              {
                if ( (v23 - v14) >> 3 <= v6 )
                {
                  __debugbreak();
                }
                *(_QWORD *)(v24 + 0x50) = 0;
                v14 = *(_QWORD *)(a1 + 0xD8);
              }
            }
            ++v6;
            --v22;
          }
          while ( v22 );
        }
      }
    }
  }
  if ( v4 )
  {
    v25 = *(_DWORD *)(v4 + 0xC);
    if ( v25 )
    {
      *(_DWORD *)(v4 + 0xC) = v25 - 1;
    }
    else
    {
      *(_DWORD *)(v4 + 8) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
      {
        sub_1403D8A00((volatile signed __int64 *)v4, n0x200000);
      }
    }
  }
  if ( ptr_to_free )
  {
    v27 = ptr_to_free[0x12];
    if ( v27 && (*(unsigned int (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)v27 + 0x158LL))(v27, v6) != 8 )
    {
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)ptr_to_free[0x12] + 0x190LL))(ptr_to_free[0x12]);
    }
    v28 = ptr_to_free[0x11];
    if ( v28 )
    {
      (*(void (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)v28 + 0x190LL))(v28, v6);
    }
    sub_146803CB0(ptr_to_free, v6);
    free_memory_wrapper(ptr_to_free);
  }
}

// --- End Function: sub_1468417E0 (0x1468417E0) ---

// --- Function: sub_146841F20 (0x146841F20) ---
_QWORD *__fastcall sub_146841F20(__int64 a1, _QWORD *a2)
{
  _QWORD *result; // rax

  result = a2;
  *a2 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4A8) + 0x438LL);
  return result;
}

// --- End Function: sub_146841F20 (0x146841F20) ---

// --- Function: sub_146842AF0 (0x146842AF0) ---
__int64 __fastcall sub_146842AF0(__int64 a1, int a2)
{
  unsigned __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  unsigned __int64 v6; // rax
  __int64 v7; // rdi
  __int64 v8; // rdi

  v2 = a2;
  v3 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0xC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70((volatile signed __int64 *)v3, v5, (__int64)"CRenderProxy::GetCharacter", (__int64)"m_SlotsLock", 1);
    }
  }
  if ( (v2 & 0x80000000) != 0LL )
  {
    goto LABEL_11;
  }
  v6 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v2 >= (int)v6 )
  {
    goto LABEL_11;
  }
  if ( v6 <= v2 )
  {
    __debugbreak();
  }
  v7 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v2);
  if ( v7 )
  {
    v8 = *(_QWORD *)(v7 + 0x80);
  }
  else
  {
LABEL_11:
    v8 = 0;
  }
  sub_1402D0950(v3);
  return v8;
}

// --- End Function: sub_146842AF0 (0x146842AF0) ---

// --- Function: sub_1468447E0 (0x1468447E0) ---
_QWORD *__fastcall sub_1468447E0(__int64 a1, _QWORD *a2, unsigned int a3)
{
  unsigned int v5; // [rsp+30h] [rbp-58h] BYREF
  __int64 v6; // [rsp+38h] [rbp-50h]
  __int64 v7; // [rsp+40h] [rbp-48h]
  unsigned int v8; // [rsp+48h] [rbp-40h]
  __int64 v9; // [rsp+50h] [rbp-38h]
  unsigned int v10; // [rsp+58h] [rbp-30h]
  __int128 v11; // [rsp+60h] [rbp-28h]
  __int64 v12; // [rsp+70h] [rbp-18h]

  v5 = 0xFFFFFFFF;
  v6 = 0;
  v7 = 0;
  v8 = 0xFFFFFFFF;
  v9 = 0;
  v10 = 0xFFFFFFFF;
  v11 = 0;
  v12 = 0;
  if ( sub_146844880(a1, a3, (__int64)&v5, 0, 0) )
  {
    *a2 = *(_QWORD *)(v6 + 8);
  }
  else
  {
    *a2 = 0;
  }
  if ( v12 )
  {
    sub_1402D0950(v12);
  }
  return a2;
}

// --- End Function: sub_1468447E0 (0x1468447E0) ---

// --- Function: sub_146845AE0 (0x146845AE0) ---
__int64 __fastcall sub_146845AE0(__int64 a1, int a2)
{
  unsigned __int64 v2; // rbx
  __int64 v3; // rdi
  signed __int64 v5; // rdx
  unsigned __int64 v6; // rax
  __int64 v7; // rbx
  __int64 v8; // rcx
  __int64 v9; // rbx

  v2 = a2;
  v3 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0xC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v3,
        v5,
        (__int64)"CRenderProxy::GetGeomCacheRenderNode",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (v2 & 0x80000000) != 0LL )
  {
    goto LABEL_13;
  }
  v6 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v2 >= (int)v6 )
  {
    goto LABEL_13;
  }
  if ( v6 <= v2 )
  {
    __debugbreak();
  }
  v7 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v2);
  if ( v7
    && (v8 = *(_QWORD *)(v7 + 0x90)) != 0
    && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x158LL))(v8) == 0x18 )
  {
    v9 = *(_QWORD *)(v7 + 0x90);
  }
  else
  {
LABEL_13:
    v9 = 0;
  }
  sub_1402D0950(v3);
  return v9;
}

// --- End Function: sub_146845AE0 (0x146845AE0) ---

// --- Function: sub_146846360 (0x146846360) ---
__int64 __fastcall sub_146846360(__int64 a1)
{
  unsigned __int64 v1; // rax

  v1 = *(_QWORD *)(a1 + 0x438);
  if ( v1 && *(_QWORD *)((v1 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v1) && (*(_DWORD *)(a1 + 0x1B0) & 0x10) == 0 )
  {
    return (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v1 & 0xFFFFFFFFFFFFLL) + 0x110LL))(v1 & 0xFFFFFFFFFFFFLL);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_146846360 (0x146846360) ---

// --- Function: sub_146849630 (0x146849630) ---
__int64 __fastcall sub_146849630(__int64 a1, int a2)
{
  unsigned __int64 v2; // rbx
  __int64 v3; // rdi
  signed __int64 v5; // rdx
  unsigned __int64 v6; // rax
  __int64 v7; // rbx
  __int64 v8; // rcx
  __int64 v9; // rbx

  v2 = a2;
  v3 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0xC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v3,
        v5,
        (__int64)"CRenderProxy::GetParticleEmitter",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (v2 & 0x80000000) != 0LL )
  {
    goto LABEL_13;
  }
  v6 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v2 >= (int)v6 )
  {
    goto LABEL_13;
  }
  if ( v6 <= v2 )
  {
    __debugbreak();
  }
  v7 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v2);
  if ( v7
    && (v8 = *(_QWORD *)(v7 + 0x90)) != 0
    && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x158LL))(v8) == 8 )
  {
    v9 = *(_QWORD *)(v7 + 0x90);
  }
  else
  {
LABEL_13:
    v9 = 0;
  }
  sub_1402D0950(v3);
  return v9;
}

// --- End Function: sub_146849630 (0x146849630) ---

// --- Function: sub_146849DD0 (0x146849DD0) ---
_QWORD *__fastcall sub_146849DD0(__int64 a1, _QWORD *a2)
{
  *a2 = *(_QWORD *)(a1 + 0x438);
  return a2;
}

// --- End Function: sub_146849DD0 (0x146849DD0) ---

// --- Function: sub_14684DBC0 (0x14684DBC0) ---
__int64 __fastcall sub_14684DBC0(__int64 a1)
{
  __int64 result; // rax
  __int64 v3; // rbx
  int v4; // esi
  unsigned __int64 v5; // rax
  __int64 v6; // rax
  __int64 v7; // rcx
  __int64 v8; // rdi
  int v9; // eax
  unsigned __int64 n0x200000; // rax

  result = *(_QWORD *)(a1 + 0x4D0);
  if ( !result )
  {
    if ( *(_QWORD *)(a1 + 0x4D8) )
    {
      return *(_QWORD *)(a1 + 0x4D8);
    }
    else
    {
      v3 = a1 + 0x4E0;
      v4 = *(_DWORD *)(a1() + 0x18);
      if ( *(_DWORD *)(v3 + 8) == v4 )
      {
        ++*(_DWORD *)(v3 + 0xC);
      }
      else
      {
        v5 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0x200000, 0);
        if ( v5 )
        {
          sub_1403D85B0(
            (volatile signed __int64 *)v3,
            v5,
            0,
            (__int64)"CPhysicalProxy::GetQueue",
            (__int64)"m_queueLock",
            1);
        }
        *(_DWORD *)(v3 + 8) = v4;
      }
      if ( *(_BYTE *)(a1 + 0x4F0) )
      {
        if ( !*(_QWORD *)(a1 + 0x4D0) )
        {
          v6 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D220 + 0x90LL))(qword_14981D220);
          *(_QWORD *)(a1 + 0x4D0) = v6;
          if ( v6 )
          {
            v7 = is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) ? *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL : 0LL;
            if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x50LL))(v7) )
            {
              sub_1468B63E0(pEntitySystem, a1);
            }
          }
        }
      }
      v8 = *(_QWORD *)(a1 + 0x4D0);
      if ( v3 )
      {
        v9 = *(_DWORD *)(v3 + 0xC);
        if ( v9 )
        {
          *(_DWORD *)(v3 + 0xC) = v9 - 1;
        }
        else
        {
          *(_DWORD *)(v3 + 8) = 0xFFFFFFFF;
          n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0, 0x200000);
          if ( n0x200000 != 0x200000 )
          {
            sub_1403D8A00((volatile signed __int64 *)v3, n0x200000);
          }
        }
      }
      return v8;
    }
  }
  return result;
}

// --- End Function: sub_14684DBC0 (0x14684DBC0) ---

// --- Function: sub_14684E240 (0x14684E240) ---
__int64 *__fastcall sub_14684E240(__int64 a1, __int64 *a2, int a3)
{
  unsigned __int64 v3; // rsi
  __int64 v4; // rdi
  signed __int64 v7; // rdx
  __int64 v8; // rdx
  __int64 v9; // rcx
  unsigned __int64 v10; // r8
  __int64 v11; // rdx
  __int64 v13; // rcx
  __int64 v14; // rax

  v3 = a3;
  v4 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v4 + 0xC);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v4);
    if ( (v7 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v4,
        v7,
        (__int64)"CRenderProxy::GetRenderMaterial",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (v3 & 0x80000000) == 0LL )
  {
    if ( v3 < (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 )
    {
      v8 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v3);
      goto LABEL_21;
    }
LABEL_16:
    *a2 = 0;
    goto LABEL_17;
  }
  v9 = *(_QWORD *)(a1 + 0xE0);
  v10 = 0;
  v11 = *(_QWORD *)(a1 + 0xD8);
  if ( !((v9 - v11) >> 3) )
  {
    goto LABEL_16;
  }
  while ( 1 )
  {
    if ( (v9 - v11) >> 3 <= v10 )
    {
      __debugbreak();
    }
    v11 = *(_QWORD *)(a1 + 0xD8);
    if ( *(_QWORD *)(v11 + 8 * v10) )
    {
      if ( (*(_QWORD *)(a1 + 0xE0) - v11) >> 3 <= v10 )
      {
        __debugbreak();
      }
      if ( (*(_BYTE *)(*(_QWORD *)(v11 + 8 * v10) + 0xD8LL) & 1) != 0 )
      {
        break;
      }
    }
    v9 = *(_QWORD *)(a1 + 0xE0);
    if ( ++v10 >= (v9 - v11) >> 3 )
    {
      goto LABEL_16;
    }
  }
  if ( (*(_QWORD *)(a1 + 0xE0) - v11) >> 3 <= v10 )
  {
    __debugbreak();
  }
  v8 = *(_QWORD *)(v11 + 8 * v10);
LABEL_21:
  if ( !v8 )
  {
    goto LABEL_16;
  }
  v13 = *(_QWORD *)(a1 + 0x150);
  if ( v13 )
  {
    *a2 = v13;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v13 + 8LL))(v13);
  }
  else
  {
    v14 = sub_146850E10(a1);
    *a2 = v14;
    if ( v14 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v14 + 8LL))(v14);
    }
  }
LABEL_17:
  sub_1402D0950(v4);
  return a2;
}

// --- End Function: sub_14684E240 (0x14684E240) ---

// --- Function: sub_14684E870 (0x14684E870) ---
__int64 __fastcall sub_14684E870(__int64 a1, int a2)
{
  unsigned __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  unsigned __int64 v6; // rax
  __int64 v7; // rdi
  __int64 v8; // rdi

  v2 = a2;
  v3 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0xC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v3,
        v5,
        (__int64)"CRenderProxy::GetSkinRenderObjectForSlot",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (v2 & 0x80000000) != 0LL )
  {
    goto LABEL_11;
  }
  v6 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v2 >= (int)v6 )
  {
    goto LABEL_11;
  }
  if ( v6 <= v2 )
  {
    __debugbreak();
  }
  v7 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v2);
  if ( v7 )
  {
    v8 = *(_QWORD *)(v7 + 0x68);
  }
  else
  {
LABEL_11:
    v8 = 0;
  }
  sub_1402D0950(v3);
  return v8;
}

// --- End Function: sub_14684E870 (0x14684E870) ---

// --- Function: sub_14684E9E0 (0x14684E9E0) ---
__int64 __fastcall sub_14684E9E0(__int64 a1)
{
  __int64 v2; // rdi
  signed __int64 v3; // rdx
  __int64 v4; // rbx

  v2 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0xC);
  }
  else
  {
    v3 = _InterlockedIncrement64((volatile signed __int64 *)v2);
    if ( (v3 & 0x200000) != 0 )
    {
      sub_1403C6C70((volatile signed __int64 *)v2, v3, (__int64)"CRenderProxy::GetSlotCount", (__int64)"m_SlotsLock", 1);
    }
  }
  v4 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  sub_1402D0950(v2);
  return (unsigned int)v4;
}

// --- End Function: sub_14684E9E0 (0x14684E9E0) ---

// --- Function: sub_14684EA80 (0x14684EA80) ---
__int64 __fastcall sub_14684EA80(__int64 a1, int a2)
{
  unsigned __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  unsigned __int64 v6; // rax
  __int64 v7; // rcx
  unsigned int v8; // edi

  v2 = a2;
  v3 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0xC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70((volatile signed __int64 *)v3, v5, (__int64)"CRenderProxy::GetSlotFlags", (__int64)"m_SlotsLock", 1);
    }
  }
  if ( (v2 & 0x80000000) != 0LL )
  {
    goto LABEL_11;
  }
  v6 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v2 >= (int)v6 )
  {
    goto LABEL_11;
  }
  if ( v6 <= v2 )
  {
    __debugbreak();
  }
  v7 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v2);
  if ( v7 )
  {
    v8 = *(unsigned __int16 *)(v7 + 0xD8);
  }
  else
  {
LABEL_11:
    v8 = 0;
  }
  sub_1402D0950(v3);
  return v8;
}

// --- End Function: sub_14684EA80 (0x14684EA80) ---

// --- Function: sub_14684EB40 (0x14684EB40) ---
float *__fastcall sub_14684EB40(__int64 a1, float *a2, int a3, __int64 a4, unsigned __int8 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  unsigned __int8 v17; // r9
  float *v20; // rax
  float v21; // xmm5_4
  float v22; // xmm6_4
  float v23; // xmm7_4
  float v24; // xmm1_4
  __m128 v25; // xmm2
  float v26; // xmm3_4
  float v27; // xmm8_4
  float v28; // xmm9_4
  float v29; // xmm10_4
  float v30; // xmm11_4
  float v31; // xmm12_4
  float v32; // xmm13_4
  __m128 v33; // kr00_16
  float v34; // xmm4_4
  __m128 v35; // xmm3
  __m128 v36; // kr00_16
  __m128 v37; // xmm3
  __m128 v38; // kr00_16
  __m128 v39; // xmm4
  float v40; // xmm2_4
  float v41; // xmm1_4
  __m128 v42; // kr00_16
  __m128 v43; // xmm4
  float v45; // xmm2_4
  __int64 v47; // rax
  __int64 v48; // rax
  __int64 v49; // rax
  __int64 v50; // rax
  float v51; // xmm11_4
  float v52; // xmm9_4
  float v53; // xmm8_4
  float v54; // xmm13_4
  float v55; // xmm14_4
  float v56; // xmm12_4
  float v57; // xmm15_4
  __m128 v58; // xmm10
  float v59; // xmm5_4
  float v60; // xmm6_4
  float v61; // xmm5_4
  float v62; // xmm7_4
  __int128 v63; // kr00_16
  float v65; // xmm11_4
  float v66; // xmm14_4
  float v67; // xmm13_4
  float v68; // xmm12_4
  float v69; // xmm9_4
  __int64 v71; // r14
  __int64 v72; // rdi
  unsigned int v73; // eax
  __int64 v74; // rax
  unsigned int v75; // eax
  float *v76; // rax
  float v77; // xmm14_4
  float v78; // xmm15_4
  float v79; // xmm12_4
  float v80; // xmm13_4
  float v81; // xmm6_4
  float v82; // xmm5_4
  __int128 v83; // kr00_16
  float v84; // xmm8_4
  float v85; // xmm2_4
  float v86; // xmm6_4
  float v87; // xmm7_4
  float v88; // xmm3_4
  float v90; // xmm5_4
  float v91; // xmm10_4
  __int64 v93; // rax
  __int64 v95; // [rsp+38h] [rbp-D0h] BYREF
  float v96; // [rsp+40h] [rbp-C8h] BYREF
  float v97; // [rsp+44h] [rbp-C4h]
  float v98; // [rsp+48h] [rbp-C0h]
  float v99; // [rsp+4Ch] [rbp-BCh]
  float v100; // [rsp+50h] [rbp-B8h]
  float v101; // [rsp+54h] [rbp-B4h]
  float v102; // [rsp+58h] [rbp-B0h]
  float v103; // [rsp+60h] [rbp-A8h]
  _DWORD v104[4]; // [rsp+68h] [rbp-A0h] BYREF
  __int64 v105; // [rsp+78h] [rbp-90h]
  __int64 v106; // [rsp+E0h] [rbp-28h]
  __int128 v107; // [rsp+E8h] [rbp-20h]
  __int128 v108; // [rsp+F8h] [rbp-10h]
  __int128 v109; // [rsp+108h] [rbp+0h]
  __int64 v110; // [rsp+120h] [rbp+18h]
  char v111[24]; // [rsp+128h] [rbp+20h] BYREF
  __int128 v112; // [rsp+148h] [rbp+40h]
  __int128 v113; // [rsp+158h] [rbp+50h]
  __int128 v114; // [rsp+168h] [rbp+60h]
  __int128 v115; // [rsp+178h] [rbp+70h]
  __int128 v116; // [rsp+188h] [rbp+80h]
  __int128 v117; // [rsp+198h] [rbp+90h]
  __int128 v118; // [rsp+1A8h] [rbp+A0h]
  __int128 v119; // [rsp+1B8h] [rbp+B0h]
  __int128 v120; // [rsp+1C8h] [rbp+C0h]
  __int128 v121; // [rsp+1D8h] [rbp+D0h]
  float v122; // [rsp+210h] [rbp+108h] BYREF

  v17 = a5;
  v121 = v5;
  v120 = v6;
  *(_QWORD *)a2 = 0;
  a2[2] = 0.0;
  *((_QWORD *)a2 + 2) = 0;
  a2[6] = 0.0;
  a2[3] = 1.0;
  v113 = v13;
  v112 = v14;
  LOBYTE(v104[0]) = 0;
  v104[1] = 0;
  v104[2] = 0xFFFFFFFF;
  v105 = 0;
  v106 = 0;
  v107 = 0;
  v108 = 0;
  v109 = 0;
  v110 = 0;
  if ( (unsigned __int8)sub_14684FBD0(a1, a3, (__int64)v104, v17) )
  {
    v119 = v7;
    v118 = v8;
    v117 = v9;
    v116 = v10;
    v115 = v11;
    v114 = v12;
    if ( v106 )
    {
      v20 = (float *)(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v106 + 0x378LL))(v106, a4);
      v21 = 1.0;
      v22 = 0.0;
      v23 = 0.0;
      v24 = *v20;
      v25 = (__m128)*((unsigned int *)v20 + 5);
      v26 = v20[0xA];
      v27 = v20[1];
      v28 = v20[2];
      v29 = v20[4];
      v30 = v20[6];
      v31 = v20[8];
      v32 = v20[9];
      v33 = v25;
      v33.m128_f32[0] = (float)(v25.m128_f32[0] + *v20) + v26;
      v34 = 0.0;
      if ( v33.m128_f32[0] <= 0.0 )
      {
        if ( v24 < v25.m128_f32[0] || v24 < v26 )
        {
          if ( v25.m128_f32[0] < v24 || v25.m128_f32[0] < v26 )
          {
            if ( v26 < v24 || v26 < v25.m128_f32[0] )
            {
              goto LABEL_15;
            }
            v42 = (__m128)*((unsigned int *)v20 + 0xA);
            v42.m128_f32[0] = (float)((float)(v26 - v24) - v25.m128_f32[0]) + 1.0;
            v43 = _mm_sqrt_ps(_mm_shuffle_ps(v42, v42, 0));
            v43.m128_f32[0] = _mm_shuffle_ps(v43, v43, 0xFF).m128_f32[0];
            v40 = 0.5 / v43.m128_f32[0];
            v21 = (float)(v29 - v27) * (float)(0.5 / v43.m128_f32[0]);
            v23 = (float)(v32 + v30) * (float)(0.5 / v43.m128_f32[0]);
            v41 = v31 + v28;
            v34 = v43.m128_f32[0] * 0.5;
          }
          else
          {
            v38 = (__m128)*((unsigned int *)v20 + 5);
            v38.m128_f32[0] = (float)((float)(v25.m128_f32[0] - v26) - v24) + 1.0;
            v39 = _mm_sqrt_ps(_mm_shuffle_ps(v38, v38, 0));
            v39.m128_f32[0] = _mm_shuffle_ps(v39, v39, 0xFF).m128_f32[0];
            v40 = 0.5 / v39.m128_f32[0];
            v21 = (float)(v28 - v31) * (float)(0.5 / v39.m128_f32[0]);
            v23 = v39.m128_f32[0] * 0.5;
            v34 = (float)(v32 + v30) * (float)(0.5 / v39.m128_f32[0]);
            v41 = v29 + v27;
          }
          v22 = v41 * v40;
        }
        else
        {
          v36 = (__m128)*(unsigned int *)v20;
          v36.m128_f32[0] = (float)((float)(v24 - v25.m128_f32[0]) - v26) + 1.0;
          v37 = _mm_sqrt_ps(_mm_shuffle_ps(v36, v36, 0));
          v37.m128_f32[0] = _mm_shuffle_ps(v37, v37, 0xFF).m128_f32[0];
          v21 = (float)(v32 - v30) * (float)(0.5 / v37.m128_f32[0]);
          v22 = v37.m128_f32[0] * 0.5;
          v34 = (float)(v31 + v28) * (float)(0.5 / v37.m128_f32[0]);
          v23 = (float)(v29 + v27) * (float)(0.5 / v37.m128_f32[0]);
        }
      }
      else
      {
        v33.m128_f32[0] = v33.m128_f32[0] + 1.0;
        v35 = _mm_sqrt_ps(_mm_shuffle_ps(v33, v33, 0));
        v35.m128_f32[0] = _mm_shuffle_ps(v35, v35, 0xFF).m128_f32[0];
        v22 = (float)(v32 - v30) * (float)(0.5 / v35.m128_f32[0]);
        v21 = v35.m128_f32[0] * 0.5;
        v34 = (float)(v29 - v27) * (float)(0.5 / v35.m128_f32[0]);
        v23 = (float)(v28 - v31) * (float)(0.5 / v35.m128_f32[0]);
      }
LABEL_15:
      _XMM1 = *((unsigned int *)v20 + 3);
      v45 = v20[0xB];
      *a2 = v22;
      a2[1] = v23;
      a2[2] = v34;
      a2[3] = v21;
      __asm { vunpcklps xmm0, xmm1, xmm0 }
      *((double *)a2 + 2) = *(double *)&_XMM0;
      a2[6] = v45;
      goto LABEL_28;
    }
    if ( (_QWORD)v107 )
    {
      v47 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v107 + 0x50LL))(v107);
      v48 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v47 + 0x58LL))(v47, a4);
      if ( v48 )
      {
        v49 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v48 + 0x118LL))(v48);
        *a2 = *(float *)v49;
        a2[1] = *(float *)(v49 + 4);
        a2[2] = *(float *)(v49 + 8);
        a2[3] = *(float *)(v49 + 0xC);
        *((double *)a2 + 2) = *(double *)(v49 + 0x10);
        a2[6] = *(float *)(v49 + 0x18);
        v50 = sub_14684FF40(a1, (__int64)v111, a3, 0, 2);
        v51 = a2[6];
        v52 = a2[5];
        v53 = a2[4];
        v54 = *(float *)(v50 + 4);
        v55 = *(float *)(v50 + 8);
        v56 = *(float *)v50;
        v57 = *(float *)(v50 + 0xC);
        v58 = (__m128)*(unsigned __int64 *)(v50 + 0x10);
        v59 = (float)((float)(v53 * v55) - (float)(v51 * *(float *)v50)) + (float)(v52 * v57);
        v60 = (float)((float)((float)((float)(v52 * *(float *)v50) - (float)(v53 * v54)) + (float)(v51 * v57)) * v54)
            - (float)(v59 * v55);
        v61 = (float)(v59 * *(float *)v50)
            - (float)((float)((float)((float)(v51 * v54) - (float)(v52 * v55)) + (float)(v53 * v57)) * v54);
        v62 = a2[3];
        v63 = LODWORD(v53);
        *(float *)&v63 = (float)((float)(v53 + v60) + v58.m128_f32[0]) + v60;
        _XMM8 = v63;
        _mm_shuffle_ps(v58, v58, 0x55);
        *(float *)&v63 = (float)(v51 + v61) + *(float *)(v50 + 0x18);
        v103 = v55;
        v65 = v55;
        v66 = a2[2];
        v122 = v54;
        v67 = a2[1];
        v58.m128_f32[0] = v122;
        *(float *)&v95 = v56;
        v68 = *a2;
        v69 = *(float *)&v95;
        *a2 = (float)((float)((float)(v66 * v122) - (float)(v67 * v103)) + (float)(*a2 * v57))
            + (float)(v62 * *(float *)&v95);
        a2[1] = (float)((float)((float)(v68 * v65) - (float)(v66 * v69)) + (float)(v67 * v57))
              + (float)(v62 * v58.m128_f32[0]);
        a2[2] = (float)((float)((float)(v67 * v69) - (float)(v68 * v58.m128_f32[0])) + (float)(v66 * v57))
              + (float)(v62 * v65);
        __asm { vunpcklps xmm0, xmm8, xmm6 }
        *((double *)a2 + 2) = *(double *)&_XMM0;
        a2[6] = *(float *)&v63 + v61;
        a2[3] = (float)((float)((float)(v62 * v57) - (float)(v68 * v69)) - (float)(v67 * v58.m128_f32[0]))
              - (float)(v66 * v65);
      }
      else
      {
        v71 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v107 + 0x30LL))(v107);
        if ( v71 )
        {
          v72 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v107 + 0x70LL))(v107);
          if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v72 + 0xC0LL))(v72) )
          {
            v72 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v72 + 0xB8LL))(v72, &v95);
            if ( v95 )
            {
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v95 + 0x160LL))(v95);
            }
            v95 = 0;
          }
          v73 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v72 + 0x48LL))(v72, a4);
          if ( v73 == 0xFFFFFFFF )
          {
            v74 = *(_QWORD *)v72;
            v99 = 1.0;
            v96 = 0.0;
            v97 = 0.0;
            v98 = 0.0;
            v100 = 0.0;
            v101 = 0.0;
            v102 = 0.0;
            v75 = (*(__int64 (__fastcall **)(__int64, __int64, float *, float *))(v74 + 0xA8))(v72, a4, &v122, &v96);
            if ( v75 != 0xFFFFFFFF )
            {
              v76 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v71 + 0x140LL))(v71, v75);
              v77 = v76[1];
              v78 = v76[2];
              v79 = *v76;
              v80 = v76[3];
              v81 = (float)((float)(v78 * v100) - (float)(*v76 * v102)) + (float)(v80 * v101);
              v82 = (float)(v77 * (float)((float)((float)(*v76 * v101) - (float)(v77 * v100)) + (float)(v80 * v102)))
                  - (float)(v78 * v81);
              v83 = LODWORD(v100);
              v84 = v98;
              v85 = *v76 * v81;
              v86 = v96;
              v87 = v97;
              v88 = v85
                  - (float)(v77 * (float)((float)((float)(v77 * v102) - (float)(v78 * v101)) + (float)(v80 * v100)));
              *(float *)&v83 = (float)((float)(v100 + v82) + v76[4]) + v82;
              _XMM11 = v83;
              v90 = v99;
              v91 = (float)((float)(v102 + v88) + v76[6]) + v88;
              *a2 = (float)((float)((float)(v77 * v98) - (float)(v78 * v97)) + (float)(v80 * v96)) + (float)(*v76 * v99);
              a2[1] = (float)((float)((float)(v78 * v86) - (float)(v79 * v84)) + (float)(v80 * v87))
                    + (float)(v77 * v90);
              a2[2] = (float)((float)((float)(v79 * v87) - (float)(v77 * v86)) + (float)(v80 * v84))
                    + (float)(v78 * v90);
              a2[3] = (float)((float)((float)(v80 * v90) - (float)(v79 * v86)) - (float)(v77 * v87))
                    - (float)(v78 * v84);
              __asm { vunpcklps xmm0, xmm11, xmm9 }
              *((double *)a2 + 2) = *(double *)&_XMM0;
              a2[6] = v91;
            }
          }
          else
          {
            v93 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v71 + 0x140LL))(v71, v73);
            *a2 = *(float *)v93;
            a2[1] = *(float *)(v93 + 4);
            a2[2] = *(float *)(v93 + 8);
            a2[3] = *(float *)(v93 + 0xC);
            *((double *)a2 + 2) = *(double *)(v93 + 0x10);
            a2[6] = *(float *)(v93 + 0x18);
          }
        }
      }
    }
  }
LABEL_28:
  if ( v110 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v110 + 0x10LL))(v110);
  }
  v110 = 0;
  if ( v106 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v106 + 8LL))(v106);
  }
  v106 = 0;
  if ( (v105 & 0x100000000000000LL) != 0 && (v105 & 0xFFFFFFFFFFFFLL) != 0 )
  {
    free_memory_wrapper((const void *)(v105 & 0xFFFFFFFFFFFFLL));
  }
  return a2;
}

// --- End Function: sub_14684EB40 (0x14684EB40) ---

// --- Function: sub_14684F370 (0x14684F370) ---
__int64 __fastcall sub_14684F370(__int64 a1, int a2, __int64 a3, __int64 a4, unsigned __int8 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  __int64 v19; // rcx
  float v20; // xmm6_4
  __m128 v21; // kr00_16
  float v22; // xmm7_4
  float v23; // xmm8_4
  float v24; // xmm4_4
  __m128 v25; // xmm2
  __m128 v26; // kr00_16
  __m128 v27; // xmm5
  __m128 v28; // kr00_16
  __m128 v29; // xmm5
  __m128 v30; // kr00_16
  __m128 v31; // xmm5
  float v33; // xmm2_4
  unsigned __int8 v34; // bl
  __int64 v36; // rax
  __int64 v37; // rax
  __int64 v38; // rax
  float v39; // xmm1_4
  float v40; // xmm2_4
  float v41; // xmm3_4
  __m128 v42; // xmm6
  float v43; // ebx
  __int64 v44; // rax
  float v45; // xmm9_4
  float v46; // xmm14_4
  float v47; // xmm15_4
  float v48; // xmm13_4
  float v49; // xmm12_4
  __m128 v50; // xmm10
  float v51; // xmm5_4
  __int128 v52; // kr00_16
  float v53; // xmm8_4
  float v54; // xmm3_4
  float v56; // xmm9_4
  float v57; // xmm11_4
  float v58; // xmm0_4
  __int64 v60; // r14
  __int64 v61; // rbx
  unsigned int v62; // eax
  __int64 v63; // rax
  unsigned int v64; // eax
  float *v65; // rax
  float v66; // xmm14_4
  float v67; // xmm15_4
  float v68; // xmm12_4
  float v69; // xmm13_4
  float v70; // xmm6_4
  float v71; // xmm5_4
  __int128 v72; // kr00_16
  float v73; // xmm8_4
  float v74; // xmm2_4
  float v75; // xmm6_4
  float v76; // xmm7_4
  float v77; // xmm3_4
  float v79; // xmm5_4
  float v80; // xmm10_4
  __int64 v82; // rax
  float v84; // [rsp+38h] [rbp-D0h] BYREF
  float v85; // [rsp+40h] [rbp-C8h] BYREF
  float v86; // [rsp+44h] [rbp-C4h]
  float v87; // [rsp+48h] [rbp-C0h]
  unsigned int v88; // [rsp+4Ch] [rbp-BCh]
  float v89; // [rsp+50h] [rbp-B8h]
  float v90; // [rsp+54h] [rbp-B4h]
  float v91; // [rsp+58h] [rbp-B0h]
  float v92; // [rsp+60h] [rbp-A8h]
  float v93; // [rsp+64h] [rbp-A4h]
  float v94; // [rsp+68h] [rbp-A0h]
  float v95; // [rsp+6Ch] [rbp-9Ch]
  float v96; // [rsp+70h] [rbp-98h] BYREF
  float v97; // [rsp+74h] [rbp-94h]
  float v98; // [rsp+78h] [rbp-90h]
  float v99; // [rsp+7Ch] [rbp-8Ch]
  double v100; // [rsp+80h] [rbp-88h]
  float v101; // [rsp+88h] [rbp-80h]
  __int64 v102; // [rsp+90h] [rbp-78h] BYREF
  float v103; // [rsp+98h] [rbp-70h]
  float v104; // [rsp+9Ch] [rbp-6Ch]
  _BYTE v105[4]; // [rsp+A8h] [rbp-60h] BYREF
  int v106; // [rsp+ACh] [rbp-5Ch]
  unsigned int v107; // [rsp+B0h] [rbp-58h]
  __int64 v108; // [rsp+B8h] [rbp-50h]
  __int64 v109; // [rsp+120h] [rbp+18h]
  __int128 v110; // [rsp+128h] [rbp+20h]
  __int128 v111; // [rsp+138h] [rbp+30h]
  __int128 v112; // [rsp+148h] [rbp+40h]
  __int64 v113; // [rsp+160h] [rbp+58h]
  __int128 v114; // [rsp+168h] [rbp+60h]
  __int128 v115; // [rsp+178h] [rbp+70h]
  __int128 v116; // [rsp+188h] [rbp+80h]
  __int128 v117; // [rsp+198h] [rbp+90h]
  __int128 v118; // [rsp+1A8h] [rbp+A0h]
  __int128 v119; // [rsp+1B8h] [rbp+B0h]
  __int128 v120; // [rsp+1C8h] [rbp+C0h]
  __int128 v121; // [rsp+1D8h] [rbp+D0h]
  __int128 v122; // [rsp+1E8h] [rbp+E0h]
  __int128 v123; // [rsp+1F8h] [rbp+F0h]

  v123 = v5;
  v122 = v6;
  v121 = v7;
  v120 = v8;
  v119 = v9;
  v118 = v10;
  v117 = v11;
  v116 = v12;
  v115 = v13;
  v114 = v14;
  v105[0] = 0;
  v106 = 0;
  v107 = 0xFFFFFFFF;
  v108 = 0;
  v109 = 0;
  v110 = 0;
  v111 = 0;
  v112 = 0;
  v113 = 0;
  if ( !(unsigned __int8)sub_14684FBD0(a1, a2, (__int64)v105, a5) )
  {
    goto LABEL_28;
  }
  v19 = v109;
  if ( !v109 )
  {
    if ( !(_QWORD)v110 )
    {
LABEL_29:
      v34 = 0;
      goto LABEL_30;
    }
    v36 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v110 + 0x50LL))(v110);
    v37 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v36 + 0x58LL))(v36, a3);
    if ( v37 )
    {
      v38 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v37 + 0x118LL))(v37);
      v39 = *(float *)v38;
      v40 = *(float *)(v38 + 4);
      v41 = *(float *)(v38 + 8);
      v42 = (__m128)*(unsigned __int64 *)(v38 + 0x10);
      v43 = *(float *)(v38 + 0x18);
      v84 = *(float *)(v38 + 0xC);
      *(float *)&v102 = v39;
      v104 = v40;
      v103 = v41;
      v44 = sub_14684FF40(a1, (__int64)&v85, a2, 0, 2);
      v45 = _mm_shuffle_ps(v42, v42, 0x55).m128_f32[0];
      v100 = *(double *)v42.m128_u64;
      v46 = *(float *)(v44 + 4);
      v47 = *(float *)(v44 + 8);
      v48 = *(float *)v44;
      v49 = *(float *)(v44 + 0xC);
      v50 = (__m128)*(unsigned __int64 *)(v44 + 0x10);
      v42.m128_f32[0] = (float)((float)(*(float *)&v100 * v47) - (float)(v43 * *(float *)v44)) + (float)(v45 * v49);
      v51 = (float)((float)((float)((float)(v45 * *(float *)v44) - (float)(*(float *)&v100 * v46)) + (float)(v43 * v49))
                  * v46)
          - (float)(v42.m128_f32[0] * v47);
      v52 = LODWORD(v100);
      v53 = v84;
      v54 = (float)(v42.m128_f32[0] * *(float *)v44)
          - (float)((float)((float)((float)(v43 * v46) - (float)(v45 * v47)) + (float)(*(float *)&v100 * v49)) * v46);
      *(float *)&v52 = (float)((float)(*(float *)&v100 + v51) + v50.m128_f32[0]) + v51;
      _XMM7 = v52;
      v56 = *(float *)&v102;
      _mm_shuffle_ps(v50, v50, 0x55);
      v50.m128_f32[0] = v104;
      v57 = v103;
      v42.m128_f32[0] = (float)((float)(v43 + v54) + *(float *)(v44 + 0x18)) + v54;
      v58 = *(float *)v44 * v103;
      *(float *)a4 = (float)((float)((float)(v46 * v103) - (float)(v47 * v104)) + (float)(v49 * *(float *)&v102))
                   + (float)(*(float *)v44 * v84);
      v19 = v109;
      v34 = 1;
      *(float *)(a4 + 4) = (float)((float)((float)(v47 * v56) - v58) + (float)(v49 * v50.m128_f32[0]))
                         + (float)(v46 * v53);
      *(float *)(a4 + 8) = (float)((float)((float)(v48 * v50.m128_f32[0]) - (float)(v46 * v56)) + (float)(v49 * v57))
                         + (float)(v47 * v53);
      *(float *)(a4 + 0xC) = (float)((float)((float)(v49 * v53) - (float)(v48 * v56)) - (float)(v46 * v50.m128_f32[0]))
                           - (float)(v47 * v57);
      __asm { vunpcklps xmm0, xmm7, xmm5 }
      *(double *)(a4 + 0x10) = *(double *)&_XMM0;
      *(float *)(a4 + 0x18) = v42.m128_f32[0];
      goto LABEL_30;
    }
    v60 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v110 + 0x30LL))(v110);
    if ( v60 )
    {
      v61 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v110 + 0x70LL))(v110);
      if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v61 + 0xC0LL))(v61) )
      {
        v61 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v61 + 0xB8LL))(v61, &v102);
        if ( v102 )
        {
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v102 + 0x160LL))(v102);
        }
        v102 = 0;
      }
      v62 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v61 + 0x48LL))(v61, a3);
      if ( v62 != 0xFFFFFFFF )
      {
        v82 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v60 + 0x140LL))(v60, v62);
        v34 = 1;
        *(_DWORD *)a4 = *(_DWORD *)v82;
        *(_DWORD *)(a4 + 4) = *(_DWORD *)(v82 + 4);
        *(_DWORD *)(a4 + 8) = *(_DWORD *)(v82 + 8);
        *(_DWORD *)(a4 + 0xC) = *(_DWORD *)(v82 + 0xC);
        v19 = v109;
        *(double *)(a4 + 0x10) = *(double *)(v82 + 0x10);
        *(_DWORD *)(a4 + 0x18) = *(_DWORD *)(v82 + 0x18);
        goto LABEL_30;
      }
      v63 = *(_QWORD *)v61;
      v99 = 1.0;
      v96 = 0.0;
      v97 = 0.0;
      v98 = 0.0;
      v100 = 0.0;
      v101 = 0.0;
      v64 = (*(__int64 (__fastcall **)(__int64, __int64, float *, float *))(v63 + 0xA8))(v61, a3, &v84, &v96);
      if ( v64 != 0xFFFFFFFF )
      {
        v65 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v60 + 0x140LL))(v60, v64);
        v66 = v65[1];
        v67 = v65[2];
        v68 = *v65;
        v69 = v65[3];
        v70 = (float)((float)(v67 * *(float *)&v100) - (float)(*v65 * v101)) + (float)(v69 * *((float *)&v100 + 1));
        v71 = (float)(v66
                    * (float)((float)((float)(*v65 * *((float *)&v100 + 1)) - (float)(v66 * *(float *)&v100))
                            + (float)(v69 * v101)))
            - (float)(v67 * v70);
        v72 = LODWORD(v100);
        v73 = v98;
        v74 = *v65 * v70;
        v75 = v96;
        v76 = v97;
        v77 = v74
            - (float)(v66
                    * (float)((float)((float)(v66 * v101) - (float)(v67 * *((float *)&v100 + 1)))
                            + (float)(v69 * *(float *)&v100)));
        *(float *)&v72 = (float)((float)(*(float *)&v100 + v71) + v65[4]) + v71;
        _XMM11 = v72;
        v79 = v99;
        v80 = (float)((float)(v101 + v77) + v65[6]) + v77;
        *(float *)a4 = (float)((float)((float)(v66 * v98) - (float)(v67 * v97)) + (float)(v69 * v96))
                     + (float)(*v65 * v99);
        *(float *)(a4 + 4) = (float)((float)((float)(v67 * v75) - (float)(v68 * v73)) + (float)(v69 * v76))
                           + (float)(v66 * v79);
        *(float *)(a4 + 8) = (float)((float)((float)(v68 * v76) - (float)(v66 * v75)) + (float)(v69 * v73))
                           + (float)(v67 * v79);
        *(float *)(a4 + 0xC) = (float)((float)((float)(v69 * v79) - (float)(v68 * v75)) - (float)(v66 * v76))
                             - (float)(v67 * v73);
        v19 = v109;
        v34 = 1;
        __asm { vunpcklps xmm0, xmm11, xmm9 }
        *(double *)(a4 + 0x10) = *(double *)&_XMM0;
        *(float *)(a4 + 0x18) = v80;
        goto LABEL_30;
      }
    }
LABEL_28:
    v19 = v109;
    goto LABEL_29;
  }
  if ( !(*(unsigned __int8 (__fastcall **)(__int64, __int64, float *))(*(_QWORD *)v109 + 0x370LL))(v109, a3, &v85) )
  {
    goto LABEL_28;
  }
  v20 = 1.0;
  v21 = (__m128)LODWORD(v90);
  v21.m128_f32[0] = (float)(v90 + v85) + v94;
  v22 = 0.0;
  v23 = 0.0;
  v24 = 0.0;
  if ( v21.m128_f32[0] <= 0.0 )
  {
    if ( v85 < v90 || v85 < v94 )
    {
      if ( v90 < v85 || v90 < v94 )
      {
        if ( v94 >= v85 && v94 >= v90 )
        {
          v30 = (__m128)LODWORD(v94);
          v30.m128_f32[0] = (float)((float)(v94 - v85) - v90) + 1.0;
          v31 = _mm_sqrt_ps(_mm_shuffle_ps(v30, v30, 0));
          v31.m128_f32[0] = _mm_shuffle_ps(v31, v31, 0xFF).m128_f32[0];
          v20 = (float)(v89 - v86) * (float)(0.5 / v31.m128_f32[0]);
          v23 = (float)(v93 + v91) * (float)(0.5 / v31.m128_f32[0]);
          v22 = (float)(v92 + v87) * (float)(0.5 / v31.m128_f32[0]);
          v24 = v31.m128_f32[0] * 0.5;
        }
      }
      else
      {
        v28 = (__m128)LODWORD(v90);
        v28.m128_f32[0] = (float)((float)(v90 - v94) - v85) + 1.0;
        v29 = _mm_sqrt_ps(_mm_shuffle_ps(v28, v28, 0));
        v29.m128_f32[0] = _mm_shuffle_ps(v29, v29, 0xFF).m128_f32[0];
        v20 = (float)(v87 - v92) * (float)(0.5 / v29.m128_f32[0]);
        v22 = (float)(v89 + v86) * (float)(0.5 / v29.m128_f32[0]);
        v23 = v29.m128_f32[0] * 0.5;
        v24 = (float)(v93 + v91) * (float)(0.5 / v29.m128_f32[0]);
      }
    }
    else
    {
      v26 = (__m128)LODWORD(v85);
      v26.m128_f32[0] = (float)((float)(v85 - v90) - v94) + 1.0;
      v27 = _mm_sqrt_ps(_mm_shuffle_ps(v26, v26, 0));
      v27.m128_f32[0] = _mm_shuffle_ps(v27, v27, 0xFF).m128_f32[0];
      v20 = (float)(v93 - v91) * (float)(0.5 / v27.m128_f32[0]);
      v23 = (float)(v89 + v86) * (float)(0.5 / v27.m128_f32[0]);
      v24 = (float)(v92 + v87) * (float)(0.5 / v27.m128_f32[0]);
      v22 = v27.m128_f32[0] * 0.5;
    }
  }
  else
  {
    v21.m128_f32[0] = v21.m128_f32[0] + 1.0;
    v25 = _mm_sqrt_ps(_mm_shuffle_ps(v21, v21, 0));
    v25.m128_f32[0] = _mm_shuffle_ps(v25, v25, 0xFF).m128_f32[0];
    v20 = v25.m128_f32[0] * 0.5;
    v22 = (float)(v93 - v91) * (float)(0.5 / v25.m128_f32[0]);
    v24 = (float)(v89 - v86) * (float)(0.5 / v25.m128_f32[0]);
    v23 = (float)(v87 - v92) * (float)(0.5 / v25.m128_f32[0]);
  }
  _XMM1 = v88;
  v33 = v95;
  v19 = v109;
  v34 = 1;
  *(float *)a4 = v22;
  *(float *)(a4 + 4) = v23;
  *(float *)(a4 + 8) = v24;
  *(float *)(a4 + 0xC) = v20;
  __asm { vunpcklps xmm0, xmm1, xmm0 }
  *(double *)(a4 + 0x10) = *(double *)&_XMM0;
  *(float *)(a4 + 0x18) = v33;
LABEL_30:
  if ( v113 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v113 + 0x10LL))(v113);
    v19 = v109;
  }
  v113 = 0;
  if ( v19 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v19 + 8LL))(v19);
  }
  v109 = 0;
  if ( (v108 & 0x100000000000000LL) != 0 && (v108 & 0xFFFFFFFFFFFFLL) != 0 )
  {
    free_memory_wrapper((const void *)(v108 & 0xFFFFFFFFFFFFLL));
  }
  return v34;
}

// --- End Function: sub_14684F370 (0x14684F370) ---

// --- Function: sub_14684FBD0 (0x14684FBD0) ---
__int64 __fastcall sub_14684FBD0(__int64 a1, int a2, __int64 a3, unsigned __int8 a4)
{
  unsigned __int64 v5; // rdi
  __int64 v7; // r14
  signed __int64 v9; // rdx
  unsigned __int64 v10; // rax
  __int64 *v11; // rdi
  __int64 v12; // r12
  __int64 v13; // r15
  signed __int64 v14; // rbx
  __int64 v15; // rcx
  unsigned __int64 v16; // rbx
  __int64 v17; // rdx
  unsigned __int64 v18; // r8
  __int64 v19; // rcx
  void (__fastcall ***v20)(_QWORD); // rbx
  __int64 v21; // rcx
  __int64 v22; // rax
  float v23; // xmm3_4
  float v24; // xmm1_4
  float v25; // xmm4_4
  __m128 v26; // xmm0
  int epi32; // ecx
  float v28; // xmm2_4
  float v29; // xmm5_4
  __int64 v30; // rdx
  __int64 v31; // rax
  __int128 v32; // xmm0
  __m256i v33; // ymm4
  __int64 v34; // rcx
  __int64 v35; // rax
  __int64 v36; // rcx
  unsigned __int8 v37; // bl

  v5 = a2;
  v7 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v7 + 0xC);
  }
  else
  {
    v9 = _InterlockedIncrement64((volatile signed __int64 *)v7);
    if ( (v9 & 0x200000) != 0 )
    {
      sub_1403C6C70((volatile signed __int64 *)v7, v9, (__int64)"CRenderProxy::GetSlotInfo", (__int64)"m_SlotsLock", 1);
    }
  }
  if ( (v5 & 0x80000000) != 0LL )
  {
    goto LABEL_48;
  }
  v10 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v5 >= (int)v10 )
  {
    goto LABEL_48;
  }
  if ( v10 <= v5 )
  {
    __debugbreak();
  }
  v11 = *(__int64 **)(*(_QWORD *)(a1 + 0xD8) + 8 * v5);
  if ( v11 )
  {
    *(_BYTE *)a3 = 1;
    *(_DWORD *)(a3 + 4) = *((unsigned __int16 *)v11 + 0x6C);
    v12 = v11[0xA];
    v13 = 0;
    if ( v12 )
    {
      if ( *(_DWORD *)(v7 + 8) == *(_DWORD *)(a1() + 0x18) )
      {
        ++*(_DWORD *)(v7 + 0xC);
      }
      else
      {
        v14 = _InterlockedIncrement64((volatile signed __int64 *)v7);
        if ( (v14 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            (volatile signed __int64 *)v7,
            v14,
            (__int64)"CRenderProxy::GetSlotId",
            (__int64)"m_SlotsLock",
            1);
        }
      }
      v15 = *(_QWORD *)(a1 + 0xE0);
      v16 = 0;
      v17 = *(_QWORD *)(a1 + 0xD8);
      v18 = (v15 - v17) >> 3;
      if ( v18 )
      {
        while ( 1 )
        {
          if ( (v15 - v17) >> 3 <= v16 )
          {
            __debugbreak();
            v15 = *(_QWORD *)(a1 + 0xE0);
          }
          v17 = *(_QWORD *)(a1 + 0xD8);
          if ( *(_QWORD *)(v17 + 8 * v16) == v12 )
          {
            break;
          }
          if ( ++v16 >= v18 )
          {
            goto LABEL_20;
          }
        }
      }
      else
      {
LABEL_20:
        LODWORD(v16) = 0xFFFFFFFF;
      }
      sub_1402D0950(v7);
    }
    else
    {
      LODWORD(v16) = 0xFFFFFFFF;
    }
    *(_DWORD *)(a3 + 8) = v16;
    v19 = v11[0xB];
    if ( v19 )
    {
      v20 = (void (__fastcall ***)(_QWORD))(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v19 + 0x30LL))(v19);
    }
    else
    {
      v20 = 0;
    }
    if ( *(void (__fastcall ****)(_QWORD))(a3 + 0x78) != v20 )
    {
      if ( v20 )
      {
        (**v20)(v20);
      }
      v21 = *(_QWORD *)(a3 + 0x78);
      if ( v21 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v21 + 8LL))(v21);
      }
      *(_QWORD *)(a3 + 0x78) = v20;
    }
    *(_QWORD *)(a3 + 0x80) = v11[0x10];
    *(_QWORD *)(a3 + 0x90) = v11[0x11];
    sub_140374B90(a3 + 0xB8, v11 + 0x18);
    v22 = *v11;
    if ( *v11 )
    {
      v23 = *(float *)(v22 + 0xC);
      v24 = *(float *)(v22 + 4);
      v25 = *(float *)(v22 + 8);
      v26.m128_u64[0] = *(_QWORD *)(v22 + 0x10);
      epi32 = *(_DWORD *)(v22 + 0x18);
      v28 = *(float *)(v22 + 0x1C);
      v29 = *(float *)v22;
    }
    else
    {
      v26 = (__m128)xmmword_147F6C630;
      v23 = 1.0;
      LODWORD(v28) = _mm_shuffle_ps(v26, v26, 0xFF).m128_u32[0];
      epi32 = _mm_extract_epi32((__m128i)xmmword_147F6C630, 2);
      v24 = 0.0;
      v25 = 0.0;
      v29 = 0.0;
    }
    *(float *)(a3 + 0x18) = v29;
    *(float *)(a3 + 0x1C) = v24;
    *(float *)(a3 + 0x20) = v25;
    *(float *)(a3 + 0x24) = v23;
    *(double *)(a3 + 0x28) = *(double *)v26.m128_u64;
    *(_DWORD *)(a3 + 0x30) = epi32;
    *(float *)(a3 + 0x34) = v28;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v30 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v30 = 0;
    }
    if ( (*((_BYTE *)v11 + 0xDB) & 0x10) == 0 )
    {
      sub_14689D420(v11, v30, 0, a4);
    }
    v31 = v11[1];
    v32 = *((_OWORD *)v11 + 1);
    v33 = *(__m256i *)(v11 + 5);
    *(double *)(a3 + 0x50) = *((double *)v11 + 4);
    *(_QWORD *)(a3 + 0x38) = v31;
    *(_OWORD *)(a3 + 0x40) = v32;
    *(__m256i *)(a3 + 0x58) = v33;
    *(_QWORD *)(a3 + 0x98) = v11[0x12];
    v34 = v11[0x12];
    if ( !v34 )
    {
      goto LABEL_43;
    }
    __asm { vzeroupper }
    if ( (*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)v34 + 0x158LL))(v34, v30) == 8 )
    {
      v35 = v11[0x12];
    }
    else
    {
LABEL_43:
      v35 = 0;
    }
    *(_QWORD *)(a3 + 0x88) = v35;
    *(_QWORD *)(a3 + 0xA0) = v11[0xD];
    *(_QWORD *)(a3 + 0xA8) = v11[0xF];
    v36 = v11[0x12];
    if ( v36 )
    {
      __asm { vzeroupper }
      if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v36 + 0x158LL))(v36) == 0x18 )
      {
        v13 = v11[0x12];
      }
    }
    *(_QWORD *)(a3 + 0xB0) = v13;
    __asm { vzeroupper }
    sub_14056B0B0((_QWORD *)(a3 + 0x10), (unsigned __int8 *)v11 + 0x140);
    v37 = 1;
  }
  else
  {
LABEL_48:
    v37 = 0;
  }
  sub_1402D0950(v7);
  return v37;
}

// --- End Function: sub_14684FBD0 (0x14684FBD0) ---

// --- Function: sub_14684FF40 (0x14684FF40) ---
__int64 __fastcall sub_14684FF40(__int64 a1, __int64 a2, int a3, char a4, int n2)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  float v18; // xmm7_4
  float v19; // xmm13_4
  float v20; // xmm9_4
  float v21; // xmm11_4
  __int64 v22; // r14
  int v23; // ebx
  unsigned int v24; // esi
  signed __int64 v25; // rdx
  __int64 *v26; // r8
  __int64 *v27; // rdx
  __int64 v28; // rax
  float v29; // xmm14_4
  float v30; // xmm10_4
  int n0x3F800000; // xmm1_4
  float v33; // xmm4_4
  float v34; // xmm2_4
  __int64 v35; // rcx
  float v36; // xmm8_4
  float v37; // xmm3_4
  float v38; // xmm5_4
  float v39; // xmm12_4
  float v40; // xmm6_4
  float v41; // xmm5_4
  float v42; // xmm4_4
  __int128 v43; // kr00_16
  int epi32; // esi
  __int64 v46; // rax
  unsigned __int32 v48; // xmm2_4
  float v49; // xmm1_4
  __int64 v50; // rcx
  __int64 v51; // rax
  __int64 v52; // r15
  __int64 v53; // rbx
  float v54; // xmm15_4
  __m128 v55; // xmm13
  float v56; // xmm14_4
  float v57; // xmm11_4
  float v58; // xmm10_4
  float v59; // xmm12_4
  __m128 v60; // kr00_16
  __m128 v63; // xmm1
  float v64; // xmm7_4
  float v65; // xmm5_4
  __m128 v66; // kr00_16
  __m128 v67; // xmm6
  float v70; // xmm8_4
  float v71; // xmm7_4
  __m128 v72; // xmm6
  __m128 v73; // kr00_16
  float v74; // xmm10_4
  float v75; // xmm14_4
  __m128 v76; // kr00_16
  float v77; // xmm15_4
  __m128 v78; // xmm2
  __m128 v79; // kr00_16
  float v80; // xmm13_4
  float v81; // xmm11_4
  float v82; // xmm12_4
  __m128 v83; // xmm1
  __m128 v84; // kr00_16
  __m128 v85; // xmm3
  __m128 v86; // kr00_16
  __m128 v87; // xmm3
  float v88; // xmm2_4
  float v89; // xmm1_4
  __m128 v90; // kr00_16
  __m128 v91; // xmm3
  float v92; // xmm10_4
  float v93; // xmm9_4
  float v94; // xmm8_4
  float v95; // xmm6_4
  float v96; // xmm7_4
  float v97; // xmm5_4
  float v98; // xmm4_4
  float v99; // xmm9_4
  float v100; // xmm7_4
  float v101; // xmm2_4
  float v102; // xmm10_4
  float v103; // xmm6_4
  float v104; // xmm12_4
  float v106; // xmm10_4
  __int64 result; // rax
  __int64 v108; // rcx
  __int64 *v109; // rcx
  __int64 v110; // rax
  unsigned __int64 *v111; // rax
  float v128; // [rsp+38h] [rbp-D0h]
  float v129; // [rsp+38h] [rbp-D0h]
  float v130; // [rsp+3Ch] [rbp-CCh]
  float v131; // [rsp+3Ch] [rbp-CCh]
  float v132; // [rsp+40h] [rbp-C8h]
  float v133; // [rsp+40h] [rbp-C8h]
  float v134; // [rsp+44h] [rbp-C4h]
  float v135; // [rsp+44h] [rbp-C4h]
  float v136; // [rsp+48h] [rbp-C0h]
  float v137; // [rsp+48h] [rbp-C0h]
  float v138; // [rsp+4Ch] [rbp-BCh]
  float v139; // [rsp+4Ch] [rbp-BCh]
  float v140; // [rsp+50h] [rbp-B8h]
  float v141; // [rsp+50h] [rbp-B8h]
  float v142; // [rsp+54h] [rbp-B4h]
  float v143; // [rsp+54h] [rbp-B4h]
  float v144; // [rsp+58h] [rbp-B0h]
  float v145; // [rsp+5Ch] [rbp-ACh]
  float v146; // [rsp+5Ch] [rbp-ACh]
  float v147; // [rsp+60h] [rbp-A8h]
  float v148; // [rsp+60h] [rbp-A8h]
  float v149; // [rsp+64h] [rbp-A4h]
  float v150; // [rsp+64h] [rbp-A4h]
  float v151; // [rsp+68h] [rbp-A0h]
  float v152; // [rsp+68h] [rbp-A0h]
  float v153; // [rsp+6Ch] [rbp-9Ch]
  float v154; // [rsp+70h] [rbp-98h]
  float v155; // [rsp+74h] [rbp-94h]
  float v156; // [rsp+78h] [rbp-90h]
  float v157; // [rsp+7Ch] [rbp-8Ch]
  float v158; // [rsp+80h] [rbp-88h]
  float v159; // [rsp+84h] [rbp-84h]
  float v160; // [rsp+88h] [rbp-80h]
  float v161; // [rsp+8Ch] [rbp-7Ch]
  float v162; // [rsp+90h] [rbp-78h]
  float v163; // [rsp+94h] [rbp-74h]
  float v164; // [rsp+98h] [rbp-70h]
  float v165; // [rsp+9Ch] [rbp-6Ch]
  float v166; // [rsp+A0h] [rbp-68h]
  float v167; // [rsp+A4h] [rbp-64h]
  float v168; // [rsp+A8h] [rbp-60h]
  float v169; // [rsp+ACh] [rbp-5Ch]
  float v170; // [rsp+B0h] [rbp-58h]
  float v171; // [rsp+B4h] [rbp-54h]
  float v172; // [rsp+B8h] [rbp-50h]
  double v173; // [rsp+D0h] [rbp-38h]
  float v174; // [rsp+E8h] [rbp-20h]
  __m128 v175; // [rsp+F8h] [rbp-10h]
  double v176[12]; // [rsp+108h] [rbp+0h] BYREF
  unsigned __int64 v177; // [rsp+168h] [rbp+60h]
  char v178[56]; // [rsp+178h] [rbp+70h] BYREF
  _QWORD v179[3]; // [rsp+1B0h] [rbp+A8h]
  __int128 v180; // [rsp+1C8h] [rbp+C0h]
  __int128 v181; // [rsp+1D8h] [rbp+D0h]
  __int128 v182; // [rsp+1E8h] [rbp+E0h]
  __int128 v183; // [rsp+1F8h] [rbp+F0h]
  __int128 v184; // [rsp+208h] [rbp+100h]
  __int128 v185; // [rsp+218h] [rbp+110h]
  __int128 v186; // [rsp+228h] [rbp+120h]
  __int128 v187; // [rsp+238h] [rbp+130h]
  __int128 v188; // [rsp+248h] [rbp+140h]
  float v189; // [rsp+298h] [rbp+190h]
  float v190; // [rsp+298h] [rbp+190h]

  v188 = v5;
  v187 = v6;
  v186 = v7;
  v185 = v8;
  v184 = v9;
  v183 = v10;
  v182 = v11;
  v181 = v12;
  v180 = v13;
  v18 = 0.0;
  v19 = 0.0;
  v20 = 0.0;
  v144 = 1.0;
  v130 = 0.0;
  v21 = 1.0;
  if ( a3 >= 0 )
  {
    v22 = a1 + 0x208;
    v23 = ((unsigned int)a3 >> 0x11) & 0x3FFF;
    v24 = a3 & 0x1FFFF;
    if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v22 + 0xC);
    }
    else
    {
      v25 = _InterlockedIncrement64((volatile signed __int64 *)v22);
      if ( (v25 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v22,
          v25,
          (__int64)"CRenderProxy::GetSlotLocalTransform",
          (__int64)"m_SlotsLock",
          1);
      }
      v19 = 0.0;
      v20 = 0.0;
      v21 = 1.0;
      v130 = 0.0;
    }
    if ( v24 >= (unsigned __int64)((__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3)
      || (v26 = *(__int64 **)(*(_QWORD *)(a1 + 0xD8) + 8LL * v24)) == 0 )
    {
      v106 = 0.0;
      _XMM8 = 0u;
      v104 = 0.0;
      v103 = 1.0;
      __asm { vunpcklps xmm14, xmm8, xmm10 }
      epi32 = 0;
      goto LABEL_44;
    }
    v27 = (__int64 *)v26[0xA];
    *(_OWORD *)&v179[1] = v14;
    if ( !v27 || a4 )
    {
      v46 = *v26;
      if ( *v26 )
      {
        v21 = *(float *)(v46 + 0xC);
        v19 = *(float *)(v46 + 4);
        v20 = *(float *)(v46 + 8);
        _XMM0 = (__m128)*(unsigned __int64 *)(v46 + 0x10);
        epi32 = *(_DWORD *)(v46 + 0x18);
        v48 = *(_DWORD *)(v46 + 0x1C);
        v49 = *(float *)v46;
        v139 = v21;
      }
      else
      {
        _XMM0 = (__m128)xmmword_147F6C630;
        v48 = _mm_shuffle_ps(_XMM0, _XMM0, 0xFF).m128_u32[0];
        epi32 = _mm_extract_epi32((__m128i)xmmword_147F6C630, 2);
        v139 = 1.0;
        v21 = 1.0;
        v19 = 0.0;
        v20 = 0.0;
        v49 = 0.0;
      }
      __asm { vextractps [rbp+170h+arg_10], xmm0, 1 }
      *(_QWORD *)&_XMM14 = _XMM0.m128_u64[0];
      v173 = *(double *)_XMM0.m128_u64;
      v129 = *(float *)&v173;
      v130 = v49;
      v174 = *(float *)&v48;
      v134 = *(float *)&epi32;
    }
    else
    {
      v28 = *v26;
      if ( *v26 )
      {
        v29 = *(float *)(v28 + 0x1C);
        v21 = *(float *)(v28 + 0xC);
        v19 = *(float *)(v28 + 4);
        v30 = *(float *)v28;
        v20 = *(float *)(v28 + 8);
        v18 = *(float *)(v28 + 0x18);
        v177 = *(_QWORD *)(v28 + 0x10);
        _XMM15 = (unsigned int)v177;
        n0x3F800000 = LODWORD(v29);
        LODWORD(v33) = _mm_shuffle_ps((__m128)v177, (__m128)v177, 0x55).m128_u32[0];
      }
      else
      {
        _XMM15 = 0;
        v33 = 0.0;
        v21 = 1.0;
        v19 = 0.0;
        v30 = 0.0;
        v20 = 0.0;
        v29 = 1.0;
        n0x3F800000 = 0x3F800000;
      }
      v134 = v18;
      v189 = v33;
      v169 = v19;
      v170 = v30;
      v171 = v21;
      v131 = v30;
      v172 = v30;
      v153 = v20;
      v162 = v20;
      v154 = v19;
      v163 = v19;
      v155 = v21;
      v164 = v21;
      v156 = v19;
      v165 = v19;
      v157 = v30;
      v166 = v30;
      v158 = v20;
      v167 = v20;
      v159 = v21;
      v168 = v21;
      v160 = v21;
      v145 = v21;
      v161 = v30;
      v147 = v30;
      v140 = v19;
      v149 = v19;
      v142 = v20;
      v151 = v20;
      v34 = v20;
      do
      {
        v35 = *v27;
        if ( *v27 )
        {
          v36 = *(float *)(v35 + 4);
          v37 = *(float *)(v35 + 8);
          v38 = *(float *)v35;
          v39 = *(float *)(v35 + 0x1C);
          v128 = *(float *)(v35 + 0xC);
          v175.m128_u64[0] = *(_QWORD *)(v35 + 0x10);
          v138 = v36;
          v136 = v37;
          v132 = *(float *)v35;
          v175.m128_i32[2] = *(_DWORD *)(v35 + 0x18);
        }
        else
        {
          v19 = v169;
          v30 = v170;
          v21 = v171;
          v131 = v172;
          v153 = v162;
          v154 = v163;
          v155 = v164;
          v156 = v165;
          v157 = v166;
          v158 = v167;
          v159 = v168;
          v160 = v145;
          v161 = v147;
          v140 = v149;
          v128 = 1.0;
          v36 = 0.0;
          v37 = 0.0;
          v38 = 0.0;
          v175 = (__m128)xmmword_147F6C630;
          v142 = v151;
          v138 = 0.0;
          v136 = 0.0;
          v132 = 0.0;
          v20 = v34;
          v29 = *(float *)&n0x3F800000;
          LODWORD(v39) = _mm_shuffle_ps(v175, v175, 0xFF).m128_u32[0];
        }
        v27 = (__int64 *)v27[0xA];
        v40 = (float)((float)(v36 * v18) - (float)(v37 * v33)) + (float)(*(float *)&_XMM15 * v128);
        v41 = (float)((float)(v37 * *(float *)&_XMM15) - (float)(v18 * v38)) + (float)(v33 * v128);
        v42 = (float)((float)(v33 * v132) - (float)(v36 * *(float *)&_XMM15)) + (float)(v18 * v128);
        v30 = (float)((float)((float)(v138 * v20) - (float)(v136 * v19)) + (float)(v30 * v128)) + (float)(v21 * v132);
        v19 = (float)((float)((float)(v136 * v131) - (float)(v132 * v153)) + (float)(v128 * v154))
            + (float)(v138 * v155);
        v20 = (float)((float)((float)(v132 * v156) - (float)(v138 * v157)) + (float)(v128 * v158))
            + (float)(v136 * v159);
        v21 = (float)((float)((float)(v128 * v160) - (float)(v132 * v161)) - (float)(v138 * v140))
            - (float)(v136 * v142);
        v43 = _XMM15;
        *(float *)&v43 = (float)((float)((float)(*(float *)&_XMM15 + (float)((float)(v36 * v42) - (float)(v41 * v136)))
                                       + (float)((float)(v36 * v42) - (float)(v41 * v136)))
                               * v39)
                       + v175.m128_f32[0];
        _XMM15 = v43;
        v33 = (float)((float)((float)((float)((float)(v40 * v136) - (float)(v42 * v132)) + v189)
                            + (float)((float)(v40 * v136) - (float)(v42 * v132)))
                    * v39)
            + v175.m128_f32[1];
        v18 = (float)((float)((float)((float)((float)(v41 * v132) - (float)(v40 * v138)) + v134)
                            + (float)((float)(v41 * v132) - (float)(v40 * v138)))
                    * v39)
            + v175.m128_f32[2];
        v134 = v18;
        v189 = v33;
        v169 = v19;
        v170 = v30;
        v171 = v21;
        v131 = v30;
        v172 = v30;
        v153 = v20;
        v29 = v39 * v29;
        v34 = v20;
        v162 = v20;
        v154 = v19;
        v163 = v19;
        v155 = v21;
        v164 = v21;
        v156 = v19;
        v165 = v19;
        v157 = v30;
        v166 = v30;
        v158 = v20;
        v167 = v20;
        v159 = v21;
        v168 = v21;
        v160 = v21;
        v145 = v21;
        v161 = v30;
        v147 = v30;
        v140 = v19;
        v149 = v19;
        v142 = v20;
        v151 = v20;
        n0x3F800000 = LODWORD(v29);
      }
      while ( v27 );
      v174 = v29;
      __asm { vunpcklps xmm14, xmm15, xmm4 }
      v129 = *(float *)&v43;
      v139 = v21;
      v130 = v30;
      epi32 = LODWORD(v18);
    }
    v50 = v26[0xB];
    v143 = v19;
    v141 = v20;
    if ( !v50
      || (v51 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v50 + 0x30LL))(v50), (v52 = v51) == 0)
      || !v23
      || (*(int (__fastcall **)(__int64))(*(_QWORD *)v51 + 0x3D8LL))(v51) < v23 )
    {
      v104 = v134;
      v106 = v189;
      *(float *)&_XMM8 = v129;
      v103 = v174;
      goto LABEL_44;
    }
    v53 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v52 + 0x3F8LL))(v52, (unsigned int)(v23 - 1));
    v54 = *(float *)(v53 + 0x14);
    v55 = (__m128)*(unsigned int *)(v53 + 0x10);
    v56 = *(float *)(v53 + 0x30);
    v57 = *(float *)(v53 + 0x38);
    v58 = *(float *)(v53 + 0x18);
    v59 = *(float *)(v53 + 0x34);
    v146 = powf(
             fabs(
               (float)((float)((float)((float)((float)((float)(v55.m128_f32[0] * *(float *)(v53 + 0x24)) * v57)
                                             + (float)((float)(v54 * *(float *)(v53 + 0x28)) * v56))
                                     + (float)((float)(v58 * *(float *)(v53 + 0x20)) * v59))
                             - (float)((float)(v58 * *(float *)(v53 + 0x24)) * v56))
                     - (float)((float)(v55.m128_f32[0] * *(float *)(v53 + 0x28)) * v59))
             - (float)((float)(v54 * *(float *)(v53 + 0x20)) * v57)),
             0.33333334);
    v60 = v55;
    v60.m128_f32[0] = (float)((float)(v55.m128_f32[0] * v55.m128_f32[0]) + (float)(v54 * v54))
                    + (float)((float)(v58 * v58) + 1.1754944e-38);
    _XMM2 = _mm_shuffle_ps(v60, v60, 0);
    __asm { vrsqrtps xmm3, xmm2 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v63 = (__m128)*(unsigned __int64 *)(v53 + 0x10);
    _XMM3.m128_f32[0] = (float)(1.5
                              - (float)((float)((float)(_XMM3.m128_f32[0] * v60.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                      * _XMM3.m128_f32[0];
    v148 = v63.m128_f32[0] * _XMM3.m128_f32[0];
    v152 = _mm_shuffle_ps(v63, v63, 0x55).m128_f32[0] * _XMM3.m128_f32[0];
    v150 = _XMM3.m128_f32[0] * v58;
    v64 = (float)(v58 * v59) - (float)(v54 * v57);
    v65 = (float)(v56 * v54) - (float)(v55.m128_f32[0] * v59);
    v66 = v55;
    v66.m128_f32[0] = (float)(v55.m128_f32[0] * v57) - (float)(v58 * v56);
    v67 = v66;
    v66.m128_f32[0] = (float)((float)(v66.m128_f32[0] * v66.m128_f32[0]) + (float)(v64 * v64))
                    + (float)((float)(v65 * v65) + 1.1754944e-38);
    _XMM0 = _mm_shuffle_ps(v66, v66, 0);
    __asm { vrsqrtps xmm4, xmm0 }
    _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
    v63.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM4.m128_f32[0] * v66.m128_f32[0]) * _XMM4.m128_f32[0]) * 0.5))
                    * _XMM4.m128_f32[0];
    v70 = v64 * v63.m128_f32[0];
    v71 = _XMM3.m128_f32[0] * v58;
    v73 = v67;
    v73.m128_f32[0] = v67.m128_f32[0] * v63.m128_f32[0];
    v72 = v73;
    v74 = v65 * v63.m128_f32[0];
    v75 = (float)(v152 * (float)(v65 * v63.m128_f32[0])) - (float)(v150 * v73.m128_f32[0]);
    v76 = (__m128)LODWORD(v148);
    v77 = (float)(v150 * v70) - (float)(v148 * (float)(v65 * v63.m128_f32[0]));
    v76.m128_f32[0] = (float)(v148 * v72.m128_f32[0]) - (float)(v152 * v70);
    v78 = v76;
    v79 = (__m128)LODWORD(v148);
    v79.m128_f32[0] = (float)(v148 + v72.m128_f32[0]) + v78.m128_f32[0];
    v80 = 0.0;
    v81 = 0.0;
    v82 = 0.0;
    v137 = 0.0;
    v133 = 0.0;
    if ( v79.m128_f32[0] <= 0.0 )
    {
      if ( v148 < v72.m128_f32[0] || v148 < v78.m128_f32[0] )
      {
        if ( v72.m128_f32[0] < v148 || v72.m128_f32[0] < v78.m128_f32[0] )
        {
          if ( v78.m128_f32[0] < v148 || v78.m128_f32[0] < v72.m128_f32[0] )
          {
            goto LABEL_41;
          }
          v90 = v78;
          v90.m128_f32[0] = (float)((float)(v78.m128_f32[0] - v148) - v72.m128_f32[0]) + 1.0;
          v91 = _mm_sqrt_ps(_mm_shuffle_ps(v90, v90, 0));
          v91.m128_f32[0] = _mm_shuffle_ps(v91, v91, 0xFF).m128_f32[0];
          v88 = 0.5 / v91.m128_f32[0];
          v144 = (float)(v70 - v152) * (float)(0.5 / v91.m128_f32[0]);
          v81 = (float)(v77 + v74) * (float)(0.5 / v91.m128_f32[0]);
          v89 = v71 + v75;
          v82 = v91.m128_f32[0] * 0.5;
        }
        else
        {
          v86 = v72;
          v86.m128_f32[0] = (float)((float)(v72.m128_f32[0] - v78.m128_f32[0]) - v148) + 1.0;
          v87 = _mm_sqrt_ps(_mm_shuffle_ps(v86, v86, 0));
          v87.m128_f32[0] = _mm_shuffle_ps(v87, v87, 0xFF).m128_f32[0];
          v88 = 0.5 / v87.m128_f32[0];
          v144 = (float)(v71 - v75) * (float)(0.5 / v87.m128_f32[0]);
          v82 = (float)(v77 + v74) * (float)(0.5 / v87.m128_f32[0]);
          v89 = v152 + v70;
          v81 = v87.m128_f32[0] * 0.5;
        }
        v80 = v89 * v88;
      }
      else
      {
        v84 = (__m128)LODWORD(v148);
        v84.m128_f32[0] = (float)((float)(v148 - v72.m128_f32[0]) - v78.m128_f32[0]) + 1.0;
        v85 = _mm_sqrt_ps(_mm_shuffle_ps(v84, v84, 0));
        v85.m128_f32[0] = _mm_shuffle_ps(v85, v85, 0xFF).m128_f32[0];
        v144 = (float)(v77 - v74) * (float)(0.5 / v85.m128_f32[0]);
        v82 = (float)(v71 + v75) * (float)(0.5 / v85.m128_f32[0]);
        v80 = v85.m128_f32[0] * 0.5;
        v81 = (float)(v152 + v70) * (float)(0.5 / v85.m128_f32[0]);
      }
    }
    else
    {
      v79.m128_f32[0] = v79.m128_f32[0] + 1.0;
      v83 = _mm_sqrt_ps(_mm_shuffle_ps(v79, v79, 0));
      v83.m128_f32[0] = _mm_shuffle_ps(v83, v83, 0xFF).m128_f32[0];
      v144 = v83.m128_f32[0] * 0.5;
      v80 = (float)(v77 - v74) * (float)(0.5 / v83.m128_f32[0]);
      v82 = (float)(v70 - v152) * (float)(0.5 / v83.m128_f32[0]);
      v81 = (float)(v71 - v75) * (float)(0.5 / v83.m128_f32[0]);
    }
    v133 = v82;
    v137 = v81;
LABEL_41:
    v92 = v130;
    v93 = *(float *)(v53 + 0x3C);
    v94 = *(float *)(v53 + 0x2C);
    v95 = *(float *)(v53 + 0x1C);
    v96 = (float)((float)(v143 * v93) - (float)(v141 * v94)) + (float)(v139 * v95);
    v97 = (float)((float)(v141 * v95) - (float)(v130 * v93)) + (float)(v139 * v94);
    v98 = (float)((float)(v130 * v94) - (float)(v143 * v95)) + (float)(v139 * v93);
    v99 = v130 * v81;
    v190 = (float)((float)((float)((float)((float)(v141 * v96) - (float)(v130 * v98)) + v94)
                         + (float)((float)(v141 * v96) - (float)(v130 * v98)))
                 * v174)
         + v189;
    v135 = (float)((float)((float)((float)((float)(v130 * v97) - (float)(v143 * v96)) + *(float *)(v53 + 0x3C))
                         + (float)((float)(v130 * v97) - (float)(v143 * v96)))
                 * v174)
         + v134;
    v100 = v130 * v82;
    v130 = (float)((float)((float)(v143 * v133) - (float)(v141 * v137)) + (float)(v139 * v80)) + (float)(v144 * v130);
    v101 = v99 - (float)(v143 * v80);
    v102 = v92 * v80;
    v19 = (float)((float)((float)(v141 * v80) - v100) + (float)(v139 * v137)) + (float)(v143 * v144);
    v103 = v174 * v146;
    v20 = (float)(v101 + (float)(v139 * v133)) + (float)(v141 * v144);
    v21 = (float)((float)((float)(v139 * v144) - v102) - (float)(v143 * v81)) - (float)(v141 * v82);
    v104 = v135;
    _XMM8 = COERCE_UNSIGNED_INT(
              (float)((float)((float)((float)((float)(v143 * v98) - (float)(v141 * v97)) + *(float *)(v53 + 0x1C))
                            + (float)((float)(v143 * v98) - (float)(v141 * v97)))
                    * v174)
            + v129);
    v106 = v190;
    __asm { vunpcklps xmm14, xmm8, xmm10 }
    epi32 = LODWORD(v135);
LABEL_44:
    sub_1402D0950(v22);
    v18 = v130;
    goto LABEL_46;
  }
  v106 = 0.0;
  _XMM8 = 0u;
  v104 = 0.0;
  v103 = 1.0;
  __asm { vunpcklps xmm14, xmm8, xmm10 }
  epi32 = 0;
LABEL_46:
  if ( n2 )
  {
    result = a2;
    if ( n2 == 2 )
    {
      *(float *)(a2 + 0xC) = v21;
      *(float *)a2 = v18;
      *(float *)(a2 + 4) = v19;
      *(float *)(a2 + 8) = v20;
      *(double *)(a2 + 0x10) = *(double *)&_XMM14;
      *(_DWORD *)(a2 + 0x18) = epi32;
      *(float *)(a2 + 0x1C) = v103;
    }
    else
    {
      *(_DWORD *)(a2 + 0xC) = 0x3F800000;
      *(_QWORD *)a2 = 0;
      *(_DWORD *)(a2 + 8) = 0;
      *(_QWORD *)(a2 + 0x10) = 0;
      *(_DWORD *)(a2 + 0x18) = 0;
      *(_DWORD *)(a2 + 0x1C) = 0x3F800000;
    }
  }
  else
  {
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v108 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v108 = 0;
    }
    v109 = *(__int64 **)(v108 + 0x2A8);
    v110 = *v109;
    v176[0] = v18;
    v176[1] = v19;
    v176[2] = v20;
    v176[3] = v21;
    v176[4] = *(float *)&_XMM8;
    v176[5] = v106;
    v176[6] = v104;
    v176[7] = v103;
    v111 = (unsigned __int64 *)(*(__int64 (__fastcall **)(__int64 *, char *, double *))(v110 + 0x140))(v109, v178, v176);
    _XMM0 = *v111;
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(float *)a2 = *(float *)&_XMM0;
    _XMM1 = v111[1];
    __asm { vcvtpd2ps xmm1, xmm1 }
    *(float *)(a2 + 4) = *(float *)&_XMM1;
    _XMM0 = v111[2];
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(float *)(a2 + 8) = *(float *)&_XMM0;
    _XMM1 = v111[3];
    __asm { vcvtpd2ps xmm1, xmm1 }
    *(float *)(a2 + 0xC) = *(float *)&_XMM1;
    _XMM0 = v111[4];
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(float *)(a2 + 0x10) = *(float *)&_XMM0;
    _XMM1 = v111[5];
    __asm { vcvtpd2ps xmm1, xmm1 }
    *(float *)(a2 + 0x14) = *(float *)&_XMM1;
    _XMM0 = v111[6];
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(float *)(a2 + 0x18) = *(float *)&_XMM0;
    _XMM1 = v111[7];
    __asm { vcvtpd2ps xmm1, xmm1 }
    *(float *)(a2 + 0x1C) = *(float *)&_XMM1;
    return a2;
  }
  return result;
}

// --- End Function: sub_14684FF40 (0x14684FF40) ---

// --- Function: sub_146851080 (0x146851080) ---
__int64 __fastcall sub_146851080(__int64 a1, __int64 a2, int a3, int n2, unsigned __int8 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  double v18; // xmm14_8
  double v20; // xmm15_8
  __int64 v23; // rsi
  unsigned __int64 v24; // r15
  int v25; // edi
  signed __int64 v26; // rdx
  __int64 v27; // r15
  int v28; // eax
  __int64 v29; // rax
  __int64 v30; // rcx
  __int64 v31; // rax
  __int64 *v32; // r15
  __int64 v33; // rcx
  __int64 (__fastcall *v34)(__int64 *, _QWORD); // rax
  __int64 v35; // rax
  float v36; // xmm13_4
  __int128 v37; // xmm12
  float v38; // xmm5_4
  float v39; // xmm6_4
  float v40; // xmm9_4
  __int128 v41; // xmm8
  float v42; // xmm11_4
  float v43; // xmm7_4
  float v44; // xmm10_4
  double v45; // xmm13_8
  __int128 v46; // xmm12
  __int128 v47; // kr00_16
  double v48; // xmm9_8
  __int128 v49; // xmm8
  double v50; // xmm11_8
  double v51; // xmm10_8
  double v52; // xmm0_8
  double v57; // xmm6_8
  double v58; // xmm7_8
  __int128 v59; // xmm5
  double v60; // xmm4_8
  double v65; // xmm10_8
  double v66; // xmm8_8
  double v67; // xmm6_8
  __int128 v68; // kr00_16
  double v69; // xmm11_8
  double v70; // xmm12_8
  __int128 v71; // xmm2
  double v72; // xmm0_8
  double v73; // xmm13_8
  double v74; // xmm9_8
  double v91; // xmm14_8
  double v92; // xmm7_8
  double v93; // xmm5_8
  double v94; // xmm12_8
  double v95; // xmm4_8
  double v96; // xmm11_8
  double v97; // xmm1_8
  double v98; // kr00_8
  double v99; // xmm7_8
  double v100; // xmm9_8
  double v101; // xmm10_8
  double v102; // xmm13_8
  double v103; // xmm5_8
  __int128 v104; // xmm0
  __int64 v105; // rcx
  double v107; // [rsp+38h] [rbp-D0h]
  double v108; // [rsp+40h] [rbp-C8h]
  double v109; // [rsp+48h] [rbp-C0h]
  double v110; // [rsp+50h] [rbp-B8h]
  __int128 v111; // [rsp+58h] [rbp-B0h] BYREF
  double v112; // [rsp+68h] [rbp-A0h]
  double v113[3]; // [rsp+70h] [rbp-98h]
  __int128 v114; // [rsp+88h] [rbp-80h]
  double v115; // [rsp+98h] [rbp-70h]
  double v116; // [rsp+A0h] [rbp-68h]
  double v117; // [rsp+A8h] [rbp-60h]
  double v118; // [rsp+B0h] [rbp-58h]
  double v119; // [rsp+B8h] [rbp-50h]
  char v120; // [rsp+C0h] [rbp-48h] BYREF
  __int128 v121; // [rsp+108h] [rbp+0h]
  __int128 v122; // [rsp+118h] [rbp+10h]
  __int128 v123; // [rsp+128h] [rbp+20h]
  __int128 v124; // [rsp+138h] [rbp+30h]
  __int128 v125; // [rsp+148h] [rbp+40h]
  __int128 v126; // [rsp+158h] [rbp+50h]
  __int128 v127; // [rsp+168h] [rbp+60h]
  __int128 v128; // [rsp+178h] [rbp+70h]
  _OWORD v129[3]; // [rsp+188h] [rbp+80h]

  v122 = v13;
  v121 = v14;
  v18 = 1.0;
  _XMM0 = 0;
  v20 = 0.0;
  __asm
  {
    vmovupd [rsp+1B0h+var_168+8], xmm0
    vmovupd xmm0, cs:xmmword_147F3E170
  }
  _XMM2 = 0;
  __asm { vmovupd [rbp+0B0h+var_130], xmm0 }
  v110 = 1.0;
  v113[0] = 1.0;
  v109 = 0.0;
  v112 = 0.0;
  __asm { vmovupd xmmword ptr [rsp+1B0h+var_148+8], xmm2 }
  if ( a3 >= 0 )
  {
    v23 = a1 + 0x208;
    v24 = a3 & 0x1FFFF;
    v25 = ((unsigned int)a3 >> 0x11) & 0x3FFF;
    if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v23 + 0xC);
    }
    else
    {
      v26 = _InterlockedIncrement64((volatile signed __int64 *)v23);
      if ( (v26 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v23,
          v26,
          (__int64)"CRenderProxy::GetSlotTransform",
          (__int64)"m_SlotsLock",
          1);
      }
    }
    if ( v24 >= (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 )
    {
      goto LABEL_25;
    }
    v27 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v24);
    if ( !v27 )
    {
      goto LABEL_25;
    }
    v28 = sub_146842AB0(a1);
    v29 = sub_146858410(v27, (unsigned int)&v120, v28, a5, 1);
    v111 = *(_OWORD *)v29;
    v112 = *(double *)(v29 + 0x10);
    v113[0] = *(double *)(v29 + 0x18);
    *(_OWORD *)&v113[1] = *(_OWORD *)(v29 + 0x20);
    v114 = *(_OWORD *)(v29 + 0x30);
    v30 = *(_QWORD *)(v27 + 0x58);
    if ( !v30 )
    {
      goto LABEL_25;
    }
    v31 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v30 + 0x30LL))(v30);
    v32 = (__int64 *)v31;
    if ( !v31 || !v25 || (*(int (__fastcall **)(__int64))(*(_QWORD *)v31 + 0x3D8LL))(v31) < v25 )
    {
      goto LABEL_25;
    }
    v33 = *v32;
    v129[1] = v5;
    v129[0] = v6;
    v128 = v7;
    v34 = *(__int64 (__fastcall **)(__int64 *, _QWORD))(v33 + 0x3F8);
    v127 = v8;
    v126 = v9;
    v125 = v10;
    v124 = v11;
    v123 = v12;
    v35 = v34(v32, (unsigned int)(v25 - 1));
    v36 = *(float *)(v35 + 0x10);
    v37 = *(unsigned int *)(v35 + 0x14);
    v38 = *(float *)(v35 + 0x24);
    v39 = *(float *)(v35 + 0x28);
    v40 = *(float *)(v35 + 0x30);
    v41 = *(unsigned int *)(v35 + 0x38);
    v42 = *(float *)(v35 + 0x18);
    v43 = *(float *)(v35 + 0x20);
    v44 = *(float *)(v35 + 0x34);
    v115 = *(float *)(v35 + 0x1C);
    v116 = *(float *)(v35 + 0x2C);
    v117 = *(float *)(v35 + 0x3C);
    v45 = v36;
    *((_QWORD *)&v47 + 1) = *((_QWORD *)&v37 + 1);
    *(double *)&v47 = *(float *)&v37;
    v46 = v47;
    v48 = v40;
    *((_QWORD *)&v47 + 1) = *((_QWORD *)&v41 + 1);
    *(double *)&v47 = *(float *)&v41;
    v49 = v47;
    v50 = v42;
    v51 = v44;
    v52 = pow(
            fabs(
              v38 * v45 * *(double *)&v47
            + v39 * *(double *)&v46 * v48
            + v43 * v50 * v51
            - v38 * v50 * v48
            - v39 * v45 * v51
            - v43 * *(double *)&v46 * *(double *)&v47),
            0.3333333333333333);
    *((_QWORD *)&v47 + 1) = *((_QWORD *)&v46 + 1);
    *(double *)&v47 = *(double *)&v46 * *(double *)&v46 + v45 * v45 + v50 * v50 + 2.225073858507201e-308;
    _XMM1 = v47;
    __asm
    {
      vmovddup xmm2, xmm1
      vsqrtpd xmm3, xmm2
      vunpckhpd xmm3, xmm3, xmm3
    }
    v119 = v52;
    *(double *)&_XMM2 = 1.0 / *(double *)&_XMM3 * *(double *)&v46;
    v118 = 1.0 / *(double *)&_XMM3 * v45;
    v57 = v51 * v50 - *(double *)&v49 * *(double *)&v46;
    *((_QWORD *)&v47 + 1) = *((_QWORD *)&v49 + 1);
    v58 = 1.0 / *(double *)&_XMM3 * v50;
    *(double *)&v47 = *(double *)&v49 * v45 - v48 * v50;
    v59 = v47;
    v60 = v48 * *(double *)&v46 - v51 * v45;
    *(double *)&v47 = *(double *)&v59 * *(double *)&v59 + v57 * v57 + v60 * v60 + 2.225073858507201e-308;
    _XMM1 = v47;
    __asm
    {
      vmovddup xmm3, xmm1
      vsqrtpd xmm0, xmm3
      vunpckhpd xmm0, xmm0, xmm0
    }
    *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
    v65 = v60 * *(double *)&_XMM0;
    v66 = v57 * *(double *)&_XMM0;
    v67 = *(double *)&_XMM2;
    *((_QWORD *)&v68 + 1) = *((_QWORD *)&v59 + 1);
    *(double *)&v68 = *(double *)&v59 * *(double *)&_XMM0;
    v69 = v60 * *(double *)&_XMM0 * *(double *)&_XMM2 - v58 * (*(double *)&v59 * *(double *)&_XMM0);
    v70 = v58 * v66 - v118 * (v60 * *(double *)&_XMM0);
    v71 = COERCE_UNSIGNED_INT64(v118 * (*(double *)&v59 * *(double *)&_XMM0) - *(double *)&_XMM2 * v66);
    v72 = v118 + *(double *)&v59 * *(double *)&_XMM0 + *(double *)&v71;
    v73 = 0.0;
    v74 = 0.0;
    v108 = 0.0;
    v107 = 0.0;
    if ( v72 <= 0.0 )
    {
      if ( v118 < *(double *)&v68 || v118 < *(double *)&v71 )
      {
        if ( *(double *)&v68 < v118 || *(double *)&v68 < *(double *)&v71 )
        {
          if ( *(double *)&v71 < v118 || *(double *)&v71 < *(double *)&v68 )
          {
            goto LABEL_24;
          }
          *((_QWORD *)&v68 + 1) = *((_QWORD *)&v71 + 1);
          *(double *)&v68 = *(double *)&v71 - v118 - *(double *)&v68 + 1.0;
          _XMM2 = v68;
          __asm { vmovddup xmm3, xmm2 }
          __asm
          {
            vsqrtpd xmm5, xmm3
            vunpckhpd xmm5, xmm5, xmm5
          }
          v110 = (v66 - v67) * (0.5 / *(double *)&_XMM5);
          v109 = (v69 + v58) * (0.5 / *(double *)&_XMM5);
          v73 = (v70 + v65) * (0.5 / *(double *)&_XMM5);
          v74 = *(double *)&_XMM5 * 0.5;
        }
        else
        {
          *(double *)&v68 = *(double *)&v68 - *(double *)&v71 - v118 + 1.0;
          _XMM2 = v68;
          __asm { vmovddup xmm3, xmm2 }
          __asm
          {
            vsqrtpd xmm5, xmm3
            vunpckhpd xmm5, xmm5, xmm5
          }
          v110 = (v58 - v69) * (0.5 / *(double *)&_XMM5);
          v109 = (v67 + v66) * (0.5 / *(double *)&_XMM5);
          v74 = (v70 + v65) * (0.5 / *(double *)&_XMM5);
          v73 = *(double *)&_XMM5 * 0.5;
        }
      }
      else
      {
        _XMM2 = COERCE_UNSIGNED_INT64(v118 - *(double *)&v68 - *(double *)&v71 + 1.0);
        __asm { vmovddup xmm3, xmm2 }
        __asm
        {
          vsqrtpd xmm4, xmm3
          vunpckhpd xmm4, xmm4, xmm4
        }
        v110 = (v70 - v65) * (0.5 / *(double *)&_XMM4);
        v109 = *(double *)&_XMM4 * 0.5;
        v74 = (v69 + v58) * (0.5 / *(double *)&_XMM4);
        v73 = (v67 + v66) * (0.5 / *(double *)&_XMM4);
      }
    }
    else
    {
      _XMM0 = COERCE_UNSIGNED_INT64(v72 + 1.0);
      __asm { vmovddup xmm1, xmm0 }
      __asm
      {
        vsqrtpd xmm3, xmm1
        vunpckhpd xmm3, xmm3, xmm3
      }
      v110 = *(double *)&_XMM3 * 0.5;
      v109 = (v70 - v65) * (0.5 / *(double *)&_XMM3);
      v74 = (v66 - v67) * (0.5 / *(double *)&_XMM3);
      v73 = (v58 - v69) * (0.5 / *(double *)&_XMM3);
    }
    v107 = v74;
    v108 = v73;
LABEL_24:
    v91 = v112 * v107;
    v92 = *((double *)&v111 + 1) * v117 - v112 * v116 + v113[0] * v115;
    v93 = v112 * v115 - *(double *)&v111 * v117 + v113[0] * v116;
    v94 = *(double *)&v111 * v109;
    v95 = *(double *)&v111 * v116 - *((double *)&v111 + 1) * v115 + v113[0] * v117;
    v96 = (*((double *)&v111 + 1) * v95 - v112 * v93 + v115 + *((double *)&v111 + 1) * v95 - v112 * v93)
        * *((double *)&v114 + 1)
        + v113[1];
    v97 = (v112 * v92 - *(double *)&v111 * v95 + v116 + v112 * v92 - *(double *)&v111 * v95) * *((double *)&v114 + 1);
    v98 = *(double *)&v111 * v93
        - *((double *)&v111 + 1) * v92
        + v117
        + *(double *)&v111 * v93
        - *((double *)&v111 + 1) * v92;
    v99 = v74 * *(double *)&v111;
    v100 = *((double *)&v111 + 1) * v109;
    v101 = v73 * *(double *)&v111;
    v102 = v73 * *((double *)&v111 + 1);
    v103 = v98 * *((double *)&v114 + 1) + *(double *)&v114;
    *(double *)&v111 = v107 * *((double *)&v111 + 1) - v108 * v112 + v109 * v113[0] + *(double *)&v111 * v110;
    *((double *)&v111 + 1) = v112 * v109 - v99 + v113[0] * v108 + v110 * *((double *)&v111 + 1);
    v112 = v113[0] * v107 + v101 - v100 + v110 * v112;
    v113[1] = v96;
    v113[2] = v97 + v113[2];
    *((double *)&v114 + 1) = *((double *)&v114 + 1) * v119;
    v113[0] = v110 * v113[0] - v94 - v102 - v91;
    *(double *)&v114 = v103;
LABEL_25:
    sub_1402D0950(v23);
    __asm { vmovupd xmm2, xmmword ptr [rsp+1B0h+var_148+8] }
    v18 = v113[0];
    v20 = v112;
  }
  if ( n2 )
  {
    if ( n2 == 2 )
    {
      *(_OWORD *)a2 = v111;
      v104 = v114;
      *(double *)(a2 + 0x18) = v18;
      *(double *)(a2 + 0x10) = v20;
      *(_OWORD *)(a2 + 0x20) = _XMM2;
      *(_OWORD *)(a2 + 0x30) = v104;
    }
    else
    {
      *(_QWORD *)(a2 + 0x18) = 0x3FF0000000000000LL;
      *(_QWORD *)a2 = 0;
      *(_QWORD *)(a2 + 8) = 0;
      *(_QWORD *)(a2 + 0x10) = 0;
      *(_QWORD *)(a2 + 0x20) = 0;
      *(_QWORD *)(a2 + 0x28) = 0;
      *(_QWORD *)(a2 + 0x30) = 0;
      *(_QWORD *)(a2 + 0x38) = 0x3FF0000000000000LL;
    }
  }
  else
  {
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v105 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v105 = 0;
    }
    (*(void (__fastcall **)(_QWORD, __int64, __int128 *))(**(_QWORD **)(v105 + 0x2A8) + 0x140LL))(
      *(_QWORD *)(v105 + 0x2A8),
      a2,
      &v111);
  }
  return a2;
}

// --- End Function: sub_146851080 (0x146851080) ---

// --- Function: sub_146851C40 (0x146851C40) ---
__int64 *__fastcall sub_146851C40(__int64 a1, __int64 *a2, int a3, int a4)
{
  __int64 v4; // rbx
  unsigned __int64 v7; // r15
  __int64 v9; // rdi
  signed __int64 v10; // rdx
  unsigned __int64 v11; // rax
  __int64 v12; // rcx
  __int64 v13; // rcx
  __int64 v14; // rax

  v4 = 0;
  v7 = a3;
  if ( a3 >= 0 )
  {
    v9 = a1 + 0x208;
    if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v9 + 0xC);
    }
    else
    {
      v10 = _InterlockedIncrement64((volatile signed __int64 *)v9);
      if ( (v10 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v9,
          v10,
          (__int64)"CRenderProxy::GetStatObj",
          (__int64)"m_SlotsLock",
          1);
      }
    }
    v11 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
    if ( (int)v7 < (int)v11 )
    {
      if ( v11 <= v7 )
      {
        __debugbreak();
      }
      v12 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v7);
      if ( v12 )
      {
        v13 = *(_QWORD *)(v12 + 0x58);
        if ( v13 )
        {
          v14 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x30LL))(v13);
          v4 = v14;
          if ( v14 )
          {
            if ( a4 >= 0 && a4 < (*(int (__fastcall **)(__int64))(*(_QWORD *)v14 + 0x3D8LL))(v14) )
            {
              v4 = *(_QWORD *)((*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v4 + 0x3F8LL))(
                                 v4,
                                 (unsigned int)a4)
                             + 0xA0);
            }
          }
        }
      }
    }
    sub_1402D0950(v9);
  }
  *a2 = v4;
  if ( v4 )
  {
    (**(void (__fastcall ***)(__int64))v4)(v4);
  }
  return a2;
}

// --- End Function: sub_146851C40 (0x146851C40) ---

// --- Function: sub_146859B20 (0x146859B20) ---
__int64 __fastcall sub_146859B20(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x2B0);
}

// --- End Function: sub_146859B20 (0x146859B20) ---

// --- Function: sub_146863110 (0x146863110) ---
bool __fastcall sub_146863110(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) == 1;
}

// --- End Function: sub_146863110 (0x146863110) ---

// --- Function: sub_146863350 (0x146863350) ---
bool __fastcall sub_146863350(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) == 2;
}

// --- End Function: sub_146863350 (0x146863350) ---

// --- Function: sub_146863490 (0x146863490) ---
__int64 __fastcall sub_146863490(__int64 a1, int a2)
{
  unsigned __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  unsigned __int64 v6; // rax
  unsigned __int8 v7; // di

  v2 = a2;
  v3 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0xC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70((volatile signed __int64 *)v3, v5, (__int64)"CRenderProxy::IsSlotValid", (__int64)"m_SlotsLock", 1);
    }
  }
  if ( (v2 & 0x80000000) != 0LL )
  {
    goto LABEL_11;
  }
  v6 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v2 >= (int)v6 )
  {
    goto LABEL_11;
  }
  if ( v6 <= v2 )
  {
    __debugbreak();
  }
  if ( *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v2) )
  {
    v7 = 1;
  }
  else
  {
LABEL_11:
    v7 = 0;
  }
  sub_1402D0950(v3);
  return v7;
}

// --- End Function: sub_146863490 (0x146863490) ---

// --- Function: sub_146863720 (0x146863720) ---
__int64 __fastcall sub_146863720(__int64 a1, int a2, const char *a3, unsigned int a4, int a5)
{
  __int64 *v9; // r15
  __int64 v10; // rcx
  const char **v11; // rax
  __int64 v13; // rcx
  const char **v14; // rax
  __int64 ppStringObjectData_; // [rsp+60h] [rbp+18h] BYREF

  if ( a3 && *a3 )
  {
    v9 = (__int64 *)(*(__int64 (__fastcall **)(__int64, const char *, _QWORD, _QWORD, int, int))(*(_QWORD *)ptr_to_free_145_0
                                                                                               + 0x10LL))(
                      ptr_to_free_145_0,
                      a3,
                      0x20 * (a4 & 0x10),
                      *(_QWORD *)(a1 + 8),
                      a2,
                      a5);
    if ( !v9 )
    {
      if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
      {
        v10 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        v10 = 0;
      }
      v11 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v10 + 0x78LL))(
                             v10,
                             &ppStringObjectData_);
      sub_14683B580("[%s] Failed to load character [%s] for entity: [%s]", "CRenderProxy::LoadCharacter", a3, *v11);
      DestroyStringObject(&ppStringObjectData_);
    }
    return sub_14688B150(a1, a2, a4, v9);
  }
  else
  {
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v13 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v13 = 0;
    }
    v14 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v13 + 0x78LL))(
                           v13,
                           &ppStringObjectData_);
    sub_14683B580("[%s] Called with empty filename for entity: [%s]", "CRenderProxy::LoadCharacter", *v14);
    DestroyStringObject(&ppStringObjectData_);
    return 0xFFFFFFFFLL;
  }
}

// --- End Function: sub_146863720 (0x146863720) ---

// --- Function: sub_146863AB0 (0x146863AB0) ---
__int64 __fastcall sub_146863AB0(__int64 a1, unsigned int a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  signed __int64 v15; // rdx
  _QWORD *v16; // r14
  __int64 v17; // r13
  __int64 pCZoneSystem; // rdi
  void (__fastcall *v19)(__int64, __int64, __int64, __int64, int); // rbx
  __int64 v20; // r9
  __int64 v21; // rbx
  __int64 v22; // rcx
  double *v23; // rax
  double v24; // xmm8_8
  double v25; // xmm1_8
  double v26; // xmm3_8
  double v27; // xmm5_8
  double v28; // xmm11_8
  double v29; // xmm6_8
  double v30; // xmm14_8
  double v31; // xmm10_8
  double v32; // xmm9_8
  double v33; // xmm4_8
  double v34; // xmm5_8
  double v35; // xmm3_8
  double v36; // xmm15_8
  double v37; // xmm12_8
  double v38; // xmm6_8
  double v39; // xmm8_8
  double v40; // xmm13_8
  double v41; // xmm2_8
  double v42; // xmm10_8
  double v43; // xmm7_8
  double v44; // xmm5_8
  double v45; // xmm3_8
  double v46; // xmm1_8
  __int64 v47; // rax
  __m128 v48; // xmm1
  __int128 v50; // kr00_16
  float v51; // xmm0_4
  float v52; // xmm7_4
  float v53; // xmm5_4
  __m128 v55; // kr00_16
  __int64 v58; // r8
  __int64 v59; // rdx
  int v61; // [rsp+20h] [rbp-158h]
  double v62; // [rsp+30h] [rbp-148h]
  double v63; // [rsp+40h] [rbp-138h] BYREF
  float v64; // [rsp+48h] [rbp-130h]
  double v65; // [rsp+4Ch] [rbp-12Ch]
  float v66; // [rsp+54h] [rbp-124h]
  char v67; // [rsp+58h] [rbp-120h] BYREF
  __int128 v68; // [rsp+A0h] [rbp-D8h]
  __int128 v69; // [rsp+B0h] [rbp-C8h]
  __int128 v70; // [rsp+C0h] [rbp-B8h]
  __int128 v71; // [rsp+D0h] [rbp-A8h]
  __int128 v72; // [rsp+E0h] [rbp-98h]
  __int128 v73; // [rsp+F0h] [rbp-88h]
  __int128 v74; // [rsp+100h] [rbp-78h]
  __int128 v75; // [rsp+110h] [rbp-68h]
  __int128 v76; // [rsp+120h] [rbp-58h]
  __int128 v77; // [rsp+130h] [rbp-48h]
  double v78; // [rsp+180h] [rbp+8h]
  unsigned int v79; // [rsp+188h] [rbp+10h] BYREF
  double v80; // [rsp+190h] [rbp+18h]
  double v81; // [rsp+198h] [rbp+20h]

  v79 = a2;
  v77 = v3;
  v76 = v4;
  v75 = v5;
  v74 = v6;
  v73 = v7;
  v72 = v8;
  v71 = v9;
  v70 = v10;
  v69 = v11;
  v68 = v12;
  sub_146869400(a1, &v79, 0xFFFFFFFFLL);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x208));
    if ( (v15 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v15,
        (__int64)"CRenderProxy::LoadFogVolume",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v79 )
  {
    __debugbreak();
  }
  v16 = (_QWORD *)(a1 + 8);
  v17 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v79);
  if ( *(_QWORD *)(v17 + 0x90) )
  {
    pCZoneSystem = ::pCZoneSystem;
    v19 = *(void (__fastcall **)(__int64, __int64, __int64, __int64, int))(*(_QWORD *)::pCZoneSystem + 0x468LL);
    LOBYTE(v61) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(*v16 & 0xFFFFFFFFFFFFLL) + 0x700LL))(*v16 & 0xFFFFFFFFFFFFLL);
    LOBYTE(v20) = 1;
    v19(pCZoneSystem, 0xD3F3, *(_QWORD *)(v17 + 0x90) + 0x28LL, v20, v61);
    sub_14687EE10(v17);
  }
  v21 = 0;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v22 = *v16 & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    LODWORD(v22) = 0;
  }
  v23 = (double *)sub_1468DF6F0(v22, (unsigned int)&v67, 2, 0, 0);
  v24 = *v23;
  v25 = v23[3];
  v26 = v23[1];
  v27 = v23[2];
  v28 = v23[4];
  v29 = v27 + v27;
  v30 = (v26 + v26) * v25;
  v31 = (v26 + v26) * v26;
  v32 = (v26 + v26) * *v23;
  v33 = (v27 + v27) * v27;
  v34 = v23[7];
  v78 = 1.0 - (v24 + v24) * v24;
  v81 = (v24 + v24) * v25;
  v80 = v29 * v26;
  v35 = v29 * v25;
  v36 = (1.0 - v31 - v33) * v34;
  v37 = v29 * v24;
  v38 = v23[5];
  v39 = (v35 + v32) * v34;
  v40 = (v32 - v35) * v34;
  v41 = v23[7];
  v62 = v31;
  v42 = (v37 + v30) * v34;
  v43 = (v78 - v33) * v34;
  v44 = (v80 - v81) * v34;
  v45 = (v80 + v81) * v41;
  v46 = v23[6];
  *(double *)(a3 + 0x58) = (v78 - v62) * v41;
  *(double *)(a3 + 8) = v36;
  *(double *)(a3 + 0x10) = v40;
  *(double *)(a3 + 0x18) = v42;
  *(double *)(a3 + 0x20) = v28;
  *(double *)(a3 + 0x28) = v39;
  *(double *)(a3 + 0x30) = v43;
  *(double *)(a3 + 0x38) = v44;
  *(double *)(a3 + 0x40) = v38;
  *(double *)(a3 + 0x48) = (v37 - v30) * v41;
  *(double *)(a3 + 0x50) = v45;
  *(double *)(a3 + 0x60) = v46;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v47 = *v16 & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v47 = 0;
  }
  *(_DWORD *)(a3 + 0x68) = *(_DWORD *)(v47 + 0x2B0);
  *(_QWORD *)(v17 + 0x90) = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)gEnv + 0x328LL))(
                              gEnv,
                              6,
                              a3);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v21 = *v16 & 0xFFFFFFFFFFFFLL;
  }
  sub_146872130(v17, v21, 0);
  v48 = (__m128)*(unsigned __int64 *)(a3 + 0x98);
  v50 = 0xBF000000;
  *(float *)&v50 = -0.5 * *(float *)(a3 + 0x98);
  _XMM4 = v50;
  _mm_shuffle_ps(v48, v48, 0x55);
  v51 = *(float *)(a3 + 0xA0);
  v52 = v51 * 0.5;
  v53 = -0.5 * v51;
  v55 = v48;
  v55.m128_f32[0] = v48.m128_f32[0] * 0.5;
  _XMM8 = v55;
  __asm { vunpcklps xmm0, xmm4, xmm2 }
  v63 = *(double *)&_XMM0;
  __asm { vunpcklps xmm0, xmm8, xmm6 }
  LOBYTE(v58) = 1;
  v65 = *(double *)&_XMM0;
  v64 = v53;
  v66 = v52;
  sub_146888DC0(a1, &v63, v58);
  LOBYTE(v59) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_14686E5E0(a1, v59);
  sub_14687AB70(a1, v17);
  sub_1402D0950(a1 + 0x208);
  return v79;
}

// --- End Function: sub_146863AB0 (0x146863AB0) ---

// --- Function: sub_146864BF0 (0x146864BF0) ---
__int64 __fastcall sub_146864BF0(__int64 a1, unsigned int a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  signed __int64 v14; // rdx
  __int64 v15; // r13
  __int64 v16; // rsi
  __int64 v17; // rcx
  char v18; // al
  __int64 v19; // rcx
  double v20; // xmm12_8
  double v21; // xmm15_8
  double v22; // xmm8_8
  double v23; // xmm13_8
  double v24; // xmm4_8
  double v25; // xmm14_8
  double v26; // xmm2_8
  __int64 v27; // rax
  __int64 v28; // rbx
  __int64 v29; // rdx
  __int64 v30; // rdx
  double v32; // [rsp+38h] [rbp-D0h] BYREF
  double v33; // [rsp+40h] [rbp-C8h]
  double v34; // [rsp+48h] [rbp-C0h]
  double v35; // [rsp+50h] [rbp-B8h]
  __int64 v36; // [rsp+58h] [rbp-B0h]
  __int64 v37; // [rsp+60h] [rbp-A8h]
  __int64 v38; // [rsp+68h] [rbp-A0h]
  double v39; // [rsp+70h] [rbp-98h]
  _QWORD v40[13]; // [rsp+78h] [rbp-90h] BYREF
  int v41; // [rsp+E0h] [rbp-28h]
  __int128 v42; // [rsp+108h] [rbp+0h]
  __int128 v43; // [rsp+118h] [rbp+10h]
  __int128 v44; // [rsp+128h] [rbp+20h]
  __int128 v45; // [rsp+138h] [rbp+30h]
  __int128 v46; // [rsp+148h] [rbp+40h]
  __int128 v47; // [rsp+158h] [rbp+50h]
  __int128 v48; // [rsp+168h] [rbp+60h]
  __int128 v49; // [rsp+178h] [rbp+70h]
  __int128 v50; // [rsp+188h] [rbp+80h]
  __int128 v51; // [rsp+198h] [rbp+90h]
  double v52; // [rsp+1E8h] [rbp+E0h]
  unsigned int v53; // [rsp+1F0h] [rbp+E8h] BYREF
  __int64 v54; // [rsp+1F8h] [rbp+F0h]

  v54 = a3;
  v53 = a2;
  v51 = v3;
  v50 = v4;
  v49 = v5;
  v48 = v6;
  v47 = v7;
  v46 = v8;
  v45 = v9;
  v44 = v10;
  v43 = v11;
  v42 = v12;
  sub_146869400(a1, &v53, 0xFFFFFFFFLL);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v14 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x208));
    if ( (v14 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v14,
        (__int64)"CRenderProxy::LoadGeomCache",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v53 )
  {
    __debugbreak();
  }
  v15 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v53);
  sub_14687EE10(v15);
  v16 = 0;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v17 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v17 = 0;
  }
  v18 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x50LL))(v17);
  sub_140507D80(v40, 0x18, v18 == 0);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v19 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    LODWORD(v19) = 0;
  }
  sub_1468DF6F0(v19, (unsigned int)&v32, 2, 0, 0);
  v20 = (v33 + v33) * v35;
  v21 = (v33 + v33) * v33;
  v22 = (v33 + v33) * v32;
  v23 = (v34 + v34) * v33;
  v24 = (v34 + v34) * v32;
  v25 = (v32 + v32) * v35;
  v52 = 1.0 - (v32 + v32) * v32;
  v26 = (v34 + v34) * v35;
  v40[4] = v36;
  v40[8] = v37;
  v40[0xC] = v38;
  *(double *)&v40[1] = (1.0 - v21 - (v34 + v34) * v34) * v39;
  *(double *)&v40[2] = (v22 - v26) * v39;
  *(double *)&v40[3] = (v24 + v20) * v39;
  *(double *)&v40[5] = (v26 + v22) * v39;
  *(double *)&v40[6] = (v52 - (v34 + v34) * v34) * v39;
  *(double *)&v40[7] = (v23 - v25) * v39;
  *(double *)&v40[9] = (v24 - v20) * v39;
  *(double *)&v40[0xA] = (v23 + v25) * v39;
  *(double *)&v40[0xB] = (v52 - v21) * v39;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v27 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v27 = 0;
  }
  v41 = *(_DWORD *)(v27 + 0x2B0);
  v28 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD *))(*(_QWORD *)gEnv + 0x328LL))(gEnv, 0x18, v40);
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v28 + 0x1E8LL))(v28, v54);
  *(_QWORD *)(v15 + 0x90) = v28;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v16 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  sub_146872130(v15, v16, 0);
  LOBYTE(v29) = 1;
  *(_WORD *)(v15 + 0xD8) = 1;
  sub_146861940(a1, v29);
  LOBYTE(v30) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_14686E5E0(a1, v30);
  sub_14687AB70(a1, v15);
  sub_1405099A0(v40);
  sub_1402D0950(a1 + 0x208);
  return v53;
}

// --- End Function: sub_146864BF0 (0x146864BF0) ---

// --- Function: sub_1468652F0 (0x1468652F0) ---
__int64 __fastcall sub_1468652F0(__int64 a1, int a2, __int64 a3, _BYTE *a4)
{
  void (***v5)(void); // rbx
  float *v8; // rbp
  __int64 v9; // rax
  __int64 v10; // rsi
  void (***v11)(void); // rdi
  void (***v12)(void); // rcx
  unsigned int v13; // edi
  void (***v15)(void); // [rsp+50h] [rbp-38h] BYREF
  void (***v16)(void); // [rsp+58h] [rbp-30h] BYREF
  void (***v17)(void); // [rsp+A8h] [rbp+20h] BYREF

  v5 = 0;
  (*(void (__fastcall **)(__int64, void (****)(void)))(*(_QWORD *)gEnv + 0xA8LL))(gEnv, &v17);
  v8 = 0;
  if ( a4 && *a4 )
  {
    v9 = ((__int64 (__fastcall *)(void (***)(void), _BYTE *))(*v17)[0x85])(v17, a4);
    v10 = v9;
    if ( v9 && (v11 = *(void (****)(void))(v9 + 0xA0)) != 0 )
    {
      v8 = (float *)(v9 + 0x10);
      v12 = v17;
      if ( (*(_BYTE *)(v9 + 0xBC) & 1) != 0 )
      {
        v8 = 0;
      }
      if ( v17 )
      {
        v5 = v17;
        (**v17)();
        v12 = v17;
        v11 = *(void (****)(void))(v10 + 0xA0);
      }
      if ( v12 != v11 )
      {
        if ( v11 )
        {
          ((void (__fastcall *)(void (***)(void)))**v11)(v11);
          v12 = v17;
        }
        if ( v12 )
        {
          ((void (__fastcall *)(void (***)(void)))(*v12)[1])(v12);
        }
        v12 = v11;
        v17 = v11;
      }
    }
    else
    {
      v12 = v17;
      if ( v17 )
      {
        ((void (__fastcall *)(void (***)(void)))(*v17)[1])(v17);
        v12 = 0;
        v17 = 0;
        v15 = 0;
        goto LABEL_20;
      }
    }
  }
  else
  {
    v12 = v17;
  }
  v15 = v5;
  if ( v5 )
  {
    ((void (__fastcall *)(void (***)(void)))**v5)(v5);
    v12 = v17;
  }
LABEL_20:
  v16 = v12;
  if ( v12 )
  {
    ((void (__fastcall *)(void (***)(void)))**v12)(v12);
  }
  v13 = sub_1468657A0(a1, a2, &v16, &v15, v8);
  if ( v5 )
  {
    ((void (__fastcall *)(void (***)(void)))(*v5)[1])(v5);
  }
  if ( v17 )
  {
    ((void (__fastcall *)(void (***)(void)))(*v17)[1])(v17);
  }
  return v13;
}

// --- End Function: sub_1468652F0 (0x1468652F0) ---

// --- Function: sub_1468654D0 (0x1468654D0) ---
__int64 __fastcall sub_1468654D0(__int64 a1, unsigned int a2, _QWORD *a3, _QWORD *a4)
{
  __int64 v6; // rdi
  volatile signed __int64 *v7; // r15
  signed __int64 v8; // rdx
  unsigned int v9; // r14d
  __int64 v10; // rbp
  __int64 v11; // rcx
  __int64 v12; // rbx
  __int64 v13; // rbx
  __int64 v14; // rcx
  __int64 v15; // rdi
  __int64 v16; // rax
  volatile signed __int32 *v17; // rdi
  void (__fastcall ***v18)(_QWORD); // rcx
  __int64 *v19; // rdi
  __int64 v20; // rax
  void (__fastcall *v21)(__int64 *, void (__fastcall ****)(_QWORD)); // r13
  void (__fastcall ***v22)(_QWORD); // rcx
  __int64 *v23; // rdi
  __int64 v24; // rax
  void (__fastcall *v25)(__int64 *, void (__fastcall ****)(_QWORD)); // r13
  __int64 v26; // rdx
  __int64 *v28; // [rsp+30h] [rbp-58h]
  void (__fastcall ***v29)(_QWORD, __int64); // [rsp+38h] [rbp-50h] BYREF
  void (__fastcall ***v30)(_QWORD); // [rsp+40h] [rbp-48h] BYREF
  void (__fastcall ***v31)(_QWORD); // [rsp+48h] [rbp-40h] BYREF
  unsigned int v33; // [rsp+98h] [rbp+10h] BYREF

  v33 = a2;
  v6 = a1;
  sub_146869400(a1, &v33, 0xFFFFFFFFLL);
  v7 = (volatile signed __int64 *)(v6 + 0x208);
  if ( *(_DWORD *)(v6 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x214);
  }
  else
  {
    v8 = _InterlockedIncrement64(v7);
    if ( (v8 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(v6 + 0x208),
        v8,
        (__int64)"CRenderProxy::LoadGeometry",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  v9 = v33;
  if ( (__int64)(*(_QWORD *)(v6 + 0xE0) - *(_QWORD *)(v6 + 0xD8)) >> 3 <= (unsigned __int64)(int)v33 )
  {
    __debugbreak();
  }
  v10 = *(_QWORD *)(*(_QWORD *)(v6 + 0xD8) + 8LL * (int)v33);
  v11 = *(_QWORD *)(v10 + 0x68);
  if ( v11
    && (*(_WORD *)(v10 + 0xD8) & 0x100) == 0
    && (v12 = *a3, (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x10LL))(v11) == v12)
    && (v13 = *a4,
        (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v10 + 0x68) + 0x20LL))(*(_QWORD *)(v10 + 0x68)) == v13) )
  {
    sub_1402D0950(v6 + 0x208);
    if ( *a3 )
    {
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
    }
    *a3 = 0;
    if ( *a4 )
    {
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a4 + 8LL))(*a4);
    }
  }
  else
  {
    sub_14687EE10(v10);
    if ( *a3 || *a4 )
    {
      v28 = (__int64 *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)gEnv + 0x358LL))(gEnv, &v29);
      v14 = 0;
      v15 = *v28;
      v16 = 0;
      if ( *v28 )
      {
        v16 = allocWithoutProfiling(0x18u);
        if ( v16 )
        {
          *(_DWORD *)(v16 + 8) = 1;
          *(_QWORD *)v16 = off_147F48C10;
          *(_DWORD *)(v16 + 0xC) = 1;
          *(_QWORD *)(v16 + 0x10) = v15;
        }
        else
        {
          v16 = 0;
        }
        *v28 = 0;
        v14 = v15;
      }
      v17 = *(volatile signed __int32 **)(v10 + 0x70);
      *(_QWORD *)(v10 + 0x68) = v14;
      *(_QWORD *)(v10 + 0x70) = v16;
      if ( v17 )
      {
        if ( _InterlockedExchangeAdd(v17 + 2, 0xFFFFFFFF) == 1 )
        {
          (**(void (__fastcall ***)(volatile signed __int32 *))v17)(v17);
          if ( _InterlockedExchangeAdd(v17 + 3, 0xFFFFFFFF) == 1 )
          {
            (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v17 + 8LL))(v17);
          }
        }
        v9 = v33;
      }
      if ( v29 )
      {
        (**v29)(v29, 1);
      }
      v18 = (void (__fastcall ***)(_QWORD))*a3;
      v19 = *(__int64 **)(v10 + 0x68);
      v20 = *v19;
      v30 = v18;
      v21 = *(void (__fastcall **)(__int64 *, void (__fastcall ****)(_QWORD)))(v20 + 0x28);
      if ( v18 )
      {
        (**v18)(v18);
      }
      v21(v19, &v30);
      v22 = (void (__fastcall ***)(_QWORD))*a4;
      v23 = *(__int64 **)(v10 + 0x68);
      v24 = *v23;
      v31 = v22;
      v25 = *(void (__fastcall **)(__int64 *, void (__fastcall ****)(_QWORD)))(v24 + 0x30);
      if ( v22 )
      {
        (**v22)(v22);
      }
      v25(v23, &v31);
      v6 = a1;
    }
    *(_WORD *)(v10 + 0xD8) = *(_WORD *)(v10 + 0xD8) & 0xFEFE | 1;
    sub_14689D250(v6, v10);
    LOBYTE(v26) = 1;
    sub_146861940(v6, v26);
    sub_14687AB70(v6, v10);
    sub_1402D0950((__int64)v7);
    if ( *a3 )
    {
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
    }
    *a3 = 0;
    if ( *a4 )
    {
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a4 + 8LL))(*a4);
    }
  }
  *a4 = 0;
  return v9;
}

// --- End Function: sub_1468654D0 (0x1468654D0) ---

// --- Function: sub_146865DF0 (0x146865DF0) ---
__int64 __fastcall sub_146865DF0(__int64 a1, int a2, _QWORD *a3)
{
  void (__fastcall ***v4)(_QWORD); // rcx
  __int64 result; // rax
  unsigned int v8; // edi
  void (__fastcall ***v9)(_QWORD); // [rsp+30h] [rbp-28h] BYREF
  __int64 v10; // [rsp+70h] [rbp+18h] BYREF

  v4 = (void (__fastcall ***)(_QWORD))*a3;
  v10 = 0;
  v9 = v4;
  if ( v4 )
  {
    (**v4)(v4);
  }
  result = sub_1468657A0(a1, a2, &v9, &v10, 0);
  v8 = result;
  if ( *a3 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
    result = v8;
  }
  *a3 = 0;
  return result;
}

// --- End Function: sub_146865DF0 (0x146865DF0) ---

// --- Function: sub_146865E70 (0x146865E70) ---
__int64 __fastcall sub_146865E70(__int64 a1, int a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  volatile signed __int64 *v15; // rbx
  signed __int64 v16; // rdx
  int v17; // ebp
  __int64 v18; // rax
  __int64 v19; // r13
  __int64 v20; // r15
  __int64 v21; // rcx
  double v22; // xmm12_8
  double v23; // xmm15_8
  double v24; // xmm8_8
  double v25; // xmm13_8
  double v26; // xmm4_8
  double v27; // xmm14_8
  double v28; // xmm9_8
  double v29; // xmm2_8
  double v30; // xmm10_8
  double v31; // xmm11_8
  double v32; // xmm8_8
  double v33; // xmm5_8
  double v34; // xmm6_8
  double v35; // xmm1_8
  double v36; // xmm3_8
  double v37; // xmm4_8
  __int64 v38; // rax
  signed __int64 v39; // r14
  unsigned __int64 v40; // rax
  __int64 v41; // r14
  __int64 v42; // r14
  __int64 v43; // r8
  __int64 v44; // rdx
  double v46; // [rsp+30h] [rbp-118h] BYREF
  double v47; // [rsp+38h] [rbp-110h]
  double v48; // [rsp+40h] [rbp-108h]
  double v49; // [rsp+48h] [rbp-100h]
  double v50; // [rsp+50h] [rbp-F8h]
  double v51; // [rsp+58h] [rbp-F0h]
  double v52; // [rsp+60h] [rbp-E8h]
  double v53; // [rsp+68h] [rbp-E0h]
  __int128 v54; // [rsp+70h] [rbp-D8h]
  __int128 v55; // [rsp+80h] [rbp-C8h]
  __int128 v56; // [rsp+90h] [rbp-B8h]
  __int128 v57; // [rsp+A0h] [rbp-A8h]
  __int128 v58; // [rsp+B0h] [rbp-98h]
  __int128 v59; // [rsp+C0h] [rbp-88h]
  __int128 v60; // [rsp+D0h] [rbp-78h]
  __int128 v61; // [rsp+E0h] [rbp-68h]
  __int128 v62; // [rsp+F0h] [rbp-58h]
  __int128 v63; // [rsp+100h] [rbp-48h]
  double v64; // [rsp+150h] [rbp+8h]
  int v65; // [rsp+158h] [rbp+10h] BYREF

  v65 = a2;
  v63 = v3;
  v62 = v4;
  v61 = v5;
  v60 = v6;
  v59 = v7;
  v58 = v8;
  v57 = v9;
  v56 = v10;
  v55 = v11;
  v54 = v12;
  sub_146869400(a1, &v65, 0xFFFFFFFFLL);
  v15 = (volatile signed __int64 *)(a1 + 0x208);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v16 = _InterlockedIncrement64(v15);
    if ( (v16 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v16,
        (__int64)"CRenderProxy::LoadHoloProjectorVolume",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  v17 = v65;
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)v65 )
  {
    __debugbreak();
  }
  v18 = *(_QWORD *)(a1 + 0xD8);
  v19 = *(_QWORD *)(v18 + 8LL * v65);
  if ( *(_QWORD *)(v19 + 0x90) )
  {
    sub_14687EE10(*(_QWORD *)(v18 + 8LL * v65));
  }
  v20 = 0;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v21 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    LODWORD(v21) = 0;
  }
  sub_1468DF6F0(v21, (unsigned int)&v46, 2, 0, 0);
  v22 = (v47 + v47) * v49;
  v23 = (v47 + v47) * v47;
  v24 = (v47 + v47) * v46;
  v25 = (v48 + v48) * v47;
  v26 = (v48 + v48) * v46;
  v27 = (v46 + v46) * v49;
  v28 = v53;
  v64 = 1.0 - (v46 + v46) * v46;
  v29 = (v48 + v48) * v49;
  v30 = (v24 - v29) * v53;
  v31 = (1.0 - v23 - (v48 + v48) * v48) * v53;
  v32 = (v29 + v24) * v53;
  v33 = (v26 + v22) * v53;
  v34 = (v64 - (v48 + v48) * v48) * v53;
  v35 = v26 - v22;
  v36 = (v25 - v27) * v53;
  v37 = (v25 + v27) * v53;
  *(double *)(a3 + 0x20) = v50;
  *(double *)(a3 + 0x40) = v51;
  *(double *)(a3 + 0x60) = v52;
  *(double *)(a3 + 8) = v31;
  *(double *)(a3 + 0x10) = v30;
  *(double *)(a3 + 0x18) = v33;
  *(double *)(a3 + 0x28) = v32;
  *(double *)(a3 + 0x30) = v34;
  *(double *)(a3 + 0x38) = v36;
  *(double *)(a3 + 0x48) = v35 * v28;
  *(double *)(a3 + 0x50) = v37;
  *(double *)(a3 + 0x58) = (v64 - v23) * v28;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v38 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v38 = 0;
  }
  *(_DWORD *)(a3 + 0x68) = *(_DWORD *)(v38 + 0x2B0);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v39 = _InterlockedIncrement64(v15);
    if ( (v39 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v39,
        (__int64)"CRenderProxy::GetVisualState",
        (__int64)"m_SlotsLock",
        1);
    }
    v17 = v65;
  }
  if ( v17 < 0 )
  {
    goto LABEL_26;
  }
  v40 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( v17 >= (int)v40 )
  {
    goto LABEL_26;
  }
  if ( v40 <= v17 )
  {
    __debugbreak();
  }
  v41 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * v17);
  if ( v41 )
  {
    v42 = v41 + 0xA8;
  }
  else
  {
LABEL_26:
    v42 = 0;
  }
  sub_1402D0950(a1 + 0x208);
  *(_BYTE *)(a3 + 0xC8) = *(_BYTE *)v42;
  *(_BYTE *)(a3 + 0xC9) = *(_BYTE *)(v42 + 1);
  *(_BYTE *)(a3 + 0xCA) = *(_BYTE *)(v42 + 2);
  *(_BYTE *)(a3 + 0xCB) = *(_BYTE *)(v42 + 3);
  *(_BYTE *)(a3 + 0xCC) = *(_BYTE *)(v42 + 4);
  *(_BYTE *)(a3 + 0xCD) = *(_BYTE *)(v42 + 5);
  *(_BYTE *)(a3 + 0xCE) = *(_BYTE *)(v42 + 6);
  *(_BYTE *)(a3 + 0xCF) = *(_BYTE *)(v42 + 7);
  *(_BYTE *)(a3 + 0xD0) = *(_BYTE *)(v42 + 8);
  *(_DWORD *)(a3 + 0xD1) = *(_DWORD *)(v42 + 9);
  *(_DWORD *)(a3 + 0xD5) = *(_DWORD *)(v42 + 0xD);
  *(_BYTE *)(a3 + 0xD9) = *(_BYTE *)(v42 + 0x11);
  *(_QWORD *)(v19 + 0x90) = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)gEnv + 0x328LL))(
                              gEnv,
                              0x11,
                              a3);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v20 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  sub_146872130(v19, v20, 0);
  LOBYTE(v43) = 1;
  sub_146888DC0(a1, a3 + 0x98, v43);
  LOBYTE(v44) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_14686E5E0(a1, v44);
  sub_14687AC50(a1, (unsigned int)v17);
  sub_1402D0950(a1 + 0x208);
  return (unsigned int)v17;
}

// --- End Function: sub_146865E70 (0x146865E70) ---

// --- Function: sub_1468671E0 (0x1468671E0) ---
__int64 __fastcall sub_1468671E0(__int64 a1, unsigned int a2, __int64 a3, unsigned __int16 a4, unsigned int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  volatile signed __int64 *v18; // rbx
  signed __int64 v19; // rdx
  __int64 v20; // r14
  __int64 v21; // r9
  __int64 v22; // r12
  __int64 v23; // rdx
  __int64 v24; // rcx
  __int64 v25; // rcx
  _BYTE *v26; // rax
  __int64 v27; // rdi
  __int64 v28; // rcx
  char n0xFF; // al
  double v30; // xmm8_8
  double v31; // xmm1_8
  double v32; // xmm3_8
  double v33; // xmm5_8
  double v34; // xmm11_8
  double v35; // xmm6_8
  double v36; // xmm14_8
  double v37; // xmm10_8
  double v38; // xmm9_8
  double v39; // xmm4_8
  double v40; // xmm5_8
  double v41; // xmm3_8
  double v42; // xmm15_8
  double v43; // xmm12_8
  double v44; // xmm6_8
  double v45; // xmm8_8
  double v46; // xmm13_8
  double v47; // xmm2_8
  double v48; // xmm10_8
  double v49; // xmm7_8
  double v50; // xmm5_8
  double v51; // xmm3_8
  double v52; // xmm1_8
  __int64 v53; // rax
  double v54; // xmm1_8
  __int64 v55; // rax
  __int64 v56; // rdx
  _BYTE *v57; // rcx
  __int64 n0x3E8; // rdx
  __int64 v59; // rdi
  void (__fastcall *v60)(__int64, _QWORD); // rbx
  __int64 v61; // rcx
  double v62; // xmm8_8
  double v63; // xmm3_8
  double v64; // xmm1_8
  double v65; // xmm5_8
  __int64 *v66; // rcx
  double v67; // xmm10_8
  __int64 v68; // rax
  double v69; // xmm6_8
  double v70; // xmm12_8
  double v71; // xmm14_8
  double v72; // xmm13_8
  double v73; // xmm9_8
  double v74; // xmm11_8
  double v75; // xmm3_8
  double v76; // kr00_8
  double v77; // xmm5_8
  double v78; // xmm0_8
  double v79; // xmm1_8
  __int64 v80; // rcx
  unsigned int v81; // edi
  __int128 v83; // [rsp+38h] [rbp-D0h] BYREF
  __m256 v84; // [rsp+48h] [rbp-C0h] BYREF
  __m256i v85; // [rsp+68h] [rbp-A0h]
  __m256 v86; // [rsp+88h] [rbp-80h]
  double v87; // [rsp+A8h] [rbp-60h]
  double v88; // [rsp+B0h] [rbp-58h]
  double v89; // [rsp+B8h] [rbp-50h]
  __int128 v90; // [rsp+C0h] [rbp-48h] BYREF
  double v91; // [rsp+D0h] [rbp-38h]
  _BYTE v92[88]; // [rsp+D8h] [rbp-30h] BYREF
  __int128 v93; // [rsp+138h] [rbp+30h]
  __int128 v94; // [rsp+148h] [rbp+40h]
  __int128 v95; // [rsp+158h] [rbp+50h]
  __int128 v96; // [rsp+168h] [rbp+60h]
  __int128 v97; // [rsp+178h] [rbp+70h]
  __int128 v98; // [rsp+188h] [rbp+80h]
  __int128 v99; // [rsp+198h] [rbp+90h]
  __int128 v100; // [rsp+1A8h] [rbp+A0h]
  __int128 v101; // [rsp+1B8h] [rbp+B0h]
  __int128 v102; // [rsp+1C8h] [rbp+C0h]
  double v103; // [rsp+218h] [rbp+110h] BYREF
  unsigned int v104; // [rsp+220h] [rbp+118h] BYREF
  unsigned __int16 v105; // [rsp+230h] [rbp+128h]

  v105 = a4;
  v104 = a2;
  sub_146869400(a1, &v104, a5);
  v18 = (volatile signed __int64 *)(a1 + 0x208);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v19 = _InterlockedIncrement64(v18);
    if ( (v19 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v19,
        (__int64)"CRenderProxy::LoadLight",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v104 )
  {
    __debugbreak();
  }
  v20 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v104);
  v22 = 0;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v23 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v23 = 0;
  }
  v102 = v5;
  LOBYTE(v21) = 1;
  v101 = v6;
  v100 = v7;
  v99 = v8;
  v98 = v9;
  v97 = v10;
  v96 = v11;
  v95 = v12;
  v94 = v13;
  sub_14689D420(v20, v23, 0, v21);
  v24 = *(_QWORD *)(v20 + 0x88);
  if ( v24 )
  {
    (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v24 + 0x128LL))(v24, a1 + 0x150);
    n0x3E8 = 0x3E8;
    if ( *(_BYTE *)(a1 + 0x8D) != 0xFF )
    {
      n0x3E8 = *(unsigned __int8 *)(a1 + 0x8D);
    }
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x198LL))(*(_QWORD *)(v20 + 0x88), n0x3E8);
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0xD8LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a1 + 0x8E));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0xE0LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a1 + 0x8F));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x140LL))(*(_QWORD *)(v20 + 0x88), a4);
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x1A0LL))(
      *(_QWORD *)(v20 + 0x88),
      (*(_DWORD *)(a3 + 0x6C) | *(_DWORD *)(*(_QWORD *)(v20 + 0x88) + 8LL))
    ^ (*(_DWORD *)(a1 + 0x80)
     ^ (*(_DWORD *)(a3 + 0x6C) | *(_DWORD *)(*(_QWORD *)(v20 + 0x88) + 8LL)))
    & 0x7000000u);
    v59 = *(_QWORD *)(v20 + 0x88);
    v60 = *(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v59 + 0x238LL);
    sub_1403AC900((unsigned __int64 *)(a1 + 8), &v103);
    v60(v59, *(_QWORD *)&v103);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x2A0LL))(*(_QWORD *)(v20 + 0x88), a3 + 0x100);
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x218LL))(
      *(_QWORD *)(v20 + 0x88),
      *(_QWORD *)(a3 + 0x90));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x1E8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, __int64, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x1F8LL))(
      *(_QWORD *)(v20 + 0x88),
      a3 + 0x9C,
      0);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x200LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x208LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x210LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x248LL))(*(_QWORD *)(v20 + 0x88), a3 + 0xC0);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x250LL))(*(_QWORD *)(v20 + 0x88), a3 + 0xC8);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x258LL))(*(_QWORD *)(v20 + 0x88), a3 + 0xD0);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x260LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x268LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x270LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0xEC));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x278LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x280LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x288LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x290LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int16 *)(a3 + 0x1F0));
    (*(void (__fastcall **)(_QWORD, _QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x298LL))(
      *(_QWORD *)(v20 + 0x88),
      *(_BYTE *)(a3 + 0xFC) & 0xF,
      *(_BYTE *)(a3 + 0xFC) >> 4);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2A8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2B0LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x240LL))(*(_QWORD *)(v20 + 0x88), a3 + 0x128);
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x2C0LL))(*(_QWORD *)(v20 + 0x88), a3 + 0x190);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2D0LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2D8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2E0LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2E8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x310LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0x1C0));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x318LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x320LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x348LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0x208));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x360LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x368LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x370LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x378LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2C8LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v20 + 0x88) + 0x2B8LL))(*(_QWORD *)(v20 + 0x88), a3 + 0x1D0);
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2F0LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x2F8LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0x1E4));
    (*(void (__fastcall **)(_QWORD, _QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x300LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0x1E5),
      *(unsigned __int8 *)(a3 + 0x1E6));
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x88) + 0x308LL))(*(_QWORD *)(v20 + 0x88));
    (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(v20 + 0x88) + 0x220LL))(
      *(_QWORD *)(v20 + 0x88),
      *(unsigned __int8 *)(a3 + 0xB8));
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v61 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v61 = 0;
    }
    if ( (unsigned __int8)sub_1468C31A0(v61, v92, &v90, 0) )
    {
      (*(void (__fastcall **)(_QWORD, _BYTE *))(**(_QWORD **)(v20 + 0x88) + 0x228LL))(*(_QWORD *)(v20 + 0x88), v92);
      (*(void (__fastcall **)(_QWORD, __int128 *))(**(_QWORD **)(v20 + 0x88) + 0x230LL))(*(_QWORD *)(v20 + 0x88), &v90);
    }
    v83 = 0;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v22 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    if ( (unsigned __int8)sub_1468D6CD0(v22, &v83) )
    {
      (*(void (__fastcall **)(_QWORD, __int128 *))(**(_QWORD **)(v20 + 0x88) + 0x328LL))(*(_QWORD *)(v20 + 0x88), &v83);
    }
    v62 = *(double *)(v20 + 8);
    v63 = *(double *)(v20 + 0x10);
    v64 = *(double *)(v20 + 0x20);
    v65 = *(double *)(v20 + 0x18);
    v66 = *(__int64 **)(v20 + 0x88);
    v67 = v64 * (v63 + v63);
    v68 = *v66;
    v69 = v65 + v65;
    v70 = v64 * (v62 + v62);
    v71 = 1.0 - (v62 + v62) * v62;
    v72 = (v63 + v63) * v63;
    v73 = (v63 + v63) * v62;
    v74 = (v65 + v65) * v63;
    v75 = v64 * (v65 + v65);
    v76 = (v65 + v65) * v65;
    v77 = *(double *)(v20 + 0x40);
    *(double *)v84.m256_f32 = (1.0 - v72 - v76) * v77;
    *(double *)&v84.m256_f32[2] = (v73 - v75) * v77;
    *(_QWORD *)&v84.m256_f32[6] = *(_QWORD *)(v20 + 0x28);
    *(double *)&v84.m256_f32[4] = (v69 * v62 + v67) * v77;
    *(double *)v85.m256i_i64 = (v75 + v73) * v77;
    *(double *)&v85.m256i_i64[1] = (v71 - v76) * v77;
    v78 = *(double *)(v20 + 0x30);
    *(double *)&v85.m256i_i64[2] = (v74 - v70) * v77;
    *(double *)&v85.m256i_i64[3] = v78;
    *(double *)v86.m256_f32 = (v69 * v62 - v67) * v77;
    *(double *)&v86.m256_f32[2] = (v74 + v70) * v77;
    v79 = *(double *)(v20 + 0x38);
    *(double *)&v86.m256_f32[4] = (v71 - v72) * v77;
    *(double *)&v86.m256_f32[6] = v79;
    (*(void (__fastcall **)(__int64 *, __m256 *, __int64, _QWORD))(v68 + 0x1F0))(v66, &v84, 2, a1_0);
    v18 = (volatile signed __int64 *)(a1 + 0x208);
  }
  else
  {
    v93 = v14;
    sub_14687EE10(v20);
    if ( sub_1403BB9F0((_QWORD *)(a3 + 0x120)) )
    {
      if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
      {
        v25 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        v25 = 0;
      }
      v26 = (_BYTE *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v25 + 0x70LL))(v25);
      assignCStringToStringStructure((void **)(a3 + 0x120), v26);
    }
    v27 = *(_QWORD *)(a1 + 0x150);
    if ( *(_QWORD *)(a3 + 0x1E8) != v27 )
    {
      if ( v27 )
      {
        (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v27 + 8LL))(*(_QWORD *)(a1 + 0x150));
      }
      v28 = *(_QWORD *)(a3 + 0x1E8);
      if ( v28 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v28 + 0x10LL))(v28);
      }
      *(_QWORD *)(a3 + 0x1E8) = v27;
    }
    n0xFF = *(_BYTE *)(a1 + 0x8D);
    if ( n0xFF == (char)0xFF )
    {
      n0xFF = 0xE8;
    }
    *(_BYTE *)(a3 + 0x70) = n0xFF;
    *(_BYTE *)(a3 + 0x71) = *(_BYTE *)(a1 + 0x8E);
    *(_BYTE *)(a3 + 0x72) = *(_BYTE *)(a1 + 0x8F);
    *(_WORD *)(a3 + 0x1F2) = v105;
    v30 = *(double *)(v20 + 8);
    v31 = *(double *)(v20 + 0x20);
    v32 = *(double *)(v20 + 0x10);
    v33 = *(double *)(v20 + 0x18);
    v34 = *(double *)(v20 + 0x28);
    v35 = v33 + v33;
    v36 = v31 * (v32 + v32);
    v37 = (v32 + v32) * v32;
    v38 = (v32 + v32) * v30;
    v39 = (v33 + v33) * v33;
    v40 = *(double *)(v20 + 0x40);
    v103 = 1.0 - (v30 + v30) * v30;
    v88 = v31 * (v30 + v30);
    v87 = v35 * v32;
    v41 = v35 * v31;
    v42 = (1.0 - v37 - v39) * v40;
    v43 = v35 * v30;
    v44 = *(double *)(v20 + 0x30);
    v45 = (v41 + v38) * v40;
    v46 = (v38 - v41) * v40;
    v47 = *(double *)(v20 + 0x40);
    v89 = v37;
    v48 = (v43 + v36) * v40;
    v49 = (v103 - v39) * v40;
    v50 = (v87 - v88) * v40;
    v51 = (v87 + v88) * v47;
    v52 = *(double *)(v20 + 0x38);
    *(double *)(a3 + 0x58) = (v103 - v89) * v47;
    *(double *)(a3 + 8) = v42;
    *(double *)(a3 + 0x10) = v46;
    *(double *)(a3 + 0x18) = v48;
    *(double *)(a3 + 0x20) = v34;
    *(double *)(a3 + 0x28) = v45;
    *(double *)(a3 + 0x30) = v49;
    *(double *)(a3 + 0x38) = v50;
    *(double *)(a3 + 0x40) = v44;
    *(double *)(a3 + 0x48) = (v43 - v36) * v47;
    *(double *)(a3 + 0x50) = v51;
    *(double *)(a3 + 0x60) = v52;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v53 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v53 = 0;
    }
    *(_DWORD *)(a3 + 0x68) = *(_DWORD *)(v53 + 0x2B0);
    *(_DWORD *)(a3 + 0x6C) ^= (*(_DWORD *)(a1 + 0x80) ^ *(_DWORD *)(a3 + 0x6C)) & 0x7000000;
    sub_1403AC900((unsigned __int64 *)(a1 + 8), &v83);
    *(_QWORD *)(a3 + 0x88) = v83;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v22 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    if ( (unsigned __int8)sub_1468C31A0(v22, &v84, &v90, 0) )
    {
      v54 = v91;
      *(__m256 *)(a3 + 0x130) = v84;
      *(__m256i *)(a3 + 0x150) = v85;
      *(__m256 *)(a3 + 0x170) = v86;
      *(_OWORD *)(a3 + 0x190) = v90;
      *(double *)(a3 + 0x1A0) = v54;
    }
    __asm { vzeroupper }
    v55 = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)gEnv + 0x328LL))(gEnv, 3, a3);
    *(_QWORD *)(v20 + 0x88) = v55;
    v57 = *(_BYTE **)(a1 + 0xA0);
    if ( !v57 || v57 != (_BYTE *)1 && !*v57 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v55 + 0x188LL))(v55);
    }
  }
  *(_WORD *)(v20 + 0xD8) &= ~1u;
  *(_DWORD *)(a1 + 0x184) &= ~2u;
  LOBYTE(v56) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_14686E5E0(a1, v56);
  v80 = *(_QWORD *)(v20 + 0x88);
  v81 = v104;
  if ( v80 && *(_QWORD *)(a1 + 0x1C8) && v104 == 1 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v80 + 0x338LL))(v80);
  }
  sub_14687AB70(a1, v20);
  sub_1402D0950((__int64)v18);
  return v81;
}

// --- End Function: sub_1468671E0 (0x1468671E0) ---

// --- Function: sub_146867DD0 (0x146867DD0) ---
__int64 __fastcall sub_146867DD0(__int64 a1, unsigned int a2, __int64 a3, unsigned int a4)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  signed __int64 v15; // rdx
  __int64 v16; // rsi
  __int64 v17; // r9
  __int64 v18; // rdx
  __int64 *v19; // rcx
  __int64 v20; // rax
  double v21; // xmm8_8
  double v22; // xmm3_8
  double v23; // xmm1_8
  double v24; // xmm5_8
  double v25; // xmm10_8
  double v26; // xmm6_8
  double v27; // xmm12_8
  double v28; // xmm14_8
  double v29; // xmm13_8
  double v30; // xmm9_8
  double v31; // xmm11_8
  double v32; // xmm3_8
  double v33; // kr00_8
  double v34; // xmm5_8
  double v35; // xmm0_8
  double v36; // xmm1_8
  __int64 v37; // rcx
  __int64 v38; // rcx
  __int64 v39; // rdi
  void (__fastcall *v40)(__int64, __int64); // rbx
  __int64 v41; // rdx
  __int64 v42; // rdi
  __int64 v43; // rbx
  __int64 v44; // rbx
  int v45; // eax
  int v46; // r9d
  __int64 v47; // rdx
  _QWORD v49[3]; // [rsp+30h] [rbp-D8h] BYREF
  double v50[12]; // [rsp+48h] [rbp-C0h] BYREF
  _BYTE v51[32]; // [rsp+A8h] [rbp-60h] BYREF
  _BYTE v52[96]; // [rsp+C8h] [rbp-40h] BYREF
  __int128 v53; // [rsp+128h] [rbp+20h]
  __int128 v54; // [rsp+138h] [rbp+30h]
  __int128 v55; // [rsp+148h] [rbp+40h]
  __int128 v56; // [rsp+158h] [rbp+50h]
  __int128 v57; // [rsp+168h] [rbp+60h]
  __int128 v58; // [rsp+178h] [rbp+70h]
  __int128 v59; // [rsp+188h] [rbp+80h]
  __int128 v60; // [rsp+198h] [rbp+90h]
  __int128 v61; // [rsp+1A8h] [rbp+A0h]
  __int64 v62; // [rsp+1E8h] [rbp+E0h] BYREF
  unsigned int v63; // [rsp+1F0h] [rbp+E8h] BYREF

  v63 = a2;
  v61 = v4;
  v60 = v5;
  v59 = v6;
  v58 = v7;
  v57 = v8;
  v56 = v9;
  v55 = v10;
  v54 = v11;
  v53 = v12;
  sub_146869400(a1, &v63, a4);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x208));
    if ( (v15 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v15,
        (__int64)"CRenderProxy::LoadLight",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v63 )
  {
    __debugbreak();
  }
  v16 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v63);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v18 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v18 = 0;
  }
  LOBYTE(v17) = 1;
  sub_14689D420(v16, v18, 0, v17);
  v19 = *(__int64 **)(v16 + 0x88);
  if ( !v19 )
  {
    sub_14687EE10(v16);
    v19 = (__int64 *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a3 + 0x50LL))(a3);
    *(_QWORD *)(v16 + 0x88) = v19;
  }
  v20 = *v19;
  v21 = *(double *)(v16 + 8);
  v22 = *(double *)(v16 + 0x10);
  v23 = *(double *)(v16 + 0x20);
  v24 = *(double *)(v16 + 0x18);
  v25 = (v22 + v22) * v23;
  v26 = v24 + v24;
  v27 = (v21 + v21) * v23;
  v28 = 1.0 - (v21 + v21) * v21;
  v29 = (v22 + v22) * v22;
  v30 = (v22 + v22) * v21;
  v31 = (v24 + v24) * v22;
  v32 = (v24 + v24) * v23;
  v33 = (v24 + v24) * v24;
  v34 = *(double *)(v16 + 0x40);
  v50[0] = (1.0 - v29 - v33) * v34;
  v50[1] = (v30 - v32) * v34;
  v50[3] = *(double *)(v16 + 0x28);
  v50[2] = (v26 * v21 + v25) * v34;
  v50[4] = (v32 + v30) * v34;
  v50[5] = (v28 - v33) * v34;
  v35 = *(double *)(v16 + 0x30);
  v50[6] = (v31 - v27) * v34;
  v50[7] = v35;
  v50[8] = (v26 * v21 - v25) * v34;
  v50[9] = (v31 + v27) * v34;
  v36 = *(double *)(v16 + 0x38);
  v50[0xA] = (v28 - v29) * v34;
  v50[0xB] = v36;
  (*(void (__fastcall **)(__int64 *, double *, __int64, _QWORD))(v20 + 0x1F0))(v19, v50, 2, a1_0);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v37 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v37 = 0;
  }
  if ( (unsigned __int8)sub_1468C31A0(v37, v52, v51, 0) )
  {
    (*(void (__fastcall **)(_QWORD, _BYTE *))(**(_QWORD **)(v16 + 0x88) + 0x228LL))(*(_QWORD *)(v16 + 0x88), v52);
    (*(void (__fastcall **)(_QWORD, _BYTE *))(**(_QWORD **)(v16 + 0x88) + 0x230LL))(*(_QWORD *)(v16 + 0x88), v51);
  }
  *(_OWORD *)&v49[1] = 0;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v38 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v38 = 0;
  }
  if ( (unsigned __int8)sub_1468D6CD0(v38, &v49[1]) )
  {
    (*(void (__fastcall **)(_QWORD, _QWORD *))(**(_QWORD **)(v16 + 0x88) + 0x328LL))(*(_QWORD *)(v16 + 0x88), &v49[1]);
  }
  v39 = *(_QWORD *)(v16 + 0x88);
  v40 = *(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v39 + 0x238LL);
  sub_1403AC900((unsigned __int64 *)(a1 + 8), &v62);
  v40(v39, v62);
  v41 = *(_QWORD *)(v16 + 0x88);
  *(_WORD *)(v16 + 0xD8) &= ~1u;
  v42 = (*(__int64 (__fastcall **)(_QWORD, __int64))(*(_QWORD *)pCZoneSystem + 0x60LL))(pCZoneSystem, v41 + 0x10);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v43 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v43 = 0;
  }
  v44 = *(_QWORD *)(v43 + 0x2A8);
  v45 = (*(__int64 (__fastcall **)(_QWORD, double *, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x480LL))(
          pCZoneSystem,
          v50,
          v42,
          v44);
  LOBYTE(v46) = 1;
  sub_14686A290(v16, v44, v45, v46, 0);
  *(_DWORD *)(a1 + 0x184) &= ~2u;
  LOBYTE(v47) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_14686E5E0(a1, v47);
  sub_14687AB70(a1, v16);
  sub_1402D0950(a1 + 0x208);
  return v63;
}

// --- End Function: sub_146867DD0 (0x146867DD0) ---

// --- Function: sub_146868210 (0x146868210) ---
__int64 __fastcall sub_146868210(
        __int64 a1,
        unsigned int a2,
        float *a3,
        _QWORD *a4,
        __int64 a5,
        __int64 a6,
        char a7,
        __int16 a8)
{
  _QWORD *v8; // rdi
  __int64 v11; // rax
  __int64 v12; // rax
  __int128 v13; // xmm1
  __m256i v14; // ymm0
  int v15; // eax
  signed __int64 v16; // rdx
  unsigned int v17; // r12d
  __int64 v18; // rax
  __int64 v19; // rsi
  __int64 v20; // rcx
  _QWORD *v21; // rbx
  __int64 v22; // r8
  __int64 v23; // r9
  __int64 v24; // rdx
  __m256 v25; // ymm0
  __int64 v26; // rax
  __int64 *v27; // r12
  __int64 v28; // r9
  __int64 v29; // rdx
  __int128 v30; // xmm0
  __int64 v31; // rcx
  __int128 v32; // xmm1
  char v33; // al
  __int16 v34; // dx
  __int64 v35; // rbx
  __int64 v36; // r9
  _QWORD **v37; // rax
  __int64 v39; // rdx
  __int64 n0x3E8; // rdx
  __int64 v41; // rdx
  volatile signed __int32 *v42; // rdi
  __int64 v43; // rdx
  unsigned __int32 v44; // eax
  int v45; // eax
  unsigned __int32 v46; // eax
  _QWORD *v47; // rbx
  __int64 pCZoneSystem; // [rsp+40h] [rbp-C0h]
  __int16 v49; // [rsp+40h] [rbp-C0h]
  int v50; // [rsp+40h] [rbp-C0h]
  void (__fastcall *v51)(__int64, _QWORD *, _QWORD, _QWORD); // [rsp+48h] [rbp-B8h]
  void (__fastcall *v52)(_QWORD *, __m256 *, __int64); // [rsp+48h] [rbp-B8h]
  __int64 v53; // [rsp+48h] [rbp-B8h]
  __int64 (__fastcall *v54)(__int64, __int64 *, __m256 *, _QWORD, __int64, __int64, __int16, __m256i *); // [rsp+50h] [rbp-B0h]
  void (__fastcall *v55)(_QWORD *, __int64, _QWORD); // [rsp+50h] [rbp-B0h]
  __int64 v56; // [rsp+58h] [rbp-A8h] BYREF
  __int128 v57; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v58; // [rsp+70h] [rbp-90h]
  __m256 v59; // [rsp+78h] [rbp-88h] BYREF
  __m256 v60; // [rsp+98h] [rbp-68h]
  __m256 v61; // [rsp+C0h] [rbp-40h] BYREF
  __int128 v62; // [rsp+E0h] [rbp-20h]
  __int128 v63; // [rsp+F0h] [rbp-10h]
  __m256i v64; // [rsp+100h] [rbp+0h] BYREF
  __m256i v65; // [rsp+120h] [rbp+20h]
  __m256i v66; // [rsp+140h] [rbp+40h]
  __int128 v67; // [rsp+160h] [rbp+60h]
  __int128 v68; // [rsp+170h] [rbp+70h]
  __m256i v69; // [rsp+180h] [rbp+80h]
  __m256i v70; // [rsp+1A0h] [rbp+A0h]
  __int128 v71; // [rsp+1C0h] [rbp+C0h]
  int v72; // [rsp+1D0h] [rbp+D0h]
  _BYTE v73[272]; // [rsp+1E0h] [rbp+E0h] BYREF
  unsigned int v74; // [rsp+308h] [rbp+208h] BYREF
  _QWORD *v75; // [rsp+318h] [rbp+218h]

  v75 = a4;
  v74 = a2;
  v8 = a4;
  if ( !*a4 )
  {
    goto LABEL_50;
  }
  sub_140365190((__int64)&v64, 0, 2);
  v11 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*v8 + 0x78LL))(*v8);
  if ( v11 )
  {
    v12 = sub_140365190((__int64)v73, *(_DWORD *)(v11 + 0x258), *(_DWORD *)(v11 + 0x25C));
    v64 = *(__m256i *)v12;
    v65 = *(__m256i *)(v12 + 0x20);
    v66 = *(__m256i *)(v12 + 0x40);
    v67 = *(_OWORD *)(v12 + 0x60);
    v68 = *(_OWORD *)(v12 + 0x70);
    v12 += 0x80;
    v69 = *(__m256i *)v12;
    v70 = *(__m256i *)(v12 + 0x20);
    v71 = *(_OWORD *)(v12 + 0x40);
    v72 = *(_DWORD *)(v12 + 0x50);
    if ( a6 )
    {
      v13 = *(_OWORD *)(a6 + 0x70);
      v64 = *(__m256i *)a6;
      v65 = *(__m256i *)(a6 + 0x20);
      v66 = *(__m256i *)(a6 + 0x40);
      v67 = *(_OWORD *)(a6 + 0x60);
      v14 = *(__m256i *)(a6 + 0x80);
      v68 = v13;
      v69 = v14;
      v70 = *(__m256i *)(a6 + 0xA0);
      v15 = *(_DWORD *)(a6 + 0xD0);
      v71 = *(_OWORD *)(a6 + 0xC0);
      v72 = v15;
    }
  }
  __asm { vzeroupper }
  sub_146869400(a1, &v74, 3);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v16 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x208));
    if ( (v16 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v16,
        (__int64)"CRenderProxy::LoadParticleEmitter",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  v17 = v74;
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v74 )
  {
    __debugbreak();
  }
  v18 = *(_QWORD *)(a1 + 0xD8);
  v19 = *(_QWORD *)(v18 + 8LL * (int)v74);
  if ( a3[3] != 1.0
    || *a3 != 0.0
    || a3[1] != 0.0
    || a3[2] != 0.0
    || a3[4] != 0.0
    || a3[5] != 0.0
    || a3[6] != 0.0
    || a3[7] != 1.0 )
  {
    sub_146899CE0(*(_QWORD *)(v18 + 8LL * (int)v74), a3);
  }
  v20 = *(_QWORD *)(v19 + 0x90);
  if ( !v20
    || (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v20 + 0x158LL))(v20) != 8
    || (v21 = *(_QWORD **)(v19 + 0x90)) == 0 )
  {
    v27 = (__int64 *)(a1 + 8);
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v29 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v29 = 0;
    }
    if ( (*(_BYTE *)(v19 + 0xDB) & 0x10) == 0 )
    {
      LOBYTE(v28) = 1;
      sub_14689D420(v19, v29, 0, v28);
    }
    v30 = *(_OWORD *)(v19 + 0x28);
    v31 = *v27;
    v61 = *(__m256 *)(v19 + 8);
    v32 = *(_OWORD *)(v19 + 0x38);
    v62 = v30;
    v63 = v32;
    __asm { vzeroupper }
    v33 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(v31 & 0xFFFFFFFFFFFFLL) + 0x700LL))(
            v31 & 0xFFFFFFFFFFFFLL,
            v29);
    v34 = a8 | 0x1000;
    if ( !v33 )
    {
      v34 = a8;
    }
    v53 = *v75;
    v49 = v34;
    v54 = *(__int64 (__fastcall **)(__int64, __int64 *, __m256 *, _QWORD, __int64, __int64, __int16, __m256i *))(*(_QWORD *)*v75 + 8LL);
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v35 = *v27 & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v35 = 0;
    }
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v36 = *v27 & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v36 = 0;
    }
    v37 = (_QWORD **)v54(v53, &v56, &v61, *(_QWORD *)(v36 + 0x2A8), v35, a5, v49, &v64);
    v21 = *v37;
    *v37 = 0;
    if ( v56 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)(v56 + 0x30) + 0x10LL))(v56 + 0x30);
    }
    if ( v21 )
    {
      if ( a7 )
      {
        (*(void (__fastcall **)(_QWORD *))(*v21 + 0x228LL))(v21);
      }
      (*(void (__fastcall **)(_QWORD *))(v21[6] + 8LL))(v21 + 6);
      sub_14687EE10(v19);
      *(_QWORD *)(v19 + 0x90) = v21;
      v55 = *(void (__fastcall **)(_QWORD *, __int64, _QWORD))(*v21 + 0x268LL);
      if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
      {
        v39 = *v27 & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        v39 = 0;
      }
      v17 = v74;
      v55(v21, v39, v74);
      if ( *(_QWORD *)(v19 + 0xC0) )
      {
        (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v19 + 0x90) + 0x128LL))(*(_QWORD *)(v19 + 0x90));
      }
      n0x3E8 = 0x3E8;
      if ( *(_BYTE *)(a1 + 0x8D) != 0xFF )
      {
        n0x3E8 = *(unsigned __int8 *)(a1 + 0x8D);
      }
      (*(void (__fastcall **)(_QWORD *, __int64))(*v21 + 0x198LL))(v21, n0x3E8);
      v41 = *(_DWORD *)(a1 + 0x80) >> 8;
      LOBYTE(v41) = BYTE1(*(_DWORD *)(a1 + 0x80)) & 1;
      (*(void (__fastcall **)(_QWORD *, __int64))(*v21 + 0x98LL))(v21, v41);
      v42 = (volatile signed __int32 *)(a1 + 0x1F8);
      v50 = *(_DWORD *)(a1() + 0x18);
      if ( *(_DWORD *)(a1 + 0x1FC) == v50 )
      {
        ++*(_DWORD *)(a1 + 0x200);
      }
      else
      {
        v44 = _InterlockedCompareExchange(v42, 1, 0);
        if ( v44 )
        {
          sub_1403BF290((volatile signed __int32 *)(a1 + 0x1F8), v44, (__int64)"CRenderProxy::LoadParticleEmitter", 1);
        }
        v17 = v74;
        *(_DWORD *)(a1 + 0x1FC) = v50;
      }
      LOBYTE(v43) = 1;
      sub_146861940(a1, v43);
      sub_146899250(a1);
      sub_14687AB70(a1, v19);
      v45 = *(_DWORD *)(a1 + 0x200);
      if ( v45 )
      {
        *(_DWORD *)(a1 + 0x200) = v45 - 1;
      }
      else
      {
        *(_DWORD *)(a1 + 0x1FC) = 0xFFFFFFFF;
        v46 = _InterlockedCompareExchange(v42, 0, 1);
        if ( v46 != 1 )
        {
          sub_1403D6A80((volatile signed __int32 *)(a1 + 0x1F8), v46);
        }
        v17 = v74;
      }
      goto LABEL_70;
    }
    sub_1402D0950(a1 + 0x208);
    v8 = v75;
    if ( *v75 )
    {
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*v75 + 0x48LL))(*v75);
    }
LABEL_50:
    *v8 = 0;
    return 0xFFFFFFFFLL;
  }
  (*(void (__fastcall **)(_QWORD *))(v21[6] + 8LL))(v21 + 6);
  pCZoneSystem = ::pCZoneSystem;
  v51 = *(void (__fastcall **)(__int64, _QWORD *, _QWORD, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x50LL);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v22 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v22 = 0;
  }
  v51(pCZoneSystem, v21 + 2, *(_QWORD *)(v22 + 0x2A8), 0);
  v52 = *(void (__fastcall **)(_QWORD *, __m256 *, __int64))(*v21 + 0x270LL);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v24 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v24 = 0;
  }
  if ( (*(_BYTE *)(v19 + 0xDB) & 0x10) == 0 )
  {
    LOBYTE(v23) = 1;
    sub_14689D420(v19, v24, 0, v23);
  }
  v25 = *(__m256 *)(v19 + 0x28);
  v59 = *(__m256 *)(v19 + 8);
  v60 = v25;
  __asm { vzeroupper }
  v52(v21, &v59, 2);
  (*(void (__fastcall **)(_QWORD *, _QWORD *))(*v21 + 0x238LL))(v21, v75);
  v26 = *v21;
  v58 = 0;
  v57 = 0;
  (*(void (__fastcall **)(_QWORD *, __m256i *, __int128 *))(v26 + 0x248))(v21, &v64, &v57);
  sub_14687AC50(a1, v17);
LABEL_70:
  (*(void (__fastcall **)(_QWORD *))(v21[6] + 0x10LL))(v21 + 6);
  sub_1402D0950(a1 + 0x208);
  v47 = v75;
  if ( *v75 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*v75 + 0x48LL))(*v75);
  }
  *v47 = 0;
  return v17;
}

// --- End Function: sub_146868210 (0x146868210) ---

// --- Function: sub_1468688C0 (0x1468688C0) ---
__int64 __fastcall sub_1468688C0(__int64 a1, unsigned int a2, unsigned int a3, __int64 a4)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  __int128 v13; // xmm15
  signed __int64 v17; // rdx
  __int64 v18; // r13
  __int64 v19; // rsi
  _QWORD *v20; // rdi
  __int64 v21; // rcx
  double v22; // xmm12_8
  double v23; // xmm15_8
  double v24; // xmm8_8
  double v25; // xmm13_8
  double v26; // xmm4_8
  double v27; // xmm14_8
  double v28; // xmm9_8
  double v29; // xmm2_8
  double v30; // xmm10_8
  double v31; // xmm11_8
  double v32; // xmm8_8
  double v33; // xmm5_8
  double v34; // xmm6_8
  double v35; // xmm1_8
  double v36; // xmm3_8
  double v37; // xmm4_8
  __int64 v38; // rax
  __int64 v39; // r15
  __int64 pCZoneSystem; // r14
  __int64 v41; // r8
  __int64 v42; // rdx
  __int64 v43; // rdx
  double v45; // [rsp+30h] [rbp-108h] BYREF
  double v46; // [rsp+38h] [rbp-100h]
  double v47; // [rsp+40h] [rbp-F8h]
  double v48; // [rsp+48h] [rbp-F0h]
  double v49; // [rsp+50h] [rbp-E8h]
  double v50; // [rsp+58h] [rbp-E0h]
  double v51; // [rsp+60h] [rbp-D8h]
  double v52; // [rsp+68h] [rbp-D0h]
  __int128 v53; // [rsp+70h] [rbp-C8h]
  __int128 v54; // [rsp+80h] [rbp-B8h]
  __int128 v55; // [rsp+90h] [rbp-A8h]
  __int128 v56; // [rsp+A0h] [rbp-98h]
  __int128 v57; // [rsp+B0h] [rbp-88h]
  __int128 v58; // [rsp+C0h] [rbp-78h]
  __int128 v59; // [rsp+D0h] [rbp-68h]
  __int128 v60; // [rsp+E0h] [rbp-58h]
  __int128 v61; // [rsp+F0h] [rbp-48h]
  __int128 v62; // [rsp+100h] [rbp-38h]
  double v63; // [rsp+140h] [rbp+8h]
  void (__fastcall *v64)(__int64, __int64, _QWORD, _QWORD); // [rsp+140h] [rbp+8h]
  unsigned int v65; // [rsp+148h] [rbp+10h] BYREF

  v65 = a2;
  sub_146869400(a1, &v65, 0xFFFFFFFFLL);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v17 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x208));
    if ( (v17 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v17,
        (__int64)"CRenderProxy::LoadRenderNode",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v65 )
  {
    __debugbreak();
  }
  v18 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v65);
  sub_14687EE10(v18);
  v19 = 0;
  v20 = (_QWORD *)(a1 + 8);
  if ( a4 )
  {
    v62 = v4;
    v61 = v5;
    v60 = v6;
    v59 = v7;
    v58 = v8;
    v57 = v9;
    v56 = v10;
    v55 = v11;
    v54 = v12;
    v53 = v13;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v21 = *v20 & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      LODWORD(v21) = 0;
    }
    sub_1468DF6F0(v21, (unsigned int)&v45, 2, 0, 0);
    v22 = (v46 + v46) * v48;
    v23 = (v46 + v46) * v46;
    v24 = (v46 + v46) * v45;
    v25 = (v47 + v47) * v46;
    v26 = (v47 + v47) * v45;
    v27 = (v45 + v45) * v48;
    v28 = v52;
    v63 = 1.0 - (v45 + v45) * v45;
    v29 = (v47 + v47) * v48;
    v30 = (v24 - v29) * v52;
    v31 = (1.0 - v23 - (v47 + v47) * v47) * v52;
    v32 = (v29 + v24) * v52;
    v33 = (v26 + v22) * v52;
    v34 = (v63 - (v47 + v47) * v47) * v52;
    v35 = v26 - v22;
    v36 = (v25 - v27) * v52;
    v37 = (v25 + v27) * v52;
    *(double *)(a4 + 0x20) = v49;
    *(double *)(a4 + 0x40) = v50;
    *(double *)(a4 + 0x60) = v51;
    *(double *)(a4 + 8) = v31;
    *(double *)(a4 + 0x10) = v30;
    *(double *)(a4 + 0x18) = v33;
    *(double *)(a4 + 0x28) = v32;
    *(double *)(a4 + 0x30) = v34;
    *(double *)(a4 + 0x38) = v36;
    *(double *)(a4 + 0x48) = v35 * v28;
    *(double *)(a4 + 0x50) = v37;
    *(double *)(a4 + 0x58) = (v63 - v23) * v28;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v38 = *v20 & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v38 = 0;
    }
    *(_DWORD *)(a4 + 0x68) = *(_DWORD *)(v38 + 0x2B0);
  }
  v39 = (*(__int64 (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)gEnv + 0x328LL))(gEnv, a3, a4);
  if ( !a4 )
  {
    pCZoneSystem = ::pCZoneSystem;
    v64 = *(void (__fastcall **)(__int64, __int64, _QWORD, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x50LL);
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v41 = *v20 & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v41 = 0;
    }
    v64(pCZoneSystem, v39 + 0x10, *(_QWORD *)(v41 + 0x2A8), 0);
  }
  *(_QWORD *)(v18 + 0x90) = v39;
  if ( *(_QWORD *)(a1 + 0x150) )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v39 + 0x128LL))(v39);
  }
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v19 = *v20 & 0xFFFFFFFFFFFFLL;
  }
  sub_146872130(v18, v19, 0);
  LOBYTE(v42) = 1;
  sub_146861940(a1, v42);
  LOBYTE(v43) = (*(_DWORD *)(a1 + 0x80) & 0x100) != 0;
  sub_14686E5E0(a1, v43);
  sub_14687AB70(a1, v18);
  sub_1402D0950(a1 + 0x208);
  return v65;
}

// --- End Function: sub_1468688C0 (0x1468688C0) ---

// --- Function: sub_14686FDE0 (0x14686FDE0) ---
__int64 __fastcall sub_14686FDE0(__int64 a1)
{
  unsigned __int64 v1; // rdx
  __int64 result; // rax
  _DWORD v4[4]; // [rsp+20h] [rbp-68h] BYREF
  _DWORD v5[15]; // [rsp+30h] [rbp-58h] BYREF
  char v6; // [rsp+6Ch] [rbp-1Ch]
  __int64 v7; // [rsp+70h] [rbp-18h]

  v1 = *(_QWORD *)(a1 + 0x438);
  if ( v1 )
  {
    result = v1 & 0xFFFFFFFFFFFFLL;
    if ( *(_QWORD *)((v1 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v1) )
    {
      v5[3] = 0xFFF7FFFF;
      v5[0] = 0;
      v7 = 0;
      v6 = v6 & 0xF0 | 8;
      v5[0xC] = 0xFFBFFFFF;
      v5[0xB] = 0xFFBFFFFF;
      v5[0xD] = 0x80000000;
      v5[0xE] = 0x200;
      sub_146889840(a1, v5, 0);
      v4[0] = 0xF;
      v4[1] = 0x80000000;
      v4[2] = 0x80000000;
      v4[3] = 0xEFFFFFFF;
      return sub_146889840(a1, v4, 0);
    }
  }
  return result;
}

// --- End Function: sub_14686FDE0 (0x14686FDE0) ---

// --- Function: sub_1468760F0 (0x1468760F0) ---
__int64 __fastcall sub_1468760F0(__int64 a1, __int64 rdx0)
{
  unsigned __int64 v4; // rcx
  unsigned int v5; // edi
  __int64 v6; // rcx
  unsigned __int64 v7; // rax
  __int64 v8; // r14
  unsigned __int64 v9; // rbx
  signed __int64 v10; // rdx
  __int64 v11; // rax
  int v12; // r9d
  _QWORD *v13; // rbx
  __int64 v15; // r8
  __int64 v16; // rbx
  __int64 v17; // rcx
  __int64 v18; // rcx
  __int64 v19; // rcx
  __int64 v20; // rcx
  _QWORD *v21; // r12
  const void *ptr_to_free; // rcx
  const void *ptr_to_free_1; // rcx
  __int64 v25; // rcx
  __int64 v26; // rcx
  __int64 v27; // rcx
  float v28; // xmm1_4
  float v30; // xmm0_4
  __int64 v31; // rax
  int v32; // r8d
  __int64 *v33; // rax
  __int64 v34; // rbx
  volatile signed __int64 *v35; // r14
  int v36; // edi
  unsigned __int64 v37; // rax
  void (__fastcall **v38)(_QWORD *); // rax
  void (__fastcall *v39)(_QWORD *); // rdi
  __int64 v40; // rcx
  int v41; // eax
  unsigned __int64 n0x200000; // rax
  volatile signed __int64 *v43; // r14
  int v44; // ebx
  unsigned __int64 v45; // rax
  __int64 v46; // rdi
  __int64 v47; // rax
  __int64 v48; // rax
  int v49; // ebx
  __int64 v50; // rax
  int v51; // eax
  int v52; // eax
  unsigned __int64 n0x200000_1; // rax
  signed int v54; // [rsp+30h] [rbp-D0h]
  __int64 v55; // [rsp+38h] [rbp-C8h] BYREF
  __int64 v56; // [rsp+40h] [rbp-C0h] BYREF
  __int64 v57; // [rsp+48h] [rbp-B8h]
  __int64 v58; // [rsp+50h] [rbp-B0h]
  __int64 v59; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v60; // [rsp+68h] [rbp-98h]
  unsigned int v61; // [rsp+70h] [rbp-90h]
  __int64 v62; // [rsp+78h] [rbp-88h]
  int v63; // [rsp+80h] [rbp-80h]
  _QWORD *v64; // [rsp+88h] [rbp-78h]
  __int128 v65; // [rsp+90h] [rbp-70h]
  __int128 ptr_to_free_2; // [rsp+A0h] [rbp-60h] BYREF
  __int128 v67; // [rsp+B0h] [rbp-50h] BYREF
  __int128 v68; // [rsp+C0h] [rbp-40h]
  char v69; // [rsp+D0h] [rbp-30h]
  __int128 v70; // [rsp+E0h] [rbp-20h] BYREF
  __int64 v71; // [rsp+F0h] [rbp-10h]
  int v72; // [rsp+F8h] [rbp-8h]
  float v73; // [rsp+FCh] [rbp-4h]
  __int64 v74; // [rsp+100h] [rbp+0h] BYREF
  int n0xB; // [rsp+108h] [rbp+8h] BYREF
  unsigned __int64 v76; // [rsp+110h] [rbp+10h]
  int n0x64; // [rsp+118h] [rbp+18h]
  int v78; // [rsp+11Ch] [rbp+1Ch]
  unsigned int v79; // [rsp+120h] [rbp+20h]
  int v80; // [rsp+124h] [rbp+24h]
  _QWORD v81[2]; // [rsp+128h] [rbp+28h] BYREF
  unsigned int v82; // [rsp+138h] [rbp+38h]
  int v83; // [rsp+13Ch] [rbp+3Ch]
  __int64 v84; // [rsp+140h] [rbp+40h]
  __int64 v85; // [rsp+148h] [rbp+48h]
  __int64 v86; // [rsp+150h] [rbp+50h]
  __int64 v87; // [rsp+158h] [rbp+58h]
  __int128 *p_ptr_to_free; // [rsp+160h] [rbp+60h]
  char *v89; // [rsp+168h] [rbp+68h]
  __int64 v90; // [rsp+170h] [rbp+70h]
  __int64 v91; // [rsp+178h] [rbp+78h]
  _BYTE v92[4]; // [rsp+180h] [rbp+80h] BYREF
  float v93; // [rsp+184h] [rbp+84h]
  float v94; // [rsp+188h] [rbp+88h]
  __int64 v95; // [rsp+18Ch] [rbp+8Ch]
  int v96; // [rsp+194h] [rbp+94h]
  __int128 v97; // [rsp+198h] [rbp+98h]
  float v98; // [rsp+1A8h] [rbp+A8h]
  _QWORD v99[5]; // [rsp+1C8h] [rbp+C8h] BYREF
  int v100; // [rsp+1F0h] [rbp+F0h]
  __int64 v101; // [rsp+1F8h] [rbp+F8h]
  int n0xA; // [rsp+200h] [rbp+100h]
  int v103; // [rsp+204h] [rbp+104h]
  __int64 v104; // [rsp+230h] [rbp+130h]
  __int64 a2; // [rsp+248h] [rbp+148h] BYREF
  int a3[3]; // [rsp+254h] [rbp+154h] BYREF
  _BYTE v107[512]; // [rsp+260h] [rbp+160h] BYREF
  char Buffer[256]; // [rsp+460h] [rbp+360h] BYREF

  memset(Buffer, 0, sizeof(Buffer));
  v4 = *(_QWORD *)(a1 + 0x438);
  v5 = 0xFFFFFFFF;
  if ( v4 && *(_QWORD *)((v4 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v4) )
  {
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v6 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v6 = 0;
    }
    v7 = sub_1468DE420(v6);
    v8 = v7;
    if ( !v7 )
    {
      return v5;
    }
    v9 = v7 + 0x208;
    v58 = v7 + 0x208;
    if ( *(_DWORD *)(v7 + 0x210) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v9 + 0xC);
    }
    else
    {
      v10 = _InterlockedIncrement64((volatile signed __int64 *)v9);
      if ( (v10 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v9,
          v10,
          (__int64)"CPhysicalProxy::PhysicalizeGeometry",
          (__int64)"pRenderProxy->GetSlotsLock()",
          1);
      }
    }
    v11 = sub_14684E930(v8, *(_DWORD *)(rdx0 + 8));
    v13 = (_QWORD *)v11;
    if ( v11 && (*(_BYTE *)(v11 + 0xD8) & 1) != 0 )
    {
      LOBYTE(v12) = 1;
      sub_146880D90(a1, *(_DWORD *)(rdx0 + 8), 1, v12, 1, 1);
      _XMM0 = 0;
      v65 = 0;
      ptr_to_free_2 = 0;
      v67 = 0;
      v68 = 0;
      v59 = 0;
      v60 = 0;
      v61 = 0xFFFFFFFF;
      v62 = 0;
      v63 = 0;
      v64 = 0;
      v69 = 0;
      if ( v13[0x10] )
      {
        v54 = sub_146877230(a1, rdx0, &v59);
        v5 = v54;
        if ( v54 )
        {
          v16 = v13[0x10];
          v17 = v62;
          if ( v62 != v16 )
          {
            if ( v16 )
            {
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v16 + 8LL))(v16);
              v17 = v62;
            }
            if ( v17 )
            {
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x10LL))(v17);
            }
            v62 = v16;
          }
        }
        goto LABEL_84;
      }
      v18 = v13[0x12];
      if ( v18 && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v18 + 0x158LL))(v18) == 0x18 )
      {
        v5 = sub_146875E90(a1, rdx0, &v59);
        v54 = v5;
        goto LABEL_84;
      }
      v19 = v13[0xB];
      if ( !v19 || !(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v19 + 0x30LL))(v19) )
      {
LABEL_105:
        sub_1468055E0(&v59);
        sub_1402D0950(v58);
        return v5;
      }
      if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
      {
        v20 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        v20 = 0;
      }
      v21 = *(_QWORD **)(*(__int64 (__fastcall **)(__int64, __int64 *, _QWORD, __int64))(*(_QWORD *)v20 + 0x4F8LL))(
                          v20,
                          &v55,
                          *(unsigned int *)(rdx0 + 8),
                          0xFFFFFFFFLL);
      if ( v55 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v55 + 8LL))(v55);
      }
      v55 = 0;
      if ( v21 )
      {
        sub_141E48910((__int64)v92);
        if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
        {
          v25 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
        }
        else
        {
          v25 = 0;
        }
        (*(void (__fastcall **)(__int64, __int128 *, _QWORD, _QWORD, int))(*(_QWORD *)v25 + 0x4B0LL))(
          v25,
          &v70,
          *(unsigned int *)(rdx0 + 8),
          0,
          2);
        if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
        {
          v26 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
        }
        else
        {
          v26 = 0;
        }
        *(double *)&_XMM0 = (*(double (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v26 + 0x2B0LL))(v26, 0);
        v27 = *(_QWORD *)(a1 + 8);
        v28 = *(float *)(rdx0 + 0x14);
        __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
        v30 = *(float *)(rdx0 + 0x10);
        v99[0] = *(_QWORD *)(rdx0 + 0x30);
        v31 = *(_QWORD *)(rdx0 + 0x38);
        v93 = v30;
        v99[1] = v31;
        v95 = v71;
        v96 = v72;
        LODWORD(v31) = *(_DWORD *)(rdx0 + 8);
        v101 = v27;
        v104 = v27;
        v97 = v70;
        v73 = *(float *)&_XMM2 * v73;
        v94 = v28;
        v98 = v73;
        n0xA = 0xA;
        v103 = v31;
        sub_141E47560(Buffer, &a2, a3, "slot:%d", v31);
        v32 = *(_DWORD *)(rdx0 + 8);
        if ( v32 < 0 )
        {
          v34 = *(_QWORD *)(v8 + 0x150);
          v57 = v34;
          if ( v34 )
          {
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v34 + 8LL))(v34);
          }
          v57 = 0;
        }
        else
        {
          v33 = sub_146850D30(v8, &v56, v32);
          v34 = *v33;
          *v33 = 0;
          if ( v56 )
          {
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v56 + 0x10LL))(v56);
          }
          v56 = 0;
        }
        if ( v34 )
        {
          v100 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, _QWORD *, _QWORD *))(*(_QWORD *)v34 + 0x170LL))(
                   v34,
                   v107,
                   0x80,
                   v99,
                   v99);
          v99[4] = v107;
        }
        v35 = (volatile signed __int64 *)(a1 + 0x4E0);
        v36 = *(_DWORD *)(a1() + 0x18);
        if ( *(_DWORD *)(a1 + 0x4E8) == v36 )
        {
          ++*(_DWORD *)(a1 + 0x4EC);
        }
        else
        {
          v37 = _InterlockedCompareExchange64(v35, 0x200000, 0);
          if ( v37 )
          {
            sub_1403D85B0(
              (volatile signed __int64 *)(a1 + 0x4E0),
              v37,
              0,
              (__int64)"CPhysicalProxy::PhysicalizeGeometry",
              (__int64)"m_queueLock",
              1);
          }
          *(_DWORD *)(a1 + 0x4E8) = v36;
        }
        v38 = (void (__fastcall **)(_QWORD *))*v21;
        v82 = 0xFFFFFFFF;
        v39 = v38[0x98];
        v83 = 0;
        v90 = 0;
        v91 = 0;
        v81[0] = *(_QWORD *)(a1 + 0x438);
        v81[1] = v92;
        v84 = *(_QWORD *)(rdx0 + 0xC8);
        v85 = *(_QWORD *)(a1 + 0x448);
        v86 = *(_QWORD *)(a1 + 0x450);
        v87 = sub_14684DBC0(a1);
        p_ptr_to_free = &ptr_to_free_2;
        v89 = (char *)&v67 + 8;
        v54 = ((__int64 (__fastcall *)(_QWORD *, _QWORD *))v39)(v21, v81);
        v5 = v54;
        if ( v54 > (int)0xFFFFFFFF && v64 != v21 )
        {
          (*(void (__fastcall **)(_QWORD *))*v21)(v21);
          if ( v64 )
          {
            (*(void (__fastcall **)(_QWORD *))(*v64 + 8LL))(v64);
          }
          v64 = v21;
        }
        if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)(*(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL) + 8LL))(*(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL) == 0xD
          || (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)(*(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL) + 8LL))(*(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL) == 8 )
        {
          n0xB = 0xB;
          v80 = 0;
          v79 = 0xFFFFFFFF;
          n0x64 = 0x64;
          v76 = sub_140413290((unsigned __int64 *)(rdx0 + 0xA0));
          v78 = *(_DWORD *)(rdx0 + 0xA8);
          sub_146889840(a1, &n0xB, 0);
          if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
          {
            v40 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
          }
          else
          {
            v40 = 0;
          }
          (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v40 + 0x30LL))(v40, 0x4000000, 0);
          *(_DWORD *)(a1 + 0x1B0) |= 0x400u;
        }
        if ( a1 != 0xFFFFFFFFFFFFFB20uLL )
        {
          v41 = *(_DWORD *)(a1 + 0x4EC);
          if ( v41 )
          {
            *(_DWORD *)(a1 + 0x4EC) = v41 - 1;
          }
          else
          {
            *(_DWORD *)(a1 + 0x4E8) = 0xFFFFFFFF;
            n0x200000 = _InterlockedCompareExchange64(v35, 0, 0x200000);
            if ( n0x200000 != 0x200000 )
            {
              sub_1403D8A00((volatile signed __int64 *)(a1 + 0x4E0), n0x200000);
            }
          }
        }
        if ( v34 )
        {
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v34 + 0x10LL))(v34);
        }
LABEL_84:
        if ( (int)v5 > (int)0xFFFFFFFF )
        {
          v60 = *(_QWORD *)(a1 + 8);
          LOBYTE(v15) = 1;
          v61 = *(_DWORD *)(rdx0 + 8);
          LODWORD(v59) = 1;
          sub_14680DA90(a1, &v59, v15);
          sub_146895B70(a1);
          sub_146896500(a1);
          if ( *(_QWORD *)(a1 + 0x4A8) != a1 && (*(_DWORD *)(a1 + 0x1B0) & 0x10) == 0 )
          {
            v43 = (volatile signed __int64 *)(a1 + 0x518);
            v44 = *(_DWORD *)(a1() + 0x18);
            if ( *(_DWORD *)(a1 + 0x520) == v44 )
            {
              ++*(_DWORD *)(a1 + 0x524);
            }
            else
            {
              v45 = _InterlockedCompareExchange64(v43, 0x200000, 0);
              if ( v45 )
              {
                sub_1403D85B0(
                  (volatile signed __int64 *)(a1 + 0x518),
                  v45,
                  0,
                  (__int64)"CPhysicalProxy::PhysicalizeGeometry",
                  (__int64)"m_compoundedPhysicsBlocksLock",
                  1);
              }
              *(_DWORD *)(a1 + 0x520) = v44;
            }
            v46 = *(_QWORD *)(a1 + 0x508);
            v47 = *(_QWORD *)(a1 + 0x500);
            if ( v46 != v47 )
            {
              while ( 1 )
              {
                v46 -= 0x78;
                if ( *(_DWORD *)(v46 + 4) == HIDWORD(v59) )
                {
                  break;
                }
                if ( v46 == v47 )
                {
                  goto LABEL_97;
                }
              }
              v48 = sub_146842AB0(a1);
              v49 = sub_1468DB390(v48);
              v50 = sub_146842AB0(a1);
              v51 = sub_1468DB310(v50);
              sub_1468216D0(a1, *(_QWORD *)(a1 + 0x4A8), v46, v51, v49, 0);
            }
LABEL_97:
            if ( a1 != 0xFFFFFFFFFFFFFAE8uLL )
            {
              v52 = *(_DWORD *)(a1 + 0x524);
              if ( v52 )
              {
                *(_DWORD *)(a1 + 0x524) = v52 - 1;
              }
              else
              {
                *(_DWORD *)(a1 + 0x520) = 0xFFFFFFFF;
                n0x200000_1 = _InterlockedCompareExchange64(v43, 0, 0x200000);
                if ( n0x200000_1 != 0x200000 )
                {
                  sub_1403D8A00((volatile signed __int64 *)(a1 + 0x518), n0x200000_1);
                }
              }
            }
            v5 = v54;
          }
          if ( !*(_DWORD *)rdx0 )
          {
            v74 = a1;
            sub_1467F3FA0(a1 + 0x618, sub_140B00BD0, &v74);
            sub_14686ABA0(a1);
          }
        }
        goto LABEL_105;
      }
      ptr_to_free = (const void *)*((_QWORD *)&v67 + 1);
      if ( *((_QWORD *)&v67 + 1) )
      {
        if ( ((*((_QWORD *)&v68 + 1) - *((_QWORD *)&v67 + 1)) & 0xFFFFFFFFFFFFFFF0uLL) >= 0x1000 )
        {
          ptr_to_free = *(const void **)(*((_QWORD *)&v67 + 1) - 8LL);
          if ( (unsigned __int64)(*((_QWORD *)&v67 + 1) - (_QWORD)ptr_to_free - 8LL) > 0x1F )
          {
LABEL_39:
            invalid_parameter_noinfo_noreturn();
          }
        }
        free_memory_wrapper(ptr_to_free);
      }
      ptr_to_free_1 = (const void *)ptr_to_free_2;
      if ( (_QWORD)ptr_to_free_2 )
      {
        if ( (((_QWORD)v67 - (_QWORD)ptr_to_free_2) & 0xFFFFFFFFFFFFFFFCuLL) >= 0x1000 )
        {
          ptr_to_free_1 = *(const void **)(ptr_to_free_2 - 8);
          if ( (unsigned __int64)(ptr_to_free_2 - (_QWORD)ptr_to_free_1 - 8) > 0x1F )
          {
            goto LABEL_39;
          }
        }
        free_memory_wrapper(ptr_to_free_1);
      }
      if ( v64 )
      {
        (*(void (__fastcall **)(_QWORD *))(*v64 + 8LL))(v64);
      }
      if ( v62 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v62 + 0x10LL))(v62);
      }
    }
    sub_1402D0950(v58);
    return 0xFFFFFFFFLL;
  }
  return 0xFFFFFFFFLL;
}

// --- End Function: sub_1468760F0 (0x1468760F0) ---

// --- Function: sub_14687FB90 (0x14687FB90) ---
char __fastcall sub_14687FB90(__int64 a1, unsigned __int64 a2, unsigned __int8 a3)
{
  int v5; // edi
  unsigned __int64 v6; // rax
  _BYTE *v7; // r8
  _QWORD *v8; // rcx
  _BYTE *v9; // rdx
  char v10; // bl
  int v11; // eax
  unsigned __int64 n0x200000; // rax
  bool valid; // al
  unsigned __int64 v14; // rcx
  __int64 v15; // rdx
  _QWORD **v17; // [rsp+30h] [rbp-38h]
  volatile signed __int64 *v18; // [rsp+38h] [rbp-30h]
  unsigned __int64 v19; // [rsp+78h] [rbp+10h] BYREF

  v19 = a2;
  if ( !is_valid_handle_typeB(&v19) )
  {
    return 0;
  }
  v17 = (_QWORD **)(a1 + 0x550);
  v18 = (volatile signed __int64 *)(a1 + 0x568);
  v5 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(a1 + 0x570) == v5 )
  {
    ++*(_DWORD *)(a1 + 0x574);
  }
  else
  {
    v6 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x568), 0x200000, 0);
    if ( v6 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)(a1 + 0x568),
        v6,
        0,
        (__int64)&p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        (__int64)&p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        1);
    }
    *(_DWORD *)(a1 + 0x570) = v5;
  }
  v7 = *(_BYTE **)(a1 + 0x558);
  v8 = *v17;
  if ( *v17 == (_QWORD *)v7 )
  {
LABEL_10:
    v10 = 0;
  }
  else
  {
    while ( 1 )
    {
      v9 = v8 + 1;
      if ( *v8 == v19 )
      {
        break;
      }
      ++v8;
      if ( v9 == v7 )
      {
        goto LABEL_10;
      }
    }
    memmove(v8, v9, v7 - v9);
    *(_QWORD *)(a1 + 0x558) -= 8LL;
    v10 = 1;
  }
  v11 = *(_DWORD *)(a1 + 0x574);
  if ( v11 )
  {
    *(_DWORD *)(a1 + 0x574) = v11 - 1;
  }
  else
  {
    *(_DWORD *)(a1 + 0x570) = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(v18, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
    {
      sub_1403D8A00(v18, n0x200000);
    }
  }
  if ( !v10 )
  {
    return 0;
  }
  valid = is_valid_handle_typeB(&v19);
  v14 = v19 & 0xFFFFFFFFFFFFLL;
  if ( !valid )
  {
    v14 = 0;
  }
  v15 = *(_QWORD *)(sub_1468DB500(v14) + 0x4A8);
  if ( *(_QWORD *)(a1 + 0x4B0) == v15 || *(_QWORD *)(v15 + 0x4B0) == *(_QWORD *)(a1 + 0x4A8) )
  {
    return 0;
  }
  else
  {
    return sub_14687FA50(a1, v15, a3);
  }
}

// --- End Function: sub_14687FB90 (0x14687FB90) ---

// --- Function: sub_146880AA0 (0x146880AA0) ---
__int64 __fastcall sub_146880AA0(int a1, int a2)
{
  return sub_1468800B0(a1, a2, 1, 1, 1);
}

// --- End Function: sub_146880AA0 (0x146880AA0) ---

// --- Function: sub_146880D90 (0x146880D90) ---
void __fastcall sub_146880D90(__int64 a1, int a2, char a3, unsigned __int8 a4, unsigned __int8 a5, unsigned __int8 a6)
{
  unsigned __int64 v6; // r10
  __int64 v11; // rbx
  unsigned __int8 v12; // r12
  unsigned __int8 v13; // r13
  unsigned __int64 v14; // rcx
  __int64 v15; // rbx
  int v16; // edi
  unsigned __int64 v17; // rax
  __int64 v18; // r10
  __int64 v19; // r8
  __int64 v20; // rax
  int v21; // eax
  unsigned __int64 n0x200000; // rax
  volatile signed __int64 *v23; // rdi
  int v24; // ebx
  unsigned __int64 v25; // rax
  __int64 v26; // rbx
  __int64 v27; // rax
  int v28; // eax
  unsigned __int64 n0x200000_1; // rax
  __int64 v30; // [rsp+30h] [rbp-38h] BYREF
  __int64 v31; // [rsp+38h] [rbp-30h] BYREF
  __int64 v32; // [rsp+70h] [rbp+8h] BYREF

  v6 = *(_QWORD *)(a1 + 0x438);
  if ( v6 && *(_QWORD *)((v6 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v6) )
  {
    v11 = *(_QWORD *)(a1 + 0x4A8);
    v12 = a6;
    v13 = a5;
    if ( v11 != a1 )
    {
      v14 = *(_QWORD *)(v11 + 0x438);
      if ( v14 )
      {
        if ( *(_QWORD *)((*(_QWORD *)(v11 + 0x438) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v14) )
        {
          v15 = v11 + 0x518;
          v16 = *(_DWORD *)(a1() + 0x18);
          if ( *(_DWORD *)(v15 + 8) == v16 )
          {
            ++*(_DWORD *)(v15 + 0xC);
          }
          else
          {
            v17 = _InterlockedCompareExchange64((volatile signed __int64 *)v15, 0x200000, 0);
            if ( v17 )
            {
              sub_1403D85B0(
                (volatile signed __int64 *)v15,
                v17,
                0,
                (__int64)"CPhysicalProxy::RemoveSlotGeometry",
                (__int64)"m_pAdamProxy->m_compoundedPhysicsBlocksLock",
                1);
            }
            *(_DWORD *)(v15 + 8) = v16;
          }
          v18 = *(_QWORD *)(a1 + 0x4A8);
          v19 = *(_QWORD *)(v18 + 0x500);
          v20 = *(_QWORD *)(v18 + 0x508);
          if ( v19 != v20 )
          {
            while ( *(_QWORD *)(v19 + 8) != *(_QWORD *)(a1 + 8) || *(_DWORD *)(v19 + 0x10) != a2 )
            {
              v19 += 0x78;
              if ( v19 == v20 )
              {
                goto LABEL_17;
              }
            }
            sub_1468805E0(v18, &v30, v19, a4, v13, v12);
          }
LABEL_17:
          if ( v15 )
          {
            v21 = *(_DWORD *)(v15 + 0xC);
            if ( v21 )
            {
              *(_DWORD *)(v15 + 0xC) = v21 - 1;
            }
            else
            {
              *(_DWORD *)(v15 + 8) = 0xFFFFFFFF;
              n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v15, 0, 0x200000);
              if ( n0x200000 != 0x200000 )
              {
                sub_1403D8A00((volatile signed __int64 *)v15, n0x200000);
              }
            }
          }
        }
      }
    }
    v23 = (volatile signed __int64 *)(a1 + 0x518);
    v24 = *(_DWORD *)(a1() + 0x18);
    if ( *(_DWORD *)(a1 + 0x520) == v24 )
    {
      ++*(_DWORD *)(a1 + 0x524);
    }
    else
    {
      v25 = _InterlockedCompareExchange64(v23, 0x200000, 0);
      if ( v25 )
      {
        sub_1403D85B0(
          (volatile signed __int64 *)(a1 + 0x518),
          v25,
          0,
          (__int64)"CPhysicalProxy::RemoveSlotGeometry",
          (__int64)"m_compoundedPhysicsBlocksLock",
          1);
      }
      *(_DWORD *)(a1 + 0x520) = v24;
    }
    v26 = *(_QWORD *)(a1 + 0x500);
    v27 = *(_QWORD *)(a1 + 0x508);
    if ( v26 != v27 )
    {
      while ( *(_QWORD *)(v26 + 8) != *(_QWORD *)(a1 + 8) || *(_DWORD *)(v26 + 0x10) != a2 )
      {
        v26 += 0x78;
        if ( v26 == v27 )
        {
          goto LABEL_35;
        }
      }
      *(_BYTE *)(v26 + 0x70) = 0;
      if ( *(_QWORD *)(a1 + 0x4A8) == a1 || a3 )
      {
        v32 = a1;
        sub_1467F3FA0(a1 + 0x618, sub_140B00BD0, &v32);
        sub_1468805E0(a1, &v31, v26, a4, v13, v12);
      }
    }
LABEL_35:
    if ( a1 != 0xFFFFFFFFFFFFFAE8uLL )
    {
      v28 = *(_DWORD *)(a1 + 0x524);
      if ( v28 )
      {
        *(_DWORD *)(a1 + 0x524) = v28 - 1;
      }
      else
      {
        *(_DWORD *)(a1 + 0x520) = 0xFFFFFFFF;
        n0x200000_1 = _InterlockedCompareExchange64(v23, 0, 0x200000);
        if ( n0x200000_1 != 0x200000 )
        {
          sub_1403D8A00((volatile signed __int64 *)(a1 + 0x518), n0x200000_1);
        }
      }
    }
  }
}

// --- End Function: sub_146880D90 (0x146880D90) ---

// --- Function: sub_146888DC0 (0x146888DC0) ---
__int64 __fastcall sub_146888DC0(__int64 a1, __int64 a2, char a3)
{
  __int64 v4; // rbx
  int v7; // esi
  unsigned __int64 v8; // rax
  __int64 v9; // rdx
  int v10; // eax
  unsigned __int64 n0x200000; // rax
  int v12; // eax
  int v13; // ecx
  unsigned int v14; // eax

  v4 = a1 + 0xF8;
  v7 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(v4 + 8) == v7 )
  {
    ++*(_DWORD *)(v4 + 0xC);
  }
  else
  {
    v8 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0x200000, 0);
    if ( v8 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)v4,
        v8,
        0,
        (__int64)"CRenderProxy::SetLocalBounds",
        (__int64)"localBBoxLock",
        1);
    }
    *(_DWORD *)(v4 + 8) = v7;
  }
  *(_OWORD *)(a1 + 0x108) = *(_OWORD *)a2;
  *(double *)(a1 + 0x118) = *(double *)(a2 + 0x10);
  *(float *)(a1 + 0x120) = sub_141818FC0(a2);
  if ( v4 )
  {
    v10 = *(_DWORD *)(v4 + 0xC);
    if ( v10 )
    {
      *(_DWORD *)(v4 + 0xC) = v10 - 1;
    }
    else
    {
      *(_DWORD *)(v4 + 8) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
      {
        sub_1403D8A00((volatile signed __int64 *)v4, n0x200000);
      }
    }
  }
  LOBYTE(v9) = 1;
  v12 = *(_DWORD *)(a1 + 0x184);
  v13 = v12 | 4;
  v14 = v12 & 0xFFFFFFFB;
  if ( !a3 )
  {
    v13 = v14;
  }
  *(_DWORD *)(a1 + 0x184) = v13 | 2;
  return sub_146861940(a1, v9);
}

// --- End Function: sub_146888DC0 (0x146888DC0) ---

// --- Function: sub_146889280 (0x146889280) ---
unsigned __int64 __fastcall sub_146889280(__int64 a1, _QWORD *a2)
{
  __int64 v2; // r12
  signed __int64 v5; // rdx
  __int64 v6; // rbx
  __int64 v7; // rcx
  unsigned __int64 i; // rbx
  __int64 *v9; // r15
  __int64 *v10; // rsi
  __int64 v11; // rdi
  __int64 *v12; // rbx
  __int64 v13; // rax
  __int64 *v14; // rax
  __int64 v15; // rcx
  __int16 v16; // rbx^6
  __int64 v17; // rdi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // cx
  __int64 v20; // rbx
  _QWORD *v21; // rax
  void (__fastcall *v22)(__int64, __int64 (__fastcall **)(), __int64, __int64); // rdi
  _QWORD *v23; // rax
  __int64 v24; // r8
  __int64 (__fastcall *p_sub_14681ABC0)(); // [rsp+30h] [rbp-58h] BYREF
  __int64 (__fastcall *p_sub_14681B650)(); // [rsp+38h] [rbp-50h]
  _QWORD *v28; // [rsp+40h] [rbp-48h]
  __int64 (__fastcall *p_sub_14681B1F0)(); // [rsp+48h] [rbp-40h] BYREF
  __int64 (__fastcall *p_sub_14681C8E0)(); // [rsp+50h] [rbp-38h]
  _QWORD *v31; // [rsp+58h] [rbp-30h]
  __int64 v32; // [rsp+90h] [rbp+8h] BYREF

  v2 = a1 + 0x190;
  if ( *(_DWORD *)(a1 + 0x198) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0xC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v2);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70((volatile signed __int64 *)v2, v5, (__int64)"CRenderProxy::SetMaterial", (__int64)"m_SlotsLock", 1);
    }
  }
  v6 = *a2;
  if ( *(_QWORD *)(a1 + 0xD8) != *a2 )
  {
    if ( v6 )
    {
      (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v6 + 8LL))(*a2);
    }
    v7 = *(_QWORD *)(a1 + 0xD8);
    if ( v7 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x10LL))(v7);
    }
    *(_QWORD *)(a1 + 0xD8) = v6;
  }
  for ( i = 0; i < (__int64)(*(_QWORD *)(a1 + 0x68) - *(_QWORD *)(a1 + 0x60)) >> 3; ++i )
  {
    sub_14688BCB0(a1 - 0x78, (unsigned int)i, a2);
  }
  sub_14681F100(a1 - 0x78, a2);
  sub_14689D350(a1 - 0x78);
  v9 = *(__int64 **)(a1 + 0x68);
  v10 = *(__int64 **)(a1 + 0x60);
  if ( v10 != v9 )
  {
    while ( 1 )
    {
      v11 = *v10;
      if ( *v10 )
      {
        break;
      }
LABEL_25:
      if ( ++v10 == v9 )
      {
        goto LABEL_26;
      }
    }
    v12 = *(__int64 **)(a1 + 0xD8);
    if ( v12 )
    {
      v13 = *v12;
    }
    else
    {
      v14 = *(__int64 **)(v11 + 0xC0);
      if ( !v14 )
      {
LABEL_20:
        v15 = *(_QWORD *)(v11 + 0x58);
        if ( v15 )
        {
          (*(void (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v15 + 0x20LL))(v15, v12);
        }
        if ( v12 )
        {
          (*(void (__fastcall **)(__int64 *))(*v12 + 0x10))(v12);
        }
        sub_14689D250(a1 - 0x78, v11);
        goto LABEL_25;
      }
      v12 = *(__int64 **)(v11 + 0xC0);
      v13 = *v14;
    }
    (*(void (__fastcall **)(__int64 *))(v13 + 8))(v12);
    goto LABEL_20;
  }
LABEL_26:
  get_item_port_container_from_handle_owner(a1 - 0x78, &v32);
  v16 = HIWORD(v32);
  if ( v32 )
  {
    v17 = v32 & 0xFFFFFFFFFFFFLL;
    handle_metadata_ptr = get_handle_metadata_ptr(v32 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n4 != 4
      && *(_WORD *)(handle_metadata_ptr + 2) == (v16 & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v32)) )
    {
      if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x758LL))(v17) )
      {
        v20 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x600LL))(v17);
        v21 = (_QWORD *)allocWithoutProfiling(8u);
        if ( v21 )
        {
          *v21 = a2;
          v31 = v21;
        }
        else
        {
          v31 = 0;
        }
        p_sub_14681B1F0 = sub_14681B1F0;
        p_sub_14681C8E0 = sub_14681C8E0;
        v22 = *(void (__fastcall **)(__int64, __int64 (__fastcall **)(), __int64, __int64))(*(_QWORD *)v20 + 0x10LL);
        v23 = (_QWORD *)allocWithoutProfiling(8u);
        if ( v23 )
        {
          *v23 = &p_sub_14681B1F0;
          v28 = v23;
        }
        else
        {
          v28 = 0;
        }
        p_sub_14681ABC0 = sub_14681ABC0;
        LOBYTE(v24) = 1;
        p_sub_14681B650 = sub_14681B650;
        v22(v20, &p_sub_14681ABC0, v24, 0x72);
        if ( (unsigned __int64)p_sub_14681B650 >= 2 )
        {
          ((void (__fastcall *)(__int64, __int64 (__fastcall **)()))p_sub_14681B650)(2, &p_sub_14681ABC0);
        }
        if ( (unsigned __int64)p_sub_14681C8E0 >= 2 )
        {
          ((void (__fastcall *)(__int64, __int64 (__fastcall **)()))p_sub_14681C8E0)(2, &p_sub_14681B1F0);
        }
      }
    }
  }
  return sub_1402D0950(v2);
}

// --- End Function: sub_146889280 (0x146889280) ---

// --- Function: sub_146889840 (0x146889840) ---
__int64 __fastcall sub_146889840(__int64 a1, __int64 a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int64 v5; // rsi
  unsigned __int64 v7; // r8
  unsigned __int64 v9; // rbx
  __int64 (__fastcall *v10)(unsigned __int64, _BYTE *, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v12; // rdi
  bool v13; // r14
  unsigned __int64 v14; // rbx
  __int64 (__fastcall *v15)(unsigned __int64, _BYTE *, __int16 *); // r15
  __int16 n0xFFFF_2; // ax
  __int64 v17; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  char v20; // bl
  bool v21; // al
  __int64 v23; // rdi
  __int64 v24; // rax
  volatile signed __int64 *v25; // rbx
  int v26; // edi
  unsigned __int64 v27; // rax
  __int64 (__fastcall ***v28)(_QWORD, __int64, __int64); // rax
  unsigned int v29; // eax
  unsigned int v30; // edi
  int v31; // eax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v33; // [rsp+30h] [rbp-D0h] BYREF
  _BYTE v34[2]; // [rsp+38h] [rbp-C8h] BYREF
  _BYTE v35[6]; // [rsp+3Ah] [rbp-C6h] BYREF
  unsigned __int64 v36; // [rsp+40h] [rbp-C0h] BYREF
  unsigned __int64 v37; // [rsp+48h] [rbp-B8h] BYREF
  __int64 v38; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v39; // [rsp+58h] [rbp-A8h] BYREF
  _BYTE v40[8]; // [rsp+60h] [rbp-A0h] BYREF
  _BYTE v41[8]; // [rsp+68h] [rbp-98h] BYREF
  int n8; // [rsp+70h] [rbp-90h] BYREF
  double v43; // [rsp+78h] [rbp-88h]
  __int128 v45; // [rsp+90h] [rbp-70h]
  __int128 v46; // [rsp+A0h] [rbp-60h]
  __int128 v47; // [rsp+B0h] [rbp-50h]
  __int128 v48; // [rsp+C0h] [rbp-40h]
  __int128 v49; // [rsp+D0h] [rbp-30h]
  __int128 v50; // [rsp+E0h] [rbp-20h]
  float v51; // [rsp+F0h] [rbp-10h]
  float v52; // [rsp+F4h] [rbp-Ch]
  float v53; // [rsp+F8h] [rbp-8h]
  int v54; // [rsp+FCh] [rbp-4h]
  __int128 v55; // [rsp+100h] [rbp+0h]
  int v56; // [rsp+110h] [rbp+10h]
  float v57; // [rsp+114h] [rbp+14h]
  unsigned int v58; // [rsp+118h] [rbp+18h]
  unsigned int v59; // [rsp+11Ch] [rbp+1Ch]
  __int128 v60; // [rsp+120h] [rbp+20h]
  __int16 n0xFFFF_1; // [rsp+180h] [rbp+80h] BYREF
  __int16 n0xFFFF_3; // [rsp+188h] [rbp+88h] BYREF

  v5 = a3;
  if ( !a3 )
  {
    v7 = *(_QWORD *)(a1 + 0x438);
    if ( !v7 )
    {
      return 0;
    }
    v5 = 0;
    if ( *(_QWORD *)((v7 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v7) )
    {
      v5 = v7 & 0xFFFFFFFFFFFFLL;
    }
    if ( !v5 )
    {
      return 0;
    }
  }
  (*(void (__fastcall **)(__int64, unsigned __int64 *, __int64))(*(_QWORD *)global_validator_object + 0x180LL))(
    global_validator_object,
    &v33,
    v5);
  if ( is_valid_handle_typeB(&v33) && (_BYTE)isEditor )
  {
    (*(void (__fastcall **)(unsigned __int64, unsigned __int64 *))(*(_QWORD *)(v33 & 0xFFFFFFFFFFFFLL) + 0x150LL))(
      v33 & 0xFFFFFFFFFFFFLL,
      &v37);
    v9 = v33 & 0xFFFFFFFFFFFFLL;
    v10 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int16 *))(*(_QWORD *)(v33 & 0xFFFFFFFFFFFFLL) + 0x338LL);
    n0xFFFF = n0xFFFF_49;
    if ( n0xFFFF_49 == (__int16)0xFFFF )
    {
      n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                    + 0x10LL))(
                            global_dispatcher_ptr,
                            v34,
                            "IEntityPhysicalProxy");
      n0xFFFF_49 = n0xFFFF;
    }
    n0xFFFF_1 = n0xFFFF;
    v12 = *(_QWORD *)v10(v9, v40, &n0xFFFF_1);
    v38 = v12;
    if ( is_valid_handle_typeB(&v37) && AssetMeta::HasActorSubresource(&v38) )
    {
      v60 = v3;
      (*(void (__fastcall **)(unsigned __int64, unsigned __int64 *))(*(_QWORD *)(v37 & 0xFFFFFFFFFFFFLL) + 0x3B8LL))(
        v37 & 0xFFFFFFFFFFFFLL,
        &v36);
      if ( v36 )
      {
        v13 = *(_QWORD *)((v36 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v36);
      }
      else
      {
        v13 = 0;
      }
      v14 = v33 & 0xFFFFFFFFFFFFLL;
      v15 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int16 *))(*(_QWORD *)(v33 & 0xFFFFFFFFFFFFLL)
                                                                           + 0x338LL);
      n0xFFFF_2 = n0xFFFF_26;
      if ( n0xFFFF_26 == (__int16)0xFFFF )
      {
        n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                        + 0x10LL))(
                                global_dispatcher_ptr,
                                v35,
                                "IEntityPhysicsController");
        n0xFFFF_26 = n0xFFFF_2;
      }
      n0xFFFF_3 = n0xFFFF_2;
      v17 = *(_QWORD *)v15(v14, v41, &n0xFFFF_3);
      v39 = v17;
      if ( v17
        && (handle_metadata_ptr = get_handle_metadata_ptr(v17 & 0xFFFFFFFFFFFFLL),
            n4 = *(_WORD *)(handle_metadata_ptr + 4),
            n4 != 4)
        && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v17) & 0xFFF)
        && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v39)) )
      {
        v20 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v17 & 0xFFFFFFFFFFFFLL) + 0x5C0LL))(v17 & 0xFFFFFFFFFFFFLL);
      }
      else
      {
        v20 = 1;
      }
      v21 = v13
         && ((*(int (__fastcall **)(unsigned __int64))(*(_QWORD *)(v36 & 0xFFFFFFFFFFFFLL) + 8LL))(v36 & 0xFFFFFFFFFFFFLL) <= 3
          || (*(unsigned int (__fastcall **)(unsigned __int64))(*(_QWORD *)(v36 & 0xFFFFFFFFFFFFLL) + 8LL))(v36 & 0xFFFFFFFFFFFFLL) == 0xA)
         && (*(int (__fastcall **)(__int64))(*(_QWORD *)v5 + 8LL))(v5) <= 2;
      _XMM1 = 0;
      v58 = 0x80000000;
      v54 = 0;
      v56 = 0;
      v59 = 0x80000000;
      n8 = 8;
      v43 = 0.0;
      v51 = 0.0;
      v52 = 0.0;
      v53 = 0.0;
      v57 = 0.0;
      __asm { vmovupd [rbp+60h+var_E0], xmm1 }
      v45 = 0;
      v46 = 0;
      v47 = 0;
      v48 = 0;
      v49 = 0;
      v50 = 0;
      v55 = 0;
      if ( v21
        && !v20
        && (*(unsigned int (__fastcall **)(unsigned __int64))(*(_QWORD *)(v33 & 0xFFFFFFFFFFFFLL) + 0x170LL))(v33 & 0xFFFFFFFFFFFFLL) == 1 )
      {
        v23 = v12 & 0xFFFFFFFFFFFFLL;
        if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v23 + 0x748LL))(v23) )
        {
          if ( (*(unsigned int (__fastcall **)(__int64, int *))(*(_QWORD *)v5 + 0x28LL))(v5, &n8) )
          {
            if ( v52 != 0.0 )
            {
              v24 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v23 + 0x6B8LL))(v23);
              if ( v24 )
              {
                sub_1404002E0(v24);
              }
            }
          }
        }
      }
    }
  }
  v25 = (volatile signed __int64 *)(a1 + 0x4E0);
  v26 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(a1 + 0x4E8) == v26 )
  {
    ++*(_DWORD *)(a1 + 0x4EC);
  }
  else
  {
    v27 = _InterlockedCompareExchange64(v25, 0x200000, 0);
    if ( v27 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)(a1 + 0x4E0),
        v27,
        0,
        (__int64)"CPhysicalProxy::SetParams",
        (__int64)"m_queueLock",
        1);
    }
    *(_DWORD *)(a1 + 0x4E8) = v26;
  }
  v28 = (__int64 (__fastcall ***)(_QWORD, __int64, __int64))sub_14684DBC0(a1);
  if ( v28 )
  {
    v29 = (**v28)(v28, v5, a2);
  }
  else
  {
    v29 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v5 + 0x18LL))(v5, a2, 0);
  }
  v30 = v29;
  if ( a1 != 0xFFFFFFFFFFFFFB20uLL )
  {
    v31 = *(_DWORD *)(a1 + 0x4EC);
    if ( v31 )
    {
      *(_DWORD *)(a1 + 0x4EC) = v31 - 1;
    }
    else
    {
      *(_DWORD *)(a1 + 0x4E8) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(v25, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
      {
        sub_1403D8A00((volatile signed __int64 *)(a1 + 0x4E0), n0x200000);
      }
    }
  }
  return v30;
}

// --- End Function: sub_146889840 (0x146889840) ---

// --- Function: sub_146889D00 (0x146889D00) ---
char __fastcall sub_146889D00(__int64 a1, int a2, int a3)
{
  unsigned __int64 v3; // rsi
  unsigned __int64 v5; // rbp
  __int64 v6; // rdi
  signed __int64 v7; // rdx
  unsigned __int64 v8; // rax
  __int64 v9; // rax
  __int64 v10; // rdx
  __int64 v11; // rbx
  bool v12; // zf
  __int64 v13; // rax

  v3 = a3;
  v5 = a2;
  if ( a2 < 0 || a3 < 0 )
  {
    return 0;
  }
  v6 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0xC);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v6,
        v7,
        (__int64)"CRenderProxy::SetParentSlot",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  v8 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( v5 >= v8
    || v3 >= v8
    || (v9 = *(_QWORD *)(a1 + 0xD8), v10 = *(_QWORD *)(v9 + 8 * v5), v11 = *(_QWORD *)(v9 + 8 * v3), !v10)
    || !v11 )
  {
    sub_1402D0950(v6);
    return 0;
  }
  v12 = *(_QWORD *)v11 == 0;
  *(_QWORD *)(v11 + 0x50) = v10;
  if ( v12 )
  {
    v13 = allocWithoutProfiling(0x40u);
    if ( v13 )
    {
      *(_DWORD *)(v13 + 0xC) = 0x3F800000;
      *(_QWORD *)v13 = 0;
      *(_DWORD *)(v13 + 8) = 0;
      *(_QWORD *)(v13 + 0x10) = 0;
      *(_DWORD *)(v13 + 0x18) = 0;
      *(_QWORD *)(v13 + 0x1C) = 0x3F800000;
      *(_DWORD *)(v13 + 0x2C) = 0x3F800000;
      *(_QWORD *)(v13 + 0x24) = 0;
      *(_QWORD *)(v13 + 0x30) = 0;
      *(_DWORD *)(v13 + 0x38) = 0;
      *(_DWORD *)(v13 + 0x3C) = 0x3F800000;
    }
    else
    {
      v13 = 0;
    }
    *(_QWORD *)v11 = v13;
  }
  *(_BYTE *)(v11 + 0xDB) &= ~0x10u;
  sub_1402D0950(v6);
  return 1;
}

// --- End Function: sub_146889D00 (0x146889D00) ---

// --- Function: sub_14688A0C0 (0x14688A0C0) ---
__int64 __fastcall sub_14688A0C0(__int64 a1, unsigned int a2, _QWORD *a3)
{
  signed __int64 v5; // rdx
  __int64 v6; // rbp
  void (__fastcall *v7)(_QWORD *, __int64, _QWORD); // r12
  __int64 v8; // rdx
  __int64 n0x3E8; // rdx
  __int64 v10; // rdx
  __int64 v11; // rdx
  unsigned int v13; // [rsp+58h] [rbp+10h] BYREF

  v13 = a2;
  sub_146869400(a1, (int *)&v13, 0xFFFFFFFF);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x208));
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v5,
        (__int64)"CRenderProxy::SetParticleEmitter",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v13 )
  {
    __debugbreak();
  }
  v6 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v13);
  (*(void (__fastcall **)(_QWORD *))(a3[6] + 8LL))(a3 + 6);
  sub_14687EE10(v6);
  *(_QWORD *)(v6 + 0x90) = a3;
  v7 = *(void (__fastcall **)(_QWORD *, __int64, _QWORD))(*a3 + 0x268LL);
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v8 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v8 = 0;
  }
  v7(a3, v8, v13);
  if ( *(_QWORD *)(v6 + 0xC0) || *(_QWORD *)(a1 + 0x150) )
  {
    (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v6 + 0x90) + 0x128LL))(*(_QWORD *)(v6 + 0x90));
  }
  n0x3E8 = 0x3E8;
  if ( *(_BYTE *)(a1 + 0x8D) != 0xFF )
  {
    n0x3E8 = *(unsigned __int8 *)(a1 + 0x8D);
  }
  (*(void (__fastcall **)(_QWORD *, __int64))(*a3 + 0x198LL))(a3, n0x3E8);
  v10 = *(_DWORD *)(a1 + 0x80) >> 8;
  LOBYTE(v10) = BYTE1(*(_DWORD *)(a1 + 0x80)) & 1;
  (*(void (__fastcall **)(_QWORD *, __int64))(*a3 + 0x98LL))(a3, v10);
  LOBYTE(v11) = 1;
  sub_146861940(a1, v11);
  sub_146899250(a1);
  sub_14687AB70(a1, v6);
  sub_1402D0950(a1 + 0x208);
  return v13;
}

// --- End Function: sub_14688A0C0 (0x14688A0C0) ---

// --- Function: sub_14688A2F0 (0x14688A2F0) ---
void __fastcall sub_14688A2F0(__int64 a1, int a2, __int64 *a3)
{
  unsigned __int64 v3; // r9
  int v5; // r15d
  __int64 v7; // rcx
  unsigned __int64 *v8; // rbx
  __int64 v9; // rcx
  signed __int64 v10; // rdx
  _DWORD *v11; // rdi
  _DWORD *v12; // rbp
  _QWORD *v13; // r12
  int v14; // eax
  __int64 v15; // rcx
  __int64 v16; // rax
  __int64 v17; // rax
  __int64 v18; // rdx
  int v19; // edi
  __int64 v20; // r8
  unsigned __int64 v21; // r13
  __int64 v22; // rdx
  __int64 v23; // rdx
  __int64 v24; // rdx
  __int64 v25; // rdx
  __int64 v26; // rdx
  unsigned __int64 v27; // rcx
  __int64 v28; // r14
  signed __int64 v29; // rdx
  __int64 v30; // rcx
  unsigned __int64 v31; // rax
  __int64 v32; // rbx
  __int64 v33; // rdx
  __int64 v34; // rdx
  int v35; // ebp
  __int64 v36; // r8
  unsigned __int64 v37; // rdi
  __int64 v38; // rcx
  __int64 v39; // r9
  __int64 v40; // r9
  __int64 v41; // rcx
  __int64 v42; // r9
  __int64 v43; // r9
  int v44; // [rsp+30h] [rbp-388h]
  _DWORD *v46; // [rsp+38h] [rbp-380h]
  _DWORD *v47; // [rsp+40h] [rbp-378h]
  _BYTE v48[4]; // [rsp+50h] [rbp-368h] BYREF
  int v49; // [rsp+54h] [rbp-364h]
  int v50; // [rsp+5Ch] [rbp-35Ch]
  char v51[8]; // [rsp+90h] [rbp-328h] BYREF
  char v52[72]; // [rsp+98h] [rbp-320h] BYREF
  _BYTE *v53; // [rsp+E0h] [rbp-2D8h]
  int v54; // [rsp+E8h] [rbp-2D0h]
  _BYTE v55[512]; // [rsp+170h] [rbp-248h] BYREF

  v3 = *(_QWORD *)(a1 + 0x438);
  v5 = a2;
  if ( v3 && *(_QWORD *)((v3 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v3) && *a3 )
  {
    sub_14036CCA0((__int64)v48);
    v7 = *a3;
    v50 = 0;
    v54 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64, char *, char *))(*(_QWORD *)v7 + 0x170LL))(
            v7,
            v55,
            0x80,
            v52,
            v51);
    v8 = (unsigned __int64 *)(a1 + 8);
    v53 = v55;
    v9 = is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) ? *v8 & 0xFFFFFFFFFFFFLL : 0LL;
    if ( sub_1468DE420(v9) )
    {
      if ( *(_DWORD *)(a1 + 0x520) == *(_DWORD *)(a1() + 0x18) )
      {
        ++*(_DWORD *)(a1 + 0x524);
      }
      else
      {
        v10 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x518));
        if ( (v10 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            (volatile signed __int64 *)(a1 + 0x518),
            v10,
            (__int64)"CPhysicalProxy::SetPhysicsMaterial",
            (__int64)"m_compoundedPhysicsBlocksLock",
            1);
        }
      }
      v11 = *(_DWORD **)(a1 + 0x500);
      v12 = *(_DWORD **)(a1 + 0x508);
      v46 = v11;
      v47 = v12;
      if ( v11 != v12 )
      {
        v13 = v11 + 0x12;
        do
        {
          if ( *v11 == 1 && v13[0xFFFFFFF8] == *v8 )
          {
            v14 = *((_DWORD *)v13 + 0xFFFFFFF2);
            if ( v14 >= 0 && (v14 == v5 || v5 < 0) )
            {
              v15 = is_valid_handle_typeB(v8) ? *v8 & 0xFFFFFFFFFFFFLL : 0LL;
              v16 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x4E8LL))(v15, (unsigned int)v5);
              if ( v16 )
              {
                v17 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v16 + 0x30LL))(v16);
                if ( v17 )
                {
                  (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v17 + 0x288LL))(v17, v48);
                }
              }
              else
              {
                v18 = *v13;
                v19 = 0;
                v20 = v13[0xFFFFFFFF];
                v44 = 0;
                v21 = 0;
                if ( (*v13 - v20) >> 2 )
                {
                  do
                  {
                    if ( (v18 - v20) >> 2 <= v21 )
                    {
                      __debugbreak();
                    }
                    v49 = *(_DWORD *)(v13[0xFFFFFFFF] + 4 * v21);
                    sub_146889840(a1, v48, 0);
                    v22 = *(_QWORD *)(a1 + 0x448);
                    if ( v22 )
                    {
                      v23 = v22 & 0xFFFFFFFFFFFFLL;
                      if ( *(_QWORD *)(v23 + 8) == HIWORD(*(_QWORD *)(a1 + 0x448)) )
                      {
                        sub_146889840(a1, v48, v23);
                      }
                    }
                    v24 = *(_QWORD *)(a1 + 0x450);
                    if ( v24 )
                    {
                      v25 = v24 & 0xFFFFFFFFFFFFLL;
                      if ( *(_QWORD *)(v25 + 8) == HIWORD(*(_QWORD *)(a1 + 0x450)) )
                      {
                        sub_146889840(a1, v48, v25);
                      }
                    }
                    v26 = *(_QWORD *)(a1 + 0x4A8);
                    if ( v26 != a1 )
                    {
                      v27 = *(_QWORD *)(v26 + 0x438);
                      if ( v27 )
                      {
                        if ( *(_QWORD *)((*(_QWORD *)(v26 + 0x438) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v27) )
                        {
                          v28 = v26 + 0x518;
                          if ( *(_DWORD *)(v26 + 0x520) == *(_DWORD *)(a1() + 0x18) )
                          {
                            ++*(_DWORD *)(v28 + 0xC);
                          }
                          else
                          {
                            v29 = _InterlockedIncrement64((volatile signed __int64 *)v28);
                            if ( (v29 & 0x200000) != 0 )
                            {
                              sub_1403C6C70(
                                (volatile signed __int64 *)v28,
                                v29,
                                (__int64)"CPhysicalProxy::SetPhysicsMaterial",
                                (__int64)"m_pAdamProxy->m_compoundedPhysicsBlocksLock",
                                1);
                            }
                          }
                          v30 = *(_QWORD *)(a1 + 0x4A8);
                          v31 = *v8;
                          v32 = *(_QWORD *)(v30 + 0x500);
                          v33 = *(_QWORD *)(v30 + 0x508);
                          if ( v32 != v33 )
                          {
                            while ( *(_QWORD *)(v32 + 8) != v31 || *(_DWORD *)(v32 + 0x10) != v5 && v5 >= 0 )
                            {
                              v32 += 0x78;
                              if ( v32 == v33 )
                              {
                                goto LABEL_59;
                              }
                            }
                            v34 = *(_QWORD *)(v32 + 0x48);
                            v35 = 0;
                            v36 = *(_QWORD *)(v32 + 0x40);
                            v37 = 0;
                            if ( (v34 - v36) >> 2 )
                            {
                              do
                              {
                                if ( (v34 - v36) >> 2 <= v37 )
                                {
                                  __debugbreak();
                                }
                                v49 = *(_DWORD *)(*(_QWORD *)(v32 + 0x40) + 4 * v37);
                                sub_146889840(*(_QWORD *)(a1 + 0x4A8), v48, 0);
                                v38 = *(_QWORD *)(a1 + 0x4A8);
                                v39 = *(_QWORD *)(v38 + 0x448);
                                if ( v39 )
                                {
                                  v40 = v39 & 0xFFFFFFFFFFFFLL;
                                  if ( *(_QWORD *)(v40 + 8) == HIWORD(*(_QWORD *)(v38 + 0x448)) )
                                  {
                                    sub_146889840(v38, v48, v40);
                                  }
                                }
                                v41 = *(_QWORD *)(a1 + 0x4A8);
                                v42 = *(_QWORD *)(v41 + 0x450);
                                if ( v42 )
                                {
                                  v43 = v42 & 0xFFFFFFFFFFFFLL;
                                  if ( *(_QWORD *)(v43 + 8) == HIWORD(*(_QWORD *)(v41 + 0x450)) )
                                  {
                                    sub_146889840(v41, v48, v43);
                                  }
                                }
                                v34 = *(_QWORD *)(v32 + 0x48);
                                ++v35;
                                v36 = *(_QWORD *)(v32 + 0x40);
                                ++v37;
                              }
                              while ( v35 < (unsigned __int64)((v34 - v36) >> 2) );
                              v5 = a2;
                            }
                            v19 = v44;
                          }
LABEL_59:
                          sub_1402D0950(v28);
                          v8 = (unsigned __int64 *)(a1 + 8);
                        }
                      }
                    }
                    v18 = *v13;
                    ++v19;
                    v20 = v13[0xFFFFFFFF];
                    ++v21;
                    v44 = v19;
                  }
                  while ( v19 < (unsigned __int64)((*v13 - v20) >> 2) );
                  v12 = v47;
                }
                v11 = v46;
              }
              if ( v5 >= 0 )
              {
                break;
              }
            }
          }
          v11 += 0x1E;
          v13 += 0xF;
          v46 = v11;
        }
        while ( v11 != v12 );
      }
      sub_1402D0950(a1 + 0x518);
    }
  }
}

// --- End Function: sub_14688A2F0 (0x14688A2F0) ---

// --- Function: sub_14688B150 (0x14688B150) ---
__int64 __fastcall sub_14688B150(__int64 a1, int a2, __int64 a3, __int64 *a4)
{
  unsigned int v4; // ebx
  signed __int64 v7; // rdx
  unsigned int v8; // r12d
  __int64 v9; // rbp
  __int64 v10; // rcx
  __int64 v11; // r15
  __int64 (__fastcall *v12)(__int64, _BYTE *, unsigned int *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v14; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 (__fastcall *v17)(__int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_1; // ax
  __int64 v19; // rcx
  __int64 v20; // rax
  void (__fastcall *v21)(__int64 *, __int64 *); // rbx
  void (__fastcall *v22)(__int64 *, __int64); // rbx
  __int64 v23; // rax
  __int64 v24; // rax
  __int64 v25; // rdx
  _BYTE v27[8]; // [rsp+30h] [rbp-98h] BYREF
  __int64 v28; // [rsp+38h] [rbp-90h] BYREF
  _BYTE v29[8]; // [rsp+40h] [rbp-88h] BYREF
  _BYTE v30[8]; // [rsp+48h] [rbp-80h] BYREF
  _BYTE v31[64]; // [rsp+50h] [rbp-78h] BYREF
  __int64 v32; // [rsp+D0h] [rbp+8h] BYREF
  unsigned int v33; // [rsp+D8h] [rbp+10h] BYREF
  char v34; // [rsp+E8h] [rbp+20h] BYREF

  v33 = a2;
  v4 = 0xFFFFFFFF;
  sub_146869400(a1, (int *)&v33, 0xFFFFFFFF);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x208));
    if ( (v7 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v7,
        (__int64)"CRenderProxy::SetSlotCharacter",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  v8 = v33;
  if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v33 )
  {
    __debugbreak();
  }
  v9 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v33);
  if ( *(__int64 **)(v9 + 0x80) != a4 )
  {
    if ( a4 )
    {
      (*(void (__fastcall **)(__int64 *))(*a4 + 8))(a4);
    }
    if ( *(_QWORD *)(v9 + 0x80) )
    {
      v10 = *(_QWORD *)(a1 + 0x190);
      if ( v10 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x10LL))(v10);
      }
    }
    sub_14687EE10(v9);
    if ( a4 )
    {
      if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
      {
        v11 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        v11 = 0;
      }
      v12 = *(__int64 (__fastcall **)(__int64, _BYTE *, unsigned int *))(*(_QWORD *)v11 + 0x338LL);
      n0xFFFF = n0xFFFF_87;
      if ( n0xFFFF_87 == (__int16)0xFFFF )
      {
        n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                     + 0x10LL))(
                              global_dispatcher_ptr,
                              &v34,
                              "EntityObjectComponentCharacter");
        n0xFFFF_87 = n0xFFFF;
      }
      LOWORD(v33) = n0xFFFF;
      v14 = *(_QWORD *)v12(v11, v29, &v33);
      v28 = v14;
      if ( !v14
        || (handle_metadata_ptr = get_handle_metadata_ptr(v14 & 0xFFFFFFFFFFFFLL),
            n4 = *(_WORD *)(handle_metadata_ptr + 4),
            n4 == 4)
        || *(_WORD *)(handle_metadata_ptr + 2) != (HIWORD(v14) & 0xFFF)
        || (n4 != 2 || *(_QWORD *)a1()) && !check_handle_access_by_state(&v28) )
      {
        v17 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)v11 + 0x330LL);
        n0xFFFF_1 = n0xFFFF_88;
        if ( n0xFFFF_88 == (__int16)0xFFFF )
        {
          n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                          + 0x10LL))(
                                  global_dispatcher_ptr,
                                  v27,
                                  "EntityObjectComponentCharacter");
          n0xFFFF_88 = n0xFFFF_1;
        }
        LOWORD(v32) = n0xFFFF_1;
        v14 = *(_QWORD *)v17(v11, v30, &v32);
      }
      *(_QWORD *)(v9 + 0xA0) = v14;
      sub_1467B7970(v14 & 0xFFFFFFFFFFFFLL, a4, v9, v8);
      *(_WORD *)(v9 + 0xD8) |= 1u;
      *(_QWORD *)(v9 + 0x80) = a4;
      (*(void (__fastcall **)(__int64 *, __int64))(*a4 + 0x160))(a4, a1 + 0x150);
      v19 = *(_QWORD *)(v9 + 0xC0);
      if ( v19 || (v19 = *(_QWORD *)(a1 + 0x150)) != 0 )
      {
        v20 = *a4;
        v32 = v19;
        v21 = *(void (__fastcall **)(__int64 *, __int64 *))(v20 + 0x170);
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v19 + 8LL))(v19);
        v21(a4, &v32);
      }
      (*(void (__fastcall **)(__int64 *, _QWORD, _QWORD))(*a4 + 0x288))(a4, *(_QWORD *)(a1 + 8), v8);
      v22 = *(void (__fastcall **)(__int64 *, __int64))(*a4 + 0x250);
      v23 = sub_146851080(a1, (__int64)v31, v8, 2, 0);
      v22(a4, v23);
      v24 = (*(__int64 (__fastcall **)(__int64 *))(*a4 + 0x20))(a4);
      if ( v24 )
      {
        (*(void (__fastcall **)(__int64, __int64 (__fastcall *)(), __int64))(*(_QWORD *)v24 + 0x198LL))(
          v24,
          sub_1468101A0,
          a1);
      }
      LOBYTE(v25) = 1;
      sub_146861940(a1, v25);
      v4 = 0xFFFFFFFF;
    }
    else
    {
      *(_WORD *)(v9 + 0xD8) &= ~1u;
    }
    sub_146899E40(a1);
    sub_14689D250(a1, v9);
    sub_14686E5E0(a1, (*(_DWORD *)(a1 + 0x80) & 0x100) != 0);
    sub_14687AB70(a1, v9);
    if ( a4 )
    {
      v4 = v8;
    }
    v8 = v4;
  }
  sub_1402D0950(a1 + 0x208);
  return v8;
}

// --- End Function: sub_14688B150 (0x14688B150) ---

// --- Function: sub_14688B500 (0x14688B500) ---
unsigned __int64 __fastcall sub_14688B500(__int64 a1, int a2, __int16 a3)
{
  unsigned __int64 v5; // rbx
  __int64 v6; // rcx
  __int64 v7; // r15
  volatile signed __int64 *v8; // r12
  int v9; // r9d
  signed __int64 v10; // rdx
  __int64 *v11; // rdi
  __int64 *v12; // rbx
  __int64 v13; // rcx
  __int16 v14; // dx
  __int64 v15; // rax
  unsigned __int64 v16; // rax
  __int64 v17; // rcx
  __int16 v18; // ax
  int n0xF00; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v21; // [rsp+34h] [rbp-CCh]
  int v22; // [rsp+3Ch] [rbp-C4h]
  __int64 v23; // [rsp+40h] [rbp-C0h]
  unsigned __int64 v24; // [rsp+48h] [rbp-B8h]
  __int64 v25; // [rsp+50h] [rbp-B0h]
  __int64 v26; // [rsp+58h] [rbp-A8h]
  int v27; // [rsp+80h] [rbp-80h] BYREF
  __int16 n0x100; // [rsp+84h] [rbp-7Ch]
  int v29; // [rsp+88h] [rbp-78h]
  char v30; // [rsp+8Ch] [rbp-74h]
  unsigned int v31; // [rsp+90h] [rbp-70h]
  unsigned int v32; // [rsp+94h] [rbp-6Ch]
  char v33; // [rsp+98h] [rbp-68h]
  unsigned __int64 v34; // [rsp+A0h] [rbp-60h]
  __int64 v35; // [rsp+A8h] [rbp-58h]
  __int64 v36; // [rsp+B0h] [rbp-50h]
  __int64 n0x81; // [rsp+B8h] [rbp-48h]
  __int128 v38; // [rsp+C0h] [rbp-40h]
  __int64 v39; // [rsp+D0h] [rbp-30h]
  char v40; // [rsp+D8h] [rbp-28h]
  __int128 v41; // [rsp+E0h] [rbp-20h]
  __int64 v42; // [rsp+F0h] [rbp-10h]
  char v43; // [rsp+F8h] [rbp-8h]
  float v44; // [rsp+FCh] [rbp-4h]
  __int64 v45; // [rsp+100h] [rbp+0h]
  int v46; // [rsp+108h] [rbp+8h]
  float v47; // [rsp+10Ch] [rbp+Ch]
  __int128 v48; // [rsp+110h] [rbp+10h]
  __int64 v49; // [rsp+120h] [rbp+20h]
  unsigned int v50; // [rsp+128h] [rbp+28h]
  __int128 v51; // [rsp+130h] [rbp+30h]
  __int128 v52; // [rsp+140h] [rbp+40h]
  int v53; // [rsp+150h] [rbp+50h]

  v5 = a2;
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
  {
    v6 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v6 = 0;
  }
  v7 = sub_1468DB500(v6);
  v8 = (volatile signed __int64 *)(a1 + 0x208);
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x214);
  }
  else
  {
    v10 = _InterlockedIncrement64(v8);
    if ( (v10 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0x208),
        v10,
        (__int64)"CRenderProxy::SetSlotFlags",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (v5 & 0x80000000) == 0LL )
  {
    v16 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
    if ( (int)v5 < (int)v16 )
    {
      if ( v16 <= v5 )
      {
        __debugbreak();
      }
      v17 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v5);
      if ( v17 )
      {
        v18 = *(_WORD *)(v17 + 0xD8);
        *(_WORD *)(v17 + 0xD8) = a3;
        if ( v7 )
        {
          if ( (((unsigned __int8)a3 ^ (unsigned __int8)v18) & 1) != 0 )
          {
            if ( (a3 & 1) != 0 )
            {
              sub_141E48570(&v27);
              v29 = v5;
              sub_1468760F0(v7, (__int64)&v27);
            }
            else
            {
              LOBYTE(v9) = 1;
              sub_146880D90(v7, v5, 1, v9, 1, 1);
            }
          }
        }
      }
    }
  }
  else
  {
    v11 = *(__int64 **)(a1 + 0xE0);
    v12 = *(__int64 **)(a1 + 0xD8);
    if ( v12 != v11 )
    {
      do
      {
        v13 = *v12;
        if ( *v12 )
        {
          v14 = *(_WORD *)(v13 + 0xD8);
          v15 = (__int64)(*(_QWORD *)(a1 + 0xD8) - (_QWORD)v12) >> 3;
          *(_WORD *)(v13 + 0xD8) = a3;
          if ( v7 )
          {
            if ( (((unsigned __int8)a3 ^ (unsigned __int8)v14) & 1) != 0 )
            {
              if ( (a3 & 1) != 0 )
              {
                v27 = 0;
                n0x100 = 0x100;
                v38 = 0;
                v41 = 0;
                v48 = 0;
                v51 = 0;
                v52 = 0;
                v44 = 0.0;
                v47 = 0.0;
                v30 = 0;
                v33 = 0;
                v34 = 0xFFFFFFFFFFFFFFFFuLL;
                v35 = 0;
                v36 = 0x1000007FFLL;
                n0x81 = 0x81;
                v39 = 0;
                v40 = 0;
                v42 = 0;
                v43 = 0;
                v45 = 0;
                v46 = 0;
                v49 = 0;
                v50 = 0xFFFFFFFF;
                v53 = 0;
                v32 = 0xFFBFFFFF;
                v31 = 0xFFBFFFFF;
                v29 = v15;
                sub_1468760F0(v7, (__int64)&v27);
              }
              else
              {
                LOBYTE(v9) = 1;
                sub_146880D90(v7, v15, 1, v9, 1, 1);
              }
            }
          }
        }
        ++v12;
      }
      while ( v12 != v11 );
      v8 = (volatile signed __int64 *)(a1 + 0x208);
    }
  }
  n0xF00 = 0xF00;
  v21 = 0;
  v22 = 0;
  v24 = 0;
  v25 = 0;
  v26 = 0;
  v23 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  *(_DWORD *)(a1 + 0x184) &= ~2u;
  if ( (*(_DWORD *)(a1 + 0x184) & 0x100) != 0 )
  {
    sub_1468999F0(a1);
  }
  v24 = __rdtsc();
  psub_7FF6AAB93930(&n0xF00);
  return sub_1402D0950((__int64)v8);
}

// --- End Function: sub_14688B500 (0x14688B500) ---

// --- Function: sub_14688B840 (0x14688B840) ---
__int64 __fastcall sub_14688B840(__int64 a1, int a2, _QWORD *a3, char a4)
{
  __int64 v4; // r13
  unsigned int v6; // ebp
  __int64 v8; // r14
  signed __int64 v9; // rdx
  __int64 v10; // rcx
  __int64 v11; // rax
  __int64 v12; // rcx
  __int64 v13; // rax
  __int64 v14; // rbx
  __int64 v15; // rdi
  __int64 *v16; // rbx
  __int64 v17; // rdi
  int v18; // eax
  signed __int64 v19; // r15
  __int64 v20; // rbx
  __int64 v21; // rbx
  void (__fastcall ***v22)(_QWORD); // r14
  __int64 v23; // rcx
  __int64 v24; // rdx
  __int64 v25; // rdx
  signed __int64 v26; // r15
  __int64 v27; // rdi
  __int64 v28; // rcx
  __int16 v29; // ax
  __int16 v30; // cx
  __int16 v31; // ax
  int v33; // [rsp+20h] [rbp-58h]
  __int64 *v34; // [rsp+40h] [rbp-38h] BYREF
  unsigned int v35; // [rsp+88h] [rbp+10h] BYREF

  v35 = a2;
  v4 = 0;
  v6 = a2;
  if ( !a4 )
  {
    goto LABEL_45;
  }
  v8 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v8 + 0xC);
  }
  else
  {
    v9 = _InterlockedIncrement64((volatile signed __int64 *)v8);
    if ( (v9 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v8,
        v9,
        (__int64)"CRenderProxy::GetCompoundObj",
        (__int64)"m_SlotsLock",
        1);
    }
    v6 = v35;
  }
  v10 = *(_QWORD *)(a1 + 0xD8);
  v11 = *(_QWORD *)(a1 + 0xE0);
  if ( v10 == v11 )
  {
    goto LABEL_44;
  }
  if ( !((v11 - v10) >> 3) )
  {
    __debugbreak();
  }
  if ( !*(_QWORD *)v10 )
  {
    goto LABEL_44;
  }
  if ( !((*(_QWORD *)(a1 + 0xE0) - v10) >> 3) )
  {
    __debugbreak();
  }
  v12 = *(_QWORD *)(*(_QWORD *)v10 + 0x58LL);
  if ( !v12 || (v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x30LL))(v12), (v14 = v13) == 0) )
  {
LABEL_44:
    sub_1402D0950(v8);
LABEL_45:
    sub_146869400(a1, (int *)&v35, 0xFFFFFFFF);
    if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0x214);
    }
    else
    {
      v26 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x208));
      if ( (v26 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)(a1 + 0x208),
          v26,
          (__int64)"CRenderProxy::SetSlotGeometry",
          (__int64)"m_SlotsLock",
          1);
      }
    }
    v6 = v35;
    if ( (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3 <= (unsigned __int64)(int)v35 )
    {
      __debugbreak();
    }
    v27 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8LL * (int)v35);
    v28 = *(_QWORD *)(v27 + 0x58);
    if ( v28 )
    {
      v4 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v28 + 0x30LL))(v28);
    }
    if ( v4 != *a3 )
    {
      sub_14687EE10(v27);
      v29 = *(_WORD *)(v27 + 0xD8);
      v30 = v29 | 1;
      v31 = v29 & 0xFFFE;
      if ( !*a3 )
      {
        v30 = v31;
      }
      *(_WORD *)(v27 + 0xD8) = v30;
      sub_14688C230(v27, *a3);
      sub_14687B6E0(a1, v27);
      sub_14689D250(a1, v27);
      sub_1402D0950(a1 + 0x208);
      v6 = v35;
      goto LABEL_58;
    }
    LOBYTE(v25) = 1;
    sub_146861940(a1, v25);
    sub_1402D0950(a1 + 0x208);
    return v6;
  }
  v15 = 0;
  if ( ((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x120LL))(v13) & 0x20) != 0 )
  {
    v15 = v14;
  }
  sub_1402D0950(v8);
  if ( !v15 || *a3 && ((*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 0x120LL))(*a3) & 0x20) != 0 )
  {
    goto LABEL_45;
  }
  if ( (v6 & 0x80000000) != 0 )
  {
    v6 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x3D8LL))(v15);
    v35 = v6;
  }
  if ( ((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x120LL))(v15) & 4) == 0 )
  {
    LOBYTE(v33) = 1;
    (*(void (__fastcall **)(__int64, __int64 **, _QWORD, _QWORD, int, char, _BYTE))(*(_QWORD *)v15 + 0x518LL))(
      v15,
      &v34,
      0,
      0,
      v33,
      1,
      0);
    v16 = v34;
    v17 = *v34;
    v18 = (*(__int64 (__fastcall **)(__int64 *))(*v34 + 0x120))(v34);
    (*(void (__fastcall **)(__int64 *, _QWORD))(v17 + 0x108))(v16, v18 | 4u);
    (*(void (__fastcall **)(__int64 *))*v34)(v34);
    if ( *(_DWORD *)(v8 + 8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v8 + 0xC);
    }
    else
    {
      v19 = _InterlockedIncrement64((volatile signed __int64 *)v8);
      if ( (v19 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v8,
          v19,
          (__int64)"CRenderProxy::SetSlotGeometry",
          (__int64)"m_SlotsLock",
          1);
      }
      v6 = v35;
    }
    if ( !((__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3) )
    {
      __debugbreak();
    }
    v20 = **(_QWORD **)(a1 + 0xD8);
    sub_14687EE10(v20);
    v15 = (__int64)v34;
    sub_14688C230(v20, v34);
    sub_14687B6E0(a1, v20);
    sub_14689D250(a1, v20);
    sub_1402D0950(v8);
    if ( v34 )
    {
      (*(void (__fastcall **)(__int64 *))(*v34 + 8))(v34);
    }
    v34 = 0;
  }
  v21 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3F8LL))(v15, v6);
  if ( !v21 )
  {
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3E8LL))(v15, v6 + 1);
    v21 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3F8LL))(v15, v6);
LABEL_35:
    v22 = (void (__fastcall ***)(_QWORD))*a3;
    if ( *(_QWORD *)(v21 + 0xA0) != *a3 )
    {
      if ( v22 )
      {
        (**v22)(*a3);
      }
      v23 = *(_QWORD *)(v21 + 0xA0);
      if ( v23 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v23 + 8LL))(v23);
      }
      *(_QWORD *)(v21 + 0xA0) = v22;
    }
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3A8LL))(v15, 0);
LABEL_58:
    LOBYTE(v24) = 1;
    sub_146861940(a1, v24);
    sub_146899E40(a1);
    sub_14686E5E0(a1, (*(_DWORD *)(a1 + 0x80) & 0x100) != 0);
    return v6;
  }
  if ( *(_QWORD *)(v21 + 0xA0) != *a3 )
  {
    goto LABEL_35;
  }
  (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3A8LL))(v15, 0);
  return v6;
}

// --- End Function: sub_14688B840 (0x14688B840) ---

// --- Function: sub_14688BCB0 (0x14688BCB0) ---
unsigned __int64 __fastcall sub_14688BCB0(__int64 a1, int a2, _QWORD *a3)
{
  unsigned __int64 v4; // rbx
  __int64 v6; // rdi
  signed __int64 v7; // rdx
  unsigned __int64 v8; // rax
  __int64 v9; // rbx
  __int64 v10; // rcx
  __int64 v11; // rcx
  __int64 v12; // rcx
  __int64 *v13; // r14
  __int64 v14; // rax
  __int64 v15; // rcx
  void (__fastcall *v16)(__int64 *, __int64 *); // r15
  __int64 v17; // rcx
  __int64 v19; // [rsp+50h] [rbp+8h] BYREF

  v4 = a2;
  v6 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0xC);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v6,
        v7,
        (__int64)"CRenderProxy::SetSlotMaterial",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (v4 & 0x80000000) == 0LL )
  {
    v8 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
    if ( (int)v4 < (int)v8 )
    {
      if ( v8 <= v4 )
      {
        __debugbreak();
      }
      v9 = *(_QWORD *)(*(_QWORD *)(a1 + 0xD8) + 8 * v4);
      if ( v9 )
      {
        sub_140374B90(v9 + 0xC0, a3);
        v10 = *(_QWORD *)(v9 + 0x88);
        if ( v10 )
        {
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v10 + 0x128LL))(v10, a3);
        }
        v11 = *(_QWORD *)(v9 + 0x58);
        if ( v11 )
        {
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v11 + 0x20LL))(v11, *a3);
        }
        v12 = *(_QWORD *)(v9 + 0x90);
        if ( v12 )
        {
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v12 + 0x128LL))(v12, a3);
        }
        v13 = *(__int64 **)(v9 + 0x80);
        if ( v13 )
        {
          v14 = *v13;
          v15 = *a3;
          v19 = v15;
          v16 = *(void (__fastcall **)(__int64 *, __int64 *))(v14 + 0x170);
          if ( v15 )
          {
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v15 + 8LL))(v15);
          }
          v16(v13, &v19);
        }
        v17 = *(_QWORD *)(v9 + 0x68);
        if ( v17 && (*(_WORD *)(v9 + 0xD8) & 0x100) == 0 )
        {
          if ( *(_QWORD *)(a1 + 0x150) )
          {
            a3 = (_QWORD *)(a1 + 0x150);
          }
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v17 + 0x50LL))(v17, a3);
        }
        sub_14689D250(a1, v9);
        sub_14687B6E0(a1, v9);
      }
    }
  }
  return sub_1402D0950(v6);
}

// --- End Function: sub_14688BCB0 (0x14688BCB0) ---

// --- Function: sub_146895B70 (0x146895B70) ---
__int64 __fastcall sub_146895B70(__int64 a1)
{
  unsigned __int64 v1; // rdx
  __int64 result; // rax
  int n0x1A; // [rsp+20h] [rbp-28h] BYREF
  __int64 v4; // [rsp+28h] [rbp-20h]
  int v5; // [rsp+30h] [rbp-18h]

  if ( *(_QWORD *)(a1 + 0x4C0) )
  {
    v1 = *(_QWORD *)(a1 + 0x438);
    if ( v1 )
    {
      result = v1 & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)((v1 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v1) )
      {
        v4 = *(_QWORD *)(a1 + 0x4C0);
        v5 = 0;
        n0x1A = 0x1A;
        return sub_1468091D0(a1, &n0x1A, 0);
      }
    }
  }
  return result;
}

// --- End Function: sub_146895B70 (0x146895B70) ---

// --- Function: sub_146896820 (0x146896820) ---
void __fastcall sub_146896820(__int64 a1)
{
  unsigned int v2; // ebx
  __int64 v3; // rcx
  __int64 v4; // rax
  __int64 v5; // rax

  if ( (*(_DWORD *)(a1 + 0x1B0) & 0x80u) != 0 )
  {
    v2 = *(_DWORD *)(a1 + 0x1B0) & 0xF;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v3 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v3 = 0;
    }
    v4 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v3 + 0x4E8LL))(v3, v2);
    if ( v4 )
    {
      v5 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x30LL))(v4);
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v5 + 0x50LL))(v5, *(_QWORD *)(a1 + 0x438));
    }
  }
}

// --- End Function: sub_146896820 (0x146896820) ---

// --- Function: sub_14689A720 (0x14689A720) ---
void __fastcall sub_14689A720(__int64 a1, char a2)
{
  unsigned __int64 v3; // rcx
  unsigned __int64 v5; // rcx
  __int64 v6; // rdi
  __int64 v7; // rcx
  __int64 v18; // rcx
  unsigned __int64 v19; // rcx
  __int64 v20; // rsi
  __int64 *v21; // r14
  double *v22; // rax
  double v23; // xmm12_8
  double v24; // xmm13_8
  double v25; // xmm14_8
  double v26; // xmm15_8
  double v27; // xmm5_8
  __int128 v28; // xmm9
  double v29; // xmm11_8
  __int128 v33; // kr00_16
  __int128 v34; // xmm2
  __int64 v40; // rax
  unsigned __int64 v45; // rax
  __int64 v46; // rcx
  __int64 v47; // r8
  unsigned __int64 v48; // rcx
  __int64 v49; // rax
  double v50; // [rsp+30h] [rbp-D0h] BYREF
  double v51; // [rsp+38h] [rbp-C8h]
  double v52; // [rsp+40h] [rbp-C0h]
  double v53; // [rsp+48h] [rbp-B8h]
  __int128 v54; // [rsp+50h] [rbp-B0h]
  double v55; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v56; // [rsp+68h] [rbp-98h]
  int v57; // [rsp+70h] [rbp-90h] BYREF
  __int128 v58; // [rsp+78h] [rbp-88h]
  double v59; // [rsp+88h] [rbp-78h]
  float v60; // [rsp+90h] [rbp-70h]
  float v61; // [rsp+94h] [rbp-6Ch]
  float v62; // [rsp+98h] [rbp-68h]
  float v63; // [rsp+9Ch] [rbp-64h]
  float v64; // [rsp+A0h] [rbp-60h]
  unsigned int v65; // [rsp+A4h] [rbp-5Ch]
  int v66; // [rsp+A8h] [rbp-58h]
  char v67; // [rsp+ACh] [rbp-54h]
  __int64 v68; // [rsp+B0h] [rbp-50h]
  int v69; // [rsp+C0h] [rbp-40h] BYREF
  __int128 v70; // [rsp+C8h] [rbp-38h]
  double v71; // [rsp+D8h] [rbp-28h]
  float v72; // [rsp+E0h] [rbp-20h]
  float v73; // [rsp+E4h] [rbp-1Ch]
  float v74; // [rsp+E8h] [rbp-18h]
  float v75; // [rsp+ECh] [rbp-14h]
  float v76; // [rsp+F0h] [rbp-10h]
  unsigned int v77; // [rsp+F4h] [rbp-Ch]
  int v78; // [rsp+F8h] [rbp-8h]
  char v79; // [rsp+FCh] [rbp-4h]
  __int64 v80; // [rsp+100h] [rbp+0h]
  double v81; // [rsp+1E0h] [rbp+E0h] BYREF

  v3 = *(_QWORD *)(a1 + 0x4A0);
  if ( v3 && *(_QWORD *)((v3 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v3) )
  {
    *(_DWORD *)(a1 + 0x1B0) |= 0x80000u;
    sub_1403CA6B0(a1, 0);
  }
  v5 = *(_QWORD *)(a1 + 0x438);
  v6 = 0;
  if ( v5 && *(_QWORD *)((v5 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v5) && *(_QWORD *)(a1 + 0x4A8) == a1 )
  {
    v57 = 0;
    v65 = 0x80000000;
    v67 = v67 & 0xF0 | 8;
    v66 = 1;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v7 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v7 = 0;
    }
    CEntity::GetZoneTransform(v7, (__int64)&v50, 1u);
    _XMM3 = *(unsigned __int64 *)&v53;
    _XMM2 = *(unsigned __int64 *)&v52;
    v58 = v54;
    _XMM0 = *(unsigned __int64 *)&v50;
    __asm { vcvtpd2ps xmm0, xmm0 }
    v60 = *(float *)&_XMM0;
    _XMM0 = v56;
    v59 = v55;
    _XMM1 = *(unsigned __int64 *)&v51;
    __asm
    {
      vcvtpd2ps xmm0, xmm0
      vcvtpd2ps xmm3, xmm3
      vcvtpd2ps xmm1, xmm1
      vcvtpd2ps xmm2, xmm2
    }
    v64 = *(float *)&_XMM0;
    v61 = *(float *)&_XMM1;
    v62 = *(float *)&_XMM2;
    v63 = *(float *)&_XMM3;
    if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) )
    {
      v18 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      v18 = 0;
    }
    v68 = *(_QWORD *)(*(__int64 (__fastcall **)(_QWORD, double *))(**(_QWORD **)(v18 + 0x2A8) + 0x18LL))(
                       *(_QWORD *)(v18 + 0x2A8),
                       &v81);
    if ( v81 != 0.0 )
    {
      sub_14051E9A0(*(__int64 *)&v81);
    }
    v66 |= 0x100u;
    sub_146889840(a1, (__int64)&v57, 0);
  }
  v19 = *(_QWORD *)(a1 + 0x450);
  if ( v19
    && *(_QWORD *)((*(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v19)
    && *(_QWORD *)(a1 + 0x4A8) == a1 )
  {
    v20 = is_valid_handle_typeB((unsigned __int64 *)(a1 + 8)) ? *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL : 0LL;
    v21 = (__int64 *)(*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v20 + 0x2A8) + 8LL))(*(_QWORD *)(v20 + 0x2A8));
    if ( v21 )
    {
      CEntity::GetZoneTransform(v20, (__int64)&v50, 0);
      v22 = (double *)(*(__int64 (__fastcall **)(FH4 *, int *, _QWORD, __int64 *))(*(_QWORD *)pCZoneSystem + 0x480LL))(
                        pCZoneSystem,
                        &v57,
                        *(_QWORD *)(v20 + 0x2A8),
                        v21);
      v23 = v22[1];
      v24 = *v22;
      v25 = v22[2];
      v26 = v22[3];
      v27 = *(double *)&v54 * v25 - v55 * *v22 + *((double *)&v54 + 1) * v26;
      v28 = COERCE_UNSIGNED_INT64((*((double *)&v54 + 1) * *v22 - *(double *)&v54 * v23 + v55 * v26) * v23 - v27 * v25);
      v29 = v27 * *v22 - (v55 * v23 - *((double *)&v54 + 1) * v25 + *(double *)&v54 * v26) * v23;
      v81 = v52 * v23 - v51 * v25 + v50 * v26 + v53 * *v22;
      _XMM14 = COERCE_UNSIGNED_INT64(v50 * v25 - v52 * v24 + v51 * v26 + v53 * v23);
      _XMM12 = COERCE_UNSIGNED_INT64(v51 * v24 - v50 * v23 + v52 * v26 + v53 * v22[2]);
      _XMM6 = *(unsigned __int64 *)&v81;
      *((_QWORD *)&v33 + 1) = *((_QWORD *)&v28 + 1);
      *(double *)&v33 = *(double *)&v28 + *(double *)&v54 + v22[4];
      v34 = v33;
      *((_QWORD *)&v33 + 1) = 0;
      *(double *)&v33 = v53 * v26 - v50 * v24 - v51 * v22[1] - v52 * v22[2];
      _XMM5 = v33;
      *((_QWORD *)&v33 + 1) = *((_QWORD *)&v34 + 1);
      *(double *)&v33 = *(double *)&v34 + *(double *)&v28;
      _XMM4 = v33;
      __asm { vunpcklpd xmm2, xmm4, xmm3 }
      v55 = v29 + v55 + v22[6] + v29;
      v71 = v55;
      v69 = 0;
      v77 = 0x80000000;
      __asm { vcvtsd2ss xmm0, xmm6, xmm6 }
      v72 = *(float *)&_XMM0;
      _XMM0 = v56;
      v79 = v79 & 0xF0 | 8;
      v40 = *v21;
      v54 = _XMM2;
      v70 = _XMM2;
      __asm
      {
        vcvtpd2ps xmm0, xmm0
        vcvtsd2ss xmm3, xmm5, xmm5
        vcvtsd2ss xmm1, xmm14, xmm14
        vcvtsd2ss xmm2, xmm12, xmm12
      }
      v76 = *(float *)&_XMM0;
      v50 = v81;
      v51 = *(double *)&_XMM14;
      v52 = *(double *)&_XMM12;
      v53 = *(double *)&_XMM5;
      v73 = *(float *)&_XMM1;
      v74 = *(float *)&_XMM2;
      v75 = *(float *)&_XMM3;
      v78 = 1;
      v80 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64 *, double *))(v40 + 0x18))(v21, &v81);
      if ( v81 != 0.0 )
      {
        sub_14051E9A0(*(__int64 *)&v81);
      }
      v78 |= 0x300u;
      v45 = *(_QWORD *)(a1 + 0x450);
      if ( v45 )
      {
        v46 = *(_QWORD *)(a1 + 0x450) & 0xFFFFFFFFFFFFLL;
        LOBYTE(v45) = *(_QWORD *)(v46 + 8) == HIWORD(v45);
      }
      else
      {
        v46 = 0;
      }
      v47 = 0;
      if ( (_BYTE)v45 )
      {
        v47 = v46;
      }
      sub_146889840(a1, (__int64)&v69, v47);
    }
  }
  if ( a2 )
  {
    v48 = *(_QWORD *)(a1 + 0x438);
    if ( v48 )
    {
      v49 = *(_QWORD *)(a1 + 0x438) & 0xFFFFFFFFFFFFLL;
      LOBYTE(v48) = *(_QWORD *)(v49 + 8) == HIWORD(v48);
    }
    else
    {
      v49 = 0;
    }
    if ( (_BYTE)v48 )
    {
      v6 = v49;
    }
    sub_14689BC00(a1, a1, v6);
  }
}

// --- End Function: sub_14689A720 (0x14689A720) ---

// --- Function: sub_14689D0B0 (0x14689D0B0) ---
__int64 __fastcall sub_14689D0B0(__int64 a1, int a2, __int64 a3, __int64 a4, int a5, unsigned __int8 a6)
{
  unsigned __int64 v7; // rsi
  __int64 v9; // rbx
  signed __int64 v10; // rdx
  unsigned __int64 v11; // rax
  _QWORD *v12; // rsi
  bool v15; // cl
  bool v16; // al
  __int64 v17; // rax
  __int64 v18; // rdx
  unsigned __int8 v19; // di

  v7 = a2;
  v9 = a1 + 0x208;
  if ( *(_DWORD *)(a1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v9 + 0xC);
  }
  else
  {
    v10 = _InterlockedIncrement64((volatile signed __int64 *)v9);
    if ( (v10 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v9,
        v10,
        (__int64)"CRenderProxy::UpdateSlotLocalTransform",
        (__int64)"m_SlotsLock",
        1);
    }
  }
  if ( (v7 & 0x80000000) != 0LL )
  {
    goto LABEL_22;
  }
  v11 = (__int64)(*(_QWORD *)(a1 + 0xE0) - *(_QWORD *)(a1 + 0xD8)) >> 3;
  if ( (int)v7 >= (int)v11 )
  {
    goto LABEL_22;
  }
  if ( v11 <= v7 )
  {
    __debugbreak();
  }
  v12 = *(_QWORD **)(*(_QWORD *)(a1 + 0xD8) + 8 * v7);
  if ( !v12 )
  {
    goto LABEL_22;
  }
  if ( *v12 )
  {
    goto LABEL_19;
  }
  _XMM0 = *(unsigned int *)(a3 + 0xC) & (unsigned __int128)0x7FFFFFFFu;
  __asm { vminss  xmm0, xmm0, cs:in_fCurGain; X }
  v15 = acosf(*(float *)&_XMM0) <= 0.001;
  v16 = COERCE_FLOAT(*(_DWORD *)(a3 + 0x10) & 0x7FFFFFFF) <= 0.050000001
     && COERCE_FLOAT(*(_DWORD *)(a3 + 0x14) & 0x7FFFFFFF) <= 0.050000001
     && COERCE_FLOAT(*(_DWORD *)(a3 + 0x18) & 0x7FFFFFFF) <= 0.050000001;
  if ( v15 && v16 && fabs(*(float *)(a3 + 0x1C) - 1.0) <= 0.050000001 )
  {
LABEL_22:
    v19 = 0;
  }
  else
  {
LABEL_19:
    sub_146899CE0(v12, a3);
    v17 = sub_146842AB0(a1);
    sub_146872130(v12, v17, a6);
    if ( (a5 & 0x20000) == 0 )
    {
      LOBYTE(v18) = 1;
      sub_146861940(a1, v18);
    }
    v19 = 1;
  }
  sub_1402D0950(v9);
  return v19;
}

// --- End Function: sub_14689D0B0 (0x14689D0B0) ---

// --- Function: sub_1468A0350 (0x1468A0350) ---
__int64 __fastcall sub_1468A0350(
        __int64 a1,
        __int64 Entity:_$$[$$]_Aggregate_Radius:_$$_Entity_Radius:_$$_Pos:_($$, _QWORD *a3, _QWORD *a4, __int64 a5, __int64 a6, __int64 a7, __int64 a8, __int64 a9, __int64 a10, __int64 a11, __int64 a12)
{
  __int64 v13; // r10
  __int64 *v15; // rsi
  __int64 v17; // rdx
  _QWORD *v18; // rdi
  __int64 v19; // r10
  __int64 v20; // rcx
  unsigned __int64 v21; // r9
  __int64 v22; // rbp
  __int64 i; // rbx
  __int64 n0xA; // r9
  unsigned __int64 n0xA_1; // rdx
  __int64 v26; // rbx
  __int64 v27; // rax
  __int64 v28; // rax
  __int64 v29; // rax
  int v30; // r9d
  int v31; // r8d
  int v32; // edx
  __int64 v34; // [rsp+20h] [rbp-78h]
  __int64 v35; // [rsp+28h] [rbp-70h]
  __int64 v36; // [rsp+30h] [rbp-68h]
  __int64 v37; // [rsp+38h] [rbp-60h]
  __int64 v38; // [rsp+40h] [rbp-58h]
  _QWORD v39[4]; // [rsp+50h] [rbp-48h] BYREF
  char v40; // [rsp+A0h] [rbp+8h] BYREF

  v13 = *(_QWORD *)(a1 + 0x20) - *(_QWORD *)(a1 + 0x18);
  v15 = (__int64 *)(a1 + 0x18);
  v39[0] = Entity:_$$[$$]_Aggregate_Radius:_$$_Entity_Radius:_$$_Pos:_($$;
  v39[2] = 0xA;
  v17 = *(_QWORD *)(a1 + 8);
  v39[1] = v13 / 0x68;
  if ( v17 == *(_QWORD *)(a1 + 0x10) )
  {
    sub_1402A4CF0((const void **)a1, (_BYTE *)v17, (__int64)v39);
  }
  else
  {
    *(_QWORD *)v17 = Entity:_$$[$$]_Aggregate_Radius:_$$_Entity_Radius:_$$_Pos:_($$;
    *(_QWORD *)(v17 + 8) = v13 / 0x68;
    *(_QWORD *)(v17 + 0x10) = 0xA;
    *(_QWORD *)(a1 + 8) += 0x18LL;
  }
  v18 = (_QWORD *)v15[1];
  v19 = *v15;
  v20 = (__int64)v18 - *v15;
  v21 = v20 / 0x68 + 0xA;
  if ( v21 >= v20 / 0x68 )
  {
    if ( v21 <= (v15[2] - v19) / 0x68 )
    {
      n0xA = 0xA;
      do
      {
        *v18 = 0;
        v18 += 0xD;
        --n0xA;
      }
      while ( n0xA );
      v15[1] = (__int64)v18;
    }
    else
    {
      sub_1402FBAB0(v15, v21, &v40);
    }
  }
  else
  {
    v22 = v19 + 0x68 * v21;
    for ( i = v22; (_QWORD *)i != v18; i += 0x68 )
    {
      if ( *(_BYTE *)(i + 0x58) && *(_QWORD *)i )
      {
        (*(void (**)(void))(i + 0x40))();
      }
    }
    v15[1] = v22;
  }
  n0xA_1 = (v15[1] - *v15) / 0x68;
  if ( n0xA_1 < 0xA )
  {
    __debugbreak();
  }
  v26 = *v15 + 0x68 * (n0xA_1 - 0xA);
  v27 = allocWithoutProfiling(0x18u);
  if ( v27 )
  {
    v28 = sub_140358B00(v27, a3);
  }
  else
  {
    v28 = 0;
  }
  *(_QWORD *)v26 = v28;
  *(_BYTE *)(v26 + 0x59) = 0;
  *(_QWORD *)(v26 + 8) = "Name";
  *(_QWORD *)(v26 + 0x10) = *a3;
  *(_QWORD *)(v26 + 0x18) = sub_1403E6A90;
  *(_QWORD *)(v26 + 0x20) = sub_1403E6550;
  *(_QWORD *)(v26 + 0x30) = sub_1403E2AB0;
  *(_QWORD *)(v26 + 0x40) = sub_1403E02E0;
  *(_QWORD *)(v26 + 0x48) = sub_1403DFFF0;
  *(_QWORD *)(v26 + 0x28) = 0;
  *(_QWORD *)(v26 + 0x38) = 0;
  *(_QWORD *)(v26 + 0x50) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_BYTE *)(v26 + 0x58) = 1;
  *(_QWORD *)(v26 + 0x60) = 0x18;
  v29 = allocWithoutProfiling(0x18u);
  if ( v29 )
  {
    *(_QWORD *)(v29 + 8) = *a4;
    *(_QWORD *)v29 = 0;
    *(_BYTE *)(v29 + 0x10) = 0;
  }
  else
  {
    v29 = 0;
  }
  v30 = a7;
  v31 = a6;
  v32 = a5;
  *(_QWORD *)(v26 + 0x68) = v29;
  *(_QWORD *)(v26 + 0x70) = "EntityId";
  *(_QWORD *)(v26 + 0x80) = sub_1403E6A60;
  *(_QWORD *)(v26 + 0x88) = sub_1403E6420;
  *(_QWORD *)(v26 + 0x98) = std::error_category::operator==;
  *(_QWORD *)(v26 + 0xA8) = free_memory_wrapper_w;
  *(_QWORD *)(v26 + 0xB0) = sub_1403E00D0;
  v38 = a12;
  v37 = a11;
  v36 = a10;
  v35 = a9;
  v34 = a8;
  *(_WORD *)(v26 + 0xC0) = 0x101;
  *(_QWORD *)(v26 + 0x78) = 0;
  *(_QWORD *)(v26 + 0x90) = 0;
  *(_QWORD *)(v26 + 0xA0) = 0;
  *(_QWORD *)(v26 + 0xB8) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_QWORD *)(v26 + 0xC8) = 8;
  return sub_1468AC170((int)v26 + 0xD0, v32, v31, v30, v34, v35, v36, v37, v38);
}

// --- End Function: sub_1468A0350 (0x1468A0350) ---

// --- Function: sub_1468A0690 (0x1468A0690) ---
__int64 __fastcall sub_1468A0690(__int64 a1)
{
  __int64 v1; // rbx
  unsigned __int8 (__fastcall *v2)(__int64, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // [rsp+30h] [rbp+8h] BYREF
  char v6; // [rsp+38h] [rbp+10h] BYREF

  v1 = a1;
  v2 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)a1 + 8LL);
  n0xFFFF = ::n0xFFFF;
  if ( ::n0xFFFF == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v6,
                          "IEntityComponentObjectContainer");
    ::n0xFFFF = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  if ( !v2(v1, &n0xFFFF_1) )
  {
    return 0;
  }
  return v1;
}

// --- End Function: sub_1468A0690 (0x1468A0690) ---

// --- Function: sub_1468A0700 (0x1468A0700) ---
__int64 __fastcall sub_1468A0700(__int64 a1)
{
  __int64 v1; // rbx
  unsigned __int8 (__fastcall *v2)(__int64, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // [rsp+30h] [rbp+8h] BYREF
  char v6; // [rsp+38h] [rbp+10h] BYREF

  v1 = a1;
  v2 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)a1 + 8LL);
  n0xFFFF = n0xFFFF_96;
  if ( n0xFFFF_96 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v6,
                          "IEntityComponentUIPrimitiveRenderNode");
    n0xFFFF_96 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  if ( !v2(v1, &n0xFFFF_1) )
  {
    return 0;
  }
  return v1;
}

// --- End Function: sub_1468A0700 (0x1468A0700) ---

// --- Function: sub_1468A0770 (0x1468A0770) ---
__int64 __fastcall sub_1468A0770(__int64 a1)
{
  __int64 v1; // rbx
  unsigned __int8 (__fastcall *v2)(__int64, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // [rsp+30h] [rbp+8h] BYREF
  char v6; // [rsp+38h] [rbp+10h] BYREF

  v1 = a1;
  v2 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)a1 + 8LL);
  n0xFFFF = n0xFFFF_97;
  if ( n0xFFFF_97 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v6,
                          "IEntityComponentUIRenderToTexture");
    n0xFFFF_97 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  if ( !v2(v1, &n0xFFFF_1) )
  {
    return 0;
  }
  return v1;
}

// --- End Function: sub_1468A0770 (0x1468A0770) ---

// --- Function: sub_1468A07E0 (0x1468A07E0) ---
__int64 __fastcall sub_1468A07E0(__int64 a1)
{
  __int64 v1; // rbx
  unsigned __int8 (__fastcall *v2)(__int64, __int16 *); // rdi
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // [rsp+30h] [rbp+8h] BYREF
  char v6; // [rsp+38h] [rbp+10h] BYREF

  v1 = a1;
  v2 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)a1 + 8LL);
  n0xFFFF = n0xFFFF_83;
  if ( n0xFFFF_83 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v6,
                          "RenderProxy");
    n0xFFFF_83 = n0xFFFF;
  }
  n0xFFFF_1 = n0xFFFF;
  if ( !v2(v1, &n0xFFFF_1) )
  {
    return 0;
  }
  return v1;
}

// --- End Function: sub_1468A07E0 (0x1468A07E0) ---

// --- Function: sub_1468A4510 (0x1468A4510) ---
__int64 __fastcall sub_1468A4510(__int64 **a1, __int64 *a2)
{
  __int64 *v2; // rbx
  __int64 *v4; // rcx
  __int64 result; // rax
  __int64 v7; // rdx
  __int64 v8; // rsi
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // rbp
  unsigned __int64 v11; // r8
  __int64 v12; // r12
  __int64 v13; // r14
  __int64 *v14; // rdx
  __int64 *v15; // r8
  __int64 *v16; // rcx
  __int64 v17; // rsi
  __int64 v18; // rax
  __int64 *v19; // rcx
  __int64 v20; // rdx

  v2 = a1[1];
  v4 = a1[2];
  if ( v2 == v4 )
  {
    v7 = 0x1FFFFFFFFFFFFFFFLL;
    v8 = v2 - *a1;
    if ( v8 == 0x1FFFFFFFFFFFFFFFLL )
    {
      unknown_libname_10();
    }
    v9 = v4 - *a1;
    v10 = v8 + 1;
    v11 = v9 >> 1;
    if ( v9 <= 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    {
      v7 = v11 + v9;
      if ( v11 + v9 < v10 )
      {
        v7 = v8 + 1;
      }
    }
    v12 = 8 * v7;
    v13 = sub_14038E0B0((__int64)a1, 8 * v7);
    *(_QWORD *)(v13 + 8 * v8) = *a2;
    v14 = (__int64 *)v13;
    v15 = a1[1];
    v16 = *a1;
    v17 = v13 + 8 * v8;
    if ( v2 == v15 )
    {
      for ( ; v16 != v15; ++v14 )
      {
        v18 = *v16++;
        *v14 = v18;
      }
    }
    else
    {
      for ( ; v16 != v2; ++v16 )
      {
        *v14++ = *v16;
        *v16 = 0;
      }
      v19 = a1[1];
      if ( v2 != v19 )
      {
        v20 = v17 - (_QWORD)v2;
        do
        {
          *(__int64 *)((char *)v2 + v20 + 8) = *v2;
          *v2++ = 0;
        }
        while ( v2 != v19 );
      }
    }
    if ( *a1 )
    {
      sub_14039EFB0((__int64)a1, (FH4 *)*a1, ((char *)a1[2] - (char *)*a1) & 0xFFFFFFFFFFFFFFF8uLL);
    }
    *a1 = (__int64 *)v13;
    result = v17;
    a1[1] = (__int64 *)(v13 + 8 * v10);
    a1[2] = (__int64 *)(v12 + v13);
  }
  else
  {
    *v2 = *a2;
    result = (__int64)a1[1];
    a1[1] = (__int64 *)(result + 8);
  }
  return result;
}

// --- End Function: sub_1468A4510 (0x1468A4510) ---

// --- Function: sub_1468A4820 (0x1468A4820) ---
__int64 __fastcall sub_1468A4820(__int64 **a1, __int64 *a2)
{
  __int64 *v2; // rbx
  __int64 *v4; // rcx
  __int64 result; // rax
  __int64 v7; // rdx
  __int64 v8; // rsi
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // rbp
  unsigned __int64 v11; // r8
  __int64 v12; // r12
  __int64 v13; // rax
  __int64 v14; // r15
  __int64 *v15; // rdx
  __int64 *v16; // r9
  __int64 v17; // rsi
  __int64 *v18; // rcx
  __int64 v19; // rax
  __int64 *v20; // rcx
  __int64 v21; // rdx

  v2 = a1[1];
  v4 = a1[2];
  if ( v2 == v4 )
  {
    v7 = 0x1FFFFFFFFFFFFFFFLL;
    v8 = v2 - *a1;
    if ( v8 == 0x1FFFFFFFFFFFFFFFLL )
    {
      unknown_libname_10();
    }
    v9 = v4 - *a1;
    v10 = v8 + 1;
    v11 = v9 >> 1;
    if ( v9 <= 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
    {
      v7 = v11 + v9;
      if ( v11 + v9 < v10 )
      {
        v7 = v8 + 1;
      }
    }
    v12 = 8 * v7;
    v13 = sub_14038E0B0((__int64)a1, 8 * v7);
    *(_QWORD *)(v13 + 8 * v8) = *a2;
    v14 = v13;
    *a2 = 0;
    v15 = (__int64 *)v13;
    v16 = a1[1];
    v17 = v13 + 8 * v8;
    v18 = *a1;
    if ( v2 == v16 )
    {
      for ( ; v18 != v16; ++v15 )
      {
        v19 = *v18++;
        *v15 = v19;
      }
    }
    else
    {
      for ( ; v18 != v2; ++v18 )
      {
        *v15++ = *v18;
        *v18 = 0;
      }
      v20 = a1[1];
      if ( v2 != v20 )
      {
        v21 = v17 - (_QWORD)v2;
        do
        {
          *(__int64 *)((char *)v2 + v21 + 8) = *v2;
          *v2++ = 0;
        }
        while ( v2 != v20 );
      }
    }
    if ( *a1 )
    {
      sub_14039EFB0((__int64)a1, (FH4 *)*a1, ((char *)a1[2] - (char *)*a1) & 0xFFFFFFFFFFFFFFF8uLL);
    }
    *a1 = (__int64 *)v14;
    result = v17;
    a1[1] = (__int64 *)(v14 + 8 * v10);
    a1[2] = (__int64 *)(v12 + v14);
  }
  else
  {
    *v2 = *a2;
    *a2 = 0;
    result = (__int64)a1[1];
    a1[1] = (__int64 *)(result + 8);
  }
  return result;
}

// --- End Function: sub_1468A4820 (0x1468A4820) ---

// --- Function: sub_1468A5080 (0x1468A5080) ---
unsigned __int64 __fastcall sub_1468A5080(unsigned __int64 *a1, int *a2, __int64 a3)
{
  __int64 v6; // rbp
  __int64 v7; // rdx
  unsigned __int64 v8; // r15
  unsigned __int64 v9; // rdx
  unsigned __int64 v10; // rsi
  unsigned __int64 size; // rcx
  unsigned __int64 v12; // rcx
  __int64 v13; // rax
  unsigned __int64 v14; // rbx
  unsigned __int64 v15; // rbp
  int *v16; // r8
  int *v17; // r10
  unsigned __int64 v18; // rcx
  _DWORD *v19; // rdx
  int v20; // eax
  __int64 v21; // rax
  const void *ptr_to_free; // r8
  unsigned __int64 result; // rax

  v6 = (__int64)((__int64)a2 - *a1) / 0x88;
  v7 = (__int64)(a1[1] - *a1) / 0x88;
  if ( v7 == 0x1E1E1E1E1E1E1E1LL )
  {
    unknown_libname_10();
  }
  v8 = v7 + 1;
  v9 = (__int64)(a1[2] - *a1) / 0x88;
  if ( v9 <= 0x1E1E1E1E1E1E1E1LL - (v9 >> 1) )
  {
    v12 = v8;
    if ( (v9 >> 1) + v9 >= v8 )
    {
      v12 = (v9 >> 1) + v9;
    }
    if ( v12 > 0x1E1E1E1E1E1E1E1LL )
    {
      goto LABEL_28;
    }
    v10 = 0x88 * v12;
    if ( 0x88 * v12 < 0x1000 )
    {
      if ( v10 )
      {
        v14 = allocWithoutProfiling(0x88 * v12);
      }
      else
      {
        v14 = 0;
      }
      goto LABEL_14;
    }
    size = v10 + 0x27;
    if ( v10 + 0x27 < v10 )
    {
LABEL_28:
      sub_1402DEE40();
    }
  }
  else
  {
    v10 = 0xFFFFFFFFFFFFFF88uLL;
    size = 0xFFFFFFFFFFFFFFAFuLL;
  }
  v13 = allocWithoutProfiling(size);
  if ( !v13 )
  {
    goto LABEL_26;
  }
  v14 = (v13 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL;
  *(_QWORD *)(v14 - 8) = v13;
LABEL_14:
  v15 = v14 + 0x88 * v6;
  sub_1468ACDE0(a1, v15, a3);
  v16 = (int *)a1[1];
  v17 = (int *)*a1;
  if ( a2 == v16 )
  {
    if ( v17 != v16 )
    {
      v18 = v14 + 0x50;
      v19 = v17 + 0x14;
      do
      {
        v20 = *v17;
        v17 += 0x22;
        *(_DWORD *)(v18 - 0x50) = v20;
        v18 += 0x88LL;
        v21 = *((_QWORD *)v19 + 0xFFFFFFF7);
        v19 += 0x22;
        *(_QWORD *)(v18 - 0xD0) = v21;
        *(_OWORD *)(v18 - 0xC8) = *(_OWORD *)(v19 + 0xFFFFFFCE);
        *(_QWORD *)(v18 - 0xB8) = *((_QWORD *)v19 + 0xFFFFFFE9);
        *(_OWORD *)(v18 - 0xB0) = *((_OWORD *)v19 + 0xFFFFFFF5);
        *(double *)(v18 - 0xA0) = *((double *)v19 + 0xFFFFFFEC);
        *(double *)(v18 - 0x98) = *((double *)v19 + 0xFFFFFFED);
        *(_DWORD *)(v18 - 0x90) = v19[0xFFFFFFDC];
        *(_DWORD *)(v18 - 0x80) = v19[0xFFFFFFE0];
        *(_DWORD *)(v18 - 0x8C) = v19[0xFFFFFFDD];
        *(_DWORD *)(v18 - 0x88) = v19[0xFFFFFFDE];
        *(_DWORD *)(v18 - 0x84) = v19[0xFFFFFFDF];
        *(_OWORD *)(v18 - 0x78) = *(_OWORD *)(v19 + 0xFFFFFFE2);
        *(double *)(v18 - 0x68) = *((double *)v19 + 0xFFFFFFF3);
        *(_DWORD *)(v18 - 0x60) = v19[0xFFFFFFE8];
        *(_DWORD *)(v18 - 0x5C) = v19[0xFFFFFFE9];
        *(_BYTE *)(v18 - 0x58) = *((_BYTE *)v19 + 0xFFFFFFA8);
      }
      while ( v17 != v16 );
    }
  }
  else
  {
    sub_1468AAB70(*a1, a2, v14, a1);
    sub_1468AAB70(a2, a1[1], v15 + 0x88, a1);
  }
  ptr_to_free = (const void *)*a1;
  if ( *a1 )
  {
    if ( (unsigned __int64)(0x88 * ((__int64)(a1[2] - (_QWORD)ptr_to_free) / 0x88)) < 0x1000 )
    {
LABEL_24:
      free_memory_wrapper(ptr_to_free);
      goto LABEL_25;
    }
    if ( (unsigned __int64)ptr_to_free - *((_QWORD *)ptr_to_free + 0xFFFFFFFF) - 8 <= 0x1F )
    {
      ptr_to_free = (const void *)*((_QWORD *)ptr_to_free + 0xFFFFFFFF);
      goto LABEL_24;
    }
LABEL_26:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_25:
  *a1 = v14;
  result = v15;
  a1[1] = v14 + 0x88 * v8;
  a1[2] = v10 + v14;
  return result;
}

// --- End Function: sub_1468A5080 (0x1468A5080) ---

// --- Function: sub_1468A5EB0 (0x1468A5EB0) ---
char *__fastcall sub_1468A5EB0(unsigned __int64 *a1, char *a2, _QWORD *a3)
{
  char *v3; // rbx
  __int64 v5; // rbp
  __int64 v6; // rax
  unsigned __int64 v8; // r12
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // rdx
  unsigned __int64 v11; // r14
  unsigned __int64 size; // r14
  __int64 v13; // rax
  unsigned __int64 v14; // rdi
  char *v15; // rbp
  _QWORD *v16; // rdx
  char *v17; // r8
  char *v18; // rax
  __int64 v19; // rcx
  char *v20; // rcx
  signed __int64 v21; // rdx
  _QWORD *ptr_to_free; // rcx
  char *result; // rax

  v3 = a2;
  v5 = (__int64)&a2[-*a1] >> 3;
  v6 = (__int64)(a1[1] - *a1) >> 3;
  if ( v6 == 0x1FFFFFFFFFFFFFFFLL )
  {
    unknown_libname_10();
  }
  v8 = v6 + 1;
  v9 = (__int64)(a1[2] - *a1) >> 3;
  v10 = v9 >> 1;
  if ( v9 > 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
  {
    goto LABEL_30;
  }
  v11 = v6 + 1;
  if ( v10 + v9 >= v8 )
  {
    v11 = v10 + v9;
  }
  if ( v11 > 0x1FFFFFFFFFFFFFFFLL )
  {
    goto LABEL_30;
  }
  size = 8 * v11;
  if ( size < 0x1000 )
  {
    if ( size )
    {
      v14 = allocWithoutProfiling(size);
    }
    else
    {
      v14 = 0;
    }
    goto LABEL_13;
  }
  if ( size + 0x27 < size )
  {
LABEL_30:
    sub_1402DEE40();
  }
  v13 = allocWithoutProfiling(size + 0x27);
  if ( !v13 )
  {
    goto LABEL_28;
  }
  v14 = (v13 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL;
  *(_QWORD *)(v14 - 8) = v13;
LABEL_13:
  v15 = (char *)(v14 + 8 * v5);
  *(_QWORD *)v15 = *a3;
  v16 = (_QWORD *)v14;
  *a3 = 0;
  v17 = (char *)a1[1];
  v18 = (char *)*a1;
  if ( v3 == v17 )
  {
    for ( ; v18 != v17; ++v16 )
    {
      v19 = *(_QWORD *)v18;
      v18 += 8;
      *v16 = v19;
    }
  }
  else
  {
    for ( ; v18 != v3; v18 += 8 )
    {
      *v16++ = *(_QWORD *)v18;
      *(_QWORD *)v18 = 0;
    }
    v20 = (char *)a1[1];
    if ( v3 != v20 )
    {
      v21 = v15 - v3;
      do
      {
        *(_QWORD *)&v3[v21 + 8] = *(_QWORD *)v3;
        *(_QWORD *)v3 = 0;
        v3 += 8;
      }
      while ( v3 != v20 );
    }
  }
  ptr_to_free = (_QWORD *)*a1;
  if ( *a1 )
  {
    if ( ((a1[2] - (_QWORD)ptr_to_free) & 0xFFFFFFFFFFFFFFF8uLL) < 0x1000 )
    {
LABEL_26:
      free_memory_wrapper(ptr_to_free);
      goto LABEL_27;
    }
    if ( (unsigned __int64)ptr_to_free - ptr_to_free[0xFFFFFFFF] - 8 <= 0x1F )
    {
      ptr_to_free = (_QWORD *)ptr_to_free[0xFFFFFFFF];
      goto LABEL_26;
    }
LABEL_28:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_27:
  result = v15;
  *a1 = v14;
  a1[1] = v14 + 8 * v8;
  a1[2] = size + v14;
  return result;
}

// --- End Function: sub_1468A5EB0 (0x1468A5EB0) ---

// --- Function: sub_1468AB010 (0x1468AB010) ---
char __fastcall sub_1468AB010(
        int n3,
        __int64 a2,
        void *p_Entities_that_cannot_be_replicated_must_not_change_parent_(exce, __int64 a4, __int64 a7, __int64 a6, __int128 *a9, __int64 *a10, __int64 *ThreadLogContextSlot, _QWORD *arg48, _QWORD *a11, _QWORD *a12, _QWORD *a13, _QWORD *a14)
{
  void *v14; // rsp
  __int64 v15; // rax
  __int64 a8; // [rsp+18h] [rbp-288h]
  __int64 a5[11]; // [rsp+30h] [rbp-270h] BYREF
  __int16 n0x100; // [rsp+88h] [rbp-218h]
  __int64 n0xB0; // [rsp+90h] [rbp-210h]
  _QWORD *v21; // [rsp+98h] [rbp-208h]
  const char *p_UInt; // [rsp+A0h] [rbp-200h]
  __int64 v23; // [rsp+A8h] [rbp-1F8h]
  __int64 (__fastcall *p_sub_1403E65D0)(__int64, __int64, __int64); // [rsp+B0h] [rbp-1F0h]
  __int64 (__fastcall *p_sub_1403E65D0_1)(__int64, __int64, __int64); // [rsp+B8h] [rbp-1E8h]
  __int64 v26; // [rsp+C0h] [rbp-1E0h]
  bool (__fastcall *p_??8error_category@std@@QEBA_NAEBV01@@Z)(__int64, __int64); // [rsp+C8h] [rbp-1D8h]
  __int64 v28; // [rsp+D0h] [rbp-1D0h]
  void (__fastcall *p_free_memory_wrapper_w)(const void *); // [rsp+D8h] [rbp-1C8h]
  _OWORD *(__fastcall *p_sub_1403DFFC0)(_OWORD *); // [rsp+E0h] [rbp-1C0h]
  unsigned __int64 v31; // [rsp+E8h] [rbp-1B8h]
  char v32; // [rsp+F0h] [rbp-1B0h]
  char v33; // [rsp+F1h] [rbp-1AFh]
  __int64 n0x10; // [rsp+F8h] [rbp-1A8h]
  _QWORD *v35; // [rsp+100h] [rbp-1A0h]
  const char *p_Name; // [rsp+108h] [rbp-198h]
  __int64 v37; // [rsp+110h] [rbp-190h]
  __int64 (__fastcall *p_sub_1403E6A90)(__int64, __int64, unsigned __int64, __int64, char); // [rsp+118h] [rbp-188h]
  __int64 (__fastcall *p_sub_1403E6550)(__int64, double *, unsigned __int64); // [rsp+120h] [rbp-180h]
  __int64 v40; // [rsp+128h] [rbp-178h]
  bool (__fastcall *p_sub_1403E2AB0)(__int64, __int64); // [rsp+130h] [rbp-170h]
  __int64 v42; // [rsp+138h] [rbp-168h]
  void (__fastcall *p_sub_1403E02E0)(const void **); // [rsp+140h] [rbp-160h]
  _QWORD *(__fastcall *p_sub_1403DFFF0)(_QWORD *); // [rsp+148h] [rbp-158h]
  unsigned __int64 v45; // [rsp+150h] [rbp-150h]
  char v46; // [rsp+158h] [rbp-148h]
  char v47; // [rsp+159h] [rbp-147h]
  __int64 n0x18; // [rsp+160h] [rbp-140h]
  _QWORD *v49; // [rsp+168h] [rbp-138h]
  uint64_t **p_EntityId; // [rsp+170h] [rbp-130h]
  __int64 v51; // [rsp+178h] [rbp-128h]
  __int64 (__fastcall *p_sub_1403E6A60)(__int64, __int64, __int64); // [rsp+180h] [rbp-120h]
  __int64 (__fastcall *p_sub_1403E6420)(__int64, _BYTE *, unsigned __int64); // [rsp+188h] [rbp-118h]
  __int64 v54; // [rsp+190h] [rbp-110h]
  bool (__fastcall *p_??8error_category@std@@QEBA_NAEBV01@@Z_1)(__int64, __int64); // [rsp+198h] [rbp-108h]
  __int64 v56; // [rsp+1A0h] [rbp-100h]
  void (__fastcall *p_free_memory_wrapper_w_1)(const void *); // [rsp+1A8h] [rbp-F8h]
  __int64 (__fastcall *p_sub_1403E00D0)(__int64); // [rsp+1B0h] [rbp-F0h]
  unsigned __int64 v59; // [rsp+1B8h] [rbp-E8h]
  char v60; // [rsp+1C0h] [rbp-E0h]
  char v61; // [rsp+1C1h] [rbp-DFh]
  __int64 n0x18_1; // [rsp+1C8h] [rbp-D8h]
  _QWORD *v63; // [rsp+1D0h] [rbp-D0h]
  const char *p_Name_1; // [rsp+1D8h] [rbp-C8h]
  __int64 v65; // [rsp+1E0h] [rbp-C0h]
  __int64 (__fastcall *p_sub_1403E6A90_1)(__int64, __int64, unsigned __int64, __int64, char); // [rsp+1E8h] [rbp-B8h]
  __int64 (__fastcall *p_sub_1403E6550_1)(__int64, double *, unsigned __int64); // [rsp+1F0h] [rbp-B0h]
  __int64 v68; // [rsp+1F8h] [rbp-A8h]
  bool (__fastcall *p_sub_1403E2AB0_1)(__int64, __int64); // [rsp+200h] [rbp-A0h]
  __int64 v70; // [rsp+208h] [rbp-98h]
  void (__fastcall *p_sub_1403E02E0_1)(const void **); // [rsp+210h] [rbp-90h]
  _QWORD *(__fastcall *p_sub_1403DFFF0_1)(_QWORD *); // [rsp+218h] [rbp-88h]
  unsigned __int64 v73; // [rsp+220h] [rbp-80h]
  char v74; // [rsp+228h] [rbp-78h]
  char v75; // [rsp+229h] [rbp-77h]
  __int64 n0x18_2; // [rsp+230h] [rbp-70h]
  _QWORD *v77; // [rsp+238h] [rbp-68h]
  uint64_t **p_EntityId_1; // [rsp+240h] [rbp-60h]
  __int64 v79; // [rsp+248h] [rbp-58h]
  __int64 (__fastcall *p_sub_1403E6A60_1)(__int64, __int64, __int64); // [rsp+250h] [rbp-50h]
  __int64 (__fastcall *p_sub_1403E6420_1)(__int64, _BYTE *, unsigned __int64); // [rsp+258h] [rbp-48h]
  __int64 v82; // [rsp+260h] [rbp-40h]
  bool (__fastcall *p_??8error_category@std@@QEBA_NAEBV01@@Z_2)(__int64, __int64); // [rsp+268h] [rbp-38h]
  __int64 v84; // [rsp+270h] [rbp-30h]
  void (__fastcall *p_free_memory_wrapper_w_2)(const void *); // [rsp+278h] [rbp-28h]
  __int64 (__fastcall *p_sub_1403E00D0_1)(__int64); // [rsp+280h] [rbp-20h]
  unsigned __int64 v87; // [rsp+288h] [rbp-18h]
  char v88; // [rsp+290h] [rbp-10h]
  char v89; // [rsp+291h] [rbp-Fh]
  __int64 n0x18_3; // [rsp+298h] [rbp-8h]

  v14 = alloca(0x270);
  a5[0] = (__int64)ThreadLogContextSlot;
  p_UInt = "UInt";
  a5[2] = 0;
  a5[1] = (__int64)"TraceContext";
  a5[5] = 0;
  a5[3] = (__int64)sub_1403E6C00;
  a5[7] = 0;
  a5[4] = (__int64)sub_1403E6700;
  v33 = 0;
  a5[6] = (__int64)sub_1403E2C50;
  n0x100 = 0x100;
  a5[8] = (__int64)free_memory_wrapper_w_1;
  a5[0xA] = 0xFFFFFFFFFFFFFFFFuLL;
  a5[9] = (__int64)allocWithoutProfiling_w;
  v21 = arg48;
  n0xB0 = 0xB0;
  v23 = *arg48;
  p_sub_1403E65D0 = sub_1403E65D0;
  p_sub_1403E65D0_1 = sub_1403E65D0;
  p_??8error_category@std@@QEBA_NAEBV01@@Z = std::error_category::operator==;
  p_free_memory_wrapper_w = free_memory_wrapper_w_2;
  p_sub_1403DFFC0 = sub_1403DFFC0;
  v35 = a11;
  v26 = 0;
  v28 = 0;
  v32 = 0;
  v47 = 0;
  v31 = 0xFFFFFFFFFFFFFFFFuLL;
  n0x10 = 0x10;
  p_Name = "Name";
  v37 = *a11;
  p_sub_1403E6A90 = sub_1403E6A90;
  p_sub_1403E6550 = sub_1403E6550;
  p_sub_1403E2AB0 = sub_1403E2AB0;
  v40 = 0;
  v42 = 0;
  v46 = 0;
  p_sub_1403E02E0 = sub_1403E02E0;
  p_sub_1403DFFF0 = sub_1403DFFF0;
  v45 = 0xFFFFFFFFFFFFFFFFuLL;
  n0x18 = 0x18;
  v49 = a12;
  p_EntityId = "EntityId";
  v61 = 1;
  v15 = *a12;
  v54 = 0;
  v56 = 0;
  v51 = v15;
  p_sub_1403E6A60 = sub_1403E6A60;
  p_sub_1403E6420 = sub_1403E6420;
  p_??8error_category@std@@QEBA_NAEBV01@@Z_1 = std::error_category::operator==;
  v63 = a13;
  p_Name_1 = "Name";
  p_free_memory_wrapper_w_1 = free_memory_wrapper_w;
  p_sub_1403E00D0 = sub_1403E00D0;
  v59 = 0xFFFFFFFFFFFFFFFFuLL;
  v60 = 0;
  n0x18_1 = 0x18;
  v75 = 0;
  v65 = *a13;
  p_sub_1403E6A90_1 = sub_1403E6A90;
  p_sub_1403E6550_1 = sub_1403E6550;
  p_sub_1403E2AB0_1 = sub_1403E2AB0;
  v77 = a14;
  v68 = 0;
  v70 = 0;
  p_sub_1403E02E0_1 = sub_1403E02E0;
  p_sub_1403DFFF0_1 = sub_1403DFFF0;
  v73 = 0xFFFFFFFFFFFFFFFFuLL;
  v74 = 0;
  n0x18_2 = 0x18;
  p_EntityId_1 = "EntityId";
  v89 = 1;
  v79 = *a14;
  v82 = 0;
  v84 = 0;
  v88 = 0;
  LODWORD(a8) = a6;
  p_sub_1403E6A60_1 = sub_1403E6A60;
  p_sub_1403E6420_1 = sub_1403E6420;
  p_??8error_category@std@@QEBA_NAEBV01@@Z_2 = std::error_category::operator==;
  p_free_memory_wrapper_w_2 = free_memory_wrapper_w;
  p_sub_1403E00D0_1 = sub_1403E00D0;
  v87 = 0xFFFFFFFFFFFFFFFFuLL;
  n0x18_3 = 0x18;
  return sub_140302350(
           n3,
           a2,
           p_Entities_that_cannot_be_replicated_must_not_change_parent_(exce,
           a4,
           (__int64)a5,
           6,
           a7,
           a8,
           a9,
           a10);
}

// --- End Function: sub_1468AB010 (0x1468AB010) ---

// --- Function: __crtLCMapStringA_169 (0x1468AB410) ---
char __fastcall _crtLCMapStringA_169(
        int n4,
        __int64 a2,
        void *a3,
        __int64 a4,
        __int64 a7,
        __int64 a6,
        _QWORD *a9,
        __int64 *a10,
        __int64 arg40,
        _QWORD *arg48,
        _QWORD *a11,
        _QWORD *a12)
{
  void *v12; // rsp
  __int64 a8; // [rsp+18h] [rbp-1B8h]
  __int64 a5[11]; // [rsp+30h] [rbp-1A0h] BYREF
  __int16 n0x100; // [rsp+88h] [rbp-148h]
  __int64 n0xB0; // [rsp+90h] [rbp-140h]
  _QWORD *v18; // [rsp+98h] [rbp-138h]
  const char *p_Name; // [rsp+A0h] [rbp-130h]
  __int64 v20; // [rsp+A8h] [rbp-128h]
  __int64 (__fastcall *p_sub_1403E6A90)(__int64, __int64, unsigned __int64, __int64, char); // [rsp+B0h] [rbp-120h]
  __int64 (__fastcall *p_sub_1403E6550)(__int64, double *, unsigned __int64); // [rsp+B8h] [rbp-118h]
  __int64 v23; // [rsp+C0h] [rbp-110h]
  bool (__fastcall *p_sub_1403E2AB0)(__int64, __int64); // [rsp+C8h] [rbp-108h]
  __int64 v25; // [rsp+D0h] [rbp-100h]
  void (__fastcall *p_sub_1403E02E0)(const void **); // [rsp+D8h] [rbp-F8h]
  _QWORD *(__fastcall *p_sub_1403DFFF0)(_QWORD *); // [rsp+E0h] [rbp-F0h]
  unsigned __int64 v28; // [rsp+E8h] [rbp-E8h]
  char v29; // [rsp+F0h] [rbp-E0h]
  char v30; // [rsp+F1h] [rbp-DFh]
  __int64 n0x18; // [rsp+F8h] [rbp-D8h]
  _QWORD *v32; // [rsp+100h] [rbp-D0h]
  const char *p_Name_1; // [rsp+108h] [rbp-C8h]
  __int64 v34; // [rsp+110h] [rbp-C0h]
  __int64 (__fastcall *p_sub_1403E6A90_1)(__int64, __int64, unsigned __int64, __int64, char); // [rsp+118h] [rbp-B8h]
  __int64 (__fastcall *p_sub_1403E6550_1)(__int64, double *, unsigned __int64); // [rsp+120h] [rbp-B0h]
  __int64 v37; // [rsp+128h] [rbp-A8h]
  bool (__fastcall *p_sub_1403E2AB0_1)(__int64, __int64); // [rsp+130h] [rbp-A0h]
  __int64 v39; // [rsp+138h] [rbp-98h]
  void (__fastcall *p_sub_1403E02E0_1)(const void **); // [rsp+140h] [rbp-90h]
  _QWORD *(__fastcall *p_sub_1403DFFF0_1)(_QWORD *); // [rsp+148h] [rbp-88h]
  unsigned __int64 v42; // [rsp+150h] [rbp-80h]
  char v43; // [rsp+158h] [rbp-78h]
  char v44; // [rsp+159h] [rbp-77h]
  __int64 n0x18_1; // [rsp+160h] [rbp-70h]
  _QWORD *v46; // [rsp+168h] [rbp-68h]
  const char *p_Number; // [rsp+170h] [rbp-60h]
  __int64 v48; // [rsp+178h] [rbp-58h]
  __int64 (__fastcall *p_sub_1403E65D0)(__int64, __int64, __int64); // [rsp+180h] [rbp-50h]
  __int64 (__fastcall *p_sub_1403E65D0_1)(__int64, __int64, __int64); // [rsp+188h] [rbp-48h]
  __int64 v51; // [rsp+190h] [rbp-40h]
  bool (__fastcall *p_??8error_category@std@@QEBA_NAEBV01@@Z)(__int64, __int64); // [rsp+198h] [rbp-38h]
  __int64 v53; // [rsp+1A0h] [rbp-30h]
  void (__fastcall *p_free_memory_wrapper_w)(const void *); // [rsp+1A8h] [rbp-28h]
  _OWORD *(__fastcall *p_sub_1403DFFC0)(_OWORD *); // [rsp+1B0h] [rbp-20h]
  unsigned __int64 v56; // [rsp+1B8h] [rbp-18h]
  char v57; // [rsp+1C0h] [rbp-10h]
  char v58; // [rsp+1C1h] [rbp-Fh]
  __int64 n0x10; // [rsp+1C8h] [rbp-8h]

  v12 = alloca(0x1A0);
  a5[0] = arg40;
  n0x100 = 0x100;
  a5[2] = 0;
  a5[1] = (__int64)"TraceContext";
  a5[5] = 0;
  a5[3] = (__int64)sub_1403E6C00;
  a5[7] = 0;
  a5[4] = (__int64)sub_1403E6700;
  a5[0xA] = 0xFFFFFFFFFFFFFFFFuLL;
  a5[6] = (__int64)sub_1403E2C50;
  n0xB0 = 0xB0;
  a5[8] = (__int64)free_memory_wrapper_w_1;
  a5[9] = (__int64)allocWithoutProfiling_w;
  v18 = arg48;
  p_Name = "Name";
  v30 = 0;
  v20 = *arg48;
  v32 = a11;
  p_sub_1403DFFF0 = sub_1403DFFF0;
  p_sub_1403E6A90 = sub_1403E6A90;
  p_sub_1403E6550 = sub_1403E6550;
  v23 = 0;
  p_sub_1403E2AB0 = sub_1403E2AB0;
  v25 = 0;
  p_sub_1403E02E0 = sub_1403E02E0;
  v28 = 0xFFFFFFFFFFFFFFFFuLL;
  v29 = 0;
  n0x18 = 0x18;
  p_Name_1 = "Name";
  v44 = 0;
  v34 = *a11;
  v46 = a12;
  p_sub_1403DFFF0_1 = sub_1403DFFF0;
  p_sub_1403E6A90_1 = sub_1403E6A90;
  p_sub_1403E6550_1 = sub_1403E6550;
  v37 = 0;
  p_sub_1403E2AB0_1 = sub_1403E2AB0;
  v39 = 0;
  p_sub_1403E02E0_1 = sub_1403E02E0;
  v42 = 0xFFFFFFFFFFFFFFFFuLL;
  v43 = 0;
  n0x18_1 = 0x18;
  p_Number = "Number";
  v58 = 0;
  v48 = *a12;
  p_sub_1403E65D0 = sub_1403E65D0;
  p_sub_1403E65D0_1 = sub_1403E65D0;
  p_??8error_category@std@@QEBA_NAEBV01@@Z = std::error_category::operator==;
  p_free_memory_wrapper_w = free_memory_wrapper_w_2;
  p_sub_1403DFFC0 = sub_1403DFFC0;
  v51 = 0;
  v53 = 0;
  v56 = 0xFFFFFFFFFFFFFFFFuLL;
  v57 = 0;
  n0x10 = 0x10;
  LODWORD(a8) = a6;
  return sub_140302350(n4, a2, a3, a4, (__int64)a5, 4, a7, a8, a9, a10);
}

// --- End Function: __crtLCMapStringA_169 (0x1468AB410) ---

// --- Function: sub_1468ABE80 (0x1468ABE80) ---
char __fastcall sub_1468ABE80(
        int n4,
        int **p_p_n210,
        void *p_GetEntityFromID_CrossBatchAccess,
        char *p_GetEntityFromID_CrossBatchAccess:_Entity_%llu_(%s)_is_a_streama,
        __int64 a7,
        __int64 a6,
        _QWORD *a9,
        __int64 *a10,
        __int64 *ThreadLogContextSlot,
        __int64 arg48,
        __int64 a11)
{
  void *v15; // rsp
  __int64 a8; // [rsp+18h] [rbp-158h]
  __int64 a5[11]; // [rsp+30h] [rbp-140h] BYREF
  __int16 n0x100; // [rsp+88h] [rbp-E8h]
  __int64 n0xB0; // [rsp+90h] [rbp-E0h]
  __int64 v21; // [rsp+98h] [rbp-D8h] BYREF

  v15 = alloca(0x140);
  a5[0] = (__int64)ThreadLogContextSlot;
  a5[1] = (__int64)"TraceContext";
  a5[3] = (__int64)sub_1403E6C00;
  a5[4] = (__int64)sub_1403E6700;
  a5[6] = (__int64)sub_1403E2C50;
  a5[8] = (__int64)free_memory_wrapper_w_1;
  a5[2] = 0;
  a5[5] = 0;
  a5[7] = 0;
  a5[9] = (__int64)allocWithoutProfiling_w;
  n0x100 = 0x100;
  a5[0xA] = 0xFFFFFFFFFFFFFFFFuLL;
  n0xB0 = 0xB0;
  sub_140B45970(&v21, arg48, a11);
  LODWORD(a8) = a6;
  return sub_140302350(
           n4,
           (__int64)p_p_n210,
           p_GetEntityFromID_CrossBatchAccess,
           (__int64)p_GetEntityFromID_CrossBatchAccess:_Entity_%llu_(%s)_is_a_streama,
           (__int64)a5,
           3,
           a7,
           a8,
           a9,
           a10);
}

// --- End Function: sub_1468ABE80 (0x1468ABE80) ---

// --- Function: CEntity::Init (0x1468ADC50) ---
unsigned __int64 __fastcall CEntity::Init(unsigned __int64 entity, __int64 a2)
{
  unsigned int a1; // eax
  _QWORD *v5; // rax
  __int64 n0xE; // rcx
  unsigned __int64 v7; // rbx
  unsigned __int64 v8; // rcx
  char v9; // dl
  unsigned __int16 v10; // ax
  __int64 v11; // rdx
  int v12; // eax
  char v13; // r8
  unsigned __int64 v14; // rcx
  unsigned __int64 v15; // rdx
  unsigned __int16 v16; // ax
  char v17; // r8
  unsigned __int16 v18; // ax
  __int64 v19; // rax
  int n0xF00; // [rsp+30h] [rbp-68h] BYREF
  __int64 v22; // [rsp+34h] [rbp-64h]
  int v23; // [rsp+3Ch] [rbp-5Ch]
  __int64 v24; // [rsp+40h] [rbp-58h]
  unsigned __int64 v25; // [rsp+48h] [rbp-50h]
  __int64 v26; // [rsp+50h] [rbp-48h]
  __int64 v27; // [rsp+58h] [rbp-40h]

  *(_DWORD *)(entity + 8) &= 0xFFFFC000;
  *(_QWORD *)entity = &CEntityVtbl;
  *(_WORD *)(entity + 0xC) = 1;
  *(_QWORD *)(entity + 0x10) = *(_QWORD *)(a2 + 0x40);
  *(_QWORD *)(entity + 0x18) = *(_QWORD *)(a2 + 0xC8);
  *(_QWORD *)(entity + 0x20) = *(_QWORD *)a2;
  a1 = a1_0;
  *(_QWORD *)(entity + 0xC0) = 0;
  *(_DWORD *)(entity + 0xC8) = 0xFFFFFFFF;
  *(_DWORD *)(entity + 0xCC) = 0;
  *(_DWORD *)(entity + 0xB4) = a1;
  *(_BYTE *)(entity + 0xB8) = 0;
  *(_DWORD *)(entity + 0x110) = *(_DWORD *)(a2 + 0xC0);
  *(_QWORD *)(entity + 0x114) = 0;
  *(_DWORD *)(entity + 0x11C) = 0xFFFFFFFF;
  *(_WORD *)(entity + 0x120) = 0;
  *(_BYTE *)(entity + 0x122) = 0;
  *(_QWORD *)(entity + 0x128) = 0;
  *(_QWORD *)(entity + 0x130) = 0;
  *(_QWORD *)(entity + 0x238) = 0;
  *(_QWORD *)(entity + 0x240) = 0;
  *(_QWORD *)(entity + 0x248) = 0;
  *(_QWORD *)(entity + 0x250) = 0;
  *(_QWORD *)(entity + 0x258) = 0;
  *(_QWORD *)(entity + 0x260) = 0;
  *(_QWORD *)(entity + 0x268) = 0;
  *(_QWORD *)(entity + 0x270) = 0;
  *(_QWORD *)(entity + 0x278) = 0;
  *(_QWORD *)(entity + 0x280) = 0;
  *(_QWORD *)(entity + 0x288) = 0;
  CreateStringObjectFromString((void **)(entity + 0x290), *(_BYTE **)(a2 + 0xB8));
  *(_QWORD *)(entity + 0x298) = 0;
  v5 = (_QWORD *)(entity + 0x368);
  *(_DWORD *)(entity + 0x2A0) = 0xFFFFFFFF;
  n0xE = 0xE;
  *(_QWORD *)(entity + 0x2F8) = 0;
  *(_QWORD *)(entity + 0x300) = 0;
  *(_QWORD *)(entity + 0x308) = 0;
  *(_QWORD *)(entity + 0x310) = 0;
  *(_QWORD *)(entity + 0x318) = 0;
  *(_QWORD *)(entity + 0x320) = 0;
  *(_QWORD *)(entity + 0x328) = 0;
  *(_QWORD *)(entity + 0x330) = 0;
  *(_QWORD *)(entity + 0x338) = 0;
  *(_QWORD *)(entity + 0x340) = 0;
  *(_QWORD *)(entity + 0x348) = 0;
  *(_QWORD *)(entity + 0x350) = 0;
  *(_QWORD *)(entity + 0x358) = 0;
  *(_QWORD *)(entity + 0x360) = 0;
  *(_QWORD *)(entity + 0x2A8) = 0;
  *(_DWORD *)(entity + 0x2B0) = 0xFFFFFFFF;
  *(_QWORD *)(entity + 0x2B8) = 0;
  *(_DWORD *)(entity + 0x2C0) = 0xFFFFFFFF;
  *(_QWORD *)(entity + 0x2C8) = a2;
  *(_QWORD *)(entity + 0x2D8) = 0;
  *(_DWORD *)(entity + 0x2E0) = 0xFFFFFFFF;
  *(_WORD *)(entity + 0x2E4) = 0xFFFF;
  *(_QWORD *)(entity + 0x2E8) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(entity + 0x2F0) = 0xFFFFFFFF;
  do
  {
    *v5 = 0xFFFFFFFFFFFFFFFFuLL;
    v5[1] = 0;
    v5[2] = 0;
    v5 += 3;
    --n0xE;
  }
  while ( n0xE );
  *(_QWORD *)(entity + 0x4B8) = 0;
  *(_QWORD *)(entity + 0x4C0) = 0;
  if ( a1_1 > entity || entity >= qword_15126E3D8 + a1_1 )
  {
    v8 = entity - 6;
    v9 = 0;
    v7 = entity - 6;
  }
  else
  {
    v7 = entity - 6;
    v8 = entity & 0xFFFFFFFFFF000000uLL;
    v9 = 1;
  }
  v10 = *(_WORD *)(v8 + 2) | 0x2000;
  if ( !v9 )
  {
    v10 = *(_WORD *)(v8 + 2);
  }
  *(_QWORD *)(entity + 0x4C0) = entity | ((unsigned __int64)v10 << 0x30);
  *(_QWORD *)(entity + 0x4D0) = 0;
  *(_WORD *)(entity + 0x4C8) = 0;
  *(_DWORD *)(entity + 0x4CC) = 0xFFFFFFFF;
  *(_QWORD *)(entity + 0x4D8) = 0;
  *(_QWORD *)(entity + 0x4E0) = 0;
  *(_QWORD *)(entity + 0x4E8) = 0;
  v11 = *(_QWORD *)(entity + 0x290);
  *(_DWORD *)(entity + 0x4F0) = 0;
  *(_QWORD *)(entity + 0x4F8) = 0;
  *(_QWORD *)(entity + 0x500) = 0;
  *(_QWORD *)(entity + 0x508) = 0;
  *(_QWORD *)(entity + 0x510) = 0;
  v12 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_14981D360 + 0xF8LL))(qword_14981D360, v11);
  n0xF00 = 0xF00;
  *(_DWORD *)(entity + 0x2D0) = v12;
  v22 = 0;
  v23 = 0;
  v25 = 0;
  v26 = 0;
  v27 = 0;
  v24 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( a1_1 > entity || entity >= qword_15126E3D8 + a1_1 )
  {
    v13 = 0;
    v15 = entity & 0xFFFFFFFFFF000000uLL;
    v14 = v7;
  }
  else
  {
    v13 = 1;
    v14 = entity & 0xFFFFFFFFFF000000uLL;
    v15 = entity & 0xFFFFFFFFFF000000uLL;
  }
  v16 = *(_WORD *)(v14 + 2) | 0x2000;
  if ( !v13 )
  {
    v16 = *(_WORD *)(v14 + 2);
  }
  *(_QWORD *)(entity + 0x318) = entity | ((unsigned __int64)v16 << 0x30);
  if ( a1_1 > entity || entity >= qword_15126E3D8 + a1_1 )
  {
    v17 = 0;
    v15 = v7;
  }
  else
  {
    v17 = 1;
  }
  v18 = *(_WORD *)(v15 + 2) | 0x2000;
  if ( !v17 )
  {
    v18 = *(_WORD *)(v15 + 2);
  }
  *(_QWORD *)(entity + 0x320) = entity | ((unsigned __int64)v18 << 0x30);
  memset((void *)(entity + 0x138), 0, 0x100u);
  v19 = allocWithoutProfiling(0xC0u);
  if ( v19 )
  {
    *(_DWORD *)v19 = 0;
    *(_QWORD *)(v19 + 0x98) = 0x3FF0000000000000LL;
    *(_DWORD *)(v19 + 4) = 0xFFFFFFFF;
    *(_DWORD *)(v19 + 8) = 0;
    *(_QWORD *)(v19 + 0x10) = 0;
    *(_QWORD *)(v19 + 0x18) = 0;
    *(_DWORD *)(v19 + 0x20) = 0xFFFFFFFE;
    *(_DWORD *)(v19 + 0x24) = 0xFFFFFFFE;
    *(_QWORD *)(v19 + 0x28) = 0;
    *(_QWORD *)(v19 + 0x30) = 0;
    *(_QWORD *)(v19 + 0x38) = 0xFFFFFFFFFFFFFFFFuLL;
    *(_DWORD *)(v19 + 0x40) = 0xFFFFFFFF;
    *(_DWORD *)(v19 + 0x44) = 0;
    *(_QWORD *)(v19 + 0x48) = 0;
    *(_BYTE *)(v19 + 0x50) = 0;
    *(_QWORD *)(v19 + 0x58) = 0;
    *(_QWORD *)(v19 + 0x60) = 0;
    *(_QWORD *)(v19 + 0x68) = 0;
    *(_QWORD *)(v19 + 0x70) = 0;
    *(_QWORD *)(v19 + 0x78) = 0;
    *(_QWORD *)(v19 + 0x80) = 0;
    *(_DWORD *)(v19 + 0x88) = 0;
    *(_BYTE *)(v19 + 0x8C) = 0;
    *(_QWORD *)(v19 + 0x90) = 0;
    *(_QWORD *)(v19 + 0xA0) = 0;
    *(_QWORD *)(v19 + 0xA8) = 0;
    *(_QWORD *)(v19 + 0xB0) = 0;
    *(_QWORD *)(v19 + 0xB8) = 0;
  }
  else
  {
    v19 = 0;
  }
  *(_QWORD *)(entity + 0x328) = v19;
  (*(void (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  _StarEngineModule__(entity + 0xC0);
  v25 = __rdtsc();
  psub_7FF6AAB93930(&n0xF00);
  return entity;
}

// --- End Function: CEntity::Init (0x1468ADC50) ---

// --- Function: sub_1468B00E0 (0x1468B00E0) ---
void __fastcall sub_1468B00E0(const void **a1)
{
  _QWORD *ptr_to_free_1; // rbx
  _QWORD *ptr_to_free; // rcx

  ptr_to_free_1 = *a1;
  if ( *a1 )
  {
    ptr_to_free = (_QWORD *)*ptr_to_free_1;
    if ( *ptr_to_free_1 )
    {
      if ( ((ptr_to_free_1[2] - (_QWORD)ptr_to_free) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
      {
        if ( (unsigned __int64)ptr_to_free - ptr_to_free[0xFFFFFFFF] - 8 > 0x1F )
        {
          invalid_parameter_noinfo_noreturn();
        }
        ptr_to_free = (_QWORD *)ptr_to_free[0xFFFFFFFF];
      }
      free_memory_wrapper(ptr_to_free);
      *ptr_to_free_1 = 0;
      ptr_to_free_1[1] = 0;
      ptr_to_free_1[2] = 0;
    }
    free_memory_wrapper(ptr_to_free_1);
  }
}

// --- End Function: sub_1468B00E0 (0x1468B00E0) ---

// --- Function: sub_1468B0280 (0x1468B0280) ---
__int64 __fastcall sub_1468B0280(__int64 a1)
{
  _QWORD *ptr_to_free; // rcx
  __int64 result; // rax

  ptr_to_free = *(_QWORD **)a1;
  if ( ptr_to_free )
  {
    if ( (unsigned __int64)(0x88 * ((*(_QWORD *)(a1 + 0x10) - (_QWORD)ptr_to_free) / 0x88LL)) >= 0x1000 )
    {
      if ( (unsigned __int64)ptr_to_free - ptr_to_free[0xFFFFFFFF] - 8 > 0x1F )
      {
        invalid_parameter_noinfo_noreturn();
      }
      ptr_to_free = (_QWORD *)ptr_to_free[0xFFFFFFFF];
    }
    free_memory_wrapper(ptr_to_free);
    result = 0;
    *(_QWORD *)a1 = 0;
    *(_QWORD *)(a1 + 8) = 0;
    *(_QWORD *)(a1 + 0x10) = 0;
  }
  return result;
}

// --- End Function: sub_1468B0280 (0x1468B0280) ---

// --- Function: sub_1468B0300 (0x1468B0300) ---
__int64 __fastcall sub_1468B0300(__int64 a1)
{
  __int64 ptr_to_free; // rdi
  _QWORD *v3; // rdi
  __int64 n0xE; // rsi
  __int64 v5; // rcx
  FH4 *pCZoneSystem; // rcx
  _QWORD *ptr_to_free_1; // rcx
  _QWORD *ptr_to_free_2; // rcx
  _QWORD *ptr_to_free_3; // rcx
  _QWORD *ptr_to_free_4; // rcx
  _QWORD *ptr_to_free_5; // rcx
  __int64 v12; // rcx

  ptr_to_free = *(_QWORD *)(a1 + 0x328);
  *(_QWORD *)a1 = &CEntityVtbl;
  if ( ptr_to_free )
  {
    std::vector<gte::Vector<3,double>>::_Tidy((std::vector<gte::Vector<3,double>> *)(ptr_to_free + 0x70));
    std::vector<gte::Vector<3,double>>::_Tidy((std::vector<gte::Vector<3,double>> *)(ptr_to_free + 0x58));
    free_memory_wrapper((const void *)ptr_to_free);
  }
  (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_14981D360 + 0x100LL))(
    qword_14981D360,
    *(unsigned int *)(a1 + 0x2D0));
  sub_1468B0280(a1 + 0x500);
  v3 = (_QWORD *)(a1 + 0x4C0);
  n0xE = 0xE;
  do
  {
    v5 = v3[0xFFFFFFFE];
    v3 += 0xFFFFFFFD;
    --n0xE;
    pCZoneSystem = (FH4 *)(v5 & 0xFFFFFFFFFFFFLL);
    if ( pCZoneSystem )
    {
      sub_14739AF10(pCZoneSystem);
      v3[1] = 0;
    }
    if ( (*v3 & 0xFFFFFFFFFFFFLL) != 0 )
    {
      sub_14739AF10((FH4 *)(*v3 & 0xFFFFFFFFFFFFLL));
      *v3 = 0;
    }
  }
  while ( n0xE );
  ptr_to_free_1 = *(_QWORD **)(a1 + 0x350);
  if ( ptr_to_free_1 )
  {
    if ( ((*(_QWORD *)(a1 + 0x360) - (_QWORD)ptr_to_free_1) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)ptr_to_free_1 - ptr_to_free_1[0xFFFFFFFF] - 8 > 0x1F )
      {
        goto LABEL_37;
      }
      ptr_to_free_1 = (_QWORD *)ptr_to_free_1[0xFFFFFFFF];
    }
    free_memory_wrapper(ptr_to_free_1);
    *(_QWORD *)(a1 + 0x350) = 0;
    *(_QWORD *)(a1 + 0x358) = 0;
    *(_QWORD *)(a1 + 0x360) = 0;
  }
  sub_14126D000(a1 + 0x338);
  sub_1468B00E0(a1 + 0x330);
  ptr_to_free_2 = *(_QWORD **)(a1 + 0x2F8);
  if ( ptr_to_free_2 )
  {
    if ( ((*(_QWORD *)(a1 + 0x308) - (_QWORD)ptr_to_free_2) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)ptr_to_free_2 - ptr_to_free_2[0xFFFFFFFF] - 8 > 0x1F )
      {
        goto LABEL_37;
      }
      ptr_to_free_2 = (_QWORD *)ptr_to_free_2[0xFFFFFFFF];
    }
    free_memory_wrapper(ptr_to_free_2);
    *(_QWORD *)(a1 + 0x2F8) = 0;
    *(_QWORD *)(a1 + 0x300) = 0;
    *(_QWORD *)(a1 + 0x308) = 0;
  }
  DestroyStringObject((_QWORD *)(a1 + 0x290));
  ptr_to_free_3 = *(_QWORD **)(a1 + 0x270);
  if ( ptr_to_free_3 )
  {
    if ( ((*(_QWORD *)(a1 + 0x280) - (_QWORD)ptr_to_free_3) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)ptr_to_free_3 - ptr_to_free_3[0xFFFFFFFF] - 8 > 0x1F )
      {
        goto LABEL_37;
      }
      ptr_to_free_3 = (_QWORD *)ptr_to_free_3[0xFFFFFFFF];
    }
    free_memory_wrapper(ptr_to_free_3);
    *(_QWORD *)(a1 + 0x270) = 0;
    *(_QWORD *)(a1 + 0x278) = 0;
    *(_QWORD *)(a1 + 0x280) = 0;
  }
  ptr_to_free_4 = *(_QWORD **)(a1 + 0x250);
  if ( ptr_to_free_4 )
  {
    if ( ((*(_QWORD *)(a1 + 0x260) - (_QWORD)ptr_to_free_4) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)ptr_to_free_4 - ptr_to_free_4[0xFFFFFFFF] - 8 > 0x1F )
      {
        goto LABEL_37;
      }
      ptr_to_free_4 = (_QWORD *)ptr_to_free_4[0xFFFFFFFF];
    }
    free_memory_wrapper(ptr_to_free_4);
    *(_QWORD *)(a1 + 0x250) = 0;
    *(_QWORD *)(a1 + 0x258) = 0;
    *(_QWORD *)(a1 + 0x260) = 0;
  }
  ptr_to_free_5 = *(_QWORD **)(a1 + 0x238);
  if ( !ptr_to_free_5 )
  {
    goto LABEL_34;
  }
  if ( ((*(_QWORD *)(a1 + 0x248) - (_QWORD)ptr_to_free_5) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
  {
    if ( (unsigned __int64)ptr_to_free_5 - ptr_to_free_5[0xFFFFFFFF] - 8 <= 0x1F )
    {
      ptr_to_free_5 = (_QWORD *)ptr_to_free_5[0xFFFFFFFF];
      goto LABEL_33;
    }
LABEL_37:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_33:
  free_memory_wrapper(ptr_to_free_5);
  *(_QWORD *)(a1 + 0x238) = 0;
  *(_QWORD *)(a1 + 0x240) = 0;
  *(_QWORD *)(a1 + 0x248) = 0;
LABEL_34:
  v12 = *(_QWORD *)(a1 + 0x130);
  if ( v12 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x10LL))(v12);
  }
  *(_QWORD *)(a1 + 0x130) = 0;
  return sub_14036F390(a1);
}

// --- End Function: sub_1468B0300 (0x1468B0300) ---

// --- Function: sub_1468B3A20 (0x1468B3A20) ---
const void *__fastcall sub_1468B3A20(const void *ptr_to_free, char a2)
{
  sub_1468B0300((__int64)ptr_to_free);
  if ( (a2 & 1) != 0 )
  {
    free_memory_wrapper(ptr_to_free);
  }
  return ptr_to_free;
}

// --- End Function: sub_1468B3A20 (0x1468B3A20) ---

// --- Function: sub_1468B4050 (0x1468B4050) ---
__int64 __fastcall sub_1468B4050(__int64 a1, __int64 a2, unsigned __int64 a3)
{
  __int64 (__fastcall *v6)(__int64, unsigned __int64 *, unsigned __int64 *); // rdi
  __int16 n0xFFFF; // ax
  unsigned __int64 v8; // rdi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 v12; // rcx
  unsigned __int16 n0xFFFF_1; // ax
  __int16 v14; // rbx^6
  unsigned __int64 v15; // rdi
  __int64 handle_metadata_ptr_1; // rax
  __int16 n4_1; // cx
  __int64 v18; // rcx
  unsigned __int64 v19; // rax
  char v20[8]; // [rsp+20h] [rbp-38h] BYREF
  unsigned __int64 v21[6]; // [rsp+28h] [rbp-30h] BYREF
  unsigned __int64 v22; // [rsp+60h] [rbp+8h] BYREF

  v6 = *(__int64 (__fastcall **)(__int64, unsigned __int64 *, unsigned __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          v20,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v22) = n0xFFFF;
  v8 = *(_QWORD *)v6(a1, v21, &v22);
  v22 = v8;
  if ( v8 )
  {
    handle_metadata_ptr = get_handle_metadata_ptr(v8 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n4 != 4
      && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v8) & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v22)) )
    {
      return (*(__int64 (__fastcall **)(unsigned __int64, __int64, unsigned __int64))(*(_QWORD *)(v8 & 0xFFFFFFFFFFFFLL)
                                                                                    + 0x710LL))(
               v8 & 0xFFFFFFFFFFFFLL,
               a2,
               a3);
    }
  }
  if ( a3 )
  {
    v12 = a3 & 0xFFFFFFFFFFFFLL;
    if ( *(_QWORD *)((a3 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a3) )
    {
      return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v12 + 0x30LL))(v12, a2, 0);
    }
  }
  n0xFFFF_1 = n0xFFFF_98;
  if ( n0xFFFF_98 == (__int16)0xFFFF )
  {
    n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                               + 0x10LL))(
                            global_dispatcher_ptr,
                            &v22,
                            "RopeProxy");
    n0xFFFF_98 = n0xFFFF_1;
  }
  if ( *(_BYTE *)(a1 + 0xD) != 7 )
  {
    sub_1468D6F90((unsigned __int64 *)a1, v21, n0xFFFF_1);
    v14 = HIWORD(v21[0]);
    v22 = v21[0];
    if ( v21[0] )
    {
      v15 = v21[0] & 0xFFFFFFFFFFFFLL;
      handle_metadata_ptr_1 = get_handle_metadata_ptr(v21[0] & 0xFFFFFFFFFFFFLL);
      n4_1 = *(_WORD *)(handle_metadata_ptr_1 + 4);
      if ( n4_1 != 4
        && *(_WORD *)(handle_metadata_ptr_1 + 2) == (v14 & 0xFFF)
        && (n4_1 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v22)) )
      {
        v18 = *(_QWORD *)(v15 + 0x70);
        if ( v18 )
        {
          v19 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v18 + 0xE8LL))(v18, &v22);
          if ( v19 )
          {
            v12 = v19 & 0xFFFFFFFFFFFFLL;
            if ( *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v19) )
            {
              return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v12 + 0x30LL))(v12, a2, 0);
            }
          }
        }
      }
    }
  }
  return 0;
}

// --- End Function: sub_1468B4050 (0x1468B4050) ---

// --- Function: sub_1468B47C0 (0x1468B47C0) ---
void **__fastcall sub_1468B47C0(__int64 a1, _BYTE *a2, unsigned __int64 a3)
{
  void **string_struct_ptr; // rax
  void **string_struct_ptr_1; // rbx
  __int64 v7; // rcx
  __int64 i; // rax
  _BYTE v10[24]; // [rsp+20h] [rbp-58h] BYREF
  void **string_struct_ptr_2; // [rsp+38h] [rbp-40h]
  void *v12; // [rsp+90h] [rbp+18h] BYREF

  v12 = (void *)a3;
  if ( !a2 || !is_valid_handle_typeB((unsigned __int64 *)&v12) )
  {
    return 0;
  }
  string_struct_ptr = (void **)allocWithoutProfiling(0x18u);
  string_struct_ptr_1 = string_struct_ptr;
  if ( string_struct_ptr )
  {
    initializeEmptyStringStructure(string_struct_ptr);
    string_struct_ptr_1[1] = 0;
    string_struct_ptr_1[2] = 0;
  }
  else
  {
    string_struct_ptr_1 = 0;
  }
  assignCStringToStringStructure(string_struct_ptr_1, a2);
  string_struct_ptr_1[1] = v12;
  string_struct_ptr_1[2] = 0;
  v7 = *(_QWORD *)(a1 + 0x288);
  if ( v7 )
  {
    for ( i = *(_QWORD *)(v7 + 0x10); i; i = *(_QWORD *)(i + 0x10) )
    {
      v7 = i;
    }
    *(_QWORD *)(v7 + 0x10) = string_struct_ptr_1;
  }
  else
  {
    *(_QWORD *)(a1 + 0x288) = string_struct_ptr_1;
  }
  sub_140368960((__int64)v10, 0xA);
  string_struct_ptr_2 = string_struct_ptr_1;
  sub_1468FF140(a1, v10);
  return string_struct_ptr_1;
}

// --- End Function: sub_1468B47C0 (0x1468B47C0) ---

// --- Function: sub_1468B4E80 (0x1468B4E80) ---
__int64 __fastcall sub_1468B4E80(__int64 a1, __int64 a2, __int64 a3, unsigned int a4, unsigned __int64 a5)
{
  __int64 (__fastcall *v9)(__int64, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v11; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  _BYTE v15[8]; // [rsp+30h] [rbp-28h] BYREF
  _BYTE v16[32]; // [rsp+38h] [rbp-20h] BYREF
  __int64 v17; // [rsp+60h] [rbp+8h] BYREF

  v9 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                  + 0x10LL))(
                          global_dispatcher_ptr,
                          v15,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v17) = n0xFFFF;
  v11 = *(_QWORD *)v9(a1, v16, &v17);
  v17 = v11;
  if ( v11 )
  {
    handle_metadata_ptr = get_handle_metadata_ptr(v11 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n4 != 4
      && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v11) & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v17)) )
    {
      return (*(__int64 (__fastcall **)(__int64, __int64, __int64, _QWORD, unsigned __int64))(*(_QWORD *)(v11 & 0xFFFFFFFFFFFFLL)
                                                                                            + 0x718LL))(
               v11 & 0xFFFFFFFFFFFFLL,
               a2,
               a3,
               a4,
               a5);
    }
  }
  if ( a5 && *(_QWORD *)((a5 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a5) )
  {
    return (*(__int64 (__fastcall **)(unsigned __int64, __int64, __int64, _QWORD, _DWORD))(*(_QWORD *)(a5 & 0xFFFFFFFFFFFFLL)
                                                                                         + 0x38LL))(
             a5 & 0xFFFFFFFFFFFFLL,
             a2,
             a3,
             a4,
             0);
  }
  return 0xFFFFFFFFLL;
}

// --- End Function: sub_1468B4E80 (0x1468B4E80) ---

// --- Function: sub_1468B52A0 (0x1468B52A0) ---
__int64 __fastcall sub_1468B52A0(__int64 a1, int a2, __int64 a3, int n4, int a5)
{
  __int64 v8; // rax

  v8 = sub_1468DB500(a1);
  if ( !v8 )
  {
    return 0xFFFFFFFFLL;
  }
  if ( n4 == 0xFFFFFFFF )
  {
    n4 = 4;
  }
  return sub_14680DBF0(v8, a2, a3, n4, a5);
}

// --- End Function: sub_1468B52A0 (0x1468B52A0) ---

// --- Function: sub_1468B5C30 (0x1468B5C30) ---
char __fastcall sub_1468B5C30(unsigned __int64 a1, __int64 *a2)
{
  __int64 pEntitySystem; // rbx
  const char *v5; // rbx
  const char **v6; // rax
  __int64 v8; // rbp
  char v9; // si
  __int64 v10; // rbx
  int *Tags; // rax
  __int128 pCZoneSystem; // [rsp+30h] [rbp-38h] BYREF
  __int64 v13; // [rsp+40h] [rbp-28h]
  __int64 ppStringObjectData_; // [rsp+88h] [rbp+20h] BYREF

  pEntitySystem = ::pEntitySystem;
  sub_14035C280(&ppStringObjectData_, a2);
  LOBYTE(pEntitySystem) = sub_14039FDF0(pEntitySystem + 0x648, (int *)&ppStringObjectData_);
  sub_14036EF50(&ppStringObjectData_);
  if ( (_BYTE)pEntitySystem )
  {
    v5 = *(const char **)(a1 + 0x290);
    v6 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *, __int64 *))(*(_QWORD *)qword_14981D218 + 0x48LL))(
                          qword_14981D218,
                          &ppStringObjectData_,
                          a2);
    sub_1405BD4A0(6u, 0, "Trying to add the reserved engine Tag %s to Entity %s", *v6, v5);
    DestroyStringObject(&ppStringObjectData_);
    return 0;
  }
  else
  {
    pCZoneSystem = 0;
    v13 = 0;
    v8 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
           ::pCZoneSystem,
           0x7832,
           &pCZoneSystem,
           0);
    v9 = (*(__int64 (__fastcall **)(FH4 *, unsigned __int64, __int64 *, __int64, unsigned __int64))(*(_QWORD *)::pCZoneSystem
                                                                                                  + 0x410LL))(
           ::pCZoneSystem,
           a1 + 0x2A0,
           a2,
           v8,
           a1 + 0xC0);
    v10 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x448LL))(::pCZoneSystem);
    Tags = (int *)CEntity::ReadTags(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_14039FDF0(v10, Tags) << 0xB)
                                         | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v9 )
    {
      sub_146900A50(a1, 0x20);
    }
    (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v8);
    if ( (_QWORD)pCZoneSystem )
    {
      sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v13 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
    }
    return v9;
  }
}

// --- End Function: sub_1468B5C30 (0x1468B5C30) ---

// --- Function: sub_1468B5DE0 (0x1468B5DE0) ---
__int64 __fastcall sub_1468B5DE0(unsigned __int64 a1, int *a2)
{
  unsigned __int64 v4; // rbx
  unsigned __int64 v5; // r14
  __int64 pEntitySystem; // rdi
  const char *v7; // rdi
  const char **v8; // rax
  __int64 v9; // r14
  unsigned __int8 v10; // di
  __int64 v11; // rbx
  int *Tags; // rax
  __int64 v13; // r14
  __int64 v14; // rbx
  int *v15; // rax
  int v17; // [rsp+30h] [rbp-50h] BYREF
  __int64 v18; // [rsp+38h] [rbp-48h] BYREF
  __int64 ppStringObjectData_; // [rsp+40h] [rbp-40h] BYREF
  __int128 pCZoneSystem; // [rsp+48h] [rbp-38h] BYREF
  __int64 v21; // [rsp+58h] [rbp-28h]
  __int128 pCZoneSystem_1; // [rsp+60h] [rbp-20h] BYREF
  __int64 v23; // [rsp+70h] [rbp-10h]
  int v24; // [rsp+C8h] [rbp+48h] BYREF

  if ( sub_14039FDF0(::pEntitySystem + 0x648, a2) )
  {
    Mat44f::SetIdentity(&v24);
    v4 = 0;
    v5 = sub_1403B31D0((__int64)a2);
    if ( v5 )
    {
      do
      {
        sub_1403B3190((__int64)a2, (__int64)&v18, v4);
        pEntitySystem = ::pEntitySystem;
        sub_14035C280(&v17, &v18);
        LOBYTE(pEntitySystem) = sub_14039FDF0(pEntitySystem + 0x648, &v17);
        sub_14036EF50(&v17);
        if ( (_BYTE)pEntitySystem )
        {
          v7 = *(const char **)(a1 + 0x290);
          v8 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *, __int64 *))(*(_QWORD *)qword_14981D218
                                                                                       + 0x48LL))(
                                qword_14981D218,
                                &ppStringObjectData_,
                                &v18);
          sub_1405BD4A0(6u, 0, "Trying to add the reserved engine Tag %s to Entity %s", *v8, v7);
          DestroyStringObject(&ppStringObjectData_);
        }
        else
        {
          sub_14038D900((__int64)&v24, v18);
        }
        ++v4;
      }
      while ( v4 < v5 );
    }
    pCZoneSystem = 0;
    v21 = 0;
    v9 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
           ::pCZoneSystem,
           0x7832,
           &pCZoneSystem,
           0);
    v10 = (*(__int64 (__fastcall **)(FH4 *, unsigned __int64, int *, __int64, unsigned __int64))(*(_QWORD *)::pCZoneSystem
                                                                                               + 0x418LL))(
            ::pCZoneSystem,
            a1 + 0x2A0,
            &v24,
            v9,
            a1 + 0xC0);
    v11 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x448LL))(::pCZoneSystem);
    Tags = (int *)CEntity::ReadTags(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_14039FDF0(v11, Tags) << 0xB)
                                         | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v10 )
    {
      sub_146900A50(a1, 0x20);
    }
    (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v9);
    if ( (_QWORD)pCZoneSystem )
    {
      sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v21 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
      pCZoneSystem = 0;
      v21 = 0;
    }
    sub_14036EF50(&v24);
  }
  else
  {
    pCZoneSystem_1 = 0;
    v23 = 0;
    v13 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
            ::pCZoneSystem,
            0x7832,
            &pCZoneSystem_1,
            0);
    v10 = (*(__int64 (__fastcall **)(FH4 *, unsigned __int64, int *, __int64, unsigned __int64))(*(_QWORD *)::pCZoneSystem
                                                                                               + 0x418LL))(
            ::pCZoneSystem,
            a1 + 0x2A0,
            a2,
            v13,
            a1 + 0xC0);
    v14 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x448LL))(::pCZoneSystem);
    v15 = (int *)CEntity::ReadTags(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_14039FDF0(v14, v15) << 0xB)
                                         | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v10 )
    {
      sub_146900A50(a1, 0x20);
    }
    (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v13);
    if ( (_QWORD)pCZoneSystem_1 )
    {
      sub_14039EFB0((__int64)&pCZoneSystem_1, (FH4 *)pCZoneSystem_1, (v23 - pCZoneSystem_1) & 0xFFFFFFFFFFFFFFE0uLL);
    }
  }
  return v10;
}

// --- End Function: sub_1468B5DE0 (0x1468B5DE0) ---

// --- Function: sub_1468B60F0 (0x1468B60F0) ---
double __fastcall sub_1468B60F0(
        __int64 a1,
        unsigned __int64 *a2,
        __int64 a3,
        unsigned __int8 a4,
        unsigned int a5,
        unsigned int a6,
        char a7)
{
  int v7; // r12d
  volatile signed __int32 *v11; // rbx
  int v12; // r15d
  unsigned __int32 v13; // eax
  __int16 v14; // ax
  float v15; // kr00_4
  float v16; // xmm0_4
  float v17; // xmm1_4
  __int64 v18; // rdx
  char v19; // cl
  int v20; // eax
  unsigned __int32 v21; // eax
  void **v22; // rax
  unsigned __int64 v24; // [rsp+30h] [rbp-71h] BYREF
  __int64 v25; // [rsp+38h] [rbp-69h] BYREF
  unsigned int v26; // [rsp+40h] [rbp-61h]
  unsigned int v27; // [rsp+44h] [rbp-5Dh]
  __int16 v28; // [rsp+48h] [rbp-59h]
  char v29; // [rsp+4Ah] [rbp-57h]
  char v30; // [rsp+4Bh] [rbp-56h]
  __int64 v31; // [rsp+50h] [rbp-51h] BYREF
  void *ppStringObjectData_[3]; // [rsp+58h] [rbp-49h] BYREF
  int n0xF00; // [rsp+70h] [rbp-31h] BYREF
  __int64 v34; // [rsp+74h] [rbp-2Dh]
  int v35; // [rsp+7Ch] [rbp-25h]
  __int64 v36; // [rsp+80h] [rbp-21h]
  unsigned __int64 v37; // [rsp+88h] [rbp-19h]
  __int64 v38; // [rsp+90h] [rbp-11h]
  __int64 v39; // [rsp+98h] [rbp-9h]

  v7 = a4;
  v34 = 0;
  v35 = 0;
  v37 = 0;
  v38 = 0;
  v39 = 0;
  v36 = 1;
  n0xF00 = 0xF00;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( (_BYTE)v7 != 0xFF
    && a3
    && is_valid_handle_typeB(a2)
    && (*a2 & 0xFFFFFFFFFFFFLL) != 0
    && *(_QWORD *)(a3 + 8) == *a2 )
  {
    v11 = (volatile signed __int32 *)(a1 + 0x680);
    v31 = *(_QWORD *)(*(__int64 (__fastcall **)(_QWORD, _QWORD))(*(_QWORD *)qword_14981D260 + 0x38LL))(
                       qword_14981D260,
                       0);
    v12 = *(_DWORD *)(a1() + 0x18);
    if ( *(_DWORD *)(a1 + 0x684) == v12 )
    {
      ++*(_DWORD *)(a1 + 0x688);
    }
    else
    {
      v13 = _InterlockedCompareExchange(v11, 1, 0);
      if ( v13 )
      {
        sub_1403BF290((volatile signed __int32 *)(a1 + 0x680), v13, (__int64)"CEntitySystem::AddTimerEvent", 1);
      }
      *(_DWORD *)(a1 + 0x684) = v12;
    }
    v24 = *a2;
    v14 = *(_WORD *)(a3 + 0x10);
    v27 = a6;
    v28 = v14;
    v26 = a5;
    v15 = (float)(unsigned int)sub_140569650((__int64)&unk_149602570);
    v16 = (float)a6;
    v17 = (float)a5;
    v25 = 0x2710LL * (unsigned int)(int)(float)((float)((float)(v15 * 2.3283064e-10) * v16) + v17);
    sub_1402F9BE0(&v25, &v31);
    v18 = *(_QWORD *)(a1 + 0x698);
    v29 = v7;
    v30 = a7 | v30 & 0xFE;
    if ( v18 == *(_QWORD *)(a1 + 0x6A0) )
    {
      sub_1468A58B0(a1 + 0x690, v18, &v24);
    }
    else
    {
      *(_QWORD *)v18 = v24;
      v24 = 0;
      v19 = *(_BYTE *)(v18 + 0x1B);
      *(_QWORD *)(v18 + 8) = v25;
      *(_DWORD *)(v18 + 0x10) = v26;
      *(_DWORD *)(v18 + 0x14) = v27;
      *(_WORD *)(v18 + 0x18) = v28;
      *(_BYTE *)(v18 + 0x1A) = v29;
      *(_BYTE *)(v18 + 0x1B) = v30 & 1 | v19 & 0xFE;
      *(_QWORD *)(a1 + 0x698) += 0x20LL;
    }
    ++*(_BYTE *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x122);
    if ( !*(_BYTE *)(a1 + 0x6C8) )
    {
      sub_1468ADB40(*(_QWORD *)(a1 + 0x690), *(_QWORD *)(a1 + 0x698));
    }
    v20 = *(_DWORD *)(a1 + 0x688);
    if ( v20 )
    {
      *(_DWORD *)(a1 + 0x688) = v20 - 1;
    }
    else
    {
      *(_DWORD *)(a1 + 0x684) = 0xFFFFFFFF;
      v21 = _InterlockedCompareExchange(v11, 0, 1);
      if ( v21 != 1 )
      {
        sub_1403D6A80((volatile signed __int32 *)(a1 + 0x680), v21);
      }
    }
    if ( dword_15126E1B8 && is_valid_handle_typeB(a2) )
    {
      v22 = sub_1468D85E0(*a2 & 0xFFFFFFFFFFFFLL, ppStringObjectData_);
      LogTraceConditional("SetTimer (timerID=%d,time=%dms) for Entity %s", v7, a5, (const char *)*v22);
      DestroyStringObject(ppStringObjectData_);
    }
  }
  v37 = __rdtsc();
  return psub_7FF6AAB93930(&n0xF00);
}

// --- End Function: sub_1468B60F0 (0x1468B60F0) ---

// --- Function: sub_1468B64F0 (0x1468B64F0) ---
unsigned __int64 __fastcall sub_1468B64F0(__int64 a1, __int64 a2, char a3)
{
  unsigned __int64 result; // rax

  result = sub_1468DB500(a1);
  if ( result )
  {
    return sub_14680FB90(result, a2, a3, 1);
  }
  return result;
}

// --- End Function: sub_1468B64F0 (0x1468B64F0) ---

// --- Function: sub_1468B70C0 (0x1468B70C0) ---
void __fastcall sub_1468B70C0(unsigned __int64 a1)
{
  __int64 v2; // rax
  __int64 v3; // rdi
  char v4; // dl
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax

  if ( !*(_QWORD *)(a1 + 0x128) )
  {
    v2 = allocWithoutProfiling(0x1D0u);
    v3 = v2;
    if ( v2 )
    {
      *(_QWORD *)v2 = 0;
      *(_QWORD *)(v2 + 8) = 0;
      *(_DWORD *)(v2 + 0x10) = 0;
      initializeEmptyStringStructure((_QWORD *)(v2 + 0x18));
      *(_BYTE *)(v3 + 0x138) = 0;
      *(_QWORD *)(v3 + 0x168) = 0x3FF0000000000000LL;
      *(_DWORD *)(v3 + 0x140) = 0;
      *(_QWORD *)(v3 + 0x144) = 0xFFFFFFFFFFFFFFFFuLL;
      *(_DWORD *)(v3 + 0x14C) = 0;
      *(_QWORD *)(v3 + 0x150) = 0;
      *(_QWORD *)(v3 + 0x158) = 0;
      *(_QWORD *)(v3 + 0x160) = 0;
      *(_QWORD *)(v3 + 0x170) = 0;
      *(_QWORD *)(v3 + 0x178) = 0;
      *(_QWORD *)(v3 + 0x180) = 0;
      *(_QWORD *)(v3 + 0x188) = 0x3FF0000000000000LL;
      *(_OWORD *)(v3 + 0x190) = xmmword_14890C310;
      *(_QWORD *)(v3 + 0x1A0) = 0;
      *(_QWORD *)(v3 + 0x1A8) = 0;
      *(_BYTE *)(v3 + 0x1B0) = 0;
      *(_QWORD *)(v3 + 0x1B8) = 0;
      *(_QWORD *)(v3 + 0x1C0) = 0;
      *(_QWORD *)(v3 + 0x1C8) = 0;
    }
    else
    {
      v3 = 0;
    }
    *(_QWORD *)(a1 + 0x128) = v3;
    if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
    {
      v4 = 0;
      v5 = a1 - 6;
    }
    else
    {
      v4 = 1;
      v5 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v6 = *(_WORD *)(v5 + 2) | 0x2000;
    if ( !v4 )
    {
      v6 = *(_WORD *)(v5 + 2);
    }
    *(_QWORD *)(v3 + 8) = a1 | ((unsigned __int64)v6 << 0x30);
  }
}

// --- End Function: sub_1468B70C0 (0x1468B70C0) ---

// --- Function: sub_1468B78D0 (0x1468B78D0) ---
void __fastcall sub_1468B78D0(unsigned __int64 a1, __int64 a2)
{
  __int64 v4; // rsi
  __int64 v5; // rbx
  int *Tags; // rax
  __int128 pCZoneSystem; // [rsp+30h] [rbp-28h] BYREF
  __int64 v8; // [rsp+40h] [rbp-18h]

  v8 = 0;
  pCZoneSystem = 0;
  v4 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
         ::pCZoneSystem,
         0x7832,
         &pCZoneSystem,
         0);
  (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, __int64, unsigned __int64))(*(_QWORD *)::pCZoneSystem
                                                                                      + 0x3F8LL))(
    ::pCZoneSystem,
    a1 + 0x2A0,
    a2,
    v4,
    a1 + 0xC0);
  v5 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x448LL))(::pCZoneSystem);
  Tags = (int *)CEntity::ReadTags(a1);
  *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_14039FDF0(v5, Tags) << 0xB)
                                       | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
  sub_146900A50(a1, 0x20);
  (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v4);
  if ( (_QWORD)pCZoneSystem )
  {
    sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v8 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
  }
}

// --- End Function: sub_1468B78D0 (0x1468B78D0) ---

// --- Function: CEntity::AttachChild (0x1468B79F0) ---
char __fastcall CEntity::AttachChild(unsigned __int64 a1_1, unsigned __int64 a2, __int64 a3)
{
  unsigned __int64 *v5; // rax
  bool valid; // al
  unsigned __int64 a1; // r14
  char v8; // al
  __int64 v9; // rdi
  bool v10; // bl
  unsigned __int64 *v11; // rcx
  char v12; // di
  unsigned __int64 *v13; // rcx
  __int64 v14; // rcx
  __int64 v16; // rcx
  __int64 v17; // rax
  __m256i v18; // ymm0
  int v19; // ebx
  unsigned __int64 v20; // rax
  int v21; // ebx
  unsigned __int64 v22; // rax
  __int64 v23; // rsi
  int v24; // r12d
  unsigned __int64 v25; // rax
  __int64 v26; // r12
  int v27; // ebx
  unsigned __int64 v28; // rax
  unsigned __int64 v29; // rbx
  __int64 a1_2; // rax
  unsigned __int64 v31; // rcx
  unsigned __int64 v32; // rax
  __int128 v33; // xmm15
  double v34; // xmm14_8
  char v37; // cl
  double *v38; // rax
  double v39; // xmm8_8
  double v40; // xmm11_8
  double v41; // xmm9_8
  double v42; // xmm10_8
  double v43; // xmm2_8
  double v45; // xmm1_8
  __int64 v46; // rdx
  __int64 v47; // rcx
  __int64 v48; // rax
  __int64 v49; // rdx
  double *v50; // rax
  double v51; // xmm15_8
  double v52; // xmm5_8
  double v53; // xmm6_8
  double v54; // xmm14_8
  double v55; // xmm2_8
  double v56; // xmm0_8
  double v57; // xmm11_8
  double v58; // xmm13_8
  double v59; // xmm1_8
  double v60; // xmm9_8
  double v61; // xmm0_8
  double v62; // xmm10_8
  double v63; // xmm12_8
  double v64; // xmm7_8
  double v65; // xmm4_8
  double v66; // xmm5_8
  double v67; // xmm4_8
  double v68; // kr00_8
  double v69; // xmm8_8
  _QWORD *v70; // rdx
  unsigned __int64 v71; // r8
  _QWORD *v72; // rcx
  unsigned __int64 v73; // r10
  unsigned __int64 *v74; // r9
  unsigned __int64 *v75; // r8
  __int64 v76; // rax
  unsigned int v77; // ebx
  __int64 v78; // rdx
  __int64 v79; // rcx
  double v80; // xmm0_8
  __int64 v81; // rax
  double v82; // xmm0_8
  double v85; // xmm11_8
  __int128 v86; // xmm13
  double v87; // xmm8_8
  __int128 v88; // xmm10
  double v89; // xmm12_8
  double v90; // xmm9_8
  __int128 v91; // kr00_16
  __int128 v96; // xmm7
  double v97; // xmm6_8
  __int128 v98; // xmm5
  double v103; // xmm9_8
  double v104; // xmm6_8
  double v105; // xmm8_8
  __int128 v106; // xmm4
  double v107; // xmm5_8
  double v108; // xmm10_8
  double v109; // xmm11_8
  __int128 v110; // xmm2
  __int128 v111; // kr00_16
  double v116; // xmm0_8
  __int128 v117; // kr00_16
  __int128 v122; // kr00_16
  __int128 v127; // kr00_16
  double v132; // xmm6_8
  double v133; // xmm5_8
  double v134; // xmm4_8
  double *v135; // rax
  double v136; // xmm10_8
  double v137; // xmm11_8
  double v138; // xmm4_8
  double v139; // xmm12_8
  double v140; // xmm8_8
  double v141; // xmm6_8
  double v142; // xmm4_8
  double v143; // xmm5_8
  double v145; // xmm13_8
  double v146; // xmm10_8
  double *v147; // rcx
  double v148; // xmm7_8
  double v149; // xmm1_8
  double v150; // kr00_8
  double v151; // xmm0_8
  __int64 v152; // rax
  double v153; // xmm4_8
  _QWORD *v155; // rax
  __int128 v156; // xmm12
  __int128 v157; // xmm14
  double v158; // xmm9_8
  double v159; // xmm11_8
  double v160; // xmm13_8
  __int128 v161; // xmm10
  double *v162; // rbx
  __int128 v163; // kr00_16
  __int128 v168; // xmm7
  double v169; // xmm6_8
  double v170; // xmm5_8
  double v173; // xmm9_8
  double v174; // xmm10_8
  double v177; // xmm12_8
  double v178; // xmm11_8
  __int128 v179; // xmm4
  double v180; // xmm5_8
  double v181; // xmm13_8
  double v182; // xmm14_8
  __int128 v183; // xmm2
  __int128 v184; // kr00_16
  double v185; // xmm6_8
  double v186; // xmm8_8
  __int128 v191; // kr00_16
  __int128 v196; // kr00_16
  double v201; // xmm2_8
  double v202; // xmm1_8
  __int128 v203; // kr00_16
  double v208; // xmm14_8
  double v209; // xmm13_8
  double v210; // xmm8_8
  double v211; // xmm7_8
  double v212; // xmm5_8
  double v213; // xmm9_8
  double v214; // xmm15_8
  double v215; // xmm5_8
  double v216; // xmm6_8
  double v217; // xmm11_8
  double v218; // xmm10_8
  double v219; // xmm14_8
  double v220; // xmm2_8
  double v221; // xmm13_8
  double v222; // xmm8_8
  double v223; // xmm12_8
  double v224; // xmm7_8
  double v225; // xmm6_8
  double v226; // xmm4_8
  double v227; // xmm5_8
  double v228; // xmm4_8
  double v229; // kr00_8
  double v230; // xmm9_8
  __int64 v231; // rax
  __int64 v232; // rbx
  float v233; // xmm7_4
  float v234; // xmm6_4
  __int64 v235; // rax
  int v236; // eax
  __int16 v237; // cx
  __int64 v238; // rax
  __int64 v239; // rax
  float v240; // xmm1_4
  float v241; // xmm2_4
  float v242; // xmm0_4
  float v243; // xmm3_4
  float v244; // xmm4_4
  double v245; // xmm9_8
  double v246; // xmm7_8
  double v247; // xmm15_8
  double v248; // xmm13_8
  double v249; // xmm14_8
  double v250; // kr00_8
  __int64 v251; // rdx
  __int64 v252; // rcx
  double v253; // xmm0_8
  __int64 v254; // rax
  double v255; // xmm0_8
  double v256; // xmm6_8
  double v257; // xmm5_8
  double v258; // xmm4_8
  double *v259; // rax
  double v260; // xmm10_8
  double v261; // xmm11_8
  double v262; // xmm4_8
  double v263; // xmm12_8
  double v264; // xmm8_8
  double v265; // xmm6_8
  double v266; // xmm4_8
  double v267; // xmm5_8
  double v269; // xmm13_8
  double v270; // xmm10_8
  double v271; // xmm7_8
  double *v272; // rcx
  double v273; // xmm1_8
  double v274; // kr00_8
  double v275; // xmm0_8
  __int64 v276; // rax
  double v277; // xmm4_8
  _QWORD *v279; // rax
  double v280; // xmm6_8
  double v281; // xmm5_8
  double v282; // xmm4_8
  double v283; // xmm10_8
  double v284; // xmm11_8
  double v285; // xmm8_8
  double v286; // xmm15_8
  double v287; // xmm10_8
  double *v288; // rax
  double v289; // xmm11_8
  double v290; // xmm7_8
  double v291; // xmm6_8
  double v292; // xmm5_8
  double v293; // xmm15_8
  double v294; // xmm5_8
  double v295; // xmm6_8
  double v296; // xmm9_8
  double v297; // xmm14_8
  double v298; // xmm8_8
  double v299; // xmm13_8
  double v300; // xmm11_8
  double v301; // xmm12_8
  double v302; // xmm6_8
  double v303; // xmm5_8
  double v304; // xmm3_8
  double v305; // xmm10_8
  FH4 *pCZoneSystem; // rcx
  __int64 v309; // r8
  __int64 v310; // rax
  __int64 v311; // rbx
  __int64 v312; // rax
  void (__fastcall *v313)(__int64, _QWORD); // rdi
  int v314; // eax
  __int64 v315; // rdx
  __int64 v316; // rcx
  double v317; // xmm0_8
  __int64 v318; // rax
  double v319; // xmm0_8
  float *v320; // rax
  double v321; // xmm8_8
  double v322; // xmm15_8
  double v323; // xmm13_8
  double v324; // xmm14_8
  double v325; // xmm6_8
  double v326; // xmm5_8
  double v327; // xmm4_8
  double *v328; // rax
  double v329; // xmm11_8
  double v330; // xmm10_8
  double v331; // xmm4_8
  double v332; // xmm12_8
  double v333; // xmm8_8
  double v334; // kr00_8
  double v335; // xmm4_8
  double v337; // xmm13_8
  double *v338; // rcx
  double v339; // xmm5_8
  double v340; // xmm10_8
  double v341; // xmm7_8
  double v342; // xmm1_8
  double v343; // kr00_8
  double v344; // xmm0_8
  __int64 v345; // rax
  double v346; // xmm4_8
  _QWORD *v348; // rax
  __int64 v349; // rdi
  __int64 v350; // rax
  __int64 v351; // rsi
  __int64 v352; // rax
  __int64 v353; // rax
  int v354; // eax
  __int16 v355; // cx
  __int64 v356; // rax
  __int64 v357; // rax
  double *v358; // rdi
  __int64 v359; // rsi
  float *v360; // rax
  double v361; // xmm6_8
  double v362; // xmm5_8
  double v363; // xmm8_8
  double v364; // xmm13_8
  double v365; // xmm14_8
  double v366; // xmm9_8
  double v367; // xmm4_8
  double v368; // xmm7_8
  double v369; // xmm6_8
  double v370; // xmm5_8
  double v371; // xmm0_8
  double v372; // xmm5_8
  double v373; // xmm8_8
  double v374; // xmm1_8
  double v375; // xmm9_8
  double v376; // xmm11_8
  double v377; // xmm3_8
  double v378; // xmm13_8
  double v379; // xmm10_8
  double v380; // xmm12_8
  double v381; // xmm15_8
  double v382; // xmm14_8
  double v383; // xmm7_8
  double v384; // xmm6_8
  double v385; // xmm4_8
  double v386; // xmm3_8
  double v387; // xmm2_8
  double v388; // xmm1_8
  double v389; // xmm5_8
  double v390; // xmm7_8
  double v391; // xmm6_8
  double v392; // xmm14_8
  double v393; // xmm15_8
  double v394; // xmm13_8
  double v395; // xmm12_8
  double v396; // xmm11_8
  double v397; // xmm10_8
  double v398; // xmm9_8
  double v399; // kr00_8
  double v400; // xmm0_8
  double v401; // xmm7_8
  double v402; // xmm6_8
  double v403; // xmm4_8
  __int64 v404; // rax
  __m256 v405; // ymm0
  __m256 v406; // ymm0
  __int64 v407; // rdx
  __int64 v408; // rcx
  double *v409; // rax
  double v410; // xmm5_8
  double v411; // xmm14_8
  double v412; // xmm15_8
  double v413; // xmm13_8
  double v414; // xmm12_8
  double v415; // xmm0_8
  double v416; // xmm8_8
  double v417; // xmm1_8
  double v418; // xmm9_8
  double v419; // kr00_8
  double v420; // xmm0_8
  double v421; // xmm10_8
  double v422; // xmm7_8
  double v423; // xmm6_8
  double v424; // xmm4_8
  double *v425; // rbx
  double *v426; // rax
  double v427; // xmm5_8
  double v428; // xmm6_8
  double v429; // xmm8_8
  double v430; // xmm13_8
  double v431; // xmm7_8
  double v432; // xmm15_8
  double v433; // xmm14_8
  double v434; // xmm12_8
  double v435; // xmm9_8
  double v436; // xmm10_8
  double v437; // kr00_8
  double v438; // xmm6_8
  double v439; // xmm11_8
  double v440; // xmm7_8
  double v441; // xmm5_8
  double v442; // xmm4_8
  double v443; // xmm2_8
  double v444; // xmm8_8
  double v445; // xmm0_8
  double v446; // xmm3_8
  double v447; // xmm2_8
  double v448; // xmm5_8
  double v449; // xmm4_8
  unsigned __int64 v450; // rax
  float *v451; // rax
  float v452; // xmm6_4
  float v453; // xmm8_4
  float v454; // xmm9_4
  float v455; // xmm10_4
  float v456; // xmm11_4
  float v457; // xmm12_4
  __int128 v458; // xmm1
  __int128 v459; // xmm2
  __int128 v460; // xmm4
  __int128 v461; // kr00_16
  double v462; // xmm13_8
  double v463; // xmm7_8
  double v464; // xmm3_8
  double v465; // xmm6_8
  double v466; // xmm8_8
  double v467; // xmm9_8
  double v468; // xmm10_8
  double v469; // xmm11_8
  double v470; // xmm12_8
  double v475; // xmm2_8
  __int128 v476; // kr00_16
  __int128 v481; // kr00_16
  double v486; // xmm2_8
  double v487; // xmm1_8
  __int128 v488; // kr00_16
  double *v493; // rax
  double v494; // xmm14_8
  double v495; // xmm13_8
  double v496; // xmm10_8
  double v497; // xmm12_8
  double v498; // xmm9_8
  double v499; // xmm11_8
  double v500; // xmm8_8
  double v501; // xmm6_8
  double v502; // xmm5_8
  double v503; // xmm4_8
  double v504; // xmm3_8
  double v505; // xmm4_8
  double v506; // xmm0_8
  double v507; // xmm6_8
  __int64 v508; // rax
  __int64 v509; // rcx
  int v510; // ebx
  double *v511; // rax
  double v512; // xmm10_8
  double v513; // xmm5_8
  double v514; // xmm6_8
  double v515; // xmm8_8
  double v516; // xmm11_8
  double v517; // xmm14_8
  double v518; // xmm0_8
  double v519; // xmm10_8
  double v520; // kr00_8
  double v521; // xmm8_8
  double v522; // xmm12_8
  double v523; // xmm7_8
  double v524; // xmm4_8
  double v525; // xmm5_8
  double v526; // xmm9_8
  double v527; // xmm3_8
  int v528; // eax
  unsigned __int64 n0x200000_6; // rax
  int v530; // eax
  unsigned __int64 n0x200000_7; // rax
  int v532; // eax
  unsigned __int64 n0x200000_8; // rax
  unsigned __int64 n0x200000_9; // rax
  unsigned __int64 n0x200000_10; // rax
  unsigned __int64 *v536; // rdx
  unsigned __int64 v537; // rax
  unsigned __int64 *v538; // rcx
  unsigned __int64 *v539; // r8
  unsigned __int64 *v540; // rdx
  char v541; // dl
  unsigned __int64 v542; // rcx
  unsigned __int16 v543; // ax
  double v544; // rbx
  double *v545; // rax
  double v546; // xmm14_8
  double v547; // xmm15_8
  double v548; // xmm13_8
  double v549; // xmm7_8
  double v550; // xmm6_8
  double v551; // xmm5_8
  double v552; // xmm4_8
  int n0x40000E_1; // ebx
  _QWORD *v554; // rax
  _QWORD *v555; // rax
  _QWORD *v556; // rax
  _QWORD *v557; // rax
  _QWORD *v558; // rax
  __int64 v559; // rax
  __int64 n0x200000; // rdx
  volatile signed __int64 *v561; // rcx
  int v562; // eax
  int v563; // eax
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 n0x200000_2; // rax
  int v566; // eax
  unsigned __int64 n0x200000_3; // rax
  unsigned __int64 n0x200000_4; // rax
  unsigned __int64 n0x200000_5; // rax
  char v570; // dl
  unsigned __int64 v571; // rcx
  unsigned __int16 v572; // ax
  char v573; // dl
  unsigned __int64 v574; // rcx
  unsigned __int16 v575; // ax
  char v576; // bl
  double v578; // [rsp+30h] [rbp-D88h]
  unsigned int v579; // [rsp+30h] [rbp-D88h]
  double v580; // [rsp+30h] [rbp-D88h]
  double v581; // [rsp+30h] [rbp-D88h]
  unsigned int v582; // [rsp+30h] [rbp-D88h]
  double v583; // [rsp+30h] [rbp-D88h]
  double v584; // [rsp+30h] [rbp-D88h]
  int v585; // [rsp+30h] [rbp-D88h]
  double v586; // [rsp+30h] [rbp-D88h]
  double v587; // [rsp+38h] [rbp-D80h]
  int v588; // [rsp+38h] [rbp-D80h]
  double v589; // [rsp+38h] [rbp-D80h]
  double v590; // [rsp+38h] [rbp-D80h]
  double v591; // [rsp+38h] [rbp-D80h]
  double v592; // [rsp+38h] [rbp-D80h]
  double v593; // [rsp+38h] [rbp-D80h]
  double v594; // [rsp+40h] [rbp-D78h]
  double v595; // [rsp+40h] [rbp-D78h]
  double v596; // [rsp+40h] [rbp-D78h]
  int v597; // [rsp+48h] [rbp-D70h]
  double v598; // [rsp+48h] [rbp-D70h]
  unsigned int v599; // [rsp+48h] [rbp-D70h]
  double v600; // [rsp+48h] [rbp-D70h]
  double v601; // [rsp+48h] [rbp-D70h]
  unsigned int v602; // [rsp+48h] [rbp-D70h]
  double v603; // [rsp+48h] [rbp-D70h]
  double v604; // [rsp+48h] [rbp-D70h]
  double v605; // [rsp+50h] [rbp-D68h]
  double v606; // [rsp+50h] [rbp-D68h]
  double v607; // [rsp+50h] [rbp-D68h]
  double v608; // [rsp+50h] [rbp-D68h]
  double v609; // [rsp+50h] [rbp-D68h]
  double v610; // [rsp+50h] [rbp-D68h]
  double v611; // [rsp+50h] [rbp-D68h]
  bool v612; // [rsp+58h] [rbp-D60h]
  double v613; // [rsp+60h] [rbp-D58h]
  __int64 v614; // [rsp+60h] [rbp-D58h]
  double v615; // [rsp+60h] [rbp-D58h]
  double v616; // [rsp+60h] [rbp-D58h]
  __int64 v617; // [rsp+60h] [rbp-D58h]
  double v618; // [rsp+60h] [rbp-D58h]
  double v619; // [rsp+60h] [rbp-D58h]
  double v620; // [rsp+60h] [rbp-D58h]
  double v621; // [rsp+60h] [rbp-D58h]
  double v622; // [rsp+60h] [rbp-D58h]
  int n0x40000E; // [rsp+68h] [rbp-D50h]
  double v624; // [rsp+68h] [rbp-D50h]
  double v625; // [rsp+68h] [rbp-D50h]
  double v626; // [rsp+68h] [rbp-D50h]
  double v627; // [rsp+68h] [rbp-D50h]
  __int64 v628; // [rsp+70h] [rbp-D48h]
  double v629; // [rsp+70h] [rbp-D48h]
  double v630; // [rsp+70h] [rbp-D48h]
  __int64 v631; // [rsp+70h] [rbp-D48h]
  double v632; // [rsp+70h] [rbp-D48h]
  double v633; // [rsp+70h] [rbp-D48h]
  double v634; // [rsp+78h] [rbp-D40h]
  double v635; // [rsp+78h] [rbp-D40h]
  double v636; // [rsp+78h] [rbp-D40h]
  double v637; // [rsp+78h] [rbp-D40h]
  double v638; // [rsp+78h] [rbp-D40h]
  double v639; // [rsp+78h] [rbp-D40h]
  double v640; // [rsp+80h] [rbp-D38h]
  double v641; // [rsp+80h] [rbp-D38h]
  __int64 v642; // [rsp+80h] [rbp-D38h]
  double v643; // [rsp+80h] [rbp-D38h]
  double v644; // [rsp+80h] [rbp-D38h]
  double v645; // [rsp+80h] [rbp-D38h]
  __int64 v646; // [rsp+80h] [rbp-D38h]
  double v647; // [rsp+80h] [rbp-D38h]
  double v648; // [rsp+80h] [rbp-D38h]
  double v649; // [rsp+80h] [rbp-D38h]
  char v650; // [rsp+88h] [rbp-D30h]
  double v651; // [rsp+90h] [rbp-D28h]
  double v652; // [rsp+90h] [rbp-D28h]
  __int64 v653; // [rsp+90h] [rbp-D28h]
  double v654; // [rsp+90h] [rbp-D28h]
  double v655; // [rsp+90h] [rbp-D28h]
  double v656; // [rsp+90h] [rbp-D28h]
  double v657; // [rsp+A0h] [rbp-D18h] BYREF
  double v658; // [rsp+A8h] [rbp-D10h]
  double v659; // [rsp+B0h] [rbp-D08h]
  double v660; // [rsp+B8h] [rbp-D00h]
  __m256 v661; // [rsp+C0h] [rbp-CF8h]
  __int64 v662; // [rsp+E0h] [rbp-CD8h] BYREF
  double v663; // [rsp+E8h] [rbp-CD0h]
  double v664; // [rsp+F0h] [rbp-CC8h]
  double v665; // [rsp+F8h] [rbp-CC0h]
  double v666; // [rsp+100h] [rbp-CB8h]
  double v667; // [rsp+108h] [rbp-CB0h]
  __m256 v668; // [rsp+110h] [rbp-CA8h]
  __int64 v669; // [rsp+130h] [rbp-C88h]
  double v670; // [rsp+138h] [rbp-C80h]
  double v671; // [rsp+140h] [rbp-C78h]
  unsigned __int64 v672; // [rsp+148h] [rbp-C70h]
  float v673; // [rsp+150h] [rbp-C68h] BYREF
  float v674; // [rsp+154h] [rbp-C64h]
  float v675; // [rsp+158h] [rbp-C60h]
  float v676; // [rsp+15Ch] [rbp-C5Ch]
  float v677; // [rsp+160h] [rbp-C58h]
  float v678; // [rsp+164h] [rbp-C54h]
  float v679; // [rsp+168h] [rbp-C50h]
  float v680; // [rsp+16Ch] [rbp-C4Ch]
  float v681; // [rsp+170h] [rbp-C48h]
  float v682; // [rsp+174h] [rbp-C44h]
  float v683; // [rsp+178h] [rbp-C40h]
  float v684; // [rsp+17Ch] [rbp-C3Ch]
  float v685; // [rsp+180h] [rbp-C38h] BYREF
  float v686; // [rsp+184h] [rbp-C34h]
  float v687; // [rsp+188h] [rbp-C30h]
  float v688; // [rsp+18Ch] [rbp-C2Ch]
  float v689; // [rsp+190h] [rbp-C28h]
  float v690; // [rsp+194h] [rbp-C24h]
  float v691; // [rsp+198h] [rbp-C20h]
  int v692; // [rsp+1A0h] [rbp-C18h] BYREF
  int v693; // [rsp+1A4h] [rbp-C14h] BYREF
  unsigned __int64 v694; // [rsp+1A8h] [rbp-C10h] BYREF
  unsigned __int64 v695; // [rsp+1B0h] [rbp-C08h] BYREF
  __int128 v696; // [rsp+1B8h] [rbp-C00h] BYREF
  __int64 v697; // [rsp+1C8h] [rbp-BF0h]
  float v698; // [rsp+1D0h] [rbp-BE8h]
  float v699; // [rsp+1D4h] [rbp-BE4h]
  float v700; // [rsp+1D8h] [rbp-BE0h]
  float v701; // [rsp+1DCh] [rbp-BDCh]
  __int64 v702; // [rsp+1E0h] [rbp-BD8h]
  float v703; // [rsp+1E8h] [rbp-BD0h]
  float v704; // [rsp+1ECh] [rbp-BCCh]
  float v705; // [rsp+1F0h] [rbp-BC8h]
  float v706; // [rsp+1F4h] [rbp-BC4h]
  float v707; // [rsp+1F8h] [rbp-BC0h]
  float v708; // [rsp+1FCh] [rbp-BBCh]
  float v709; // [rsp+200h] [rbp-BB8h]
  float v710; // [rsp+204h] [rbp-BB4h]
  __int64 v711; // [rsp+208h] [rbp-BB0h] BYREF
  __int64 v712; // [rsp+210h] [rbp-BA8h] BYREF
  int n0xF00; // [rsp+220h] [rbp-B98h] BYREF
  __int64 v714; // [rsp+224h] [rbp-B94h]
  int v715; // [rsp+22Ch] [rbp-B8Ch]
  __int64 v716; // [rsp+230h] [rbp-B88h]
  unsigned __int64 v717; // [rsp+238h] [rbp-B80h]
  __int64 v718; // [rsp+240h] [rbp-B78h]
  __int64 v719; // [rsp+248h] [rbp-B70h]
  double v720; // [rsp+270h] [rbp-B48h] BYREF
  double v721; // [rsp+278h] [rbp-B40h]
  double v722; // [rsp+280h] [rbp-B38h]
  double v723; // [rsp+288h] [rbp-B30h]
  double v724; // [rsp+290h] [rbp-B28h]
  double v725; // [rsp+298h] [rbp-B20h]
  double v726; // [rsp+2A0h] [rbp-B18h]
  double v727; // [rsp+2A8h] [rbp-B10h]
  double v728[8]; // [rsp+2B0h] [rbp-B08h] BYREF
  double v729[8]; // [rsp+2F0h] [rbp-AC8h] BYREF
  double v730; // [rsp+330h] [rbp-A88h] BYREF
  double v731; // [rsp+338h] [rbp-A80h]
  double v732; // [rsp+340h] [rbp-A78h]
  double v733; // [rsp+348h] [rbp-A70h]
  double v734; // [rsp+350h] [rbp-A68h]
  double v735; // [rsp+358h] [rbp-A60h]
  double v736; // [rsp+360h] [rbp-A58h]
  double v737; // [rsp+368h] [rbp-A50h]
  double v738; // [rsp+370h] [rbp-A48h] BYREF
  double v739; // [rsp+378h] [rbp-A40h]
  double v740; // [rsp+380h] [rbp-A38h]
  double v741; // [rsp+388h] [rbp-A30h]
  double v742; // [rsp+390h] [rbp-A28h]
  double v743; // [rsp+398h] [rbp-A20h]
  double v744; // [rsp+3A0h] [rbp-A18h]
  double v745; // [rsp+3A8h] [rbp-A10h]
  double v746; // [rsp+3B0h] [rbp-A08h] BYREF
  double v747; // [rsp+3B8h] [rbp-A00h]
  double v748; // [rsp+3C0h] [rbp-9F8h]
  double v749; // [rsp+3C8h] [rbp-9F0h]
  double v750; // [rsp+3D0h] [rbp-9E8h]
  double v751; // [rsp+3D8h] [rbp-9E0h]
  double v752; // [rsp+3E0h] [rbp-9D8h]
  double v753; // [rsp+3E8h] [rbp-9D0h]
  double v754[8]; // [rsp+3F0h] [rbp-9C8h] BYREF
  double v755; // [rsp+430h] [rbp-988h] BYREF
  double v756; // [rsp+438h] [rbp-980h]
  double v757; // [rsp+440h] [rbp-978h]
  double v758; // [rsp+448h] [rbp-970h]
  double v759; // [rsp+450h] [rbp-968h]
  double v760; // [rsp+458h] [rbp-960h]
  double v761; // [rsp+460h] [rbp-958h]
  double v762; // [rsp+468h] [rbp-950h]
  double v763[8]; // [rsp+470h] [rbp-948h] BYREF
  double v764[8]; // [rsp+4B0h] [rbp-908h] BYREF
  double v765; // [rsp+4F0h] [rbp-8C8h] BYREF
  double v766; // [rsp+4F8h] [rbp-8C0h]
  double v767; // [rsp+500h] [rbp-8B8h]
  double v768; // [rsp+508h] [rbp-8B0h]
  double v769; // [rsp+510h] [rbp-8A8h]
  double v770; // [rsp+518h] [rbp-8A0h]
  double v771; // [rsp+520h] [rbp-898h]
  double v772; // [rsp+528h] [rbp-890h]
  char v773[8]; // [rsp+530h] [rbp-888h] BYREF
  char v774[8]; // [rsp+538h] [rbp-880h] BYREF
  char v775[8]; // [rsp+540h] [rbp-878h] BYREF
  char v776[8]; // [rsp+548h] [rbp-870h] BYREF
  char v777[8]; // [rsp+550h] [rbp-868h] BYREF
  char v778[8]; // [rsp+558h] [rbp-860h] BYREF
  char v779[24]; // [rsp+560h] [rbp-858h] BYREF
  double v780; // [rsp+578h] [rbp-840h]
  double v781; // [rsp+580h] [rbp-838h]
  double v782; // [rsp+588h] [rbp-830h]
  __int128 v783; // [rsp+590h] [rbp-828h]
  double v784; // [rsp+5A0h] [rbp-818h]
  double v785; // [rsp+5A8h] [rbp-810h]
  double v786; // [rsp+5B8h] [rbp-800h]
  double v787; // [rsp+5C0h] [rbp-7F8h]
  double v788; // [rsp+5C8h] [rbp-7F0h]
  __int128 v789; // [rsp+5D0h] [rbp-7E8h]
  double v790; // [rsp+5E0h] [rbp-7D8h]
  double v791; // [rsp+5E8h] [rbp-7D0h]
  double v792; // [rsp+5F8h] [rbp-7C0h]
  double v793; // [rsp+600h] [rbp-7B8h]
  double v794; // [rsp+608h] [rbp-7B0h]
  __int128 v795; // [rsp+610h] [rbp-7A8h]
  double v796; // [rsp+620h] [rbp-798h]
  double v797; // [rsp+628h] [rbp-790h]
  __m256 v798; // [rsp+688h] [rbp-730h]
  __int128 v799; // [rsp+6C8h] [rbp-6F0h]
  double v800; // [rsp+6D8h] [rbp-6E0h]
  __int128 v801; // [rsp+6E8h] [rbp-6D0h] BYREF
  double v802; // [rsp+6F8h] [rbp-6C0h]
  double v803; // [rsp+700h] [rbp-6B8h]
  _BYTE v805[88]; // [rsp+7C0h] [rbp-5F8h] BYREF
  __int128 v806; // [rsp+818h] [rbp-5A0h]
  double v807; // [rsp+828h] [rbp-590h]
  char v808[56]; // [rsp+838h] [rbp-580h] BYREF
  char v809[56]; // [rsp+870h] [rbp-548h] BYREF
  char v810[64]; // [rsp+8A8h] [rbp-510h] BYREF
  char v811[64]; // [rsp+8E8h] [rbp-4D0h] BYREF
  char v812[64]; // [rsp+928h] [rbp-490h] BYREF
  char v813[64]; // [rsp+968h] [rbp-450h] BYREF
  double v814[8]; // [rsp+9A8h] [rbp-410h] BYREF
  char v815[64]; // [rsp+9E8h] [rbp-3D0h] BYREF
  double v816[8]; // [rsp+A28h] [rbp-390h] BYREF
  char v817[64]; // [rsp+A68h] [rbp-350h] BYREF
  char v818[64]; // [rsp+AA8h] [rbp-310h] BYREF
  double v819[8]; // [rsp+AE8h] [rbp-2D0h] BYREF
  char v820[64]; // [rsp+B28h] [rbp-290h] BYREF
  char v821[64]; // [rsp+B68h] [rbp-250h] BYREF
  char v822[64]; // [rsp+BA8h] [rbp-210h] BYREF
  char v823[64]; // [rsp+BE8h] [rbp-1D0h] BYREF
  char v824[64]; // [rsp+C28h] [rbp-190h] BYREF
  char v825[8]; // [rsp+C68h] [rbp-150h] BYREF
  unsigned __int64 v826; // [rsp+C70h] [rbp-148h]
  __int64 v827; // [rsp+C80h] [rbp-138h]
  __int64 v828; // [rsp+C88h] [rbp-130h]
  char v829[8]; // [rsp+CA0h] [rbp-118h] BYREF
  unsigned __int64 v830; // [rsp+CA8h] [rbp-110h]
  __int64 v831; // [rsp+CB8h] [rbp-100h]
  __int64 v832; // [rsp+CC0h] [rbp-F8h]
  unsigned __int64 v833; // [rsp+DC8h] [rbp+10h] BYREF

  v833 = a2;
  if ( !is_valid_handle_typeB(&v833) )
  {
    return 0;
  }
  if ( *(_BYTE *)(a1_1 + 0xD) >= 5u )
  {
    return 0;
  }
  if ( (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v833 & 0xFFFFFFFFFFFFLL) + 0x58LL))(v833 & 0xFFFFFFFFFFFFLL) )
  {
    return 0;
  }
  if ( (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v833 & 0xFFFFFFFFFFFFLL) + 0x60LL))(v833 & 0xFFFFFFFFFFFFLL) )
  {
    return 0;
  }
  v5 = (unsigned __int64 *)(*(__int64 (__fastcall **)(unsigned __int64, char *))(*(_QWORD *)(v833 & 0xFFFFFFFFFFFFLL)
                                                                               + 0x10LL))(
                             v833 & 0xFFFFFFFFFFFFLL,
                             v779);
  if ( is_valid_handle_typeB(v5) )
  {
    if ( (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v833 & 0xFFFFFFFFFFFFLL) + 0x50LL))(v833 & 0xFFFFFFFFFFFFLL) )
    {
      return 0;
    }
  }
  v714 = 0;
  v715 = 0;
  v717 = 0;
  v718 = 0;
  v719 = 0;
  n0xF00 = 0xF00;
  v716 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  valid = is_valid_handle_typeB(&v833);
  a1 = v833 & 0xFFFFFFFFFFFFLL;
  if ( !valid )
  {
    a1 = 0;
  }
  v8 = *(_BYTE *)(a1 + 0xB8);
  v696 = 0;
  v697 = 0;
  v650 = v8;
  *(double *)&v9 = COERCE_DOUBLE(
                     (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
                       ::pCZoneSystem,
                       0x7832,
                       &v696,
                       0));
  v663 = *(double *)&v9;
  v10 = !*(_QWORD *)a1() || !dword_1497928E0;
  v612 = v10;
  (*(void (**)(void))(*(_QWORD *)::pCZoneSystem + 0xF0LL))();
  n0x40000E = 0;
  if ( a1 == a1_1 )
  {
    goto LABEL_16;
  }
  v11 = *(unsigned __int64 **)(a1_1 + 0x128);
  if ( !v11 )
  {
    sub_1468B70C0(a1_1);
    goto LABEL_18;
  }
  if ( sub_1403E1BB0(v11) != a1 )
  {
LABEL_18:
    v13 = *(unsigned __int64 **)(a1 + 0x128);
    if ( v13 )
    {
      if ( is_valid_handle_typeB(v13) )
      {
        if ( sub_1403E1BB0(*(unsigned __int64 **)(a1 + 0x128)) == a1_1
          && *(_DWORD *)a3 == 9 )
        {
          v14 = *(_QWORD *)(a1 + 0x128);
          if ( (*(_DWORD *)(v14 + 0x10) == 1 || *(_DWORD *)(*(_QWORD *)(a1_1 + 0x128) + 0x10LL) == 0xA)
            && ((*(_BYTE *)(a3 + 4) ^ *(_BYTE *)(v14 + 0x140)) & 0xC) == 0 )
          {
            __asm { vmovupd ymm0, cs:ymmword_147F38640 }
            *(_DWORD *)(v14 + 0x10) = 9;
            v16 = *(_QWORD *)(a1 + 0x128);
            __asm { vmovupd [rsp+0DB8h+var_730], ymm0 }
            *(_DWORD *)(v16 + 0x140) = *(_DWORD *)(a3 + 4) | *(_DWORD *)(v16 + 0x140) & 2;
            v17 = *(_QWORD *)(a1 + 0x128);
            *(_QWORD *)(v17 + 0x150) = 0;
            *(double *)(v17 + 0x158) = 0;
            *(double *)(v17 + 0x160) = *(double *)_mm_shuffle_ps((__m128)0LL, (__m128)0LL, 0xEE).m128_u64;
            v18 = (__m256i)v798;
            *(double *)(v17 + 0x168) = 0x3FF0000000000000LL;
            *(__m256i *)(v17 + 0x170) = v18;
            __asm { vzeroupper }
            (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(
              ::pCZoneSystem,
              0x7832,
              v9);
            v12 = 1;
            goto LABEL_227;
          }
        }
        CEntity::DetachThisImpl(a1, 0, 0, v9);
      }
    }
    else
    {
      sub_1468B70C0(a1);
    }
    if ( v10 )
    {
      v19 = *(_DWORD *)(a1() + 0x18);
      if ( dword_1497929D8 == v19 )
      {
        ++dword_1497929DC;
      }
      else
      {
        v20 = _InterlockedCompareExchange64(&qword_1497929D0, 0x200000, 0);
        if ( v20 )
        {
          sub_1403D85B0(
            &qword_1497929D0,
            v20,
            0,
            (__int64)"CEntity::AttachChild",
            (__int64)"s_aggregateHierarchyLock",
            1);
        }
        dword_1497929D8 = v19;
      }
      v21 = *(_DWORD *)(a1() + 0x18);
      if ( dword_1497929C8 == v21 )
      {
        ++dword_1497929CC;
      }
      else
      {
        v22 = _InterlockedCompareExchange64(&qword_1497929C0, 0x200000, 0);
        if ( v22 )
        {
          sub_1403D85B0(
            &qword_1497929C0,
            v22,
            0,
            (__int64)"CEntity::AttachChild",
            (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
            1);
        }
        dword_1497929C8 = v21;
      }
      v23 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x98LL))(::pCZoneSystem);
      v628 = v23;
      v24 = *(_DWORD *)(a1() + 0x18);
      if ( *(_DWORD *)(v23 + 8) == v24 )
      {
        ++*(_DWORD *)(v23 + 0xC);
      }
      else
      {
        v25 = _InterlockedCompareExchange64((volatile signed __int64 *)v23, 0x200000, 0);
        if ( v25 )
        {
          sub_1403D85B0(
            (volatile signed __int64 *)v23,
            v25,
            0,
            (__int64)"CEntity::AttachChild",
            (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
            1);
        }
        *(_DWORD *)(v23 + 8) = v24;
      }
      (*(void (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0xA8LL))(::pCZoneSystem);
      v26 = a1_1 + 0xC0;
      v27 = *(_DWORD *)(a1() + 0x18);
      if ( *(_DWORD *)(a1_1 + 0xC8) == v27 )
      {
        ++*(_DWORD *)(a1_1 + 0xCC);
      }
      else
      {
        v28 = _InterlockedCompareExchange64((volatile signed __int64 *)v26, 0x200000, 0);
        if ( v28 )
        {
          sub_1403D85B0(
            (volatile signed __int64 *)(a1_1 + 0xC0),
            v28,
            0,
            (__int64)"CEntity::AttachChild",
            (__int64)"m_cross_ecus_state.updateLock",
            1);
        }
        *(_DWORD *)(a1_1 + 0xC8) = v27;
        v628 = v23;
      }
      v29 = a1 + 0xC0;
      v672 = a1 + 0xC0;
      a1_2 = a1();
      v31 = a1 + 0xC0;
      v597 = *(_DWORD *)(a1_2 + 0x18);
      if ( *(_DWORD *)(a1 + 0xC8) == v597 )
      {
        ++*(_DWORD *)(a1 + 0xCC);
      }
      else
      {
        v32 = _InterlockedCompareExchange64((volatile signed __int64 *)v31, 0x200000, 0);
        if ( v32 )
        {
          sub_1403D85B0(
            (volatile signed __int64 *)v31,
            v32,
            0,
            (__int64)"CEntity::AttachChild",
            (__int64)"pChild->m_cross_ecus_state.updateLock",
            1);
          v31 = a1 + 0xC0;
        }
        *(_DWORD *)(v31 + 8) = v597;
      }
    }
    else
    {
      v29 = a1 + 0xC0;
      v628 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x98LL))(::pCZoneSystem);
      v23 = v628;
      v672 = a1 + 0xC0;
      v26 = a1_1 + 0xC0;
    }
    v33 = 0x3FF0000000000000uLL;
    v34 = 0.0;
    v594 = 0.0;
    if ( !*(_QWORD *)(a1_1 + 0x2B8) || (*(_BYTE *)(a3 + 4) & 4) != 0 )
    {
      v38 = (double *)CEntity::GetZoneTransform(a1_1, (__int64)v810, 0);
      v37 = 0;
      v39 = *v38;
    }
    else
    {
      __asm { vmovupd ymm1, cs:ymmword_147F38640 }
      _XMM0 = 0;
      __asm
      {
        vmovupd [rsp+0DB8h+var_6D0], xmm0
        vmovupd [rsp+0DB8h+var_6B0], ymm1
      }
      v803 = 1.0;
      v802 = 0.0;
      v37 = 1;
      v38 = (double *)&v801;
      v39 = 0.0;
    }
    v40 = v38[3];
    v41 = v38[1];
    v42 = v38[2];
    v43 = v38[7];
    _XMM0 = *((_OWORD *)v38 + 2);
    v45 = v38[6];
    v598 = v40;
    v667 = v40;
    v578 = v41;
    v665 = v41;
    v587 = v42;
    v666 = v42;
    v613 = v43;
    *(double *)&v668.m256_f32[6] = v43;
    v660 = v40;
    v658 = v41;
    v659 = v42;
    *(double *)v661.m256_f32 = *(double *)&_XMM0;
    __asm { vmovhpd qword ptr [rsp+0DB8h+var_CF8+8], xmm0 }
    *(double *)&v661.m256_f32[4] = v45;
    *(double *)&v661.m256_f32[6] = v43;
    *(_OWORD *)v668.m256_f32 = _XMM0;
    *(double *)&v668.m256_f32[4] = v45;
    v605 = v39;
    v664 = v39;
    v657 = v39;
    if ( v37 )
    {
      v669 = *(_QWORD *)(a1_1 + 0x2B8);
    }
    else
    {
      v669 = *(_QWORD *)(a1_1 + 0x2A8);
    }
    v670 = *(double *)(a1 + 0x2A8);
    switch ( *(_DWORD *)a3 )
    {
      case 1:
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 1;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        if ( (*(_BYTE *)(a3 + 4) & 1) != 0 || (v46 = *(_QWORD *)(a3 + 0x130)) == 0 )
        {
          __asm { vzeroupper }
          v48 = CEntity::GetRelativeTransform(a1_1, (__int64)v812, a1, 0);
          v49 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
          *(_QWORD *)v49 = *(_QWORD *)v48;
          *(_QWORD *)(v49 + 8) = *(_QWORD *)(v48 + 8);
          *(_QWORD *)(v49 + 0x10) = *(_QWORD *)(v48 + 0x10);
          *(_QWORD *)(v49 + 0x18) = *(_QWORD *)(v48 + 0x18);
          *(_OWORD *)(v49 + 0x20) = *(_OWORD *)(v48 + 0x20);
          *(double *)(v49 + 0x30) = *(double *)(v48 + 0x30);
          *(_QWORD *)(v49 + 0x38) = *(_QWORD *)(v48 + 0x38);
        }
        else
        {
          v47 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
          *(_QWORD *)v47 = *(_QWORD *)v46;
          *(_QWORD *)(v47 + 8) = *(_QWORD *)(v46 + 8);
          *(_QWORD *)(v47 + 0x10) = *(_QWORD *)(v46 + 0x10);
          *(_QWORD *)(v47 + 0x18) = *(_QWORD *)(v46 + 0x18);
          *(_OWORD *)(v47 + 0x20) = *(_OWORD *)(v46 + 0x20);
          *(double *)(v47 + 0x30) = *(double *)(v46 + 0x30);
          *(_QWORD *)(v47 + 0x38) = *(_QWORD *)(v46 + 0x38);
          if ( *(_BYTE *)(a1 + 0xD) >= 4u )
          {
            __asm { vzeroupper }
            *(double *)(*(_QWORD *)(a1 + 0x128) + 0x188LL) = *(double *)(CEntity::GetZoneTransform(
                                                                                            a1,
                                                                                            (__int64)v811,
                                                                                            0)
                                                                                        + 0x38)
                                                                            * *(double *)(*(_QWORD *)(a1 + 0x128)
                                                                                        + 0x188LL);
          }
        }
        v50 = (double *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
        v51 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x160LL);
        v52 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x158LL);
        v53 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x168LL);
        v54 = *v50 * v42 - v51 * v39 + v52 * v40 + v41 * v53;
        v55 = v53 * v40;
        v56 = v51 * v40;
        v57 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x180LL);
        v58 = v39 * v52 - v41 * *v50 + v56 + v53 * v42;
        v59 = v41 * v52;
        v60 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x170LL);
        v61 = v51 * v42;
        v62 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x178LL);
        v63 = v55 - *v50 * v39 - v59 - v61;
        v64 = v578 * v57 - v62 * v587 + v60 * v598;
        v65 = v62 * v39 - v578 * v60 + v57 * v598;
        v66 = v578 * v65 - (v60 * v587 - v57 * v39 + v62 * v598) * v587;
        v67 = v64 * v587 - v65 * v39;
        v68 = (v60 * v587 - v57 * v39 + v62 * v598) * v39;
        v69 = v613 * *(double *)(*(_QWORD *)(a1 + 0x128) + 0x188LL);
        v657 = v51 * v578
             - v587 * *(double *)(*(_QWORD *)(a1 + 0x128) + 0x158LL)
             + *v50 * v598
             + v53 * v605;
        v658 = v54;
        v659 = v58;
        v660 = v63;
        *(double *)v661.m256_f32 = (v66 + v60 + v66) * v613 + *(double *)v668.m256_f32;
        *(double *)&v661.m256_f32[2] = (v67 + v62 + v67) * v613 + *(double *)&v668.m256_f32[2];
        *(double *)&v661.m256_f32[4] = (v68 - v64 * v578 + v57 + v68 - v64 * v578) * v613 + *(double *)&v668.m256_f32[4];
        *(double *)&v661.m256_f32[6] = v69;
        goto LABEL_69;
      case 2:
        if ( a3 == 0xFFFFFFFFFFFFFFF8uLL )
        {
          goto LABEL_200;
        }
        if ( *(_BYTE *)(a3 + 0x128) )
        {
          goto LABEL_200;
        }
        __asm { vzeroupper }
        if ( sub_1403BB9F0((_QWORD *)(a3 + 8)) )
        {
          goto LABEL_200;
        }
        v599 = *(_DWORD *)(a3 + 4) >> 0x1C;
        v588 = sub_1402A15D0(*(_QWORD *)(a3 + 8));
        v76 = sub_1468D8A10(a1_1, v599);
        v614 = v76;
        if ( !v76 )
        {
LABEL_139:
          pCZoneSystem = ::pCZoneSystem;
          v309 = v9;
          v310 = *(_QWORD *)::pCZoneSystem;
          goto LABEL_201;
        }
        v579 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v76 + 0x270LL))(v76);
        v77 = 0;
        if ( !v579 )
        {
          goto LABEL_70;
        }
        while ( (*(unsigned int (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v614 + 0x288LL))(v614, v77) != v588 )
        {
          if ( ++v77 >= v579 )
          {
            goto LABEL_70;
          }
        }
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 2;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        sub_143C6EB00(*(_QWORD *)(a1 + 0x128) + 0x18LL, a3 + 8);
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x144LL) = v599;
        *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) = v77;
        (*(void (__fastcall **)(__int64, float *, _QWORD))(*(_QWORD *)v614 + 0x278LL))(v614, &v673, v77);
        sub_140740030(&v673);
        v78 = *(_QWORD *)(a3 + 0x130);
        if ( v78 )
        {
          v79 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
          *(_QWORD *)v79 = *(_QWORD *)v78;
          *(_QWORD *)(v79 + 8) = *(_QWORD *)(v78 + 8);
          *(_QWORD *)(v79 + 0x10) = *(_QWORD *)(v78 + 0x10);
          *(_QWORD *)(v79 + 0x18) = *(_QWORD *)(v78 + 0x18);
          *(_OWORD *)(v79 + 0x20) = *(_OWORD *)(v78 + 0x20);
          *(double *)(v79 + 0x30) = *(double *)(v78 + 0x30);
          *(_QWORD *)(v79 + 0x38) = *(_QWORD *)(v78 + 0x38);
          if ( *(_BYTE *)(a1 + 0xD) < 4u )
          {
            goto LABEL_103;
          }
          v80 = *(double *)(CEntity::GetZoneTransform(a1, (__int64)v813, 0) + 0x38);
          v81 = *(_QWORD *)(a1 + 0x128);
          v82 = v80 * *(double *)(v81 + 0x188);
          goto LABEL_102;
        }
        if ( (*(_BYTE *)(a3 + 4) & 1) == 0 )
        {
          v155 = (_QWORD *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
          v155[3] = 0x3FF0000000000000LL;
          *v155 = 0;
          v155[1] = 0;
          v155[2] = 0;
          v155[4] = 0;
          v155[5] = 0;
          v155[6] = 0;
          v155[7] = 0x3FF0000000000000LL;
          if ( *(_BYTE *)(a1 + 0xD) < 4u )
          {
            goto LABEL_103;
          }
          v82 = *(double *)(CEntity::GetZoneTransform(a1, (__int64)v824, 0) + 0x38);
          v81 = *(_QWORD *)(a1 + 0x128);
LABEL_102:
          *(double *)(v81 + 0x188) = v82;
LABEL_103:
          v651 = v676;
          v625 = v684;
          v156 = COERCE_UNSIGNED_INT64(v673);
          v157 = COERCE_UNSIGNED_INT64(v674);
          v615 = v680;
          v158 = v681;
          v159 = v683;
          v160 = v675;
          v161 = COERCE_UNSIGNED_INT64(v682);
          v162 = (double *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
          v640 = pow(
                   fabs(
                     v678 * *(double *)&v156 * v683
                   + v679 * *(double *)&v157 * v681
                   + v677 * v160 * v682
                   - v678 * v160 * v681
                   - v679 * *(double *)&v156 * *(double *)&v161
                   - v677 * *(double *)&v157 * v683),
                   0.3333333333333333);
          *((_QWORD *)&v163 + 1) = *((_QWORD *)&v157 + 1);
          *(double *)&v163 = *(double *)&v157 * *(double *)&v157
                           + *(double *)&v156 * *(double *)&v156
                           + v160 * v160
                           + 2.225073858507201e-308;
          _XMM1 = v163;
          __asm
          {
            vmovddup xmm4, xmm1
            vsqrtpd xmm2, xmm4
            vunpckhpd xmm2, xmm2, xmm2
          }
          *((_QWORD *)&v163 + 1) = *((_QWORD *)&v156 + 1);
          *(double *)&v163 = *(double *)&v156 * (*(double *)&v33 / *(double *)&_XMM2);
          v168 = v163;
          v169 = v158 * *(double *)&v157 - *(double *)&v161 * *(double *)&v156;
          v170 = v159 * *(double *)&v156 - v158 * v160;
          *((_QWORD *)&v163 + 1) = *((_QWORD *)&v161 + 1);
          *(double *)&_XMM4 = *(double *)&v161 * v160 - v159 * *(double *)&v157;
          *(double *)&v163 = *(double *)&_XMM4 * *(double *)&_XMM4 + v170 * v170 + v169 * v169 + 2.225073858507201e-308;
          _XMM1 = v163;
          __asm { vmovddup xmm3, xmm1 }
          v173 = *(double *)&v157 * (*(double *)&v33 / *(double *)&_XMM2);
          v174 = v160 * (*(double *)&v33 / *(double *)&_XMM2);
          __asm
          {
            vsqrtpd xmm0, xmm3
            vunpckhpd xmm0, xmm0, xmm0
          }
          *((_QWORD *)&v163 + 1) = *((_QWORD *)&v33 + 1);
          v177 = *(double *)&v33 / *(double *)&_XMM0 * v169;
          v178 = *(double *)&_XMM4 * (*(double *)&v33 / *(double *)&_XMM0);
          *(double *)&v163 = *(double *)&v33 / *(double *)&_XMM0 * v170;
          v179 = v163;
          v180 = 0.0;
          v181 = v177 * v173 - v174 * *(double *)&v163;
          v182 = v174 * v178 - v177 * *(double *)&v168;
          *(double *)&v163 = *(double *)&v163 * *(double *)&v168 - v178 * v173;
          v183 = v163;
          *((_QWORD *)&v184 + 1) = *((_QWORD *)&v179 + 1);
          *(double *)&v184 = *(double *)&v179 + *(double *)&v168 + *(double *)&v183;
          v601 = 0.0;
          v590 = 0.0;
          v185 = 0.0;
          v186 = 0.0;
          if ( *(double *)&v184 <= 0.0 )
          {
            if ( *(double *)&v168 < *(double *)&v179 || *(double *)&v168 < *(double *)&v183 )
            {
              if ( *(double *)&v179 < *(double *)&v168 || *(double *)&v179 < *(double *)&v183 )
              {
                if ( *(double *)&v183 < *(double *)&v168 || *(double *)&v183 < *(double *)&v179 )
                {
LABEL_116:
                  v581 = v666 * v180 - v664 * v186 + v667 * v185 + v665 * *(double *)&v33;
                  v208 = v664 * v185 - v665 * v180 + v667 * v186 + v666 * *(double *)&v33;
                  v209 = v667 * *(double *)&v33 - v664 * v180 - v665 * v185 - v666 * v186;
                  v210 = v665 * v625 - v666 * v615 + v667 * v651;
                  v211 = v666 * v651 - v664 * v625 + v667 * v615;
                  v212 = v664 * v615 - v665 * v651 + v667 * v625;
                  v652 = (v212 * v665 - v211 * v666 + v651 + v212 * v665 - v211 * v666) * *(double *)&v668.m256_f32[6]
                       + *(double *)v668.m256_f32;
                  v634 = (v210 * v666 - v212 * v664 + v615 + v210 * v666 - v212 * v664) * *(double *)&v668.m256_f32[6]
                       + *(double *)&v668.m256_f32[2];
                  v626 = (v211 * v664 - v210 * v665 + v625 + v211 * v664 - v210 * v665) * *(double *)&v668.m256_f32[6]
                       + *(double *)&v668.m256_f32[4];
                  v616 = *(double *)&v668.m256_f32[6] * v640;
                  v213 = v665 * v590 - v666 * v601 + v667 * v594 + v664 * *(double *)&v33;
                  v641 = v213;
                  v606 = v208;
                  v630 = v209;
                  v214 = v162[2];
                  v215 = v162[1];
                  v216 = v162[3];
                  v217 = v162[6];
                  v218 = v162[5];
                  v219 = v208 * *v162 - v213 * v214 + v209 * v215 + v581 * v216;
                  v220 = v216 * v209;
                  v221 = v213 * v215 - v581 * *v162 + v209 * v214 + v216 * v606;
                  v222 = v162[4];
                  v223 = v220 - v213 * *v162 - v581 * v215 - v606 * v214;
                  v224 = v217 * v581 - v606 * v218 + v630 * v222;
                  v225 = v606 * v222 - v213 * v217 + v630 * v218;
                  v226 = v213 * v218 - v222 * v581 + v630 * v217;
                  v227 = v226 * v581 - v225 * v606;
                  v228 = v224 * v606 - v213 * v226;
                  v229 = v213 * v225;
                  v230 = v616 * v162[7];
                  v657 = v214 * v581 - v606 * v162[1] + v630 * *v162 + v641 * v162[3];
                  v658 = v219;
                  v659 = v221;
                  v660 = v223;
                  *(double *)v661.m256_f32 = (v227 + v222 + v227) * v616 + v652;
                  *(double *)&v661.m256_f32[2] = (v228 + v218 + v228) * v616 + v634;
                  *(double *)&v661.m256_f32[4] = (v229 - v224 * v581 + v217 + v229 - v224 * v581) * v616 + v626;
                  *(double *)&v661.m256_f32[6] = v230;
LABEL_69:
                  n0x40000E = 0x40000E;
LABEL_70:
                  v70 = *(_QWORD **)(a1_1 + 0x128);
                  if ( *(int *)(a3 + 0x160) < 0
                    || (v71 = *(int *)(a3 + 0x160), v72 = v70 + 0x37, (__int64)(v70[0x38] - v70[0x37]) >> 3 <= v71) )
                  {
                    v72 = v70 + 0x37;
                    v695 = v833;
                    v540 = (unsigned __int64 *)v70[0x38];
                    if ( v540 != (unsigned __int64 *)v72[2] )
                    {
                      *v540 = v833;
                      v695 = 0;
                      v72[1] += 8LL;
                      goto LABEL_236;
                    }
                    v539 = &v695;
                  }
                  else
                  {
                    v73 = v833;
                    v694 = v833;
                    v74 = (unsigned __int64 *)(*v72 + 8 * v71);
                    v75 = (unsigned __int64 *)v70[0x38];
                    if ( v75 != (unsigned __int64 *)v70[0x39] )
                    {
                      if ( v74 == v75 )
                      {
                        *v75 = v833;
                        v694 = 0;
                        v70[0x38] += 8LL;
                      }
                      else
                      {
                        v694 = 0;
                        v536 = v75 + 0xFFFFFFFF;
                        *v75 = v75[0xFFFFFFFF];
                        v75[0xFFFFFFFF] = 0;
                        v72[1] += 8LL;
                        if ( v75 + 0xFFFFFFFF != v74 )
                        {
                          do
                          {
                            v537 = v536[0xFFFFFFFF];
                            v538 = v536;
                            v536 += 0xFFFFFFFF;
                            *v538 = v537;
                            *v536 = 0;
                          }
                          while ( v536 != v74 );
                        }
                        *v74 = v73;
                      }
LABEL_236:
                      if ( ::a1_1 > a1_1
                        || a1_1 >= qword_15126E3D8 + ::a1_1 )
                      {
                        v541 = 0;
                        v542 = a1_1 - 6;
                      }
                      else
                      {
                        v541 = 1;
                        v542 = a1_1 & 0xFFFFFFFFFF000000uLL;
                      }
                      v543 = *(_WORD *)(v542 + 2) | 0x2000;
                      if ( !v541 )
                      {
                        v543 = *(_WORD *)(v542 + 2);
                      }
                      **(_QWORD **)(a1 + 0x128) = a1_1
                                                                 | ((unsigned __int64)v543 << 0x30);
                      v712 = *(_QWORD *)(*(_QWORD *)(a1_1 + 0x128) + 8LL);
                      __asm { vzeroupper }
                      sub_1468FF7F0(a1, &v712);
                      CEntity::ChangeOwnerEntity(a1, a1_1, 1);
                      v544 = v670;
                      if ( v669 == *(_QWORD *)&v670 )
                      {
                        if ( *(_BYTE *)(a1 + 0xD) < 4u )
                        {
                          (*(void (__fastcall **)(double, __int64 *))(**(_QWORD **)&v670 + 0x40LL))(
                            COERCE_DOUBLE(*(_QWORD *)&v670),
                            &v711);
                          v554 = (_QWORD *)sub_1468D68B0(a1_1, v773);
                          if ( (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(*v554 & 0xFFFFFFFFFFFFLL) + 0x658LL))(*v554 & 0xFFFFFFFFFFFFLL) )
                          {
                            v555 = (_QWORD *)sub_1468D68B0(a1_1, v774);
                            v556 = (_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)(*v555 & 0xFFFFFFFFFFFFLL)
                                                                                        + 8LL))(
                                               *v555 & 0xFFFFFFFFFFFFLL,
                                               v775);
                          }
                          else
                          {
                            v557 = (_QWORD *)sub_1468D68B0(a1_1, v776);
                            v556 = (_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)(*v557 & 0xFFFFFFFFFFFFLL)
                                                                                        + 0x650LL))(
                                               *v557 & 0xFFFFFFFFFFFFLL,
                                               v778);
                          }
                          if ( v711 != *v556
                            || (v558 = (_QWORD *)sub_1468D68B0(a1_1, v777),
                                (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(*v558 & 0xFFFFFFFFFFFFLL) + 0x658LL))(*v558 & 0xFFFFFFFFFFFFLL)) )
                          {
                            *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) |= 2u;
                          }
                        }
                        (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, _QWORD))(*(_QWORD *)::pCZoneSystem
                                                                                         + 0x140LL))(
                          ::pCZoneSystem,
                          a1 + 0x2A0,
                          v9,
                          0);
                        (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, _QWORD))(*(_QWORD *)::pCZoneSystem
                                                                                         + 0x148LL))(
                          ::pCZoneSystem,
                          a1 + 0x2A0,
                          v9,
                          0);
                        n0x40000E_1 = n0x40000E;
                        if ( !n0x40000E )
                        {
                          goto LABEL_253;
                        }
                      }
                      else
                      {
                        (*(void (__fastcall **)(FH4 *, _BYTE *, double, __int64))(*(_QWORD *)::pCZoneSystem + 0x480LL))(
                          ::pCZoneSystem,
                          v805,
                          COERCE_DOUBLE(*(_QWORD *)&v670),
                          v669);
                        v545 = (double *)(*(__int64 (__fastcall **)(FH4 *, char *, __int64, double))(*(_QWORD *)::pCZoneSystem + 0x480LL))(
                                           ::pCZoneSystem,
                                           v809,
                                           v669,
                                           COERCE_DOUBLE(*(_QWORD *)&v544));
                        v546 = *v545;
                        v547 = v545[1];
                        v548 = v545[3];
                        v549 = v545[2];
                        v663 = v545[4];
                        v671 = v545[5];
                        v649 = v545[6];
                        v670 = v549;
                        v550 = *(double *)&v661.m256_f32[4] * v547
                             - *(double *)&v661.m256_f32[2] * v549
                             + *(double *)v661.m256_f32 * v548;
                        v551 = *(double *)v661.m256_f32 * v549
                             - *(double *)&v661.m256_f32[4] * v546
                             + *(double *)&v661.m256_f32[2] * v548;
                        v552 = *(double *)&v661.m256_f32[2] * v546
                             - *(double *)v661.m256_f32 * v547
                             + *(double *)&v661.m256_f32[4] * v548;
                        v764[0] = v659 * v547 - v658 * v549 + v657 * v548 + v660 * v546;
                        v764[1] = v657 * v549 - v659 * v546 + v658 * v548 + v660 * v547;
                        v764[2] = v658 * v546 - v657 * v547 + v659 * v548 + v660 * v549;
                        v764[3] = v660 * v548 - v657 * v546 - v658 * v547 - v659 * v549;
                        v764[4] = *(double *)v661.m256_f32
                                + v547 * v552
                                - v549 * v551
                                + v547 * v552
                                - v549 * v551
                                + v663;
                        v764[5] = v549 * v550
                                - v546 * v552
                                + *(double *)&v661.m256_f32[2]
                                + v549 * v550
                                - v546 * v552
                                + v671;
                        v764[6] = v546 * v551
                                - v547 * v550
                                + *(double *)&v661.m256_f32[4]
                                + v546 * v551
                                - v547 * v550
                                + v649;
                        v764[7] = *(double *)&v661.m256_f32[6];
                        (*(void (__fastcall **)(FH4 *, unsigned __int64, double *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x3B0LL))(
                          ::pCZoneSystem,
                          a1 + 0x2A0,
                          v764,
                          2,
                          v9);
                        (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, _QWORD))(*(_QWORD *)::pCZoneSystem
                                                                                         + 0x140LL))(
                          ::pCZoneSystem,
                          a1 + 0x2A0,
                          v9,
                          0);
                        CEntity::MoveToZoneImpl(a1, v669, (__int64)v805, 1, v9, 1);
                        n0x40000E_1 = 0x40000E;
                        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) |= 2u;
                      }
                      sub_146911E60(a1, (unsigned int)&v657, n0x40000E_1 | 0x1020, v9, 0);
LABEL_253:
                      sub_146908740(a1);
                      v559 = sub_1468DB500(a1);
                      if ( v559 && (*(_DWORD *)(a1_1 + 0x110) & 0x4000) == 0 )
                      {
                        sub_146814FB0(v559, a1_1, a3, v9);
                      }
                      if ( v612 )
                      {
                        v561 = (volatile signed __int64 *)v672;
                        n0x200000 = 0x200000;
                        if ( v672 )
                        {
                          v562 = *(_DWORD *)(v672 + 0xC);
                          if ( v562 )
                          {
                            *(_DWORD *)(v672 + 0xC) = v562 - 1;
                          }
                          else
                          {
                            *(_DWORD *)(v672 + 8) = 0xFFFFFFFF;
                            n0x200000_1 = _InterlockedCompareExchange64(v561, 0, 0x200000);
                            if ( n0x200000_1 != 0x200000 )
                            {
                              sub_1403D8A00(v561, n0x200000_1);
                              n0x200000 = 0x200000;
                            }
                          }
                        }
                        if ( v26 )
                        {
                          v563 = *(_DWORD *)(v26 + 0xC);
                          if ( v563 )
                          {
                            *(_DWORD *)(v26 + 0xC) = v563 - 1;
                          }
                          else
                          {
                            *(_DWORD *)(v26 + 8) = 0xFFFFFFFF;
                            n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)v26, 0, 0x200000);
                            if ( n0x200000_2 != 0x200000 )
                            {
                              sub_1403D8A00((volatile signed __int64 *)v26, n0x200000_2);
                            }
                          }
                        }
                        if ( v23 )
                        {
                          v566 = *(_DWORD *)(v23 + 0xC);
                          if ( v566 )
                          {
                            *(_DWORD *)(v23 + 0xC) = v566 - 1;
                          }
                          else
                          {
                            *(_DWORD *)(v23 + 8) = 0xFFFFFFFF;
                            n0x200000_3 = _InterlockedCompareExchange64((volatile signed __int64 *)v23, 0, 0x200000);
                            if ( n0x200000_3 != 0x200000 )
                            {
                              sub_1403D8A00((volatile signed __int64 *)v23, n0x200000_3);
                            }
                          }
                        }
                        if ( dword_1497929CC )
                        {
                          --dword_1497929CC;
                        }
                        else
                        {
                          dword_1497929C8 = 0xFFFFFFFF;
                          n0x200000_4 = _InterlockedCompareExchange64(&qword_1497929C0, 0, 0x200000);
                          if ( n0x200000_4 != 0x200000 )
                          {
                            sub_1403D8A00(&qword_1497929C0, n0x200000_4);
                          }
                        }
                        if ( dword_1497929DC )
                        {
                          --dword_1497929DC;
                        }
                        else
                        {
                          dword_1497929D8 = 0xFFFFFFFF;
                          n0x200000_5 = _InterlockedCompareExchange64(&qword_1497929D0, 0, 0x200000);
                          if ( n0x200000_5 != 0x200000 )
                          {
                            sub_1403D8A00(&qword_1497929D0, n0x200000_5);
                          }
                        }
                      }
                      if ( n0x40000E_1 )
                      {
                        sub_1468E6EC0(a1, n0x40000E_1 | 0x2000000u, v9);
                      }
                      (*(void (__fastcall **)(FH4 *, __int64))(*(_QWORD *)::pCZoneSystem + 0xF8LL))(
                        ::pCZoneSystem,
                        n0x200000);
                      sub_140368960(v825, 6);
                      if ( ::a1_1 > a1
                        || a1 >= qword_15126E3D8 + ::a1_1 )
                      {
                        v570 = 0;
                        v571 = a1 - 6;
                      }
                      else
                      {
                        v570 = 1;
                        v571 = a1 & 0xFFFFFFFFFF000000uLL;
                      }
                      v572 = *(_WORD *)(v571 + 2) | 0x2000;
                      if ( !v570 )
                      {
                        v572 = *(_WORD *)(v571 + 2);
                      }
                      v826 = a1 | ((unsigned __int64)v572 << 0x30);
                      v827 = *(_QWORD *)(a1 + 0x10);
                      v828 = v9;
                      sub_1468FF140(a1_1, v825);
                      sub_140368960(v829, 7);
                      if ( ::a1_1 > a1_1
                        || a1_1 >= qword_15126E3D8 + ::a1_1 )
                      {
                        v573 = 0;
                        v574 = a1_1 - 6;
                      }
                      else
                      {
                        v573 = 1;
                        v574 = a1_1 & 0xFFFFFFFFFF000000uLL;
                      }
                      v575 = *(_WORD *)(v574 + 2) | 0x2000;
                      if ( !v573 )
                      {
                        v575 = *(_WORD *)(v574 + 2);
                      }
                      v830 = a1_1 | ((unsigned __int64)v575 << 0x30);
                      v831 = *(_QWORD *)(a1_1 + 0x10);
                      v832 = v9;
                      sub_1468FF140(a1, v829);
                      v576 = *(_BYTE *)(a1_1 + 0xB8);
                      if ( v650 )
                      {
                        CEntity::RequestPostAnimationUpdate(a1_1);
                      }
                      if ( v576 )
                      {
                        CEntity::RequestPostAnimationUpdate(a1);
                      }
                      (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(
                        ::pCZoneSystem,
                        0x7832,
                        v9);
                      v12 = 1;
                      goto LABEL_299;
                    }
                    v539 = &v694;
                    v540 = v74;
                  }
                  __asm { vzeroupper }
                  sub_1468A5EB0(v72, v540, v539);
                  goto LABEL_236;
                }
                *((_QWORD *)&v203 + 1) = *((_QWORD *)&v183 + 1);
                *(double *)&v203 = *(double *)&v183 - *(double *)&v168 - *(double *)&v179 + *(double *)&v33;
                _XMM2 = v203;
                __asm
                {
                  vmovddup xmm3, xmm2
                  vsqrtpd xmm4, xmm3
                }
                __asm { vunpckhpd xmm4, xmm4, xmm4 }
                v201 = 0.5 / *(double *)&_XMM4;
                *(double *)&v33 = (v178 - v173) * (0.5 / *(double *)&_XMM4);
                v185 = (v182 + v177) * (0.5 / *(double *)&_XMM4);
                v202 = v181 + v174;
                v186 = *(double *)&_XMM4 * 0.5;
              }
              else
              {
                *((_QWORD *)&v196 + 1) = *((_QWORD *)&v179 + 1);
                *(double *)&v196 = *(double *)&v179 - *(double *)&v183 - *(double *)&v168 + *(double *)&v33;
                _XMM2 = v196;
                __asm
                {
                  vmovddup xmm3, xmm2
                  vsqrtpd xmm4, xmm3
                }
                __asm { vunpckhpd xmm4, xmm4, xmm4 }
                v201 = 0.5 / *(double *)&_XMM4;
                *(double *)&v33 = (v174 - v181) * (0.5 / *(double *)&_XMM4);
                v186 = (v182 + v177) * (0.5 / *(double *)&_XMM4);
                v202 = v178 + v173;
                v185 = *(double *)&_XMM4 * 0.5;
              }
              v180 = v202 * v201;
            }
            else
            {
              *((_QWORD *)&v191 + 1) = *((_QWORD *)&v168 + 1);
              *(double *)&v191 = *(double *)&v168 - *(double *)&v179 - *(double *)&v183 + *(double *)&v33;
              _XMM2 = v191;
              __asm { vmovddup xmm3, xmm2 }
              __asm
              {
                vsqrtpd xmm4, xmm3
                vunpckhpd xmm4, xmm4, xmm4
              }
              *(double *)&v33 = (v182 - v177) * (0.5 / *(double *)&_XMM4);
              v180 = *(double *)&_XMM4 * 0.5;
              v186 = (v181 + v174) * (0.5 / *(double *)&_XMM4);
              v185 = (v178 + v173) * (0.5 / *(double *)&_XMM4);
            }
          }
          else
          {
            *(double *)&v184 = *(double *)&v184 + *(double *)&v33;
            _XMM0 = v184;
            __asm { vmovddup xmm1, xmm0 }
            __asm
            {
              vsqrtpd xmm2, xmm1
              vunpckhpd xmm2, xmm2, xmm2
            }
            *(double *)&v33 = *(double *)&_XMM2 * 0.5;
            v180 = (v182 - v177) * (0.5 / *(double *)&_XMM2);
            v186 = (v178 - v173) * (0.5 / *(double *)&_XMM2);
            v185 = (v174 - v181) * (0.5 / *(double *)&_XMM2);
          }
          v590 = v186;
          v601 = v185;
          v594 = v180;
          goto LABEL_116;
        }
        v800 = v684;
        _XMM2 = COERCE_UNSIGNED_INT64(v676);
        __asm { vunpcklpd xmm0, xmm2, xmm0 }
        v799 = _XMM0;
        v85 = v673;
        v86 = COERCE_UNSIGNED_INT64(v674);
        v87 = v681;
        v88 = COERCE_UNSIGNED_INT64(v683);
        v89 = v675;
        v90 = v682;
        v629 = pow(
                 fabs(
                   v678 * v673 * *(double *)&v88
                 + v679 * *(double *)&v86 * v87
                 + v677 * v89 * v682
                 - v678 * v89 * v87
                 - v679 * v673 * v682
                 - v677 * *(double *)&v86 * *(double *)&v88),
                 0.3333333333333333);
        *((_QWORD *)&v91 + 1) = *((_QWORD *)&v86 + 1);
        *(double *)&v91 = *(double *)&v86 * *(double *)&v86 + v85 * v85 + v89 * v89 + 2.225073858507201e-308;
        _XMM1 = v91;
        __asm
        {
          vmovddup xmm4, xmm1
          vsqrtpd xmm2, xmm4
          vunpckhpd xmm2, xmm2, xmm2
        }
        v96 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM2 * v85);
        v97 = v87 * *(double *)&v86 - v90 * v85;
        *((_QWORD *)&v91 + 1) = *((_QWORD *)&v88 + 1);
        *(double *)&v91 = *(double *)&v88 * v85 - v87 * v89;
        v98 = v91;
        *(double *)&_XMM4 = v90 * v89 - *(double *)&v88 * *(double *)&v86;
        *(double *)&v91 = *(double *)&v98 * *(double *)&v98
                        + *(double *)&_XMM4 * *(double *)&_XMM4
                        + v97 * v97
                        + 2.225073858507201e-308;
        _XMM1 = v91;
        __asm
        {
          vmovddup xmm3, xmm1
          vsqrtpd xmm0, xmm3
          vunpckhpd xmm0, xmm0, xmm0
        }
        *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
        v103 = v97 * *(double *)&_XMM0;
        v104 = 1.0 / *(double *)&_XMM2 * v89;
        v105 = *(double *)&_XMM4 * *(double *)&_XMM0;
        *((_QWORD *)&v91 + 1) = *((_QWORD *)&v98 + 1);
        *(double *)&v91 = *(double *)&v98 * *(double *)&_XMM0;
        v106 = v91;
        v107 = 1.0 / *(double *)&_XMM2 * *(double *)&v86;
        v108 = v107 * v103 - v104 * *(double *)&v91;
        v109 = v104 * v105 - v103 * *(double *)&v96;
        *(double *)&v91 = *(double *)&v91 * *(double *)&v96 - v107 * v105;
        v110 = v91;
        *((_QWORD *)&v111 + 1) = *((_QWORD *)&v106 + 1);
        *(double *)&v111 = *(double *)&v106 + *(double *)&v96 + *(double *)&v110;
        v624 = 1.0;
        v589 = 0.0;
        v600 = 0.0;
        v580 = 0.0;
        if ( *(double *)&v111 <= 0.0 )
        {
          if ( *(double *)&v96 < *(double *)&v106 || *(double *)&v96 < *(double *)&v110 )
          {
            if ( *(double *)&v106 < *(double *)&v96 || *(double *)&v106 < *(double *)&v110 )
            {
              if ( *(double *)&v110 < *(double *)&v96 || *(double *)&v110 < *(double *)&v106 )
              {
                goto LABEL_99;
              }
              *((_QWORD *)&v127 + 1) = *((_QWORD *)&v110 + 1);
              *(double *)&v127 = *(double *)&v110 - *(double *)&v96 - *(double *)&v106 + 1.0;
              _XMM2 = v127;
              __asm
              {
                vmovddup xmm3, xmm2
                vsqrtpd xmm4, xmm3
              }
              __asm { vunpckhpd xmm4, xmm4, xmm4 }
              v624 = (v105 - v107) * (0.5 / *(double *)&_XMM4);
              v589 = (v108 + v104) * (0.5 / *(double *)&_XMM4);
              v600 = (v109 + v103) * (0.5 / *(double *)&_XMM4);
              v116 = *(double *)&_XMM4 * 0.5;
            }
            else
            {
              *((_QWORD *)&v122 + 1) = *((_QWORD *)&v106 + 1);
              *(double *)&v122 = *(double *)&v106 - *(double *)&v110 - *(double *)&v96 + 1.0;
              _XMM2 = v122;
              __asm
              {
                vmovddup xmm3, xmm2
                vsqrtpd xmm4, xmm3
              }
              __asm { vunpckhpd xmm4, xmm4, xmm4 }
              v624 = (v104 - v108) * (0.5 / *(double *)&_XMM4);
              v589 = (v107 + v105) * (0.5 / *(double *)&_XMM4);
              v600 = *(double *)&_XMM4 * 0.5;
              v116 = (v109 + v103) * (0.5 / *(double *)&_XMM4);
            }
          }
          else
          {
            *((_QWORD *)&v117 + 1) = *((_QWORD *)&v96 + 1);
            *(double *)&v117 = *(double *)&v96 - *(double *)&v106 - *(double *)&v110 + 1.0;
            _XMM2 = v117;
            __asm { vmovddup xmm3, xmm2 }
            __asm
            {
              vsqrtpd xmm4, xmm3
              vunpckhpd xmm4, xmm4, xmm4
            }
            v624 = (v109 - v103) * (0.5 / *(double *)&_XMM4);
            v589 = *(double *)&_XMM4 * 0.5;
            v600 = (v107 + v105) * (0.5 / *(double *)&_XMM4);
            v116 = (v108 + v104) * (0.5 / *(double *)&_XMM4);
          }
        }
        else
        {
          *(double *)&v111 = *(double *)&v111 + 1.0;
          _XMM0 = v111;
          __asm { vmovddup xmm1, xmm0 }
          __asm
          {
            vsqrtpd xmm2, xmm1
            vunpckhpd xmm2, xmm2, xmm2
          }
          v624 = *(double *)&_XMM2 * 0.5;
          v589 = (v109 - v103) * (0.5 / *(double *)&_XMM2);
          v600 = (v104 - v108) * (0.5 / *(double *)&_XMM2);
          v116 = (v105 - v107) * (0.5 / *(double *)&_XMM2);
        }
        v580 = v116;
LABEL_99:
        CEntity::GetTransform(a1_1, (__int64)&v720, 0, a1_0, 0, 0);
        v132 = v721 * v800 - v722 * *((double *)&v799 + 1) + v723 * *(double *)&v799;
        v133 = *(double *)&v799 * v722 - v720 * v800 + v723 * *((double *)&v799 + 1);
        v134 = v720 * *((double *)&v799 + 1) - *(double *)&v799 * v721 + v723 * v800;
        v729[0] = v721 * v580 - v722 * v600 + v723 * v589 + v720 * v624;
        v729[1] = v722 * v589 - v720 * v580 + v723 * v600 + v721 * v624;
        v729[2] = v720 * v600 - v721 * v589 + v723 * v580 + v722 * v624;
        v729[3] = v723 * v624 - v720 * v589 - v721 * v600 - v722 * v580;
        v729[4] = (*(double *)&v799 + v721 * v134 - v722 * v133 + v721 * v134 - v722 * v133) * v727 + v724;
        v729[5] = (*((double *)&v799 + 1) + v722 * v132 - v720 * v134 + v722 * v132 - v720 * v134) * v727 + v725;
        v729[6] = (v800 + v720 * v133 - v721 * v132 + v720 * v133 - v721 * v132) * v727 + v726;
        v729[7] = v727 * v629;
        CEntity::GetTransform(a1, (__int64)&v730, 0, a1_0, 0, 0);
        v135 = sub_1404B0DB0(v729, v814);
        v136 = v135[1];
        v137 = v135[2];
        v138 = v135[3];
        v139 = v135[7];
        v140 = v736 * v136 - v735 * v137 + v734 * v138;
        v141 = v734 * v137 - v736 * *v135 + v735 * v138;
        v142 = v735 * *v135 - v734 * v136 + v736 * v138;
        v143 = v135[3];
        _XMM15 = COERCE_UNSIGNED_INT64((v734 + v136 * v142 - v137 * v141 + v136 * v142 - v137 * v141) * v139 + v135[4]);
        v145 = (v736 + *v135 * v141 - v136 * v140 + *v135 * v141 - v136 * v140) * v139 + v135[6];
        v146 = v730 * v137 - v732 * *v135 + v731 * v143 + v733 * v136;
        v147 = v135;
        v148 = v731 * *v135 - v730 * v135[1] + v732 * v143 + v733 * v137;
        v149 = v731 * v135[1];
        v150 = v733 * v143 - v730 * *v135;
        v151 = v732 * v137;
        v152 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
        v153 = v139 * v737;
        __asm { vunpcklpd xmm15, xmm15, xmm14 }
        *(double *)v152 = v732 * v147[1] - v731 * v147[2] + v730 * v147[3] + v733 * *v147;
        *(double *)(v152 + 8) = v146;
        *(double *)(v152 + 0x10) = v148;
        *(double *)(v152 + 0x18) = v150 - v149 - v151;
        *(_OWORD *)(v152 + 0x20) = _XMM15;
        *(double *)(v152 + 0x30) = v145;
        v783 = _XMM15;
        v33 = 0x3FF0000000000000uLL;
        *(double *)(v152 + 0x38) = v153;
        v780 = v146;
        v781 = v148;
        v782 = v150 - v149 - v151;
        v784 = v145;
        v785 = v153;
        goto LABEL_103;
      case 3:
        v582 = *(_DWORD *)(a3 + 4) >> 0x1C;
        __asm { vzeroupper }
        v231 = sub_1468D6BB0(a1_1, v582);
        v642 = v231;
        if ( a3 == 0xFFFFFFFFFFFFFFF8uLL || *(_BYTE *)(a3 + 0x128) || !v231 )
        {
          goto LABEL_139;
        }
        v631 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v231 + 0x30LL))(v231);
        v653 = *(_QWORD *)(a3 + 8);
        v602 = sub_1403DE0C0(v653);
        LODWORD(v232) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v631 + 0x2E0LL))(
                          v631,
                          v833,
                          v602);
        v233 = 1.0;
        v234 = 0.0;
        v688 = 1.0;
        v685 = 0.0;
        v686 = 0.0;
        v687 = 0.0;
        v689 = 0.0;
        v690 = 0.0;
        v691 = 0.0;
        if ( (int)v232 <= (int)0xFFFFFFFF )
        {
          v617 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v642 + 0x70LL))(v642);
          LODWORD(v232) = (*(__int64 (__fastcall **)(__int64, __int64, int *, float *))(*(_QWORD *)v617 + 0xA8LL))(
                            v617,
                            v653,
                            &v692,
                            &v685);
          if ( (_DWORD)v232 != 0xFFFFFFFF )
          {
            v235 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v617 + 0x40LL))(v617, (unsigned int)v232);
            v602 = sub_1403DE0C0(v235);
            v232 = (*(unsigned int (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v631 + 0x2E0LL))(
                     v631,
                     v833,
                     v602);
            v236 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v617 + 0x88LL))(v617, v232);
            v237 = v692;
            if ( v236 == v692 )
            {
              v237 = 0xFFFF;
            }
            *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x14ALL) = v237;
          }
        }
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 3;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x144LL) = v582;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x14CLL) = v602;
        *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) = v232;
        sub_143C6EB00(*(_QWORD *)(a1 + 0x128) + 0x18LL, a3 + 8);
        v238 = *(_QWORD *)(a1 + 0x128);
        *(__m256i *)(v238 + 0x190) = *(__m256i *)(a3 + 0x138);
        *(double *)(v238 + 0x1B0) = *(double *)(a3 + 0x158);
        if ( (_DWORD)v232 == 0xFFFFFFFF )
        {
          v707 = 1.0;
          v704 = 0.0;
          v705 = 0.0;
          v706 = 0.0;
          v708 = 0.0;
          v709 = 0.0;
          v710 = 0.0;
          v240 = 0.0;
          v241 = 0.0;
          v242 = 0.0;
          v243 = 0.0;
          v244 = 0.0;
        }
        else
        {
          __asm { vzeroupper }
          v239 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v631 + 0x140LL))(v631, (unsigned int)v232);
          v233 = *(float *)(v239 + 0xC);
          v701 = v233;
          v234 = *(float *)v239;
          v698 = *(float *)v239;
          v240 = *(float *)(v239 + 4);
          v699 = v240;
          v241 = *(float *)(v239 + 8);
          v700 = v241;
          v702 = *(_QWORD *)(v239 + 0x10);
          v242 = *(float *)&v702;
          v243 = *((float *)&v702 + 1);
          v703 = *(float *)(v239 + 0x18);
          v244 = v703;
        }
        v245 = v233;
        v246 = v242;
        v247 = v234;
        v248 = v240;
        v249 = v241;
        v250 = v243;
        v632 = v244;
        v643 = v234;
        v607 = v240;
        v583 = v241;
        v618 = v242;
        v591 = v243;
        if ( (_DWORD)v232 == 0xFFFFFFFF )
        {
          *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) |= 0x80u;
        }
        v251 = *(_QWORD *)(a3 + 0x130);
        if ( v251 )
        {
          v252 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
          *(_QWORD *)v252 = *(_QWORD *)v251;
          *(_QWORD *)(v252 + 8) = *(_QWORD *)(v251 + 8);
          *(_QWORD *)(v252 + 0x10) = *(_QWORD *)(v251 + 0x10);
          *(_QWORD *)(v252 + 0x18) = *(_QWORD *)(v251 + 0x18);
          *(_OWORD *)(v252 + 0x20) = *(_OWORD *)(v251 + 0x20);
          *(double *)(v252 + 0x30) = *(double *)(v251 + 0x30);
          *(_QWORD *)(v252 + 0x38) = *(_QWORD *)(v251 + 0x38);
          if ( *(_BYTE *)(a1 + 0xD) < 4u )
          {
            goto LABEL_138;
          }
          __asm { vzeroupper }
          v253 = *(double *)(CEntity::GetZoneTransform(a1, (__int64)v815, 0) + 0x38);
          v254 = *(_QWORD *)(a1 + 0x128);
          v255 = v253 * *(double *)(v254 + 0x188);
        }
        else
        {
          if ( (*(_BYTE *)(a3 + 4) & 1) != 0 )
          {
            __asm { vzeroupper }
            CEntity::GetTransform(a1_1, (__int64)&v738, 0, a1_0, 0, 0);
            v256 = v739 * v632 - v740 * v250 + v741 * v246;
            v257 = v740 * v246 - v738 * v632 + v741 * v250;
            v258 = v738 * v250 - v739 * v246 + v741 * v632;
            v728[0] = v739 * v249 - v740 * v248 + v741 * v247 + v738 * v245;
            v728[1] = v740 * v247 - v738 * v249 + v741 * v248 + v739 * v245;
            v728[2] = v738 * v248 - v739 * v247 + v741 * v249 + v740 * v245;
            v728[3] = v741 * v245 - v738 * v247 - v739 * v248 - v740 * v249;
            v728[4] = (v739 * v258 - v740 * v257 + v618 + v739 * v258 - v740 * v257) * v745 + v742;
            v728[5] = (v740 * v256 - v738 * v258 + v591 + v740 * v256 - v738 * v258) * v745 + v743;
            v728[6] = (v738 * v257 - v739 * v256 + v632 + v738 * v257 - v739 * v256) * v745 + v744;
            v728[7] = v745;
            CEntity::GetTransform(a1, (__int64)&v746, 0, a1_0, 0, 0);
            v259 = sub_1404B0DB0(v728, v816);
            v260 = v259[1];
            v261 = v259[2];
            v262 = v259[3];
            v263 = v259[7];
            v264 = v752 * v260 - v751 * v261 + v750 * v262;
            v265 = v750 * v261 - v752 * *v259 + v751 * v262;
            v266 = v751 * *v259 - v750 * v260 + v752 * v262;
            v267 = v259[3];
            _XMM15 = COERCE_UNSIGNED_INT64((v750 + v260 * v266 - v261 * v265 + v260 * v266 - v261 * v265) * v263 + v259[4]);
            v269 = (v752 + *v259 * v265 - v260 * v264 + *v259 * v265 - v260 * v264) * v263 + v259[6];
            v270 = v746 * v261 - v748 * *v259 + v747 * v267 + v749 * v260;
            v271 = v747 * *v259 - v746 * v259[1] + v748 * v267 + v749 * v261;
            v272 = v259;
            v273 = v747 * v259[1];
            v274 = v749 * v267 - v746 * *v259;
            v275 = v748 * v261;
            v276 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
            v277 = v263 * v753;
            __asm { vunpcklpd xmm15, xmm15, xmm14 }
            *(double *)v276 = v748 * v272[1] - v747 * v272[2] + v746 * v272[3] + v749 * *v272;
            *(double *)(v276 + 8) = v270;
            *(double *)(v276 + 0x10) = v271;
            *(double *)(v276 + 0x18) = v274 - v273 - v275;
            *(_OWORD *)(v276 + 0x20) = _XMM15;
            *(double *)(v276 + 0x30) = v269;
            v789 = _XMM15;
            v247 = v643;
            *(double *)(v276 + 0x38) = v277;
            v786 = v270;
            v787 = v271;
            v788 = v274 - v273 - v275;
            v790 = v269;
            v791 = v277;
            goto LABEL_138;
          }
          v279 = (_QWORD *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
          v279[3] = 0x3FF0000000000000LL;
          *v279 = 0;
          v279[1] = 0;
          v279[2] = 0;
          v279[4] = 0;
          v279[5] = 0;
          v279[6] = 0;
          v279[7] = 0x3FF0000000000000LL;
          if ( *(_BYTE *)(a1 + 0xD) < 4u )
          {
LABEL_138:
            v280 = v691 * v607 - v690 * v583 + v689 * v245;
            v281 = v689 * v583 - v691 * v247 + v690 * v245;
            v282 = v690 * v247 - v689 * v607 + v691 * v245;
            v283 = v280 * v583 - v282 * v247;
            v284 = v281 * v247 - v280 * v607;
            v635 = v687 * v607 - v686 * v583 + v685 * v245 + v688 * v247;
            v627 = v685 * v583 - v687 * v247 + v686 * v245 + v688 * v607;
            v603 = v686 * v247 - v685 * v607 + v687 * v245 + v688 * v583;
            v285 = v282 * v607 - v281 * v583 + v618 + v689 + v282 * v607 - v281 * v583;
            v286 = v688 * v245 - v685 * v247 - v686 * v607 - v687 * v583;
            v287 = v690 + v283 + v283 + v591;
            v288 = (double *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
            v289 = v691 + v284 + v284 + v632;
            v595 = v635 * v666 - v603 * v664 + v627 * v667 + v286 * v665;
            v608 = v627 * v664 - v635 * v665 + v603 * v667 + v286 * v666;
            v633 = v286 * v667 - v635 * v664 - v627 * v665 - v603 * v666;
            v290 = v665 * v289 - v666 * v287 + v667 * v285;
            v291 = v666 * v285 - v664 * v289 + v667 * v287;
            v292 = v664 * v287 - v665 * v285 + v667 * v289;
            v644 = (v665 * v292 - v666 * v291 + v285 + v665 * v292 - v666 * v291) * *(double *)&v668.m256_f32[6]
                 + *(double *)v668.m256_f32;
            v619 = (v664 * v291 - v665 * v290 + v289 + v664 * v291 - v665 * v290) * *(double *)&v668.m256_f32[6]
                 + *(double *)&v668.m256_f32[4];
            v636 = v665 * v603 - v666 * v627 + v667 * v635 + v286 * v664;
            v293 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x160LL);
            v294 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x158LL);
            v295 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x168LL);
            v296 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x178LL);
            v297 = *v288 * v608 - v293 * v636 + v294 * v633 + v295 * v595;
            v298 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x170LL);
            v299 = v294 * v636 - *v288 * v595 + v293 * v633 + v295 * v608;
            v300 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x180LL);
            v301 = v295 * v633 - *v288 * v636 - v294 * v595 - v293 * v608;
            v302 = v298 * v608 - v300 * v636 + v296 * v633;
            v303 = (v296 * v636 - v298 * v595 + v300 * v633) * v595 - v608 * v302;
            v304 = v302 * v636 - (v300 * v595 - v296 * v608 + v298 * v633) * v595;
            v305 = *(double *)&v668.m256_f32[6] * *(double *)(*(_QWORD *)(a1 + 0x128) + 0x188LL);
            _XMM7 = COERCE_UNSIGNED_INT64((v298 + v303 + v303) * *(double *)&v668.m256_f32[6] + v644);
            v657 = v293 * v595
                 - *(double *)(*(_QWORD *)(a1 + 0x128) + 0x158LL) * v608
                 + *v288 * v633
                 + *(double *)(*(_QWORD *)(a1 + 0x128) + 0x168LL) * v636;
            v658 = v297;
            __asm { vunpcklpd xmm0, xmm7, xmm5 }
            v806 = _XMM0;
            *(_OWORD *)v661.m256_f32 = _XMM0;
            v659 = v299;
            v660 = v301;
            v807 = (v300 + v304 + v304) * *(double *)&v668.m256_f32[6] + v619;
            *(double *)&v661.m256_f32[6] = v305;
            *(double *)&v661.m256_f32[4] = v807;
            n0x40000E = 0x40000E;
            goto LABEL_70;
          }
          __asm { vzeroupper }
          v255 = *(double *)(CEntity::GetZoneTransform(a1, (__int64)v817, 0) + 0x38);
          v254 = *(_QWORD *)(a1 + 0x128);
        }
        *(double *)(v254 + 0x188) = v255;
        goto LABEL_138;
      case 4:
        if ( *(_BYTE *)(a3 + 0x128) != 1 )
        {
          __asm { vzeroupper }
          sub_1403DC060();
        }
        v311 = *(_QWORD *)(a3 + 8);
        if ( !v311 )
        {
          v29 = v672;
          goto LABEL_202;
        }
        __asm { vzeroupper }
        (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v311 + 8LL))(*(_QWORD *)(a3 + 8));
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 4;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        sub_143C6EB00(*(_QWORD *)(a1 + 0x128) + 0x18LL, a3 + 8);
        v312 = *(_QWORD *)(a1 + 0x128);
        *(__m256i *)(v312 + 0x190) = *(__m256i *)(a3 + 0x138);
        *(double *)(v312 + 0x1B0) = *(double *)(a3 + 0x158);
        v313 = *(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v311 + 0x40LL);
        __asm { vzeroupper }
        v314 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v311 + 0x38LL))(v311);
        v313(v311, v314 | 0x1000u);
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v311 + 8LL))(v311);
        v315 = *(_QWORD *)(a3 + 0x130);
        if ( v315 )
        {
          v316 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
          *(_QWORD *)v316 = *(_QWORD *)v315;
          *(_QWORD *)(v316 + 8) = *(_QWORD *)(v315 + 8);
          *(_QWORD *)(v316 + 0x10) = *(_QWORD *)(v315 + 0x10);
          *(_QWORD *)(v316 + 0x18) = *(_QWORD *)(v315 + 0x18);
          *(_OWORD *)(v316 + 0x20) = *(_OWORD *)(v315 + 0x20);
          *(double *)(v316 + 0x30) = *(double *)(v315 + 0x30);
          *(_QWORD *)(v316 + 0x38) = *(_QWORD *)(v315 + 0x38);
          if ( *(_BYTE *)(a1 + 0xD) < 4u )
          {
            goto LABEL_150;
          }
          v317 = *(double *)(CEntity::GetZoneTransform(a1, (__int64)v818, 0) + 0x38);
          v318 = *(_QWORD *)(a1 + 0x128);
          v319 = v317 * *(double *)(v318 + 0x188);
        }
        else
        {
          if ( (*(_BYTE *)(a3 + 4) & 1) != 0 )
          {
            v320 = (float *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v311 + 0x118LL))(v311);
            v645 = v320[1];
            v321 = v320[6];
            v609 = v320[2];
            v654 = v320[5];
            v322 = *v320;
            v323 = v320[3];
            v324 = v320[4];
            CEntity::GetTransform(a1_1, (__int64)&v765, 0, a1_0, 0, 0);
            v325 = v321 * v766 - v654 * v767 + v324 * v768;
            v326 = v324 * v767 - v321 * v765 + v654 * v768;
            v327 = v654 * v765 - v324 * v766 + v321 * v768;
            v754[0] = v766 * v609 - v645 * v767 + v322 * v768 + v323 * v765;
            v754[1] = v322 * v767 - v765 * v609 + v645 * v768 + v323 * v766;
            v754[2] = v645 * v765 - v322 * v766 + v768 * v609 + v323 * v767;
            v754[3] = v323 * v768 - v322 * v765 - v645 * v766 - v767 * v609;
            v754[4] = (v327 * v766 - v326 * v767 + v324 + v327 * v766 - v326 * v767) * v772 + v769;
            v754[5] = (v325 * v767 - v327 * v765 + v654 + v325 * v767 - v327 * v765) * v772 + v770;
            v754[6] = (v326 * v765 - v325 * v766 + v321 + v326 * v765 - v325 * v766) * v772 + v771;
            v754[7] = v772;
            CEntity::GetTransform(a1, (__int64)&v755, 0, a1_0, 0, 0);
            v328 = sub_1404B0DB0(v754, v819);
            v329 = v328[2];
            v330 = v328[1];
            v331 = v328[3];
            v332 = v328[7];
            v333 = v330 * v761 - v329 * v760 + v331 * v759;
            v334 = v329 * v759 - *v328 * v761 + v331 * v760;
            v335 = *v328 * v760 - v330 * v759 + v331 * v761;
            _XMM15 = COERCE_UNSIGNED_INT64((v330 * v335 - v334 * v329 + v759 + v330 * v335 - v334 * v329) * v332 + v328[4]);
            v337 = (v334 * *v328 - v330 * v333 + v761 + v334 * *v328 - v330 * v333) * v332 + v328[6];
            v338 = v328;
            v339 = v328[3];
            v340 = v755 * v329 - v757 * *v328 + v339 * v756 + v330 * v758;
            v341 = v756 * *v328 - v755 * v328[1] + v339 * v757 + v758 * v329;
            v342 = v756 * v328[1];
            v343 = v339 * v758 - v755 * *v328;
            v344 = v757 * v329;
            v345 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
            v346 = v332 * v762;
            __asm { vunpcklpd xmm15, xmm15, xmm14 }
            *(double *)v345 = v757 * v338[1] - v756 * v338[2] + v755 * v338[3] + v758 * *v338;
            *(double *)(v345 + 8) = v340;
            *(double *)(v345 + 0x10) = v341;
            *(double *)(v345 + 0x18) = v343 - v342 - v344;
            *(_OWORD *)(v345 + 0x20) = _XMM15;
            *(double *)(v345 + 0x30) = v337;
            *(double *)(v345 + 0x38) = v346;
            v792 = v340;
            v793 = v341;
            v794 = v343 - v342 - v344;
            v796 = v337;
            v797 = v346;
            v795 = _XMM15;
            goto LABEL_150;
          }
          v348 = (_QWORD *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
          v348[3] = 0x3FF0000000000000LL;
          *v348 = 0;
          v348[1] = 0;
          v348[2] = 0;
          v348[4] = 0;
          v348[5] = 0;
          v348[6] = 0;
          v348[7] = 0x3FF0000000000000LL;
          if ( *(_BYTE *)(a1 + 0xD) < 4u )
          {
LABEL_150:
            v646 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v311 + 0xE0LL))(v311);
            if ( v646 )
            {
              v349 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v311 + 0xB8LL))(v311);
              if ( v349 )
              {
                *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x14CLL) = sub_1403DE0C0(v646);
                v350 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v349 + 0x30LL))(v349);
                *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v350 + 0x2E0LL))(
                                                                                   v350,
                                                                                   v833,
                                                                                   *(unsigned int *)(*(_QWORD *)(a1 + 0x128) + 0x14CLL));
                if ( *(__int16 *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) <= (__int16)0xFFFFFFFF )
                {
                  v351 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v349 + 0x70LL))(v349);
                  *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) = (*(__int64 (__fastcall **)(__int64, __int64, int *, _QWORD))(*(_QWORD *)v351 + 0xA8LL))(
                                                                                     v351,
                                                                                     v646,
                                                                                     &v693,
                                                                                     0);
                  if ( *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) != 0xFFFF )
                  {
                    v352 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v351 + 0x40LL))(v351);
                    *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x14CLL) = sub_1403DE0C0(v352);
                    v353 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v349 + 0x30LL))(v349);
                    *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v353 + 0x2E0LL))(
                                                                                       v353,
                                                                                       v833,
                                                                                       *(unsigned int *)(*(_QWORD *)(a1 + 0x128) + 0x14CLL));
                    v354 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v351 + 0x88LL))(
                             v351,
                             (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x128) + 0x148LL));
                    v355 = v693;
                    if ( v354 == v693 )
                    {
                      v355 = 0xFFFF;
                    }
                    *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x14ALL) = v355;
                  }
                }
                v356 = *(_QWORD *)(a1 + 0x128);
                if ( *(_WORD *)(v356 + 0x148) == 0xFFFF )
                {
                  *(_DWORD *)(v356 + 0x140) |= 0x80u;
                }
              }
            }
            v357 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v311 + 0x1F8LL))(v311);
            v358 = (double *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
            v359 = v357;
            v360 = (float *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v311 + 0x118LL))(v311);
            v361 = *v360;
            v362 = v360[3];
            v363 = v360[5];
            v364 = v360[2];
            v365 = v360[1];
            v366 = v360[6];
            v610 = v666 * v361 - v664 * v364 + v667 * v365 + v665 * v362;
            v584 = v664 * v365 - v665 * v361 + v667 * v364 + v666 * v362;
            v637 = v667 * v362 - v664 * v361 - v665 * v365 - v666 * v364;
            v367 = v360[4];
            v368 = v665 * v366 - v666 * v363 + v667 * v367;
            v647 = v361;
            v369 = v666 * v367 - v664 * v366 + v667 * v363;
            v655 = v362;
            v370 = v664 * v363 - v665 * v367 + v667 * v366;
            v620 = (v367 + v665 * v370 - v666 * v369 + v665 * v370 - v666 * v369) * *(double *)&v668.m256_f32[6]
                 + *(double *)v668.m256_f32;
            v371 = (v363 + v666 * v368 - v664 * v370 + v666 * v368 - v664 * v370) * *(double *)&v668.m256_f32[6]
                 + *(double *)&v668.m256_f32[2];
            v372 = v358[4];
            v373 = v358[5];
            v374 = v366 + v664 * v369 - v665 * v368;
            v375 = v358[6];
            v671 = (v374 + v664 * v369 - v665 * v368) * *(double *)&v668.m256_f32[6] + *(double *)&v668.m256_f32[4];
            v376 = v358[1];
            v377 = v665 * v364;
            v378 = *v358;
            v379 = v358[2];
            v380 = v358[3];
            v381 = v637;
            v382 = v377 - v666 * v365 + v667 * v647 + v664 * v655;
            v596 = *v358 * v584 - v379 * v382 + v376 * v637 + v380 * v610;
            v592 = v376 * v382 - *v358 * v610 + v379 * v637 + v380 * v584;
            v604 = v380 * v637 - *v358 * v382 - v376 * v610 - v379 * v584;
            v383 = v375 * v610 - v373 * v584 + v372 * v637;
            v384 = v372 * v584 - v375 * v382 + v373 * v637;
            v385 = v373 * v382 - v372 * v610 + v375 * v637;
            v648 = (v372 + v385 * v610 - v384 * v584 + v385 * v610 - v384 * v584) * *(double *)&v668.m256_f32[6] + v620;
            v656 = (v373 + v383 * v584 - v382 * v385 + v383 * v584 - v382 * v385) * *(double *)&v668.m256_f32[6] + v371;
            v386 = v382 * v384;
            LODWORD(v384) = *(_DWORD *)v359;
            v387 = v386 - v383 * v610;
            v388 = v375 + v387;
            LODWORD(v375) = *(_DWORD *)(v359 + 0x14);
            LODWORD(v372) = *(_DWORD *)(v359 + 0xC);
            v638 = (v388 + v387) * *(double *)&v668.m256_f32[6] + v671;
            v671 = *(double *)&v668.m256_f32[6] * v358[7];
            v389 = *(float *)&v372;
            v390 = v379 * v610 - v376 * v584 + v378 * v381 + v380 * v382;
            v391 = *(float *)&v384;
            v392 = *(float *)(v359 + 8);
            v393 = *(float *)(v359 + 4);
            v394 = v391 * v592 - v390 * v392 + v393 * v604 + v389 * v596;
            v395 = v390 * v393 - v391 * v596 + v392 * v604 + v389 * v592;
            v396 = v389 * v604 - v390 * v391 - v393 * v596 - v392 * v592;
            v397 = *(float *)(v359 + 0x18);
            v398 = *(float *)&v375;
            v399 = *(float *)(v359 + 0x10);
            v611 = v390;
            v400 = v397 * v390;
            v401 = v397 * v596 - v398 * v592 + v399 * v604;
            v621 = v391;
            v402 = v399 * v592 - v400 + v398 * v604;
            v403 = v398 * v611 - v399 * v596 + v397 * v604;
            v657 = v392 * v596 - v393 * v592 + v621 * v604 + v611 * v389;
            v658 = v394;
            v659 = v395;
            v660 = v396;
            *(double *)v661.m256_f32 = (v399 + v403 * v596 - v402 * v592 + v403 * v596 - v402 * v592) * v671 + v648;
            *(double *)&v661.m256_f32[2] = (v398 + v401 * v592 - v403 * v611 + v401 * v592 - v403 * v611) * v671 + v656;
            *(double *)&v661.m256_f32[4] = (v397 + v402 * v611 - v401 * v596 + v402 * v611 - v401 * v596) * v671 + v638;
            *(double *)&v661.m256_f32[6] = v671;
            n0x40000E = 0x40000E;
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v311 + 0x10LL))(v311);
            *(double *)&v9 = v663;
            v23 = v628;
            goto LABEL_70;
          }
          v319 = *(double *)(CEntity::GetZoneTransform(a1, (__int64)v820, 0) + 0x38);
          v318 = *(_QWORD *)(a1 + 0x128);
        }
        *(double *)(v318 + 0x188) = v319;
        goto LABEL_150;
      case 5:
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 5;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        __asm { vzeroupper }
        sub_143C6EB00(*(_QWORD *)(a1 + 0x128) + 0x18LL, a3 + 8);
        v404 = *(_QWORD *)(a1 + 0x128);
        *(__m256i *)(v404 + 0x190) = *(__m256i *)(a3 + 0x138);
        v405 = v668;
        *(double *)(v404 + 0x1B0) = *(double *)(a3 + 0x158);
        v661 = v405;
        goto LABEL_69;
      case 6:
        v406 = v668;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 6;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        v661 = v406;
        goto LABEL_69;
      case 7:
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 7;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        v407 = *(_QWORD *)(a3 + 0x130);
        if ( v407 )
        {
          v408 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
          *(_QWORD *)v408 = *(_QWORD *)v407;
          *(_QWORD *)(v408 + 8) = *(_QWORD *)(v407 + 8);
          *(_QWORD *)(v408 + 0x10) = *(_QWORD *)(v407 + 0x10);
          *(_QWORD *)(v408 + 0x18) = *(_QWORD *)(v407 + 0x18);
          *(_OWORD *)(v408 + 0x20) = *(_OWORD *)(v407 + 0x20);
          *(double *)(v408 + 0x30) = *(double *)(v407 + 0x30);
          *(_QWORD *)(v408 + 0x38) = *(_QWORD *)(v407 + 0x38);
          __asm { vzeroupper }
          *(double *)(*(_QWORD *)(a1 + 0x128) + 0x188LL) = sub_1468DE710(a1, 0);
          v409 = *(double **)(a3 + 0x130);
          v410 = v409[3];
          v411 = v409[2];
          v412 = v409[1];
          v413 = *v409 * v42 - v411 * v39 + v412 * v40 + v41 * v410;
          v414 = v412 * v39 - v41 * *v409 + v411 * v40 + v410 * v42;
          v415 = *v409 * v39;
          v416 = v409[4];
          v417 = v41 * v412;
          v418 = v409[5];
          v419 = v410 * v40 - v415 - v417;
          v420 = v411 * v42;
          v421 = v409[6];
          v422 = v578 * v421 - v418 * v587 + v416 * v40;
          v423 = v416 * v587 - v421 * v605 + v418 * v40;
          v424 = v418 * v605 - v578 * v416 + v421 * v40;
          v657 = v411 * v578 - v412 * v587 + *v409 * v40 + v410 * v605;
          v658 = v413;
          v659 = v414;
          v660 = v419 - v420;
          *(double *)v661.m256_f32 = v416
                                   + v578 * v424
                                   - v423 * v587
                                   + v578 * v424
                                   - v423 * v587
                                   + *(double *)v668.m256_f32;
          *(double *)&v661.m256_f32[2] = v418
                                       + v422 * v587
                                       - v424 * v605
                                       + v422 * v587
                                       - v424 * v605
                                       + *(double *)&v668.m256_f32[2];
          *(double *)&v661.m256_f32[4] = v421
                                       + v423 * v605
                                       - v422 * v578
                                       + v423 * v605
                                       - v422 * v578
                                       + *(double *)&v668.m256_f32[4];
          n0x40000E = 0x40000E;
          *(double *)&v661.m256_f32[6] = sub_1468DE710(a1, 0);
        }
        else
        {
          __asm { vzeroupper }
          *(double *)&v661.m256_f32[6] = *(double *)&v661.m256_f32[6]
                                       / v43
                                       * *(double *)(CEntity::GetZoneTransform(a1, (__int64)v821, 0)
                                                   + 0x38);
        }
        sub_143C6EB00(*(_QWORD *)(a1 + 0x128) + 0x18LL, a3 + 8);
        goto LABEL_70;
      case 8:
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 8;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        goto LABEL_70;
      case 9:
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 9;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
        __asm { vzeroupper }
        v425 = (double *)CEntity::GetZoneTransform(a1, (__int64)v822, 0);
        v426 = (double *)(*(__int64 (__fastcall **)(FH4 *, char *, double, __int64))(*(_QWORD *)::pCZoneSystem + 0x480LL))(
                           ::pCZoneSystem,
                           v808,
                           COERCE_DOUBLE(*(_QWORD *)&v670),
                           v669);
        v427 = v425[2];
        v428 = v425[3];
        v429 = v426[3];
        v430 = v426[1];
        v431 = v426[2];
        v432 = v425[1];
        v433 = *v425 * v431 - *v426 * v427 + v429 * v432 + v430 * v428;
        v434 = v432 * *v426 - v430 * *v425 + v429 * v427 + v428 * v431;
        v435 = v425[5];
        v436 = v425[6];
        v437 = v428 * v429;
        v438 = v425[4];
        v439 = v437 - *v426 * *v425 - v430 * v432 - v427 * v431;
        v440 = v436 * v430 - v435 * v431 + v438 * v429;
        v441 = v438 * v426[2] - v436 * *v426 + v435 * v429;
        v442 = v435 * *v426 - v438 * v430 + v436 * v429;
        v443 = v442 * v430 - v441 * v426[2];
        v444 = v443 + v426[4] + v438 + v443;
        v445 = v440 * v426[2] - v442 * *v426;
        v446 = v445 + v426[5];
        v447 = v441 * *v426;
        v448 = v425[7];
        v449 = v447 - v440 * v430 + v426[6] + v436 + v447 - v440 * v430;
        v657 = v430 * v425[2] - v432 * v426[2] + v426[3] * *v425 + *v426 * v425[3];
        v658 = v433;
        v659 = v434;
        v660 = v439;
        *(double *)v661.m256_f32 = v444;
        *(double *)&v661.m256_f32[2] = v446 + v435 + v445;
        *(double *)&v661.m256_f32[4] = v449;
        *(double *)&v661.m256_f32[6] = v448;
        goto LABEL_70;
      case 0xA:
        if ( a3 == 0xFFFFFFFFFFFFFFF8uLL || *(_BYTE *)(a3 + 0x128) )
        {
LABEL_200:
          pCZoneSystem = ::pCZoneSystem;
          v309 = v9;
          v310 = *(_QWORD *)::pCZoneSystem;
          __asm { vzeroupper }
LABEL_201:
          (*(void (__fastcall **)(FH4 *, __int64, __int64))(v310 + 0x190))(pCZoneSystem, 0x7832, v309);
LABEL_202:
          v12 = 0;
        }
        else
        {
          v585 = *(_DWORD *)(a3 + 4) >> 0x1C;
          __asm { vzeroupper }
          v450 = sub_1468DE420(a1_1);
          if ( v450 )
          {
            sub_146851C40(v450, &v662, v585, 0xFFFFFFFF);
            if ( v662 )
            {
              *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 0xA;
              *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(a3 + 4);
              v451 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v662 + 0x428LL))(
                                v662,
                                *(_QWORD *)(a3 + 8));
              if ( !v451 )
              {
                v509 = *(_QWORD *)(a1 + 0x128);
                v510 = *(_DWORD *)(v509 + 0x140);
                *(_DWORD *)(v509 + 0x140) = v510 | 0x20;
                CEntity::Hide(a1, 1u, 1, v9);
                *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = *(_DWORD *)(*(_QWORD *)(a1 + 0x128)
                                                                                            + 0x140LL)
                                                                                ^ ((unsigned __int8)*(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL)
                                                                                 ^ (unsigned __int8)v510)
                                                                                & 0x40
                                                                                | 0x10;
LABEL_193:
                v511 = (double *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
                v512 = *v511;
                v513 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x160LL);
                v514 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x158LL);
                v515 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x168LL);
                v516 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x180LL);
                v663 = v666 * *v511 - v664 * v513 + v667 * v514 + v665 * v515;
                v517 = v664 * v514 - v665 * v512 + v667 * v513 + v666 * v515;
                v518 = v664 * v512;
                v519 = v511[5];
                v520 = v667 * v515;
                v521 = v511[4];
                v522 = v520 - v518 - v665 * v514 - v666 * v513;
                v523 = v665 * v516 - v666 * v519 + v667 * v521;
                v524 = v519 * v664 - v665 * v521 + v667 * v516;
                v525 = v665 * v524 - v666 * (v666 * v521 - v516 * v664 + v667 * v519);
                v526 = *(double *)&v668.m256_f32[6] * v511[7];
                v527 = (v666 * v521 - v516 * v664 + v667 * v519) * v664 - v665 * v523;
                n0x40000E = 0x40000E;
                v657 = v665 * v511[2] - v666 * v511[1] + v667 * *v511 + v664 * v511[3];
                v658 = v663;
                v659 = v517;
                v660 = v522;
                *(double *)v661.m256_f32 = (v525 + v521 + v525) * *(double *)&v668.m256_f32[6]
                                         + *(double *)v668.m256_f32;
                *(double *)&v661.m256_f32[2] = (v666 * v523 - v524 * v664 + v519 + v666 * v523 - v524 * v664)
                                             * *(double *)&v668.m256_f32[6]
                                             + *(double *)&v668.m256_f32[2];
                *(double *)&v661.m256_f32[4] = (v527 + v516 + v527) * *(double *)&v668.m256_f32[6]
                                             + *(double *)&v668.m256_f32[4];
                *(double *)&v661.m256_f32[6] = v526;
                if ( v662 )
                {
                  (*(void (__fastcall **)(__int64))(*(_QWORD *)v662 + 8LL))(v662);
                }
                v662 = 0;
                goto LABEL_70;
              }
              v452 = v451[5];
              v453 = v451[6];
              v454 = v451[8];
              v455 = v451[0xA];
              v456 = v451[0xC];
              v457 = v451[0xD];
              v639 = v451[0xB];
              v458 = COERCE_UNSIGNED_INT64(v451[4]);
              v459 = COERCE_UNSIGNED_INT64(v451[9]);
              v622 = v451[0xF];
              v460 = COERCE_UNSIGNED_INT64(v451[0xE]);
              *((_QWORD *)&v461 + 1) = 0;
              *(double *)&v461 = v451[9] + *(double *)&v458 + *(double *)&v460;
              v462 = v451[7];
              v463 = 0.0;
              v464 = 0.0;
              v663 = v462;
              v593 = 0.0;
              v586 = 0.0;
              v465 = v452;
              v466 = v453;
              v467 = v454;
              v468 = v455;
              v469 = v456;
              v470 = v457;
              if ( *(double *)&v461 <= 0.0 )
              {
                if ( *(double *)&v458 < *(double *)&v459 || *(double *)&v458 < *(double *)&v460 )
                {
                  if ( *(double *)&v459 < *(double *)&v458 || *(double *)&v459 < *(double *)&v460 )
                  {
                    if ( *(double *)&v460 < *(double *)&v458 || *(double *)&v460 < *(double *)&v459 )
                    {
                      goto LABEL_187;
                    }
                    *((_QWORD *)&v488 + 1) = *((_QWORD *)&v460 + 1);
                    *(double *)&v488 = *(double *)&v460 - *(double *)&v458 - *(double *)&v459 + 1.0;
                    _XMM2 = v488;
                    __asm
                    {
                      vmovddup xmm3, xmm2
                      vsqrtpd xmm5, xmm3
                      vunpckhpd xmm5, xmm5, xmm5
                    }
                    v486 = 0.5 / *(double *)&_XMM5;
                    *(double *)&v33 = (v467 - v465) * (0.5 / *(double *)&_XMM5);
                    v463 = (v470 + v468) * (0.5 / *(double *)&_XMM5);
                    v487 = v469 + v466;
                    v464 = *(double *)&_XMM5 * 0.5;
                  }
                  else
                  {
                    *((_QWORD *)&v481 + 1) = *((_QWORD *)&v459 + 1);
                    *(double *)&v481 = *(double *)&v459 - *(double *)&v460 - *(double *)&v458 + 1.0;
                    _XMM2 = v481;
                    __asm
                    {
                      vmovddup xmm3, xmm2
                      vsqrtpd xmm5, xmm3
                      vunpckhpd xmm5, xmm5, xmm5
                    }
                    v486 = 0.5 / *(double *)&_XMM5;
                    *(double *)&v33 = (v466 - v469) * (0.5 / *(double *)&_XMM5);
                    v464 = (v470 + v468) * (0.5 / *(double *)&_XMM5);
                    v487 = v467 + v465;
                    v463 = *(double *)&_XMM5 * 0.5;
                  }
                  v34 = v487 * v486;
                }
                else
                {
                  *((_QWORD *)&v476 + 1) = *((_QWORD *)&v458 + 1);
                  *(double *)&v476 = *(double *)&v458 - *(double *)&v459 - *(double *)&v460 + 1.0;
                  _XMM2 = v476;
                  __asm
                  {
                    vmovddup xmm3, xmm2
                    vsqrtpd xmm4, xmm3
                    vunpckhpd xmm4, xmm4, xmm4
                  }
                  *(double *)&v33 = (v470 - v468) * (0.5 / *(double *)&_XMM4);
                  v34 = *(double *)&_XMM4 * 0.5;
                  v464 = (v469 + v466) * (0.5 / *(double *)&_XMM4);
                  v463 = (v467 + v465) * (0.5 / *(double *)&_XMM4);
                }
              }
              else
              {
                *(double *)&v461 = *(double *)&v461 + 1.0;
                _XMM0 = v461;
                __asm { vmovddup xmm1, xmm0 }
                __asm
                {
                  vsqrtpd xmm3, xmm1
                  vunpckhpd xmm3, xmm3, xmm3
                }
                v475 = 0.5 / *(double *)&_XMM3;
                *(double *)&v33 = *(double *)&_XMM3 * 0.5;
                v34 = (v470 - v468) * (0.5 / *(double *)&_XMM3);
                v464 = (v467 - v465) * (0.5 / *(double *)&_XMM3);
                v463 = (v466 - v469) * v475;
              }
              v586 = v464;
              v593 = v463;
              v594 = v34;
LABEL_187:
              v493 = *(double **)(a3 + 0x130);
              if ( v493 )
              {
                v494 = v493[6];
                v495 = v493[5];
                v496 = v493[4];
                v497 = v493[2];
                v498 = v493[1];
                v499 = *v493;
                v500 = v493[3];
                v501 = v494 * v463 - v495 * v464 + v496 * *(double *)&v33;
                v502 = v496 * v464 - v494 * v594 + v495 * *(double *)&v33;
                v503 = v495 * v594 - v496 * v463 + v494 * *(double *)&v33;
                v504 = v503 * v463;
                v505 = v501 * v586 - v503 * v594;
                v506 = v501 * v593;
                v507 = v493[7];
                v763[0] = v497 * v593 - v498 * v586 + *v493 * *(double *)&v33 + v500 * v594;
                v763[1] = v499 * v586 - v497 * v594 + v498 * *(double *)&v33 + v500 * v593;
                v763[2] = v498 * v594 - v499 * v593 + v497 * *(double *)&v33 + v500 * v586;
                v763[4] = v504 - v502 * v586 + v663 + v496 + v504 - v502 * v586;
                v763[3] = v500 * *(double *)&v33 - v499 * v594 - v498 * v593 - v497 * v586;
                v763[5] = v505 + v639 + v495 + v505;
                v763[6] = v502 * v594 - v506 + v622 + v494 + v502 * v594 - v506;
                v763[7] = v507;
                sub_1402B26C0(*(_QWORD *)(a1 + 0x128) + 0x150LL, (__int64)v763);
              }
              else
              {
                v508 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
                *(double *)v508 = v34;
                *(double *)(v508 + 8) = v463;
                *(double *)(v508 + 0x10) = v464;
                *(double *)(v508 + 0x18) = *(double *)&v33;
                *(double *)(v508 + 0x20) = v462;
                *(double *)(v508 + 0x28) = v639;
                *(double *)(v508 + 0x30) = v622;
                *(_QWORD *)(v508 + 0x38) = 0x3FF0000000000000LL;
              }
              if ( *(_BYTE *)(a1 + 0xD) >= 4u )
              {
                *(double *)(*(_QWORD *)(a1 + 0x128) + 0x188LL) = *(double *)(CEntity::GetZoneTransform(
                                                                                                a1,
                                                                                                (__int64)v823,
                                                                                                0)
                                                                                            + 0x38);
              }
              goto LABEL_193;
            }
          }
          else
          {
            v662 = 0;
          }
          (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(
            ::pCZoneSystem,
            0x7832,
            v9);
          if ( v662 )
          {
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v662 + 8LL))(v662);
          }
          v662 = 0;
          v12 = 0;
        }
        if ( v612 )
        {
          if ( v29 )
          {
            v528 = *(_DWORD *)(v29 + 0xC);
            if ( v528 )
            {
              *(_DWORD *)(v29 + 0xC) = v528 - 1;
            }
            else
            {
              *(_DWORD *)(v29 + 8) = 0xFFFFFFFF;
              n0x200000_6 = _InterlockedCompareExchange64((volatile signed __int64 *)v29, 0, 0x200000);
              if ( n0x200000_6 != 0x200000 )
              {
                __asm { vzeroupper }
                sub_1403D8A00((volatile signed __int64 *)v29, n0x200000_6);
              }
            }
          }
          if ( v26 )
          {
            v530 = *(_DWORD *)(v26 + 0xC);
            if ( v530 )
            {
              *(_DWORD *)(v26 + 0xC) = v530 - 1;
            }
            else
            {
              *(_DWORD *)(v26 + 8) = 0xFFFFFFFF;
              n0x200000_7 = _InterlockedCompareExchange64((volatile signed __int64 *)v26, 0, 0x200000);
              if ( n0x200000_7 != 0x200000 )
              {
                __asm { vzeroupper }
                sub_1403D8A00((volatile signed __int64 *)v26, n0x200000_7);
              }
            }
          }
          if ( v23 )
          {
            v532 = *(_DWORD *)(v23 + 0xC);
            if ( v532 )
            {
              *(_DWORD *)(v23 + 0xC) = v532 - 1;
            }
            else
            {
              *(_DWORD *)(v23 + 8) = 0xFFFFFFFF;
              n0x200000_8 = _InterlockedCompareExchange64((volatile signed __int64 *)v23, 0, 0x200000);
              if ( n0x200000_8 != 0x200000 )
              {
                __asm { vzeroupper }
                sub_1403D8A00((volatile signed __int64 *)v23, n0x200000_8);
              }
            }
          }
          if ( dword_1497929CC )
          {
            --dword_1497929CC;
          }
          else
          {
            dword_1497929C8 = 0xFFFFFFFF;
            n0x200000_9 = _InterlockedCompareExchange64(&qword_1497929C0, 0, 0x200000);
            if ( n0x200000_9 != 0x200000 )
            {
              __asm { vzeroupper }
              sub_1403D8A00(&qword_1497929C0, n0x200000_9);
            }
          }
          if ( dword_1497929DC )
          {
            --dword_1497929DC;
          }
          else
          {
            dword_1497929D8 = 0xFFFFFFFF;
            n0x200000_10 = _InterlockedCompareExchange64(&qword_1497929D0, 0, 0x200000);
            if ( n0x200000_10 != 0x200000 )
            {
              __asm { vzeroupper }
              sub_1403D8A00(&qword_1497929D0, n0x200000_10);
            }
          }
        }
        goto LABEL_227;
      default:
        goto LABEL_70;
    }
  }
LABEL_16:
  (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v9);
  v12 = 0;
LABEL_227:
  __asm { vzeroupper }
  (*(void (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0xF8LL))(::pCZoneSystem);
LABEL_299:
  if ( (_QWORD)v696 )
  {
    sub_14039EFB0((__int64)&v696, (const void *)v696, (v697 - v696) & 0xFFFFFFFFFFFFFFE0uLL);
    v696 = 0;
    v697 = 0;
  }
  v717 = __rdtsc();
  psub_7FF6AAB93930(&n0xF00);
  return v12;
}

// --- End Function: CEntity::AttachChild (0x1468B79F0) ---

// --- Function: sub_1468C1220 (0x1468C1220) ---
char __fastcall sub_1468C1220(unsigned __int64 a1, unsigned __int8 a2)
{
  int v3; // esi
  unsigned __int64 v4; // rbp
  unsigned __int64 v5; // rcx
  char v6; // dl
  unsigned __int64 v7; // rdi
  unsigned __int16 v8; // ax
  char v9; // dl
  unsigned __int16 v10; // ax
  unsigned __int64 v11; // rax
  __int64 pEntitySystem; // rbx
  int event_key_from_source_location_126; // eax
  char *v15; // [rsp+20h] [rbp-48h] BYREF
  int event_key_from_source_location_126_1; // [rsp+28h] [rbp-40h]
  __int64 v17; // [rsp+30h] [rbp-38h]
  void (__fastcall *__StarEngineModule_)(ULONG_PTR); // [rsp+38h] [rbp-30h]
  __int64 (__fastcall *p_sub_1411B0760)(_BYTE *, unsigned __int8 *); // [rsp+40h] [rbp-28h]
  unsigned __int64 v20; // [rsp+70h] [rbp+8h] BYREF
  char v21; // [rsp+78h] [rbp+10h] BYREF

  v3 = a2;
  if ( ((*(_DWORD *)(a1 + 8) & 0x10) != 0) == a2
    || *(_BYTE *)(a1 + 0xD) != 4
    || a2
    && (*(_BYTE *)(a1 + 0x110) & 0x10) == 0
    && (!(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)pCNetwork + 0xA8LL))(pCNetwork)
     && (*(_DWORD *)(a1 + 0x110) & 0x2000) != 0
     || !byte_14981D4A0) )
  {
    return 0;
  }
  *(_DWORD *)(a1 + 8) &= ~0x10u;
  *(_DWORD *)(a1 + 8) |= 0x10 * v3;
  sub_146900A50(a1, *(_WORD *)(a1 + 0x120));
  sub_1467CDC30(::a1, a1, (unsigned __int8)v3, 0);
  if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
  {
    v6 = 0;
    v5 = a1 - 6;
    v4 = a1 - 6;
    v7 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  else
  {
    v4 = a1 - 6;
    v5 = a1 & 0xFFFFFFFFFF000000uLL;
    v6 = 1;
    v7 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v8 = *(_WORD *)(v5 + 2) | 0x2000;
  if ( !v6 )
  {
    v8 = *(_WORD *)(v5 + 2);
  }
  sub_1467CDD80(qword_15126E2D0, a1 | ((unsigned __int64)v8 << 0x30));
  v21 = v3;
  if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
  {
    v9 = 0;
    v7 = v4;
  }
  else
  {
    v9 = 1;
  }
  v10 = *(_WORD *)(v7 + 2) | 0x2000;
  if ( !v9 )
  {
    v10 = *(_WORD *)(v7 + 2);
  }
  v11 = a1 | ((unsigned __int64)v10 << 0x30);
  pEntitySystem = ::pEntitySystem;
  v20 = v11;
  if ( !is_valid_handle_typeB(&v20) )
  {
    return 0;
  }
  v15 = &v21;
  event_key_from_source_location_126 = ::event_key_from_source_location_126;
  if ( !::event_key_from_source_location_126 )
  {
    event_key_from_source_location_126 = get_event_key_from_source_location(
                                           &::event_key_from_source_location_126,
                                           (__int64)"W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryCommon\\Events/Network/NetworkEvents.h",
                                           0xC);
  }
  event_key_from_source_location_126_1 = event_key_from_source_location_126;
  v17 = 1;
  __StarEngineModule_ = _StarEngineModule__;
  p_sub_1411B0760 = sub_1411B0760;
  return (*(__int64 (__fastcall **)(__int64, unsigned __int64, char **))(*(_QWORD *)pEntitySystem + 0x360LL))(
           pEntitySystem,
           v20,
           &v15);
}

// --- End Function: sub_1468C1220 (0x1468C1220) ---

// --- Function: CEntity::ChangeOwnerEntity (0x1468C1420) ---
double __fastcall CEntity::ChangeOwnerEntity(
        unsigned __int64 a1_12,
        unsigned __int64 a1_11,
        signed int n4_1)
{
  __int64 n4_2; // r13
  unsigned __int64 a1; // rdi
  unsigned __int64 a1_2; // rbx
  int v6; // esi
  __int64 v7; // rax
  __int64 *ThreadLogContextSlot_1; // rax
  _QWORD *v9; // rax
  volatile signed __int32 *v10; // rsi
  volatile signed __int32 *v11; // r14
  signed __int64 v12; // rdx
  char v13; // cl
  unsigned __int64 v14; // rdx
  unsigned __int16 v15; // ax
  int v16; // esi
  unsigned __int64 v17; // rax
  __int64 a1_4; // r8
  char v19; // dl
  unsigned __int64 v20; // rcx
  unsigned __int16 v21; // ax
  unsigned __int64 v22; // rdx
  unsigned __int64 v23; // rcx
  unsigned __int16 v24; // ax
  __int64 a1_1; // rsi
  __int64 a1_10; // r15
  __int64 a1_8; // r14
  int v28; // eax
  unsigned __int64 *v29; // r12
  unsigned __int64 v30; // rax
  __int64 v31; // r13
  unsigned __int64 v32; // rax
  __int64 v33; // r13
  __int64 v34; // rax
  char v35; // dl
  unsigned __int64 v36; // rcx
  unsigned __int16 v37; // ax
  bool v38; // al
  unsigned __int64 v39; // rdi
  unsigned __int64 a1_6; // r13
  __int64 v41; // rcx
  unsigned __int64 a1_2; // r12
  char v43; // dl
  unsigned __int64 v44; // rcx
  unsigned __int16 v45; // ax
  unsigned __int64 a1_7; // rdi
  char v47; // dl
  unsigned __int64 v48; // rcx
  unsigned __int16 v49; // ax
  __int64 v50; // rbx
  int v51; // eax
  int v52; // ecx
  const char *p_No_Owner; // rax
  __int64 *ThreadLogContextSlot; // rax
  unsigned __int64 n0x200000; // rax
  __int64 *v57; // [rsp+28h] [rbp-D8h]
  unsigned __int64 a1_1; // [rsp+78h] [rbp-88h]
  __int64 v59; // [rsp+80h] [rbp-80h]
  int v60; // [rsp+80h] [rbp-80h]
  unsigned __int64 a1_5; // [rsp+88h] [rbp-78h] BYREF
  unsigned int n4; // [rsp+90h] [rbp-70h]
  __int64 a1_3; // [rsp+98h] [rbp-68h] BYREF
  __int64 v64[3]; // [rsp+A0h] [rbp-60h] BYREF
  unsigned __int64 v65; // [rsp+B8h] [rbp-48h] BYREF
  __int64 a1_9; // [rsp+C8h] [rbp-38h] BYREF
  __int64 a1; // [rsp+D0h] [rbp-30h] BYREF
  unsigned int v68[2]; // [rsp+D8h] [rbp-28h] BYREF
  unsigned int v69[2]; // [rsp+E0h] [rbp-20h] BYREF
  unsigned int v70[2]; // [rsp+E8h] [rbp-18h] BYREF
  __int64 v71[2]; // [rsp+F0h] [rbp-10h] BYREF
  char v72; // [rsp+100h] [rbp+0h]
  int n0xF00; // [rsp+110h] [rbp+10h] BYREF
  __int64 v74; // [rsp+114h] [rbp+14h]
  int v75; // [rsp+11Ch] [rbp+1Ch]
  __int64 v76; // [rsp+120h] [rbp+20h]
  unsigned __int64 v77; // [rsp+128h] [rbp+28h]
  __int64 v78; // [rsp+130h] [rbp+30h]
  __int64 v79; // [rsp+138h] [rbp+38h]
  _QWORD v80[2]; // [rsp+160h] [rbp+60h] BYREF
  const void *ptr_to_free; // [rsp+170h] [rbp+70h]
  _QWORD v82[2]; // [rsp+178h] [rbp+78h] BYREF
  const void *ptr_to_free_1; // [rsp+188h] [rbp+88h]
  __int64 v84[2]; // [rsp+190h] [rbp+90h] BYREF
  const void *ptr_to_free_2; // [rsp+1A0h] [rbp+A0h]
  __int64 v86[2]; // [rsp+1A8h] [rbp+A8h] BYREF
  const void *ptr_to_free_3; // [rsp+1B8h] [rbp+B8h]
  _QWORD v88[2]; // [rsp+1C0h] [rbp+C0h] BYREF
  _QWORD v89[2]; // [rsp+1D0h] [rbp+D0h] BYREF
  _QWORD v90[2]; // [rsp+1E0h] [rbp+E0h] BYREF
  _QWORD v91[2]; // [rsp+1F0h] [rbp+F0h] BYREF
  __int64 v92[2]; // [rsp+200h] [rbp+100h] BYREF
  unsigned int v93[2]; // [rsp+210h] [rbp+110h] BYREF
  char *v94; // [rsp+218h] [rbp+118h]
  __int64 v95[2]; // [rsp+220h] [rbp+120h] BYREF
  char v96; // [rsp+230h] [rbp+130h]
  char v97[8]; // [rsp+238h] [rbp+138h] BYREF
  __int128 v98; // [rsp+240h] [rbp+140h] BYREF
  char v99[8]; // [rsp+250h] [rbp+150h] BYREF
  volatile signed __int32 *v100; // [rsp+258h] [rbp+158h]
  __int128 v101; // [rsp+260h] [rbp+160h] BYREF
  _DWORD v102[3]; // [rsp+270h] [rbp+170h] BYREF
  char v103; // [rsp+27Ch] [rbp+17Ch] BYREF
  _DWORD v104[3]; // [rsp+280h] [rbp+180h] BYREF
  char v105; // [rsp+28Ch] [rbp+18Ch] BYREF
  _DWORD v106[3]; // [rsp+290h] [rbp+190h] BYREF
  char v107; // [rsp+29Ch] [rbp+19Ch] BYREF
  _DWORD v108[3]; // [rsp+2A0h] [rbp+1A0h] BYREF
  char v109; // [rsp+2ACh] [rbp+1ACh] BYREF

  n4_2 = n4_1;
  a1 = a1_11;
  a1_1 = a1_11;
  a1_2 = a1_12;
  a1_3 = a1_12;
  n4 = n4_1;
  v74 = 0;
  v75 = 0;
  v77 = 0;
  v78 = 0;
  v79 = 0;
  n0xF00 = 0xF00;
  v76 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( (_DWORD)n4_2 == 4 )
  {
    CEntity::ClearAllOwners(a1_2);
    goto LABEL_141;
  }
  if ( (int)n4_2 >= 3 )
  {
    LogFatalError("Invalid entity ownership reason");
  }
  if ( *(_BYTE *)(a1_2 + 0xD) < 5u )
  {
    if ( a1 )
    {
      if ( !(_BYTE)isEditor
        && (*(_BYTE *)(a1 + 0xD) >= 5u
         || (*(_BYTE *)(a1 + 8) & 8) != 0 && (*(_BYTE *)(a1_2 + 8) & 8) == 0) )
      {
        v106[0] = 0xD2;
        v88[0] = v106;
        v106[1] = 0x2C;
        v88[1] = &v107;
        v106[2] = 0x31;
        v6 = invokeGlobalCallbackAndMaskStatusBits(
               2,
               (__int64)v88,
               (__int64)"Attaching to an already removing owner - will crash later",
               "Attaching $$ to an already removing owner ($$). reason ($$)");
        if ( (v6 & 0xFFFFF) != 0 )
        {
          v7 = *(_QWORD *)(a1_2 + 0x290);
          v89[1] = (unsigned int)n4_2;
          v82[1] = *(_QWORD *)(a1 + 0x290);
          v89[0] = 0;
          v82[0] = 0;
          ptr_to_free_1 = 0;
          v80[0] = 0;
          v80[1] = v7;
          ptr_to_free = 0;
          ThreadLogContextSlot_1 = getThreadLogContextSlot();
          v108[0] = 0xD2;
          v90[0] = v108;
          v90[1] = &v109;
          v98 = 0;
          v108[1] = 0x2C;
          v108[2] = 0x31;
          _crtLCMapStringA_169(
            2,
            (unsigned int)v90,
            (unsigned int)"Attaching to an already removing owner - will crash later",
            (unsigned int)"Attaching $$ to an already removing owner ($$). reason ($$)",
            1,
            v6,
            &v98,
            0,
            (__int64)ThreadLogContextSlot_1,
            (__int64)v80,
            (__int64)v82,
            (__int64)v89);
          free_memory_wrapper(ptr_to_free);
          free_memory_wrapper(ptr_to_free_1);
        }
      }
      if ( *(_BYTE *)(a1_2 + 0xD) < 4u )
      {
        v9 = (_QWORD *)sub_1468DEFD0(a1_2, v99);
        v10 = (volatile signed __int32 *)v9[1];
        v9[1] = 0;
        *v9 = 0;
        v11 = v100;
        if ( v100 )
        {
          if ( _InterlockedExchangeAdd(v100 + 2, 0xFFFFFFFF) == 1 )
          {
            (**(void (__fastcall ***)(volatile signed __int32 *))v11)(v11);
            if ( _InterlockedExchangeAdd(v11 + 3, 0xFFFFFFFF) == 1 )
            {
              (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v11 + 8LL))(v11);
            }
          }
        }
        if ( v10 )
        {
          if ( _InterlockedExchangeAdd(v10 + 2, 0xFFFFFFFF) == 1 )
          {
            (**(void (__fastcall ***)(volatile signed __int32 *))v10)(v10);
            if ( _InterlockedExchangeAdd(v10 + 3, 0xFFFFFFFF) == 1 )
            {
              (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v10 + 8LL))(v10);
            }
          }
        }
      }
    }
    if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
    {
      ++dword_1497929DC;
    }
    else
    {
      v12 = _InterlockedIncrement64(&qword_1497929D0);
      if ( (v12 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          &qword_1497929D0,
          v12,
          (__int64)"CEntity::ChangeOwnerEntity",
          (__int64)"s_aggregateHierarchyLock",
          1);
      }
    }
    if ( !is_valid_handle_typeB((unsigned __int64 *)(a1_2 + 0x4D8 + 8 * n4_2)) && !a1 )
    {
      goto LABEL_36;
    }
    sub_146900A50(a1_2, 0x16);
    if ( a1 )
    {
      if ( ::a1_1 > a1
        || a1 >= qword_15126E3D8 + ::a1_1 )
      {
        v13 = 0;
        v14 = a1 - 6;
      }
      else
      {
        v13 = 1;
        v14 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      v15 = *(_WORD *)(v14 + 2) | 0x2000;
      if ( !v13 )
      {
        v15 = *(_WORD *)(v14 + 2);
      }
      if ( *(_QWORD *)(a1_2 + 8 * n4_2 + 0x4D8) == (a1
                                                                   | ((unsigned __int64)v15 << 0x30)) )
      {
LABEL_36:
        sub_1402D0950((__int64)&qword_1497929D0);
        goto LABEL_141;
      }
    }
    sub_1402D0950((__int64)&qword_1497929D0);
    v16 = *(_DWORD *)(a1() + 0x18);
    if ( dword_1497929D8 == v16 )
    {
      ++dword_1497929DC;
    }
    else
    {
      v17 = _InterlockedCompareExchange64(&qword_1497929D0, 0x200000, 0);
      if ( v17 )
      {
        sub_1403D85B0(
          &qword_1497929D0,
          v17,
          0,
          (__int64)"CEntity::ChangeOwnerEntity",
          (__int64)"s_aggregateHierarchyLock",
          1);
      }
      dword_1497929D8 = v16;
    }
    if ( a1 )
    {
      a1_4 = ::a1_1;
      if ( ::a1_1 > a1_2
        || a1_2 >= qword_15126E3D8 + ::a1_1 )
      {
        v19 = 0;
        v20 = a1_2 - 6;
      }
      else
      {
        v19 = 1;
        v20 = a1_2 & 0xFFFFFFFFFF000000uLL;
      }
      v21 = *(_WORD *)(v20 + 2) | 0x2000;
      if ( !v19 )
      {
        v21 = *(_WORD *)(v20 + 2);
      }
      v22 = a1_2 | ((unsigned __int64)v21 << 0x30);
      if ( ::a1_1 > a1
        || a1 >= qword_15126E3D8 + ::a1_1 )
      {
        a1_4 = 0;
        v23 = a1 - 6;
      }
      else
      {
        LOBYTE(a1_4) = 1;
        v23 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      v24 = *(_WORD *)(v23 + 2) | 0x2000;
      if ( !(_BYTE)a1_4 )
      {
        v24 = *(_WORD *)(v23 + 2);
      }
      if ( !(unsigned __int8)sub_1468C20C0(
                               a1 | ((unsigned __int64)v24 << 0x30),
                               v22,
                               a1_4,
                               qword_15126E3D8) )
      {
        if ( byte_14981D4A0 )
        {
          goto LABEL_128;
        }
        sub_14033D280(a1_2, v64);
        if ( !AssetMeta::HasActorSubresource(v64)
          || !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)(v64[0] & 0xFFFFFFFFFFFFLL) + 0x578LL))(v64[0] & 0xFFFFFFFFFFFFLL) )
        {
          goto LABEL_128;
        }
        sub_14683B580(
          "%s setting reason=%u owner to nullptr due to non-authoritative client ownership change on entityId=%llu entity"
          "Name=\"%s\" entityState=%u",
          "CEntity::ChangeOwnerEntity",
          n4_2,
          *(_QWORD *)(a1_2 + 0x10),
          *(const char **)(a1_2 + 0x290),
          *(unsigned __int8 *)(a1_2 + 0xD));
        goto LABEL_60;
      }
      if ( dword_15126E238 == 1 )
      {
        v34 = sub_1467C3410(a1, v97);
        if ( (unsigned __int8)sub_1468C2120(a1_2, v34) )
        {
          LogTraceConditional(
            "%s: Trying to set cyclic entity ownership - eReason=%d entity {name =\"%s\" id=%llu} newOwner {name=\"%s\" id=%llu}",
            "CEntity::ChangeOwnerEntity",
            n4_2,
            *(const char **)(a1_2 + 0x290),
            *(_QWORD *)(a1_2 + 0x10),
            *(const char **)(a1 + 0x290),
            *(_QWORD *)(a1 + 0x10));
          CEntity::DumpOwnerInfo(a1_2);
          if ( (_BYTE)isEditor )
          {
            sub_14683B580(
              "Cyclic Entity ownership - attempting to set entity as being owned by itself or one of the entities owned by it!!!");
          }
          else
          {
            LogFatalError(
              "Cyclic Entity ownership - attempting to set entity as being owned by itself or one of the entities owned by it!!!");
          }
LABEL_60:
          a1_1 = *(_QWORD *)(a1_2 + 0x318);
          a1 = 0;
          a1_10 = *(_QWORD *)(a1_2 + 0x310);
          a1_1 = 0;
          a1_8 = *(_QWORD *)(a1_2 + 0x320);
          goto LABEL_61;
        }
      }
    }
    a1_1 = *(_QWORD *)(a1_2 + 0x318);
    a1_8 = *(_QWORD *)(a1_2 + 0x320);
    a1_10 = *(_QWORD *)(a1_2 + 0x310);
    if ( a1 )
    {
      if ( ::a1_1 > a1
        || a1 >= qword_15126E3D8 + ::a1_1 )
      {
        v35 = 0;
        v36 = a1 - 6;
      }
      else
      {
        v35 = 1;
        v36 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      v37 = *(_WORD *)(v36 + 2) | 0x2000;
      a1_1 = a1;
      if ( !v35 )
      {
        v37 = *(_WORD *)(v36 + 2);
      }
      *(_QWORD *)(a1_2 + 8 * n4_2 + 0x4D8) = a1 | ((unsigned __int64)v37 << 0x30);
      v28 = *(_DWORD *)(a1_2 + 0x4F0) | (1 << n4_2);
      goto LABEL_62;
    }
LABEL_61:
    *(_QWORD *)(a1_2 + 8 * n4_2 + 0x4D8) = 0;
    v28 = *(_DWORD *)(a1_2 + 0x4F0) & ~(1 << n4_2);
LABEL_62:
    *(_DWORD *)(a1_2 + 0x4F0) = v28;
    v59 = 0;
    v29 = (unsigned __int64 *)(a1_2 + 0x4D8);
    do
    {
      v30 = *v29;
      if ( *v29 )
      {
        v31 = v30 & 0xFFFFFFFFFFFFLL;
        v32 = HIWORD(v30);
        v33 = (v32 & 0xF000) != 0 ? v31 & 0xFFFFFF000000LL : v31 - 6;
        a1_1 = a1;
        if ( *(_WORD *)(v33 + 2) == (v32 & 0xFFF) )
        {
          if ( *(_BYTE *)(a1() + 0x25) || (v38 = is_thread_flag_57_or_38_set()) )
          {
            v38 = 1;
          }
          if ( (a1_1 = a1, *(_WORD *)(v33 + 4) == 2) && v38
            || check_handle_access_by_state_extended(v29) )
          {
            a1_5 = a1;
            v39 = *v29;
            if ( (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(a1_2
                                                                                 & 0xFFFFFFFFFFFFLL)
                                                                     + 0x58LL))(a1_2 & 0xFFFFFFFFFFFFLL)
              || (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v39 & 0xFFFFFFFFFFFFLL) + 0x58LL))(v39 & 0xFFFFFFFFFFFFLL) )
            {
              a1 = a1_1;
            }
            else
            {
              a1 = a1_5;
              v65 = *v29;
              a1_1 = a1_5;
              if ( !(unsigned __int8)sub_1468C2120(a1_2, &v65) )
              {
                a1_6 = *v29;
                a1_1 = a1_5;
                goto LABEL_94;
              }
            }
          }
        }
      }
      v41 = v59;
      *v29++ = 0;
      *(_DWORD *)(a1_2 + 0x4F0) &= ~(1 << v59++);
    }
    while ( (unsigned __int64)(v41 + 1) < 3 );
    a1_6 = 0;
LABEL_94:
    if ( (*(_BYTE *)(a1_2 + 0x4F0) & 3) != 0
      && (is_valid_handle_typeB((unsigned __int64 *)(a1_2 + 0x4D8))
       || *(_QWORD *)(a1_2 + 0x4E0) != *(_QWORD *)(a1_2 + 0x18)) )
    {
      for ( a1_2 = a1_6;
            (*(_BYTE *)((a1_2 & 0xFFFFFFFFFFFFLL) + 0x4F0) & 3) != 0
         && (is_valid_handle_typeB((unsigned __int64 *)((a1_2 & 0xFFFFFFFFFFFFLL) + 0x4D8))
          || *(_QWORD *)((a1_2 & 0xFFFFFFFFFFFFLL) + 0x4E0) != *(_QWORD *)((a1_2
                                                                                             & 0xFFFFFFFFFFFFLL)
                                                                                            + 0x18));
            a1_2 = *(_QWORD *)((a1_2 & 0xFFFFFFFFFFFFLL) + 0x310) )
      {
        ;
      }
    }
    else
    {
      if ( ::a1_1 > a1_2
        || a1_2 >= qword_15126E3D8 + ::a1_1 )
      {
        v43 = 0;
        v44 = a1_2 - 6;
      }
      else
      {
        v43 = 1;
        v44 = a1_2 & 0xFFFFFFFFFF000000uLL;
      }
      v45 = *(_WORD *)(v44 + 2) | 0x2000;
      if ( !v43 )
      {
        v45 = *(_WORD *)(v44 + 2);
      }
      a1_2 = a1_2 | ((unsigned __int64)v45 << 0x30);
    }
    a1_5 = a1_6;
    if ( sub_1468E7C70(a1_2) )
    {
      if ( !is_valid_handle_typeB(&a1_5)
        || (a1_7 = a1_5,
            (*(_DWORD *)((a1_5 & 0xFFFFFFFFFFFFLL) + 0x110) & 0x2000) != 0) )
      {
        if ( ::a1_1 > a1_2
          || a1_2 >= qword_15126E3D8 + ::a1_1 )
        {
          v47 = 0;
          v48 = a1_2 - 6;
        }
        else
        {
          v47 = 1;
          v48 = a1_2 & 0xFFFFFFFFFF000000uLL;
        }
        v49 = *(_WORD *)(v48 + 2) | 0x2000;
        if ( !v47 )
        {
          v49 = *(_WORD *)(v48 + 2);
        }
        a1_7 = a1_2 | ((unsigned __int64)v49 << 0x30);
        goto LABEL_125;
      }
    }
    else
    {
      a1_7 = a1_5;
    }
    if ( !sub_1468E7C70(a1_7 & 0xFFFFFFFFFFFFLL) )
    {
      v50 = a1_7 & 0xFFFFFFFFFFFFLL;
      do
      {
        a1_7 = *(_QWORD *)(v50 + 0x310);
        v50 = a1_7 & 0xFFFFFFFFFFFFLL;
      }
      while ( !sub_1468E7C70(a1_7 & 0xFFFFFFFFFFFFLL) );
      a1_2 = a1_3;
    }
LABEL_125:
    if ( a1_10 != a1_6
      || a1_2 != a1_1
      || a1_8 != a1_7 )
    {
      if ( *(_BYTE *)(a1_2 + 0xD) >= 4u )
      {
        v52 = *(_DWORD *)(a1_2 + 0x110);
        if ( (v52 & 0x10) == 0 && (v52 & 0x1800) != 0x1000 )
        {
          v102[0] = 0xD2;
          v91[0] = v102;
          v102[1] = 0x2C;
          v91[1] = &v103;
          v102[2] = 0x31;
          v60 = invokeGlobalCallbackAndMaskStatusBits(
                  3,
                  (__int64)v91,
                  (__int64)"Entities that cannot be replicated must not change parent (except during spawn or removal)",
                  "Entities that cannot be replicated must not change parent (except during spawn or removal) - reason=$$"
                  ", parent {name =\"$$\" id=$$}, child {name =\"$$\" id=$$}");
          if ( (v60 & 0xFFFFF) != 0 )
          {
            v95[1] = *(_QWORD *)(a1_2 + 0x10);
            v86[1] = *(_QWORD *)(a1_2 + 0x290);
            v95[0] = 0;
            v96 = 0;
            v86[0] = 0;
            ptr_to_free_3 = 0;
            v72 = 0;
            if ( a1_1 )
            {
              v71[1] = *(_QWORD *)(a1_1 + 0x10);
              p_No_Owner = *(const char **)(a1_1 + 0x290);
              v71[0] = 0;
            }
            else
            {
              *(_OWORD *)v71 = 0;
              p_No_Owner = "No Owner";
            }
            v84[1] = (__int64)p_No_Owner;
            v92[1] = n4;
            v84[0] = 0;
            ptr_to_free_2 = 0;
            v92[0] = 0;
            ThreadLogContextSlot = getThreadLogContextSlot();
            v104[0] = 0xD2;
            *(_QWORD *)v93 = v104;
            v104[1] = 0x2C;
            v94 = &v105;
            v104[2] = 0x31;
            LODWORD(v57) = v60;
            v101 = 0;
            sub_1468AB010(
              3,
              (unsigned int)v93,
              (unsigned int)"Entities that cannot be replicated must not change parent (except during spawn or removal)",
              (unsigned int)"Entities that cannot be replicated must not change parent (except during spawn or removal) -"
                            " reason=$$, parent {name =\"$$\" id=$$}, child {name =\"$$\" id=$$}",
              1,
              (__int64)v57,
              &v101,
              0,
              ThreadLogContextSlot,
              (__int64)v92,
              (__int64)v84,
              (__int64)v71,
              (__int64)v86,
              (__int64)v95);
            free_memory_wrapper(ptr_to_free_2);
            free_memory_wrapper(ptr_to_free_3);
          }
        }
      }
      a1_3 = a1_8;
      a1_9 = a1_7;
      a1 = a1_1;
      *(_QWORD *)v68 = a1_2;
      *(_QWORD *)v69 = a1_10;
      *(_QWORD *)v70 = a1_6;
      CEntity::OnAggregateHierarchyChanged(
        a1_2,
        (unsigned int)v70,
        (unsigned int)v69,
        (unsigned int)v68,
        &a1,
        &a1_9,
        &a1_3,
        n4);
      v51 = dword_1497929DC;
      if ( dword_1497929DC )
      {
        goto LABEL_129;
      }
LABEL_139:
      dword_1497929D8 = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(&qword_1497929D0, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
      {
        sub_1403D8A00(&qword_1497929D0, n0x200000);
      }
      goto LABEL_141;
    }
LABEL_128:
    v51 = dword_1497929DC;
    if ( dword_1497929DC )
    {
LABEL_129:
      dword_1497929DC = v51 - 1;
      goto LABEL_141;
    }
    goto LABEL_139;
  }
LABEL_141:
  v77 = __rdtsc();
  return psub_7FF6AAB93930(&n0xF00);
}

// --- End Function: CEntity::ChangeOwnerEntity (0x1468C1420) ---

// --- Function: sub_1468C20C0 (0x1468C20C0) ---
bool __fastcall sub_1468C20C0(__int64 a1, __int64 a2, __int64 a1)
{
  return !(*(unsigned __int8 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)(a2 & 0xFFFFFFFFFFFFLL) + 0x58LL))(
            a2 & 0xFFFFFFFFFFFFLL,
            a2 & 0xFFFFFFFFFFFFLL,
            a1)
      && !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)(a1 & 0xFFFFFFFFFFFFLL) + 0x58LL))(a1 & 0xFFFFFFFFFFFFLL);
}

// --- End Function: sub_1468C20C0 (0x1468C20C0) ---

// --- Function: sub_1468C2120 (0x1468C2120) ---
char __fastcall sub_1468C2120(unsigned __int64 a1, __int64 *a2)
{
  __int64 i; // r8
  __int64 v4; // rbx
  bool v5; // al
  char v6; // dl
  unsigned __int64 v7; // rcx
  unsigned __int16 v8; // ax
  __int64 v10; // [rsp+48h] [rbp+10h] BYREF

  for ( i = *a2; ; i = *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 0x310) )
  {
    v10 = i;
    if ( !i )
    {
      break;
    }
    v4 = (i & 0xF000000000000000uLL) != 0 ? i & 0xFFFFFF000000LL : (i & 0xFFFFFFFFFFFFLL) - 6;
    if ( *(_WORD *)(v4 + 2) != (HIWORD(i) & 0xFFF) )
    {
      break;
    }
    if ( *(_BYTE *)(a1() + 0x25) || (v5 = is_thread_flag_57_or_38_set()) )
    {
      v5 = 1;
    }
    if ( (*(_WORD *)(v4 + 4) != 2 || !v5) && !check_handle_access_by_state_extended(&v10) )
    {
      break;
    }
    if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
    {
      v6 = 0;
      v7 = a1 - 6;
    }
    else
    {
      v6 = 1;
      v7 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v8 = *(_WORD *)(v7 + 2) | 0x2000;
    if ( !v6 )
    {
      v8 = *(_WORD *)(v7 + 2);
    }
    if ( v10 == (a1 | ((unsigned __int64)v8 << 0x30)) )
    {
      return 1;
    }
  }
  return 0;
}

// --- End Function: sub_1468C2120 (0x1468C2120) ---

// --- Function: CEntity::ClearAllOwners (0x1468C23F0) ---
unsigned __int64 __fastcall CEntity::ClearAllOwners(unsigned __int64 a1)
{
  int v2; // edi
  unsigned __int64 v3; // rax
  __int64 a1_1; // rcx
  __int64 a1_3; // rdx
  __int64 v6; // r8
  unsigned __int64 v7; // rsi
  unsigned __int64 v8; // r9
  char v9; // bp
  unsigned __int64 v10; // r11
  unsigned __int16 v11; // ax
  unsigned __int64 v12; // rax
  char v13; // r10
  unsigned __int16 v14; // dx
  unsigned __int64 n0x200000; // rax
  unsigned int v16[2]; // [rsp+50h] [rbp-58h] BYREF
  unsigned int v17[2]; // [rsp+58h] [rbp-50h] BYREF
  __int64 v18; // [rsp+60h] [rbp-48h] BYREF
  __int64 a1_2; // [rsp+B0h] [rbp+8h] BYREF
  __int64 a1_1; // [rsp+B8h] [rbp+10h] BYREF
  __int64 a1; // [rsp+C0h] [rbp+18h] BYREF
  unsigned __int64 v22; // [rsp+C8h] [rbp+20h] BYREF

  v2 = *(_DWORD *)(a1() + 0x18);
  if ( dword_1497929D8 == v2 )
  {
    ++dword_1497929DC;
  }
  else
  {
    v3 = _InterlockedCompareExchange64(&qword_1497929D0, 0x200000, 0);
    if ( v3 )
    {
      sub_1403D85B0(&qword_1497929D0, v3, 0, (__int64)"CEntity::ClearAllOwners", (__int64)"s_aggregateHierarchyLock", 1);
    }
    dword_1497929D8 = v2;
  }
  a1_1 = *(_QWORD *)(a1 + 0x318);
  a1_3 = *(_QWORD *)(a1 + 0x320);
  v6 = *(_QWORD *)(a1 + 0x310);
  *(_DWORD *)(a1 + 0x4F0) = 0;
  *(_QWORD *)(a1 + 0x4D8) = 0;
  *(_QWORD *)(a1 + 0x4E0) = 0;
  *(_QWORD *)(a1 + 0x4E8) = 0;
  if ( ::a1_1 > a1 || a1 >= qword_15126E3D8 + ::a1_1 )
  {
    v9 = 0;
    v8 = a1 - 6;
    v7 = a1 - 6;
    v10 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  else
  {
    v7 = a1 - 6;
    v8 = a1 & 0xFFFFFFFFFF000000uLL;
    v9 = 1;
    v10 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v11 = *(_WORD *)(v8 + 2) | 0x2000;
  if ( !v9 )
  {
    v11 = *(_WORD *)(v8 + 2);
  }
  v12 = a1 | ((unsigned __int64)v11 << 0x30);
  if ( ::a1_1 > a1 || a1 >= qword_15126E3D8 + ::a1_1 )
  {
    v13 = 0;
    v10 = v7;
  }
  else
  {
    v13 = 1;
  }
  a1_2 = a1_3;
  v14 = *(_WORD *)(v10 + 2) | 0x2000;
  v22 = v12;
  if ( !v13 )
  {
    v14 = *(_WORD *)(v10 + 2);
  }
  a1_1 = a1 | ((unsigned __int64)v14 << 0x30);
  a1 = a1_1;
  *(_QWORD *)v16 = v6;
  *(_QWORD *)v17 = 0;
  CEntity::OnAggregateHierarchyChanged(
    a1,
    (unsigned int)v17,
    (unsigned int)v16,
    (unsigned int)&v22,
    &a1,
    &a1_1,
    &a1_2,
    4u);
  v18 = 0;
  sub_1468E9770(a1, &v18, 4);
  if ( dword_1497929DC )
  {
    return (unsigned int)--dword_1497929DC;
  }
  else
  {
    dword_1497929D8 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_1497929D0, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
    {
      return sub_1403D8A00(&qword_1497929D0, n0x200000);
    }
  }
  return n0x200000;
}

// --- End Function: CEntity::ClearAllOwners (0x1468C23F0) ---

// --- Function: sub_1468C2650 (0x1468C2650) ---
__int64 __fastcall sub_1468C2650(__int64 a1, int a2, __int64 a3)
{
  return sub_146900330(a1, (unsigned int)~a2 & *(_DWORD *)(a1 + 0x110), a3);
}

// --- End Function: sub_1468C2650 (0x1468C2650) ---

// --- Function: sub_1468C31A0 (0x1468C31A0) ---
char __fastcall sub_1468C31A0(__int64 a1, double *a2, __int64 a3, __int64 a4)
{
  __int64 v4; // rdi
  unsigned __int64 v8; // rax
  unsigned __int64 v9; // rbx
  unsigned __int64 v10; // rax
  __int64 v11; // rbx
  __int64 v12; // rbx
  bool v13; // al
  __int64 v14; // rbx
  __int64 (__fastcall *v15)(__int64, double *, double *); // rsi
  __int16 n0xFFFF; // ax
  double v17; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 *v21; // rbx
  __int64 v22; // rax
  float *v23; // rax
  __int64 v24; // rcx
  float v25; // xmm5_4
  float v26; // xmm6_4
  float v27; // xmm7_4
  float v28; // xmm0_4
  double v29; // xmm3_8
  float v30; // xmm1_4
  __int64 v31; // rax
  double v32; // xmm2_8
  double v33; // xmm15_8
  double v34; // xmm14_8
  double v35; // xmm1_8
  double v36; // xmm2_8
  double v37; // xmm1_8
  double v38; // xmm2_8
  double v39; // xmm10_8
  double v40; // xmm4_8
  double v41; // xmm6_8
  double v42; // xmm12_8
  double v43; // xmm3_8
  double v44; // xmm5_8
  double v45; // xmm9_8
  double v46; // xmm4_8
  double v47; // xmm11_8
  double v48; // xmm13_8
  double v49; // xmm1_8
  double v50; // xmm10_8
  double v51; // xmm2_8
  double v52; // xmm6_8
  double v53; // xmm7_8
  double v54; // xmm3_8
  double v55; // xmm13_8
  double v56; // xmm9_8
  double v57; // xmm12_8
  double v58; // xmm11_8
  double v59; // kr00_8
  double v60; // xmm15_8
  double v61; // xmm10_8
  double v62; // xmm9_8
  double v63; // xmm13_8
  double v64; // xmm8_8
  double v65; // xmm0_8
  double v66; // xmm7_8
  __int64 v67; // rax
  double v68; // xmm6_8
  double v69; // xmm5_8
  double v70; // xmm4_8
  double v71; // xmm0_8
  double v72; // xmm6_8
  double v73; // xmm3_8
  double v74; // xmm2_8
  double v75; // xmm5_8
  double v76; // xmm2_8
  __int64 v77; // rax
  double v78; // [rsp+30h] [rbp-1A8h] BYREF
  _BYTE v79[8]; // [rsp+38h] [rbp-1A0h] BYREF
  unsigned __int64 v80; // [rsp+40h] [rbp-198h] BYREF
  double v81; // [rsp+48h] [rbp-190h]
  double v82; // [rsp+50h] [rbp-188h]
  double v83; // [rsp+58h] [rbp-180h]
  double v84; // [rsp+60h] [rbp-178h]
  double v85; // [rsp+68h] [rbp-170h]
  double v86; // [rsp+70h] [rbp-168h] BYREF
  double v87; // [rsp+78h] [rbp-160h]
  double v88; // [rsp+80h] [rbp-158h]
  double v89; // [rsp+88h] [rbp-150h]
  double v90; // [rsp+90h] [rbp-148h]
  double v91; // [rsp+98h] [rbp-140h]
  double v92; // [rsp+A0h] [rbp-138h]
  double v93; // [rsp+A8h] [rbp-130h]
  double v94; // [rsp+B0h] [rbp-128h]
  double v95; // [rsp+B8h] [rbp-120h]
  double v96; // [rsp+C0h] [rbp-118h]
  double v97; // [rsp+C8h] [rbp-110h]
  double v98; // [rsp+D0h] [rbp-108h] BYREF
  double v99; // [rsp+D8h] [rbp-100h]
  double v100; // [rsp+E0h] [rbp-F8h]
  double v101; // [rsp+E8h] [rbp-F0h]
  double v102; // [rsp+F0h] [rbp-E8h]
  double v103; // [rsp+F8h] [rbp-E0h]
  double v104; // [rsp+100h] [rbp-D8h]
  double v105; // [rsp+108h] [rbp-D0h]
  double v106; // [rsp+1E0h] [rbp+8h] BYREF

  v4 = *(_QWORD *)(a1 + 0x288);
  if ( !v4 )
  {
    return 0;
  }
  while ( 1 )
  {
    v8 = *(_QWORD *)(v4 + 8);
    v80 = v8;
    if ( v8 )
    {
      v9 = v8;
      v10 = HIWORD(v8);
      v11 = v9 & 0xFFFFFFFFFFFFLL;
      v12 = (v10 & 0xF000) != 0 ? v11 & 0xFFFFFF000000LL : v11 - 6;
      if ( *(_WORD *)(v12 + 2) == (v10 & 0xFFF) )
      {
        if ( *(_BYTE *)(a1() + 0x25) || (v13 = is_thread_flag_57_or_38_set()) )
        {
          v13 = 1;
        }
        if ( (*(_WORD *)(v12 + 4) == 2 && v13 || check_handle_access_by_state_extended(&v80)) && v4 != a4 )
        {
          v14 = v80 & 0xFFFFFFFFFFFFLL;
          v15 = *(__int64 (__fastcall **)(__int64, double *, double *))(*(_QWORD *)(v80 & 0xFFFFFFFFFFFFLL) + 0x338LL);
          n0xFFFF = n0xFFFF_99;
          if ( n0xFFFF_99 == (__int16)0xFFFF )
          {
            n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                          + 0x10LL))(
                                  global_dispatcher_ptr,
                                  v79,
                                  "IEntityComponentLightBox");
            n0xFFFF_99 = n0xFFFF;
          }
          LOWORD(v106) = n0xFFFF;
          v17 = *(double *)v15(v14, &v86, &v106);
          v78 = v17;
          if ( v17 != 0.0 )
          {
            handle_metadata_ptr = get_handle_metadata_ptr(*(_QWORD *)&v17 & 0xFFFFFFFFFFFFLL);
            n4 = *(_WORD *)(handle_metadata_ptr + 4);
            if ( n4 != 4
              && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v17) & 0xFFF)
              && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v78)) )
            {
              break;
            }
          }
        }
      }
    }
    v4 = *(_QWORD *)(v4 + 0x10);
    if ( !v4 )
    {
      return 0;
    }
  }
  v21 = (__int64 *)(*(_QWORD *)&v17 & 0xFFFFFFFFFFFFLL);
  *a2 = 1.0;
  a2[5] = 1.0;
  a2[0xA] = 1.0;
  v22 = *v21;
  a2[1] = 0.0;
  a2[2] = 0.0;
  a2[3] = 0.0;
  a2[4] = 0.0;
  a2[6] = 0.0;
  a2[7] = 0.0;
  a2[8] = 0.0;
  a2[9] = 0.0;
  a2[0xB] = 0.0;
  v23 = (float *)(*(__int64 (__fastcall **)(__int64 *))(v22 + 0x580))(v21);
  v24 = v80 & 0xFFFFFFFFFFFFLL;
  v25 = *v23;
  v26 = v23[1];
  v27 = v23[2];
  v28 = v23[4] - v26;
  v29 = (float)(v23[3] - *v23);
  v30 = v23[5];
  v31 = *(_QWORD *)(v80 & 0xFFFFFFFFFFFFLL);
  a2[0xB] = v27;
  *a2 = v29;
  a2[3] = v25;
  a2[5] = v28;
  a2[7] = v26;
  a2[0xA] = (float)(v30 - v27);
  a2[1] = 0.0;
  a2[2] = 0.0;
  a2[4] = 0.0;
  a2[6] = 0.0;
  a2[8] = 0.0;
  a2[9] = 0.0;
  (*(void (__fastcall **)(__int64, double *, __int64, _QWORD, char))(v31 + 0x1E0))(v24, &v98, 2, 0, 1);
  v32 = v105 * a2[1];
  v33 = v105 * a2[4];
  v34 = v105 * a2[8];
  v87 = v105 * *a2;
  v81 = v105 * a2[2];
  v89 = v105 * a2[5];
  v82 = v105 * a2[6];
  v35 = v105 * a2[9];
  v88 = v32;
  v36 = v105 * a2[0xA];
  v90 = v35;
  v37 = v105 * a2[3];
  v94 = v36;
  v38 = v105 * a2[0xB];
  v39 = v98;
  v40 = v99;
  v41 = v100;
  v96 = v37;
  v97 = v105 * a2[7];
  v86 = v38;
  v42 = v40 * (v40 + v40);
  v43 = v98 * (v40 + v40);
  v44 = v101 * (v40 + v40);
  v45 = v99 * (v41 + v41);
  v46 = v98 * (v41 + v41);
  v47 = v101 * (v39 + v39);
  v48 = 1.0 - v39 * (v39 + v39);
  v49 = v101 * (v41 + v41);
  v50 = v45 - v47;
  v51 = v41 * (v41 + v41);
  v52 = 1.0 - v42 - v51;
  v53 = v43 - v49;
  v78 = v49 + v43;
  v91 = v48 - v51;
  v54 = (v48 - v51) * v33;
  v106 = v46 - v44;
  v55 = v48 - v42;
  v56 = v45 + v47;
  v57 = v53 * v33 + v52 * v87 + (v46 + v44) * v34;
  v58 = v54 + v78 * v87 + v50 * v34;
  v59 = v56 * v33;
  v60 = v91;
  v85 = v55;
  v83 = v50;
  v61 = v59 + v87 * (v46 - v44) + v55 * v34;
  v84 = v56;
  v62 = v52 * v88 + v53 * v89 + (v46 + v44) * v90;
  v92 = v53;
  v63 = v53;
  v93 = v46 + v44;
  v64 = v78 * v88 + v91 * v89 + v90 * v83;
  v65 = v53 * v82;
  v66 = v88 * (v46 - v44) + v89 * v84 + v90 * v85;
  v95 = v52;
  v67 = *v21;
  v68 = v52 * v81 + v65 + v94 * (v46 + v44);
  v69 = v78 * v81 + v91 * v82 + v94 * v83;
  a2[0xA] = v106 * v81 + v84 * v82 + v94 * v85;
  v70 = v97;
  v71 = v63 * v97;
  a2[2] = v68;
  v72 = v96;
  v73 = v96 * v78;
  v74 = v96 * v95 + v71;
  a2[6] = v69;
  v75 = v86;
  a2[3] = v74 + v86 * v93 + v102;
  v76 = v72 * v106 + v70 * v84;
  a2[7] = v73 + v60 * v70 + v75 * v83 + v103;
  a2[0xB] = v76 + v75 * v85 + v104;
  *a2 = v57;
  a2[1] = v62;
  a2[4] = v58;
  a2[5] = v64;
  a2[8] = v61;
  a2[9] = v66;
  v77 = (*(__int64 (__fastcall **)(__int64 *))(v67 + 0x588))(v21);
  *(_OWORD *)a3 = *(_OWORD *)v77;
  *(double *)(a3 + 0x10) = *(double *)(v77 + 0x10);
  return 1;
}

// --- End Function: sub_1468C31A0 (0x1468C31A0) ---

// --- Function: CEntity::CopyTags (0x1468C4D40) ---
__int64 __fastcall sub_1468C4D40(__int64 a1, __int64 a2)
{
  char v4; // r15
  __int64 v5; // rdi
  signed __int64 v6; // rdx
  signed __int64 v7; // rsi

  v4 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  v5 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  if ( !v4 )
  {
    if ( *(_DWORD *)(v5 + 8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v5 + 0xC);
    }
    else
    {
      v6 = _InterlockedIncrement64((volatile signed __int64 *)v5);
      if ( (v6 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v5,
          v6,
          (__int64)"CEntity::CopyTags",
          (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
          1);
      }
    }
  }
  if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xCC);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v7 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0xC0),
        v7,
        (__int64)"CEntity::CopyTags",
        (__int64)"m_cross_ecus_state.updateLock",
        1);
    }
  }
  (*(void (__fastcall **)(_QWORD, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x408LL))(pCZoneSystem, a2, a1 + 0x2A0);
  sub_1402D0950(a1 + 0xC0);
  if ( !v4 )
  {
    sub_1402D0950(v5);
  }
  return a2;
}

// --- End Function: CEntity::CopyTags (0x1468C4D40) ---

// --- Function: sub_1468C4E60 (0x1468C4E60) ---
_QWORD *__fastcall sub_1468C4E60(__int64 a1, _QWORD *a2, unsigned __int16 *a3)
{
  __int64 v3; // r10
  __int64 v7; // r9
  __int64 v8; // r10
  bool v9; // cf
  unsigned __int16 v11; // [rsp+40h] [rbp-28h] BYREF
  _QWORD v12[2]; // [rsp+48h] [rbp-20h] BYREF
  int v13; // [rsp+58h] [rbp-10h]

  v3 = *(_QWORD *)(a1 + 0x2C8);
  if ( !v3 || (v7 = *(_QWORD *)(v3 + 8), v8 = *(_QWORD *)(v3 + 0x10), v7 == v8) )
  {
LABEL_5:
    v11 = 0xFFFF;
    sub_14036B680((__int64)v12);
    v11 = *a3;
    v9 = *(_BYTE *)(a1 + 0xD) < 2u;
    v13 = 0;
    sub_1467BC2E0(*(_QWORD *)(pEntitySystem + 0x628), a2, a1, &v11, 0, (__int64)v12, !v9);
    if ( v12[0] )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)(v12[0] + 8LL) + 0x10LL))(v12[0] + 8LL);
    }
    return a2;
  }
  else
  {
    while ( *(_WORD *)v7 != *a3 )
    {
      v7 += 0x20;
      if ( v7 == v8 )
      {
        goto LABEL_5;
      }
    }
    sub_1467BC2E0(
      *(_QWORD *)(pEntitySystem + 0x628),
      a2,
      a1,
      (unsigned __int16 *)v7,
      *(_DWORD *)(v7 + 0x18),
      v7 + 8,
      *(_BYTE *)(a1 + 0xD) >= 2u);
    return a2;
  }
}

// --- End Function: sub_1468C4E60 (0x1468C4E60) ---

// --- Function: sub_1468C5070 (0x1468C5070) ---
__int64 __fastcall sub_1468C5070(__int64 a1, __int64 a2)
{
  __int64 result; // rax

  result = sub_1468DB500(a1);
  if ( result )
  {
    return sub_1468247C0(result, a2);
  }
  return result;
}

// --- End Function: sub_1468C5070 (0x1468C5070) ---

// --- Function: CEntity::CreateZoneHost (0x1468C5260) ---
__int64 __fastcall CEntity::CreateZoneHost(
        unsigned __int64 a1,
        __int64 a2,
        unsigned __int8 a3,
        unsigned __int8 a4)
{
  unsigned __int64 v4; // r14
  int v6; // eax
  _QWORD *i; // rbx
  __int64 v11; // rax
  __int64 v12; // rcx
  __int64 *v13; // rax
  char n0xA; // bl
  char v15; // bl
  __int64 v16; // rax
  FH4 *pCZoneSystem; // rbx
  __int64 v18; // r13
  __int64 v19; // rcx
  __int64 (__fastcall *v20)(FH4 *, __int64, _QWORD, _QWORD, _QWORD *, __int64, __int64 *, unsigned __int64); // r15
  __int64 ZoneTransform; // rax
  __int64 v22; // rdx
  __int64 v23; // rax
  __int64 v24; // r15
  void (__fastcall *v25)(__int64, __int64 *, unsigned __int64, _QWORD); // r12
  char v26; // cl
  unsigned __int64 v27; // rdx
  unsigned __int16 v28; // ax
  unsigned __int64 v29; // rbx
  __int64 v30; // r15
  __int64 v31; // rdx
  unsigned __int64 v32; // rbx
  int v33; // ebx
  __int64 *ThreadLogContextSlot; // rax
  __int64 v35; // [rsp+20h] [rbp-E0h]
  const char *v36; // [rsp+28h] [rbp-D8h]
  __int64 v37; // [rsp+28h] [rbp-D8h]
  __int128 v39; // [rsp+68h] [rbp-98h] BYREF
  __int64 arg48[2]; // [rsp+78h] [rbp-88h] BYREF
  int *p_p_n210[2]; // [rsp+88h] [rbp-78h] BYREF
  _QWORD v42[4]; // [rsp+98h] [rbp-68h] BYREF
  __int128 v43; // [rsp+B8h] [rbp-48h]
  __int64 v44; // [rsp+C8h] [rbp-38h]
  _BYTE v45[64]; // [rsp+D0h] [rbp-30h] BYREF
  __int64 v46[2]; // [rsp+110h] [rbp+10h] BYREF
  __int64 v47; // [rsp+120h] [rbp+20h]
  unsigned __int64 v48; // [rsp+128h] [rbp+28h] BYREF
  int n0x31; // [rsp+130h] [rbp+30h]
  char v50; // [rsp+134h] [rbp+34h] BYREF

  v4 = 0;
  LODWORD(v39) = 0;
  v6 = *(_DWORD *)(a1 + 0x110);
  if ( (v6 & 0x10) != 0 && !(_BYTE)isEditor )
  {
    LogFatalError(
      "%s: Entities that host a zone are not allowed to be client/server only id=%llu name=%s",
      "CEntity::CreateZoneHost",
      *(_QWORD *)(a1 + 0x10),
      *(const char **)(a1 + 0x290));
    return 0;
  }
  if ( *(_QWORD *)(a1 + 0x2B8) )
  {
    v46[0] = 0x2C000000D2LL;
    arg48[0] = (__int64)v46;
    arg48[1] = (__int64)&v46[1] + 4;
    LODWORD(v46[1]) = 0x31;
    v33 = invokeGlobalCallbackAndMaskStatusBits(
            4,
            (__int64)arg48,
            (__int64)"[CEntity CreateZoneHost Duplicate Call]",
            "CEntity::CreateZoneHost was called twice for entity id=%llu name=%s",
            v35,
            v36);
    if ( (v33 & 0xFFFFF) != 0 )
    {
      v46[0] = *(_QWORD *)(a1 + 0x290);
      arg48[0] = *(_QWORD *)(a1 + 0x10);
      ThreadLogContextSlot = getThreadLogContextSlot();
      v48 = 0x2C000000D2LL;
      p_p_n210[0] = (int *)&v48;
      p_p_n210[1] = (int *)&v50;
      n0x31 = 0x31;
      LODWORD(v37) = v33;
      v39 = 0;
      sub_1468ABE80(
        4,
        p_p_n210,
        "[CEntity CreateZoneHost Duplicate Call]",
        "CEntity::CreateZoneHost was called twice for entity id=%llu name=%s",
        1,
        v37,
        &v39,
        0,
        ThreadLogContextSlot,
        (__int64)arg48,
        (__int64)v46);
    }
    return *(_QWORD *)(a1 + 0x2B8);
  }
  if ( (v6 & 0x400) == 0 )
  {
    LogTraceConditional("Component dump for %s:", *(const char **)(a1 + 0x290));
    for ( i = *(_QWORD **)(a1 + 0x238); i != *(_QWORD **)(a1 + 0x240); ++i )
    {
      v11 = AK::MemoryMgr::StopProfileThreadUsage((struct _exception *)(*i & 0xFFFFFFFFFFFFLL));
      LogTraceConditional((const char *)&fmt, v11);
    }
  }
  sub_1468DB6A0(a1, &v48);
  if ( a2 )
  {
    sub_14051E980(a2);
    p_p_n210[0] = 0;
    v12 = 0;
  }
  else
  {
    if ( v48 && *(_QWORD *)((v48 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v48) )
    {
      (*(void (__fastcall **)(__int64, __int128 *, unsigned __int64, _QWORD))(*(_QWORD *)qword_14981D220 + 0x218LL))(
        qword_14981D220,
        &v39,
        v48 & 0xFFFFFFFFFFFFLL,
        0);
      a2 = v39;
      v13 = (__int64 *)&v39;
      n0xA = 0xA;
    }
    else
    {
      v13 = v46;
      a2 = 0;
      n0xA = 0xC;
    }
    *v13 = 0;
    v15 = n0xA & 0xF7;
    arg48[0] = 0;
    if ( (v15 & 4) != 0 )
    {
      v15 &= ~4u;
      if ( v46[0] )
      {
        sub_14051E9A0(v46[0]);
      }
    }
    if ( (v15 & 2) == 0 )
    {
      goto LABEL_21;
    }
    v12 = v39;
  }
  if ( v12 )
  {
    sub_14051E9A0(v12);
  }
LABEL_21:
  v16 = (*(__int64 (__fastcall **)(FH4 *, unsigned __int64))(*(_QWORD *)::pCZoneSystem + 0x60LL))(
          ::pCZoneSystem,
          a1 + 0x2A0);
  pCZoneSystem = ::pCZoneSystem;
  v18 = v16;
  v19 = *(_QWORD *)::pCZoneSystem;
  v46[0] = a2;
  v20 = *(__int64 (__fastcall **)(FH4 *, __int64, _QWORD, _QWORD, _QWORD *, __int64, __int64 *, unsigned __int64))(v19 + 0x40);
  if ( a2 )
  {
    sub_14051E980(a2);
  }
  ZoneTransform = CEntity::GetZoneTransform(a1, (__int64)v45, 0);
  v22 = *(_QWORD *)(a1 + 0x290);
  v42[3] = *(_QWORD *)(ZoneTransform + 0x18);
  v42[0] = *(_QWORD *)ZoneTransform;
  v42[1] = *(_QWORD *)(ZoneTransform + 8);
  v42[2] = *(_QWORD *)(ZoneTransform + 0x10);
  v43 = *(_OWORD *)(ZoneTransform + 0x20);
  v44 = *(_QWORD *)(ZoneTransform + 0x30);
  v23 = v20(pCZoneSystem, v22, a3, a4, v42, v18, v46, a1);
  *(_QWORD *)(a1 + 0x2B8) = v23;
  *(_DWORD *)(a1 + 0x2C0) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v23 + 0x1F8LL))(v23);
  if ( a2 )
  {
    v24 = qword_14981D220;
    v25 = *(void (__fastcall **)(__int64, __int64 *, unsigned __int64, _QWORD))(*(_QWORD *)qword_14981D220 + 0x230LL);
    if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
    {
      v26 = 0;
      v27 = a1 - 6;
    }
    else
    {
      v26 = 1;
      v27 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v28 = *(_WORD *)(v27 + 2) | 0x2000;
    if ( !v26 )
    {
      v28 = *(_WORD *)(v27 + 2);
    }
    v29 = a1 | ((unsigned __int64)v28 << 0x30);
    v46[0] = a2;
    sub_14051E980(a2);
    v25(v24, v46, v29, 0);
  }
  if ( *(_QWORD *)(a1 + 0x128) )
  {
    *(_OWORD *)v46 = 0;
    v47 = 0;
    v30 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int64 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
            ::pCZoneSystem,
            0x7832,
            v46,
            0);
    (*(void (__fastcall **)(FH4 *, _QWORD *, __int64, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x480LL))(
      ::pCZoneSystem,
      v42,
      v18,
      *(_QWORD *)(a1 + 0x2B8));
    v31 = *(_QWORD *)(a1 + 0x128);
    if ( (__int64)(*(_QWORD *)(v31 + 0x1C0) - *(_QWORD *)(v31 + 0x1B8)) >> 3 )
    {
      do
      {
        if ( (__int64)(*(_QWORD *)(v31 + 0x1C0) - *(_QWORD *)(v31 + 0x1B8)) >> 3 <= v4 )
        {
          __debugbreak();
        }
        v32 = *(_QWORD *)(*(_QWORD *)(v31 + 0x1B8) + 8 * v4) & 0xFFFFFFFFFFFFLL;
        (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x140LL))(
          ::pCZoneSystem,
          v32 + 0x2A0,
          v30,
          0);
        CEntity::MoveToZoneImpl(v32, *(_QWORD *)(a1 + 0x2B8), (__int64)v42, 1, v30, 0);
        v31 = *(_QWORD *)(a1 + 0x128);
        ++v4;
      }
      while ( v4 < (__int64)(*(_QWORD *)(v31 + 0x1C0) - *(_QWORD *)(v31 + 0x1B8)) >> 3 );
    }
    (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v30);
    if ( v46[0] )
    {
      sub_14039EFB0((__int64)v46, (const void *)v46[0], (v47 - v46[0]) & 0xFFFFFFFFFFFFFFE0uLL);
    }
  }
  if ( a2 )
  {
    sub_14051E9A0(a2);
  }
  return *(_QWORD *)(a1 + 0x2B8);
}

// --- End Function: CEntity::CreateZoneHost (0x1468C5260) ---

// --- Function: sub_1468C7070 (0x1468C7070) ---
__int64 __fastcall sub_1468C7070(__int64 a1, __int64 a2)
{
  __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_14682A890(result, a2);
  }
  return result;
}

// --- End Function: sub_1468C7070 (0x1468C7070) ---

// --- Function: sub_1468CAB20 (0x1468CAB20) ---
__int64 __fastcall sub_1468CAB20(__int64 a1)
{
  __int64 result; // rax

  result = sub_1468DB500(a1);
  if ( result )
  {
    return sub_1468328A0(result);
  }
  return result;
}

// --- End Function: sub_1468CAB20 (0x1468CAB20) ---

// --- Function: CEntity::DestroyZoneHost (0x1468CAB40) ---
double __fastcall CEntity::DestroyZoneHost(__int64 a1)
{
  __int64 v2; // rax
  unsigned __int64 v3; // rdi
  __int64 v4; // r14
  int v5; // ebx
  unsigned __int64 v6; // rax
  int v7; // ebx
  unsigned __int64 v8; // rax
  __int64 v9; // r15
  int v10; // ebx
  unsigned __int64 v11; // rax
  __int64 v12; // r12
  __int64 v13; // rax
  __int64 v14; // rsi
  __int64 v15; // rax
  __int64 v16; // rcx
  __int64 v17; // rbx
  __int64 v18; // rax
  __int64 v19; // rdi
  __int64 v20; // r14
  int v21; // ebx
  unsigned __int64 v22; // rax
  unsigned __int16 v23; // ax
  __int64 v24; // rbx
  int v25; // eax
  unsigned __int64 n0x200000; // rax
  __int64 v27; // rbx
  int v28; // eax
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 n0x200000_2; // rax
  unsigned __int64 n0x200000_3; // rax
  __int64 v32; // rax
  double result; // xmm0_8
  __int128 pCZoneSystem; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v35; // [rsp+40h] [rbp-C0h]
  int n0xF00_1; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v37; // [rsp+54h] [rbp-ACh]
  int v38; // [rsp+5Ch] [rbp-A4h]
  __int64 v39; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v40; // [rsp+68h] [rbp-98h]
  __int64 v41; // [rsp+70h] [rbp-90h]
  __int64 v42; // [rsp+78h] [rbp-88h]
  int n0xF00; // [rsp+A0h] [rbp-60h] BYREF
  __int64 v44; // [rsp+A4h] [rbp-5Ch]
  int v45; // [rsp+ACh] [rbp-54h]
  __int64 v46; // [rsp+B0h] [rbp-50h]
  unsigned __int64 v47; // [rsp+B8h] [rbp-48h]
  __int64 v48; // [rsp+C0h] [rbp-40h]
  __int64 v49; // [rsp+C8h] [rbp-38h]
  _BYTE v50[72]; // [rsp+F0h] [rbp-10h] BYREF
  __int64 v51; // [rsp+188h] [rbp+88h] BYREF
  __int64 v52; // [rsp+190h] [rbp+90h]
  char v53; // [rsp+198h] [rbp+98h] BYREF

  if ( *(_QWORD *)(a1 + 0x2B8) )
  {
    v2 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D298 + 0xA0LL))(qword_14981D298);
    if ( *(_QWORD *)(a1 + 0x10) != *(_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)v2 + 0x1D8LL))(
                                                                 v2,
                                                                 &v53) )
    {
      v3 = 0;
      v44 = 0;
      v45 = 0;
      v47 = 0;
      v48 = 0;
      v49 = 0;
      n0xF00 = 0xF00;
      v46 = 1;
      psub_7FF6AAB938D0(
        &n0xF00,
        0,
        &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        0);
      n0xF00_1 = 0xF00;
      v37 = 0;
      v38 = 0;
      v40 = 0;
      v41 = 0;
      v42 = 0;
      v39 = 1;
      psub_7FF6AAB938D0(
        &n0xF00_1,
        0,
        &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        0);
      (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2B8) + 0x1E8LL))(*(_QWORD *)(a1 + 0x2B8));
      v40 = __rdtsc();
      psub_7FF6AAB93930(&n0xF00_1);
      pCZoneSystem = 0;
      v35 = 0;
      v4 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
             ::pCZoneSystem,
             0x7832,
             &pCZoneSystem,
             0);
      v52 = v4;
      v5 = *(_DWORD *)(a1() + 0x18);
      if ( dword_1497929D8 == v5 )
      {
        ++dword_1497929DC;
      }
      else
      {
        v6 = _InterlockedCompareExchange64(&qword_1497929D0, 0x200000, 0);
        if ( v6 )
        {
          sub_1403D85B0(
            &qword_1497929D0,
            v6,
            0,
            (__int64)"CEntity::DestroyZoneHost",
            (__int64)"s_aggregateHierarchyLock",
            1);
        }
        dword_1497929D8 = v5;
      }
      v7 = *(_DWORD *)(a1() + 0x18);
      if ( dword_1497929C8 == v7 )
      {
        ++dword_1497929CC;
      }
      else
      {
        v8 = _InterlockedCompareExchange64(&qword_1497929C0, 0x200000, 0);
        if ( v8 )
        {
          sub_1403D85B0(
            &qword_1497929C0,
            v8,
            0,
            (__int64)"CEntity::DestroyZoneHost",
            (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
            1);
        }
        dword_1497929C8 = v7;
      }
      v9 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x98LL))(::pCZoneSystem);
      v10 = *(_DWORD *)(a1() + 0x18);
      if ( *(_DWORD *)(v9 + 8) == v10 )
      {
        ++*(_DWORD *)(v9 + 0xC);
      }
      else
      {
        v11 = _InterlockedCompareExchange64((volatile signed __int64 *)v9, 0x200000, 0);
        if ( v11 )
        {
          sub_1403D85B0(
            (volatile signed __int64 *)v9,
            v11,
            0,
            (__int64)"CEntity::DestroyZoneHost",
            (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
            1);
        }
        *(_DWORD *)(v9 + 8) = v10;
      }
      (*(void (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0xA8LL))(::pCZoneSystem);
      (*(void (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0xC0LL))(::pCZoneSystem);
      v12 = *(_QWORD *)(a1 + 0x2B8);
      if ( v12 == (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x10LL))(::pCZoneSystem) )
      {
        v13 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x10LL))(::pCZoneSystem);
      }
      else
      {
        v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v12 + 8LL))(v12);
      }
      while ( 1 )
      {
        v14 = v13;
        v15 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x20LL))(v13);
        if ( v15 )
        {
          if ( *(_BYTE *)(v15 + 0xD) < 5u && (*(_BYTE *)(v15 + 8) & 8) == 0 )
          {
            break;
          }
        }
        if ( v14 == (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x10LL))(::pCZoneSystem) )
        {
          break;
        }
        v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v14 + 8LL))(v14);
      }
      (*(void (__fastcall **)(FH4 *, _BYTE *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x480LL))(
        ::pCZoneSystem,
        v50,
        v12,
        v14);
      v16 = *(_QWORD *)(a1 + 0x128);
      if ( v16 && (__int64)(*(_QWORD *)(v16 + 0x1C0) - *(_QWORD *)(v16 + 0x1B8)) >> 3 )
      {
        do
        {
          if ( (__int64)(*(_QWORD *)(v16 + 0x1C0) - *(_QWORD *)(v16 + 0x1B8)) >> 3 <= v3 )
          {
            __debugbreak();
          }
          v17 = *(_QWORD *)(*(_QWORD *)(v16 + 0x1B8) + 8 * v3) & 0xFFFFFFFFFFFFLL;
          v18 = sub_1468DB500(v17);
          if ( v18 )
          {
            sub_14686FDE0(v18);
          }
          (*(void (__fastcall **)(FH4 *, __int64, __int64, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x140LL))(
            ::pCZoneSystem,
            v17 + 0x2A0,
            v4,
            0);
          CEntity::MoveToZoneImpl(v17, v14, (__int64)v50, 1, v4, 0);
          v16 = *(_QWORD *)(a1 + 0x128);
          ++v3;
        }
        while ( v3 < (__int64)(*(_QWORD *)(v16 + 0x1C0) - *(_QWORD *)(v16 + 0x1B8)) >> 3 );
      }
      v19 = qword_15126E2D8;
      v20 = qword_15126E2D8 + 8LL;
      v21 = *(_DWORD *)(a1() + 0x18);
      if ( *(_DWORD *)(v20 + 8) == v21 )
      {
        ++*(_DWORD *)(v20 + 0xC);
      }
      else
      {
        v22 = _InterlockedCompareExchange64((volatile signed __int64 *)v20, 0x200000, 0);
        if ( v22 )
        {
          sub_1403D85B0(
            (volatile signed __int64 *)v20,
            v22,
            0,
            (__int64)"CEntityAggregateManager::OnZoneDelete",
            (__int64)"m_UpdateQueueLock",
            1);
        }
        *(_DWORD *)(v20 + 8) = v21;
      }
      sub_146913C90((int *)v19);
      v23 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x1F8LL))(v12);
      v51 = 0;
      v24 = v23;
      sub_1403B6060(v19 + 0x18, 0x40E0LL * ((unsigned int)v23 + 1), &v51);
      *(_DWORD *)(0x40E0 * v24 + *(_QWORD *)(v19 + 0x18)) = 0;
      if ( v20 )
      {
        v25 = *(_DWORD *)(v20 + 0xC);
        if ( v25 )
        {
          *(_DWORD *)(v20 + 0xC) = v25 - 1;
        }
        else
        {
          *(_DWORD *)(v20 + 8) = 0xFFFFFFFF;
          n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v20, 0, 0x200000);
          if ( n0x200000 != 0x200000 )
          {
            sub_1403D8A00((volatile signed __int64 *)v20, n0x200000);
          }
        }
      }
      v27 = v52;
      (*(void (__fastcall **)(FH4 *, __int64, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x48LL))(
        ::pCZoneSystem,
        v12,
        v14,
        v52);
      *(_QWORD *)(a1 + 0x2B8) = 0;
      *(_DWORD *)(a1 + 0x2C0) = 0xFFFFFFFF;
      (*(void (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0xC8LL))(::pCZoneSystem);
      if ( v9 )
      {
        v28 = *(_DWORD *)(v9 + 0xC);
        if ( v28 )
        {
          *(_DWORD *)(v9 + 0xC) = v28 - 1;
        }
        else
        {
          *(_DWORD *)(v9 + 8) = 0xFFFFFFFF;
          n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)v9, 0, 0x200000);
          if ( n0x200000_1 != 0x200000 )
          {
            sub_1403D8A00((volatile signed __int64 *)v9, n0x200000_1);
          }
        }
      }
      if ( dword_1497929CC )
      {
        --dword_1497929CC;
      }
      else
      {
        dword_1497929C8 = 0xFFFFFFFF;
        n0x200000_2 = _InterlockedCompareExchange64(&qword_1497929C0, 0, 0x200000);
        if ( n0x200000_2 != 0x200000 )
        {
          sub_1403D8A00(&qword_1497929C0, n0x200000_2);
        }
      }
      if ( dword_1497929DC )
      {
        --dword_1497929DC;
      }
      else
      {
        dword_1497929D8 = 0xFFFFFFFF;
        n0x200000_3 = _InterlockedCompareExchange64(&qword_1497929D0, 0, 0x200000);
        if ( n0x200000_3 != 0x200000 )
        {
          sub_1403D8A00(&qword_1497929D0, n0x200000_3);
        }
      }
      (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(
        ::pCZoneSystem,
        0x7832,
        v27);
      v32 = sub_1468DB500(a1);
      if ( v32 )
      {
        sub_1468328A0(v32);
      }
      if ( (_QWORD)pCZoneSystem )
      {
        sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v35 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
        pCZoneSystem = 0;
        v35 = 0;
      }
      v47 = __rdtsc();
      return psub_7FF6AAB93930(&n0xF00);
    }
  }
  return result;
}

// --- End Function: CEntity::DestroyZoneHost (0x1468CAB40) ---

// --- Function: sub_1468CB1C0 (0x1468CB1C0) ---
void __fastcall sub_1468CB1C0(_QWORD *a1, unsigned int a2)
{
  __int64 v2; // r8
  bool valid; // al
  unsigned __int64 v6; // rcx
  bool v7; // dl
  _QWORD *v8; // rax
  __int64 v9; // rdx
  _QWORD *v10; // rax
  _QWORD *v11; // r8
  _QWORD *i; // rax
  unsigned __int64 v13; // [rsp+30h] [rbp+8h] BYREF

  v2 = a1[0x25];
  if ( v2 && *(_QWORD *)(v2 + 0x1B8) != *(_QWORD *)(v2 + 0x1C0) )
  {
    do
    {
      v13 = **(_QWORD **)(v2 + 0x1B8);
      valid = is_valid_handle_typeB(&v13);
      v6 = v13;
      v7 = valid;
      v8 = (_QWORD *)(v13 & 0xFFFFFFFFFFFFLL);
      if ( !v7 )
      {
        v8 = 0;
      }
      if ( *a1 == *v8 )
      {
        sub_1468CCF00(v13 & 0xFFFFFFFFFFFFLL, a2, 0);
        v6 = v13;
      }
      v9 = a1[0x25];
      v10 = *(_QWORD **)(v9 + 0x1B8);
      if ( v10 != *(_QWORD **)(v9 + 0x1C0) && *v10 == v6 )
      {
        v11 = *(_QWORD **)(v9 + 0x1C0);
        for ( i = v10 + 1; i != v11; ++i )
        {
          i[0xFFFFFFFF] = *i;
          *i = 0;
        }
        *(_QWORD *)(v9 + 0x1C0) -= 8LL;
      }
      v2 = a1[0x25];
    }
    while ( *(_QWORD *)(v2 + 0x1B8) != *(_QWORD *)(v2 + 0x1C0) );
  }
}

// --- End Function: sub_1468CB1C0 (0x1468CB1C0) ---

// --- Function: sub_1468CCE80 (0x1468CCE80) ---
char __fastcall sub_1468CCE80(__int64 a1, int a2)
{
  unsigned __int64 v4; // rax
  __int64 v5; // rsi
  __int64 v6; // rax

  v4 = sub_1468DE420(a1);
  v5 = v4;
  if ( v4 )
  {
    if ( a2 > (int)0xFFFFFFFF )
    {
      v6 = sub_1468DB500(a1);
      if ( v6 )
      {
        sub_146880D90(v6, a2, 1, 1u, 1u, 1u);
      }
    }
    LOBYTE(v4) = sub_146834B10(v5, a2);
  }
  return v4;
}

// --- End Function: sub_1468CCE80 (0x1468CCE80) ---

// --- Function: sub_1468CCF00 (0x1468CCF00) ---
__int64 __fastcall sub_1468CCF00(unsigned __int64 a1, unsigned int a2, unsigned int a3)
{
  __int64 v6; // rbx
  unsigned __int8 v7; // di
  __int128 pCZoneSystem; // [rsp+20h] [rbp-28h] BYREF
  __int64 v10; // [rsp+30h] [rbp-18h]

  v10 = 0;
  pCZoneSystem = 0;
  v6 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
         ::pCZoneSystem,
         0x7832,
         &pCZoneSystem,
         0);
  v7 = CEntity::DetachThisImpl(a1, a2, a3, v6);
  (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v6);
  if ( (_QWORD)pCZoneSystem )
  {
    sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v10 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
  }
  return v7;
}

// --- End Function: sub_1468CCF00 (0x1468CCF00) ---

// --- Function: CEntity::DetachThisImpl (0x1468CCFC0) ---
__int64 __fastcall CEntity::DetachThisImpl(unsigned __int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int128 v4; // xmm6
  int v7; // ebx
  unsigned __int64 v8; // rax
  unsigned __int64 *v9; // rcx
  unsigned __int64 v10; // rdi
  int v11; // ebx
  unsigned __int64 v12; // rax
  __int64 v13; // r15
  int v14; // ebx
  unsigned __int64 v15; // rax
  __int64 v16; // r12
  int v17; // ebx
  unsigned __int64 v18; // rax
  __int64 v19; // r13
  int v20; // ebx
  unsigned __int64 v21; // rax
  unsigned __int64 *v22; // rcx
  _QWORD *v24; // rax
  int v25; // eax
  __int64 v26; // rbx
  unsigned __int64 *v27; // rcx
  __int64 v28; // rax
  double v29; // xmm0_8
  double v30; // xmm1_8
  double v31; // xmm2_8
  __int128 v32; // xmm3
  double v33; // xmm4_8
  double v34; // xmm5_8
  double v35; // xmm6_8
  unsigned __int64 a1_2; // r14
  __int64 v37; // rcx
  __int64 v38; // r9
  unsigned __int64 v39; // rbx
  __int64 v40; // rax
  unsigned __int64 *v41; // r14
  __int64 a1_1; // rax
  char v43; // dl
  unsigned __int64 v44; // rcx
  unsigned __int16 v45; // ax
  _QWORD *v46; // r8
  _QWORD *v47; // rcx
  unsigned __int64 v48; // rax
  _QWORD *v49; // rdx
  _QWORD *v50; // rcx
  __int64 v51; // rbx
  int n3; // eax
  __int64 v53; // rax
  __int64 v54; // r8
  char v55; // dl
  unsigned __int64 v56; // rcx
  unsigned __int16 v57; // ax
  __int64 v58; // rcx
  __int64 v59; // rbx
  __int64 v60; // rax
  __int64 v61; // rbx
  __int64 v62; // rax
  __int64 v63; // r8
  char v64; // dl
  unsigned __int64 v65; // rcx
  unsigned __int16 v66; // ax
  _QWORD *v67; // rax
  __int64 (__fastcall **v68)(); // rdx
  __int64 (__fastcall *p_sub_1468BFEC0_1)(); // rax
  __int64 v70; // rax
  __int64 v71; // r8
  __int64 v72; // rax
  int v73; // eax
  unsigned __int64 n0x200000_5; // rax
  int v75; // eax
  unsigned __int64 n0x200000_6; // rax
  int v77; // eax
  unsigned __int64 n0x200000_7; // rax
  unsigned __int64 n0x200000_8; // rax
  unsigned __int64 n0x200000_9; // rax
  __int64 v81; // rdi
  __int64 i; // rbx
  void (*v83)(void); // rax
  char v84; // dl
  unsigned __int64 v85; // rcx
  unsigned __int16 v86; // ax
  char v87; // dl
  unsigned __int64 v88; // rcx
  unsigned __int16 v89; // ax
  int n0x20; // edi
  signed __int64 v91; // rdx
  signed __int64 v92; // rbx
  __int64 v93; // r14
  __int64 v94; // rbx
  __int64 v95; // rcx
  _QWORD *v96; // rax
  unsigned __int8 v97; // si
  int v98; // eax
  unsigned __int64 n0x200000; // rax
  int v100; // eax
  unsigned __int64 n0x200000_1; // rax
  int v102; // eax
  unsigned __int64 n0x200000_2; // rax
  unsigned __int64 n0x200000_3; // rax
  unsigned __int64 n0x200000_4; // rax
  _QWORD *v106; // rbx
  _QWORD *v107; // rdi
  void (__fastcall *n2)(__int64, _QWORD *); // rax
  __int64 (__fastcall *p_sub_1468BE860)(); // [rsp+30h] [rbp-D0h] BYREF
  __int64 (__fastcall *p_sub_1468BFEC0)(); // [rsp+38h] [rbp-C8h]
  _QWORD *v112; // [rsp+40h] [rbp-C0h]
  __int128 v113; // [rsp+48h] [rbp-B8h] BYREF
  __int64 v114; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v115; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v116; // [rsp+68h] [rbp-98h]
  __int64 a1_3; // [rsp+70h] [rbp-90h]
  __int64 v118; // [rsp+78h] [rbp-88h]
  unsigned __int64 v119; // [rsp+80h] [rbp-80h] BYREF
  double v120; // [rsp+88h] [rbp-78h] BYREF
  double v121; // [rsp+90h] [rbp-70h]
  double v122; // [rsp+98h] [rbp-68h]
  double v123; // [rsp+A0h] [rbp-60h]
  __int128 v124; // [rsp+A8h] [rbp-58h]
  double v125; // [rsp+B8h] [rbp-48h]
  double v126; // [rsp+C0h] [rbp-40h]
  int n0xF00; // [rsp+D0h] [rbp-30h] BYREF
  __int64 v128; // [rsp+D4h] [rbp-2Ch]
  int v129; // [rsp+DCh] [rbp-24h]
  __int64 v130; // [rsp+E0h] [rbp-20h]
  unsigned __int64 v131; // [rsp+E8h] [rbp-18h]
  __int64 v132; // [rsp+F0h] [rbp-10h]
  __int64 v133; // [rsp+F8h] [rbp-8h]
  _BYTE v134[56]; // [rsp+120h] [rbp+20h] BYREF
  _BYTE v135[64]; // [rsp+158h] [rbp+58h] BYREF
  _BYTE v136[8]; // [rsp+198h] [rbp+98h] BYREF
  unsigned __int64 v137; // [rsp+1A0h] [rbp+A0h]
  __int64 v138; // [rsp+1B0h] [rbp+B0h]
  _BYTE v139[8]; // [rsp+1D0h] [rbp+D0h] BYREF
  unsigned __int64 v140; // [rsp+1D8h] [rbp+D8h]
  __int64 v141; // [rsp+1E8h] [rbp+E8h]
  __int128 v142; // [rsp+210h] [rbp+110h]

  v116 = a4;
  v128 = 0;
  v129 = 0;
  v131 = 0;
  v132 = 0;
  v133 = 0;
  n0xF00 = 0xF00;
  v130 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  v113 = 0;
  v114 = 0;
  v7 = *(_DWORD *)(a1() + 0x18);
  if ( dword_1497929D8 == v7 )
  {
    ++dword_1497929DC;
  }
  else
  {
    v8 = _InterlockedCompareExchange64(&qword_1497929D0, 0x200000, 0);
    if ( v8 )
    {
      sub_1403D85B0(&qword_1497929D0, v8, 0, (__int64)"CEntity::DetachThisImpl", (__int64)"s_aggregateHierarchyLock", 1);
    }
    dword_1497929D8 = v7;
  }
  v9 = *(unsigned __int64 **)(a1 + 0x128);
  if ( !v9 || !is_valid_handle_typeB(v9) )
  {
    goto LABEL_194;
  }
  v10 = **(_QWORD **)(a1 + 0x128);
  v11 = *(_DWORD *)(a1() + 0x18);
  if ( dword_1497929C8 == v11 )
  {
    ++dword_1497929CC;
  }
  else
  {
    v12 = _InterlockedCompareExchange64(&qword_1497929C0, 0x200000, 0);
    if ( v12 )
    {
      sub_1403D85B0(
        &qword_1497929C0,
        v12,
        0,
        (__int64)"CEntity::DetachThisImpl",
        (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
    }
    dword_1497929C8 = v11;
  }
  v13 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  v14 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(v13 + 8) == v14 )
  {
    ++*(_DWORD *)(v13 + 0xC);
  }
  else
  {
    v15 = _InterlockedCompareExchange64((volatile signed __int64 *)v13, 0x200000, 0);
    if ( v15 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)v13,
        v15,
        0,
        (__int64)"CEntity::DetachThisImpl",
        (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
        1);
    }
    *(_DWORD *)(v13 + 8) = v14;
  }
  (*(void (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0xA8LL))(pCZoneSystem);
  v16 = (**(_QWORD **)(a1 + 0x128) & 0xFFFFFFFFFFFFLL) + 0xC0;
  v17 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(v16 + 8) == v17 )
  {
    ++*(_DWORD *)(v16 + 0xC);
  }
  else
  {
    v18 = _InterlockedCompareExchange64((volatile signed __int64 *)v16, 0x200000, 0);
    if ( v18 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)v16,
        v18,
        0,
        (__int64)"CEntity::DetachThisImpl",
        (__int64)"m_pBinds->pParent->m_cross_ecus_state.updateLock",
        1);
    }
    *(_DWORD *)(v16 + 8) = v17;
  }
  v19 = a1 + 0xC0;
  v20 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(a1 + 0xC8) == v20 )
  {
    ++*(_DWORD *)(a1 + 0xCC);
  }
  else
  {
    v21 = _InterlockedCompareExchange64((volatile signed __int64 *)v19, 0x200000, 0);
    if ( v21 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)(a1 + 0xC0),
        v21,
        0,
        (__int64)"CEntity::DetachThisImpl",
        (__int64)"m_cross_ecus_state.updateLock",
        1);
    }
    *(_DWORD *)(a1 + 0xC8) = v20;
  }
  v22 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v22 && is_valid_handle_typeB(v22) && *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) == 5 )
  {
    v24 = *(_QWORD **)(a1 + 0x128);
    v142 = v4;
    v25 = CEntity::GetZoneTransform(*v24 & 0xFFFFFFFFFFFFLL, (__int64)v135, 1u);
    sub_146911E60(a1, v25, 0x26, a4, 1);
    v26 = **(_QWORD **)(a1 + 0x128) & 0xFFFFFFFFFFFFLL;
    v27 = *(unsigned __int64 **)(v26 + 0x128);
    if ( v27 && is_valid_handle_typeB(v27) && (v28 = *(_QWORD *)(v26 + 0x128), *(_DWORD *)(v28 + 0x10) == 5) )
    {
      sub_1468DBD60(*(_QWORD *)v28 & 0xFFFFFFFFFFFFLL, &v120, 2);
      v29 = v120;
      v30 = v126;
      v31 = v125;
      v32 = v124;
      v33 = v123;
      v34 = v122;
      v35 = v121;
    }
    else
    {
      v33 = *(double *)(v26 + 0x80);
      v123 = v33;
      v29 = *(double *)(v26 + 0x68);
      v120 = v29;
      v35 = *(double *)(v26 + 0x70);
      v121 = v35;
      v34 = *(double *)(v26 + 0x78);
      v122 = v34;
      v32 = *(_OWORD *)(v26 + 0x88);
      v124 = v32;
      v31 = *(double *)(v26 + 0x98);
      v125 = v31;
      v30 = *(double *)(v26 + 0xA0);
      v126 = v30;
    }
    *(double *)(a1 + 0x70) = v35;
    *(double *)(a1 + 0x68) = v29;
    *(double *)(a1 + 0x78) = v34;
    *(double *)(a1 + 0x80) = v33;
    *(_OWORD *)(a1 + 0x88) = v32;
    *(double *)(a1 + 0x98) = v31;
    *(double *)(a1 + 0xA0) = v30;
  }
  (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x140LL))(
    pCZoneSystem,
    a1 + 0x2A0,
    a4,
    0);
  a1_2 = v10 & 0xFFFFFFFFFFFFLL;
  a1_3 = v10 & 0xFFFFFFFFFFFFLL;
  v37 = *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 0x128);
  if ( !v37 )
  {
    sub_14683B580(
      "Specified parent %s of %s does not have a binds structure. Something is very wrong!",
      *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 0x290),
      *(_QWORD *)(a1 + 0x290));
    goto LABEL_176;
  }
  v38 = v37 + 0x1B8;
  v39 = 0;
  v40 = (__int64)(*(_QWORD *)(v37 + 0x1C0) - *(_QWORD *)(v37 + 0x1B8)) >> 3;
  v118 = v37 + 0x1B8;
  if ( v40 )
  {
    do
    {
      if ( (__int64)(*(_QWORD *)(v37 + 0x1C0) - *(_QWORD *)(v37 + 0x1B8)) >> 3 <= v39 )
      {
        __debugbreak();
      }
      v41 = (unsigned __int64 *)(*(_QWORD *)(v37 + 0x1B8) + 8 * v39);
      if ( is_valid_handle_typeB(v41) )
      {
        a1_1 = *v41 & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        a1_1 = 0;
      }
      a1_2 = a1_3;
      if ( a1_1 == a1 )
      {
        break;
      }
      v37 = *(_QWORD *)(a1_3 + 0x128);
      ++v39;
    }
    while ( v39 < (__int64)(*(_QWORD *)(v37 + 0x1C0) - *(_QWORD *)(v37 + 0x1B8)) >> 3 );
    v38 = v118;
    v19 = a1 + 0xC0;
  }
  if ( ::a1_1 > a1 || a1 >= qword_15126E3D8 + ::a1_1 )
  {
    v43 = 0;
    v44 = a1 - 6;
  }
  else
  {
    v43 = 1;
    v44 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v45 = *(_WORD *)(v44 + 2) | 0x2000;
  v46 = *(_QWORD **)(v38 + 8);
  if ( !v43 )
  {
    v45 = *(_WORD *)(v44 + 2);
  }
  v47 = *(_QWORD **)v38;
  v48 = a1 | ((unsigned __int64)v45 << 0x30);
  if ( *(_QWORD **)v38 == v46 )
  {
LABEL_59:
    sub_14683B580(
      "Could not find Entity %s in child list of parent %s",
      *(_QWORD *)(a1 + 0x290),
      *(_QWORD *)(a1_2 + 0x290));
LABEL_176:
    if ( v19 )
    {
      v98 = *(_DWORD *)(v19 + 0xC);
      if ( v98 )
      {
        *(_DWORD *)(v19 + 0xC) = v98 - 1;
      }
      else
      {
        *(_DWORD *)(v19 + 8) = 0xFFFFFFFF;
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v19, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
        {
          sub_1403D8A00((volatile signed __int64 *)v19, n0x200000);
        }
      }
    }
    v100 = *(_DWORD *)(v16 + 0xC);
    if ( v100 )
    {
      *(_DWORD *)(v16 + 0xC) = v100 - 1;
    }
    else
    {
      *(_DWORD *)(v16 + 8) = 0xFFFFFFFF;
      n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)v16, 0, 0x200000);
      if ( n0x200000_1 != 0x200000 )
      {
        sub_1403D8A00((volatile signed __int64 *)v16, n0x200000_1);
      }
    }
    if ( v13 )
    {
      v102 = *(_DWORD *)(v13 + 0xC);
      if ( v102 )
      {
        *(_DWORD *)(v13 + 0xC) = v102 - 1;
      }
      else
      {
        *(_DWORD *)(v13 + 8) = 0xFFFFFFFF;
        n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)v13, 0, 0x200000);
        if ( n0x200000_2 != 0x200000 )
        {
          sub_1403D8A00((volatile signed __int64 *)v13, n0x200000_2);
        }
      }
    }
    if ( dword_1497929CC )
    {
      --dword_1497929CC;
    }
    else
    {
      dword_1497929C8 = 0xFFFFFFFF;
      n0x200000_3 = _InterlockedCompareExchange64(&qword_1497929C0, 0, 0x200000);
      if ( n0x200000_3 != 0x200000 )
      {
        sub_1403D8A00(&qword_1497929C0, n0x200000_3);
      }
    }
LABEL_194:
    if ( dword_1497929DC )
    {
      --dword_1497929DC;
    }
    else
    {
      dword_1497929D8 = 0xFFFFFFFF;
      n0x200000_4 = _InterlockedCompareExchange64(&qword_1497929D0, 0, 0x200000);
      if ( n0x200000_4 != 0x200000 )
      {
        sub_1403D8A00(&qword_1497929D0, n0x200000_4);
      }
    }
    v97 = 0;
    goto LABEL_199;
  }
  while ( 1 )
  {
    v49 = v47 + 1;
    if ( *v47 == v48 )
    {
      break;
    }
    ++v47;
    if ( v49 == v46 )
    {
      goto LABEL_59;
    }
  }
  for ( ; v49 != v46; ++v49 )
  {
    v49[0xFFFFFFFF] = *v49;
    *v49 = 0;
  }
  *(_QWORD *)(v38 + 8) -= 8LL;
  v50 = *(_QWORD **)(a1 + 0x128);
  v119 = v48;
  *v50 = 0;
  sub_1468FF7F0(a1, &v119);
  sub_146908FD0(a1);
  CEntity::ChangeOwnerEntity(a1, 0, 1);
  v51 = *(_QWORD *)(a1 + 0x128);
  n3 = *(_DWORD *)(v51 + 0x10);
  if ( n3 == 3 )
  {
    if ( *(_WORD *)(v51 + 0x148) != 0xFFFF )
    {
      v53 = sub_1468D6BB0(a1_2, *(unsigned int *)(v51 + 0x144));
      if ( v53 )
      {
        v54 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v53 + 0x30LL))(v53);
        if ( ::a1_1 > a1
          || a1 >= qword_15126E3D8 + ::a1_1 )
        {
          v55 = 0;
          v56 = a1 - 6;
        }
        else
        {
          v55 = 1;
          v56 = a1 & 0xFFFFFFFFFF000000uLL;
        }
        v57 = *(_WORD *)(v56 + 2) | 0x2000;
        if ( !v55 )
        {
          v57 = *(_WORD *)(v56 + 2);
        }
        (*(void (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)v54 + 0x2E8LL))(
          v54,
          a1 | ((unsigned __int64)v57 << 0x30));
      }
    }
    goto LABEL_72;
  }
  if ( n3 == 4 )
  {
    if ( *(_BYTE *)(v51 + 0x138) != 1 )
    {
      sub_1403DC060();
    }
    v61 = *(_QWORD *)(v51 + 0x18);
    if ( v61 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v61 + 8LL))(v61);
    }
    if ( *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) != 0xFFFF )
    {
      v62 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v61 + 0xB8LL))(v61);
      if ( v62 )
      {
        v63 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v62 + 0x30LL))(v62);
        if ( ::a1_1 > a1
          || a1 >= qword_15126E3D8 + ::a1_1 )
        {
          v64 = 0;
          v65 = a1 - 6;
        }
        else
        {
          v64 = 1;
          v65 = a1 & 0xFFFFFFFFFF000000uLL;
        }
        v66 = *(_WORD *)(v65 + 2) | 0x2000;
        if ( !v64 )
        {
          v66 = *(_WORD *)(v65 + 2);
        }
        (*(void (__fastcall **)(__int64, unsigned __int64))(*(_QWORD *)v63 + 0x2E8LL))(
          v63,
          a1 | ((unsigned __int64)v66 << 0x30));
      }
    }
    if ( v61 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v61 + 8LL))(v61);
    }
    v67 = (_QWORD *)allocWithoutProfiling(8u);
    if ( v67 )
    {
      *v67 = v61;
      v112 = v67;
      p_sub_1468BE860 = sub_1468BE860;
      p_sub_1468BFEC0 = sub_1468BFEC0;
    }
    else
    {
      v112 = 0;
      p_sub_1468BE860 = sub_1468BE860;
      p_sub_1468BFEC0 = sub_1468BFEC0;
      if ( v61 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v61 + 0x10LL))(v61);
      }
    }
    v68 = (__int64 (__fastcall **)())*((_QWORD *)&v113 + 1);
    if ( *((_QWORD *)&v113 + 1) == v114 )
    {
      sub_1468A5AA0((__int64)&v113);
      p_sub_1468BFEC0_1 = p_sub_1468BFEC0;
      goto LABEL_108;
    }
    **((_QWORD **)&v113 + 1) = 0;
    v68[1] = 0;
    v68[2] = 0;
    p_sub_1468BFEC0_1 = p_sub_1468BFEC0;
    if ( p_sub_1468BFEC0 == (__int64 (__fastcall *)())1 )
    {
      *v68 = p_sub_1468BE860;
      v68[1] = p_sub_1468BFEC0;
    }
    else
    {
      if ( !p_sub_1468BFEC0 )
      {
LABEL_106:
        *((_QWORD *)&v113 + 1) += 0x18LL;
LABEL_108:
        if ( (unsigned __int64)p_sub_1468BFEC0_1 >= 2 )
        {
          ((void (__fastcall *)(__int64, __int64 (__fastcall **)()))p_sub_1468BFEC0_1)(2, &p_sub_1468BE860);
        }
        if ( v61 )
        {
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v61 + 0x10LL))(v61);
        }
        goto LABEL_72;
      }
      ((void (__fastcall *)(__int64, __int64 (__fastcall **)(), __int64 (__fastcall **)()))p_sub_1468BFEC0)(
        1,
        v68,
        &p_sub_1468BE860);
    }
    p_sub_1468BFEC0_1 = p_sub_1468BFEC0;
    if ( (unsigned __int64)p_sub_1468BFEC0 >= 2 )
    {
      ((void (__fastcall *)(__int64, __int64 (__fastcall **)()))p_sub_1468BFEC0)(2, &p_sub_1468BE860);
      p_sub_1468BFEC0_1 = 0;
      p_sub_1468BFEC0 = 0;
    }
    p_sub_1468BE860 = 0;
    goto LABEL_106;
  }
LABEL_72:
  v58 = *(_QWORD *)(a1 + 0x128);
  if ( (*(_DWORD *)(v58 + 0x140) & 0xA) == 2 )
  {
    v59 = *(_QWORD *)(a1_2 + 0x2A8);
    v115 = v10;
    if ( *(_DWORD *)(v58 + 0x10) != 9 && is_valid_handle_typeB(&v115) )
    {
      while ( !*(_QWORD *)((v115 & 0xFFFFFFFFFFFFLL) + 0x2B8) )
      {
        v60 = *(_QWORD *)((v115 & 0xFFFFFFFFFFFFLL) + 0x128);
        if ( *(_DWORD *)(v60 + 0x10) != 9 )
        {
          v115 = *(_QWORD *)v60;
          if ( is_valid_handle_typeB(&v115) )
          {
            continue;
          }
        }
        goto LABEL_113;
      }
      v59 = *(_QWORD *)((v115 & 0xFFFFFFFFFFFFLL) + 0x2A8);
    }
LABEL_113:
    while ( 1 )
    {
      v70 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v59 + 0x20LL))(v59);
      if ( v70 )
      {
        if ( *(_BYTE *)(v70 + 0xD) < 5u && (*(_BYTE *)(v70 + 8) & 8) == 0 )
        {
          break;
        }
      }
      if ( v59 == (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0x10LL))(pCZoneSystem) )
      {
        break;
      }
      v59 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v59 + 8LL))(v59);
    }
    v71 = *(_QWORD *)(a1 + 0x2A8);
    if ( v59 != v71 )
    {
      v72 = (*(__int64 (__fastcall **)(FH4 *, _BYTE *, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x480LL))(
              pCZoneSystem,
              v134,
              v71,
              v59);
      CEntity::MoveToZoneImpl(a1, v59, v72, 1, v116, 0);
    }
  }
  else
  {
    (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x148LL))(
      pCZoneSystem,
      a1 + 0x2A0,
      v116,
      0);
  }
  if ( v19 )
  {
    v73 = *(_DWORD *)(v19 + 0xC);
    if ( v73 )
    {
      *(_DWORD *)(v19 + 0xC) = v73 - 1;
    }
    else
    {
      *(_DWORD *)(v19 + 8) = 0xFFFFFFFF;
      n0x200000_5 = _InterlockedCompareExchange64((volatile signed __int64 *)v19, 0, 0x200000);
      if ( n0x200000_5 != 0x200000 )
      {
        sub_1403D8A00((volatile signed __int64 *)v19, n0x200000_5);
      }
    }
  }
  v75 = *(_DWORD *)(v16 + 0xC);
  if ( v75 )
  {
    *(_DWORD *)(v16 + 0xC) = v75 - 1;
  }
  else
  {
    *(_DWORD *)(v16 + 8) = 0xFFFFFFFF;
    n0x200000_6 = _InterlockedCompareExchange64((volatile signed __int64 *)v16, 0, 0x200000);
    if ( n0x200000_6 != 0x200000 )
    {
      sub_1403D8A00((volatile signed __int64 *)v16, n0x200000_6);
    }
  }
  if ( v13 )
  {
    v77 = *(_DWORD *)(v13 + 0xC);
    if ( v77 )
    {
      *(_DWORD *)(v13 + 0xC) = v77 - 1;
    }
    else
    {
      *(_DWORD *)(v13 + 8) = 0xFFFFFFFF;
      n0x200000_7 = _InterlockedCompareExchange64((volatile signed __int64 *)v13, 0, 0x200000);
      if ( n0x200000_7 != 0x200000 )
      {
        sub_1403D8A00((volatile signed __int64 *)v13, n0x200000_7);
      }
    }
  }
  if ( dword_1497929CC )
  {
    --dword_1497929CC;
  }
  else
  {
    dword_1497929C8 = 0xFFFFFFFF;
    n0x200000_8 = _InterlockedCompareExchange64(&qword_1497929C0, 0, 0x200000);
    if ( n0x200000_8 != 0x200000 )
    {
      sub_1403D8A00(&qword_1497929C0, n0x200000_8);
    }
  }
  if ( dword_1497929DC )
  {
    --dword_1497929DC;
  }
  else
  {
    dword_1497929D8 = 0xFFFFFFFF;
    n0x200000_9 = _InterlockedCompareExchange64(&qword_1497929D0, 0, 0x200000);
    if ( n0x200000_9 != 0x200000 )
    {
      sub_1403D8A00(&qword_1497929D0, n0x200000_9);
    }
  }
  v81 = *((_QWORD *)&v113 + 1);
  for ( i = v113; i != v81; i += 0x18 )
  {
    v83 = *(void (**)(void))i;
    if ( *(_QWORD *)(i + 8) == 1 )
    {
      v83();
    }
    else
    {
      ((void (__fastcall *)(__int64))v83)(i);
    }
  }
  sub_140368960(v136, 8);
  if ( ::a1_1 > a1 || a1 >= qword_15126E3D8 + ::a1_1 )
  {
    v84 = 0;
    v85 = a1 - 6;
  }
  else
  {
    v84 = 1;
    v85 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v86 = *(_WORD *)(v85 + 2) | 0x2000;
  if ( !v84 )
  {
    v86 = *(_WORD *)(v85 + 2);
  }
  v137 = a1 | ((unsigned __int64)v86 << 0x30);
  v138 = *(_QWORD *)(a1 + 0x10);
  sub_1468FF140(a1_2, v136);
  sub_140368960(v139, 9);
  if ( ::a1_1 > a1_2
    || a1_2 >= qword_15126E3D8 + ::a1_1 )
  {
    v87 = 0;
    v88 = a1_2 - 6;
  }
  else
  {
    v87 = 1;
    v88 = a1_2 & 0xFFFFFFFFFF000000uLL;
  }
  v89 = *(_WORD *)(v88 + 2) | 0x2000;
  if ( !v87 )
  {
    v89 = *(_WORD *)(v88 + 2);
  }
  v140 = a1_2 | ((unsigned __int64)v89 << 0x30);
  v141 = *(_QWORD *)(a1_2 + 0x10);
  sub_1468FF140(a1, v139);
  n0x20 = *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) & 0x60;
  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v91 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v91 & 0x200000) != 0 )
    {
      sub_1403C6C70(&qword_1497929D0, v91, (__int64)"CEntity::DetachThisImpl", (__int64)"s_aggregateHierarchyLock", 1);
    }
  }
  if ( dword_1497929C8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929CC;
  }
  else
  {
    v92 = _InterlockedIncrement64(&qword_1497929C0);
    if ( (v92 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929C0,
        v92,
        (__int64)"CEntity::DetachThisImpl",
        (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
    }
  }
  v93 = v116;
  sub_1468CC550(a1, (*(_BYTE *)(a1 + 8) & 1) == 0, v116, 0);
  v94 = *(_QWORD *)(a1 + 0x128);
  if ( *(_BYTE *)(v94 + 0x138) == 1 )
  {
    v95 = *(_QWORD *)(v94 + 0x18);
    *(_QWORD *)(v94 + 0x18) = 0;
    if ( v95 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v95 + 0x10LL))(v95);
    }
  }
  else
  {
    sub_14222D1C0(v94 + 0x18);
    *(_QWORD *)(v94 + 0x18) = 0;
    *(_BYTE *)(v94 + 0x138) = 1;
  }
  *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) = 0;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) = 0;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x144LL) = 0xFFFFFFFF;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x14CLL) = 0;
  *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) = 0xFFFF;
  *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x14ALL) = 0xFFFF;
  v96 = (_QWORD *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
  *v96 = 0;
  v96[1] = 0;
  v96[2] = 0;
  v96[3] = 0x3FF0000000000000LL;
  v96[4] = 0;
  v96[5] = 0;
  v96[6] = 0;
  v96[7] = 0x3FF0000000000000LL;
  sub_1402D0950((__int64)&qword_1497929C0);
  sub_1402D0950((__int64)&qword_1497929D0);
  *(_DWORD *)(a1 + 8) &= ~0x20u;
  if ( n0x20 == 0x20 )
  {
    CEntity::Hide(a1, 0, 1, v93);
  }
  v97 = 1;
LABEL_199:
  v106 = (_QWORD *)v113;
  if ( (_QWORD)v113 )
  {
    v107 = (_QWORD *)*((_QWORD *)&v113 + 1);
    if ( (_QWORD)v113 != *((_QWORD *)&v113 + 1) )
    {
      do
      {
        n2 = (void (__fastcall *)(__int64, _QWORD *))v106[1];
        if ( (unsigned __int64)n2 >= 2 )
        {
          n2(2, v106);
          v106[1] = 0;
        }
        *v106 = 0;
        v106 += 3;
      }
      while ( v106 != v107 );
      v106 = (_QWORD *)v113;
    }
    sub_14039EFB0((__int64)&v113, v106, 0x18 * ((v114 - (__int64)v106) / 0x18));
    v113 = 0;
    v114 = 0;
  }
  v131 = __rdtsc();
  psub_7FF6AAB93930(&n0xF00);
  return v97;
}

// --- End Function: CEntity::DetachThisImpl (0x1468CCFC0) ---

// --- Function: sub_1468CDF50 (0x1468CDF50) ---
__int64 __fastcall sub_1468CDF50(unsigned __int64 *a1, unsigned __int64 a2)
{
  __int64 (__fastcall *v4)(unsigned __int64 *, char *, unsigned __int64 *); // rdi
  __int16 n0xFFFF; // ax
  unsigned __int64 v6; // rdi
  __int64 handle_metadata_ptr_1; // rax
  __int16 n4_1; // dx
  __int64 v10; // rcx
  unsigned __int16 n0xFFFF_1; // ax
  __int16 v12; // rbx^6
  unsigned __int64 v13; // rdi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // cx
  __int64 v16; // rcx
  unsigned __int64 v17; // rax
  char v18[56]; // [rsp+20h] [rbp-38h] BYREF
  unsigned __int64 v19; // [rsp+60h] [rbp+8h] BYREF
  unsigned __int64 v20; // [rsp+78h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(unsigned __int64 *, char *, unsigned __int64 *))(*a1 + 0x338);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                             + 0x10LL))(
                          global_dispatcher_ptr,
                          &v20,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v19) = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v18, &v19);
  v19 = v6;
  if ( v6
    && (handle_metadata_ptr_1 = get_handle_metadata_ptr(v6 & 0xFFFFFFFFFFFFLL),
        n4_1 = *(_WORD *)(handle_metadata_ptr_1 + 4),
        n4_1 != 4)
    && *(_WORD *)(handle_metadata_ptr_1 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4_1 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v19)) )
  {
    (*(void (__fastcall **)(unsigned __int64, unsigned __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x730LL))(
      v6 & 0xFFFFFFFFFFFFLL,
      a2);
    return 1;
  }
  else
  {
    if ( a2 )
    {
      v10 = a2 & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a2) )
      {
        goto LABEL_12;
      }
    }
    n0xFFFF_1 = n0xFFFF_98;
    if ( n0xFFFF_98 == (__int16)0xFFFF )
    {
      n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                                 + 0x10LL))(
                              global_dispatcher_ptr,
                              &v19,
                              "RopeProxy");
      n0xFFFF_98 = n0xFFFF_1;
    }
    if ( *((_BYTE *)a1 + 0xD) == 7 )
    {
      return 0;
    }
    sub_1468D6F90(a1, &v20, n0xFFFF_1);
    v12 = HIWORD(v20);
    v19 = v20;
    if ( !v20 )
    {
      return 0;
    }
    v13 = v20 & 0xFFFFFFFFFFFFLL;
    handle_metadata_ptr = get_handle_metadata_ptr(v20 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n4 == 4 || *(_WORD *)(handle_metadata_ptr + 2) != (v12 & 0xFFF) )
    {
      return 0;
    }
    if ( (n4 != 2 || *(_QWORD *)a1()) && !check_handle_access_by_state(&v19) )
    {
      return 0;
    }
    v16 = *(_QWORD *)(v13 + 0x70);
    if ( v16
      && (v17 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v16 + 0xE8LL))(v16, &v19)) != 0
      && (v10 = v17 & 0xFFFFFFFFFFFFLL, *(_QWORD *)((v17 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v17)) )
    {
LABEL_12:
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v10 + 0x58LL))(v10, 0);
      return 1;
    }
    else
    {
      return 0;
    }
  }
}

// --- End Function: sub_1468CDF50 (0x1468CDF50) ---

// --- Function: CEntity::DoesEntityHostVisAreas (0x1468CE890) ---
char __fastcall CEntity::DoesEntityHostVisAreas(__int64 a1)
{
  unsigned __int64 v1; // rax
  __int64 v2; // rbp
  __int64 v3; // rdi
  signed __int64 v4; // rdx
  int v5; // ebx
  int v6; // esi
  __int64 v7; // rax
  __int64 v8; // rax

  v1 = sub_1468DE420(a1);
  v2 = v1;
  if ( v1 )
  {
    v3 = v1 + 0x208;
    if ( *(_DWORD *)(v1 + 0x210) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v3 + 0xC);
    }
    else
    {
      v4 = _InterlockedIncrement64((volatile signed __int64 *)v3);
      if ( (v4 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v3,
          v4,
          (__int64)"CEntity::DoesEntityHostVisAreas",
          (__int64)"pRenderProxy->GetSlotLock()",
          1);
      }
    }
    v5 = 0;
    v6 = sub_14684E9E0(v2);
    if ( v6 <= 0 )
    {
LABEL_11:
      sub_1402D0950(v3);
      LOBYTE(v1) = 0;
    }
    else
    {
      while ( 1 )
      {
        v7 = sub_146842AF0(v2, v5);
        if ( v7 )
        {
          v8 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x30LL))(v7);
          if ( v8 )
          {
            if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x1C0LL))(v8) )
            {
              break;
            }
          }
        }
        if ( ++v5 >= v6 )
        {
          goto LABEL_11;
        }
      }
      sub_1402D0950(v3);
      LOBYTE(v1) = 1;
    }
  }
  return v1;
}

// --- End Function: CEntity::DoesEntityHostVisAreas (0x1468CE890) ---

// --- Function: sub_1468CF220 (0x1468CF220) ---
void __fastcall sub_1468CF220(__int64 a1)
{
  int v2; // ebx
  int v3; // edi
  __int64 v4; // rsi
  __int64 v5; // rbp
  const char *v6; // rax
  int v7; // eax
  const char *p_true_1; // rdx
  const char *p_true; // r8

  v2 = *(_DWORD *)(a1 + 0x110);
  v3 = *(unsigned __int8 *)(a1 + 0xD);
  v4 = *(_QWORD *)(a1 + 0x10);
  v5 = (__int64)(*(_QWORD *)(a1 + 0x240) - *(_QWORD *)(a1 + 0x238)) >> 3;
  v6 = (const char *)(*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x18LL))(*(_QWORD *)(a1 + 0x20));
  LogTraceConditional(
    "%s: Class=%s, Id=%llu, State=%d, Flags=%u, Components=%zu",
    *(const char **)(a1 + 0x290),
    v6,
    v4,
    v3,
    v2,
    v5);
  v7 = *(_DWORD *)(a1 + 8);
  p_true_1 = "false";
  p_true = "false";
  if ( (v7 & 8) != 0 )
  {
    p_true = "true";
  }
  if ( (v7 & 4) != 0 )
  {
    p_true_1 = "true";
  }
  LogTraceConditional("EventListeners=%s, RemoveRequested=%s", p_true_1, p_true);
}

// --- End Function: sub_1468CF220 (0x1468CF220) ---

// --- Function: CEntity::DumpOwnerInfo (0x1468D1660) ---
unsigned __int64 __fastcall CEntity::DumpOwnerInfo(unsigned __int64 entity)
{
  signed __int64 v2; // rdx
  char v3; // dl
  unsigned __int64 v4; // rcx
  unsigned __int16 v5; // ax
  unsigned __int64 i; // rcx
  __int64 v7; // rbx
  bool v8; // al
  unsigned __int64 v10; // [rsp+40h] [rbp+8h] BYREF

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v2 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v2 & 0x200000) != 0 )
    {
      sub_1403C6C70(&qword_1497929D0, v2, (__int64)"CEntity::DumpOwnerInfo", (__int64)"s_aggregateHierarchyLock", 1);
    }
  }
  if ( a1_1 > entity || entity >= qword_15126E3D8 + a1_1 )
  {
    v3 = 0;
    v4 = entity - 6;
  }
  else
  {
    v3 = 1;
    v4 = entity & 0xFFFFFFFFFF000000uLL;
  }
  v5 = *(_WORD *)(v4 + 2) | 0x2000;
  if ( !v3 )
  {
    v5 = *(_WORD *)(v4 + 2);
  }
  for ( i = entity | ((unsigned __int64)v5 << 0x30); ; i = *(_QWORD *)((v10 & 0xFFFFFFFFFFFFLL) + 0x310) )
  {
    v10 = i;
    if ( !i )
    {
      break;
    }
    v7 = (i & 0xF000000000000000uLL) != 0 ? i & 0xFFFFFF000000LL : (i & 0xFFFFFFFFFFFFLL) - 6;
    if ( *(_WORD *)(v7 + 2) != (HIWORD(i) & 0xFFF) )
    {
      break;
    }
    if ( *(_BYTE *)(a1() + 0x25) || (v8 = is_thread_flag_57_or_38_set()) )
    {
      v8 = 1;
    }
    if ( (*(_WORD *)(v7 + 4) != 2 || !v8) && !check_handle_access_by_state_extended(&v10) )
    {
      break;
    }
    sub_1468F26E0(v10 & 0xFFFFFFFFFFFFLL);
  }
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: CEntity::DumpOwnerInfo (0x1468D1660) ---

// --- Function: sub_1468D2420 (0x1468D2420) ---
__int64 __fastcall sub_1468D2420(unsigned __int64 *a1, unsigned __int64 a2)
{
  __int64 (__fastcall *v4)(unsigned __int64 *, char *, unsigned __int64 *); // rdi
  __int16 n0xFFFF; // ax
  unsigned __int64 v6; // rdi
  __int64 handle_metadata_ptr_1; // rax
  __int16 n4_1; // dx
  __int64 v10; // rcx
  unsigned __int16 n0xFFFF_1; // ax
  __int16 v12; // rbx^6
  unsigned __int64 v13; // rdi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // cx
  __int64 v16; // rcx
  unsigned __int64 v17; // rax
  char v18[56]; // [rsp+20h] [rbp-38h] BYREF
  unsigned __int64 v19; // [rsp+60h] [rbp+8h] BYREF
  unsigned __int64 v20; // [rsp+78h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(unsigned __int64 *, char *, unsigned __int64 *))(*a1 + 0x338);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                             + 0x10LL))(
                          global_dispatcher_ptr,
                          &v20,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v19) = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v18, &v19);
  v19 = v6;
  if ( v6
    && (handle_metadata_ptr_1 = get_handle_metadata_ptr(v6 & 0xFFFFFFFFFFFFLL),
        n4_1 = *(_WORD *)(handle_metadata_ptr_1 + 4),
        n4_1 != 4)
    && *(_WORD *)(handle_metadata_ptr_1 + 2) == (HIWORD(v6) & 0xFFF)
    && (n4_1 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v19)) )
  {
    (*(void (__fastcall **)(unsigned __int64, unsigned __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x728LL))(
      v6 & 0xFFFFFFFFFFFFLL,
      a2);
    return 1;
  }
  else
  {
    if ( a2 )
    {
      v10 = a2 & 0xFFFFFFFFFFFFLL;
      if ( *(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a2) )
      {
        goto LABEL_12;
      }
    }
    n0xFFFF_1 = n0xFFFF_98;
    if ( n0xFFFF_98 == (__int16)0xFFFF )
    {
      n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                                 + 0x10LL))(
                              global_dispatcher_ptr,
                              &v19,
                              "RopeProxy");
      n0xFFFF_98 = n0xFFFF_1;
    }
    if ( *((_BYTE *)a1 + 0xD) == 7 )
    {
      return 0;
    }
    sub_1468D6F90(a1, &v20, n0xFFFF_1);
    v12 = HIWORD(v20);
    v19 = v20;
    if ( !v20 )
    {
      return 0;
    }
    v13 = v20 & 0xFFFFFFFFFFFFLL;
    handle_metadata_ptr = get_handle_metadata_ptr(v20 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n4 == 4 || *(_WORD *)(handle_metadata_ptr + 2) != (v12 & 0xFFF) )
    {
      return 0;
    }
    if ( (n4 != 2 || *(_QWORD *)a1()) && !check_handle_access_by_state(&v19) )
    {
      return 0;
    }
    v16 = *(_QWORD *)(v13 + 0x70);
    if ( v16
      && (v17 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v16 + 0xE8LL))(v16, &v19)) != 0
      && (v10 = v17 & 0xFFFFFFFFFFFFLL, *(_QWORD *)((v17 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v17)) )
    {
LABEL_12:
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v10 + 0x60LL))(v10, 0);
      return 1;
    }
    else
    {
      return 0;
    }
  }
}

// --- End Function: sub_1468D2420 (0x1468D2420) ---

// --- Function: sub_1468D2630 (0x1468D2630) ---
char __fastcall sub_1468D2630(__int64 a1, unsigned __int8 a2, unsigned int a3, char a4)
{
  __int64 v7; // rax
  __int64 v8; // rbx

  v7 = sub_1468DB500(a1);
  v8 = v7;
  if ( v7 )
  {
    LOBYTE(v7) = sub_146809370(v7);
    if ( !(_BYTE)v7 )
    {
      (*(void (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0xF0LL))(pCZoneSystem);
      sub_14683AB30(v8, a2, a3, a4, 0);
      LOBYTE(v7) = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0xF8LL))(pCZoneSystem);
    }
  }
  return v7;
}

// --- End Function: sub_1468D2630 (0x1468D2630) ---

// --- Function: sub_1468D26C0 (0x1468D26C0) ---
__int64 __fastcall sub_1468D26C0(__int64 a1, __int64 a2)
{
  unsigned __int8 v3; // di
  __int64 v4; // rax
  __int64 v5; // rsi
  __int64 v6; // rdx

  v3 = (*(_BYTE *)(a1 + 8) & 1) == 0;
  v4 = sub_1468DB500(a1);
  v5 = v4;
  if ( v4 && !sub_146809370(v4) )
  {
    (*(void (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0xF0LL))(pCZoneSystem);
    sub_14683AB30(v5, v3, 0x13u, 0, 0);
    (*(void (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0xF8LL))(pCZoneSystem);
  }
  v6 = *(unsigned int *)((a2 & 0xFFFFFFFFFFFFLL) + 0x80);
  LODWORD(v6) = v6 | 0x100;
  return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 0x78) + 0x1A0LL))(
           (a2 & 0xFFFFFFFFFFFFLL) + 0x78,
           v6);
}

// --- End Function: sub_1468D26C0 (0x1468D26C0) ---

// --- Function: CEntity::Export (0x1468D2770) ---
__int64 __fastcall CEntity::Export(__int64 a1, _QWORD *a2)
{
  __int64 result; // rax
  _QWORD *v5; // rsi
  _QWORD *v6; // rdi
  __int64 i; // rcx
  __int64 *v8; // rbx
  __int64 v9; // rax
  void (__fastcall *v10)(__int64 *, __int64 *); // rbp
  __int64 v11; // rbx
  void (__fastcall *v12)(__int64, __int64); // rbp
  __int64 v13; // rax
  _QWORD *v14; // rbx
  __int64 v15; // [rsp+50h] [rbp+8h] BYREF
  __int64 v16; // [rsp+58h] [rbp+10h] BYREF
  __int64 v17; // [rsp+60h] [rbp+18h] BYREF

  if ( !(_BYTE)isEditor )
  {
    LogFatalError("CEntity::Export should only be called in editor");
  }
  result = (*(__int64 (__fastcall **)(Parameter *, __int64 *, const ULONG_PTR *, _QWORD))(*(_QWORD *)CSystem + 0x3A0LL))(
             CSystem,
             &v15,
             &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
             0);
  v5 = *(_QWORD **)(a1 + 0x240);
  v6 = *(_QWORD **)(a1 + 0x238);
  for ( i = v15; v6 != v5; ++v6 )
  {
    v8 = (__int64 *)(*v6 & 0xFFFFFFFFFFFFLL);
    v9 = *v8;
    v16 = i;
    v10 = *(void (__fastcall **)(__int64 *, __int64 *))(v9 + 0x18);
    if ( i )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
    }
    v10(v8, &v16);
    if ( (*(int (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x158LL))(v15) > 0
      || (result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x50LL))(v15), (int)result > 0) )
    {
      v11 = v15;
      v12 = *(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v15 + 0x40LL);
      v13 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)global_dispatcher_ptr + 0x20LL))(
              global_dispatcher_ptr,
              *(unsigned __int16 *)((*v6 & 0xFFFFFFFFFFFFLL) + 0x10));
      v12(v11, v13);
      (*(void (__fastcall **)(_QWORD, __int64 *))(*(_QWORD *)*a2 + 0x120LL))(*a2, &v15);
      v14 = (_QWORD *)(*(__int64 (__fastcall **)(Parameter *, __int64 *, const ULONG_PTR *, _QWORD))(*(_QWORD *)CSystem + 0x3A0LL))(
                        CSystem,
                        &v17,
                        &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
                        0);
      if ( *v14 )
      {
        (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*v14 + 0x20LL))(*v14);
      }
      if ( v15 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x28LL))(v15);
      }
      result = v17;
      i = *v14;
      v15 = *v14;
      if ( !v17 )
      {
        continue;
      }
      result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x28LL))(v17);
    }
    i = v15;
  }
  if ( i )
  {
    result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x28LL))(i);
  }
  if ( *a2 )
  {
    return (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x28LL))(*a2);
  }
  return result;
}

// --- End Function: CEntity::Export (0x1468D2770) ---

// --- Function: sub_1468D2930 (0x1468D2930) ---
__int64 __fastcall sub_1468D2930(__int64 a1, unsigned int a2)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  __int64 v6; // [rsp+20h] [rbp-38h] BYREF
  __int128 v7; // [rsp+30h] [rbp-28h]
  __int128 v8; // [rsp+40h] [rbp-18h]

  v8 = v2;
  v7 = v3;
  sub_1467F4290(a1, &v6);
  return sub_14683E260(v6 & 0xFFFFFFFFFFFFLL, a2);
}

// --- End Function: sub_1468D2930 (0x1468D2930) ---

// --- Function: sub_1468D4CC0 (0x1468D4CC0) ---
unsigned __int64 __fastcall sub_1468D4CC0(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::ForEachAggregateInStreamingGroup",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
  {
    v7 = *(_WORD *)(v6 + 2);
  }
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(_QWORD **)(a1 + 0x300);
  for ( i = *(_QWORD **)(a1 + 0x2F8); i != v8; ++i )
  {
    sub_1468D4DE0(*i & 0xFFFFFFFFFFFFLL, a2);
  }
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: sub_1468D4CC0 (0x1468D4CC0) ---

// --- Function: sub_1468D4DE0 (0x1468D4DE0) ---
char __fastcall sub_1468D4DE0(unsigned __int64 a1, __int64 a2)
{
  __int64 v4; // rax
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rdi
  _QWORD *i; // rbx

  LOBYTE(v4) = sub_1468E7C70(a1);
  if ( !(_BYTE)v4 )
  {
    if ( (*(_BYTE *)(a1 + 0x4F0) & 3) == 0
      || (LOBYTE(v4) = is_valid_handle_typeB((unsigned __int64 *)(a1 + 0x4D8)), !(_BYTE)v4)
      && (v4 = *(_QWORD *)(a1 + 0x18), *(_QWORD *)(a1 + 0x4E0) == v4) )
    {
      if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
      {
        v5 = 0;
        v6 = a1 - 6;
      }
      else
      {
        v5 = 1;
        v6 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      v7 = *(_WORD *)(v6 + 2) | 0x2000;
      if ( !v5 )
      {
        v7 = *(_WORD *)(v6 + 2);
      }
      LOBYTE(v4) = (*(__int64 (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
                     *(_QWORD *)a2,
                     a1 | ((unsigned __int64)v7 << 0x30));
    }
    v8 = *(_QWORD **)(a1 + 0x300);
    for ( i = *(_QWORD **)(a1 + 0x2F8); i != v8; ++i )
    {
      LOBYTE(v4) = sub_1468D4DE0(*i & 0xFFFFFFFFFFFFLL, a2);
    }
  }
  return v4;
}

// --- End Function: sub_1468D4DE0 (0x1468D4DE0) ---

// --- Function: sub_1468D4ED0 (0x1468D4ED0) ---
__int64 __fastcall sub_1468D4ED0(__int64 a1, __int64 a2)
{
  __int64 result; // rax
  __int64 v5; // rbx
  _QWORD *v6; // rsi
  _QWORD *i; // rbx

  result = (*(__int64 (__fastcall **)(_QWORD, __int64))(a2 + 8))(*(_QWORD *)a2, a1);
  v5 = *(_QWORD *)(a1 + 0x128);
  if ( v5 )
  {
    v6 = *(_QWORD **)(v5 + 0x1C0);
    for ( i = *(_QWORD **)(v5 + 0x1B8); i != v6; ++i )
    {
      result = sub_1468D4ED0(*i & 0xFFFFFFFFFFFFLL, a2);
    }
  }
  return result;
}

// --- End Function: sub_1468D4ED0 (0x1468D4ED0) ---

// --- Function: sub_1468D4F50 (0x1468D4F50) ---
unsigned __int64 __fastcall sub_1468D4F50(__int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  unsigned __int64 *v5; // rsi
  unsigned __int64 *i; // rdi
  unsigned __int64 v7; // rax
  unsigned __int64 v8; // rbx
  unsigned __int64 v9; // rax
  __int64 v10; // rbx
  __int64 v11; // rbx
  bool v12; // al
  unsigned __int64 v13; // r8
  char v14; // dl
  __int64 v15; // rcx
  unsigned __int16 v16; // ax
  unsigned __int64 v18; // [rsp+60h] [rbp+8h] BYREF

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::ForEachDirectlyOwnedEntity",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  v5 = *(unsigned __int64 **)(a1 + 0x300);
  for ( i = *(unsigned __int64 **)(a1 + 0x2F8); i != v5; ++i )
  {
    v7 = *i;
    v18 = v7;
    if ( v7 )
    {
      v8 = v7;
      v9 = HIWORD(v7);
      v10 = v8 & 0xFFFFFFFFFFFFLL;
      v11 = (v9 & 0xF000) != 0 ? v10 & 0xFFFFFF000000LL : v10 - 6;
      if ( *(_WORD *)(v11 + 2) == (v9 & 0xFFF) )
      {
        if ( *(_BYTE *)(a1() + 0x25) || (v12 = is_thread_flag_57_or_38_set()) )
        {
          v12 = 1;
        }
        if ( *(_WORD *)(v11 + 4) == 2 && v12 || check_handle_access_by_state_extended(&v18) )
        {
          v13 = v18 & 0xFFFFFFFFFFFFLL;
          if ( a1_1 > (v18 & 0xFFFFFFFFFFFFLL) || v13 >= qword_15126E3D8 + a1_1 )
          {
            v14 = 0;
            v15 = v13 - 6;
          }
          else
          {
            v14 = 1;
            v15 = v18 & 0xFFFFFF000000LL;
          }
          v16 = *(_WORD *)(v15 + 2) | 0x2000;
          if ( !v14 )
          {
            v16 = *(_WORD *)(v15 + 2);
          }
          (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
            *(_QWORD *)a2,
            v13 | ((unsigned __int64)v16 << 0x30));
        }
      }
    }
  }
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: sub_1468D4F50 (0x1468D4F50) ---

// --- Function: sub_1468D5530 (0x1468D5530) ---
unsigned __int64 __fastcall sub_1468D5530(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::ForEachEntityInAggregate",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
  {
    v7 = *(_WORD *)(v6 + 2);
  }
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(_QWORD **)(a1 + 0x300);
  for ( i = *(_QWORD **)(a1 + 0x2F8); i != v8; ++i )
  {
    sub_1468D5650(*i & 0xFFFFFFFFFFFFLL, a2);
  }
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: sub_1468D5530 (0x1468D5530) ---

// --- Function: sub_1468D5650 (0x1468D5650) ---
void __fastcall sub_1468D5650(unsigned __int64 a1, __int64 a2)
{
  char v4; // dl
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax
  _QWORD *v7; // rsi
  _QWORD *i; // rbx

  if ( (*(_BYTE *)(a1 + 0x4F0) & 3) != 0
    && (is_valid_handle_typeB((unsigned __int64 *)(a1 + 0x4D8))
     || *(_QWORD *)(a1 + 0x4E0) != *(_QWORD *)(a1 + 0x18)) )
  {
    if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
    {
      v4 = 0;
      v5 = a1 - 6;
    }
    else
    {
      v4 = 1;
      v5 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v6 = *(_WORD *)(v5 + 2) | 0x2000;
    if ( !v4 )
    {
      v6 = *(_WORD *)(v5 + 2);
    }
    (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
      *(_QWORD *)a2,
      a1 | ((unsigned __int64)v6 << 0x30));
    v7 = *(_QWORD **)(a1 + 0x300);
    for ( i = *(_QWORD **)(a1 + 0x2F8); i != v7; ++i )
    {
      sub_1468D5650(*i & 0xFFFFFFFFFFFFLL, a2);
    }
  }
}

// --- End Function: sub_1468D5650 (0x1468D5650) ---

// --- Function: sub_1468D5740 (0x1468D5740) ---
char __fastcall sub_1468D5740(unsigned __int64 a1, __int64 a2)
{
  char v4; // r8
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax
  unsigned __int64 v7; // rax
  unsigned __int64 *v8; // rbp
  unsigned __int64 *i; // rdi
  __int64 v10; // rbx
  bool v11; // al

  if ( a1_1 > a1 || a1 >= a1_1 + qword_15126E3D8 )
  {
    v4 = 0;
    v5 = a1 - 6;
  }
  else
  {
    v4 = 1;
    v5 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v6 = *(_WORD *)(v5 + 2) | 0x2000;
  if ( !v4 )
  {
    v6 = *(_WORD *)(v5 + 2);
  }
  LOBYTE(v7) = (*(__int64 (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
                 *(_QWORD *)a2,
                 a1 | ((unsigned __int64)v6 << 0x30));
  v8 = *(unsigned __int64 **)(a1 + 0x300);
  for ( i = *(unsigned __int64 **)(a1 + 0x2F8); i != v8; ++i )
  {
    v7 = *i;
    if ( *i )
    {
      v7 >>= 0x30;
      v10 = (v7 & 0xF000) != 0 ? *i & 0xFFFFFF000000LL : (*i & 0xFFFFFFFFFFFFLL) - 6;
      LOWORD(v7) = v7 & 0xFFF;
      if ( *(_WORD *)(v10 + 2) == (_WORD)v7 )
      {
        if ( *(_BYTE *)(a1() + 0x25) || (v11 = is_thread_flag_57_or_38_set()) )
        {
          v11 = 1;
        }
        if ( *(_WORD *)(v10 + 4) == 2 && v11 || (LOBYTE(v7) = check_handle_access_by_state_extended(i), (_BYTE)v7) )
        {
          LOBYTE(v7) = sub_1468E7C70(*i & 0xFFFFFFFFFFFFLL);
          if ( !(_BYTE)v7 )
          {
            LOBYTE(v7) = sub_1468D5740(*i & 0xFFFFFFFFFFFFLL, a2);
          }
        }
      }
    }
  }
  return v7;
}

// --- End Function: sub_1468D5740 (0x1468D5740) ---

// --- Function: sub_1468D5890 (0x1468D5890) ---
unsigned __int64 __fastcall sub_1468D5890(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::ForEachEntityInReplicationGroup",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
  {
    v7 = *(_WORD *)(v6 + 2);
  }
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(_QWORD **)(a1 + 0x300);
  for ( i = *(_QWORD **)(a1 + 0x2F8); i != v8; ++i )
  {
    sub_1468D59B0(*i & 0xFFFFFFFFFFFFLL, a2);
  }
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: sub_1468D5890 (0x1468D5890) ---

// --- Function: sub_1468D59B0 (0x1468D59B0) ---
void __fastcall sub_1468D59B0(unsigned __int64 a1, __int64 a2)
{
  char v4; // dl
  unsigned __int64 v5; // rcx
  unsigned __int16 v6; // ax
  _QWORD *v7; // rsi
  _QWORD *i; // rbx

  if ( (*(_DWORD *)(a1 + 0x110) & 0x1010) == 0 )
  {
    if ( a1_1 > a1 || a1 >= a1_1 + qword_15126E3D8 )
    {
      v4 = 0;
      v5 = a1 - 6;
    }
    else
    {
      v4 = 1;
      v5 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v6 = *(_WORD *)(v5 + 2) | 0x2000;
    if ( !v4 )
    {
      v6 = *(_WORD *)(v5 + 2);
    }
    (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(
      *(_QWORD *)a2,
      a1 | ((unsigned __int64)v6 << 0x30));
    v7 = *(_QWORD **)(a1 + 0x300);
    for ( i = *(_QWORD **)(a1 + 0x2F8); i != v7; ++i )
    {
      sub_1468D59B0(*i & 0xFFFFFFFFFFFFLL, a2);
    }
  }
}

// --- End Function: sub_1468D59B0 (0x1468D59B0) ---

// --- Function: sub_1468D5A80 (0x1468D5A80) ---
unsigned __int64 __fastcall sub_1468D5A80(unsigned __int64 a1, __int64 **a1a)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::ForEachEntityInStreamingGroup",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
  {
    v7 = *(_WORD *)(v6 + 2);
  }
  ((void (__fastcall *)(__int64 *, unsigned __int64))a1a[1])(
    *a1a,
    a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(_QWORD **)(a1 + 0x300);
  for ( i = *(_QWORD **)(a1 + 0x2F8); i != v8; ++i )
  {
    sub_1468D5BA0(*i & 0xFFFFFFFFFFFFLL, a1a);
  }
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: sub_1468D5A80 (0x1468D5A80) ---

// --- Function: sub_1468D5BA0 (0x1468D5BA0) ---
char __fastcall sub_1468D5BA0(unsigned __int64 a1, __int64 **a1a)
{
  char result; // al
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  _QWORD *v8; // rsi
  _QWORD *i; // rbx

  result = sub_1468E7C70(a1);
  if ( !result )
  {
    if ( a1_1 > a1 || a1 >= a1_1 + qword_15126E3D8 )
    {
      v5 = 0;
      v6 = a1 - 6;
    }
    else
    {
      v5 = 1;
      v6 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v7 = *(_WORD *)(v6 + 2) | 0x2000;
    if ( !v5 )
    {
      v7 = *(_WORD *)(v6 + 2);
    }
    result = ((__int64 (__fastcall *)(_QWORD, unsigned __int64))a1a[1])(
               *a1a,
               a1 | ((unsigned __int64)v7 << 0x30));
    v8 = *(_QWORD **)(a1 + 0x300);
    for ( i = *(_QWORD **)(a1 + 0x2F8); i != v8; ++i )
    {
      result = sub_1468D5BA0(*i & 0xFFFFFFFFFFFFLL, a1a);
    }
  }
  return result;
}

// --- End Function: sub_1468D5BA0 (0x1468D5BA0) ---

// --- Function: CEntity::ForEachInObject (0x1468D5C70) ---
unsigned __int64 __fastcall sub_1468D5C70(__int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(&qword_1497929D0, v4, (__int64)"CEntity::ForEachInObject", (__int64)"s_aggregateHierarchyLock", 1);
    }
  }
  sub_1468D5740(a1, a2);
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: CEntity::ForEachInObject (0x1468D5C70) ---

// --- Function: sub_1468D5CF0 (0x1468D5CF0) ---
unsigned __int64 __fastcall sub_1468D5CF0(__int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::ForEachOwnedEntity",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  sub_1468D5D70(a1, a2);
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: sub_1468D5CF0 (0x1468D5CF0) ---

// --- Function: sub_1468D5D70 (0x1468D5D70) ---
unsigned __int64 __fastcall sub_1468D5D70(unsigned __int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  unsigned __int64 *v8; // rsi
  unsigned __int64 *i; // rdi
  unsigned __int64 v10; // rax
  unsigned __int64 v11; // rbx
  unsigned __int64 v12; // rax
  __int64 v13; // rbx
  __int64 v14; // rbx
  bool v15; // al
  unsigned __int64 v17; // [rsp+60h] [rbp+8h] BYREF

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::ForEachOwnedEntity_Recursive",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
  {
    v5 = 0;
    v6 = a1 - 6;
  }
  else
  {
    v5 = 1;
    v6 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v7 = *(_WORD *)(v6 + 2) | 0x2000;
  if ( !v5 )
  {
    v7 = *(_WORD *)(v6 + 2);
  }
  (*(void (__fastcall **)(_QWORD, unsigned __int64))(a2 + 8))(*(_QWORD *)a2, a1 | ((unsigned __int64)v7 << 0x30));
  v8 = *(unsigned __int64 **)(a1 + 0x300);
  for ( i = *(unsigned __int64 **)(a1 + 0x2F8); i != v8; ++i )
  {
    v10 = *i;
    v17 = v10;
    if ( v10 )
    {
      v11 = v10;
      v12 = HIWORD(v10);
      v13 = v11 & 0xFFFFFFFFFFFFLL;
      v14 = (v12 & 0xF000) != 0 ? v13 & 0xFFFFFF000000LL : v13 - 6;
      if ( *(_WORD *)(v14 + 2) == (v12 & 0xFFF) )
      {
        if ( *(_BYTE *)(a1() + 0x25) || (v15 = is_thread_flag_57_or_38_set()) )
        {
          v15 = 1;
        }
        if ( *(_WORD *)(v14 + 4) == 2 && v15 || check_handle_access_by_state_extended(&v17) )
        {
          sub_1468D5D70(v17 & 0xFFFFFFFFFFFFLL, a2);
        }
      }
    }
  }
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: sub_1468D5D70 (0x1468D5D70) ---

// --- Function: sub_1468D5F10 (0x1468D5F10) ---
char __fastcall sub_1468D5F10(__int64 a1)
{
  __int64 v1; // rdx
  unsigned __int64 v2; // rbx
  __int64 v3; // r8
  __int64 *v5; // rdi
  __int64 v6; // rdx

  v1 = *(_QWORD *)(a1 + 0x240);
  v2 = 0;
  v3 = *(_QWORD *)(a1 + 0x238);
  if ( !((v1 - v3) >> 3) )
  {
    return 0;
  }
  while ( 1 )
  {
    if ( (v1 - v3) >> 3 <= v2 )
    {
      __debugbreak();
    }
    v5 = (__int64 *)(*(_QWORD *)(a1 + 0x238) + 8 * v2);
    v6 = is_valid_handle_typeA(v5) ? *v5 & 0xFFFFFFFFFFFFLL : 0LL;
    if ( sub_1467CAB20(a1, v6) )
    {
      break;
    }
    v1 = *(_QWORD *)(a1 + 0x240);
    ++v2;
    v3 = *(_QWORD *)(a1 + 0x238);
    if ( v2 >= (v1 - v3) >> 3 )
    {
      return 0;
    }
  }
  return 1;
}

// --- End Function: sub_1468D5F10 (0x1468D5F10) ---

// --- Function: sub_1468D6070 (0x1468D6070) ---
void __fastcall sub_1468D6070(__int64 a1, int a2)
{
  __int64 v4; // rax
  unsigned __int64 v5; // rax

  if ( a2 > (int)0xFFFFFFFF )
  {
    v4 = sub_1468DB500(a1);
    if ( v4 )
    {
      sub_146880D90(v4, a2, 1, 1u, 1u, 1u);
    }
  }
  v5 = sub_1468DE420(a1);
  if ( v5 )
  {
    sub_1468417E0(v5, a2);
  }
}

// --- End Function: sub_1468D6070 (0x1468D6070) ---

// --- Function: sub_1468D60D0 (0x1468D60D0) ---
unsigned __int64 __fastcall sub_1468D60D0(_QWORD *a1, __int64 a2)
{
  signed __int64 v4; // rdx
  signed __int64 v5; // rdx
  __int64 v6; // rbx
  int v7; // esi
  unsigned __int32 v8; // eax
  unsigned __int64 *v9; // rcx
  bool v10; // al
  __int64 v11; // rcx
  char v12; // al
  __int64 v13; // rcx
  __int64 v14; // rax
  __int64 v15; // rax
  double v16; // xmm1_8
  double v17; // xmm0_8
  __int64 v18; // r8
  unsigned int v19; // eax
  __int64 v20; // r9
  __int64 v21; // rcx
  int v22; // eax
  unsigned __int32 v23; // eax
  unsigned int v25[2]; // [rsp+60h] [rbp-59h] BYREF
  __int64 v26; // [rsp+68h] [rbp-51h]
  const void *ptr_to_free; // [rsp+70h] [rbp-49h]
  __int64 v28[2]; // [rsp+78h] [rbp-41h] BYREF
  const void *ptr_to_free_1; // [rsp+88h] [rbp-31h]
  bool v30[8]; // [rsp+90h] [rbp-29h] BYREF
  __int64 v31; // [rsp+98h] [rbp-21h]
  __int64 v32[2]; // [rsp+A0h] [rbp-19h] BYREF
  __int64 v33[2]; // [rsp+B0h] [rbp-9h] BYREF
  __int64 v34[2]; // [rsp+C0h] [rbp+7h] BYREF
  __int64 v35[2]; // [rsp+D0h] [rbp+17h] BYREF
  __int64 v36[2]; // [rsp+E0h] [rbp+27h] BYREF
  __int64 v37[2]; // [rsp+F0h] [rbp+37h] BYREF
  __int64 v38; // [rsp+120h] [rbp+67h] BYREF

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::GatherBoundsDefiningChildren",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  if ( dword_1497929C8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929CC;
  }
  else
  {
    v5 = _InterlockedIncrement64(&qword_1497929C0);
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929C0,
        v5,
        (__int64)"CEntity::GatherBoundsDefiningChildren",
        (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
    }
  }
  v6 = a1[0x65];
  v7 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(v6 + 4) == v7 )
  {
    ++*(_DWORD *)(v6 + 8);
  }
  else
  {
    v8 = _InterlockedCompareExchange((volatile signed __int32 *)v6, 1, 0);
    if ( v8 )
    {
      sub_1403BF290((volatile signed __int32 *)v6, v8, (__int64)"CEntity::GatherBoundsDefiningChildren", 1);
    }
    *(_DWORD *)(v6 + 4) = v7;
  }
  v9 = (unsigned __int64 *)a1[0x25];
  v10 = v9 && is_valid_handle_typeB(v9) && *(_DWORD *)(a1[0x25] + 0x10LL) == 5;
  v11 = a1[0x65];
  v30[0] = v10;
  v31 = 0;
  v32[1] = 0;
  v12 = *(_BYTE *)(v11 + 0x8C);
  v13 = *(_QWORD *)(v11 + 0xB8);
  LOBYTE(v32[0]) = v12;
  v28[0] = 0;
  v14 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x1F0LL))(v13);
  ptr_to_free_1 = 0;
  v28[1] = v14;
  v15 = a1[0x65];
  v36[0] = (__int64)"fEntityCompleteRadius";
  v33[0] = 0;
  v37[0] = (__int64)"fAggregateCompleteRadius";
  v16 = *(double *)(v15 + 0xA8);
  v33[1] = *(_QWORD *)(v15 + 0xB0);
  v35[1] = *(_QWORD *)(v15 + 0xA0);
  *(double *)&v36[1] = *(float *)(v15 + 0x90);
  v17 = *(double *)(v15 + 0x10);
  v38 = a1[2];
  v26 = a1[0x52];
  *(double *)&v34[1] = v16;
  *(double *)&v37[1] = v17;
  v34[0] = 0;
  v35[0] = 0;
  *(_QWORD *)v25 = 0;
  ptr_to_free = 0;
  sub_1468A0350(
    a2,
    (__int64)"Entity: $$[$$] Aggregate Radius: $$ Entity Radius: $$ Pos: ($$, $$, $$) Zone: $$ bIgnoringForAggregateBound"
             "s: $$ ShouldUseParentTransform: $$",
    v25,
    &v38,
    (__int64)v37,
    (__int64)v36,
    (__int64)v35,
    (__int64)v34,
    (__int64)v33,
    (__int64)v28,
    (__int64)v32,
    (__int64)v30);
  free_memory_wrapper(ptr_to_free);
  free_memory_wrapper(ptr_to_free_1);
  v18 = a1[0x65];
  v19 = *(_DWORD *)(v18 + 0x20);
  if ( v19 != 0xFFFFFFFE )
  {
    if ( v19 + 0x80000000 > 0x7FFFFFFD )
    {
      if ( v19 >= 0x80000000 )
      {
        v19 += 0x80000000;
      }
      v20 = v19;
      if ( (*(_QWORD *)(v18 + 0x60) - *(_QWORD *)(v18 + 0x58)) / 0x18LL <= (unsigned __int64)v19 )
      {
        __debugbreak();
      }
      v21 = *(_QWORD *)(v18 + 0x58);
    }
    else
    {
      if ( v19 >= 0x80000000 )
      {
        v19 += 0x80000000;
      }
      v20 = v19;
      if ( (*(_QWORD *)(v18 + 0x78) - *(_QWORD *)(v18 + 0x70)) / 0x18LL <= (unsigned __int64)v19 )
      {
        __debugbreak();
      }
      v21 = *(_QWORD *)(v18 + 0x70);
    }
    sub_1468D60D0(*(_QWORD **)(v21 + 0x18 * v20), a2);
  }
  v22 = *(_DWORD *)(v6 + 8);
  if ( v22 )
  {
    *(_DWORD *)(v6 + 8) = v22 - 1;
  }
  else
  {
    *(_DWORD *)(v6 + 4) = 0xFFFFFFFF;
    v23 = _InterlockedCompareExchange((volatile signed __int32 *)v6, 0, 1);
    if ( v23 != 1 )
    {
      sub_1403D6A80((volatile signed __int32 *)v6, v23);
    }
  }
  sub_1402D0950((__int64)&qword_1497929C0);
  return sub_1402D0950((__int64)&qword_1497929D0);
}

// --- End Function: sub_1468D60D0 (0x1468D60D0) ---

// --- Function: sub_1468D68B0 (0x1468D68B0) ---
unsigned __int64 *__fastcall sub_1468D68B0(unsigned __int64 a1, unsigned __int64 *a2)
{
  __int64 v2; // rax
  char v5; // r9
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax

  v2 = *(_QWORD *)(a1 + 0x128);
  if ( v2 )
  {
    *a2 = *(_QWORD *)(v2 + 8);
    return a2;
  }
  else
  {
    if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
    {
      v5 = 0;
      v6 = a1 - 6;
    }
    else
    {
      v5 = 1;
      v6 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v7 = *(_WORD *)(v6 + 2) | 0x2000;
    if ( !v5 )
    {
      v7 = *(_WORD *)(v6 + 2);
    }
    *a2 = a1 | ((unsigned __int64)v7 << 0x30);
    return a2;
  }
}

// --- End Function: sub_1468D68B0 (0x1468D68B0) ---

// --- Function: sub_1468D6920 (0x1468D6920) ---
_QWORD *__fastcall sub_1468D6920(__int64 a1, _QWORD *a2)
{
  __int64 v3; // rax

  v3 = sub_1468DB500(a1);
  if ( v3 )
  {
    sub_146841F20(v3, a2);
  }
  else
  {
    *a2 = 0;
  }
  return a2;
}

// --- End Function: sub_1468D6920 (0x1468D6920) ---

// --- Function: sub_1468D6970 (0x1468D6970) ---
__int64 __fastcall sub_1468D6970(__int64 a1, __int64 a2)
{
  _XMM2 = *(unsigned __int64 *)(*(_QWORD *)(a1 + 0x328) + 0x10LL);
  _XMM1 = _XMM2 ^ xmmword_147F40DB0;
  __asm { vmovddup xmm0, xmm1 }
  *(_OWORD *)a2 = _XMM0;
  __asm { vmovddup xmm0, xmm2 }
  *(_OWORD *)(a2 + 0x18) = _XMM0;
  *(double *)(a2 + 0x28) = *(double *)&_XMM2;
  *(double *)(a2 + 0x10) = COERCE_DOUBLE(_XMM2 ^ 0x8000000000000000uLL);
  return a2;
}

// --- End Function: sub_1468D6970 (0x1468D6970) ---

// --- Function: sub_1468D69B0 (0x1468D69B0) ---
double __fastcall sub_1468D69B0(__int64 a1)
{
  return *(double *)(*(_QWORD *)(a1 + 0x328) + 0x10LL);
}

// --- End Function: sub_1468D69B0 (0x1468D69B0) ---

// --- Function: sub_1468D69D0 (0x1468D69D0) ---
__int64 __fastcall sub_1468D69D0(__int64 a1, __int64 a2)
{
  _XMM2 = *(unsigned __int64 *)(*(_QWORD *)(a1 + 0x328) + 0x18LL);
  _XMM1 = _XMM2 ^ xmmword_147F40DB0;
  __asm { vmovddup xmm0, xmm1 }
  *(_OWORD *)a2 = _XMM0;
  __asm { vmovddup xmm0, xmm2 }
  *(_OWORD *)(a2 + 0x18) = _XMM0;
  *(double *)(a2 + 0x28) = *(double *)&_XMM2;
  *(double *)(a2 + 0x10) = COERCE_DOUBLE(_XMM2 ^ 0x8000000000000000uLL);
  return a2;
}

// --- End Function: sub_1468D69D0 (0x1468D69D0) ---

// --- Function: sub_1468D6A10 (0x1468D6A10) ---
double __fastcall sub_1468D6A10(__int64 a1)
{
  return *(double *)(*(_QWORD *)(a1 + 0x328) + 0x18LL);
}

// --- End Function: sub_1468D6A10 (0x1468D6A10) ---

// --- Function: sub_1468D6A90 (0x1468D6A90) ---
__int64 __fastcall sub_1468D6A90(__int64 a1)
{
  __int64 v1; // rax
  __int64 result; // rax

  v1 = *(_QWORD *)(a1 + 0x128);
  if ( !v1 )
  {
    return 0;
  }
  if ( *(_DWORD *)(v1 + 0x10) != 7 )
  {
    return 0;
  }
  result = v1 + 0x18;
  if ( !result || *(_BYTE *)(result + 0x120) != 2 )
  {
    return 0;
  }
  return result;
}

// --- End Function: sub_1468D6A90 (0x1468D6A90) ---

// --- Function: sub_1468D6BB0 (0x1468D6BB0) ---
unsigned __int64 __fastcall sub_1468D6BB0(__int64 a1, int a2)
{
  unsigned __int64 result; // rax
  __int64 v4; // rdi
  int v5; // ebx
  __int64 v6; // rsi
  int v7; // edx

  result = sub_1468DE420(a1);
  v4 = result;
  if ( result )
  {
    if ( a2 == 0xFFFFFFFF )
    {
      v5 = 0;
      v6 = 0;
      do
      {
        if ( v5 >= (int)sub_14684E9E0(v4) )
        {
          break;
        }
        v7 = v5++;
        v6 = sub_146842AF0(v4, v7);
      }
      while ( !v6 );
      return v6;
    }
    else
    {
      return sub_146842AF0(result, a2);
    }
  }
  return result;
}

// --- End Function: sub_1468D6BB0 (0x1468D6BB0) ---

// --- Function: sub_1468D6C30 (0x1468D6C30) ---
_QWORD *__fastcall sub_1468D6C30(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v3; // r9
  unsigned __int64 v4; // rax
  _QWORD *result; // rax

  v3 = *(_QWORD *)(a1 + 0x128);
  if ( v3 && a3 >= 0 && (v4 = (__int64)(*(_QWORD *)(v3 + 0x1C0) - *(_QWORD *)(v3 + 0x1B8)) >> 3, a3 < (int)v4) )
  {
    if ( v4 <= a3 )
    {
      __debugbreak();
    }
    result = a2;
    *a2 = *(_QWORD *)(*(_QWORD *)(v3 + 0x1B8) + 8LL * a3);
  }
  else
  {
    *a2 = 0;
    return a2;
  }
  return result;
}

// --- End Function: sub_1468D6C30 (0x1468D6C30) ---

// --- Function: sub_1468D6C80 (0x1468D6C80) ---
__int64 __fastcall sub_1468D6C80(__int64 a1)
{
  __int64 v1; // rdx

  v1 = *(_QWORD *)(a1 + 0x128);
  if ( v1 )
  {
    return (__int64)(*(_QWORD *)(v1 + 0x1C0) - *(_QWORD *)(v1 + 0x1B8)) >> 3;
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468D6C80 (0x1468D6C80) ---

// --- Function: sub_1468D6CD0 (0x1468D6CD0) ---
bool __fastcall sub_1468D6CD0(__int64 a1, _QWORD *a2)
{
  __int64 i; // rsi
  unsigned __int64 v4; // rax
  unsigned __int64 v5; // rbx
  unsigned __int64 v6; // rax
  __int64 v7; // rbx
  __int64 v8; // rbx
  bool v9; // al
  __int64 v10; // rax
  const char *String1; // rax
  __int64 v12; // rbx
  __int64 (__fastcall *v13)(__int64, _BYTE *, __int16 *); // rdi
  __int16 n0xFFFF_100; // ax
  __int64 v15; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 v18; // rax
  _BYTE v20[24]; // [rsp+20h] [rbp-58h] BYREF
  __int16 n0xFFFF_100_1; // [rsp+80h] [rbp+8h] BYREF
  char v22; // [rsp+88h] [rbp+10h] BYREF
  unsigned __int64 v23; // [rsp+90h] [rbp+18h] BYREF
  __int64 v24; // [rsp+98h] [rbp+20h] BYREF

  for ( i = *(_QWORD *)(a1 + 0x288); i; i = *(_QWORD *)(i + 0x10) )
  {
    v4 = *(_QWORD *)(i + 8);
    v23 = v4;
    if ( v4 )
    {
      v5 = v4;
      v6 = HIWORD(v4);
      v7 = v5 & 0xFFFFFFFFFFFFLL;
      v8 = (v6 & 0xF000) != 0 ? v7 & 0xFFFFFF000000LL : v7 - 6;
      if ( *(_WORD *)(v8 + 2) == (v6 & 0xFFF) )
      {
        if ( *(_BYTE *)(a1() + 0x25) || (v9 = is_thread_flag_57_or_38_set()) )
        {
          v9 = 1;
        }
        if ( *(_WORD *)(v8 + 4) == 2 && v9 || check_handle_access_by_state_extended(&v23) )
        {
          v10 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v23 & 0xFFFFFFFFFFFFLL) + 0x20LL))(v23 & 0xFFFFFFFFFFFFLL);
          String1 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x18LL))(v10);
          if ( !_stricmp(String1, "ClipVolume") )
          {
            v12 = v23 & 0xFFFFFFFFFFFFLL;
            v13 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int16 *))(*(_QWORD *)(v23 & 0xFFFFFFFFFFFFLL) + 0x338LL);
            n0xFFFF_100 = ::n0xFFFF_100;
            if ( ::n0xFFFF_100 == (__int16)0xFFFF )
            {
              n0xFFFF_100 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                               + 0x10LL))(
                                        global_dispatcher_ptr,
                                        &v22,
                                        "IClipVolumeProxy");
              ::n0xFFFF_100 = n0xFFFF_100;
            }
            n0xFFFF_100_1 = n0xFFFF_100;
            v15 = *(_QWORD *)v13(v12, v20, &n0xFFFF_100_1);
            v24 = v15;
            if ( v15 )
            {
              handle_metadata_ptr = get_handle_metadata_ptr(v15 & 0xFFFFFFFFFFFFLL);
              n4 = *(_WORD *)(handle_metadata_ptr + 4);
              if ( n4 != 4
                && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v15) & 0xFFF)
                && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v24)) )
              {
                v18 = 0;
                while ( a2[v18] )
                {
                  if ( ++v18 >= 2 )
                  {
                    goto LABEL_27;
                  }
                }
                a2[v18] = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v15 & 0xFFFFFFFFFFFFLL) + 0x578LL))(v15 & 0xFFFFFFFFFFFFLL);
              }
            }
          }
        }
      }
    }
LABEL_27:
    ;
  }
  return *a2 || a2[1];
}

// --- End Function: sub_1468D6CD0 (0x1468D6CD0) ---

// --- Function: sub_1468D6F10 (0x1468D6F10) ---
unsigned __int64 *__fastcall sub_1468D6F10(__int64 a1, unsigned __int64 *a2, unsigned __int16 *a3)
{
  if ( *(_BYTE *)(a1 + 0xD) == 7 )
  {
    *a2 = 0;
    return a2;
  }
  else
  {
    sub_1468D6F90((unsigned __int64 *)a1, a2, *a3);
    return a2;
  }
}

// --- End Function: sub_1468D6F10 (0x1468D6F10) ---

// --- Function: sub_1468D6F90 (0x1468D6F90) ---
unsigned __int64 *__fastcall sub_1468D6F90(unsigned __int64 *a1, unsigned __int64 *a2, unsigned __int64 a3)
{
  unsigned __int64 v4; // r9
  __int64 v5; // r10
  unsigned __int64 v7; // r11
  __int64 v8; // rcx
  unsigned __int64 *v9; // rdx
  unsigned __int64 v10; // rcx
  unsigned __int64 *result; // rax
  __int64 v12; // rax
  unsigned __int16 *v13; // rdi
  unsigned __int16 *v14; // r14
  unsigned __int64 v15; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // cx
  unsigned __int64 v18; // [rsp+50h] [rbp+8h] BYREF

  v4 = a3 >> 6;
  v5 = 1LL << (a3 & 0x3F);
  v7 = a1[(a3 >> 6) + 0x27];
  if ( (v7 & v5) != 0 )
  {
    v8 = 0;
    if ( v4 )
    {
      v9 = a1 + 0x27;
      do
      {
        v8 += __popcnt(*v9++);
        --v4;
      }
      while ( v4 );
    }
    v10 = __popcnt(v7 & (v5 - 1)) + v8;
    if ( (__int64)(a1[0x4B] - a1[0x4A]) >> 3 <= v10 )
    {
      __debugbreak();
    }
    result = a2;
    *a2 = *(_QWORD *)(a1[0x4A] + 8 * v10);
  }
  else
  {
    if ( (*(_QWORD *)(global_dispatcher_ptr + 0x78) - *(_QWORD *)(global_dispatcher_ptr + 0x70)) / 0x18LL <= a3 )
    {
      __debugbreak();
    }
    v12 = *(_QWORD *)(global_dispatcher_ptr + 0x70);
    v13 = *(unsigned __int16 **)(v12 + 0x18 * a3);
    v14 = *(unsigned __int16 **)(v12 + 0x18 * a3 + 8);
    if ( v13 == v14 )
    {
LABEL_18:
      *a2 = 0;
    }
    else
    {
      while ( 1 )
      {
        sub_1468D6F90(a1, &v18, *v13);
        if ( v18 )
        {
          v15 = HIWORD(v18);
          handle_metadata_ptr = get_handle_metadata_ptr(v18 & 0xFFFFFFFFFFFFLL);
          n4 = *(_WORD *)(handle_metadata_ptr + 4);
          if ( n4 != 4
            && *(_WORD *)(handle_metadata_ptr + 2) == (v15 & 0xFFF)
            && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v18)) )
          {
            break;
          }
        }
        if ( ++v13 == v14 )
        {
          goto LABEL_18;
        }
      }
      *a2 = v18;
    }
    return a2;
  }
  return result;
}

// --- End Function: sub_1468D6F90 (0x1468D6F90) ---

// --- Function: sub_1468D7AF0 (0x1468D7AF0) ---
__int64 __fastcall sub_1468D7AF0(__int64 a1)
{
  __int64 result; // rax

  result = *(_QWORD *)(a1 + 0x2D8);
  if ( !result )
  {
    return (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x68LL))(*(_QWORD *)(a1 + 0x20));
  }
  return result;
}

// --- End Function: sub_1468D7AF0 (0x1468D7AF0) ---

// --- Function: sub_1468D83B0 (0x1468D83B0) ---
_QWORD *__fastcall sub_1468D83B0(__int64 a1, _QWORD *a2, unsigned int a3)
{
  __int64 v5; // rax

  v5 = sub_1468DB500(a1);
  if ( v5 )
  {
    sub_1468447E0(v5, a2, a3);
  }
  else
  {
    *a2 = 0;
  }
  return a2;
}

// --- End Function: sub_1468D83B0 (0x1468D83B0) ---

// --- Function: sub_1468D84B0 (0x1468D84B0) ---
__int64 __fastcall sub_1468D84B0(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x288);
}

// --- End Function: sub_1468D84B0 (0x1468D84B0) ---

// --- Function: sub_1468D85E0 (0x1468D85E0) ---
void **__fastcall sub_1468D85E0(unsigned __int64 a1, void **a2)
{
  _BYTE *v4; // rdi
  unsigned __int64 n0x1FF_1; // rbx
  _BYTE *pCZoneSystem_1; // rax
  char v7; // dl
  unsigned __int64 v8; // rcx
  unsigned __int16 v9; // ax
  size_t Size; // r8
  void **v11; // rax
  void **v12; // rsi
  const char *string_struct_ptr__3; // rbx
  const char *string_struct_ptr__4; // rdi
  const char *v15; // rax
  void **v16; // rax
  const char *string_struct_ptr__1; // [rsp+30h] [rbp-D0h] BYREF
  const char *string_struct_ptr_; // [rsp+38h] [rbp-C8h] BYREF
  unsigned __int64 string_struct_ptr__2[2]; // [rsp+40h] [rbp-C0h] BYREF
  unsigned __int64 n0x1FF_2; // [rsp+50h] [rbp-B0h] BYREF
  __int64 n0x1FF; // [rsp+58h] [rbp-A8h]
  void *pCZoneSystem; // [rsp+60h] [rbp-A0h]
  _BYTE v24[520]; // [rsp+68h] [rbp-98h] BYREF

  initializeEmptyStringStructure(&string_struct_ptr_);
  initializeEmptyStringStructure(&string_struct_ptr__1);
  v4 = *(_BYTE **)(a1 + 0x290);
  pCZoneSystem = v24;
  v24[0] = 0;
  n0x1FF_2 = 0;
  n0x1FF = 0x1FF;
  if ( v4 )
  {
    n0x1FF_1 = 0xFFFFFFFFFFFFFFFFuLL;
    do
    {
      ++n0x1FF_1;
    }
    while ( v4[n0x1FF_1] );
    if ( n0x1FF_1 )
    {
      pCZoneSystem_1 = v24;
      if ( n0x1FF_1 + 1 > 0x200 )
      {
        pCZoneSystem_1 = (_BYTE *)allocWithProfilerInfo(n0x1FF_1 + 1, 0);
        qword_149808368 += n0x1FF_1 + 1;
        n0x1FF = n0x1FF_1;
      }
      pCZoneSystem = pCZoneSystem_1;
      n0x1FF_2 = n0x1FF_1;
      pCZoneSystem_1[n0x1FF_1] = 0;
      memcpy(pCZoneSystem, v4, n0x1FF_1);
    }
  }
  if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
  {
    v7 = 0;
    v8 = a1 - 6;
  }
  else
  {
    v7 = 1;
    v8 = a1 & 0xFFFFFFFFFF000000uLL;
  }
  v9 = *(_WORD *)(v8 + 2) | 0x2000;
  if ( !v7 )
  {
    v9 = *(_WORD *)(v8 + 2);
  }
  string_struct_ptr__2[0] = a1 | ((unsigned __int64)v9 << 0x30);
  if ( is_valid_handle_typeB(string_struct_ptr__2) )
  {
    sub_1468D9C10(a1, (void **)&string_struct_ptr_, (void **)&string_struct_ptr__1);
  }
  else
  {
    Size = 0xFFFFFFFFFFFFFFFFuLL;
    do
    {
      ++Size;
    }
    while ( aUninitialized_1[Size] );
    sub_1402DC930(&n0x1FF_2, "(uninitialized)", Size);
  }
  initializeEmptyStringStructure(string_struct_ptr__2);
  v12 = v11;
  string_struct_ptr__3 = string_struct_ptr_;
  string_struct_ptr__4 = string_struct_ptr__1;
  v15 = (const char *)(*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x18LL))(*(_QWORD *)(a1 + 0x20));
  v16 = sub_1403A5050(
          v12,
          "%s - Class(%s) - Context(%s) - Socpak(%s)",
          (const char *)pCZoneSystem,
          v15,
          string_struct_ptr__4,
          string_struct_ptr__3);
  sub_1403577C0(a2, (const void **)v16);
  DestroyStringObject(string_struct_ptr__2);
  if ( pCZoneSystem != v24 )
  {
    qword_149808368 += 0xFFFFFFFFFFFFFFFFuLL - n0x1FF;
    sub_14739AF10((FH4 *)pCZoneSystem);
  }
  DestroyStringObject(&string_struct_ptr__1);
  DestroyStringObject(&string_struct_ptr_);
  return a2;
}

// --- End Function: sub_1468D85E0 (0x1468D85E0) ---

// --- Function: sub_1468D8A10 (0x1468D8A10) ---
unsigned __int64 __fastcall sub_1468D8A10(__int64 a1, int a2)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_146845AE0(result, a2);
  }
  return result;
}

// --- End Function: sub_1468D8A10 (0x1468D8A10) ---

// --- Function: sub_1468D8DE0 (0x1468D8DE0) ---
__int64 __fastcall sub_1468D8DE0(__int64 a1, __int64 a2, int a3, __int64 a4, unsigned __int8 a5)
{
  unsigned __int64 v8; // rax
  __int64 result; // rax

  v8 = sub_1468DE420(a1);
  if ( v8 )
  {
    sub_14684EB40(v8, (float *)a2, a3, a4, a5);
    return a2;
  }
  else
  {
    *(_QWORD *)a2 = 0;
    *(_DWORD *)(a2 + 8) = 0;
    *(_QWORD *)(a2 + 0x10) = 0;
    *(_DWORD *)(a2 + 0x18) = 0;
    result = a2;
    *(_DWORD *)(a2 + 0xC) = 0x3F800000;
  }
  return result;
}

// --- End Function: sub_1468D8DE0 (0x1468D8DE0) ---

// --- Function: sub_1468D8E60 (0x1468D8E60) ---
unsigned __int64 __fastcall sub_1468D8E60(__int64 a1, int a2, __int64 a3, __int64 a4)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_14684F370(result, a2, a3, a4, 0);
  }
  return result;
}

// --- End Function: sub_1468D8E60 (0x1468D8E60) ---

// --- Function: sub_1468D8FA0 (0x1468D8FA0) ---
__int64 __fastcall sub_1468D8FA0(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x2B8);
}

// --- End Function: sub_1468D8FA0 (0x1468D8FA0) ---

// --- Function: sub_1468D8FE0 (0x1468D8FE0) ---
char __fastcall sub_1468D8FE0(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v4; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_86;
  if ( n0xFFFF_86 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v9,
                          "IEntityComponentNetwork");
    n0xFFFF_86 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  v4 = *(_QWORD *)v2(a1, &v10, &v8);
  v8 = v4;
  if ( v4
    && (handle_metadata_ptr = get_handle_metadata_ptr(v4 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v4) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v8)) )
  {
    return (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v4 & 0xFFFFFFFFFFFFLL) + 0x608LL))(v4 & 0xFFFFFFFFFFFFLL);
  }
  else
  {
    return 3;
  }
}

// --- End Function: sub_1468D8FE0 (0x1468D8FE0) ---

// --- Function: sub_1468D90E0 (0x1468D90E0) ---
__int64 __fastcall sub_1468D90E0(__int64 a1, __int64 a2, char a3)
{
  __int64 result; // rax
  float v4; // xmm3_4

  if ( a3 )
  {
    if ( a3 != 1 )
    {
      *(_QWORD *)(a2 + 0xC) = 0;
      *(_DWORD *)(a2 + 0x14) = 0;
      result = a2;
      *(float *)a2 = COERCE_FLOAT(*(_DWORD *)(a2 + 0xC) ^ 0x80000000);
      *(_DWORD *)(a2 + 4) = 0x80000000;
      *(_DWORD *)(a2 + 8) = 0x80000000;
      return result;
    }
    v4 = *(float *)(a1 + 0x114);
  }
  else
  {
    v4 = *(float *)(a1 + 0x118);
  }
  *(float *)(a2 + 0xC) = v4;
  *(float *)(a2 + 0x10) = v4;
  *(float *)(a2 + 0x14) = v4;
  *(float *)a2 = COERCE_FLOAT(*(_DWORD *)(a2 + 0xC) ^ 0x80000000);
  *(float *)(a2 + 4) = COERCE_FLOAT(LODWORD(v4) ^ 0x80000000);
  *(float *)(a2 + 8) = COERCE_FLOAT(LODWORD(v4) ^ 0x80000000);
  return a2;
}

// --- End Function: sub_1468D90E0 (0x1468D90E0) ---

// --- Function: sub_1468D9170 (0x1468D9170) ---
__int64 __fastcall sub_1468D9170(__int64 a1, __int64 a2)
{
  (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2A8) + 0x18LL))(*(_QWORD *)(a1 + 0x2A8));
  return a2;
}

// --- End Function: sub_1468D9170 (0x1468D9170) ---

// --- Function: sub_1468D9190 (0x1468D9190) ---
__int64 __fastcall sub_1468D9190(__int64 a1)
{
  return (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2A8) + 0x20LL))(*(_QWORD *)(a1 + 0x2A8));
}

// --- End Function: sub_1468D9190 (0x1468D9190) ---

// --- Function: sub_1468D91A0 (0x1468D91A0) ---
_QWORD *__fastcall sub_1468D91A0(__int64 a1, _QWORD *a2)
{
  __int64 v3; // rax

  v3 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2A8) + 0x20LL))(*(_QWORD *)(a1 + 0x2A8));
  if ( v3 )
  {
    (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v3 + 0x18LL))(v3, a2);
  }
  else
  {
    *a2 = 0;
  }
  return a2;
}

// --- End Function: sub_1468D91A0 (0x1468D91A0) ---

// --- Function: sub_1468D91F0 (0x1468D91F0) ---
__int64 __fastcall sub_1468D91F0(__int64 a1)
{
  __int64 result; // rax

  result = sub_1468DB500(a1);
  if ( result )
  {
    return sub_14684DBC0(result);
  }
  return result;
}

// --- End Function: sub_1468D91F0 (0x1468D91F0) ---

// --- Function: sub_1468D9210 (0x1468D9210) ---
_QWORD *__fastcall sub_1468D9210(__int64 a1, _QWORD *a2)
{
  __int64 v2; // rcx

  v2 = *(_QWORD *)(a1 + 0x130);
  *a2 = v2;
  if ( v2 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v2 + 8LL))(v2);
  }
  return a2;
}

// --- End Function: sub_1468D9210 (0x1468D9210) ---

// --- Function: sub_1468D9240 (0x1468D9240) ---
unsigned __int64 __fastcall sub_1468D9240(__int64 a1, __int64 a2, __int64 a3)
{
  unsigned __int64 v6; // r8
  unsigned __int64 result; // rax
  __int64 v8; // r15
  __int64 v9; // r14
  char *v10; // rsi
  __int64 *v11; // rsi
  __int64 *i; // rbx
  __int64 v13; // [rsp+40h] [rbp+8h] BYREF

  v6 = (__int64)(*(_QWORD *)(a1 + 0x240) - *(_QWORD *)(a1 + 0x238)) >> 3;
  result = (__int64)(*(_QWORD *)(a3 + 0x10) - *(_QWORD *)a3) >> 3;
  if ( v6 > result )
  {
    if ( v6 > 0x1FFFFFFFFFFFFFFFLL )
    {
      unknown_libname_10();
    }
    v8 = 8 * v6;
    v9 = (__int64)(*(_QWORD *)(a3 + 8) - *(_QWORD *)a3) >> 3;
    v10 = (char *)sub_14038E0B0(a3, 8 * v6);
    memmove(v10, *(const void **)a3, *(_QWORD *)(a3 + 8) - *(_QWORD *)a3);
    if ( *(_QWORD *)a3 )
    {
      sub_14039EFB0(a3, *(FH4 **)a3, (*(_QWORD *)(a3 + 0x10) - *(_QWORD *)a3) & 0xFFFFFFFFFFFFFFF8uLL);
    }
    *(_QWORD *)a3 = v10;
    *(_QWORD *)(a3 + 8) = &v10[8 * v9];
    result = (unsigned __int64)&v10[v8];
    *(_QWORD *)(a3 + 0x10) = &v10[v8];
  }
  v11 = *(__int64 **)(a1 + 0x240);
  for ( i = *(__int64 **)(a1 + 0x238); i != v11; ++i )
  {
    result = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(*i & 0xFFFFFFFFFFFFLL) + 8LL))(
               *i & 0xFFFFFFFFFFFFLL,
               a2);
    if ( (_BYTE)result )
    {
      v13 = *i;
      result = (unsigned __int64)sub_1402A4690((FH4 **)a3, &v13);
    }
  }
  return result;
}

// --- End Function: sub_1468D9240 (0x1468D9240) ---

// --- Function: sub_1468D9370 (0x1468D9370) ---
__int64 __fastcall sub_1468D9370(__int64 a1, __int64 a2)
{
  unsigned __int64 *v4; // rcx
  __int64 v5; // rax
  __int64 result; // rax
  _BYTE v7[56]; // [rsp+20h] [rbp-38h] BYREF

  while ( 1 )
  {
    v4 = *(unsigned __int64 **)(a1 + 0x128);
    if ( !v4 )
    {
      break;
    }
    if ( !is_valid_handle_typeB(v4) )
    {
      break;
    }
    v5 = *(_QWORD *)(a1 + 0x128);
    if ( *(_DWORD *)(v5 + 0x10) != 5 )
    {
      break;
    }
    a1 = *(_QWORD *)v5 & 0xFFFFFFFFFFFFLL;
  }
  result = (*(__int64 (__fastcall **)(FH4 *, _BYTE *, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x2D0LL))(
             pCZoneSystem,
             v7,
             a1 + 0x2A0,
             3);
  *(__m256i *)a2 = *(__m256i *)result;
  *(_OWORD *)(a2 + 0x20) = *(_OWORD *)(result + 0x20);
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_1468D9370 (0x1468D9370) ---

// --- Function: sub_1468D9470 (0x1468D9470) ---
__int64 __fastcall sub_1468D9470(__int64 a1, __int64 a2)
{
  __int64 v2; // r8
  __int64 result; // rax

  v2 = *(_QWORD *)(a1 + 0x128);
  if ( v2 )
  {
    *(_QWORD *)(a2 + 0x18) = *(_QWORD *)(v2 + 0x168);
    *(_QWORD *)a2 = *(_QWORD *)(v2 + 0x150);
    *(_QWORD *)(a2 + 8) = *(_QWORD *)(v2 + 0x158);
    *(_QWORD *)(a2 + 0x10) = *(_QWORD *)(v2 + 0x160);
    *(_OWORD *)(a2 + 0x20) = *(_OWORD *)(v2 + 0x170);
    *(double *)(a2 + 0x30) = *(double *)(v2 + 0x180);
    *(_QWORD *)(a2 + 0x38) = *(_QWORD *)(v2 + 0x188);
    return a2;
  }
  else
  {
    *(_QWORD *)a2 = 0;
    *(_QWORD *)(a2 + 8) = 0;
    *(_QWORD *)(a2 + 0x10) = 0;
    *(_QWORD *)(a2 + 0x18) = 0x3FF0000000000000LL;
    *(_QWORD *)(a2 + 0x20) = 0;
    *(_QWORD *)(a2 + 0x28) = 0;
    *(_QWORD *)(a2 + 0x30) = 0;
    result = a2;
    *(_QWORD *)(a2 + 0x38) = 0x3FF0000000000000LL;
  }
  return result;
}

// --- End Function: sub_1468D9470 (0x1468D9470) ---

// --- Function: sub_1468D9510 (0x1468D9510) ---
unsigned __int64 *__fastcall sub_1468D9510(__int64 a1, unsigned __int64 *a2, unsigned __int16 *a3)
{
  unsigned __int64 v6; // rbx
  unsigned __int64 v7; // rbp
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 v10; // rcx
  __int64 v11; // r9
  __int64 v12; // rcx
  bool v13; // cf
  unsigned __int16 v15; // [rsp+40h] [rbp-38h] BYREF
  _QWORD v16[2]; // [rsp+48h] [rbp-30h] BYREF
  int v17; // [rsp+58h] [rbp-20h]
  unsigned __int64 v18; // [rsp+80h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) != 7
    && (sub_1468D6F90((unsigned __int64 *)a1, &v18, *a3), (v6 = v18) != 0)
    && (v7 = v18 & 0xFFFFFFFFFFFFLL,
        handle_metadata_ptr = get_handle_metadata_ptr(v18 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v18))
    && v7 )
  {
    *a2 = v6;
  }
  else
  {
    v10 = *(_QWORD *)(a1 + 0x2C8);
    if ( !v10 || (v11 = *(_QWORD *)(v10 + 8), v12 = *(_QWORD *)(v10 + 0x10), v11 == v12) )
    {
LABEL_14:
      v15 = 0xFFFF;
      sub_14036B680((__int64)v16);
      v15 = *a3;
      v13 = *(_BYTE *)(a1 + 0xD) < 2u;
      v17 = 0;
      sub_1467BC2E0(*(_QWORD *)(pEntitySystem + 0x628), &v18, a1, &v15, 0, (__int64)v16, !v13);
      if ( v16[0] )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)(v16[0] + 8LL) + 0x10LL))(v16[0] + 8LL);
      }
    }
    else
    {
      while ( *(_WORD *)v11 != *a3 )
      {
        v11 += 0x20;
        if ( v11 == v12 )
        {
          goto LABEL_14;
        }
      }
      sub_1467BC2E0(
        *(_QWORD *)(pEntitySystem + 0x628),
        &v18,
        a1,
        (unsigned __int16 *)v11,
        *(_DWORD *)(v11 + 0x18),
        v11 + 8,
        *(_BYTE *)(a1 + 0xD) >= 2u);
    }
    *a2 = v18;
  }
  return a2;
}

// --- End Function: sub_1468D9510 (0x1468D9510) ---

// --- Function: sub_1468D9C10 (0x1468D9C10) ---
char __fastcall sub_1468D9C10(
        unsigned __int64 a1,
        void **string_struct_ptr,
        void **string_struct_ptr_1)
{
  int v6; // eax
  bool v7; // r12
  __int64 v9; // rbx
  __int64 (__fastcall *v10)(__int64, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v12; // rbx
  __int64 handle_metadata_ptr; // r8
  __int16 n4; // dx
  _BYTE *v15; // rax
  const char *p_%s_Movable; // rdx
  __int64 (__fastcall *v17)(unsigned __int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_1; // ax
  __int64 v19; // rbx
  __int64 handle_metadata_ptr_1; // rax
  __int16 n4_1; // r8
  _BYTE *v22; // rax
  __int64 (__fastcall *v23)(unsigned __int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_101_1; // ax
  bool valid; // al
  const char *p_Movable; // r8
  __int64 (__fastcall *v27)(unsigned __int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_101; // ax
  __int64 v29; // rdi
  __int64 (__fastcall *v30)(__int64, _QWORD); // rbx
  unsigned int v31; // eax
  _BYTE *v32; // rax
  const char *p_Unstreamable; // r8
  __int64 (__fastcall *v34)(unsigned __int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF_2; // ax
  __int64 v36; // rbx
  __int64 handle_metadata_ptr_2; // r8
  __int16 n4_2; // dx
  __int64 v39; // rax
  const char *p_Unstreamable_1; // r8
  _BYTE v41[16]; // [rsp+20h] [rbp-20h] BYREF
  __int64 v42; // [rsp+70h] [rbp+30h] BYREF
  __int64 v43; // [rsp+88h] [rbp+48h] BYREF

  assignCStringToStringStructure(
    string_struct_ptr,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp);
  assignCStringToStringStructure(
    string_struct_ptr_1,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp);
  v6 = *(_DWORD *)(a1 + 0x110);
  v7 = (v6 & 0x2000) != 0;
  if ( (_BYTE)isEditor && (v6 & 1) != 0 )
  {
    assignCStringToStringStructure(string_struct_ptr_1, "Placed editor object");
    return 1;
  }
  v42 = *(_QWORD *)(a1 + 0x18);
  if ( is_valid_handle_typeB((unsigned __int64 *)&v42) )
  {
    v9 = *(_QWORD *)(a1 + 0x18) & 0xFFFFFFFFFFFFLL;
    v10 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)v9 + 0x338LL);
    n0xFFFF = ::n0xFFFF;
    if ( ::n0xFFFF == (__int16)0xFFFF )
    {
      n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                      + 0x10LL))(
                            global_dispatcher_ptr,
                            &v43,
                            "IEntityComponentObjectContainer");
      ::n0xFFFF = n0xFFFF;
    }
    LOWORD(v42) = n0xFFFF;
    v12 = *(_QWORD *)v10(v9, v41, &v42);
    v42 = v12;
    if ( v12 )
    {
      handle_metadata_ptr = get_handle_metadata_ptr(v12 & 0xFFFFFFFFFFFFLL);
      n4 = *(_WORD *)(handle_metadata_ptr + 4);
      if ( n4 != 4
        && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v12) & 0xFFF)
        && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v42)) )
      {
        v15 = (_BYTE *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v12 & 0xFFFFFFFFFFFFLL) + 0x578LL))(v12 & 0xFFFFFFFFFFFFLL);
        assignCStringToStringStructure(string_struct_ptr, v15);
        p_%s_Movable = "%s Immovable";
LABEL_33:
        p_Unstreamable = "Streamable";
        if ( v7 )
        {
          p_Unstreamable = "Unstreamable";
        }
        sub_1403A5050(string_struct_ptr_1, p_%s_Movable, p_Unstreamable);
        return !sub_1403BB9F0(string_struct_ptr);
      }
    }
  }
  else
  {
    v17 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
    n0xFFFF_1 = ::n0xFFFF;
    if ( ::n0xFFFF == (__int16)0xFFFF )
    {
      n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                        + 0x10LL))(
                              global_dispatcher_ptr,
                              &v43,
                              "IEntityComponentObjectContainer");
      ::n0xFFFF = n0xFFFF_1;
    }
    LOWORD(v42) = n0xFFFF_1;
    v19 = *(_QWORD *)v17(a1, v41, &v42);
    v42 = v19;
    if ( v19 )
    {
      handle_metadata_ptr_1 = get_handle_metadata_ptr(v19 & 0xFFFFFFFFFFFFLL);
      n4_1 = *(_WORD *)(handle_metadata_ptr_1 + 4);
      if ( n4_1 != 4
        && *(_WORD *)(handle_metadata_ptr_1 + 2) == (HIWORD(v19) & 0xFFF)
        && (n4_1 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v42)) )
      {
        v22 = (_BYTE *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v19 & 0xFFFFFFFFFFFFLL) + 0x578LL))(v19 & 0xFFFFFFFFFFFFLL);
        assignCStringToStringStructure(string_struct_ptr, v22);
        if ( v7 )
        {
          assignCStringToStringStructure(string_struct_ptr_1, "Unstreamable Immovable");
          return !sub_1403BB9F0(string_struct_ptr);
        }
        v23 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
        n0xFFFF_101_1 = ::n0xFFFF_101;
        if ( ::n0xFFFF_101 == (__int16)0xFFFF )
        {
          n0xFFFF_101_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                                + 0x10LL))(
                                      global_dispatcher_ptr,
                                      &v43,
                                      "EntityComponentDynamicInstanceProperties");
          ::n0xFFFF_101 = n0xFFFF_101_1;
        }
        LOWORD(v42) = n0xFFFF_101_1;
        v42 = *(_QWORD *)v23(a1, v41, &v42);
        valid = is_valid_handle_typeA(&v42);
        p_Movable = "Immovable";
        if ( valid )
        {
          p_Movable = "Movable";
        }
        sub_1403A5050(string_struct_ptr_1, "Streamable %s", p_Movable);
        return !sub_1403BB9F0(string_struct_ptr);
      }
    }
    v27 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
    n0xFFFF_101 = ::n0xFFFF_101;
    if ( ::n0xFFFF_101 == (__int16)0xFFFF )
    {
      n0xFFFF_101 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                          + 0x10LL))(
                                global_dispatcher_ptr,
                                &v43,
                                "EntityComponentDynamicInstanceProperties");
      ::n0xFFFF_101 = n0xFFFF_101;
    }
    LOWORD(v42) = n0xFFFF_101;
    v43 = *(_QWORD *)v27(a1, v41, &v42);
    v42 = v43;
    if ( is_valid_handle_typeA(&v42) )
    {
      v29 = (*(__int64 (__fastcall **)(Parameter *))(*(_QWORD *)CSystem + 0x258LL))(CSystem);
      v30 = *(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v29 + 0xF8LL);
      v31 = sub_1403B2260(v43 & 0xFFFFFFFFFFFFLL);
      v32 = (_BYTE *)v30(v29, v31);
      assignCStringToStringStructure(string_struct_ptr, v32);
      p_%s_Movable = "%s Movable";
      goto LABEL_33;
    }
    v34 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
    n0xFFFF_2 = n0xFFFF_41;
    if ( n0xFFFF_41 == (__int16)0xFFFF )
    {
      n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                        + 0x10LL))(
                              global_dispatcher_ptr,
                              &v43,
                              "IAttachableComponent");
      n0xFFFF_41 = n0xFFFF_2;
    }
    LOWORD(v42) = n0xFFFF_2;
    v36 = *(_QWORD *)v34(a1, v41, &v42);
    v42 = v36;
    if ( v36 )
    {
      handle_metadata_ptr_2 = get_handle_metadata_ptr(v36 & 0xFFFFFFFFFFFFLL);
      n4_2 = *(_WORD *)(handle_metadata_ptr_2 + 4);
      if ( n4_2 != 4
        && *(_WORD *)(handle_metadata_ptr_2 + 2) == (HIWORD(v36) & 0xFFF)
        && (n4_2 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v42)) )
      {
        v39 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v36 & 0xFFFFFFFFFFFFLL) + 0x608LL))(v36 & 0xFFFFFFFFFFFFLL);
        if ( v39 )
        {
          v42 = *(_QWORD *)((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v39 + 0xD0LL))(v39) + 8);
          if ( is_valid_handle_typeB((unsigned __int64 *)&v42) )
          {
            return sub_1468D9C10(v42 & 0xFFFFFFFFFFFFLL, string_struct_ptr, string_struct_ptr_1);
          }
        }
      }
    }
    p_Unstreamable_1 = "Streamable";
    if ( v7 )
    {
      p_Unstreamable_1 = "Unstreamable";
    }
    sub_1403A5050(string_struct_ptr_1, "%s Runtime-spawned", p_Unstreamable_1);
  }
  return 0;
}

// --- End Function: sub_1468D9C10 (0x1468D9C10) ---

// --- Function: sub_1468DA210 (0x1468DA210) ---
__int64 __fastcall sub_1468DA210(__int64 a1, __int64 a2)
{
  __int64 (__fastcall *v4)(__int64, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  _BYTE v10[24]; // [rsp+20h] [rbp-18h] BYREF
  __int64 v11; // [rsp+40h] [rbp+8h] BYREF
  char v12; // [rsp+58h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v12,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v11) = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v10, &v11);
  v11 = v6;
  if ( v6
    && (handle_metadata_ptr = get_handle_metadata_ptr(v6 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v11)) )
  {
    return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x6F8LL))(
             v6 & 0xFFFFFFFFFFFFLL,
             a2);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468DA210 (0x1468DA210) ---

// --- Function: sub_1468DA310 (0x1468DA310) ---
_QWORD *__fastcall sub_1468DA310(__int64 a1, _QWORD *a2)
{
  _QWORD *v2; // rax

  v2 = *(_QWORD **)(a1 + 0x128);
  if ( v2 )
  {
    *a2 = *v2;
  }
  else
  {
    *a2 = 0;
  }
  return a2;
}

// --- End Function: sub_1468DA310 (0x1468DA310) ---

// --- Function: sub_1468DA340 (0x1468DA340) ---
_QWORD *__fastcall sub_1468DA340(__int64 a1, _QWORD *a2, int n2_1, char a4, unsigned __int8 n2)
{
  unsigned __int64 *v7; // rcx
  _QWORD *v10; // rax
  __int64 *v12; // rbx
  int n7; // eax
  unsigned __int64 v14; // rax
  unsigned __int64 v15; // rbx
  __int64 v16; // r15
  __int64 v17; // rax
  __int64 v18; // rax
  __int64 v19; // rdx
  float v20; // xmm15_4
  float v21; // xmm11_4
  float v22; // xmm7_4
  float v23; // xmm10_4
  double v24; // xmm0_8
  __int16 v25; // r8
  float *v26; // rax
  float v27; // xmm14_4
  float v28; // xmm13_4
  float v29; // xmm12_4
  float v30; // xmm8_4
  float v31; // xmm6_4
  float v32; // xmm5_4
  float v33; // kr00_4
  float v34; // xmm1_4
  float v35; // xmm9_4
  float v36; // kr00_4
  float v37; // xmm5_4
  float v38; // xmm0_4
  float v39; // xmm7_4
  float v40; // xmm11_4
  float v41; // kr00_4
  float v42; // xmm6_4
  float v43; // xmm3_4
  float v44; // xmm5_4
  float v45; // xmm4_4
  float v46; // xmm2_4
  double v47; // xmm13_8
  double v48; // xmm12_8
  double v49; // xmm4_8
  double v50; // xmm7_8
  double v51; // xmm5_8
  double v52; // xmm0_8
  double v53; // xmm4_8
  double v54; // xmm3_8
  double v55; // xmm8_8
  double v56; // xmm15_8
  double v57; // xmm6_8
  double v58; // xmm5_8
  double v59; // xmm9_8
  double v60; // xmm2_8
  double v61; // xmm11_8
  double v62; // xmm10_8
  double v63; // xmm13_8
  double v64; // xmm14_8
  double v65; // xmm8_8
  double v66; // xmm9_8
  double v67; // xmm10_8
  __int64 v68; // rcx
  int v69; // ebx
  unsigned __int64 v70; // rax
  __int64 v71; // rax
  float *v72; // rax
  float v73; // xmm9_4
  float v74; // xmm10_4
  float v75; // xmm11_4
  float v76; // xmm1_4
  __m128 v77; // xmm2
  float v78; // xmm3_4
  float v79; // xmm5_4
  float v80; // xmm6_4
  float v81; // xmm7_4
  float v82; // xmm8_4
  float v83; // xmm12_4
  float v84; // xmm13_4
  __m128 v85; // kr00_16
  __m128 v86; // xmm3
  float v87; // xmm0_4
  __m128 v88; // kr00_16
  __m128 v89; // xmm3
  __m128 v90; // kr00_16
  __m128 v91; // xmm4
  float v92; // xmm2_4
  float v93; // xmm1_4
  __m128 v94; // kr00_16
  __m128 v95; // xmm4
  double v96; // xmm13_8
  double v97; // xmm14_8
  double v98; // xmm4_8
  double v99; // xmm7_8
  double v100; // xmm12_8
  double v101; // xmm6_8
  double v102; // xmm5_8
  double v103; // xmm8_8
  double v104; // xmm4_8
  double v105; // xmm3_8
  double v106; // xmm4_8
  double v107; // xmm7_8
  double v108; // xmm5_8
  double v109; // xmm3_8
  double v110; // xmm6_8
  double v111; // xmm11_8
  double v112; // xmm12_8
  double v113; // xmm7_8
  double v114; // xmm15_8
  double v115; // xmm0_8
  double v116; // xmm4_8
  double v117; // xmm9_8
  double v118; // xmm3_8
  double v119; // xmm10_8
  double v120; // xmm13_8
  __int64 v121; // rbx
  float *v122; // rax
  double v123; // xmm14_8
  float v124; // xmm13_4
  double v125; // xmm4_8
  double v126; // xmm6_8
  double v127; // xmm12_8
  double v128; // xmm7_8
  double v129; // xmm5_8
  float v130; // xmm9_4
  double v131; // xmm4_8
  double v132; // xmm8_8
  double v133; // xmm12_8
  double v134; // xmm6_8
  double v135; // xmm5_8
  double v136; // xmm9_8
  double v137; // xmm13_8
  double v138; // xmm7_8
  double v139; // xmm11_8
  double v140; // xmm10_8
  double v141; // kr00_8
  double v142; // xmm3_8
  double v143; // xmm13_8
  double *v144; // rax
  double v145; // xmm12_8
  double v146; // xmm7_8
  double v147; // xmm4_8
  double v148; // xmm6_8
  double v149; // kr00_8
  double v150; // xmm4_8
  double v151; // xmm7_8
  double v152; // xmm0_8
  double v153; // xmm8_8
  double v154; // xmm10_8
  double v155; // xmm2_8
  double v156; // xmm9_8
  double v157; // xmm14_8
  double v158; // xmm3_8
  double v159; // xmm15_8
  double v160; // xmm12_8
  double v161; // xmm7_8
  double v162; // xmm4_8
  double v163; // xmm2_8
  __int64 v164; // rax
  __int64 v165; // rax
  double v166; // xmm0_8
  double v167; // xmm1_8
  _QWORD *result; // rax
  __m256 v169; // [rsp+30h] [rbp-D0h] BYREF
  __int128 v170; // [rsp+50h] [rbp-B0h]
  double v171; // [rsp+60h] [rbp-A0h]
  double v172; // [rsp+68h] [rbp-98h]
  double v173; // [rsp+70h] [rbp-90h]
  double v174; // [rsp+78h] [rbp-88h]
  float v175; // [rsp+80h] [rbp-80h]
  float v176; // [rsp+84h] [rbp-7Ch]
  double v177; // [rsp+88h] [rbp-78h]
  double v178; // [rsp+90h] [rbp-70h]
  double v179; // [rsp+98h] [rbp-68h]
  double v180; // [rsp+A0h] [rbp-60h]
  _BYTE v181[16]; // [rsp+A8h] [rbp-58h] BYREF
  double v182; // [rsp+B8h] [rbp-48h]
  float v183; // [rsp+C0h] [rbp-40h]
  float v184; // [rsp+1C0h] [rbp+C0h]
  double v185; // [rsp+1C0h] [rbp+C0h]
  float v186; // [rsp+1C0h] [rbp+C0h]

  v7 = *(unsigned __int64 **)(a1 + 0x128);
  if ( !v7 || !is_valid_handle_typeB(v7) )
  {
    *a2 = 0;
    a2[1] = 0;
    a2[2] = 0;
    a2[3] = 0x3FF0000000000000LL;
    a2[4] = 0;
    a2[5] = 0;
    a2[6] = 0;
    result = a2;
    a2[7] = 0x3FF0000000000000LL;
    goto LABEL_44;
  }
  v10 = *(_QWORD **)(a1 + 0x128);
  if ( *(_QWORD *)((*v10 & 0xFFFFFFFFFFFFLL) + 0x4C0) != *(_QWORD *)(a1 + 0x4C0) )
  {
    n2 = 1;
  }
  CEntity::GetTransform(*v10 & 0xFFFFFFFFFFFFLL, (__int64)&v169, 0, a1_0, 0, n2);
  v12 = *(__int64 **)(a1 + 0x128);
  n7 = *((_DWORD *)v12 + 4);
  switch ( n7 )
  {
    case 3:
      v14 = sub_1468D6BB0(*v12 & 0xFFFFFFFFFFFFLL, *((_DWORD *)v12 + 0x51));
      v15 = v14;
      if ( v14 && *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) != 0xFFFF )
      {
        v16 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)v14 + 0x68LL))(v14);
        v17 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)v15 + 0x28LL))(v15);
        v18 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v17 + 0x140LL))(
                v17,
                (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x128) + 0x148LL));
        v19 = *(_QWORD *)(a1 + 0x128);
        v20 = *(float *)(v18 + 0xC);
        v21 = *(float *)v18;
        v22 = *(float *)(v18 + 4);
        v23 = *(float *)(v18 + 8);
        v24 = *(double *)(v18 + 0x10);
        v25 = *(_WORD *)(v19 + 0x14A);
        v183 = *(float *)(v18 + 0x18);
        *(float *)&v174 = v20;
        *(float *)&v178 = v21;
        v184 = v22;
        *(float *)&v179 = v23;
        v175 = v23;
        v176 = v22;
        *(float *)&v180 = v21;
        *(float *)&v173 = v20;
        v182 = v24;
        if ( v25 < 0 )
        {
          v46 = v183;
          v45 = *((float *)&v182 + 1);
          v44 = *(float *)&v182;
        }
        else
        {
          v26 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v16 + 0x90LL))(
                           v16,
                           *(unsigned __int16 *)(v19 + 0x148));
          v27 = v26[6];
          v28 = v26[5];
          v29 = v26[4];
          v30 = v26[2];
          v31 = (float)((float)(v27 * v22) - (float)(v28 * v23)) + (float)(v29 * v20);
          v32 = (float)((float)(v29 * v23) - (float)(v21 * v27)) + (float)(v28 * v20);
          v33 = (float)((float)(v21 * v28) - (float)(v29 * v22)) + (float)(v27 * v20);
          v34 = v33 * v21;
          v35 = (float)(v33 * v22) - (float)(v32 * v23);
          v36 = v32 * v21;
          v37 = v26[3];
          v38 = v31 * v22;
          v39 = v26[1];
          v40 = v36 - v38;
          v41 = v31 * v23;
          v42 = *v26;
          *(float *)&v180 = (float)((float)((float)(v30 * v184) - (float)(v39 * *(float *)&v179)) + (float)(*v26 * v20))
                          + (float)(v37 * *(float *)&v178);
          v176 = (float)((float)((float)(v42 * *(float *)&v179) - (float)(v30 * *(float *)&v178)) + (float)(v39 * v20))
               + (float)(v37 * v184);
          v175 = (float)((float)((float)(v39 * *(float *)&v178) - (float)(v42 * v184)) + (float)(v30 * v20))
               + (float)(v37 * *(float *)&v179);
          v43 = (float)((float)((float)(v37 * v20) - (float)(v42 * *(float *)&v178)) - (float)(v39 * v184))
              - (float)(v30 * *(float *)&v179);
          v44 = (float)((float)(v35 + v29) + *(float *)&v182) + v35;
          v45 = (float)((float)((float)(v41 - v34) + v28) + *((float *)&v182 + 1)) + (float)(v41 - v34);
          v23 = v175;
          v46 = (float)((float)(v40 + v27) + v183) + v40;
          v21 = *(float *)&v180;
          *(float *)&v174 = v43;
          v184 = v176;
          *(float *)&v173 = v43;
        }
        v47 = *(double *)v169.m256_f32;
        v48 = v44;
        v49 = v45;
        v50 = v46 * *(double *)&v169.m256_f32[2]
            - v49 * *(double *)&v169.m256_f32[4]
            + v44 * *(double *)&v169.m256_f32[6];
        v51 = v44 * *(double *)&v169.m256_f32[4] - v46 * *(double *)v169.m256_f32 + v49 * *(double *)&v169.m256_f32[6];
        v52 = v51 * *(double *)&v169.m256_f32[4];
        v179 = v49;
        v53 = v49 * *(double *)v169.m256_f32 - v48 * *(double *)&v169.m256_f32[2] + v46 * *(double *)&v169.m256_f32[6];
        v54 = v53 * *(double *)&v169.m256_f32[2];
        v174 = *(float *)&v174;
        v55 = v21;
        v178 = v46;
        v177 = v23;
        v56 = v23 * *(double *)&v169.m256_f32[4];
        v57 = (v50 * *(double *)&v169.m256_f32[4]
             - v53 * *(double *)v169.m256_f32
             + v179
             + v50 * *(double *)&v169.m256_f32[4]
             - v53 * *(double *)v169.m256_f32)
            * v172
            + *((double *)&v170 + 1);
        v58 = (v51 * *(double *)v169.m256_f32
             - v50 * *(double *)&v169.m256_f32[2]
             + v46
             + v51 * *(double *)v169.m256_f32
             - v50 * *(double *)&v169.m256_f32[2])
            * v172
            + v171;
        v59 = v184;
        v185 = v172;
        v60 = v21 * *(double *)&v169.m256_f32[4] - v23 * *(double *)v169.m256_f32;
        *(double *)v169.m256_f32 = v175 * *(double *)&v169.m256_f32[2]
                                 - v176 * *(double *)&v169.m256_f32[4]
                                 + *(float *)&v180 * *(double *)&v169.m256_f32[6]
                                 + *(float *)&v173 * *(double *)v169.m256_f32;
        v61 = v59 * v47;
        v62 = v55 * *(double *)&v169.m256_f32[2];
        v63 = v55 * v47;
        v64 = v59 * *(double *)&v169.m256_f32[2];
        v65 = v60 + v59 * *(double *)&v169.m256_f32[6] + v174 * *(double *)&v169.m256_f32[2];
        v66 = v61 - v62 + *(double *)&v169.m256_f32[6] * v177 + v174 * *(double *)&v169.m256_f32[4];
        v67 = v174 * *(double *)&v169.m256_f32[6] - v63 - v64 - v56;
        *(double *)&v169.m256_f32[6] = v67;
        *(double *)&v169.m256_f32[2] = v65;
        *(double *)&v169.m256_f32[4] = v66;
        *(double *)&v170 = (v48 + v54 - v52 + v54 - v52) * v172 + *(double *)&v170;
        *((double *)&v170 + 1) = v57;
        v171 = v58;
LABEL_35:
        if ( a4 )
        {
          v143 = *(double *)v169.m256_f32;
          v144 = (double *)(*(_QWORD *)(a1 + 0x128) + 0x150LL);
          v145 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x170LL);
          v146 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x180LL);
          v147 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x178LL);
          v148 = v146 * v65 - v147 * v66 + v145 * v67;
          v149 = v145 * v66 - v146 * *(double *)v169.m256_f32 + v147 * v67;
          v150 = v147 * *(double *)v169.m256_f32 - v145 * v65 + v146 * v67;
          v151 = v150 * v65 - v149 * v66;
          v152 = v148 * v65;
          v153 = *v144;
          v154 = *v144 * *(double *)&v169.m256_f32[2];
          v155 = v148 * v66;
          v156 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x158LL);
          v157 = v156 * *(double *)&v169.m256_f32[2];
          v158 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x160LL);
          v159 = v158 * *(double *)&v169.m256_f32[4];
          v177 = *(double *)(*(_QWORD *)(a1 + 0x128) + 0x168LL);
          v160 = (v145 + v151 + v151) * v185 + *(double *)&v170;
          v161 = (v155 - v150 * *(double *)v169.m256_f32 + v144[5] + v155 - v150 * *(double *)v169.m256_f32) * v185
               + *((double *)&v170 + 1);
          v162 = (v149 * *(double *)v169.m256_f32 - v152 + v144[6] + v149 * *(double *)v169.m256_f32 - v152) * v185
               + v171;
          v185 = v185 * v144[7];
          v173 = v158;
          v163 = v153 * *(double *)&v169.m256_f32[4] - v158 * *(double *)v169.m256_f32;
          *(double *)v169.m256_f32 = v158 * *(double *)&v169.m256_f32[2]
                                   - v156 * *(double *)&v169.m256_f32[4]
                                   + v153 * *(double *)&v169.m256_f32[6]
                                   + v177 * *(double *)v169.m256_f32;
          *(double *)&v169.m256_f32[2] = v163
                                       + v156 * *(double *)&v169.m256_f32[6]
                                       + v177 * *(double *)&v169.m256_f32[2];
          *(double *)&v169.m256_f32[4] = v156 * v143
                                       - v154
                                       + *(double *)&v169.m256_f32[6] * v158
                                       + v177 * *(double *)&v169.m256_f32[4];
          *(double *)&v169.m256_f32[6] = v177 * *(double *)&v169.m256_f32[6] - v153 * v143 - v157 - v159;
          v172 = v185;
          *(double *)&v170 = v160;
          *((double *)&v170 + 1) = v161;
          v171 = v162;
        }
        goto LABEL_38;
      }
      goto LABEL_34;
    case 2:
      v68 = *v12;
      v69 = *((_DWORD *)v12 + 0x51);
      v70 = sub_1468DE420(v68 & 0xFFFFFFFFFFFFLL);
      if ( !v70 )
      {
        goto LABEL_34;
      }
      v71 = sub_146845AE0(v70, v69);
      if ( !v71 )
      {
        goto LABEL_34;
      }
      v72 = (float *)(*(__int64 (__fastcall **)(__int64, _BYTE *, _QWORD))(*(_QWORD *)v71 + 0x278LL))(
                       v71,
                       v181,
                       (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x128) + 0x148LL));
      v73 = 1.0;
      v74 = 0.0;
      v75 = 0.0;
      v76 = *v72;
      v77 = (__m128)*((unsigned int *)v72 + 5);
      v78 = v72[0xA];
      v79 = v72[1];
      v80 = v72[2];
      v81 = v72[4];
      v82 = v72[6];
      v83 = v72[8];
      v84 = v72[9];
      v85 = v77;
      v85.m128_f32[0] = (float)(v77.m128_f32[0] + *v72) + v78;
      v186 = 0.0;
      if ( v85.m128_f32[0] <= 0.0 )
      {
        if ( v76 < v77.m128_f32[0] || v76 < v78 )
        {
          if ( v77.m128_f32[0] < v76 || v77.m128_f32[0] < v78 )
          {
            if ( v78 < v76 || v78 < v77.m128_f32[0] )
            {
              goto LABEL_28;
            }
            v94 = (__m128)*((unsigned int *)v72 + 0xA);
            v94.m128_f32[0] = (float)((float)(v78 - v76) - v77.m128_f32[0]) + 1.0;
            v95 = _mm_sqrt_ps(_mm_shuffle_ps(v94, v94, 0));
            v95.m128_f32[0] = _mm_shuffle_ps(v95, v95, 0xFF).m128_f32[0];
            v92 = 0.5 / v95.m128_f32[0];
            v73 = (float)(v81 - v79) * (float)(0.5 / v95.m128_f32[0]);
            v75 = (float)(v84 + v82) * (float)(0.5 / v95.m128_f32[0]);
            v87 = v95.m128_f32[0] * 0.5;
            v93 = v83 + v80;
          }
          else
          {
            v90 = (__m128)*((unsigned int *)v72 + 5);
            v90.m128_f32[0] = (float)((float)(v77.m128_f32[0] - v78) - v76) + 1.0;
            v91 = _mm_sqrt_ps(_mm_shuffle_ps(v90, v90, 0));
            v91.m128_f32[0] = _mm_shuffle_ps(v91, v91, 0xFF).m128_f32[0];
            v92 = 0.5 / v91.m128_f32[0];
            v73 = (float)(v80 - v83) * (float)(0.5 / v91.m128_f32[0]);
            v87 = (float)(v84 + v82) * (float)(0.5 / v91.m128_f32[0]);
            v93 = v81 + v79;
            v75 = v91.m128_f32[0] * 0.5;
          }
          v74 = v93 * v92;
        }
        else
        {
          v88 = (__m128)*(unsigned int *)v72;
          v88.m128_f32[0] = (float)((float)(v76 - v77.m128_f32[0]) - v78) + 1.0;
          v89 = _mm_sqrt_ps(_mm_shuffle_ps(v88, v88, 0));
          v89.m128_f32[0] = _mm_shuffle_ps(v89, v89, 0xFF).m128_f32[0];
          v73 = (float)(v84 - v82) * (float)(0.5 / v89.m128_f32[0]);
          v74 = v89.m128_f32[0] * 0.5;
          v87 = (float)(v83 + v80) * (float)(0.5 / v89.m128_f32[0]);
          v75 = (float)(v81 + v79) * (float)(0.5 / v89.m128_f32[0]);
        }
      }
      else
      {
        v85.m128_f32[0] = v85.m128_f32[0] + 1.0;
        v86 = _mm_sqrt_ps(_mm_shuffle_ps(v85, v85, 0));
        v86.m128_f32[0] = _mm_shuffle_ps(v86, v86, 0xFF).m128_f32[0];
        v74 = (float)(v84 - v82) * (float)(0.5 / v86.m128_f32[0]);
        v73 = v86.m128_f32[0] * 0.5;
        v87 = (float)(v81 - v79) * (float)(0.5 / v86.m128_f32[0]);
        v75 = (float)(v80 - v83) * (float)(0.5 / v86.m128_f32[0]);
      }
      v186 = v87;
LABEL_28:
      v96 = *(double *)v169.m256_f32;
      v97 = *(double *)&v169.m256_f32[2];
      v98 = v72[7];
      v99 = v72[0xB];
      v100 = v72[3];
      v101 = v99 * *(double *)&v169.m256_f32[2]
           - v98 * *(double *)&v169.m256_f32[4]
           + v100 * *(double *)&v169.m256_f32[6];
      v177 = v98;
      v102 = v100 * *(double *)&v169.m256_f32[4] - v99 * *(double *)v169.m256_f32 + v98 * *(double *)&v169.m256_f32[6];
      v103 = v74;
      v104 = v98 * *(double *)v169.m256_f32 - v100 * *(double *)&v169.m256_f32[2] + v99 * *(double *)&v169.m256_f32[6];
      v105 = v104 * *(double *)&v169.m256_f32[2];
      v106 = v101 * *(double *)&v169.m256_f32[4] - v104 * *(double *)v169.m256_f32;
      v174 = v99;
      v107 = v105 - v102 * *(double *)&v169.m256_f32[4];
      v108 = v102 * *(double *)v169.m256_f32 - v101 * *(double *)&v169.m256_f32[2];
      v109 = v186;
      v110 = v186 * *(double *)v169.m256_f32;
      v111 = v75;
      v173 = v73;
      v112 = (v107 + v100 + v107) * v172 + *(double *)&v170;
      v185 = v172;
      v113 = (v106 + v177 + v106) * v172 + *((double *)&v170 + 1);
      v180 = v109;
      v114 = v109 * *(double *)&v169.m256_f32[4];
      v115 = v109 * *(double *)&v169.m256_f32[2]
           - v111 * *(double *)&v169.m256_f32[4]
           + v74 * *(double *)&v169.m256_f32[6]
           + v73 * *(double *)v169.m256_f32;
      v116 = v73;
      v117 = v74 * *(double *)&v169.m256_f32[2];
      *(double *)v169.m256_f32 = v115;
      v118 = v74 * *(double *)&v169.m256_f32[4] - v110 + *(double *)&v169.m256_f32[6] * v111;
      v119 = v96 * v111;
      v120 = v103 * v96;
      v65 = v118 + v116 * *(double *)&v169.m256_f32[2];
      *(double *)&v169.m256_f32[2] = v65;
      v66 = *(double *)&v169.m256_f32[6] * v180 + v119 - v117 + v116 * *(double *)&v169.m256_f32[4];
      v67 = v116 * *(double *)&v169.m256_f32[6] - v120 - v97 * v111 - v114;
      *(double *)&v169.m256_f32[6] = v67;
      *(double *)&v169.m256_f32[4] = v66;
      *(double *)&v170 = v112;
      *((double *)&v170 + 1) = v113;
      v171 = (v108 + v174 + v108) * v172 + v171;
      goto LABEL_35;
    case 4:
      if ( *((_BYTE *)v12 + 0x138) != 1 )
      {
        sub_1403DC060();
      }
      v121 = v12[3];
      if ( v121 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v121 + 8LL))(v121);
        v122 = (float *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v121 + 0x118LL))(v121);
        v123 = *(double *)v169.m256_f32;
        v124 = v122[2];
        v125 = v122[5];
        v126 = v122[6];
        v127 = v122[4];
        v128 = *(double *)&v169.m256_f32[2] * v126
             - *(double *)&v169.m256_f32[4] * v125
             + *(double *)&v169.m256_f32[6] * v127;
        v129 = *(double *)&v169.m256_f32[4] * v127
             - *(double *)v169.m256_f32 * v126
             + *(double *)&v169.m256_f32[6] * v125;
        v130 = v122[1];
        v177 = v125;
        v131 = *(double *)v169.m256_f32 * v125
             - *(double *)&v169.m256_f32[2] * v127
             + *(double *)&v169.m256_f32[6] * v126;
        v132 = *v122;
        v174 = v126;
        v173 = v122[3];
        v133 = (v131 * *(double *)&v169.m256_f32[2]
              - v129 * *(double *)&v169.m256_f32[4]
              + v127
              + v131 * *(double *)&v169.m256_f32[2]
              - v129 * *(double *)&v169.m256_f32[4])
             * v172
             + *(double *)&v170;
        v134 = (v128 * *(double *)&v169.m256_f32[4]
              - v131 * *(double *)v169.m256_f32
              + v177
              + v128 * *(double *)&v169.m256_f32[4]
              - v131 * *(double *)v169.m256_f32)
             * v172
             + *((double *)&v170 + 1);
        v135 = (v129 * *(double *)v169.m256_f32
              - v128 * *(double *)&v169.m256_f32[2]
              + v174
              + v129 * *(double *)v169.m256_f32
              - v128 * *(double *)&v169.m256_f32[2])
             * v172
             + v171;
        v136 = v130;
        v137 = v124;
        v138 = *(double *)v169.m256_f32 * v137;
        v139 = v136 * *(double *)v169.m256_f32;
        v140 = v132 * *(double *)&v169.m256_f32[2];
        *(double *)v169.m256_f32 = v137 * *(double *)&v169.m256_f32[2]
                                 - v136 * *(double *)&v169.m256_f32[4]
                                 + v132 * *(double *)&v169.m256_f32[6]
                                 + v173 * *(double *)v169.m256_f32;
        v141 = v136 * *(double *)&v169.m256_f32[2];
        *(double *)&v169.m256_f32[2] = v132 * *(double *)&v169.m256_f32[4]
                                     - v138
                                     + v136 * *(double *)&v169.m256_f32[6]
                                     + v173 * *(double *)&v169.m256_f32[2];
        v142 = v137 * *(double *)&v169.m256_f32[4];
        *(double *)&v169.m256_f32[4] = *(double *)&v169.m256_f32[6] * v137
                                     + v139
                                     - v140
                                     + v173 * *(double *)&v169.m256_f32[4];
        *(double *)&v169.m256_f32[6] = v173 * *(double *)&v169.m256_f32[6] - v132 * v123 - v141 - v142;
        *(double *)&v170 = v133;
        *((double *)&v170 + 1) = v134;
        v171 = v135;
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v121 + 0x10LL))(v121);
      }
      goto LABEL_34;
  }
  if ( n7 != 7 )
  {
LABEL_34:
    v67 = *(double *)&v169.m256_f32[6];
    v66 = *(double *)&v169.m256_f32[4];
    v65 = *(double *)&v169.m256_f32[2];
    v185 = v172;
    goto LABEL_35;
  }
  v185 = v172;
LABEL_38:
  if ( n2_1 == 2 )
  {
    v164 = (*(__int64 (__fastcall **)(FH4 *, __int64))(*(_QWORD *)pCZoneSystem + 0x60LL))(pCZoneSystem, a1 + 0x2A0);
    if ( v164 )
    {
      v165 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __m256 *))(*(_QWORD *)v164 + 0xC8LL))(v164, v181, &v169);
      v169 = *(__m256 *)v165;
      v170 = *(_OWORD *)(v165 + 0x20);
      v171 = *(double *)(v165 + 0x30);
      v166 = *(double *)(v165 + 0x38);
    }
    else
    {
      v166 = v172;
    }
    v185 = v166;
  }
  v167 = v171;
  result = a2;
  *(__m256 *)a2 = v169;
  *((_OWORD *)a2 + 2) = v170;
  *((double *)a2 + 7) = v185;
  *((double *)a2 + 6) = v167;
LABEL_44:
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_1468DA340 (0x1468DA340) ---

// --- Function: sub_1468DB250 (0x1468DB250) ---
__int64 __fastcall sub_1468DB250(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v2 && is_valid_handle_typeB(v2) )
  {
    return (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x128) + 0x148LL);
  }
  else
  {
    return 0xFFFFFFFFLL;
  }
}

// --- End Function: sub_1468DB250 (0x1468DB250) ---

// --- Function: sub_1468DB290 (0x1468DB290) ---
__int64 __fastcall sub_1468DB290(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v2 && is_valid_handle_typeB(v2) )
  {
    return *(_QWORD *)(a1 + 0x128) + 0x18LL;
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468DB290 (0x1468DB290) ---

// --- Function: sub_1468DB2D0 (0x1468DB2D0) ---
__int64 __fastcall sub_1468DB2D0(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v2 && is_valid_handle_typeB(v2) )
  {
    return *(unsigned int *)(*(_QWORD *)(a1 + 0x128) + 0x14CLL);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468DB2D0 (0x1468DB2D0) ---

// --- Function: sub_1468DB310 (0x1468DB310) ---
__int64 __fastcall sub_1468DB310(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v2 && is_valid_handle_typeB(v2) )
  {
    return *(unsigned int *)(*(_QWORD *)(a1 + 0x128) + 0x10LL);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468DB310 (0x1468DB310) ---

// --- Function: sub_1468DB350 (0x1468DB350) ---
__int64 __fastcall sub_1468DB350(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v2 && is_valid_handle_typeB(v2) )
  {
    return *(_QWORD *)(a1 + 0x128) + 0x190LL;
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468DB350 (0x1468DB350) ---

// --- Function: sub_1468DB390 (0x1468DB390) ---
__int64 __fastcall sub_1468DB390(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v2 && is_valid_handle_typeB(v2) )
  {
    return *(unsigned int *)(*(_QWORD *)(a1 + 0x128) + 0x140LL);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468DB390 (0x1468DB390) ---

// --- Function: sub_1468DB3D0 (0x1468DB3D0) ---
unsigned __int64 __fastcall sub_1468DB3D0(__int64 a1, int a2)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_146849630(result, a2);
  }
  return result;
}

// --- End Function: sub_1468DB3D0 (0x1468DB3D0) ---

// --- Function: sub_1468DB500 (0x1468DB500) ---
__int64 __fastcall sub_1468DB500(__int64 a1)
{
  unsigned __int64 v1; // rbx
  __int64 handle_metadata_ptr_1; // rax
  __int16 n4_1; // dx
  __int64 v5; // rdi
  __int64 handle_metadata_ptr_2; // rax
  __int16 n4_2; // cx
  unsigned __int16 n0xFFFF_102; // ax
  unsigned __int64 v10; // rbx
  __int64 v11; // rsi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // cx
  unsigned __int64 v14; // [rsp+40h] [rbp+8h] BYREF
  unsigned __int64 v15; // [rsp+48h] [rbp+10h] BYREF

  v1 = *(_QWORD *)(a1 + 0x4D0);
  v14 = v1;
  if ( !v1
    || (handle_metadata_ptr_1 = get_handle_metadata_ptr(v1 & 0xFFFFFFFFFFFFLL),
        n4_1 = *(_WORD *)(handle_metadata_ptr_1 + 4),
        n4_1 == 4)
    || *(_WORD *)(handle_metadata_ptr_1 + 2) != (HIWORD(v1) & 0xFFF)
    || (n4_1 != 2 || *(_QWORD *)a1()) && !check_handle_access_by_state(&v14) )
  {
    n0xFFFF_102 = ::n0xFFFF_102;
    if ( ::n0xFFFF_102 == (__int16)0xFFFF )
    {
      n0xFFFF_102 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr + 0x10LL))(
                                global_dispatcher_ptr,
                                &v14,
                                "PhysicalProxy");
      ::n0xFFFF_102 = n0xFFFF_102;
    }
    if ( *(_BYTE *)(a1 + 0xD) == 7 )
    {
      *(_QWORD *)(a1 + 0x4D0) = 0;
    }
    else
    {
      sub_1468D6F90((unsigned __int64 *)a1, &v15, n0xFFFF_102);
      v10 = v15;
      v14 = v15;
      *(_QWORD *)(a1 + 0x4D0) = v15;
      if ( v10 )
      {
        v11 = v10 & 0xFFFFFFFFFFFFLL;
        handle_metadata_ptr = get_handle_metadata_ptr(v10 & 0xFFFFFFFFFFFFLL);
        n4 = *(_WORD *)(handle_metadata_ptr + 4);
        if ( n4 != 4
          && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v10) & 0xFFF)
          && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v14)) )
        {
          return v11;
        }
      }
    }
    return 0;
  }
  v5 = v1 & 0xFFFFFFFFFFFFLL;
  handle_metadata_ptr_2 = get_handle_metadata_ptr(v1 & 0xFFFFFFFFFFFFLL);
  n4_2 = *(_WORD *)(handle_metadata_ptr_2 + 4);
  if ( n4_2 == 4
    || *(_WORD *)(handle_metadata_ptr_2 + 2) != (HIWORD(v1) & 0xFFF)
    || (n4_2 != 2 || *(_QWORD *)a1()) && !check_handle_access_by_state(&v14) )
  {
    return 0;
  }
  return v5;
}

// --- End Function: sub_1468DB500 (0x1468DB500) ---

// --- Function: sub_1468DB6A0 (0x1468DB6A0) ---
unsigned __int64 *__fastcall sub_1468DB6A0(__int64 a1, unsigned __int64 *a2)
{
  __int64 v4; // rax
  unsigned __int64 *result; // rax
  unsigned __int16 n0xFFFF; // ax
  __int16 v7; // rbx^6
  unsigned __int64 v8; // rsi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // cx
  __int64 v11; // rcx
  unsigned __int64 v12; // [rsp+50h] [rbp+18h] BYREF
  unsigned __int64 v13; // [rsp+58h] [rbp+20h] BYREF

  v4 = sub_1468DB500(a1);
  if ( v4 && (sub_146849DD0(v4, &v12), v12) && *(_QWORD *)((v12 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v12) )
  {
    *a2 = v12;
    return a2;
  }
  else
  {
    n0xFFFF = n0xFFFF_98;
    if ( n0xFFFF_98 == (__int16)0xFFFF )
    {
      n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                               + 0x10LL))(
                            global_dispatcher_ptr,
                            &v12,
                            "RopeProxy");
      n0xFFFF_98 = n0xFFFF;
    }
    if ( *(_BYTE *)(a1 + 0xD) != 7
      && (sub_1468D6F90((unsigned __int64 *)a1, &v13, n0xFFFF), v7 = HIWORD(v13), v13)
      && (v8 = v13 & 0xFFFFFFFFFFFFLL,
          handle_metadata_ptr = get_handle_metadata_ptr(v13 & 0xFFFFFFFFFFFFLL),
          n4 = *(_WORD *)(handle_metadata_ptr + 4),
          n4 != 4)
      && *(_WORD *)(handle_metadata_ptr + 2) == (v7 & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v13))
      && v8
      && (v11 = *(_QWORD *)(v8 + 0x70)) != 0 )
    {
      (*(void (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v11 + 0xE8LL))(v11, a2);
      return a2;
    }
    else
    {
      result = a2;
      *a2 = 0;
    }
  }
  return result;
}

// --- End Function: sub_1468DB6A0 (0x1468DB6A0) ---

// --- Function: sub_1468DB7F0 (0x1468DB7F0) ---
__int64 __fastcall sub_1468DB7F0(__int64 a1)
{
  __int64 result; // rax

  result = sub_1468DB500(a1);
  if ( result )
  {
    return sub_146846360(result);
  }
  return result;
}

// --- End Function: sub_1468DB7F0 (0x1468DB7F0) ---

// --- Function: CEntity::GetPos (0x1468DBB60) ---
__int64 __fastcall sub_1468DBB60(__int64 a1, __int64 a2, unsigned int n2_1, unsigned __int8 n2_2)
{
  int n2; // ebx
  unsigned __int64 *v6; // rcx
  __int64 v9; // rax
  char v11; // di
  char v12; // bp
  __int64 v13; // rbx
  signed __int64 v14; // rdx
  signed __int64 v15; // r12
  bool v16; // zf
  __int64 n0xF0; // rax

  n2 = n2_2;
  v6 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v6 )
  {
    if ( is_valid_handle_typeB(v6) )
    {
      v9 = *(_QWORD *)(a1 + 0x128);
      if ( *(_DWORD *)(v9 + 0x10) == 5 )
      {
        CEntity::GetPos(*(_QWORD *)v9 & 0xFFFFFFFFFFFFLL, a2, n2_1, n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v11 = 0;
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  }
  else
  {
    v11 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) )
    {
      v12 = 1;
      v13 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
      if ( *(_DWORD *)(v13 + 8) == *(_DWORD *)(a1() + 0x18) )
      {
        ++*(_DWORD *)(v13 + 0xC);
      }
      else
      {
        v14 = _InterlockedIncrement64((volatile signed __int64 *)v13);
        if ( (v14 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            (volatile signed __int64 *)v13,
            v14,
            (__int64)"CEntity::GetPos",
            (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
            1);
        }
      }
      goto LABEL_14;
    }
  }
  v12 = 0;
  v13 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
LABEL_14:
  if ( v11 )
  {
    if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xCC);
    }
    else
    {
      v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v15 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)(a1 + 0xC0),
          v15,
          (__int64)"CEntity::GetPos",
          (__int64)"m_cross_ecus_state.updateLock",
          1);
      }
    }
  }
  if ( n2_1 == 2 )
  {
    v16 = v11 == 0;
    n0xF0 = 0xF0;
    if ( !v11 )
    {
      n0xF0 = 0x48;
    }
    *(_OWORD *)a2 = *(_OWORD *)(n0xF0 + a1);
    *(double *)(a2 + 0x10) = *(double *)(n0xF0 + a1 + 0x10);
  }
  else
  {
    (*(void (__fastcall **)(_QWORD, __int64, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x2D8LL))(
      pCZoneSystem,
      a2,
      a1 + 0x2A0,
      n2_1);
    v16 = v11 == 0;
  }
  if ( !v16 )
  {
    sub_1402D0950(a1 + 0xC0);
  }
  if ( v12 )
  {
    sub_1402D0950(v13);
  }
  return a2;
}

// --- End Function: CEntity::GetPos (0x1468DBB60) ---

// --- Function: sub_1468DBD60 (0x1468DBD60) ---
__int64 __fastcall sub_1468DBD60(__int64 a1, __int64 a2, unsigned int n2)
{
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  __int64 result; // rax

  v5 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v5 && is_valid_handle_typeB(v5) && (v7 = *(_QWORD *)(a1 + 0x128), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_1468DBD60(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, n2);
    return a2;
  }
  else if ( n2 )
  {
    if ( n2 == 2 )
    {
      *(_QWORD *)(a2 + 0x18) = *(_QWORD *)(a1 + 0x80);
      *(_QWORD *)a2 = *(_QWORD *)(a1 + 0x68);
      *(_QWORD *)(a2 + 8) = *(_QWORD *)(a1 + 0x70);
      *(_QWORD *)(a2 + 0x10) = *(_QWORD *)(a1 + 0x78);
      *(_OWORD *)(a2 + 0x20) = *(_OWORD *)(a1 + 0x88);
      *(double *)(a2 + 0x30) = *(double *)(a1 + 0x98);
      *(_QWORD *)(a2 + 0x38) = *(_QWORD *)(a1 + 0xA0);
      return a2;
    }
    else
    {
      __debugbreak();
      *(_QWORD *)a2 = 0;
      *(_QWORD *)(a2 + 8) = 0;
      *(_QWORD *)(a2 + 0x10) = 0;
      *(_QWORD *)(a2 + 0x18) = 0x3FF0000000000000LL;
      *(_QWORD *)(a2 + 0x20) = 0;
      *(_QWORD *)(a2 + 0x28) = 0;
      *(_QWORD *)(a2 + 0x30) = 0;
      result = a2;
      *(_QWORD *)(a2 + 0x38) = 0x3FF0000000000000LL;
    }
  }
  else
  {
    (*(void (__fastcall **)(_QWORD, __int64, __int64))(**(_QWORD **)(a1 + 0x2A8) + 0x140LL))(
      *(_QWORD *)(a1 + 0x2A8),
      a2,
      a1 + 0x68);
    return a2;
  }
  return result;
}

// --- End Function: sub_1468DBD60 (0x1468DBD60) ---

// --- Function: sub_1468DBEA0 (0x1468DBEA0) ---
__int64 __fastcall sub_1468DBEA0(__int64 a1)
{
  signed __int64 v2; // rdx
  unsigned __int64 n3; // rsi
  _QWORD *v4; // rdi
  __int64 v5; // rax
  __int64 v6; // rbx
  bool v7; // al

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v2 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v2 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v2,
        (__int64)"CEntity::GetPrimaryOwnerReason",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  n3 = 0;
  v4 = (_QWORD *)(a1 + 0x4D8);
  while ( 1 )
  {
    if ( *v4 )
    {
      v5 = HIWORD(*v4);
      v6 = (v5 & 0xF000) != 0 ? *v4 & 0xFFFFFF000000LL : (*v4 & 0xFFFFFFFFFFFFLL) - 6;
      if ( *(_WORD *)(v6 + 2) == (v5 & 0xFFF) )
      {
        if ( *(_BYTE *)(a1() + 0x25) || (v7 = is_thread_flag_57_or_38_set()) )
        {
          v7 = 1;
        }
        if ( *(_WORD *)(v6 + 4) == 2 && v7 || check_handle_access_by_state_extended(v4) )
        {
          break;
        }
      }
    }
    ++n3;
    ++v4;
    if ( n3 >= 3 )
    {
      LODWORD(n3) = 5;
      break;
    }
  }
  sub_1402D0950((__int64)&qword_1497929D0);
  return (unsigned int)n3;
}

// --- End Function: sub_1468DBEA0 (0x1468DBEA0) ---

// --- Function: sub_1468DBFC0 (0x1468DBFC0) ---
__int64 __fastcall sub_1468DBFC0(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x2D0);
}

// --- End Function: sub_1468DBFC0 (0x1468DBFC0) ---

// --- Function: sub_1468DBFE0 (0x1468DBFE0) ---
float __fastcall sub_1468DBFE0(__int64 a1, char a2)
{
  if ( !a2 )
  {
    return *(float *)(a1 + 0x118);
  }
  if ( a2 == 1 )
  {
    return *(float *)(a1 + 0x114);
  }
  return 0.0;
}

// --- End Function: sub_1468DBFE0 (0x1468DBFE0) ---

// --- Function: CEntity::GetRelativeTransform (0x1468DE1B0) ---
__int64 __fastcall CEntity::GetRelativeTransform(
        unsigned __int64 a1,
        __int64 a2,
        unsigned __int64 a1_1,
        unsigned __int8 n2_1)
{
  int n2; // ebx
  unsigned __int64 *v6; // rcx
  __int64 v9; // rax
  char v11; // di
  char v12; // r15
  __int64 v13; // rsi
  signed __int64 v14; // rdx
  __int64 v15; // rbx
  __int64 v16; // r12
  signed __int64 v17; // rdx
  signed __int64 v18; // r14

  n2 = n2_1;
  v6 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v6 )
  {
    if ( is_valid_handle_typeB(v6) )
    {
      v9 = *(_QWORD *)(a1 + 0x128);
      if ( *(_DWORD *)(v9 + 0x10) == 5 )
      {
        CEntity::GetRelativeTransform(*(_QWORD *)v9 & 0xFFFFFFFFFFFFLL, a2, a1_1, n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v11 = 0;
    (*(void (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  }
  else
  {
    v11 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) )
    {
      v12 = 1;
      v13 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
      if ( *(_DWORD *)(v13 + 8) == *(_DWORD *)(a1() + 0x18) )
      {
        ++*(_DWORD *)(v13 + 0xC);
      }
      else
      {
        v14 = _InterlockedIncrement64((volatile signed __int64 *)v13);
        if ( (v14 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            (volatile signed __int64 *)v13,
            v14,
            (__int64)"CEntity::GetRelativeTransform",
            (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
            1);
        }
      }
      goto LABEL_14;
    }
  }
  v12 = 0;
  v13 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
LABEL_14:
  if ( v11 )
  {
    if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xCC);
      v15 = a1_1 + 0xC0;
      v16 = a1_1 + 0xC0;
      goto LABEL_20;
    }
    v17 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v17 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0xC0),
        v17,
        (__int64)"CEntity::GetRelativeTransform",
        (__int64)"m_cross_ecus_state.updateLock",
        1);
      v15 = a1_1 + 0xC0;
      v16 = a1_1 + 0xC0;
      goto LABEL_20;
    }
  }
  v15 = a1_1 + 0xC0;
  v16 = a1_1 + 0xC0;
  if ( v11 )
  {
LABEL_20:
    if ( *(_DWORD *)(v15 + 8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v15 + 0xC);
    }
    else
    {
      v18 = _InterlockedIncrement64((volatile signed __int64 *)v15);
      if ( (v18 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v15,
          v18,
          (__int64)"CEntity::GetRelativeTransform",
          (__int64)"static_cast<const CEntity*>(pTarget)->m_cross_ecus_state.updateLock",
          1);
      }
    }
  }
  (*(void (__fastcall **)(FH4 *, __int64, unsigned __int64, unsigned __int64))(*(_QWORD *)pCZoneSystem + 0x478LL))(
    pCZoneSystem,
    a2,
    a1_1 + 0x2A0,
    a1 + 0x2A0);
  if ( v11 )
  {
    sub_1402D0950(v16);
    sub_1402D0950(a1 + 0xC0);
  }
  if ( v12 )
  {
    sub_1402D0950(v13);
  }
  return a2;
}

// --- End Function: CEntity::GetRelativeTransform (0x1468DE1B0) ---

// --- Function: sub_1468DE410 (0x1468DE410) ---
_QWORD *__fastcall sub_1468DE410(__int64 a1, _QWORD *a2)
{
  *a2 = a1 + 0xC;
  return a2;
}

// --- End Function: sub_1468DE410 (0x1468DE410) ---

// --- Function: sub_1468DE420 (0x1468DE420) ---
unsigned __int64 __fastcall sub_1468DE420(__int64 a1)
{
  unsigned __int16 n0xFFFF; // ax
  __int16 v3; // rbx^6
  unsigned __int64 v4; // rdi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // cx
  char v8; // [rsp+30h] [rbp+8h] BYREF
  unsigned __int64 v9; // [rsp+38h] [rbp+10h] BYREF

  n0xFFFF = n0xFFFF_95;
  if ( n0xFFFF_95 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v8,
                          "RenderProxy");
    n0xFFFF_95 = n0xFFFF;
  }
  if ( *(_BYTE *)(a1 + 0xD) != 7
    && (sub_1468D6F90((unsigned __int64 *)a1, &v9, n0xFFFF), v3 = HIWORD(v9), v9)
    && (v4 = v9 & 0xFFFFFFFFFFFFLL,
        handle_metadata_ptr = get_handle_metadata_ptr(v9 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (v3 & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v9)) )
  {
    return v4;
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468DE420 (0x1468DE420) ---

// --- Function: CEntity::GetRotation (0x1468DE500) ---
_QWORD *__fastcall sub_1468DE500(__int64 a1, _QWORD *a2, unsigned int n2_1, unsigned __int8 n2_2)
{
  int n2; // ebx
  unsigned __int64 *v6; // rcx
  __int64 v9; // rax
  char v11; // di
  char v12; // bp
  __int64 v13; // rbx
  signed __int64 v14; // rdx
  signed __int64 v15; // r12
  __int64 n0xD0; // rdx
  _QWORD *v17; // rdx

  n2 = n2_2;
  v6 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v6 )
  {
    if ( is_valid_handle_typeB(v6) )
    {
      v9 = *(_QWORD *)(a1 + 0x128);
      if ( *(_DWORD *)(v9 + 0x10) == 5 )
      {
        CEntity::GetRotation(*(_QWORD *)v9 & 0xFFFFFFFFFFFFLL, a2, n2_1, (unsigned __int8)n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v11 = 0;
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  }
  else
  {
    v11 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) )
    {
      v12 = 1;
      v13 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
      if ( *(_DWORD *)(v13 + 8) == *(_DWORD *)(a1() + 0x18) )
      {
        ++*(_DWORD *)(v13 + 0xC);
      }
      else
      {
        v14 = _InterlockedIncrement64((volatile signed __int64 *)v13);
        if ( (v14 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            (volatile signed __int64 *)v13,
            v14,
            (__int64)"CEntity::GetRotation",
            (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
            1);
        }
      }
      goto LABEL_14;
    }
  }
  v12 = 0;
  v13 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
LABEL_14:
  if ( v11 )
  {
    if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xCC);
    }
    else
    {
      v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v15 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)(a1 + 0xC0),
          v15,
          (__int64)"CEntity::GetRotation",
          (__int64)"m_cross_ecus_state.updateLock",
          1);
      }
    }
  }
  if ( n2_1 == 2 )
  {
    n0xD0 = 0xD0;
    if ( !v11 )
    {
      n0xD0 = 0x28;
    }
    v17 = (_QWORD *)(a1 + n0xD0);
    a2[3] = v17[3];
    *a2 = *v17;
    a2[1] = v17[1];
    a2[2] = v17[2];
  }
  else
  {
    (*(void (__fastcall **)(_QWORD, _QWORD *, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x2E0LL))(
      pCZoneSystem,
      a2,
      a1 + 0x2A0,
      n2_1);
  }
  if ( v11 )
  {
    sub_1402D0950(a1 + 0xC0);
  }
  if ( v12 )
  {
    sub_1402D0950(v13);
  }
  return a2;
}

// --- End Function: CEntity::GetRotation (0x1468DE500) ---

// --- Function: sub_1468DE710 (0x1468DE710) ---
double __fastcall sub_1468DE710(__int64 a1, unsigned __int8 n2)
{
  __int128 v2; // xmm6
  unsigned __int64 *v5; // rcx
  __int64 v6; // rax
  __int64 v7; // rdi
  double v8; // xmm6_8
  unsigned __int64 *v9; // rax
  unsigned __int64 v10; // rax
  __int64 *v11; // rax
  double v12; // xmm2_8
  _BYTE v14[64]; // [rsp+20h] [rbp-58h] BYREF
  __int128 v15; // [rsp+60h] [rbp-18h]
  unsigned __int64 v16; // [rsp+80h] [rbp+8h] BYREF

  v15 = v2;
  while ( 1 )
  {
    v5 = *(unsigned __int64 **)(a1 + 0x128);
    if ( !v5 )
    {
      break;
    }
    if ( !is_valid_handle_typeB(v5) )
    {
      break;
    }
    v6 = *(_QWORD *)(a1 + 0x128);
    if ( *(_DWORD *)(v6 + 0x10) != 5 )
    {
      break;
    }
    a1 = *(_QWORD *)v6 & 0xFFFFFFFFFFFFLL;
  }
  v7 = 0;
  v8 = *(double *)(CEntity::GetZoneTransform(a1, (__int64)v14, n2) + 0x38);
  v9 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v9 )
  {
    v10 = *v9;
  }
  else
  {
    v10 = 0;
  }
  v16 = v10;
  if ( !is_valid_handle_typeB(&v16) )
  {
    return v8;
  }
  v11 = *(__int64 **)(a1 + 0x128);
  if ( v11 )
  {
    v7 = *v11;
  }
  v12 = (*(double (__fastcall **)(__int64, _QWORD))(*(_QWORD *)(v7 & 0xFFFFFFFFFFFFLL) + 0x2B0LL))(
          v7 & 0xFFFFFFFFFFFFLL,
          n2);
  if ( COERCE_DOUBLE(*(_QWORD *)&v12 & 0x7FFFFFFFFFFFFFFFLL) > 0.0 )
  {
    return v8 / v12;
  }
  else
  {
    return v8;
  }
}

// --- End Function: sub_1468DE710 (0x1468DE710) ---

// --- Function: sub_1468DE810 (0x1468DE810) ---
unsigned __int64 __fastcall sub_1468DE810(__int64 a1, int a2)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_14684E870(result, a2);
  }
  return result;
}

// --- End Function: sub_1468DE810 (0x1468DE810) ---

// --- Function: sub_1468DE840 (0x1468DE840) ---
unsigned __int64 __fastcall sub_1468DE840(__int64 a1)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_14684E9E0(result);
  }
  return result;
}

// --- End Function: sub_1468DE840 (0x1468DE840) ---

// --- Function: sub_1468DE860 (0x1468DE860) ---
unsigned __int64 __fastcall sub_1468DE860(__int64 a1, int a2)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_14684EA80(result, a2);
  }
  return result;
}

// --- End Function: sub_1468DE860 (0x1468DE860) ---

// --- Function: sub_1468DE890 (0x1468DE890) ---
unsigned __int64 __fastcall sub_1468DE890(__int64 a1, int a2, __int64 a3, unsigned __int8 a4)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_14684FBD0(result, a2, a3, a4);
  }
  return result;
}

// --- End Function: sub_1468DE890 (0x1468DE890) ---

// --- Function: sub_1468DE8F0 (0x1468DE8F0) ---
__int64 __fastcall sub_1468DE8F0(__int64 a1, __int64 p_n0xB, int a3, char a4, int n2)
{
  unsigned __int64 v8; // rax
  __int64 p_n0xB_1; // rax

  v8 = sub_1468DE420(a1);
  if ( v8 )
  {
    sub_14684FF40(v8, p_n0xB, a3, a4, n2);
    return p_n0xB;
  }
  else
  {
    *(_DWORD *)(p_n0xB + 0xC) = 0x3F800000;
    *(_QWORD *)p_n0xB = 0;
    *(_DWORD *)(p_n0xB + 8) = 0;
    *(_QWORD *)(p_n0xB + 0x10) = 0;
    *(_DWORD *)(p_n0xB + 0x18) = 0;
    p_n0xB_1 = p_n0xB;
    *(_DWORD *)(p_n0xB + 0x1C) = 0x3F800000;
  }
  return p_n0xB_1;
}

// --- End Function: sub_1468DE8F0 (0x1468DE8F0) ---

// --- Function: sub_1468DE970 (0x1468DE970) ---
__int64 *__fastcall sub_1468DE970(__int64 a1, __int64 *a2, int a3)
{
  unsigned __int64 v6; // rax
  __int64 v7; // rdi
  __int64 v8; // rcx

  v6 = sub_1468DE420(a1);
  v7 = v6;
  if ( v6 )
  {
    if ( (unsigned __int8)sub_146863490(v6, a3) )
    {
      sub_14684E240(v7, a2, a3);
    }
    else
    {
      sub_14684E240(v7, a2, 0xFFFFFFFF);
    }
  }
  else
  {
    v8 = *(_QWORD *)(a1 + 0x130);
    *a2 = v8;
    if ( v8 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v8 + 8LL))(v8);
    }
  }
  return a2;
}

// --- End Function: sub_1468DE970 (0x1468DE970) ---

// --- Function: sub_1468DEE50 (0x1468DEE50) ---
__int64 __fastcall sub_1468DEE50(unsigned __int64 a1, __int64 p_n0xB, int a3, int n2, char a5)
{
  unsigned __int64 v9; // rax
  int a1; // r9d

  v9 = sub_1468DE420(a1);
  if ( v9 )
  {
    sub_146851080(v9, p_n0xB, a3, n2, a5);
  }
  else
  {
    a1 = 0xFFFFFFFF;
    if ( !n2 )
    {
      a1 = a1_0;
    }
    CEntity::GetTransform(a1, p_n0xB, n2, a1, a5, 0);
  }
  return p_n0xB;
}

// --- End Function: sub_1468DEE50 (0x1468DEE50) ---

// --- Function: sub_1468DEEE0 (0x1468DEEE0) ---
__int64 __fastcall sub_1468DEEE0(_QWORD *a1, __int64 a2)
{
  __int64 (__fastcall *v4)(_QWORD *, _BYTE *, __int16 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // cx
  __int64 v9; // rcx
  _BYTE v11[40]; // [rsp+20h] [rbp-28h] BYREF
  __int16 n0xFFFF_1; // [rsp+50h] [rbp+8h] BYREF
  char v13; // [rsp+60h] [rbp+18h] BYREF
  __int64 v14; // [rsp+68h] [rbp+20h] BYREF

  if ( !a1[0x57] )
  {
    goto LABEL_11;
  }
  v4 = *(__int64 (__fastcall **)(_QWORD *, _BYTE *, __int16 *))(*a1 + 0x338LL);
  n0xFFFF = n0xFFFF_3;
  if ( n0xFFFF_3 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v13,
                          "IEntityComponentSolarSystem");
    n0xFFFF_3 = n0xFFFF;
  }
  if ( (n0xFFFF_1 = n0xFFFF, v6 = *(_QWORD *)v4(a1, v11, &n0xFFFF_1), (v14 = v6) != 0)
    && (handle_metadata_ptr = get_handle_metadata_ptr(v6 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v14)) )
  {
    v9 = a1[0x57];
  }
  else
  {
LABEL_11:
    v9 = a1[0x55];
  }
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v9 + 0x10LL))(v9, a2);
  return a2;
}

// --- End Function: sub_1468DEEE0 (0x1468DEEE0) ---

// --- Function: sub_1468DEFD0 (0x1468DEFD0) ---
_QWORD *__fastcall sub_1468DEFD0(unsigned __int64 a1, _QWORD *a2)
{
  __int64 v2; // rax
  volatile signed __int32 *v4; // r8
  __int64 v5; // r9
  signed __int32 v6; // eax
  signed __int32 v7; // ett

  v2 = *(_QWORD *)(a1 + 0x2C8);
  if ( v2 && (v4 = *(volatile signed __int32 **)(v2 + 0x28)) != 0 )
  {
    v5 = *(_QWORD *)(v2 + 0x20);
    _InterlockedIncrement(v4 + 3);
    *a2 = 0;
    a2[1] = 0;
    v6 = *((_DWORD *)v4 + 2);
    if ( v6 )
    {
      while ( 1 )
      {
        v7 = v6;
        v6 = _InterlockedCompareExchange(v4 + 2, v6 + 1, v6);
        if ( v7 == v6 )
        {
          break;
        }
        if ( !v6 )
        {
          goto LABEL_8;
        }
      }
      *a2 = v5;
      a2[1] = v4;
    }
LABEL_8:
    if ( _InterlockedExchangeAdd(v4 + 3, 0xFFFFFFFF) == 1 )
    {
      (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v4 + 8LL))(v4);
      return a2;
    }
  }
  else
  {
    a2[1] = 0;
    *a2 = 0;
  }
  return a2;
}

// --- End Function: sub_1468DEFD0 (0x1468DEFD0) ---

// --- Function: sub_1468DF070 (0x1468DF070) ---
__int64 __fastcall sub_1468DF070(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x2C8);
}

// --- End Function: sub_1468DF070 (0x1468DF070) ---

// --- Function: sub_1468DF080 (0x1468DF080) ---
__int64 *__fastcall sub_1468DF080(__int64 a1, __int64 *a2, int a3, int a4)
{
  unsigned __int64 v7; // rax
  __int64 *result; // rax

  v7 = sub_1468DE420(a1);
  if ( v7 )
  {
    sub_146851C40(v7, a2, a3, a4);
    return a2;
  }
  else
  {
    result = a2;
    *a2 = 0;
  }
  return result;
}

// --- End Function: sub_1468DF080 (0x1468DF080) ---

// --- Function: sub_1468DF0E0 (0x1468DF0E0) ---
__int64 __fastcall sub_1468DF0E0(__int64 a1, __int64 a2)
{
  __int64 (__fastcall *v4)(__int64, _BYTE *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  _BYTE v10[24]; // [rsp+20h] [rbp-18h] BYREF
  __int64 v11; // [rsp+40h] [rbp+8h] BYREF
  char v12; // [rsp+58h] [rbp+20h] BYREF

  v4 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v12,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v11) = n0xFFFF;
  v6 = *(_QWORD *)v4(a1, v10, &v11);
  v11 = v6;
  if ( v6
    && (handle_metadata_ptr = get_handle_metadata_ptr(v6 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v6) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v11)) )
  {
    return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x708LL))(
             v6 & 0xFFFFFFFFFFFFLL,
             a2);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468DF0E0 (0x1468DF0E0) ---

// --- Function: sub_1468DF290 (0x1468DF290) ---
__int64 __fastcall sub_1468DF290(__int64 a1)
{
  return a1 + 0x320;
}

// --- End Function: sub_1468DF290 (0x1468DF290) ---

// --- Function: CEntity::GetTransform (0x1468DF2B0) ---
__int64 __fastcall sub_1468DF2B0(unsigned __int64 a1, __int64 a2, int n2_1, int a4, char a5, unsigned __int8 n2)
{
  unsigned __int64 *v7; // rcx
  __int64 v10; // r12
  _DWORD *v11; // rax
  unsigned __int64 *v13; // rcx
  signed __int64 v14; // rdx
  char v15; // dl
  unsigned __int64 v16; // rcx
  unsigned __int16 v17; // ax
  const void *v18; // rdx
  __int64 v19; // rbx
  __int64 v20; // rdi
  unsigned __int64 v21; // rax
  bool valid; // al
  int v23; // edx
  char v24; // di
  char v25; // r15
  __int64 v26; // rbx
  signed __int64 v27; // rdx
  signed __int64 v28; // r13
  bool v29; // zf
  __int64 n0xD0; // rdx
  unsigned __int64 i; // [rsp+30h] [rbp-48h] BYREF
  unsigned __int64 v32[2]; // [rsp+38h] [rbp-40h] BYREF
  __int128 v33; // [rsp+48h] [rbp-30h] BYREF
  __int64 v34; // [rsp+58h] [rbp-20h]

  v7 = *(unsigned __int64 **)(a1 + 0x128);
  v10 = a2;
  if ( v7 )
  {
    if ( is_valid_handle_typeB(v7) )
    {
      v11 = *(_DWORD **)(a1 + 0x128);
      if ( v11[4] == 5 )
      {
        CEntity::GetTransform(*v11, v10, n2_1, a4, a5, n2);
        return v10;
      }
    }
  }
  if ( a5 )
  {
    if ( *(_BYTE *)(a1 + 0xB8) )
    {
      v13 = *(unsigned __int64 **)(a1 + 0x128);
      if ( v13 )
      {
        if ( is_valid_handle_typeB(v13) )
        {
          if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
          {
            ++dword_1497929DC;
          }
          else
          {
            v14 = _InterlockedIncrement64(&qword_1497929D0);
            if ( (v14 & 0x200000) != 0 )
            {
              sub_1403C6C70(
                &qword_1497929D0,
                v14,
                (__int64)"CEntity::GetTransform",
                (__int64)"s_aggregateHierarchyLock",
                1);
            }
          }
          v34 = 0;
          v33 = 0;
          if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
          {
            v15 = 0;
            v16 = a1 - 6;
          }
          else
          {
            v15 = 1;
            v16 = a1 & 0xFFFFFFFFFF000000uLL;
          }
          v17 = *(_WORD *)(v16 + 2) | 0x2000;
          if ( !v15 )
          {
            v17 = *(_WORD *)(v16 + 2);
          }
          v32[1] = a1 | ((unsigned __int64)v17 << 0x30);
          sub_1468A4820((__int64)&v33);
          for ( i = **(_QWORD **)(a1 + 0x128); is_valid_handle_typeB(&i); i = **(_QWORD **)((i & 0xFFFFFFFFFFFFLL)
                                                                                          + 0x128) )
          {
            sub_1468A4510((__int64)&v33);
          }
          v18 = (const void *)v33;
          v19 = *((_QWORD *)&v33 + 1) - 8LL;
          v20 = *(_QWORD *)(*((_QWORD *)&v33 + 1) - 8LL);
          if ( *((_QWORD *)&v33 + 1) - 8LL != (_QWORD)v33 )
          {
            do
            {
              v21 = *(_QWORD *)(v19 - 8);
              v19 -= 8;
              v32[0] = v21;
              valid = is_valid_handle_typeB(v32);
              v23 = v32[0];
              if ( !valid )
              {
                v23 = 0;
              }
              sub_14690E6E0(v20, v23, n2, 0, 0);
              v18 = (const void *)v33;
              LODWORD(v20) = v32[0];
            }
            while ( v19 != (_QWORD)v33 );
            v10 = a2;
          }
          if ( v18 )
          {
            sub_14039EFB0((__int64)&v33, v18, (v34 - (_QWORD)v18) & 0xFFFFFFFFFFFFFFF8uLL);
            v33 = 0;
            v34 = 0;
          }
          sub_1402D0950((__int64)&qword_1497929D0);
        }
      }
    }
  }
  if ( !n2 || n2 == 2 )
  {
    v24 = 0;
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  }
  else
  {
    v24 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) )
    {
      v25 = 1;
      v26 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
      if ( *(_DWORD *)(v26 + 8) == *(_DWORD *)(a1() + 0x18) )
      {
        ++*(_DWORD *)(v26 + 0xC);
      }
      else
      {
        v27 = _InterlockedIncrement64((volatile signed __int64 *)v26);
        if ( (v27 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            (volatile signed __int64 *)v26,
            v27,
            (__int64)"CEntity::GetTransform",
            (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
            1);
        }
      }
      goto LABEL_38;
    }
  }
  v25 = 0;
  v26 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
LABEL_38:
  if ( v24 )
  {
    if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xCC);
    }
    else
    {
      v28 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v28 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)(a1 + 0xC0),
          v28,
          (__int64)"CEntity::GetTransform",
          (__int64)"m_cross_ecus_state.updateLock",
          1);
      }
    }
  }
  if ( n2_1 == 2 )
  {
    v29 = v24 == 0;
    n0xD0 = 0xD0;
    if ( !v24 )
    {
      n0xD0 = 0x28;
    }
    *(_QWORD *)(v10 + 0x18) = *(_QWORD *)(n0xD0 + a1 + 0x18);
    *(_QWORD *)v10 = *(_QWORD *)(n0xD0 + a1);
    *(_QWORD *)(v10 + 8) = *(_QWORD *)(n0xD0 + a1 + 8);
    *(_QWORD *)(v10 + 0x10) = *(_QWORD *)(n0xD0 + a1 + 0x10);
    *(_OWORD *)(v10 + 0x20) = *(_OWORD *)(n0xD0 + a1 + 0x20);
    *(double *)(v10 + 0x30) = *(double *)(n0xD0 + a1 + 0x30);
    *(_QWORD *)(v10 + 0x38) = *(_QWORD *)(n0xD0 + a1 + 0x38);
  }
  else
  {
    (*(void (__fastcall **)(_QWORD, __int64, unsigned __int64))(*(_QWORD *)pCZoneSystem + 0x2F0LL))(
      pCZoneSystem,
      v10,
      a1 + 0x2A0);
    v29 = v24 == 0;
  }
  if ( !v29 )
  {
    sub_1402D0950(a1 + 0xC0);
  }
  if ( v25 )
  {
    sub_1402D0950(v26);
  }
  return v10;
}

// --- End Function: CEntity::GetTransform (0x1468DF2B0) ---

// --- Function: sub_1468DF6F0 (0x1468DF6F0) ---
__int64 __fastcall sub_1468DF6F0(unsigned __int64 a1, __int64 a2, int n2, char a4, unsigned __int8 n2_1)
{
  int a1; // r9d

  a1 = 0xFFFFFFFF;
  if ( !n2 )
  {
    a1 = a1_0;
  }
  CEntity::GetTransform(a1, a2, n2, a1, a4, n2_1);
  return a2;
}

// --- End Function: sub_1468DF6F0 (0x1468DF6F0) ---

// --- Function: sub_1468DF730 (0x1468DF730) ---
__int64 __fastcall sub_1468DF730(__int64 a1, __int64 a2, unsigned int a3)
{
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax

  v5 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v5 && is_valid_handle_typeB(v5) && (v7 = *(_QWORD *)(a1 + 0x128), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_1468DF730(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, a3);
    return a2;
  }
  else
  {
    (*(void (__fastcall **)(FH4 *, __int64, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x310LL))(
      pCZoneSystem,
      a2,
      a1 + 0x2A0,
      a3);
    return a2;
  }
}

// --- End Function: sub_1468DF730 (0x1468DF730) ---

// --- Function: sub_1468DF9E0 (0x1468DF9E0) ---
float *__fastcall sub_1468DF9E0(__int64 a1, float *a2, unsigned __int8 n2)
{
  double v5[5]; // [rsp+20h] [rbp-28h] BYREF

  CEntity::GetRotation(a1, v5, 0, n2);
  sub_141271450(a2, v5);
  return a2;
}

// --- End Function: sub_1468DF9E0 (0x1468DF9E0) ---

// --- Function: CEntity::GetWorldBounds (0x1468DFA10) ---
unsigned __int64 __fastcall sub_1468DFA10(__int64 a1, double *a2, unsigned __int8 n2_1)
{
  int n2; // edi
  unsigned __int64 *v6; // rcx
  __int64 v7; // rax
  char v8; // si
  char v9; // r15
  __int64 v10; // rdi
  signed __int64 v11; // rdx
  volatile signed __int64 *v12; // rbp
  signed __int64 v13; // r14
  float v14; // xmm0_4
  float v15; // xmm1_4
  double v16; // xmm7_8
  double v17; // xmm6_8
  double v18; // xmm9_8
  double v19; // xmm10_8
  double *v20; // rax
  double v21; // xmm2_8
  double v22; // xmm8_8
  double v23; // xmm0_8
  double v24; // xmm1_8
  double v25; // xmm8_8
  double v26; // xmm6_8
  double v27; // xmm5_8
  double v28; // xmm3_8
  double v29; // kr00_8
  double v30; // xmm5_8
  double v31; // xmm0_8
  double v32; // xmm12_8
  double v33; // xmm7_8
  double v34; // xmm13_8
  double v35; // xmm14_8
  double v36; // xmm15_8
  double v37; // xmm9_8
  double v38; // xmm8_8
  double v39; // xmm10_8
  double v40; // xmm5_8
  double v41; // xmm0_8
  double v42; // xmm12_8
  double v43; // kr00_8
  double v44; // xmm8_8
  double v45; // xmm11_8
  double v46; // xmm14_8
  double v47; // xmm13_8
  double v48; // xmm4_8
  double v49; // xmm9_8
  double v50; // kr00_8
  double v51; // xmm7_8
  double v52; // xmm6_8
  double v53; // xmm4_8
  double v54; // xmm5_8
  double v55; // xmm4_8
  double v56; // xmm3_8
  unsigned __int64 n0x10; // rax
  double v58; // [rsp+30h] [rbp-148h]
  double v59; // [rsp+38h] [rbp-140h]
  double v60; // [rsp+40h] [rbp-138h]
  double v61; // [rsp+40h] [rbp-138h]
  double v62; // [rsp+48h] [rbp-130h]
  double v63; // [rsp+50h] [rbp-128h]
  double v64; // [rsp+58h] [rbp-120h]
  _BYTE v65[64]; // [rsp+60h] [rbp-118h] BYREF
  double v66; // [rsp+180h] [rbp+8h]
  double v67; // [rsp+198h] [rbp+20h]

  n2 = n2_1;
  while ( 1 )
  {
    v6 = *(unsigned __int64 **)(a1 + 0x128);
    if ( !v6 )
    {
      break;
    }
    if ( !is_valid_handle_typeB(v6) )
    {
      break;
    }
    v7 = *(_QWORD *)(a1 + 0x128);
    if ( *(_DWORD *)(v7 + 0x10) != 5 )
    {
      break;
    }
    a1 = *(_QWORD *)v7 & 0xFFFFFFFFFFFFLL;
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v8 = 0;
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
    goto LABEL_14;
  }
  v8 = 1;
  if ( (*(unsigned __int8 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) )
  {
LABEL_14:
    v9 = 0;
    v10 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
    goto LABEL_15;
  }
  v9 = 1;
  v10 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  if ( *(_DWORD *)(v10 + 8) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(v10 + 0xC);
  }
  else
  {
    v11 = _InterlockedIncrement64((volatile signed __int64 *)v10);
    if ( (v11 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)v10,
        v11,
        (__int64)"CEntity::GetWorldBounds",
        (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
        1);
    }
  }
LABEL_15:
  v12 = (volatile signed __int64 *)(a1 + 0xC0);
  if ( v8 )
  {
    if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xCC);
    }
    else
    {
      v13 = _InterlockedIncrement64(v12);
      if ( (v13 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)(a1 + 0xC0),
          v13,
          (__int64)"CEntity::GetWorldBounds",
          (__int64)"m_cross_ecus_state.updateLock",
          1);
      }
    }
  }
  v14 = *(float *)(a1 + 0x118);
  LODWORD(v15) = LODWORD(v14) ^ 0x80000000;
  v16 = 1.0e150;
  v17 = -1.0e150;
  if ( COERCE_FLOAT(LODWORD(v14) ^ 0x80000000) <= v14 )
  {
    v19 = v14;
    v18 = v15;
    v63 = v14;
    v66 = v15;
    v59 = v15;
    v67 = v14;
    v58 = v14;
  }
  else
  {
    v66 = 1.0e150;
    v59 = 1.0e150;
    v63 = -1.0e150;
    v67 = -1.0e150;
    v58 = -1.0e150;
    v18 = 1.0e150;
    v19 = -1.0e150;
  }
  v62 = v18;
  v20 = (double *)(*(__int64 (__fastcall **)(_QWORD, _BYTE *, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x2F8LL))(
                    pCZoneSystem,
                    v65,
                    a1 + 0x2A0,
                    0);
  if ( v18 <= v19 )
  {
    v25 = *v20;
    v26 = v20[1];
    v27 = v20[2];
    v28 = v27 + v27;
    v29 = (v27 + v27) * v26;
    v30 = (v27 + v27) * v27;
    v60 = 1.0 - (v25 + v25) * v25;
    v31 = v20[3];
    v32 = v28 * *v20;
    v33 = (v26 + v26) * *v20;
    v34 = v31 * (v25 + v25);
    v35 = v31 * (v26 + v26);
    v36 = (v26 + v26) * v26;
    v37 = (v19 - v18) * 0.5;
    v38 = (v67 - v66) * 0.5;
    v39 = (v58 - v59) * 0.5;
    v64 = (fabs(1.0 - v36 - v30) * v37 + fabs(v33 - v31 * v28) * v38 + fabs(v32 + v35) * v39) * v20[7];
    v40 = (fabs(v60 - v30) * v38 + fabs(v31 * v28 + v33) * v37 + fabs(v29 - v34) * v39) * v20[7];
    v41 = v32 - v35;
    v42 = v20[7];
    v43 = fabs(v29 + v34) * v38 + COERCE_DOUBLE(*(_QWORD *)&v41 & 0x7FFFFFFFFFFFFFFFLL) * v37 + fabs(v60 - v36) * v39;
    v44 = (v62 + v63) * 0.5;
    v61 = v40;
    v45 = v43 * v42;
    v46 = v26;
    v47 = v20[2];
    v48 = v20[3];
    v49 = (v66 + v67) * 0.5;
    v50 = (v58 + v59) * 0.5;
    v51 = v26 * v50 - v47 * v49 + v48 * v44;
    v52 = v47 * v44 - *v20 * v50 + v48 * v49;
    v53 = *v20 * v49 - v46 * v44 + v48 * v50;
    v54 = (v46 * v53 - v47 * v52 + v44 + v46 * v53 - v47 * v52) * v42 + v20[4];
    v22 = v54 + v64;
    v55 = (v49 + v47 * v51 - *v20 * v53 + v47 * v51 - *v20 * v53) * v42 + v20[5];
    v23 = v55 - v61;
    v56 = (v50 + *v20 * v52 - v46 * v51 + *v20 * v52 - v46 * v51) * v42 + v20[6];
    v21 = v55 + v61;
    v24 = v54 - v64;
    v17 = v45 + v56;
    v16 = v56 - v45;
  }
  else
  {
    v21 = -1.0e150;
    v22 = -1.0e150;
    v23 = 1.0e150;
    v24 = 1.0e150;
  }
  *a2 = v24;
  n0x10 = 0x10;
  a2[1] = v23;
  a2[2] = v16;
  a2[3] = v22;
  a2[4] = v21;
  a2[5] = v17;
  if ( v8 )
  {
    n0x10 = sub_1402D0950((__int64)v12);
  }
  if ( v9 )
  {
    return sub_1402D0950(v10);
  }
  return n0x10;
}

// --- End Function: CEntity::GetWorldBounds (0x1468DFA10) ---

// --- Function: CEntity::GetWorldForwardDir (0x1468DFFD0) ---
float *__fastcall sub_1468DFFD0(__int64 a1, float *a2, unsigned __int8 n2_1)
{
  int n2; // ebx
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  char v9; // si
  char v10; // r14
  __int64 v11; // rbx
  signed __int64 v12; // rdx
  signed __int64 v13; // rbp
  __int64 v14; // rax
  double *v15; // rax
  double v16; // xmm11_8
  double v17; // xmm9_8
  double v18; // xmm4_8
  __int128 v19; // xmm13
  double v20; // xmm12_8
  double v21; // kr00_8
  double v22; // xmm8_8
  double v23; // xmm6_8
  double v24; // xmm4_8
  double v26; // xmm3_8
  __int128 v30; // kr00_16
  _BYTE v33[64]; // [rsp+30h] [rbp-E8h] BYREF

  n2 = n2_1;
  v5 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v5 )
  {
    if ( is_valid_handle_typeB(v5) )
    {
      v7 = *(_QWORD *)(a1 + 0x128);
      if ( *(_DWORD *)(v7 + 0x10) == 5 )
      {
        CEntity::GetWorldForwardDir(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, (unsigned __int8)n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v9 = 0;
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  }
  else
  {
    v9 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) )
    {
      v10 = 1;
      v11 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
      if ( *(_DWORD *)(v11 + 8) == *(_DWORD *)(a1() + 0x18) )
      {
        ++*(_DWORD *)(v11 + 0xC);
      }
      else
      {
        v12 = _InterlockedIncrement64((volatile signed __int64 *)v11);
        if ( (v12 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            (volatile signed __int64 *)v11,
            v12,
            (__int64)"CEntity::GetWorldForwardDir",
            (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
            1);
        }
      }
      goto LABEL_14;
    }
  }
  v10 = 0;
  v11 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
LABEL_14:
  if ( v9 )
  {
    if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xCC);
    }
    else
    {
      v13 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v13 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)(a1 + 0xC0),
          v13,
          (__int64)"CEntity::GetWorldForwardDir",
          (__int64)"m_cross_ecus_state.updateLock",
          1);
      }
    }
  }
  v14 = (*(__int64 (__fastcall **)(_QWORD, __int64))(*(_QWORD *)pCZoneSystem + 0x60LL))(pCZoneSystem, a1 + 0x2A0);
  v15 = (double *)(*(__int64 (__fastcall **)(__int64, _BYTE *, _QWORD))(*(_QWORD *)v14 + 0x68LL))(v14, v33, 0);
  v16 = v15[1];
  v17 = v15[2];
  v18 = v15[3];
  v19 = COERCE_UNSIGNED_INT64(*(float *)(a1 + 0xB0));
  v20 = *(float *)(a1 + 0xAC);
  v21 = *(float *)(a1 + 0xA8);
  v22 = v16 * *(double *)&v19 - v17 * v20 + v18 * v21;
  v23 = v21 * v17 - *v15 * *(double *)&v19 + v18 * v20;
  v24 = *v15 * v20 - v21 * v16 + v18 * *(double *)&v19;
  _XMM2 = COERCE_UNSIGNED_INT64(v21 + v16 * v24 - v17 * v23 + v16 * v24 - v17 * v23);
  v26 = *v15 * v23 - v16 * v22;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  _XMM2 = COERCE_UNSIGNED_INT64(v20 + v17 * v22 - *v15 * v24 + v17 * v22 - *v15 * v24);
  *a2 = *(float *)&_XMM0;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  *((_QWORD *)&v30 + 1) = *((_QWORD *)&v19 + 1);
  *(double *)&v30 = *(double *)&v19 + v26 + v26;
  _XMM2 = v30;
  a2[1] = *(float *)&_XMM0;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  a2[2] = *(float *)&_XMM0;
  if ( v9 )
  {
    sub_1402D0950(a1 + 0xC0);
  }
  if ( v10 )
  {
    sub_1402D0950(v11);
  }
  return a2;
}

// --- End Function: CEntity::GetWorldForwardDir (0x1468DFFD0) ---

// --- Function: CEntity::getWorldPos (0x1468E0330) ---
__int64 __fastcall CEntity::getWorldPos(__int64 a1, __int64 a2, unsigned __int8 n2)
{
  CEntity::GetPos(a1, a2, 0, n2);
  return a2;
}

// --- End Function: CEntity::getWorldPos (0x1468E0330) ---

// --- Function: sub_1468E0350 (0x1468E0350) ---
_QWORD *__fastcall sub_1468E0350(__int64 a1, _QWORD *a2, unsigned __int8 n2)
{
  CEntity::GetRotation(a1, a2, 0, n2);
  return a2;
}

// --- End Function: sub_1468E0350 (0x1468E0350) ---

// --- Function: sub_1468E0370 (0x1468E0370) ---
double __fastcall sub_1468E0370(__int64 n0xD, unsigned __int8 n2)
{
  _BYTE v3[72]; // [rsp+20h] [rbp-48h] BYREF

  return *(double *)(CEntity::GetZoneTransform(n0xD, (__int64)v3, n2) + 0x38);
}

// --- End Function: sub_1468E0370 (0x1468E0370) ---

// --- Function: sub_1468E0390 (0x1468E0390) ---
__int64 __fastcall sub_1468E0390(unsigned __int64 a1, __int64 a2, int a3, unsigned __int8 n2)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  __int64 Transform; // rcx
  double v15; // xmm8_8
  double v16; // xmm3_8
  double v17; // xmm1_8
  double v18; // xmm5_8
  double v19; // xmm6_8
  double v20; // xmm12_8
  double v21; // xmm14_8
  double v22; // xmm10_8
  double v23; // xmm9_8
  double v24; // xmm13_8
  double v25; // xmm11_8
  double v26; // xmm3_8
  double v27; // kr00_8
  double v28; // xmm5_8
  __int64 v29; // rax
  double v30; // xmm8_8
  __int64 v31; // rax
  __int64 v32; // rax
  __int64 result; // rax
  _BYTE v34[64]; // [rsp+30h] [rbp-D8h] BYREF
  __int128 v35; // [rsp+70h] [rbp-98h]
  __int128 v36; // [rsp+80h] [rbp-88h]
  __int128 v37; // [rsp+90h] [rbp-78h]
  __int128 v38; // [rsp+A0h] [rbp-68h]
  __int128 v39; // [rsp+B0h] [rbp-58h]
  __int128 v40; // [rsp+C0h] [rbp-48h]
  __int128 v41; // [rsp+D0h] [rbp-38h]
  __int128 v42; // [rsp+E0h] [rbp-28h]
  __int128 v43; // [rsp+F0h] [rbp-18h]

  v43 = v4;
  v42 = v5;
  v41 = v6;
  v40 = v7;
  v39 = v8;
  v38 = v9;
  v37 = v10;
  v36 = v11;
  v35 = v12;
  Transform = CEntity::GetTransform(a1, (__int64)v34, 0, a3, 0, n2);
  v15 = *(double *)Transform;
  v16 = *(double *)(Transform + 8);
  v17 = *(double *)(Transform + 0x18);
  v18 = *(double *)(Transform + 0x10);
  v19 = v18 + v18;
  v20 = (v15 + v15) * v17;
  v21 = 1.0 - (v15 + v15) * v15;
  v22 = (v16 + v16) * v17;
  v23 = (v16 + v16) * *(double *)Transform;
  v24 = (v16 + v16) * v16;
  v25 = (v18 + v18) * v16;
  v26 = (v18 + v18) * v17;
  v27 = (v18 + v18) * v18;
  v28 = *(double *)(Transform + 0x38);
  v29 = *(_QWORD *)(Transform + 0x20);
  *(double *)a2 = (1.0 - v24 - v27) * v28;
  v30 = v19 * v15;
  *(double *)(a2 + 0x10) = (v30 + v22) * v28;
  *(double *)(a2 + 8) = (v23 - v26) * v28;
  *(double *)(a2 + 0x20) = (v26 + v23) * v28;
  *(_QWORD *)(a2 + 0x18) = v29;
  v31 = *(_QWORD *)(Transform + 0x28);
  *(double *)(a2 + 0x28) = (v21 - v27) * v28;
  *(double *)(a2 + 0x30) = (v25 - v20) * v28;
  *(_QWORD *)(a2 + 0x38) = v31;
  v32 = *(_QWORD *)(Transform + 0x30);
  *(double *)(a2 + 0x40) = (v30 - v22) * v28;
  *(_QWORD *)(a2 + 0x58) = v32;
  result = a2;
  *(double *)(a2 + 0x50) = (v21 - v24) * v28;
  *(double *)(a2 + 0x48) = (v25 + v20) * v28;
  return result;
}

// --- End Function: sub_1468E0390 (0x1468E0390) ---

// --- Function: sub_1468E0530 (0x1468E0530) ---
double *__fastcall sub_1468E0530(unsigned __int64 a1, double *a2, unsigned __int8 n2)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  double v13; // xmm8_8
  double v14; // xmm3_8
  double *result; // rax
  double v16; // xmm6_8
  double v17; // xmm12_8
  double v18; // xmm14_8
  double v19; // xmm10_8
  double v20; // xmm9_8
  double v21; // xmm13_8
  double v22; // xmm11_8
  double v23; // xmm3_8
  double v24; // kr00_8
  double v25; // xmm5_8
  double v26; // xmm8_8
  double v27; // xmm2_8
  double v28; // xmm0_8
  double v29; // xmm1_8
  double v30; // [rsp+30h] [rbp-D8h] BYREF
  double v31; // [rsp+38h] [rbp-D0h]
  double v32; // [rsp+40h] [rbp-C8h]
  double v33; // [rsp+48h] [rbp-C0h]
  double v34; // [rsp+50h] [rbp-B8h]
  double v35; // [rsp+58h] [rbp-B0h]
  double v36; // [rsp+60h] [rbp-A8h]
  double v37; // [rsp+68h] [rbp-A0h]
  __int128 v38; // [rsp+70h] [rbp-98h]
  __int128 v39; // [rsp+80h] [rbp-88h]
  __int128 v40; // [rsp+90h] [rbp-78h]
  __int128 v41; // [rsp+A0h] [rbp-68h]
  __int128 v42; // [rsp+B0h] [rbp-58h]
  __int128 v43; // [rsp+C0h] [rbp-48h]
  __int128 v44; // [rsp+D0h] [rbp-38h]
  __int128 v45; // [rsp+E0h] [rbp-28h]
  __int128 v46; // [rsp+F0h] [rbp-18h]

  v46 = v3;
  v45 = v4;
  v44 = v5;
  v43 = v6;
  v42 = v7;
  v41 = v8;
  v40 = v9;
  v39 = v10;
  v38 = v11;
  CEntity::GetTransform(a1, (__int64)&v30, 0, a1_0, 0, n2);
  v13 = v30;
  v14 = v31;
  result = a2;
  v16 = v32 + v32;
  v17 = (v13 + v13) * v33;
  v18 = 1.0 - (v13 + v13) * v13;
  v19 = (v14 + v14) * v33;
  v20 = (v14 + v14) * v30;
  v21 = (v14 + v14) * v14;
  v22 = (v32 + v32) * v31;
  v23 = (v32 + v32) * v33;
  v24 = (v32 + v32) * v32;
  v25 = v37;
  *a2 = (1.0 - v21 - v24) * v37;
  v26 = v16 * v13;
  a2[1] = (v20 - v23) * v25;
  v27 = v34;
  a2[2] = (v26 + v19) * v25;
  a2[3] = v27;
  a2[4] = (v23 + v20) * v25;
  a2[5] = (v18 - v24) * v25;
  v28 = v35;
  a2[6] = (v22 - v17) * v25;
  a2[7] = v28;
  a2[8] = (v26 - v19) * v25;
  a2[9] = (v22 + v17) * v25;
  v29 = v36;
  a2[0xA] = (v18 - v21) * v25;
  a2[0xB] = v29;
  return result;
}

// --- End Function: sub_1468E0530 (0x1468E0530) ---

// --- Function: sub_1468E06E0 (0x1468E06E0) ---
__int64 __fastcall sub_1468E06E0(__int64 a1, __int64 a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int64 v13; // rax
  __int64 v14; // rcx
  double v15; // xmm8_8
  double v16; // xmm3_8
  double v17; // xmm1_8
  double v18; // xmm5_8
  double v19; // xmm6_8
  double v20; // xmm12_8
  double v21; // xmm14_8
  double v22; // xmm10_8
  double v23; // xmm9_8
  double v24; // xmm13_8
  double v25; // xmm11_8
  double v26; // xmm3_8
  double v27; // kr00_8
  double v28; // xmm5_8
  __int64 v29; // rax
  double v30; // xmm8_8
  __int64 v31; // rax
  __int64 v32; // rax
  __int64 result; // rax
  _BYTE v34[64]; // [rsp+30h] [rbp-D8h] BYREF
  __int128 v35; // [rsp+70h] [rbp-98h]
  __int128 v36; // [rsp+80h] [rbp-88h]
  __int128 v37; // [rsp+90h] [rbp-78h]
  __int128 v38; // [rsp+A0h] [rbp-68h]
  __int128 v39; // [rsp+B0h] [rbp-58h]
  __int128 v40; // [rsp+C0h] [rbp-48h]
  __int128 v41; // [rsp+D0h] [rbp-38h]
  __int128 v42; // [rsp+E0h] [rbp-28h]
  __int128 v43; // [rsp+F0h] [rbp-18h]

  v43 = v3;
  v42 = v4;
  v41 = v5;
  v40 = v6;
  v39 = v7;
  v38 = v8;
  v37 = v9;
  v36 = v10;
  v13 = *(_QWORD *)pCZoneSystem;
  v35 = v11;
  v14 = (*(__int64 (__fastcall **)(FH4 *, _BYTE *, __int64, _QWORD, _DWORD))(v13 + 0x308))(
          pCZoneSystem,
          v34,
          a1 + 0x2A0,
          0,
          *(_DWORD *)(a3 + 0x7C));
  v15 = *(double *)v14;
  v16 = *(double *)(v14 + 8);
  v17 = *(double *)(v14 + 0x18);
  v18 = *(double *)(v14 + 0x10);
  v19 = v18 + v18;
  v20 = (v15 + v15) * v17;
  v21 = 1.0 - (v15 + v15) * v15;
  v22 = (v16 + v16) * v17;
  v23 = (v16 + v16) * *(double *)v14;
  v24 = (v16 + v16) * v16;
  v25 = (v18 + v18) * v16;
  v26 = (v18 + v18) * v17;
  v27 = (v18 + v18) * v18;
  v28 = *(double *)(v14 + 0x38);
  v29 = *(_QWORD *)(v14 + 0x20);
  v30 = v19 * *(double *)v14;
  *(double *)a2 = (1.0 - v24 - v27) * v28;
  *(double *)(a2 + 0x10) = (v30 + v22) * v28;
  *(double *)(a2 + 8) = (v23 - v26) * v28;
  *(double *)(a2 + 0x20) = (v26 + v23) * v28;
  *(_QWORD *)(a2 + 0x18) = v29;
  v31 = *(_QWORD *)(v14 + 0x28);
  *(double *)(a2 + 0x28) = (v21 - v27) * v28;
  *(double *)(a2 + 0x30) = (v25 - v20) * v28;
  *(_QWORD *)(a2 + 0x38) = v31;
  v32 = *(_QWORD *)(v14 + 0x30);
  *(double *)(a2 + 0x40) = (v30 - v22) * v28;
  *(_QWORD *)(a2 + 0x58) = v32;
  result = a2;
  *(double *)(a2 + 0x50) = (v21 - v24) * v28;
  *(double *)(a2 + 0x48) = (v25 + v20) * v28;
  return result;
}

// --- End Function: sub_1468E06E0 (0x1468E06E0) ---

// --- Function: sub_1468E0890 (0x1468E0890) ---
__int64 __fastcall sub_1468E0890(__int64 a1, double *a2, unsigned __int8 n2)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm9
  __int128 v6; // xmm10
  float v7; // xmm0_4
  float v8; // xmm1_4
  double v10; // xmm9_8
  double v11; // xmm10_8
  double *ZoneTransform; // rax
  double v13; // xmm2_8
  double v14; // xmm3_8
  double v15; // xmm6_8
  double v16; // xmm7_8
  double v17; // xmm0_8
  double v18; // xmm1_8
  double v19; // xmm6_8
  double v20; // xmm5_8
  double v21; // xmm8_8
  double v22; // xmm3_8
  double v23; // kr00_8
  double v24; // xmm5_8
  double v25; // xmm0_8
  double v26; // xmm7_8
  double v27; // xmm13_8
  double v28; // xmm14_8
  double v29; // xmm15_8
  double v30; // xmm9_8
  double v31; // xmm10_8
  double v32; // xmm12_8
  double v33; // xmm11_8
  double v34; // xmm8_8
  double v35; // xmm14_8
  double v36; // xmm13_8
  double v37; // xmm9_8
  double v38; // xmm7_8
  double v39; // xmm6_8
  double v40; // xmm4_8
  double v41; // xmm5_8
  double v42; // xmm4_8
  double v43; // xmm3_8
  double v44; // xmm5_8
  double v45; // kr00_8
  double v46; // xmm3_8
  __int64 n0x10; // rax
  double v48; // [rsp+20h] [rbp-108h]
  double v49; // [rsp+20h] [rbp-108h]
  double v50; // [rsp+28h] [rbp-100h]
  double v51; // [rsp+30h] [rbp-F8h]
  _BYTE v52[72]; // [rsp+38h] [rbp-F0h] BYREF
  __int128 v53; // [rsp+D0h] [rbp-58h]
  __int128 v54; // [rsp+E0h] [rbp-48h]
  __int128 v55; // [rsp+100h] [rbp-28h]
  __int128 v56; // [rsp+110h] [rbp-18h]
  double v57; // [rsp+148h] [rbp+20h]

  v7 = *(float *)(a1 + 0x118);
  LODWORD(v8) = LODWORD(v7) ^ 0x80000000;
  v56 = v3;
  v55 = v4;
  v54 = v5;
  v53 = v6;
  if ( COERCE_FLOAT(LODWORD(v7) ^ 0x80000000) <= v7 )
  {
    v10 = v7;
    v11 = v8;
    v57 = v7;
    v50 = v8;
    ZoneTransform = (double *)CEntity::GetZoneTransform(a1, (__int64)v52, n2);
    if ( v8 <= (double)v7 )
    {
      v19 = ZoneTransform[1];
      v20 = ZoneTransform[2];
      v21 = *ZoneTransform;
      v22 = v20 + v20;
      v23 = (v20 + v20) * v19;
      v24 = (v20 + v20) * v20;
      v48 = 1.0 - (v21 + v21) * v21;
      v25 = ZoneTransform[3];
      v26 = (v19 + v19) * *ZoneTransform;
      v27 = v25 * (v21 + v21);
      v28 = v25 * (v19 + v19);
      v29 = (v19 + v19) * v19;
      v30 = (v10 - v11) * 0.5;
      v31 = (v57 - v11) * 0.5;
      v51 = (fabs(1.0 - v29 - v24) * v30 + fabs(v26 - v25 * v22) * v31 + fabs(v22 * *ZoneTransform + v28) * v31)
          * ZoneTransform[7];
      v32 = ZoneTransform[7];
      v33 = (fabs(v23 + v27) * v31 + fabs(v22 * *ZoneTransform - v28) * v30 + fabs(v48 - v29) * v31) * v32;
      v34 = (v50 + v57) * 0.5;
      v49 = (fabs(v48 - v24) * v31 + fabs(v25 * v22 + v26) * v30 + fabs(v23 - v27) * v31) * v32;
      v35 = v19;
      v36 = ZoneTransform[2];
      v37 = (v57 + v50) * 0.5;
      v38 = v19 * v37 - v36 * v37 + v34 * v25;
      v39 = v34 * v36 - *ZoneTransform * v37 + v25 * v37;
      v40 = *ZoneTransform * v37 - v34 * v35 + v25 * v37;
      v41 = v35 * v40 - v36 * v39;
      v42 = v36 * v38 - *ZoneTransform * v40;
      v43 = *ZoneTransform * v39 - v35 * v38;
      v44 = (v34 + v41 + v41) * v32 + ZoneTransform[4];
      v16 = v44 + v51;
      v45 = (v37 + v42 + v42) * v32 + ZoneTransform[5];
      v15 = v45 + v49;
      v17 = v45 - v49;
      v46 = (v37 + v43 + v43) * v32 + ZoneTransform[6];
      v18 = v44 - v51;
      v13 = v33 + v46;
      v14 = v46 - v33;
      goto LABEL_6;
    }
  }
  else
  {
    CEntity::GetZoneTransform(a1, (__int64)v52, n2);
  }
  v13 = -1.0e150;
  v14 = 1.0e150;
  v15 = -1.0e150;
  v16 = -1.0e150;
  v17 = 1.0e150;
  v18 = 1.0e150;
LABEL_6:
  *a2 = v18;
  n0x10 = 0x10;
  a2[1] = v17;
  a2[2] = v14;
  a2[3] = v16;
  a2[4] = v15;
  a2[5] = v13;
  return n0x10;
}

// --- End Function: sub_1468E0890 (0x1468E0890) ---

// --- Function: sub_1468E0C40 (0x1468E0C40) ---
__int64 __fastcall sub_1468E0C40(__int64 a1, __int64 a2)
{
  unsigned __int64 *v4; // rcx
  __int64 v5; // rax

  v4 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v4 && is_valid_handle_typeB(v4) && (v5 = *(_QWORD *)(a1 + 0x128), *(_DWORD *)(v5 + 0x10) == 5) )
  {
    sub_1468E0C40(*(_QWORD *)v5 & 0xFFFFFFFFFFFFLL, a2);
    return a2;
  }
  else
  {
    *(double *)a2 = *(double *)(a1 + 0xA8);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(a1 + 0xB0);
    return a2;
  }
}

// --- End Function: sub_1468E0C40 (0x1468E0C40) ---

// --- Function: sub_1468E0CC0 (0x1468E0CC0) ---
__int64 __fastcall sub_1468E0CC0(__int64 a1, __int64 a2)
{
  (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x2A8) + 0x40LL))(*(_QWORD *)(a1 + 0x2A8));
  return a2;
}

// --- End Function: sub_1468E0CC0 (0x1468E0CC0) ---

// --- Function: sub_1468E0CE0 (0x1468E0CE0) ---
__int64 __fastcall sub_1468E0CE0(__int64 a1, __int64 a2, unsigned __int8 n2_1)
{
  int n2; // esi
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  __int64 result; // rax
  bool v9; // cl
  __int64 n0xF0; // rax
  double v11; // xmm1_8

  n2 = n2_1;
  v5 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v5 && is_valid_handle_typeB(v5) && (v7 = *(_QWORD *)(a1 + 0x128), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_1468E0CE0(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, (unsigned __int8)n2);
    return a2;
  }
  else
  {
    v9 = (_BYTE)n2 && n2 != 2;
    n0xF0 = 0xF0;
    if ( !v9 )
    {
      n0xF0 = 0x48;
    }
    *(_OWORD *)a2 = *(_OWORD *)(n0xF0 + a1);
    v11 = *(double *)(n0xF0 + a1 + 0x10);
    result = a2;
    *(double *)(a2 + 0x10) = v11;
  }
  return result;
}

// --- End Function: sub_1468E0CE0 (0x1468E0CE0) ---

// --- Function: sub_1468E0DA0 (0x1468E0DA0) ---
_QWORD *__fastcall sub_1468E0DA0(__int64 a1, _QWORD *a2, unsigned __int8 n2)
{
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  _QWORD *ZoneTransform; // rax
  _BYTE v10[72]; // [rsp+20h] [rbp-48h] BYREF

  v5 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v5 && is_valid_handle_typeB(v5) && (v7 = *(_QWORD *)(a1 + 0x128), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_1468E0DA0(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, n2);
    return a2;
  }
  else
  {
    ZoneTransform = (_QWORD *)CEntity::GetZoneTransform(a1, (__int64)v10, n2);
    a2[3] = ZoneTransform[3];
    *a2 = *ZoneTransform;
    a2[1] = ZoneTransform[1];
    a2[2] = ZoneTransform[2];
    return a2;
  }
}

// --- End Function: sub_1468E0DA0 (0x1468E0DA0) ---

// --- Function: sub_1468E0E50 (0x1468E0E50) ---
__int64 __fastcall sub_1468E0E50(__int64 a1, __int64 a2, unsigned __int8 n2)
{
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  __int64 ZoneTransform; // rax
  double v9; // xmm8_8
  double v10; // xmm3_8
  double v11; // xmm1_8
  double v12; // xmm5_8
  double v13; // xmm12_8
  double v14; // xmm14_8
  double v15; // xmm10_8
  double v16; // xmm9_8
  double v17; // xmm13_8
  double v18; // xmm11_8
  double v19; // xmm3_8
  double v20; // xmm8_8
  double v21; // kr00_8
  _BYTE v23[64]; // [rsp+20h] [rbp-D8h] BYREF

  v5 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v5 && is_valid_handle_typeB(v5) && (v7 = *(_QWORD *)(a1 + 0x128), *(_DWORD *)(v7 + 0x10) == 5) )
  {
    sub_1468E0E50(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, n2);
  }
  else
  {
    ZoneTransform = CEntity::GetZoneTransform(a1, (__int64)v23, n2);
    v9 = *(double *)ZoneTransform;
    v10 = *(double *)(ZoneTransform + 8);
    v11 = *(double *)(ZoneTransform + 0x18);
    v12 = *(double *)(ZoneTransform + 0x10);
    v13 = (v9 + v9) * v11;
    v14 = 1.0 - (v9 + v9) * v9;
    v15 = (v10 + v10) * v11;
    v16 = (v10 + v10) * *(double *)ZoneTransform;
    v17 = (v10 + v10) * v10;
    v18 = (v12 + v12) * v10;
    v19 = (v12 + v12) * v11;
    v20 = (v12 + v12) * *(double *)ZoneTransform;
    v21 = (v12 + v12) * v12;
    *(double *)a2 = (1.0 - v17 - v21) * *(double *)(ZoneTransform + 0x38);
    *(double *)(a2 + 8) = (v16 - v19) * *(double *)(ZoneTransform + 0x38);
    *(double *)(a2 + 0x10) = (v20 + v15) * *(double *)(ZoneTransform + 0x38);
    *(_QWORD *)(a2 + 0x18) = *(_QWORD *)(ZoneTransform + 0x20);
    *(double *)(a2 + 0x20) = (v19 + v16) * *(double *)(ZoneTransform + 0x38);
    *(double *)(a2 + 0x28) = (v14 - v21) * *(double *)(ZoneTransform + 0x38);
    *(double *)(a2 + 0x30) = (v18 - v13) * *(double *)(ZoneTransform + 0x38);
    *(_QWORD *)(a2 + 0x38) = *(_QWORD *)(ZoneTransform + 0x28);
    *(double *)(a2 + 0x40) = (v20 - v15) * *(double *)(ZoneTransform + 0x38);
    *(double *)(a2 + 0x48) = (v18 + v13) * *(double *)(ZoneTransform + 0x38);
    *(double *)(a2 + 0x50) = (v14 - v17) * *(double *)(ZoneTransform + 0x38);
    *(_QWORD *)(a2 + 0x58) = *(_QWORD *)(ZoneTransform + 0x30);
  }
  return a2;
}

// --- End Function: sub_1468E0E50 (0x1468E0E50) ---

// --- Function: CEntity::GetZoneTransform (0x1468E1070) ---
__int64 __fastcall sub_1468E1070(__int64 a1, __int64 a2, unsigned __int8 n2_1)
{
  int n2; // ebx
  unsigned __int64 *v5; // rcx
  __int64 v7; // rax
  char v9; // si
  char v10; // r12
  __int64 v11; // rbx
  signed __int64 v12; // rdx
  signed __int64 v13; // r15
  __int64 n0xD0; // rdx

  n2 = n2_1;
  v5 = *(unsigned __int64 **)(a1 + 0x128);
  if ( v5 )
  {
    if ( is_valid_handle_typeB(v5) )
    {
      v7 = *(_QWORD *)(a1 + 0x128);
      if ( *(_DWORD *)(v7 + 0x10) == 5 )
      {
        CEntity::GetZoneTransform(*(_QWORD *)v7 & 0xFFFFFFFFFFFFLL, a2, (unsigned __int8)n2);
        return a2;
      }
    }
  }
  if ( !(_BYTE)n2 || n2 == 2 )
  {
    v9 = 0;
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  }
  else
  {
    v9 = 1;
    if ( !(*(unsigned __int8 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) )
    {
      v10 = 1;
      v11 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
      if ( *(_DWORD *)(v11 + 8) == *(_DWORD *)(a1() + 0x18) )
      {
        ++*(_DWORD *)(v11 + 0xC);
      }
      else
      {
        v12 = _InterlockedIncrement64((volatile signed __int64 *)v11);
        if ( (v12 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            (volatile signed __int64 *)v11,
            v12,
            (__int64)"CEntity::GetZoneTransform",
            (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
            1);
        }
      }
      goto LABEL_14;
    }
  }
  v10 = 0;
  v11 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
LABEL_14:
  if ( v9 )
  {
    if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0xCC);
    }
    else
    {
      v13 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
      if ( (v13 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)(a1 + 0xC0),
          v13,
          (__int64)"CEntity::GetZoneTransform",
          (__int64)"m_cross_ecus_state.updateLock",
          1);
      }
    }
  }
  n0xD0 = 0xD0;
  if ( !v9 )
  {
    n0xD0 = 0x28;
  }
  *(_QWORD *)(a2 + 0x18) = *(_QWORD *)(n0xD0 + a1 + 0x18);
  *(_QWORD *)a2 = *(_QWORD *)(n0xD0 + a1);
  *(_QWORD *)(a2 + 8) = *(_QWORD *)(n0xD0 + a1 + 8);
  *(_QWORD *)(a2 + 0x10) = *(_QWORD *)(n0xD0 + a1 + 0x10);
  *(_OWORD *)(a2 + 0x20) = *(_OWORD *)(n0xD0 + a1 + 0x20);
  *(double *)(a2 + 0x30) = *(double *)(n0xD0 + a1 + 0x30);
  *(_QWORD *)(a2 + 0x38) = *(_QWORD *)(n0xD0 + a1 + 0x38);
  if ( v9 )
  {
    sub_1402D0950(a1 + 0xC0);
  }
  if ( v10 )
  {
    sub_1402D0950(v11);
  }
  return a2;
}

// --- End Function: CEntity::GetZoneTransform (0x1468E1070) ---

// --- Function: CEntity::HasAllTags (0x1468E1700) ---
__int64 __fastcall sub_1468E1700(__int64 a1, __int64 a2)
{
  char v4; // r14
  __int64 v5; // rdi
  signed __int64 v6; // rdx
  signed __int64 v7; // rsi
  unsigned __int8 v8; // si

  v4 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  v5 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  if ( !v4 )
  {
    if ( *(_DWORD *)(v5 + 8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v5 + 0xC);
    }
    else
    {
      v6 = _InterlockedIncrement64((volatile signed __int64 *)v5);
      if ( (v6 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v5,
          v6,
          (__int64)"CEntity::HasAllTags",
          (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
          1);
      }
    }
  }
  if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xCC);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v7 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0xC0),
        v7,
        (__int64)"CEntity::HasAllTags",
        (__int64)"m_cross_ecus_state.updateLock",
        1);
    }
  }
  v8 = (*(__int64 (__fastcall **)(_QWORD, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x438LL))(
         pCZoneSystem,
         a1 + 0x2A0,
         a2);
  sub_1402D0950(a1 + 0xC0);
  if ( !v4 )
  {
    sub_1402D0950(v5);
  }
  return v8;
}

// --- End Function: CEntity::HasAllTags (0x1468E1700) ---

// --- Function: CEntity::HasTag (0x1468E1930) ---
__int64 __fastcall sub_1468E1930(__int64 a1, __int64 a2)
{
  char v4; // r14
  __int64 v5; // rdi
  signed __int64 v6; // rdx
  signed __int64 v7; // rsi
  unsigned __int8 v8; // si

  v4 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  v5 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  if ( !v4 )
  {
    if ( *(_DWORD *)(v5 + 8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v5 + 0xC);
    }
    else
    {
      v6 = _InterlockedIncrement64((volatile signed __int64 *)v5);
      if ( (v6 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v5,
          v6,
          (__int64)"CEntity::HasTag",
          (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
          1);
      }
    }
  }
  if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xCC);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v7 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0xC0),
        v7,
        (__int64)"CEntity::HasTag",
        (__int64)"m_cross_ecus_state.updateLock",
        1);
    }
  }
  v8 = (*(__int64 (__fastcall **)(_QWORD, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x430LL))(
         pCZoneSystem,
         a1 + 0x2A0,
         a2);
  sub_1402D0950(a1 + 0xC0);
  if ( !v4 )
  {
    sub_1402D0950(v5);
  }
  return v8;
}

// --- End Function: CEntity::HasTag (0x1468E1930) ---

// --- Function: CEntity::HasTags (0x1468E1A60) ---
__int64 __fastcall sub_1468E1A60(__int64 a1)
{
  char v2; // r14
  __int64 v3; // rdi
  signed __int64 v4; // rdx
  signed __int64 v5; // rsi
  unsigned __int8 v6; // si

  v2 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  v3 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  if ( !v2 )
  {
    if ( *(_DWORD *)(v3 + 8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v3 + 0xC);
    }
    else
    {
      v4 = _InterlockedIncrement64((volatile signed __int64 *)v3);
      if ( (v4 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v3,
          v4,
          (__int64)"CEntity::HasTags",
          (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
          1);
      }
    }
  }
  if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xCC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0xC0),
        v5,
        (__int64)"CEntity::HasTags",
        (__int64)"m_cross_ecus_state.updateLock",
        1);
    }
  }
  v6 = (*(__int64 (__fastcall **)(_QWORD, __int64))(*(_QWORD *)pCZoneSystem + 0x440LL))(pCZoneSystem, a1 + 0x2A0);
  sub_1402D0950(a1 + 0xC0);
  if ( !v2 )
  {
    sub_1402D0950(v3);
  }
  return v6;
}

// --- End Function: CEntity::HasTags (0x1468E1A60) ---

// --- Function: CEntity::Hide (0x1468E1BD0) ---
double __fastcall sub_1468E1BD0(__int64 a1, unsigned __int8 a2, char a3, __int64 a4)
{
  int v4; // esi
  int v5; // r14d
  signed __int64 v8; // rdx
  char v9; // r15
  __int64 v10; // rbp
  signed __int64 v11; // rdi
  volatile signed __int64 *v12; // rdi
  int v13; // ebp
  unsigned __int64 v14; // rax
  int v15; // edx
  int v16; // eax
  unsigned __int64 n0x200000; // rax
  __int64 v18; // rax
  __int64 v19; // rcx
  int v20; // eax
  char v21; // bp
  bool v22; // di
  unsigned int v23; // ecx
  __int64 v24; // rdx
  __int64 v25; // rdx
  volatile signed __int64 *v26; // rcx
  int v27; // eax
  unsigned __int64 n0x200000_1; // rax
  __int64 v29; // rax
  __int64 v30; // rcx
  unsigned __int64 v31; // rdi
  __int64 v32; // r8
  __int64 v33; // rcx
  int n0xF00; // [rsp+40h] [rbp-108h] BYREF
  __int64 v37; // [rsp+44h] [rbp-104h]
  int v38; // [rsp+4Ch] [rbp-FCh]
  __int64 v39; // [rsp+50h] [rbp-F8h]
  unsigned __int64 v40; // [rsp+58h] [rbp-F0h]
  __int64 v41; // [rsp+60h] [rbp-E8h]
  __int64 v42; // [rsp+68h] [rbp-E0h]
  _BYTE v43[24]; // [rsp+90h] [rbp-B8h] BYREF
  __int64 v44; // [rsp+A8h] [rbp-A0h]
  _BYTE v45[24]; // [rsp+C8h] [rbp-80h] BYREF
  __int64 v46; // [rsp+E0h] [rbp-68h]

  v4 = 0;
  v5 = a2;
  n0xF00 = 0xF00;
  v37 = 0;
  v38 = 0;
  v40 = 0;
  v41 = 0;
  v42 = 0;
  v39 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v8 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v8 & 0x200000) != 0 )
    {
      sub_1403C6C70(&qword_1497929D0, v8, (__int64)"CEntity::Hide", (__int64)"CEntity::s_aggregateHierarchyLock", 1);
    }
  }
  v9 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  if ( !v9 )
  {
    v10 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
    if ( *(_DWORD *)(v10 + 8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v10 + 0xC);
    }
    else
    {
      v11 = _InterlockedIncrement64((volatile signed __int64 *)v10);
      if ( (v11 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v10,
          v11,
          (__int64)&p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
          (__int64)&p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
          1);
      }
    }
  }
  v12 = (volatile signed __int64 *)(a1 + 0xC0);
  v13 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(a1 + 0xC8) == v13 )
  {
    ++*(_DWORD *)(a1 + 0xCC);
  }
  else
  {
    v14 = _InterlockedCompareExchange64(v12, 0x200000, 0);
    if ( v14 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)(a1 + 0xC0),
        v14,
        0,
        (__int64)&p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        (__int64)&p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        1);
    }
    *(_DWORD *)(a1 + 0xC8) = v13;
  }
  v15 = *(_DWORD *)(a1 + 8);
  if ( (*(_BYTE *)(a1 + 8) & 1) == (_BYTE)v5 )
  {
    v16 = *(_DWORD *)(a1 + 0xCC);
    if ( v16 )
    {
      *(_DWORD *)(a1 + 0xCC) = v16 - 1;
    }
    else
    {
      *(_DWORD *)(a1 + 0xC8) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(v12, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
      {
        sub_1403D8A00((volatile signed __int64 *)(a1 + 0xC0), n0x200000);
      }
    }
    if ( !v9 )
    {
      v18 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
      sub_1402D0950(v18);
    }
    goto LABEL_63;
  }
  v19 = *(_QWORD *)(a1 + 0x128);
  if ( v19 )
  {
    v20 = *(_DWORD *)(v19 + 0x140);
    if ( !(_BYTE)v5 )
    {
      *(_DWORD *)(v19 + 0x140) = v20 & 0xFFFFFFBF;
      if ( (*(_BYTE *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) & 0x20) != 0 )
      {
        sub_1468F9D60(a1, 0, v9 == 0);
        goto LABEL_63;
      }
      goto LABEL_30;
    }
    *(_DWORD *)(v19 + 0x140) = v20 | 0x40;
    v15 = *(_DWORD *)(a1 + 8);
  }
  if ( (_BYTE)v5 != 1 )
  {
LABEL_30:
    v15 = *(_DWORD *)(a1 + 8);
    goto LABEL_31;
  }
  if ( (v15 & 1) != 0 )
  {
LABEL_31:
    v21 = 0;
    v22 = !(_BYTE)v5 && (v15 & 1) != 0;
    goto LABEL_35;
  }
  v21 = 1;
  v22 = 0;
  sub_1467CEBF0(a1, a1);
  (*(void (__fastcall **)(_QWORD, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x160LL))(pCZoneSystem, a1 + 0x2A0, a4);
LABEL_35:
  v23 = v5 | *(_DWORD *)(a1 + 8) & 0xFFFFFFFE;
  *(_DWORD *)(a1 + 8) = v23;
  if ( byte_14981D4BB )
  {
    v24 = *(unsigned int *)(a1 + 0x110);
    if ( (v23 & 1) != 0 )
    {
      LODWORD(v24) = v24 | 0x2000000;
      sub_146900330(a1, v24, 0);
      v25 = *(unsigned int *)(a1 + 0x110);
      LODWORD(v25) = v25 & 0xDFFFFFFF;
    }
    else
    {
      LODWORD(v24) = v24 | 0x20000000;
      sub_146900330(a1, v24, 0);
      v25 = *(unsigned int *)(a1 + 0x110);
      LODWORD(v25) = v25 & 0xFDFFFFFF;
    }
    sub_146900330(a1, v25, 0);
  }
  if ( v22 )
  {
    sub_1467CF630(a1, a1);
    (*(void (__fastcall **)(_QWORD, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x168LL))(pCZoneSystem, a1 + 0x2A0, a4);
  }
  v26 = (volatile signed __int64 *)(a1 + 0xC0);
  v27 = *(_DWORD *)(a1 + 0xCC);
  if ( v27 )
  {
    *(_DWORD *)(a1 + 0xCC) = v27 - 1;
  }
  else
  {
    *(_DWORD *)(a1 + 0xC8) = 0xFFFFFFFF;
    n0x200000_1 = _InterlockedCompareExchange64(v26, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
    {
      sub_1403D8A00(v26, n0x200000_1);
    }
  }
  if ( !v9 )
  {
    v29 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
    sub_1402D0950(v29);
  }
  if ( v21 )
  {
    sub_140368960(v43, 0xC);
    v44 = a4;
    sub_1468FF140(a1, v43);
  }
  if ( v22 )
  {
    sub_140368960(v45, 0xD);
    v46 = a4;
    sub_1468FF140(a1, v45);
  }
  v30 = *(_QWORD *)(a1 + 0x128);
  if ( v30 && a3 && (int)((__int64)(*(_QWORD *)(v30 + 0x1C0) - *(_QWORD *)(v30 + 0x1B8)) >> 3) > 0 )
  {
    v31 = 0;
    do
    {
      if ( (__int64)(*(_QWORD *)(v30 + 0x1C0) - *(_QWORD *)(v30 + 0x1B8)) >> 3 <= (unsigned __int64)v4 )
      {
        __debugbreak();
      }
      if ( is_valid_handle_typeB((unsigned __int64 *)(*(_QWORD *)(v30 + 0x1B8) + 8LL * v4)) )
      {
        v33 = *(_QWORD *)(a1 + 0x128);
        if ( (__int64)(*(_QWORD *)(v33 + 0x1C0) - *(_QWORD *)(v33 + 0x1B8)) >> 3 <= v31 )
        {
          __debugbreak();
        }
        LOBYTE(v32) = 1;
        CEntity::Hide(*(_QWORD *)(*(_QWORD *)(v33 + 0x1B8) + 8 * v31) & 0xFFFFFFFFFFFFLL, (unsigned __int8)v5, v32, a4);
      }
      v30 = *(_QWORD *)(a1 + 0x128);
      ++v4;
      ++v31;
    }
    while ( v4 < (int)((__int64)(*(_QWORD *)(v30 + 0x1C0) - *(_QWORD *)(v30 + 0x1B8)) >> 3) );
  }
LABEL_63:
  sub_1402D0950((__int64)&qword_1497929D0);
  v40 = __rdtsc();
  return psub_7FF6AAB93930(&n0xF00);
}

// --- End Function: CEntity::Hide (0x1468E1BD0) ---

// --- Function: sub_1468E20C0 (0x1468E20C0) ---
__int64 __fastcall sub_1468E20C0(__int64 a1, unsigned __int8 a2)
{
  __int64 result; // rax
  bool v5; // zf
  int n0xE; // edx
  __int64 v7; // rcx
  int v8; // ebp
  unsigned __int64 v9; // rdi
  _QWORD *v10; // r14
  __int64 v11; // rax
  __int64 v12; // rbx
  bool v13; // al
  __int64 v14; // rcx
  _BYTE v15[56]; // [rsp+20h] [rbp-78h] BYREF

  result = (*(_DWORD *)(a1 + 8) >> 1) & 1;
  if ( (_DWORD)result != a2 )
  {
    *(_DWORD *)(a1 + 8) = *(_DWORD *)(a1 + 8) & 0xFFFFFFFD | (2 * a2);
    v5 = a2 == 0;
    n0xE = 0xE;
    if ( v5 )
    {
      n0xE = 0xF;
    }
    sub_140368960((__int64)v15, n0xE);
    result = sub_1468FF140(a1, v15);
    v7 = *(_QWORD *)(a1 + 0x128);
    if ( v7 )
    {
      v8 = 0;
      result = (__int64)(*(_QWORD *)(v7 + 0x1C0) - *(_QWORD *)(v7 + 0x1B8)) >> 3;
      if ( (int)result > 0 )
      {
        v9 = 0;
        do
        {
          if ( (__int64)(*(_QWORD *)(v7 + 0x1C0) - *(_QWORD *)(v7 + 0x1B8)) >> 3 <= v9 )
          {
            __debugbreak();
          }
          v10 = (_QWORD *)(*(_QWORD *)(v7 + 0x1B8) + 8 * v9);
          if ( *v10 )
          {
            v11 = HIWORD(*v10);
            v12 = (v11 & 0xF000) != 0 ? *v10 & 0xFFFFFF000000LL : (*v10 & 0xFFFFFFFFFFFFLL) - 6;
            if ( *(_WORD *)(v12 + 2) == (v11 & 0xFFF) )
            {
              if ( *(_BYTE *)(a1() + 0x25) || (v13 = is_thread_flag_57_or_38_set()) )
              {
                v13 = 1;
              }
              if ( *(_WORD *)(v12 + 4) == 2 && v13 || check_handle_access_by_state_extended(v10) )
              {
                v14 = *(_QWORD *)(a1 + 0x128);
                if ( (__int64)(*(_QWORD *)(v14 + 0x1C0) - *(_QWORD *)(v14 + 0x1B8)) >> 3 <= v9 )
                {
                  __debugbreak();
                }
                sub_1468E20C0(*(_QWORD *)(*(_QWORD *)(v14 + 0x1B8) + 8 * v9) & 0xFFFFFFFFFFFFLL, a2);
              }
            }
          }
          v7 = *(_QWORD *)(a1 + 0x128);
          ++v8;
          ++v9;
          result = (__int64)(*(_QWORD *)(v7 + 0x1C0) - *(_QWORD *)(v7 + 0x1B8)) >> 3;
        }
        while ( v8 < (int)result );
      }
    }
  }
  return result;
}

// --- End Function: sub_1468E20C0 (0x1468E20C0) ---

// --- Function: sub_1468E22B0 (0x1468E22B0) ---
char __fastcall sub_1468E22B0(__int64 a1, const vraudio::AudioBuffer *__Val_0___1, unsigned __int8 a3)
{
  __int64 v5; // rax
  const vraudio::AudioBuffer *__Val_0__; // [rsp+38h] [rbp+10h] BYREF

  __Val_0__ = __Val_0___1;
  if ( is_valid_handle_typeB((unsigned __int64 *)&__Val_0__) && (v5 = sub_1468DB500(a1)) != 0 )
  {
    return sub_14680F550(v5, __Val_0__, a3);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468E22B0 (0x1468E22B0) ---

// --- Function: sub_1468E6EC0 (0x1468E6EC0) ---
double __fastcall sub_1468E6EC0(unsigned __int64 a1, int a2, __int64 a3)
{
  __int64 v6; // rdx
  unsigned __int64 v7; // rbx
  __int64 v8; // rcx
  unsigned __int64 v9; // rax
  __int64 v10; // r9
  char v11; // dl
  unsigned __int64 v12; // rcx
  unsigned __int16 v13; // ax
  __int64 v14; // rax
  __int64 v15; // rbx
  _QWORD *v16; // rbp
  _QWORD *i; // rbx
  __int64 v18; // rax
  __int64 v19; // rax
  __int64 v20; // rbx
  __int64 v21; // rax
  __int64 v22; // r9
  char v23; // dl
  unsigned __int64 v24; // rcx
  unsigned __int16 v25; // ax
  int n0xF00; // [rsp+30h] [rbp-68h] BYREF
  __int64 v28; // [rsp+34h] [rbp-64h]
  int v29; // [rsp+3Ch] [rbp-5Ch]
  __int64 v30; // [rsp+40h] [rbp-58h]
  unsigned __int64 v31; // [rsp+48h] [rbp-50h]
  __int64 v32; // [rsp+50h] [rbp-48h]
  __int64 v33; // [rsp+58h] [rbp-40h]

  n0xF00 = 0xF00;
  v28 = 0;
  v29 = 0;
  v31 = 0;
  v32 = 0;
  v33 = 0;
  v30 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( (a2 & 0x40000E) != 0 && (a2 & 0x2000) == 0 )
  {
    *(_DWORD *)(a1 + 8) |= 0x20u;
  }
  if ( (a2 & 0x400000) != 0 )
  {
    *(_DWORD *)(a1 + 0xB4) = a1_0 - 1;
  }
  if ( (a2 & 0x1000000) != 0 )
  {
    v7 = a1 + 0x128;
    v8 = *(_QWORD *)(a1 + 0x128);
    if ( v8 )
    {
      if ( *(_DWORD *)(v8 + 0x10) == 3 && is_valid_handle_typeB((unsigned __int64 *)v8) )
      {
        v9 = sub_1468D6BB0(**(_QWORD **)v7 & 0xFFFFFFFFFFFFLL, *(_DWORD *)(*(_QWORD *)v7 + 0x144LL));
        if ( v9 )
        {
          v10 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)v9 + 0x30LL))(v9);
          if ( a1_1 > a1
            || a1 >= qword_15126E3D8 + a1_1 )
          {
            v11 = 0;
            v12 = a1 - 6;
          }
          else
          {
            v11 = 1;
            v12 = a1 & 0xFFFFFFFFFF000000uLL;
          }
          v13 = *(_WORD *)(v12 + 2) | 0x2000;
          if ( !v11 )
          {
            v13 = *(_WORD *)(v12 + 2);
          }
          *(_WORD *)(*(_QWORD *)v7 + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v10 + 0x2E0LL))(
                                                  v10,
                                                  a1 | ((unsigned __int64)v13 << 0x30),
                                                  *(unsigned int *)(*(_QWORD *)v7 + 0x14CLL));
LABEL_18:
          v7 = a1 + 0x128;
        }
      }
      else
      {
        v19 = *(_QWORD *)v7;
        if ( *(_DWORD *)(*(_QWORD *)v7 + 0x10LL) == 4 && *(_DWORD *)(v19 + 0x14C) )
        {
          if ( *(_BYTE *)(v19 + 0x138) != 1 )
          {
            sub_1403DC060();
          }
          v20 = *(_QWORD *)(v19 + 0x18);
          if ( v20 )
          {
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v20 + 8LL))(v20);
          }
          v21 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v20 + 0xB8LL))(v20);
          if ( v21 )
          {
            v22 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v21 + 0x30LL))(v21);
            if ( a1_1 > a1
              || a1 >= qword_15126E3D8 + a1_1 )
            {
              v23 = 0;
              v24 = a1 - 6;
            }
            else
            {
              v23 = 1;
              v24 = a1 & 0xFFFFFFFFFF000000uLL;
            }
            v25 = *(_WORD *)(v24 + 2) | 0x2000;
            if ( !v23 )
            {
              v25 = *(_WORD *)(v24 + 2);
            }
            *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) = (*(__int64 (__fastcall **)(__int64, unsigned __int64, _QWORD))(*(_QWORD *)v22 + 0x2E0LL))(
                                                                               v22,
                                                                               a1
                                                                             | ((unsigned __int64)v25 << 0x30),
                                                                               *(unsigned int *)(*(_QWORD *)(a1 + 0x128)
                                                                                               + 0x14CLL));
          }
          if ( v20 )
          {
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v20 + 0x10LL))(v20);
          }
          goto LABEL_18;
        }
      }
      v14 = *(_QWORD *)v7;
      if ( *(_WORD *)(*(_QWORD *)v7 + 0x148LL) != 0xFFFF && *(char *)(v14 + 0x140) < 0 )
      {
        *(_DWORD *)(a1 + 8) |= 0x40u;
        *(_DWORD *)(v14 + 0x140) &= ~0x80u;
      }
    }
  }
  v15 = *(_QWORD *)(a1 + 0x128);
  if ( v15 )
  {
    if ( (a2 & 0x800000) == 0 )
    {
      v16 = *(_QWORD **)(v15 + 0x1C0);
      for ( i = *(_QWORD **)(v15 + 0x1B8); i != v16; ++i )
      {
        if ( !*(_QWORD *)(a1 + 0x2B8)
          || (*(_BYTE *)(*(_QWORD *)((*i & 0xFFFFFFFFFFFFLL) + 0x128) + 0x140LL) & 4) != 0 )
        {
          sub_1468E6EC0(*i & 0xFFFFFFFFFFFFLL, a2 | 0x20u, 0);
        }
      }
    }
  }
  if ( (a2 & 0x8000) != 0 )
  {
    v18 = sub_1468DB500(a1);
    if ( v18 )
    {
      sub_14689A720(v18, (*(_DWORD *)(a1 + 8) & 0x40) != 0);
    }
    *(_DWORD *)(a1 + 8) &= ~0x20u;
    *(_DWORD *)(a1 + 8) &= ~0x40u;
    goto LABEL_52;
  }
  if ( (a2 & 0x20) == 0 )
  {
    if ( (a2 & 0x2000000) != 0 )
    {
      LOBYTE(v6) = 1;
      sub_1468F13D0(a1, v6, a3);
    }
    else if ( (a2 & 0x40400E) != 0 )
    {
LABEL_52:
      CEntity::RequestPostAnimationUpdate(a1);
    }
  }
  v31 = __rdtsc();
  return psub_7FF6AAB93930(&n0xF00);
}

// --- End Function: sub_1468E6EC0 (0x1468E6EC0) ---

// --- Function: sub_1468E7230 (0x1468E7230) ---
bool __fastcall sub_1468E7230(__int64 a1, unsigned __int8 a2)
{
  return sub_1467C9250(a1, a1, 0, a2);
}

// --- End Function: sub_1468E7230 (0x1468E7230) ---

// --- Function: sub_1468E7250 (0x1468E7250) ---
bool __fastcall sub_1468E7250(__int64 a1)
{
  if ( (*(_BYTE *)(a1 + 0x4F0) & 3) == 0 )
  {
    return 1;
  }
  if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 0x4D8)) )
  {
    return 0;
  }
  return *(_QWORD *)(a1 + 0x4E0) == *(_QWORD *)(a1 + 0x18);
}

// --- End Function: sub_1468E7250 (0x1468E7250) ---

// --- Function: sub_1468E72A0 (0x1468E72A0) ---
bool __fastcall sub_1468E72A0(__int64 a1)
{
  return sub_1467C93C0(a1, a1, 0, 1u);
}

// --- End Function: sub_1468E72A0 (0x1468E72A0) ---

// --- Function: sub_1468E72C0 (0x1468E72C0) ---
char __fastcall sub_1468E72C0(__int64 a1)
{
  if ( (*(_BYTE *)(a1 + 0x110) & 0x10) != 0 )
  {
    return 1;
  }
  if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)pCNetwork + 0xA8LL))(pCNetwork)
    || (*(_DWORD *)(a1 + 0x110) & 0x2000) == 0 )
  {
    return byte_14981D4A0;
  }
  return 0;
}

// --- End Function: sub_1468E72C0 (0x1468E72C0) ---

// --- Function: sub_1468E74B0 (0x1468E74B0) ---
bool __fastcall sub_1468E74B0(__int64 a1, __int64 a2)
{
  return sub_1467CA120(a1, a1, a2, 1u);
}

// --- End Function: sub_1468E74B0 (0x1468E74B0) ---

// --- Function: sub_1468E7580 (0x1468E7580) ---
char __fastcall sub_1468E7580(__int64 a1, __int64 a2)
{
  __int64 v2; // rax
  unsigned __int64 v3; // rbx
  __int64 v4; // r9
  __int64 *v7; // rdi
  __int64 v8; // rax

  v2 = *(_QWORD *)(a1 + 0x240);
  v3 = 0;
  v4 = *(_QWORD *)(a1 + 0x238);
  if ( !((v2 - v4) >> 3) )
  {
    return 0;
  }
  while ( 1 )
  {
    if ( (v2 - v4) >> 3 <= v3 )
    {
      __debugbreak();
    }
    v7 = (__int64 *)(*(_QWORD *)(a1 + 0x238) + 8 * v3);
    v8 = is_valid_handle_typeA(v7) ? *v7 & 0xFFFFFFFFFFFFLL : 0LL;
    if ( a2 == v8 && sub_1467CAB20(a1, a2) )
    {
      break;
    }
    v2 = *(_QWORD *)(a1 + 0x240);
    ++v3;
    v4 = *(_QWORD *)(a1 + 0x238);
    if ( v3 >= (v2 - v4) >> 3 )
    {
      return 0;
    }
  }
  return 1;
}

// --- End Function: sub_1468E7580 (0x1468E7580) ---

// --- Function: sub_1468E7660 (0x1468E7660) ---
bool __fastcall sub_1468E7660(__int64 a1)
{
  return *(_BYTE *)(a1 + 0xD) >= 6u;
}

// --- End Function: sub_1468E7660 (0x1468E7660) ---

// --- Function: sub_1468E7670 (0x1468E7670) ---
__int64 __fastcall sub_1468E7670(__int64 a1)
{
  __int64 v1; // rax
  volatile signed __int32 *v3; // rdx
  __int64 v4; // rbx
  volatile signed __int32 *v5; // rbp
  __int64 v6; // r9
  signed __int32 v7; // eax
  signed __int32 v8; // ett
  char n3; // r14
  volatile signed __int32 *v10; // rdi
  __int64 v11; // rax
  volatile signed __int32 *v12; // rbx
  __int64 v13; // r15
  volatile signed __int32 *v14; // rdx
  __int64 v15; // r9
  signed __int32 v16; // eax
  signed __int32 v17; // ett
  unsigned __int8 v18; // bp
  volatile signed __int32 *v20; // [rsp+40h] [rbp+8h]

  v1 = *(_QWORD *)(a1 + 0x2C8);
  LODWORD(v20) = 0;
  if ( !v1 )
  {
    v10 = 0;
    n3 = 1;
LABEL_23:
    v12 = v20;
    goto LABEL_24;
  }
  v3 = *(volatile signed __int32 **)(v1 + 0x28);
  v4 = 0;
  v5 = 0;
  if ( v3 )
  {
    v6 = *(_QWORD *)(v1 + 0x20);
    _InterlockedIncrement(v3 + 3);
    v7 = *((_DWORD *)v3 + 2);
    if ( v7 )
    {
      while ( 1 )
      {
        v8 = v7;
        v7 = _InterlockedCompareExchange(v3 + 2, v7 + 1, v7);
        if ( v8 == v7 )
        {
          break;
        }
        if ( !v7 )
        {
          goto LABEL_8;
        }
      }
      v4 = v6;
      v5 = v3;
    }
LABEL_8:
    if ( _InterlockedExchangeAdd(v3 + 3, 0xFFFFFFFF) == 1 )
    {
      (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v3 + 8LL))(v3);
    }
  }
  n3 = 1;
  v10 = v5;
  if ( !v4 )
  {
    goto LABEL_23;
  }
  v11 = *(_QWORD *)(a1 + 0x2C8);
  v12 = 0;
  v13 = 0;
  if ( v11 )
  {
    v14 = *(volatile signed __int32 **)(v11 + 0x28);
    if ( v14 )
    {
      v15 = *(_QWORD *)(v11 + 0x20);
      _InterlockedIncrement(v14 + 3);
      v16 = *((_DWORD *)v14 + 2);
      if ( v16 )
      {
        while ( 1 )
        {
          v17 = v16;
          v16 = _InterlockedCompareExchange(v14 + 2, v16 + 1, v16);
          if ( v17 == v16 )
          {
            break;
          }
          if ( !v16 )
          {
            goto LABEL_18;
          }
        }
        v13 = v15;
        v12 = v14;
      }
LABEL_18:
      if ( _InterlockedExchangeAdd(v14 + 3, 0xFFFFFFFF) == 1 )
      {
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v14 + 8LL))(v14);
      }
    }
  }
  n3 = 3;
  if ( (*(int (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x10LL))(v13) >= 9 )
  {
LABEL_24:
    v18 = 0;
    if ( (n3 & 2) == 0 )
    {
      goto LABEL_29;
    }
    goto LABEL_25;
  }
  v18 = 1;
LABEL_25:
  if ( v12 )
  {
    if ( _InterlockedExchangeAdd(v12 + 2, 0xFFFFFFFF) == 1 )
    {
      (**(void (__fastcall ***)(volatile signed __int32 *))v12)(v12);
      if ( _InterlockedExchangeAdd(v12 + 3, 0xFFFFFFFF) == 1 )
      {
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v12 + 8LL))(v12);
      }
    }
  }
LABEL_29:
  if ( v10 )
  {
    if ( _InterlockedExchangeAdd(v10 + 2, 0xFFFFFFFF) == 1 )
    {
      (**(void (__fastcall ***)(volatile signed __int32 *))v10)(v10);
      if ( _InterlockedExchangeAdd(v10 + 3, 0xFFFFFFFF) == 1 )
      {
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v10 + 8LL))(v10);
      }
    }
  }
  return v18;
}

// --- End Function: sub_1468E7670 (0x1468E7670) ---

// --- Function: sub_1468E7840 (0x1468E7840) ---
bool __fastcall sub_1468E7840(unsigned __int64 a1)
{
  return a1_1 <= a1 && a1 < qword_15126E3D8 + a1_1;
}

// --- End Function: sub_1468E7840 (0x1468E7840) ---

// --- Function: sub_1468E7900 (0x1468E7900) ---
char __fastcall sub_1468E7900(__int64 a1, __int64 a2)
{
  __int64 v2; // rsi
  unsigned __int64 v4; // rax
  unsigned __int64 v5; // rax
  __int64 v6; // rdi
  bool v7; // al
  char v9; // [rsp+50h] [rbp+8h] BYREF

  v2 = *(_QWORD *)(a1 + 0x288);
  if ( !v2 )
  {
    return 0;
  }
  while ( 1 )
  {
    v4 = *(_QWORD *)(v2 + 8);
    if ( v4 )
    {
      v5 = HIWORD(v4);
      v6 = (v5 & 0xF000) != 0 ? *(_QWORD *)(v2 + 8) & 0xFFFFFF000000LL : (*(_QWORD *)(v2 + 8) & 0xFFFFFFFFFFFFLL) - 6;
      if ( *(_WORD *)(v6 + 2) == (v5 & 0xFFF) )
      {
        if ( *(_BYTE *)(a1() + 0x25) || (v7 = is_thread_flag_57_or_38_set()) )
        {
          v7 = 1;
        }
        if ( (*(_WORD *)(v6 + 4) == 2 && v7 || check_handle_access_by_state_extended((_QWORD *)(v2 + 8)))
          && *(_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)(*(_QWORD *)(v2 + 8) & 0xFFFFFFFFFFFFLL)
                                                                   + 8LL))(
                          *(_QWORD *)(v2 + 8) & 0xFFFFFFFFFFFFLL,
                          &v9) == a2 )
        {
          break;
        }
      }
    }
    v2 = *(_QWORD *)(v2 + 0x10);
    if ( !v2 )
    {
      return 0;
    }
  }
  return 1;
}

// --- End Function: sub_1468E7900 (0x1468E7900) ---

// --- Function: sub_1468E7C30 (0x1468E7C30) ---
unsigned __int64 __fastcall sub_1468E7C30(__int64 a1, int a2)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_146863490(result, a2);
  }
  return result;
}

// --- End Function: sub_1468E7C30 (0x1468E7C30) ---

// --- Function: sub_1468E7C70 (0x1468E7C70) ---
bool __fastcall sub_1468E7C70(__int64 a1)
{
  __int64 v2; // rax
  unsigned __int64 v4; // [rsp+30h] [rbp+8h] BYREF

  if ( (*(_DWORD *)(a1 + 0x110) & 0x1800) == 0x1000
    && is_valid_handle_typeB((unsigned __int64 *)(a1 + 0x310))
    && (((unsigned __int8)(*(_DWORD *)(a1 + 0x110) >> 0xD)
       ^ (unsigned __int8)(*(_DWORD *)((*(_QWORD *)(a1 + 0x310) & 0xFFFFFFFFFFFFLL) + 0x110) >> 0xD))
      & 1) != 0 )
  {
    return 1;
  }
  if ( (*(_BYTE *)(a1 + 0x4F0) & 3) == 0 )
  {
    v4 = *(_QWORD *)(a1 + 0x4E8);
    if ( is_valid_handle_typeB(&v4) )
    {
      v2 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v4 & 0xFFFFFFFFFFFFLL) + 0x658LL))(v4 & 0xFFFFFFFFFFFFLL);
      if ( v2 )
      {
        return (*(unsigned __int16 (__fastcall **)(__int64))(*(_QWORD *)v2 + 0x48LL))(v2) != 2;
      }
    }
    return 1;
  }
  return 0;
}

// --- End Function: sub_1468E7C70 (0x1468E7C70) ---

// --- Function: sub_1468E7D50 (0x1468E7D50) ---
void __fastcall sub_1468E7D50(unsigned __int64 a1, __int64 a2, unsigned __int8 a3)
{
  char v5; // dl
  unsigned __int64 v6; // rcx
  unsigned __int16 v7; // ax
  unsigned __int64 v8; // [rsp+30h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    if ( a1_1 > a1 || a1 >= a1_1 + qword_15126E3D8 )
    {
      v5 = 0;
      v6 = a1 - 6;
    }
    else
    {
      v5 = 1;
      v6 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v7 = *(_WORD *)(v6 + 2) | 0x2000;
    if ( !v5 )
    {
      v7 = *(_WORD *)(v6 + 2);
    }
    v8 = a1 | ((unsigned __int64)v7 << 0x30);
    sub_1468FD9F0(pEntitySystem, &v8, a2, a3);
  }
}

// --- End Function: sub_1468E7D50 (0x1468E7D50) ---

// --- Function: sub_1468E8090 (0x1468E8090) ---
__int64 __fastcall sub_1468E8090(__int64 a1, int a2, const char *a3, unsigned int a4, int a5)
{
  __int64 v5; // rbx
  __int64 v10; // rax
  unsigned int v11; // r12d
  unsigned __int64 *v12; // rax
  char v13; // al
  __int64 v14; // r14
  __int64 v15; // rax
  unsigned __int16 n0xFFFF_103; // ax
  char v17; // al
  unsigned __int64 v19; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v20; // [rsp+38h] [rbp-C8h] BYREF
  __int64 n6; // [rsp+40h] [rbp-C0h] BYREF
  unsigned int v22; // [rsp+48h] [rbp-B8h]
  int n0xF00; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v24; // [rsp+54h] [rbp-ACh]
  int v25; // [rsp+5Ch] [rbp-A4h]
  __int64 v26; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v27; // [rsp+68h] [rbp-98h]
  __int64 v28; // [rsp+70h] [rbp-90h]
  __int64 v29; // [rsp+78h] [rbp-88h]
  int v30; // [rsp+A0h] [rbp-60h] BYREF
  char v31; // [rsp+A4h] [rbp-5Ch]
  char v32; // [rsp+A5h] [rbp-5Bh]
  unsigned int v33; // [rsp+A8h] [rbp-58h]
  char v34; // [rsp+ACh] [rbp-54h]
  float v35; // [rsp+B0h] [rbp-50h]
  float v36; // [rsp+B4h] [rbp-4Ch]
  char v37; // [rsp+B8h] [rbp-48h]
  unsigned __int64 v38; // [rsp+C0h] [rbp-40h]
  __int64 v39; // [rsp+C8h] [rbp-38h]
  __int64 v40; // [rsp+D0h] [rbp-30h]
  __int64 n0x81; // [rsp+D8h] [rbp-28h]
  __int128 v42; // [rsp+E0h] [rbp-20h]
  __int64 v43; // [rsp+F0h] [rbp-10h]
  char v44; // [rsp+F8h] [rbp-8h]
  __int128 v45; // [rsp+100h] [rbp+0h]
  __int64 v46; // [rsp+110h] [rbp+10h]
  char v47; // [rsp+118h] [rbp+18h]
  float v48; // [rsp+11Ch] [rbp+1Ch]
  __int64 v49; // [rsp+120h] [rbp+20h]
  int v50; // [rsp+128h] [rbp+28h]
  float v51; // [rsp+12Ch] [rbp+2Ch]
  __int128 v52; // [rsp+130h] [rbp+30h]
  __int64 v53; // [rsp+140h] [rbp+40h]
  unsigned int v54; // [rsp+148h] [rbp+48h]
  __int128 v55; // [rsp+150h] [rbp+50h]
  __int128 v56; // [rsp+160h] [rbp+60h]
  int v57; // [rsp+170h] [rbp+70h]
  int n2; // [rsp+180h] [rbp+80h] BYREF
  char v59; // [rsp+184h] [rbp+84h]
  char v60; // [rsp+185h] [rbp+85h]
  unsigned int v61; // [rsp+188h] [rbp+88h]
  char v62; // [rsp+18Ch] [rbp+8Ch]
  unsigned int v63; // [rsp+190h] [rbp+90h]
  unsigned int v64; // [rsp+194h] [rbp+94h]
  char v65; // [rsp+198h] [rbp+98h]
  unsigned __int64 v66; // [rsp+1A0h] [rbp+A0h]
  __int64 v67; // [rsp+1A8h] [rbp+A8h]
  __int64 v68; // [rsp+1B0h] [rbp+B0h]
  __int64 n0x81_1; // [rsp+1B8h] [rbp+B8h]
  __int128 v70; // [rsp+1C0h] [rbp+C0h]
  __int64 v71; // [rsp+1D0h] [rbp+D0h]
  char v72; // [rsp+1D8h] [rbp+D8h]
  __int128 v73; // [rsp+1E0h] [rbp+E0h]
  __int64 v74; // [rsp+1F0h] [rbp+F0h]
  char v75; // [rsp+1F8h] [rbp+F8h]
  float v76; // [rsp+1FCh] [rbp+FCh]
  __int64 v77; // [rsp+200h] [rbp+100h]
  int v78; // [rsp+208h] [rbp+108h]
  float v79; // [rsp+20Ch] [rbp+10Ch]
  __int128 v80; // [rsp+210h] [rbp+110h]
  __int64 v81; // [rsp+220h] [rbp+120h]
  unsigned int v82; // [rsp+228h] [rbp+128h]
  __int128 v83; // [rsp+230h] [rbp+130h]
  __int128 v84; // [rsp+240h] [rbp+140h]
  int v85; // [rsp+250h] [rbp+150h]
  unsigned __int64 v86; // [rsp+260h] [rbp+160h] BYREF
  int n0xB; // [rsp+268h] [rbp+168h] BYREF
  unsigned __int64 v88; // [rsp+270h] [rbp+170h]
  __int128 v89; // [rsp+278h] [rbp+178h]
  __int64 v90; // [rsp+2C0h] [rbp+1C0h] BYREF
  float v91; // [rsp+2C8h] [rbp+1C8h] BYREF

  v5 = 0;
  n0xF00 = 0xF00;
  v24 = 0;
  v25 = 0;
  v27 = 0;
  v28 = 0;
  v29 = 0;
  v26 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( a2 > (int)0xFFFFFFFF )
  {
    v10 = sub_1468DB500(a1);
    if ( v10 )
    {
      sub_146880D90(v10, a2, 1, 1u, 1u, 1u);
    }
  }
  sub_1467F4290(a1, &v20);
  v11 = sub_146863720(v20 & 0xFFFFFFFFFFFFLL, a2, a3, a4, a5);
  if ( (a4 & 2) == 0
    && (v12 = sub_1468DB6A0(a1, &v86), *v12)
    && *(_QWORD *)((*v12 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*v12) )
  {
    v30 = 0;
    v40 = 0x1000007FFLL;
    v13 = ~*(_BYTE *)(a1 + 8);
    v31 = 0;
    v34 = 0;
    v32 = v13 & 1;
    v48 = 0.0;
    v51 = 0.0;
    v37 = 0;
    v38 = 0xFFFFFFFFFFFFFFFFuLL;
    v39 = 0;
    n0x81 = 0x81;
    v42 = 0;
    v43 = 0;
    v44 = 0;
    v45 = 0;
    v46 = 0;
    v47 = 0;
    v49 = 0;
    v50 = 0;
    v52 = 0;
    v53 = 0;
    v54 = 0xFFFFFFFF;
    v55 = 0;
    v56 = 0;
    v57 = 0;
    v36 = NAN;
    v35 = NAN;
    v33 = v11;
    v14 = sub_1468DB500(a1);
    if ( v14 )
    {
      if ( !v33 )
      {
        v91 = v36;
        if ( (LODWORD(v36) & 0xFFA00000) == 0xFFA00000 )
        {
          v91 = v35;
          if ( (LODWORD(v35) & 0xFFA00000) == 0xFFA00000 )
          {
            v15 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_14981D2B0 + 0xC0LL))(
                    qword_14981D2B0,
                    "p_physical_properties");
            if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x10LL))(v15) )
            {
              n0xFFFF_103 = ::n0xFFFF_103;
              if ( ::n0xFFFF_103 == (__int16)0xFFFF )
              {
                n0xFFFF_103 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, float *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                                  + 0x10LL))(
                                          global_dispatcher_ptr,
                                          &v91,
                                          "EntityPhysicsController");
                ::n0xFFFF_103 = n0xFFFF_103;
              }
              if ( *(_BYTE *)(a1 + 0xD) != 7 )
              {
                sub_1468D6F90((unsigned __int64 *)a1, (unsigned __int64 *)&v90, n0xFFFF_103);
                v5 = v90;
              }
              v90 = v5;
              if ( is_valid_handle_typeA(&v90) )
              {
                v36 = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v5 & 0xFFFFFFFFFFFFLL);
              }
            }
          }
        }
      }
      sub_1468760F0(v14, (__int64)&v30);
    }
  }
  else if ( (a4 & 1) != 0 )
  {
    v59 = 0;
    v68 = 0x1000007FFLL;
    v17 = ~*(_BYTE *)(a1 + 8);
    v62 = 0;
    v65 = 0;
    v60 = v17 & 1;
    v76 = 0.0;
    v79 = 0.0;
    v66 = 0xFFFFFFFFFFFFFFFFuLL;
    v67 = 0;
    n0x81_1 = 0x81;
    v70 = 0;
    v71 = 0;
    v72 = 0;
    v73 = 0;
    v74 = 0;
    v75 = 0;
    v77 = 0;
    v78 = 0;
    v80 = 0;
    v81 = 0;
    v82 = 0xFFFFFFFF;
    v83 = 0;
    v84 = 0;
    v85 = 0;
    v64 = 0xFFBFFFFF;
    v63 = 0xFFBFFFFF;
    v61 = v11;
    n2 = 2;
    sub_1468F0C10(a1, (float *)&n2);
    sub_1468DB6A0(a1, &v19);
    if ( v19 )
    {
      if ( *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v19) )
      {
        n6 = 6;
        v22 = 0xFFBFFFFF;
        (*(void (__fastcall **)(unsigned __int64, __int64 *, _QWORD))(*(_QWORD *)(v19 & 0xFFFFFFFFFFFFLL) + 0x30LL))(
          v19 & 0xFFFFFFFFFFFFLL,
          &n6,
          0);
        n0xB = 0xB;
        v88 = 0xFFFFFFFFFFFFFFFFuLL;
        v89 = xmmword_147F49E90;
        (*(void (__fastcall **)(unsigned __int64, int *, _QWORD))(*(_QWORD *)(v19 & 0xFFFFFFFFFFFFLL) + 0x18LL))(
          v19 & 0xFFFFFFFFFFFFLL,
          &n0xB,
          0);
      }
    }
  }
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
  {
    sub_1468D26C0(a1, v20);
  }
  v27 = __rdtsc();
  psub_7FF6AAB93930(&n0xF00);
  return v11;
}

// --- End Function: sub_1468E8090 (0x1468E8090) ---

// --- Function: sub_1468E8540 (0x1468E8540) ---
__int64 __fastcall sub_1468E8540(__int64 a1, unsigned int a2, __int64 a3)
{
  __int64 v6; // [rsp+48h] [rbp+20h] BYREF

  sub_1467F4290(a1, &v6);
  return sub_146863AB0(v6 & 0xFFFFFFFFFFFFLL, a2, a3);
}

// --- End Function: sub_1468E8540 (0x1468E8540) ---

// --- Function: sub_1468E8580 (0x1468E8580) ---
__int64 __fastcall sub_1468E8580(__int64 a1, signed int a2, __int64 a3)
{
  __int64 v6; // rax
  unsigned int v7; // r14d
  unsigned __int64 *v8; // rax
  __int64 v9; // rbx
  __int64 v10; // rsi
  __int64 v11; // rax
  unsigned __int16 n0xFFFF_103; // ax
  unsigned __int64 v13; // rax
  __int64 v14; // rax
  __int64 v16; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v17; // [rsp+38h] [rbp-C8h] BYREF
  int v18; // [rsp+40h] [rbp-C0h] BYREF
  __int16 n0x100; // [rsp+44h] [rbp-BCh]
  signed int v20; // [rsp+48h] [rbp-B8h]
  char v21; // [rsp+4Ch] [rbp-B4h]
  float v22; // [rsp+50h] [rbp-B0h]
  float v23; // [rsp+54h] [rbp-ACh]
  char v24; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v25; // [rsp+60h] [rbp-A0h]
  __int64 v26; // [rsp+68h] [rbp-98h]
  __int64 v27; // [rsp+70h] [rbp-90h]
  __int64 n0x81; // [rsp+78h] [rbp-88h]
  __int128 v29; // [rsp+80h] [rbp-80h]
  __int64 v30; // [rsp+90h] [rbp-70h]
  char v31; // [rsp+98h] [rbp-68h]
  __int128 v32; // [rsp+A0h] [rbp-60h]
  __int64 v33; // [rsp+B0h] [rbp-50h]
  char v34; // [rsp+B8h] [rbp-48h]
  float v35; // [rsp+BCh] [rbp-44h]
  __int64 v36; // [rsp+C0h] [rbp-40h]
  int v37; // [rsp+C8h] [rbp-38h]
  float v38; // [rsp+CCh] [rbp-34h]
  __int128 v39; // [rsp+D0h] [rbp-30h]
  __int64 v40; // [rsp+E0h] [rbp-20h]
  unsigned int v41; // [rsp+E8h] [rbp-18h]
  __int128 v42; // [rsp+F0h] [rbp-10h]
  __int128 v43; // [rsp+100h] [rbp+0h]
  int v44; // [rsp+110h] [rbp+10h]
  _DWORD v45[6]; // [rsp+120h] [rbp+20h] BYREF
  __int64 v46; // [rsp+138h] [rbp+38h]

  if ( a2 > (int)0xFFFFFFFF )
  {
    v6 = sub_1468DB500(a1);
    if ( v6 )
    {
      sub_146880D90(v6, a2, 1, 1u, 1u, 1u);
    }
  }
  sub_1467F4290(a1, &v16);
  v7 = sub_146864BF0(v16 & 0xFFFFFFFFFFFFLL, a2, a3);
  v8 = sub_1468DB6A0(a1, (unsigned __int64 *)&v17);
  if ( *v8 )
  {
    if ( *(_QWORD *)((*v8 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*v8) )
    {
      v9 = 0;
      n0x100 = 0x100;
      v18 = 0;
      v21 = 0;
      v35 = 0.0;
      v38 = 0.0;
      v24 = 0;
      v26 = 0;
      v27 = 0x1000007FFLL;
      v29 = 0;
      v30 = 0;
      v31 = 0;
      v32 = 0;
      v33 = 0;
      v34 = 0;
      v36 = 0;
      v37 = 0;
      v39 = 0;
      v40 = 0;
      v42 = 0;
      v43 = 0;
      v44 = 0;
      v25 = 0xFFFFFFFFFFFFFFFFuLL;
      n0x81 = 0x81;
      v41 = 0xFFFFFFFF;
      v23 = NAN;
      v22 = NAN;
      v20 = a2;
      v10 = sub_1468DB500(a1);
      if ( v10 )
      {
        if ( !v20 )
        {
          *(float *)&v16 = v23;
          if ( (LODWORD(v23) & 0xFFA00000) == 0xFFA00000 )
          {
            *(float *)&v16 = v22;
            if ( (LODWORD(v22) & 0xFFA00000) == 0xFFA00000 )
            {
              v11 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_14981D2B0 + 0xC0LL))(
                      qword_14981D2B0,
                      "p_physical_properties");
              if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x10LL))(v11) )
              {
                n0xFFFF_103 = ::n0xFFFF_103;
                if ( ::n0xFFFF_103 == (__int16)0xFFFF )
                {
                  n0xFFFF_103 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr + 0x10LL))(
                                            global_dispatcher_ptr,
                                            &v16,
                                            "EntityPhysicsController");
                  ::n0xFFFF_103 = n0xFFFF_103;
                }
                if ( *(_BYTE *)(a1 + 0xD) != 7 )
                {
                  sub_1468D6F90((unsigned __int64 *)a1, (unsigned __int64 *)&v17, n0xFFFF_103);
                  v9 = v17;
                }
                v17 = v9;
                if ( is_valid_handle_typeA(&v17) )
                {
                  v23 = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v9 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v9 & 0xFFFFFFFFFFFFLL);
                }
              }
            }
          }
        }
        sub_1468760F0(v10, (__int64)&v18);
      }
    }
  }
  v13 = sub_1468DE420(a1);
  if ( v13 )
  {
    sub_146889280(v13 + 0x78, (_QWORD *)(a1 + 0x130));
    v14 = sub_1468DB500(a1);
    if ( v14 )
    {
      sub_14688A2F0(v14, 0xFFFFFFFF, (__int64 *)(a1 + 0x130));
    }
  }
  sub_140368980((__int64)v45);
  v46 = *(_QWORD *)(a1 + 0x130);
  v45[0] = 0x18;
  sub_1468FF140(a1, v45);
  return v7;
}

// --- End Function: sub_1468E8580 (0x1468E8580) ---

// --- Function: sub_1468E8860 (0x1468E8860) ---
__int64 __fastcall sub_1468E8860(__int64 a1, int a2, __int64 a3, _BYTE *a4, float a5)
{
  __int64 v9; // rax
  char v10; // r15
  unsigned int v11; // r14d
  unsigned __int64 *v12; // rax
  unsigned __int64 v13; // rbx
  char v14; // al
  __int64 v15; // r15
  __int64 v16; // rax
  unsigned __int16 n0xFFFF_103; // ax
  char v18; // al
  __int64 v20; // [rsp+30h] [rbp-D0h] BYREF
  __int64 n6; // [rsp+38h] [rbp-C8h] BYREF
  unsigned int v22; // [rsp+40h] [rbp-C0h]
  int n2; // [rsp+50h] [rbp-B0h] BYREF
  char v24; // [rsp+54h] [rbp-ACh]
  char v25; // [rsp+55h] [rbp-ABh]
  unsigned int v26; // [rsp+58h] [rbp-A8h]
  char v27; // [rsp+5Ch] [rbp-A4h]
  float v28; // [rsp+60h] [rbp-A0h]
  float v29; // [rsp+64h] [rbp-9Ch]
  char v30; // [rsp+68h] [rbp-98h]
  unsigned __int64 v31; // [rsp+70h] [rbp-90h]
  __int64 v32; // [rsp+78h] [rbp-88h]
  __int64 v33; // [rsp+80h] [rbp-80h]
  __int64 n0x81; // [rsp+88h] [rbp-78h]
  __int128 v35; // [rsp+90h] [rbp-70h]
  __int64 v36; // [rsp+A0h] [rbp-60h]
  char v37; // [rsp+A8h] [rbp-58h]
  __int128 v38; // [rsp+B0h] [rbp-50h]
  __int64 v39; // [rsp+C0h] [rbp-40h]
  char v40; // [rsp+C8h] [rbp-38h]
  float v41; // [rsp+CCh] [rbp-34h]
  __int64 v42; // [rsp+D0h] [rbp-30h]
  int v43; // [rsp+D8h] [rbp-28h]
  float v44; // [rsp+DCh] [rbp-24h]
  __int128 v45; // [rsp+E0h] [rbp-20h]
  __int64 v46; // [rsp+F0h] [rbp-10h]
  unsigned int v47; // [rsp+F8h] [rbp-8h]
  __int128 v48; // [rsp+100h] [rbp+0h]
  __int128 v49; // [rsp+110h] [rbp+10h]
  int v50; // [rsp+120h] [rbp+20h]
  int n0xB; // [rsp+130h] [rbp+30h] BYREF
  unsigned __int64 v52; // [rsp+138h] [rbp+38h]
  __int128 v53; // [rsp+140h] [rbp+40h]
  unsigned __int64 v54; // [rsp+180h] [rbp+80h] BYREF

  if ( a2 > (int)0xFFFFFFFF )
  {
    v9 = sub_1468DB500(a1);
    if ( v9 )
    {
      sub_146880D90(v9, a2, 1, 1u, 1u, 1u);
    }
  }
  sub_1467F4290(a1, &v20);
  v10 = LOBYTE(a5);
  v11 = sub_1468652F0(v20 & 0xFFFFFFFFFFFFLL, a2, a3, a4);
  if ( (v10 & 2) == 0
    && (v12 = sub_1468DB6A0(a1, &v54), *v12)
    && *(_QWORD *)((*v12 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*v12) )
  {
    v13 = 0;
    v31 = 0xFFFFFFFFFFFFFFFFuLL;
    n2 = 0;
    v33 = 0x1000007FFLL;
    v14 = ~*(_BYTE *)(a1 + 8);
    v24 = 0;
    v27 = 0;
    v25 = v14 & 1;
    v41 = 0.0;
    v44 = 0.0;
    v30 = 0;
    v32 = 0;
    n0x81 = 0x81;
    v35 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v40 = 0;
    v42 = 0;
    v43 = 0;
    v45 = 0;
    v46 = 0;
    v47 = 0xFFFFFFFF;
    v48 = 0;
    v49 = 0;
    v50 = 0;
    v29 = NAN;
    v28 = NAN;
    v26 = v11;
    v15 = sub_1468DB500(a1);
    if ( v15 )
    {
      if ( !v26 )
      {
        a5 = v29;
        if ( (LODWORD(v29) & 0xFFA00000) == 0xFFA00000 )
        {
          a5 = v28;
          if ( (LODWORD(v28) & 0xFFA00000) == 0xFFA00000 )
          {
            v16 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_14981D2B0 + 0xC0LL))(
                    qword_14981D2B0,
                    "p_physical_properties");
            if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v16 + 0x10LL))(v16) )
            {
              n0xFFFF_103 = ::n0xFFFF_103;
              if ( ::n0xFFFF_103 == (__int16)0xFFFF )
              {
                n0xFFFF_103 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, float *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                                  + 0x10LL))(
                                          global_dispatcher_ptr,
                                          &a5,
                                          "EntityPhysicsController");
                ::n0xFFFF_103 = n0xFFFF_103;
              }
              if ( *(_BYTE *)(a1 + 0xD) != 7 )
              {
                sub_1468D6F90((unsigned __int64 *)a1, &v54, n0xFFFF_103);
                v13 = v54;
              }
              v54 = v13;
              if ( is_valid_handle_typeA((__int64 *)&v54) )
              {
                v29 = (*(float (__fastcall **)(unsigned __int64))(*(_QWORD *)(v13 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v13 & 0xFFFFFFFFFFFFLL);
              }
            }
          }
        }
      }
      sub_1468760F0(v15, (__int64)&n2);
    }
  }
  else if ( (v10 & 1) != 0 )
  {
    v24 = 0;
    v27 = 0;
    v33 = 0x1000007FFLL;
    v18 = ~*(_BYTE *)(a1 + 8);
    v30 = 0;
    v31 = 0xFFFFFFFFFFFFFFFFuLL;
    v25 = v18 & 1;
    v41 = 0.0;
    v44 = 0.0;
    v32 = 0;
    n0x81 = 0x81;
    v35 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v40 = 0;
    v42 = 0;
    v43 = 0;
    v45 = 0;
    v46 = 0;
    v47 = 0xFFFFFFFF;
    v48 = 0;
    v49 = 0;
    v50 = 0;
    v29 = NAN;
    v28 = NAN;
    v26 = v11;
    n2 = 2;
    sub_1468F0C10(a1, (float *)&n2);
    sub_1468DB6A0(a1, &v54);
    if ( v54 )
    {
      if ( *(_QWORD *)((v54 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v54) )
      {
        n6 = 6;
        v22 = 0xFFBFFFFF;
        (*(void (__fastcall **)(unsigned __int64, __int64 *, _QWORD))(*(_QWORD *)(v54 & 0xFFFFFFFFFFFFLL) + 0x30LL))(
          v54 & 0xFFFFFFFFFFFFLL,
          &n6,
          0);
        n0xB = 0xB;
        v52 = 0xFFFFFFFFFFFFFFFFuLL;
        v53 = xmmword_147F49E90;
        (*(void (__fastcall **)(unsigned __int64, int *, _QWORD))(*(_QWORD *)(v54 & 0xFFFFFFFFFFFFLL) + 0x18LL))(
          v54 & 0xFFFFFFFFFFFFLL,
          &n0xB,
          0);
      }
    }
  }
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
  {
    sub_1468D26C0(a1, v20);
  }
  return v11;
}

// --- End Function: sub_1468E8860 (0x1468E8860) ---

// --- Function: sub_1468E8C60 (0x1468E8C60) ---
__int64 __fastcall sub_1468E8C60(__int64 a1, signed int a2, _QWORD *a3, _QWORD *a4)
{
  __int64 v8; // rax
  __int64 v9; // rbx
  void (__fastcall ***v10)(_QWORD); // rcx
  __int64 v11; // r15
  void (__fastcall ***v12)(_QWORD); // rcx
  unsigned int v13; // r14d
  __int64 v15; // [rsp+60h] [rbp+8h] BYREF
  void (__fastcall ***v16)(_QWORD); // [rsp+70h] [rbp+18h] BYREF

  if ( a2 > (int)0xFFFFFFFF )
  {
    v8 = sub_1468DB500(a1);
    if ( v8 )
    {
      sub_146880D90(v8, a2, 1, 1u, 1u, 1u);
    }
  }
  sub_1467F4290(a1, &v15);
  v9 = v15;
  v10 = (void (__fastcall ***)(_QWORD))*a4;
  v11 = v15 & 0xFFFFFFFFFFFFLL;
  v15 = (__int64)v10;
  if ( v10 )
  {
    (**v10)(v10);
  }
  v12 = (void (__fastcall ***)(_QWORD))*a3;
  v16 = v12;
  if ( v12 )
  {
    (**v12)(v12);
  }
  v13 = sub_1468654D0(v11, a2, &v16, &v15);
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
  {
    sub_1468D26C0(a1, v9);
  }
  if ( *a3 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
  }
  *a3 = 0;
  if ( *a4 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a4 + 8LL))(*a4);
  }
  *a4 = 0;
  return v13;
}

// --- End Function: sub_1468E8C60 (0x1468E8C60) ---

// --- Function: sub_1468E8D50 (0x1468E8D50) ---
__int64 __fastcall sub_1468E8D50(__int64 a1, int a2, _QWORD *a3, char a4)
{
  __int64 v8; // rax
  void (__fastcall ***v9)(_QWORD); // rcx
  __int64 v10; // r15
  unsigned int v11; // r15d
  unsigned __int64 *v12; // rax
  char v13; // al
  __int64 v14; // r12
  __int64 v15; // rax
  unsigned __int16 n0xFFFF_103; // ax
  unsigned __int64 v17; // rbx
  char v18; // al
  __int64 result; // rax
  __int64 n6; // [rsp+30h] [rbp-D0h] BYREF
  unsigned int v21; // [rsp+38h] [rbp-C8h]
  int n2; // [rsp+40h] [rbp-C0h] BYREF
  char v23; // [rsp+44h] [rbp-BCh]
  char v24; // [rsp+45h] [rbp-BBh]
  unsigned int v25; // [rsp+48h] [rbp-B8h]
  char v26; // [rsp+4Ch] [rbp-B4h]
  float v27; // [rsp+50h] [rbp-B0h]
  float v28; // [rsp+54h] [rbp-ACh]
  char v29; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v30; // [rsp+60h] [rbp-A0h]
  __int64 v31; // [rsp+68h] [rbp-98h]
  __int64 v32; // [rsp+70h] [rbp-90h]
  __int64 n0x81; // [rsp+78h] [rbp-88h]
  __int128 v34; // [rsp+80h] [rbp-80h]
  __int64 v35; // [rsp+90h] [rbp-70h]
  char v36; // [rsp+98h] [rbp-68h]
  __int128 v37; // [rsp+A0h] [rbp-60h]
  __int64 v38; // [rsp+B0h] [rbp-50h]
  char v39; // [rsp+B8h] [rbp-48h]
  float v40; // [rsp+BCh] [rbp-44h]
  __int64 v41; // [rsp+C0h] [rbp-40h]
  int v42; // [rsp+C8h] [rbp-38h]
  float v43; // [rsp+CCh] [rbp-34h]
  __int128 v44; // [rsp+D0h] [rbp-30h]
  __int64 v45; // [rsp+E0h] [rbp-20h]
  unsigned int v46; // [rsp+E8h] [rbp-18h]
  __int128 v47; // [rsp+F0h] [rbp-10h]
  __int128 v48; // [rsp+100h] [rbp+0h]
  int v49; // [rsp+110h] [rbp+10h]
  int n0xB; // [rsp+120h] [rbp+20h] BYREF
  unsigned __int64 v51; // [rsp+128h] [rbp+28h]
  __int128 v52; // [rsp+130h] [rbp+30h]
  unsigned __int64 v53; // [rsp+180h] [rbp+80h] BYREF
  float v54; // [rsp+188h] [rbp+88h] BYREF
  __int64 v55; // [rsp+190h] [rbp+90h] BYREF

  if ( a2 > (int)0xFFFFFFFF )
  {
    v8 = sub_1468DB500(a1);
    if ( v8 )
    {
      sub_146880D90(v8, a2, 1, 1u, 1u, 1u);
    }
  }
  sub_1467F4290(a1, &v55);
  v9 = (void (__fastcall ***)(_QWORD))*a3;
  v10 = v55 & 0xFFFFFFFFFFFFLL;
  v53 = (unsigned __int64)v9;
  if ( v9 )
  {
    (**v9)(v9);
  }
  v11 = sub_146865DF0(v10, a2, &v53);
  if ( (a4 & 2) == 0
    && (v12 = sub_1468DB6A0(a1, &v53), *v12)
    && *(_QWORD *)((*v12 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(*v12) )
  {
    n2 = 0;
    v32 = 0x1000007FFLL;
    v13 = ~*(_BYTE *)(a1 + 8);
    v23 = 0;
    v26 = 0;
    v24 = v13 & 1;
    v40 = 0.0;
    v43 = 0.0;
    v29 = 0;
    v30 = 0xFFFFFFFFFFFFFFFFuLL;
    v31 = 0;
    n0x81 = 0x81;
    v34 = 0;
    v35 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v41 = 0;
    v42 = 0;
    v44 = 0;
    v45 = 0;
    v46 = 0xFFFFFFFF;
    v47 = 0;
    v48 = 0;
    v49 = 0;
    v28 = NAN;
    v27 = NAN;
    v25 = v11;
    v14 = sub_1468DB500(a1);
    if ( v14 )
    {
      if ( !v25 )
      {
        v54 = v27;
        v15 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_14981D2B0 + 0xC0LL))(
                qword_14981D2B0,
                "p_physical_properties");
        if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x10LL))(v15) )
        {
          n0xFFFF_103 = ::n0xFFFF_103;
          if ( ::n0xFFFF_103 == (__int16)0xFFFF )
          {
            n0xFFFF_103 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, float *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                              + 0x10LL))(
                                      global_dispatcher_ptr,
                                      &v54,
                                      "EntityPhysicsController");
            ::n0xFFFF_103 = n0xFFFF_103;
          }
          if ( *(_BYTE *)(a1 + 0xD) == 7 )
          {
            v17 = 0;
          }
          else
          {
            sub_1468D6F90((unsigned __int64 *)a1, &v53, n0xFFFF_103);
            v17 = v53;
          }
          v53 = v17;
          if ( is_valid_handle_typeA((__int64 *)&v53) )
          {
            v28 = (*(float (__fastcall **)(unsigned __int64))(*(_QWORD *)(v17 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v17 & 0xFFFFFFFFFFFFLL);
          }
        }
      }
      sub_1468760F0(v14, (__int64)&n2);
    }
  }
  else if ( (a4 & 1) != 0 )
  {
    v23 = 0;
    v32 = 0x1000007FFLL;
    v18 = ~*(_BYTE *)(a1 + 8);
    v26 = 0;
    v29 = 0;
    v24 = v18 & 1;
    v40 = 0.0;
    v43 = 0.0;
    v30 = 0xFFFFFFFFFFFFFFFFuLL;
    v31 = 0;
    n0x81 = 0x81;
    v34 = 0;
    v35 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    v41 = 0;
    v42 = 0;
    v44 = 0;
    v45 = 0;
    v46 = 0xFFFFFFFF;
    v47 = 0;
    v48 = 0;
    v49 = 0;
    v28 = NAN;
    v27 = NAN;
    v25 = v11;
    n2 = 2;
    sub_1468F0C10(a1, (float *)&n2);
    sub_1468DB6A0(a1, &v53);
    if ( v53 )
    {
      if ( *(_QWORD *)((v53 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v53) )
      {
        n6 = 6;
        v21 = 0xFFBFFFFF;
        (*(void (__fastcall **)(unsigned __int64, __int64 *, _QWORD))(*(_QWORD *)(v53 & 0xFFFFFFFFFFFFLL) + 0x30LL))(
          v53 & 0xFFFFFFFFFFFFLL,
          &n6,
          0);
        n0xB = 0xB;
        v51 = 0xFFFFFFFFFFFFFFFFuLL;
        v52 = xmmword_147F49E90;
        (*(void (__fastcall **)(unsigned __int64, int *, _QWORD))(*(_QWORD *)(v53 & 0xFFFFFFFFFFFFLL) + 0x18LL))(
          v53 & 0xFFFFFFFFFFFFLL,
          &n0xB,
          0);
      }
    }
  }
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
  {
    sub_1468D26C0(a1, v55);
  }
  if ( *a3 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 8LL))(*a3);
  }
  result = v11;
  *a3 = 0;
  return result;
}

// --- End Function: sub_1468E8D50 (0x1468E8D50) ---

// --- Function: sub_1468E91A0 (0x1468E91A0) ---
__int64 __fastcall sub_1468E91A0(__int64 a1, int a2, __int64 a3)
{
  __int64 v6; // [rsp+48h] [rbp+20h] BYREF

  sub_1467F4290(a1, &v6);
  return sub_146865E70(v6 & 0xFFFFFFFFFFFFLL, a2, a3);
}

// --- End Function: sub_1468E91A0 (0x1468E91A0) ---

// --- Function: sub_1468E91E0 (0x1468E91E0) ---
__int64 __fastcall sub_1468E91E0(__int64 a1, unsigned int a2, __int64 a3, unsigned int a4)
{
  _QWORD v8[3]; // [rsp+30h] [rbp-18h] BYREF

  sub_1467F4290(a1, v8);
  return sub_1468671E0(v8[0] & 0xFFFFFFFFFFFFLL, a2, a3, 0xFFFFu, a4);
}

// --- End Function: sub_1468E91E0 (0x1468E91E0) ---

// --- Function: sub_1468E9240 (0x1468E9240) ---
__int64 __fastcall sub_1468E9240(__int64 a1, unsigned int a2, __int64 a3, unsigned int a4)
{
  _QWORD v8[3]; // [rsp+20h] [rbp-18h] BYREF

  sub_1467F4290(a1, v8);
  return sub_146867DD0(v8[0] & 0xFFFFFFFFFFFFLL, a2, a3, a4);
}

// --- End Function: sub_1468E9240 (0x1468E9240) ---

// --- Function: sub_1468E9290 (0x1468E9290) ---
__int64 __fastcall sub_1468E9290(
        __int64 a1,
        unsigned int a2,
        float *a3,
        _QWORD *a4,
        __int64 a5,
        __int64 a6,
        char a7,
        __int16 a8)
{
  __int64 v11; // rcx
  __int64 v12; // rdi
  __int64 result; // rax
  unsigned int v14; // edi
  __int64 v15; // [rsp+68h] [rbp+20h] BYREF

  sub_1467F4290(a1, &v15);
  v11 = *a4;
  v12 = v15 & 0xFFFFFFFFFFFFLL;
  v15 = v11;
  if ( v11 )
  {
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x40LL))(v11);
  }
  result = sub_146868210(v12, a2, a3, &v15, a5, a6, a7, a8);
  v14 = result;
  if ( *a4 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a4 + 0x48LL))(*a4);
    result = v14;
  }
  *a4 = 0;
  return result;
}

// --- End Function: sub_1468E9290 (0x1468E9290) ---

// --- Function: sub_1468E9350 (0x1468E9350) ---
__int64 __fastcall sub_1468E9350(__int64 a1, unsigned int a2, unsigned int a3, __int64 a4)
{
  _QWORD v8[3]; // [rsp+20h] [rbp-18h] BYREF

  sub_1467F4290(a1, v8);
  return sub_1468688C0(v8[0] & 0xFFFFFFFFFFFFLL, a2, a3, a4);
}

// --- End Function: sub_1468E9350 (0x1468E9350) ---

// --- Function: sub_1468E9690 (0x1468E9690) ---
char __fastcall sub_1468E9690(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 handle_metadata_ptr; // rax
  __int64 v5; // rbx
  __int16 n2; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v9,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  handle_metadata_ptr = v2(a1, &v10, &v8);
  v5 = *(_QWORD *)handle_metadata_ptr;
  v8 = v5;
  if ( v5 )
  {
    handle_metadata_ptr = get_handle_metadata_ptr(v5 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n2 != 4 && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v5) & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)a1()
        || (LOBYTE(handle_metadata_ptr) = check_indirect_handle_access_by_state(&v8), (_BYTE)handle_metadata_ptr) )
      {
        LOBYTE(handle_metadata_ptr) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x6E8LL))(v5 & 0xFFFFFFFFFFFFLL);
      }
    }
  }
  return handle_metadata_ptr;
}

// --- End Function: sub_1468E9690 (0x1468E9690) ---

// --- Function: sub_1468E9BD0 (0x1468E9BD0) ---
void __fastcall sub_1468E9BD0(unsigned __int64 a1, __int64 a2, __int64 a3, char a4, __int64 a5)
{
  __int64 v9; // rax
  __int64 v10; // rbp
  __int128 pCZoneSystem; // [rsp+30h] [rbp-38h] BYREF
  __int64 v12; // [rsp+40h] [rbp-28h]
  unsigned __int64 v13; // [rsp+70h] [rbp+8h] BYREF
  char v14; // [rsp+78h] [rbp+10h] BYREF

  if ( *(_QWORD *)(a1 + 0x2A8) != a2 )
  {
    if ( a2 )
    {
      v9 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D298 + 0xA0LL))(qword_14981D298);
      (*(void (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v9 + 0x1D8LL))(v9, &v13);
      (*(void (__fastcall **)(__int64, char *))(*(_QWORD *)a2 + 0x40LL))(a2, &v14);
    }
    if ( (_BYTE)isEditor
      || (v13 = *(_QWORD *)(a1 + 0x18), !is_valid_handle_typeB(&v13))
      || (unsigned __int8)(*(_BYTE *)(a1 + 0xD) - 4) > 1u )
    {
      pCZoneSystem = 0;
      v12 = 0;
      v10 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, __int64))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
              ::pCZoneSystem,
              0x7832,
              &pCZoneSystem,
              a5);
      (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x140LL))(
        ::pCZoneSystem,
        a1 + 0x2A0,
        v10,
        0);
      CEntity::MoveToZoneImpl(a1, a2, a3, a4, v10, 0);
      if ( !a5 )
      {
        (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(
          ::pCZoneSystem,
          0x7832,
          v10);
      }
      if ( (_QWORD)pCZoneSystem )
      {
        sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v12 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
      }
    }
  }
}

// --- End Function: sub_1468E9BD0 (0x1468E9BD0) ---

// --- Function: CEntity::MoveToZoneImpl (0x1468E9D40) ---
double __fastcall sub_1468E9D40(unsigned __int64 a1, __int64 a2, __int64 a3, char a4, __int64 a5, char a6)
{
  __int128 v6; // xmm6
  __int128 v7; // xmm15
  __int64 v8; // rax
  unsigned __int64 v9; // rsi
  __int64 v10; // r13
  unsigned __int64 v12; // r14
  signed __int64 v13; // rdx
  int v14; // ebx
  unsigned __int64 v15; // rax
  __int64 v16; // rbx
  int v17; // edi
  unsigned __int32 v18; // eax
  __int64 v19; // rdx
  double v20; // xmm15_8
  double v21; // xmm6_8
  unsigned __int64 *v22; // rcx
  __int64 v24; // rdi
  unsigned __int64 *v25; // rcx
  __int64 v26; // rax
  double v27; // xmm0_8
  double v28; // xmm1_8
  double v29; // xmm2_8
  __int128 v30; // xmm3
  double v31; // xmm4_8
  double v32; // xmm5_8
  double v33; // xmm7_8
  __int64 v34; // rax
  unsigned __int64 v35; // r13
  __int64 (__fastcall *v36)(__int64, _BYTE *, __int64); // rdi
  __int64 v37; // rax
  __int64 v38; // rax
  unsigned __int8 v39; // di
  __int64 v40; // rdx
  double v41; // xmm9_8
  double v42; // xmm10_8
  double v43; // xmm4_8
  double v44; // xmm7_8
  __int128 v49; // xmm8
  __int128 v50; // xmm7
  __int128 v51; // kr00_16
  double v52; // xmm5_8
  __int128 v53; // kr00_16
  int v60; // eax
  unsigned __int32 v61; // eax
  unsigned __int64 n0x200000; // rax
  double *v63; // rax
  double v64; // rcx
  __int64 *v65; // rcx
  __int64 v66; // rcx
  __int64 v67; // rdx
  int v68; // eax
  int v69; // ebx
  unsigned __int64 v70; // rax
  __int64 v71; // rax
  __int128 v74; // xmm13
  __int128 v75; // xmm12
  double v76; // xmm9_8
  __int128 v77; // xmm8
  double v78; // xmm11_8
  double v79; // xmm10_8
  __int128 v80; // kr00_16
  __int128 v85; // xmm14
  double v86; // xmm6_8
  double v87; // xmm5_8
  __int128 v92; // xmm0
  double v93; // xmm9_8
  double v94; // xmm8_8
  __int128 v95; // xmm5
  double v96; // xmm10_8
  double v97; // xmm11_8
  __int128 v98; // xmm2
  __int128 v99; // kr00_16
  double v100; // xmm3_8
  double v101; // xmm1_8
  double v102; // xmm0_8
  double v107; // xmm2_8
  __int128 v108; // kr00_16
  __int128 v113; // kr00_16
  __int128 v118; // kr00_16
  double *v123; // rax
  double v124; // xmm10_8
  double v125; // xmm9_8
  double v126; // xmm8_8
  double v127; // xmm15_8
  __int128 v128; // xmm11
  double v129; // xmm12_8
  double v130; // xmm14_8
  double v131; // xmm13_8
  double v132; // xmm5_8
  __int128 v133; // kr00_16
  double v134; // kr00_8
  double v135; // xmm0_8
  double v136; // xmm7_8
  double v138; // xmm9_8
  double v139; // xmm5_8
  double v140; // xmm6_8
  double v141; // xmm12_8
  __int64 v142; // rax
  double v143; // xmm2_8
  double v144; // xmm0_8
  double v145; // xmm1_8
  __int64 v146; // rax
  __int64 v147; // rbx
  __int64 v148; // rcx
  __int64 v149; // rdi
  __int64 v150; // rax
  __int64 v151; // rax
  __int64 v152; // rdx
  float v153; // xmm6_4
  float v154; // xmm11_4
  float v155; // xmm12_4
  __int16 v156; // r8
  float v157; // ecx
  float v158; // xmm13_4
  double v159; // xmm0_8
  float v160; // xmm9_4
  float v161; // xmm10_4
  float v162; // xmm1_4
  float *v163; // rax
  float v164; // xmm10_4
  float v165; // xmm9_4
  float v166; // xmm8_4
  float v167; // xmm14_4
  float v168; // xmm7_4
  float v169; // xmm5_4
  __int128 v170; // kr00_16
  float v171; // xmm6_4
  float v172; // xmm13_4
  float v173; // xmm3_4
  float v174; // xmm11_4
  float v175; // xmm0_4
  float v176; // xmm12_4
  float v177; // xmm7_4
  float v178; // xmm8_4
  double *v181; // rax
  double v182; // xmm10_8
  double v183; // xmm9_8
  double v184; // xmm8_8
  double v185; // xmm11_8
  double v186; // xmm12_8
  __int128 v187; // xmm15
  double v188; // xmm13_8
  double v189; // xmm5_8
  __int128 v190; // kr00_16
  double v191; // kr00_8
  double v192; // xmm7_8
  double v193; // xmm5_8
  double v194; // xmm9_8
  double v195; // xmm10_8
  double v196; // xmm11_8
  double v197; // xmm12_8
  __int64 v199; // rbx
  float *v200; // rax
  float v201; // xmm1_4
  float v202; // xmm0_4
  double v203; // xmm1_8
  float v204; // xmm0_4
  double v205; // kr00_8
  double *v206; // rax
  __int128 v207; // xmm8
  double v208; // xmm10_8
  double v209; // xmm9_8
  double v210; // xmm11_8
  double v211; // xmm12_8
  double v212; // xmm4_8
  double v213; // xmm15_8
  double v214; // xmm14_8
  double v215; // xmm13_8
  double v216; // xmm7_8
  double v217; // xmm5_8
  double v218; // xmm4_8
  double v219; // xmm0_8
  double v220; // xmm7_8
  __int128 v221; // kr00_16
  double v223; // xmm5_8
  double v224; // xmm6_8
  double v225; // xmm11_8
  double v226; // xmm12_8
  double v227; // xmm9_8
  __int64 v228; // rax
  __int64 v230; // rcx
  const char *v231; // rax
  __int64 v232; // rbx
  _QWORD *v233; // rdi
  _QWORD *v234; // r14
  __int64 v235; // rbx
  char v236; // al
  __int64 v237; // rcx
  __int64 v238; // rax
  int v239; // r9d
  __int64 v240; // rcx
  __int64 v241; // rcx
  int v242; // r9d
  __int64 v243; // rcx
  unsigned __int64 v244; // rax
  bool v247; // [rsp+38h] [rbp-D0h]
  __int64 v248; // [rsp+40h] [rbp-C8h]
  double v249; // [rsp+40h] [rbp-C8h]
  double v250; // [rsp+40h] [rbp-C8h]
  float v251; // [rsp+40h] [rbp-C8h]
  float v252; // [rsp+40h] [rbp-C8h]
  double v253; // [rsp+40h] [rbp-C8h]
  double v254; // [rsp+40h] [rbp-C8h]
  double v256; // [rsp+48h] [rbp-C0h]
  double v257; // [rsp+48h] [rbp-C0h]
  float v258; // [rsp+48h] [rbp-C0h]
  double v259; // [rsp+48h] [rbp-C0h]
  __int64 v260; // [rsp+48h] [rbp-C0h]
  double v261; // [rsp+50h] [rbp-B8h] BYREF
  float v262; // [rsp+58h] [rbp-B0h]
  double v263; // [rsp+70h] [rbp-98h]
  float v264; // [rsp+78h] [rbp-90h]
  float v265[4]; // [rsp+80h] [rbp-88h] BYREF
  float v266; // [rsp+90h] [rbp-78h]
  float v267; // [rsp+94h] [rbp-74h]
  float v268; // [rsp+98h] [rbp-70h]
  float v269; // [rsp+A0h] [rbp-68h]
  float v270; // [rsp+A4h] [rbp-64h]
  float v271; // [rsp+A8h] [rbp-60h]
  float v272; // [rsp+ACh] [rbp-5Ch]
  unsigned __int64 v273; // [rsp+B0h] [rbp-58h]
  double v274; // [rsp+B8h] [rbp-50h] BYREF
  double v275; // [rsp+C0h] [rbp-48h]
  double v276; // [rsp+C8h] [rbp-40h]
  double v277; // [rsp+D0h] [rbp-38h]
  __int128 v278; // [rsp+D8h] [rbp-30h]
  double v279; // [rsp+E8h] [rbp-20h]
  double v280; // [rsp+F0h] [rbp-18h]
  _BYTE v281[2]; // [rsp+F8h] [rbp-10h] BYREF
  __int16 v282; // [rsp+FAh] [rbp-Eh]
  __int64 v283; // [rsp+FCh] [rbp-Ch]
  int v284; // [rsp+104h] [rbp-4h]
  __int64 v285; // [rsp+108h] [rbp+0h]
  unsigned __int64 v286; // [rsp+110h] [rbp+8h]
  __int64 v287; // [rsp+118h] [rbp+10h]
  __int64 v288; // [rsp+120h] [rbp+18h]
  int n0xF00; // [rsp+148h] [rbp+40h] BYREF
  __int64 v290; // [rsp+14Ch] [rbp+44h]
  int v291; // [rsp+154h] [rbp+4Ch]
  __int64 v292; // [rsp+158h] [rbp+50h]
  unsigned __int64 v293; // [rsp+160h] [rbp+58h]
  __int64 v294; // [rsp+168h] [rbp+60h]
  __int64 v295; // [rsp+170h] [rbp+68h]
  double v296[8]; // [rsp+198h] [rbp+90h] BYREF
  double v297[8]; // [rsp+1D8h] [rbp+D0h] BYREF
  double v298[4]; // [rsp+218h] [rbp+110h] BYREF
  __int128 v299; // [rsp+238h] [rbp+130h]
  double v300; // [rsp+248h] [rbp+140h]
  double v301; // [rsp+250h] [rbp+148h]
  _BYTE v302[64]; // [rsp+258h] [rbp+150h] BYREF
  _BYTE v303[64]; // [rsp+298h] [rbp+190h] BYREF
  _BYTE v304[64]; // [rsp+2D8h] [rbp+1D0h] BYREF
  _BYTE v305[64]; // [rsp+318h] [rbp+210h] BYREF
  double v306[16]; // [rsp+358h] [rbp+250h] BYREF
  double v307[16]; // [rsp+3D8h] [rbp+2D0h] BYREF
  double v308[16]; // [rsp+458h] [rbp+350h] BYREF
  _BYTE v309[24]; // [rsp+4D8h] [rbp+3D0h] BYREF
  __int64 v310; // [rsp+4F0h] [rbp+3E8h]
  _BOOL8 v311; // [rsp+4F8h] [rbp+3F0h]
  __int64 v312; // [rsp+500h] [rbp+3F8h]
  __int128 v313; // [rsp+518h] [rbp+410h]
  __int128 v314; // [rsp+5A8h] [rbp+4A0h]

  v314 = v6;
  v313 = v7;
  v8 = *(_QWORD *)(a1 + 0x2A8);
  v9 = 0;
  v10 = a3;
  v12 = a1;
  v273 = a1;
  v248 = v8;
  v290 = 0;
  v291 = 0;
  v293 = 0;
  v294 = 0;
  v295 = 0;
  v292 = 1;
  n0xF00 = 0xF00;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v13 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v13 & 0x200000) != 0 )
    {
      sub_1403C6C70(&qword_1497929D0, v13, (__int64)"CEntity::MoveToZoneImpl", (__int64)"s_aggregateHierarchyLock", 1);
    }
  }
  v14 = *(_DWORD *)(a1() + 0x18);
  if ( dword_1497929C8 == v14 )
  {
    ++dword_1497929CC;
  }
  else
  {
    v15 = _InterlockedCompareExchange64(&qword_1497929C0, 0x200000, 0);
    if ( v15 )
    {
      sub_1403D85B0(
        &qword_1497929C0,
        v15,
        0,
        (__int64)"CEntity::MoveToZoneImpl",
        (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
    }
    dword_1497929C8 = v14;
  }
  v16 = *(_QWORD *)(v12 + 0x328);
  v17 = *(_DWORD *)(a1() + 0x18);
  if ( *(_DWORD *)(v16 + 4) == v17 )
  {
    ++*(_DWORD *)(v16 + 8);
  }
  else
  {
    v18 = _InterlockedCompareExchange((volatile signed __int32 *)v16, 1, 0);
    if ( v18 )
    {
      sub_1403BF290((volatile signed __int32 *)v16, v18, (__int64)"CEntity::MoveToZoneImpl", 1);
    }
    *(_DWORD *)(v16 + 4) = v17;
  }
  *(_QWORD *)(v12 + 0x2A8) = a2;
  *(_DWORD *)(v12 + 0x2B0) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a2 + 0x1F8LL))(a2);
  (*(void (__fastcall **)(_QWORD, unsigned __int64, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x50LL))(
    pCZoneSystem,
    v12 + 0x2A0,
    a2,
    a5);
  v19 = *(_QWORD *)(v12 + 0x2B8);
  if ( v19 )
  {
    (*(void (__fastcall **)(_QWORD, __int64, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x58LL))(
      pCZoneSystem,
      v19,
      a2,
      a5);
  }
  (*(void (__fastcall **)(_QWORD, unsigned __int64, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x148LL))(
    pCZoneSystem,
    v12 + 0x2A0,
    a5,
    0);
  v20 = 1.0;
  v21 = 0.0;
  if ( !a6 )
  {
    v22 = *(unsigned __int64 **)(v12 + 0x128);
    if ( v22 && is_valid_handle_typeB(v22) && *(_DWORD *)(*(_QWORD *)(v12 + 0x128) + 0x10LL) == 5 )
    {
      v24 = **(_QWORD **)(v12 + 0x128) & 0xFFFFFFFFFFFFLL;
      v25 = *(unsigned __int64 **)(v24 + 0x128);
      if ( v25 && is_valid_handle_typeB(v25) && (v26 = *(_QWORD *)(v24 + 0x128), *(_DWORD *)(v26 + 0x10) == 5) )
      {
        sub_1468DBD60(*(_QWORD *)v26 & 0xFFFFFFFFFFFFLL, &v274, 2);
        v27 = v274;
        v28 = v280;
        v29 = v279;
        v30 = v278;
        v31 = v277;
        v32 = v276;
        v33 = v275;
      }
      else
      {
        v31 = *(double *)(v24 + 0x80);
        v277 = v31;
        v27 = *(double *)(v24 + 0x68);
        v274 = v27;
        v33 = *(double *)(v24 + 0x70);
        v275 = v33;
        v32 = *(double *)(v24 + 0x78);
        v276 = v32;
        v30 = *(_OWORD *)(v24 + 0x88);
        v278 = v30;
        v29 = *(double *)(v24 + 0x98);
        v279 = v29;
        v28 = *(double *)(v24 + 0xA0);
        v280 = v28;
      }
      *(double *)(v12 + 0x68) = v27;
      *(double *)(v12 + 0x70) = v33;
      *(double *)(v12 + 0x78) = v32;
      *(double *)(v12 + 0x80) = v31;
      *(_OWORD *)(v12 + 0x88) = v30;
      *(double *)(v12 + 0x98) = v29;
      *(double *)(v12 + 0xA0) = v28;
      v34 = CEntity::GetZoneTransform(**(_QWORD **)(v12 + 0x128) & 0xFFFFFFFFFFFFLL, (__int64)v302, 0);
      v35 = v12 + 0x28;
    }
    else
    {
      v35 = v12 + 0x28;
      v36 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)a2 + 0xC8LL);
      v37 = (*(__int64 (__fastcall **)(__int64, _BYTE *, unsigned __int64))(*(_QWORD *)v248 + 0x140LL))(
              v248,
              v303,
              v12 + 0x28);
      v38 = v36(a2, v304, v37);
      *(_QWORD *)(v12 + 0x68) = *(_QWORD *)v38;
      *(_QWORD *)(v12 + 0x70) = *(_QWORD *)(v38 + 8);
      *(_QWORD *)(v12 + 0x78) = *(_QWORD *)(v38 + 0x10);
      *(_QWORD *)(v12 + 0x80) = *(_QWORD *)(v38 + 0x18);
      *(_OWORD *)(v12 + 0x88) = *(_OWORD *)(v38 + 0x20);
      *(double *)(v12 + 0x98) = *(double *)(v38 + 0x30);
      *(_QWORD *)(v12 + 0xA0) = *(_QWORD *)(v38 + 0x38);
      v34 = (*(__int64 (__fastcall **)(_QWORD, _BYTE *, unsigned __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x2F8LL))(
              pCZoneSystem,
              v305,
              v12 + 0x2A0,
              2);
    }
    *(_QWORD *)v35 = *(_QWORD *)v34;
    *(_QWORD *)(v35 + 8) = *(_QWORD *)(v34 + 8);
    *(_QWORD *)(v35 + 0x10) = *(_QWORD *)(v34 + 0x10);
    *(_QWORD *)(v35 + 0x18) = *(_QWORD *)(v34 + 0x18);
    *(_OWORD *)(v35 + 0x20) = *(_OWORD *)(v34 + 0x20);
    *(double *)(v35 + 0x30) = *(double *)(v34 + 0x30);
    *(double *)(v35 + 0x38) = *(double *)(v34 + 0x38);
    v39 = (*(unsigned __int8 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) == 0;
    sub_1468B3D20(v12, 1, v39);
    *(_QWORD *)(v12 + 0xD0) = *(_QWORD *)v35;
    LOBYTE(v40) = 1;
    *(_QWORD *)(v12 + 0xD8) = *(_QWORD *)(v35 + 8);
    *(_QWORD *)(v12 + 0xE0) = *(_QWORD *)(v35 + 0x10);
    *(_QWORD *)(v12 + 0xE8) = *(_QWORD *)(v35 + 0x18);
    *(_OWORD *)(v12 + 0xF0) = *(_OWORD *)(v35 + 0x20);
    *(double *)(v12 + 0x100) = *(double *)(v35 + 0x30);
    *(_QWORD *)(v12 + 0x108) = *(_QWORD *)(v35 + 0x38);
    sub_1468F9D60(v12, v40, v39);
    v41 = *(double *)(v35 + 8);
    v42 = *(double *)(v35 + 0x10);
    v43 = *(double *)(v35 + 0x18);
    v44 = *(double *)v35;
    _XMM5 = COERCE_UNSIGNED_INT64(v42 * v42 + v41 * v41 + v44 * v44 + v43 * v43);
    if ( v42 * v42 + v41 * v41 + v44 * v44 + v43 * v43 <= 0.00000000999999993922529 )
    {
      v52 = 1.0;
      v49 = 0;
      v50 = 0;
    }
    else
    {
      __asm
      {
        vmovddup xmm0, xmm5
        vsqrtpd xmm1, xmm0
        vunpckhpd xmm1, xmm1, xmm1
      }
      v49 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM1 * v44);
      *((_QWORD *)&v51 + 1) = 0;
      *(double *)&v51 = 1.0 / *(double *)&_XMM1 * v41;
      v50 = v51;
      v52 = 1.0 / *(double *)&_XMM1 * v43;
      v21 = 1.0 / *(double *)&_XMM1 * v42;
    }
    v10 = a3;
    *((_QWORD *)&v53 + 1) = *((_QWORD *)&v50 + 1);
    *(double *)&v53 = *(double *)&v50 * *(double *)&v49 - v21 * v52 + *(double *)&v50 * *(double *)&v49 - v21 * v52;
    _XMM0 = v53;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(v12 + 0xA8) = *(float *)&_XMM1;
    *((_QWORD *)&v53 + 1) = *((_QWORD *)&v50 + 1);
    *(double *)&v53 = *(double *)&v50 * *(double *)&v50
                    + *(double *)&v50 * *(double *)&v50
                    + v52 * v52
                    + v52 * v52
                    - 1.0;
    _XMM2 = v53;
    __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
    *((_QWORD *)&v53 + 1) = *((_QWORD *)&v49 + 1);
    *(double *)&v53 = *(double *)&v49 * v52 + *(double *)&v49 * v52 + v21 * *(double *)&v50 + v21 * *(double *)&v50;
    _XMM1 = v53;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(float *)(v12 + 0xAC) = *(float *)&_XMM3;
    *(float *)(v12 + 0xB0) = *(float *)&_XMM2;
  }
  sub_1468EEB00(qword_15126E2D8, *(_DWORD *)(v12 + 0x2E8), v248, a2, v12 + 0x48);
  sub_146908A90(v12, v248, a2, v12 + 0x48);
  v60 = *(_DWORD *)(v16 + 8);
  if ( v60 )
  {
    *(_DWORD *)(v16 + 8) = v60 - 1;
  }
  else
  {
    *(_DWORD *)(v16 + 4) = 0xFFFFFFFF;
    v61 = _InterlockedCompareExchange((volatile signed __int32 *)v16, 0, 1);
    if ( v61 != 1 )
    {
      sub_1403D6A80((volatile signed __int32 *)v16, v61);
    }
  }
  if ( dword_1497929CC )
  {
    --dword_1497929CC;
  }
  else
  {
    dword_1497929C8 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_1497929C0, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
    {
      sub_1403D8A00(&qword_1497929C0, n0x200000);
    }
  }
  sub_1402D0950((__int64)&qword_1497929D0);
  if ( !a6 )
  {
    v63 = *(double **)(v12 + 0x128);
    v64 = v63 ? *v63 : 0.0;
    v261 = v64;
    if ( is_valid_handle_typeB((unsigned __int64 *)&v261) )
    {
      v65 = *(__int64 **)(v12 + 0x128);
      if ( a4 )
      {
        if ( v65 )
        {
          v66 = *v65;
        }
        else
        {
          v66 = 0;
        }
        if ( (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v66 & 0xFFFFFFFFFFFFLL) + 0x658LL))(v66 & 0xFFFFFFFFFFFFLL) )
        {
          v67 = *(_QWORD *)(v12 + 0x128);
          if ( (*(_BYTE *)(v67 + 0x140) & 4) == 0 )
          {
            v68 = *(_DWORD *)(v67 + 0x10);
            switch ( v68 )
            {
              case 1:
              case 0xA:
                *(_QWORD *)(v67 + 0x150) = *(_QWORD *)(v12 + 0x28);
                *(_QWORD *)(v67 + 0x158) = *(_QWORD *)(v12 + 0x30);
                *(_QWORD *)(v67 + 0x160) = *(_QWORD *)(v12 + 0x38);
                *(_QWORD *)(v67 + 0x168) = *(_QWORD *)(v12 + 0x40);
                *(_OWORD *)(v67 + 0x170) = *(_OWORD *)(v12 + 0x48);
                *(double *)(v67 + 0x180) = *(double *)(v12 + 0x58);
                *(_QWORD *)(v67 + 0x188) = *(_QWORD *)(v12 + 0x60);
                break;
              case 2:
                v69 = *(_DWORD *)(v67 + 0x144);
                v70 = sub_1468DE420(v12);
                if ( v70 )
                {
                  v71 = sub_146845AE0(v70, v69);
                  if ( v71 )
                  {
                    (*(void (__fastcall **)(__int64, float *, _QWORD))(*(_QWORD *)v71 + 0x278LL))(
                      v71,
                      v265,
                      (unsigned int)*(__int16 *)(*(_QWORD *)(v12 + 0x128) + 0x148LL));
                    sub_140740030(v265);
                    v300 = v272;
                    _XMM2 = COERCE_UNSIGNED_INT64(v265[3]);
                    __asm { vunpcklpd xmm0, xmm2, xmm0 }
                    v299 = _XMM0;
                    v74 = COERCE_UNSIGNED_INT64(v265[0]);
                    v75 = COERCE_UNSIGNED_INT64(v265[1]);
                    v76 = v269;
                    v77 = COERCE_UNSIGNED_INT64(v271);
                    v78 = v265[2];
                    v79 = v270;
                    v301 = pow(
                             fabs(
                               v267 * *(double *)&v74 * *(double *)&v77
                             + v268 * *(double *)&v75 * v76
                             + v266 * v78 * v270
                             - v267 * v78 * v76
                             - v268 * *(double *)&v74 * v270
                             - v266 * *(double *)&v75 * *(double *)&v77),
                             0.3333333333333333);
                    *((_QWORD *)&v80 + 1) = *((_QWORD *)&v75 + 1);
                    *(double *)&v80 = *(double *)&v75 * *(double *)&v75
                                    + *(double *)&v74 * *(double *)&v74
                                    + v78 * v78
                                    + 2.225073858507201e-308;
                    _XMM1 = v80;
                    __asm
                    {
                      vmovddup xmm2, xmm1
                      vsqrtpd xmm4, xmm2
                      vunpckhpd xmm4, xmm4, xmm4
                    }
                    v249 = *(double *)&v75 * (1.0 / *(double *)&_XMM4);
                    *((_QWORD *)&v80 + 1) = *((_QWORD *)&v74 + 1);
                    *(double *)&v80 = *(double *)&v74 * (1.0 / *(double *)&_XMM4);
                    v85 = v80;
                    v86 = v79 * v78 - *(double *)&v77 * *(double *)&v75;
                    v256 = v78 * (1.0 / *(double *)&_XMM4);
                    *((_QWORD *)&v80 + 1) = *((_QWORD *)&v77 + 1);
                    v87 = *(double *)&v77 * *(double *)&v74 - v76 * v78;
                    *(double *)&_XMM4 = v76 * *(double *)&v75 - v79 * *(double *)&v74;
                    *(double *)&v80 = v87 * v87
                                    + v86 * v86
                                    + *(double *)&_XMM4 * *(double *)&_XMM4
                                    + 2.225073858507201e-308;
                    _XMM1 = v80;
                    __asm
                    {
                      vmovddup xmm3, xmm1
                      vsqrtpd xmm0, xmm3
                      vunpckhpd xmm0, xmm0, xmm0
                    }
                    *(double *)&v80 = 1.0 / *(double *)&_XMM0;
                    v92 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0);
                    v93 = *(double *)&v80 * *(double *)&_XMM4;
                    v94 = *(double *)&v80 * v86;
                    *((_QWORD *)&v80 + 1) = *((_QWORD *)&v92 + 1);
                    *(double *)&v80 = *(double *)&v92 * v87;
                    v95 = v80;
                    v96 = v249 * v93 - v256 * *(double *)&v80;
                    v97 = v256 * v94 - *(double *)&v85 * v93;
                    *((_QWORD *)&v80 + 1) = *((_QWORD *)&v85 + 1);
                    *(double *)&v80 = *(double *)&v85 * *(double *)&v95 - v249 * v94;
                    v98 = v80;
                    *((_QWORD *)&v99 + 1) = *((_QWORD *)&v85 + 1);
                    *(double *)&v99 = *(double *)&v85 + *(double *)&v95 + *(double *)&v98;
                    v100 = 0.0;
                    v101 = 0.0;
                    v102 = 0.0;
                    if ( *(double *)&v99 <= 0.0 )
                    {
                      if ( *(double *)&v85 < *(double *)&v95 || *(double *)&v85 < *(double *)&v98 )
                      {
                        if ( *(double *)&v95 < *(double *)&v85 || *(double *)&v95 < *(double *)&v98 )
                        {
                          if ( *(double *)&v98 >= *(double *)&v85 && *(double *)&v98 >= *(double *)&v95 )
                          {
                            *((_QWORD *)&v118 + 1) = *((_QWORD *)&v98 + 1);
                            *(double *)&v118 = *(double *)&v98 - *(double *)&v85 - *(double *)&v95 + 1.0;
                            _XMM2 = v118;
                            __asm
                            {
                              vmovddup xmm3, xmm2
                              vsqrtpd xmm5, xmm3
                              vunpckhpd xmm5, xmm5, xmm5
                            }
                            v20 = (v94 - v249) * (0.5 / *(double *)&_XMM5);
                            v100 = (v256 + v96) * (0.5 / *(double *)&_XMM5);
                            v101 = (v97 + v93) * (0.5 / *(double *)&_XMM5);
                            v102 = *(double *)&_XMM5 * 0.5;
                          }
                        }
                        else
                        {
                          *((_QWORD *)&v113 + 1) = *((_QWORD *)&v95 + 1);
                          *(double *)&v113 = *(double *)&v95 - *(double *)&v98 - *(double *)&v85 + 1.0;
                          _XMM2 = v113;
                          __asm
                          {
                            vmovddup xmm3, xmm2
                            vsqrtpd xmm5, xmm3
                            vunpckhpd xmm5, xmm5, xmm5
                          }
                          v20 = (v256 - v96) * (0.5 / *(double *)&_XMM5);
                          v100 = (v249 + v94) * (0.5 / *(double *)&_XMM5);
                          v102 = (v97 + v93) * (0.5 / *(double *)&_XMM5);
                          v101 = *(double *)&_XMM5 * 0.5;
                        }
                      }
                      else
                      {
                        *((_QWORD *)&v108 + 1) = *((_QWORD *)&v85 + 1);
                        *(double *)&v108 = *(double *)&v85 - *(double *)&v95 - *(double *)&v98 + 1.0;
                        _XMM2 = v108;
                        __asm
                        {
                          vmovddup xmm3, xmm2
                          vsqrtpd xmm4, xmm3
                          vunpckhpd xmm4, xmm4, xmm4
                        }
                        v20 = (v97 - v93) * (0.5 / *(double *)&_XMM4);
                        v100 = *(double *)&_XMM4 * 0.5;
                        v102 = (v256 + v96) * (0.5 / *(double *)&_XMM4);
                        v101 = (v249 + v94) * (0.5 / *(double *)&_XMM4);
                      }
                    }
                    else
                    {
                      *(double *)&v99 = *(double *)&v99 + 1.0;
                      _XMM0 = v99;
                      __asm { vmovddup xmm1, xmm0 }
                      __asm
                      {
                        vsqrtpd xmm3, xmm1
                        vunpckhpd xmm3, xmm3, xmm3
                      }
                      v107 = 0.5 / *(double *)&_XMM3;
                      v20 = *(double *)&_XMM3 * 0.5;
                      v100 = (v97 - v93) * (0.5 / *(double *)&_XMM3);
                      v102 = (v94 - v249) * v107;
                      v101 = (v256 - v96) * v107;
                    }
                    v298[0] = v100;
                    v298[1] = v101;
                    v298[2] = v102;
                    v298[3] = v20;
                    v123 = sub_1404B0DB0(v298, v306);
                    v124 = *(double *)(v12 + 0x58);
                    v125 = *(double *)(v12 + 0x50);
                    v126 = *(double *)(v12 + 0x48);
                    v127 = *v123;
                    v128 = *((unsigned __int64 *)v123 + 1);
                    v129 = v123[2];
                    v130 = v123[7];
                    v131 = *(double *)(v12 + 0x38);
                    v261 = v123[3];
                    v132 = v129 * v126 - v124 * v127 + v125 * v261;
                    *((_QWORD *)&v133 + 1) = *((_QWORD *)&v128 + 1);
                    v134 = *(double *)&v128 * (v125 * v127 - *(double *)&v128 * v126 + v124 * v261) - v129 * v132;
                    v135 = *(double *)&v128 * (*(double *)&v128 * v124 - v129 * v125 + v261 * v126);
                    v136 = *(double *)(v12 + 0x40);
                    *(double *)&v133 = (v134 + v126 + v134) * v130 + v123[4];
                    _XMM8 = v133;
                    v138 = v261;
                    *(double *)&v133 = v124 + v132 * v127 - v135 + v132 * v127 - v135;
                    v139 = *(double *)(v12 + 0x60);
                    v140 = *(double *)&v133 * v130 + v123[6];
                    v250 = v129;
                    v141 = *(double *)(v12 + 0x30);
                    v257 = *(double *)&v128;
                    *(_QWORD *)&v128 = *(_QWORD *)(v12 + 0x28);
                    v142 = *(_QWORD *)(v12 + 0x128) + 0x150LL;
                    *(double *)v142 = v257 * v131 - v141 * v250 + *(double *)&v128 * v261 + v136 * v127;
                    *(double *)(v142 + 8) = *(double *)&v128 * v250 - v131 * v127 + v141 * v138 + v257 * v136;
                    *(double *)(v142 + 0x10) = v141 * v127 - v257 * *(double *)&v128 + v131 * v138 + v136 * v250;
                    v143 = v136 * v138 - *(double *)&v128 * v127;
                    v144 = v131 * v250;
                    v145 = v257 * v141;
LABEL_78:
                    *(double *)(v142 + 0x18) = v143 - v145 - v144;
                    __asm { vunpcklpd xmm0, xmm8, xmm4 }
                    *(_OWORD *)(v142 + 0x20) = _XMM0;
                    *(double *)(v142 + 0x30) = v140;
                    *(double *)(v142 + 0x38) = v130 * v139;
                    *(_DWORD *)(*(_QWORD *)(v12 + 0x128) + 0x140LL) |= 2u;
                    goto LABEL_91;
                  }
                }
                break;
              case 3:
                v146 = sub_1468D6BB0(*(_QWORD *)v67 & 0xFFFFFFFFFFFFLL, *(unsigned int *)(v67 + 0x144));
                v147 = v146;
                if ( v146 )
                {
                  v148 = *(_QWORD *)(v12 + 0x128);
                  if ( *(_WORD *)(v148 + 0x148) == 0xFFFF )
                  {
                    *(_QWORD *)(v148 + 0x150) = *(_QWORD *)(v12 + 0x28);
                    *(_QWORD *)(v148 + 0x158) = *(_QWORD *)(v12 + 0x30);
                    *(_QWORD *)(v148 + 0x160) = *(_QWORD *)(v12 + 0x38);
                    *(_QWORD *)(v148 + 0x168) = *(_QWORD *)(v12 + 0x40);
                    *(_OWORD *)(v148 + 0x170) = *(_OWORD *)(v12 + 0x48);
                    *(double *)(v148 + 0x180) = *(double *)(v12 + 0x58);
                    *(_QWORD *)(v148 + 0x188) = *(_QWORD *)(v12 + 0x60);
                    *(_DWORD *)(*(_QWORD *)(v12 + 0x128) + 0x140LL) |= 2u;
                    goto LABEL_91;
                  }
                  v149 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v146 + 0x70LL))(v146);
                  v150 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v147 + 0x30LL))(v147);
                  v151 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v150 + 0x140LL))(
                           v150,
                           (unsigned int)*(__int16 *)(*(_QWORD *)(v12 + 0x128) + 0x148LL));
                  v152 = *(_QWORD *)(v12 + 0x128);
                  v153 = *(float *)(v151 + 0xC);
                  v154 = *(float *)v151;
                  v155 = *(float *)(v151 + 4);
                  v156 = *(_WORD *)(v152 + 0x14A);
                  v157 = *(float *)(v151 + 0x18);
                  v264 = v157;
                  v158 = *(float *)(v151 + 8);
                  v159 = *(double *)(v151 + 0x10);
                  v262 = v153;
                  *(float *)&v261 = v154;
                  v258 = v155;
                  v251 = v158;
                  v263 = v159;
                  v160 = v153;
                  v161 = v154;
                  v162 = v155;
                  if ( v156 >= 0 )
                  {
                    v163 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v149 + 0x90LL))(
                                      v149,
                                      *(unsigned __int16 *)(v152 + 0x148));
                    v164 = v163[6];
                    v165 = v163[5];
                    v166 = v163[4];
                    v167 = v163[2];
                    v168 = (float)((float)(v164 * v155) - (float)(v165 * v158)) + (float)(v166 * v153);
                    v169 = (float)((float)(v166 * v158) - (float)(v164 * v154)) + (float)(v165 * v153);
                    v170 = LODWORD(v165);
                    v171 = (float)((float)((float)((float)(v165 * v154) - (float)(v166 * v155)) + (float)(v164 * v153))
                                 * v155)
                         - (float)(v169 * v158);
                    v172 = v163[3];
                    v173 = v169 * v154;
                    v174 = v163[1];
                    v175 = v168 * v155;
                    v176 = *v163;
                    v177 = v173 - v175;
                    *(float *)&v170 = (float)(v171 + v166) + *(float *)&v263;
                    v178 = v251;
                    *(float *)&v170 = *(float *)&v170 + v171;
                    _XMM5 = v170;
                    __asm { vunpcklps xmm0, xmm5, xmm3 }
                    v263 = *(double *)&_XMM0;
                    v157 = (float)((float)(v177 + v164) + v264) + v177;
                    v160 = (float)((float)((float)(v172 * v262) - (float)(v176 * *(float *)&v261)) - (float)(v174 * v258))
                         - (float)(v167 * v251);
                    v161 = (float)((float)((float)(v167 * v258) - (float)(v174 * v251)) + (float)(v176 * v262))
                         + (float)(v172 * *(float *)&v261);
                    v252 = (float)((float)((float)(v176 * v251) - (float)(v167 * *(float *)&v261)) + (float)(v174 * v262))
                         + (float)(v172 * v258);
                    v158 = (float)((float)((float)(v174 * *(float *)&v261) - (float)(v176 * v258)) + (float)(v167 * v262))
                         + (float)(v172 * v178);
                    v162 = v252;
                  }
                  v296[1] = v162;
                  v296[0] = v161;
                  v296[2] = v158;
                  v296[3] = v160;
                  v296[4] = *(float *)&v263;
                  v296[6] = v157;
                  v296[5] = *((float *)&v263 + 1);
                  v296[7] = 1.0;
                  v181 = sub_1404B0DB0(v296, v307);
                  v182 = *(double *)(v12 + 0x58);
                  v183 = *(double *)(v12 + 0x50);
                  v184 = *(double *)(v12 + 0x48);
                  v185 = v181[1];
                  v186 = v181[2];
                  v187 = *(unsigned __int64 *)v181;
                  v130 = v181[7];
                  v188 = *(double *)(v12 + 0x38);
                  v261 = v181[3];
                  v189 = v184 * v186 - *(double *)&v187 * v182 + v261 * v183;
                  *((_QWORD *)&v190 + 1) = *((_QWORD *)&v187 + 1);
                  v191 = (*(double *)&v187 * v183 - v184 * v185 + v261 * v182) * v185 - v186 * v189;
                  v192 = *(double *)(v12 + 0x40);
                  v193 = *(double *)&v187 * v189 - v185 * (v185 * v182 - v186 * v183 + v184 * v261);
                  *(double *)&v190 = (v191 + v184 + v191) * v130 + v181[4];
                  _XMM8 = v190;
                  v194 = v261;
                  *(double *)&v190 = v193 + v182 + v193;
                  v139 = *(double *)(v12 + 0x60);
                  v140 = *(double *)&v190 * v130 + v181[6];
                  v195 = v185;
                  v196 = *(double *)(v12 + 0x28);
                  v253 = v186;
                  v197 = *(double *)(v12 + 0x30);
                  v142 = *(_QWORD *)(v12 + 0x128) + 0x150LL;
                  *(double *)v142 = v188 * v195 - v197 * v253 + v196 * v261 + v192 * *(double *)&v187;
                  *(double *)(v142 + 8) = v196 * v253 - v188 * *(double *)&v187 + v197 * v194 + v192 * v195;
                  *(double *)(v142 + 0x10) = v197 * *(double *)&v187 - v196 * v195 + v188 * v194 + v192 * v253;
                  v143 = v192 * v194 - v196 * *(double *)&v187;
                  v144 = v188 * v253;
                  v145 = v197 * v195;
                  goto LABEL_78;
                }
                break;
              case 4:
                if ( *(_BYTE *)(v67 + 0x138) != 1 )
                {
                  sub_1403DC060();
                }
                v199 = *(_QWORD *)(v67 + 0x18);
                if ( v199 )
                {
                  (*(void (__fastcall **)(_QWORD))(*(_QWORD *)v199 + 8LL))(*(_QWORD *)(v67 + 0x18));
                }
                v200 = (float *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v199 + 0x118LL))(v199);
                v297[7] = 1.0;
                v201 = v200[1];
                v297[0] = *v200;
                v297[2] = v200[2];
                v202 = v200[4];
                v297[1] = v201;
                v203 = v200[3];
                v297[4] = v202;
                v204 = v200[6];
                v297[3] = v203;
                v205 = v200[5];
                v297[6] = v204;
                v297[5] = v205;
                v206 = sub_1404B0DB0(v297, v308);
                v207 = *(unsigned __int64 *)(v12 + 0x48);
                v208 = *(double *)(v12 + 0x58);
                v209 = *(double *)(v12 + 0x50);
                v210 = v206[1];
                v211 = v206[2];
                v212 = v206[3];
                v213 = *v206;
                v214 = v206[7];
                v215 = *(double *)(v12 + 0x38);
                v216 = v208 * v210 - v209 * v211 + *(double *)&v207 * v212;
                v261 = v212;
                v217 = *(double *)&v207 * v211 - v213 * v208 + v212 * v209;
                v218 = v213 * v209 - *(double *)&v207 * v210 + v212 * v208;
                v219 = v210 * v216;
                v220 = *(double *)(v12 + 0x40);
                *((_QWORD *)&v221 + 1) = *((_QWORD *)&v207 + 1);
                *(double *)&v221 = (*(double *)&v207 + v210 * v218 - v211 * v217 + v210 * v218 - v211 * v217) * v214
                                 + v206[4];
                _XMM8 = v221;
                *(double *)&v221 = v208 + v213 * v217 - v219 + v213 * v217 - v219;
                v223 = *(double *)(v12 + 0x60);
                v224 = *(double *)&v221 * v214 + v206[6];
                v259 = v210;
                v225 = *(double *)(v12 + 0x28);
                v254 = v211;
                v226 = *(double *)(v12 + 0x30);
                v227 = v261;
                v228 = *(_QWORD *)(v12 + 0x128) + 0x150LL;
                *(double *)v228 = v215 * v259 - v226 * v254 + v225 * v261 + v220 * v213;
                *(double *)(v228 + 8) = v225 * v254 - v215 * v213 + v226 * v227 + v220 * v259;
                *(double *)(v228 + 0x10) = v226 * v213 - v225 * v259 + v215 * v227 + v220 * v254;
                *(double *)(v228 + 0x18) = v220 * v227 - v225 * v213 - v226 * v259 - v215 * v254;
                __asm { vunpcklpd xmm0, xmm8, xmm4 }
                *(_OWORD *)(v228 + 0x20) = _XMM0;
                *(double *)(v228 + 0x38) = v214 * v223;
                *(double *)(v228 + 0x30) = v224;
                if ( v199 )
                {
                  (*(void (__fastcall **)(__int64))(*(_QWORD *)v199 + 0x10LL))(v199);
                  *(_DWORD *)(*(_QWORD *)(v12 + 0x128) + 0x140LL) |= 2u;
                  goto LABEL_91;
                }
                break;
            }
          }
        }
        *(_DWORD *)(*(_QWORD *)(v12 + 0x128) + 0x140LL) |= 2u;
      }
      else
      {
        if ( v65 )
        {
          v230 = *v65;
        }
        else
        {
          v230 = 0;
        }
        v231 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v230 & 0xFFFFFFFFFFFFLL) + 0x70LL))(v230 & 0xFFFFFFFFFFFFLL);
        LogFatalError(
          "CEntity::MoveToZoneImpl not valid on %s due to it being attached to %s. Please only change the HostZone on AdamEntities",
          *(const char **)(v12 + 0x290),
          v231);
      }
    }
  }
LABEL_91:
  v232 = *(_QWORD *)(v12 + 0x2B8);
  v233 = *(_QWORD **)(v12 + 0x238);
  v247 = v232 == 0;
  v260 = v232;
  if ( v233 != *(_QWORD **)(v12 + 0x240) )
  {
    v234 = *(_QWORD **)(v12 + 0x240);
    do
    {
      v235 = *v233 & 0xFFFFFFFFFFFFLL;
      v236 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v235 + 0x20LL))(v235);
      v282 = 0;
      v285 = 1;
      v283 = 0;
      v284 = 0;
      v286 = 0;
      v287 = 0;
      v288 = 0;
      v281[1] = v236;
      v281[0] = 0;
      psub_7FF6AAB938D0(
        v281,
        0,
        &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
        0);
      (*(void (__fastcall **)(__int64, __int64, __int64, bool, __int64))(*(_QWORD *)v235 + 0x10LL))(
        v235,
        a2,
        v10,
        v247,
        a5);
      v286 = __rdtsc();
      psub_7FF6AAB93930(v281);
      ++v233;
    }
    while ( v233 != v234 );
    v12 = v273;
    v232 = v260;
  }
  sub_140368960(v309, 0x21);
  v311 = v247;
  v310 = v10;
  v312 = a5;
  sub_1468FF140(v12, v309);
  v237 = *(_QWORD *)(v12 + 0x128);
  if ( v237 )
  {
    v238 = (__int64)(*(_QWORD *)(v237 + 0x1C0) - *(_QWORD *)(v237 + 0x1B8)) >> 3;
    if ( v232 )
    {
      if ( v238 )
      {
        do
        {
          if ( (__int64)(*(_QWORD *)(v237 + 0x1C0) - *(_QWORD *)(v237 + 0x1B8)) >> 3 <= v9 )
          {
            __debugbreak();
          }
          if ( (*(_BYTE *)(*(_QWORD *)((*(_QWORD *)(*(_QWORD *)(v237 + 0x1B8) + 8 * v9) & 0xFFFFFFFFFFFFLL) + 0x128)
                         + 0x140LL)
              & 4) != 0 )
          {
            v241 = *(_QWORD *)(v12 + 0x128);
            if ( (__int64)(*(_QWORD *)(v241 + 0x1C0) - *(_QWORD *)(v241 + 0x1B8)) >> 3 <= v9 )
            {
              __debugbreak();
            }
            (*(void (__fastcall **)(_QWORD, __int64, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x140LL))(
              pCZoneSystem,
              (*(_QWORD *)(*(_QWORD *)(v241 + 0x1B8) + 8 * v9) & 0xFFFFFFFFFFFFLL) + 0x2A0,
              a5,
              0);
            v243 = *(_QWORD *)(v12 + 0x128);
            if ( (__int64)(*(_QWORD *)(v243 + 0x1C0) - *(_QWORD *)(v243 + 0x1B8)) >> 3 <= v9 )
            {
              __debugbreak();
            }
            LOBYTE(v242) = 1;
            CEntity::MoveToZoneImpl(*(_DWORD *)(*(_QWORD *)(v243 + 0x1B8) + 8 * v9), a2, v10, v242, a5, 0);
          }
          v237 = *(_QWORD *)(v12 + 0x128);
          ++v9;
        }
        while ( v9 < (__int64)(*(_QWORD *)(v237 + 0x1C0) - *(_QWORD *)(v237 + 0x1B8)) >> 3 );
      }
    }
    else if ( v238 )
    {
      do
      {
        if ( (__int64)(*(_QWORD *)(v237 + 0x1C0) - *(_QWORD *)(v237 + 0x1B8)) >> 3 <= v9 )
        {
          __debugbreak();
        }
        (*(void (__fastcall **)(_QWORD, __int64, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x140LL))(
          pCZoneSystem,
          (*(_QWORD *)(*(_QWORD *)(v237 + 0x1B8) + 8 * v9) & 0xFFFFFFFFFFFFLL) + 0x2A0,
          a5,
          0);
        v240 = *(_QWORD *)(v12 + 0x128);
        if ( (__int64)(*(_QWORD *)(v240 + 0x1C0) - *(_QWORD *)(v240 + 0x1B8)) >> 3 <= v9 )
        {
          __debugbreak();
        }
        LOBYTE(v239) = 1;
        CEntity::MoveToZoneImpl(*(_DWORD *)(*(_QWORD *)(v240 + 0x1B8) + 8 * v9), a2, v10, v239, a5, 0);
        v237 = *(_QWORD *)(v12 + 0x128);
        ++v9;
      }
      while ( v9 < (__int64)(*(_QWORD *)(v237 + 0x1C0) - *(_QWORD *)(v237 + 0x1B8)) >> 3 );
    }
  }
  v244 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a2 + 0x20LL))(a2);
  CEntity::ChangeOwnerEntity(v12, v244, 2);
  v293 = __rdtsc();
  return psub_7FF6AAB93930(&n0xF00);
}

// --- End Function: CEntity::MoveToZoneImpl (0x1468E9D40) ---

// --- Function: CEntity::OnAggregateHierarchyChanged (0x1468ED340) ---
double __fastcall CEntity::OnAggregateHierarchyChanged(
        unsigned __int64 a1,
        unsigned __int64 *a2,
        __int64 *a3,
        __int64 *a4,
        __int64 *a1,
        __int64 *a1a,
        __int64 *a1a_2,
        unsigned int n4)
{
  __int64 v9; // rcx
  unsigned __int64 *a1a_1; // rdi
  unsigned __int64 *a1a; // r15
  unsigned __int64 v15; // r12
  unsigned __int64 v16; // r13
  __int64 *a1a_3; // rcx
  __int64 *a1a_1; // rax
  unsigned __int64 v19; // rcx
  unsigned __int64 v20; // r9
  unsigned __int64 v21; // rdx
  __int64 v22; // rax
  unsigned __int64 v23; // r9
  char v24; // dl
  unsigned __int64 v25; // rcx
  unsigned __int16 v26; // ax
  bool v27; // zf
  unsigned __int64 *v28; // rdx
  __int64 a1_3; // rax
  __int64 a1_4; // rax
  __int64 *a1a_5; // rax
  __int64 *v32; // rdi
  __int64 a1_5; // r15
  char v34; // dl
  unsigned __int64 v35; // rcx
  unsigned __int16 v36; // ax
  int v37; // ebx
  unsigned __int64 v38; // rax
  unsigned __int64 n0x200000; // rax
  __int64 v40; // rdi
  __int64 a1_6; // rbx
  __int64 v42; // rsi
  _QWORD *v43; // r14
  _QWORD *i; // rsi
  double result; // xmm0_8
  __int64 a1_1; // [rsp+30h] [rbp-D0h]
  unsigned __int64 v47; // [rsp+38h] [rbp-C8h] BYREF
  __int64 v48; // [rsp+40h] [rbp-C0h]
  unsigned __int64 v49; // [rsp+48h] [rbp-B8h] BYREF
  __int64 v50; // [rsp+50h] [rbp-B0h] BYREF
  _QWORD v51[2]; // [rsp+58h] [rbp-A8h] BYREF
  __int64 a1a_4; // [rsp+68h] [rbp-98h] BYREF
  unsigned int v53[2]; // [rsp+70h] [rbp-90h] BYREF
  unsigned int v54[2]; // [rsp+78h] [rbp-88h] BYREF
  unsigned int v55[2]; // [rsp+80h] [rbp-80h] BYREF
  unsigned int v56[2]; // [rsp+88h] [rbp-78h] BYREF
  unsigned __int64 v57; // [rsp+90h] [rbp-70h] BYREF
  __int64 p_p_sub_1467B7D90; // [rsp+98h] [rbp-68h] BYREF
  __int64 v59; // [rsp+A0h] [rbp-60h]
  _QWORD v60[3]; // [rsp+A8h] [rbp-58h] BYREF
  int n0xF00; // [rsp+C0h] [rbp-40h] BYREF
  __int64 v62; // [rsp+C4h] [rbp-3Ch]
  int v63; // [rsp+CCh] [rbp-34h]
  __int64 v64; // [rsp+D0h] [rbp-30h]
  unsigned __int64 v65; // [rsp+D8h] [rbp-28h]
  __int64 v66; // [rsp+E0h] [rbp-20h]
  __int64 v67; // [rsp+E8h] [rbp-18h]
  unsigned __int64 v68; // [rsp+160h] [rbp+60h] BYREF
  unsigned __int64 v69; // [rsp+168h] [rbp+68h] BYREF
  __int64 *v70; // [rsp+170h] [rbp+70h] BYREF
  __int64 a1_2; // [rsp+178h] [rbp+78h] BYREF

  v70 = a3;
  v9 = *(_QWORD *)(a1 + 0x2A8);
  v59 = v9;
  if ( n4 == 4 )
  {
    v48 = 0;
  }
  else
  {
    v49 = *a2;
    v48 = sub_1468D8EC0(&v49, v9);
  }
  a1a_1 = (unsigned __int64 *)a1a;
  a1a = (unsigned __int64 *)a1a_2;
  v15 = *a2;
  v16 = *a3;
  a1_2 = *a4;
  a1a_3 = (__int64 *)*a1a_2;
  a1a_2 = (__int64 *)*a1a_2;
  a1_1 = *a1;
  a1a_1 = (__int64 *)*a1a;
  a1a = (__int64 *)*a1a;
  if ( v15 != v16 )
  {
    v68 = v16;
    v69 = v15;
    if ( is_valid_handle_typeB(&v68) )
    {
      v19 = v68;
      v20 = *(unsigned int *)(a1 + 0x2EC);
      v21 = (__int64)(*(_QWORD *)((v68 & 0xFFFFFFFFFFFFLL) + 0x300) - *(_QWORD *)((v68 & 0xFFFFFFFFFFFFLL) + 0x2F8)) >> 3;
      if ( v20 != v21 - 1 )
      {
        v22 = *(_QWORD *)(*(_QWORD *)((v68 & 0xFFFFFFFFFFFFLL) + 0x300) - 8LL);
        if ( v21 <= v20 )
        {
          __debugbreak();
        }
        *(_QWORD *)(*(_QWORD *)((v68 & 0xFFFFFFFFFFFFLL) + 0x2F8) + 8 * v20) = v22;
        *(_DWORD *)((v22 & 0xFFFFFFFFFFFFLL) + 0x2EC) = *(_DWORD *)(a1 + 0x2EC);
        v19 = v68;
      }
      *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 0x300) -= 8LL;
      *(_DWORD *)(a1 + 0x2EC) = 0xFFFFFFFF;
      *(_QWORD *)(a1 + 0x310) = 0;
    }
    if ( is_valid_handle_typeB(&v69) )
    {
      v23 = (v69 & 0xFFFFFFFFFFFFLL) + 0x2F8;
      *(_DWORD *)(a1 + 0x2EC) = (__int64)(*(_QWORD *)((v69 & 0xFFFFFFFFFFFFLL) + 0x300)
                                                         - *(_QWORD *)((v69 & 0xFFFFFFFFFFFFLL) + 0x2F8)) >> 3;
      if ( ::a1_1 > a1
        || a1 >= qword_15126E3D8 + ::a1_1 )
      {
        v24 = 0;
        v25 = a1 - 6;
      }
      else
      {
        v24 = 1;
        v25 = a1 & 0xFFFFFFFFFF000000uLL;
      }
      v26 = *(_WORD *)(v25 + 2) | 0x2000;
      v27 = v24 == 0;
      v28 = *(unsigned __int64 **)(v23 + 8);
      if ( v27 )
      {
        v26 = *(_WORD *)(v25 + 2);
      }
      v47 = a1 | ((unsigned __int64)v26 << 0x30);
      if ( v28 == *(unsigned __int64 **)(v23 + 0x10) )
      {
        sub_1468A5EB0(v23, v28, &v47);
      }
      else
      {
        *v28 = a1 | ((unsigned __int64)v26 << 0x30);
        *(_QWORD *)(v23 + 8) += 8LL;
        v47 = 0;
      }
      *(_QWORD *)(a1 + 0x310) = v69;
    }
    a1a_3 = a1a_2;
    a1a_1 = a1a;
  }
  if ( a1_2 == a1_1 )
  {
    if ( a1a_1 == a1a_3 )
    {
      goto LABEL_37;
    }
  }
  else
  {
    v50 = *a4;
    v60[0] = &v50;
    v60[1] = sub_14689FFD0;
    sub_1468D5530(a1, (__int64)v60);
    v60[0] = 0xFFFFFFFFFFFFFFFFuLL;
  }
  v51[0] = *a1;
  sub_1468EDEA0(qword_15126E2D8, a1, a4, v51, a1a_1);
  a1a_1 = a1a;
  a1a_3 = a1a_2;
  if ( a1a != a1a_2 )
  {
    v51[1] = *a1a;
    a1a_4 = *a1a_1;
    sub_1468F0740(a1, &a1a_4);
    if ( is_valid_handle_typeB(a1a_1) )
    {
      a1_3 = *a1a_1 & 0xFFFFFFFFFFFFLL;
    }
    else
    {
      a1_3 = 0;
    }
    if ( a1_3 == a1
      || (is_valid_handle_typeB(a1a)
        ? (a1_4 = *a1a & 0xFFFFFFFFFFFFLL)
        : (a1_4 = 0),
          a1_4 == a1) )
    {
      sub_146900A50(a1, 0xC0);
    }
    a1a_3 = a1a_2;
    a1a_1 = a1a;
  }
LABEL_37:
  if ( v15 == v16 && a1a_1 == a1a_3 )
  {
    v32 = v70;
LABEL_46:
    a1_5 = a1_2;
    if ( a1_2 == a1_1 )
    {
      goto LABEL_52;
    }
    goto LABEL_41;
  }
  a1a = (__int64 *)*a1a;
  a1a_5 = (__int64 *)*a1a_1;
  v32 = v70;
  a1a_2 = a1a_5;
  v70 = (__int64 *)*v70;
  *(_QWORD *)v53 = *a2;
  sub_1468ED950(
    a1,
    (unsigned int)v53,
    (unsigned int)&v70,
    (unsigned int)&a1a_2,
    &a1a);
  if ( v15 == v16 )
  {
    goto LABEL_46;
  }
  a1_5 = a1_2;
LABEL_41:
  a1_2 = *a1;
  *(_QWORD *)v54 = *a4;
  *(_QWORD *)v55 = *v32;
  *(_QWORD *)v56 = *a2;
  sub_1468EDCA0(a1, (unsigned int)v56, (unsigned int)v55, (unsigned int)v54, &a1_2);
  if ( v15 != v16 )
  {
    v57 = *a2;
    sub_1468E9770(a1, &v57, n4);
    if ( ::a1_1 > a1
      || a1 >= qword_15126E3D8 + ::a1_1 )
    {
      v34 = 0;
      v35 = a1 - 6;
    }
    else
    {
      v34 = 1;
      v35 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v36 = *(_WORD *)(v35 + 2) | 0x2000;
    if ( !v34 )
    {
      v36 = *(_WORD *)(v35 + 2);
    }
    p_p_sub_1467B7D90 = a1 | ((unsigned __int64)v36 << 0x30);
    sub_1467CDA70(::a1, (__int64)&p_p_sub_1467B7D90, a2, v32, a4);
  }
LABEL_52:
  v37 = *(_DWORD *)(a1() + 0x18);
  if ( dword_1497929C8 == v37 )
  {
    ++dword_1497929CC;
  }
  else
  {
    v38 = _InterlockedCompareExchange64(&qword_1497929C0, 0x200000, 0);
    if ( v38 )
    {
      sub_1403D85B0(
        &qword_1497929C0,
        v38,
        0,
        (__int64)"CEntity::OnAggregateHierarchyChanged",
        (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
        1);
    }
    dword_1497929C8 = v37;
  }
  sub_1469080C0(a1, v48, v59);
  if ( *(_BYTE *)(a1 + 0xD) >= 5u
    && *(_DWORD *)(*(_QWORD *)(a1 + 0x328) + 0x40LL) != 0xFFFFFFFF )
  {
    __debugbreak();
  }
  if ( dword_1497929CC )
  {
    --dword_1497929CC;
  }
  else
  {
    dword_1497929C8 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_1497929C0, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
    {
      sub_1403D8A00(&qword_1497929C0, n0x200000);
    }
  }
  if ( *(_BYTE *)(a1 + 0xD) >= 5u
    && *(_DWORD *)(*(_QWORD *)(a1 + 0x328) + 0x40LL) != 0xFFFFFFFF )
  {
    __debugbreak();
  }
  if ( a1_5 != a1_1 )
  {
    v40 = *a4;
    v65 = 0;
    v66 = 0;
    a1_6 = *a1;
    n0xF00 = 0xF00;
    v62 = 0;
    v63 = 0;
    v67 = 0;
    v64 = 1;
    psub_7FF6AAB938D0(
      &n0xF00,
      0,
      &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
      &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
      0);
    v42 = *(_QWORD *)(a1 + 0x330);
    if ( v42 )
    {
      v43 = *(_QWORD **)(v42 + 8);
      for ( i = *(_QWORD **)v42; i != v43; ++i )
      {
        (*(void (__fastcall **)(_QWORD, __int64, __int64))(*(_QWORD *)*i + 0x508LL))(*i, v40, a1_6);
      }
    }
    v65 = __rdtsc();
    return psub_7FF6AAB93930(&n0xF00);
  }
  return result;
}

// --- End Function: CEntity::OnAggregateHierarchyChanged (0x1468ED340) ---

// --- Function: sub_1468EEFE0 (0x1468EEFE0) ---
__int64 __fastcall sub_1468EEFE0(__int64 a1, _QWORD *a2, unsigned int *a3)
{
  __int64 *v3; // rdi
  __int64 *i; // rbx
  __int64 v8; // rax
  __int64 result; // rax
  __int64 v10; // rbx
  volatile signed __int64 *v11; // rdi
  signed __int64 v12; // rdx
  _QWORD *v13; // rdx
  _QWORD *n; // rcx
  __int64 *v15; // r8
  _QWORD *k; // rax
  __int64 **v17; // r8
  __int64 j; // r8
  __int64 *v19; // r9
  __int64 v20; // r9
  unsigned __int64 v21; // rdx
  unsigned __int64 size; // rdx
  void *v23; // rsp
  void *v24; // rsp
  const void **v25; // rsi
  _QWORD *v26; // r8
  __int64 **v27; // rax
  __int64 m; // rax
  __int64 *v29; // rdx
  __int64 v30; // rdi
  const void *v31; // rbx
  __int64 v32; // rax
  _QWORD v33[4]; // [rsp+30h] [rbp+0h] BYREF

  v3 = *(__int64 **)(a1 + 0xB0);
  for ( i = *(__int64 **)(a1 + 0xA8); i != v3; i += 2 )
  {
    v8 = *i;
    if ( _bittest64(&v8, *a3) )
    {
      (*(void (__fastcall **)(__int64, _QWORD, unsigned int *))(*(_QWORD *)i[1] + 0x20LL))(i[1], *a2, a3);
    }
  }
  result = *a2 & 0xFFFFFFFFFFFFLL;
  if ( (*(_BYTE *)(result + 8) & 4) != 0 )
  {
    v10 = 0;
    v11 = (volatile signed __int64 *)(a1 + 0x9C0);
    if ( *(_DWORD *)(a1 + 0x9C8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0x9CC);
    }
    else
    {
      v12 = _InterlockedIncrement64(v11);
      if ( (v12 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)(a1 + 0x9C0),
          v12,
          (__int64)"CEntitySystem::OnEntityEvent",
          (__int64)"m_eventListenersLock",
          1);
      }
    }
    v13 = *(_QWORD **)(a1 + 0x10 * ((int)*a3 + 0x6FLL));
    n = v13;
    v15 = (__int64 *)v13[1];
    if ( !*((_BYTE *)v15 + 0x19) )
    {
      do
      {
        if ( (unsigned __int64)v15[4] >= *(_QWORD *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x10) )
        {
          n = v15;
          v15 = (__int64 *)*v15;
        }
        else
        {
          v15 = (__int64 *)v15[2];
        }
        k = n;
      }
      while ( !*((_BYTE *)v15 + 0x19) );
      if ( n != v13 )
      {
        do
        {
          if ( k[4] != *(_QWORD *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x10) )
          {
            break;
          }
          v17 = (__int64 **)k[2];
          v10 = (unsigned int)(v10 + 1);
          if ( *((_BYTE *)v17 + 0x19) )
          {
            for ( j = k[1]; !*(_BYTE *)(j + 0x19); j = *(_QWORD *)(j + 8) )
            {
              if ( k != *(_QWORD **)(j + 0x10) )
              {
                break;
              }
              k = (_QWORD *)j;
            }
            k = (_QWORD *)j;
          }
          else
          {
            v19 = *v17;
            for ( k = (_QWORD *)k[2]; !*((_BYTE *)v19 + 0x19); v19 = (__int64 *)*v19 )
            {
              k = v19;
            }
          }
        }
        while ( k != v13 );
      }
    }
    v20 = (unsigned int)v10;
    v21 = 8 * v10 + 0xF;
    if ( v21 <= 8 * v10 )
    {
      v21 = 0xFFFFFFFFFFFFFF0LL;
    }
    size = v21 & 0xFFFFFFFFFFFFFFF0uLL;
    v23 = alloca(size);
    v24 = alloca(size);
    v25 = (const void **)v33;
    if ( (_DWORD)v10 )
    {
      v26 = v33;
      do
      {
        *v26 = n[5];
        v27 = (__int64 **)n[2];
        if ( *((_BYTE *)v27 + 0x19) )
        {
          for ( m = n[1]; !*(_BYTE *)(m + 0x19); m = *(_QWORD *)(m + 8) )
          {
            if ( n != *(_QWORD **)(m + 0x10) )
            {
              break;
            }
            n = (_QWORD *)m;
          }
          n = (_QWORD *)m;
        }
        else
        {
          v29 = *v27;
          for ( n = (_QWORD *)n[2]; !*((_BYTE *)v29 + 0x19); v29 = (__int64 *)*v29 )
          {
            n = v29;
          }
        }
        ++v26;
        --v20;
      }
      while ( v20 );
      result = sub_1402D0950((__int64)v11);
      v30 = (unsigned int)v10;
      do
      {
        v31 = *v25;
        if ( qword_14981D3D8 && qword_14981D2B0 )
        {
          if ( (dword_15126E460 & 1) == 0 )
          {
            v32 = *(_QWORD *)qword_14981D2B0;
            dword_15126E460 |= 1u;
            result = (*(__int64 (__fastcall **)(Parameter *, const char *))(v32 + 0xC0))(
                       qword_14981D2B0,
                       "es_debugEntityListeners");
            qword_15126E458 = result;
          }
          if ( qword_15126E458 )
          {
            result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_15126E458 + 0x10LL))(qword_15126E458);
            if ( (_DWORD)result )
            {
              result = sub_14039EBB0("Event listener '%p'", v31);
            }
          }
        }
        if ( v31 )
        {
          result = (*(__int64 (__fastcall **)(const void *, _QWORD, unsigned int *))(*(_QWORD *)v31 + 8LL))(
                     v31,
                     *a2,
                     a3);
        }
        ++v25;
        --v30;
      }
      while ( v30 );
    }
    else
    {
      return sub_1402D0950((__int64)v11);
    }
  }
  return result;
}

// --- End Function: sub_1468EEFE0 (0x1468EEFE0) ---

// --- Function: sub_1468EF770 (0x1468EF770) ---
__int64 __fastcall sub_1468EF770(__int64 a1, __int64 *a2)
{
  __int64 v4; // rax
  _BYTE v6[8]; // [rsp+20h] [rbp-58h] BYREF
  int n0x22; // [rsp+28h] [rbp-50h] BYREF
  __int64 v8; // [rsp+30h] [rbp-48h]

  sub_140368980((__int64)&n0x22);
  v4 = *a2;
  n0x22 = 0x22;
  v8 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64 *, _BYTE *))(v4 + 0x18))(a2, v6);
  return sub_1468FF140(a1, &n0x22);
}

// --- End Function: sub_1468EF770 (0x1468EF770) ---

// --- Function: sub_1468EF7E0 (0x1468EF7E0) ---
__int64 __fastcall sub_1468EF7E0(__int64 a1, __int64 *a2)
{
  __int64 v4; // rax
  _BYTE v6[8]; // [rsp+20h] [rbp-58h] BYREF
  int n0x23; // [rsp+28h] [rbp-50h] BYREF
  __int64 v8; // [rsp+30h] [rbp-48h]

  sub_140368980((__int64)&n0x23);
  v4 = *a2;
  n0x23 = 0x23;
  v8 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64 *, _BYTE *))(v4 + 0x18))(a2, v6);
  return sub_1468FF140(a1, &n0x23);
}

// --- End Function: sub_1468EF7E0 (0x1468EF7E0) ---

// --- Function: CEntity::OnOwnerRemoved (0x1468EF850) ---
unsigned __int64 __fastcall CEntity::OnOwnerRemoved(unsigned __int64 a1, int edx0, _QWORD *a3)
{
  int v6; // edi
  unsigned __int64 v7; // rax
  int v8; // ebx
  __int64 i; // rdi
  __int64 v10; // rax
  __int64 v11; // rax
  __int64 v12; // rbx
  __int64 v13; // rax
  const char *v14; // rbx
  __int64 v15; // rax
  _QWORD *v16; // rax
  __int64 j; // rbx
  __int64 v18; // rax
  const char *p_true; // rdx
  int a6; // ebx
  __int64 *ThreadLogContextSlot; // rax
  __int64 v22; // rax
  const char *v23; // rbx
  __int64 v24; // rax
  _QWORD *v25; // rax
  __int64 v26; // r14
  __int64 v27; // rax
  __int64 v28; // rbx
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v30; // [rsp+58h] [rbp-B0h] BYREF
  __int128 v31; // [rsp+60h] [rbp-A8h] BYREF
  __int64 v32; // [rsp+70h] [rbp-98h]
  int n0xF00; // [rsp+78h] [rbp-90h] BYREF
  __int64 v34; // [rsp+7Ch] [rbp-8Ch]
  int v35; // [rsp+84h] [rbp-84h]
  __int64 v36; // [rsp+88h] [rbp-80h]
  unsigned __int64 v37; // [rsp+90h] [rbp-78h]
  __int64 v38; // [rsp+98h] [rbp-70h]
  __int64 v39; // [rsp+A0h] [rbp-68h]
  _QWORD v40[2]; // [rsp+C8h] [rbp-40h] BYREF
  __int64 a2[2]; // [rsp+D8h] [rbp-30h] BYREF
  _BYTE v42[8]; // [rsp+E8h] [rbp-20h] BYREF
  _BYTE v43[8]; // [rsp+F0h] [rbp-18h] BYREF
  _BYTE v44[8]; // [rsp+F8h] [rbp-10h] BYREF
  _BYTE v45[8]; // [rsp+100h] [rbp-8h] BYREF
  _BYTE v46[8]; // [rsp+108h] [rbp+0h] BYREF
  _BYTE v47[8]; // [rsp+110h] [rbp+8h] BYREF
  __int128 a7; // [rsp+118h] [rbp+10h] BYREF
  _BYTE v49[56]; // [rsp+128h] [rbp+20h] BYREF
  _DWORD v50[3]; // [rsp+160h] [rbp+58h] BYREF
  char v51; // [rsp+16Ch] [rbp+64h] BYREF
  _DWORD v52[3]; // [rsp+170h] [rbp+68h] BYREF
  char v53; // [rsp+17Ch] [rbp+74h] BYREF

  v6 = *(_DWORD *)(a1() + 0x18);
  if ( dword_1497929D8 == v6 )
  {
    ++dword_1497929DC;
  }
  else
  {
    v7 = _InterlockedCompareExchange64(&qword_1497929D0, 0x200000, 0);
    if ( v7 )
    {
      sub_1403D85B0(&qword_1497929D0, v7, 0, (__int64)"CEntity::OnOwnerRemoved", (__int64)"s_aggregateHierarchyLock", 1);
    }
    dword_1497929D8 = v6;
  }
  if ( edx0 )
  {
    v8 = edx0 - 1;
    if ( v8 )
    {
      if ( v8 == 1 )
      {
        for ( i = *(_QWORD *)(a1 + 0x2A8); i; i = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 8LL))(i) )
        {
          if ( !(*(unsigned __int16 (__fastcall **)(__int64))(*(_QWORD *)i + 0x48LL))(i) )
          {
            break;
          }
          v10 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
          if ( v10 )
          {
            if ( (*(_BYTE *)(v10 + 8) & 8) == 0 && *(_BYTE *)(v10 + 0xD) < 5u )
            {
              break;
            }
          }
        }
        v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D298 + 0xA0LL))(qword_14981D298);
        v12 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v11 + 0x1D8LL))(v11, v42);
        if ( *(_QWORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)i + 0x40LL))(i, v43) == v12 )
        {
          n0xF00 = 0xF00;
          v34 = 0;
          v35 = 0;
          v37 = 0;
          v38 = 0;
          v39 = 0;
          v36 = 1;
          psub_7FF6AAB938D0(
            &n0xF00,
            0,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            0);
          v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
          v14 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x70LL))(v13);
          v15 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
          v16 = (_QWORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v15 + 8LL))(v15, v44);
          LogTraceConditional(
            "Failed to find non-removing parent zone for entity %llu name = \"%s\" when unblocking removal of parent id ="
            " %llu name = \"%s\" into zone host id = %llu name = \"%s\"",
            *(_QWORD *)(a1 + 0x10),
            *(const char **)(a1 + 0x290),
            *(_QWORD *)((*a3 & 0xFFFFFFFFFFFFLL) + 0x10),
            *(const char **)((*a3 & 0xFFFFFFFFFFFFLL) + 0x290),
            *v16,
            v14);
          LogTraceConditional("Parent zone information: ");
          for ( j = *(_QWORD *)(a1 + 0x2A8); j; j = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)j + 8LL))(j) )
          {
            v18 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)j + 0x20LL))(j);
            p_true = "false";
            if ( (*(_BYTE *)(v18 + 8) & 8) != 0 )
            {
              p_true = "true";
            }
            LogTraceConditional(
              "  Entity %s %llu : state %u, potential removal %s",
              *(_QWORD *)(v18 + 0x290),
              *(_QWORD *)(v18 + 0x10),
              *(unsigned __int8 *)(v18 + 0xD),
              p_true);
          }
          v50[0] = 0xD2;
          v40[0] = v50;
          v50[1] = 0x2C;
          v40[1] = &v51;
          v50[2] = 0x31;
          a6 = invokeGlobalCallbackAndMaskStatusBits(
                 5,
                 (__int64)v40,
                 (__int64)"FailedZoneReparent",
                 "Failed to reparent entity to remove parent zone. See log for details");
          if ( (a6 & 0xFFFFF) != 0 )
          {
            ThreadLogContextSlot = getThreadLogContextSlot();
            a2[0] = (__int64)v52;
            a2[1] = (__int64)&v53;
            v52[0] = 0xD2;
            a7 = 0;
            v52[1] = 0x2C;
            v52[2] = 0x31;
            submitTraceContext(
              5,
              (__int64)a2,
              "FailedZoneReparent",
              (__int64)"Failed to reparent entity to remove parent zone. See log for details",
              1,
              a6,
              &a7,
              0,
              (__int64)ThreadLogContextSlot);
          }
          v37 = __rdtsc();
          psub_7FF6AAB93930(&n0xF00);
        }
        v22 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
        v23 = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v22 + 0x70LL))(v22);
        v24 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)i + 0x20LL))(i);
        v25 = (_QWORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v24 + 8LL))(v24, v45);
        LogTraceConditional(
          "[net][bind]CEntity::OnOwnerRemoved: moving zone hosted child id = %llu name = \"%s\" to unblock removal of par"
          "ent id = %llu name = \"%s\" into zone host id = %llu name = \"%s\"",
          *(_QWORD *)(a1 + 0x10),
          *(const char **)(a1 + 0x290),
          *(_QWORD *)((*a3 & 0xFFFFFFFFFFFFLL) + 0x10),
          *(const char **)((*a3 & 0xFFFFFFFFFFFFLL) + 0x290),
          *v25,
          v23);
        v26 = (*(__int64 (__fastcall **)(FH4 *, _BYTE *, _QWORD, __int64))(*(_QWORD *)pCZoneSystem + 0x480LL))(
                pCZoneSystem,
                v49,
                *(_QWORD *)(a1 + 0x2A8),
                i);
        if ( *(_QWORD *)(a1 + 0x2A8) != i )
        {
          v27 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_14981D298 + 0xA0LL))(qword_14981D298);
          (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v27 + 0x1D8LL))(v27, v46);
          (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)i + 0x40LL))(i, v47);
          if ( (_BYTE)isEditor
            || (v30 = *(_QWORD *)(a1 + 0x18), !is_valid_handle_typeB(&v30))
            || (unsigned __int8)(*(_BYTE *)(a1 + 0xD) - 4) > 1u )
          {
            v31 = 0;
            v32 = 0;
            v28 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)pCZoneSystem + 0x180LL))(
                    pCZoneSystem,
                    0x7832,
                    &v31,
                    0);
            (*(void (__fastcall **)(FH4 *, unsigned __int64, __int64, _QWORD))(*(_QWORD *)pCZoneSystem + 0x140LL))(
              pCZoneSystem,
              a1 + 0x2A0,
              v28,
              0);
            CEntity::MoveToZoneImpl(a1, i, v26, 0, v28, 0);
            (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x190LL))(
              pCZoneSystem,
              0x7832,
              v28);
            if ( (_QWORD)v31 )
            {
              sub_14039EFB0((__int64)&v31, (const void *)v31, (v32 - v31) & 0xFFFFFFFFFFFFFFE0uLL);
            }
          }
        }
      }
    }
    else
    {
      LogTraceConditional(
        "[net][bind]CEntity::OnOwnerRemoved: force detaching ENTITY ATTACHMENT id = %llu name = \"%s\" to unblock removal"
        " of parent id = %llu name = \"%s\"",
        *(_QWORD *)(a1 + 0x10),
        *(const char **)(a1 + 0x290),
        *(_QWORD *)((*a3 & 0xFFFFFFFFFFFFLL) + 0x10),
        *(const char **)((*a3 & 0xFFFFFFFFFFFFLL) + 0x290));
      sub_1468CCF00(a1, 0, 0);
    }
  }
  else
  {
    LogTraceConditional(
      "[net][bind]CEntity::OnOwnerRemoved: force detaching ITEM id = %llu name = \"%s\" to unblock removal of parent id ="
      " %llu name = \"%s\"",
      *(_QWORD *)(a1 + 0x10),
      *(const char **)(a1 + 0x290),
      *(_QWORD *)((*a3 & 0xFFFFFFFFFFFFLL) + 0x10),
      *(const char **)((*a3 & 0xFFFFFFFFFFFFLL) + 0x290));
  }
  if ( dword_1497929DC )
  {
    return (unsigned int)--dword_1497929DC;
  }
  else
  {
    dword_1497929D8 = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64(&qword_1497929D0, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
    {
      return sub_1403D8A00(&qword_1497929D0, n0x200000);
    }
  }
  return n0x200000;
}

// --- End Function: CEntity::OnOwnerRemoved (0x1468EF850) ---

// --- Function: CEntity::OwnedEntityByIndex (0x1468F0950) ---
__int64 __fastcall sub_1468F0950(__int64 a1, unsigned int a2)
{
  unsigned __int64 v2; // rdi
  signed __int64 v4; // rdx
  unsigned __int64 *v5; // rbx
  __int64 v6; // rbx

  v2 = a2;
  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v4 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v4 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        &qword_1497929D0,
        v4,
        (__int64)"CEntity::OwnedEntityByIndex",
        (__int64)"s_aggregateHierarchyLock",
        1);
    }
  }
  if ( v2 < (__int64)(*(_QWORD *)(a1 + 0x300) - *(_QWORD *)(a1 + 0x2F8)) >> 3
    && (v5 = (unsigned __int64 *)(*(_QWORD *)(a1 + 0x2F8) + 8 * v2), is_valid_handle_typeB(v5)) )
  {
    v6 = *v5 & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    v6 = 0;
  }
  sub_1402D0950((__int64)&qword_1497929D0);
  return v6;
}

// --- End Function: CEntity::OwnedEntityByIndex (0x1468F0950) ---

// --- Function: CEntity::OwnedEntityCount (0x1468F0A10) ---
__int64 __fastcall sub_1468F0A10(__int64 a1)
{
  signed __int64 v2; // rdx
  __int64 v3; // rbx

  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v2 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v2 & 0x200000) != 0 )
    {
      sub_1403C6C70(&qword_1497929D0, v2, (__int64)"CEntity::OwnedEntityCount", (__int64)"s_aggregateHierarchyLock", 1);
    }
  }
  v3 = (__int64)(*(_QWORD *)(a1 + 0x300) - *(_QWORD *)(a1 + 0x2F8)) >> 3;
  sub_1402D0950((__int64)&qword_1497929D0);
  return (unsigned int)v3;
}

// --- End Function: CEntity::OwnedEntityCount (0x1468F0A10) ---

// --- Function: sub_1468F0C10 (0x1468F0C10) ---
_BYTE *__fastcall sub_1468F0C10(__int64 a1, float *p_n2)
{
  __int64 v4; // rax
  unsigned __int16 n0xFFFF_103; // ax
  __int64 v6; // rbx
  __int64 (__fastcall *v7)(__int64, char *, __int64 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v9; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 *v12; // rcx
  __int64 v13; // rax
  __int64 v15; // [rsp+50h] [rbp+8h] BYREF
  __int64 v16; // [rsp+58h] [rbp+10h] BYREF
  char v17; // [rsp+60h] [rbp+18h] BYREF

  if ( !*((_DWORD *)p_n2 + 2) )
  {
    *(float *)&v15 = p_n2[5];
    if ( (v15 & 0xFFA00000) == 0xFFA00000 )
    {
      *(float *)&v15 = p_n2[4];
      if ( (v15 & 0xFFA00000) == 0xFFA00000 )
      {
        v4 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_14981D2B0 + 0xC0LL))(
               qword_14981D2B0,
               "p_physical_properties");
        if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x10LL))(v4) )
        {
          n0xFFFF_103 = ::n0xFFFF_103;
          if ( ::n0xFFFF_103 == (__int16)0xFFFF )
          {
            n0xFFFF_103 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                                + 0x10LL))(
                                      global_dispatcher_ptr,
                                      &v15,
                                      "EntityPhysicsController");
            ::n0xFFFF_103 = n0xFFFF_103;
          }
          if ( *(_BYTE *)(a1 + 0xD) == 7 )
          {
            v6 = 0;
          }
          else
          {
            sub_1468D6F90((unsigned __int64 *)a1, (unsigned __int64 *)&v16, n0xFFFF_103);
            v6 = v16;
          }
          v15 = v6;
          if ( is_valid_handle_typeA(&v15) )
          {
            p_n2[5] = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v6 & 0xFFFFFFFFFFFFLL);
          }
        }
      }
    }
  }
  if ( *(_BYTE *)(a1 + 0xD) < 4u )
  {
LABEL_25:
    v12 = (__int64 *)(*sub_141E45FB0(a1, &v15) & 0xFFFFFFFFFFFFLL);
    v13 = *v12;
    return (_BYTE *)(*(__int64 (__fastcall **)(__int64 *, float *))(v13 + 0x580))(v12, p_n2);
  }
  v7 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                    + 0x10LL))(
                          global_dispatcher_ptr,
                          &v16,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v15) = n0xFFFF;
  v9 = *(_QWORD *)v7(a1, &v17, &v15);
  v15 = v9;
  if ( !v9
    || (handle_metadata_ptr = get_handle_metadata_ptr(v9 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 == 4)
    || *(_WORD *)(handle_metadata_ptr + 2) != (HIWORD(v9) & 0xFFF)
    || (n4 != 2 || *(_QWORD *)a1()) && !check_indirect_handle_access_by_state(&v15) )
  {
    if ( (*(_BYTE *)(a1 + 0x110) & 1) == 0 || !(_BYTE)isEditor )
    {
      return LogFatalError(
               "Runtime creation of physical proxy is not allowed. Entity: [%s]",
               *(const char **)(a1 + 0x290));
    }
    goto LABEL_25;
  }
  v12 = (__int64 *)(v9 & 0xFFFFFFFFFFFFLL);
  v13 = *(_QWORD *)(v9 & 0xFFFFFFFFFFFFLL);
  return (_BYTE *)(*(__int64 (__fastcall **)(__int64 *, float *))(v13 + 0x580))(v12, p_n2);
}

// --- End Function: sub_1468F0C10 (0x1468F0C10) ---

// --- Function: sub_1468F0EA0 (0x1468F0EA0) ---
__int64 __fastcall sub_1468F0EA0(__int64 a1, float *a2)
{
  __int64 v4; // rsi
  __int64 v5; // rax
  unsigned __int16 n0xFFFF_103; // ax
  __int64 v7; // rbx
  __int64 v9; // [rsp+40h] [rbp+18h] BYREF
  __int64 v10; // [rsp+48h] [rbp+20h] BYREF

  v4 = sub_1468DB500(a1);
  if ( !v4 )
  {
    return 0xFFFFFFFFLL;
  }
  if ( !*((_DWORD *)a2 + 2) )
  {
    *(float *)&v9 = a2[5];
    if ( (v9 & 0xFFA00000) == 0xFFA00000 )
    {
      *(float *)&v9 = a2[4];
      if ( (v9 & 0xFFA00000) == 0xFFA00000 )
      {
        v5 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_14981D2B0 + 0xC0LL))(
               qword_14981D2B0,
               "p_physical_properties");
        if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v5 + 0x10LL))(v5) )
        {
          n0xFFFF_103 = ::n0xFFFF_103;
          if ( ::n0xFFFF_103 == (__int16)0xFFFF )
          {
            n0xFFFF_103 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                                + 0x10LL))(
                                      global_dispatcher_ptr,
                                      &v9,
                                      "EntityPhysicsController");
            ::n0xFFFF_103 = n0xFFFF_103;
          }
          if ( *(_BYTE *)(a1 + 0xD) == 7 )
          {
            v7 = 0;
          }
          else
          {
            sub_1468D6F90((unsigned __int64 *)a1, (unsigned __int64 *)&v10, n0xFFFF_103);
            v7 = v10;
          }
          v9 = v7;
          if ( is_valid_handle_typeA(&v9) )
          {
            a2[5] = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v7 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v7 & 0xFFFFFFFFFFFFLL);
          }
        }
      }
    }
  }
  return sub_1468760F0(v4, (__int64)a2);
}

// --- End Function: sub_1468F0EA0 (0x1468F0EA0) ---

// --- Function: sub_1468F13D0 (0x1468F13D0) ---
double __fastcall sub_1468F13D0(unsigned __int64 a1, unsigned __int8 n2_1, __int64 a3)
{
  __int64 v3; // rdi
  unsigned __int8 n2; // r13
  char n3; // bp
  __int64 v7; // rax
  volatile signed __int32 *v8; // rdx
  __int64 v9; // rsi
  volatile signed __int32 *v10; // r15
  __int64 v11; // r9
  signed __int32 v12; // eax
  signed __int32 v13; // ett
  volatile signed __int32 *v14; // r14
  __int64 v15; // rax
  __int64 v16; // r13
  volatile signed __int32 *v17; // rsi
  volatile signed __int32 *v18; // rdx
  __int64 v19; // r9
  signed __int32 v20; // eax
  signed __int32 v21; // ett
  int n0xA; // eax
  char v23; // r15
  __int64 v24; // rax
  __int64 v25; // rsi
  __int64 v26; // rax
  unsigned __int64 a1_1; // r8
  _QWORD *v28; // r9
  char v29; // dl
  unsigned __int64 v30; // rcx
  unsigned __int16 v31; // ax
  int v32; // eax
  unsigned __int64 v33; // rcx
  __int64 v34; // rax
  __int64 v35; // rax
  unsigned __int64 v36; // r10
  unsigned __int64 v37; // r9
  unsigned __int64 v38; // rdx
  char v39; // r10
  unsigned __int64 v40; // rcx
  unsigned __int16 v41; // ax
  char v42; // r8
  unsigned __int16 v43; // ax
  _BYTE v45[16]; // [rsp+30h] [rbp-98h] BYREF
  int n0x2400; // [rsp+40h] [rbp-88h] BYREF
  __int64 v47; // [rsp+44h] [rbp-84h]
  int v48; // [rsp+4Ch] [rbp-7Ch]
  __int64 v49; // [rsp+50h] [rbp-78h]
  unsigned __int64 v50; // [rsp+58h] [rbp-70h]
  __int64 v51; // [rsp+60h] [rbp-68h]
  __int64 v52; // [rsp+68h] [rbp-60h]
  volatile signed __int32 *v53; // [rsp+D0h] [rbp+8h]

  v3 = 0;
  n0x2400 = 0x2400;
  v47 = 0;
  n2 = n2_1;
  v48 = 0;
  v50 = 0;
  v51 = 0;
  v52 = 0;
  n3 = 0;
  v49 = 1;
  LODWORD(v53) = 0;
  psub_7FF6AAB938D0(
    &n0x2400,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( *(_BYTE *)(a1 + 0xD) >= 4u )
  {
    v17 = v53;
    v14 = v53;
LABEL_26:
    v23 = 0;
    goto LABEL_27;
  }
  v7 = *(_QWORD *)(a1 + 0x2C8);
  if ( !v7 )
  {
    v14 = 0;
    n3 = 1;
LABEL_24:
    v17 = v53;
    v23 = 1;
    goto LABEL_27;
  }
  v8 = *(volatile signed __int32 **)(v7 + 0x28);
  v9 = 0;
  v10 = 0;
  if ( v8 )
  {
    v11 = *(_QWORD *)(v7 + 0x20);
    _InterlockedIncrement(v8 + 3);
    v12 = *((_DWORD *)v8 + 2);
    if ( v12 )
    {
      while ( 1 )
      {
        v13 = v12;
        v12 = _InterlockedCompareExchange(v8 + 2, v12 + 1, v12);
        if ( v13 == v12 )
        {
          break;
        }
        if ( !v12 )
        {
          goto LABEL_9;
        }
      }
      v9 = v11;
      v10 = v8;
    }
LABEL_9:
    if ( _InterlockedExchangeAdd(v8 + 3, 0xFFFFFFFF) == 1 )
    {
      (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v8 + 8LL))(v8);
    }
  }
  n3 = 1;
  v14 = v10;
  if ( !v9 )
  {
    goto LABEL_24;
  }
  v15 = *(_QWORD *)(a1 + 0x2C8);
  v16 = 0;
  v17 = 0;
  if ( v15 )
  {
    v18 = *(volatile signed __int32 **)(v15 + 0x28);
    if ( v18 )
    {
      v19 = *(_QWORD *)(v15 + 0x20);
      _InterlockedIncrement(v18 + 3);
      v20 = *((_DWORD *)v18 + 2);
      if ( v20 )
      {
        while ( 1 )
        {
          v21 = v20;
          v20 = _InterlockedCompareExchange(v18 + 2, v20 + 1, v20);
          if ( v21 == v20 )
          {
            break;
          }
          if ( !v20 )
          {
            goto LABEL_19;
          }
        }
        v16 = v19;
        v17 = v18;
      }
LABEL_19:
      if ( _InterlockedExchangeAdd(v18 + 3, 0xFFFFFFFF) == 1 )
      {
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v18 + 8LL))(v18);
      }
    }
  }
  n3 = 3;
  n0xA = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v16 + 0x10LL))(v16);
  n2 = n2_1;
  if ( n0xA >= 0xA )
  {
    goto LABEL_26;
  }
  v23 = 1;
LABEL_27:
  if ( (n3 & 2) != 0 )
  {
    n3 &= ~2u;
    if ( v17 )
    {
      if ( _InterlockedExchangeAdd(v17 + 2, 0xFFFFFFFF) == 1 )
      {
        (**(void (__fastcall ***)(volatile signed __int32 *))v17)(v17);
        if ( _InterlockedExchangeAdd(v17 + 3, 0xFFFFFFFF) == 1 )
        {
          (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v17 + 8LL))(v17);
        }
      }
    }
  }
  if ( (n3 & 1) != 0 )
  {
    if ( v14 )
    {
      if ( _InterlockedExchangeAdd(v14 + 2, 0xFFFFFFFF) == 1 )
      {
        (**(void (__fastcall ***)(volatile signed __int32 *))v14)(v14);
        if ( _InterlockedExchangeAdd(v14 + 3, 0xFFFFFFFF) == 1 )
        {
          (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v14 + 8LL))(v14);
        }
      }
    }
  }
  if ( !v23
    && ((*(_BYTE *)(a1 + 8) & 0x60) != 0
     || *(_DWORD *)(a1 + 0xB4) != a1_0) )
  {
    if ( ((*(_BYTE *)(a1 + 0x4F0) & 3) == 0
       || !is_valid_handle_typeB((unsigned __int64 *)(a1 + 0x4D8))
       && *(_QWORD *)(a1 + 0x4E0) == *(_QWORD *)(a1 + 0x18))
      && (*(_BYTE *)(a1 + 8) & 0x60) != 0 )
    {
      v24 = sub_1468DB500(a1);
      v25 = v24;
      if ( v24 )
      {
        v26 = sub_146841F00(v24, v45);
        a1_1 = ::a1_1;
        v28 = (_QWORD *)v26;
        if ( ::a1_1 > a1
          || a1 >= ::a1_1 + qword_15126E3D8 )
        {
          v29 = 0;
          v30 = a1 - 6;
        }
        else
        {
          v29 = 1;
          v30 = a1 & 0xFFFFFFFFFF000000uLL;
        }
        v31 = *(_WORD *)(v30 + 2) | 0x2000;
        if ( !v29 )
        {
          v31 = *(_WORD *)(v30 + 2);
        }
        if ( *v28 != (a1 | ((unsigned __int64)v31 << 0x30)) )
        {
          goto LABEL_62;
        }
        v32 = *(_DWORD *)(a1 + 8);
        if ( (v32 & 0x20) != 0 )
        {
          sub_14689A720(v25, (*(_DWORD *)(a1 + 8) & 0x40) != 0);
        }
        else
        {
          if ( (v32 & 0x40) == 0 )
          {
LABEL_62:
            v35 = *(_QWORD *)(a1 + 0x128);
            if ( v35 )
            {
              v36 = *(_QWORD *)(v35 + 8);
              v37 = a1 - 6;
              v38 = a1 & 0xFFFFFFFFFF000000uLL;
            }
            else
            {
              if ( a1_1 > a1
                || a1 >= a1_1 + qword_15126E3D8 )
              {
                v39 = 0;
                v37 = a1 - 6;
                v40 = a1 - 6;
                v38 = a1 & 0xFFFFFFFFFF000000uLL;
              }
              else
              {
                v37 = a1 - 6;
                v38 = a1 & 0xFFFFFFFFFF000000uLL;
                v39 = 1;
                v40 = a1 & 0xFFFFFFFFFF000000uLL;
              }
              v41 = *(_WORD *)(v40 + 2) | 0x2000;
              if ( !v39 )
              {
                v41 = *(_WORD *)(v40 + 2);
              }
              v36 = a1 | ((unsigned __int64)v41 << 0x30);
            }
            if ( a1_1 > a1
              || a1 >= a1_1 + qword_15126E3D8 )
            {
              v42 = 0;
              v38 = v37;
            }
            else
            {
              v42 = 1;
            }
            v43 = *(_WORD *)(v38 + 2) | 0x2000;
            if ( !v42 )
            {
              v43 = *(_WORD *)(v38 + 2);
            }
            CEntity::PostAnimationUpdateChildren(
              a1,
              v36 != (a1 | ((unsigned __int64)v43 << 0x30)),
              n2,
              n2,
              a3);
            goto LABEL_78;
          }
          v33 = *(_QWORD *)(v25 + 0x438);
          if ( v33 )
          {
            v34 = *(_QWORD *)(v25 + 0x438) & 0xFFFFFFFFFFFFLL;
            LOBYTE(v33) = *(_QWORD *)(v34 + 8) == HIWORD(v33);
          }
          else
          {
            v34 = 0;
          }
          if ( (_BYTE)v33 )
          {
            v3 = v34;
          }
          sub_14689BC00(v25, v25, v3);
        }
      }
    }
    a1_1 = ::a1_1;
    goto LABEL_62;
  }
LABEL_78:
  *(_BYTE *)(a1 + 0xB8) = 0;
  v50 = __rdtsc();
  return psub_7FF6AAB93930(&n0x2400);
}

// --- End Function: sub_1468F13D0 (0x1468F13D0) ---

// --- Function: CEntity::PushGridPortalChange (0x1468F35A0) ---
unsigned __int64 __fastcall CEntity::PushGridPortalChange(unsigned __int64 a1, __int64 a2)
{
  unsigned __int64 n0x200000; // rax
  volatile signed __int64 *v5; // rbx
  unsigned __int64 v6; // rax
  __int64 v7; // rdx

  if ( *(_BYTE *)(a1 + 0xD) >= 4u )
  {
    return sub_146900C90(a1, a2, 0, 0);
  }
  v5 = (volatile signed __int64 *)(a1 + 0x4F8);
  v6 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x4F8), 0x200000, 0);
  if ( v6 )
  {
    sub_1403D85B0(
      (volatile signed __int64 *)(a1 + 0x4F8),
      v6,
      0,
      (__int64)"CEntity::PushGridPortalChange",
      (__int64)"m_queuedGridPortalChangesLock",
      1);
  }
  v7 = *(_QWORD *)(a1 + 0x508);
  if ( v7 == *(_QWORD *)(a1 + 0x510) )
  {
    n0x200000 = sub_1468A5080(a1 + 0x500, v7, a2);
  }
  else
  {
    *(_DWORD *)v7 = *(_DWORD *)a2;
    *(_QWORD *)(v7 + 8) = *(_QWORD *)(a2 + 8);
    *(_OWORD *)(v7 + 0x10) = *(_OWORD *)(a2 + 0x10);
    *(_QWORD *)(v7 + 0x20) = *(_QWORD *)(a2 + 0x20);
    *(_OWORD *)(v7 + 0x28) = *(_OWORD *)(a2 + 0x28);
    *(double *)(v7 + 0x38) = *(double *)(a2 + 0x38);
    *(double *)(v7 + 0x40) = *(double *)(a2 + 0x40);
    *(_DWORD *)(v7 + 0x48) = *(_DWORD *)(a2 + 0x48);
    *(_DWORD *)(v7 + 0x58) = *(_DWORD *)(a2 + 0x58);
    *(_DWORD *)(v7 + 0x4C) = *(_DWORD *)(a2 + 0x4C);
    *(_DWORD *)(v7 + 0x50) = *(_DWORD *)(a2 + 0x50);
    *(_DWORD *)(v7 + 0x54) = *(_DWORD *)(a2 + 0x54);
    *(_OWORD *)(v7 + 0x60) = *(_OWORD *)(a2 + 0x60);
    *(double *)(v7 + 0x70) = *(double *)(a2 + 0x70);
    *(_DWORD *)(v7 + 0x78) = *(_DWORD *)(a2 + 0x78);
    *(_DWORD *)(v7 + 0x7C) = *(_DWORD *)(a2 + 0x7C);
    n0x200000 = *(unsigned __int8 *)(a2 + 0x80);
    *(_BYTE *)(v7 + 0x80) = n0x200000;
    *(_QWORD *)(a1 + 0x508) += 0x88LL;
  }
  if ( v5 )
  {
    n0x200000 = _InterlockedCompareExchange64(v5, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
    {
      return sub_1403D8A00(v5, n0x200000);
    }
  }
  return n0x200000;
}

// --- End Function: CEntity::PushGridPortalChange (0x1468F35A0) ---

// --- Function: sub_1468F3700 (0x1468F3700) ---
unsigned __int64 __fastcall sub_1468F3700(__int64 a1, FH4 **a2)
{
  unsigned __int64 result; // rax
  _QWORD *v5; // rsi
  _QWORD *i; // rbx

  result = sub_1402E1770((__int64)a2, (__int64)(*(_QWORD *)(a1 + 0x240) - *(_QWORD *)(a1 + 0x238)) >> 3);
  v5 = *(_QWORD **)(a1 + 0x240);
  for ( i = *(_QWORD **)(a1 + 0x238); i != v5; ++i )
  {
    result = (unsigned __int64)sub_1402A4690(a2, i);
  }
  return result;
}

// --- End Function: sub_1468F3700 (0x1468F3700) ---

// --- Function: sub_1468F3770 (0x1468F3770) ---
unsigned __int64 __fastcall sub_1468F3770(__int64 a1, __int64 a2)
{
  unsigned __int64 v4; // rdx
  unsigned __int64 result; // rax
  __int64 v6; // r14
  __int64 v7; // rbp
  char *v8; // rsi
  _QWORD *v9; // rsi
  _QWORD *i; // rbx

  v4 = (__int64)(*(_QWORD *)(a1 + 0x240) - *(_QWORD *)(a1 + 0x238)) >> 3;
  result = (__int64)(*(_QWORD *)(a2 + 0x10) - *(_QWORD *)a2) >> 1;
  if ( v4 > result )
  {
    if ( v4 > 0x7FFFFFFFFFFFFFFFLL )
    {
      unknown_libname_10();
    }
    v6 = 2 * v4;
    v7 = (__int64)(*(_QWORD *)(a2 + 8) - *(_QWORD *)a2) >> 1;
    v8 = (char *)sub_14038E0B0(a2, 2 * v4);
    memmove(v8, *(const void **)a2, *(_QWORD *)(a2 + 8) - *(_QWORD *)a2);
    if ( *(_QWORD *)a2 )
    {
      sub_14039EFB0(a2, *(FH4 **)a2, 2 * ((__int64)(*(_QWORD *)(a2 + 0x10) - *(_QWORD *)a2) >> 1));
    }
    *(_QWORD *)a2 = v8;
    *(_QWORD *)(a2 + 8) = &v8[2 * v7];
    result = (unsigned __int64)&v8[v6];
    *(_QWORD *)(a2 + 0x10) = &v8[v6];
  }
  v9 = *(_QWORD **)(a1 + 0x240);
  for ( i = *(_QWORD **)(a1 + 0x238); i != v9; ++i )
  {
    result = (unsigned __int64)sub_1403055F0((char **)a2, (_WORD *)((*i & 0xFFFFFFFFFFFFLL) + 0x10));
  }
  return result;
}

// --- End Function: sub_1468F3770 (0x1468F3770) ---

// --- Function: sub_1468F3890 (0x1468F3890) ---
_QWORD *__fastcall sub_1468F3890(__int64 a1, _QWORD *a2, unsigned __int16 *a3)
{
  unsigned __int64 v5; // [rsp+30h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) == 7 )
  {
    *a2 = 0;
    return a2;
  }
  else
  {
    sub_1468D6F90((unsigned __int64 *)a1, &v5, *a3);
    *a2 = v5;
    return a2;
  }
}

// --- End Function: sub_1468F3890 (0x1468F3890) ---

// --- Function: sub_1468F3AA0 (0x1468F3AA0) ---
__int64 __fastcall sub_1468F3AA0(__int64 a1, __int64 a2, FH4 **a3)
{
  __int64 result; // rax
  _QWORD *v7; // rdi
  _QWORD *i; // rbx

  result = sub_1402E1770((__int64)a3, (__int64)(*(_QWORD *)(a1 + 0x240) - *(_QWORD *)(a1 + 0x238)) >> 3);
  v7 = *(_QWORD **)(a1 + 0x240);
  for ( i = *(_QWORD **)(a1 + 0x238); i != v7; ++i )
  {
    result = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)(*i & 0xFFFFFFFFFFFFLL) + 8LL))(
               *i & 0xFFFFFFFFFFFFLL,
               a2);
    if ( (_BYTE)result )
    {
      result = (__int64)sub_1402A4690(a3, i);
    }
  }
  return result;
}

// --- End Function: sub_1468F3AA0 (0x1468F3AA0) ---

// --- Function: CEntity::ReadTags (0x1468F5800) ---
__int64 __fastcall sub_1468F5800(__int64 a1)
{
  char v2; // r14
  __int64 v3; // rdi
  signed __int64 v4; // rdx
  signed __int64 v5; // rsi
  __int64 v6; // rsi

  v2 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem);
  v3 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
  if ( !v2 )
  {
    if ( *(_DWORD *)(v3 + 8) == *(_DWORD *)(a1() + 0x18) )
    {
      ++*(_DWORD *)(v3 + 0xC);
    }
    else
    {
      v4 = _InterlockedIncrement64((volatile signed __int64 *)v3);
      if ( (v4 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          (volatile signed __int64 *)v3,
          v4,
          (__int64)"CEntity::ReadTags",
          (__int64)"gEnv->pZoneSystem->GetGlobalStateLock()",
          1);
      }
    }
  }
  if ( *(_DWORD *)(a1 + 0xC8) == *(_DWORD *)(a1() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0xCC);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC0));
    if ( (v5 & 0x200000) != 0 )
    {
      sub_1403C6C70(
        (volatile signed __int64 *)(a1 + 0xC0),
        v5,
        (__int64)"CEntity::ReadTags",
        (__int64)"m_cross_ecus_state.updateLock",
        1);
    }
  }
  v6 = (*(__int64 (__fastcall **)(_QWORD, __int64))(*(_QWORD *)pCZoneSystem + 0x400LL))(pCZoneSystem, a1 + 0x2A0);
  sub_1402D0950(a1 + 0xC0);
  if ( !v2 )
  {
    sub_1402D0950(v3);
  }
  return v6;
}

// --- End Function: CEntity::ReadTags (0x1468F5800) ---

// --- Function: sub_1468F5920 (0x1468F5920) ---
_QWORD *__fastcall sub_1468F5920(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v3; // rdi
  signed __int64 v6; // rdx

  v3 = a3;
  if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
  {
    ++dword_1497929DC;
  }
  else
  {
    v6 = _InterlockedIncrement64(&qword_1497929D0);
    if ( (v6 & 0x200000) != 0 )
    {
      sub_1403C6C70(&qword_1497929D0, v6, (__int64)"CEntity::ReasonOwnerEntity", (__int64)"s_aggregateHierarchyLock", 1);
    }
  }
  *a2 = *(_QWORD *)(a1 + 8 * v3 + 0x4D8);
  sub_1402D0950((__int64)&qword_1497929D0);
  return a2;
}

// --- End Function: sub_1468F5920 (0x1468F5920) ---

// --- Function: sub_1468F9D60 (0x1468F9D60) ---
signed __int64 __fastcall sub_1468F9D60(__int64 a1, char a2, char a3)
{
  __int64 v3; // rcx
  int v6; // eax
  signed __int64 n0x200000; // rax
  __int64 v8; // rax
  __int64 v9; // rcx
  int v10; // eax

  v3 = a1 + 0xC0;
  v6 = *(_DWORD *)(v3 + 0xC);
  if ( v6 )
  {
    n0x200000 = (unsigned int)(v6 - 1);
    *(_DWORD *)(v3 + 0xC) = n0x200000;
  }
  else
  {
    *(_DWORD *)(v3 + 8) = 0xFFFFFFFF;
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v3, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
    {
      n0x200000 = sub_1403D8A00((volatile signed __int64 *)v3, n0x200000);
    }
  }
  if ( a3 )
  {
    v8 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0x98LL))(pCZoneSystem);
    v9 = v8;
    if ( a2 )
    {
      v10 = *(_DWORD *)(v8 + 0xC);
      if ( v10 )
      {
        n0x200000 = (unsigned int)(v10 - 1);
        *(_DWORD *)(v9 + 0xC) = n0x200000;
      }
      else
      {
        *(_DWORD *)(v9 + 8) = 0xFFFFFFFF;
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v9, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
        {
          return sub_1403D8A00((volatile signed __int64 *)v9, n0x200000);
        }
      }
    }
    else
    {
      return sub_1402D0950(v8);
    }
  }
  return n0x200000;
}

// --- End Function: sub_1468F9D60 (0x1468F9D60) ---

// --- Function: sub_1468FA260 (0x1468FA260) ---
double __fastcall sub_1468FA260(__int64 a1)
{
  _QWORD *ppStringObjectData; // rdi
  _QWORD *ppStringObjectData_1; // rbx
  int n0x1200; // [rsp+30h] [rbp-98h] BYREF
  __int64 v6; // [rsp+34h] [rbp-94h]
  int v7; // [rsp+3Ch] [rbp-8Ch]
  __int64 v8; // [rsp+40h] [rbp-88h]
  unsigned __int64 v9; // [rsp+48h] [rbp-80h]
  __int64 v10; // [rsp+50h] [rbp-78h]
  __int64 v11; // [rsp+58h] [rbp-70h]
  _BYTE v12[24]; // [rsp+80h] [rbp-48h] BYREF
  _QWORD *ppStringObjectData_2; // [rsp+98h] [rbp-30h]

  n0x1200 = 0x1200;
  v6 = 0;
  v7 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v8 = 1;
  psub_7FF6AAB938D0(
    &n0x1200,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  ppStringObjectData = *(_QWORD **)(a1 + 0x288);
  if ( ppStringObjectData )
  {
    do
    {
      ppStringObjectData_1 = (_QWORD *)ppStringObjectData[2];
      *(_QWORD *)(a1 + 0x288) = ppStringObjectData;
      sub_140368960((__int64)v12, 0xB);
      ppStringObjectData_2 = ppStringObjectData;
      sub_1468FF140(a1, v12);
      DestroyStringObject(ppStringObjectData);
      free_memory_wrapper(ppStringObjectData);
      ppStringObjectData = ppStringObjectData_1;
    }
    while ( ppStringObjectData_1 );
  }
  *(_QWORD *)(a1 + 0x288) = 0;
  v9 = __rdtsc();
  return psub_7FF6AAB93930(&n0x1200);
}

// --- End Function: sub_1468FA260 (0x1468FA260) ---

// --- Function: sub_1468FC660 (0x1468FC660) ---
__int64 __fastcall sub_1468FC660(__int64 a1, _QWORD *ppStringObjectData)
{
  _QWORD *ppStringObjectData_3; // rcx
  _QWORD *ppStringObjectData_2; // rax
  __int64 v6; // rbx
  _BYTE v8[24]; // [rsp+20h] [rbp-48h] BYREF
  _QWORD *ppStringObjectData_1; // [rsp+38h] [rbp-30h]

  if ( !*(_QWORD *)(a1 + 0x288) || !ppStringObjectData )
  {
    return 0;
  }
  sub_140368960((__int64)v8, 0xB);
  ppStringObjectData_1 = ppStringObjectData;
  sub_1468FF140(a1, v8);
  ppStringObjectData_3 = *(_QWORD **)(a1 + 0x288);
  ppStringObjectData_2 = (_QWORD *)ppStringObjectData_3[2];
  if ( ppStringObjectData_3 == ppStringObjectData )
  {
    *(_QWORD *)(a1 + 0x288) = ppStringObjectData_2;
  }
  else
  {
    for ( ; ppStringObjectData_2; ppStringObjectData_2 = (_QWORD *)ppStringObjectData_2[2] )
    {
      if ( ppStringObjectData_2 == ppStringObjectData )
      {
        break;
      }
      ppStringObjectData_3 = ppStringObjectData_2;
    }
    if ( (_QWORD *)ppStringObjectData_3[2] == ppStringObjectData )
    {
      ppStringObjectData_3[2] = ppStringObjectData[2];
    }
  }
  v6 = ppStringObjectData[2];
  DestroyStringObject(ppStringObjectData);
  free_memory_wrapper(ppStringObjectData);
  return v6;
}

// --- End Function: sub_1468FC660 (0x1468FC660) ---

// --- Function: sub_1468FCA70 (0x1468FCA70) ---
__int64 __fastcall sub_1468FCA70(__int64 a1, unsigned int a2, unsigned __int64 a3)
{
  __int64 (__fastcall *v6)(__int64, _BYTE *, __int64 *); // rbp
  __int16 n0xFFFF; // ax
  __int64 v8; // rdi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  _BYTE v12[8]; // [rsp+20h] [rbp-18h] BYREF
  _BYTE v13[16]; // [rsp+28h] [rbp-10h] BYREF
  __int64 v14; // [rsp+40h] [rbp+8h] BYREF

  v6 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                  + 0x10LL))(
                          global_dispatcher_ptr,
                          v12,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v14) = n0xFFFF;
  v8 = *(_QWORD *)v6(a1, v13, &v14);
  v14 = v8;
  if ( v8
    && (handle_metadata_ptr = get_handle_metadata_ptr(v8 & 0xFFFFFFFFFFFFLL),
        n4 = *(_WORD *)(handle_metadata_ptr + 4),
        n4 != 4)
    && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v8) & 0xFFF)
    && (n4 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v14)) )
  {
    (*(void (__fastcall **)(__int64, _QWORD, unsigned __int64))(*(_QWORD *)(v8 & 0xFFFFFFFFFFFFLL) + 0x720LL))(
      v8 & 0xFFFFFFFFFFFFLL,
      a2,
      a3);
    return 1;
  }
  else if ( a3 && *(_QWORD *)((a3 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a3) )
  {
    (*(void (__fastcall **)(unsigned __int64, _QWORD, _QWORD))(*(_QWORD *)(a3 & 0xFFFFFFFFFFFFLL) + 0x40LL))(
      a3 & 0xFFFFFFFFFFFFLL,
      a2,
      0);
    return 1;
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_1468FCA70 (0x1468FCA70) ---

// --- Function: sub_1468FD380 (0x1468FD380) ---
__int64 __fastcall sub_1468FD380(__int64 a1, int a2)
{
  __int64 result; // rax

  result = sub_1468DB500(a1);
  if ( result )
  {
    return sub_146880AA0(result, a2);
  }
  return result;
}

// --- End Function: sub_1468FD380 (0x1468FD380) ---

// --- Function: sub_1468FD530 (0x1468FD530) ---
char __fastcall sub_1468FD530(unsigned __int64 a1, __int64 *a2)
{
  __int64 pEntitySystem; // rbx
  const char *v5; // rbx
  const char **v6; // rax
  __int64 v8; // rbp
  char v9; // si
  __int64 v10; // rbx
  int *Tags; // rax
  __int128 pCZoneSystem; // [rsp+30h] [rbp-38h] BYREF
  __int64 v13; // [rsp+40h] [rbp-28h]
  __int64 ppStringObjectData_; // [rsp+88h] [rbp+20h] BYREF

  pEntitySystem = ::pEntitySystem;
  sub_14035C280(&ppStringObjectData_, a2);
  LOBYTE(pEntitySystem) = sub_14039FDF0(pEntitySystem + 0x648, (int *)&ppStringObjectData_);
  sub_14036EF50(&ppStringObjectData_);
  if ( (_BYTE)pEntitySystem )
  {
    v5 = *(const char **)(a1 + 0x290);
    v6 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *, __int64 *))(*(_QWORD *)qword_14981D218 + 0x48LL))(
                          qword_14981D218,
                          &ppStringObjectData_,
                          a2);
    sub_1405BD4A0(6u, 0, "Trying to remove the reserved engine Tag %s to Entity %s", *v6, v5);
    DestroyStringObject(&ppStringObjectData_);
    return 0;
  }
  else
  {
    pCZoneSystem = 0;
    v13 = 0;
    v8 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
           ::pCZoneSystem,
           0x7832,
           &pCZoneSystem,
           0);
    v9 = (*(__int64 (__fastcall **)(FH4 *, unsigned __int64, __int64 *, __int64, unsigned __int64))(*(_QWORD *)::pCZoneSystem
                                                                                                  + 0x420LL))(
           ::pCZoneSystem,
           a1 + 0x2A0,
           a2,
           v8,
           a1 + 0xC0);
    v10 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x448LL))(::pCZoneSystem);
    Tags = (int *)CEntity::ReadTags(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_14039FDF0(v10, Tags) << 0xB)
                                         | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v9 )
    {
      sub_146900A50(a1, 0x20);
    }
    (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v8);
    if ( (_QWORD)pCZoneSystem )
    {
      sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v13 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
    }
    return v9;
  }
}

// --- End Function: sub_1468FD530 (0x1468FD530) ---

// --- Function: sub_1468FD6E0 (0x1468FD6E0) ---
__int64 __fastcall sub_1468FD6E0(unsigned __int64 a1, int *a2)
{
  unsigned __int64 v4; // rbx
  unsigned __int64 v5; // r14
  __int64 pEntitySystem; // rdi
  const char *v7; // rdi
  const char **v8; // rax
  __int64 v9; // r14
  unsigned __int8 v10; // di
  __int64 v11; // rbx
  int *Tags; // rax
  __int64 v13; // r14
  __int64 v14; // rbx
  int *v15; // rax
  int v17; // [rsp+30h] [rbp-50h] BYREF
  __int64 v18; // [rsp+38h] [rbp-48h] BYREF
  __int64 ppStringObjectData_; // [rsp+40h] [rbp-40h] BYREF
  __int128 pCZoneSystem; // [rsp+48h] [rbp-38h] BYREF
  __int64 v21; // [rsp+58h] [rbp-28h]
  __int128 pCZoneSystem_1; // [rsp+60h] [rbp-20h] BYREF
  __int64 v23; // [rsp+70h] [rbp-10h]
  int v24; // [rsp+C8h] [rbp+48h] BYREF

  if ( sub_14039FDF0(::pEntitySystem + 0x648, a2) )
  {
    Mat44f::SetIdentity(&v24);
    v4 = 0;
    v5 = sub_1403B31D0((__int64)a2);
    if ( v5 )
    {
      do
      {
        sub_1403B3190((__int64)a2, (__int64)&v18, v4);
        pEntitySystem = ::pEntitySystem;
        sub_14035C280(&v17, &v18);
        LOBYTE(pEntitySystem) = sub_14039FDF0(pEntitySystem + 0x648, &v17);
        sub_14036EF50(&v17);
        if ( (_BYTE)pEntitySystem )
        {
          v7 = *(const char **)(a1 + 0x290);
          v8 = (const char **)(*(__int64 (__fastcall **)(__int64, __int64 *, __int64 *))(*(_QWORD *)qword_14981D218
                                                                                       + 0x48LL))(
                                qword_14981D218,
                                &ppStringObjectData_,
                                &v18);
          sub_1405BD4A0(6u, 0, "Trying to remove the reserved engine Tag %s to Entity %s", *v8, v7);
          DestroyStringObject(&ppStringObjectData_);
        }
        else
        {
          sub_14038D900((__int64)&v24, v18);
        }
        ++v4;
      }
      while ( v4 < v5 );
    }
    pCZoneSystem = 0;
    v21 = 0;
    v9 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
           ::pCZoneSystem,
           0x7832,
           &pCZoneSystem,
           0);
    v10 = (*(__int64 (__fastcall **)(FH4 *, unsigned __int64, int *, __int64, unsigned __int64))(*(_QWORD *)::pCZoneSystem
                                                                                               + 0x428LL))(
            ::pCZoneSystem,
            a1 + 0x2A0,
            &v24,
            v9,
            a1 + 0xC0);
    v11 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x448LL))(::pCZoneSystem);
    Tags = (int *)CEntity::ReadTags(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_14039FDF0(v11, Tags) << 0xB)
                                         | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v10 )
    {
      sub_146900A50(a1, 0x20);
    }
    (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v9);
    if ( (_QWORD)pCZoneSystem )
    {
      sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v21 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
      pCZoneSystem = 0;
      v21 = 0;
    }
    sub_14036EF50(&v24);
  }
  else
  {
    pCZoneSystem_1 = 0;
    v23 = 0;
    v13 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
            ::pCZoneSystem,
            0x7832,
            &pCZoneSystem_1,
            0);
    v10 = (*(__int64 (__fastcall **)(FH4 *, unsigned __int64, int *, __int64, unsigned __int64))(*(_QWORD *)::pCZoneSystem
                                                                                               + 0x428LL))(
            ::pCZoneSystem,
            a1 + 0x2A0,
            a2,
            v13,
            a1 + 0xC0);
    v14 = (*(__int64 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0x448LL))(::pCZoneSystem);
    v15 = (int *)CEntity::ReadTags(a1);
    *(_DWORD *)(a1 + 8) = ((unsigned __int8)sub_14039FDF0(v14, v15) << 0xB)
                                         | *(_DWORD *)(a1 + 8) & 0xFFFFF7FF;
    if ( v10 )
    {
      sub_146900A50(a1, 0x20);
    }
    (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v13);
    if ( (_QWORD)pCZoneSystem_1 )
    {
      sub_14039EFB0((__int64)&pCZoneSystem_1, (FH4 *)pCZoneSystem_1, (v23 - pCZoneSystem_1) & 0xFFFFFFFFFFFFFFE0uLL);
    }
  }
  return v10;
}

// --- End Function: sub_1468FD6E0 (0x1468FD6E0) ---

// --- Function: sub_1468FD9F0 (0x1468FD9F0) ---
double __fastcall sub_1468FD9F0(__int64 pEntitySystem, _QWORD *a2, __int64 a3, char n0xFF_1)
{
  volatile signed __int32 *v8; // rbx
  int v9; // esi
  unsigned __int32 v10; // eax
  __int64 v11; // rax
  _QWORD *i; // r11
  _QWORD *v13; // r10
  __int64 v14; // rcx
  char v15; // r8
  int v16; // ebp
  unsigned __int32 v17; // eax
  char n0xFF; // cl
  __int64 v19; // rax
  __int64 v20; // rcx
  _QWORD *v21; // r9
  _QWORD *v22; // r10
  __int64 v23; // r8
  char v24; // cl
  int v25; // eax
  unsigned __int32 v26; // eax
  int n0xF00; // [rsp+30h] [rbp-78h] BYREF
  __int64 v29; // [rsp+34h] [rbp-74h]
  int v30; // [rsp+3Ch] [rbp-6Ch]
  __int64 v31; // [rsp+40h] [rbp-68h]
  unsigned __int64 v32; // [rsp+48h] [rbp-60h]
  __int64 v33; // [rsp+50h] [rbp-58h]
  __int64 v34; // [rsp+58h] [rbp-50h]

  n0xF00 = 0xF00;
  v29 = 0;
  v30 = 0;
  v32 = 0;
  v33 = 0;
  v34 = 0;
  v31 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  v8 = (volatile signed __int32 *)(pEntitySystem + 0x680);
  if ( n0xFF_1 == (char)0xFF )
  {
    v9 = *(_DWORD *)(a1() + 0x18);
    if ( *(_DWORD *)(pEntitySystem + 0x684) == v9 )
    {
      ++*(_DWORD *)(pEntitySystem + 0x688);
    }
    else
    {
      v10 = _InterlockedCompareExchange(v8, 1, 0);
      if ( v10 )
      {
        sub_1403BF290(
          (volatile signed __int32 *)(pEntitySystem + 0x680),
          v10,
          (__int64)"CEntitySystem::RemoveTimerEvent",
          1);
      }
      *(_DWORD *)(pEntitySystem + 0x684) = v9;
    }
    v11 = *(_QWORD *)(pEntitySystem + 0x690);
    for ( i = *(_QWORD **)(pEntitySystem + 0x698); (_QWORD *)v11 != i; i = *(_QWORD **)(pEntitySystem + 0x698) )
    {
      if ( *(_QWORD *)v11 == *a2 && *(_WORD *)(v11 + 0x18) == *(_WORD *)(a3 + 0x10) )
      {
        v13 = (_QWORD *)(v11 + 0x20);
        if ( (_QWORD *)(v11 + 0x20) != i )
        {
          v14 = v11 + 0x10;
          do
          {
            *(_QWORD *)(v14 - 0x10) = *v13;
            v14 += 0x20;
            *v13 = 0;
            v13 += 4;
            v15 = *(_BYTE *)(v14 - 0x15);
            *(_QWORD *)(v14 - 0x28) = *(_QWORD *)(v14 - 8);
            *(_DWORD *)(v14 - 0x20) = *(_DWORD *)v14;
            *(_DWORD *)(v14 - 0x1C) = *(_DWORD *)(v14 + 4);
            *(_WORD *)(v14 - 0x18) = *(_WORD *)(v14 + 8);
            *(_BYTE *)(v14 - 0x16) = *(_BYTE *)(v14 + 0xA);
            *(_BYTE *)(v14 - 0x15) ^= (*(_BYTE *)(v14 + 0xB) ^ v15) & 1;
          }
          while ( v13 != i );
        }
        *(_QWORD *)(pEntitySystem + 0x698) -= 0x20LL;
        *(_BYTE *)(pEntitySystem + 0x6C8) = 1;
        --*(_BYTE *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x122);
      }
      else
      {
        v11 += 0x20;
      }
    }
  }
  else
  {
    v16 = *(_DWORD *)(a1() + 0x18);
    if ( *(_DWORD *)(pEntitySystem + 0x684) == v16 )
    {
      ++*(_DWORD *)(pEntitySystem + 0x688);
    }
    else
    {
      v17 = _InterlockedCompareExchange(v8, 1, 0);
      if ( v17 )
      {
        sub_1403BF290(
          (volatile signed __int32 *)(pEntitySystem + 0x680),
          v17,
          (__int64)"CEntitySystem::RemoveTimerEvent",
          1);
      }
      *(_DWORD *)(pEntitySystem + 0x684) = v16;
    }
    n0xFF = *(_BYTE *)(pEntitySystem + 0x6C2);
    if ( n0xFF == (char)0xFF
      || *(_QWORD *)(pEntitySystem + 0x6A8) != *a2
      || *(_WORD *)(pEntitySystem + 0x6C0) != *(_WORD *)(a3 + 0x10)
      || n0xFF != n0xFF_1 )
    {
      v19 = *(_QWORD *)(pEntitySystem + 0x690);
      v20 = *(_QWORD *)(pEntitySystem + 0x698);
      if ( v19 != v20 )
      {
        while ( *(_QWORD *)v19 != *a2
             || *(_WORD *)(v19 + 0x18) != *(_WORD *)(a3 + 0x10)
             || *(_BYTE *)(v19 + 0x1A) != n0xFF_1 )
        {
          v19 += 0x20;
          if ( v19 == v20 )
          {
            goto LABEL_36;
          }
        }
        v21 = (_QWORD *)(v19 + 0x20);
        v22 = *(_QWORD **)(pEntitySystem + 0x698);
        if ( v19 + 0x20 != v20 )
        {
          v23 = v19 + 0x10;
          do
          {
            *(_QWORD *)(v23 - 0x10) = *v21;
            v23 += 0x20;
            *v21 = 0;
            v21 += 4;
            v24 = *(_BYTE *)(v23 - 0x15);
            *(_QWORD *)(v23 - 0x28) = *(_QWORD *)(v23 - 8);
            *(_DWORD *)(v23 - 0x20) = *(_DWORD *)v23;
            *(_DWORD *)(v23 - 0x1C) = *(_DWORD *)(v23 + 4);
            *(_WORD *)(v23 - 0x18) = *(_WORD *)(v23 + 8);
            *(_BYTE *)(v23 - 0x16) = *(_BYTE *)(v23 + 0xA);
            *(_BYTE *)(v23 - 0x15) ^= (*(_BYTE *)(v23 + 0xB) ^ v24) & 1;
          }
          while ( v21 != v22 );
        }
        *(_QWORD *)(pEntitySystem + 0x698) -= 0x20LL;
        *(_BYTE *)(pEntitySystem + 0x6C8) = 1;
        --*(_BYTE *)((*a2 & 0xFFFFFFFFFFFFLL) + 0x122);
      }
    }
  }
LABEL_36:
  v25 = *(_DWORD *)(pEntitySystem + 0x688);
  if ( v25 )
  {
    *(_DWORD *)(pEntitySystem + 0x688) = v25 - 1;
  }
  else
  {
    *(_DWORD *)(pEntitySystem + 0x684) = 0xFFFFFFFF;
    v26 = _InterlockedCompareExchange(v8, 0, 1);
    if ( v26 != 1 )
    {
      sub_1403D6A80((volatile signed __int32 *)(pEntitySystem + 0x680), v26);
    }
  }
  v32 = __rdtsc();
  return psub_7FF6AAB93930(&n0xF00);
}

// --- End Function: sub_1468FD9F0 (0x1468FD9F0) ---

// --- Function: sub_1468FE240 (0x1468FE240) ---
bool __fastcall sub_1468FE240(__int64 a1)
{
  return (*(_QWORD *)(a1 + 0x268) & 0xC00000000LL) != 0;
}

// --- End Function: sub_1468FE240 (0x1468FE240) ---

// --- Function: CEntity::RequestPostAnimationUpdate (0x1468FE260) ---
void __fastcall CEntity::RequestPostAnimationUpdate(unsigned __int64 a1)
{
  char v2; // al
  signed __int64 v3; // rbx
  __int64 v4; // rdi
  unsigned __int64 *v5; // rbp
  unsigned __int64 *i; // rdi
  _QWORD *a1_1; // rbx
  unsigned __int64 *v8; // rcx

  if ( !*(_BYTE *)(a1 + 0xB8) )
  {
    v2 = *(_BYTE *)(a1 + 0xB8);
    *(_BYTE *)(a1 + 0xB8) = 1;
    if ( !v2 )
    {
      if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
      {
        ++dword_1497929DC;
      }
      else
      {
        v3 = _InterlockedIncrement64(&qword_1497929D0);
        if ( (v3 & 0x200000) != 0 )
        {
          sub_1403C6C70(
            &qword_1497929D0,
            v3,
            (__int64)"CEntity::RequestPostAnimationUpdate",
            (__int64)"s_aggregateHierarchyLock",
            1);
        }
      }
      CEntity::RequestPostAnimationUpdate_Recursive_RequestUpdate(a1);
      v4 = *(_QWORD *)(a1 + 0x128);
      if ( v4 )
      {
        v5 = *(unsigned __int64 **)(v4 + 0x1C0);
        for ( i = *(unsigned __int64 **)(v4 + 0x1B8); i != v5; ++i )
        {
          if ( is_valid_handle_typeB(i) )
          {
            a1_1 = (_QWORD *)(*i & 0xFFFFFFFFFFFFLL);
            if ( a1_1 )
            {
              if ( (*(_BYTE *)((*i & 0xFFFFFFFFFFFFLL) + 0x4F0) & 3) != 0
                && (is_valid_handle_typeB(a1_1 + 0x9B)
                 || a1_1[0x9C] != a1_1[3]) )
              {
                if ( (*(_BYTE *)(a1 + 8) & 0x20) != 0 )
                {
                  v8 = (unsigned __int64 *)a1_1[0x25];
                  if ( !v8 || !is_valid_handle_typeB(v8) || *(_DWORD *)(a1_1[0x25] + 0x10LL) != 9 )
                  {
                    *(_DWORD *)((*i & 0xFFFFFFFFFFFFLL) + 8) |= 0x20u;
                  }
                }
                if ( !*(_QWORD *)(a1 + 0x2B8)
                  || (*(_BYTE *)(*(_QWORD *)((*i & 0xFFFFFFFFFFFFLL) + 0x128) + 0x140LL) & 4) != 0 )
                {
                  CEntity::RequestPostAnimationUpdate((unsigned __int64)a1_1);
                }
              }
            }
          }
        }
      }
      sub_1402D0950((__int64)&qword_1497929D0);
    }
  }
}

// --- End Function: CEntity::RequestPostAnimationUpdate (0x1468FE260) ---

// --- Function: sub_1468FE940 (0x1468FE940) ---
__int16 __fastcall sub_1468FE940(__int64 a1, __int16 a2)
{
  signed __int16 v2; // ax
  signed __int16 v3; // tt

  _m_prefetchw((const void *)(a1 + 0x120));
  v2 = *(_WORD *)(a1 + 0x120);
  do
  {
    v3 = v2;
    v2 = _InterlockedCompareExchange16((volatile signed __int16 *)(a1 + 0x120), ~(a2 | 0x8000) & v2, v2);
  }
  while ( v3 != v2 );
  return v2 & 0x7FFF;
}

// --- End Function: sub_1468FE940 (0x1468FE940) ---

// --- Function: sub_1468FF140 (0x1468FF140) ---
__int64 __fastcall sub_1468FF140(unsigned __int64 a1, __int64 a2)
{
  __int64 (__fastcall *v4)(unsigned __int64, _BYTE *, __int64 *); // rbx
  __int16 n0xFFFF; // ax
  __int64 v6; // rbx
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  unsigned __int64 v9; // rax
  __int64 v10; // rax
  __int64 v11; // rbx
  __int64 v12; // rax
  int v13; // edx
  __int64 v14; // r15
  unsigned __int64 v15; // rbx
  unsigned __int64 v16; // r14
  __int64 v17; // rcx
  char v18; // al
  __int64 v19; // rcx
  char v20; // dl
  unsigned __int64 v21; // rcx
  unsigned __int16 v22; // ax
  unsigned __int8 v23; // bl
  unsigned __int64 v25; // [rsp+30h] [rbp-99h] BYREF
  _BYTE v26[2]; // [rsp+40h] [rbp-89h] BYREF
  __int16 v27; // [rsp+42h] [rbp-87h]
  __int64 v28; // [rsp+44h] [rbp-85h]
  int v29; // [rsp+4Ch] [rbp-7Dh]
  __int64 v30; // [rsp+50h] [rbp-79h]
  unsigned __int64 v31; // [rsp+58h] [rbp-71h]
  __int64 v32; // [rsp+60h] [rbp-69h]
  __int64 v33; // [rsp+68h] [rbp-61h]
  int n0xF00; // [rsp+90h] [rbp-39h] BYREF
  __int64 v35; // [rsp+94h] [rbp-35h]
  int v36; // [rsp+9Ch] [rbp-2Dh]
  __int64 v37; // [rsp+A0h] [rbp-29h]
  unsigned __int64 v38; // [rsp+A8h] [rbp-21h]
  __int64 v39; // [rsp+B0h] [rbp-19h]
  __int64 v40; // [rsp+B8h] [rbp-11h]
  _BYTE v41[16]; // [rsp+E0h] [rbp+17h] BYREF
  __int64 v42; // [rsp+130h] [rbp+67h] BYREF
  char v43; // [rsp+138h] [rbp+6Fh] BYREF

  n0xF00 = 0xF00;
  v35 = 0;
  v36 = 0;
  v38 = 0;
  v39 = 0;
  v40 = 0;
  v37 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  switch ( *(_DWORD *)a2 )
  {
    case 3:
      v13 = *(_DWORD *)(a2 + 0x18);
      v42 = *(_QWORD *)(a2 + 0x10);
      CEntity::OnOwnerRemoved(a1, v13, &v42);
      break;
    case 5:
      v9 = sub_1468DE420(a1);
      if ( v9 )
      {
        v10 = sub_146842AF0(v9, 0);
        v11 = v10;
        if ( v10 )
        {
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x1A0LL))(v10);
          v12 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x70LL))(v11);
          if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v12 + 0xB0LL))(v12) )
          {
            sub_1468E6EC0(a1, 0x400000, 0);
          }
        }
      }
      break;
    case 0xC:
    case 0xD:
    case 0x13:
      if ( *(_BYTE *)(a1 + 0xD) >= 6u )
      {
LABEL_43:
        v23 = 0;
        goto LABEL_44;
      }
      v4 = *(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
      n0xFFFF = n0xFFFF_47;
      if ( n0xFFFF_47 == (__int16)0xFFFF )
      {
        n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                     + 0x10LL))(
                              global_dispatcher_ptr,
                              &v43,
                              "IEntityAudioProxy");
        n0xFFFF_47 = n0xFFFF;
      }
      LOWORD(v42) = n0xFFFF;
      v6 = *(_QWORD *)v4(a1, v41, &v42);
      v42 = v6;
      if ( v6 )
      {
        handle_metadata_ptr = get_handle_metadata_ptr(v6 & 0xFFFFFFFFFFFFLL);
        n4 = *(_WORD *)(handle_metadata_ptr + 4);
        if ( n4 != 4
          && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v6) & 0xFFF)
          && (n4 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v42)) )
        {
          (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)(v6 & 0xFFFFFFFFFFFFLL) + 0x28LL))(
            v6 & 0xFFFFFFFFFFFFLL,
            a2);
        }
      }
      break;
  }
  if ( *(_BYTE *)(a1 + 0xD) >= 6u )
  {
    goto LABEL_43;
  }
  v14 = 1LL << *(_DWORD *)a2;
  if ( (v14 & *(_QWORD *)(a1 + 0x268)) != 0 )
  {
    v15 = 0;
    v16 = (__int64)(*(_QWORD *)(a1 + 0x278) - *(_QWORD *)(a1 + 0x270)) >> 3;
    if ( v16 )
    {
      do
      {
        if ( (__int64)(*(_QWORD *)(a1 + 0x278) - *(_QWORD *)(a1 + 0x270)) >> 3 <= v15 )
        {
          __debugbreak();
        }
        if ( (v14 & *(_QWORD *)(*(_QWORD *)(a1 + 0x270) + 8 * v15)) != 0 )
        {
          if ( (__int64)(*(_QWORD *)(a1 + 0x258) - *(_QWORD *)(a1 + 0x250)) >> 3 <= v15 )
          {
            __debugbreak();
          }
          v17 = *(_QWORD *)(*(_QWORD *)(a1 + 0x250) + 8 * v15) & 0xFFFFFFFFFFFFLL;
          v18 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x20LL))(v17);
          v27 = 0;
          v26[1] = v18;
          v28 = 0;
          v29 = 0;
          v31 = 0;
          v32 = 0;
          v33 = 0;
          v30 = 1;
          v26[0] = 0;
          psub_7FF6AAB938D0(
            v26,
            0,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            0);
          if ( (__int64)(*(_QWORD *)(a1 + 0x258) - *(_QWORD *)(a1 + 0x250)) >> 3 <= v15 )
          {
            __debugbreak();
          }
          v19 = *(_QWORD *)(*(_QWORD *)(a1 + 0x250) + 8 * v15) & 0xFFFFFFFFFFFFLL;
          (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v19 + 0x28LL))(v19, a2);
          v31 = __rdtsc();
          psub_7FF6AAB93930(v26);
        }
        ++v15;
      }
      while ( v15 < v16 );
    }
  }
  if ( *(_DWORD *)a2 || (*(_DWORD *)(a2 + 0x18) & 0x80000) == 0 )
  {
    if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
    {
      v20 = 0;
      v21 = a1 - 6;
    }
    else
    {
      v20 = 1;
      v21 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v22 = *(_WORD *)(v21 + 2) | 0x2000;
    if ( !v20 )
    {
      v22 = *(_WORD *)(v21 + 2);
    }
    v25 = a1 | ((unsigned __int64)v22 << 0x30);
    sub_1468EEFE0(pEntitySystem, &v25, (unsigned int *)a2);
  }
  v23 = 1;
LABEL_44:
  v38 = __rdtsc();
  psub_7FF6AAB93930(&n0xF00);
  return v23;
}

// --- End Function: sub_1468FF140 (0x1468FF140) ---

// --- Function: sub_1468FF7D0 (0x1468FF7D0) ---
unsigned int __fastcall sub_1468FF7D0(__int64 a1, unsigned __int8 a2)
{
  unsigned int result; // eax

  result = *(_DWORD *)(a1 + 8) & 0xFFFFDFFF;
  *(_DWORD *)(a1 + 8) = result | (a2 << 0xD);
  return result;
}

// --- End Function: sub_1468FF7D0 (0x1468FF7D0) ---

// --- Function: sub_1468FF7F0 (0x1468FF7F0) ---
void __fastcall sub_1468FF7F0(unsigned __int64 a1, _QWORD *a2)
{
  __int64 v3; // rdx
  __int64 v4; // rax
  _QWORD *v5; // rsi
  _QWORD *i; // rbx
  unsigned __int64 a1_1; // rcx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF

  v3 = *(_QWORD *)(a1 + 0x128);
  if ( v3 )
  {
    *(_QWORD *)(v3 + 8) = *a2;
    v4 = *(_QWORD *)(a1 + 0x128);
    v5 = *(_QWORD **)(v4 + 0x1C0);
    for ( i = *(_QWORD **)(v4 + 0x1B8); i != v5; ++i )
    {
      a1_1 = *i & 0xFFFFFFFFFFFFLL;
      v8 = *a2;
      sub_1468FF7F0(a1_1, &v8);
    }
  }
}

// --- End Function: sub_1468FF7F0 (0x1468FF7F0) ---

// --- Function: sub_1468FF880 (0x1468FF880) ---
__int64 __fastcall sub_1468FF880(__int64 a1, __int64 *a2, int a3)
{
  __int64 v6; // rax
  __int64 v7; // rbx
  __int64 result; // rax
  unsigned int v9; // esi
  __int64 v10; // rbx
  __int64 v11; // r14
  __int64 v12; // rax
  unsigned __int16 n0xFFFF_103; // ax
  __int64 v14; // [rsp+30h] [rbp-D0h] BYREF
  int v15; // [rsp+40h] [rbp-C0h] BYREF
  __int16 n0x100; // [rsp+44h] [rbp-BCh]
  int v17; // [rsp+48h] [rbp-B8h]
  char v18; // [rsp+4Ch] [rbp-B4h]
  float v19; // [rsp+50h] [rbp-B0h]
  float v20; // [rsp+54h] [rbp-ACh]
  char v21; // [rsp+58h] [rbp-A8h]
  unsigned __int64 v22; // [rsp+60h] [rbp-A0h]
  __int64 v23; // [rsp+68h] [rbp-98h]
  __int64 v24; // [rsp+70h] [rbp-90h]
  __int64 n0x81; // [rsp+78h] [rbp-88h]
  __int128 v26; // [rsp+80h] [rbp-80h]
  __int64 v27; // [rsp+90h] [rbp-70h]
  char v28; // [rsp+98h] [rbp-68h]
  __int128 v29; // [rsp+A0h] [rbp-60h]
  __int64 v30; // [rsp+B0h] [rbp-50h]
  char v31; // [rsp+B8h] [rbp-48h]
  float v32; // [rsp+BCh] [rbp-44h]
  __int64 v33; // [rsp+C0h] [rbp-40h]
  int v34; // [rsp+C8h] [rbp-38h]
  float v35; // [rsp+CCh] [rbp-34h]
  __int128 v36; // [rsp+D0h] [rbp-30h]
  __int64 v37; // [rsp+E0h] [rbp-20h]
  unsigned int v38; // [rsp+E8h] [rbp-18h]
  __int128 v39; // [rsp+F0h] [rbp-10h]
  __int128 v40; // [rsp+100h] [rbp+0h]
  int v41; // [rsp+110h] [rbp+10h]
  __int64 v42; // [rsp+158h] [rbp+58h] BYREF

  sub_1467F4290(a1, &v42);
  v6 = sub_1468DB500(a1);
  v7 = v6;
  if ( v6 )
  {
    sub_146880D90(v6, a3, 1, 1u, 1u, 1u);
  }
  result = sub_14688B150(v42 & 0xFFFFFFFFFFFFLL, a3, 0, a2);
  v9 = result;
  if ( v7 )
  {
    v10 = 0;
    n0x100 = 0x100;
    v15 = 0;
    v18 = 0;
    v32 = 0.0;
    v35 = 0.0;
    v21 = 0;
    v23 = 0;
    v24 = 0x1000007FFLL;
    v26 = 0;
    v27 = 0;
    v28 = 0;
    v29 = 0;
    v30 = 0;
    v31 = 0;
    v33 = 0;
    v34 = 0;
    v36 = 0;
    v37 = 0;
    v39 = 0;
    v40 = 0;
    v41 = 0;
    v22 = 0xFFFFFFFFFFFFFFFFuLL;
    n0x81 = 0x81;
    v38 = 0xFFFFFFFF;
    v20 = NAN;
    v19 = NAN;
    v17 = a3;
    v11 = sub_1468DB500(a1);
    if ( v11 )
    {
      if ( !v17 )
      {
        *(float *)&v42 = v20;
        *(float *)&v42 = v19;
        v12 = (*(__int64 (__fastcall **)(Parameter *, const char *))(*(_QWORD *)qword_14981D2B0 + 0xC0LL))(
                qword_14981D2B0,
                "p_physical_properties");
        if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x10LL))(v12) )
        {
          n0xFFFF_103 = ::n0xFFFF_103;
          if ( ::n0xFFFF_103 == (__int16)0xFFFF )
          {
            n0xFFFF_103 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                                + 0x10LL))(
                                      global_dispatcher_ptr,
                                      &v42,
                                      "EntityPhysicsController");
            ::n0xFFFF_103 = n0xFFFF_103;
          }
          if ( *(_BYTE *)(a1 + 0xD) != 7 )
          {
            sub_1468D6F90((unsigned __int64 *)a1, (unsigned __int64 *)&v14, n0xFFFF_103);
            v10 = v14;
          }
          v42 = v10;
          if ( is_valid_handle_typeA(&v42) )
          {
            v20 = (*(float (__fastcall **)(__int64))(*(_QWORD *)(v10 & 0xFFFFFFFFFFFFLL) + 0x580LL))(v10 & 0xFFFFFFFFFFFFLL);
          }
        }
      }
      sub_1468760F0(v11, (__int64)&v15);
    }
    return v9;
  }
  return result;
}

// --- End Function: sub_1468FF880 (0x1468FF880) ---

// --- Function: sub_146900330 (0x146900330) ---
__int64 __fastcall sub_146900330(_QWORD **a1, int a2, __int64 a3)
{
  __int64 result; // rax
  int v5; // edi
  __int64 n9; // r8
  unsigned __int64 v8; // rax

  result = *((unsigned int *)a1 + 0x44);
  v5 = a2;
  if ( a2 != (_DWORD)result )
  {
    if ( !(_BYTE)isEditor )
    {
      if ( ((a2 ^ (unsigned int)result) & 0x1FFFE) != 0 )
      {
        LogFatalError(
          "Something is trying to set/clear entity flags which are meant to be constant at runtime on entity %s. Use spaw"
          "n params to set this flag",
          (const char *)a1[0x52]);
      }
      v5 &= ~1u;
    }
    if ( *((_BYTE *)a1 + 0xD) >= 4u
      && (v5 & 0x1000000) != ((_DWORD)a1[0x22] & 0x1000000) )
    {
      n9 = 9;
      if ( (v5 & 0x1000000) == 0 )
      {
        n9 = 1;
      }
      (*(void (__fastcall **)(FH4 *, _QWORD **, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x3E8LL))(
        pCZoneSystem,
        a1 + 0x54,
        n9,
        a3);
    }
    *((_DWORD *)a1 + 0x44) = v5;
    sub_146900A50((unsigned __int64)a1, 1);
    v8 = sub_1468DE420((__int64)a1);
    if ( v8 )
    {
      sub_146899250(v8);
    }
    result = sub_1468D6AC0(a1);
    if ( result )
    {
      return sub_1467F1D80(result);
    }
  }
  return result;
}

// --- End Function: sub_146900330 (0x146900330) ---

// --- Function: sub_146900420 (0x146900420) ---
void __fastcall sub_146900420(__int64 a1, char a2, __int64 a3)
{
  sub_1467C17C0(a1, a3, a2);
}

// --- End Function: sub_146900420 (0x146900420) ---

// --- Function: sub_146900440 (0x146900440) ---
__int64 __fastcall sub_146900440(__int64 a1, char a2)
{
  __int64 result; // rax
  unsigned __int64 v3; // rbx
  __int64 v4; // r9
  __int64 *v7; // rdi
  __int64 v8; // rdx

  result = *(_QWORD *)(a1 + 0x240);
  v3 = 0;
  v4 = *(_QWORD *)(a1 + 0x238);
  if ( (result - v4) >> 3 )
  {
    do
    {
      if ( (result - v4) >> 3 <= v3 )
      {
        __debugbreak();
      }
      v7 = (__int64 *)(*(_QWORD *)(a1 + 0x238) + 8 * v3);
      if ( is_valid_handle_typeA(v7) )
      {
        v8 = *v7 & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        v8 = 0;
      }
      sub_1467C1950(a1, v8, a2);
      result = *(_QWORD *)(a1 + 0x240);
      ++v3;
      v4 = *(_QWORD *)(a1 + 0x238);
    }
    while ( v3 < (result - v4) >> 3 );
  }
  return result;
}

// --- End Function: sub_146900440 (0x146900440) ---

// --- Function: sub_146900510 (0x146900510) ---
void __fastcall sub_146900510(__int64 a1, char a2, __int64 a3)
{
  sub_1467C1950(a1, a3, a2);
}

// --- End Function: sub_146900510 (0x146900510) ---

// --- Function: sub_1469007E0 (0x1469007E0) ---
__int64 __fastcall sub_1469007E0(unsigned __int64 a1, __int64 *a2)
{
  __int64 v2; // rdi
  __int64 v5; // rcx
  unsigned __int64 v6; // rax
  __int64 v7; // rax
  _DWORD v9[6]; // [rsp+20h] [rbp-48h] BYREF
  __int64 v10; // [rsp+38h] [rbp-30h]

  v2 = *a2;
  if ( *(_QWORD *)(a1 + 0x130) != *a2 )
  {
    if ( v2 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v2 + 8LL))(v2);
    }
    v5 = *(_QWORD *)(a1 + 0x130);
    if ( v5 )
    {
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v5 + 0x10LL))(v5);
    }
    *(_QWORD *)(a1 + 0x130) = v2;
  }
  v6 = sub_1468DE420(a1);
  if ( v6 )
  {
    sub_146889280(v6 + 0x78, a2);
    v7 = sub_1468DB500(a1);
    if ( v7 )
    {
      sub_14688A2F0(v7, 0xFFFFFFFF, a2);
    }
  }
  sub_140368980((__int64)v9);
  v10 = *a2;
  v9[0] = 0x18;
  return sub_1468FF140(a1, (__int64)v9);
}

// --- End Function: sub_1469007E0 (0x1469007E0) ---

// --- Function: sub_1469008C0 (0x1469008C0) ---
void __fastcall sub_1469008C0(__int64 a1, _BYTE *rdx0)
{
  __int64 v4; // rax
  __int64 v5; // rbx
  unsigned int v6; // ebx
  unsigned __int64 v7; // [rsp+30h] [rbp-138h] BYREF
  int n0x32; // [rsp+38h] [rbp-130h] BYREF
  __int64 a2; // [rsp+40h] [rbp-128h] BYREF
  int a3; // [rsp+48h] [rbp-120h] BYREF
  char Buffer[256]; // [rsp+50h] [rbp-118h] BYREF

  if ( rdx0
    && *rdx0
    && (*(_BYTE *)(a1 + 0xD) <= 2u || (*(_BYTE *)(a1 + 0x110) & 0x10) != 0 || (_BYTE)isEditor && !BYTE3(isEditor))
    && (unsigned int)sub_1403DFC10((unsigned __int8 **)(a1 + 0x290), (__int64)rdx0) )
  {
    assignCStringToStringStructure((void **)(a1 + 0x290), rdx0);
    v4 = sub_1468DB500(a1);
    v5 = v4;
    if ( v4 )
    {
      sub_146849DD0(v4, &v7);
      if ( v7 )
      {
        if ( *(_QWORD *)((v7 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v7) )
        {
          memset(Buffer, 0, sizeof(Buffer));
          n0x32 = 0x32;
          a2 = 0;
          a3 = 0;
          sub_141E47560(Buffer, &a2, &a3, (const char *)&fmt, *(_QWORD *)(a1 + 0x290));
          sub_146889840(v5, (__int64)&n0x32, 0);
        }
      }
    }
    v6 = *(_DWORD *)(a1 + 0x2D0);
    *(_DWORD *)(a1 + 0x2D0) = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_14981D360 + 0xF8LL))(
                                qword_14981D360,
                                *(_QWORD *)(a1 + 0x290));
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_14981D360 + 0x100LL))(qword_14981D360, v6);
  }
}

// --- End Function: sub_1469008C0 (0x1469008C0) ---

// --- Function: sub_146900A50 (0x146900A50) ---
char __fastcall sub_146900A50(unsigned __int64 a1, __int16 a2)
{
  unsigned int v2; // eax
  unsigned __int16 v3; // r9
  bool v4; // r10
  __int16 v5; // tt
  __int64 v7; // [rsp+30h] [rbp+8h] BYREF

  v2 = *(_DWORD *)(a1 + 8);
  if ( (v2 & 8) == 0 )
  {
    v3 = a2 & 0x7FFF;
    if ( (a2 & 0x7FFF) != 0 )
    {
      v4 = (v2 & 0x400) != 0 && (((unsigned __int16)(0xFEFF * ((v2 >> 4) & 1)) | 0x100) & v3) != 0;
      _m_prefetchw((const void *)(a1 + 0x120));
      LOWORD(v2) = *(_WORD *)(a1 + 0x120);
      do
      {
        v5 = v2;
        LOWORD(v2) = _InterlockedCompareExchange16(
                       (volatile signed __int16 *)(a1 + 0x120),
                       v3 | (v4 << 0xF) | v2,
                       v2);
      }
      while ( v5 != (_WORD)v2 );
      if ( (v2 & 0x8000u) == 0 && v4 )
      {
        sub_14033D280(a1, &v7);
        LOBYTE(v2) = AssetMeta::HasActorSubresource(&v7);
        if ( (_BYTE)v2 )
        {
          LOBYTE(v2) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v7 & 0xFFFFFFFFFFFFLL) + 0x590LL))(v7 & 0xFFFFFFFFFFFFLL);
        }
      }
    }
  }
  return v2;
}

// --- End Function: sub_146900A50 (0x146900A50) ---

// --- Function: sub_146900B80 (0x146900B80) ---
double __fastcall sub_146900B80(unsigned __int64 a1, __int64 a2, unsigned __int8 n2)
{
  __int64 v5; // rcx
  double result; // xmm0_8

  if ( *(_QWORD *)(a1 + 0x128) )
  {
    *(double *)(a2 + 0x38) = sub_1468DE710(a1, n2) * *(double *)(a2 + 0x38);
    v5 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
    *(_QWORD *)v5 = *(_QWORD *)a2;
    *(_QWORD *)(v5 + 8) = *(_QWORD *)(a2 + 8);
    *(_QWORD *)(v5 + 0x10) = *(_QWORD *)(a2 + 0x10);
    *(_QWORD *)(v5 + 0x18) = *(_QWORD *)(a2 + 0x18);
    *(_OWORD *)(v5 + 0x20) = *(_OWORD *)(a2 + 0x20);
    *(double *)(v5 + 0x30) = *(double *)(a2 + 0x30);
    *(_QWORD *)(v5 + 0x38) = *(_QWORD *)(a2 + 0x38);
    return sub_1468E6EC0(a1, 6, 0);
  }
  return result;
}

// --- End Function: sub_146900B80 (0x146900B80) ---

// --- Function: sub_146900C10 (0x146900C10) ---
void __fastcall sub_146900C10(unsigned __int64 a1, __int64 a2)
{
  __int64 v2; // rsi

  v2 = *(_QWORD *)(a1 + 0x2D8);
  if ( !v2 )
  {
    v2 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x68LL))(*(_QWORD *)(a1 + 0x20));
  }
  if ( v2 != a2 )
  {
    *(_QWORD *)(a1 + 0x2D8) = a2;
    if ( !a2 )
    {
      a2 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x68LL))(*(_QWORD *)(a1 + 0x20));
    }
    sub_1467CD750(qword_15126E2D0, a1, v2, a2);
  }
}

// --- End Function: sub_146900C10 (0x146900C10) ---

// --- Function: sub_146900C90 (0x146900C90) ---
__int64 __fastcall sub_146900C90(unsigned __int64 a1, __int64 a2, unsigned __int64 a3)
{
  __int64 (__fastcall *v6)(unsigned __int64, unsigned __int64 *, unsigned __int64 *); // rdi
  __int16 n0xFFFF; // ax
  unsigned __int64 v8; // rdi
  __int64 handle_metadata_ptr; // rax
  __int16 n4; // dx
  __int64 v12; // rcx
  unsigned __int16 n0xFFFF_1; // ax
  __int16 v14; // rbx^6
  unsigned __int64 v15; // rdi
  __int64 handle_metadata_ptr_1; // rax
  __int16 n4_1; // cx
  __int64 v18; // rcx
  unsigned __int64 v19; // rax
  char v20[8]; // [rsp+20h] [rbp-38h] BYREF
  unsigned __int64 v21[6]; // [rsp+28h] [rbp-30h] BYREF
  unsigned __int64 v22; // [rsp+60h] [rbp+8h] BYREF

  v6 = *(__int64 (__fastcall **)(unsigned __int64, unsigned __int64 *, unsigned __int64 *))(*(_QWORD *)a1
                                                                                          + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          v20,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v22) = n0xFFFF;
  v8 = *(_QWORD *)v6(a1, v21, &v22);
  v22 = v8;
  if ( v8 )
  {
    handle_metadata_ptr = get_handle_metadata_ptr(v8 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n4 != 4
      && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v8) & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)a1() || check_indirect_handle_access_by_state(&v22)) )
    {
      return (*(__int64 (__fastcall **)(unsigned __int64, __int64, unsigned __int64))(*(_QWORD *)(v8 & 0xFFFFFFFFFFFFLL)
                                                                                    + 0x700LL))(
               v8 & 0xFFFFFFFFFFFFLL,
               a2,
               a3);
    }
  }
  if ( a3 )
  {
    v12 = a3 & 0xFFFFFFFFFFFFLL;
    if ( *(_QWORD *)((a3 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(a3) )
    {
      return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v12 + 0x18LL))(v12, a2, 0);
    }
  }
  n0xFFFF_1 = n0xFFFF_98;
  if ( n0xFFFF_98 == (__int16)0xFFFF )
  {
    n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                               + 0x10LL))(
                            global_dispatcher_ptr,
                            &v22,
                            "RopeProxy");
    n0xFFFF_98 = n0xFFFF_1;
  }
  if ( *(_BYTE *)(a1 + 0xD) != 7 )
  {
    sub_1468D6F90((unsigned __int64 *)a1, v21, n0xFFFF_1);
    v14 = HIWORD(v21[0]);
    v22 = v21[0];
    if ( v21[0] )
    {
      v15 = v21[0] & 0xFFFFFFFFFFFFLL;
      handle_metadata_ptr_1 = get_handle_metadata_ptr(v21[0] & 0xFFFFFFFFFFFFLL);
      n4_1 = *(_WORD *)(handle_metadata_ptr_1 + 4);
      if ( n4_1 != 4
        && *(_WORD *)(handle_metadata_ptr_1 + 2) == (v14 & 0xFFF)
        && (n4_1 == 2 && !*(_QWORD *)a1() || check_handle_access_by_state(&v22)) )
      {
        v18 = *(_QWORD *)(v15 + 0x70);
        if ( v18 )
        {
          v19 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, unsigned __int64 *))(*(_QWORD *)v18 + 0xE8LL))(v18, &v22);
          if ( v19 )
          {
            v12 = v19 & 0xFFFFFFFFFFFFLL;
            if ( *(_QWORD *)((v19 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v19) )
            {
              return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v12 + 0x18LL))(v12, a2, 0);
            }
          }
        }
      }
    }
  }
  return 0;
}

// --- End Function: sub_146900C90 (0x146900C90) ---

// --- Function: sub_146900E90 (0x146900E90) ---
char __fastcall sub_146900E90(__int64 a1, int a2, int a3)
{
  unsigned __int64 v5; // rax

  v5 = sub_1468DE420(a1);
  if ( v5 )
  {
    LOBYTE(v5) = sub_146889D00(v5, a2, a3);
  }
  return v5;
}

// --- End Function: sub_146900E90 (0x146900E90) ---

// --- Function: sub_146900ED0 (0x146900ED0) ---
__int64 __fastcall sub_146900ED0(__int64 a1, unsigned int a2, _QWORD *a3)
{
  __int64 v6; // [rsp+48h] [rbp+20h] BYREF

  sub_1467F4290(a1, &v6);
  return sub_14688A0C0(v6 & 0xFFFFFFFFFFFFLL, a2, a3);
}

// --- End Function: sub_146900ED0 (0x146900ED0) ---

// --- Function: sub_146900F10 (0x146900F10) ---
void __fastcall sub_146900F10(__int64 a1, _QWORD *a2)
{
  __int64 v4; // rax
  __int64 v5; // rax
  __int64 v6; // r14
  __int64 v7; // rax
  unsigned __int64 v8; // rdi
  __int64 v9; // rdx
  void (__fastcall *v10)(unsigned __int64, __int64 *, _QWORD); // rbx
  __int64 v11; // rax
  __int64 v12; // [rsp+20h] [rbp-38h] BYREF
  __int64 string_struct_ptr_; // [rsp+28h] [rbp-30h] BYREF
  __int64 string_struct_ptr__1; // [rsp+30h] [rbp-28h] BYREF
  unsigned __int64 v15; // [rsp+68h] [rbp+10h] BYREF

  if ( *a2 )
  {
    sub_1468DB6A0(a1, &v15);
    if ( v15 )
    {
      if ( *(_QWORD *)((v15 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v15) )
      {
        v4 = (*(__int64 (**)(void))(*(_QWORD *)CSystem + 0x3B8LL))();
        v5 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x28LL))(v4);
        v6 = v5;
        if ( v5 )
        {
          v7 = (*(__int64 (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v5 + 0x20LL))(v5, a2);
          v8 = v15 & 0xFFFFFFFFFFFFLL;
          v9 = *(_QWORD *)(v15 & 0xFFFFFFFFFFFFLL);
          v12 = v7;
          v10 = *(void (__fastcall **)(unsigned __int64, __int64 *, _QWORD))(v9 + 0xC0);
          initializeEmptyStringStructure(&string_struct_ptr_);
          initializeEmptyStringStructure(&string_struct_ptr__1);
          v10(v8, &v12, 0);
          (*(void (__fastcall **)(unsigned __int64))(*(_QWORD *)(v15 & 0xFFFFFFFFFFFFLL) + 0xA8LL))(v15 & 0xFFFFFFFFFFFFLL);
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v6 + 0x10LL))(v6);
          v11 = sub_1468DB500(a1);
          if ( v11 )
          {
            sub_146896820(v11);
          }
        }
      }
    }
  }
}

// --- End Function: sub_146900F10 (0x146900F10) ---

// --- Function: sub_146901020 (0x146901020) ---
__int64 __fastcall sub_146901020(unsigned __int64 a1, double *a2, int a3, int n2, char n2_1)
{
  int a1; // r9d
  int v9; // ebp
  double v10; // xmm1_8
  _BYTE v12[32]; // [rsp+30h] [rbp-48h] BYREF
  __int128 v13; // [rsp+50h] [rbp-28h]
  double v14; // [rsp+60h] [rbp-18h]

  a1 = 0xFFFFFFFF;
  if ( !n2 )
  {
    a1 = a1_0;
  }
  v9 = a1;
  CEntity::GetTransform(a1, (__int64)v12, n2, a1, 0, n2_1);
  v10 = a2[2];
  v13 = *(_OWORD *)a2;
  v14 = v10;
  return sub_146911BB0(v9, (unsigned int)v12, n2, a3 | 2u, n2_1, 0);
}

// --- End Function: sub_146901020 (0x146901020) ---

// --- Function: sub_1469010D0 (0x1469010D0) ---
char __fastcall sub_1469010D0(__int64 a1, __int64 a2)
{
  __int64 handle_metadata_ptr; // rax
  __int16 v4; // rbx^6
  __int64 v5; // rdi
  __int16 n2; // cx
  __int64 v8; // [rsp+40h] [rbp+18h] BYREF

  LOBYTE(handle_metadata_ptr) = (unsigned __int8)sub_1467F4290(a1, &v8);
  v4 = HIWORD(v8);
  if ( v8 )
  {
    v5 = v8 & 0xFFFFFFFFFFFFLL;
    handle_metadata_ptr = get_handle_metadata_ptr(v8 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n2 != 4 && *(_WORD *)(handle_metadata_ptr + 2) == (v4 & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)a1()
        || (LOBYTE(handle_metadata_ptr) = check_handle_access_by_state(&v8), (_BYTE)handle_metadata_ptr) )
      {
        LOBYTE(handle_metadata_ptr) = sub_146888DC0(v5, a2, 1);
      }
    }
  }
  return handle_metadata_ptr;
}

// --- End Function: sub_1469010D0 (0x1469010D0) ---

// --- Function: sub_146901170 (0x146901170) ---
double __fastcall sub_146901170(
        unsigned __int64 a1,
        __int64 a2,
        unsigned int a3,
        unsigned int a4,
        char n0xFF)
{
  unsigned __int64 v9; // rsi
  unsigned __int64 v10; // rcx
  char v11; // dl
  unsigned __int64 v12; // rdi
  unsigned __int16 v13; // ax
  char v14; // dl
  unsigned __int16 v15; // ax
  double result; // xmm0_8
  unsigned __int64 v17; // [rsp+70h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    if ( a1_1 > a1 || a1 >= a1_1 + qword_15126E3D8 )
    {
      v11 = 0;
      v10 = a1 - 6;
      v9 = a1 - 6;
      v12 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    else
    {
      v9 = a1 - 6;
      v10 = a1 & 0xFFFFFFFFFF000000uLL;
      v11 = 1;
      v12 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v13 = *(_WORD *)(v10 + 2) | 0x2000;
    if ( !v11 )
    {
      v13 = *(_WORD *)(v10 + 2);
    }
    v17 = a1 | ((unsigned __int64)v13 << 0x30);
    sub_1468FD9F0(pEntitySystem, &v17, a2, n0xFF);
    if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
    {
      v14 = 0;
      v12 = v9;
    }
    else
    {
      v14 = 1;
    }
    v15 = *(_WORD *)(v12 + 2) | 0x2000;
    if ( !v14 )
    {
      v15 = *(_WORD *)(v12 + 2);
    }
    v17 = a1 | ((unsigned __int64)v15 << 0x30);
    return sub_1468B60F0(pEntitySystem, &v17, a2, n0xFF, a3, a4, 1);
  }
  return result;
}

// --- End Function: sub_146901170 (0x146901170) ---

// --- Function: sub_1469012B0 (0x1469012B0) ---
__int64 __fastcall sub_1469012B0(unsigned __int64 a1, __m256 *a2, int a3, int n2, char n2_1)
{
  int a1; // r9d
  int v9; // ebp
  __m256 v11; // [rsp+30h] [rbp-48h] BYREF

  a1 = 0xFFFFFFFF;
  if ( !n2 )
  {
    a1 = a1_0;
  }
  v9 = a1;
  CEntity::GetTransform(a1, (__int64)&v11, n2, a1, 0, n2_1);
  v11 = *a2;
  __asm { vzeroupper }
  return sub_146911BB0(v9, (unsigned int)&v11, n2, a3 | 4u, n2_1, 0);
}

// --- End Function: sub_1469012B0 (0x1469012B0) ---

// --- Function: sub_146901350 (0x146901350) ---
void __fastcall sub_146901350(__int64 a1, double a2, char a3, unsigned __int8 n2)
{
  __int128 v4; // xmm6
  double v8; // xmm0_8
  _QWORD *v9; // rax
  unsigned __int64 v10; // [rsp+30h] [rbp-68h] BYREF
  _BYTE v11[56]; // [rsp+40h] [rbp-58h] BYREF
  double v12; // [rsp+78h] [rbp-20h]
  __int128 v13; // [rsp+80h] [rbp-18h]

  v13 = v4;
  v8 = sub_1468DE710(a1, n2);
  if ( a3 || v8 != a2 )
  {
    CEntity::GetZoneTransform(a1, (__int64)v11, n2);
    v9 = *(_QWORD **)(a1 + 0x128);
    if ( v9 )
    {
      v9 = (_QWORD *)*v9;
    }
    v10 = (unsigned __int64)v9;
    if ( is_valid_handle_typeB(&v10) )
    {
      v12 = (*(double (__fastcall **)(unsigned __int64, _QWORD))(*(_QWORD *)(v10 & 0xFFFFFFFFFFFFLL) + 0x2B0LL))(
              v10 & 0xFFFFFFFFFFFFLL,
              n2)
          * a2;
    }
    else
    {
      v12 = a2;
    }
    sub_146911BB0(a1, (unsigned int)v11, 2, 8, n2, 0);
  }
}

// --- End Function: sub_146901350 (0x146901350) ---

// --- Function: sub_146901440 (0x146901440) ---
__int64 __fastcall sub_146901440(__int64 a1, int a2, __int16 a3)
{
  __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    return sub_14688B500(result, a2, a3);
  }
  return result;
}

// --- End Function: sub_146901440 (0x146901440) ---

// --- Function: sub_146901480 (0x146901480) ---
void __fastcall sub_146901480(__int64 a1, int a2, __int64 *a3)
{
  unsigned __int64 v6; // rax
  __int64 v7; // rax

  v6 = sub_1468DE420(a1);
  if ( v6 )
  {
    sub_14688BCB0(v6, a2, a3);
    v7 = sub_1468DB500(a1);
    if ( v7 )
    {
      sub_14688A2F0(v7, a2, a3);
    }
  }
}

// --- End Function: sub_146901480 (0x146901480) ---

// --- Function: sub_1469014E0 (0x1469014E0) ---
__int64 __fastcall sub_1469014E0(
        __int64 a1,
        _QWORD *a2,
        int a3,
        char a4,
        int a5,
        __int64 a6,
        __int64 a7,
        __int64 a8,
        char a9,
        _QWORD *a10)
{
  __int64 v14; // rax
  __int64 v15; // rsi
  int v16; // edi
  unsigned __int64 v17; // rax
  __int64 v18; // rcx
  __int64 v19; // rcx
  __int64 v25; // [rsp+30h] [rbp-F8h] BYREF
  float v26[5]; // [rsp+40h] [rbp-E8h] BYREF
  float v27; // [rsp+54h] [rbp-D4h]
  __int64 v28; // [rsp+70h] [rbp-B8h]
  __int64 v29; // [rsp+78h] [rbp-B0h]

  sub_1467F4290(a1, &v25);
  v14 = sub_1468DB500(a1);
  v15 = v14;
  if ( v14 && a3 >= 0 )
  {
    sub_146880D90(v14, a3, 1, 1u, 1u, 1u);
  }
  v16 = sub_14688B840(v25 & 0xFFFFFFFFFFFFLL, a3, a2, a9);
  if ( a6 )
  {
    v17 = sub_1468DE420(a1);
    if ( v17 )
    {
      if ( (unsigned __int8)sub_14689D0B0(v17, v16, a6, 2, 0, 0) )
      {
        *(_DWORD *)(a1 + 8) |= 0x40u;
      }
    }
  }
  if ( a4 && v15 && v16 >= 0 )
  {
    sub_141E48570((__int64)v26);
    v18 = v28;
    if ( a7 != 0xFFFFFFFFFFFFFFFFuLL )
    {
      v18 = a7;
    }
    v28 = v18;
    v19 = v29;
    if ( a8 != 0xFFFFFFFFFFFFFFFFuLL )
    {
      v19 = a8;
    }
    _XMM0 = 0;
    __asm { vcmpless xmm1, xmm0, xmm2 }
    _XMM0 = LODWORD(v27);
    v29 = v19;
    __asm { vblendvps xmm1, xmm0, xmm2, xmm1 }
    LODWORD(v26[2]) = v16;
    v27 = *(float *)&_XMM1;
    sub_1468F0EA0(a1, v26);
  }
  if ( *a10 )
  {
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a10 + 8LL))(*a10);
  }
  *a10 = 0;
  return (unsigned int)v16;
}

// --- End Function: sub_1469014E0 (0x1469014E0) ---

// --- Function: sub_146901680 (0x146901680) ---
double __fastcall sub_146901680(unsigned __int64 a1, __int64 a2, unsigned int a3, char n0xFF)
{
  unsigned __int64 v8; // rsi
  unsigned __int64 v9; // rcx
  char v10; // dl
  unsigned __int64 v11; // rdi
  unsigned __int16 v12; // ax
  char v13; // dl
  unsigned __int16 v14; // ax
  double result; // xmm0_8
  unsigned __int64 v16; // [rsp+70h] [rbp+8h] BYREF

  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    if ( a1_1 > a1 || a1 >= a1_1 + qword_15126E3D8 )
    {
      v10 = 0;
      v9 = a1 - 6;
      v8 = a1 - 6;
      v11 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    else
    {
      v8 = a1 - 6;
      v9 = a1 & 0xFFFFFFFFFF000000uLL;
      v10 = 1;
      v11 = a1 & 0xFFFFFFFFFF000000uLL;
    }
    v12 = *(_WORD *)(v9 + 2) | 0x2000;
    if ( !v10 )
    {
      v12 = *(_WORD *)(v9 + 2);
    }
    v16 = a1 | ((unsigned __int64)v12 << 0x30);
    sub_1468FD9F0(pEntitySystem, &v16, a2, n0xFF);
    if ( a1_1 > a1 || a1 >= qword_15126E3D8 + a1_1 )
    {
      v13 = 0;
      v11 = v8;
    }
    else
    {
      v13 = 1;
    }
    v14 = *(_WORD *)(v11 + 2) | 0x2000;
    if ( !v13 )
    {
      v14 = *(_WORD *)(v11 + 2);
    }
    v16 = a1 | ((unsigned __int64)v14 << 0x30);
    return sub_1468B60F0(pEntitySystem, &v16, a2, n0xFF, a3, 0, 0);
  }
  return result;
}

// --- End Function: sub_146901680 (0x146901680) ---

// --- Function: sub_1469018F0 (0x1469018F0) ---
__int64 __fastcall sub_1469018F0(unsigned __int64 a1, double *a2, int a3, unsigned __int8 n2)
{
  int v7; // ebp
  double v8; // xmm1_8
  _BYTE v10[32]; // [rsp+30h] [rbp-48h] BYREF
  __int128 v11; // [rsp+50h] [rbp-28h]
  double v12; // [rsp+60h] [rbp-18h]

  v7 = a1;
  CEntity::GetTransform(a1, (__int64)v10, 0, a1_0, 0, n2);
  v8 = a2[2];
  v11 = *(_OWORD *)a2;
  v12 = v8;
  return sub_146911BB0(v7, (unsigned int)v10, 0, a3 | 2u, n2, 0);
}

// --- End Function: sub_1469018F0 (0x1469018F0) ---

// --- Function: sub_146901980 (0x146901980) ---
__int64 __fastcall sub_146901980(unsigned __int64 a1, __m256 *a2, int a3, char n2)
{
  int v7; // ebp
  __m256 v9; // [rsp+30h] [rbp-48h] BYREF

  v7 = a1;
  CEntity::GetTransform(a1, (__int64)&v9, 0, a1_0, 0, n2);
  v9 = *a2;
  __asm { vzeroupper }
  return sub_146911BB0(v7, (unsigned int)&v9, 0, a3 | 4u, n2, 0);
}

// --- End Function: sub_146901980 (0x146901980) ---

// --- Function: sub_146901A10 (0x146901A10) ---
double __fastcall sub_146901A10(unsigned __int64 a1, double *a2, __int64 a3, char n2)
{
  __int128 v7; // xmm0
  double v8; // xmm1_8
  __int64 v9; // rax
  __int64 v10; // rbx
  int v11; // eax
  __int128 pCZoneSystem; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v14; // [rsp+40h] [rbp-C0h]
  int n0xF00; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v16; // [rsp+54h] [rbp-ACh]
  int v17; // [rsp+5Ch] [rbp-A4h]
  __int64 v18; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v19; // [rsp+68h] [rbp-98h]
  __int64 v20; // [rsp+70h] [rbp-90h]
  __int64 v21; // [rsp+78h] [rbp-88h]
  __m256 v22; // [rsp+A0h] [rbp-60h] BYREF
  __int128 v23; // [rsp+C0h] [rbp-40h]
  __int128 v24; // [rsp+D0h] [rbp-30h]
  __m256 v25; // [rsp+E0h] [rbp-20h]
  __int128 v26; // [rsp+100h] [rbp+0h]
  __int128 v27; // [rsp+110h] [rbp+10h]

  CEntity::GetTransform(a1, (__int64)&v22, 2, 0xFFFFFFFF, 0, n2);
  v7 = *(_OWORD *)a2;
  v8 = a2[2];
  n0xF00 = 0xF00;
  v16 = 0;
  v17 = 0;
  v19 = 0;
  v20 = 0;
  v23 = v7;
  *(double *)&v24 = v8;
  v21 = 0;
  v18 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  v27 = v24;
  v25 = v22;
  pCZoneSystem = 0;
  v14 = 0;
  v9 = *(_QWORD *)::pCZoneSystem;
  v26 = v23;
  __asm { vzeroupper }
  v10 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, _QWORD))(v9 + 0x180))(
          ::pCZoneSystem,
          0x7832,
          &pCZoneSystem,
          0);
  v11 = sub_146911E60(a1, n2);
  sub_1468E6EC0(a1, v11, v10);
  (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v10);
  if ( (_QWORD)pCZoneSystem )
  {
    sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v14 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
    pCZoneSystem = 0;
    v14 = 0;
  }
  v19 = __rdtsc();
  return psub_7FF6AAB93930(&n0xF00);
}

// --- End Function: sub_146901A10 (0x146901A10) ---

// --- Function: sub_146901BB0 (0x146901BB0) ---
__int64 __fastcall sub_146901BB0(unsigned __int64 a1, __m256 *a2, int a3, char n2)
{
  int v7; // ebp
  __m256 v9; // [rsp+30h] [rbp-48h] BYREF

  v7 = a1;
  CEntity::GetTransform(a1, (__int64)&v9, 2, 0xFFFFFFFF, 0, n2);
  v9 = *a2;
  __asm { vzeroupper }
  return sub_146911BB0(v7, (unsigned int)&v9, 2, a3 | 4u, n2, 0);
}

// --- End Function: sub_146901BB0 (0x146901BB0) ---

// --- Function: sub_146901FB0 (0x146901FB0) ---
bool __fastcall sub_146901FB0(__int64 a1)
{
  unsigned __int64 *v2; // rcx

  v2 = *(unsigned __int64 **)(a1 + 0x128);
  return v2 && is_valid_handle_typeB(v2) && *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) == 5;
}

// --- End Function: sub_146901FB0 (0x146901FB0) ---

// --- Function: sub_146903BF0 (0x146903BF0) ---
char __fastcall sub_146903BF0(__int64 a1, unsigned __int64 a2, unsigned __int8 a3)
{
  __int64 v5; // rax
  unsigned __int64 v7; // [rsp+38h] [rbp+10h] BYREF

  v7 = a2;
  if ( is_valid_handle_typeB(&v7) && (v5 = sub_1468DB500(a1)) != 0 )
  {
    return sub_14687FB90(v5, v7, a3);
  }
  else
  {
    return 0;
  }
}

// --- End Function: sub_146903BF0 (0x146903BF0) ---

// --- Function: sub_146903DA0 (0x146903DA0) ---
__int64 __fastcall sub_146903DA0(__int64 a1)
{
  __int64 result; // rax

  result = sub_1468DB500(a1);
  if ( result )
  {
    return sub_146895B70(result);
  }
  return result;
}

// --- End Function: sub_146903DA0 (0x146903DA0) ---

// --- Function: sub_1469050E0 (0x1469050E0) ---
char __fastcall sub_1469050E0(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 handle_metadata_ptr; // rax
  __int64 v5; // rbx
  __int16 n2; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_86;
  if ( n0xFFFF_86 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v9,
                          "IEntityComponentNetwork");
    n0xFFFF_86 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  handle_metadata_ptr = v2(a1, &v10, &v8);
  v5 = *(_QWORD *)handle_metadata_ptr;
  v8 = v5;
  if ( v5 )
  {
    handle_metadata_ptr = get_handle_metadata_ptr(v5 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n2 != 4 && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v5) & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)a1()
        || (LOBYTE(handle_metadata_ptr) = check_indirect_handle_access_by_state(&v8), (_BYTE)handle_metadata_ptr) )
      {
        LOBYTE(handle_metadata_ptr) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x610LL))(v5 & 0xFFFFFFFFFFFFLL);
      }
    }
  }
  return handle_metadata_ptr;
}

// --- End Function: sub_1469050E0 (0x1469050E0) ---

// --- Function: sub_1469051C0 (0x1469051C0) ---
char __fastcall sub_1469051C0(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 handle_metadata_ptr; // rax
  __int64 v5; // rbx
  __int16 n2; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_86;
  if ( n0xFFFF_86 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v9,
                          "IEntityComponentNetwork");
    n0xFFFF_86 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  handle_metadata_ptr = v2(a1, &v10, &v8);
  v5 = *(_QWORD *)handle_metadata_ptr;
  v8 = v5;
  if ( v5 )
  {
    handle_metadata_ptr = get_handle_metadata_ptr(v5 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n2 != 4 && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v5) & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)a1()
        || (LOBYTE(handle_metadata_ptr) = check_indirect_handle_access_by_state(&v8), (_BYTE)handle_metadata_ptr) )
      {
        LOBYTE(handle_metadata_ptr) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x618LL))(v5 & 0xFFFFFFFFFFFFLL);
      }
    }
  }
  return handle_metadata_ptr;
}

// --- End Function: sub_1469051C0 (0x1469051C0) ---

// --- Function: sub_1469055A0 (0x1469055A0) ---
char __fastcall sub_1469055A0(__int64 a1)
{
  __int64 (__fastcall *v2)(__int64, char *, __int64 *); // rdi
  __int16 n0xFFFF; // ax
  __int64 handle_metadata_ptr; // rax
  __int64 v5; // rbx
  __int16 n2; // dx
  __int64 v8; // [rsp+30h] [rbp+8h] BYREF
  char v9; // [rsp+38h] [rbp+10h] BYREF
  char v10; // [rsp+40h] [rbp+18h] BYREF

  v2 = *(__int64 (__fastcall **)(__int64, char *, __int64 *))(*(_QWORD *)a1 + 0x338LL);
  n0xFFFF = n0xFFFF_49;
  if ( n0xFFFF_49 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                 + 0x10LL))(
                          global_dispatcher_ptr,
                          &v9,
                          "IEntityPhysicalProxy");
    n0xFFFF_49 = n0xFFFF;
  }
  LOWORD(v8) = n0xFFFF;
  handle_metadata_ptr = v2(a1, &v10, &v8);
  v5 = *(_QWORD *)handle_metadata_ptr;
  v8 = v5;
  if ( v5 )
  {
    handle_metadata_ptr = get_handle_metadata_ptr(v5 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(handle_metadata_ptr + 4);
    if ( n2 != 4 && *(_WORD *)(handle_metadata_ptr + 2) == (HIWORD(v5) & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)a1()
        || (LOBYTE(handle_metadata_ptr) = check_indirect_handle_access_by_state(&v8), (_BYTE)handle_metadata_ptr) )
      {
        LOBYTE(handle_metadata_ptr) = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(v5 & 0xFFFFFFFFFFFFLL) + 0x6F0LL))(v5 & 0xFFFFFFFFFFFFLL);
      }
    }
  }
  return handle_metadata_ptr;
}

// --- End Function: sub_1469055A0 (0x1469055A0) ---

// --- Function: sub_146905680 (0x146905680) ---
void __fastcall sub_146905680(__int64 a1, int a2)
{
  __int64 v3; // rax

  if ( a2 > (int)0xFFFFFFFF )
  {
    v3 = sub_1468DB500(a1);
    if ( v3 )
    {
      sub_146880D90(v3, a2, 1, 1u, 1u, 1u);
    }
  }
}

// --- End Function: sub_146905680 (0x146905680) ---

// --- Function: sub_146908740 (0x146908740) ---
_UNKNOWN **__fastcall sub_146908740(unsigned __int64 a1)
{
  _UNKNOWN **result; // rax
  __int64 v3; // rsi
  signed __int64 v4; // rdx
  int v5; // ebx
  unsigned __int64 v6; // rax
  __int64 v7; // rdx
  __int64 a1_1; // rax
  unsigned __int64 a1_2; // rbx
  int n2; // eax
  __int64 v11; // rbp
  unsigned int v12; // r14d
  __int64 v13; // r9
  __int64 v14; // r8
  unsigned int v15; // r15d
  __int64 v16; // rcx
  __int64 v17; // rdx
  __int64 v18; // rcx
  __int64 v19; // rax
  __int128 v20; // xmm7
  double v21; // xmm6_8
  __int64 v22; // rax
  unsigned __int8 v23; // al
  __int64 *v24; // r9
  __int64 v25; // rdx
  char v26; // dl
  unsigned __int64 v27; // rcx
  unsigned __int16 v28; // ax
  unsigned __int64 n0x200000; // rax
  _OWORD v32[2]; // [rsp+30h] [rbp-68h] BYREF
  _UNKNOWN *retaddr; // [rsp+98h] [rbp+0h] BYREF
  unsigned __int64 v34; // [rsp+A0h] [rbp+8h] BYREF

  result = &retaddr;
  v3 = *(_QWORD *)(a1 + 0x328);
  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
    {
      ++dword_1497929DC;
    }
    else
    {
      v4 = _InterlockedIncrement64(&qword_1497929D0);
      if ( (v4 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          &qword_1497929D0,
          v4,
          (__int64)"CEntity::UpdateAggregateRadius_OnEntityAttach",
          (__int64)"s_aggregateHierarchyLock",
          1);
      }
    }
    v5 = *(_DWORD *)(a1() + 0x18);
    if ( dword_1497929C8 == v5 )
    {
      ++dword_1497929CC;
    }
    else
    {
      v6 = _InterlockedCompareExchange64(&qword_1497929C0, 0x200000, 0);
      if ( v6 )
      {
        sub_1403D85B0(
          &qword_1497929C0,
          v6,
          0,
          (__int64)"CEntity::UpdateAggregateRadius_OnEntityAttach",
          (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
          1);
      }
      dword_1497929C8 = v5;
    }
    v7 = *(_QWORD *)(v3 + 0xB8);
    v34 = *(_QWORD *)(a1 + 0x310);
    a1_1 = sub_1468D8EC0(&v34, v7);
    a1_2 = a1_1;
    if ( a1_1 )
    {
      n2 = sub_1468E7310(a1_1, a1, *(_QWORD *)(v3 + 0xB8));
      if ( *(_DWORD *)(v3 + 0x44) == 1 && n2 == 2 )
      {
        v11 = *(_QWORD *)(a1_2 + 0x328);
        v12 = *(_DWORD *)(v3 + 0x40);
        v13 = v12;
        v14 = *(_QWORD *)(v11 + 0x78);
        v15 = v12;
        if ( v12 >= 0x80000000 )
        {
          v13 = v12 + 0x80000000;
        }
        v16 = *(_QWORD *)(v11 + 0x78) - *(_QWORD *)(v11 + 0x70);
        v17 = (__int64)((unsigned __int128)(v16 * (__int128)0x2AAAAAAAAAAAAAABLL) >> 0x40) >> 2;
        if ( v13 != v17
                  + ((unsigned __int64)((unsigned __int128)(v16 * (__int128)0x2AAAAAAAAAAAAAABLL) >> 0x40) >> 0x3F)
                  - 1 )
        {
          v18 = *(_QWORD *)(*(_QWORD *)(v14 - 0x18) + 0x328LL);
          v15 = *(_DWORD *)(v18 + 0x40);
          *(_DWORD *)(v18 + 0x40) = v12;
          v19 = *(_QWORD *)(v11 + 0x78);
          v20 = *(_OWORD *)(v19 - 0x18);
          v21 = *(double *)(v19 - 8);
          v22 = sub_14037C180((_QWORD *)(v11 + 0x70), (unsigned int)v13);
          *(_OWORD *)v22 = v20;
          *(double *)(v22 + 0x10) = v21;
        }
        *(_QWORD *)(v11 + 0x78) -= 0x18LL;
        *(_DWORD *)(v3 + 0x44) = 0;
        *(_DWORD *)(v3 + 0x40) = 0xFFFFFFFF;
        *(_QWORD *)(v3 + 0x48) = 0;
        v23 = sub_146901F20(a1, v17, v14, v13);
        sub_146907F60(a1_2, v12, v15, v23);
        v24 = *(__int64 **)(a1_2 + 0x328);
        v25 = (unsigned __int128)((v24[0xC] - v24[0xB]) * (__int128)0x2AAAAAAAAAAAAAABLL) >> 0x40;
        *(_DWORD *)(v3 + 0x44) = 2;
        *(_DWORD *)(v3 + 0x40) = ((unsigned __int64)v25 >> 0x3F) + (v25 >> 2);
        if ( ::a1_1 > a1_2
          || a1_2 >= qword_15126E3D8 + ::a1_1 )
        {
          v26 = 0;
          v27 = a1_2 - 6;
        }
        else
        {
          v26 = 1;
          v27 = a1_2 & 0xFFFFFFFFFF000000uLL;
        }
        v28 = *(_WORD *)(v27 + 2) | 0x2000;
        *(_QWORD *)&v32[0] = a1;
        _XMM1 = 0;
        if ( !v26 )
        {
          v28 = *(_WORD *)(v27 + 2);
        }
        *(_QWORD *)(v3 + 0x48) = a1_2 | ((unsigned __int64)v28 << 0x30);
        _RDX = (_BYTE *)v24[0xC];
        __asm { vmovupd xmmword ptr [rsp+98h+var_68+8], xmm1 }
        if ( _RDX == (_BYTE *)v24[0xD] )
        {
          sub_1402A56E0(v24 + 0xB, _RDX, (__int64)v32);
        }
        else
        {
          *(_OWORD *)_RDX = v32[0];
          __asm { vmovhpd qword ptr [rdx+10h], xmm1 }
          v24[0xC] += 0x18;
        }
        sub_146907B30(a1_2, a1);
      }
    }
    if ( dword_1497929CC )
    {
      --dword_1497929CC;
    }
    else
    {
      dword_1497929C8 = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64(&qword_1497929C0, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
      {
        sub_1403D8A00(&qword_1497929C0, n0x200000);
      }
    }
    return (_UNKNOWN **)sub_1402D0950((__int64)&qword_1497929D0);
  }
  return result;
}

// --- End Function: sub_146908740 (0x146908740) ---

// --- Function: sub_146908DC0 (0x146908DC0) ---
// local variable allocation has failed, the output may be wrong!
double __fastcall sub_146908DC0(__int64 a1, double a2)
{
  __int128 v2; // xmm6
  bool v3; // cf
  __int64 v5; // rbx
  float v6; // xmm6_4
  signed __int64 v7; // rdx
  signed __int64 v8; // rdx
  __int64 v9; // rdx
  int v10; // esi
  unsigned __int32 v11; // eax
  __int128 v12; // kr00_16
  int v15; // eax
  unsigned __int32 v16; // eax
  double result; // xmm0_8
  int n0xF00; // [rsp+30h] [rbp-68h] BYREF
  __int64 v19; // [rsp+34h] [rbp-64h]
  int v20; // [rsp+3Ch] [rbp-5Ch]
  __int64 v21; // [rsp+40h] [rbp-58h]
  unsigned __int64 v22; // [rsp+48h] [rbp-50h]
  __int64 v23; // [rsp+50h] [rbp-48h]
  __int64 v24; // [rsp+58h] [rbp-40h]
  __int128 v25; // [rsp+80h] [rbp-18h]

  v3 = *(_BYTE *)(a1 + 0xD) < 5u;
  v5 = *(_QWORD *)(a1 + 0x328);
  v25 = v2;
  v6 = *(float *)&a2;
  if ( v3 )
  {
    n0xF00 = 0xF00;
    v19 = 0;
    v20 = 0;
    v22 = 0;
    v23 = 0;
    v24 = 0;
    v21 = 1;
    psub_7FF6AAB938D0(
      &n0xF00,
      0,
      &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
      &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
      0);
    if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
    {
      ++dword_1497929DC;
    }
    else
    {
      v7 = _InterlockedIncrement64(&qword_1497929D0);
      if ( (v7 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          &qword_1497929D0,
          v7,
          (__int64)"CEntity::UpdateAggregateRadius_OnEntityCompleteRadiusChanged",
          (__int64)"s_aggregateHierarchyLock",
          1);
      }
    }
    if ( dword_1497929C8 == *(_DWORD *)(a1() + 0x18) )
    {
      ++dword_1497929CC;
    }
    else
    {
      v8 = _InterlockedIncrement64(&qword_1497929C0);
      if ( (v8 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          &qword_1497929C0,
          v8,
          (__int64)"CEntity::UpdateAggregateRadius_OnEntityCompleteRadiusChanged",
          (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
          1);
      }
    }
    v10 = *(_DWORD *)(a1() + 0x18);
    if ( *(_DWORD *)(v5 + 4) == v10 )
    {
      ++*(_DWORD *)(v5 + 8);
    }
    else
    {
      v11 = _InterlockedCompareExchange((volatile signed __int32 *)v5, 1, 0);
      if ( v11 )
      {
        sub_1403BF290(
          (volatile signed __int32 *)v5,
          v11,
          (__int64)"CEntity::UpdateAggregateRadius_OnEntityCompleteRadiusChanged",
          1);
      }
      *(_DWORD *)(v5 + 4) = v10;
    }
    *((double *)&v12 + 1) = *(&a2 + 1);
    *(double *)&v12 = *(float *)&a2 * *(double *)(v5 + 0x98);
    _XMM1 = v12;
    __asm { vminsd  xmm1, xmm1, cs:qword_147F49D88 }
    *(float *)(v5 + 0x90) = v6;
    if ( (unsigned __int8)sub_146907910(a1, v9, 0xFFFFFFFELL) )
    {
      sub_1468ECBF0(a1);
    }
    v15 = *(_DWORD *)(v5 + 8);
    if ( v15 )
    {
      *(_DWORD *)(v5 + 8) = v15 - 1;
    }
    else
    {
      *(_DWORD *)(v5 + 4) = 0xFFFFFFFF;
      v16 = _InterlockedCompareExchange((volatile signed __int32 *)v5, 0, 1);
      if ( v16 != 1 )
      {
        sub_1403D6A80((volatile signed __int32 *)v5, v16);
      }
    }
    sub_1402D0950((__int64)&qword_1497929C0);
    sub_1402D0950((__int64)&qword_1497929D0);
    v22 = __rdtsc();
    return psub_7FF6AAB93930(&n0xF00);
  }
  return result;
}

// --- End Function: sub_146908DC0 (0x146908DC0) ---

// --- Function: sub_146909960 (0x146909960) ---
double __fastcall sub_146909960(__int64 a1, float a2)
{
  __int128 v2; // xmm6
  bool v3; // cf
  __int64 v5; // rbx
  signed __int64 v6; // rdx
  signed __int64 v7; // rdx
  __int64 v8; // rdx
  int v9; // esi
  unsigned __int32 v10; // eax
  int v11; // eax
  unsigned __int32 v12; // eax
  double result; // xmm0_8
  int n0xF00; // [rsp+30h] [rbp-68h] BYREF
  __int64 v15; // [rsp+34h] [rbp-64h]
  int v16; // [rsp+3Ch] [rbp-5Ch]
  __int64 v17; // [rsp+40h] [rbp-58h]
  unsigned __int64 v18; // [rsp+48h] [rbp-50h]
  __int64 v19; // [rsp+50h] [rbp-48h]
  __int64 v20; // [rsp+58h] [rbp-40h]
  __int128 v21; // [rsp+80h] [rbp-18h]

  v3 = *(_BYTE *)(a1 + 0xD) < 5u;
  v5 = *(_QWORD *)(a1 + 0x328);
  v21 = v2;
  if ( v3 )
  {
    n0xF00 = 0xF00;
    v15 = 0;
    v16 = 0;
    v18 = 0;
    v19 = 0;
    v20 = 0;
    v17 = 1;
    psub_7FF6AAB938D0(
      &n0xF00,
      0,
      &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
      &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
      0);
    if ( dword_1497929D8 == *(_DWORD *)(a1() + 0x18) )
    {
      ++dword_1497929DC;
    }
    else
    {
      v6 = _InterlockedIncrement64(&qword_1497929D0);
      if ( (v6 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          &qword_1497929D0,
          v6,
          (__int64)"CEntity::UpdateAggregateRadius_OnEntityRenderingRadiusChanged",
          (__int64)"s_aggregateHierarchyLock",
          1);
      }
    }
    if ( dword_1497929C8 == *(_DWORD *)(a1() + 0x18) )
    {
      ++dword_1497929CC;
    }
    else
    {
      v7 = _InterlockedIncrement64(&qword_1497929C0);
      if ( (v7 & 0x200000) != 0 )
      {
        sub_1403C6C70(
          &qword_1497929C0,
          v7,
          (__int64)"CEntity::UpdateAggregateRadius_OnEntityRenderingRadiusChanged",
          (__int64)"CEntityAggregateRadius::s_aggregateRadiusHierarchyLock",
          1);
      }
    }
    v9 = *(_DWORD *)(a1() + 0x18);
    if ( *(_DWORD *)(v5 + 4) == v9 )
    {
      ++*(_DWORD *)(v5 + 8);
    }
    else
    {
      v10 = _InterlockedCompareExchange((volatile signed __int32 *)v5, 1, 0);
      if ( v10 )
      {
        sub_1403BF290(
          (volatile signed __int32 *)v5,
          v10,
          (__int64)"CEntity::UpdateAggregateRadius_OnEntityRenderingRadiusChanged",
          1);
      }
      *(_DWORD *)(v5 + 4) = v9;
    }
    *(float *)(v5 + 0x94) = a2;
    if ( (unsigned __int8)sub_146907A20(a1, v8, 0xFFFFFFFELL) )
    {
      sub_1468EDB70(a1);
    }
    v11 = *(_DWORD *)(v5 + 8);
    if ( v11 )
    {
      *(_DWORD *)(v5 + 8) = v11 - 1;
    }
    else
    {
      *(_DWORD *)(v5 + 4) = 0xFFFFFFFF;
      v12 = _InterlockedCompareExchange((volatile signed __int32 *)v5, 0, 1);
      if ( v12 != 1 )
      {
        sub_1403D6A80((volatile signed __int32 *)v5, v12);
      }
    }
    sub_1402D0950((__int64)&qword_1497929C0);
    sub_1402D0950((__int64)&qword_1497929D0);
    v18 = __rdtsc();
    return psub_7FF6AAB93930(&n0xF00);
  }
  return result;
}

// --- End Function: sub_146909960 (0x146909960) ---

// --- Function: sub_14690E6A0 (0x14690E6A0) ---
__int64 __fastcall sub_14690E6A0(__int64 a1, __int64 a2)
{
  __int64 result; // rax
  __int64 v3; // rcx
  __int64 v4; // [rsp+30h] [rbp+8h] BYREF

  result = *(_QWORD *)(a1 + 0x128);
  if ( result )
  {
    if ( *(_DWORD *)(result + 0x10) == 5 )
    {
      v3 = *(char *)(a2 + 0x120);
      v4 = result + 0x18;
      return sub_143C4B060(v3 + 1, &v4, a2);
    }
  }
  return result;
}

// --- End Function: sub_14690E6A0 (0x14690E6A0) ---

// --- Function: sub_14690E6E0 (0x14690E6E0) ---
double __fastcall sub_14690E6E0(
        __int64 a1,
        unsigned __int64 a1,
        unsigned __int8 n2,
        char a4,
        __int64 a5)
{
  volatile signed __int32 *v5; // rdi
  char n3; // si
  __int64 v9; // rax
  volatile signed __int32 *v10; // rdx
  __int64 v11; // rbx
  volatile signed __int32 *v12; // r12
  __int64 v13; // r9
  signed __int32 v14; // eax
  signed __int32 v15; // ett
  __int64 v16; // rax
  volatile signed __int32 *v17; // rbx
  __int64 v18; // r13
  volatile signed __int32 *v19; // rdx
  __int64 v20; // r9
  signed __int32 v21; // eax
  signed __int32 v22; // ett
  char v23; // r12
  __int64 v24; // rsi
  unsigned __int64 *v25; // rcx
  char v27; // di
  char v28; // bl
  __int128 v29; // xmm1
  __int128 pCZoneSystem; // [rsp+38h] [rbp-D0h] BYREF
  __int64 v32; // [rsp+48h] [rbp-C0h]
  _QWORD v33[2]; // [rsp+54h] [rbp-B4h] BYREF
  int v34; // [rsp+64h] [rbp-A4h]
  __int64 v35; // [rsp+68h] [rbp-A0h]
  unsigned __int64 v36; // [rsp+70h] [rbp-98h]
  __int64 v37; // [rsp+78h] [rbp-90h]
  __int64 v38; // [rsp+80h] [rbp-88h]
  __int128 v39; // [rsp+A8h] [rbp-60h] BYREF
  __m256 v40; // [rsp+B8h] [rbp-50h] BYREF
  __int128 v41; // [rsp+D8h] [rbp-30h]
  char v42; // [rsp+E8h] [rbp-20h] BYREF
  volatile signed __int32 *v43; // [rsp+170h] [rbp+68h]

  v5 = 0;
  LODWORD(v43) = 0;
  HIDWORD(v33[0]) = 0x2500;
  v33[1] = 0;
  v34 = 0;
  v36 = 0;
  v37 = 0;
  n3 = 0;
  v38 = 0;
  v35 = 1;
  psub_7FF6AAB938D0(
    (char *)v33 + 4,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( *(_BYTE *)(a1 + 0xD) >= 4u )
  {
    v17 = v43;
    v5 = v43;
LABEL_26:
    v23 = 1;
    goto LABEL_27;
  }
  v9 = *(_QWORD *)(a1 + 0x2C8);
  if ( !v9 )
  {
    n3 = 1;
LABEL_24:
    v17 = v43;
    v23 = 0;
    goto LABEL_27;
  }
  v10 = *(volatile signed __int32 **)(v9 + 0x28);
  v11 = 0;
  v12 = 0;
  if ( v10 )
  {
    v13 = *(_QWORD *)(v9 + 0x20);
    _InterlockedIncrement(v10 + 3);
    v14 = *((_DWORD *)v10 + 2);
    if ( v14 )
    {
      while ( 1 )
      {
        v15 = v14;
        v14 = _InterlockedCompareExchange(v10 + 2, v14 + 1, v14);
        if ( v15 == v14 )
        {
          break;
        }
        if ( !v14 )
        {
          goto LABEL_9;
        }
      }
      v11 = v13;
      v12 = v10;
    }
LABEL_9:
    if ( _InterlockedExchangeAdd(v10 + 3, 0xFFFFFFFF) == 1 )
    {
      (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v10 + 8LL))(v10);
    }
  }
  n3 = 1;
  v5 = v12;
  if ( !v11 )
  {
    goto LABEL_24;
  }
  v16 = *(_QWORD *)(a1 + 0x2C8);
  v17 = 0;
  v18 = 0;
  if ( v16 )
  {
    v19 = *(volatile signed __int32 **)(v16 + 0x28);
    if ( v19 )
    {
      v20 = *(_QWORD *)(v16 + 0x20);
      _InterlockedIncrement(v19 + 3);
      v21 = *((_DWORD *)v19 + 2);
      if ( v21 )
      {
        while ( 1 )
        {
          v22 = v21;
          v21 = _InterlockedCompareExchange(v19 + 2, v21 + 1, v21);
          if ( v22 == v21 )
          {
            break;
          }
          if ( !v21 )
          {
            goto LABEL_19;
          }
        }
        v18 = v20;
        v17 = v19;
      }
LABEL_19:
      if ( _InterlockedExchangeAdd(v19 + 3, 0xFFFFFFFF) == 1 )
      {
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v19 + 8LL))(v19);
      }
    }
  }
  n3 = 3;
  if ( (*(int (__fastcall **)(__int64))(*(_QWORD *)v18 + 0x10LL))(v18) >= 0xA )
  {
    goto LABEL_26;
  }
  v23 = 0;
LABEL_27:
  if ( (n3 & 2) != 0 )
  {
    n3 &= ~2u;
    if ( v17 )
    {
      if ( _InterlockedExchangeAdd(v17 + 2, 0xFFFFFFFF) == 1 )
      {
        (**(void (__fastcall ***)(volatile signed __int32 *))v17)(v17);
        if ( _InterlockedExchangeAdd(v17 + 3, 0xFFFFFFFF) == 1 )
        {
          (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v17 + 8LL))(v17);
        }
      }
    }
  }
  if ( (n3 & 1) != 0 )
  {
    if ( v5 )
    {
      if ( _InterlockedExchangeAdd(v5 + 2, 0xFFFFFFFF) == 1 )
      {
        (**(void (__fastcall ***)(volatile signed __int32 *))v5)(v5);
        if ( _InterlockedExchangeAdd(v5 + 3, 0xFFFFFFFF) == 1 )
        {
          (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v5 + 8LL))(v5);
        }
      }
    }
  }
  if ( v23 )
  {
    pCZoneSystem = 0;
    v32 = 0;
    v24 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, __int64))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
            ::pCZoneSystem,
            0x7832,
            &pCZoneSystem,
            a5);
    if ( (unsigned __int8)sub_1468DC3E0(a1, (unsigned int)&v42, 0, n2, a4, v24) )
    {
      *(_DWORD *)(a1 + 8) |= 0x20u;
      (*(void (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0xF0LL))(::pCZoneSystem);
      sub_146911E60(a1, n2);
      (*(void (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0xF8LL))(::pCZoneSystem);
    }
    else
    {
      v25 = *(unsigned __int64 **)(a1 + 0x128);
      if ( v25 && is_valid_handle_typeB(v25) && *(_DWORD *)(*(_QWORD *)(a1 + 0x128) + 0x10LL) == 5 )
      {
        CEntity::GetTransform(a1, (__int64)&v39, 2, 0xFFFFFFFF, 0, n2);
        if ( (*(_DWORD *)(a1 + 8) & 0x800) != 0 )
        {
          v27 = n2 && n2 != 2;
          v28 = (*(unsigned __int8 (__fastcall **)(FH4 *))(*(_QWORD *)::pCZoneSystem + 0xE8LL))(::pCZoneSystem) == 0;
          sub_1468B3D20(a1, v27, v28);
          (*(void (__fastcall **)(FH4 *, unsigned __int64, __int128 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem
                                                                                        + 0x3B0LL))(
            ::pCZoneSystem,
            a1 + 0x2A0,
            &v39,
            2,
            v24);
          v29 = v41;
          *(_OWORD *)(a1 + 0xD0) = v39;
          *(__m256 *)(a1 + 0xE0) = v40;
          *(_OWORD *)(a1 + 0x100) = v29;
          __asm { vzeroupper }
          sub_1468F9D60(a1, v27, v28);
        }
        sub_146909620(a1, (double *)&v40.m256_f32[4], *((double *)&v41 + 1));
      }
    }
    if ( !a5 )
    {
      (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(
        ::pCZoneSystem,
        0x7832,
        v24);
    }
    if ( (_QWORD)pCZoneSystem )
    {
      sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v32 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
      pCZoneSystem = 0;
      v32 = 0;
    }
  }
  v36 = __rdtsc();
  return psub_7FF6AAB93930((char *)v33 + 4);
}

// --- End Function: sub_14690E6E0 (0x14690E6E0) ---

// --- Function: sub_14690F770 (0x14690F770) ---
double __fastcall sub_14690F770(__int64 a1, __int64 a2)
{
  __int128 v2; // xmm6
  _QWORD *v4; // rsi
  _QWORD *v6; // rbx
  float i; // xmm6_4
  float v8; // xmm0_4
  __int64 v9; // rcx
  double v10; // xmm0_8
  __int64 v11; // rax
  double v12; // xmm1_8
  double v14[6]; // [rsp+20h] [rbp-58h] BYREF
  __int128 v15; // [rsp+50h] [rbp-28h]

  v15 = v2;
  *(_WORD *)(a1 + 0x11C) = 0xFFFF;
  v4 = *(_QWORD **)(a1 + 0x240);
  v6 = *(_QWORD **)(a1 + 0x238);
  for ( i = 0.0; v6 != v4; ++v6 )
  {
    v8 = (*(float (__fastcall **)(__int64))(*(_QWORD *)(*v6 & 0xFFFFFFFFFFFFLL) + 0x38LL))(*v6 & 0xFFFFFFFFFFFFLL);
    if ( v8 > i )
    {
      i = v8;
      *(_WORD *)(a1 + 0x11C) = *(_WORD *)((*v6 & 0xFFFFFFFFFFFFLL) + 0x10);
    }
  }
  v9 = *(unsigned __int16 *)(a1 + 0x2E4);
  v10 = i;
  if ( (_WORD)v9 != 0xFFFF )
  {
    *(double *)(*(_QWORD *)(0xC0LL
                          * *(unsigned int *)((*(_QWORD *)(a1 + 0x318) & 0xFFFFFFFFFFFFLL) + 0x2E8)
                          + *(_QWORD *)(qword_15126E2D8 + 0x100LL)
                          + 8)
              + 0x38 * v9
              + 0x10) = i;
  }
  *(float *)(a1 + 0x118) = i;
  v11 = *(_QWORD *)pCZoneSystem;
  if ( COERCE_FLOAT(LODWORD(i) ^ 0x80000000) <= i )
  {
    v12 = COERCE_FLOAT(LODWORD(i) ^ 0x80000000);
  }
  else
  {
    v12 = 1.0e150;
    v10 = -1.0e150;
  }
  v14[0] = v12;
  v14[1] = v12;
  v14[2] = v12;
  v14[3] = v10;
  v14[4] = v10;
  v14[5] = v10;
  (*(void (__fastcall **)(FH4 *, __int64, double *, __int64))(v11 + 0x378))(
    pCZoneSystem,
    a1 + 0x2A0,
    v14,
    a2);
  return sub_146908DC0(a1, COERCE_DOUBLE((unsigned __int64)*(_DWORD *)(a1 + 0x118)));
}

// --- End Function: sub_14690F770 (0x14690F770) ---

// --- Function: sub_14690F8E0 (0x14690F8E0) ---
__int64 __fastcall sub_14690F8E0(__int64 a1, float a2)
{
  __int64 v2; // r9
  __int64 n0xFFFF; // rax

  v2 = *(unsigned __int16 *)(a1 + 0x2E4);
  n0xFFFF = 0xFFFF;
  if ( (_WORD)v2 != 0xFFFF )
  {
    n0xFFFF = *(_QWORD *)(0xC0LL * *(unsigned int *)((*(_QWORD *)(a1 + 0x318) & 0xFFFFFFFFFFFFLL) + 0x2E8)
                        + *(_QWORD *)(qword_15126E2D8 + 0x100LL)
                        + 8);
    *(double *)(n0xFFFF + 0x38 * v2 + 8) = a2;
  }
  return n0xFFFF;
}

// --- End Function: sub_14690F8E0 (0x14690F8E0) ---

// --- Function: sub_14690F940 (0x14690F940) ---
double __fastcall sub_14690F940(__int64 a1, _WORD *a2, __int64 a3, char a4)
{
  double result; // xmm0_8
  __int128 v5; // xmm6
  double v10; // xmm0_8
  __int64 v11; // rcx
  __int64 v12; // rbx
  __int16 v13; // bx
  __int64 v14; // rax
  _WORD *v15; // rcx
  __int64 v16; // rax
  __int64 v17; // rax
  float v18; // xmm6_4
  float v19; // xmm0_4
  float v20; // xmm0_4
  float v21; // xmm1_4
  __int16 v22; // r9
  __int64 v23; // rcx
  double v24; // xmm1_8
  __int64 v25; // rax
  double v26; // xmm0_8
  double v27[6]; // [rsp+30h] [rbp-A8h] BYREF
  int n0x1000; // [rsp+60h] [rbp-78h] BYREF
  __int64 v29; // [rsp+64h] [rbp-74h]
  int v30; // [rsp+6Ch] [rbp-6Ch]
  __int64 v31; // [rsp+70h] [rbp-68h]
  unsigned __int64 v32; // [rsp+78h] [rbp-60h]
  __int64 v33; // [rsp+80h] [rbp-58h]
  __int64 v34; // [rsp+88h] [rbp-50h]
  __int128 v35; // [rsp+B0h] [rbp-28h]

  if ( *(_BYTE *)(a1 + 0xD) < 5u )
  {
    n0x1000 = 0x1000;
    v29 = 0;
    v30 = 0;
    v32 = 0;
    v33 = 0;
    v34 = 0;
    v31 = 1;
    v10 = psub_7FF6AAB938D0(
            &n0x1000,
            0,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            0);
    if ( *(_BYTE *)(a1 + 0xD) >= 4u )
    {
      v11 = *(unsigned int *)((*(_QWORD *)(a1 + 0x318) & 0xFFFFFFFFFFFFLL) + 0x2E8);
      if ( (_DWORD)v11 != 0xFFFFFFFF && a2[0x31] != 0xFFFF )
      {
        v12 = *(_QWORD *)(0xC0 * v11 + *(_QWORD *)(qword_15126E2D8 + 0x100LL)) + 0x20LL * (unsigned __int16)a2[0x31];
        *(float *)&v10 = (*(float (__fastcall **)(_WORD *))(*(_QWORD *)a2 + 0x38LL))(a2);
        *(float *)(v12 + 8) = *(float *)&v10;
      }
    }
    if ( !a4 )
    {
      goto LABEL_29;
    }
    v13 = a2[8];
    v35 = v5;
    v14 = sub_1468A07E0((__int64)a2);
    v15 = a2;
    if ( !v14 )
    {
      v16 = sub_1468A0690((__int64)a2);
      if ( v16 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v16 + 0x588LL))(v16);
        goto LABEL_14;
      }
      v17 = sub_1468A0770((__int64)a2);
      v15 = a2;
      if ( !v17 )
      {
        if ( !sub_1468A0700((__int64)a2) )
        {
LABEL_19:
          v20 = (*(float (__fastcall **)(_WORD *))(*(_QWORD *)a2 + 0x38LL))(a2);
          v21 = *(float *)(a1 + 0x118);
          v22 = a2[8];
          if ( v20 <= v21 )
          {
            if ( *(_WORD *)(a1 + 0x11C) == v22 && v20 < v21 )
            {
              sub_14690F770(a1, a3);
            }
          }
          else
          {
            v23 = *(unsigned __int16 *)(a1 + 0x2E4);
            v24 = v20;
            if ( (_WORD)v23 != 0xFFFF )
            {
              *(double *)(*(_QWORD *)(0xC0LL
                                    * *(unsigned int *)((*(_QWORD *)(a1 + 0x318) & 0xFFFFFFFFFFFFLL)
                                                      + 0x2E8)
                                    + *(_QWORD *)(qword_15126E2D8 + 0x100LL)
                                    + 8)
                        + 0x38 * v23
                        + 0x10) = v20;
            }
            *(float *)(a1 + 0x118) = v20;
            *(_WORD *)(a1 + 0x11C) = v22;
            v25 = *(_QWORD *)pCZoneSystem;
            if ( COERCE_FLOAT(LODWORD(v20) ^ 0x80000000) <= v20 )
            {
              v26 = COERCE_FLOAT(LODWORD(v20) ^ 0x80000000);
            }
            else
            {
              v26 = 1.0e150;
              v24 = -1.0e150;
            }
            v27[0] = v26;
            v27[1] = v26;
            v27[2] = v26;
            v27[3] = v24;
            v27[4] = v24;
            v27[5] = v24;
            (*(void (__fastcall **)(FH4 *, __int64, double *, _QWORD))(v25 + 0x378))(
              pCZoneSystem,
              a1 + 0x2A0,
              v27,
              0);
            sub_146908DC0(
              a1,
              COERCE_DOUBLE((unsigned __int64)*(_DWORD *)(a1 + 0x118)));
          }
LABEL_29:
          v32 = __rdtsc();
          return psub_7FF6AAB93930(&n0x1000);
        }
        v15 = a2;
      }
    }
    v10 = (*(double (__fastcall **)(_WORD *))(*(_QWORD *)a2 + 0x38LL))(v15);
LABEL_14:
    v18 = *(float *)&v10;
    v19 = *(float *)(a1 + 0x114);
    if ( v18 <= v19 )
    {
      if ( *(_WORD *)(a1 + 0x11E) == v13 && v18 < v19 )
      {
        sub_14690FC80(a1);
      }
    }
    else
    {
      sub_14690F8E0(a1, v18);
      *(_WORD *)(a1 + 0x11E) = v13;
      *(float *)(a1 + 0x114) = v18;
      sub_146909960(a1, v18);
    }
    goto LABEL_19;
  }
  return result;
}

// --- End Function: sub_14690F940 (0x14690F940) ---

// --- Function: sub_14690FC40 (0x14690FC40) ---
void __fastcall sub_14690FC40(__int64 a1, __int64 a2)
{
  __int16 v2; // di

  v2 = *(_WORD *)(a2 + 0x10);
  if ( *(_WORD *)(a1 + 0x11C) == v2 )
  {
    sub_14690F770(a1, 0);
  }
  if ( *(_WORD *)(a1 + 0x11E) == v2 )
  {
    sub_14690FC80(a1);
  }
}

// --- End Function: sub_14690FC40 (0x14690FC40) ---

// --- Function: sub_14690FC80 (0x14690FC80) ---
double __fastcall sub_14690FC80(__int64 a1)
{
  float v1; // xmm0_4
  __int128 v2; // xmm6
  _QWORD *v4; // rdi
  _QWORD *v5; // r14
  float v6; // xmm6_4
  __int64 v7; // rsi
  __int64 (__fastcall *v8)(__int64, __int16 *); // rbx
  __int16 n0xFFFF; // ax
  char v10; // al
  __int64 v11; // rbx
  __int64 v12; // rax
  __int64 *v13; // rcx
  unsigned __int8 (__fastcall *v14)(__int64, __int16 *); // rsi
  __int16 n0xFFFF_2; // ax
  __int64 v16; // rbx
  __int64 (__fastcall *v17)(__int64, __int16 *); // rsi
  __int16 n0xFFFF_4; // ax
  char v19; // al
  __int64 v20; // rcx
  _BYTE v22[2]; // [rsp+20h] [rbp-68h] BYREF
  _BYTE v23[14]; // [rsp+22h] [rbp-66h] BYREF
  __int128 v24; // [rsp+30h] [rbp-58h]
  __int16 n0xFFFF_1; // [rsp+90h] [rbp+8h] BYREF
  __int16 n0xFFFF_3; // [rsp+98h] [rbp+10h] BYREF
  __int16 n0xFFFF_5; // [rsp+A0h] [rbp+18h] BYREF
  char v28; // [rsp+A8h] [rbp+20h] BYREF

  v24 = v2;
  *(_WORD *)(a1 + 0x11E) = 0xFFFF;
  v4 = *(_QWORD **)(a1 + 0x238);
  v5 = *(_QWORD **)(a1 + 0x240);
  v6 = 0.0;
  if ( v4 != v5 )
  {
    while ( 1 )
    {
      v7 = *v4 & 0xFFFFFFFFFFFFLL;
      v8 = *(__int64 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)v7 + 8LL);
      n0xFFFF = n0xFFFF_83;
      if ( n0xFFFF_83 == (__int16)0xFFFF )
      {
        n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                     + 0x10LL))(
                              global_dispatcher_ptr,
                              &v28,
                              "RenderProxy");
        n0xFFFF_83 = n0xFFFF;
      }
      n0xFFFF_1 = n0xFFFF;
      v10 = v8(v7, &n0xFFFF_1);
      v11 = *v4 & 0xFFFFFFFFFFFFLL;
      if ( !v10 )
      {
        v7 = 0;
      }
      v12 = *(_QWORD *)v11;
      if ( v7 )
      {
        v13 = (__int64 *)(*v4 & 0xFFFFFFFFFFFFLL);
        goto LABEL_22;
      }
      v14 = *(unsigned __int8 (__fastcall **)(__int64, __int16 *))(v12 + 8);
      n0xFFFF_2 = ::n0xFFFF;
      if ( ::n0xFFFF == (__int16)0xFFFF )
      {
        n0xFFFF_2 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                        + 0x10LL))(
                                global_dispatcher_ptr,
                                v22,
                                "IEntityComponentObjectContainer");
        ::n0xFFFF = n0xFFFF_2;
      }
      n0xFFFF_3 = n0xFFFF_2;
      if ( !v14(v11, &n0xFFFF_3) )
      {
        v11 = 0;
      }
      if ( v11 )
      {
        break;
      }
      v16 = *v4 & 0xFFFFFFFFFFFFLL;
      v17 = *(__int64 (__fastcall **)(__int64, __int16 *))(*(_QWORD *)v16 + 8LL);
      n0xFFFF_4 = n0xFFFF_97;
      if ( n0xFFFF_97 == (__int16)0xFFFF )
      {
        n0xFFFF_4 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)global_dispatcher_ptr
                                                                                        + 0x10LL))(
                                global_dispatcher_ptr,
                                v23,
                                "IEntityComponentUIRenderToTexture");
        n0xFFFF_97 = n0xFFFF_4;
      }
      n0xFFFF_5 = n0xFFFF_4;
      v19 = v17(v16, &n0xFFFF_5);
      v13 = (__int64 *)(*v4 & 0xFFFFFFFFFFFFLL);
      if ( !v19 )
      {
        v16 = 0;
      }
      if ( v16 )
      {
        goto LABEL_21;
      }
      if ( sub_1468A0700((__int64)v13) )
      {
        v13 = (__int64 *)(*v4 & 0xFFFFFFFFFFFFLL);
LABEL_21:
        v12 = *v13;
LABEL_22:
        v1 = (*(float (__fastcall **)(__int64 *))(v12 + 0x38))(v13);
LABEL_23:
        if ( v1 > v6 )
        {
          v6 = v1;
          *(_WORD *)(a1 + 0x11E) = *(_WORD *)((*v4 & 0xFFFFFFFFFFFFLL) + 0x10);
          *(float *)(a1 + 0x114) = v1;
        }
      }
      if ( ++v4 == v5 )
      {
        goto LABEL_26;
      }
    }
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x588LL))(v11);
    goto LABEL_23;
  }
LABEL_26:
  v20 = *(unsigned __int16 *)(a1 + 0x2E4);
  if ( (_WORD)v20 != 0xFFFF )
  {
    *(double *)(*(_QWORD *)(0xC0LL
                          * *(unsigned int *)((*(_QWORD *)(a1 + 0x318) & 0xFFFFFFFFFFFFLL) + 0x2E8)
                          + *(_QWORD *)(qword_15126E2D8 + 0x100LL)
                          + 8)
              + 0x38 * v20
              + 8) = v6;
  }
  return sub_146909960(a1, v6);
}

// --- End Function: sub_14690FC80 (0x14690FC80) ---

// --- Function: sub_146910770 (0x146910770) ---
unsigned __int64 __fastcall sub_146910770(__int64 a1, int a2, __int64 a3, int n2, int a5, unsigned __int8 a6)
{
  unsigned __int64 result; // rax

  result = sub_1468DE420(a1);
  if ( result )
  {
    result = sub_14689D0B0(result, a2, a3, n2, a5, a6);
    if ( (_BYTE)result )
    {
      if ( (a5 & 0x2000) == 0 )
      {
        *(_DWORD *)(a1 + 8) |= 0x40u;
      }
    }
  }
  return result;
}

// --- End Function: sub_146910770 (0x146910770) ---

// --- Function: sub_146911BB0 (0x146911BB0) ---
__int64 __fastcall sub_146911BB0(
        unsigned __int64 a1,
        __int64 a2,
        int n2,
        __int64 a4,
        char a5,
        __int64 a6)
{
  __int64 v9; // rax
  __int64 v10; // rax
  __int128 v11; // xmm1
  __int128 v12; // xmm1
  __int64 v13; // rdi
  unsigned int v14; // esi
  __int128 pCZoneSystem; // [rsp+30h] [rbp-D0h] BYREF
  __int64 v17; // [rsp+40h] [rbp-C0h]
  __m256 v18; // [rsp+50h] [rbp-B0h]
  __int128 v19; // [rsp+70h] [rbp-90h]
  __int128 v20; // [rsp+80h] [rbp-80h]
  int n0xF00; // [rsp+90h] [rbp-70h] BYREF
  __int64 v22; // [rsp+94h] [rbp-6Ch]
  int v23; // [rsp+9Ch] [rbp-64h]
  __int64 v24; // [rsp+A0h] [rbp-60h]
  unsigned __int64 v25; // [rsp+A8h] [rbp-58h]
  __int64 v26; // [rsp+B0h] [rbp-50h]
  __int64 v27; // [rsp+B8h] [rbp-48h]
  _BYTE v28[64]; // [rsp+E0h] [rbp-20h] BYREF

  n0xF00 = 0xF00;
  v22 = 0;
  v23 = 0;
  v25 = 0;
  v26 = 0;
  v27 = 0;
  v24 = 1;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( n2 )
  {
    if ( n2 == 2 )
    {
      v12 = *(_OWORD *)(a2 + 0x30);
      v18 = *(__m256 *)a2;
      v19 = *(_OWORD *)(a2 + 0x20);
      v20 = v12;
    }
    else
    {
      LogFatalError("Unsupported ZoneSpace enum %u", n2);
    }
  }
  else
  {
    v9 = (*(__int64 (__fastcall **)(FH4 *, unsigned __int64))(*(_QWORD *)::pCZoneSystem + 0x60LL))(
           ::pCZoneSystem,
           a1 + 0x2A0);
    v10 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)v9 + 0xC8LL))(v9, v28, a2);
    v11 = *(_OWORD *)(v10 + 0x30);
    v18 = *(__m256 *)v10;
    v19 = *(_OWORD *)(v10 + 0x20);
    v20 = v11;
  }
  pCZoneSystem = 0;
  v17 = 0;
  __asm { vzeroupper }
  v13 = (*(__int64 (__fastcall **)(FH4 *, __int64, __int128 *, __int64))(*(_QWORD *)::pCZoneSystem + 0x180LL))(
          ::pCZoneSystem,
          0x7832,
          &pCZoneSystem,
          a6);
  v14 = sub_146911E60(a1, a5);
  sub_1468E6EC0(a1, v14, v13);
  if ( !a6 )
  {
    (*(void (__fastcall **)(FH4 *, __int64, __int64))(*(_QWORD *)::pCZoneSystem + 0x190LL))(::pCZoneSystem, 0x7832, v13);
  }
  if ( (_QWORD)pCZoneSystem )
  {
    sub_14039EFB0((__int64)&pCZoneSystem, (FH4 *)pCZoneSystem, (v17 - pCZoneSystem) & 0xFFFFFFFFFFFFFFE0uLL);
    pCZoneSystem = 0;
    v17 = 0;
  }
  v25 = __rdtsc();
  psub_7FF6AAB93930(&n0xF00);
  return v14;
}

// --- End Function: sub_146911BB0 (0x146911BB0) ---

// --- Function: sub_146911E60 (0x146911E60) ---
__int64 __fastcall sub_146911E60(
        unsigned __int64 a1,
        double *a2,
        unsigned int a3,
        __int64 a4,
        unsigned __int8 n2)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm14
  __int128 v7; // xmm15
  __int64 v9; // r14
  double v12; // xmm14_8
  double v13; // xmm15_8
  double v14; // xmm4_8
  double v15; // xmm5_8
  double v16; // xmm8_8
  double v17; // xmm9_8
  double v22; // xmm7_8
  __int128 v23; // xmm5
  __int128 v24; // kr00_16
  __int128 v25; // xmm8
  double v26; // xmm6_8
  __int128 v27; // kr00_16
  double v34; // xmm1_8
  double v35; // xmm2_8
  double v36; // xmm3_8
  double v37; // xmm4_8
  __int128 v38; // xmm5
  double v39; // xmm6_8
  double v40; // xmm0_8
  char v41; // r14
  char v42; // bl
  __int128 v43; // xmm1
  __int64 *v44; // rcx
  __int64 v45; // rax
  __int16 v46; // dx
  _QWORD *v47; // rbx
  __int64 a1_1; // rbx
  double v51; // xmm1_8
  double v52; // xmm8_8
  double v53; // xmm7_8
  unsigned __int8 n2_1; // cl
  __int64 v55; // rax
  int n0xA; // ecx
  int v57; // ebx
  unsigned __int64 v58; // rax
  __int64 v59; // rax
  double v60; // xmm13_8
  __int128 v61; // xmm12
  double v62; // xmm9_8
  double v63; // xmm8_8
  double v64; // xmm11_8
  __int128 v65; // xmm10
  __int128 v66; // kr00_16
  double v71; // xmm6_8
  double v72; // xmm5_8
  double v73; // xmm4_8
  __int128 v78; // xmm0
  double v79; // xmm9_8
  double v80; // xmm8_8
  __int128 v81; // kr00_16
  double v82; // xmm12_8
  double v83; // xmm13_8
  double v84; // xmm2_8
  double v85; // xmm10_8
  double v86; // xmm11_8
  double v99; // xmm2_8
  double v100; // xmm1_8
  double v105; // xmm6_8
  double v106; // xmm5_8
  double v107; // xmm4_8
  double *v110; // rax
  double v111; // xmm14_8
  double v112; // xmm15_8
  double v113; // xmm9_8
  double v114; // xmm8_8
  double v115; // xmm11_8
  double v116; // kr00_8
  double v117; // xmm7_8
  double v118; // xmm5_8
  double v119; // xmm6_8
  double v121; // kr00_8
  double v122; // xmm5_8
  double v123; // xmm7_8
  double v124; // xmm9_8
  double v125; // xmm2_8
  double v126; // xmm0_8
  double v127; // xmm1_8
  __int64 v128; // rax
  double v129; // xmm12_8
  double v130; // xmm13_8
  double v131; // xmm14_8
  double v132; // xmm3_8
  double v133; // xmm0_8
  double v134; // xmm1_8
  double v135; // xmm2_8
  double v136; // xmm0_8
  double v137; // xmm2_8
  unsigned __int64 v138; // rax
  unsigned __int64 v139; // r14
  __int64 v140; // rax
  __int64 v141; // rdx
  __int64 v142; // rbx
  __int64 v143; // rax
  float *v144; // rax
  __int64 v145; // rdx
  __int16 v146; // r8
  double v147; // xmm6_8
  double v148; // xmm15_8
  double v149; // xmm9_8
  double v150; // xmm11_8
  double v151; // xmm7_8
  double v152; // xmm14_8
  double v153; // xmm12_8
  double v154; // kr00_8
  double v155; // xmm3_8
  double v156; // xmm4_8
  double v157; // xmm5_8
  double v158; // xmm8_8
  float *v159; // rax
  double v160; // xmm13_8
  double v161; // xmm10_8
  double v162; // xmm8_8
  double v163; // xmm7_8
  double v164; // xmm5_8
  double v165; // xmm4_8
  double v166; // xmm6_8
  double v167; // xmm4_8
  double v168; // xmm5_8
  double v169; // xmm9_8
  double v170; // xmm7_8
  double v171; // kr00_8
  double v172; // xmm12_8
  double v173; // xmm6_8
  double v174; // xmm5_8
  double v175; // xmm4_8
  double *v178; // rax
  double v179; // xmm14_8
  double v180; // xmm15_8
  double v181; // xmm9_8
  double v182; // xmm8_8
  double v183; // xmm11_8
  double v184; // xmm5_8
  double v185; // xmm7_8
  double v186; // xmm5_8
  double v187; // xmm6_8
  double v188; // kr00_8
  double v189; // xmm9_8
  double v190; // xmm2_8
  double v191; // xmm0_8
  double v192; // xmm1_8
  double v193; // xmm12_8
  double v194; // xmm13_8
  double v195; // kr00_8
  double v196; // xmm2_8
  double v197; // xmm0_8
  double v198; // xmm2_8
  __int64 v200; // rbx
  float *v201; // rax
  double v202; // xmm11_8
  double v203; // xmm13_8
  double v204; // xmm12_8
  double v205; // xmm6_8
  double v206; // xmm5_8
  double v207; // xmm4_8
  double v208; // xmm8_8
  double v209; // xmm9_8
  double v210; // xmm4_8
  double v211; // xmm10_8
  double v212; // xmm6_8
  double v213; // xmm7_8
  double v214; // kr00_8
  double *v217; // rax
  double v218; // xmm14_8
  double v219; // xmm15_8
  double v220; // xmm9_8
  double v221; // xmm8_8
  double v222; // xmm11_8
  double v223; // xmm5_8
  double v224; // xmm7_8
  double v225; // xmm5_8
  double v226; // xmm6_8
  double v228; // kr00_8
  double v229; // xmm5_8
  double v230; // xmm7_8
  double v231; // xmm2_8
  double v232; // xmm12_8
  double v233; // xmm13_8
  double v234; // xmm14_8
  double v235; // xmm15_8
  __int64 v236; // rax
  double v237; // kr00_8
  double v238; // xmm0_8
  double v239; // xmm1_8
  __int64 RelativeTransform; // rax
  __int64 v242; // r8
  double v245; // [rsp+30h] [rbp-328h]
  double v246; // [rsp+30h] [rbp-328h]
  double v247; // [rsp+30h] [rbp-328h]
  double v248; // [rsp+30h] [rbp-328h]
  double v249; // [rsp+30h] [rbp-328h]
  double v250; // [rsp+38h] [rbp-320h]
  double v251; // [rsp+40h] [rbp-318h]
  double v252; // [rsp+40h] [rbp-318h]
  double v253; // [rsp+40h] [rbp-318h]
  double v254; // [rsp+48h] [rbp-310h]
  double v255; // [rsp+48h] [rbp-310h]
  double v256; // [rsp+50h] [rbp-308h]
  double v257; // [rsp+50h] [rbp-308h]
  double v258; // [rsp+58h] [rbp-300h]
  double v259; // [rsp+58h] [rbp-300h]
  __int128 v260; // [rsp+60h] [rbp-2F8h] BYREF
  __m256 v261; // [rsp+70h] [rbp-2E8h] BYREF
  __int128 v262; // [rsp+90h] [rbp-2C8h]
  double v263; // [rsp+A0h] [rbp-2B8h]
  double v264; // [rsp+A8h] [rbp-2B0h]
  double v265; // [rsp+B0h] [rbp-2A8h]
  double v266; // [rsp+B8h] [rbp-2A0h]
  double v267; // [rsp+C0h] [rbp-298h]
  double v268; // [rsp+C8h] [rbp-290h]
  double v269; // [rsp+D0h] [rbp-288h] BYREF
  double v270; // [rsp+D8h] [rbp-280h]
  double v271; // [rsp+E0h] [rbp-278h]
  double v272; // [rsp+E8h] [rbp-270h]
  double v273; // [rsp+F0h] [rbp-268h]
  double v274; // [rsp+F8h] [rbp-260h]
  double v275; // [rsp+100h] [rbp-258h]
  double v276; // [rsp+108h] [rbp-250h]
  double v277; // [rsp+110h] [rbp-248h]
  double v278; // [rsp+118h] [rbp-240h]
  double v279; // [rsp+120h] [rbp-238h]
  double v280; // [rsp+128h] [rbp-230h]
  double v281; // [rsp+130h] [rbp-228h]
  __int128 v282; // [rsp+138h] [rbp-220h] BYREF
  double v283; // [rsp+148h] [rbp-210h]
  double v284; // [rsp+150h] [rbp-208h]
  __m256 v285; // [rsp+158h] [rbp-200h]
  int n0xF00; // [rsp+180h] [rbp-1D8h] BYREF
  __int64 v287; // [rsp+184h] [rbp-1D4h]
  int v288; // [rsp+18Ch] [rbp-1CCh]
  __int64 v289; // [rsp+190h] [rbp-1C8h]
  unsigned __int64 v290; // [rsp+198h] [rbp-1C0h]
  __int64 v291; // [rsp+1A0h] [rbp-1B8h]
  __int64 v292; // [rsp+1A8h] [rbp-1B0h]
  __int64 v293[6]; // [rsp+1D0h] [rbp-188h] BYREF
  double v294; // [rsp+200h] [rbp-158h]
  double v295[4]; // [rsp+210h] [rbp-148h] BYREF
  __int128 v296; // [rsp+230h] [rbp-128h]
  double v297; // [rsp+240h] [rbp-118h]
  float v298[4]; // [rsp+248h] [rbp-110h] BYREF
  float v299; // [rsp+258h] [rbp-100h]
  float v300; // [rsp+25Ch] [rbp-FCh]
  __int64 v301; // [rsp+260h] [rbp-F8h]
  __int64 v302; // [rsp+268h] [rbp-F0h]
  float v303[4]; // [rsp+270h] [rbp-E8h]
  __int128 v304; // [rsp+290h] [rbp-C8h]
  __int128 v305; // [rsp+2A0h] [rbp-B8h]
  __int128 v306; // [rsp+320h] [rbp-38h]

  v306 = v5;
  v305 = v6;
  v304 = v7;
  n0xF00 = 0xF00;
  v287 = 0;
  v288 = 0;
  v9 = a4;
  v289 = 1;
  v290 = 0;
  v291 = 0;
  v292 = 0;
  psub_7FF6AAB938D0(
    &n0xF00,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( (a3 & 0x1000) == 0 )
  {
    if ( (a3 & 2) != 0
      && fabs(*(double *)(a1 + 0x48) - a2[4]) <= 0.00001
      && fabs(*(double *)(a1 + 0x50) - a2[5]) <= 0.00001
      && fabs(*(double *)(a1 + 0x58) - a2[6]) <= 0.00001 )
    {
      a3 &= ~2u;
    }
    if ( (a3 & 4) != 0
      && fabs(*(double *)(a1 + 0x28) - *a2) <= 0.00001
      && fabs(*(double *)(a1 + 0x30) - a2[1]) <= 0.00001
      && fabs(*(double *)(a1 + 0x38) - a2[2]) <= 0.00001
      && fabs(*(double *)(a1 + 0x40) - a2[3]) <= 0.00001 )
    {
      a3 &= ~4u;
    }
    if ( (a3 & 8) != 0 && fabs(*(double *)(a1 + 0x60) - a2[7]) <= 0.00001 )
    {
      a3 &= ~8u;
    }
  }
  *(_QWORD *)(a1 + 0x68) = *(_QWORD *)(a1 + 0x28);
  *(_QWORD *)(a1 + 0x70) = *(_QWORD *)(a1 + 0x30);
  *(_QWORD *)(a1 + 0x78) = *(_QWORD *)(a1 + 0x38);
  *(_QWORD *)(a1 + 0x80) = *(_QWORD *)(a1 + 0x40);
  *(_OWORD *)(a1 + 0x88) = *(_OWORD *)(a1 + 0x48);
  *(double *)(a1 + 0x98) = *(double *)(a1 + 0x58);
  *(_QWORD *)(a1 + 0xA0) = *(_QWORD *)(a1 + 0x60);
  if ( (a3 & 2) != 0 )
  {
    *(_OWORD *)(a1 + 0x48) = *((_OWORD *)a2 + 2);
    *(double *)(a1 + 0x58) = a2[6];
  }
  v12 = 1.0;
  v13 = 0.0;
  if ( (a3 & 4) != 0 )
  {
    v14 = a2[3];
    v15 = *a2;
    v16 = a2[1];
    v17 = a2[2];
    _XMM1 = COERCE_UNSIGNED_INT64(v15 * v15 + v14 * v14 + v17 * v17 + v16 * v16);
    if ( v15 * v15 + v14 * v14 + v17 * v17 + v16 * v16 <= 0.00000000999999993922529 )
    {
      v26 = 1.0;
      v22 = 0.0;
      v23 = 0;
      v25 = 0;
    }
    else
    {
      __asm
      {
        vmovddup xmm0, xmm1
        vsqrtpd xmm1, xmm0
        vunpckhpd xmm1, xmm1, xmm1
      }
      v22 = 1.0 / *(double *)&_XMM1 * v15;
      *((_QWORD *)&v24 + 1) = 0;
      *(double *)&v24 = 1.0 / *(double *)&_XMM1 * v16;
      v23 = v24;
      *((_QWORD *)&v24 + 1) = 0;
      *(double *)&v24 = 1.0 / *(double *)&_XMM1 * v17;
      v25 = v24;
      v26 = 1.0 / *(double *)&_XMM1 * v14;
    }
    *(double *)(a1 + 0x30) = *(double *)&v23;
    *(double *)(a1 + 0x40) = v26;
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v23 + 1);
    *(double *)&v27 = *(double *)&v23 * v22 - *(double *)&v25 * v26 + *(double *)&v23 * v22 - *(double *)&v25 * v26;
    _XMM0 = v27;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v23 + 1);
    *(double *)(a1 + 0x28) = v22;
    *(double *)(a1 + 0x38) = *(double *)&v25;
    *(float *)(a1 + 0xA8) = *(float *)&_XMM1;
    *(double *)&v27 = *(double *)&v23 * *(double *)&v23
                    + *(double *)&v23 * *(double *)&v23
                    + v26 * v26
                    + v26 * v26
                    - 1.0;
    _XMM2 = v27;
    __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v25 + 1);
    *(double *)&v27 = *(double *)&v25 * *(double *)&v23 + *(double *)&v25 * *(double *)&v23 + v22 * v26 + v22 * v26;
    _XMM1 = v27;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(float *)(a1 + 0xAC) = *(float *)&_XMM3;
    *(float *)(a1 + 0xB0) = *(float *)&_XMM2;
  }
  if ( (a3 & 8) != 0 )
  {
    *(double *)(a1 + 0x60) = a2[7];
  }
  v34 = *(double *)(a1 + 0x40);
  v35 = *(double *)(a1 + 0x28);
  v36 = *(double *)(a1 + 0x30);
  v37 = *(double *)(a1 + 0x38);
  v38 = *(_OWORD *)(a1 + 0x48);
  v39 = *(double *)(a1 + 0x58);
  v40 = *(double *)(a1 + 0x60);
  *(double *)&v261.m256_f32[2] = v34;
  *(double *)&v260 = v35;
  *((double *)&v260 + 1) = v36;
  *(double *)v261.m256_f32 = v37;
  *((double *)&v262 + 1) = v40;
  *(_OWORD *)&v261.m256_f32[4] = v38;
  *(double *)&v262 = v39;
  if ( (a3 & 0xE) != 0 )
  {
    v41 = n2 && n2 != 2;
    v42 = (*(unsigned __int8 (__fastcall **)(FH4 *))(*(_QWORD *)pCZoneSystem + 0xE8LL))(pCZoneSystem) == 0;
    sub_1468B3D20(a1, v41, v42);
    (*(void (__fastcall **)(FH4 *, unsigned __int64, __int128 *, __int64, __int64))(*(_QWORD *)pCZoneSystem + 0x3B0LL))(
      pCZoneSystem,
      a1 + 0x2A0,
      &v260,
      2,
      a4);
    v43 = v262;
    *(_OWORD *)(a1 + 0xD0) = v260;
    *(__m256 *)(a1 + 0xE0) = v261;
    *(_OWORD *)(a1 + 0x100) = v43;
    __asm { vzeroupper }
    sub_1468F9D60(a1, v41, v42);
    v38 = *(_OWORD *)&v261.m256_f32[4];
    v34 = *(double *)&v261.m256_f32[2];
    v37 = *(double *)v261.m256_f32;
    v36 = *((double *)&v260 + 1);
    v35 = *(double *)&v260;
    v39 = *(double *)&v262;
    v9 = a4;
  }
  v44 = *(__int64 **)(a1 + 0x2B8);
  if ( v44 && (a3 & 6) != 0 )
  {
    v45 = *v44;
    v295[0] = v35;
    v295[1] = v36;
    v295[2] = v37;
    v295[3] = v34;
    v296 = v38;
    v297 = v39;
    (*(void (__fastcall **)(__int64 *, double *, __int64))(v45 + 0x58))(v44, v295, 1);
  }
  if ( (a3 & 0xE) != 0 )
  {
    if ( (a3 & 0x40000) == 0 )
    {
      sub_140368960((__int64)v298, 0);
      v301 = (int)a3;
      v302 = v9;
      *(_QWORD *)v303 = n2;
      sub_1468FF140(a1, (__int64)v298);
    }
    if ( (a3 & 0x10000) == 0 || dword_15126E264 )
    {
      v46 = ((a3 & 6) != 0 ? 6 : 0) | 8;
      if ( (a3 & 8) == 0 )
      {
        v46 = (a3 & 6) != 0 ? 6 : 0;
      }
      sub_146900A50(a1, v46);
    }
    v47 = *(_QWORD **)(a1 + 0x128);
    if ( !v47 )
    {
      goto LABEL_85;
    }
    if ( (a3 & 0x20) != 0 )
    {
      goto LABEL_85;
    }
    if ( !is_valid_handle_typeB(*(unsigned __int64 **)(a1 + 0x128)) )
    {
      goto LABEL_85;
    }
    a1_1 = *v47 & 0xFFFFFFFFFFFFLL;
    if ( !a1_1 )
    {
      goto LABEL_85;
    }
    if ( !*(_QWORD *)(a1_1 + 0x2B8)
      || (*(_BYTE *)(*(_QWORD *)(a1 + 0x128) + 0x140LL) & 4) != 0 )
    {
      n2_1 = n2;
      if ( *(_QWORD *)(a1_1 + 0x4C0) != *(_QWORD *)(a1 + 0x4C0) )
      {
        n2_1 = 1;
      }
      CEntity::GetTransform(a1_1, (__int64)&v282, 2, 0xFFFFFFFF, 0, n2_1);
      v52 = v284;
      v51 = *((double *)&v282 + 1);
      v53 = v283;
      v256 = *(double *)&v282;
      v254 = *(double *)&v285.m256_f32[6];
      v250 = v284;
    }
    else
    {
      __asm { vmovupd ymm1, cs:ymmword_147F38640 }
      _XMM0 = 0;
      __asm { vmovupd [rsp+358h+var_200], ymm1 }
      v51 = 0.0;
      v284 = 1.0;
      v283 = 0.0;
      v256 = 0.0;
      v250 = 1.0;
      v254 = 1.0;
      __asm { vmovupd [rsp+358h+var_220], xmm0 }
      v52 = 1.0;
      v53 = 0.0;
    }
    v55 = *(_QWORD *)(a1 + 0x128);
    v251 = v53;
    v258 = v51;
    n0xA = *(_DWORD *)(v55 + 0x10);
    v294 = *(double *)&v285.m256_f32[4];
    if ( n0xA == 1 || n0xA == 0xA )
    {
      __asm { vzeroupper }
      RelativeTransform = CEntity::GetRelativeTransform(a1_1, (__int64)v293, a1, n2);
      v242 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
      *(_QWORD *)v242 = *(_QWORD *)RelativeTransform;
      *(_QWORD *)(v242 + 8) = *(_QWORD *)(RelativeTransform + 8);
      *(_QWORD *)(v242 + 0x10) = *(_QWORD *)(RelativeTransform + 0x10);
      *(_QWORD *)(v242 + 0x18) = *(_QWORD *)(RelativeTransform + 0x18);
      *(_OWORD *)(v242 + 0x20) = *(_OWORD *)(RelativeTransform + 0x20);
      *(double *)(v242 + 0x30) = *(double *)(RelativeTransform + 0x30);
      *(_QWORD *)(v242 + 0x38) = *(_QWORD *)(RelativeTransform + 0x38);
      goto LABEL_85;
    }
    if ( n0xA != 2 )
    {
      if ( n0xA != 3 )
      {
        if ( n0xA == 4 )
        {
          if ( *(_BYTE *)(v55 + 0x138) != 1 )
          {
            __asm { vzeroupper }
            sub_1403DC060();
          }
          v200 = *(_QWORD *)(v55 + 0x18);
          if ( v200 )
          {
            __asm { vzeroupper }
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v200 + 8LL))(v200);
          }
          __asm { vzeroupper }
          v201 = (float *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v200 + 0x118LL))(v200);
          v202 = v201[4];
          v203 = v201[6];
          v204 = v201[5];
          v205 = v203 * v51 - v204 * v53 + v202 * v52;
          v206 = v202 * v53 - v203 * v256 + v204 * v52;
          v207 = v204 * v256 - v202 * v51 + v203 * v52;
          v208 = v207 * v51 - v206 * v53;
          v209 = v205 * v53 - v207 * v256;
          v210 = v201[3];
          v211 = v206 * v256 - v51 * v205;
          v212 = v201[1];
          v213 = v201[2];
          v214 = *v201;
          v269 = v213 * v51 - v212 * v251 + v214 * v250 + v210 * v256;
          v270 = v214 * v251 - v213 * v256 + v212 * v250 + v210 * v51;
          v271 = v212 * v256 - v214 * v51 + v213 * v250 + v210 * v251;
          _XMM3 = *(_OWORD *)v285.m256_f32;
          v272 = v210 * v250 - v214 * v256 - v212 * v51 - v213 * v251;
          v273 = (v202 + v208 + v208) * v254 + *(double *)v285.m256_f32;
          __asm { vunpckhpd xmm3, xmm3, xmm3 }
          v274 = (v204 + v209 + v209) * v254 + *(double *)&_XMM3;
          v275 = (v203 + v211 + v211) * v254 + v294;
          v276 = v254;
          v217 = sub_1404B0DB0(&v269, (double *)v293);
          v218 = v217[1];
          v219 = v217[2];
          v220 = v217[3];
          v221 = *(double *)v261.m256_f32;
          v222 = *(double *)&v260;
          v223 = v219 * *(double *)&v261.m256_f32[4] - *v217 * *(double *)&v262 + v220 * *(double *)&v261.m256_f32[6];
          v224 = v218
               * (*v217 * *(double *)&v261.m256_f32[6] - v218 * *(double *)&v261.m256_f32[4] + v220 * *(double *)&v262)
               - v219 * v223;
          v225 = *v217 * v223
               - v218
               * (v218 * *(double *)&v262 - v219 * *(double *)&v261.m256_f32[6] + v220 * *(double *)&v261.m256_f32[4]);
          v226 = *((double *)&v260 + 1);
          *(double *)&_XMM3 = v217[7];
          _XMM10 = COERCE_UNSIGNED_INT64((*(double *)&v261.m256_f32[4] + v224 + v224) * *(double *)&_XMM3 + v217[4]);
          v228 = v225 + *(double *)&v262 + v225;
          v229 = *(double *)&_XMM3 * *((double *)&v262 + 1);
          v230 = v228 * *(double *)&_XMM3 + v217[6];
          v257 = v219;
          v259 = v218;
          v231 = *(double *)v261.m256_f32 * v218 - *((double *)&v260 + 1) * v219;
          v249 = *v217;
          v232 = v218 * *(double *)&v261.m256_f32[2];
          v233 = v218 * *(double *)&v260;
          v234 = *(double *)v261.m256_f32 * v220;
          v235 = v219 * *(double *)&v261.m256_f32[2];
          v236 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
          v237 = *(double *)&v261.m256_f32[2] * v220;
          v238 = *(double *)&v260 * v257 - *(double *)v261.m256_f32 * v249 + *((double *)&v260 + 1) * v220;
          v239 = *((double *)&v260 + 1) * v249;
          *(double *)v236 = v231 + *(double *)&v260 * v220 + *(double *)&v261.m256_f32[2] * v249;
          *(double *)(v236 + 8) = v238 + v232;
          *(double *)(v236 + 0x10) = v239 - v233 + v234 + v235;
          *(double *)(v236 + 0x18) = v237 - v222 * v249 - v226 * v259 - v221 * v257;
          __asm { vunpcklpd xmm0, xmm10, xmm4 }
          *(_OWORD *)(v236 + 0x20) = _XMM0;
          *(double *)(v236 + 0x30) = v230;
          *(double *)(v236 + 0x38) = v229;
          if ( v200 )
          {
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v200 + 0x10LL))(v200);
          }
        }
        goto LABEL_85;
      }
      __asm { vzeroupper }
      v138 = sub_1468D6BB0(a1_1, *(_DWORD *)(v55 + 0x144));
      v139 = v138;
      if ( v138 )
      {
        if ( *(_WORD *)(*(_QWORD *)(a1 + 0x128) + 0x148LL) != 0xFFFF )
        {
          v142 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)v138 + 0x70LL))(v138);
          v143 = (*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)v139 + 0x30LL))(v139);
          v144 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v143 + 0x140LL))(
                            v143,
                            (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x128) + 0x148LL));
          v145 = *(_QWORD *)(a1 + 0x128);
          v146 = *(_WORD *)(v145 + 0x14A);
          v147 = v144[4];
          v148 = v144[5];
          v149 = *v144;
          v150 = v144[1];
          v151 = v144[3];
          v152 = v144[6];
          v154 = v144[2];
          v153 = v154;
          v280 = v149;
          v281 = v150;
          v263 = v154;
          v264 = v151;
          v279 = v147;
          v265 = v151;
          v278 = v149;
          v277 = v150;
          v247 = v147;
          v266 = v147;
          v267 = v148;
          v268 = v152;
          v155 = v147;
          v156 = v152;
          v157 = v148;
          v158 = v148;
          if ( v146 >= 0 )
          {
            v159 = (float *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v142 + 0x90LL))(
                              v142,
                              *(unsigned __int16 *)(v145 + 0x148));
            v160 = v159[6];
            v161 = v159[5];
            v162 = v159[4];
            v163 = v150 * v160 - v154 * v161 + v151 * v162;
            v164 = v154 * v162 - v149 * v160 + v161 * v264;
            v165 = v149 * v161 - v150 * v162 + v160 * v264;
            v166 = v150 * v165 - v154 * v164;
            v167 = v154 * v163 - v149 * v165;
            v168 = v149 * v164 - v150 * v163;
            v169 = *v159;
            v170 = v159[1];
            v147 = v166 + v279 + v162 + v166;
            v148 = v148 + v167 + v161 + v167;
            v152 = v152 + v168 + v160 + v168;
            v171 = v159[3];
            v172 = v159[2];
            v265 = v264 * v171 - v280 * v169 - v281 * v170 - v263 * v172;
            v278 = v281 * v172 - v263 * v170 + v264 * v169 + v280 * v171;
            v277 = v263 * v169 - v280 * v172 + v264 * v170 + v281 * v171;
            v153 = v280 * v170 - v281 * v169 + v264 * v172 + v171 * v263;
            v156 = v152;
            v247 = v147;
            v266 = v147;
            v267 = v148;
            v268 = v152;
            v155 = v147;
            v157 = v148;
            v158 = v148;
          }
          v173 = v51 * v152 - v251 * v148 + v147 * v250;
          v174 = v251 * v155 - v256 * v156 + v157 * v250;
          v175 = v256 * v158 - v51 * v247 + v250 * v152;
          v269 = v51 * v153 - v251 * v277 + v278 * v250 + v256 * v265;
          v270 = v251 * v278 - v256 * v153 + v277 * v250 + v51 * v265;
          v271 = v256 * v277 - v51 * v278 + v153 * v250 + v251 * v265;
          _XMM3 = *(_OWORD *)v285.m256_f32;
          v272 = v265 * v250 - v256 * v278 - v51 * v277 - v251 * v153;
          v273 = (v51 * v175 - v251 * v174 + v266 + v51 * v175 - v251 * v174) * v254 + *(double *)v285.m256_f32;
          __asm { vunpckhpd xmm3, xmm3, xmm3 }
          v274 = (v251 * v173 - v256 * v175 + v267 + v251 * v173 - v256 * v175) * v254 + *(double *)&_XMM3;
          v275 = (v256 * v174 - v51 * v173 + v268 + v256 * v174 - v51 * v173) * v254 + v294;
          v276 = v254;
          v178 = sub_1404B0DB0(&v269, (double *)v293);
          v179 = v178[1];
          v180 = v178[2];
          v181 = v178[3];
          v182 = *(double *)v261.m256_f32;
          v183 = *(double *)&v260;
          v184 = *(double *)&v261.m256_f32[4] * v180 - *(double *)&v262 * *v178 + *(double *)&v261.m256_f32[6] * v181;
          v185 = v179
               * (*(double *)&v261.m256_f32[6] * *v178 - *(double *)&v261.m256_f32[4] * v179 + *(double *)&v262 * v181)
               - v180 * v184;
          v186 = *v178 * v184
               - v179
               * (*(double *)&v262 * v179 - *(double *)&v261.m256_f32[6] * v180 + *(double *)&v261.m256_f32[4] * v181);
          v187 = *((double *)&v260 + 1);
          *(double *)&_XMM3 = v178[7];
          _XMM10 = COERCE_UNSIGNED_INT64((*(double *)&v261.m256_f32[4] + v185 + v185) * *(double *)&_XMM3 + v178[4]);
          v188 = v186 + *(double *)&v262 + v186;
          v122 = *(double *)&_XMM3 * *((double *)&v262 + 1);
          v123 = v188 * *(double *)&_XMM3 + v178[6];
          v253 = v181;
          v189 = *(double *)&v261.m256_f32[2];
          v248 = *v178;
          v190 = *(double *)v261.m256_f32 * v179
               - *((double *)&v260 + 1) * v180
               + *(double *)&v260 * v253
               + *(double *)&v261.m256_f32[2] * *v178;
          v191 = *(double *)&v260 * v180 - *(double *)v261.m256_f32 * *v178 + *((double *)&v260 + 1) * v253;
          v192 = *((double *)&v260 + 1) * *v178;
          v128 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
          v193 = *(double *)&v261.m256_f32[2] * v179;
          v194 = *(double *)&v260 * v179;
          v195 = *(double *)v261.m256_f32 * v253;
          *(double *)v128 = v190;
          v196 = v191 + v193;
          v197 = v192 - v194 + v195;
          *(double *)(v128 + 8) = v196;
          v134 = v183 * v248;
          v132 = v189 * v253;
          v198 = v197 + v189 * v180;
          v136 = v187 * v179;
          *(double *)(v128 + 0x10) = v198;
          v137 = v182 * v180;
          goto LABEL_77;
        }
        v140 = CEntity::GetRelativeTransform(a1_1, (__int64)v293, a1, 0);
        v141 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
        *(_QWORD *)v141 = *(_QWORD *)v140;
        *(_QWORD *)(v141 + 8) = *(_QWORD *)(v140 + 8);
        *(_QWORD *)(v141 + 0x10) = *(_QWORD *)(v140 + 0x10);
        *(_QWORD *)(v141 + 0x18) = *(_QWORD *)(v140 + 0x18);
        *(_OWORD *)(v141 + 0x20) = *(_OWORD *)(v140 + 0x20);
        *(double *)(v141 + 0x30) = *(double *)(v140 + 0x30);
        *(_QWORD *)(v141 + 0x38) = *(_QWORD *)(v140 + 0x38);
      }
LABEL_85:
      __asm { vzeroupper }
      sub_146909620(a1, (double *)&v261.m256_f32[4], *((double *)&v262 + 1));
      sub_1467CEF10(qword_15126E2D0, *(unsigned int *)(a1 + 0x2E0));
      goto LABEL_86;
    }
    v57 = *(_DWORD *)(v55 + 0x144);
    __asm { vzeroupper }
    v58 = sub_1468DE420(a1);
    if ( !v58 )
    {
      goto LABEL_85;
    }
    v59 = sub_146845AE0(v58, v57);
    if ( !v59 )
    {
      goto LABEL_85;
    }
    (*(void (__fastcall **)(__int64, float *, _QWORD))(*(_QWORD *)v59 + 0x278LL))(
      v59,
      v298,
      (unsigned int)*(__int16 *)(*(_QWORD *)(a1 + 0x128) + 0x148LL));
    sub_140740030(v298);
    v263 = v298[3];
    v264 = *((float *)&v301 + 1);
    v245 = v303[1];
    v60 = v298[0];
    v61 = COERCE_UNSIGNED_INT64(v298[1]);
    v62 = *(float *)&v302;
    v63 = v303[0];
    v64 = v298[2];
    v65 = COERCE_UNSIGNED_INT64(*((float *)&v302 + 1));
    v265 = pow(
             fabs(
               v300 * v298[0] * v303[0]
             + *(float *)&v301 * *(double *)&v61 * v62
             + v299 * v64 * *((float *)&v302 + 1)
             - v300 * v64 * v62
             - *(float *)&v301 * v298[0] * *(double *)&v65
             - v299 * *(double *)&v61 * v303[0]),
             0.3333333333333333);
    *((_QWORD *)&v66 + 1) = *((_QWORD *)&v61 + 1);
    *(double *)&v66 = *(double *)&v61 * *(double *)&v61 + v60 * v60 + v64 * v64 + 2.225073858507201e-308;
    _XMM1 = v66;
    __asm
    {
      vmovddup xmm2, xmm1
      vsqrtpd xmm3, xmm2
      vunpckhpd xmm3, xmm3, xmm3
    }
    v266 = v60 * (1.0 / *(double *)&_XMM3);
    *((_QWORD *)&v66 + 1) = *((_QWORD *)&v65 + 1);
    v71 = *(double *)&v65 * v64 - v63 * *(double *)&v61;
    v268 = *(double *)&v61 * (1.0 / *(double *)&_XMM3);
    v267 = v64 * (1.0 / *(double *)&_XMM3);
    v72 = v63 * v60 - v62 * v64;
    v73 = v62 * *(double *)&v61 - *(double *)&v65 * v60;
    *(double *)&v66 = v71 * v71 + v72 * v72 + v73 * v73 + 2.225073858507201e-308;
    _XMM1 = v66;
    __asm
    {
      vmovddup xmm3, xmm1
      vsqrtpd xmm0, xmm3
      vunpckhpd xmm0, xmm0, xmm0
    }
    *(double *)&v66 = 1.0 / *(double *)&_XMM0;
    v78 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0);
    v79 = *(double *)&v66 * v73;
    v80 = *(double *)&v78 * v71;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v78 + 1);
    *(double *)&v81 = *(double *)&v78 * v72;
    v82 = v268 * v79 - v267 * (*(double *)&v78 * v72);
    v83 = *(double *)&v78 * v71 * v267 - v266 * v79;
    v84 = v266 * (*(double *)&v78 * v72) - v268 * (*(double *)&v78 * v71);
    v85 = 0.0;
    v86 = 0.0;
    if ( v266 + *(double *)&v78 * v72 + v84 <= 0.0 )
    {
      if ( v266 < *(double *)&v81 || v266 < v84 )
      {
        if ( *(double *)&v81 < v266 || *(double *)&v81 < v84 )
        {
          if ( v84 < v266 || v84 < *(double *)&v81 )
          {
            goto LABEL_69;
          }
          _XMM2 = COERCE_UNSIGNED_INT64(v84 - v266 - *(double *)&v81 + 1.0);
          __asm { vmovddup xmm3, xmm2 }
          __asm
          {
            vsqrtpd xmm5, xmm3
            vunpckhpd xmm5, xmm5, xmm5
          }
          v99 = 0.5 / *(double *)&_XMM5;
          v12 = (v80 - v268) * (0.5 / *(double *)&_XMM5);
          v85 = (v79 + *(double *)&v78 * v71 * v267 - v266 * v79) * (0.5 / *(double *)&_XMM5);
          v100 = v267 + v82;
          v86 = *(double *)&_XMM5 * 0.5;
        }
        else
        {
          *(double *)&v81 = *(double *)&v81 - v84 - v266 + 1.0;
          _XMM2 = v81;
          __asm { vmovddup xmm3, xmm2 }
          __asm
          {
            vsqrtpd xmm5, xmm3
            vunpckhpd xmm5, xmm5, xmm5
          }
          v99 = 0.5 / *(double *)&_XMM5;
          v12 = (v267 - v82) * (0.5 / *(double *)&_XMM5);
          v86 = (v79 + v83) * (0.5 / *(double *)&_XMM5);
          v100 = v268 + v80;
          v85 = *(double *)&_XMM5 * 0.5;
        }
        v13 = v100 * v99;
      }
      else
      {
        _XMM2 = COERCE_UNSIGNED_INT64(v266 - *(double *)&v81 - v84 + 1.0);
        __asm { vmovddup xmm3, xmm2 }
        __asm
        {
          vsqrtpd xmm4, xmm3
          vunpckhpd xmm4, xmm4, xmm4
        }
        v12 = (v83 - v79) * (0.5 / *(double *)&_XMM4);
        v13 = *(double *)&_XMM4 * 0.5;
        v86 = (v267 + v82) * (0.5 / *(double *)&_XMM4);
        v85 = (v268 + v80) * (0.5 / *(double *)&_XMM4);
      }
    }
    else
    {
      _XMM0 = COERCE_UNSIGNED_INT64(v266 + *(double *)&v81 + v84 + 1.0);
      __asm { vmovddup xmm1, xmm0 }
      __asm
      {
        vsqrtpd xmm3, xmm1
        vunpckhpd xmm3, xmm3, xmm3
      }
      v12 = *(double *)&_XMM3 * 0.5;
      v13 = (v83 - v79) * (0.5 / *(double *)&_XMM3);
      v86 = (v80 - v268) * (0.5 / *(double *)&_XMM3);
      v85 = (v267 - v82) * (0.5 / *(double *)&_XMM3);
    }
LABEL_69:
    v105 = v258 * v245 - v264 * v53 + v263 * v250;
    v106 = v263 * v53 - v256 * v245 + v264 * v250;
    v107 = v264 * v256 - v263 * v258 + v250 * v245;
    v269 = v258 * v86 - v53 * v85 + v250 * v13 + v256 * v12;
    v270 = v53 * v13 - v256 * v86 + v250 * v85 + v258 * v12;
    v271 = v256 * v85 - v258 * v13 + v250 * v86 + v53 * v12;
    _XMM3 = *(_OWORD *)v285.m256_f32;
    v272 = v250 * v12 - v256 * v13 - v258 * v85 - v53 * v86;
    v273 = (v258 * v107 - v53 * v106 + v263 + v258 * v107 - v53 * v106) * v254 + *(double *)v285.m256_f32;
    __asm { vunpckhpd xmm3, xmm3, xmm3 }
    v274 = (v53 * v105 - v107 * v256 + v264 + v53 * v105 - v107 * v256) * v254 + *(double *)&_XMM3;
    v275 = (v106 * v256 - v258 * v105 + v245 + v106 * v256 - v258 * v105) * v254 + v294;
    v276 = v254 * v265;
    v110 = sub_1404B0DB0(&v269, (double *)v293);
    v111 = v110[1];
    v112 = v110[2];
    v113 = v110[3];
    v114 = *(double *)v261.m256_f32;
    v115 = *(double *)&v260;
    v116 = *(double *)&v261.m256_f32[4] * v112 - *(double *)&v262 * *v110 + *(double *)&v261.m256_f32[6] * v113;
    v117 = (*(double *)&v261.m256_f32[6] * *v110 - *(double *)&v261.m256_f32[4] * v111 + *(double *)&v262 * v113) * v111
         - v116 * v112;
    v118 = v116 * *v110
         - (*(double *)&v262 * v111 - *(double *)&v261.m256_f32[6] * v112 + *(double *)&v261.m256_f32[4] * v113) * v111;
    v119 = *((double *)&v260 + 1);
    *(double *)&_XMM3 = v110[7];
    _XMM10 = COERCE_UNSIGNED_INT64((*(double *)&v261.m256_f32[4] + v117 + v117) * *(double *)&_XMM3 + v110[4]);
    v121 = v118 + *(double *)&v262 + v118;
    v122 = *(double *)&_XMM3 * *((double *)&v262 + 1);
    v123 = v121 * *(double *)&_XMM3 + v110[6];
    v252 = v113;
    v124 = *(double *)&v261.m256_f32[2];
    v246 = *v110;
    v255 = v111;
    v125 = *(double *)v261.m256_f32 * v111
         - *((double *)&v260 + 1) * v112
         + *(double *)&v260 * v252
         + *(double *)&v261.m256_f32[2] * *v110;
    v126 = *(double *)&v260 * v112 - *(double *)v261.m256_f32 * *v110 + *((double *)&v260 + 1) * v252;
    v127 = *((double *)&v260 + 1) * *v110;
    v128 = *(_QWORD *)(a1 + 0x128) + 0x150LL;
    v129 = *(double *)&v261.m256_f32[2] * v111;
    v130 = *(double *)&v260 * v111;
    v131 = *(double *)v261.m256_f32 * v252;
    *(double *)v128 = v125;
    *(double *)(v128 + 8) = v126 + v129;
    v132 = v124 * v252;
    v133 = v127 - v130 + v131;
    v134 = v115 * v246;
    v135 = v133 + v124 * v112;
    v136 = v119 * v255;
    *(double *)(v128 + 0x10) = v135;
    v137 = v114 * v112;
LABEL_77:
    *(double *)(v128 + 0x18) = v132 - v134 - v136 - v137;
    __asm { vunpcklpd xmm0, xmm10, xmm4 }
    *(_OWORD *)(v128 + 0x20) = _XMM0;
    *(double *)(v128 + 0x30) = v123;
    *(double *)(v128 + 0x38) = v122;
    goto LABEL_85;
  }
LABEL_86:
  v290 = __rdtsc();
  psub_7FF6AAB93930(&n0xF00);
  return a3;
}

// --- End Function: sub_146911E60 (0x146911E60) ---

// --- Function: sub_146913C90 (0x146913C90) ---
double __fastcall sub_146913C90(int *a1)
{
  int i; // eax
  _DWORD v4[4]; // [rsp+30h] [rbp-68h] BYREF
  int n0x1000; // [rsp+40h] [rbp-58h] BYREF
  __int64 v6; // [rsp+44h] [rbp-54h]
  int v7; // [rsp+4Ch] [rbp-4Ch]
  __int64 v8; // [rsp+50h] [rbp-48h]
  unsigned __int64 v9; // [rsp+58h] [rbp-40h]
  __int64 v10; // [rsp+60h] [rbp-38h]
  __int64 v11; // [rsp+68h] [rbp-30h]

  n0x1000 = 0x1000;
  v6 = 0;
  v7 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v8 = 1;
  psub_7FF6AAB938D0(
    &n0x1000,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  for ( i = *a1; *a1; i = *a1 )
  {
    v4[0] = i;
    off_149808B88(a1, v4, 4, 0xFFFFFFFFLL);
  }
  v9 = __rdtsc();
  return psub_7FF6AAB93930(&n0x1000);
}

// --- End Function: sub_146913C90 (0x146913C90) ---

// --- Function: sub_14739AF10 (0x14739AF10) ---
void __fastcall sub_14739AF10(FH4 *pCZoneSystem)
{
  if ( pCZoneSystem )
  {
    if ( qword_14981D3D8 && ::pCZoneSystem && pCZoneSystem == ::pCZoneSystem )
    {
      __debugbreak();
    }
    if ( (unsigned __int64)pCZoneSystem < pCZoneSystem_1
      || (unsigned __int64)pCZoneSystem >= pCZoneSystem_1 + 0x8000000000LL )
    {
      if ( (unsigned __int64)pCZoneSystem >= pCZoneSystem_0
        && (unsigned __int64)pCZoneSystem < pCZoneSystem_0 + 0x200000000LL )
      {
        LogFatalError("Address %p was allocated by persistent malloc and cannot be freed!", pCZoneSystem);
      }
      sub_147397F30((__int64)pCZoneSystem);
    }
  }
}

// --- End Function: sub_14739AF10 (0x14739AF10) ---

// --- Function: allocWithProfilerInfo (0x14739AFC0) ---
__int64 __fastcall allocWithProfilerInfo(unsigned __int64 allocSize, struct _exception *profilerInfo)
{
  char tls_byte_at_offset_3401; // al
  __int64 profileSize; // rax
  __int64 result; // rax

  if ( allocSize )
  {
    tls_byte_at_offset_3401 = get_tls_byte_at_offset_3401();
    sub_140566BA0(tls_byte_at_offset_3401);
    profileSize = AK::MemoryMgr::StopProfileThreadUsage(profilerInfo);
    result = sub_1473986B0(profileSize + allocSize, (unsigned __int64)profilerInfo);
    if ( result )
    {
      return result;
    }
    sub_14739A8D0(allocSize);
  }
  return 0;
}

// --- End Function: allocWithProfilerInfo (0x14739AFC0) ---

// --- Function: security_check_cookie (0x147DC7890) ---
// Verifies the stack security cookie. If the value provided (`stack_cookie`) does
// not match the expected global cookie (`_security_cookie`) or appears tampered
// with, it reports a security failure and terminates the process.
void __cdecl security_check_cookie(uintptr_t stack_cookie)
{
  __int64 rotated_cookie; // rcx

  if ( stack_cookie != _security_cookie )
  {
ReportFailure:
    _report_gsfailure(stack_cookie);
  }
  rotated_cookie = __ROL8__(stack_cookie, 0x10);
  if ( (_WORD)rotated_cookie )
  {
    stack_cookie = __ROR8__(rotated_cookie, 0x10);
    goto ReportFailure;
  }
}

// --- End Function: security_check_cookie (0x147DC7890) ---

// --- Function: memcpy (0x147E162BB) ---
// attributes: thunk
void *__cdecl memcpy(void *a1, const void *Src, size_t Size)
{
  return __imp_memcpy(a1, Src, Size);
}

// --- End Function: memcpy (0x147E162BB) ---

// --- Function: memmove (0x147E162C1) ---
// attributes: thunk
void *__cdecl memmove(void *a1, const void *Src, size_t Size)
{
  return __imp_memmove(a1, Src, Size);
}

// --- End Function: memmove (0x147E162C1) ---

// --- Function: memset (0x147E162C7) ---
// attributes: thunk
void *__cdecl memset(void *a1, int Val, size_t Size)
{
  return __imp_memset(a1, Val, Size);
}

// --- End Function: memset (0x147E162C7) ---

// --- Function: pow (0x147E16375) ---
// attributes: thunk
double __cdecl pow(double X, double Y)
{
  return __imp_pow(X, Y);
}

// --- End Function: pow (0x147E16375) ---

I need you to trace the code with extreme rigor and diligence and then go on to specify with extreme detail what the memory layout of CEntity looks like.
The CEntity instance is initialized in CEntity::Init.

I need you to provide with absolute precision:

- field offsets, types, structures, sizes, references, interactions, paddings, alignments