// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Functions:
//   - 0x14676F930 (CRigidEntity::Action)
//   - 0x146782C30 (CRigidEntity::ApplyStateFromNetwork)
//   - 0x146782D40 (CRigidEntity::ApplyStateFromNetworkInternal)
//   - 0x1467BE550 (CRigidEntity::GetStatus)
//   - 0x1467DB3C0 (CRigidEntity::SetNetworkAuthority)
//   - 0x1467E2810 (CRigidEntity::SetParams)
//   - 0x1467F1AA0 (CRigidEntity::Step)
//   - 0x146805D10 (CRigidEntity::UpdatePosition)
//   - 0x146806540 (CRigidEntity::ValidateActionAuthority)
// Caller Depth: 0
// Callee/Ref Depth: 1
// Total Functions Found: 86
// ------------------------------------------------------------

// --- Function: __StarEngineModule__ (0x1402A5B50) ---
void __fastcall _StarEngineModule__(sockaddr *Parameter)
{
  ;
}

// --- End Function: __StarEngineModule__ (0x1402A5B50) ---

// --- Function: sub_1402A63C0 (0x1402A63C0) ---
__int64 __fastcall sub_1402A63C0(const void *a1)
{
  return sub_1475332F0(a1);
}

// --- End Function: sub_1402A63C0 (0x1402A63C0) ---

// --- Function: allocWithProfilerInfo_w (0x1402A63D0) ---
__int64 __fastcall sub_1402A63D0(unsigned __int64 allocSize)
{
  return allocWithProfilerInfo(allocSize, 0);
}

// --- End Function: allocWithProfilerInfo_w (0x1402A63D0) ---

// --- Function: LogTraceConditional (0x1402C30B0) ---
// Logs a formatted message with level 3 if global logging flags `qword_14981D3D8`
// and `Parameter_3` are enabled and the global logger object `qword_14981D2D0` is
// available. Calls the virtual function at offset +8 of the logger object.
void LogTraceConditional(const char *format_string, ...)
{
  va_list va; // [rsp+38h] [rbp+10h] BYREF

  va_start(va, format_string);
  if ( qword_149A0A448 && qword_149A0A330 )
  {
    if ( qword_149A0A340 )
      (*(void (__fastcall **)(__int64, __int64, const char *, __int64 *))(*(_QWORD *)qword_149A0A340 + 8LL))(
        qword_149A0A340,
        3,
        format_string,
        (__int64 *)va);
  }
}

// --- End Function: LogTraceConditional (0x1402C30B0) ---

// --- Function: invokeGlobalCallbackAndMaskStatusBits (0x140301FB0) ---
// Executes a global callback function if registered, otherwise defaults to a
// status of 1. Subsequently, it masks specific status bits (bits 2 and 3) based on
// the state of global configuration flags (`qword_149B3B208` and
// `qword_149B3B210`).
__int64 invokeGlobalCallbackAndMaskStatusBits(__int64 a1, __int64 a2, __int64 a3, const char *a4, ...)
{
  __int64 result; // rax

  if ( qword_1499F5190 )
    result = qword_1499F5190(a1, a2, a3, a4);
  else
    result = 1;
  if ( !qword_1499F51A8 )
    result = (unsigned int)result & 0xFFFFFFFB;
  if ( !qword_1499F51B0 )
    return (unsigned int)result & 0xFFFFFFF7;
  return result;
}

// --- End Function: invokeGlobalCallbackAndMaskStatusBits (0x140301FB0) ---

// --- Function: sub_140349020 (0x140349020) ---
__m256i *__fastcall sub_140349020(const void **a1, _BYTE *a2, __m256i *a3)
{
  signed __int64 v4; // r14
  __int64 v5; // rbp
  unsigned __int64 v8; // rbp
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // rdx
  unsigned __int64 v11; // rdi
  unsigned __int64 allocSize; // rdi
  __int64 v13; // rax
  __m256i *v14; // rbx
  __m256i *v15; // rcx
  __m256i *v16; // r14
  _BYTE *v17; // r8
  _BYTE *v18; // rdx
  size_t Size; // r8
  const void *v20; // rcx
  __m256i *result; // rax

  v4 = a2 - (_BYTE *)*a1;
  v5 = ((_BYTE *)a1[1] - (_BYTE *)*a1) >> 5;
  if ( v5 == 0x7FFFFFFFFFFFFFFLL )
    unknown_libname_10(a1, a2, 0x7FFFFFFFFFFFFFFLL);
  v8 = v5 + 1;
  v9 = ((_BYTE *)a1[2] - (_BYTE *)*a1) >> 5;
  v10 = v9 >> 1;
  if ( v9 > 0x7FFFFFFFFFFFFFFLL - (v9 >> 1) )
    goto LABEL_24;
  v11 = v8;
  if ( v10 + v9 >= v8 )
    v11 = v10 + v9;
  if ( v11 > 0x7FFFFFFFFFFFFFFLL )
    goto LABEL_24;
  allocSize = 0x20 * v11;
  if ( allocSize < 0x1000 )
  {
    if ( allocSize )
      v14 = (__m256i *)allocWithProfilerInfo_w(allocSize);
    else
      v14 = 0;
    goto LABEL_13;
  }
  if ( allocSize + 0x27 < allocSize )
LABEL_24:
    sub_1402E2610();
  v13 = allocWithProfilerInfo_w(allocSize + 0x27);
  if ( !v13 )
    goto LABEL_22;
  v14 = (__m256i *)((v13 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
  v14[0xFFFFFFFF].m256i_i64[3] = v13;
LABEL_13:
  v15 = v14;
  v16 = (__m256i *)((char *)v14 + (v4 & 0xFFFFFFFFFFFFFFE0uLL));
  *v16 = *a3;
  v17 = a1[1];
  v18 = *a1;
  if ( a2 == v17 )
  {
    Size = v17 - v18;
    __asm { vzeroupper }
  }
  else
  {
    __asm { vzeroupper }
    memmove(v14, v18, a2 - v18);
    v15 = v16 + 1;
    Size = (_BYTE *)a1[1] - a2;
    v18 = a2;
  }
  memmove(v15, v18, Size);
  v20 = *a1;
  if ( *a1 )
  {
    if ( (((_BYTE *)a1[2] - (_BYTE *)v20) & 0xFFFFFFFFFFFFFFE0uLL) < 0x1000 )
    {
LABEL_20:
      sub_1402A63C0(v20);
      goto LABEL_21;
    }
    if ( (unsigned __int64)v20 - *((_QWORD *)v20 + 0xFFFFFFFF) - 8 <= 0x1F )
    {
      v20 = (const void *)*((_QWORD *)v20 + 0xFFFFFFFF);
      goto LABEL_20;
    }
LABEL_22:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_21:
  *a1 = v14;
  result = v16;
  a1[1] = &v14[v8];
  a1[2] = &v14[allocSize / 0x20];
  return result;
}

// --- End Function: sub_140349020 (0x140349020) ---

// --- Function: sub_1403721C0 (0x1403721C0) ---
__int64 __fastcall sub_1403721C0(__int64 a1)
{
  __int64 result; // rax

  *(_QWORD *)(a1 + 0xE0) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)a1 = 6;
  *(_QWORD *)(a1 + 0x38) = 0x8000000000000000uLL;
  result = a1;
  *(_DWORD *)(a1 + 0x10) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x28) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x34) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 4) = 0x80000000;
  *(_DWORD *)(a1 + 8) = 0x80000000;
  *(_DWORD *)(a1 + 0x60) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x64) = 0xFFBFFFFF;
  *(_QWORD *)(a1 + 0x70) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(a1 + 0x78) = 0x80000000;
  *(_QWORD *)(a1 + 0x80) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_QWORD *)(a1 + 0x90) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(a1 + 0x68) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x6C) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x88) = 0x80000000;
  *(_DWORD *)(a1 + 0x9C) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xA4) = 0x80000000;
  *(_QWORD *)(a1 + 0xA8) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(a1 + 0xB0) = 0x80000000;
  *(_DWORD *)(a1 + 0xB4) = 0x80000000;
  *(_DWORD *)(a1 + 0xB8) = 0x80000000;
  *(_DWORD *)(a1 + 0xBC) = 0x80000000;
  *(_DWORD *)(a1 + 0xD0) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xD4) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xD8) = 0xFFBFFFFF;
  *(_QWORD *)(a1 + 0xF0) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(a1 + 0x2C) = 0x80000000;
  *(_DWORD *)(a1 + 0xF8) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xE8) = 0x80000000;
  *(_OWORD *)(a1 + 0xC0) = xmmword_1480E1228;
  *(_DWORD *)(a1 + 0x30) = 0;
  *(_DWORD *)(a1 + 0xC) = 1;
  *(_DWORD *)(a1 + 0xA0) = 0;
  *(_QWORD *)(a1 + 0x50) = 0;
  *(_QWORD *)(a1 + 0x40) = 0;
  *(_QWORD *)(a1 + 0x58) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_QWORD *)(a1 + 0x48) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_QWORD *)(a1 + 0x100) = 0;
  *(_DWORD *)(a1 + 0x108) = 0;
  *(_QWORD *)(a1 + 0x110) = 0;
  return result;
}

// --- End Function: sub_1403721C0 (0x1403721C0) ---

// --- Function: sub_1403CD0A0 (0x1403CD0A0) ---
void __fastcall sub_1403CD0A0(volatile signed __int64 *a1, signed __int64 a2, __int64 a3, __int64 a4, char a5)
{
  int *p_n0x1600; // rcx
  int v10; // esi
  bool v11; // zf
  signed __int64 v12; // rax
  int v13; // [rsp+30h] [rbp-61h] BYREF
  _DWORD v14[3]; // [rsp+34h] [rbp-5Dh] BYREF
  int n0x1600_1; // [rsp+40h] [rbp-51h] BYREF
  __int64 v16; // [rsp+44h] [rbp-4Dh]
  int v17; // [rsp+4Ch] [rbp-45h]
  __int64 v18; // [rsp+50h] [rbp-41h]
  unsigned __int64 v19; // [rsp+58h] [rbp-39h]
  __int64 v20; // [rsp+60h] [rbp-31h]
  __int64 v21; // [rsp+68h] [rbp-29h]
  int n0x1600; // [rsp+90h] [rbp-1h] BYREF
  __int64 v23; // [rsp+94h] [rbp+3h]
  int v24; // [rsp+9Ch] [rbp+Bh]
  __int64 v25; // [rsp+A0h] [rbp+Fh]
  unsigned __int64 v26; // [rsp+A8h] [rbp+17h]
  __int64 v27; // [rsp+B0h] [rbp+1Fh]
  __int64 v28; // [rsp+B8h] [rbp+27h]

  if ( a5 && *(_BYTE *)(NtCurrentTeb_w() + 0x1C) && qword_149A0A448 )
  {
    sub_1403CD260(a1, a2, a3, a4);
    return;
  }
  if ( (a2 & 0x200000) != 0 )
  {
    while ( 1 )
    {
      if ( (a2 & 0xFFC00) != 0 )
        (*(void (__fastcall **)(__int64, volatile signed __int64 *))(*(_QWORD *)qword_149A0A388 + 0x128LL))(
          qword_149A0A388,
          a1);
      if ( (a2 & 0x100000) != 0 )
        break;
      v10 = a2 | 0x100000;
      v12 = _InterlockedCompareExchange64(a1, a2 | 0x100000, a2);
      v11 = a2 == v12;
      a2 = v12;
      if ( v11 )
      {
        n0x1600 = 0x1600;
        v23 = 0;
        v24 = 0;
        v26 = 0;
        v27 = 0;
        v28 = 0;
        v25 = 1;
        qword_149A05E00(&n0x1600, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v14[0] = v10;
        qword_1499F5468(a1, v14, 4, 0xFFFFFFFFLL);
        a2 = *a1;
        p_n0x1600 = &n0x1600;
        v26 = __rdtsc();
        goto LABEL_12;
      }
LABEL_13:
      if ( (a2 & 0x200000) == 0 )
        return;
    }
    n0x1600_1 = 0x1600;
    v16 = 0;
    v17 = 0;
    v19 = 0;
    v20 = 0;
    v21 = 0;
    v18 = 1;
    qword_149A05E00(&n0x1600_1, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    v13 = a2;
    qword_1499F5468(a1, &v13, 4, 0xFFFFFFFFLL);
    a2 = *a1;
    p_n0x1600 = &n0x1600_1;
    v19 = __rdtsc();
LABEL_12:
    qword_149A05E08(p_n0x1600);
    goto LABEL_13;
  }
}

// --- End Function: sub_1403CD0A0 (0x1403CD0A0) ---

// --- Function: sub_1403CD3A0 (0x1403CD3A0) ---
__int64 __fastcall sub_1403CD3A0(volatile signed __int64 *a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdx
  unsigned int v5; // r8d
  __int64 result; // rax
  unsigned __int64 v7; // rbx
  int v8; // [rsp+60h] [rbp+8h] BYREF
  int v9; // [rsp+68h] [rbp+10h] BYREF
  __int64 v10; // [rsp+70h] [rbp+18h] BYREF
  __int64 v11; // [rsp+78h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2;
    if ( (a2 & 0xFFC00000) == 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A0A388 + 0xF8LL))(
        qword_149A0A388,
        &v10,
        &v8);
      v4 = a2 & 0xFFFFFFFFFFFFLL;
      v5 = *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned int)(v8 - 1)) + v10 + 0x24);
      if ( v5 != 0xFFFFFFFF )
        v4 |= (unsigned __int64)v5 << 0x30;
    }
    result = _InterlockedCompareExchange64(a1, v4, a2);
    if ( a2 == result )
      break;
    if ( (result & 0x3FF) != 0 || (result & 0x200000) != 0 || (result & 0xFFFF0000FFC00000uLL) == 0 )
      return result;
    a2 = result;
  }
  if ( (a2 & 0xFFC00000) != 0 )
    return qword_1499F5470(a1);
  result = 0xFFFF000000000000uLL;
  if ( (a2 & 0xFFFF000000000000uLL) != 0 )
  {
    (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A0A388 + 0xF8LL))(
      qword_149A0A388,
      &v11,
      &v9);
    v7 = HIWORD(a2);
    *(_DWORD *)(0xC0LL * ((unsigned int)v7 & (v9 - 1)) + v11 + 0x1C) = (unsigned __int16)(v7 + v9);
    return (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149A0A388 + 0xD8LL))(
             qword_149A0A388,
             (unsigned int)v7);
  }
  return result;
}

// --- End Function: sub_1403CD3A0 (0x1403CD3A0) ---

// --- Function: sub_1403DE750 (0x1403DE750) ---
__int64 __fastcall sub_1403DE750(__int64 a1, __int64 a2, __int64 a3, __int64 a4, __int64 a5, char a6)
{
  if ( a6 && *(_BYTE *)(NtCurrentTeb_w() + 0x1C) && qword_149A0A448 )
    return sub_1403DE7E0(a1, a2, a3, a4, a5);
  else
    return sub_1403DE9B0(a1, a2, a3, a4, a5);
}

// --- End Function: sub_1403DE750 (0x1403DE750) ---

// --- Function: sub_1403DEBA0 (0x1403DEBA0) ---
__int64 __fastcall sub_1403DEBA0(volatile signed __int64 *a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdi
  unsigned int v5; // edx
  signed __int64 v6; // rax
  __int64 result; // rax
  __int64 v8; // rdi
  __int64 v9; // r8
  int v10; // ecx
  __int64 v11; // r8
  unsigned __int64 v12; // rbx
  int v13; // [rsp+70h] [rbp+8h] BYREF
  int v14; // [rsp+78h] [rbp+10h] BYREF
  __int64 v15; // [rsp+80h] [rbp+18h] BYREF
  __int64 v16; // [rsp+88h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFFFFD003FFuLL;
    if ( (a2 & 0xFFFF00100000LL) != 0 )
    {
      v4 = a2 & 0xFFFF0000FFC003FFuLL;
    }
    else if ( (a2 & 0xFFC003FF) == 0 && (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A0A388 + 0xF8LL))(
        qword_149A0A388,
        &v16,
        &v14);
      v4 = a2 & 0xFFFFFFD003FFLL;
      v5 = *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned int)(v14 - 1)) + v16 + 0x24);
      if ( v5 != 0xFFFFFFFF )
        v4 |= (unsigned __int64)v5 << 0x30;
    }
    v6 = _InterlockedCompareExchange64(a1, v4, a2);
    if ( a2 == v6 )
      break;
    a2 = v6;
  }
  if ( (a2 & 0x3FF) != 0 )
  {
    if ( (a2 & 0x100000) != 0 )
      qword_1499F5478(a1);
    result = 0xFFFF00000000LL;
    if ( (a2 & 0xFFFF00000000LL) != 0 )
    {
      v8 = qword_149A0A388;
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A0A388 + 0xF8LL))(
        qword_149A0A388,
        &v15,
        &v13);
      v9 = v15 + 0xC0 * (WORD2(a2) & (unsigned __int64)(unsigned int)(v13 - 1));
      LODWORD(a2) = *(_DWORD *)(v9 + 0x24);
      *(_DWORD *)(v9 + 0x1C) = (unsigned __int16)(WORD2(a2) + v13);
      for ( result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0xD8LL))(v8);
            (_DWORD)a2 != 0xFFFFFFFF;
            result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0xD8LL))(v8) )
      {
        v10 = (unsigned __int16)(a2 + v13);
        v11 = v15 + 0xC0LL * ((unsigned int)a2 & (v13 - 1));
        LODWORD(a2) = *(_DWORD *)(v11 + 0x24);
        *(_DWORD *)(v11 + 0x1C) = v10;
      }
    }
  }
  else
  {
    result = 0xFFC00000LL;
    if ( (a2 & 0xFFC00000) != 0 )
    {
      return qword_1499F5470(a1);
    }
    else if ( (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A0A388 + 0xF8LL))(
        qword_149A0A388,
        &v15,
        &v13);
      v12 = HIWORD(a2);
      *(_DWORD *)(0xC0LL * ((unsigned int)v12 & (v13 - 1)) + v15 + 0x1C) = (unsigned __int16)(v12 + v13);
      return (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149A0A388 + 0xD8LL))(
               qword_149A0A388,
               (unsigned int)v12);
    }
  }
  return result;
}

// --- End Function: sub_1403DEBA0 (0x1403DEBA0) ---

// --- Function: sub_1403E4CF0 (0x1403E4CF0) ---
LARGE_INTEGER sub_1403E4CF0()
{
  LARGE_INTEGER PerformanceCount; // [rsp+30h] [rbp+8h] BYREF

  QueryPerformanceCounter(&PerformanceCount);
  return PerformanceCount;
}

// --- End Function: sub_1403E4CF0 (0x1403E4CF0) ---

// --- Function: sub_140445100 (0x140445100) ---
__int64 __fastcall sub_140445100(
        int a1,
        __int64 a2,
        void *a3,
        __int64 a4,
        __int64 a5,
        int a6,
        __int64 a7,
        __int64 a8,
        __int64 a9,
        _QWORD *a10)
{
  unsigned __int64 v11; // rax
  const char *p_null; // rdx
  __int64 v14; // [rsp-A8h] [rbp-F8h]
  _QWORD __Val_0___[11]; // [rsp-90h] [rbp-E0h] BYREF
  __int16 n0x100; // [rsp-38h] [rbp-88h]
  __int64 n0xB0; // [rsp-30h] [rbp-80h]
  __int64 n0xA8; // [rsp-28h] [rbp-78h]
  _QWORD *v19; // [rsp-20h] [rbp-70h]
  const char *p_Name; // [rsp-18h] [rbp-68h]
  __int64 v21; // [rsp-10h] [rbp-60h]
  void *p_sub_1403ECA20; // [rsp-8h] [rbp-58h]
  __int64 (__fastcall *p_sub_1403EC580)(); // [rsp+0h] [rbp-50h]
  __int64 v24; // [rsp+8h] [rbp-48h]
  __int64 (__fastcall *p_sub_1403E8C30)(); // [rsp+10h] [rbp-40h]
  __int64 v26; // [rsp+18h] [rbp-38h]
  __int64 (__fastcall *p_sub_1403E6460)(); // [rsp+20h] [rbp-30h]
  __int64 (__fastcall *p_sub_1403E6180)(); // [rsp+28h] [rbp-28h]
  unsigned __int64 v29; // [rsp+30h] [rbp-20h]
  char v30; // [rsp+38h] [rbp-18h]
  char v31; // [rsp+39h] [rbp-17h]
  __int64 n0x18; // [rsp+40h] [rbp-10h]
  unsigned __int64 v33; // [rsp+48h] [rbp-8h]

  __Val_0___[0] = a9;
  __Val_0___[1] = "TraceContext";
  __Val_0___[3] = sub_1403ECB40;
  p_Name = "Name";
  __Val_0___[4] = sub_1403EC6E0;
  __Val_0___[6] = sub_1403E8DD0;
  __Val_0___[8] = sub_1403E6440;
  v19 = a10;
  __Val_0___[9] = sub_1403E6140;
  v11 = 0xFFFFFFFFFFFFFFFFuLL;
  __Val_0___[0xA] = 0xFFFFFFFFFFFFFFFFuLL;
  n0x100 = 0x100;
  __Val_0___[2] = 0;
  __Val_0___[5] = 0;
  __Val_0___[7] = 0;
  n0xB0 = 0xB0;
  n0xA8 = 0xA8;
  v31 = 0;
  v21 = *a10;
  p_sub_1403ECA20 = &sub_1403ECA20;
  p_sub_1403EC580 = sub_1403EC580;
  p_sub_1403E8C30 = sub_1403E8C30;
  p_sub_1403E6460 = sub_1403E6460;
  p_sub_1403E6180 = sub_1403E6180;
  v24 = 0;
  v26 = 0;
  v29 = 0xFFFFFFFFFFFFFFFFuLL;
  v30 = 0;
  n0x18 = 0x18;
  p_null = "null";
  if ( a10[1] )
    p_null = (const char *)a10[1];
  do
    ++v11;
  while ( p_null[v11] );
  v33 = v11;
  LODWORD(v14) = a6;
  return sub_140305B00(a1, a2, a3, a4, (__int64)__Val_0___, 2u, a5, v14, a7, a8);
}

// --- End Function: sub_140445100 (0x140445100) ---

// --- Function: getThreadLogContextSlot (0x1404BF8F0) ---
// Retrieves a pointer to the current thread's logging context slot from Thread
// Local Storage (TLS). The specific slot is determined by an index stored within
// the TLS data block.
int *getThreadLogContextSlot()
{
  unsigned __int64 *v0; // rax
  unsigned __int64 *v1; // rcx
  unsigned __int64 n0xF; // rax

  v0 = (unsigned __int64 *)sub_1404B5B10();
  v1 = v0;
  if ( !v0 )
    return &unk_1499FFF70;
  n0xF = *v0;
  if ( n0xF > 0xF )
    n0xF = 0xF;
  return (int *)&v1[0x16 * n0xF + 1];
}

// --- End Function: getThreadLogContextSlot (0x1404BF8F0) ---

// --- Function: sub_1405C2100 (0x1405C2100) ---
__int64 sub_1405C2100(unsigned int a1, unsigned int a2, const char *a3, ...)
{
  __int64 result; // rax
  va_list va; // [rsp+68h] [rbp+20h] BYREF

  va_start(va, a3);
  if ( qword_149A0A448 && qword_149A0A330 )
  {
    if ( a3 )
      return (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD, _QWORD, _QWORD, const char *, __int64 *))(*(_QWORD *)qword_149A0A330 + 0x158LL))(
               qword_149A0A330,
               a1,
               a2,
               0,
               0,
               a3,
               (__int64 *)va);
  }
  return result;
}

// --- End Function: sub_1405C2100 (0x1405C2100) ---

// --- Function: sub_1421396A0 (0x1421396A0) ---
__int64 __fastcall sub_1421396A0(__int64 a1)
{
  __int64 result; // rax

  *(_DWORD *)a1 = 5;
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 0x10) = 0;
  result = a1;
  *(_DWORD *)(a1 + 4) = 0x80000000;
  *(_DWORD *)(a1 + 0x1C) = 0xFFF7FFFF;
  *(_DWORD *)(a1 + 0x34) = 0xFFF7FFFF;
  *(_DWORD *)(a1 + 0x54) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x64) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x68) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x6C) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x70) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x74) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x78) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x84) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x90) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x94) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xA0) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xAC) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xB8) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xC4) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xD0) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xE8) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xEC) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xF8) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xC) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0x98) = 2;
  return result;
}

// --- End Function: sub_1421396A0 (0x1421396A0) ---

// --- Function: map_get_value_by_id (0x1465F2970) ---
// Searches for a specific integer ID (`target_id`) within a sorted array of `(ID,
// Value)` pairs (or similar structure) and returns the associated integer value.
// It employs a fast path using SIMD instructions (`vpcmpeqd`) for arrays up to
// 0x40 elements, and a binary search-like algorithm for larger arrays. An optional
// output pointer (`pp_found_entry`) can return the address of the found entry.
__int64 __fastcall map_get_value_by_id(__int64 a1, int n10102016, char **a3)
{
  unsigned int n0x40; // edx
  __int64 v8; // rax
  int v10; // r8d
  _QWORD *v11; // r10
  int v12; // r9d
  __int64 v15; // rdi
  __int64 v16; // rbp
  int n8; // r14d
  __int64 v18; // r11
  int n3; // ecx
  int n3_1; // ecx
  int n3_2; // ecx
  int n3_3; // ecx
  _QWORD *v31; // r11
  _QWORD *v32; // rdi
  __int64 v33; // rax
  __int64 v34; // rcx
  char *v35; // rcx
  char **v36; // r9
  _QWORD *v37; // r8
  char *v38; // r11
  char *v39; // r9
  char *v40; // rcx
  __int64 v41; // rcx

  if ( (*(_DWORD *)(a1 + 0x184) & 4) != 0 )
    return (*(__int64 (**)(void))(a1 + 0x190))();
  n0x40 = *(_DWORD *)(a1 + 0x170);
  if ( n0x40 )
  {
    if ( n0x40 == 1 )
      return **(_DWORD **)(a1 + 0x30) != n10102016;
    LODWORD(v8) = *(_DWORD *)(a1 + 0x170);
    if ( (int)n0x40 <= 0x40 )
    {
      _XMM2 = xmmword_148ABD460;
      v10 = 0;
      v11 = (_QWORD *)(a1 + 0x40);
      v12 = 0;
      __asm
      {
        vpinsrd xmm2, xmm2, ebx, 0
        vpunpcklqdq xmm2, xmm2, xmm2
      }
      if ( (int)(n0x40 & 0xFFFFFFF8) <= 0 )
      {
LABEL_18:
        v31 = v11;
        v32 = v11;
        switch ( n0x40 & 7 )
        {
          case 1u:
            goto LABEL_39;
          case 2u:
            goto LABEL_37;
          case 3u:
            goto LABEL_35;
          case 4u:
            goto LABEL_33;
          case 5u:
            goto LABEL_31;
          case 6u:
            goto LABEL_29;
          case 7u:
            v33 = *v11;
            v34 = v12;
            if ( *(_DWORD *)(*v11 + 8LL * v12) == n10102016 )
              goto LABEL_40;
            v10 = 1;
            v31 = (_QWORD *)(a1 + 0x40);
LABEL_29:
            v32 = v31;
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
LABEL_31:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
            v11 = v32;
LABEL_33:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
LABEL_35:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
LABEL_37:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
LABEL_39:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
LABEL_40:
              n0x40 = *(_DWORD *)(v33 + 8 * v34 + 4);
            break;
          default:
            return n0x40;
        }
      }
      else
      {
        v15 = *v11;
        v16 = 0;
        n8 = 8;
        v18 = *v11 + 0x20LL;
        while ( 1 )
        {
          _mm_prefetch((const char *)(v15 + 8LL * n8), 1);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11-20h]
            vmovmskps ecx, xmm1
          }
          n3 = _ECX - 1;
          if ( !n3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 4);
          if ( n3 == 3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0xC);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11-10h]
            vmovmskps ecx, xmm1
          }
          n3_1 = _ECX - 1;
          if ( !n3_1 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x14);
          if ( n3_1 == 3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x1C);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11]
            vmovmskps ecx, xmm1
          }
          n3_2 = _ECX - 1;
          if ( !n3_2 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x24);
          if ( n3_2 == 3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x2C);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11+10h]
            vmovmskps ecx, xmm1
          }
          n3_3 = _ECX - 1;
          if ( !n3_3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x34);
          if ( n3_3 == 3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x3C);
          v12 += 8;
          n8 += 8;
          v16 += 8;
          v18 += 0x40;
          if ( v16 >= (int)(n0x40 & 0xFFFFFFF8) )
            goto LABEL_18;
        }
      }
      return n0x40;
    }
    if ( a3 )
    {
      v35 = *a3;
      v36 = (char **)(a1 + 0x40);
      *a3 = 0;
      v37 = (_QWORD *)(a1 + 0x40);
      v8 = *(int *)(a1 + 0x170);
      if ( v35 )
      {
        v38 = *v36;
        if ( *(_DWORD *)v35 >= n10102016 )
        {
          v39 = *v36;
          v37 = (_QWORD *)(a1 + 0x40);
          v40 = v35 + 8;
        }
        else
        {
          v39 = v35;
          v37 = (_QWORD *)(a1 + 0x40);
          v40 = &v38[8 * v8];
        }
        goto LABEL_48;
      }
    }
    else
    {
      v36 = (char **)(a1 + 0x40);
      v37 = (_QWORD *)(a1 + 0x40);
    }
    v39 = *v36;
    v40 = &v39[8 * (int)v8];
LABEL_48:
    v41 = (v40 - v39) >> 3;
    if ( v41 > 0 )
    {
      do
      {
        if ( *(_DWORD *)&v39[8 * ((unsigned __int64)v41 >> 1)] >= n10102016 )
        {
          v41 = (unsigned __int64)v41 >> 1;
        }
        else
        {
          v39 += 8 * ((unsigned __int64)v41 >> 1) + 8;
          v41 += 0xFFFFFFFFFFFFFFFFuLL - ((unsigned __int64)v41 >> 1);
        }
      }
      while ( v41 > 0 );
      v37 = (_QWORD *)(a1 + 0x40);
    }
    if ( v39 != (char *)(*v37 + 8LL * *(int *)(a1 + 0x170)) && *(_DWORD *)v39 == n10102016 )
    {
      if ( a3 )
        *a3 = v39;
      return *((unsigned int *)v39 + 1);
    }
  }
  return n0x40;
}

// --- End Function: map_get_value_by_id (0x1465F2970) ---

// --- Function: sub_146602780 (0x146602780) ---
__int64 __fastcall sub_146602780(__int64 a1, __int64 a2, unsigned int a3)
{
  unsigned __int8 v4; // bp
  unsigned int v5; // esi
  int v7; // edi
  __int64 v8; // rcx
  char v9; // di
  unsigned __int8 v10; // al
  __int64 v11; // rcx

  v4 = 0;
  v5 = a3;
  v7 = *(_DWORD *)(*(_QWORD *)(a1 + 0x78) + 0x184LL);
  v8 = *(_QWORD *)(a1 + 0x78);
  if ( !v8 || *(int *)(v8 + 0x188) <= 1 )
  {
    if ( (a3 & v7 & 0x40) == 0 )
    {
LABEL_8:
      sub_146602840(*(_QWORD *)(a1 + 0x78), a2, v5, *(unsigned int *)(a1 + 0x6C));
      goto LABEL_9;
    }
    v10 = sub_14662D4E0(a1);
LABEL_7:
    v4 = v10;
    goto LABEL_8;
  }
  v9 = a3 & v7;
  sub_146602840(v8, a2, a3 & 0xFFFFFFBF, 0xFFFFFFFFLL);
  if ( (v9 & 0x40) != 0 )
  {
    v10 = sub_14662D4E0(a1);
    v5 |= 0x40u;
    goto LABEL_7;
  }
LABEL_9:
  v11 = *(_QWORD *)(a1 + 0x78);
  *(_DWORD *)(a1 + 0x68) = *(_DWORD *)(v11 + 0x170);
  *(_DWORD *)(a1 + 0x70) = *(_DWORD *)(v11 + 0x17C);
  return v4;
}

// --- End Function: sub_146602780 (0x146602780) ---

// --- Function: sub_1466246B0 (0x1466246B0) ---
__int64 __fastcall sub_1466246B0(__int64 a1, int a2, __int64 a3)
{
  __int64 v3; // rax
  __int64 v5; // rsi
  __int64 v7; // rbx
  __int64 v8; // rcx
  __int64 result; // rax
  __int64 v10; // rdx

  v3 = *(_QWORD *)(a1 + 0x78);
  v5 = a2;
  if ( v3 && *(int *)(v3 + 0x188) > 1 )
    sub_1465E70D0();
  v7 = *(_QWORD *)(a1 + 0x78);
  v8 = *(_QWORD *)v7 + 0x20 * v5;
  *(_DWORD *)v8 = *(_DWORD *)a3;
  *(_DWORD *)(v8 + 4) = *(_DWORD *)(a3 + 4);
  *(_DWORD *)(v8 + 8) = *(_DWORD *)(a3 + 8);
  *(_DWORD *)(v8 + 0xC) = *(_DWORD *)(a3 + 0xC);
  *(double *)(v8 + 0x10) = *(double *)(a3 + 0x10);
  *(_DWORD *)(v8 + 0x18) = *(_DWORD *)(a3 + 0x18);
  result = *(unsigned int *)(a3 + 0x1C);
  *(_DWORD *)(v8 + 0x1C) = result;
  _InterlockedOr((volatile signed __int32 *)(v7 + 0x184), 1u);
  v10 = *(_QWORD *)(v7 + 0x70) + (v5 << 6) + 0x28;
  if ( *(_QWORD *)v10 || *(_DWORD *)(v10 + 8) )
  {
    result = sub_1465F2900(v7);
    if ( result && *(_DWORD *)(result + 0x94) )
    {
      result = *(_DWORD *)result & 0xFFA00000;
      if ( (_DWORD)result == 0xFFA00000 )
        _InterlockedOr((volatile signed __int32 *)(v7 + 0x184), 8u);
    }
  }
  return result;
}

// --- End Function: sub_1466246B0 (0x1466246B0) ---

// --- Function: sub_146627CB0 (0x146627CB0) ---
__int64 __fastcall sub_146627CB0(__int64 a1, __int64 a2)
{
  __int64 v2; // rax
  __int64 *v3; // r14
  __int64 value_by_id; // rax
  int value_by_id_1; // ebp
  __int64 value_by_id_2; // rbx
  int n10102016; // edx
  __int64 v10; // rcx
  void *v11; // r15
  __int64 v12; // rax
  __int64 v13; // rcx
  __int64 value_by_id_3; // rbp
  __int64 v15; // r12
  __int64 v16; // rcx
  int v17; // r13d
  __int64 v18; // r14
  void *v19; // rcx
  __int64 v20; // rcx
  unsigned int v21; // ebx
  __int64 v22; // rax
  int v23; // r8d
  __int64 v24; // rdx

  v2 = *(_QWORD *)(a1 + 0x78);
  v3 = (__int64 *)(a1 + 0x78);
  if ( v2 )
  {
    v3 = (__int64 *)(a1 + 0x78);
    if ( *(int *)(v2 + 0x188) > 1 )
      sub_1465E70D0();
  }
  value_by_id = sub_146627F80(*(_QWORD *)(a1 + 0x78), a2);
  value_by_id_1 = *(_DWORD *)(a2 + 8);
  value_by_id_2 = *(int *)(a1 + 0x68);
  if ( value_by_id_1 == 0x80000000 )
  {
    n10102016 = *(_DWORD *)(a2 + 4);
    if ( n10102016 == value_by_id_1 )
    {
      v10 = *(_QWORD *)(a2 + 0x110);
      v11 = 0;
      if ( v10 )
      {
        v12 = sub_1466B4340(v10);
      }
      else
      {
        v13 = *(_QWORD *)(a2 + 0x90);
        if ( v13 == 0xFFFFFFFFFFFFFFFFuLL )
        {
LABEL_11:
          if ( (int)value_by_id_2 > 0 )
          {
            value_by_id_3 = 0;
            v15 = 0;
            do
            {
              v16 = *(_QWORD *)(a2 + 0x38);
              if ( v16 == 0x8000000000000000uLL || (v16 & *(_QWORD *)(*(_QWORD *)(a1 + 0x18) + 8 * value_by_id_3)) != 0 )
              {
                if ( *(_DWORD *)(a2 + 0x78) != 0x80000000 )
                  *(_DWORD *)(v15 + *(_QWORD *)(a1 + 0x48) + 0x10) |= 0xFFFC0000;
                if ( v11 )
                {
                  v17 = *(_DWORD *)(a2 + 0x98);
                  v18 = v15 + *(_QWORD *)(a1 + 0x48);
                  v19 = *(void **)(v18 + 8);
                  if ( v11 != v19 || v17 != *(unsigned __int8 *)(v18 + 0x10) )
                  {
                    if ( v19 )
                      sub_1466C0400(v19, 1);
                    if ( v17 <= 0 )
                    {
                      *(_QWORD *)v18 = 0;
                      *(_BYTE *)(v18 + 0x10) = 0;
                    }
                    else
                    {
                      *(_QWORD *)(v18 + 8) = sub_1466B4340(v11);
                      *(_QWORD *)v18 = sub_1402A4B80(v11);
                      *(_BYTE *)(v18 + 0x10) = v17;
                    }
                  }
                }
              }
              ++value_by_id_3;
              v15 += 0x18;
            }
            while ( value_by_id_3 < value_by_id_2 );
          }
          if ( v11 )
            sub_1466C0400(v11, 1);
          goto LABEL_38;
        }
        v12 = sub_1466B4300(v13, *(unsigned int *)(a2 + 0x98), 1);
      }
      v11 = (void *)v12;
      goto LABEL_11;
    }
    value_by_id = map_get_value_by_id(*v3, n10102016, 0);
    value_by_id_1 = value_by_id;
  }
  if ( value_by_id_1 >= (int)value_by_id_2 )
    return value_by_id;
  v20 = *(_QWORD *)(a2 + 0x90);
  if ( v20 != 0xFFFFFFFFFFFFFFFFuLL )
  {
    v21 = *(_DWORD *)(a2 + 0x98);
    v22 = sub_1466B4300(v20, v21, 1);
    sub_1466245D0(a1, value_by_id_1, v22, v21);
  }
  v23 = *(_DWORD *)(a2 + 0x78);
  if ( v23 == 0x80000000 )
  {
    if ( *(_QWORD *)(a2 + 0x90) != 0xFFFFFFFFFFFFFFFFuLL || *(_QWORD *)(a2 + 0x70) != 0xFFFFFFFFFFFFFFFFuLL )
      sub_14662D230(a1, value_by_id_1, 0);
  }
  else
  {
    v24 = *(_QWORD *)(a1 + 0x48) + 0x18LL * value_by_id_1;
    *(_DWORD *)(v24 + 0x10) = *(_DWORD *)(v24 + 0x10) & 0x3FFFF | (v23 << 0x12);
  }
LABEL_38:
  value_by_id = *(_QWORD *)(a1 + 0x78);
  *(_DWORD *)(a1 + 0x6C) = *(_DWORD *)(value_by_id + 0x178);
  return value_by_id;
}

// --- End Function: sub_146627CB0 (0x146627CB0) ---

// --- Function: sub_146713320 (0x146713320) ---
__int64 __fastcall sub_146713320(__int64 a1)
{
  __int64 result; // rax

  *(_DWORD *)(a1 + 0x9C) = 0x3F800000;
  *(_QWORD *)(a1 + 0xB0) = 0;
  *(_QWORD *)(a1 + 0xA8) = 0;
  *(_QWORD *)(a1 + 0xA0) = 0;
  *(_QWORD *)(a1 + 0xC8) = 0;
  *(_QWORD *)(a1 + 0xC0) = 0;
  *(_QWORD *)(a1 + 0xB8) = 0;
  *(_QWORD *)(a1 + 0xE0) = 0;
  *(_QWORD *)(a1 + 0xD8) = 0;
  *(_QWORD *)(a1 + 0xD0) = 0;
  *(_QWORD *)(a1 + 0xEC) = 0;
  *(_DWORD *)(a1 + 0xE8) = 0;
  *(_QWORD *)(a1 + 0xF8) = 0;
  *(_DWORD *)(a1 + 0xF4) = 0;
  *(_QWORD *)(a1 + 0x90) = 0;
  *(_DWORD *)(a1 + 0x98) = 0;
  *(_QWORD *)(a1 + 0x88) = 0;
  *(_QWORD *)(a1 + 0x80) = 0;
  *(_QWORD *)(a1 + 0x78) = 0;
  *(__m256i *)(a1 + 0x174) = (__m256i)0LL;
  *(_OWORD *)(a1 + 0x194) = 0;
  *(_QWORD *)(a1 + 0x1A4) = 0;
  *(_DWORD *)(a1 + 0x1AC) = 0;
  result = a1;
  *(_DWORD *)(a1 + 0x170) |= 3u;
  *(_QWORD *)(a1 + 0x110) = 0;
  *(_QWORD *)(a1 + 0x108) = 0;
  *(_QWORD *)(a1 + 0x100) = 0;
  *(_QWORD *)a1 = 0;
  *(_QWORD *)(a1 + 8) = 0;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_QWORD *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)(a1 + 0x28) = 0;
  *(_QWORD *)(a1 + 0x30) = 0;
  *(_QWORD *)(a1 + 0x38) = 0;
  *(_QWORD *)(a1 + 0x40) = 0;
  *(_QWORD *)(a1 + 0x58) = 0;
  *(_QWORD *)(a1 + 0x50) = 0;
  *(_QWORD *)(a1 + 0x48) = 0;
  *(_QWORD *)(a1 + 0x70) = 0;
  *(_QWORD *)(a1 + 0x68) = 0;
  *(_QWORD *)(a1 + 0x60) = 0;
  *(_DWORD *)(a1 + 0x124) = 0x3F800000;
  *(_QWORD *)(a1 + 0x118) = 0;
  *(_DWORD *)(a1 + 0x120) = 0;
  *(_QWORD *)(a1 + 0x12C) = 0;
  *(_DWORD *)(a1 + 0x128) = 0;
  *(_QWORD *)(a1 + 0x148) = 0;
  *(_QWORD *)(a1 + 0x140) = 0;
  *(_QWORD *)(a1 + 0x138) = 0;
  *(_QWORD *)(a1 + 0x160) = 0;
  *(_QWORD *)(a1 + 0x158) = 0;
  *(_QWORD *)(a1 + 0x150) = 0;
  *(_QWORD *)(a1 + 0x168) = 0;
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_146713320 (0x146713320) ---

// --- Function: sub_14672BE40 (0x14672BE40) ---
double *__fastcall sub_14672BE40(Parameter **p_Parameter, double *a2)
{
  float v2; // xmm4_4
  float v3; // xmm0_4
  float v4; // xmm8_4
  float v5; // xmm12_4
  float v6; // xmm7_4
  float v7; // xmm10_4
  double v8; // xmm14_8
  double v9; // xmm13_8
  double v10; // xmm15_8
  double v11; // xmm6_8
  double v12; // xmm5_8
  double v17; // xmm11_8
  double v18; // xmm13_8
  double v19; // xmm12_8
  double v20; // xmm6_8
  double v21; // xmm4_8
  double v22; // xmm5_8
  double v27; // xmm15_8
  double v28; // xmm10_8
  double v29; // xmm13_8
  double v30; // xmm14_8
  double v32; // [rsp+0h] [rbp-B8h]
  double v33; // [rsp+C0h] [rbp+8h]
  double v34; // [rsp+D8h] [rbp+20h]
  double v35; // [rsp+D8h] [rbp+20h]

  v2 = *((float *)p_Parameter + 0x49);
  v3 = *((float *)p_Parameter + 0x48);
  v4 = *((float *)p_Parameter + 0x47);
  v5 = *((float *)p_Parameter + 0x46);
  v6 = v2 * (float)(v4 + v4);
  v7 = (float)(v4 + v4) * v4;
  v8 = (float)((float)(1.0 - v7) - (float)((float)(v3 + v3) * v3));
  v34 = (float)((float)(v5 * (float)(v3 + v3)) + v6);
  v9 = (float)((float)(v2 * (float)(v3 + v3)) + (float)(v5 * (float)(v4 + v4)));
  v10 = (float)((float)((float)(v3 + v3) * v4) - (float)(v2 * (float)(v5 + v5)));
  v11 = (float)((float)(v5 * (float)(v3 + v3)) - v6);
  v12 = (float)((float)(1.0 - (float)(v5 * (float)(v5 + v5))) - v7);
  _XMM0 = COERCE_UNSIGNED_INT64(v9 * v9 + v8 * v8 + v11 * v11 + 2.225073858507201e-308);
  __asm
  {
    vmovddup xmm1, xmm0
    vsqrtpd xmm2, xmm1
    vunpckhpd xmm2, xmm2, xmm2
  }
  v17 = 1.0 / *(double *)&_XMM2 * v9;
  v18 = 1.0 / *(double *)&_XMM2 * v11;
  v19 = 1.0 / *(double *)&_XMM2 * v8;
  v20 = v18 * v10 - v17 * v12;
  v21 = v17 * v34 - v19 * v10;
  v22 = v19 * v12 - v18 * v34;
  _XMM1 = COERCE_UNSIGNED_INT64(v22 * v22 + v20 * v20 + v21 * v21 + 2.225073858507201e-308);
  __asm
  {
    vmovddup xmm3, xmm1
    vsqrtpd xmm0, xmm3
    vunpckhpd xmm0, xmm0, xmm0
  }
  *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
  v35 = *(double *)&_XMM0 * v20;
  v33 = v18;
  v27 = *(double *)&_XMM0 * v22;
  v32 = *(double *)&_XMM0 * v21;
  v28 = v17 * (*(double *)&_XMM0 * v21) - *(double *)&_XMM0 * v22 * v18;
  v29 = v18 * (*(double *)&_XMM0 * v20) - v19 * (*(double *)&_XMM0 * v21);
  *(_QWORD *)&_XMM1 = p_Parameter[0xA];
  *(_QWORD *)&_XMM2 = p_Parameter[9];
  v30 = *(double *)&_XMM0 * v22 * v19 - v17 * (*(double *)&_XMM0 * v20);
  *(_QWORD *)&_XMM0 = p_Parameter[0xB];
  *a2 = *(double *)&_XMM1 * v17 * v17 + *(double *)&_XMM2 * v19 * v19 + *(double *)&_XMM0 * v33 * v33;
  a2[1] = v27 * (*(double *)&_XMM1 * v17) + *(double *)&_XMM2 * v19 * v35 + *(double *)&_XMM0 * v33 * v32;
  a2[2] = *(double *)&_XMM1 * v17 * v29 + *(double *)&_XMM2 * v19 * v28 + *(double *)&_XMM0 * v33 * v30;
  a2[3] = *(double *)&_XMM1 * v27 * v17 + *(double *)&_XMM2 * v35 * v19 + *(double *)&_XMM0 * v32 * v33;
  a2[4] = v27 * (*(double *)&_XMM1 * v27) + *(double *)&_XMM2 * v35 * v35 + *(double *)&_XMM0 * v32 * v32;
  a2[5] = *(double *)&_XMM1 * v27 * v29 + *(double *)&_XMM2 * v35 * v28 + *(double *)&_XMM0 * v32 * v30;
  a2[6] = *(double *)&_XMM1 * v29 * v17 + *(double *)&_XMM2 * v28 * v19 + *(double *)&_XMM0 * v30 * v33;
  a2[7] = v27 * (*(double *)&_XMM1 * v29) + *(double *)&_XMM2 * v28 * v35 + *(double *)&_XMM0 * v30 * v32;
  a2[8] = *(double *)&_XMM1 * v29 * v29 + *(double *)&_XMM2 * v28 * v28 + *(double *)&_XMM0 * v30 * v30;
  return a2;
}

// --- End Function: sub_14672BE40 (0x14672BE40) ---

// --- Function: sub_14672C1E0 (0x14672C1E0) ---
double *__fastcall sub_14672C1E0(Parameter **p_Parameter, double *a2, __int64 value_by_id)
{
  float v3; // xmm4_4
  float v4; // xmm0_4
  float v5; // xmm8_4
  float v6; // xmm10_4
  float v7; // xmm7_4
  float v8; // xmm12_4
  double v9; // xmm14_8
  double v10; // xmm13_8
  double v11; // xmm15_8
  double v12; // xmm6_8
  double v13; // xmm5_8
  double v18; // xmm12_8
  double v19; // kr00_8
  double v20; // xmm10_8
  double v21; // xmm6_8
  double v22; // xmm5_8
  double v23; // xmm4_8
  double v28; // xmm14_8
  double v29; // xmm11_8
  double v30; // xmm13_8
  double v31; // xmm15_8
  double v33; // [rsp+D8h] [rbp+20h]
  double v34; // [rsp+D8h] [rbp+20h]

  v3 = *((float *)p_Parameter + 0x27);
  v4 = *((float *)p_Parameter + 0x26);
  v5 = *((float *)p_Parameter + 0x25);
  v6 = (float)(v5 + v5) * v5;
  v7 = v3 * (float)(v5 + v5);
  v8 = *((float *)p_Parameter + 0x24);
  v9 = (float)((float)(1.0 - v6) - (float)((float)(v4 + v4) * v4));
  v33 = (float)((float)(v8 * (float)(v4 + v4)) + v7);
  v10 = (float)((float)(v3 * (float)(v4 + v4)) + (float)(v8 * (float)(v5 + v5)));
  v11 = (float)((float)((float)(v4 + v4) * v5) - (float)(v3 * (float)(v8 + v8)));
  v12 = (float)((float)(v8 * (float)(v4 + v4)) - v7);
  v13 = (float)((float)(1.0 - (float)(v8 * (float)(v8 + v8))) - v6);
  _XMM0 = COERCE_UNSIGNED_INT64(v10 * v10 + v9 * v9 + v12 * v12 + 2.225073858507201e-308);
  __asm
  {
    vmovddup xmm1, xmm0
    vsqrtpd xmm2, xmm1
    vunpckhpd xmm2, xmm2, xmm2
  }
  v18 = 1.0 / *(double *)&_XMM2 * v12;
  v19 = 1.0 / *(double *)&_XMM2 * v9;
  v20 = 1.0 / *(double *)&_XMM2 * v10;
  v21 = v18 * v11 - v20 * v13;
  v22 = v19 * v13 - v18 * v33;
  v23 = v20 * v33 - v19 * v11;
  _XMM1 = COERCE_UNSIGNED_INT64(v22 * v22 + v21 * v21 + v23 * v23 + 2.225073858507201e-308);
  __asm
  {
    vmovddup xmm3, xmm1
    vsqrtpd xmm0, xmm3
    vunpckhpd xmm0, xmm0, xmm0
  }
  v34 = 1.0 / *(double *)&_XMM0 * v22;
  v28 = 1.0 / *(double *)&_XMM0 * v21;
  v29 = 1.0 / *(double *)&_XMM0 * v23;
  v30 = v20 * v29 - v18 * v34;
  v31 = v18 * v28 - v19 * v29;
  *(_QWORD *)&_XMM2 = p_Parameter[9];
  *(_QWORD *)&_XMM1 = p_Parameter[0xA];
  *(double *)&_XMM3 = v19 * v34 - v20 * v28;
  *(_QWORD *)&_XMM0 = p_Parameter[0xB];
  *a2 = v28 * *(double *)&_XMM1 * v28 + v19 * *(double *)&_XMM2 * v19 + v30 * *(double *)&_XMM0 * v30;
  a2[1] = v19 * *(double *)&_XMM2 * v20 + v28 * *(double *)&_XMM1 * v34 + v30 * *(double *)&_XMM0 * v31;
  a2[2] = v19 * *(double *)&_XMM2 * v18 + v28 * *(double *)&_XMM1 * v29 + v30 * *(double *)&_XMM0 * *(double *)&_XMM3;
  a2[3] = v34 * *(double *)&_XMM1 * v28 + v20 * *(double *)&_XMM2 * v19 + v31 * *(double *)&_XMM0 * v30;
  a2[4] = v20 * *(double *)&_XMM2 * v20 + v34 * *(double *)&_XMM1 * v34 + v31 * *(double *)&_XMM0 * v31;
  a2[5] = v20 * *(double *)&_XMM2 * v18 + v34 * *(double *)&_XMM1 * v29 + v31 * *(double *)&_XMM0 * *(double *)&_XMM3;
  a2[6] = v29 * *(double *)&_XMM1 * v28 + v18 * *(double *)&_XMM2 * v19 + *(double *)&_XMM3 * *(double *)&_XMM0 * v30;
  a2[7] = v18 * *(double *)&_XMM2 * v20 + v29 * *(double *)&_XMM1 * v34 + *(double *)&_XMM3 * *(double *)&_XMM0 * v31;
  a2[8] = v18 * *(double *)&_XMM2 * v18
        + v29 * *(double *)&_XMM1 * v29
        + *(double *)&_XMM3 * *(double *)&_XMM0 * *(double *)&_XMM3;
  return a2;
}

// --- End Function: sub_14672C1E0 (0x14672C1E0) ---

// --- Function: sub_14672E940 (0x14672E940) ---
double *__fastcall sub_14672E940(__int64 a1, float a2, char a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  float v11; // xmm8_4
  float v12; // xmm10_4
  float v13; // xmm4_4
  __m128 v14; // xmm5
  float v15; // xmm6_4
  __m128 v16; // kr00_16
  __m128 v17; // xmm0
  double v18; // xmm3_8
  double v19; // xmm5_8
  __int128 v20; // kr00_16
  double v22; // xmm4_8
  double v23; // xmm6_8
  double v26; // xmm12_8
  double v27; // xmm11_8
  double v28; // xmm9_8
  double v29; // xmm10_8
  double *v30; // rax
  double v31; // xmm6_8
  double v32; // xmm7_8
  double v33; // xmm8_8
  double v34; // xmm13_8
  double v35; // xmm14_8
  double v36; // xmm12_8
  double v37; // xmm11_8
  double v39; // xmm7_8
  double v40; // xmm6_8
  double v42; // xmm8_8
  double v43; // xmm9_8
  double v44; // xmm10_8
  double v45; // xmm7_8
  double v46; // xmm6_8
  double *v47; // rax
  double v48; // xmm6_8
  double v49; // xmm7_8
  double v50; // xmm8_8
  double v51; // xmm13_8
  double v52; // xmm14_8
  double v53; // xmm12_8
  double v55; // xmm11_8
  double v56; // xmm7_8
  double v57; // xmm6_8
  double v58; // kr00_8
  double v59; // xmm8_8
  double v60; // xmm10_8
  double v61; // xmm7_8
  double v62; // xmm6_8
  double v63; // xmm4_8
  double v64; // xmm15_8
  double *v65; // rax
  double v66; // xmm6_8
  double v67; // xmm8_8
  double v68; // xmm7_8
  double v69; // xmm13_8
  double v70; // xmm14_8
  double v72; // xmm12_8
  double v73; // xmm11_8
  double v74; // xmm7_8
  double v75; // xmm6_8
  double v76; // kr00_8
  double v77; // xmm8_8
  double v78; // xmm10_8
  double v79; // xmm7_8
  double v80; // kr00_8
  double v81; // xmm4_8
  double *result; // rax
  double v83; // xmm6_8
  double v84; // xmm7_8
  double v85; // xmm8_8
  double v86; // xmm11_8
  double v87; // xmm10_8
  double v88; // xmm5_8
  __int128 v98; // kr00_16
  double v100; // xmm15_8
  double v101; // xmm14_8
  double v102; // xmm11_8
  double v103; // xmm12_8
  double v104; // xmm6_8
  double v105; // xmm7_8
  double v106; // xmm8_8
  double v107; // xmm13_8
  double v108; // xmm10_8
  double v109; // xmm9_8
  double v110; // xmm5_8
  __int128 v115; // xmm2
  __int128 v118; // kr00_16
  float v121; // xmm10_4
  float v122; // xmm9_4
  float v123; // xmm6_4
  float v124; // xmm5_4
  double v125; // xmm14_8
  __int128 v126; // xmm12
  __int128 v127; // kr00_16
  double v128; // xmm11_8
  double v129; // xmm13_8
  double v130; // xmm6_8
  double v131; // xmm5_8
  double v136; // xmm9_8
  double v137; // xmm11_8
  double v138; // xmm6_8
  double v139; // xmm5_8
  double v140; // xmm4_8
  double v145; // xmm14_8
  __int128 v146; // xmm7
  __int128 v147; // xmm12
  double v148; // xmm15_8
  double v149; // xmm5_8
  __int128 v150; // xmm11
  double v151; // xmm10_8
  double v152; // xmm9_8
  double v153; // xmm4_8
  __int128 v154; // xmm8
  double v156; // xmm12_8
  double v157; // xmm6_8
  __m128 v166; // xmm2
  float v167; // xmm3_4
  double v168; // [rsp+28h] [rbp-E0h]
  double v169; // [rsp+28h] [rbp-E0h]
  double v170; // [rsp+30h] [rbp-D8h]
  double v171; // [rsp+30h] [rbp-D8h]
  double v172; // [rsp+38h] [rbp-D0h]
  double v173; // [rsp+38h] [rbp-D0h]
  double v174; // [rsp+40h] [rbp-C8h]
  double v175; // [rsp+48h] [rbp-C0h]
  double v176; // [rsp+48h] [rbp-C0h]
  double v177; // [rsp+50h] [rbp-B8h]
  double v178; // [rsp+50h] [rbp-B8h]
  double v179; // [rsp+58h] [rbp-B0h] BYREF
  double v180; // [rsp+60h] [rbp-A8h]
  double v181; // [rsp+68h] [rbp-A0h]
  double v182; // [rsp+70h] [rbp-98h]
  double v183; // [rsp+78h] [rbp-90h] BYREF
  double v184; // [rsp+80h] [rbp-88h]
  double v185; // [rsp+88h] [rbp-80h]
  __int128 v187; // [rsp+A8h] [rbp-60h]
  double v188; // [rsp+B8h] [rbp-50h]
  double v189; // [rsp+C0h] [rbp-48h] BYREF
  double v190; // [rsp+C8h] [rbp-40h]
  double v191; // [rsp+D0h] [rbp-38h]
  _BYTE v192[24]; // [rsp+D8h] [rbp-30h] BYREF
  __int128 v193; // [rsp+138h] [rbp+30h]
  __int128 v194; // [rsp+148h] [rbp+40h]
  __int128 v195; // [rsp+158h] [rbp+50h]
  __int128 v196; // [rsp+168h] [rbp+60h]
  __int128 v197; // [rsp+178h] [rbp+70h]
  __int128 v198; // [rsp+188h] [rbp+80h]
  double v199; // [rsp+1B8h] [rbp+B0h]
  double v200; // [rsp+1B8h] [rbp+B0h]
  float v201; // [rsp+1C0h] [rbp+B8h]
  double v202; // [rsp+1D0h] [rbp+C8h]

  v198 = v3;
  v197 = v4;
  v196 = v5;
  v195 = v6;
  v194 = v7;
  v193 = v8;
  sub_146731C90(a1);
  if ( *(_DWORD *)((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149A0A290 + 0xF0LL))(qword_149A0A290) + 0x450) == 1
    && (*(_BYTE *)(a1 + 0x170) & 1) != 0 )
  {
    v11 = *(float *)(a1 + 0xEC);
    v12 = *(float *)(a1 + 0xF0);
    *(double *)(a1 + 0x78) = (float)((float)((float)(*(float *)(a1 + 0xDC) + *(float *)(a1 + 0xE8)) * 0.5) * a2)
                           + *(double *)(a1 + 0x78);
    *(double *)(a1 + 0x80) = (float)((float)((float)(v11 + *(float *)(a1 + 0xE0)) * 0.5) * a2) + *(double *)(a1 + 0x80);
    *(double *)(a1 + 0x88) = (float)((float)((float)(v12 + *(float *)(a1 + 0xE4)) * 0.5) * a2) + *(double *)(a1 + 0x88);
  }
  else
  {
    v183 = *(double *)(a1 + 0xDC);
    *(double *)(a1 + 0x78) = (float)(*(float *)&v183 * a2) + *(double *)(a1 + 0x78);
    *(double *)(a1 + 0x80) = (float)(*((float *)&v183 + 1) * a2) + *(double *)(a1 + 0x80);
    *(double *)(a1 + 0x88) = (float)(*(float *)(a1 + 0xE4) * a2) + *(double *)(a1 + 0x88);
  }
  *(_DWORD *)(a1 + 0xE8) = *(_DWORD *)(a1 + 0xDC);
  *(_DWORD *)(a1 + 0xEC) = *(_DWORD *)(a1 + 0xE0);
  *(_DWORD *)(a1 + 0xF0) = *(_DWORD *)(a1 + 0xE4);
  *(_DWORD *)(a1 + 0xF4) = *(_DWORD *)(a1 + 0xD0);
  *(_DWORD *)(a1 + 0xF8) = *(_DWORD *)(a1 + 0xD4);
  *(_DWORD *)(a1 + 0xFC) = *(_DWORD *)(a1 + 0xD8);
  v13 = *(float *)(a1 + 0xD4);
  v14 = (__m128)*(unsigned int *)(a1 + 0xD0);
  v15 = *(float *)(a1 + 0xD8);
  v16 = v14;
  v16.m128_f32[0] = (float)((float)(v14.m128_f32[0] * v14.m128_f32[0]) + (float)(v13 * v13)) + (float)(v15 * v15);
  v17 = _mm_sqrt_ps(_mm_shuffle_ps(v16, v16, 0));
  if ( (float)(_mm_shuffle_ps(v17, v17, 0xFF).m128_f32[0] * a2) <= 0.00000011920929 )
  {
    result = 0;
    *(_QWORD *)(a1 + 0xD4) = 0;
    *(_DWORD *)(a1 + 0xD0) = 0;
    *(_QWORD *)(a1 + 0xC8) = 0;
    *(_QWORD *)(a1 + 0xC0) = 0;
    *(_QWORD *)(a1 + 0xB8) = 0;
  }
  else
  {
    v18 = *(double *)(a1 + 0xC8);
    v187 = *(_OWORD *)(a1 + 0xB8);
    *((_QWORD *)&v20 + 1) = v14.m128_u64[1];
    v19 = v14.m128_f32[0];
    __asm
    {
      vunpckhpd xmm0, xmm0, xmm0
      vmovupd [rbp+0A0h+var_110], xmm0
    }
    v22 = v13;
    v23 = v15;
    *(double *)&v20 = v19 * *(double *)&v187 + v22 * *(double *)&_XMM0 + v23 * v18;
    _XMM1 = v20;
    __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
    v201 = *(float *)&_XMM0;
    v202 = v18;
    v175 = v22;
    v177 = v19;
    v182 = v23;
    v179 = v19;
    v180 = v22;
    v181 = v23;
    if ( a3 )
    {
      v26 = *(float *)(a1 + 0x9C);
      v27 = *(float *)(a1 + 0x90);
      v28 = *(float *)(a1 + 0x94);
      v29 = *(float *)(a1 + 0x98);
      v199 = v26;
      v168 = v27;
      v170 = v28;
      v172 = v29;
      v30 = (double *)sub_14675BD10(v192, &v179);
      v31 = v30[1];
      v32 = v30[2];
      v33 = v30[3];
      v34 = v33 * v26 - (v31 * v28 + *v30 * v27 + v32 * v29);
      v35 = v31 * v29 - v32 * v28 + v33 * v27 + *v30 * v26;
      v36 = v32 * v27 - *v30 * v29 + v33 * v28 + v31 * v26;
      v37 = *v30 * v28 - v31 * v27 + v33 * v29 + v32 * v199;
      __asm { vmovupd xmm4, [rbp+0A0h+var_110] }
      v39 = v37 * *(double *)&_XMM4 - v36 * v18 + v34 * *(double *)&v187;
      v40 = v35 * v18 - v37 * *(double *)&v187 + v34 * *(double *)&_XMM4;
      *(double *)&_XMM4 = v36 * *(double *)&v187 - v35 * *(double *)&_XMM4 + v34 * v18;
      __asm { vmovupd xmm2, [rbp+0A0h+var_110] }
      v42 = (v40 * v37 - *(double *)&_XMM4 * v36 + *(double *)&v187 + v40 * v37 - *(double *)&_XMM4 * v36)
          * *(double *)(a1 + 0x60);
      v43 = (*(double *)&_XMM4 * v35 - v39 * v37 + *(double *)&_XMM2 + *(double *)&_XMM4 * v35 - v39 * v37)
          * *(double *)(a1 + 0x68);
      v44 = (v39 * v36 - v40 * v35 + v18 + v39 * v36 - v40 * v35) * *(double *)(a1 + 0x70);
      v45 = v36 * v44 - v37 * v43 + v34 * v42;
      v46 = v37 * v42 - v35 * v44 + v34 * v43;
      *(double *)&_XMM4 = v35 * v43 - v36 * v42 + v34 * v44;
      v183 = v36 * *(double *)&_XMM4 - v37 * v46 + v42 + v36 * *(double *)&_XMM4 - v37 * v46;
      v184 = v37 * v45 - v35 * *(double *)&_XMM4 + v43 + v37 * v45 - v35 * *(double *)&_XMM4;
      v185 = v35 * v46 - v36 * v45 + v44 + v35 * v46 - v36 * v45;
      v47 = (double *)sub_14675BD10(v192, &v183);
      v48 = v47[1];
      v49 = v47[2];
      v50 = v47[3];
      v51 = v199 * v50 - (v168 * *v47 + v170 * v48 + v172 * v49);
      v52 = v172 * v48 - v170 * v49 + v168 * v50 + v199 * *v47;
      v53 = v168 * v49 - v172 * *v47 + v170 * v50 + v199 * v48;
      __asm { vmovupd xmm9, [rbp+0A0h+var_110] }
      v55 = v170 * *v47 - v168 * v48 + v172 * v50 + v199 * v49;
      v56 = *(double *)&_XMM9 * v55 - v18 * v53 + *(double *)&v187 * v51;
      v57 = v18 * v52 - *(double *)&v187 * v55 + *(double *)&_XMM9 * v51;
      v58 = *(double *)&v187 * v53 - *(double *)&_XMM9 * v52 + v18 * v51;
      v59 = (v57 * v55 - v58 * v53 + *(double *)&v187 + v57 * v55 - v58 * v53) * *(double *)(a1 + 0x60);
      *(double *)&_XMM9 = (v58 * v52 - v56 * v55 + *(double *)&_XMM9 + v58 * v52 - v56 * v55) * *(double *)(a1 + 0x68);
      v60 = (v56 * v53 - v57 * v52 + v18 + v56 * v53 - v57 * v52) * *(double *)(a1 + 0x70);
      v61 = v60 * v53 - *(double *)&_XMM9 * v55 + v59 * v51;
      v62 = v59 * v55 - v60 * v52 + *(double *)&_XMM9 * v51;
      v63 = *(double *)&_XMM9 * v52 - v59 * v53 + v60 * v51;
      v190 = v61 * v55 - v63 * v52 + *(double *)&_XMM9 + v61 * v55 - v63 * v52;
      v64 = v63 * v53 - v62 * v55 + v59 + v63 * v53 - v62 * v55;
      v191 = v62 * v52 - v61 * v53 + v60 + v62 * v52 - v61 * v53;
      v189 = v64;
      v65 = (double *)sub_14675BD10(v192, &v189);
      v66 = v65[1];
      v67 = v65[3];
      v68 = v65[2];
      v69 = v199 * v67 - (v168 * *v65 + v170 * v66 + v172 * v68);
      v70 = v172 * v66 - v170 * v68 + v168 * v67 + v199 * *v65;
      __asm { vmovupd xmm9, [rbp+0A0h+var_110] }
      v72 = v168 * v68 - v172 * *v65 + v170 * v67 + v199 * v66;
      v73 = v170 * *v65 - v168 * v66 + v172 * v67 + v68 * v199;
      v74 = v73 * *(double *)&_XMM9 - v72 * v18 + v69 * *(double *)&v187;
      v75 = v70 * v18 - v73 * *(double *)&v187 + v69 * *(double *)&_XMM9;
      v76 = v72 * *(double *)&v187 - v70 * *(double *)&_XMM9 + v69 * v18;
      v77 = (v75 * v73 - v76 * v72 + *(double *)&v187 + v75 * v73 - v76 * v72) * *(double *)(a1 + 0x60);
      *(double *)&_XMM9 = (v76 * v70 - v74 * v73 + *(double *)&_XMM9 + v76 * v70 - v74 * v73) * *(double *)(a1 + 0x68);
      v78 = (v74 * v72 - v75 * v70 + v18 + v74 * v72 - v75 * v70) * *(double *)(a1 + 0x70);
      v79 = v78 * v72 - *(double *)&_XMM9 * v73 + v77 * v69;
      v80 = v77 * v73 - v78 * v70 + *(double *)&_XMM9 * v69;
      v81 = *(double *)&_XMM9 * v70 - v77 * v72 + v78 * v69;
      v179 = (v77 + v81 * v72 - v80 * v73 + v81 * v72 - v80 * v73 + v177 + v64 + v64 + v183 + v183) * 0.1666666666666667;
      v180 = (*(double *)&_XMM9 + v79 * v73 - v81 * v70 + v79 * v73 - v81 * v70 + v175 + v190 + v190 + v184 + v184)
           * 0.1666666666666667;
      v181 = (v78 + v80 * v70 - v79 * v72 + v80 * v70 - v79 * v72 + v182 + v191 + v191 + v185 + v185)
           * 0.1666666666666667;
      result = (double *)sub_14675BD10(v192, &v179);
      v83 = result[1];
      v84 = result[2];
      v85 = result[3];
      v86 = v199 * v85 - (v168 * *result + v170 * v83 + v172 * v84);
      v87 = v172 * v83 - v170 * v84 + v168 * v85 + v199 * *result;
      *(double *)&_XMM9 = v168 * v84 - v172 * *result + v170 * v85 + v199 * v83;
      v88 = v170 * *result - v168 * v83 + v172 * v85 + v199 * v84;
      _XMM2 = COERCE_UNSIGNED_INT64(v87 * v87 + v86 * v86 + v88 * v88 + *(double *)&_XMM9 * *(double *)&_XMM9);
      __asm
      {
        vmovddup xmm3, xmm2
        vsqrtpd xmm0, xmm3
      }
      __asm { vunpckhpd xmm0, xmm0, xmm0 }
      *(double *)&_XMM2 = 1.0 / *(double *)&_XMM0;
      _XMM0 = COERCE_UNSIGNED_INT64(v86 * (1.0 / *(double *)&_XMM0));
      _XMM1 = COERCE_UNSIGNED_INT64(v87 * *(double *)&_XMM2);
      __asm
      {
        vcvtsd2ss xmm15, xmm0, xmm0
        vcvtsd2ss xmm3, xmm1, xmm1
      }
      *((_QWORD *)&v98 + 1) = 0;
      *(double *)&v98 = *(double *)&_XMM9 * *(double *)&_XMM2;
      _XMM0 = v98;
      *((_QWORD *)&v98 + 1) = 0;
      *(double *)&v98 = v88 * *(double *)&_XMM2;
      _XMM1 = v98;
    }
    else
    {
      v100 = *(float *)(a1 + 0x9C);
      v101 = *(float *)(a1 + 0x90);
      v102 = *(float *)(a1 + 0x94);
      v103 = *(float *)(a1 + 0x98);
      result = (double *)sub_14675BD10(v192, &v179);
      v104 = result[1];
      v105 = result[2];
      v106 = result[3];
      v107 = v106 * v100 - (v104 * v102 + *result * v101 + v105 * v103);
      v108 = v104 * v103 - v105 * v102 + v106 * v101 + *result * v100;
      v109 = v105 * v101 - *result * v103 + v106 * v102 + v104 * v100;
      v110 = *result * v102 - v104 * v101 + v106 * v103 + v105 * v100;
      _XMM2 = COERCE_UNSIGNED_INT64(v110 * v110 + v109 * v109 + v108 * v108 + v107 * v107);
      __asm
      {
        vmovddup xmm3, xmm2
        vsqrtpd xmm0, xmm3
        vunpckhpd xmm0, xmm0, xmm0
      }
      v115 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0);
      _XMM0 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0 * v107);
      *((_QWORD *)&v118 + 1) = *((_QWORD *)&v115 + 1);
      *(double *)&v118 = *(double *)&v115 * v108;
      _XMM1 = v118;
      __asm
      {
        vcvtsd2ss xmm15, xmm0, xmm0
        vcvtsd2ss xmm3, xmm1, xmm1
      }
      *((_QWORD *)&v118 + 1) = *((_QWORD *)&v115 + 1);
      *(double *)&v118 = *(double *)&v115 * v109;
      _XMM0 = v118;
      *((_QWORD *)&v118 + 1) = *((_QWORD *)&v115 + 1);
      *(double *)&v118 = *(double *)&v115 * v110;
      _XMM1 = v118;
    }
    *(float *)(a1 + 0x90) = *(float *)&_XMM3;
    __asm { vcvtsd2ss xmm13, xmm0, xmm0 }
    *(float *)(a1 + 0x94) = *(float *)&_XMM13;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(float *)(a1 + 0x98) = *(float *)&_XMM2;
    *(float *)(a1 + 0x9C) = *(float *)&_XMM15;
    if ( *(double *)(a1 + 0x108) <= 0.0 )
    {
      v152 = *(double *)&v187;
      v156 = v202;
      __asm { vmovupd xmm13, [rbp+0A0h+var_110] }
    }
    else
    {
      v121 = *(float *)&_XMM3;
      v122 = *(float *)&_XMM13 * (float)(*(float *)&_XMM13 + *(float *)&_XMM13);
      v123 = *(float *)&_XMM15 * (float)(*(float *)&_XMM13 + *(float *)&_XMM13);
      v124 = *(float *)&_XMM3 * (float)(*(float *)&_XMM2 + *(float *)&_XMM2);
      v125 = (float)(v124 + v123);
      v126 = COERCE_UNSIGNED_INT64((float)((float)(1.0 - v122)
                                         - (float)(*(float *)&_XMM2 * (float)(*(float *)&_XMM2 + *(float *)&_XMM2))));
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&_XMM3 + 1);
      v128 = (float)((float)(*(float *)&_XMM3 * (float)(*(float *)&_XMM13 + *(float *)&_XMM13))
                   + (float)(*(float *)&_XMM15 * (float)(*(float *)&_XMM2 + *(float *)&_XMM2)));
      v129 = (float)((float)(*(float *)&_XMM13 * (float)(*(float *)&_XMM2 + *(float *)&_XMM2))
                   - (float)(*(float *)&_XMM15 * (float)(v121 + v121)));
      v130 = (float)(v124 - v123);
      v131 = (float)((float)(1.0 - (float)(v121 * (float)(v121 + v121))) - v122);
      *(double *)&v127 = v128 * v128 + *(double *)&v126 * *(double *)&v126 + v130 * v130 + 2.225073858507201e-308;
      _XMM0 = v127;
      __asm
      {
        vmovddup xmm1, xmm0
        vsqrtpd xmm2, xmm1
        vunpckhpd xmm2, xmm2, xmm2
      }
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v126 + 1);
      v136 = *(double *)&v126 * (1.0 / *(double *)&_XMM2);
      *(double *)&v126 = v128 * (1.0 / *(double *)&_XMM2);
      v137 = v130 * (1.0 / *(double *)&_XMM2);
      v138 = v137 * v129 - *(double *)&v126 * v131;
      v139 = v136 * v131 - v125 * v137;
      v140 = v125 * *(double *)&v126 - v136 * v129;
      *(double *)&v127 = v139 * v139 + v138 * v138 + v140 * v140 + 2.225073858507201e-308;
      _XMM1 = v127;
      __asm
      {
        vmovddup xmm3, xmm1
        vsqrtpd xmm0, xmm3
        vunpckhpd xmm0, xmm0, xmm0
      }
      *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
      v200 = v137;
      v182 = v137 * (v138 * *(double *)&_XMM0) - v136 * (v140 * *(double *)&_XMM0);
      v173 = v136;
      v171 = *(double *)&v126;
      v176 = v138 * *(double *)&_XMM0;
      v169 = v139 * *(double *)&_XMM0;
      v174 = v140 * *(double *)&_XMM0;
      v188 = *(double *)&v126 * (v140 * *(double *)&_XMM0) - v137 * (v139 * *(double *)&_XMM0);
      *(double *)&_XMM3 = v136 * (v139 * *(double *)&_XMM0) - *(double *)&v126 * (v138 * *(double *)&_XMM0);
      *(_QWORD *)&_XMM2 = *(_QWORD *)(a1 + 0x60);
      *(_QWORD *)&_XMM1 = *(_QWORD *)(a1 + 0x68);
      *(_QWORD *)&_XMM0 = *(_QWORD *)(a1 + 0x70);
      v145 = *(double *)&_XMM0 * *(double *)&_XMM3;
      v146 = COERCE_UNSIGNED_INT64(*(double *)&_XMM2 * *(double *)&v126);
      v147 = COERCE_UNSIGNED_INT64(*(double *)&_XMM2 * v137);
      v178 = *(double *)&_XMM3;
      v183 = *(double *)&_XMM2 * v136 * v136 + *(double *)&_XMM1 * v176 * v176 + *(double *)&_XMM0 * v188 * v188;
      v148 = *(double *)&_XMM2 * v136 * v171 + *(double *)&_XMM1 * v176 * v169 + *(double *)&_XMM0 * v188 * v182;
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v146 + 1);
      v149 = *(double *)&_XMM2 * v136 * v137
           + *(double *)&_XMM1 * v176 * v174
           + *(double *)&_XMM0 * v188 * *(double *)&_XMM3;
      *(double *)&v127 = *(double *)&v146 * v136 + *(double *)&_XMM1 * v169 * v176 + *(double *)&_XMM0 * v182 * v188;
      v150 = v127;
      v151 = *(double *)&v146 * v171 + *(double *)&_XMM1 * v169 * v169 + *(double *)&_XMM0 * v182 * v182;
      v152 = *(double *)&v187;
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v147 + 1);
      v153 = *(double *)&v146 * v200 + *(double *)&_XMM1 * v169 * v174 + *(double *)&_XMM0 * v182 * *(double *)&_XMM3;
      *(double *)&v127 = *(double *)&v147 * v173
                       + *(double *)&_XMM1 * v174 * v176
                       + *(double *)&_XMM0 * *(double *)&_XMM3 * v188;
      v154 = v127;
      *(double *)&_XMM2 = *(double *)&v147 * v171 + *(double *)&_XMM1 * v174 * v169;
      *(double *)&_XMM3 = *(double *)&v147 * v200;
      __asm { vmovupd xmm13, [rbp+0A0h+var_110] }
      v156 = v202;
      *(double *)&v146 = *(double *)&_XMM2 + v145 * v182;
      v157 = *(double *)&_XMM3 + *(double *)&_XMM1 * v174 * v174 + v145 * v178;
      *(double *)&v127 = v183 * *(double *)&v187;
      *(double *)a1 = v183;
      _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v127 + v148 * *(double *)&_XMM13 + v149 * v202);
      *(double *)(a1 + 0x10) = v149;
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v150 + 1);
      __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
      *(double *)(a1 + 8) = v148;
      *(double *)(a1 + 0x18) = *(double *)&v150;
      *(double *)(a1 + 0x20) = v151;
      *(double *)(a1 + 0x28) = v153;
      *(double *)(a1 + 0x30) = *(double *)&v154;
      *(double *)(a1 + 0x38) = *(double *)&v146;
      *(double *)(a1 + 0x40) = v157;
      *(double *)&v127 = *(double *)&v150 * v152 + v151 * *(double *)&_XMM13 + v153 * v202;
      _XMM2 = v127;
      __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v154 + 1);
      *(double *)&v127 = *(double *)&v154 * v152 + *(double *)&v146 * *(double *)&_XMM13 + v157 * v202;
      _XMM2 = v127;
      __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
      *(float *)(a1 + 0xD8) = *(float *)&_XMM0;
      *(float *)(a1 + 0xD0) = *(float *)&_XMM5;
      *(float *)(a1 + 0xD4) = *(float *)&_XMM4;
    }
    if ( a3 )
    {
      _XMM2 = COERCE_UNSIGNED_INT64(*(float *)(a1 + 0xD4) * *(double *)&_XMM13 + *(float *)(a1 + 0xD0) * v152 + *(float *)(a1 + 0xD8) * v156);
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      if ( *(float *)&_XMM3 > 0.00000011920929 && fabs(v201 - *(float *)&_XMM3) > 0.00000011920929 )
      {
        v166 = (__m128)*(unsigned __int64 *)(a1 + 0xD0);
        v167 = v201 / *(float *)&_XMM3;
        *(float *)(a1 + 0xD0) = v166.m128_f32[0] * v167;
        *(float *)(a1 + 0xD4) = _mm_shuffle_ps(v166, v166, 0x55).m128_f32[0] * v167;
        *(float *)(a1 + 0xD8) = v167 * *(float *)(a1 + 0xD8);
      }
    }
  }
  return result;
}

// --- End Function: sub_14672E940 (0x14672E940) ---

// --- Function: sub_146731C90 (0x146731C90) ---
_UNKNOWN **__fastcall sub_146731C90(__int64 a1)
{
  _UNKNOWN **result; // rax
  float v2; // xmm3_4
  float v3; // xmm0_4
  float v4; // xmm8_4
  float v5; // xmm12_4
  float v6; // xmm5_4
  float v7; // xmm9_4
  __int128 n0x3F800000; // kr00_16
  __int128 n0x3F800000_1; // xmm13
  double v10; // xmm15_8
  double v11; // xmm10_8
  double v12; // xmm14_8
  double v13; // xmm6_8
  double v14; // xmm5_8
  __int128 n0x3F800000_2; // xmm0
  double v19; // xmm11_8
  double v20; // xmm9_8
  double v21; // xmm6_8
  double v22; // xmm5_8
  double v23; // xmm4_8
  __int128 n0x3F800000_3; // xmm1
  double v28; // xmm12_8
  double v29; // xmm14_8
  double v30; // xmm10_8
  double v31; // xmm11_8
  double v32; // xmm8_8
  double v33; // xmm14_8
  double v34; // xmm13_8
  double v35; // xmm12_8
  double v36; // xmm7_8
  double v37; // xmm4_8
  __int128 v38; // xmm5
  __int128 v41; // kr00_16
  double v49; // xmm11_8
  float v60; // xmm9_4
  float v61; // xmm8_4
  __int128 n0x3FC00000; // xmm12
  __m128 v69; // kr00_16
  float v72; // xmm1_4
  float v73; // xmm2_4
  float v74; // xmm5_4
  float v75; // xmm3_4
  __m128 v76; // xmm2
  __m128 v88; // kr00_16
  float v91; // xmm1_4
  float v92; // xmm2_4
  float v93; // xmm4_4
  float v94; // xmm3_4
  float v98; // xmm4_4
  float v99; // xmm13_4
  float v106; // xmm1_4
  __m128 v107; // kr00_16
  __int128 n0x3FC00000_1; // kr00_16
  float v111; // xmm2_4
  float v112; // xmm0_4
  __int128 n0x3F800000_4; // xmm3
  float v114; // xmm8_4
  float v115; // xmm9_4
  __int128 n0x3F800000_6; // xmm11
  __int128 n0x3F800000_5; // kr00_16
  float v118; // xmm14_4
  float v119; // xmm13_4
  float v120; // xmm15_4
  float v121; // xmm12_4
  float v122; // xmm7_4
  float v123; // xmm6_4
  __int128 v124; // kr00_16
  __int128 v125; // xmm2
  __int128 v126; // xmm3
  __int128 v127; // kr00_16
  __int128 v128; // xmm4
  __int128 v129; // kr00_16
  float v130; // xmm0_4
  __int128 v131; // xmm5
  __int128 v132; // kr00_16
  __int128 v133; // kr00_16
  __int128 v134; // xmm4
  float v141; // xmm7_4
  float v142; // xmm6_4
  __m128 v152; // kr00_16
  float v155; // kr00_4
  float v156; // xmm2_4
  double v157; // [rsp+0h] [rbp-F8h]
  double v158; // [rsp+8h] [rbp-F0h]
  double v159; // [rsp+10h] [rbp-E8h]
  double v160; // [rsp+18h] [rbp-E0h]
  double v161; // [rsp+28h] [rbp-D0h]
  double v162; // [rsp+30h] [rbp-C8h]
  _UNKNOWN *retaddr; // [rsp+F8h] [rbp+0h] BYREF
  float v164; // [rsp+100h] [rbp+8h]
  double v165; // [rsp+108h] [rbp+10h]
  float v166; // [rsp+108h] [rbp+10h]
  double v167; // [rsp+110h] [rbp+18h]
  float v168; // [rsp+110h] [rbp+18h]

  result = &retaddr;
  v2 = *(float *)(a1 + 0x9C);
  v3 = *(float *)(a1 + 0x98);
  v164 = 1.0;
  v4 = *(float *)(a1 + 0x94);
  v5 = *(float *)(a1 + 0x90);
  v6 = (float)(v4 + v4) * v2;
  v7 = (float)(v4 + v4) * v4;
  n0x3F800000 = 0x3F800000u;
  *(double *)&n0x3F800000 = (float)((float)(1.0 - v7) - (float)((float)(v3 + v3) * v3));
  n0x3F800000_1 = n0x3F800000;
  v10 = (float)((float)((float)(v3 + v3) * v5) + v6);
  v11 = (float)((float)((float)(v3 + v3) * v2) + (float)((float)(v4 + v4) * v5));
  v12 = (float)((float)((float)(v3 + v3) * v4) - (float)((float)(v5 + v5) * v2));
  v13 = (float)((float)((float)(v3 + v3) * v5) - v6);
  v14 = (float)((float)(1.0 - (float)((float)(v5 + v5) * v5)) - v7);
  *(double *)&n0x3F800000 = *(double *)&n0x3F800000_1 * *(double *)&n0x3F800000_1
                          + v11 * v11
                          + v13 * v13
                          + 2.225073858507201e-308;
  n0x3F800000_2 = n0x3F800000;
  __asm
  {
    vmovddup xmm1, xmm0
    vsqrtpd xmm2, xmm1
    vunpckhpd xmm2, xmm2, xmm2
  }
  v19 = v13 * (1.0 / *(double *)&_XMM2);
  *((_QWORD *)&n0x3F800000 + 1) = *((_QWORD *)&n0x3F800000_1 + 1);
  v20 = *(double *)&n0x3F800000_1 * (1.0 / *(double *)&_XMM2);
  *(double *)&n0x3F800000_1 = v11 * (1.0 / *(double *)&_XMM2);
  v21 = v19 * v12 - *(double *)&n0x3F800000_1 * v14;
  v22 = v20 * v14 - v10 * v19;
  v23 = *(double *)&n0x3F800000_1 * v10 - v20 * v12;
  *(double *)&n0x3F800000 = v22 * v22 + v21 * v21 + v23 * v23 + 2.225073858507201e-308;
  n0x3F800000_3 = n0x3F800000;
  __asm
  {
    vmovddup xmm3, xmm1
    vsqrtpd xmm0, xmm3
    vunpckhpd xmm0, xmm0, xmm0
  }
  *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
  v28 = *(double *)&_XMM0 * v21;
  v160 = *(double *)&_XMM0 * v21;
  v165 = *(double *)&n0x3F800000_1;
  v167 = v19;
  v29 = *(double *)&_XMM0 * v23;
  v30 = *(double *)&n0x3F800000_1 * (*(double *)&_XMM0 * v23) - *(double *)&_XMM0 * v22 * v19;
  v157 = *(double *)&_XMM0 * v22;
  v31 = *(double *)&_XMM0 * v21 * v19 - v20 * (*(double *)&_XMM0 * v23);
  *(_QWORD *)&_XMM2 = *(_QWORD *)(a1 + 0x60);
  *(_QWORD *)&n0x3F800000_3 = *(_QWORD *)(a1 + 0x68);
  v32 = *(double *)&n0x3F800000_3 * (*(double *)&_XMM0 * v22);
  *(double *)&n0x3F800000_1 = v20 * (*(double *)&_XMM0 * v22) - *(double *)&n0x3F800000_1 * (*(double *)&_XMM0 * v21);
  *(_QWORD *)&_XMM0 = *(_QWORD *)(a1 + 0x70);
  v162 = *(double *)&_XMM0 * *(double *)&n0x3F800000_1;
  v161 = *(double *)&n0x3F800000_3 * v29;
  v158 = v29;
  v33 = v28 * (*(double *)&n0x3F800000_3 * v160) + v20 * *(double *)&_XMM2 * v20 + *(double *)&_XMM0 * v30 * v30;
  v159 = *(double *)&n0x3F800000_1;
  v34 = *(double *)&n0x3F800000_3 * v160 * v157 + v20 * *(double *)&_XMM2 * v165 + *(double *)&_XMM0 * v30 * v31;
  v35 = v20 * *(double *)&_XMM2 * v167 + *(double *)&n0x3F800000_3 * v160 * v158 + *(double *)&_XMM0 * v30 * v159;
  v36 = *(double *)&_XMM2 * v165 * v167 + v32 * v158 + *(double *)&_XMM0 * v31 * v159;
  v37 = *(double *)&_XMM2 * v167 * v167 + v161 * v158 + v162 * v159;
  *(double *)a1 = v33;
  *(double *)(a1 + 8) = v34;
  *(double *)(a1 + 0x10) = v35;
  *(double *)(a1 + 0x18) = v32 * v160 + *(double *)&_XMM2 * v165 * v20 + *(double *)&_XMM0 * v31 * v30;
  *(double *)(a1 + 0x20) = v32 * v157 + *(double *)&_XMM2 * v165 * v165 + *(double *)&_XMM0 * v31 * v31;
  *(double *)(a1 + 0x28) = v36;
  *(double *)(a1 + 0x30) = *(double *)&_XMM2 * v167 * v20 + v161 * v160 + v162 * v30;
  *(double *)(a1 + 0x38) = *(double *)&_XMM2 * v167 * v165 + v161 * v157 + v162 * v31;
  *(double *)(a1 + 0x40) = v37;
  v38 = *(unsigned __int64 *)(a1 + 0x108);
  if ( *(double *)&v38 > 0.0 )
  {
    _XMM2 = *(_OWORD *)(a1 + 0xA0);
    *((_QWORD *)&v41 + 1) = *(_QWORD *)(a1 + 0xA8);
    *(double *)&v41 = *(double *)&_XMM2 * *(double *)&v38;
    _XMM0 = v41;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(a1 + 0xDC) = *(float *)&_XMM1;
    __asm { vunpckhpd xmm2, xmm2, xmm2 }
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM2 + 1);
    *(double *)&v41 = *(double *)&_XMM2 * *(double *)&v38;
    _XMM0 = v41;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(a1 + 0xE0) = *(float *)&_XMM1;
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&v38 + 1);
    *(double *)&v41 = *(double *)&v38 * *(double *)(a1 + 0xB0);
    _XMM0 = v41;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(a1 + 0xE4) = *(float *)&_XMM1;
    _XMM10 = *(_OWORD *)(a1 + 0xB8);
    v49 = *(double *)(a1 + 0xC8);
    __asm { vunpckhpd xmm6, xmm10, xmm10 }
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM6 + 1);
    *(double *)&v41 = *(double *)&_XMM6 * v34 + *(double *)&_XMM10 * v33 + v49 * v35;
    _XMM1 = v41;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(float *)(a1 + 0xD0) = *(float *)&_XMM2;
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM6 + 1);
    *(double *)&v41 = *(double *)&_XMM6 * *(double *)(a1 + 0x20)
                    + *(double *)&_XMM10 * *(double *)(a1 + 0x18)
                    + v49 * v36;
    _XMM2 = v41;
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    *(float *)(a1 + 0xD4) = *(float *)&_XMM0;
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM10 + 1);
    *(double *)&v41 = *(double *)&_XMM10 * *(double *)(a1 + 0x30)
                    + *(double *)&_XMM6 * *(double *)(a1 + 0x38)
                    + v49 * v37;
    _XMM2 = v41;
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    *(float *)(a1 + 0xD8) = *(float *)&_XMM0;
    if ( (*(_BYTE *)(a1 + 0x170) & 2) != 0 )
    {
      _XMM4 = *(unsigned int *)(a1 + 0xE0);
      _XMM5 = *(unsigned int *)(a1 + 0xDC);
      _XMM12 = *(unsigned int *)(a1 + 0xE4);
      v60 = *(float *)(qword_149A0A290 + 0x2B4);
      v61 = 0.0;
      if ( (float)((float)((float)(*(float *)&_XMM5 * *(float *)&_XMM5) + (float)(*(float *)&_XMM4 * *(float *)&_XMM4))
                 + (float)(*(float *)&_XMM12 * *(float *)&_XMM12)) <= (float)(v60 * v60) )
      {
        n0x3FC00000 = 0x3FC00000u;
      }
      else
      {
        __asm
        {
          vminss  xmm0, xmm5, xmm6
          vmaxss  xmm5, xmm0, xmm7
          vminss  xmm0, xmm12, xmm6
        }
        n0x3FC00000 = 0x3FC00000u;
        __asm
        {
          vminss  xmm1, xmm4, xmm6
          vmaxss  xmm4, xmm1, xmm7
          vmaxss  xmm13, xmm0, xmm7
        }
        v69 = _XMM5;
        v69.m128_f32[0] = (float)((float)(_XMM5.m128_f32[0] * _XMM5.m128_f32[0])
                                + (float)(*(float *)&_XMM4 * *(float *)&_XMM4))
                        + (float)(*(float *)&_XMM13 * *(float *)&_XMM13);
        if ( v69.m128_f32[0] <= 9.9999997e-21 )
        {
          v74 = 1.0;
          v73 = 0.0;
          v75 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v69, v69, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          v72 = (float)(1.5 - (float)((float)((float)(v69.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
              * _XMM3.m128_f32[0];
          v73 = v72 * _XMM5.m128_f32[0];
          v74 = v72 * *(float *)&_XMM13;
          v75 = v72 * *(float *)&_XMM4;
        }
        *(float *)(a1 + 0xDC) = v73 * v60;
        *(float *)(a1 + 0xE4) = v74 * v60;
        *(float *)(a1 + 0xE0) = v75 * v60;
        v76 = (__m128)*(unsigned __int64 *)(a1 + 0xDC);
        _XMM5 = *(unsigned __int64 *)(a1 + 0x100);
        __asm { vcvtpd2ps xmm5, xmm5 }
        *(double *)(a1 + 0xB0) = (float)(*(float *)(a1 + 0xE4) * *(float *)&_XMM5);
        *(double *)(a1 + 0xA0) = (float)(v76.m128_f32[0] * *(float *)&_XMM5);
        *(double *)(a1 + 0xA8) = (float)(_mm_shuffle_ps(v76, v76, 0x55).m128_f32[0] * *(float *)&_XMM5);
      }
      _XMM3 = *(unsigned int *)(a1 + 0xEC);
      _XMM4 = *(unsigned int *)(a1 + 0xE8);
      _XMM5 = *(unsigned int *)(a1 + 0xF0);
      if ( (float)((float)((float)(*(float *)&_XMM4 * *(float *)&_XMM4) + (float)(*(float *)&_XMM3 * *(float *)&_XMM3))
                 + (float)(*(float *)&_XMM5 * *(float *)&_XMM5)) > (float)(v60 * v60) )
      {
        __asm
        {
          vminss  xmm0, xmm4, xmm6
          vmaxss  xmm4, xmm0, xmm7
          vminss  xmm1, xmm3, xmm6
          vmaxss  xmm13, xmm1, xmm7
          vminss  xmm0, xmm5, xmm6
          vmaxss  xmm5, xmm0, xmm7
        }
        v88 = _XMM4;
        v88.m128_f32[0] = (float)((float)(_XMM4.m128_f32[0] * _XMM4.m128_f32[0])
                                + (float)(*(float *)&_XMM13 * *(float *)&_XMM13))
                        + (float)(*(float *)&_XMM5 * *(float *)&_XMM5);
        if ( v88.m128_f32[0] <= 9.9999997e-21 )
        {
          v93 = 1.0;
          v92 = 0.0;
          v94 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v88, v88, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          v91 = (float)(*(float *)&n0x3FC00000
                      - (float)((float)((float)(v88.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
              * _XMM3.m128_f32[0];
          v92 = v91 * _XMM4.m128_f32[0];
          v93 = v91 * *(float *)&_XMM5;
          v94 = v91 * *(float *)&_XMM13;
        }
        *(float *)(a1 + 0xE8) = v92 * v60;
        *(float *)(a1 + 0xF0) = v93 * v60;
        *(float *)(a1 + 0xEC) = v94 * v60;
      }
      result = (_UNKNOWN **)qword_149A0A290;
      _XMM3 = *(unsigned int *)(a1 + 0xD4);
      _XMM5 = *(unsigned int *)(a1 + 0xD0);
      _XMM9 = *(unsigned int *)(a1 + 0xD8);
      v98 = *(float *)(qword_149A0A290 + 0x2B8);
      v99 = v98 * v98;
      v166 = v98;
      v168 = v98 * v98;
      if ( (float)((float)((float)(*(float *)&_XMM5 * *(float *)&_XMM5) + (float)(*(float *)&_XMM3 * *(float *)&_XMM3))
                 + (float)(*(float *)&_XMM9 * *(float *)&_XMM9)) > (float)(v98 * v98) )
      {
        __asm
        {
          vminss  xmm0, xmm5, xmm6
          vmaxss  xmm5, xmm0, xmm7
          vminss  xmm1, xmm3, xmm6
          vmaxss  xmm13, xmm1, xmm7
          vminss  xmm0, xmm9, xmm6
          vmaxss  xmm6, xmm0, xmm7
        }
        v107 = _XMM5;
        v107.m128_f32[0] = (float)((float)(_XMM5.m128_f32[0] * _XMM5.m128_f32[0])
                                 + (float)(*(float *)&_XMM13 * *(float *)&_XMM13))
                         + (float)(*(float *)&_XMM6 * *(float *)&_XMM6);
        v106 = v107.m128_f32[0];
        if ( v107.m128_f32[0] <= 9.9999997e-21 )
        {
          n0x3F800000_4 = 0x3F800000u;
          v111 = 0.0;
          v112 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v107, v107, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          n0x3FC00000_1 = n0x3FC00000;
          *(float *)&n0x3FC00000_1 = (float)(*(float *)&n0x3FC00000
                                           - (float)((float)((float)(v106 * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                                   * _XMM3.m128_f32[0];
          v111 = *(float *)&n0x3FC00000_1 * _XMM5.m128_f32[0];
          v112 = *(float *)&n0x3FC00000_1 * *(float *)&_XMM13;
          *(float *)&n0x3FC00000_1 = *(float *)&n0x3FC00000_1 * *(float *)&_XMM6;
          n0x3F800000_4 = n0x3FC00000_1;
        }
        v114 = v111 * v98;
        v115 = v112 * v98;
        n0x3F800000_5 = n0x3F800000_4;
        *(float *)&n0x3F800000_5 = *(float *)&n0x3F800000_4 * v98;
        n0x3F800000_6 = n0x3F800000_5;
        *(float *)(a1 + 0xD0) = v111 * v98;
        *(float *)(a1 + 0xD4) = v112 * v98;
        *(float *)(a1 + 0xD8) = *(float *)&n0x3F800000_4 * v98;
        v118 = *(float *)(a1 + 0x94);
        v119 = *(float *)(a1 + 0x98);
        v120 = *(float *)(a1 + 0x90);
        v121 = *(float *)(a1 + 0x9C);
        v122 = (float)((float)(v119 * (float)(v112 * v98)) - (float)(v118 * (float)(*(float *)&n0x3F800000_4 * v98)))
             + (float)(v121 * (float)(v111 * v98));
        v123 = (float)((float)((float)(*(float *)&n0x3F800000_4 * v98) * v120) - (float)(v119 * (float)(v111 * v98)))
             + (float)(v121 * (float)(v112 * v98));
        v124 = LODWORD(v118);
        *(float *)&v124 = (float)(v118 * (float)(v111 * v98)) - (float)((float)(v112 * v98) * v120);
        v125 = v124;
        v127 = LODWORD(v119);
        *(float *)&v127 = v119 * v123;
        v126 = v127;
        v129 = v125;
        *(float *)&v129 = *(float *)&v125 + (float)(v121 * *(float *)&n0x3F800000_6);
        v128 = v129;
        v130 = *(float *)&v129 * v118;
        v132 = v126;
        *(float *)&v132 = *(float *)&v126 - v130;
        v131 = v132;
        v133 = v128;
        *(float *)&v133 = (float)(*(float *)&v128 * v120) - (float)(v119 * v122);
        v134 = v133;
        *((_QWORD *)&v133 + 1) = *((_QWORD *)&v131 + 1);
        *(double *)&v133 = (float)((float)(*(float *)&v131 + v114) + *(float *)&v131) * *(double *)(a1 + 0x48);
        _XMM3 = v133;
        __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
        *((_QWORD *)&v133 + 1) = *((_QWORD *)&v134 + 1);
        *(double *)&v133 = (float)((float)(*(float *)&v134 + v115) + *(float *)&v134) * *(double *)(a1 + 0x50);
        _XMM3 = v133;
        __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
        *((_QWORD *)&v133 + 1) = *((_QWORD *)&n0x3F800000_6 + 1);
        *(double *)&v133 = (float)((float)(*(float *)&n0x3F800000_6
                                         + (float)((float)(v118 * v122) - (float)(v123 * v120)))
                                 + (float)((float)(v118 * v122) - (float)(v123 * v120)))
                         * *(double *)(a1 + 0x58);
        _XMM3 = v133;
        __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
        v141 = (float)((float)(*(float *)&_XMM8 * v118) - (float)(*(float *)&_XMM9 * v119))
             + (float)(*(float *)&_XMM10 * v121);
        v142 = (float)((float)(*(float *)&_XMM10 * v119) - (float)(*(float *)&_XMM8 * v120))
             + (float)(*(float *)&_XMM9 * v121);
        *(float *)&v134 = (float)((float)(*(float *)&_XMM9 * v120) - (float)(*(float *)&_XMM10 * v118))
                        + (float)(*(float *)&_XMM8 * v121);
        *(float *)&v125 = (float)(*(float *)&_XMM10 + (float)((float)(v118 * *(float *)&v134) - (float)(v119 * v142)))
                        + (float)((float)(v118 * *(float *)&v134) - (float)(v119 * v142));
        *(double *)&_XMM3 = (float)((float)(*(float *)&_XMM9
                                          + (float)((float)(v119 * v141) - (float)(v120 * *(float *)&v134)))
                                  + (float)((float)(v119 * v141) - (float)(v120 * *(float *)&v134)));
        v98 = v166;
        v99 = v168;
        *(double *)(a1 + 0xC8) = (float)((float)(*(float *)&_XMM8 + (float)((float)(v120 * v142) - (float)(v118 * v141)))
                                       + (float)((float)(v120 * v142) - (float)(v118 * v141)));
        *(double *)(a1 + 0xB8) = *(float *)&v125;
        *(double *)(a1 + 0xC0) = *(double *)&_XMM3;
        v61 = 0.0;
      }
      _XMM3 = *(unsigned int *)(a1 + 0xF8);
      _XMM5 = *(unsigned int *)(a1 + 0xF4);
      _XMM9 = *(unsigned int *)(a1 + 0xFC);
      if ( (float)((float)((float)(*(float *)&_XMM5 * *(float *)&_XMM5) + (float)(*(float *)&_XMM3 * *(float *)&_XMM3))
                 + (float)(*(float *)&_XMM9 * *(float *)&_XMM9)) > v99 )
      {
        __asm
        {
          vminss  xmm0, xmm5, xmm6
          vminss  xmm1, xmm3, xmm6
          vmaxss  xmm12, xmm0, xmm7
          vminss  xmm0, xmm9, xmm6
          vmaxss  xmm13, xmm1, xmm7
          vmaxss  xmm6, xmm0, xmm7
        }
        v152 = _XMM13;
        v152.m128_f32[0] = (float)((float)(_XMM13.m128_f32[0] * _XMM13.m128_f32[0])
                                 + (float)(*(float *)&_XMM12 * *(float *)&_XMM12))
                         + (float)(*(float *)&_XMM6 * *(float *)&_XMM6);
        if ( v152.m128_f32[0] <= 9.9999997e-21 )
        {
          v156 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v152, v152, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          v155 = (float)(1.5 - (float)((float)((float)(v152.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
               * _XMM3.m128_f32[0];
          v164 = v155 * *(float *)&_XMM6;
          v61 = v155 * *(float *)&_XMM12;
          v156 = v155 * _XMM13.m128_f32[0];
        }
        *(float *)(a1 + 0xF4) = v61 * v98;
        *(float *)(a1 + 0xFC) = v98 * v164;
        *(float *)(a1 + 0xF8) = v156 * v98;
      }
    }
  }
  return result;
}

// --- End Function: sub_146731C90 (0x146731C90) ---

// --- Function: sub_14675BD10 (0x14675BD10) ---
__int64 __fastcall sub_14675BD10(__int64 a1, double *a2, double a3)
{
  __int128 v5; // xmm8
  double v6; // xmm9_8
  double X; // kr00_8
  double v12; // xmm10_8
  double v14; // xmm1_8
  __int128 v16; // kr00_16
  double v19; // xmm6_8
  double v20; // xmm0_8
  __int128 v21; // kr00_16
  double v23; // xmm5_8
  __int64 result; // rax

  v5 = *(unsigned __int64 *)a2;
  v6 = a2[2];
  _XMM3 = COERCE_UNSIGNED_INT64(*(double *)&v5 * *(double *)&v5 + a2[1] * a2[1] + v6 * v6);
  __asm
  {
    vmovddup xmm0, xmm3
    vsqrtpd xmm6, xmm0
    vunpckhpd xmm6, xmm6, xmm6
  }
  X = *(double *)&_XMM6 * a3 * 0.5;
  v12 = cos(X);
  if ( *(double *)&_XMM6 >= 0.001000000047497451 )
  {
    v19 = 1.0 / *(double *)&_XMM6;
    v20 = sin(X);
    *((_QWORD *)&v21 + 1) = *((_QWORD *)&v5 + 1);
    *(double *)&v21 = *(double *)&v5 * v19 * v20;
    _XMM4 = v21;
    v23 = v6 * v19 * v20;
    __asm { vunpcklpd xmm0, xmm4, xmm3 }
    *(_OWORD *)a1 = _XMM0;
    *(double *)(a1 + 0x10) = v23;
  }
  else
  {
    _XMM0 = *(_OWORD *)a2;
    v14 = a3 * 0.5 * a2[2];
    *((double *)&v16 + 1) = a2[1];
    *(double *)&v16 = *a2 * (a3 * 0.5);
    _XMM2 = v16;
    __asm { vunpckhpd xmm0, xmm0, xmm0 }
    __asm { vunpcklpd xmm0, xmm2, xmm0 }
    *(_OWORD *)a1 = _XMM0;
    *(double *)(a1 + 0x10) = v14;
  }
  result = a1;
  *(double *)(a1 + 0x18) = v12;
  return result;
}

// --- End Function: sub_14675BD10 (0x14675BD10) ---

// --- Function: sub_14675BEE0 (0x14675BEE0) ---
double *__fastcall sub_14675BEE0(double *a1, double *a2, float *a3)
{
  double v3; // xmm4_8
  double *result; // rax
  double v5; // xmm6_8
  double v6; // xmm10_8
  double v7; // kr00_8
  double v8; // xmm12_8
  double v9; // xmm11_8
  double v10; // xmm9_8
  double v11; // xmm7_8
  double v12; // xmm4_8
  double v13; // xmm5_8
  double v14; // xmm6_8
  double v15; // xmm4_8
  double v16; // xmm3_8

  v3 = a2[3];
  result = a1;
  v5 = a2[2];
  v6 = a2[1];
  v7 = a3[2];
  v8 = a3[1];
  v9 = *a3;
  v10 = v6 * v7 - v5 * v8 + v3 * v9;
  v11 = v9 * v5 - *a2 * v7 + v3 * v8;
  v12 = *a2 * v8 - v9 * v6 + v3 * v7;
  v13 = v6 * v12 - v5 * v11;
  v14 = v5 * v10 - *a2 * v12;
  v15 = v13 + a2[4] + v9 + v13;
  v16 = v14 + a2[5] + v8 + v14;
  a1[2] = *a2 * v11 - v6 * v10 + a2[6] + v7 + *a2 * v11 - v6 * v10;
  *a1 = v15;
  a1[1] = v16;
  return result;
}

// --- End Function: sub_14675BEE0 (0x14675BEE0) ---

// --- Function: sub_146763440 (0x146763440) ---
__int64 __fastcall sub_146763440(__int64 a1, __int64 a2, unsigned __int8 *a3)
{
  __int64 *v5; // r15
  __int64 v6; // rax
  __int64 v7; // rcx
  __int64 *v8; // rbx
  __int64 *v9; // rbp
  __int64 *v10; // rcx
  __int64 **v12; // r13
  _QWORD *v13; // r12
  __int64 v14; // rdi
  __int64 v15; // rcx
  float v16; // xmm1_4
  float v17; // kr00_4
  unsigned __int64 n8_2; // rdx
  float v19; // xmm0_4
  float v20; // kr00_4
  unsigned __int64 v23; // rcx
  unsigned __int64 n8_1; // rax
  unsigned __int64 n8; // rcx
  unsigned __int64 v26; // r8
  __int64 v27; // rdx
  __int64 *v28; // rax
  __int64 *v29; // rdx
  int v30; // ecx
  __int64 *v31; // rdx
  __int64 v32; // rcx
  __int64 v33; // rax
  __int64 *v34; // r8
  unsigned __int64 v35; // [rsp+70h] [rbp+8h]

  v5 = *(__int64 **)(a1 + 8);
  v6 = *(_QWORD *)(a1 + 0x18);
  v35 = 0x100000001B3LL
      * (a3[3]
       ^ (0x100000001B3LL * (a3[2] ^ (0x100000001B3LL * (a3[1] ^ (0x100000001B3LL * (*a3 ^ 0xCBF29CE484222325uLL)))))));
  v7 = 2 * (v35 & *(_QWORD *)(a1 + 0x30));
  v8 = *(__int64 **)(v6 + 8 * v7 + 8);
  if ( v8 == v5 )
  {
    v8 = v5;
    v9 = v5;
  }
  else
  {
    v10 = *(__int64 **)(v6 + 8 * v7);
    if ( *(_DWORD *)a3 == *((_DWORD *)v8 + 4) )
    {
LABEL_6:
      *(_QWORD *)a2 = v8;
      *(_BYTE *)(a2 + 8) = 0;
      return a2;
    }
    while ( v8 != v10 )
    {
      v8 = (__int64 *)v8[1];
      if ( *(_DWORD *)a3 == *((_DWORD *)v8 + 4) )
        goto LABEL_6;
    }
    v5 = v8;
    v9 = v8;
  }
  v12 = (__int64 **)(a1 + 8);
  v13 = (_QWORD *)(a1 + 0x30);
  if ( *(_QWORD *)(a1 + 0x10) == 0xAAAAAAAAAAAAAAALL )
    std::_Xlength_error("unordered_map/set too long");
  v14 = sub_140393750(a1 + 8, 0x18);
  *(_DWORD *)(v14 + 0x10) = *(_DWORD *)a3;
  v15 = *(_QWORD *)(a1 + 0x10) + 1LL;
  if ( v15 < 0 )
  {
    v17 = (float)(v15 & 1 | ((unsigned __int64)v15 >> 1));
    v16 = v17 + v17;
  }
  else
  {
    v16 = (float)v15;
  }
  n8_2 = *(_QWORD *)(a1 + 0x38);
  if ( (n8_2 & 0x8000000000000000uLL) != 0LL )
  {
    v20 = (float)(*(_QWORD *)(a1 + 0x38) & 1LL | (n8_2 >> 1));
    v19 = v20 + v20;
  }
  else
  {
    v19 = (float)(__int64)n8_2;
  }
  if ( *(float *)a1 >= (float)(v16 / v19) )
  {
    v26 = v35;
  }
  else
  {
    _XMM1 = 0;
    __asm { vroundss xmm1, xmm1, xmm0, 2 }
    v23 = 0;
    if ( *(float *)&_XMM1 >= 9.223372e18 )
    {
      *(float *)&_XMM1 = *(float *)&_XMM1 - 9.223372e18;
      if ( *(float *)&_XMM1 < 9.223372e18 )
        v23 = 0x8000000000000000uLL;
    }
    n8_1 = v23 + (unsigned int)(int)*(float *)&_XMM1;
    n8 = 8;
    if ( n8_1 > 8 )
      n8 = n8_1;
    if ( n8_2 < n8 )
    {
      if ( n8_2 >= 0x200 || (n8_2 *= 8LL, n8_2 < n8) )
        n8_2 = n8;
    }
    sub_146806A50(a1, n8_2);
    v26 = v35;
    v27 = *(_QWORD *)(a1 + 0x18);
    v8 = *(__int64 **)(a1 + 8);
    v28 = *(__int64 **)(v27 + 0x10 * (v35 & *(_QWORD *)(a1 + 0x30)) + 8);
    if ( v28 != v8 )
    {
      v29 = *(__int64 **)(v27 + 0x10 * (v35 & *(_QWORD *)(a1 + 0x30)));
      v30 = *(_DWORD *)(v14 + 0x10);
      if ( v30 != *((_DWORD *)v28 + 4) )
      {
        while ( 1 )
        {
          v8 = v28;
          if ( v28 == v29 )
            break;
          v28 = (__int64 *)v28[1];
          if ( v30 == *((_DWORD *)v28 + 4) )
            goto LABEL_30;
        }
        v13 = (_QWORD *)(a1 + 0x30);
        v12 = (__int64 **)(a1 + 8);
        v9 = v28;
        v5 = v28;
        goto LABEL_34;
      }
LABEL_30:
      v8 = (__int64 *)*v28;
    }
    v13 = (_QWORD *)(a1 + 0x30);
    v9 = v8;
    v12 = (__int64 **)(a1 + 8);
    v5 = v8;
  }
LABEL_34:
  v31 = (__int64 *)v8[1];
  ++*(_QWORD *)(a1 + 0x10);
  *(_QWORD *)v14 = v5;
  *(_QWORD *)(v14 + 8) = v31;
  *v31 = v14;
  v8[1] = v14;
  v32 = *(_QWORD *)(a1 + 0x18);
  v33 = 2 * (v26 & *v13);
  v34 = *(__int64 **)(v32 + 0x10 * (v26 & *v13));
  if ( v34 == *v12 )
  {
    *(_QWORD *)(v32 + 8 * v33) = v14;
    goto LABEL_39;
  }
  if ( v34 != v9 )
  {
    if ( *(__int64 **)(v32 + 8 * v33 + 8) != v31 )
    {
LABEL_40:
      *(_QWORD *)a2 = v14;
      *(_BYTE *)(a2 + 8) = 1;
      return a2;
    }
LABEL_39:
    *(_QWORD *)(v32 + 8 * v33 + 8) = v14;
    goto LABEL_40;
  }
  *(_QWORD *)(v32 + 8 * v33) = v14;
  *(_QWORD *)a2 = v14;
  *(_BYTE *)(a2 + 8) = 1;
  return a2;
}

// --- End Function: sub_146763440 (0x146763440) ---

// --- Function: sub_146764480 (0x146764480) ---
__int64 __fastcall sub_146764480(__int64 a1, __int64 a2, __int64 a3, int *a4, int a5, __int64 a6, int a7, __int64 a8)
{
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v9; // rsi
  __int64 TlsIndex; // rdx
  __int64 v13; // rax
  unsigned int n7; // edx
  int n0x1E; // ebp
  int v16; // ecx
  __int16 n0x63; // r8
  bool v18; // al
  __int64 v19; // rbx
  int v20; // eax
  signed __int64 v22; // rdx
  signed __int64 v23; // rdx
  volatile signed __int64 *v24; // rdi
  __int64 v25; // rax
  int v26; // r9d
  __int64 v27; // r10
  int *i; // r8
  int v29; // edx
  int v30; // eax
  unsigned int v31; // ebp
  __int64 v32; // r8
  __int64 v33; // rcx
  __int64 v34; // rax
  int v35; // edx
  __int64 v36; // rcx
  __int64 v37; // r8
  __int64 v38; // rcx
  __int64 v39; // rax
  int v40; // edx
  __int64 v41; // rcx
  __int64 v42; // r8
  __int64 v43; // rcx
  __int64 v44; // rax
  int v45; // edx
  __int64 v46; // rcx
  int *v47; // rbp
  int v48; // edx
  int v49; // eax
  int v50; // esi
  char *v51; // rdx
  int Size; // esi
  __int64 v53; // r12
  __int64 v54; // rcx
  void *v55; // rdi
  __int64 v56; // rax
  int v57; // edx
  __int64 v58; // rcx
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v60; // r13
  bool v62; // [rsp+90h] [rbp+28h]

  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  *(_QWORD *)(a1 + 8) = a2;
  v9 = a2;
  TlsIndex = (unsigned int)::TlsIndex;
  *(_QWORD *)a1 = a3;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_QWORD *)(a1 + 0x18) = a4;
  v13 = ThreadLocalStoragePointer[TlsIndex];
  *(_DWORD *)(a1 + 0x20) = 0;
  *(_DWORD *)(a1 + 0x24) = 1;
  n7 = *(_DWORD *)(v9 + 0xF4);
  n0x1E = *(_DWORD *)(v13 + 0x800);
  if ( n7 == 0xFFFFFFFF && (*(_DWORD *)(v9 + 0xE8) & 0x3FFFFFFF) == 3 )
    v16 = ((a5 - 1) >> 0x1F) | a5;
  else
    v16 = a5;
  if ( v16 < 0 )
    goto LABEL_12;
  if ( n7 >= 7 || *(int *)(v9 + 0xE8) < 0 )
  {
    v18 = (unsigned int)(*a4 - 0x19) > 2 && *a4 != 5;
  }
  else
  {
    n0x63 = *(_WORD *)(v9 + 0xEC);
    v18 = n0x63 == 0x63;
    if ( *a4 != 7 )
    {
      if ( *a4 != 0x10 || n0x63 != 0x63 && *(_WORD *)(*((_QWORD *)a4 + 2) + 0xECLL) != 0x63 )
        goto LABEL_12;
LABEL_26:
      *(_DWORD *)(a1 + 0x20) = 1;
      *(_QWORD *)(a1 + 0x10) = &unk_151457774;
      return a1;
    }
  }
  if ( v18 )
    goto LABEL_26;
LABEL_12:
  v19 = a8;
  if ( a8 || (v20 = 0, n0x1E == 0x1E) )
    v20 = 1;
  if ( v16 <= 0 || v20 )
  {
    v62 = 0;
    if ( !a8 )
    {
      v62 = n0x1E == 0x1E;
      v19 = *((_QWORD *)sub_1465F4EC0() + 0x1D);
      if ( n0x1E == 0x1E )
      {
        v62 = 1;
        if ( dword_14997DC68 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
        {
          ++dword_14997DC6C;
        }
        else
        {
          v22 = _InterlockedIncrement64(&qword_14997DC60);
          if ( (v22 & 0x200000) != 0 )
          {
            sub_1403CD0A0(
              &qword_14997DC60,
              v22,
              (__int64)"ChangeRequest<struct pe_action>::ChangeRequest",
              (__int64)"command_queue_t::command_queue_manager.m_tls_queue_lock",
              1);
            v62 = 1;
          }
        }
      }
      v9 = a2;
    }
    v23 = _InterlockedIncrement64(&qword_14997DC08);
    if ( (v23 & 0x200000) != 0 )
      sub_1403CD0A0(
        &qword_14997DC08,
        v23,
        (__int64)"ChangeRequest<struct pe_action>::ChangeRequest",
        (__int64)"command_queue_t::command_queue_manager.m_queue_swap_lock",
        1);
    v24 = (volatile signed __int64 *)(v19 + 0x50);
    v25 = _InterlockedCompareExchange64((volatile signed __int64 *)(v19 + 0x50), 0x200000, 0);
    if ( v25 )
      sub_1403DE750(
        v19 + 0x50,
        v25,
        0,
        (__int64)"ChangeRequest<struct pe_action>::ChangeRequest",
        (__int64)"queue->m_queueLock",
        1);
    v26 = 0;
    _InterlockedExchangeAdd((volatile signed __int32 *)(v9 + 0xFC), 0x20000u);
    v27 = *a4;
    for ( i = (int *)qword_15145E140[v27]; i; i = (int *)*((_QWORD *)i + 2) )
    {
      if ( (unsigned __int64)(*(_QWORD *)((char *)a4 + *i) - 1LL) <= 0xFFFFFFFFFFFFFFFDuLL )
      {
        v29 = i[2];
        v30 = 0;
        if ( v29 > 0 )
          v30 = i[2];
        v26 += i[3] * (i[1] + ((-v29 >> 0x1F) & *(int *)((char *)a4 + v30)));
      }
    }
    v31 = v26 + dword_15145DEF0[v27] + 0x10;
    sub_1465B1E20(v19, v31);
    v32 = v19 + 0x58;
    if ( *(_DWORD *)(v19 + 0x34) != 2 )
      v32 = *(_QWORD *)(v19 + 0x20);
    v33 = *(_QWORD *)(v32 + 8LL * *(int *)(v19 + 0x30) - 8);
    if ( *(_QWORD *)(v33 + 0x1FF0) )
      v33 = *(_QWORD *)(v33 + 0x1FF0);
    *(_DWORD *)(*(int *)(v19 + 0x40) + v33) = 1;
    v34 = *(int *)(v19 + 0x30);
    v35 = *(_DWORD *)(v19 + 0x40) + 4;
    *(_DWORD *)(v19 + 0x40) = v35;
    v36 = *(_QWORD *)(v32 + 8 * v34 - 8);
    v37 = v19 + 0x58;
    if ( *(_QWORD *)(v36 + 0x1FF0) )
      v36 = *(_QWORD *)(v36 + 0x1FF0);
    *(_DWORD *)(v35 + v36) = 0xFFFFFFFF;
    if ( *(_DWORD *)(v19 + 0x34) != 2 )
      v37 = *(_QWORD *)(v19 + 0x20);
    v38 = *(_QWORD *)(v37 + 8LL * *(int *)(v19 + 0x30) - 8);
    if ( *(_QWORD *)(v38 + 0x1FF0) )
      v38 = *(_QWORD *)(v38 + 0x1FF0);
    *(_DWORD *)(*(int *)(v19 + 0x40) + v38) = v31;
    v39 = *(int *)(v19 + 0x30);
    v40 = *(_DWORD *)(v19 + 0x40) + 4;
    *(_DWORD *)(v19 + 0x40) = v40;
    v41 = *(_QWORD *)(v37 + 8 * v39 - 8);
    v42 = v19 + 0x58;
    if ( *(_QWORD *)(v41 + 0x1FF0) )
      v41 = *(_QWORD *)(v41 + 0x1FF0);
    *(_DWORD *)(v40 + v41) = 0xFFFFFFFF;
    if ( *(_DWORD *)(v19 + 0x34) != 2 )
      v42 = *(_QWORD *)(v19 + 0x20);
    v43 = *(_QWORD *)(v42 + 8LL * *(int *)(v19 + 0x30) - 8);
    if ( *(_QWORD *)(v43 + 0x1FF0) )
      v43 = *(_QWORD *)(v43 + 0x1FF0);
    *(_QWORD *)(*(int *)(v19 + 0x40) + v43) = v9;
    v44 = *(int *)(v19 + 0x30);
    v45 = *(_DWORD *)(v19 + 0x40) + 8;
    *(_DWORD *)(v19 + 0x40) = v45;
    v46 = *(_QWORD *)(v42 + 8 * v44 - 8);
    if ( *(_QWORD *)(v46 + 0x1FF0) )
      v46 = *(_QWORD *)(v46 + 0x1FF0);
    *(_DWORD *)(v45 + v46) = 0xFFFFFFFF;
    *(_QWORD *)(a1 + 0x10) = sub_1467CC170(v19, a4, (unsigned int)dword_15145DEF0[*a4]);
    v47 = (int *)qword_15145E140[*a4];
    if ( v47 )
    {
      do
      {
        v48 = v47[2];
        v49 = 0;
        if ( v48 > 0 )
          v49 = v47[2];
        v50 = (-v48 >> 0x1F) & *(int *)((char *)a4 + v49);
        v51 = *(char **)((char *)a4 + *v47);
        Size = v47[3] * (v47[1] + v50);
        if ( (unsigned __int64)(v51 + 0xFFFFFFFF) <= 0xFFFFFFFFFFFFFFFDuLL && Size >= 0 )
        {
          v53 = v19 + 0x58;
          if ( *(_DWORD *)(v19 + 0x34) != 2 )
            v53 = *(_QWORD *)(v19 + 0x20);
          v54 = *(_QWORD *)(v53 + 8LL * *(int *)(v19 + 0x30) - 8);
          if ( *(_QWORD *)(v54 + 0x1FF0) )
            v54 = *(_QWORD *)(v54 + 0x1FF0);
          v55 = (void *)(v54 + *(int *)(v19 + 0x40));
          memcpy(v55, v51, Size);
          v56 = *(int *)(v19 + 0x30);
          v57 = Size + *(_DWORD *)(v19 + 0x40);
          *(_DWORD *)(v19 + 0x40) = v57;
          v58 = *(_QWORD *)(v53 + 8 * v56 - 8);
          if ( *(_QWORD *)(v58 + 0x1FF0) )
            v58 = *(_QWORD *)(v58 + 0x1FF0);
          *(_DWORD *)(v57 + v58) = 0xFFFFFFFF;
          *(_QWORD *)(*v47 + *(_QWORD *)(a1 + 0x10)) = v55;
        }
        v47 = (int *)*((_QWORD *)v47 + 2);
      }
      while ( v47 );
      LODWORD(v9) = a2;
      v24 = (volatile signed __int64 *)(v19 + 0x50);
    }
    sub_1467C6C60(a1, (_DWORD)a4, v9, a6, a7, v19);
    *(_DWORD *)(a1 + 0x20) = 1;
    if ( v24 )
    {
      n0x200000 = _InterlockedCompareExchange64(v24, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v24, n0x200000);
    }
    v60 = _InterlockedDecrement64(&qword_14997DC08);
    if ( (v60 & 0x3FF) == 0 && (v60 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(&qword_14997DC08, v60);
    if ( v62 )
      sub_1402D42F0((__int64)&qword_14997DC60);
  }
  return a1;
}

// --- End Function: sub_146764480 (0x146764480) ---

// --- Function: sub_146765070 (0x146765070) ---
__int64 __fastcall sub_146765070(__int64 a1, __int64 a2, __int64 a3, int *a4, int a5, int a6, int a7, __int64 a8)
{
  _QWORD *ThreadLocalStoragePointer; // rax
  volatile signed __int32 *v11; // rsi
  unsigned int n7; // ecx
  int n0x1E; // r13d
  int v14; // ebx
  int n0x6008912; // ecx
  __int64 v17; // rcx
  __int64 v18; // rdx
  __int64 v19; // rdi
  int v20; // eax
  signed __int64 v21; // rdx
  signed __int64 v22; // rdx
  volatile signed __int64 *v23; // rbx
  __int64 v24; // rax
  int v25; // r9d
  __int64 v26; // r10
  int *i; // r8
  int v28; // edx
  int v29; // eax
  unsigned int v30; // ebp
  __int64 v31; // r8
  __int64 v32; // rcx
  __int64 v33; // rax
  int v34; // edx
  __int64 v35; // rcx
  __int64 v36; // r8
  __int64 v37; // rcx
  __int64 v38; // rax
  int v39; // edx
  __int64 v40; // rcx
  __int64 v41; // r8
  __int64 v42; // rcx
  __int64 v43; // rax
  int v44; // edx
  __int64 v45; // rcx
  int *v46; // rbp
  int v47; // edx
  int v48; // eax
  int v49; // r15d
  char *v50; // rdx
  int Size; // r15d
  __int64 v52; // r13
  __int64 v53; // rcx
  void *v54; // rbx
  __int64 v55; // rax
  int v56; // edx
  __int64 v57; // rcx
  int n0xB; // eax
  int n0x23; // eax
  __int64 v60; // rcx
  unsigned int v61; // edx
  signed __int32 v62; // eax
  signed __int32 v63; // ett
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v65; // r15
  bool v67; // [rsp+A0h] [rbp+28h]

  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_DWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)a1 = a3;
  v11 = (volatile signed __int32 *)a2;
  *(_QWORD *)(a1 + 8) = a2;
  *(_QWORD *)(a1 + 0x18) = a4;
  *(_DWORD *)(a1 + 0x24) = 1;
  n7 = *(_DWORD *)(a2 + 0xF4);
  n0x1E = *(_DWORD *)(ThreadLocalStoragePointer[TlsIndex] + 0x800LL);
  if ( n7 == 0xFFFFFFFF && (*(_DWORD *)(a2 + 0xE8) & 0x3FFFFFFF) == 3 )
    v14 = ((a5 - 1) >> 0x1F) | a5;
  else
    v14 = a5;
  if ( v14 < 0
    || n7 < 7 && *(int *)(a2 + 0xE8) >= 0
    || (unsigned int)*a4 <= 0x1A && (n0x6008912 = 0x6008912, _bittest(&n0x6008912, *a4)) )
  {
    if ( n0x1E == 0x1E && *a4 == 6 && !*((_QWORD *)a4 + 0x22) )
    {
      v17 = *((_QWORD *)a4 + 0x12);
      if ( (unsigned __int64)(v17 - 1) <= 0xFFFFFFFFFFFFFFFDuLL )
      {
        v18 = (unsigned int)a4[0x26];
        if ( (int)v18 >= 1 )
        {
          *((_QWORD *)a4 + 0x22) = sub_1466B4300(v17, v18, 1);
          *((_QWORD *)a4 + 0x12) = 0xFFFFFFFFFFFFFFFFuLL;
        }
      }
    }
    v19 = a8;
    if ( a8 || (v20 = 0, n0x1E == 0x1E) )
      v20 = 1;
    if ( v14 <= 0 || v20 )
    {
      v67 = 0;
      if ( !a8 )
      {
        v67 = n0x1E == 0x1E;
        v19 = *((_QWORD *)sub_1465F4EC0() + 0x1D);
        if ( n0x1E == 0x1E )
        {
          v67 = 1;
          if ( dword_14997DC68 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
          {
            ++dword_14997DC6C;
          }
          else
          {
            v21 = _InterlockedIncrement64(&qword_14997DC60);
            if ( (v21 & 0x200000) != 0 )
            {
              sub_1403CD0A0(
                &qword_14997DC60,
                v21,
                (__int64)"ChangeRequest<struct pe_params>::ChangeRequest",
                (__int64)"command_queue_t::command_queue_manager.m_tls_queue_lock",
                1);
              v67 = 1;
            }
          }
        }
      }
      v22 = _InterlockedIncrement64(&qword_14997DC08);
      if ( (v22 & 0x200000) != 0 )
        sub_1403CD0A0(
          &qword_14997DC08,
          v22,
          (__int64)"ChangeRequest<struct pe_params>::ChangeRequest",
          (__int64)"command_queue_t::command_queue_manager.m_queue_swap_lock",
          1);
      v23 = (volatile signed __int64 *)(v19 + 0x50);
      v24 = _InterlockedCompareExchange64((volatile signed __int64 *)(v19 + 0x50), 0x200000, 0);
      if ( v24 )
        sub_1403DE750(
          v19 + 0x50,
          v24,
          0,
          (__int64)"ChangeRequest<struct pe_params>::ChangeRequest",
          (__int64)"queue->m_queueLock",
          1);
      _InterlockedExchangeAdd(v11 + 0x3F, 0x20000u);
      v25 = 0;
      v26 = *a4;
      for ( i = (int *)qword_15145DFA0[v26]; i; i = (int *)*((_QWORD *)i + 2) )
      {
        if ( (unsigned __int64)(*(_QWORD *)((char *)a4 + *i) - 1LL) <= 0xFFFFFFFFFFFFFFFDuLL )
        {
          v28 = i[2];
          v29 = 0;
          if ( v28 > 0 )
            v29 = i[2];
          v25 += i[3] * (i[1] + ((-v28 >> 0x1F) & *(int *)((char *)a4 + v29)));
        }
      }
      v30 = v25 + dword_15145DE20[v26] + 0x10;
      sub_1465B1E20(v19, v30);
      v31 = v19 + 0x58;
      if ( *(_DWORD *)(v19 + 0x34) != 2 )
        v31 = *(_QWORD *)(v19 + 0x20);
      v32 = *(_QWORD *)(v31 + 8LL * *(int *)(v19 + 0x30) - 8);
      if ( *(_QWORD *)(v32 + 0x1FF0) )
        v32 = *(_QWORD *)(v32 + 0x1FF0);
      *(_DWORD *)(*(int *)(v19 + 0x40) + v32) = 0;
      v33 = *(int *)(v19 + 0x30);
      v34 = *(_DWORD *)(v19 + 0x40) + 4;
      *(_DWORD *)(v19 + 0x40) = v34;
      v35 = *(_QWORD *)(v31 + 8 * v33 - 8);
      v36 = v19 + 0x58;
      if ( *(_QWORD *)(v35 + 0x1FF0) )
        v35 = *(_QWORD *)(v35 + 0x1FF0);
      *(_DWORD *)(v34 + v35) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v19 + 0x34) != 2 )
        v36 = *(_QWORD *)(v19 + 0x20);
      v37 = *(_QWORD *)(v36 + 8LL * *(int *)(v19 + 0x30) - 8);
      if ( *(_QWORD *)(v37 + 0x1FF0) )
        v37 = *(_QWORD *)(v37 + 0x1FF0);
      *(_DWORD *)(*(int *)(v19 + 0x40) + v37) = v30;
      v38 = *(int *)(v19 + 0x30);
      v39 = *(_DWORD *)(v19 + 0x40) + 4;
      *(_DWORD *)(v19 + 0x40) = v39;
      v40 = *(_QWORD *)(v36 + 8 * v38 - 8);
      v41 = v19 + 0x58;
      if ( *(_QWORD *)(v40 + 0x1FF0) )
        v40 = *(_QWORD *)(v40 + 0x1FF0);
      *(_DWORD *)(v39 + v40) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v19 + 0x34) != 2 )
        v41 = *(_QWORD *)(v19 + 0x20);
      v42 = *(_QWORD *)(v41 + 8LL * *(int *)(v19 + 0x30) - 8);
      if ( *(_QWORD *)(v42 + 0x1FF0) )
        v42 = *(_QWORD *)(v42 + 0x1FF0);
      *(_QWORD *)(*(int *)(v19 + 0x40) + v42) = v11;
      v43 = *(int *)(v19 + 0x30);
      v44 = *(_DWORD *)(v19 + 0x40) + 8;
      *(_DWORD *)(v19 + 0x40) = v44;
      v45 = *(_QWORD *)(v41 + 8 * v43 - 8);
      if ( *(_QWORD *)(v45 + 0x1FF0) )
        v45 = *(_QWORD *)(v45 + 0x1FF0);
      *(_DWORD *)(v44 + v45) = 0xFFFFFFFF;
      *(_QWORD *)(a1 + 0x10) = sub_1467CC170(v19, a4, (unsigned int)dword_15145DE20[*a4]);
      v46 = (int *)qword_15145DFA0[*a4];
      if ( v46 )
      {
        do
        {
          v47 = v46[2];
          v48 = 0;
          if ( v47 > 0 )
            v48 = v46[2];
          v49 = (-v47 >> 0x1F) & *(int *)((char *)a4 + v48);
          v50 = *(char **)((char *)a4 + *v46);
          Size = v46[3] * (v46[1] + v49);
          if ( (unsigned __int64)(v50 + 0xFFFFFFFF) <= 0xFFFFFFFFFFFFFFFDuLL && Size >= 0 )
          {
            v52 = v19 + 0x58;
            if ( *(_DWORD *)(v19 + 0x34) != 2 )
              v52 = *(_QWORD *)(v19 + 0x20);
            v53 = *(_QWORD *)(v52 + 8LL * *(int *)(v19 + 0x30) - 8);
            if ( *(_QWORD *)(v53 + 0x1FF0) )
              v53 = *(_QWORD *)(v53 + 0x1FF0);
            v54 = (void *)(v53 + *(int *)(v19 + 0x40));
            memcpy(v54, v50, Size);
            v55 = *(int *)(v19 + 0x30);
            v56 = Size + *(_DWORD *)(v19 + 0x40);
            *(_DWORD *)(v19 + 0x40) = v56;
            v57 = *(_QWORD *)(v52 + 8 * v55 - 8);
            if ( *(_QWORD *)(v57 + 0x1FF0) )
              v57 = *(_QWORD *)(v57 + 0x1FF0);
            *(_DWORD *)(v56 + v57) = 0xFFFFFFFF;
            *(_QWORD *)(*v46 + *(_QWORD *)(a1 + 0x10)) = v54;
          }
          v46 = (int *)*((_QWORD *)v46 + 2);
        }
        while ( v46 );
        v11 = (volatile signed __int32 *)a2;
        v23 = (volatile signed __int64 *)(v19 + 0x50);
      }
      n0xB = (*(__int64 (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v11 + 8LL))(v11);
      if ( n0xB == 0xB || n0xB == 6 )
        *(_DWORD *)(a1 + 0x24) = (*((_DWORD *)v11 + 0x3F) >> 0x11) + 1;
      n0x23 = *a4;
      if ( *a4 == 0x31 )
      {
        v60 = *((_QWORD *)a4 + 4);
        if ( v60 )
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v60 + 0x10LL))(v60);
      }
      else if ( n0x23 == 0xF )
      {
        v61 = (-(a4[2] & 0x20) >> 0x1F) & 0x4000 | (-(~(unsigned __int16)a4[3] & 0x400) >> 0x1F) & 0x8000;
        _m_prefetchw((const void *)(v11 + 0x3F));
        _InterlockedOr(v11 + 0x3F, v61);
      }
      else if ( n0x23 == 0x23 )
      {
        _m_prefetchw((const void *)(v11 + 0x3F));
        v62 = *((_DWORD *)v11 + 0x3F);
        do
        {
          v63 = v62;
          v62 = _InterlockedCompareExchange(v11 + 0x3F, v62 | 0x2000, v62);
        }
        while ( v63 != v62 );
      }
      *(_DWORD *)(a1 + 0x20) = 1;
      if ( v23 )
      {
        n0x200000 = _InterlockedCompareExchange64(v23, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0(v23, n0x200000);
      }
      v65 = _InterlockedDecrement64(&qword_14997DC08);
      if ( (v65 & 0x3FF) == 0 && (v65 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(&qword_14997DC08, v65);
      if ( v67 )
        sub_1402D42F0((__int64)&qword_14997DC60);
    }
    if ( !*a4
      && (HIDWORD(*((_QWORD *)a4 + 1)) & 0xFFF40000) != 0xFFF40000
      && (a4[0xE] & 0x10) == 0
      && (v11[0x3F] & 0x10000) == 0 )
    {
      _InterlockedExchangeAdd(v11 + 0x3F, 0x10000u);
    }
    return a1;
  }
  else
  {
    *(_DWORD *)(a1 + 0x20) = 1;
    *(_QWORD *)(a1 + 0x10) = &unk_151457774;
    return a1;
  }
}

// --- End Function: sub_146765070 (0x146765070) ---

// --- Function: sub_146767EE0 (0x146767EE0) ---
__int64 __fastcall sub_146767EE0(__int64 *a1)
{
  int v2; // r8d
  __int128 v6; // kr00_16
  __int64 result; // rax
  __int64 v9; // rcx
  __int64 v10; // r10
  float v11; // xmm0_4
  __int64 v12; // rax
  __int64 v13; // [rsp+20h] [rbp-48h] BYREF
  int n0x1B; // [rsp+28h] [rbp-40h]
  int n0x1E; // [rsp+2Ch] [rbp-3Ch]
  __int64 v16; // [rsp+30h] [rbp-38h]
  __int64 v17; // [rsp+38h] [rbp-30h]
  int v18; // [rsp+40h] [rbp-28h]
  int v19; // [rsp+44h] [rbp-24h]
  float v20; // [rsp+48h] [rbp-20h]
  int v21; // [rsp+4Ch] [rbp-1Ch]
  int v22; // [rsp+50h] [rbp-18h]

  sub_1403E4CF0();
  v2 = *(_DWORD *)(*(_QWORD *)(*a1 + 0x2C0) + 0x28CLL);
  if ( v2 < 1 )
    v2 = 1;
  _XMM0 = 0;
  __asm { vcvtsi2sd xmm0, xmm0, rax }
  *((_QWORD *)&v6 + 1) = *((_QWORD *)&_XMM0 + 1);
  *(double *)&v6 = *(double *)&_XMM0 * *(double *)&qword_15145DE10;
  _XMM1 = v6;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  result = (unsigned int)(v2 - 1);
  *(float *)(*a1 + 0x9D0) = (float)(*(float *)&_XMM2 * (float)(1.0 / (float)v2))
                          + (float)((float)((float)(int)result * (float)(1.0 / (float)v2)) * *(float *)(*a1 + 0x9D0));
  v9 = *a1;
  v10 = *(_QWORD *)(*a1 + 0x2C0);
  v11 = *(float *)(*a1 + 0x9D0);
  if ( (float)(v11 * 1000.0) > *(float *)(v10 + 0x290) )
  {
    v12 = 0;
    n0x1E = 0x1E;
    v13 = 0;
    n0x1B = 0x1B;
    if ( v9 )
      v12 = v9 | (*(_QWORD *)(v9 + 8) << 0x30);
    v16 = v12;
    v17 = *(_QWORD *)(v9 + 0xC0);
    v18 = *(__int16 *)(v9 + 0xEC);
    v19 = *(__int16 *)(v9 + 0xEE);
    v20 = v11 * 1000.0;
    v21 = *(_DWORD *)(v9 + 0x148);
    v22 = *(_DWORD *)(v9 + 0x4E0);
    return sub_14675D830(v10, 2, &v13);
  }
  return result;
}

// --- End Function: sub_146767EE0 (0x146767EE0) ---

// --- Function: sub_146768890 (0x146768890) ---
__int64 __fastcall sub_146768890(__int64 a1, __int64 a2)
{
  *(_DWORD *)a1 = *(_DWORD *)a2;
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(double *)(a1 + 0x18) = *(double *)(a2 + 0x18);
  *(_DWORD *)(a1 + 0x20) = *(_DWORD *)(a2 + 0x20);
  *(_DWORD *)(a1 + 0x24) = *(_DWORD *)(a2 + 0x24);
  *(_DWORD *)(a1 + 0x28) = *(_DWORD *)(a2 + 0x28);
  *(_DWORD *)(a1 + 0x2C) = *(_DWORD *)(a2 + 0x2C);
  *(double *)(a1 + 0x30) = *(double *)(a2 + 0x30);
  *(_DWORD *)(a1 + 0x38) = *(_DWORD *)(a2 + 0x38);
  *(double *)(a1 + 0x3C) = *(double *)(a2 + 0x3C);
  *(_DWORD *)(a1 + 0x44) = *(_DWORD *)(a2 + 0x44);
  *(double *)(a1 + 0x48) = *(double *)(a2 + 0x48);
  *(_DWORD *)(a1 + 0x50) = *(_DWORD *)(a2 + 0x50);
  *(double *)(a1 + 0x54) = *(double *)(a2 + 0x54);
  *(_DWORD *)(a1 + 0x5C) = *(_DWORD *)(a2 + 0x5C);
  *(_BYTE *)(a1 + 0x60) = *(_BYTE *)(a2 + 0x60);
  *(_BYTE *)(a1 + 0x61) = *(_BYTE *)(a2 + 0x61);
  *(_BYTE *)(a1 + 0x62) = *(_BYTE *)(a2 + 0x62);
  *(double *)(a1 + 0x64) = *(double *)(a2 + 0x64);
  *(_DWORD *)(a1 + 0x6C) = *(_DWORD *)(a2 + 0x6C);
  *(double *)(a1 + 0x70) = *(double *)(a2 + 0x70);
  *(_DWORD *)(a1 + 0x78) = *(_DWORD *)(a2 + 0x78);
  *(double *)(a1 + 0x7C) = *(double *)(a2 + 0x7C);
  *(_DWORD *)(a1 + 0x84) = *(_DWORD *)(a2 + 0x84);
  *(_DWORD *)(a1 + 0x88) = *(_DWORD *)(a2 + 0x88);
  *(_DWORD *)(a1 + 0x8C) = *(_DWORD *)(a2 + 0x8C);
  *(_DWORD *)(a1 + 0x90) = *(_DWORD *)(a2 + 0x90);
  *(_DWORD *)(a1 + 0x94) = *(_DWORD *)(a2 + 0x94);
  *(_BYTE *)(a1 + 0x98) = *(_BYTE *)(a2 + 0x98);
  *(double *)(a1 + 0x9C) = *(double *)(a2 + 0x9C);
  *(_DWORD *)(a1 + 0xA4) = *(_DWORD *)(a2 + 0xA4);
  *(_QWORD *)(a1 + 0xA8) = *(_QWORD *)(a2 + 0xA8);
  *(_QWORD *)(a1 + 0xB0) = *(_QWORD *)(a2 + 0xB0);
  *(_DWORD *)(a1 + 0xB8) = *(_DWORD *)(a2 + 0xB8);
  *(_BYTE *)(a1 + 0xBC) = *(_BYTE *)(a2 + 0xBC);
  *(_BYTE *)(a1 + 0xBD) = *(_BYTE *)(a2 + 0xBD);
  return a1;
}

// --- End Function: sub_146768890 (0x146768890) ---

// --- Function: sub_146769CE0 (0x146769CE0) ---
__int64 __fastcall sub_146769CE0(Parameter *Parameter, float a2)
{
  __int64 result; // rax
  __int64 *v3; // rbx
  unsigned __int64 v4; // r11
  unsigned __int64 v6; // rdx
  float v7; // xmm2_4
  __int64 v8; // r8
  __int64 v9; // r9
  __int64 v10; // rcx
  float *v11; // r10
  float v12; // xmm5_4
  float v13; // xmm7_4
  float *v16; // rax
  double v19; // xmm3_8
  __int128 v20; // xmm11
  __int128 v21; // kr00_16
  float v22; // xmm13_4
  float v23; // xmm14_4
  float v24; // xmm15_4
  float v25; // xmm12_4
  __m128 v26; // xmm1
  __m128 v27; // xmm8
  __m128 v28; // kr00_16
  __m128 v29; // xmm0
  __m128 v30; // xmm10
  __m128 v31; // kr00_16
  float v32; // xmm7_4
  float v33; // xmm6_4
  float v34; // xmm4_4
  float v41; // xmm5_4
  float v42; // xmm6_4
  float v43; // xmm5_4
  float v44; // eax
  float v45; // xmm0_4
  __m256i v46; // ymm1
  __int64 v47; // r8
  unsigned __int64 v48; // rcx
  __int64 v49; // [rsp+20h] [rbp-D8h]
  __int64 v50; // [rsp+30h] [rbp-C8h]
  _UNKNOWN *retaddr; // [rsp+F8h] [rbp+0h] BYREF
  float v52; // [rsp+100h] [rbp+8h] BYREF
  float v53; // [rsp+108h] [rbp+10h] BYREF
  float v54; // [rsp+110h] [rbp+18h]

  result = (__int64)&retaddr;
  v53 = a2;
  v3 = (__int64 *)((char *)Parameter + 0x980);
  v54 = a2;
  v4 = 0;
  v6 = (__int64)(*((_QWORD *)Parameter + 0x131) - *((_QWORD *)Parameter + 0x130)) >> 5;
  v7 = a2;
  if ( v6 )
  {
    v8 = 0;
    v9 = 0x20 * v6;
    do
    {
      v10 = *v3;
      v11 = (float *)(v8 + *v3 + 0x18);
      if ( *v11 > 0.0 )
      {
        v12 = *(float *)(v8 + v10 + 4);
        v13 = *(float *)(v8 + v10 + 8);
        _XMM8 = *((unsigned __int64 *)Parameter + 0xD6);
        __asm { vcvtpd2ps xmm8, xmm8 }
        v16 = &v53;
        if ( *v11 <= v7 )
          v16 = (float *)(v8 + *v3 + 0x18);
        _XMM0 = *(unsigned int *)v16;
        __asm { vmaxss  xmm9, xmm0, xmm1 }
        v19 = (float)((float)(*(float *)&_XMM8 * *(float *)(v8 + v10)) * *(float *)&_XMM9)
            + *((double *)Parameter + 0xEC);
        v52 = *(float *)&_XMM9;
        *((double *)Parameter + 0xEC) = v19;
        *((double *)Parameter + 0xED) = (float)((float)(*(float *)&_XMM8 * v12) * *(float *)&_XMM9)
                                      + *((double *)Parameter + 0xED);
        *((double *)Parameter + 0xEE) = (float)((float)(*(float *)&_XMM8 * v13) * *(float *)&_XMM9)
                                      + *((double *)Parameter + 0xEE);
        v21 = _XMM9;
        *(float *)&v21 = *(float *)&_XMM9 * *(float *)(v8 + v10 + 0x14);
        v20 = v21;
        v22 = *((float *)Parameter + 0x192);
        v23 = *((float *)Parameter + 0x191);
        v24 = *((float *)Parameter + 0x190);
        v25 = *((float *)Parameter + 0x193);
        v26 = (__m128)*(unsigned __int64 *)(v8 + v10 + 0xC);
        v28 = v26;
        v28.m128_f32[0] = v26.m128_f32[0] * *(float *)&_XMM9;
        v27 = v28;
        v29 = _mm_shuffle_ps(v26, v26, 0x55);
        v31 = v29;
        v31.m128_f32[0] = v29.m128_f32[0] * *(float *)&_XMM9;
        v30 = v31;
        v32 = (float)((float)(v22 * (float)(v29.m128_f32[0] * *(float *)&_XMM9)) - (float)(*(float *)&v20 * v23))
            + (float)(v27.m128_f32[0] * v25);
        v33 = (float)((float)(v24 * *(float *)&v20) - (float)(v22 * v27.m128_f32[0]))
            + (float)((float)(v29.m128_f32[0] * *(float *)&_XMM9) * v25);
        v34 = (float)((float)(v27.m128_f32[0] * v23) - (float)(v24 * (float)(v29.m128_f32[0] * *(float *)&_XMM9)))
            + (float)(*(float *)&v20 * v25);
        v31.m128_u64[1] = v27.m128_u64[1];
        *(double *)v31.m128_u64 = (float)((float)(v27.m128_f32[0] + (float)((float)(v33 * v22) - (float)(v34 * v23)))
                                        + (float)((float)(v33 * v22) - (float)(v34 * v23)))
                                * *((double *)Parameter + 0xBF);
        _XMM3 = v31;
        __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
        v31.m128_u64[1] = v30.m128_u64[1];
        *(double *)v31.m128_u64 = (float)((float)(v30.m128_f32[0] + (float)((float)(v34 * v24) - (float)(v32 * v22)))
                                        + (float)((float)(v34 * v24) - (float)(v32 * v22)))
                                * *((double *)Parameter + 0xC0);
        _XMM3 = v31;
        v31.m128_u64[1] = *((_QWORD *)&v20 + 1);
        __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
        *(double *)v31.m128_u64 = (float)((float)(*(float *)&v20 + (float)((float)(v32 * v23) - (float)(v33 * v24)))
                                        + (float)((float)(v32 * v23) - (float)(v33 * v24)))
                                * *((double *)Parameter + 0xC1);
        _XMM3 = v31;
        __asm { vcvtsd2ss xmm11, xmm3, xmm3 }
        v27.m128_f32[0] = (float)((float)(*(float *)&_XMM11 * v23) - (float)(*(float *)&_XMM10 * v22))
                        + (float)(*(float *)&_XMM9 * v25);
        v41 = (float)((float)(*(float *)&_XMM9 * v22) - (float)(*(float *)&_XMM11 * v24))
            + (float)(*(float *)&_XMM10 * v25);
        v31.m128_f32[0] = (float)((float)(*(float *)&_XMM10 * v24) - (float)(*(float *)&_XMM9 * v23))
                        + (float)(*(float *)&_XMM11 * v25);
        *((double *)Parameter + 0xEF) = (float)((float)(*(float *)&_XMM9
                                                      + (float)((float)(v23 * v31.m128_f32[0]) - (float)(v22 * v41)))
                                              + (float)((float)(v23 * v31.m128_f32[0]) - (float)(v22 * v41)))
                                      + *((double *)Parameter + 0xEF);
        *((double *)Parameter + 0xF0) = (float)((float)(*(float *)&_XMM10
                                                      + (float)((float)(v22 * v27.m128_f32[0])
                                                              - (float)(v24 * v31.m128_f32[0])))
                                              + (float)((float)(v22 * v27.m128_f32[0]) - (float)(v24 * v31.m128_f32[0])))
                                      + *((double *)Parameter + 0xF0);
        *((double *)Parameter + 0xF1) = (float)((float)(*(float *)&_XMM11
                                                      + (float)((float)(v24 * v41) - (float)(v23 * v27.m128_f32[0])))
                                              + (float)((float)(v24 * v41) - (float)(v23 * v27.m128_f32[0])))
                                      + *((double *)Parameter + 0xF1);
        v42 = v52;
        v43 = v52 / *v11;
        v44 = *(float *)(v8 + v10 + 8);
        v49 = *(_QWORD *)(v8 + v10);
        *((float *)Parameter + 0x1F6) = (float)(*(float *)&v49 * v43) + *((float *)Parameter + 0x1F6);
        *((float *)Parameter + 0x1F7) = (float)(v43 * *((float *)&v49 + 1)) + *((float *)Parameter + 0x1F7);
        *((float *)Parameter + 0x1F8) = (float)(v44 * v43) + *((float *)Parameter + 0x1F8);
        v31.m128_f32[0] = v42 / *v11;
        result = *(unsigned int *)(v8 + v10 + 0x14);
        v50 = *(_QWORD *)(v8 + v10 + 0xC);
        *((float *)Parameter + 0x1F9) = (float)(*(float *)&v50 * v31.m128_f32[0]) + *((float *)Parameter + 0x1F9);
        *((float *)Parameter + 0x1FA) = (float)(v31.m128_f32[0] * *((float *)&v50 + 1)) + *((float *)Parameter + 0x1FA);
        *((float *)Parameter + 0x1FB) = (float)(*(float *)&result * v31.m128_f32[0]) + *((float *)Parameter + 0x1FB);
        v7 = v54;
      }
      v45 = *v11;
      *v11 = *v11 - v7;
      if ( (float)(v45 - v7) > 0.0 )
      {
        ++v4;
        v8 += 0x20;
      }
      else
      {
        v46 = *(__m256i *)(v8 + v10);
        *(__m256i *)(v8 + v10) = *(__m256i *)(v9 + v10 - 0x20);
        --v6;
        *(__m256i *)(v9 + v10 - 0x20) = v46;
        v9 -= 0x20;
      }
    }
    while ( v4 < v6 );
  }
  v47 = *v3;
  v48 = (v3[1] - *v3) >> 5;
  if ( v6 < v48 )
  {
    v3[1] = v47 + 0x20 * v6;
    __asm { vzeroupper }
    return result;
  }
  if ( v6 > v48 )
  {
    if ( v6 > (v3[2] - v47) >> 5 )
    {
      __asm { vzeroupper }
      result = sub_146760FF0(v3, v6, &v52);
      __asm { vzeroupper }
      return result;
    }
    __asm { vzeroupper }
    result = sub_146762AD0(v3[1], v6 - v48, v3);
    v3[1] = result;
  }
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_146769CE0 (0x146769CE0) ---

// --- Function: CRigidEntity::Action (0x14676F930) ---
__int64 __fastcall CRigidEntity::Action(__int64 a1, __int64 a2, unsigned int a3)
{
  __int64 v3; // r15
  unsigned int v7; // r12d
  int n3; // eax
  double v9; // xmm4_8
  __int128 v10; // xmm13
  __int128 v11; // xmm0
  double v12; // xmm8_8
  __int128 n0x4118_2; // xmm9
  double v14; // xmm10_8
  double v15; // kr00_8
  double v16; // xmm14_8
  double v17; // xmm15_8
  __int128 v18; // kr00_16
  double v19; // xmm3_8
  double v20; // xmm11_8
  double v21; // xmm12_8
  double v22; // xmm5_8
  double v23; // xmm10_8
  double v24; // xmm4_8
  double v25; // xmm7_8
  double v26; // xmm8_8
  double v27; // xmm6_8
  double v28; // xmm4_8
  double v29; // xmm9_8
  double v30; // xmm5_8
  double v31; // xmm0_8
  double v32; // xmm7_8
  double v33; // xmm6_8
  double v34; // xmm0_8
  double v35; // xmm4_8
  double v36; // xmm5_8
  __int128 v37; // kr00_16
  double *v38; // rax
  __int128 v39; // kr00_16
  __m128 v42; // xmm1
  __int128 v43; // kr00_16
  double v44; // xmm6_8
  double v45; // kr00_8
  double v46; // xmm4_8
  __m128 v49; // xmm1
  double v50; // xmm2_8
  double v51; // xmm1_8
  double v52; // xmm0_8
  double v53; // xmm2_8
  double v54; // xmm1_8
  __int128 v55; // xmm4
  __int128 v58; // kr00_16
  double v65; // xmm3_8
  double v66; // xmm6_8
  double v67; // xmm7_8
  double v74; // xmm2_8
  double v75; // xmm1_8
  double v76; // xmm2_8
  double v77; // kr00_8
  __int64 v78; // rax
  __int64 v79; // rax
  int *p_n0x2800; // rcx
  __int64 v81; // rax
  __int64 *v82; // rbx
  __int64 v83; // rax
  unsigned __int64 n0x200000; // rax
  int v85; // edx
  int n0x400; // ecx
  __int64 v87; // kr00_8
  int n0x4118_4; // eax
  __int64 n0x4118_3; // r10
  __int64 v90; // rax
  __int64 v91; // r9
  __int64 v96; // r8
  __int64 v97; // rcx
  __int64 v98; // rax
  float v99; // xmm9_4
  float v100; // xmm15_4
  float v101; // xmm12_4
  float v102; // xmm13_4
  float v103; // xmm14_4
  float v104; // xmm10_4
  float v105; // xmm8_4
  float v106; // xmm6_4
  float v107; // xmm10_4
  float v108; // xmm8_4
  float v109; // xmm5_4
  __int64 v110; // rdx
  __int64 v111; // rax
  float v112; // xmm13_4
  float v113; // xmm14_4
  float v114; // xmm11_4
  float v115; // xmm12_4
  float v116; // xmm0_4
  float v117; // xmm1_4
  float v118; // xmm10_4
  float v119; // xmm3_4
  float v120; // xmm8_4
  float v121; // xmm0_4
  float v122; // xmm5_4
  __int64 v123; // rax
  float v124; // xmm13_4
  float v125; // xmm14_4
  float v126; // xmm11_4
  float v127; // xmm12_4
  float v128; // xmm7_4
  float v129; // xmm6_4
  __int64 v130; // rcx
  _DWORD *v131; // rdx
  __int64 v132; // rcx
  _DWORD *v133; // rdx
  __int64 v134; // rax
  __int64 v135; // rax
  __int64 v136; // rcx
  __int64 v137; // rcx
  float v138; // xmm2_4
  __int64 v139; // rcx
  __int64 v140; // rcx
  __int64 v141; // rcx
  int v142; // r8d
  __int64 v143; // rdx
  int v144; // ecx
  volatile signed __int64 *v145; // xmm6_8
  int v146; // eax
  float v147; // xmm0_4
  __int64 v148; // rcx
  float v149; // xmm0_4
  float v150; // xmm0_4
  float v151; // xmm1_4
  int v152; // eax
  __int64 v153; // rcx
  __int64 v154; // r9
  float v155; // eax
  __int64 v156; // rdx
  __int64 v157; // rcx
  __int64 v158; // rdx
  __int64 v159; // rax
  __int64 v160; // r8
  unsigned int v161; // r8d
  __int64 v162; // rdx
  __int64 v163; // rcx
  __int64 v164; // rdx
  __int64 v165; // rcx
  __int64 v166; // rdx
  int v167; // eax
  __int64 v168; // rcx
  __int64 v169; // r8
  float v170; // eax
  __int64 v171; // r12
  __int64 v172; // rdx
  __int64 v173; // rcx
  __int64 v174; // rax
  float X; // xmm0_4
  float v176; // xmm0_4
  __int64 v177; // rcx
  __int64 v178; // rdx
  __int64 v179; // rcx
  __int64 v180; // rdx
  int v181; // eax
  float v182; // r8d
  __int64 v183; // rdx
  __int64 v184; // rax
  __int64 v185; // rcx
  __int64 v186; // rax
  __int64 v187; // r8
  __int64 v188; // rax
  volatile signed __int64 *v189; // rcx
  unsigned __int64 n0x200000_1; // rax
  int v191; // eax
  int v192; // eax
  __int64 v193; // rax
  int v194; // eax
  __int64 i; // rbx
  __int64 v196; // rcx
  __int64 v197; // rax
  __int64 v198; // rcx
  __int64 v199; // rdx
  __int64 v200; // rcx
  int n0x3F; // edx
  __int64 n0x3F00; // rbx
  unsigned __int64 v203; // r14
  __int64 n0x40F8; // r12
  __int64 v205; // rcx
  __int64 n0x40F8_1; // r12
  unsigned __int64 v207; // rcx
  __int64 n0x81F; // r9
  __int64 n0x2B5; // r11
  int n0x3F_4; // eax
  __int64 n0x4118; // r10
  __int64 n0x3F00_1; // rbx
  __int64 n0x40F8_3; // rdx
  __int64 n0x3F0; // r8
  __int64 n0x3F_5; // r13
  __int64 v216; // rdx
  float *v217; // r8
  double *v218; // r13
  int n2_1; // r10d
  double v220; // xmm13_8
  double v221; // xmm1_8
  double *v222; // rdx
  double v223; // xmm11_8
  double v224; // xmm12_8
  __int64 v225; // rdx
  double v226; // xmm5_8
  double v227; // xmm4_8
  double v228; // xmm10_8
  double v229; // xmm8_8
  double v230; // xmm9_8
  double v231; // xmm6_8
  double v232; // xmm4_8
  double v233; // xmm7_8
  double v234; // xmm5_8
  double v235; // xmm4_8
  double v236; // kr00_8
  double v237; // xmm1_8
  __int64 v238; // rcx
  __int64 v239; // rax
  __int64 v240; // rax
  __int128 v241; // xmm1
  double v242; // xmm0_8
  __int64 v243; // rax
  float v244; // xmm11_4
  float v245; // xmm12_4
  float v246; // xmm13_4
  float v247; // xmm14_4
  float *v248; // rdx
  float v249; // xmm9_4
  float v250; // xmm5_4
  float v251; // xmm10_4
  float v252; // xmm8_4
  float v253; // xmm7_4
  float v254; // xmm6_4
  float v255; // xmm0_4
  __int64 v256; // rdx
  __int64 v257; // rax
  float v258; // xmm6_4
  float v259; // xmm4_4
  float v260; // xmm5_4
  float v261; // xmm7_4
  __int64 v262; // rcx
  float v263; // xmm8_4
  float v264; // xmm9_4
  float v265; // xmm10_4
  float v266; // kr00_4
  __int64 v267; // r9
  __int64 v268; // rcx
  float v269; // xmm13_4
  __int64 v270; // rax
  float v271; // xmm12_4
  float v272; // xmm10_4
  float v273; // xmm11_4
  float v274; // xmm9_4
  float v275; // xmm4_4
  float v276; // xmm7_4
  float v277; // xmm8_4
  float v278; // xmm6_4
  float v279; // xmm4_4
  __int64 v280; // rcx
  __int64 v281; // rcx
  __int64 v282; // r8
  int v283; // ecx
  __int64 v284; // r13
  __int64 *v285; // rdx
  __int64 v286; // rax
  int v287; // eax
  char n0x3F_6; // dl
  __int64 v289; // rcx
  __int64 v290; // rax
  __int64 v291; // rcx
  __int64 v292; // rdx
  _DWORD *v293; // rcx
  __int64 v294; // rcx
  __int64 v295; // rcx
  __int64 v296; // rcx
  __int64 v297; // rcx
  __int64 v298; // rcx
  __int64 v299; // rcx
  unsigned __int64 n0x200000_4; // rax
  int v301; // eax
  double v302; // xmm0_8
  int v303; // eax
  float v304; // xmm2_4
  float v305; // xmm1_4
  __m128 v306; // xmm2
  float v309; // xmm7_4
  float v310; // xmm11_4
  float v311; // xmm12_4
  float v312; // xmm14_4
  float v313; // xmm13_4
  float v314; // xmm15_4
  float v315; // xmm9_4
  float v316; // xmm8_4
  float v317; // xmm6_4
  __int128 v318; // kr00_16
  __int128 v319; // xmm4
  unsigned __int128 v320; // kr00_16
  unsigned __int128 v321; // xmm7
  __int128 v322; // kr00_16
  float v323; // xmm1_4
  float v324; // xmm11_4
  __int128 v325; // xmm5
  __int128 v326; // kr00_16
  __int128 v327; // kr00_16
  __int128 v328; // xmm4
  __int128 v329; // xmm2
  float v336; // xmm8_4
  double v337; // xmm9_8
  double v338; // xmm2_8
  double v339; // xmm8_8
  double v340; // xmm3_8
  double v341; // xmm5_8
  __int128 v342; // xmm6
  float v346; // kr00_4
  __int128 v348; // kr00_16
  __m128 v351; // xmm2
  double v355; // xmm3_8
  volatile signed __int64 *v357; // rbx
  __int64 v358; // rax
  bool v359; // cl
  unsigned int v360; // eax
  float v386; // edx
  __int64 v390; // rax
  __int64 v391; // r8
  __m256 *v392; // rdx
  signed __int64 v393; // rdx
  int n0x40; // edx
  unsigned __int64 v395; // rbx
  __int64 v396; // r14
  __int64 v397; // rsi
  unsigned __int64 v398; // rax
  _DWORD *v399; // rcx
  unsigned __int64 v400; // r12
  unsigned __int64 n0x200000_3; // rax
  __int64 v402; // rax
  float v407; // xmm2_4
  unsigned int v408; // r12d
  float v409; // xmm12_4
  float v410; // xmm13_4
  float v411; // xmm14_4
  float v412; // xmm10_4
  float v413; // xmm11_4
  float v414; // xmm5_4
  __int128 v415; // xmm4
  float v416; // xmm8_4
  __int128 v417; // kr00_16
  float v418; // eax
  __int128 v419; // xmm6
  __m128 v420; // xmm5
  __m128 v421; // kr00_16
  float v422; // xmm7_4
  __int128 v423; // kr00_16
  float v424; // xmm11_4
  __int128 v426; // kr00_16
  __m128 v428; // kr00_16
  float v430; // xmm4_4
  __m128 v437; // kr00_16
  float v440; // xmm1_4
  float v441; // xmm3_4
  float v442; // xmm9_4
  __m128 v443; // kr00_16
  __m128 v444; // xmm1
  unsigned int v445; // eax
  __int128 v446; // xmm7
  float v447; // xmm10_4
  __int128 v448; // xmm11
  float v449; // xmm13_4
  float v450; // xmm12_4
  float v451; // xmm14_4
  float v452; // xmm15_4
  __int128 v453; // kr00_16
  float v454; // xmm8_4
  __int128 v455; // xmm6
  float v456; // xmm0_4
  __int128 v457; // kr00_16
  __int128 v458; // xmm4
  __int128 v459; // xmm7
  __int128 v460; // kr00_16
  __int128 v461; // xmm5
  __int128 v462; // kr00_16
  __int128 v463; // kr00_16
  __int128 v464; // xmm4
  __int128 v465; // xmm2
  float v472; // xmm8_4
  __int64 v473; // rcx
  double v474; // xmm13_8
  double v476; // xmm0_8
  float v481; // xmm1_4
  float v482; // xmm2_4
  float v483; // xmm12_4
  float v484; // xmm13_4
  float v485; // xmm11_4
  float v486; // xmm14_4
  double v487; // xmm12_8
  double v488; // xmm13_8
  double v489; // xmm11_8
  double v490; // kr00_8
  double *v491; // rax
  double v492; // xmm5_8
  double v493; // xmm7_8
  double v494; // xmm8_8
  __int128 v495; // xmm15
  __int128 v496; // xmm10
  __int128 v497; // xmm6
  double v498; // xmm0_8
  double v499; // xmm5_8
  __int128 v504; // xmm2
  __int128 v506; // kr00_16
  float v510; // xmm9_4
  float v511; // xmm8_4
  float v512; // xmm6_4
  float v513; // xmm7_4
  float v514; // xmm5_4
  float v515; // xmm4_4
  __int128 v516; // kr00_16
  __int128 v517; // xmm15
  float v518; // kr00_4
  float v519; // xmm5_4
  __int64 v520; // rax
  double v521; // xmm4_8
  double v523; // xmm6_8
  __int128 v524; // kr00_16
  double v525; // xmm7_8
  double v527; // xmm1_8
  __int128 v534; // xmm5
  __m128 v541; // kr00_16
  float v544; // xmm1_4
  float v545; // xmm0_4
  float v546; // xmm1_4
  __int128 v547; // kr00_16
  float v554; // xmm1_4
  __int128 v557; // kr00_16
  unsigned __int64 n0x200000_2; // rax
  unsigned __int64 v561; // rdx
  unsigned __int64 v562; // rcx
  __int64 v563; // rdx
  float *v565; // [rsp+60h] [rbp-7C8h]
  int v566; // [rsp+70h] [rbp-7B8h]
  unsigned int v567; // [rsp+70h] [rbp-7B8h]
  int n0x40_1; // [rsp+70h] [rbp-7B8h]
  float v569; // [rsp+70h] [rbp-7B8h]
  float v570; // [rsp+74h] [rbp-7B4h]
  int v571; // [rsp+74h] [rbp-7B4h]
  int n0x2000000; // [rsp+74h] [rbp-7B4h]
  char v573; // [rsp+78h] [rbp-7B0h]
  unsigned int v574; // [rsp+80h] [rbp-7A8h]
  int n0x3F_1; // [rsp+80h] [rbp-7A8h]
  unsigned int n0x3F_2; // [rsp+80h] [rbp-7A8h]
  unsigned int v577; // [rsp+88h] [rbp-7A0h]
  unsigned int v578; // [rsp+88h] [rbp-7A0h]
  __int64 *v579; // [rsp+90h] [rbp-798h]
  __int64 n0x40F8_2; // [rsp+90h] [rbp-798h]
  unsigned int n2; // [rsp+98h] [rbp-790h]
  int n0x400_1; // [rsp+9Ch] [rbp-78Ch]
  int n2_2; // [rsp+9Ch] [rbp-78Ch]
  double v584; // [rsp+A0h] [rbp-788h]
  __int64 v585; // [rsp+A0h] [rbp-788h]
  __int64 v586; // [rsp+A0h] [rbp-788h]
  unsigned __int64 v587; // [rsp+A0h] [rbp-788h]
  float v588; // [rsp+A8h] [rbp-780h] BYREF
  float v589; // [rsp+ACh] [rbp-77Ch]
  float v590; // [rsp+B0h] [rbp-778h]
  float v591; // [rsp+B4h] [rbp-774h]
  float v592; // [rsp+B8h] [rbp-770h]
  float v593; // [rsp+BCh] [rbp-76Ch]
  float v594; // [rsp+C0h] [rbp-768h]
  float v595; // [rsp+C4h] [rbp-764h]
  __int64 n0x4118_1; // [rsp+C8h] [rbp-760h]
  double v597; // [rsp+D0h] [rbp-758h]
  float v598; // [rsp+D8h] [rbp-750h]
  __int64 n0x2B5_1; // [rsp+E0h] [rbp-748h]
  double v600; // [rsp+E8h] [rbp-740h]
  __int64 v601; // [rsp+F0h] [rbp-738h] BYREF
  __int64 n0x3F_3; // [rsp+F8h] [rbp-730h]
  __int64 n0x81F_1; // [rsp+100h] [rbp-728h]
  __m256 v604; // [rsp+108h] [rbp-720h] BYREF
  __int128 v605; // [rsp+128h] [rbp-700h] BYREF
  __int64 v606; // [rsp+138h] [rbp-6F0h]
  __int128 v607; // [rsp+140h] [rbp-6E8h] BYREF
  __int64 v608; // [rsp+150h] [rbp-6D8h]
  double v609; // [rsp+158h] [rbp-6D0h]
  double v610; // [rsp+160h] [rbp-6C8h]
  float v611; // [rsp+168h] [rbp-6C0h]
  __int128 v612; // [rsp+170h] [rbp-6B8h]
  volatile signed __int64 *v613; // [rsp+180h] [rbp-6A8h] BYREF
  float v614; // [rsp+188h] [rbp-6A0h]
  volatile signed __int64 *v615; // [rsp+190h] [rbp-698h] BYREF
  float v616; // [rsp+198h] [rbp-690h]
  volatile signed __int64 *v617; // [rsp+1A0h] [rbp-688h] BYREF
  float v618; // [rsp+1A8h] [rbp-680h]
  volatile signed __int64 *v619; // [rsp+1B0h] [rbp-678h] BYREF
  float v620; // [rsp+1B8h] [rbp-670h]
  double v621; // [rsp+1C0h] [rbp-668h]
  double v622; // [rsp+1C8h] [rbp-660h]
  __int64 v623; // [rsp+1D0h] [rbp-658h]
  __int64 v624; // [rsp+1D8h] [rbp-650h]
  double v625; // [rsp+1E0h] [rbp-648h]
  int n0x2800_2; // [rsp+1F0h] [rbp-638h] BYREF
  __int64 v627; // [rsp+1F4h] [rbp-634h]
  int v628; // [rsp+1FCh] [rbp-62Ch]
  __int64 v629; // [rsp+200h] [rbp-628h]
  unsigned __int64 v630; // [rsp+208h] [rbp-620h]
  __int64 v631; // [rsp+210h] [rbp-618h]
  __int64 v632; // [rsp+218h] [rbp-610h]
  int n0x2800_1; // [rsp+240h] [rbp-5E8h] BYREF
  __int64 v634; // [rsp+244h] [rbp-5E4h]
  int v635; // [rsp+24Ch] [rbp-5DCh]
  __int64 v636; // [rsp+250h] [rbp-5D8h]
  unsigned __int64 v637; // [rsp+258h] [rbp-5D0h]
  __int64 v638; // [rsp+260h] [rbp-5C8h]
  __int64 v639; // [rsp+268h] [rbp-5C0h]
  int n0x2800_3; // [rsp+290h] [rbp-598h] BYREF
  __int64 v641; // [rsp+294h] [rbp-594h]
  int v642; // [rsp+29Ch] [rbp-58Ch]
  __int64 v643; // [rsp+2A0h] [rbp-588h]
  unsigned __int64 v644; // [rsp+2A8h] [rbp-580h]
  __int64 v645; // [rsp+2B0h] [rbp-578h]
  __int64 v646; // [rsp+2B8h] [rbp-570h]
  int n0x2800_4; // [rsp+2E0h] [rbp-548h] BYREF
  __int64 v648; // [rsp+2E4h] [rbp-544h]
  int v649; // [rsp+2ECh] [rbp-53Ch]
  __int64 v650; // [rsp+2F0h] [rbp-538h]
  unsigned __int64 v651; // [rsp+2F8h] [rbp-530h]
  __int64 v652; // [rsp+300h] [rbp-528h]
  __int64 v653; // [rsp+308h] [rbp-520h]
  int n0x2800_5; // [rsp+330h] [rbp-4F8h] BYREF
  __int64 v655; // [rsp+334h] [rbp-4F4h]
  int v656; // [rsp+33Ch] [rbp-4ECh]
  __int64 v657; // [rsp+340h] [rbp-4E8h]
  unsigned __int64 v658; // [rsp+348h] [rbp-4E0h]
  __int64 v659; // [rsp+350h] [rbp-4D8h]
  __int64 v660; // [rsp+358h] [rbp-4D0h]
  int n0x2800_6; // [rsp+380h] [rbp-4A8h] BYREF
  __int64 v662; // [rsp+384h] [rbp-4A4h]
  int v663; // [rsp+38Ch] [rbp-49Ch]
  __int64 v664; // [rsp+390h] [rbp-498h]
  unsigned __int64 v665; // [rsp+398h] [rbp-490h]
  __int64 v666; // [rsp+3A0h] [rbp-488h]
  __int64 v667; // [rsp+3A8h] [rbp-480h]
  int n0x2800_7; // [rsp+3D0h] [rbp-458h] BYREF
  __int64 v669; // [rsp+3D4h] [rbp-454h]
  int v670; // [rsp+3DCh] [rbp-44Ch]
  __int64 v671; // [rsp+3E0h] [rbp-448h]
  unsigned __int64 v672; // [rsp+3E8h] [rbp-440h]
  __int64 v673; // [rsp+3F0h] [rbp-438h]
  __int64 v674; // [rsp+3F8h] [rbp-430h]
  int n0x2800; // [rsp+420h] [rbp-408h] BYREF
  __int64 v676; // [rsp+424h] [rbp-404h]
  int v677; // [rsp+42Ch] [rbp-3FCh]
  __int64 v678; // [rsp+430h] [rbp-3F8h]
  unsigned __int64 v679; // [rsp+438h] [rbp-3F0h]
  __int64 v680; // [rsp+440h] [rbp-3E8h]
  __int64 v681; // [rsp+448h] [rbp-3E0h]
  double v682[3]; // [rsp+470h] [rbp-3B8h] BYREF
  double v683[3]; // [rsp+488h] [rbp-3A0h] BYREF
  __int128 v684; // [rsp+4A0h] [rbp-388h] BYREF
  __int64 v685; // [rsp+4B0h] [rbp-378h]
  __int128 v686; // [rsp+4C0h] [rbp-368h] BYREF
  __int64 v687; // [rsp+4D0h] [rbp-358h]
  __int128 v688; // [rsp+4E0h] [rbp-348h] BYREF
  __int64 v689; // [rsp+4F0h] [rbp-338h]
  __int128 v690; // [rsp+500h] [rbp-328h] BYREF
  __int64 v691; // [rsp+510h] [rbp-318h]
  __int128 v692; // [rsp+520h] [rbp-308h] BYREF
  __int64 v693; // [rsp+530h] [rbp-2F8h]
  __int128 v694; // [rsp+540h] [rbp-2E8h] BYREF
  __int64 v695; // [rsp+550h] [rbp-2D8h]
  __int128 v696; // [rsp+560h] [rbp-2C8h] BYREF
  __int64 v697; // [rsp+570h] [rbp-2B8h]
  __int128 v698; // [rsp+580h] [rbp-2A8h] BYREF
  __int64 v699; // [rsp+590h] [rbp-298h]
  __int128 v700; // [rsp+5A0h] [rbp-288h] BYREF
  double v701; // [rsp+5B0h] [rbp-278h]
  char v702[24]; // [rsp+5B8h] [rbp-270h] BYREF
  __int64 v703; // [rsp+5D0h] [rbp-258h]
  int v704; // [rsp+5D8h] [rbp-250h]
  unsigned int v705; // [rsp+5DCh] [rbp-24Ch]
  double v706; // [rsp+5F0h] [rbp-238h]
  char v707[24]; // [rsp+5F8h] [rbp-230h] BYREF
  char v708[32]; // [rsp+610h] [rbp-218h] BYREF
  _DWORD v709[68]; // [rsp+630h] [rbp-1F8h] BYREF

  n0x2800 = 0x2800;
  v3 = 0;
  v676 = 0;
  v677 = 0;
  v679 = 0;
  v680 = 0;
  v681 = 0;
  v678 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  if ( !(*(unsigned __int8 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x368LL))(a1, a2, a3) )
  {
    v7 = 0;
    goto LABEL_392;
  }
  sub_146764480((__int64)v702, a1, *(_QWORD *)(a1 + 0x2C0), (int *)a2, a3, 0, 0, 0);
  if ( v704 )
  {
    v7 = v705;
    goto LABEL_384;
  }
  n3 = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 == 1 )
  {
    n0x2800_1 = 0x2800;
    v634 = 0;
    v635 = 0;
    v637 = 0;
    v638 = 0;
    v639 = 0;
    v636 = 1;
    qword_149A05E00(&n0x2800_1, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    v9 = *(double *)(a1 + 0x6B8);
    v10 = 0;
    v584 = v9;
    if ( v9 > 0.0 )
    {
      v11 = *(unsigned int *)(a2 + 0x10);
      v566 = *(_DWORD *)(a2 + 0x10);
      v12 = *(float *)(a2 + 4);
      n0x4118_2 = COERCE_UNSIGNED_INT64(*(float *)(a2 + 8));
      v15 = *(float *)(a2 + 0xC);
      v14 = v15;
      v600 = v12;
      n0x4118_1 = *(__int64 *)&n0x4118_2;
      *(double *)&n0x2B5_1 = v15;
      v16 = 0.0;
      v17 = 0.0;
      if ( (v566 & 0xFFA00000) != 0xFFA00000 )
      {
        v16 = *(float *)(a2 + 0x14);
        v17 = *(float *)(a2 + 0x18);
        *((_QWORD *)&v18 + 1) = *((_QWORD *)&v11 + 1);
        *(double *)&v18 = *(float *)&v11;
        v10 = v18;
      }
      v19 = *(double *)(a2 + 0x20);
      v622 = v19;
      if ( (HIDWORD(v19) & 0xFFF40000) != 0xFFF40000 )
      {
        if ( *(_DWORD *)(a2 + 0x44) )
        {
          v20 = *(double *)(a2 + 0x30);
          v21 = *(double *)(a2 + 0x28);
          v22 = *(float *)(a1 + 0x1E0);
          v23 = *(float *)(a1 + 0x1DC);
          v24 = *(float *)(a1 + 0x1E4);
          v25 = *(float *)(a1 + 0x1D8);
          v26 = v20 * v23 - v21 * v22 + v19 * v24;
          v27 = v19 * v22 - v20 * v25 + v21 * v24;
          v28 = v21 * v25 - v23 * *(double *)(a2 + 0x20) + v20 * v24;
          v29 = v28 * v23 - v27 * v22;
          v30 = v26 * v22 - v28 * v25;
          v31 = v26 * v23;
          v12 = v600;
          v14 = *(double *)&n0x2B5_1;
          v32 = v20 + *(double *)(a1 + 0x1D0) + v27 * v25 - v31 + v27 * v25 - v31 - *(double *)(a1 + 0x638);
          v33 = v21 + *(double *)(a1 + 0x1C8) + v30 + v30 - *(double *)(a1 + 0x630);
          v34 = v29 + v29;
          n0x4118_2 = (unsigned __int64)n0x4118_1;
          v35 = (*(double *)(a2 + 0x20) + *(double *)(a1 + 0x1C0) + v34 - *(double *)(a1 + 0x628))
              * *(double *)&n0x4118_1
              - v33 * v600;
          v16 = v16
              + v32 * v600
              - (*(double *)(a2 + 0x20) + *(double *)(a1 + 0x1C0) + v34 - *(double *)(a1 + 0x628))
              * *(double *)&n0x2B5_1;
        }
        else
        {
          v36 = v19 - *(double *)(a1 + 0x628);
          v32 = *(double *)(a2 + 0x30) - *(double *)(a1 + 0x638);
          v33 = *(double *)(a2 + 0x28) - *(double *)(a1 + 0x630);
          v35 = v36 * *(double *)&n0x4118_2 - v33 * v12;
          v16 = v32 * v12 - v36 * v14 + v16;
        }
        v17 = v17 + v35;
        v9 = v584;
        *((_QWORD *)&v37 + 1) = *((_QWORD *)&v10 + 1);
        *(double *)&v37 = *(double *)&v10 + v33 * v14 - v32 * *(double *)&n0x4118_2;
        v10 = v37;
      }
      if ( *(_DWORD *)(a2 + 0x48) == 1 )
      {
        *((_QWORD *)&v39 + 1) = *((_QWORD *)&n0x4118_2 + 1);
        *(double *)&v39 = (*(double *)&n0x4118_2 * *(double *)&n0x4118_2 + v12 * v12 + v14 * v14) * (v9 * v9);
        _XMM2 = v39;
        __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
        if ( _XMM1.m128_f32[0] > 25.0 )
        {
          v42 = _mm_sqrt_ps(_mm_shuffle_ps(_XMM1, _XMM1, 0));
          *(double *)v42.m128_u64 = (float)(5.0 / _mm_shuffle_ps(v42, v42, 0xFF).m128_f32[0]);
          v12 = *(double *)v42.m128_u64 * v12;
          *(double *)&n0x4118_2 = *(double *)v42.m128_u64 * *(double *)&n0x4118_2;
          v14 = *(double *)v42.m128_u64 * v14;
        }
        v38 = (double *)(a1 + 0x5B0);
        *((_QWORD *)&v43 + 1) = *((_QWORD *)&v10 + 1);
        v44 = v16 * *(double *)(a1 + 0x5B8) + *(double *)&v10 * *(double *)(a1 + 0x5B0) + v17 * *(double *)(a1 + 0x5C0);
        v45 = *(double *)&v10 * *(double *)(a1 + 0x5C8) + v16 * *(double *)(a1 + 0x5D0) + v17 * *(double *)(a1 + 0x5D8);
        v46 = *(double *)&v10 * *(double *)(a1 + 0x5E0) + v16 * *(double *)(a1 + 0x5E8) + v17 * *(double *)(a1 + 0x5F0);
        *(double *)&v43 = v45 * v45 + v44 * v44 + v46 * v46;
        _XMM2 = v43;
        __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
        if ( _XMM0.m128_f32[0] > 25.0 )
        {
          v49 = _mm_sqrt_ps(_mm_shuffle_ps(_XMM0, _XMM0, 0));
          *(double *)v49.m128_u64 = (float)(5.0 / _mm_shuffle_ps(v49, v49, 0xFF).m128_f32[0]);
          *(double *)&v10 = *(double *)&v10 * *(double *)v49.m128_u64;
          v16 = v16 * *(double *)v49.m128_u64;
          v17 = v17 * *(double *)v49.m128_u64;
        }
      }
      else
      {
        (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 0);
        *(float *)(a1 + 0x368) = (float)(*(_DWORD *)(a2 + 0x48) > 0) * *(float *)(a1 + 0x368);
        v38 = (double *)(a1 + 0x5B0);
      }
      if ( *(_DWORD *)(a2 + 0x40) )
      {
        v74 = v14 + *(double *)(a1 + 0x770);
        v75 = *(double *)&n0x4118_2 + *(double *)(a1 + 0x768);
        *(double *)(a1 + 0x760) = v12 + *(double *)(a1 + 0x760);
        *(double *)(a1 + 0x768) = v75;
        *(double *)(a1 + 0x770) = v74;
        v76 = v17 + *(double *)(a1 + 0x788);
        v77 = v16 + *(double *)(a1 + 0x780);
        *(double *)(a1 + 0x778) = *(double *)&v10 + *(double *)(a1 + 0x778);
        *(double *)(a1 + 0x780) = v77;
        *(double *)(a1 + 0x788) = v76;
      }
      else
      {
        v50 = v14 + *(double *)(a1 + 0x660);
        v51 = *(double *)&n0x4118_2 + *(double *)(a1 + 0x658);
        *(double *)(a1 + 0x650) = v12 + *(double *)(a1 + 0x650);
        v52 = *(double *)&v10 + *(double *)(a1 + 0x668);
        *(double *)(a1 + 0x660) = v50;
        v53 = v17 + *(double *)(a1 + 0x678);
        *(double *)(a1 + 0x668) = v52;
        *(double *)(a1 + 0x658) = v51;
        v54 = v16 + *(double *)(a1 + 0x670);
        *(double *)(a1 + 0x678) = v53;
        *(double *)(a1 + 0x670) = v54;
        v55 = *(unsigned __int64 *)(a1 + 0x6B8);
        _XMM2 = *(_OWORD *)(a1 + 0x650);
        *((_QWORD *)&v58 + 1) = *(_QWORD *)(a1 + 0x658);
        *(double *)&v58 = *(double *)&_XMM2 * *(double *)&v55;
        _XMM0 = v58;
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
        *(float *)(a1 + 0x68C) = *(float *)&_XMM1;
        __asm { vunpckhpd xmm2, xmm2, xmm2 }
        *((_QWORD *)&v58 + 1) = *((_QWORD *)&_XMM2 + 1);
        *(double *)&v58 = *(double *)&_XMM2 * *(double *)&v55;
        _XMM0 = v58;
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
        *(float *)(a1 + 0x690) = *(float *)&_XMM1;
        *((_QWORD *)&v58 + 1) = *((_QWORD *)&v55 + 1);
        *(double *)&v58 = *(double *)&v55 * *(double *)(a1 + 0x660);
        _XMM0 = v58;
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
        *(float *)(a1 + 0x694) = *(float *)&_XMM1;
        v65 = *(double *)(a1 + 0x668);
        v66 = *(double *)(a1 + 0x670);
        v67 = *(double *)(a1 + 0x678);
        _XMM0 = COERCE_UNSIGNED_INT64(v66 * v38[1] + v65 * *v38 + v67 * v38[2]);
        __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
        _XMM0 = COERCE_UNSIGNED_INT64(v65 * v38[3] + v66 * v38[4] + v67 * v38[5]);
        __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
        _XMM0 = COERCE_UNSIGNED_INT64(v65 * v38[6] + v66 * v38[7] + v67 * v38[8]);
        __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
        *(float *)(a1 + 0x688) = *(float *)&_XMM3;
        *(float *)(a1 + 0x680) = *(float *)&_XMM5;
        *(float *)(a1 + 0x684) = *(float *)&_XMM4;
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A0LL))(a1);
      }
    }
    CPhysicalEntity::Action(a1, a2, 1);
    v637 = __rdtsc();
    qword_149A05E08(&n0x2800_1);
    v7 = 1;
    goto LABEL_384;
  }
  if ( n3 == 3 )
  {
    n0x2800_2 = 0x2800;
    v627 = 0;
    v628 = 0;
    v630 = 0;
    v631 = 0;
    v632 = 0;
    v629 = 1;
    qword_149A05E00(&n0x2800_2, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    *(_QWORD *)(a1 + 0x690) = 0;
    *(_QWORD *)(a1 + 0x688) = 0;
    *(_QWORD *)(a1 + 0x680) = 0;
    *(_QWORD *)(a1 + 0x660) = 0;
    *(_QWORD *)(a1 + 0x658) = 0;
    *(_QWORD *)(a1 + 0x650) = 0;
    *(_QWORD *)(a1 + 0x678) = 0;
    *(_QWORD *)(a1 + 0x670) = 0;
    *(_QWORD *)(a1 + 0x668) = 0;
    *(_QWORD *)(a1 + 0x69C) = 0;
    *(_DWORD *)(a1 + 0x698) = 0;
    *(_QWORD *)(a1 + 0x6A8) = 0;
    *(_DWORD *)(a1 + 0x6A4) = 0;
    *(_QWORD *)(a1 + 0x770) = 0;
    *(_QWORD *)(a1 + 0x768) = 0;
    *(_QWORD *)(a1 + 0x760) = 0;
    *(_QWORD *)(a1 + 0x788) = 0;
    *(_QWORD *)(a1 + 0x780) = 0;
    *(_QWORD *)(a1 + 0x778) = 0;
    *(_QWORD *)(a1 + 0x7DC) = 0;
    *(_DWORD *)(a1 + 0x7D8) = 0;
    *(_QWORD *)(a1 + 0x7E8) = 0;
    *(_DWORD *)(a1 + 0x7E4) = 0;
    *(_QWORD *)(a1 + 0x7F4) = 0;
    *(_DWORD *)(a1 + 0x7F0) = 0;
    *(_QWORD *)(a1 + 0x800) = 0;
    *(_DWORD *)(a1 + 0x7FC) = 0;
    v78 = *(_QWORD *)(a1 + 0x980);
    if ( v78 != *(_QWORD *)(a1 + 0x988) )
      *(_QWORD *)(a1 + 0x988) = v78;
    if ( *(_DWORD *)(a2 + 4) )
    {
      sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 0x80, 0);
      v709[0] = 5;
      v709[3] = 0xFFFFFFFF;
      v709[1] = 0x80000000;
      v709[0x26] = 2;
      v79 = *(_QWORD *)a1;
      v709[7] = 0xFFF7FFFF;
      v709[0xD] = 0xFFF7FFFF;
      v709[0x15] = 0xFFBFFFFF;
      v709[0x19] = 0xFFBFFFFF;
      v709[0x1A] = 0xFFBFFFFF;
      v709[0x1B] = 0xFFBFFFFF;
      v709[0x1C] = 0xFFBFFFFF;
      v709[0x1D] = 0xFFBFFFFF;
      v709[0x1E] = 0xFFBFFFFF;
      v709[0x21] = 0xFFBFFFFF;
      v709[0x24] = 0xFFBFFFFF;
      v709[0x25] = 0xFFBFFFFF;
      v709[0x28] = 0xFFBFFFFF;
      v709[0x2B] = 0xFFBFFFFF;
      v709[0x2E] = 0xFFBFFFFF;
      v709[0x31] = 0xFFBFFFFF;
      v709[0x34] = 0xFFBFFFFF;
      v709[0x3A] = 0xFFBFFFFF;
      v709[0x3B] = 0xFFBFFFFF;
      v709[0x3E] = 0xFFBFFFFF;
      v709[2] = 0;
      v709[0x27] = 1;
      v709[4] = 1;
      (*(void (__fastcall **)(__int64, _DWORD *, __int64))(v79 + 0x30))(a1, v709, 1);
    }
    *(_QWORD *)(a1 + 0x86C) = 0;
    *(_DWORD *)(a1 + 0x868) = 0;
    *(_QWORD *)(a1 + 0x878) = 0;
    *(_DWORD *)(a1 + 0x874) = 0;
    *(_DWORD *)(a1 + 0x9F8) = 0xFFFFFFFF;
    *(_DWORD *)(a1 + 0x838) = 0xFFBFFFFF;
    *(_DWORD *)(a1 + 0x898) = 0xFFFFFFFE;
    *(_DWORD *)(a1 + 0x188) = 0xFFFFFFFE;
    *(_DWORD *)(a1 + 0x508) = 0;
    *(_DWORD *)(a1 + 0x4B0) = 0;
    *(_QWORD *)(a1 + 0x9D0) = 0;
    *(_QWORD *)(a1 + 0x9F0) = 0;
    *(_QWORD *)(a1 + 0x9E8) = 0;
    *(_DWORD *)(a1 + 0x9E4) = 0xFFFFFFFF;
    *(_QWORD *)(a1 + 0x9DC) = 0;
    *(_DWORD *)(a1 + 0x9D8) = 0;
    v7 = CPhysicalEntity::Action(a1, a2, 1);
    p_n0x2800 = &n0x2800_2;
    v630 = __rdtsc();
    goto LABEL_383;
  }
  if ( n3 == 4 )
  {
    n0x2800_3 = 0x2800;
    v641 = 0;
    v642 = 0;
    v644 = 0;
    v645 = 0;
    v646 = 0;
    v643 = 1;
    qword_149A05E00(&n0x2800_3, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    v81 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v81 )
      sub_1403DE750(a1 + 0xC8, v81, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockUpdate", 1);
    v82 = *(__int64 **)(a2 + 8);
    v579 = v82;
    if ( v82 == (__int64 *)0xFFFFFFFFFFFFFFF6LL )
    {
      v82 = &qword_1514522C0;
      v579 = &qword_1514522C0;
    }
    else if ( !v82 )
    {
      goto LABEL_148;
    }
    if ( *((_DWORD *)v82 + 0x3D) <= 4u )
    {
      v591 = 1.0;
      v595 = 1.0;
      v623 = *(_QWORD *)(a2 + 0x10);
      n2 = 0;
      v588 = 0.0;
      v589 = 0.0;
      v590 = 0.0;
      v592 = 0.0;
      v593 = 0.0;
      v594 = 0.0;
      if ( (HIDWORD(v623) & 0xFFF40000) != 0xFFF40000 )
      {
        v7 = *(_DWORD *)(a2 + 4);
        v577 = v7;
        if ( v7 == 0x80000000 )
        {
          v83 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C0), 0x200000, 0);
          if ( v83 )
            sub_1403DE750(a1 + 0x8C0, v83, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockConstraintIdx", 1);
          v7 = *(_DWORD *)(a1 + 0x8B8);
          v577 = v7;
          *(_DWORD *)(a1 + 0x8B8) = v7 + 1;
          if ( a1 != 0xFFFFFFFFFFFFF740uLL )
          {
            n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C0), 0, 0x200000);
            if ( n0x200000 != 0x200000 )
              sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C0), n0x200000);
          }
        }
        if ( (unsigned int)CRigidEntity::EvaluatePartIndices(a1, a2, v82, &v601) )
        {
          v85 = *(_DWORD *)(a2 + 0x78);
          v574 = v85 & 0xFFFFFFF8;
          if ( (v85 & 0x400) != 0 )
          {
            n0x400 = 0x400;
          }
          else
          {
            n0x400 = 0x200;
            if ( (v85 & 0x800) != 0 )
              n0x400 = 0x800;
          }
          n0x400_1 = n0x400;
          if ( (v85 & 0x80000) != 0 && (*(_DWORD *)(a2 + 0xBC) & 0xFFA00000) != 0xFFA00000 )
            n0x400_1 = n0x400 | 0x2000000;
          sub_1467A9590(
            (unsigned int)&v607,
            (unsigned int)&v605,
            (unsigned int)&v588,
            a2,
            a1,
            (__int64)v82,
            (__int64)&v601);
          v87 = v601;
          n0x4118_4 = sub_1467CF990(
                        a1,
                        (unsigned int)&v607,
                        (unsigned int)&v605,
                        v601,
                        (__int64)v82,
                        HIDWORD(v601),
                        n0x400_1,
                        v574);
          if ( n0x4118_4 >= 0 )
          {
            n0x4118_3 = n0x4118_4;
            v90 = *(_QWORD *)(a1 + 0x4F0);
            v91 = n0x4118_3 << 8;
            n0x4118_1 = n0x4118_3;
            v585 = v91;
            *(_DWORD *)(v90 + v91 + 8) = v7;
            _XMM3 = *(unsigned int *)(a2 + 0x7C);
            _XMM0 = *(_DWORD *)(a2 + 0x7C) & 0xFFA00000;
            __asm
            {
              vpcmpeqd xmm2, xmm0, xmm1
              vblendvps xmm0, xmm3, xmm6, xmm2
            }
            *(float *)(v91 + *(_QWORD *)(a1 + 0x4F0) + 0x6C) = *(float *)&_XMM0;
            v570 = *(float *)&_XMM0;
            if ( (*(_DWORD *)(a2 + 0x80) & 0xFFA00000) != 0xFFA00000 )
              *(float *)(v91 + *(_QWORD *)(a1 + 0x4F0) + 0x70) = *(float *)(a2 + 0x80);
            if ( (*(_DWORD *)(a2 + 0x84) & 0xFFA00000) != 0xFFA00000 )
            {
              n2 = 1;
              *(float *)(v91 + *(_QWORD *)(a1 + 0x4F0) + 0x98) = *(float *)(a2 + 0x84);
            }
            if ( (*(_DWORD *)(a2 + 0x8C) & 0xFFA00000) != 0xFFA00000 )
            {
              n2 = 1;
              *(float *)(v91 + *(_QWORD *)(a1 + 0x4F0) + 0xA0) = *(float *)(a2 + 0x8C);
            }
            v96 = 0x108 * n0x4118_3 + *(_QWORD *)(a1 + 0x4E8);
            n0x2B5_1 = 0x108 * n0x4118_3;
            v97 = *(_QWORD *)(v96 + 0x20);
            v600 = *(double *)(*(_QWORD *)(v96 + 0x30) + 0x108LL) - *(double *)(*(_QWORD *)(v96 + 0x28) + 0x108LL);
            v98 = *(_QWORD *)(v96
                            + 8
                            * ((*(_QWORD *)&v600 >> 0x3F)
                             & ((*(int *)(v97 + 0xF4) - 3LL) >> 0x1F)
                             & ~(*(_DWORD *)(v97 + 0xF0) >> 0x1F))
                            + 0x28);
            v99 = *(float *)(v98 + 0x9C);
            LODWORD(v100) = *(_DWORD *)(v98 + 0x98) ^ 0x80000000;
            LODWORD(v101) = *(_DWORD *)(v98 + 0x90) ^ 0x80000000;
            LODWORD(v102) = *(_DWORD *)(v98 + 0x94) ^ 0x80000000;
            v103 = (float)((float)((float)(v589 * v101) - (float)(v588 * v102)) + (float)(v99 * v590))
                 + (float)(v591 * v100);
            v104 = (float)((float)((float)(v588 * v100) - (float)(v590 * v101)) + (float)(v99 * v589))
                 + (float)(v591 * v102);
            v105 = (float)((float)((float)(v590 * v102) - (float)(v589 * v100)) + (float)(v99 * v588))
                 + (float)(v591 * v101);
            v106 = (float)(v99 * v591)
                 - (float)((float)((float)(v588 * v101) + (float)(v589 * v102)) + (float)(v590 * v100));
            v598 = (float)((float)(v105 * v103) - (float)(v106 * v104))
                 + (float)((float)(v105 * v103) - (float)(v106 * v104));
            *(float *)&v597 = (float)((float)((float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v104)
                                            - (float)(v103 * v103))
                                    + 1.0)
                            + (float)((float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v104) - (float)(v103 * v103));
            *((float *)&v597 + 1) = (float)((float)(v106 * v103)
                                          - (float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v105))
                                  + (float)((float)(v106 * v103)
                                          - (float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v105));
            *(float *)(v96 + 0x84) = *(float *)&v597;
            *(float *)(v96 + 0x88) = (float)((float)(v106 * v103)
                                           - (float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v105))
                                   + (float)((float)(v106 * v103)
                                           - (float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v105));
            *(float *)(v96 + 0x8C) = (float)((float)(v105 * v103) - (float)(v106 * v104))
                                   + (float)((float)(v105 * v103) - (float)(v106 * v104));
            v107 = v588;
            v108 = v590;
            v109 = v589;
            v110 = *(_QWORD *)(a1 + 0x4E8);
            v111 = *(_QWORD *)(0x108 * n0x4118_3 + v110 + 0x28);
            v112 = *(float *)(v111 + 0x9C);
            LODWORD(v113) = *(_DWORD *)(v111 + 0x98) ^ 0x80000000;
            LODWORD(v114) = *(_DWORD *)(v111 + 0x90) ^ 0x80000000;
            LODWORD(v115) = *(_DWORD *)(v111 + 0x94) ^ 0x80000000;
            v590 = (float)((float)((float)(v114 * v589) - (float)(v115 * v588)) + (float)(v112 * v590))
                 + (float)(v591 * v113);
            v116 = v589 * v113;
            v589 = (float)((float)((float)(v588 * v113) - (float)(v114 * v108)) + (float)(v112 * v589))
                 + (float)(v115 * v591);
            v588 = (float)((float)((float)(v115 * v108) - v116) + (float)(v112 * v588)) + (float)(v114 * v591);
            v117 = v114 * v107;
            v118 = v592;
            v119 = v108 * v113;
            v120 = v594;
            v121 = (float)(v115 * v109) + v117;
            v122 = v593;
            v591 = (float)(v112 * v591) - (float)(v121 + v119);
            v123 = *(_QWORD *)(0x108 * n0x4118_3 + v110 + 0x30);
            v124 = *(float *)(v123 + 0x9C);
            LODWORD(v125) = *(_DWORD *)(v123 + 0x98) ^ 0x80000000;
            LODWORD(v126) = *(_DWORD *)(v123 + 0x90) ^ 0x80000000;
            LODWORD(v127) = *(_DWORD *)(v123 + 0x94) ^ 0x80000000;
            v128 = (float)((float)((float)(v126 * v593) - (float)(v127 * v592)) + (float)(v124 * v594))
                 + (float)(v125 * v595);
            v129 = (float)((float)((float)(v125 * v592) - (float)(v126 * v594)) + (float)(v124 * v593))
                 + (float)(v127 * v595);
            v130 = *(_QWORD *)(a1 + 0x4F0);
            v592 = (float)((float)((float)(v127 * v594) - (float)(v125 * v593)) + (float)(v124 * v592))
                 + (float)(v126 * v595);
            v593 = v129;
            v594 = v128;
            v595 = (float)(v124 * v595)
                 - (float)((float)((float)(v127 * v122) + (float)(v126 * v118)) + (float)(v125 * v120));
            v131 = *(_DWORD **)(0x108 * n0x4118_3 + v110 + 0x28);
            *(_DWORD *)(v91 + v130 + 0x78) = v131[0x24];
            *(_DWORD *)(v91 + v130 + 0x7C) = v131[0x25];
            *(_DWORD *)(v91 + v130 + 0x80) = v131[0x26];
            *(_DWORD *)(v91 + v130 + 0x84) = v131[0x27];
            v132 = *(_QWORD *)(a1 + 0x4F0);
            v133 = *(_DWORD **)(0x108 * n0x4118_3 + *(_QWORD *)(a1 + 0x4E8) + 0x30);
            *(_DWORD *)(v91 + v132 + 0x88) = v133[0x24];
            *(_DWORD *)(v91 + v132 + 0x8C) = v133[0x25];
            *(_DWORD *)(v91 + v132 + 0x90) = v133[0x26];
            *(_DWORD *)(v91 + v132 + 0x94) = v133[0x27];
            v134 = *(_QWORD *)(a1 + 0x4F0);
            *(float *)(v91 + v134 + 0xC) = v588;
            *(float *)(v91 + v134 + 0x10) = v589;
            *(float *)(v91 + v134 + 0x14) = v590;
            *(float *)(v91 + v134 + 0x18) = v591;
            v135 = *(_QWORD *)(a1 + 0x4F0);
            *(float *)(v91 + v135 + 0x1C) = v592;
            *(float *)(v91 + v135 + 0x20) = v593;
            *(float *)(v91 + v135 + 0x24) = v594;
            *(float *)(v91 + v135 + 0x28) = v595;
            v136 = *(_QWORD *)(a2 + 0xB0);
            if ( v136 == 0xFFFFFFFFFFFFFFFFuLL
              || (*(_QWORD *)(v91 + *(_QWORD *)(a1 + 0x4F0)) = v136, (v137 = *(_QWORD *)(a2 + 0xB0)) == 0) )
            {
              v138 = v570;
            }
            else if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v137 + 8LL))(v137) == 7
                   || (*(unsigned int (__fastcall **)(_QWORD))(**(_QWORD **)(a2 + 0xB0) + 8LL))(*(_QWORD *)(a2 + 0xB0)) == 4 )
            {
              v91 = v585;
              v138 = v570;
              LOBYTE(n0x4118_3) = n0x4118_1;
              *(_DWORD *)(n0x2B5_1 + *(_QWORD *)(a1 + 0x4E8) + 0x94) = 0;
              *(_DWORD *)(v585 + *(_QWORD *)(a1 + 0x4F0) + 0x68) = 4;
              *(float *)(v585 + *(_QWORD *)(a1 + 0x4F0) + 0x6C) = v570;
            }
            else
            {
              v138 = v570;
              v91 = v585;
              LOBYTE(n0x4118_3) = n0x4118_1;
            }
            if ( (*(_DWORD *)(a2 + 0x78) & 0x80000) != 0 )
            {
              if ( (*(_DWORD *)(a2 + 0xBC) & 0xFFA00000) != 0xFFA00000 )
              {
                v139 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v91 + v139 + 0xB4) = *(double *)(a2 + 0xBC);
                *(_DWORD *)(v91 + v139 + 0xBC) = *(_DWORD *)(a2 + 0xC4);
              }
              if ( (*(_DWORD *)(a2 + 0xC8) & 0xFFA00000) != 0xFFA00000 )
              {
                v140 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v91 + v140 + 0xC0) = *(double *)(a2 + 0xC8);
                *(_DWORD *)(v91 + v140 + 0xC8) = *(_DWORD *)(a2 + 0xD0);
              }
              if ( (*(_DWORD *)(a2 + 0xEC) & 0xFFA00000) != 0xFFA00000 )
              {
                v141 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v91 + v141 + 0xE4) = *(double *)(a2 + 0xEC);
                *(_DWORD *)(v91 + v141 + 0xEC) = *(_DWORD *)(a2 + 0xF4);
              }
            }
            if ( (*(_DWORD *)(a2 + 0x78) & 0x101000) == 0x1000 )
            {
              v142 = 0;
              if ( *(int *)(a1 + 0x148) > 0 )
              {
                v143 = 0;
                do
                {
                  v143 += 8;
                  ++v142;
                  *(_QWORD *)(v143 + *(_QWORD *)(a1 + 0x4C8) - 8) &= ~(1LL << n0x4118_3);
                }
                while ( v142 < *(_DWORD *)(a1 + 0x148) );
              }
              *(_QWORD *)(a1 + 0x500) &= ~(1LL << n0x4118_3);
            }
            v144 = *(_DWORD *)(a2 + 0x78);
            *(double *)&v145 = v597;
            if ( (v144 & 0x2000) != 0 )
            {
              v614 = v598;
              v684 = v605;
              v685 = v606;
              *(double *)&v613 = v597;
              v686 = v607;
              v687 = v608;
              v146 = sub_1467AA740(
                       a1,
                       (unsigned int)&v686,
                       (unsigned int)&v684,
                       (unsigned int)&v601,
                       (__int64)v579,
                       0x200,
                       v574 & 0xFC0FFFFF,
                       (__int64)&v613,
                       (__int64)&v588,
                       v7,
                       LODWORD(v138),
                       a2);
              v147 = *(float *)(a2 + 0x88);
              if ( (LODWORD(v147) & 0xFFA00000) != 0xFFA00000 )
              {
                v148 = v146;
LABEL_132:
                *(float *)((v148 << 8) + *(_QWORD *)(a1 + 0x4F0) + 0x98) = v147;
                goto LABEL_133;
              }
              goto LABEL_133;
            }
            v149 = *(float *)(a2 + 0x68);
            if ( (LODWORD(v149) & 0xFFA00000) != 0xFFA00000
              && v149 >= *(float *)(a2 + 0x6C)
              && (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000
              && *(float *)(a2 + 0x70) >= *(float *)(a2 + 0x74)
              && (v144 & 0x3000000) == 0 )
            {
              if ( (v144 & 0x800000) != 0 )
              {
                v616 = v598;
                v688 = v605;
                v689 = v606;
                *(double *)&v615 = v597;
                v690 = v607;
                v691 = v608;
                sub_1467AA740(
                  a1,
                  (unsigned int)&v690,
                  (unsigned int)&v688,
                  (unsigned int)&v601,
                  (__int64)v579,
                  0x200,
                  v574 & 0xFF8FFFFF,
                  (__int64)&v615,
                  (__int64)&v588,
                  v7,
                  LODWORD(v138),
                  a2);
              }
              goto LABEL_133;
            }
            if ( (LODWORD(v149) & 0xFFA00000) == 0xFFA00000 || v149 < *(float *)(a2 + 0x6C) )
            {
              if ( (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000 && *(float *)(a2 + 0x70) >= *(float *)(a2 + 0x74) )
              {
                v620 = v598;
                v696 = v605;
                v697 = v606;
                *(double *)&v619 = v597;
                v698 = v607;
                v699 = v608;
                sub_1467AA740(
                  a1,
                  (unsigned int)&v698,
                  (unsigned int)&v696,
                  (unsigned int)&v601,
                  (__int64)v579,
                  0x400,
                  v574 & 0xFC0FFFFF,
                  (__int64)&v619,
                  (__int64)&v588,
                  v7,
                  LODWORD(v138),
                  a2);
              }
            }
            else
            {
              v618 = v598;
              v692 = v605;
              v693 = v606;
              *(double *)&v617 = v597;
              v694 = v607;
              v695 = v608;
              sub_1467AA740(
                a1,
                (unsigned int)&v694,
                (unsigned int)&v692,
                (unsigned int)&v601,
                (__int64)v579,
                0x800,
                v574 & 0xFC0FFFFF,
                (__int64)&v617,
                (__int64)&v588,
                v7,
                LODWORD(v138),
                a2);
            }
            if ( (n0x400_1 & 0x200) == 0
              || (v150 = *(float *)(a2 + 0x68), (LODWORD(v150) & 0xFFA00000) == 0xFFA00000)
              || (v151 = *(float *)(a2 + 0x6C), v150 >= v151)
              || v150 < -3.1328661 && v151 > 3.1328661 )
            {
              v573 = 0;
              if ( (*(_DWORD *)(a2 + 0x78) & 0x2000000) == 0 )
              {
                v161 = v574;
                goto LABEL_115;
              }
            }
            else
            {
              v573 = 1;
            }
            v152 = sub_1467CF990(
                     a1,
                     (unsigned int)&v607,
                     (unsigned int)&v605,
                     v87,
                     (__int64)v579,
                     HIDWORD(v87),
                     0x100,
                     v574 & 0xFC0FFFFF);
            v153 = *(_QWORD *)(a1 + 0x4E8);
            v154 = v152;
            v155 = v598;
            v156 = 0x108 * v154;
            *(double *)(v156 + v153 + 0x84) = *(double *)&v145;
            *(float *)(v156 + v153 + 0x8C) = v155;
            v157 = *(_QWORD *)(a1 + 0x4F0);
            v158 = v154 << 8;
            *(float *)(v157 + v158 + 0xC) = v588;
            *(float *)(v157 + v158 + 0x10) = v589;
            *(float *)(v157 + v158 + 0x14) = v590;
            *(float *)(v157 + v158 + 0x18) = v591;
            v159 = *(_QWORD *)(a1 + 0x4F0);
            *(float *)(v159 + v158 + 0x1C) = v592;
            *(float *)(v159 + v158 + 0x20) = v593;
            *(float *)(v159 + v158 + 0x24) = v594;
            *(float *)(v159 + v158 + 0x28) = v595;
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v158 + 8) = v7;
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v158 + 0x68) = 0;
            if ( v573 )
            {
              v160 = v154 << 6;
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + 4 * v160 + 0x60) = *(_DWORD *)(a2 + 0x68);
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + 4 * v160 + 0x64) = *(_DWORD *)(a2 + 0x6C);
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v158 + 0x68) |= 1u;
            }
            v161 = v574;
            if ( (v574 & 0x80000) != 0 && (*(_DWORD *)(a2 + 0xD4) & 0xFFA00000) != 0xFFA00000
              || (*(_DWORD *)(a2 + 0x78) & 0x2000000) != 0 )
            {
              *(_DWORD *)(0x108 * v154 + *(_QWORD *)(a1 + 0x4E8) + 0x94) |= 0x2000800u;
              if ( (*(_DWORD *)(a2 + 0x78) & 0x2000000) != 0 )
              {
                v162 = v154 << 8;
                *(_DWORD *)(0x108 * v154 + *(_QWORD *)(a1 + 0x4E8) + 0x94) |= 0x4000000u;
                *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v162 + 0x68) |= 0x2000000u;
                v163 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v163 + v162 + 0xA8) = *(double *)(a2 + 0x9C);
                *(_DWORD *)(v163 + v162 + 0xB0) = *(_DWORD *)(a2 + 0xA4);
                if ( (*(_DWORD *)(a2 + 0xAC) & 0xFFA00000) != 0xFFA00000 && *(int *)(a2 + 0xAC) >= 0 )
                {
                  v164 = v154 << 8;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v164 + 0x68) |= 0x8000u;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v164 + 0x9C) = *(_DWORD *)(a2 + 0xAC);
                }
                if ( (*(_DWORD *)(a2 + 0x114) & 0xFFA00000) != 0xFFA00000 )
                {
                  v165 = *(_QWORD *)(a1 + 0x4F0);
                  v166 = v154 << 8;
                  *(double *)(v166 + v165 + 0xCC) = *(double *)(a2 + 0x114);
                  *(_DWORD *)(v166 + v165 + 0xD4) = *(_DWORD *)(a2 + 0x11C);
                }
              }
            }
            if ( (*(_DWORD *)(a2 + 0x88) & 0xFFA00000) != 0xFFA00000 )
            {
              n2 = 2;
              *(float *)((v154 << 8) + *(_QWORD *)(a1 + 0x4F0) + 0x98) = *(float *)(a2 + 0x88);
            }
LABEL_115:
            if ( (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000 && *(float *)(a2 + 0x70) < *(float *)(a2 + 0x74)
              || (*(_DWORD *)(a2 + 0x78) & 0x1000000) != 0 )
            {
              v167 = sub_1467CF990(
                       a1,
                       (unsigned int)&v607,
                       (unsigned int)&v605,
                       v87,
                       (__int64)v579,
                       HIDWORD(v87),
                       0x100,
                       v161);
              v168 = *(_QWORD *)(a1 + 0x4E8);
              v169 = v167;
              v170 = v598;
              v171 = v169 << 8;
              v172 = 0x108 * v169;
              v571 = v169;
              v586 = v172;
              *(double *)(v168 + v172 + 0x84) = *(double *)&v145;
              *(float *)(v168 + v172 + 0x8C) = v170;
              v173 = *(_QWORD *)(a1 + 0x4F0);
              *(float *)(v173 + v171 + 0xC) = v588;
              *(float *)(v173 + v171 + 0x10) = v589;
              *(float *)(v173 + v171 + 0x14) = v590;
              *(float *)(v173 + v171 + 0x18) = v591;
              v174 = *(_QWORD *)(a1 + 0x4F0);
              *(float *)(v174 + v171 + 0x1C) = v592;
              *(float *)(v174 + v171 + 0x20) = v593;
              *(float *)(v174 + v171 + 0x24) = v594;
              *(float *)(v174 + v171 + 0x28) = v595;
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x68) = 0;
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 8) = v577;
              if ( (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000 )
              {
                X = *(float *)(a2 + 0x74);
                if ( *(float *)(a2 + 0x70) < X )
                {
                  v176 = sinf(X);
                  v172 = v586;
                  LODWORD(v169) = v571;
                  *(float *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x60) = v176;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x64) = *(_DWORD *)(a2 + 0x74);
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x68) |= 2u;
                }
              }
              if ( (*(_DWORD *)(a2 + 0x78) & 0x1000000) != 0 )
              {
                *(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + v172 + 0x94) |= 0x4000000u;
                *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x68) |= 0x1000000u;
                v177 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v177 + v171 + 0xA8) = *(double *)(a2 + 0x9C);
                *(_DWORD *)(v177 + v171 + 0xB0) = *(_DWORD *)(a2 + 0xA4);
                if ( (*(_BYTE *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x68) & 2) == 0 )
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + v172 + 0x94) |= 0x400u;
                if ( (*(_DWORD *)(a2 + 0xAC) & 0xFFA00000) != 0xFFA00000 && *(int *)(a2 + 0xAC) >= 0 )
                {
                  v178 = (__int64)(int)v169 << 8;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v178 + 0x68) |= 0x8000u;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v178 + 0x9C) = *(_DWORD *)(a2 + 0xAC);
                }
                *(_DWORD *)(0x108LL * (int)v169 + *(_QWORD *)(a1 + 0x4E8) + 0x94) |= 0x2000000u;
                if ( (*(_DWORD *)(a2 + 0x114) & 0xFFA00000) != 0xFFA00000 )
                {
                  v179 = *(_QWORD *)(a1 + 0x4F0);
                  v180 = (__int64)(int)v169 << 8;
                  *(double *)(v180 + v179 + 0xCC) = *(double *)(a2 + 0x114);
                  *(_DWORD *)(v180 + v179 + 0xD4) = *(_DWORD *)(a2 + 0x11C);
                }
              }
              v147 = *(float *)(a2 + 0x88);
              v7 = v577;
              if ( (LODWORD(v147) & 0xFFA00000) != 0xFFA00000 && n2 < 2 )
              {
                v148 = (int)v169;
                n2 = 1;
                goto LABEL_132;
              }
            }
LABEL_133:
            if ( (n0x400_1 & 0x200) != 0 )
              goto LABEL_138;
            if ( (*(_DWORD *)(a2 + 0x68) & 0xFFA00000) == 0xFFA00000 )
              goto LABEL_138;
            if ( *(float *)(a2 + 0x68) >= *(float *)(a2 + 0x6C) )
              goto LABEL_138;
            v181 = sub_1467CF990(
                     a1,
                     (unsigned int)&v607,
                     (unsigned int)&v605,
                     v87,
                     (__int64)v579,
                     HIDWORD(v87),
                     0,
                     v574);
            v182 = v598;
            v183 = v181;
            v184 = *(_QWORD *)(a1 + 0x4E8);
            v185 = 0x108 * v183;
            *(double *)(v185 + v184 + 0x84) = *(double *)&v145;
            *(float *)(v185 + v184 + 0x8C) = v182;
            v186 = *(_QWORD *)(a1 + 0x4F0);
            v187 = v183 << 8;
            v183 <<= 6;
            *(float *)(v186 + v187 + 0xC) = v588;
            *(float *)(v186 + v187 + 0x10) = v589;
            *(float *)(v186 + v187 + 0x14) = v590;
            *(float *)(v186 + v187 + 0x18) = v591;
            v188 = *(_QWORD *)(a1 + 0x4F0);
            *(float *)(v188 + v187 + 0x1C) = v592;
            *(float *)(v188 + v187 + 0x20) = v593;
            *(float *)(v188 + v187 + 0x24) = v594;
            *(float *)(v188 + v187 + 0x28) = v595;
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + 4 * v183 + 0x60) = *(_DWORD *)(a2 + 0x68);
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + 4 * v183 + 0x64) = *(_DWORD *)(a2 + 0x6C);
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v187 + 0x68) = 1;
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v187 + 8) = v7;
            if ( (*(_DWORD *)(a2 + 0x84) & 0xFFA00000) == 0xFFA00000 )
            {
LABEL_138:
              if ( !n2 )
                goto LABEL_140;
            }
            else
            {
              *(float *)(*(_QWORD *)(a1 + 0x4F0) + v187 + 0x98) = *(float *)(a2 + 0x84);
            }
            (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x388LL))(a1);
LABEL_140:
            if ( !*(_DWORD *)(a2 + 0xB8) )
            {
              if ( (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 && *(int *)(a1 + 0xE8) >= 0 )
                (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 0);
              if ( *((int *)v579 + 0x3D) > 0 && (v579[0x41] & 0x20) == 0 && *((int *)v579 + 0x3A) >= 0 )
                (*(void (__fastcall **)(__int64 *, __int64, _QWORD))(*v579 + 0x268))(v579, 1, 0);
            }
            goto LABEL_149;
          }
        }
      }
    }
LABEL_148:
    v7 = 0;
LABEL_149:
    v189 = (volatile signed __int64 *)(a1 + 0xC8);
    if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
    {
      n0x200000_1 = _InterlockedCompareExchange64(v189, 0, 0x200000);
      if ( n0x200000_1 != 0x200000 )
        sub_1403DEBA0(v189, n0x200000_1);
    }
    p_n0x2800 = &n0x2800_3;
    v644 = __rdtsc();
    goto LABEL_383;
  }
  if ( n3 != 5 )
  {
    if ( n3 == 8 )
    {
      n0x2800_4 = 0x2800;
      v648 = 0;
      v649 = 0;
      v651 = 0;
      v652 = 0;
      v653 = 0;
      v650 = 1;
      qword_149A05E00(&n0x2800_4, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v301 = *(_DWORD *)(a1 + 0x694);
      *(double *)(a1 + 0x820) = *(double *)(a1 + 0x68C);
      v302 = *(double *)(a1 + 0x680);
      *(_DWORD *)(a1 + 0x828) = v301;
      v303 = *(_DWORD *)(a1 + 0x688);
      *(double *)(a1 + 0x82C) = v302;
      *(_DWORD *)(a1 + 0x834) = v303;
      if ( (*(int *)(a1 + 0x294) >> 0x1F) & *(_DWORD *)(a1 + 0x290)
         | *(_DWORD *)(a1 + 0x294) & ~(*(int *)(a1 + 0x294) >> 0x1F) )
      {
        if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1) == 2
          && *(_DWORD *)(a2 + 4) == 0xFFFFFFD6 )
        {
          if ( (*(_DWORD *)(a1 + 0x964) & 0xFFA00000) == 0xFFA00000
            && (*(_DWORD *)(a1 + 0x970) & 0xFFA00000) == 0xFFA00000 )
          {
            *(double *)(a1 + 0x964) = *(double *)(a2 + 0xC);
            *(_DWORD *)(a1 + 0x96C) = *(_DWORD *)(a2 + 0x14);
            *(double *)(a1 + 0x970) = *(double *)(a2 + 0x18);
            *(_DWORD *)(a1 + 0x978) = *(_DWORD *)(a2 + 0x20);
          }
        }
        else
        {
          v304 = *(float *)(a2 + 0xC);
          if ( (LODWORD(v304) & 0xFFA00000) != 0xFFA00000 )
          {
            v305 = *(float *)(a2 + 0x14);
            *(float *)(a1 + 0x690) = *(float *)(a2 + 0x10);
            *(float *)(a1 + 0x694) = v305;
            *(float *)(a1 + 0x68C) = v304;
            _XMM5 = *(unsigned __int64 *)(a1 + 0x6B0);
            __asm { vcvtpd2ps xmm5, xmm5 }
            v610 = *(double *)(a1 + 0x68C);
            v306 = (__m128)*(unsigned __int64 *)&v610;
            *(double *)(a1 + 0x660) = (float)(*(float *)&_XMM5 * *(float *)(a1 + 0x694));
            *(double *)(a1 + 0x650) = (float)(*(float *)&_XMM5 * v306.m128_f32[0]);
            *(double *)(a1 + 0x658) = (float)(*(float *)&_XMM5 * _mm_shuffle_ps(v306, v306, 0x55).m128_f32[0]);
          }
          v309 = *(float *)(a2 + 0x18);
          if ( (LODWORD(v309) & 0xFFA00000) != 0xFFA00000 )
          {
            v310 = *(float *)(a2 + 0x1C);
            v311 = *(float *)(a2 + 0x20);
            *(float *)(a1 + 0x680) = v309;
            *(float *)(a1 + 0x684) = v310;
            *(float *)(a1 + 0x688) = v311;
            v312 = *(float *)(a1 + 0x640);
            v313 = *(float *)(a1 + 0x64C);
            v314 = *(float *)(a1 + 0x648);
            LODWORD(v315) = *(_DWORD *)(a1 + 0x644) ^ 0x80000000;
            v316 = (float)((float)(v311 * v315) - (float)(v310 * COERCE_FLOAT(LODWORD(v314) ^ 0x80000000)))
                 + (float)(v309 * v313);
            v317 = (float)((float)(v311 * v312) + (float)(COERCE_FLOAT(LODWORD(v314) ^ 0x80000000) * v309))
                 + (float)(v313 * v310);
            v318 = LODWORD(v313);
            *(float *)&v318 = (float)(v313 * v311) - (float)((float)(v310 * v312) + (float)(v315 * v309));
            v319 = v318;
            v320 = *(unsigned int *)(a1 + 0x644) ^ (unsigned __int128)0x80000000;
            *(float *)&v320 = (float)((float)(v315 * *(float *)&v319)
                                    - (float)(COERCE_FLOAT(LODWORD(v314) ^ 0x80000000) * v317))
                            + (float)(v309
                                    + (float)((float)(v315 * *(float *)&v319)
                                            - (float)(COERCE_FLOAT(LODWORD(v314) ^ 0x80000000) * v317)));
            v321 = v320;
            v322 = v319;
            *(float *)&v322 = (float)(*(float *)&v319 * v312) + (float)(COERCE_FLOAT(LODWORD(v314) ^ 0x80000000) * v316);
            v323 = v310 + *(float *)&v322;
            v324 = *(float *)(a1 + 0x644);
            *(float *)&v322 = *(float *)&v322 + v323;
            v325 = v322;
            v326 = LODWORD(v312);
            *(float *)&v326 = v312 * v317;
            v327 = v326 ^ 0x80000000;
            *(float *)&v327 = (float)(*(float *)&v327 - (float)(v315 * v316))
                            + (float)(v311 + (float)(*(float *)&v327 - (float)(v315 * v316)));
            v328 = v327;
            *((_QWORD *)&v327 + 1) = *((_QWORD *)&v325 + 1);
            *(double *)&v327 = *(float *)&v325;
            v329 = v327;
            *((_QWORD *)&v327 + 1) = *((_QWORD *)&v328 + 1);
            *(double *)&v327 = *(float *)&v328 * *(double *)(a1 + 0x608);
            _XMM0 = v327;
            __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
            *((_QWORD *)&v327 + 1) = *((_QWORD *)&v329 + 1);
            *(double *)&v327 = *(double *)&v329 * *(double *)(a1 + 0x600);
            _XMM0 = v327;
            __asm { vcvtsd2ss xmm9, xmm0, xmm0 }
            *((_QWORD *)&v327 + 1) = *((_QWORD *)&v321 + 1);
            *(double *)&v327 = *(float *)&v321 * *(double *)(a1 + 0x5F8);
            _XMM2 = v327;
            __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
            v336 = (float)((float)(*(float *)&_XMM10 * v324) - (float)(*(float *)&_XMM9 * v314))
                 + (float)(*(float *)&_XMM5 * v313);
            *(float *)&v321 = (float)((float)(*(float *)&_XMM5 * v314) - (float)(*(float *)&_XMM10 * v312))
                            + (float)(*(float *)&_XMM9 * v313);
            *(float *)&v328 = (float)((float)(*(float *)&_XMM9 * v312) - (float)(*(float *)&_XMM5 * v324))
                            + (float)(*(float *)&_XMM10 * v313);
            *(double *)(a1 + 0x678) = (float)((float)((float)(v312 * *(float *)&v321) - (float)(v324 * v336))
                                            + (float)(*(float *)&_XMM10
                                                    + (float)((float)(v312 * *(float *)&v321) - (float)(v324 * v336))));
            *(double *)(a1 + 0x668) = (float)((float)((float)(v324 * *(float *)&v328) - (float)(v314 * *(float *)&v321))
                                            + (float)(*(float *)&_XMM5
                                                    + (float)((float)(v324 * *(float *)&v328)
                                                            - (float)(v314 * *(float *)&v321))));
            *(double *)(a1 + 0x670) = (float)((float)((float)(v314 * v336) - (float)(v312 * *(float *)&v328))
                                            + (float)(*(float *)&_XMM9
                                                    + (float)((float)(v314 * v336) - (float)(v312 * *(float *)&v328))));
            if ( *(_DWORD *)(a2 + 0x24) )
            {
              if ( (*(_DWORD *)(a2 + 0xC) & 0xFFA00000) == 0xFFA00000 )
              {
                *(_QWORD *)(a1 + 0x690) = 0;
                *(_DWORD *)(a1 + 0x68C) = 0;
              }
              v337 = *(double *)(a1 + 0x638) - *(double *)(a1 + 0x1D0);
              v338 = *(double *)(a1 + 0x628) - *(double *)(a1 + 0x1C0);
              v339 = *(double *)(a1 + 0x630) - *(double *)(a1 + 0x1C8);
              v340 = *(float *)(a1 + 0x680);
              v341 = *(float *)(a1 + 0x688);
              v342 = COERCE_UNSIGNED_INT64(*(float *)(a1 + 0x684));
              _XMM4 = COERCE_UNSIGNED_INT64(v340 * v339 - *(float *)(a1 + 0x684) * v338);
              _XMM1 = COERCE_UNSIGNED_INT64(v341 * v338 - v340 * v337);
              __asm { vcvtsd2ss xmm0, xmm4, xmm4 }
              v346 = *(float *)&_XMM0 + *(float *)(a1 + 0x694);
              *(float *)(a1 + 0x694) = v346;
              *(float *)(a1 + 0x6A0) = v346;
              __asm { vcvtsd2ss xmm1, xmm1, xmm1 }
              *(float *)&_XMM4 = *(float *)&_XMM1 + *(float *)(a1 + 0x690);
              *(float *)(a1 + 0x690) = *(float *)&_XMM4;
              *(float *)(a1 + 0x69C) = *(float *)&_XMM4;
              *((_QWORD *)&v348 + 1) = *((_QWORD *)&v342 + 1);
              *(double *)&v348 = *(double *)&v342 * v337 - v341 * v339;
              _XMM1 = v348;
              __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
              *(float *)&v340 = *(float *)&_XMM2 + *(float *)(a1 + 0x68C);
              *(float *)(a1 + 0x68C) = *(float *)&v340;
              *(float *)(a1 + 0x698) = *(float *)&v340;
              v351 = (__m128)*(unsigned __int64 *)(a1 + 0x68C);
              _XMM5 = *(unsigned __int64 *)(a1 + 0x6B0);
              __asm { vcvtpd2ps xmm5, xmm5 }
              _XMM1 = _mm_shuffle_ps(v351, v351, 0x55);
              v355 = (float)(_XMM1.m128_f32[0] * *(float *)&_XMM5);
              __asm { vinsertps xmm1, xmm1, xmm7, 0Eh }
              v610 = *(double *)(a1 + 0x68C);
              *(double *)(a1 + 0x660) = (float)(*(float *)&_XMM1 * *(float *)&_XMM5);
              *(double *)(a1 + 0x650) = (float)(v351.m128_f32[0] * *(float *)&_XMM5);
              *(double *)(a1 + 0x658) = v355;
            }
          }
          (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A0LL))(a1);
          if ( (*(_DWORD *)(a2 + 0xC) & 0xFFA00000) != 0xFFA00000 )
          {
            *(_DWORD *)(a1 + 0x698) = *(_DWORD *)(a1 + 0x68C);
            *(_DWORD *)(a1 + 0x69C) = *(_DWORD *)(a1 + 0x690);
            *(_DWORD *)(a1 + 0x6A0) = *(_DWORD *)(a1 + 0x694);
          }
          if ( (*(_DWORD *)(a2 + 0x18) & 0xFFA00000) != 0xFFA00000 )
          {
            *(_DWORD *)(a1 + 0x6A4) = *(_DWORD *)(a1 + 0x680);
            *(_DWORD *)(a1 + 0x6A8) = *(_DWORD *)(a1 + 0x684);
            *(_DWORD *)(a1 + 0x6AC) = *(_DWORD *)(a1 + 0x688);
          }
          if ( (float)((float)((float)((float)(*(float *)(a1 + 0x694) * *(float *)(a1 + 0x694))
                                     + (float)(*(float *)(a1 + 0x68C) * *(float *)(a1 + 0x68C)))
                             + (float)(*(float *)(a1 + 0x690) * *(float *)(a1 + 0x690)))
                     + (float)((float)((float)(*(float *)(a1 + 0x688) * *(float *)(a1 + 0x688))
                                     + (float)(*(float *)(a1 + 0x680) * *(float *)(a1 + 0x680)))
                             + (float)(*(float *)(a1 + 0x684) * *(float *)(a1 + 0x684)))) <= 0.0 )
          {
            if ( *(double *)(a1 + 0x6B8) == 0.0 )
              (*(void (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 0, 0);
          }
          else
          {
            if ( !*(_DWORD *)(a1 + 0x4AC) )
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 0);
            *(_DWORD *)(a1 + 0x368) = 0;
          }
        }
      }
      v651 = __rdtsc();
      qword_149A05E08(&n0x2800_4);
      v7 = 1;
      goto LABEL_387;
    }
    if ( n3 != 9 )
    {
      if ( n3 == 6 && *(_DWORD *)(a1 + 0xF4) <= 6u )
      {
        n0x2800_5 = 0x2800;
        v655 = 0;
        v656 = 0;
        v658 = 0;
        v659 = 0;
        v660 = 0;
        v657 = 1;
        qword_149A05E00(&n0x2800_5, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        (*(void (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, *(unsigned int *)(a2 + 4), 1);
        if ( (*(_DWORD *)(a2 + 8) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x52C) = *(float *)(a2 + 8);
        v658 = __rdtsc();
        qword_149A05E08(&n0x2800_5);
        v7 = 1;
        goto LABEL_387;
      }
      if ( n3 == 0x14 )
      {
        n0x2800_6 = 0x2800;
        v662 = 0;
        v663 = 0;
        v665 = 0;
        v666 = 0;
        v667 = 0;
        v664 = 1;
        qword_149A05E00(&n0x2800_6, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v7 = CPhysicalEntity::Action(a1, a2, 1);
        v665 = __rdtsc();
        qword_149A05E08(&n0x2800_6);
        goto LABEL_387;
      }
      if ( n3 != 0x1C )
      {
        v7 = CPhysicalEntity::Action(a1, a2, 1);
        goto LABEL_387;
      }
      n0x2800_7 = 0x2800;
      v669 = 0;
      v670 = 0;
      v672 = 0;
      v673 = 0;
      v674 = 0;
      v671 = 1;
      qword_149A05E00(&n0x2800_7, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v402 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v402 )
        sub_1403DE750(a1 + 0xC8, v402, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockUpdate", 1);
      if ( *(double *)(a1 + 0x6B0) > 0.0 )
        goto LABEL_378;
      _XMM4 = *(unsigned int *)(a2 + 0x48);
      _XMM0 = *(_DWORD *)(a2 + 0x48) & 0xFFA00000;
      __asm
      {
        vpcmpeqd xmm3, xmm0, xmm1
        vblendvps xmm15, xmm4, xmm2, xmm3
      }
      v569 = *(float *)&_XMM15;
      if ( *(float *)&_XMM15 < 0.000001 )
      {
LABEL_378:
        v7 = 0;
      }
      else
      {
        v407 = *(float *)(a2 + 0x2C);
        v408 = 0xFFFFFFFF;
        if ( (LODWORD(v407) & 0xFFA00000) != 0xFFA00000 )
        {
          v409 = *(float *)(a2 + 0x24);
          v410 = *(float *)(a1 + 0x1D8);
          v411 = *(float *)(a2 + 0x20);
          v412 = *(float *)(a2 + 0x28);
          v413 = *(float *)(a1 + 0x1E4);
          v414 = *(float *)(a1 + 0x1DC);
          v415 = *(unsigned int *)(a1 + 0x1E0);
          v416 = (float)((float)(COERCE_FLOAT(LODWORD(v414) ^ 0x80000000) * v411) + (float)(v410 * v409))
               + (float)((float)(COERCE_FLOAT(v415 ^ 0x80000000) * v407) + (float)(v413 * v412));
          v417 = v415 ^ xmmword_1480D3750;
          LODWORD(v418) = COERCE_UNSIGNED_INT(
                            (float)((float)(v411 * v410) + (float)(v409 * v414))
                          + (float)((float)(v407 * v413) + (float)(v412 * *(float *)&v415)))
                        & 0x80000000
                        | 0x3F800000;
          *(float *)&v417 = (float)((float)((float)((float)(COERCE_FLOAT(v415 ^ 0x80000000) * v409)
                                                  - (float)(v412 * COERCE_FLOAT(LODWORD(v414) ^ 0x80000000)))
                                          - (float)(v410 * v407))
                                  + (float)(v413 * v411))
                          * v418;
          v419 = v417;
          v421 = (__m128)LODWORD(v418);
          v421.m128_f32[0] = v418
                           * (float)((float)((float)(v407 * COERCE_FLOAT(LODWORD(v414) ^ 0x80000000))
                                           - (float)((float)(COERCE_FLOAT(v415 ^ 0x80000000) * v411)
                                                   + (float)(v412 * v410)))
                                   + (float)(v413 * v409));
          v420 = v421;
          v423 = LODWORD(v418);
          *(float *)&v423 = v418 * v416;
          v422 = v418 * v416;
          if ( (float)((float)((float)(v420.m128_f32[0] * v420.m128_f32[0]) + (float)(*(float *)&v419 * *(float *)&v419))
                     + (float)(v422 * v422)) <= 0.000000090000007 )
          {
            *(_QWORD *)(a1 + 0x9F0) = 0;
            v445 = 0xFFFFFFFF;
            *(_QWORD *)(a1 + 0x9E8) = 0;
          }
          else
          {
            v424 = 1.0;
            *(float *)&v423 = (float)(*(float *)&v423 + *(float *)&v423) * (float)(1.0 / *(float *)&_XMM15);
            _XMM8 = v423;
            v426 = v419;
            *(float *)&v426 = (float)(*(float *)&v419 + *(float *)&v419) * (float)(1.0 / *(float *)&_XMM15);
            _XMM10 = v426;
            v428 = v420;
            v428.m128_f32[0] = (float)(v420.m128_f32[0] + v420.m128_f32[0]) * (float)(1.0 / *(float *)&_XMM15);
            _XMM9 = v428;
            *(float *)(a1 + 0x9F4) = *(float *)&_XMM15;
            v430 = *(float *)(a1 + 0x580);
            if ( (float)((float)((float)(*(float *)&_XMM10 * *(float *)&_XMM10)
                               + (float)(_XMM9.m128_f32[0] * _XMM9.m128_f32[0]))
                       + (float)(*(float *)&_XMM8 * *(float *)&_XMM8)) > (float)(v430 * v430) )
            {
              __asm
              {
                vminss  xmm0, xmm8, xmm2
                vmaxss  xmm8, xmm0, xmm3
                vminss  xmm0, xmm10, xmm2
                vminss  xmm1, xmm9, xmm2
                vmaxss  xmm9, xmm1, xmm3
                vmaxss  xmm10, xmm0, xmm3
              }
              v437 = _XMM10;
              v437.m128_f32[0] = (float)((float)(_XMM10.m128_f32[0] * _XMM10.m128_f32[0])
                                       + (float)(*(float *)&_XMM9 * *(float *)&_XMM9))
                               + (float)(*(float *)&_XMM8 * *(float *)&_XMM8);
              if ( v437.m128_f32[0] <= 9.9999997e-21 )
              {
                v441 = 0.0;
                v442 = 0.0;
              }
              else
              {
                _XMM0 = _mm_shuffle_ps(v437, v437, 0);
                __asm { vrsqrtps xmm3, xmm0 }
                _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                v440 = (float)(1.5
                             - (float)((float)((float)(v437.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                     * _XMM3.m128_f32[0];
                v441 = _XMM10.m128_f32[0] * v440;
                v442 = *(float *)&_XMM9 * v440;
                v424 = *(float *)&_XMM8 * v440;
              }
              v443 = v420;
              v443.m128_f32[0] = (float)((float)(v420.m128_f32[0] * v420.m128_f32[0])
                                       + (float)(*(float *)&v419 * *(float *)&v419))
                               + (float)(v422 * v422);
              v444 = _mm_sqrt_ps(_mm_shuffle_ps(v443, v443, 0));
              v444.m128_f32[0] = _mm_shuffle_ps(v444, v444, 0xFF).m128_f32[0];
              *(float *)(a1 + 0x9F4) = (float)(v444.m128_f32[0] + v444.m128_f32[0]) / v430;
              *(float *)&_XMM8 = v424 * v430;
              _XMM9.m128_f32[0] = v442 * v430;
              *(float *)&_XMM10 = v441 * v430;
            }
            *(float *)(a1 + 0x9E8) = *(float *)&_XMM10;
            *(float *)(a1 + 0x9EC) = _XMM9.m128_f32[0];
            *(float *)(a1 + 0x9F0) = *(float *)&_XMM8;
            v445 = *(_DWORD *)(a2 + 0x4C);
          }
          *(_DWORD *)(a1 + 0x9F8) = v445;
          v446 = *(unsigned int *)(a1 + 0x9E8);
          v447 = *(float *)(a1 + 0x9EC);
          v448 = *(unsigned int *)(a1 + 0x9F0);
          *(float *)(a1 + 0x680) = *(float *)&v446;
          *(float *)(a1 + 0x684) = v447;
          *(float *)(a1 + 0x688) = *(float *)&v448;
          v449 = *(float *)(a1 + 0x640);
          v450 = *(float *)(a1 + 0x64C);
          v451 = *(float *)(a1 + 0x648);
          v452 = *(float *)(a1 + 0x644);
          v453 = v446;
          v454 = (float)((float)(*(float *)&v448 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000))
                       - (float)(v447 * COERCE_FLOAT(LODWORD(v451) ^ 0x80000000)))
               + (float)(*(float *)&v446 * v450);
          *(float *)&v453 = (float)((float)(*(float *)&v446 * COERCE_FLOAT(LODWORD(v451) ^ 0x80000000))
                                  + (float)(*(float *)&v448 * v449))
                          + (float)(v447 * v450);
          v455 = v453;
          v456 = COERCE_FLOAT(LODWORD(v451) ^ 0x80000000) * *(float *)&v453;
          v457 = v448;
          *(float *)&v457 = (float)(*(float *)&v448 * v450)
                          - (float)((float)(*(float *)&v446 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000))
                                  + (float)(v447 * v449));
          v458 = v457;
          *(float *)&v457 = (float)((float)(*(float *)&v457 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000)) - v456)
                          + (float)(*(float *)&v446
                                  + (float)((float)(*(float *)&v457 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000)) - v456));
          v459 = v457;
          v460 = v458;
          *(float *)&v460 = (float)((float)(*(float *)&v458 * v449)
                                  + (float)(COERCE_FLOAT(LODWORD(v451) ^ 0x80000000) * v454))
                          + (float)(v447
                                  + (float)((float)(*(float *)&v458 * v449)
                                          + (float)(COERCE_FLOAT(LODWORD(v451) ^ 0x80000000) * v454)));
          v461 = v460;
          v462 = v455;
          *(float *)&v462 = *(float *)&v455 * v449;
          v463 = v462 ^ xmmword_1480D3750;
          *(float *)&v463 = (float)(*(float *)&v463 - (float)(v454 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000)))
                          + (float)(*(float *)&v448
                                  + (float)(*(float *)&v463 - (float)(v454 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000))));
          v464 = v463;
          *((_QWORD *)&v463 + 1) = *((_QWORD *)&v461 + 1);
          *(double *)&v463 = *(float *)&v461;
          v465 = v463;
          *((_QWORD *)&v463 + 1) = *((_QWORD *)&v464 + 1);
          *(double *)&v463 = *(float *)&v464 * *(double *)(a1 + 0x608);
          _XMM0 = v463;
          __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
          *((_QWORD *)&v463 + 1) = *((_QWORD *)&v465 + 1);
          *(double *)&v463 = *(double *)&v465 * *(double *)(a1 + 0x600);
          _XMM0 = v463;
          __asm { vcvtsd2ss xmm9, xmm0, xmm0 }
          *((_QWORD *)&v463 + 1) = *((_QWORD *)&v459 + 1);
          *(double *)&v463 = *(float *)&v459 * *(double *)(a1 + 0x5F8);
          _XMM2 = v463;
          __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
          v472 = (float)((float)(*(float *)&_XMM10 * v452) - (float)(*(float *)&_XMM9 * v451))
               + (float)(v450 * *(float *)&_XMM5);
          *(float *)&v459 = (float)((float)(*(float *)&_XMM5 * v451) - (float)(*(float *)&_XMM10 * v449))
                          + (float)(v450 * *(float *)&_XMM9);
          *(float *)&v464 = (float)((float)(*(float *)&_XMM9 * v449) - (float)(*(float *)&_XMM5 * v452))
                          + (float)(v450 * *(float *)&_XMM10);
          *(double *)(a1 + 0x678) = (float)((float)((float)(v449 * *(float *)&v459) - (float)(v452 * v472))
                                          + (float)(*(float *)&_XMM10
                                                  + (float)((float)(v449 * *(float *)&v459) - (float)(v452 * v472))));
          *(double *)(a1 + 0x668) = (float)((float)((float)(v452 * *(float *)&v464) - (float)(v451 * *(float *)&v459))
                                          + (float)(*(float *)&_XMM5
                                                  + (float)((float)(v452 * *(float *)&v464)
                                                          - (float)(v451 * *(float *)&v459))));
          *(double *)(a1 + 0x670) = (float)((float)((float)(v451 * v472) - (float)(v449 * *(float *)&v464))
                                          + (float)(*(float *)&_XMM9
                                                  + (float)((float)(v451 * v472) - (float)(v449 * *(float *)&v464))));
          v407 = *(float *)(a2 + 0x2C);
        }
        v473 = a2 + 8;
        v621 = *(double *)(a2 + 8);
        v474 = v621;
        v597 = v621;
        if ( (HIDWORD(v621) & 0xFFF40000) != 0xFFF40000
          || *(_DWORD *)(a2 + 0x50) && (LODWORD(v407) & 0xFFA00000) != 0xFFA00000 )
        {
          _XMM14 = *(_OWORD *)(a1 + 0x628);
          v476 = *(double *)(a1 + 0x638);
          v612 = _XMM14;
          v706 = v476;
          if ( (LODWORD(v407) & 0xFFA00000) == 0xFFA00000 )
          {
            LODWORD(_XMM11) = *(_DWORD *)(a1 + 0x1D8);
            LODWORD(_XMM4) = *(_DWORD *)(a1 + 0x1E4);
            LODWORD(_XMM10) = *(_DWORD *)(a1 + 0x1DC);
            LODWORD(_XMM12) = *(_DWORD *)(a1 + 0x1E0);
          }
          else
          {
            v481 = *(float *)(a1 + 0x9EC);
            v482 = *(float *)(a1 + 0x9F4);
            v483 = *(float *)(a1 + 0x1E4);
            v484 = *(float *)(a1 + 0x1D8);
            v485 = *(float *)(a1 + 0x1DC);
            v486 = *(float *)(a1 + 0x1E0);
            v683[0] = *(float *)(a1 + 0x9E8);
            v683[2] = *(float *)(a1 + 0x9F0);
            v683[1] = v481;
            v487 = v483;
            v488 = v484;
            v489 = v485;
            v490 = v486;
            v491 = (double *)sub_14675BD10((__int64)v708, v683, v482);
            v473 = a2 + 8;
            v492 = v491[3];
            v493 = v491[1];
            v494 = v491[2];
            v495 = COERCE_UNSIGNED_INT64(*v491 * v489 - v493 * v488 + v492 * v486 + v494 * v487);
            v496 = COERCE_UNSIGNED_INT64(v494 * v488 - *v491 * v486 + v492 * v489 + v493 * v487);
            v497 = COERCE_UNSIGNED_INT64(v493 * v486 - v494 * v489 + v492 * v488 + *v491 * v487);
            v498 = *v491 * v488;
            v474 = v597;
            _XMM14 = v612;
            v499 = v492 * v487 - (v493 * v489 + v498 + v494 * v490);
            _XMM2 = COERCE_UNSIGNED_INT64(
                      v499 * v499
                    + *(double *)&v497 * *(double *)&v497
                    + *(double *)&v496 * *(double *)&v496
                    + *(double *)&v495 * *(double *)&v495);
            __asm
            {
              vmovddup xmm3, xmm2
              vsqrtpd xmm0, xmm3
              vunpckhpd xmm0, xmm0, xmm0
            }
            v504 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0);
            *((_QWORD *)&v506 + 1) = *((_QWORD *)&v497 + 1);
            *(double *)&v506 = *(double *)&v497 * *(double *)&v504;
            _XMM0 = v506;
            *((_QWORD *)&v506 + 1) = *((_QWORD *)&v504 + 1);
            *(double *)&v506 = *(double *)&v504 * v499;
            _XMM1 = v506;
            __asm
            {
              vcvtsd2ss xmm11, xmm0, xmm0
              vcvtsd2ss xmm4, xmm1, xmm1
            }
            *((_QWORD *)&v506 + 1) = *((_QWORD *)&v496 + 1);
            *(double *)&v506 = *(double *)&v496 * *(double *)&v504;
            _XMM0 = v506;
            *((_QWORD *)&v506 + 1) = *((_QWORD *)&v495 + 1);
            *(double *)&v506 = *(double *)&v495 * *(double *)&v504;
            _XMM1 = v506;
            __asm
            {
              vcvtsd2ss xmm10, xmm0, xmm0
              vcvtsd2ss xmm12, xmm1, xmm1
            }
          }
          v510 = *(float *)(a1 + 0x6E0);
          v511 = *(float *)(a1 + 0x6DC);
          v512 = *(float *)(a1 + 0x6D8);
          v513 = (float)((float)(v510 * *(float *)&_XMM10) - (float)(*(float *)&_XMM12 * v511))
               + (float)(v512 * *(float *)&_XMM4);
          v514 = (float)((float)(*(float *)&_XMM12 * v512) - (float)(*(float *)&_XMM11 * v510))
               + (float)(v511 * *(float *)&_XMM4);
          v515 = (float)((float)(*(float *)&_XMM11 * v511) - (float)(v512 * *(float *)&_XMM10))
               + (float)(v510 * *(float *)&_XMM4);
          v516 = LODWORD(v512);
          *(float *)&v516 = (float)(v512 + (float)((float)(*(float *)&_XMM10 * v515) - (float)(*(float *)&_XMM12 * v514)))
                          + (float)((float)(*(float *)&_XMM10 * v515) - (float)(*(float *)&_XMM12 * v514));
          v517 = v516;
          v518 = (float)(v511 + (float)((float)(*(float *)&_XMM12 * v513) - (float)(*(float *)&_XMM11 * v515)))
               + (float)((float)(*(float *)&_XMM12 * v513) - (float)(*(float *)&_XMM11 * v515));
          v625 = v474;
          v519 = (float)(v510 + (float)((float)(*(float *)&_XMM11 * v514) - (float)(*(float *)&_XMM10 * v513)))
               + (float)((float)(*(float *)&_XMM11 * v514) - (float)(*(float *)&_XMM10 * v513));
          if ( (HIDWORD(v474) & 0xFFF40000) == 0xFFF40000 )
          {
            v473 = a1 + 0x1C0;
            v474 = *(double *)(a1 + 0x1C0);
          }
          v520 = *(_QWORD *)(a1 + 0x2C0);
          v521 = v519 + *(double *)(v473 + 0x10) - v706;
          __asm { vunpckhpd xmm0, xmm14, xmm14 }
          v523 = v518 + *(double *)(v473 + 8) - *(double *)&_XMM0;
          *((_QWORD *)&v524 + 1) = *((_QWORD *)&v517 + 1);
          v525 = *(float *)&v517 + v474 - *(double *)&_XMM14;
          *(double *)&v524 = v525 * v525 + v523 * v523 + v521 * v521;
          _XMM9 = v524;
          if ( *(double *)&v524 <= (float)(*(float *)(v520 + 0x13C) * *(float *)(v520 + 0x13C)) )
          {
            *(_QWORD *)(a1 + 0x9DC) = 0;
            *(_QWORD *)(a1 + 0x9D4) = 0;
          }
          else
          {
            v527 = 1.0 / v569;
            _XMM2 = COERCE_UNSIGNED_INT64(v527 * v523);
            _XMM0 = COERCE_UNSIGNED_INT64(v527 * v525);
            _XMM3 = COERCE_UNSIGNED_INT64(v527 * v521);
            __asm
            {
              vcvtsd2ss xmm4, xmm3, xmm3
              vcvtsd2ss xmm6, xmm0, xmm0
              vcvtsd2ss xmm7, xmm2, xmm2
            }
            *(float *)(a1 + 0x9E0) = v569;
            v534 = *(unsigned int *)(v520 + 0x2B4);
            v611 = *(float *)&_XMM4;
            if ( (float)((float)((float)(*(float *)&_XMM7 * *(float *)&_XMM7)
                               + (float)(*(float *)&_XMM6 * *(float *)&_XMM6))
                       + (float)(*(float *)&_XMM4 * *(float *)&_XMM4)) > (float)(*(float *)&v534 * *(float *)&v534) )
            {
              __asm
              {
                vminss  xmm0, xmm4, xmm2
                vmaxss  xmm8, xmm0, xmm3
                vminss  xmm0, xmm6, xmm2
                vminss  xmm1, xmm7, xmm2
                vmaxss  xmm7, xmm1, xmm3
              }
              v541 = _XMM7;
              __asm { vmaxss  xmm6, xmm0, xmm3 }
              v541.m128_f32[0] = (float)((float)(_XMM7.m128_f32[0] * _XMM7.m128_f32[0])
                                       + (float)(*(float *)&_XMM6 * *(float *)&_XMM6))
                               + (float)(*(float *)&_XMM8 * *(float *)&_XMM8);
              if ( v541.m128_f32[0] <= 9.9999997e-21 )
              {
                v546 = 1.0;
                v545 = 0.0;
              }
              else
              {
                _XMM0 = _mm_shuffle_ps(v541, v541, 0);
                __asm { vrsqrtps xmm3, xmm0 }
                _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                v544 = (float)(1.5
                             - (float)((float)((float)(v541.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                     * _XMM3.m128_f32[0];
                v545 = *(float *)&_XMM6 * v544;
                v546 = *(float *)&_XMM8 * v544;
              }
              *(float *)&_XMM4 = *(float *)&v534 * v546;
              v547 = v534;
              *(float *)&v547 = *(float *)&v534 * v545;
              _XMM6 = v547;
              __asm { vmovddup xmm0, xmm9 }
              __asm { vsqrtpd xmm2, xmm0 }
              __asm { vunpckhpd xmm2, xmm2, xmm2 }
              *((_QWORD *)&v547 + 1) = *((_QWORD *)&_XMM2 + 1);
              *(double *)&v547 = *(double *)&_XMM2 / *(float *)&v534;
              _XMM0 = v547;
              __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
              *(float *)(a1 + 0x9E0) = *(float *)&_XMM1;
              v611 = *(float *)&_XMM4;
            }
            __asm { vunpcklps xmm0, xmm6, xmm7 }
            *(double *)(a1 + 0x9D4) = *(double *)&_XMM0;
            *(float *)(a1 + 0x9DC) = *(float *)&_XMM4;
            v408 = *(_DWORD *)(a2 + 0x4C);
            v610 = *(double *)&_XMM0;
          }
          *(_DWORD *)(a1 + 0x9E4) = v408;
          v554 = *(float *)(a1 + 0x9D4);
          _XMM5 = *(unsigned __int64 *)(a1 + 0x6B0);
          *(float *)(a1 + 0x694) = *(float *)(a1 + 0x9DC);
          v557 = *(unsigned __int64 *)(a1 + 0x68C);
          *(float *)&v557 = v554;
          _XMM0 = v557;
          *(double *)(a1 + 0x68C) = *(double *)&v557;
          __asm { vinsertps xmm1, xmm0, dword ptr [rdi+9D8h], 10h }
          *(double *)(a1 + 0x68C) = *(double *)_XMM1.m128_u64;
          __asm { vcvtpd2ps xmm5, xmm5 }
          *(double *)&v612 = *(double *)_XMM1.m128_u64;
          *(double *)(a1 + 0x660) = (float)(*(float *)&_XMM5 * *(float *)(a1 + 0x694));
          *(double *)(a1 + 0x650) = (float)(*(float *)&_XMM5 * _XMM1.m128_f32[0]);
          *(double *)(a1 + 0x658) = (float)(*(float *)&_XMM5 * _mm_shuffle_ps(_XMM1, _XMM1, 0x55).m128_f32[0]);
        }
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A0LL))(a1);
        *(_QWORD *)&v612 = *(_QWORD *)(a2 + 8);
        if ( (DWORD1(v612) & 0xFFF40000) != 0xFFF40000 )
        {
          *(_DWORD *)(a1 + 0x698) = *(_DWORD *)(a1 + 0x68C);
          *(_DWORD *)(a1 + 0x69C) = *(_DWORD *)(a1 + 0x690);
          *(_DWORD *)(a1 + 0x6A0) = *(_DWORD *)(a1 + 0x694);
        }
        if ( (*(_DWORD *)(a2 + 0x2C) & 0xFFA00000) != 0xFFA00000 )
        {
          *(_DWORD *)(a1 + 0x6A4) = *(_DWORD *)(a1 + 0x680);
          *(_DWORD *)(a1 + 0x6A8) = *(_DWORD *)(a1 + 0x684);
          *(_DWORD *)(a1 + 0x6AC) = *(_DWORD *)(a1 + 0x688);
        }
        v7 = 1;
      }
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_2 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_2);
      }
      p_n0x2800 = &n0x2800_7;
      v672 = __rdtsc();
LABEL_383:
      qword_149A05E08(p_n0x2800);
      goto LABEL_384;
    }
    v357 = (volatile signed __int64 *)(a1 + 0xC8);
    v358 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v358 )
      sub_1403DE750(a1 + 0xC8, v358, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockUpdate", 1);
    v359 = 0;
    *(_OWORD *)v604.m256_f32 = 0;
    v360 = *(_DWORD *)(a2 + 8) & 0xFFA00000;
    v604.m256_f32[7] = NAN;
    v604.m256_f32[4] = 0.0;
    v604.m256_f32[5] = 0.0;
    if ( v360 != 0xFFA00000 )
    {
      _XMM2 = *(unsigned __int64 *)(a2 + 8);
      _XMM3 = *(unsigned int *)(a2 + 0x10);
      _XMM0 = _XMM2 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm6, xmm2, xmm7, xmm1
      }
      _XMM2 = (unsigned int)HIDWORD(*(_QWORD *)(a2 + 8));
      _XMM0 = _XMM2 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm4, xmm2, xmm7, xmm1
      }
      _XMM0 = _XMM3 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm5, xmm3, xmm7, xmm1
      }
      v359 = (float)((float)((float)(*(float *)&_XMM4 * *(float *)&_XMM4) + (float)(*(float *)&_XMM6 * *(float *)&_XMM6))
                   + (float)(*(float *)&_XMM5 * *(float *)&_XMM5)) > 0.0;
      v604.m256_f32[1] = *(float *)&_XMM4;
      v604.m256_f32[0] = *(float *)&_XMM6;
      v604.m256_f32[2] = *(float *)&_XMM5;
    }
    if ( (*(_DWORD *)(a2 + 0x14) & 0xFFA00000) != 0xFFA00000 )
    {
      _XMM2 = *(unsigned __int64 *)(a2 + 0x14);
      _XMM3 = *(unsigned int *)(a2 + 0x1C);
      _XMM0 = _XMM2 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm6, xmm2, xmm7, xmm1
      }
      _XMM2 = (unsigned int)HIDWORD(*(_QWORD *)(a2 + 0x14));
      _XMM0 = _XMM2 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm4, xmm2, xmm7, xmm1
      }
      _XMM0 = _XMM3 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm5, xmm3, xmm7, xmm1
      }
      if ( (float)((float)((float)(*(float *)&_XMM4 * *(float *)&_XMM4) + (float)(*(float *)&_XMM6 * *(float *)&_XMM6))
                 + (float)(*(float *)&_XMM5 * *(float *)&_XMM5)) > 0.0 )
        v359 = 1;
      v604.m256_f32[4] = *(float *)&_XMM4;
      v604.m256_f32[3] = *(float *)&_XMM6;
      v604.m256_f32[5] = *(float *)&_XMM5;
    }
    _XMM3 = *(unsigned int *)(a2 + 0x20);
    v386 = *(float *)(a2 + 4);
    _XMM0 = *(_DWORD *)(a2 + 0x20) & 0xFFA00000;
    __asm
    {
      vpcmpeqd xmm2, xmm0, xmm1
      vblendvps xmm0, xmm3, xmm10, xmm2
    }
    v604.m256_f32[6] = *(float *)&_XMM0;
    if ( LODWORD(v386) == 0x80000000
      || (v390 = *(_QWORD *)(a1 + 0x980), v391 = *(_QWORD *)(a1 + 0x988), v604.m256_f32[7] = v386, v390 == v391) )
    {
LABEL_309:
      if ( v359 )
      {
        v392 = *(__m256 **)(a1 + 0x988);
        if ( v392 == *(__m256 **)(a1 + 0x990) )
        {
          sub_140349020((const void **)(a1 + 0x980), v392, (__m256i *)&v604);
        }
        else
        {
          *v392 = v604;
          *(_QWORD *)(a1 + 0x988) += 0x20LL;
        }
LABEL_315:
        __asm { vzeroupper }
        (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 1);
        if ( (*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)a1 + 0x270LL))(a1, 0xFFFFFFFFLL) )
        {
          *(_QWORD *)&v597 = a1 + 0x8C8;
          v393 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
          if ( (v393 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0x8C8),
              v393,
              (__int64)"CRigidEntity::Action",
              (__int64)"m_lockContacts",
              1);
          n0x40 = 0;
          v395 = 1;
          n0x40_1 = 0;
          v396 = 0;
          v397 = 0;
          do
          {
            v398 = *(_QWORD *)(a1 + 0x500);
            if ( v395 > v398 )
              break;
            if ( (v395 & v398) != 0 && !*(_QWORD *)(v397 + *(_QWORD *)(a1 + 0x4F0)) )
            {
              v399 = *(_DWORD **)(*(_QWORD *)(a1 + 0x4E8) + v396 + 0x20);
              if ( v399 )
              {
                if ( v399[0x3D] < 7u )
                {
                  (*(void (__fastcall **)(_DWORD *, __int64, _QWORD))(*(_QWORD *)v399 + 0x268LL))(v399, 1, 0);
                  n0x40 = n0x40_1;
                }
              }
            }
            ++n0x40;
            v395 = __ROL8__(v395, 1);
            v397 += 0x100;
            n0x40_1 = n0x40;
            v396 += 0x108;
          }
          while ( n0x40 < 0x40 );
          v400 = _InterlockedDecrement64(*(volatile signed __int64 **)&v597);
          if ( (v400 & 0x3FF) == 0 && (v400 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0(*(volatile signed __int64 **)&v597, v400);
          v357 = (volatile signed __int64 *)(a1 + 0xC8);
        }
      }
    }
    else
    {
      while ( *(_DWORD *)(v390 + 0x1C) != LODWORD(v386) )
      {
        v390 += 0x20;
        if ( v390 == v391 )
          goto LABEL_309;
      }
      *(__m256 *)v390 = v604;
      if ( v359 )
        goto LABEL_315;
    }
    if ( v357 )
    {
      n0x200000_3 = _InterlockedCompareExchange64(v357, 0, 0x200000);
      if ( n0x200000_3 != 0x200000 )
      {
        __asm { vzeroupper }
        sub_1403DEBA0(v357, n0x200000_3);
      }
    }
    v7 = 1;
    goto LABEL_387;
  }
  v191 = *(_DWORD *)(a2 + 0xC);
  v567 = 0xFFFFFFFF;
  if ( (v191 & 0x80000) == 0 )
  {
    v567 = 0xFDFFFFFF;
    *(_DWORD *)(a2 + 0xC) = v191 | 0x80000;
  }
  v192 = *(_DWORD *)(a2 + 8);
  n0x2000000 = 0;
  if ( (v192 & 0x80000) != 0 )
  {
    n0x2000000 = 0x2000000;
    *(_DWORD *)(a2 + 8) = v192 & 0xFFF7FFFF;
  }
  *(_QWORD *)&v597 = a1 + 0xC8;
  v193 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
  if ( v193 )
    sub_1403DE750(a1 + 0xC8, v193, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockUpdate", 1);
  if ( *(_DWORD *)(a2 + 4) == 0x80000000 )
  {
    if ( *(_QWORD *)(a1 + 0x500)
      && !*(_DWORD *)(a2 + 0x9C)
      && (*(_BYTE *)(a1 + 0x208) & 0x20) == 0
      && *(int *)(a1 + 0xE8) >= 0 )
    {
      (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 0);
    }
    if ( *(_DWORD *)(a2 + 0x10) )
    {
      v194 = *(_DWORD *)(a1 + 0x148) - 1;
      for ( i = v194; i >= 0; --i )
      {
        v196 = *(_QWORD *)(a1 + 0x4C8);
        v197 = *(_QWORD *)(v196 + 8 * i);
        if ( v197 )
        {
          *(_QWORD *)(a1 + 0x500) &= ~v197;
          *(_QWORD *)(v196 + 8 * i) = 0;
          if ( !*(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8 * i) )
          {
            v198 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * i);
            if ( !(*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)v198 + 0x240LL))(v198, a1) )
            {
              v199 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * i);
              if ( v199 )
                CRigidEntity::RemoveColliderInternal(a1, v199, 1, 1, 0);
            }
          }
          if ( !*(_DWORD *)(a2 + 0x9C) )
          {
            v200 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * i);
            if ( (*(_BYTE *)(v200 + 0x208) & 0x20) == 0 && *(int *)(v200 + 0xE8) >= 0 )
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v200 + 0x268LL))(v200, 1, 0);
          }
        }
      }
      (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x388LL))(a1);
      v7 = 1;
    }
    else
    {
      n0x3F = 0x3F;
      n0x3F_1 = 0x3F;
      n0x3F00 = 0x3F00;
      v203 = 0x8000000000000000uLL;
      n0x40F8 = 0x40F8;
      do
      {
        if ( (v203 & *(_QWORD *)(a1 + 0x500)) != 0 )
        {
          *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00 + 0x68) = *(_DWORD *)(a2 + 8)
                                                                | *(_DWORD *)(a2 + 0xC)
                                                                & *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00 + 0x68);
          *(_DWORD *)(n0x40F8 + *(_QWORD *)(a1 + 0x4E8) + 0x94) = n0x2000000
                                                                | *(_DWORD *)(n0x40F8 + *(_QWORD *)(a1 + 0x4E8) + 0x94)
                                                                & v567;
          if ( !*(_DWORD *)(a2 + 0x9C) )
          {
            v205 = *(_QWORD *)(n0x40F8 + *(_QWORD *)(a1 + 0x4E8) + 0x20);
            if ( (*(_BYTE *)(v205 + 0x208) & 0x20) == 0 && *(int *)(v205 + 0xE8) >= 0 )
            {
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v205 + 0x268LL))(v205, 1, 0);
              n0x3F = n0x3F_1;
            }
          }
        }
        --n0x3F;
        v203 = __ROR8__(v203, 1);
        n0x3F00 -= 0x100;
        n0x3F_1 = n0x3F;
        n0x40F8 -= 0x108;
      }
      while ( n0x3F >= 0 );
      v3 = 0;
      v7 = 1;
    }
    goto LABEL_268;
  }
  v578 = 0;
  n0x40F8_1 = 0x40F8;
  n0x3F_2 = 0x3F;
  n0x3F_3 = 0x3F;
  v207 = 0x8000000000000000uLL;
  n0x81F = 0x81F;
  v587 = 0x8000000000000000uLL;
  n0x2B5 = 0x2B5;
  n0x81F_1 = 0x81F;
  n0x3F_4 = 0x3F;
  *(_QWORD *)&v600 = 0x3F0;
  n0x4118 = 0x4118;
  n0x2B5_1 = 0x2B5;
  n0x3F00_1 = 0x3F00;
  n0x40F8_2 = 0x40F8;
  n0x4118_1 = 0x4118;
  n0x40F8_3 = 0x40F8;
  n0x3F0 = 0x3F0;
  n0x3F_5 = 0x3F;
  do
  {
    if ( (v207 & *(_QWORD *)(a1 + 0x500)) == 0 )
      goto LABEL_264;
    v216 = *(_QWORD *)(a1 + 0x4F0);
    if ( *(_DWORD *)(n0x3F00_1 + v216 + 8) != *(_DWORD *)(a2 + 4) )
    {
      n0x40F8_3 = n0x40F8_2;
      goto LABEL_263;
    }
    v217 = (float *)(a2 + 0x4C);
    v218 = (double *)(a2 + 0x18);
    n2_1 = 0;
    *(_DWORD *)(n0x3F00_1 + v216 + 0x68) = *(_DWORD *)(a2 + 8)
                                         | *(_DWORD *)(a2 + 0xC) & *(_DWORD *)(n0x3F00_1 + v216 + 0x68);
    n2_2 = 0;
    v565 = (float *)(a2 + 0x4C);
    *(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) = n0x2000000
                                                            | *(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94)
                                                            & v567;
    v624 = 0x18 - a2;
    do
    {
      v220 = *v218;
      v609 = *v218;
      if ( (HIDWORD(v609) & 0xFFF40000) != 0xFFF40000 )
      {
        if ( (*(_BYTE *)(a2 + 0x98) & 2) != 0 )
        {
          v221 = v218[2];
          v700 = *(_OWORD *)v218;
          v701 = v221;
          v222 = (double *)&v700;
        }
        else
        {
          v223 = v218[2];
          v224 = v218[1];
          v225 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * (v3 + n0x81F) + 0x18);
          v226 = *(float *)(v225 + 0x1E0);
          v227 = *(float *)(v225 + 0x1E4);
          v228 = *(float *)(v225 + 0x1DC);
          v229 = *(float *)(v225 + 0x1D8);
          v230 = v228 * v223 - v226 * v224 + v227 * v220;
          v231 = v226 * v220 - v229 * v223 + v227 * v224;
          v232 = v229 * v224 - v228 * v220 + v227 * v223;
          v233 = v232 * v228 - v231 * v226;
          v234 = v230 * v226 - v232 * v229;
          v235 = v223 + *(double *)(v225 + 0x1D0) + v231 * v229 - v230 * v228 + v231 * v229 - v230 * v228;
          v236 = v224 + *(double *)(v225 + 0x1C8) + v234 + v234;
          v682[0] = v233 + v233 + v220 + *(double *)(v225 + 0x1C0);
          v682[1] = v236;
          v682[2] = v235;
          v222 = v682;
        }
        v237 = v222[2];
        v238 = 3 * (v3 + n0x2B5);
        v239 = *(_QWORD *)(a1 + 0x4E8);
        *(_OWORD *)(v239 + 8 * v238 + 0x40) = *(_OWORD *)v222;
        *(double *)(v239 + 8 * v238 + 0x50) = v237;
        v240 = sub_1467C3B90(v707, *(_QWORD *)(a1 + 0x4E8) + n0x40F8_2, (unsigned int)n2_1);
        v217 = v565;
        n2_1 = n2_2;
        n0x81F = n0x81F_1;
        v241 = *(_OWORD *)v240;
        v242 = *(double *)(v240 + 0x10);
        n0x2B5 = n0x2B5_1;
        v243 = v624 + n0x3F00_1 + *(_QWORD *)(a1 + 0x4F0);
        *(_OWORD *)((char *)v218 + v243) = v241;
        *(double *)((char *)v218 + v243 + 0x10) = v242;
      }
      v244 = v217[2];
      if ( (LODWORD(v244) & 0xFFA00000) != 0xFFA00000 )
      {
        v245 = v217[0xFFFFFFFF];
        v246 = *v217;
        v247 = v217[1];
        if ( (*(_BYTE *)(a2 + 0x98) & 1) != 0 )
        {
          v248 = *(float **)(*(_QWORD *)(a1 + 0x4E8) + 8 * (v3 + n0x81F) + 0x18);
          v249 = v248[0x76];
          v250 = v248[0x77];
          v251 = v248[0x79];
          v252 = v248[0x78];
          v253 = (float)((float)((float)(v246 * v249) - (float)(v245 * v250)) + (float)(v247 * v251))
               + (float)(v244 * v252);
          v254 = (float)((float)((float)(v245 * v252) - (float)(v247 * v249)) + (float)(v246 * v251))
               + (float)(v244 * v250);
          v255 = (float)(v246 * v250) + (float)(v245 * v249);
          v245 = (float)((float)((float)(v247 * v250) - (float)(v246 * v252)) + (float)(v245 * v251))
               + (float)(v244 * v249);
          v244 = (float)(v244 * v251) - (float)(v255 + (float)(v247 * v252));
          v246 = v254;
          v247 = v253;
        }
        v256 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * (v3 + n0x81F) + 0x28);
        v257 = *(_QWORD *)(a1 + 0x4F0);
        v258 = *(float *)(v256 + 0x90);
        v259 = *(float *)(v256 + 0x9C);
        LODWORD(v260) = *(_DWORD *)(v256 + 0x94) ^ 0x80000000;
        LODWORD(v261) = *(_DWORD *)(v256 + 0x98) ^ 0x80000000;
        v262 = 2 * (v3 + *(_QWORD *)&v600);
        v263 = (float)((float)(v247 * v259) - (float)((float)(v245 * v260) + (float)(v246 * v258)))
             + (float)(v244 * v261);
        *(float *)(v257 + 8 * v262 + 0x14) = v263;
        v264 = (float)((float)(v245 * v261) + (float)(v247 * v258))
             + (float)((float)(v244 * v260) + (float)(v246 * v259));
        *(float *)(v257 + 8 * v262 + 0x10) = v264;
        v265 = (float)((float)((float)(v247 * v260) - (float)(v246 * v261)) + (float)(v245 * v259))
             - (float)(v244 * v258);
        *(float *)(v257 + 8 * v262 + 0xC) = v265;
        v266 = (float)(v244 * v259)
             - (float)((float)((float)(v246 * v260) - (float)(v245 * v258)) + (float)(v247 * v261));
        *(float *)(v257 + 8 * v262 + 0x18) = v266;
        v267 = *(_QWORD *)(a1 + 0x4E8);
        if ( n2_1 == ((COERCE_UNSIGNED_INT64(
                         *(double *)(*(_QWORD *)(n0x40F8_1 + v267 + 0x30) + 0x108LL)
                       - *(double *)(*(_QWORD *)(n0x40F8_1 + v267 + 0x28) + 0x108LL)) >> 0x3F)
                    & ((*(_DWORD *)(*(_QWORD *)(n0x40F8_1 + v267 + 0x20) + 0xF4LL) - 3) >> 0x1F)
                    & (unsigned int)~(*(_DWORD *)(*(_QWORD *)(n0x40F8_1 + v267 + 0x20) + 0xF0LL) >> 0x1F)) )
        {
          *(float *)(n0x40F8_1 + v267 + 0x84) = (float)((float)((float)(COERCE_FLOAT(LODWORD(v264) ^ 0x80000000) * v264)
                                                              - (float)(v263 * v263))
                                                      + 1.0)
                                              + (float)((float)(COERCE_FLOAT(LODWORD(v264) ^ 0x80000000) * v264)
                                                      - (float)(v263 * v263));
          *(float *)(n0x40F8_1 + v267 + 0x88) = (float)((float)(v266 * v263)
                                                      - (float)(COERCE_FLOAT(LODWORD(v264) ^ 0x80000000) * v265))
                                              + (float)((float)(v266 * v263)
                                                      - (float)(COERCE_FLOAT(LODWORD(v264) ^ 0x80000000) * v265));
          *(float *)(n0x40F8_1 + v267 + 0x8C) = (float)((float)(v263 * v265) - (float)(v266 * v264))
                                              + (float)((float)(v263 * v265) - (float)(v266 * v264));
        }
      }
      n0x81F = n0x81F_1;
      ++n2_1;
      v217 += 4;
      n2_2 = n2_1;
      ++v3;
      v565 = v217;
      v218 += 3;
    }
    while ( n2_1 < 2 );
    v3 = 0;
    if ( (*(_DWORD *)(a2 + 0x78) & 0xFFA00000) != 0xFFA00000 )
    {
      v268 = *(_QWORD *)(a1 + 0x4E8);
      *(double *)(v268 + n0x40F8_1 + 0x9C) = *(double *)(a2 + 0x78);
      *(_DWORD *)(v268 + n0x40F8_1 + 0xA4) = *(_DWORD *)(a2 + 0x80);
    }
    if ( (*(_DWORD *)(a2 + 0x90) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) == 0 )
    {
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x9C) = *(float *)(a2 + 0x90);
    }
    v269 = *(float *)(a2 + 0x84);
    if ( (LODWORD(v269) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) != 0 )
    {
      v270 = *(_QWORD *)(a1 + 0x4F0);
      if ( (*(_DWORD *)(v270 + n0x3F00_1 + 0x68) & 0x3800000) != 0 )
      {
        v271 = *(float *)(a2 + 0x8C);
        v272 = *(float *)(v270 + n0x3F00_1 + 0x10);
        v273 = *(float *)(a2 + 0x88);
        v274 = *(float *)(v270 + n0x3F00_1 + 0x14);
        v275 = *(float *)(v270 + n0x3F00_1 + 0x18);
        v276 = *(float *)(v270 + n0x3F00_1 + 0xC);
        v277 = (float)((float)(v272 * v271) - (float)(v274 * v273)) + (float)(v275 * v269);
        v278 = (float)((float)(v274 * v269) - (float)(v271 * v276)) + (float)(v275 * v273);
        v279 = (float)((float)(v273 * v276) - (float)(v272 * v269)) + (float)(v275 * v271);
        *(float *)(v270 + n0x3F00_1 + 0xA8) = (float)((float)((float)(v279 * v272) - (float)(v278 * v274)) + v269)
                                            + (float)((float)(v279 * v272) - (float)(v278 * v274));
        *(float *)(v270 + n0x3F00_1 + 0xAC) = (float)((float)((float)(v274 * v277) - (float)(v279 * v276)) + v273)
                                            + (float)((float)(v274 * v277) - (float)(v279 * v276));
        *(float *)(v270 + n0x3F00_1 + 0xB0) = (float)((float)((float)(v278 * v276) - (float)(v277 * v272)) + v271)
                                            + (float)((float)(v278 * v276) - (float)(v277 * v272));
      }
    }
    if ( (*(_DWORD *)(a2 + 0x94) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) != 0 )
    {
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x9C) = *(float *)(a2 + 0x94);
    }
    if ( (*(_DWORD *)(a2 + 0x68) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) == 0 )
    {
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x98) = *(float *)(a2 + 0x68);
    }
    if ( (*(_DWORD *)(a2 + 0x6C) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0xD00) == 0x100 )
    {
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x98) = *(float *)(a2 + 0x6C);
    }
    if ( (*(_DWORD *)(a2 + 0x74) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0xA0) = *(float *)(a2 + 0x74);
    if ( (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x6C) = *(float *)(a2 + 0x70);
    if ( !*(_DWORD *)(a2 + 0x9C) )
    {
      v280 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x4118_1 - 8);
      if ( (*(_BYTE *)(v280 + 0x208) & 0x20) == 0 && *(int *)(v280 + 0xE8) >= 0 )
        (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v280 + 0x268LL))(v280, 1);
      v281 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x4118_1);
      if ( (*(_BYTE *)(v281 + 0x208) & 0x20) == 0 && *(int *)(v281 + 0xE8) >= 0 )
        (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v281 + 0x268LL))(v281, 1);
    }
    if ( *(_DWORD *)(a2 + 0x10) )
    {
      v282 = *(unsigned int *)(a1 + 0x148);
      v283 = 0;
      v284 = 0;
      if ( (int)v282 > 0 )
      {
        n0x81F = n0x3F_2;
        v285 = *(__int64 **)(a1 + 0x4C8);
        do
        {
          v286 = *v285;
          if ( _bittest64(&v286, n0x3F_2) )
            break;
          ++v283;
          ++v284;
          ++v285;
        }
        while ( v283 < (int)v282 );
      }
      if ( v283 == (_DWORD)v282 )
      {
        v287 = 0;
      }
      else
      {
        n0x3F_6 = n0x3F_3;
        v289 = *(_QWORD *)(a1 + 0x4C8);
        *(_QWORD *)(a1 + 0x500) &= ~(1LL << n0x3F_3);
        v290 = *(_QWORD *)(v289 + 8 * v284) & ~(1LL << n0x3F_6);
        *(_QWORD *)(v289 + 8 * v284) = v290;
        if ( !v290 && !*(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8 * v284) )
        {
          v291 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * v284);
          if ( !(*(unsigned int (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)v291 + 0x240LL))(
                  v291,
                  a1,
                  v282,
                  n0x81F) )
          {
            v292 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * v284);
            if ( v292 )
              CRigidEntity::RemoveColliderInternal(a1, v292, 1, 1, 0);
          }
        }
        v293 = *(_DWORD **)(n0x3F00_1 + *(_QWORD *)(a1 + 0x4F0));
        if ( v293 && v293[0x3D] < 7u )
          (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v293 + 0x268LL))(v293, 1);
        v287 = 1;
      }
      v578 += v287;
    }
    if ( (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) != 0 )
    {
      if ( (*(_DWORD *)(a2 + 0xB8) & 0xFFA00000) != 0xFFA00000 )
      {
        v294 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v294 + n0x3F00_1 + 0xCC) = *(double *)(a2 + 0xB8);
        *(_DWORD *)(v294 + n0x3F00_1 + 0xD4) = *(_DWORD *)(a2 + 0xC0);
      }
      if ( (*(_DWORD *)(a2 + 0xC4) & 0xFFA00000) != 0xFFA00000 )
      {
        v295 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v295 + n0x3F00_1 + 0xD8) = *(double *)(a2 + 0xC4);
        *(_DWORD *)(v295 + n0x3F00_1 + 0xE0) = *(_DWORD *)(a2 + 0xCC);
      }
      n0x81F = n0x81F_1;
      n0x2B5 = n0x2B5_1;
      n0x40F8_3 = n0x40F8_2;
      *(double *)&n0x3F0 = v600;
      n0x4118 = n0x4118_1;
      n0x3F_5 = n0x3F_3;
      if ( (*(_DWORD *)(a2 + 0xE8) & 0xFFA00000) != 0xFFA00000 )
      {
        v296 = *(_QWORD *)(a1 + 0x4F0);
        *(_DWORD *)(v296 + n0x3F00_1 + 0xF0) = *(_DWORD *)(a2 + 0xDC);
        *(_DWORD *)(v296 + n0x3F00_1 + 0xF4) = *(_DWORD *)(a2 + 0xE0);
        *(_DWORD *)(v296 + n0x3F00_1 + 0xF8) = *(_DWORD *)(a2 + 0xE4);
        *(_DWORD *)(v296 + n0x3F00_1 + 0xFC) = *(_DWORD *)(a2 + 0xE8);
      }
    }
    else
    {
      if ( (*(_DWORD *)(a2 + 0xA0) & 0xFFA00000) != 0xFFA00000 )
      {
        v297 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v297 + n0x3F00_1 + 0xB4) = *(double *)(a2 + 0xA0);
        *(_DWORD *)(v297 + n0x3F00_1 + 0xBC) = *(_DWORD *)(a2 + 0xA8);
      }
      if ( (*(_DWORD *)(a2 + 0xAC) & 0xFFA00000) != 0xFFA00000 )
      {
        v298 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v298 + n0x3F00_1 + 0xC0) = *(double *)(a2 + 0xAC);
        *(_DWORD *)(v298 + n0x3F00_1 + 0xC8) = *(_DWORD *)(a2 + 0xB4);
      }
      n0x81F = n0x81F_1;
      n0x2B5 = n0x2B5_1;
      n0x40F8_3 = n0x40F8_2;
      *(double *)&n0x3F0 = v600;
      n0x4118 = n0x4118_1;
      n0x3F_5 = n0x3F_3;
      if ( (*(_DWORD *)(a2 + 0xD0) & 0xFFA00000) != 0xFFA00000 )
      {
        v299 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v299 + n0x3F00_1 + 0xE4) = *(double *)(a2 + 0xD0);
        *(_DWORD *)(v299 + n0x3F00_1 + 0xEC) = *(_DWORD *)(a2 + 0xD8);
        v207 = v587;
        goto LABEL_263;
      }
    }
    v207 = v587;
LABEL_263:
    n0x3F_4 = n0x3F_2;
LABEL_264:
    --n0x3F_4;
    v207 = __ROR8__(v207, 1);
    --n0x3F_5;
    n0x3F_2 = n0x3F_4;
    n0x40F8_3 -= 0x108;
    n0x3F_3 = n0x3F_5;
    n0x2B5 -= 0xB;
    n0x40F8_2 = n0x40F8_3;
    n0x3F0 -= 0x10;
    v587 = v207;
    n0x81F -= 0x21;
    n0x2B5_1 = n0x2B5;
    n0x4118 -= 0x108;
    v600 = *(double *)&n0x3F0;
    n0x40F8_1 -= 0x108;
    n0x81F_1 = n0x81F;
    n0x3F00_1 -= 0x100;
    n0x4118_1 = n0x4118;
  }
  while ( n0x3F_4 >= 0 );
  if ( *(_DWORD *)(a2 + 0x10) )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x388LL))(a1);
  v7 = v578;
LABEL_268:
  if ( v597 != 0.0 )
  {
    n0x200000_4 = _InterlockedCompareExchange64(*(volatile signed __int64 **)&v597, 0, 0x200000);
    if ( n0x200000_4 != 0x200000 )
      sub_1403DEBA0(*(volatile signed __int64 **)&v597, n0x200000_4);
  }
LABEL_384:
  if ( !v704 )
  {
LABEL_387:
    if ( *(_DWORD *)v703 == 0x1B )
    {
      v561 = *(_QWORD *)(v703 + 8);
      v562 = HIWORD(v561);
      v563 = v561 & 0xFFFFFFFFFFFFLL;
      if ( (_WORD)v562 == *(_WORD *)(v563 + 0x40) )
        v3 = v563;
      if ( !*(_DWORD *)(v3 + 0x20) )
        _InterlockedIncrement((volatile signed __int32 *)(v3 + 0x20));
    }
  }
LABEL_392:
  v679 = __rdtsc();
  __asm { vzeroupper }
  qword_149A05E08(&n0x2800);
  return v7;
}

// --- End Function: CRigidEntity::Action (0x14676F930) ---

// --- Function: sub_14677F240 (0x14677F240) ---
void __fastcall sub_14677F240(__int64 a1, int value_by_id_3, __int64 value_by_id, Parameter **p_Parameter)
{
  __int64 value_by_id_2; // rbx
  __int64 value_by_id_1; // r15
  __int64 v8; // rbp
  __int64 v9; // rdi
  __int64 v10; // rcx
  float v11; // xmm14_4
  float v12; // xmm15_4
  __int64 v13; // rdx
  float v14; // xmm11_4
  float v15; // xmm9_4
  float v16; // xmm7_4
  float *v17; // rax
  float v18; // xmm4_4
  float v19; // xmm13_4
  float v20; // xmm10_4
  float v21; // xmm12_4
  float v22; // xmm8_4
  float v23; // xmm6_4
  float v24; // xmm4_4
  float v25; // xmm5_4
  float v26; // xmm0_4
  float v27; // xmm11_4
  float v28; // xmm4_4
  float v29; // xmm2_4
  float v30; // xmm13_4
  float v31; // xmm8_4
  float v32; // xmm9_4
  float v33; // xmm10_4
  float v34; // xmm7_4
  float v35; // xmm6_4
  float v36; // xmm4_4
  float v37; // xmm8_4
  float v38; // xmm4_4
  float v39; // xmm5_4
  float v40; // xmm6_4
  float v41; // xmm7_4
  float *v42; // rax
  float v43; // xmm12_4
  float v44; // xmm11_4
  float v45; // xmm10_4
  float v46; // xmm0_4
  float v47; // xmm5_4
  float v48; // kr00_4
  float v49; // xmm0_4
  float v50; // xmm8_4
  float v51; // xmm7_4
  float v52; // xmm1_4
  float v53; // xmm6_4
  __int64 v54; // rax
  float v55; // xmm9_4
  float v56; // xmm6_4
  float v57; // xmm0_4
  __int64 v58; // rax
  float v59; // xmm5_4
  float v60; // xmm4_4
  __m128 v61; // kr00_16
  float v62; // xmm1_4
  float v63; // xmm0_4
  float v64; // kr00_4
  float v65; // xmm2_4
  float v66; // kr00_4
  float v67[4]; // [rsp+40h] [rbp-118h] BYREF
  float v68[8]; // [rsp+50h] [rbp-108h] BYREF
  float v69[4]; // [rsp+70h] [rbp-E8h] BYREF
  double v70[4]; // [rsp+80h] [rbp-D8h] BYREF
  float v71; // [rsp+168h] [rbp+10h]

  value_by_id_2 = value_by_id_3;
  value_by_id_1 = (int)value_by_id;
  if ( value_by_id_3 < (__int64)(int)value_by_id )
  {
    v8 = 0x18LL * value_by_id_3;
    v9 = 0x20LL * value_by_id_3;
    do
    {
      if ( (*(_DWORD *)(*(_QWORD *)(a1 + 0x240) + 8 * value_by_id_2) & 0x40000) == 0 )
      {
        v10 = *(_QWORD *)(a1 + 0x230);
        v11 = *(float *)(a1 + 0x1DC);
        v12 = *(float *)(a1 + 0x1E4);
        v13 = *(_QWORD *)(a1 + 0x238);
        v14 = *(float *)(v9 + v10 + 4);
        v15 = *(float *)(v9 + v10 + 8);
        v16 = *(float *)(v9 + v10);
        v17 = *(float **)(v13 + 8 * value_by_id_2);
        v18 = *(float *)(v9 + v10 + 0xC);
        v19 = v17[0xF];
        v20 = v17[0xD];
        v21 = v17[0xE];
        v71 = (float)(*(float *)(v9 + v10 + 0x1C) * v17[0x10])
            * (float)(*(float *)(v9 + v10 + 0x1C) * *(float *)(v9 + v10 + 0x1C));
        v22 = (float)((float)(v14 * v19) - (float)(v15 * v21)) + (float)(v18 * v20);
        v23 = (float)((float)(v15 * v20) - (float)(v16 * v19)) + (float)(v18 * v21);
        v24 = (float)((float)(v16 * v21) - (float)(v14 * v20)) + (float)(v18 * v19);
        v25 = (float)(v14 * v24) - (float)(v15 * v23);
        v26 = v14 * v22;
        v27 = *(float *)(a1 + 0x1E0);
        v28 = (float)(v15 * v22) - (float)(v16 * v24);
        v29 = v19 + *(float *)(v9 + v10 + 0x18);
        v30 = *(float *)(a1 + 0x1D8);
        v31 = (float)(v25 + v25) + (float)(v20 + *(float *)(v9 + v10 + 0x10));
        v32 = (float)(v21 + *(float *)(v9 + v10 + 0x14)) + (float)(v28 + v28);
        v33 = v29 + (float)((float)((float)(v16 * v23) - v26) + (float)((float)(v16 * v23) - v26));
        v34 = (float)((float)(v33 * v11) - (float)(v32 * v27)) + (float)(v31 * v12);
        v35 = (float)((float)(v31 * v27) - (float)(v33 * v30)) + (float)(v32 * v12);
        v36 = (float)((float)(v32 * v30) - (float)(v31 * v11)) + (float)(v33 * v12);
        v70[0] = (float)((float)(v31 + (float)((float)(v36 * v11) - (float)(v35 * v27)))
                       + (float)((float)(v36 * v11) - (float)(v35 * v27)))
               + *(double *)(a1 + 0x1C0);
        v37 = *(float *)(a1 + 0x1E0);
        v70[1] = (float)((float)(v32 + (float)((float)(v34 * v27) - (float)(v36 * v30)))
                       + (float)((float)(v34 * v27) - (float)(v36 * v30)))
               + *(double *)(a1 + 0x1C8);
        v70[2] = (float)((float)(v33 + (float)((float)(v35 * v30) - (float)(v34 * v11)))
                       + (float)((float)(v35 * v30) - (float)(v34 * v11)))
               + *(double *)(a1 + 0x1D0);
        v38 = *(float *)(v9 + v10 + 4);
        v39 = *(float *)(v9 + v10);
        v40 = *(float *)(v9 + v10 + 8);
        v41 = *(float *)(v9 + v10 + 0xC);
        v42 = *(float **)(v13 + 8 * value_by_id_2);
        v43 = (float)(v41 * v12) - (float)((float)((float)(v39 * v30) + (float)(v38 * v11)) + (float)(v40 * v27));
        v44 = (float)((float)((float)(v40 * v11) - (float)(v38 * v27)) + (float)(v39 * v12)) + (float)(v41 * v30);
        v45 = (float)((float)((float)(v39 * v37) - (float)(v40 * v30)) + (float)(v38 * v12)) + (float)(v41 * v11);
        v46 = v39 * v11;
        v47 = v42[9];
        v48 = (float)(v38 * v30) - v46;
        v49 = v41 * v37;
        v50 = v42[0xA];
        v51 = v42[0xC];
        v52 = v40 * v12;
        v53 = v42[0xB];
        v54 = *(_QWORD *)(a1 + 0x258);
        v55 = (float)(v48 + v52) + v49;
        v69[3] = (float)(v43 * v51) - (float)((float)((float)(v45 * v50) + (float)(v44 * v47)) + (float)(v55 * v53));
        v69[0] = (float)((float)((float)(v45 * v53) - (float)(v50 * v55)) + (float)(v43 * v47)) + (float)(v51 * v44);
        v69[1] = (float)((float)((float)(v55 * v47) - (float)(v44 * v53)) + (float)(v43 * v50)) + (float)(v45 * v51);
        v69[2] = (float)((float)((float)(v44 * v50) - (float)(v45 * v47)) + (float)(v43 * v53)) + (float)(v55 * v51);
        v56 = *(float *)(v54 + v8);
        if ( v56 > 0.0 )
        {
          v57 = *(float *)(v9 + v10 + 0x1C);
          v58 = *(_QWORD *)(v13 + 8 * value_by_id_2);
          v59 = v57 * v57;
          v60 = (float)(v57 * v57) * v57;
          v61 = (__m128)*(unsigned __int64 *)(v58 + 0x18);
          v62 = (float)(v61.m128_f32[0] * (float)(v57 * v57)) * v60;
          v64 = _mm_shuffle_ps(v61, v61, 0x55).m128_f32[0] * (float)(v57 * v57);
          v63 = v64;
          if ( *((double *)p_Parameter + 0x20) == 0.0 )
          {
            v65 = *(float *)(v58 + 0x20);
            v67[0] = v62;
            v67[1] = v64 * v60;
            v67[2] = (float)(v65 * v59) * v60;
            sub_14671A7D0((__int64)p_Parameter, (__int64)v70, v67, v69, v71, v56, v69, v70);
          }
          else
          {
            v68[0] = v62;
            v66 = v59 * *(float *)(v58 + 0x20);
            v68[1] = v63 * v60;
            v68[2] = v66 * v60;
            sub_146716450((__int64)p_Parameter, v70, v68, v69, v71, v56);
          }
        }
      }
      ++value_by_id_2;
      v9 += 0x20;
      v8 += 0x18;
    }
    while ( value_by_id_2 < value_by_id_1 );
  }
}

// --- End Function: sub_14677F240 (0x14677F240) ---

// --- Function: sub_14677FE30 (0x14677FE30) ---
__int64 __fastcall sub_14677FE30(unsigned __int64 Parameter, float a2, float *a3, __int64 a4, int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  __int64 n0x10; // r15
  __int64 v16; // r14
  __int64 v19; // rax
  float v20; // xmm2_4
  float v21; // xmm3_4
  int v22; // r13d
  __int64 v23; // rax
  __m128 v24; // kr00_16
  int v26; // ecx
  float v28; // xmm11_4
  float v29; // xmm15_4
  float v30; // xmm13_4
  float v31; // xmm4_4
  __int64 v32; // rbx
  volatile signed __int32 *v33; // rcx
  int v34; // eax
  float v35; // xmm2_4
  double v36; // xmm3_8
  double v37; // xmm6_8
  double v38; // xmm5_8
  __int128 v39; // xmm11
  double v40; // xmm10_8
  double v41; // xmm4_8
  float v42; // xmm9_4
  float v43; // xmm8_4
  __int128 v49; // kr00_16
  float v51; // xmm7_4
  unsigned int v52; // r14d
  float v53; // xmm2_4
  float v54; // xmm3_4
  float v55; // xmm0_4
  float v56; // xmm1_4
  __int64 v57; // rdx
  __int64 v58; // rdi
  float v59; // xmm11_4
  float v60; // xmm12_4
  float v61; // xmm14_4
  float v62; // xmm15_4
  float *v63; // rcx
  float v64; // xmm10_4
  float v65; // xmm9_4
  float v66; // xmm5_4
  float v67; // xmm13_4
  float v68; // xmm8_4
  float v69; // xmm7_4
  float v70; // xmm6_4
  float v71; // xmm3_4
  float v72; // xmm12_4
  float v73; // xmm10_4
  float v74; // xmm9_4
  float v75; // xmm1_4
  float v76; // xmm11_4
  float v77; // xmm8_4
  float v78; // xmm2_4
  float v79; // xmm7_4
  float v80; // xmm8_4
  float v81; // xmm12_4
  float v82; // xmm10_4
  float v83; // xmm9_4
  float v84; // xmm6_4
  float v85; // xmm7_4
  float v86; // xmm11_4
  __int64 v87; // rax
  float v88; // xmm5_4
  float v89; // xmm4_4
  float v90; // xmm8_4
  float v91; // xmm6_4
  float v92; // xmm0_4
  float v93; // xmm7_4
  double v94; // kr00_8
  double v95; // xmm3_8
  __int64 v96; // rax
  __m128 v97; // xmm7
  float v98; // xmm4_4
  __m128 v99; // kr00_16
  double v100; // xmm1_8
  __int64 v101; // rax
  __m128 v102; // xmm2
  double v103; // xmm4_8
  float *v104; // rcx
  float v105; // xmm6_4
  __m128 v106; // kr00_16
  float v107; // xmm4_4
  __m128 v108; // xmm11
  float v109; // xmm13_4
  __m128 v110; // xmm14
  __m128 v111; // kr00_16
  float v112; // xmm15_4
  float v113; // xmm10_4
  float v114; // xmm12_4
  __int64 v115; // rax
  float v116; // xmm4_4
  double v117; // xmm5_8
  float *v118; // rcx
  __int64 v119; // rax
  float v120; // xmm7_4
  __int128 v121; // kr00_16
  __int128 v122; // xmm0
  float v124; // xmm8_4
  __int64 v125; // rcx
  double v126; // xmm0_8
  __m128 v127; // xmm2
  float v128; // xmm3_4
  float v129; // xmm9_4
  __m128 v130; // xmm4
  __m128 v131; // kr00_16
  __int128 v132; // xmm5
  __int128 v133; // kr00_16
  double v134; // xmm6_8
  __m128 v135; // kr00_16
  double v136; // xmm8_8
  double v137; // xmm7_8
  double v138; // xmm3_8
  __m128 v141; // xmm2
  __m128 v144; // kr00_16
  __m128 v150; // xmm3
  float v151; // xmm4_4
  __m128 v152; // kr00_16
  double v153; // xmm9_8
  __m128 v154; // kr00_16
  __m128 v155; // xmm4
  __m128 v156; // xmm4
  __m128 v157; // xmm2
  __m128 v158; // xmm1
  __m128 v159; // kr00_16
  __m128 v162; // kr00_16
  __m128 v165; // kr00_16
  __m128 v166; // xmm0
  __m128 v167; // xmm0
  __m128 v170; // kr00_16
  float v173; // xmm5_4
  float v174; // xmm7_4
  float v175; // xmm3_4
  __int128 n0x3F800000; // kr00_16
  __int128 n0x3F800000_1; // xmm2
  __int64 v184; // rdi
  float v185; // xmm10_4
  double *v186; // rax
  __int64 v187; // r9
  double v188; // xmm6_8
  double v189; // xmm7_8
  double v190; // xmm8_8
  double *WorldTransform; // rax
  __int128 v197; // kr00_16
  double v207; // xmm4_8
  double v208; // kr00_8
  unsigned __int64 v209; // rax
  __int128 v210; // xmm9
  double v211; // kr00_8
  __int64 v212; // rbx
  float v213; // edx
  __int64 v214; // rax
  __int16 v215; // cx
  __int128 v218; // xmm1
  __int128 v220; // kr00_16
  __int128 v222; // kr00_16
  unsigned int *v223; // rcx
  __int64 v234; // rcx
  float v235; // xmm2_4
  float v236; // xmm3_4
  int v237; // eax
  double v238; // xmm6_8
  double v239; // xmm15_8
  __m128 v240; // kr00_16
  __int64 v250; // rcx
  double v251; // xmm8_8
  double v252; // xmm9_8
  double v253; // xmm7_8
  __int128 v255; // kr00_16
  float v257; // xmm3_4
  __m128 v260; // xmm5
  float v263; // xmm6_4
  double v264; // xmm4_8
  char v265; // di
  unsigned __int64 v272; // rax
  __int64 v273; // rcx
  float v274; // edx
  __int64 v275; // rax
  int v283; // edx
  volatile signed __int32 *v284; // r14
  int v285; // ebx
  __int64 v286; // rdi
  __int64 v287; // r14
  float v288; // xmm11_4
  float v289; // xmm12_4
  float v290; // xmm14_4
  float v291; // xmm15_4
  float *v292; // rcx
  float v293; // xmm10_4
  float v294; // xmm9_4
  float v295; // xmm5_4
  float v296; // xmm13_4
  float v297; // xmm8_4
  float v298; // xmm7_4
  float v299; // xmm6_4
  float v300; // xmm3_4
  float v301; // xmm12_4
  float v302; // xmm10_4
  float v303; // xmm9_4
  float v304; // xmm1_4
  float v305; // xmm11_4
  float v306; // xmm8_4
  float v307; // xmm2_4
  float v308; // xmm7_4
  float v309; // xmm8_4
  float v310; // xmm12_4
  float v311; // xmm10_4
  float v312; // xmm9_4
  float v313; // xmm6_4
  float v314; // xmm7_4
  float v315; // xmm11_4
  __int64 v316; // rax
  float v317; // xmm5_4
  float v318; // xmm4_4
  float v319; // xmm8_4
  float v320; // xmm6_4
  float v321; // xmm0_4
  float v322; // xmm7_4
  int v323; // r12d
  int v324; // r12d
  __int64 v325; // r14
  unsigned __int8 v330; // bl
  unsigned int v331; // edi
  int v332; // eax
  __int64 v333; // rbx
  __int64 v334; // rdi
  float v335; // xmm3_4
  float v336; // xmm4_4
  float v337; // xmm6_4
  double v338; // kr00_8
  __int128 v339; // xmm2
  __int64 v340; // rax
  __int128 v341; // xmm8
  __int128 v342; // xmm7
  double v343; // xmm3_8
  __int128 v344; // kr00_16
  double v345; // xmm6_8
  double v347; // xmm4_8
  double v353; // xmm9_8
  double v354; // xmm8_8
  double v355; // xmm7_8
  __int64 v356; // rcx
  __int128 v359; // kr00_16
  float v364; // xmm6_4
  _DWORD *v365; // rax
  __m128 v366; // xmm5
  _QWORD **v367; // rax
  unsigned int v368; // eax
  __int16 v369; // ax
  __int64 v370; // rcx
  int v372; // [rsp+30h] [rbp-D8h]
  float v373; // [rsp+48h] [rbp-C0h]
  float v374; // [rsp+48h] [rbp-C0h]
  int v375; // [rsp+4Ch] [rbp-BCh]
  char v376; // [rsp+50h] [rbp-B8h]
  float v377; // [rsp+54h] [rbp-B4h]
  float v378; // [rsp+58h] [rbp-B0h]
  float v379; // [rsp+5Ch] [rbp-ACh]
  float v380; // [rsp+60h] [rbp-A8h]
  volatile signed __int32 *v381; // [rsp+68h] [rbp-A0h]
  volatile signed __int32 *v382; // [rsp+68h] [rbp-A0h]
  float v383; // [rsp+70h] [rbp-98h]
  unsigned int v385; // [rsp+74h] [rbp-94h]
  float v386; // [rsp+78h] [rbp-90h]
  float v387; // [rsp+7Ch] [rbp-8Ch]
  float v388; // [rsp+7Ch] [rbp-8Ch]
  __int64 v389; // [rsp+80h] [rbp-88h]
  double v390; // [rsp+80h] [rbp-88h]
  __int64 v391; // [rsp+80h] [rbp-88h]
  double v392; // [rsp+88h] [rbp-80h]
  double v393; // [rsp+88h] [rbp-80h]
  __int64 v394; // [rsp+88h] [rbp-80h]
  float v395; // [rsp+90h] [rbp-78h]
  int v396; // [rsp+94h] [rbp-74h]
  float v397; // [rsp+98h] [rbp-70h]
  float v398; // [rsp+98h] [rbp-70h]
  int v399; // [rsp+A8h] [rbp-60h] BYREF
  float v400; // [rsp+ACh] [rbp-5Ch] BYREF
  float v401; // [rsp+B0h] [rbp-58h]
  float v402; // [rsp+B4h] [rbp-54h]
  float v403; // [rsp+B8h] [rbp-50h] BYREF
  float v404; // [rsp+BCh] [rbp-4Ch]
  float v405; // [rsp+C0h] [rbp-48h]
  unsigned int v406; // [rsp+CCh] [rbp-3Ch]
  unsigned int v407; // [rsp+E0h] [rbp-28h]
  unsigned int v408; // [rsp+E4h] [rbp-24h]
  int v409; // [rsp+E8h] [rbp-20h]
  int v410; // [rsp+ECh] [rbp-1Ch]
  int v411; // [rsp+F0h] [rbp-18h]
  int v412; // [rsp+F4h] [rbp-14h]
  float v413; // [rsp+F8h] [rbp-10h]
  float v414; // [rsp+FCh] [rbp-Ch]
  float v415; // [rsp+100h] [rbp-8h]
  _BYTE v416[24]; // [rsp+108h] [rbp+0h] BYREF
  float v417; // [rsp+120h] [rbp+18h]
  float v418; // [rsp+124h] [rbp+1Ch]
  __int128 v419; // [rsp+128h] [rbp+20h]
  float v420; // [rsp+138h] [rbp+30h]
  float v421; // [rsp+13Ch] [rbp+34h]
  float v422; // [rsp+140h] [rbp+38h]
  float v423; // [rsp+144h] [rbp+3Ch]
  _BYTE v424[20]; // [rsp+148h] [rbp+40h]
  float v425; // [rsp+15Ch] [rbp+54h]
  _BYTE v426[24]; // [rsp+160h] [rbp+58h]
  int v427; // [rsp+178h] [rbp+70h]
  float v428; // [rsp+188h] [rbp+80h]
  float v429; // [rsp+18Ch] [rbp+84h]
  double v430; // [rsp+190h] [rbp+88h]
  __int128 v431; // [rsp+198h] [rbp+90h]
  __int64 v432; // [rsp+1A8h] [rbp+A0h] BYREF
  __int64 v433; // [rsp+1B0h] [rbp+A8h]
  float v434[2]; // [rsp+1B8h] [rbp+B0h] BYREF
  __int64 v435; // [rsp+1C0h] [rbp+B8h] BYREF
  __int64 v436; // [rsp+1C8h] [rbp+C0h] BYREF
  __int64 v437; // [rsp+1D0h] [rbp+C8h]
  __m256 v438; // [rsp+1E8h] [rbp+E0h]
  float v439; // [rsp+208h] [rbp+100h]
  int v440; // [rsp+20Ch] [rbp+104h]
  float v441; // [rsp+210h] [rbp+108h]
  float v442; // [rsp+214h] [rbp+10Ch]
  float v443; // [rsp+218h] [rbp+110h]
  float v444; // [rsp+21Ch] [rbp+114h]
  float v445; // [rsp+220h] [rbp+118h]
  float v446; // [rsp+224h] [rbp+11Ch]
  __m256 v447; // [rsp+228h] [rbp+120h]
  float v448; // [rsp+248h] [rbp+140h]
  int v449; // [rsp+24Ch] [rbp+144h]
  float v450; // [rsp+250h] [rbp+148h]
  float v451; // [rsp+254h] [rbp+14Ch]
  float v452; // [rsp+258h] [rbp+150h]
  float v453; // [rsp+25Ch] [rbp+154h]
  float v454; // [rsp+260h] [rbp+158h]
  float v455; // [rsp+264h] [rbp+15Ch]
  double v456[4]; // [rsp+268h] [rbp+160h] BYREF
  int n0x2800; // [rsp+288h] [rbp+180h] BYREF
  __int64 v458; // [rsp+28Ch] [rbp+184h]
  int v459; // [rsp+294h] [rbp+18Ch]
  __int64 v460; // [rsp+298h] [rbp+190h]
  unsigned __int64 v461; // [rsp+2A0h] [rbp+198h]
  __int64 v462; // [rsp+2A8h] [rbp+1A0h]
  __int64 v463; // [rsp+2B0h] [rbp+1A8h]
  double v464[4]; // [rsp+2D8h] [rbp+1D0h] BYREF
  __m128 v465; // [rsp+2F8h] [rbp+1F0h]
  __int128 v466; // [rsp+308h] [rbp+200h] BYREF
  _QWORD v467[2]; // [rsp+318h] [rbp+210h] BYREF
  float v468; // [rsp+328h] [rbp+220h]
  int n3; // [rsp+32Ch] [rbp+224h]
  int v470; // [rsp+330h] [rbp+228h]
  __int64 (__fastcall **v471)(); // [rsp+350h] [rbp+248h]
  _QWORD *v472; // [rsp+358h] [rbp+250h]
  __int64 v473; // [rsp+3A0h] [rbp+298h]
  _QWORD v474[2]; // [rsp+3A8h] [rbp+2A0h] BYREF
  float v475; // [rsp+3B8h] [rbp+2B0h]
  int n3_1; // [rsp+3BCh] [rbp+2B4h]
  int v477; // [rsp+3C0h] [rbp+2B8h]
  __int64 (__fastcall **v478)(); // [rsp+3E0h] [rbp+2D8h]
  _QWORD *v479; // [rsp+3E8h] [rbp+2E0h]
  __int64 v480; // [rsp+430h] [rbp+328h]
  char v481[64]; // [rsp+438h] [rbp+330h] BYREF
  __int64 v482; // [rsp+478h] [rbp+370h] BYREF
  int n2; // [rsp+480h] [rbp+378h]
  int n0x1E; // [rsp+484h] [rbp+37Ch]
  unsigned __int64 v485; // [rsp+488h] [rbp+380h]
  unsigned __int64 v486; // [rsp+490h] [rbp+388h]
  __int64 v487; // [rsp+498h] [rbp+390h]
  __int64 v488; // [rsp+4A0h] [rbp+398h]
  int v489; // [rsp+4A8h] [rbp+3A0h]
  int v490; // [rsp+4ACh] [rbp+3A4h]
  int v491; // [rsp+4B0h] [rbp+3A8h]
  int v492; // [rsp+4B4h] [rbp+3ACh]
  unsigned int v493; // [rsp+4B8h] [rbp+3B0h]
  double v494; // [rsp+4C0h] [rbp+3B8h]
  double v495; // [rsp+4C8h] [rbp+3C0h]
  double v496; // [rsp+4D0h] [rbp+3C8h]
  double v497; // [rsp+4D8h] [rbp+3D0h]
  float v498; // [rsp+4E0h] [rbp+3D8h]
  __int64 v499; // [rsp+4E4h] [rbp+3DCh]
  float v500; // [rsp+4ECh] [rbp+3E4h]
  float v501; // [rsp+4F0h] [rbp+3E8h]
  float v502; // [rsp+4F4h] [rbp+3ECh]
  float v503; // [rsp+4F8h] [rbp+3F0h]
  float v504; // [rsp+4FCh] [rbp+3F4h]
  float v505; // [rsp+500h] [rbp+3F8h]
  int v506; // [rsp+504h] [rbp+3FCh]
  int v507; // [rsp+508h] [rbp+400h]
  __int16 v508; // [rsp+50Ch] [rbp+404h]
  __int16 v509; // [rsp+50Eh] [rbp+406h]
  unsigned int v510; // [rsp+510h] [rbp+408h]
  float v511; // [rsp+514h] [rbp+40Ch]
  float v512; // [rsp+518h] [rbp+410h]
  float v513; // [rsp+51Ch] [rbp+414h]
  __int64 v514; // [rsp+520h] [rbp+418h]
  char v515; // [rsp+528h] [rbp+420h]
  float v516; // [rsp+52Ch] [rbp+424h]
  __int64 v517; // [rsp+530h] [rbp+428h]
  __int64 v518; // [rsp+538h] [rbp+430h]
  _DWORD v519[18]; // [rsp+548h] [rbp+440h] BYREF
  double v520; // [rsp+590h] [rbp+488h]
  __m256 v521; // [rsp+598h] [rbp+490h]
  double v522; // [rsp+5B8h] [rbp+4B0h]
  __int16 v523; // [rsp+5C0h] [rbp+4B8h]
  char v524; // [rsp+5C2h] [rbp+4BAh]
  char v525; // [rsp+5C3h] [rbp+4BBh]
  __int16 v526; // [rsp+5C4h] [rbp+4BCh]
  char v527; // [rsp+5C6h] [rbp+4BEh]
  __int64 v528; // [rsp+5C8h] [rbp+4C0h]
  int v529; // [rsp+5D4h] [rbp+4CCh]
  int v530; // [rsp+5D8h] [rbp+4D0h]
  __int64 v531; // [rsp+5E0h] [rbp+4D8h]
  __int64 v532; // [rsp+5E8h] [rbp+4E0h] BYREF
  int n2_1; // [rsp+5F0h] [rbp+4E8h]
  int n0x1E_1; // [rsp+5F4h] [rbp+4ECh]
  unsigned __int64 v535; // [rsp+5F8h] [rbp+4F0h]
  unsigned __int64 v536; // [rsp+600h] [rbp+4F8h]
  __int64 v537; // [rsp+608h] [rbp+500h]
  __int64 v538; // [rsp+610h] [rbp+508h]
  int v539; // [rsp+618h] [rbp+510h]
  int v540; // [rsp+61Ch] [rbp+514h]
  int v541; // [rsp+620h] [rbp+518h]
  int v542; // [rsp+624h] [rbp+51Ch]
  unsigned int v543; // [rsp+628h] [rbp+520h]
  double v544; // [rsp+630h] [rbp+528h]
  double v545; // [rsp+638h] [rbp+530h]
  double v546; // [rsp+640h] [rbp+538h]
  __int64 v547; // [rsp+648h] [rbp+540h]
  float v548; // [rsp+650h] [rbp+548h]
  double v549; // [rsp+654h] [rbp+54Ch]
  int v550; // [rsp+65Ch] [rbp+554h]
  float v551; // [rsp+660h] [rbp+558h]
  float v552; // [rsp+664h] [rbp+55Ch]
  float v553; // [rsp+668h] [rbp+560h]
  float v554; // [rsp+66Ch] [rbp+564h]
  float v555; // [rsp+670h] [rbp+568h]
  int v556; // [rsp+674h] [rbp+56Ch]
  int v557; // [rsp+678h] [rbp+570h]
  __int16 v558; // [rsp+67Eh] [rbp+576h]
  unsigned int v559; // [rsp+680h] [rbp+578h]
  float v560; // [rsp+684h] [rbp+57Ch]
  float v561; // [rsp+688h] [rbp+580h]
  __int64 v563; // [rsp+690h] [rbp+588h]
  char v564; // [rsp+698h] [rbp+590h]
  float v565; // [rsp+69Ch] [rbp+594h]
  __int64 v566; // [rsp+6A0h] [rbp+598h]
  __int64 v567; // [rsp+6A8h] [rbp+5A0h]
  __int128 v568; // [rsp+6C8h] [rbp+5C0h]
  __int128 v569; // [rsp+6D8h] [rbp+5D0h]
  __int128 v570; // [rsp+6E8h] [rbp+5E0h]
  __int128 v571; // [rsp+6F8h] [rbp+5F0h]
  __int128 v572; // [rsp+708h] [rbp+600h]
  __int128 v573; // [rsp+718h] [rbp+610h]
  __int128 v574; // [rsp+728h] [rbp+620h]
  __int128 v575; // [rsp+738h] [rbp+630h]
  __int128 v576; // [rsp+748h] [rbp+640h]
  __int128 v577; // [rsp+758h] [rbp+650h]

  v577 = v5;
  v576 = v6;
  v575 = v7;
  v574 = v8;
  v573 = v9;
  v572 = v10;
  v571 = v11;
  v570 = v12;
  v569 = v13;
  v568 = v14;
  n0x10 = 0;
  v433 = a4;
  v16 = a4;
  v458 = 0;
  v459 = 0;
  v461 = 0;
  v462 = 0;
  v463 = 0;
  n0x2800 = 0x2800;
  v460 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  if ( *(float *)(Parameter + 0x8A4) == 0.0 || *(double *)(Parameter + 0x6B8) == 0.0 || a5 < 0 )
  {
LABEL_93:
    *(_DWORD *)(Parameter + 0x8B0) = 0;
    goto LABEL_94;
  }
  if ( !*(_BYTE *)(Parameter + 0x94D) && !*(_BYTE *)(Parameter + 0x94E) )
  {
    v19 = *(_QWORD *)(Parameter + 0x8E8);
    if ( v19 )
    {
      if ( *(_BYTE *)(v19 + 0xBD) )
        goto LABEL_94;
    }
  }
  v20 = a3[1];
  v21 = a3[2];
  v22 = 0xFFFFFFFF;
  v23 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex);
  v379 = 0.0;
  v437 = *(_QWORD *)(Parameter + 0x68C);
  v24 = (__m128)*(unsigned int *)a3;
  v24.m128_f32[0] = (float)((float)(*a3 * *a3) + (float)(v20 * v20)) + (float)(v21 * v21);
  v465 = _mm_sqrt_ps(_mm_shuffle_ps(v24, v24, 0));
  _XMM0 = 0;
  __asm { vmovupd [rbp+690h+var_690], xmm0 }
  v419 = xmmword_148149570;
  *(_OWORD *)v424 = 0;
  v26 = *(_DWORD *)(v23 + 0x800);
  *(_DWORD *)(Parameter + 0x4A4) &= ~0x4000000u;
  v396 = v26;
  v373 = *(float *)(Parameter + 0x694);
  v427 = 0;
  v399 = 1;
  v406 = 0xFFF7FFFF;
  v403 = NAN;
  v407 = 0x80000000;
  v408 = 0x80000000;
  v410 = 0;
  v412 = 1;
  v411 = 1;
  v409 = 0;
  v375 = 0;
  _XMM0 = 0;
  v28 = 0.0;
  v29 = 0.0;
  v30 = 0.0;
  v31 = 0.0;
  __asm { vmovupd [rbp+690h+var_638+8], xmm0 }
  v378 = 0.0;
  v383 = 0.0;
  v377 = 0.0;
  v380 = 0.0;
  *(float *)&v424[0x10] = 0.0;
  v425 = 0.0;
  *(double *)&v416[0x10] = 0.0;
  v417 = 1.0;
  v418 = 0.0;
  v420 = 0.0;
  v421 = 0.0;
  v422 = 1.0;
  *(double *)v426 = 0.0;
  v423 = 1.0;
  v400 = 0.0;
  v401 = 0.0;
  v402 = 0.0;
  if ( a5 <= 0 )
    goto LABEL_54;
  v381 = (volatile signed __int32 *)(v16 + 0x28);
  v32 = v16 + 0x1C;
  v33 = (volatile signed __int32 *)(v16 + 0x28);
  v34 = 0;
  do
  {
    if ( *(_DWORD *)(v32 + 0x58) >= 2u )
      goto LABEL_52;
    if ( (*(unsigned int (__fastcall **)(unsigned __int64))(*(_QWORD *)Parameter + 8LL))(Parameter) == 0xA
      && *(_DWORD *)(v32 + 0x58) == 1 )
    {
      goto LABEL_51;
    }
    v35 = *(float *)(v32 - 0x18) * *(float *)(Parameter + 0x8A4);
    v428 = *(float *)(v32 - 0xC) * *(float *)(Parameter + 0x8A8);
    v429 = v35;
    if ( (float)((float)(v35 + v428) + *(float *)(v32 - 0x10)) == 0.0 )
      goto LABEL_51;
    v36 = *(double *)(Parameter + 0x420);
    v37 = *(double *)(Parameter + 0x440);
    v38 = *(double *)(Parameter + 0x428);
    v39 = *(unsigned __int64 *)(Parameter + 0x430);
    v40 = *(double *)(Parameter + 0x418);
    v41 = *(double *)(Parameter + 0x438);
    v42 = *(float *)(v32 + 0xC);
    v43 = *(float *)(v32 + 0x10);
    _XMM1 = COERCE_UNSIGNED_INT64(v41 - v36);
    __asm { vcvtsd2ss xmm1, xmm1, xmm1 }
    v387 = *(float *)&_XMM1;
    _XMM2 = COERCE_UNSIGNED_INT64(v37 - v38);
    __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
    v413 = *(float *)&_XMM2;
    *((_QWORD *)&v49 + 1) = *((_QWORD *)&v39 + 1);
    *(double *)&v49 = *(double *)&v39 - v40;
    _XMM0 = v49;
    __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
    v397 = *(float *)&_XMM0;
    v51 = *(float *)(v32 + 0x14);
    v395 = fabs((float)(0.5 * *(float *)&_XMM2) * v51)
         + (float)(fabs((float)(*(float *)&_XMM1 * 0.5) * v43) + fabs((float)(*(float *)&_XMM0 * 0.5) * v42));
    v392 = ((v40 + *(double *)&v39) * 0.5 - *(double *)(v32 + 0x1C)) * v42
         + v43 * ((v36 + v41) * 0.5 - *(double *)(v32 + 0x24))
         + v51 * ((v38 + v37) * 0.5 - *(double *)(v32 + 0x2C));
    if ( v392 > v395 && !*(_DWORD *)(v32 + 0x74)
      || (v52 = 0, v53 = 0.0, v54 = 0.0, v386 = 0.0, v414 = 0.0, *(int *)(Parameter + 0x290) <= 0) )
    {
      v28 = v378;
LABEL_51:
      v33 = v381;
      v34 = v375;
      v31 = v380;
      goto LABEL_52;
    }
    v55 = v378;
    v56 = v379;
    v57 = 0;
    v58 = 0;
    v389 = 0;
    do
    {
      if ( (*(_QWORD *)(v58 + *(_QWORD *)(Parameter + 0x240))
          & (((*(__int64 *)(v58 + *(_QWORD *)(Parameter + 0x240)) >> 0x12) & 1) - 1)
          & 0x100000000LL) != 0 )
      {
        v59 = *(float *)(Parameter + 0x3D8);
        v60 = *(float *)(Parameter + 0x3DC);
        v61 = *(float *)(Parameter + 0x3E4);
        v62 = *(float *)(Parameter + 0x3E0);
        v63 = *(float **)(v58 + *(_QWORD *)(Parameter + 0x280));
        v64 = v63[1];
        v65 = v63[2];
        v66 = v63[3];
        v67 = (float)((float)((float)(v59 * v64) - (float)(v60 * *v63)) + (float)(v61 * v65)) + (float)(v62 * v66);
        v68 = (float)((float)((float)(v62 * *v63) - (float)(v59 * v65)) + (float)(v61 * v64)) + (float)(v60 * v66);
        v69 = (float)((float)((float)(v60 * v65) - (float)(v62 * v64)) + (float)(v61 * *v63)) + (float)(v59 * v66);
        v70 = (float)(v68 + v68) * v69;
        v71 = (float)(v61 * v66) - (float)((float)((float)(v59 * *v63) + (float)(v60 * v64)) + (float)(v62 * v65));
        v72 = 1.0 - (float)((float)(v69 + v69) * v69);
        v73 = (float)(v69 + v69) * v71;
        v74 = (float)(v67 + v67) * v68;
        v75 = (float)(v67 + v67) * v71;
        v76 = (float)(v68 + v68) * v68;
        v77 = (float)(v68 + v68) * v71;
        v78 = (float)(v67 + v67) * v67;
        v79 = (float)(v67 + v67) * v69;
        *((float *)&v419 + 2) = v72 - v78;
        *((float *)&v419 + 3) = v74 - v73;
        v421 = v74 + v73;
        *((float *)&v419 + 1) = v75 + v70;
        v417 = (float)(1.0 - v76) - v78;
        v418 = v70 - v75;
        *(float *)&v419 = v79 + v77;
        v420 = v79 - v77;
        v80 = v72 - v76;
        v81 = *(float *)(Parameter + 0x3DC);
        v422 = v80;
        v82 = v63[6];
        v83 = v63[5];
        v84 = v63[4];
        v85 = (float)((float)(v82 * v81) - (float)(v83 * v62)) + (float)(v84 * v61);
        v86 = *(float *)(Parameter + 0x3D8);
        v87 = *(_QWORD *)Parameter;
        v88 = (float)((float)(v84 * v62) - (float)(v82 * v86)) + (float)(v83 * v61);
        v89 = (float)((float)(v83 * v86) - (float)(v84 * v81)) + (float)(v82 * v61);
        v90 = (float)((float)(v89 * v81) - (float)(v88 * v62))
            + (float)(v84 + (float)((float)(v89 * v81) - (float)(v88 * v62)));
        v91 = (float)((float)(v85 * v62) - (float)(v89 * v86))
            + (float)(v83 + (float)((float)(v85 * v62) - (float)(v89 * v86)));
        v92 = v85 * v81;
        v93 = *(float *)(Parameter + 0x200);
        v94 = (float)((float)((float)((float)(v88 * v86) - v92) + (float)(v82 + (float)((float)(v88 * v86) - v92))) * v93)
            + *(double *)(Parameter + 0x3D0);
        v95 = (float)(v91 * v93) + *(double *)(Parameter + 0x3C8);
        *(double *)v416 = (float)(v90 * v93) + *(double *)(Parameter + 0x3C0);
        *(double *)&v416[8] = v95;
        *(double *)&v416[0x10] = v94;
        v423 = v93 * v63[7];
        *(double *)&v96 = COERCE_DOUBLE(
                            (*(__int64 (__fastcall **)(unsigned __int64, _QWORD, _QWORD))(v87 + 0x2A0))(
                              Parameter,
                              v52,
                              0));
        v97 = (__m128)LODWORD(v428);
        v430 = *(double *)&v96;
        v98 = *(float *)(v96 + 0xE4) - *(float *)(v32 + 4);
        v99 = (__m128)*(unsigned int *)(v96 + 0xDC);
        *(float *)&v95 = *(float *)(v96 + 0xE0) - *(float *)v32;
        *(float *)v424 = *(float *)(v96 + 0xDC) - *(float *)(v32 - 4);
        *(float *)&v424[4] = *(float *)&v95;
        *(float *)&v424[8] = v98;
        *(_QWORD *)&v424[0xC] = *(_QWORD *)(v96 + 0xD0);
        v425 = *(float *)(v96 + 0xD8);
        *(_OWORD *)v426 = *(_OWORD *)(v96 + 0x78);
        v100 = *(double *)(v96 + 0x88);
        v101 = *(_QWORD *)(Parameter + 0x230);
        *(double *)&v426[0x10] = v100;
        v99.m128_f32[0] = (float)((float)(*(float *)v424 * *(float *)v424) + (float)(*(float *)&v95 * *(float *)&v95))
                        + (float)(v98 * v98);
        v102 = _mm_sqrt_ps(_mm_shuffle_ps(v99, v99, 0));
        v103 = (float)((float)(*(float *)(v389 + v101 + 0x1C) * *(float *)(v389 + v101 + 0x1C))
                     * (float)(v428 * _mm_shuffle_ps(v102, v102, 0xFF).m128_f32[0]))
             * *(double *)(Parameter + 0x6B8);
        v104 = *(float **)(v58 + *(_QWORD *)(Parameter + 0x238));
        if ( (float)(v104[0x10] * v104[0x10]) * v103 * (v103 * v103) <= 0.0000009999999974752427 )
        {
          v105 = a2;
          v114 = 0.0;
          v108 = 0;
          v113 = 0.0;
          v112 = 0.0;
          v110 = 0;
          v109 = 0.0;
        }
        else
        {
          LOBYTE(v372) = *(_DWORD *)(v32 + 0x74) != 0;
          (*(void (__fastcall **)(_QWORD, volatile signed __int32 *, _BYTE *, float *, float *, int))(**(_QWORD **)v104 + 0x80LL))(
            *(_QWORD *)v104,
            v381,
            v416,
            &v400,
            &v403,
            v372);
          v105 = a2;
          v106 = v97;
          v107 = (float)-((*(_DWORD *)(v32 + 0x58) - 1) >> 0x1F);
          v379 = (float)(v107 * (float)(v97.m128_f32[0] * v402)) + v379;
          v383 = (float)(v107 * (float)(v97.m128_f32[0] * v401)) + v383;
          v106.m128_f32[0] = (float)(v97.m128_f32[0] * v401) * a2;
          v108 = v106;
          v109 = v403 * (float)(v97.m128_f32[0] * a2);
          v111 = (__m128)LODWORD(v404);
          v111.m128_f32[0] = v404 * (float)(v97.m128_f32[0] * a2);
          v110 = v111;
          v112 = v405 * (float)(v97.m128_f32[0] * a2);
          v378 = (float)(v107 * (float)(v97.m128_f32[0] * v400)) + v378;
          v22 += ((*(_DWORD *)(v32 + 0x58) - 1) >> 0x1F) & (v375 - v22);
          v113 = (float)(v97.m128_f32[0] * v400) * a2;
          v114 = (float)(v97.m128_f32[0] * v402) * a2;
        }
        v115 = *(_QWORD *)(Parameter + 0x238);
        v116 = v395;
        v117 = v392;
        v403 = v109;
        v404 = v110.m128_f32[0];
        v405 = v112;
        v400 = v113;
        v401 = v108.m128_f32[0];
        v402 = v114;
        v118 = *(float **)(v58 + v115);
        v121 = *(unsigned int *)(v389 + *(_QWORD *)(Parameter + 0x230) + 0x1C);
        v119 = *(_QWORD *)(Parameter + 0x2C0);
        *(float *)&v121 = (float)(*(float *)&v121 * v118[0x10]) * (float)(*(float *)&v121 * *(float *)&v121);
        v120 = *(float *)&v121;
        v415 = *(float *)&v121;
        if ( *(_DWORD *)(v119 + 0x51C) )
        {
          *((_QWORD *)&v122 + 1) = 0;
          if ( v392 <= COERCE_FLOAT(LODWORD(v395) ^ 0x80000000) || *(_DWORD *)(v32 + 0x74) )
          {
            v377 = *(float *)&v121;
            _XMM3 = v121;
          }
          else
          {
            *(double *)&v122 = (*(double (__fastcall **)(_QWORD, volatile signed __int32 *, _BYTE *, double *))(**(_QWORD **)v118 + 0x78LL))(
                                 *(_QWORD *)v118,
                                 v381,
                                 v416,
                                 v456);
            v112 = v405;
            v110 = (__m128)LODWORD(v404);
            v109 = v403;
            v114 = v402;
            v108 = (__m128)LODWORD(v401);
            v113 = v400;
            v116 = v395;
            v117 = v392;
            v22 += (v375 - v22) & ((*(_DWORD *)(v32 + 0x58) - 1) >> 0x1F);
            v377 = *(float *)&v122;
            _XMM3 = v122;
          }
        }
        else
        {
          _XMM3 = LODWORD(v377);
        }
        v124 = v429;
        if ( (float)(*(float *)&v121 * v429) * *(double *)(Parameter + 0x6B8) > 0.009999999776482582 )
        {
          if ( v117 <= COERCE_FLOAT(LODWORD(v116) ^ 0x80000000) || *(_DWORD *)(v32 + 0x74) )
          {
            _XMM0 = *(unsigned int *)(*(_QWORD *)(Parameter + 0x2C0) + 0x51CLL);
            __asm
            {
              vpcmpeqd xmm2, xmm0, xmm1
              vblendvps xmm0, xmm3, xmm7, xmm2
            }
            v150 = (__m128)*(unsigned __int64 *)a3;
            v377 = *(float *)&_XMM0;
            v415 = *(float *)&_XMM0;
            v151 = (float)(v429 * *(float *)&_XMM0) * v105;
            v152 = v108;
            v152.m128_f32[0] = v108.m128_f32[0] - (float)(_mm_shuffle_ps(v150, v150, 0x55).m128_f32[0] * v151);
            v108 = v152;
            v113 = v113 - (float)(v150.m128_f32[0] * v151);
            v114 = v114 - (float)(v151 * a3[2]);
            v400 = v113;
            v401 = v152.m128_f32[0];
            v402 = v114;
            *(double *)&v431 = *(double *)v150.m128_u64;
          }
          else
          {
            if ( !*(_DWORD *)(*(_QWORD *)(Parameter + 0x2C0) + 0x51CLL) )
            {
              v125 = **(_QWORD **)(v58 + *(_QWORD *)(Parameter + 0x238));
              v126 = (*(double (__fastcall **)(__int64, volatile signed __int32 *, _BYTE *, double *))(*(_QWORD *)v125 + 0x78LL))(
                       v125,
                       v381,
                       v416,
                       v456);
              v112 = v405;
              v110.m128_f32[0] = v404;
              v109 = v403;
              v114 = v402;
              v108.m128_f32[0] = v401;
              v113 = v400;
              v22 += (v375 - v22) & ((*(_DWORD *)(v32 + 0x58) - 1) >> 0x1F);
              v377 = *(float *)&v126;
              LODWORD(_XMM3) = LODWORD(v126);
            }
            v127 = (__m128)*(unsigned __int64 *)(v32 + 0xC);
            v128 = (float)((float)(v124 * v465.m128_f32[3]) * *(float *)&_XMM3) * v105;
            v129 = v127.m128_f32[0] * v128;
            v131 = _mm_shuffle_ps(v127, v127, 0x55);
            v131.m128_f32[0] = v131.m128_f32[0] * v128;
            v130 = v131;
            v133 = *(unsigned int *)(v32 + 0x14);
            *(float *)&v133 = *(float *)(v32 + 0x14) * v128;
            v132 = v133;
            *(_QWORD *)&v431 = *(_QWORD *)(v32 + 0xC);
            v134 = v130.m128_f32[0];
            v114 = *(float *)&v133 + v114;
            v402 = v114;
            v135 = v130;
            v135.m128_f32[0] = v130.m128_f32[0] + v108.m128_f32[0];
            v108 = v135;
            v401 = v135.m128_f32[0];
            v135.m128_u64[1] = *((_QWORD *)&v132 + 1);
            v113 = v113 + (float)(v127.m128_f32[0] * v128);
            v400 = v113;
            v136 = v456[2] - *(double *)(*(_QWORD *)&v430 + 0x88LL);
            v137 = v456[1] - *(double *)(*(_QWORD *)&v430 + 0x80LL);
            v138 = v456[0] - *(double *)(*(_QWORD *)&v430 + 0x78LL);
            _XMM4 = COERCE_UNSIGNED_INT64(v138 * v130.m128_f32[0] - v137 * v129);
            _XMM3 = COERCE_UNSIGNED_INT64(v136 * v129 - *(float *)&v132 * v138);
            *(double *)v135.m128_u64 = *(float *)&v132 * v137;
            v141 = v135;
            v120 = v415;
            __asm
            {
              vcvtsd2ss xmm1, xmm4, xmm4
              vcvtsd2ss xmm0, xmm3, xmm3
            }
            v112 = *(float *)&_XMM1 + v112;
            v144 = _XMM0;
            v144.m128_f32[0] = _XMM0.m128_f32[0] + v110.m128_f32[0];
            v110 = v144;
            v144.m128_u64[1] = v141.m128_u64[1];
            *(double *)v144.m128_u64 = *(double *)v141.m128_u64 - v136 * v134;
            _XMM0 = v144;
            __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
            v109 = v109 + *(float *)&_XMM2;
            v403 = v109;
            v404 = v110.m128_f32[0];
            v405 = v112;
          }
        }
        v153 = *(double *)(Parameter + 0x6B0);
        v154 = (__m128)*(unsigned int *)a3;
        v154.m128_f32[0] = (float)((float)(*a3 * *a3) + (float)(a3[1] * a3[1])) + (float)(a3[2] * a3[2]);
        v155 = _mm_sqrt_ps(_mm_shuffle_ps(v154, v154, 0));
        v156 = _mm_shuffle_ps(v155, v155, 0xFF);
        v154.m128_u64[1] = v156.m128_u64[1];
        *(double *)v154.m128_u64 = (float)(v156.m128_f32[0] * 10.0) * v153;
        v157 = v154;
        v159 = v108;
        v159.m128_f32[0] = v108.m128_f32[0] * v108.m128_f32[0];
        v158 = v159;
        v430 = a2;
        v159.m128_u64[1] = v157.m128_u64[1];
        *(double *)v159.m128_u64 = *(double *)v157.m128_u64 * a2;
        _XMM3 = v159;
        v162 = v158;
        __asm { vcvtsd2ss xmm6, xmm3, xmm3 }
        v162.m128_f32[0] = (float)(v158.m128_f32[0] + (float)(v113 * v113)) + (float)(v114 * v114);
        if ( v162.m128_f32[0] > (float)(*(float *)&_XMM6 * *(float *)&_XMM6) )
        {
          _XMM0 = _mm_shuffle_ps(v162, v162, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          _XMM3.m128_f32[0] = (float)((float)(1.5
                                            - (float)((float)((float)(v162.m128_f32[0] * _XMM3.m128_f32[0])
                                                            * _XMM3.m128_f32[0])
                                                    * 0.5))
                                    * _XMM3.m128_f32[0])
                            * *(float *)&_XMM6;
          v113 = v113 * _XMM3.m128_f32[0];
          v108.m128_f32[0] = v108.m128_f32[0] * _XMM3.m128_f32[0];
          v114 = v114 * _XMM3.m128_f32[0];
          v400 = v113;
          v401 = v108.m128_f32[0];
          v402 = v114;
        }
        v165 = (__m128)LODWORD(v397);
        v165.m128_f32[0] = (float)((float)((float)(v397 * v397) + (float)(v387 * v387)) + (float)(v413 * v413)) * 0.25;
        v166 = _mm_sqrt_ps(_mm_shuffle_ps(v165, v165, 0));
        v167 = _mm_shuffle_ps(v166, v166, 0xFF);
        v165.m128_u64[1] = v167.m128_u64[1];
        *(double *)v165.m128_u64 = v167.m128_f32[0] * v430 * (v156.m128_f32[0] * v153);
        _XMM0 = v165;
        __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
        v170 = v110;
        v170.m128_f32[0] = (float)((float)(v110.m128_f32[0] * v110.m128_f32[0]) + (float)(v109 * v109))
                         + (float)(v112 * v112);
        if ( v170.m128_f32[0] > (float)(*(float *)&_XMM5 * *(float *)&_XMM5) )
        {
          _XMM0 = _mm_shuffle_ps(v170, v170, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          _XMM3.m128_f32[0] = (float)((float)(1.5
                                            - (float)((float)((float)(_XMM3.m128_f32[0] * v170.m128_f32[0])
                                                            * _XMM3.m128_f32[0])
                                                    * 0.5))
                                    * _XMM3.m128_f32[0])
                            * *(float *)&_XMM5;
          v109 = v109 * _XMM3.m128_f32[0];
          v110.m128_f32[0] = v110.m128_f32[0] * _XMM3.m128_f32[0];
          v112 = v112 * _XMM3.m128_f32[0];
          v403 = v109;
          v404 = v110.m128_f32[0];
          v405 = v112;
        }
        v408 = v52;
        if ( (float)((float)((float)((float)(v112 * v112) + (float)(v109 * v109))
                           + (float)(v110.m128_f32[0] * v110.m128_f32[0]))
                   + (float)((float)((float)(v114 * v114) + (float)(v113 * v113))
                           + (float)(v108.m128_f32[0] * v108.m128_f32[0]))) > 0.0 )
          (*(void (__fastcall **)(unsigned __int64, int *, __int64))(*(_QWORD *)Parameter + 0x30LL))(
            Parameter,
            &v399,
            1);
        v30 = v377;
        v54 = v377 + v414;
        v53 = v120 + v386;
        v55 = v378;
        v29 = v383;
        v56 = v379;
        v57 = v389;
        v414 = v377 + v414;
        v386 = v120 + v386;
      }
      v57 += 0x20;
      ++v52;
      v58 += 8;
      v389 = v57;
      v173 = v56;
      v174 = v55;
    }
    while ( (signed int)v52 < *(_DWORD *)(Parameter + 0x290) );
    v378 = v55;
    v28 = v55;
    v377 = v30;
    v383 = v29;
    v379 = v56;
    if ( (float)(v54 * v53) <= 0.0 )
      goto LABEL_51;
    v175 = v54 >= v53 ? 1.0 : v54 / v53;
    _XMM0 = *(unsigned int *)(v32 - 0x10);
    __asm { vmaxss  xmm1, xmm0, dword ptr [rsi+8A0h] }
    n0x3F800000 = 0x3F800000u;
    *(float *)&n0x3F800000 = (float)((float)(1.0 - v175) * *(float *)(Parameter + 0x570))
                           + (float)(v175 * *(float *)&_XMM1);
    n0x3F800000_1 = n0x3F800000;
    __asm { vmaxss  xmm0, xmm2, dword ptr [rsi+57Ch] }
    *(float *)(Parameter + 0x57C) = *(float *)&_XMM0;
    v377 = v30;
    v378 = v174;
    v383 = v29;
    v379 = v173;
    if ( *(_DWORD *)(v32 + 0x58) )
      goto LABEL_51;
    _XMM1 = LODWORD(v380);
    v34 = v375;
    v33 = v381;
    __asm
    {
      vcmpltss xmm0, xmm1, xmm3
      vblendvps xmm0, xmm1, xmm3, xmm0
    }
    v31 = *(float *)&_XMM0;
    v377 = v30;
    v378 = v174;
    v383 = v29;
    v379 = v173;
    v380 = *(float *)&_XMM0;
    if ( (float)(*(float *)(v32 - 0x18) * *(float *)(Parameter + 0x8A4)) * *(double *)(Parameter + 0x6C0) > *(double *)(Parameter + 0x6B0) )
    {
      *(_DWORD *)(Parameter + 0x4A4) |= 0x4000000u;
      v377 = v30;
      v378 = v174;
      v383 = v29;
      v379 = v173;
    }
LABEL_52:
    ++v34;
    v33 += 0x26;
    v32 += 0x98;
    v375 = v34;
    v381 = v33;
  }
  while ( v34 < a5 );
  v16 = v433;
LABEL_54:
  if ( v22 == 0xFFFFFFFF )
    goto LABEL_93;
  *(float *)(Parameter + 0x8B0) = v31;
  if ( COERCE_INT(fabs(1.0 - (float)(v31 + v31)) - 0.99800003) >= 0 )
    goto LABEL_94;
  v184 = *(_QWORD *)(Parameter + 0x2C0);
  v185 = *(float *)(v184 + 0x330);
  v186 = (double *)(*(__int64 (**)(void))(*(_QWORD *)qword_149A0A270 + 0x60LL))();
  LOBYTE(v187) = 1;
  v188 = v186[0xB];
  v189 = v186[7];
  v190 = v186[3];
  WorldTransform = (double *)CPhysicalWorld::GetWorldTransform(
                               *(_QWORD *)(Parameter + 0x2C0),
                               v481,
                               *(_QWORD *)(Parameter + 0xB8),
                               v187);
  sub_140339170(v464, WorldTransform, (double *)(Parameter + 0x628));
  _XMM5 = COERCE_UNSIGNED_INT64(v464[2] - v188);
  _XMM2 = COERCE_UNSIGNED_INT64(v464[0] - v190);
  __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
  _XMM3 = COERCE_UNSIGNED_INT64(v464[1] - v189);
  __asm { vcvtsd2ss xmm1, xmm3, xmm3 }
  v197 = _XMM1;
  __asm { vcvtsd2ss xmm5, xmm5, xmm5 }
  *(float *)&v197 = fsqrt(
                      (float)((float)(*(float *)&_XMM1 * *(float *)&_XMM1) + (float)(*(float *)&_XMM4 * *(float *)&_XMM4))
                    + (float)(*(float *)&_XMM5 * *(float *)&_XMM5));
  _XMM0 = v197;
  __asm { vmaxss  xmm4, xmm0, xmm9 }
  if ( !*(_QWORD *)(Parameter + 0x220) || v22 < 0 )
  {
    if ( *(_DWORD *)(*(_QWORD *)(Parameter + 0x2C0) + 0x324LL) * (v22 + 1) <= 0
      || (*(_DWORD *)(Parameter + 0x208) & 2) != 0
      || v185 <= *(float *)&_XMM4
      || (float)((float)((float)(*(float *)&v437 * *(float *)&v437)
                       + (float)(*((float *)&v437 + 1) * *((float *)&v437 + 1)))
               + (float)(v373 * v373)) <= (float)(*(float *)(v184 + 0x32C) * *(float *)(v184 + 0x32C)) )
    {
      goto LABEL_94;
    }
    *(float *)&v519[7] = 100.0;
    v521 = ymmword_148769400;
    *(float *)&v519[9] = 0.017453292;
    *(float *)&v519[0xA] = 0.0;
    *(float *)&v519[1] = 0.0;
    *(float *)&v519[2] = 0.0;
    *(float *)&v519[3] = 0.0;
    *(float *)&v519[0xE] = 0.0;
    *(float *)&v519[0xF] = 0.0;
    *(float *)&v519[0x10] = 1.0;
    *(float *)&v519[0xB] = 0.0;
    *(float *)&v519[0xC] = 0.0;
    *(float *)&v519[0xD] = 0.0;
    *(float *)&v519[4] = 0.0;
    *(float *)&v519[5] = 0.0;
    *(float *)&v519[6] = 0.0;
    v520 = 1.999999999998e12;
    v522 = 1.999999999998e12;
    *(float *)&v519[0x11] = 1.0e10;
    v519[0] = 0;
    v531 = 0;
    v523 = 0;
    v524 = 0;
    v526 = 0;
    v527 = 0;
    v528 = 0;
    v530 = 0;
    __asm { vzeroupper }
    sub_14663CBB0((__int64)v467);
    v470 = 1;
    v467[0] = &off_148AB5D40;
    _InterlockedIncrement(&dword_14A12BCBC);
    v265 = 1;
    _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x438) - *(double *)(Parameter + 0x420));
    v516 = 1000.0;
    v447 = ymmword_148190000;
    _XMM4 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x440) - *(double *)(Parameter + 0x428));
    _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x430) - *(double *)(Parameter + 0x418));
    v473 = 1;
    v467[0] = &off_148AB63E0;
    __asm
    {
      vcvtsd2ss xmm1, xmm2, xmm2
      vcvtsd2ss xmm3, xmm3, xmm3
      vcvtsd2ss xmm0, xmm4, xmm4
    }
    v471 = &off_148AB62F8;
    v453 = *(float *)&_XMM1;
    v468 = 0.0;
    v448 = 1.0;
    v452 = 0.0;
    v451 = 0.0;
    v450 = 0.0;
    v454 = *(float *)&_XMM3;
    v455 = *(float *)&_XMM0;
    n3 = 3;
    v472 = v467;
    v482 = 0;
    n0x1E = 0x1E;
    n2 = 2;
    v514 = 0;
    v510 = 0xFFFFFFFF;
    v515 = 0;
    v517 = 0;
    v518 = 0;
    v376 = 1;
    v449 = 0;
    __asm { vzeroupper }
    sub_14665D180((__int64)v467);
    v272 = Parameter | (*(_QWORD *)(Parameter + 8) << 0x30);
    v525 = 1;
    v485 = v272;
    v487 = *(_QWORD *)(Parameter + 0xC0);
    v489 = *(__int16 *)(Parameter + 0xEC);
    v491 = *(__int16 *)(Parameter + 0xEE);
    v529 = 1;
    v486 = (unsigned __int64)&qword_1514522C0 | (qword_1514522C8 << 0x30);
    v273 = 0x98LL * v22;
    *(double *)v416 = 0.0;
    *(_OWORD *)&v416[8] = 0;
    *(float *)&v424[8] = 0.0;
    *(float *)&v424[4] = 0.0;
    *(_QWORD *)&_XMM0 = *(_QWORD *)(v273 + v16 + 0x28);
    *(float *)v424 = 0.0;
    v425 = 0.0;
    *(float *)&v424[0x10] = 0.0;
    *(float *)&v424[0xC] = 0.0;
    *(float *)&v519[8] = 1.0e10;
    v488 = 0;
    v490 = 0;
    v492 = 0;
    v493 = 0xFFFFFFFE;
    v274 = *(float *)(v273 + v16 + 0x30);
    v275 = *(_QWORD *)(Parameter + 0x2C0);
    v497 = *(double *)&_XMM0;
    LODWORD(_XMM0) = *(_DWORD *)(Parameter + 0x8B0);
    v503 = 0.0;
    v502 = 0.0;
    v501 = 0.0;
    v505 = 0.0;
    v498 = v274;
    v507 = 0;
    LOWORD(v273) = *(_WORD *)(v275 + 0x82E30);
    v511 = *(float *)&_XMM0;
    _XMM0 = *(unsigned __int64 *)(Parameter + 0x6B0);
    __asm { vcvtpd2ps xmm0, xmm0 }
    v512 = (float)((float)(v28 * *(float *)&v497) + (float)(v29 * *((float *)&v497 + 1))) + (float)(v274 * v379);
    _XMM1 = LODWORD(v453);
    v504 = *(float *)&_XMM0;
    __asm
    {
      vcmpltss xmm0, xmm1, xmm2
      vblendvps xmm4, xmm1, xmm2, xmm0
      vcmpltss xmm0, xmm4, xmm3
      vblendvps xmm1, xmm4, xmm3, xmm0
    }
    v509 = v273;
    v513 = *(float *)&_XMM1;
    if ( *(float *)&_XMM1 >= 0.5 )
    {
      v283 = v396;
      v284 = (volatile signed __int32 *)((char *)&unk_14A27DC3C + 0x1E86E8 * v396);
      v382 = v284;
      if ( _InterlockedCompareExchange(v284, 0x10000, 0) )
      {
        sub_1403A4CA0(v284, 0, 0x10000);
        v283 = v396;
      }
      v285 = 0;
      v385 = 0;
      if ( *(int *)(Parameter + 0x290) > 0 )
      {
        v286 = 0;
        v394 = 0;
        v287 = 0;
        v391 = 0;
        while ( 1 )
        {
          if ( (*(_QWORD *)(v287 + *(_QWORD *)(Parameter + 0x240))
              & (((*(__int64 *)(v287 + *(_QWORD *)(Parameter + 0x240)) >> 0x12) & 1) - 1)
              & 0x100000000LL) != 0 )
          {
            v288 = *(float *)(Parameter + 0x3D8);
            v289 = *(float *)(Parameter + 0x3DC);
            v290 = *(float *)(Parameter + 0x3E4);
            v291 = *(float *)(Parameter + 0x3E0);
            v292 = *(float **)(v287 + *(_QWORD *)(Parameter + 0x280));
            v293 = v292[1];
            v294 = v292[2];
            v295 = v292[3];
            v296 = (float)((float)((float)(v288 * v293) - (float)(v289 * *v292)) + (float)(v290 * v294))
                 + (float)(v291 * v295);
            v297 = (float)((float)((float)(v291 * *v292) - (float)(v288 * v294)) + (float)(v290 * v293))
                 + (float)(v289 * v295);
            v298 = (float)((float)((float)(v289 * v294) - (float)(v291 * v293)) + (float)(v290 * *v292))
                 + (float)(v288 * v295);
            v299 = (float)(v297 + v297) * v298;
            v300 = (float)(v290 * v295)
                 - (float)((float)((float)(v288 * *v292) + (float)(v289 * v293)) + (float)(v291 * v294));
            v301 = 1.0 - (float)((float)(v298 + v298) * v298);
            v302 = (float)(v298 + v298) * v300;
            v303 = (float)(v296 + v296) * v297;
            v304 = (float)(v296 + v296) * v300;
            v305 = (float)(v297 + v297) * v297;
            v306 = (float)(v297 + v297) * v300;
            v307 = (float)(v296 + v296) * v296;
            v308 = (float)(v296 + v296) * v298;
            *((float *)&v419 + 2) = v301 - v307;
            *((float *)&v419 + 3) = v303 - v302;
            v421 = v303 + v302;
            *((float *)&v419 + 1) = v299 + v304;
            v417 = (float)(1.0 - v305) - v307;
            v418 = v299 - v304;
            *(float *)&v419 = v308 + v306;
            v420 = v308 - v306;
            v309 = v301 - v305;
            v310 = *(float *)(Parameter + 0x3DC);
            v422 = v309;
            v311 = v292[6];
            v312 = v292[5];
            v313 = v292[4];
            v314 = (float)((float)(v311 * v310) - (float)(v312 * v291)) + (float)(v313 * v290);
            v315 = *(float *)(Parameter + 0x3D8);
            v316 = *(_QWORD *)(Parameter + 0x238);
            v317 = (float)((float)(v313 * v291) - (float)(v311 * v315)) + (float)(v312 * v290);
            v318 = (float)((float)(v312 * v315) - (float)(v313 * v310)) + (float)(v311 * v290);
            v319 = (float)((float)(v310 * v318) - (float)(v291 * v317))
                 + (float)(v313 + (float)((float)(v310 * v318) - (float)(v291 * v317)));
            v320 = (float)((float)(v291 * v314) - (float)(v315 * v318))
                 + (float)(v312 + (float)((float)(v291 * v314) - (float)(v315 * v318)));
            v321 = v310 * v314;
            v322 = *(float *)(Parameter + 0x200);
            *(double *)&v416[0x10] = (float)(v322
                                           * (float)((float)((float)(v315 * v317) - v321)
                                                   + (float)(v311 + (float)((float)(v315 * v317) - v321))))
                                   + *(double *)(Parameter + 0x3D0);
            *(double *)&v416[8] = (float)(v322 * v320) + *(double *)(Parameter + 0x3C8);
            *(double *)v416 = (float)(v322 * v319) + *(double *)(Parameter + 0x3C0);
            v423 = v322 * v292[7];
            v323 = (*(__int64 (__fastcall **)(_QWORD, _QWORD *, _BYTE *, _QWORD, _DWORD *, __int64 *, int))(***(_QWORD ***)(v287 + v316) + 0x1E8LL))(
                     **(_QWORD **)(v287 + v316),
                     v467,
                     v416,
                     0,
                     v519,
                     &v432,
                     v283);
            if ( v323 )
            {
              v324 = v323 - 1;
              if ( v324 >= 0 )
                break;
            }
          }
LABEL_82:
          ++v285;
          v287 += 8;
          v286 += 4;
          v385 = v285;
          v391 = v287;
          v394 = v286;
          if ( v285 >= *(_DWORD *)(Parameter + 0x290) )
          {
            v265 = v376;
            v284 = (volatile signed __int32 *)((char *)&unk_14A27DC3C + 0x1E86E8 * v396);
            goto LABEL_87;
          }
          v283 = v396;
        }
        v325 = 0xC0LL * v324;
        while ( 1 )
        {
          _XMM0 = *(unsigned __int64 *)(v432 + v325 + 0x48);
          __asm { vcvtpd2ps xmm0, xmm0 }
          v434[0] = *(float *)&_XMM0;
          _XMM1 = *(unsigned __int64 *)(v432 + v325 + 0x50);
          __asm { vcvtpd2ps xmm1, xmm1 }
          v434[1] = *(float *)&_XMM1;
          v330 = *(_BYTE *)(v432 + v325 + 0xB8);
          v331 = *(_DWORD *)(v432 + v325 + 0xB0);
          *(_QWORD *)&v431 = sub_146806C90(v432 + 0xC0LL * v324 + 8, v331);
          DWORD2(v431) = 0xC;
          v466 = v431;
          v332 = sub_1465BD900(
                   (unsigned int)&v466,
                   v331,
                   v330,
                   (unsigned int)v434,
                   (__int64)&v435,
                   (__int64)&v436,
                   0x3F000000)
               - 1;
          v333 = v332;
          if ( v332 >= 0 )
            break;
LABEL_80:
          v325 -= 0xC0;
          if ( --v324 < 0 )
          {
            v285 = v385;
            v286 = v394;
            v287 = v391;
            goto LABEL_82;
          }
        }
        v334 = *(_QWORD *)(Parameter + 0x2C0);
        v376 = 0;
        while ( 1 )
        {
          v335 = *(float *)(Parameter + 0x680);
          v336 = *(float *)(Parameter + 0x688);
          v337 = *(float *)(Parameter + 0x684);
          v338 = *(float *)(v435 + 8 * v333);
          v494 = v338;
          v339 = COERCE_UNSIGNED_INT64(v338 - *(double *)(Parameter + 0x628));
          v340 = *(_QWORD *)(Parameter + 0x250);
          v341 = COERCE_UNSIGNED_INT64(*(float *)(v435 + 8 * v333 + 4) - *(double *)(Parameter + 0x630));
          v495 = *(float *)(v435 + 8 * v333 + 4);
          v342 = COERCE_UNSIGNED_INT64(*(double *)(v432 + v325 + 0x58) - *(double *)(Parameter + 0x638));
          v496 = *(double *)(v432 + v325 + 0x58);
          v343 = v335;
          *((_QWORD *)&v344 + 1) = *((_QWORD *)&v341 + 1);
          v345 = v337;
          *(double *)&v344 = *(double *)&v341 * v343 - *(double *)&v339 * v345;
          _XMM9 = v344;
          v347 = v336;
          *((_QWORD *)&v344 + 1) = *((_QWORD *)&v339 + 1);
          *(double *)&v344 = *(double *)&v339 * v347 - *(double *)&v342 * v343;
          _XMM5 = v344;
          *((_QWORD *)&v344 + 1) = *((_QWORD *)&v342 + 1);
          *(double *)&v344 = *(double *)&v342 * v345 - *(double *)&v341 * v347;
          _XMM0 = v344;
          __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
          __asm { vcvtsd2ss xmm0, xmm5, xmm5 }
          *(float *)&v344 = *(float *)&_XMM0 + *(float *)(Parameter + 0x690);
          *(float *)&v499 = *(float *)&_XMM2 + *(float *)(Parameter + 0x68C);
          *((float *)&v499 + 1) = *(float *)&v344;
          __asm { vcvtsd2ss xmm2, xmm9, xmm9 }
          v500 = *(float *)&_XMM2 + *(float *)(Parameter + 0x694);
          v506 = *(_DWORD *)(v394 + v340);
          v508 = sub_146703440(Parameter, *(unsigned int *)(v432 + v325 + 0x84), v385);
          v513 = *(float *)(v436 + 4 * v333);
          sub_14670C340(v334, 0x2000000, &v482, 0);
          v334 = *(_QWORD *)(Parameter + 0x2C0);
          LODWORD(n0x10) = n0x10 + 1;
          if ( (_DWORD)n0x10 == *(_DWORD *)(v334 + 0x324) )
            break;
          if ( --v333 < 0 )
            goto LABEL_80;
        }
        _InterlockedExchangeAdd(v382, 0xFFFF0000);
        if ( byte_1499F5465 )
          qword_1499F5470(v382);
        goto LABEL_92;
      }
LABEL_87:
      _InterlockedExchangeAdd(v284, 0xFFFF0000);
      if ( byte_1499F5465 )
        qword_1499F5470(v284);
      if ( !v265 )
      {
LABEL_92:
        v471 = &off_148AB5C58;
        _InterlockedDecrement(&dword_14A12BCBC);
        sub_14663E090((__int64)v467);
        goto LABEL_94;
      }
      v16 = v433;
    }
    v353 = (*(double *)(Parameter + 0x418) + *(double *)(Parameter + 0x430)) * 0.5;
    v354 = (*(double *)(Parameter + 0x420) + *(double *)(Parameter + 0x438)) * 0.5;
    v355 = (*(double *)(Parameter + 0x428) + *(double *)(Parameter + 0x440)) * 0.5;
    v356 = 0x98LL * v22;
    _XMM5 = COERCE_UNSIGNED_INT64(v355 - *(double *)(v356 + v16 + 0x48));
    *((_QWORD *)&v359 + 1) = 0;
    *(double *)&v359 = v353 - *(double *)(v356 + v16 + 0x38);
    _XMM0 = v359;
    *((_QWORD *)&v359 + 1) = 0;
    *(double *)&v359 = v354 - *(double *)(v356 + v16 + 0x40);
    _XMM2 = v359;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
    *(float *)&v359 = (float)(*(float *)&_XMM1 * *(float *)(v356 + v16 + 0x28))
                    + (float)(*(float *)&_XMM2 * *(float *)(v356 + v16 + 0x2C));
    __asm { vcvtsd2ss xmm1, xmm5, xmm5 }
    v364 = *(float *)&v359 + (float)(*(float *)&_XMM1 * *(float *)(v356 + v16 + 0x30));
    v500 = *(float *)(Parameter + 0x694);
    v365 = *(_DWORD **)(Parameter + 0x250);
    v366 = (__m128)*(unsigned __int64 *)(v356 + v16 + 0x28);
    v496 = v355 - (float)(v364 * *(float *)(v356 + v16 + 0x30));
    v499 = *(_QWORD *)(Parameter + 0x68C);
    v495 = v354 - (float)(v364 * _mm_shuffle_ps(v366, v366, 0x55).m128_f32[0]);
    v494 = v353 - (float)(v364 * v366.m128_f32[0]);
    LODWORD(v356) = *v365;
    v367 = *(_QWORD ***)(Parameter + 0x238);
    v506 = v356;
    v368 = (*(__int64 (__fastcall **)(_QWORD, _QWORD, _QWORD))(*(_QWORD *)**v367 + 0xA0LL))(**v367, 0, 0);
    v369 = sub_146703440(Parameter, v368, 0);
    v370 = *(_QWORD *)(Parameter + 0x2C0);
    v508 = v369;
    sub_14670C340(v370, 0x2000000, &v482, 0);
    goto LABEL_92;
  }
  v532 = 0;
  v565 = 1000.0;
  n0x1E_1 = 0x1E;
  n2_1 = 2;
  v563 = 0;
  v559 = 0xFFFFFFFF;
  v564 = 0;
  v566 = 0;
  v567 = 0;
  sub_14663CBB0((__int64)v474);
  v477 = 1;
  v474[0] = &off_148AB5D40;
  _InterlockedIncrement(&dword_14A12BCBC);
  _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x430) - *(double *)(Parameter + 0x418));
  v438 = ymmword_148190000;
  v439 = 1.0;
  _XMM4 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x440) - *(double *)(Parameter + 0x428));
  _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x438) - *(double *)(Parameter + 0x420));
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  v480 = 1;
  v474[0] = &off_148AB63E0;
  v444 = *(float *)&_XMM0;
  __asm
  {
    vcvtsd2ss xmm0, xmm4, xmm4
    vcvtsd2ss xmm1, xmm3, xmm3
  }
  v478 = &off_148AB62F8;
  v446 = *(float *)&_XMM0;
  v475 = 0.0;
  v443 = 0.0;
  v442 = 0.0;
  v441 = 0.0;
  v445 = *(float *)&_XMM1;
  n3_1 = 3;
  v479 = v474;
  v440 = 0;
  __asm { vzeroupper }
  sub_14665D180((__int64)v474);
  v207 = *(double *)(Parameter + 0x428) + *(double *)(Parameter + 0x440);
  *(double *)&_XMM3 = *(double *)(Parameter + 0x420) + *(double *)(Parameter + 0x438);
  v208 = *(double *)(Parameter + 0x430) + *(double *)(Parameter + 0x418);
  v209 = Parameter | (*(_QWORD *)(Parameter + 8) << 0x30);
  v538 = 0;
  v535 = v209;
  v537 = *(_QWORD *)(Parameter + 0xC0);
  v539 = *(__int16 *)(Parameter + 0xEC);
  v541 = *(__int16 *)(Parameter + 0xEE);
  v540 = 0;
  v211 = v208 * 0.5;
  v210 = *(unsigned __int64 *)&v211;
  v536 = (unsigned __int64)&qword_1514522C0 | (qword_1514522C8 << 0x30);
  v212 = 0x98LL * v22;
  v390 = *(double *)&_XMM3 * 0.5;
  *(double *)&v416[8] = *(double *)&_XMM3 * 0.5;
  v393 = v207 * 0.5;
  *(double *)v416 = v211;
  v213 = *(float *)(v212 + v16 + 0x30);
  v547 = *(_QWORD *)(v212 + v16 + 0x28);
  *(double *)&v416[0x10] = v207 * 0.5;
  *(float *)&v424[8] = 0.0;
  *(float *)&v424[4] = 0.0;
  *(float *)v424 = 0.0;
  v425 = 0.0;
  *(float *)&v424[0x10] = 0.0;
  *(float *)&v424[0xC] = 0.0;
  v542 = 0;
  v543 = 0xFFFFFFFE;
  LODWORD(_XMM0) = *(_DWORD *)(Parameter + 0x8B0);
  v214 = *(_QWORD *)(Parameter + 0x2C0);
  v553 = 0.0;
  v552 = 0.0;
  v551 = 0.0;
  v555 = 0.0;
  v548 = v213;
  v557 = 0;
  v215 = *(_WORD *)(v214 + 0x82E30);
  v560 = *(float *)&_XMM0;
  _XMM0 = *(unsigned __int64 *)(Parameter + 0x6B0);
  __asm { vcvtpd2ps xmm0, xmm0 }
  v554 = *(float *)&_XMM0;
  *(float *)&_XMM3 = v446 * *(float *)(v212 + v16 + 0x30);
  v561 = (float)((float)(v28 * *(float *)&v547) + (float)(v29 * *((float *)&v547 + 1))) + (float)(v213 * v379);
  v218 = *(unsigned int *)(Parameter + 0x1E8);
  v374 = (float)(fabs(v444 * *(float *)(v212 + v16 + 0x28)) + fabs(v445 * *(float *)(v212 + v16 + 0x2C)))
       + COERCE_FLOAT(_XMM3 & 0x7FFFFFFF);
  LODWORD(_XMM0) = *(_DWORD *)(Parameter + 0x1F4);
  v220 = v218;
  *(float *)&v220 = *(float *)&v218 - *(float *)&_XMM0;
  _XMM7 = v220;
  v222 = (unsigned int)_XMM0;
  *(float *)&v222 = *(float *)&_XMM0 + *(float *)&v218;
  _XMM8 = v222;
  v558 = v215;
  do
  {
    v223 = *(unsigned int **)(n0x10 + *(_QWORD *)(Parameter + 0x220));
    __asm { vminss  xmm4, xmm7, dword ptr [rcx+18h] }
    _XMM0 = v223[8];
    _XMM1 = v223[7];
    __asm { vminss  xmm11, xmm0, xmm11 }
    _XMM0 = v223[0xB];
    __asm
    {
      vmaxss  xmm13, xmm0, xmm13
      vmaxss  xmm0, xmm8, dword ptr [rcx+24h]
    }
    v398 = *(float *)&_XMM0;
    _XMM8 = _XMM0;
    __asm { vminss  xmm10, xmm1, xmm10 }
    _XMM1 = v223[0xA];
    __asm { vmaxss  xmm12, xmm1, xmm12 }
    *(float *)(Parameter + 0x1E8) = (float)(*(float *)&_XMM0 + *(float *)&_XMM4) * 0.5;
    _XMM7 = _XMM4;
    *(float *)(Parameter + 0x1EC) = (float)(*(float *)&_XMM10 + *(float *)&_XMM12) * 0.5;
    *(float *)(Parameter + 0x1F0) = (float)(*(float *)&_XMM11 + *(float *)&_XMM13) * 0.5;
    *(float *)(Parameter + 0x1F4) = (float)(*(float *)&_XMM0 - *(float *)&_XMM4) * 0.5;
    v388 = *(float *)&_XMM4;
    *(float *)(Parameter + 0x1F8) = (float)(*(float *)&_XMM12 - *(float *)&_XMM10) * 0.5;
    *(float *)(Parameter + 0x1FC) = (float)(*(float *)&_XMM13 - *(float *)&_XMM11) * 0.5;
    v234 = *(_QWORD *)(Parameter + 0x2A0);
    *(double *)(Parameter + 0x1E8) = *(double *)(v234 + 0x100);
    *(_DWORD *)(Parameter + 0x1F0) = *(_DWORD *)(v234 + 0x108);
    *(double *)(Parameter + 0x1F4) = *(double *)(v234 + 0x110);
    *(_QWORD *)&_XMM0 = *(_QWORD *)(Parameter + 0x68C);
    *(_DWORD *)(Parameter + 0x1FC) = *(_DWORD *)(v234 + 0x118);
    v235 = *(float *)(Parameter + 0x1F8);
    v236 = *(float *)(Parameter + 0x1FC);
    v237 = *(_DWORD *)(Parameter + 0x694);
    v238 = *(double *)(v212 + v16 + 0x48);
    v239 = *(double *)(v212 + v16 + 0x40);
    v549 = *(double *)&_XMM0;
    v240 = (__m128)*(unsigned int *)(Parameter + 0x1F4);
    v240.m128_f32[0] = (float)((float)(*(float *)(Parameter + 0x1F4) * *(float *)(Parameter + 0x1F4))
                             + (float)(v235 * v235))
                     + (float)(v236 * v236);
    _XMM1 = _mm_sqrt_ps(_mm_shuffle_ps(v240, v240, 0));
    _XMM5 = COERCE_UNSIGNED_INT64(v393 - v238);
    _XMM2 = COERCE_UNSIGNED_INT64(v390 - v239);
    v240.m128_u64[1] = *((_QWORD *)&v210 + 1);
    *(double *)v240.m128_u64 = *(double *)&v210 - *(double *)(v212 + v16 + 0x38);
    _XMM0 = v240;
    v550 = v237;
    __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
    LODWORD(v234) = **(_DWORD **)(Parameter + 0x250);
    __asm
    {
      vextractps [rbp+690h+var_10C], xmm1, 3
      vcvtsd2ss xmm1, xmm0, xmm0
    }
    v240.m128_u64[1] = *((_QWORD *)&_XMM1 + 1);
    v240.m128_f32[0] = *(float *)&_XMM1 * *(float *)(v212 + v16 + 0x28);
    __asm { vcvtsd2ss xmm1, xmm5, xmm5 }
    *(double *)v240.m128_u64 = (float)((float)(v240.m128_f32[0]
                                             + (float)(*(float *)&_XMM2 * *(float *)(v212 + v16 + 0x2C)))
                                     + (float)(*(float *)&_XMM1 * *(float *)(v212 + v16 + 0x30)));
    _XMM3 = v240;
    __asm { vcvtsd2ss xmm1, xmm3, xmm3 }
    v556 = v234;
    if ( COERCE_FLOAT(_XMM1 & 0x7FFFFFFF) < v374 )
    {
      v250 = *(_QWORD *)(Parameter + 0x2C0);
      v251 = (*(double *)(Parameter + 0x438) + *(double *)(Parameter + 0x420)) * 0.5;
      v252 = (*(double *)(Parameter + 0x418) + *(double *)(Parameter + 0x430)) * 0.5;
      v253 = (*(double *)(Parameter + 0x440) + *(double *)(Parameter + 0x428)) * 0.5;
      *((_QWORD *)&v255 + 1) = 0;
      *(double *)&v255 = v252 - *(double *)(v212 + v16 + 0x38);
      _XMM0 = v255;
      __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
      v257 = *(float *)&_XMM1 * *(float *)(v212 + v16 + 0x28);
      *((_QWORD *)&v255 + 1) = 0;
      *(double *)&v255 = v253 - v238;
      _XMM5 = v255;
      __asm { vcvtsd2ss xmm1, xmm5, xmm5 }
      v260 = (__m128)*(unsigned __int64 *)(v212 + v16 + 0x28);
      *((_QWORD *)&v255 + 1) = 0;
      *(double *)&v255 = v251 - v239;
      _XMM2 = v255;
      __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
      v263 = (float)(v257 + (float)(*(float *)&_XMM2 * *(float *)(v212 + v16 + 0x2C)))
           + (float)(*(float *)&_XMM1 * *(float *)(v212 + v16 + 0x30));
      v264 = v253 - (float)(v263 * *(float *)(v212 + v16 + 0x30));
      v544 = v252 - (float)(v260.m128_f32[0] * v263);
      v545 = v251 - (float)(_mm_shuffle_ps(v260, v260, 0x55).m128_f32[0] * v263);
      v546 = v264;
      sub_14670C340(v250, 0x2000000, &v532, 0);
      v210 = *(unsigned __int64 *)v416;
      _XMM7 = LODWORD(v388);
      _XMM8 = LODWORD(v398);
      v393 = *(double *)&v416[0x10];
      v390 = *(double *)&v416[8];
    }
    n0x10 += 8;
  }
  while ( n0x10 < 0x10 );
  v478 = &off_148AB5C58;
  _InterlockedDecrement(&dword_14A12BCBC);
  sub_14663E090((__int64)v474);
LABEL_94:
  v461 = __rdtsc();
  return qword_149A05E08(&n0x2800);
}

// --- End Function: sub_14677FE30 (0x14677FE30) ---

// --- Function: CRigidEntity::ApplyStateFromNetwork (0x146782C30) ---
unsigned __int64 __fastcall CRigidEntity::ApplyStateFromNetwork(_QWORD *a1, __int64 a2)
{
  float v2; // xmm1_4
  volatile signed __int64 *v4; // rdi
  __int64 v5; // rax
  unsigned __int64 n0x200000; // rax

  if ( (a1[0x41] & 0x40000000) != 0 )
  {
    if ( *((_BYTE *)a1 + 0x94E) || *((float *)a1 + 0x252) >= 0.0 )
    {
      *((float *)a1 + 0x252) = *((float *)a1 + 0x252) - v2;
    }
    else
    {
      LOBYTE(a2) = 1;
      (*(void (__fastcall **)(_QWORD *, __int64))(*a1 + 0xD8LL))(a1, a2);
    }
  }
  v4 = a1 + 0x11E;
  v5 = _InterlockedCompareExchange64(a1 + 0x11E, 0x200000, 0);
  if ( v5 )
    sub_1403DE750(
      (__int64)v4,
      v5,
      0,
      (__int64)"CRigidEntity::ApplyStateFromNetwork",
      (__int64)"m_netDesiredStateLock",
      1);
  n0x200000 = *((unsigned __int8 *)a1 + 0x94D);
  if ( !(_BYTE)n0x200000 )
  {
    n0x200000 = *((unsigned __int8 *)a1 + 0x94E);
    if ( !(_BYTE)n0x200000 )
    {
      if ( a1[0x11D] )
        n0x200000 = (*(__int64 (__fastcall **)(_QWORD *, _QWORD, _QWORD))(*a1 + 0x3B0LL))(a1, *a1, 0);
    }
  }
  if ( a1 != (_QWORD *)0xFFFFFFFFFFFFF710LL )
  {
    n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v4, n0x200000);
  }
  return n0x200000;
}

// --- End Function: CRigidEntity::ApplyStateFromNetwork (0x146782C30) ---

// --- Function: CRigidEntity::ApplyStateFromNetworkInternal (0x146782D40) ---
double __fastcall CRigidEntity::ApplyStateFromNetworkInternal(__int64 *Parameter, float a2, char a3)
{
  double result; // xmm0_8
  unsigned __int64 v6; // rdx
  unsigned __int64 v7; // r9
  int n0x40; // ecx
  __int64 v9; // r8
  __int64 v10; // rax
  __int64 v11; // rcx
  char v14; // si
  double v15; // xmm0_8
  float v16; // eax
  __int128 v19; // xmm11
  double v21; // xmm0_8
  float v22; // eax
  __m128 v23; // xmm7
  float v24; // xmm8_4
  float v25; // xmm9_4
  __m128 v26; // xmm13
  signed __int64 v27; // rdx
  __int64 v28; // rcx
  __m128 v29; // xmm1
  __m128 v30; // kr00_16
  float v31; // kr00_4
  __m128 v32; // kr00_16
  float v35; // xmm1_4
  float v36; // xmm8_4
  float v37; // xmm7_4
  float v38; // xmm9_4
  __int64 v39; // rax
  float v40; // xmm3_4
  float v41; // xmm10_4
  float v42; // kr00_4
  float v43; // xmm1_4
  float v44; // xmm0_4
  float v45; // xmm8_4
  float v46; // xmm9_4
  float v47; // xmm7_4
  __int64 v49; // rax
  float v50; // xmm8_4
  float v51; // xmm7_4
  float v52; // xmm5_4
  float v53; // xmm4_4
  const char *v54; // r9
  double *v55; // rax
  double v56; // xmm11_8
  double v57; // xmm9_8
  double v58; // xmm10_8
  double v64; // xmm0_8
  float v70; // xmm10_4
  float v71; // xmm6_4
  float v72; // xmm5_4
  __m128 v73; // kr00_16
  __int64 v76; // rcx
  __int64 v82; // rax
  __int128 v87; // kr00_16
  float v89; // xmm6_4
  float v90; // xmm7_4
  float v91; // xmm8_4
  __int64 v92; // rax
  float v93; // xmm10_4
  __int128 v97; // kr00_16
  double v99; // kr00_8
  float v100; // xmm9_4
  bool v101; // r14
  bool v102; // di
  float v103; // xmm8_4
  float v104; // xmm6_4
  float v105; // xmm7_4
  float v106; // xmm9_4
  float v107; // xmm10_4
  double v108; // xmm4_8
  double v109; // xmm5_8
  double v110; // xmm10_8
  double v115; // xmm0_8
  double v116; // xmm1_8
  double *v118; // rdx
  double *v119; // rax
  double *v120; // rcx
  double v121; // xmm2_8
  double v123; // xmm6_8
  double v124; // xmm7_8
  float v126; // xmm5_4
  double v129; // xmm6_8
  double v130; // xmm5_8
  __int128 v131; // kr00_16
  float v134; // xmm8_4
  float v139; // xmm7_4
  float v140; // kr00_4
  float v141; // xmm3_4
  float v142; // xmm8_4
  float v143; // xmm7_4
  __int64 v144; // rcx
  bool v145; // cl
  bool v146; // al
  __int128 v147; // kr00_16
  float v150; // xmm7_4
  __m128 v151; // xmm5
  float v152; // xmm6_4
  float *v153; // rax
  float v154; // xmm5_4
  float v155; // xmm0_4
  __m128 v156; // kr00_16
  float v159; // xmm1_4
  float X_1; // xmm4_4
  __m128 v161; // xmm7
  __m128 v162; // kr00_16
  float v163; // kr00_4
  float v164; // xmm0_4
  __m128 v165; // kr00_16
  float v168; // xmm1_4
  __m128 v169; // xmm0
  __m128 v170; // kr00_16
  float v171; // xmm2_4
  float v172; // xmm1_4
  float v173; // xmm3_4
  float v174; // xmm4_4
  float v175; // xmm5_4
  __m128 v176; // kr00_16
  float v179; // xmm1_4
  float v180; // xmm1_4
  float *v181; // rcx
  float *v182; // rax
  float *v183; // rdx
  float v184; // xmm6_4
  float v185; // xmm7_4
  double v186; // xmm0_8
  float v187; // ecx
  __int128 v189; // kr00_16
  float v190; // xmm2_4
  float v192; // xmm5_4
  float v193; // xmm6_4
  float v194; // kr00_4
  float v195; // xmm3_4
  float v196; // xmm2_4
  float v197; // xmm1_4
  float v198; // xmm3_4
  float v199; // xmm10_4
  __m128 v200; // kr00_16
  __int64 v201; // rcx
  bool v202; // cl
  bool v203; // al
  __int128 v204; // kr00_16
  float X_2; // xmm1_4
  float v208; // xmm9_4
  float v209; // xmm8_4
  float v210; // xmm6_4
  __m128 v211; // kr00_16
  float v212; // xmm7_4
  float v215; // xmm9_4
  float v216; // xmm10_4
  float v217; // xmm11_4
  float v218; // xmm12_4
  float Y_1; // xmm6_4
  double v220; // xmm0_8
  float v221; // xmm8_4
  __m128 v222; // kr00_16
  __m128 v223; // xmm4
  float v224; // xmm8_4
  float v225; // xmm9_4
  __int64 v226; // rcx
  float v227; // xmm1_4
  float v228; // xmm2_4
  __int64 v229; // rax
  float v230; // xmm12_4
  float v231; // xmm13_4
  float v232; // xmm14_4
  float v233; // xmm15_4
  __m128 v234; // kr00_16
  float v237; // xmm15_4
  __m128 v238; // kr00_16
  __int64 v241; // rax
  __int64 v242; // rax
  float v243; // xmm12_4
  __m128 v244; // kr00_16
  float v247; // xmm12_4
  __m128 v248; // kr00_16
  __m128 v249; // xmm1
  double v252; // kr00_8
  __int64 v253; // rdx
  __int128 v254; // kr00_16
  __int128 v255; // xmm2
  __int128 v256; // xmm1
  __int128 v257; // kr00_16
  __int128 v258; // xmm3
  __int128 v259; // kr00_16
  __int128 v260; // xmm2
  __int128 v261; // kr00_16
  __int128 v263; // kr00_16
  __int128 v265; // kr00_16
  float X; // xmm1_4
  float v269; // xmm9_4
  float v270; // xmm8_4
  __m128 v271; // kr00_16
  float v272; // xmm7_4
  float v273; // xmm6_4
  float v276; // xmm9_4
  float v277; // xmm10_4
  float v278; // xmm11_4
  float v279; // xmm12_4
  float Y; // xmm6_4
  double v281; // xmm0_8
  float v282; // xmm8_4
  __int64 v283; // rax
  double v284; // kr00_8
  __int64 v285; // rax
  __int64 v286; // rax
  unsigned int v287; // [rsp+30h] [rbp-D0h]
  float v288; // [rsp+30h] [rbp-D0h]
  float v289; // [rsp+30h] [rbp-D0h]
  float v290; // [rsp+34h] [rbp-CCh]
  float v291; // [rsp+34h] [rbp-CCh]
  float v292; // [rsp+38h] [rbp-C8h]
  float v293; // [rsp+38h] [rbp-C8h]
  float v294; // [rsp+38h] [rbp-C8h]
  float v295; // [rsp+38h] [rbp-C8h]
  float v296; // [rsp+3Ch] [rbp-C4h]
  float v297; // [rsp+3Ch] [rbp-C4h]
  float v298; // [rsp+40h] [rbp-C0h]
  float v299; // [rsp+44h] [rbp-BCh]
  float v300; // [rsp+48h] [rbp-B8h]
  float v301; // [rsp+48h] [rbp-B8h]
  float v302; // [rsp+4Ch] [rbp-B4h]
  float v303; // [rsp+4Ch] [rbp-B4h]
  float v304; // [rsp+50h] [rbp-B0h]
  float v305; // [rsp+50h] [rbp-B0h]
  float v306; // [rsp+54h] [rbp-ACh]
  float v307; // [rsp+54h] [rbp-ACh]
  float v308; // [rsp+54h] [rbp-ACh]
  float v309; // [rsp+54h] [rbp-ACh]
  float v310; // [rsp+58h] [rbp-A8h]
  float v311; // [rsp+5Ch] [rbp-A4h]
  float v312; // [rsp+5Ch] [rbp-A4h]
  float v313; // [rsp+60h] [rbp-A0h]
  float v314; // [rsp+60h] [rbp-A0h]
  float v315; // [rsp+68h] [rbp-98h] BYREF
  float v316; // [rsp+6Ch] [rbp-94h]
  float v317; // [rsp+70h] [rbp-90h]
  float v318; // [rsp+74h] [rbp-8Ch]
  float v319; // [rsp+78h] [rbp-88h]
  float v320; // [rsp+7Ch] [rbp-84h]
  float v321; // [rsp+80h] [rbp-80h]
  float v322; // [rsp+84h] [rbp-7Ch]
  float v323; // [rsp+88h] [rbp-78h]
  double v324; // [rsp+90h] [rbp-70h]
  float v325; // [rsp+98h] [rbp-68h]
  float v326; // [rsp+9Ch] [rbp-64h]
  float v327; // [rsp+A0h] [rbp-60h]
  float v328; // [rsp+A4h] [rbp-5Ch]
  float v329; // [rsp+A8h] [rbp-58h]
  float v330; // [rsp+ACh] [rbp-54h]
  __int128 v331; // [rsp+B0h] [rbp-50h] BYREF
  float v332; // [rsp+C0h] [rbp-40h]
  float v333; // [rsp+C4h] [rbp-3Ch]
  float v334; // [rsp+C8h] [rbp-38h]
  float v335; // [rsp+CCh] [rbp-34h]
  float v336; // [rsp+D0h] [rbp-30h]
  int v337; // [rsp+D4h] [rbp-2Ch]
  double v338; // [rsp+D8h] [rbp-28h]
  float v339; // [rsp+E0h] [rbp-20h]
  float v340; // [rsp+E8h] [rbp-18h]
  double v341; // [rsp+F0h] [rbp-10h]
  double v342; // [rsp+F8h] [rbp-8h]
  double v343; // [rsp+100h] [rbp+0h]
  float v344; // [rsp+108h] [rbp+8h]
  float v345; // [rsp+110h] [rbp+10h]
  float v346; // [rsp+114h] [rbp+14h]
  float v347; // [rsp+118h] [rbp+18h]
  float v348; // [rsp+11Ch] [rbp+1Ch]
  double v349; // [rsp+120h] [rbp+20h]
  double v350; // [rsp+128h] [rbp+28h]
  float v351; // [rsp+130h] [rbp+30h]
  float v352; // [rsp+134h] [rbp+34h]
  float v353; // [rsp+138h] [rbp+38h]
  double v354; // [rsp+140h] [rbp+40h]
  __int128 v355; // [rsp+148h] [rbp+48h] BYREF
  double v356; // [rsp+158h] [rbp+58h]
  int v357; // [rsp+160h] [rbp+60h] BYREF
  __int128 v358; // [rsp+168h] [rbp+68h]
  double v359; // [rsp+178h] [rbp+78h]
  float v360; // [rsp+180h] [rbp+80h]
  float v361; // [rsp+184h] [rbp+84h]
  float v362; // [rsp+188h] [rbp+88h]
  float v363; // [rsp+18Ch] [rbp+8Ch]
  unsigned int v364; // [rsp+190h] [rbp+90h]
  unsigned int v365; // [rsp+194h] [rbp+94h]
  int n0x300; // [rsp+198h] [rbp+98h]
  char v367; // [rsp+19Ch] [rbp+9Ch]
  __int64 v368; // [rsp+1A0h] [rbp+A0h]
  double v369; // [rsp+1B0h] [rbp+B0h]
  double v370; // [rsp+1B8h] [rbp+B8h]
  double v371; // [rsp+1C0h] [rbp+C0h]
  int n9; // [rsp+1C8h] [rbp+C8h] BYREF
  unsigned int v373; // [rsp+1CCh] [rbp+CCh]
  float v374; // [rsp+1D0h] [rbp+D0h]
  float v375; // [rsp+1D4h] [rbp+D4h]
  float v376; // [rsp+1D8h] [rbp+D8h]
  __int64 v377; // [rsp+1DCh] [rbp+DCh]
  float v378; // [rsp+1E4h] [rbp+E4h]
  float v379; // [rsp+1E8h] [rbp+E8h]
  unsigned int v380; // [rsp+1ECh] [rbp+ECh]
  unsigned int v381; // [rsp+1F0h] [rbp+F0h]
  double v382; // [rsp+1F8h] [rbp+F8h]
  double v383; // [rsp+200h] [rbp+100h]
  double v384; // [rsp+208h] [rbp+108h]
  float v385; // [rsp+210h] [rbp+110h]
  float v386[3]; // [rsp+214h] [rbp+114h] BYREF
  int v387; // [rsp+220h] [rbp+120h] BYREF
  unsigned __int64 v388; // [rsp+224h] [rbp+124h]
  int v389; // [rsp+22Ch] [rbp+12Ch]
  double v390; // [rsp+240h] [rbp+140h]
  double v391; // [rsp+248h] [rbp+148h]
  double v392; // [rsp+250h] [rbp+150h]
  float v393; // [rsp+258h] [rbp+158h]
  float v394; // [rsp+25Ch] [rbp+15Ch]
  float v395; // [rsp+260h] [rbp+160h]
  float v396; // [rsp+264h] [rbp+164h]
  unsigned int v397; // [rsp+268h] [rbp+168h]
  int v398; // [rsp+26Ch] [rbp+16Ch]
  unsigned __int64 v399; // [rsp+270h] [rbp+170h]
  float v400; // [rsp+278h] [rbp+178h]
  int v401; // [rsp+27Ch] [rbp+17Ch]
  float v402[4]; // [rsp+280h] [rbp+180h] BYREF
  __int128 v403; // [rsp+290h] [rbp+190h] BYREF
  double v404; // [rsp+2A0h] [rbp+1A0h]
  int n0x2800; // [rsp+2B0h] [rbp+1B0h] BYREF
  __int64 v406; // [rsp+2B4h] [rbp+1B4h]
  int v407; // [rsp+2BCh] [rbp+1BCh]
  __int64 v408; // [rsp+2C0h] [rbp+1C0h]
  unsigned __int64 v409; // [rsp+2C8h] [rbp+1C8h]
  __int64 v410; // [rsp+2D0h] [rbp+1D0h]
  __int64 v411; // [rsp+2D8h] [rbp+1D8h]
  double v412[3]; // [rsp+300h] [rbp+200h] BYREF
  double v413[3]; // [rsp+318h] [rbp+218h] BYREF
  int n8; // [rsp+330h] [rbp+230h] BYREF
  double v415; // [rsp+338h] [rbp+238h]
  __int128 v417; // [rsp+350h] [rbp+250h]
  __int128 v418; // [rsp+360h] [rbp+260h]
  __int128 v419; // [rsp+370h] [rbp+270h]
  __int128 v420; // [rsp+380h] [rbp+280h]
  __int128 v421; // [rsp+390h] [rbp+290h]
  __int128 v422; // [rsp+3A0h] [rbp+2A0h]
  float v423; // [rsp+3B0h] [rbp+2B0h]
  float v424; // [rsp+3B4h] [rbp+2B4h]
  float v425; // [rsp+3B8h] [rbp+2B8h]
  int v426; // [rsp+3BCh] [rbp+2BCh]
  __int128 v427; // [rsp+3C0h] [rbp+2C0h]
  int v428; // [rsp+3D0h] [rbp+2D0h]
  float v429; // [rsp+3D4h] [rbp+2D4h]
  unsigned int v430; // [rsp+3D8h] [rbp+2D8h]
  unsigned int v431; // [rsp+3DCh] [rbp+2DCh]
  char v432[16]; // [rsp+3E0h] [rbp+2E0h] BYREF
  double v433; // [rsp+3F0h] [rbp+2F0h]
  float v434; // [rsp+4E0h] [rbp+3E0h]
  float v435; // [rsp+4E0h] [rbp+3E0h]
  float v436; // [rsp+4E0h] [rbp+3E0h]
  float v437; // [rsp+4E0h] [rbp+3E0h]
  float v439; // [rsp+4F8h] [rbp+3F8h]

  n0x2800 = 0x2800;
  v406 = 0;
  v407 = 0;
  v409 = 0;
  v410 = 0;
  v411 = 0;
  v408 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  if ( !Parameter[0x11D] || !(unsigned __int8)sub_1468D0530(Parameter) )
    goto LABEL_185;
  v7 = Parameter[0xA0];
  LOBYTE(v6) = 0;
  n0x40 = 0;
  v9 = 0;
  do
  {
    if ( 1LL << n0x40 > v7 )
      break;
    if ( (v7 & (1LL << n0x40)) != 0 )
    {
      v6 = (unsigned __int8)v6;
      if ( (*(_DWORD *)(v9 + Parameter[0x9E] + 0x68) & 0x100) == 0 )
        v6 = 1;
    }
    ++n0x40;
    v9 += 0x100;
  }
  while ( n0x40 < 0x40 );
  v10 = Parameter[0x58];
  v11 = Parameter[0x11D];
  _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(v10 + 0x81928) - *(double *)(v11 + 0xC0));
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  if ( (_BYTE)v6 )
    *(_QWORD *)&result = 0x3F000000;
  else
    *(_QWORD *)&result = *(unsigned int *)(v10 + 0x188);
  if ( *(float *)&_XMM2 > *(float *)&result && *(_BYTE *)(v11 + 0x60) )
  {
    *(_BYTE *)(v11 + 0xBD) = 0;
    goto LABEL_185;
  }
  v14 = 0;
  v355 = *(_OWORD *)(v11 + 8);
  v356 = *(double *)(v11 + 0x18);
  v15 = *(double *)(v11 + 0x30);
  v16 = *(float *)(v11 + 0x38);
  LODWORD(_XMM14) = *(_DWORD *)(v11 + 0x2C);
  v318 = *(float *)&_XMM14;
  _XMM15.m128_i32[0] = *(_DWORD *)(v11 + 0x20);
  v315 = _XMM15.m128_f32[0];
  LODWORD(v19) = *(_DWORD *)(v11 + 0x24);
  v316 = *(float *)&v19;
  LODWORD(_XMM12) = *(_DWORD *)(v11 + 0x28);
  v317 = *(float *)&_XMM12;
  v338 = v15;
  v21 = *(double *)(v11 + 0x3C);
  v339 = v16;
  v22 = *(float *)(v11 + 0x44);
  v23.m128_i32[0] = 0;
  v24 = 0.0;
  v25 = 0.0;
  v343 = v21;
  v296 = 0.0;
  v290 = 0.0;
  v326 = 0.0;
  v344 = v22;
  v26.m128_i32[0] = 0;
  if ( *((_WORD *)Parameter + 0x472) || *((_WORD *)Parameter + 0x81) && *((char *)Parameter + 0x100) < 0 )
  {
    v47 = v339;
    v46 = *((float *)&v338 + 1);
    v41 = *(float *)&v338;
    v45 = *(float *)&v343;
    v299 = v344;
    v298 = *((float *)&v343 + 1);
    v434 = v339;
    v310 = *((float *)&v338 + 1);
    v319 = *(float *)&v338;
    v439 = *(float *)&v343;
  }
  else
  {
    v27 = _InterlockedIncrement64(Parameter + 0x119);
    if ( (v27 & 0x200000) != 0 )
      sub_1403CD0A0(
        Parameter + 0x119,
        v27,
        (__int64)"CRigidEntity::ApplyStateFromNetworkInternal",
        (__int64)"m_lockContacts",
        1);
    v28 = Parameter[0x9A];
    if ( (__int64 *)v28 == Parameter + 0x9A )
      goto LABEL_27;
    do
    {
      v29 = (__m128)*(unsigned int *)(v28 + 0xF8);
      v30 = v29;
      v30.m128_f32[0] = (float)(v29.m128_f32[0] * *(float *)(v28 + 0x70)) + v23.m128_f32[0];
      v23 = v30;
      v24 = (float)(v29.m128_f32[0] * *(float *)(v28 + 0x74)) + v24;
      v30.m128_f32[0] = v29.m128_f32[0] * *(float *)(v28 + 0x78);
      v28 = *(_QWORD *)v28;
      v14 |= v29.m128_f32[0] > 0.0099999998;
      v31 = v30.m128_f32[0] + v25;
      v25 = v31;
    }
    while ( (__int64 *)v28 != Parameter + 0x9A );
    v296 = v23.m128_f32[0];
    v290 = v24;
    v326 = v31;
    if ( !v14 )
    {
LABEL_27:
      v47 = v339;
      v46 = *((float *)&v338 + 1);
      v45 = *(float *)&v343;
      v41 = *(float *)&v338;
      v299 = v344;
      v44 = *((float *)&v343 + 1);
      v434 = v339;
      v310 = *((float *)&v338 + 1);
      v439 = *(float *)&v343;
    }
    else
    {
      v32 = v23;
      v32.m128_f32[0] = (float)((float)(v23.m128_f32[0] * v23.m128_f32[0]) + (float)(v24 * v24)) + (float)(v25 * v25);
      if ( v32.m128_f32[0] <= 9.9999997e-21 )
      {
        v290 = 0.0;
        v37 = 0.0;
        v36 = 0.0;
        v38 = 1.0;
      }
      else
      {
        _XMM0 = _mm_shuffle_ps(v32, v32, 0);
        __asm { vrsqrtps xmm3, xmm0 }
        _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
        v35 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v32.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
            * _XMM3.m128_f32[0];
        v36 = v24 * v35;
        v290 = v36;
        v37 = v23.m128_f32[0] * v35;
        v38 = v25 * v35;
      }
      v39 = Parameter[0x11D];
      v40 = (float)((float)(v36 * *((float *)&v338 + 1)) + (float)(v37 * *(float *)&v338)) + (float)(v38 * v339);
      v41 = *(float *)&v338 - (float)(v40 * v37);
      v310 = *((float *)&v338 + 1) - (float)(v40 * v36);
      v434 = v339 - (float)(v40 * v38);
      v42 = (float)((float)(v37 * *(float *)&v343) + (float)(v36 * *((float *)&v343 + 1))) + (float)(v38 * v344);
      v439 = v42 * v37;
      v43 = v42 * v38;
      v44 = v42 * v36;
      v45 = v42 * v37;
      v326 = v38;
      v46 = v310;
      v296 = v37;
      v47 = v434;
      v299 = v43;
      *(_BYTE *)(v39 + 0xBC) = 1;
    }
    v298 = v44;
    v319 = v41;
    v6 = _InterlockedDecrement64(Parameter + 0x119);
    if ( (v6 & 0x3FF) == 0 && (v6 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(Parameter + 0x119, v6);
    *(float *)&_XMM14 = v318;
    *(float *)&_XMM12 = v317;
    *(float *)&v19 = v316;
    _XMM15.m128_f32[0] = v315;
  }
  _XMM0 = 0;
  v387 = 1;
  v388 = 0xFFFFFFFFFFFFFFFFuLL;
  v367 = v367 & 0xF0 | 8;
  v49 = Parameter[0x17];
  v415 = 0.0;
  __asm { vmovupd [rbp+3D0h+var_190], xmm0 }
  v418 = 0;
  v420 = 0;
  v422 = 0;
  v427 = 0;
  *(_QWORD *)&result = 0x8000000000000008uLL;
  v368 = v49;
  v400 = 0.0;
  v423 = 0.0;
  v424 = 0.0;
  v425 = 0.0;
  v429 = 0.0;
  v389 = 0;
  v398 = 0;
  v401 = 0;
  v399 = 0xFFFFFFFFFFFFFFFFuLL;
  HIDWORD(v390) = 0xFFF7FFFF;
  v396 = NAN;
  v397 = 0xFFBFFFFF;
  v417 = 0;
  v419 = 0;
  v421 = 0;
  v426 = 0;
  v428 = 0;
  v430 = 0x80000000;
  v431 = 0x80000000;
  n8 = 8;
  v357 = 0;
  DWORD1(v358) = 0xFFF7FFFF;
  v364 = 0xFFBFFFFF;
  v363 = NAN;
  v365 = 0x80000000;
  v331 = xmmword_14831B1E0;
  v334 = NAN;
  v337 = 0;
  n0x300 = 0x300;
  if ( *((_BYTE *)Parameter + 0x94C) || !*(_BYTE *)(Parameter[0x11D] + 0x60) && !a3 )
    goto LABEL_176;
  if ( !(*(unsigned int (__fastcall **)(__int64 *, int *, __int64))(*Parameter + 0x28))(Parameter, &n8, v9)
    || !(*(unsigned int (__fastcall **)(__int64 *, int *))(*Parameter + 0x28))(Parameter, &v387) )
  {
    *(float *)&_XMM14 = v318;
    *(float *)&_XMM12 = v317;
    *(float *)&v19 = v316;
    _XMM15.m128_f32[0] = v315;
LABEL_176:
    *((_BYTE *)Parameter + 0x94C) = 0;
    if ( !a3 || *(_BYTE *)(Parameter[0x11D] + 0x60) )
    {
      result = *(double *)&v355;
      v285 = *Parameter;
      v360 = _XMM15.m128_f32[0];
      v361 = *(float *)&v19;
      v362 = *(float *)&_XMM12;
      v363 = *(float *)&_XMM14;
      v358 = v355;
      v359 = v356;
      (*(void (__fastcall **)(__int64 *, int *, __int64))(v285 + 0x18))(Parameter, &v357, 1);
      if ( *(_BYTE *)(Parameter[0x11D] + 0x60) )
      {
        v286 = *Parameter;
        v335 = v298;
        *(_QWORD *)&result = LODWORD(v299);
        v336 = v299;
        *((float *)&v331 + 3) = v41;
        v332 = v46;
        v333 = v47;
        v334 = v45;
        (*(void (__fastcall **)(__int64 *, __int128 *, __int64))(v286 + 0x30))(Parameter, &v331, 1);
      }
      else
      {
        *((_WORD *)Parameter + 0x80) &= ~0x10u;
      }
      Parameter[0x123] = 0;
      Parameter[0x124] = 0;
      Parameter[0x125] = 0;
      Parameter[0x120] = 0;
      Parameter[0x121] = 0;
      Parameter[0x122] = 0;
      *(__int64 *)((char *)Parameter + 0x93C) = 0;
      *((_DWORD *)Parameter + 0x251) = 0;
      Parameter[0x126] = 0;
      *((_DWORD *)Parameter + 0x24E) = 0;
    }
    if ( !*((_DWORD *)Parameter + 0x12B) )
      (*(void (__fastcall **)(__int64 *, unsigned __int64, __int128 *, float *))(*Parameter + 0x320))(
        Parameter,
        v6,
        &v355,
        &v315);
    *(_BYTE *)(Parameter[0x11D] + 0xBD) = 0;
    goto LABEL_185;
  }
  v50 = v393;
  v369 = v390;
  v324 = v390;
  v347 = *(float *)&v417;
  v370 = v391;
  v341 = v391;
  v348 = *((float *)&v417 + 1);
  v371 = v392;
  v383 = v392;
  v328 = *((float *)&v417 + 2);
  v321 = v393;
  if ( (LODWORD(v393) & 0x7F800000) == 0x7F800000
    || (v51 = v394, v322 = v394, (LODWORD(v394) & 0x7F800000) == 0x7F800000)
    || (v52 = v395, v323 = v395, (LODWORD(v395) & 0x7F800000) == 0x7F800000)
    || (v53 = v396, v320 = v396, (LODWORD(v396) & 0x7F800000) == 0x7F800000)
    || fabs(
         1.0
       - (float)((float)((float)(v393 * v393) + (float)(v396 * v396))
               + (float)((float)(v395 * v395) + (float)(v394 * v394)))) >= 0.001 )
  {
    v54 = (const char *)Parameter[0x1A];
    v393 = 0.0;
    v394 = 0.0;
    v395 = 0.0;
    v396 = 1.0;
    sub_1405C2100(0xEu, 2u, "Current rotation for entity %s was 0! Defaulting to identity.", v54);
    v53 = v396;
    v52 = v395;
    v51 = v394;
    v50 = v393;
    v371 = v392;
    v370 = v391;
    v369 = v390;
    v320 = v396;
    v323 = v395;
    v322 = v394;
    v321 = v393;
  }
  v351 = *((float *)&v417 + 3);
  v352 = *(float *)&v418;
  v353 = *((float *)&v418 + 1);
  v325 = v53;
  v304 = v50;
  v302 = v51;
  v300 = v52;
  if ( *(float *)&_XMM2 == 0.0 )
  {
    *(float *)&_XMM14 = v318;
    *(float *)&_XMM12 = v317;
    v19 = LODWORD(v316);
    _XMM15 = (__m128)LODWORD(v315);
    v350 = v356;
    v342 = *((double *)&v355 + 1);
    v64 = *(double *)&v355;
    v349 = *(double *)&v355;
  }
  else
  {
    v342 = (float)(v46 * *(float *)&_XMM2) + *((double *)&v355 + 1);
    *((double *)&v355 + 1) = v342;
    v412[0] = v439;
    v350 = (float)(*(float *)&_XMM2 * v434) + v356;
    v356 = v350;
    v412[2] = v299;
    *(double *)&v355 = (float)(v41 * *(float *)&_XMM2) + *(double *)&v355;
    v349 = *(double *)&v355;
    v412[1] = v298;
    v55 = (double *)sub_14675BD10((__int64)v432, v412, *(float *)&_XMM2);
    v56 = v55[3];
    v57 = v55[1];
    v58 = v55[2];
    _XMM0 = COERCE_UNSIGNED_INT64(v56 * v318 - (*v55 * v315 + v57 * v316 + v58 * v317));
    __asm { vcvtsd2ss xmm14, xmm0, xmm0 }
    _XMM2 = COERCE_UNSIGNED_INT64(v317 * v57 - v58 * v316 + v315 * v56 + *v55 * v318);
    __asm { vcvtsd2ss xmm15, xmm2, xmm2 }
    _XMM2 = COERCE_UNSIGNED_INT64(v58 * v315 - v317 * *v55 + v316 * v56 + v57 * v318);
    __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
    v287 = _XMM1;
    *(double *)&_XMM1 = v317 * v56;
    v19 = v287;
    _XMM2 = COERCE_UNSIGNED_INT64(*v55 * v316 - v315 * v57 + *(double *)&_XMM1 + v58 * v318);
    v64 = *(double *)&v355;
    __asm { vcvtsd2ss xmm12, xmm2, xmm2 }
    v317 = *(float *)&_XMM12;
    v315 = _XMM15.m128_f32[0];
    v316 = *(float *)&v287;
    v318 = *(float *)&_XMM14;
  }
  _XMM2 = COERCE_UNSIGNED_INT64((v342 - v341) * (v342 - v341) + (v64 - v324) * (v64 - v324) + (v350 - v383)
                                                                                            * (v350 - v383));
  __asm { vmovddup xmm0, xmm2 }
  __asm
  {
    vsqrtpd xmm3, xmm0
    vunpckhpd xmm3, xmm3, xmm3
    vcvtsd2ss xmm0, xmm3, xmm3
  }
  v311 = *(float *)&_XMM0;
  v70 = (float)(v325 * *(float *)&_XMM14)
      - (float)((float)((float)(_XMM15.m128_f32[0] * COERCE_FLOAT(LODWORD(v50) ^ 0x80000000))
                      + (float)(*(float *)&v19 * COERCE_FLOAT(LODWORD(v51) ^ 0x80000000)))
              + (float)(*(float *)&_XMM12 * COERCE_FLOAT(LODWORD(v300) ^ 0x80000000)));
  v71 = (float)((float)((float)(*(float *)&v19 * COERCE_FLOAT(LODWORD(v300) ^ 0x80000000))
                      - (float)(*(float *)&_XMM12 * COERCE_FLOAT(LODWORD(v51) ^ 0x80000000)))
              + (float)(COERCE_FLOAT(LODWORD(v50) ^ 0x80000000) * *(float *)&_XMM14))
      + (float)(_XMM15.m128_f32[0] * v325);
  v72 = (float)((float)((float)(*(float *)&_XMM12 * COERCE_FLOAT(LODWORD(v50) ^ 0x80000000))
                      - (float)(_XMM15.m128_f32[0] * COERCE_FLOAT(LODWORD(v300) ^ 0x80000000)))
              + (float)(COERCE_FLOAT(LODWORD(v51) ^ 0x80000000) * *(float *)&_XMM14))
      + (float)(*(float *)&v19 * v325);
  v73 = _XMM15;
  v73.m128_f32[0] = (float)((float)((float)(_XMM15.m128_f32[0] * COERCE_FLOAT(LODWORD(v51) ^ 0x80000000))
                                  - (float)(*(float *)&v19 * COERCE_FLOAT(LODWORD(v50) ^ 0x80000000)))
                          + (float)(*(float *)&_XMM14 * COERCE_FLOAT(LODWORD(v300) ^ 0x80000000)))
                  + (float)(*(float *)&_XMM12 * v325);
  v73.m128_f32[0] = (float)((float)(v73.m128_f32[0] * v73.m128_f32[0]) + (float)(v72 * v72))
                  + (float)((float)(v71 * v71) + (float)(v70 * v70));
  _XMM3 = _mm_shuffle_ps(v73, v73, 0);
  __asm { vrsqrtps xmm4, xmm3 }
  _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
  *(float *)&_XMM0 = acosf(
                       fabs(
                         (float)((float)(1.5
                                       - (float)((float)((float)(_XMM4.m128_f32[0] * v73.m128_f32[0]) * _XMM4.m128_f32[0])
                                               * 0.5))
                               * _XMM4.m128_f32[0])
                       * v70));
  v76 = Parameter[0x58];
  _XMM1 = *(unsigned int *)(v76 + 0x190);
  v345 = fabs(*(float *)&_XMM0 + *(float *)&_XMM0);
  _XMM0 = *(unsigned int *)(v76 + 0x18C);
  __asm { vmaxss  xmm0, xmm0, xmm5 }
  v313 = *(float *)&_XMM0;
  __asm { vmaxss  xmm0, xmm1, cs:dword_1480E06A8 }
  _XMM1 = *(unsigned int *)(v76 + 0x198);
  v82 = Parameter[0x11D];
  v346 = *(float *)&_XMM0;
  _XMM0 = *(unsigned int *)(v76 + 0x194);
  __asm { vmaxss  xmm0, xmm0, xmm5 }
  v288 = *(float *)&_XMM0;
  __asm { vmaxss  xmm0, xmm1, xmm5 }
  v330 = *(float *)&_XMM0;
  v385 = *(float *)(v76 + 0x1A0);
  v87 = LODWORD(a2);
  *(float *)&v87 = a2 / v385;
  _XMM0 = v87;
  __asm { vminss  xmm4, xmm0, xmm5 }
  v340 = *(float *)&_XMM4;
  if ( *(_BYTE *)(v82 + 0xBC) )
  {
    *(_BYTE *)(v82 + 0xBC) = 0;
    *(_BYTE *)(Parameter[0x11D] + 0xBD) = 0;
    v76 = Parameter[0x58];
    v89 = v396;
    v90 = v395;
    v91 = v394;
    v92 = *(_QWORD *)(v76 + 0x81928);
    v93 = v393;
    *(float *)&_XMM14 = v318;
    *(float *)&_XMM12 = v317;
    v19 = LODWORD(v316);
    _XMM15.m128_f32[0] = v315;
    v350 = v356;
    v342 = *((double *)&v355 + 1);
    v349 = *(double *)&v355;
    v371 = v392;
    v370 = v391;
    v369 = v390;
    v320 = v396;
    v323 = v395;
    v322 = v394;
    v321 = v393;
    Parameter[0x11F] = v92;
  }
  else
  {
    v89 = v320;
    v90 = v323;
    v91 = v322;
    v93 = v321;
  }
  _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(v76 + 0x81928) - *((double *)Parameter + 0x11F));
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  v97 = _XMM2;
  *(float *)&v97 = *(float *)&_XMM2 / *(float *)(v76 + 0x1AC);
  _XMM0 = v97;
  if ( *(float *)&v97 >= 0.0 )
    __asm { vminss  xmm1, xmm0, xmm5 }
  else
    LODWORD(_XMM1) = 0;
  HIDWORD(v99) = 0;
  *(float *)&v99 = (float)(1.0 - *(float *)&_XMM1) * *(float *)(v76 + 0x1A8);
  result = v99;
  v100 = *(float *)&v99 + *(float *)&_XMM1;
  v327 = *(float *)&v99 + *(float *)&_XMM1;
  if ( !*(_DWORD *)(v76 + 0x1A4) || a2 <= 0.0 )
  {
    if ( v311 < v313 )
    {
      *(_QWORD *)&result = LODWORD(v345);
      if ( v345 < v346 )
      {
        v254 = LODWORD(v345);
        *(float *)&v254 = (float)((float)(v345 * v330) / v346) + 1.0;
        v255 = v254;
        v257 = LODWORD(v288);
        *(float *)&v257 = v288 * v311;
        v256 = v257;
        v259 = v255;
        *(float *)&v259 = *(float *)&v255 * v100;
        v258 = v259;
        v261 = v256;
        *(float *)&v261 = *(float *)&v256 / v313;
        v260 = v261;
        v263 = v258;
        *(float *)&v263 = *(float *)&v258 * *(float *)&_XMM4;
        _XMM0 = v263;
        __asm { vminss  xmm0, xmm0, xmm5 }
        v330 = *(float *)&_XMM0;
        v265 = v260;
        *(float *)&v265 = (float)((float)(*(float *)&v260 + 1.0) * v100) * *(float *)&_XMM4;
        _XMM1 = v265;
        __asm { vminss  xmm2, xmm1, xmm5 }
        *(double *)&v358 = (v349 - v369) * *(float *)&_XMM2 + v369;
        *((double *)&v358 + 1) = (v342 - v370) * *(float *)&_XMM2 + v370;
        v359 = (v350 - v371) * *(float *)&_XMM2 + v371;
        X = (float)((float)(v89 * *(float *)&_XMM14) + (float)(v90 * *(float *)&_XMM12))
          + (float)((float)(v93 * _XMM15.m128_f32[0]) + (float)(v91 * *(float *)&v19));
        if ( X < 0.0 )
        {
          X = -(float)((float)((float)(v89 * *(float *)&_XMM14) + (float)(v90 * *(float *)&_XMM12))
                     + (float)((float)(v93 * _XMM15.m128_f32[0]) + (float)(v91 * *(float *)&v19)));
          LODWORD(_XMM14) = _XMM14 ^ 0x80000000;
          _XMM15.m128_i32[0] ^= 0x80000000;
          LODWORD(v19) = v19 ^ 0x80000000;
          LODWORD(_XMM12) = _XMM12 ^ 0x80000000;
        }
        if ( X <= 0.99989998 )
        {
          v276 = *(float *)&_XMM14 - (float)(v89 * X);
          v277 = _XMM15.m128_f32[0] - (float)(v93 * X);
          v278 = *(float *)&v19 - (float)(v91 * X);
          v279 = *(float *)&_XMM12 - (float)(v90 * X);
          Y = fsqrt(
                (float)((float)(v278 * v278) + (float)(v277 * v277))
              + (float)((float)(v279 * v279) + (float)(v276 * v276)));
          atan2f(Y, X);
          v281 = _libm_sse2_sincosf_();
          v282 = _mm_shuffle_ps((__m128)*(unsigned __int64 *)&v281, (__m128)*(unsigned __int64 *)&v281, 1).m128_f32[0];
          v363 = (float)((float)(*(float *)&v281 * v276) * (float)(1.0 / Y)) + (float)(v282 * v320);
          v360 = (float)((float)(*(float *)&v281 * v277) * (float)(1.0 / Y)) + (float)(v282 * v321);
          v361 = (float)((float)(*(float *)&v281 * v278) * (float)(1.0 / Y)) + (float)(v282 * v322);
          v362 = (float)((float)(*(float *)&v281 * v279) * (float)(1.0 / Y)) + (float)(v282 * v323);
        }
        else
        {
          if ( (float)((float)((float)(v90 * *(float *)&_XMM12) + (float)(v89 * *(float *)&_XMM14))
                     + (float)((float)(v91 * *(float *)&v19) + (float)(v93 * _XMM15.m128_f32[0]))) < 0.0 )
          {
            LODWORD(_XMM14) = _XMM14 ^ 0x80000000;
            _XMM15.m128_i32[0] ^= 0x80000000;
            LODWORD(v19) = v19 ^ 0x80000000;
            LODWORD(_XMM12) = _XMM12 ^ 0x80000000;
          }
          v269 = (float)(v330 * _XMM15.m128_f32[0]) + (float)(v93 * (float)(1.0 - v330));
          v270 = (float)(v330 * *(float *)&v19) + (float)(v91 * (float)(1.0 - v330));
          v271 = (__m128)LODWORD(v330);
          v272 = (float)(v330 * *(float *)&_XMM12) + (float)(v90 * (float)(1.0 - v330));
          v273 = (float)(v89 * (float)(1.0 - v330)) + (float)(v330 * *(float *)&_XMM14);
          v271.m128_f32[0] = (float)((float)(v272 * v272) + (float)(v270 * v270))
                           + (float)((float)(v273 * v273) + (float)(v269 * v269));
          _XMM3 = _mm_shuffle_ps(v271, v271, 0);
          __asm { vrsqrtps xmm4, xmm3 }
          _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
          _XMM3.m128_f32[0] = (float)(1.5
                                    - (float)((float)((float)(_XMM4.m128_f32[0] * v271.m128_f32[0]) * _XMM4.m128_f32[0])
                                            * 0.5))
                            * _XMM4.m128_f32[0];
          v363 = v273 * _XMM3.m128_f32[0];
          v360 = v269 * _XMM3.m128_f32[0];
          v361 = v270 * _XMM3.m128_f32[0];
          v362 = v272 * _XMM3.m128_f32[0];
        }
        v283 = *Parameter;
        v333 = (float)((float)(v434 - v328) * v340) + v328;
        v332 = (float)((float)(v310 - v348) * v340) + v348;
        *((float *)&v331 + 3) = (float)((float)(v319 - v347) * v340) + v347;
        *(_QWORD *)&v284 = LODWORD(v299);
        *(float *)&v284 = (float)((float)(v299 - v353) * v340) + v353;
        result = v284;
        v336 = *(float *)&v284;
        v334 = (float)((float)(v439 - v351) * v340) + v351;
        v335 = (float)((float)(v298 - v352) * v340) + v352;
        (*(void (__fastcall **)(__int64 *, int *, __int64))(v283 + 0x18))(Parameter, &v357, 1);
        (*(void (__fastcall **)(__int64 *, __int128 *, __int64))(*Parameter + 0x30))(Parameter, &v331, 1);
        goto LABEL_172;
      }
    }
    v41 = v319;
    v46 = v310;
    v47 = v434;
    v45 = v439;
    goto LABEL_176;
  }
  v101 = v311 > (float)(v313 * 100.0);
  v102 = (float)(*(float *)&v99 + *(float *)&_XMM1) == 1.0 && v345 > v346;
  n9 = 9;
  v373 = 0x80000000;
  v374 = NAN;
  LODWORD(v377) = 0xFFBFFFFF;
  v379 = NAN;
  v380 = 0x80000000;
  v381 = 0x80000000;
  if ( v311 > (float)(v313 * 100.0) )
  {
    v103 = v319;
    v104 = v310;
    v105 = v434;
    v106 = v296;
    v107 = v290;
    v358 = v355;
    v359 = v356;
LABEL_85:
    *((float *)&v331 + 3) = v103;
    v332 = v104;
    v333 = v105;
    Parameter[0x123] = 0;
    Parameter[0x124] = 0;
    Parameter[0x125] = 0;
    Parameter[0x120] = 0;
    Parameter[0x121] = 0;
    Parameter[0x122] = 0;
    *(float *)&v341 = v105;
    *(float *)&v354 = v104;
    v329 = v103;
    goto LABEL_86;
  }
  v329 = *(float *)(v76 + 0x1B0);
  v292 = *(float *)(v76 + 0x1B4);
  v306 = *(float *)(v76 + 0x1B8);
  v108 = v324 - v349;
  v109 = v341 - v342;
  v110 = v383 - v350;
  _XMM0 = COERCE_UNSIGNED_INT64(v109 * v109 + v108 * v108 + v110 * v110);
  v433 = v383 - v350;
  if ( v109 * v109 + v108 * v108 + v110 * v110 <= 0.0 )
  {
    v343 = *(double *)&src_;
    v382 = *((double *)&src_ + 1);
    v115 = *(double *)&src__3;
  }
  else
  {
    __asm
    {
      vmovddup xmm0, xmm0
      vsqrtpd xmm1, xmm0
      vunpckhpd xmm1, xmm1, xmm1
    }
    v343 = 1.0 / *(double *)&_XMM1 * v108;
    v382 = 1.0 / *(double *)&_XMM1 * v109;
    v115 = 1.0 / *(double *)&_XMM1 * v110;
  }
  v116 = *((double *)Parameter + 0x123);
  v384 = v115;
  v338 = v116;
  if ( v116 == 0.0 && *((double *)Parameter + 0x124) == 0.0 && *((double *)Parameter + 0x125) == 0.0 )
  {
    _XMM0 = 0;
    __asm { vmovupd [rbp+3D0h+var_240], xmm0 }
    v354 = a2;
    v404 = 0.0;
    v118 = (double *)&v403;
    v119 = (double *)(Parameter + 0x124);
    v120 = (double *)(Parameter + 0x125);
  }
  else
  {
    v121 = 1.0 / a2;
    v354 = a2;
    v413[0] = (v108 - v116) * v121;
    v119 = (double *)(Parameter + 0x124);
    v413[1] = (v109 - *((double *)Parameter + 0x124)) * v121;
    v120 = (double *)(Parameter + 0x125);
    v413[2] = (v110 - *((double *)Parameter + 0x125)) * v121;
    v116 = v338;
    v118 = v413;
  }
  _XMM8 = *(_OWORD *)v118;
  v123 = *v119;
  v124 = *v120;
  v404 = v118[2];
  *((double *)Parameter + 0x120) = (v108 + v116) * 0.5 * v354 + *((double *)Parameter + 0x120);
  *((double *)Parameter + 0x121) = (v341 - v342 + v123) * 0.5 * v354 + *((double *)Parameter + 0x121);
  *((double *)Parameter + 0x122) = (v110 + v124) * 0.5 * v354 + *((double *)Parameter + 0x122);
  _XMM4 = COERCE_UNSIGNED_INT64(v324 - v349);
  v126 = v329;
  __asm { vunpcklpd xmm0, xmm4, xmm0 }
  *(_OWORD *)(Parameter + 0x123) = _XMM0;
  *((double *)Parameter + 0x125) = v433;
  __asm { vunpckhpd xmm0, xmm8, xmm8 }
  v129 = (*(double *)&_XMM0 * v382 + *(double *)&_XMM8 * v343 + v404 * v384) * v306;
  v130 = v126;
  *((_QWORD *)&v131 + 1) = *((_QWORD *)&_XMM4 + 1);
  *(double *)&v131 = *(double *)&_XMM4 * v130 + v129 * v343 + v292 * *((double *)Parameter + 0x120);
  _XMM0 = v131 ^ 0x8000000000000000uLL;
  __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
  v134 = (float)(*(float *)&_XMM1 * v100) * a2;
  _XMM0 = COERCE_UNSIGNED_INT64((v341 - v342) * v130 + v129 * v382 + v292 * *((double *)Parameter + 0x121))
        ^ (unsigned __int128)0x8000000000000000uLL;
  __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
  *(double *)&_XMM1 = v292 * *((double *)Parameter + 0x122);
  *(float *)&v324 = (float)(*(float *)&_XMM3 * v100) * a2;
  _XMM0 = COERCE_UNSIGNED_INT64((v383 - v350) * v130 + v129 * v384 + *(double *)&_XMM1)
        ^ (unsigned __int128)0x8000000000000000uLL;
  __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
  v140 = (float)(*(float *)&_XMM3 * v100) * a2;
  v139 = v140;
  v293 = v140;
  v307 = v134;
  v107 = v290;
  v106 = v296;
  if ( v14 )
  {
    v141 = (float)((float)(v290 * *(float *)&v324) + (float)(v134 * v296)) + (float)(v140 * v326);
    v134 = v134 - (float)(v141 * v296);
    v139 = v140 - (float)(v141 * v326);
    v293 = v139;
    v307 = v134;
    *(float *)&v324 = *(float *)&v324 - (float)(v141 * v290);
  }
  v142 = (float)((float)((float)(v319 - v347) * v327) + v347) + v134;
  v143 = (float)((float)((float)(v434 - v328) * v327) + v328) + v139;
  v329 = v142;
  *(float *)&v354 = (float)((float)((float)(v310 - v348) * v327) + v348) + *(float *)&v324;
  *(float *)&v341 = v143;
  *((float *)&v331 + 3) = v142;
  v332 = *(float *)&v354;
  v333 = v143;
  v145 = 0;
  if ( (float)((float)((float)(v310 * v310) + (float)(v319 * v319)) + (float)(v434 * v434)) < 0.0099999998 )
  {
    v144 = Parameter[0x11D];
    if ( (*(_DWORD *)(v144 + 0x48) & 0xFFA00000) == 0xFFA00000
      || (float)((float)((float)(*(float *)(v144 + 0x4C) * *(float *)(v144 + 0x4C))
                       + (float)(*(float *)(v144 + 0x48) * *(float *)(v144 + 0x48)))
               + (float)(*(float *)(v144 + 0x50) * *(float *)(v144 + 0x50))) < 0.0099999998 )
    {
      v145 = 1;
    }
  }
  v146 = (LODWORD(v142) & 0x7F800000) != 0x7F800000
      && (COERCE_UNSIGNED_INT((float)((float)((float)(v310 - v348) * v327) + v348) + *(float *)&v324) & 0x7F800000) != 0x7F800000
      && (LODWORD(v143) & 0x7F800000) != 0x7F800000;
  if ( v145
    || (float)((float)((float)(v307 * v307) + (float)(*(float *)&v324 * *(float *)&v324)) + (float)(v293 * v293)) > (float)((float)((float)((float)(1.0 / a2) * (float)(1.0 / a2)) * 0.25) * (float)(v311 * v311))
    || !v146 )
  {
    v147 = LODWORD(v311);
    *(float *)&v147 = (float)((float)((float)((float)(v311 * v288) / v313) + 1.0) * v327) * v340;
    _XMM0 = v147;
    __asm { vminss  xmm1, xmm0, xmm5 }
    *(double *)&v358 = (v349 - v369) * *(float *)&_XMM1 + v369;
    *((double *)&v358 + 1) = (v342 - v370) * *(float *)&_XMM1 + v370;
    v359 = (v350 - v371) * *(float *)&_XMM1 + v371;
    v103 = (float)((float)(v319 - v347) * (float)(v327 * v340)) + v347;
    v104 = (float)((float)(v310 - v348) * (float)(v327 * v340)) + v348;
    v105 = (float)((float)(v434 - v328) * (float)(v327 * v340)) + v328;
    v101 = 1;
    goto LABEL_85;
  }
LABEL_86:
  if ( v102 )
  {
    v150 = v439;
    v151 = (__m128)LODWORD(v298);
    v152 = v299;
    v360 = _XMM15.m128_f32[0];
    v361 = *(float *)&v19;
    v362 = *(float *)&_XMM12;
    v363 = *(float *)&_XMM14;
LABEL_126:
    v334 = v150;
    v335 = v151.m128_f32[0];
    v336 = v152;
    *(__int64 *)((char *)Parameter + 0x93C) = 0;
    *((_DWORD *)Parameter + 0x251) = 0;
    Parameter[0x126] = 0;
    *((_DWORD *)Parameter + 0x24E) = 0;
    goto LABEL_127;
  }
  v153 = (float *)Parameter[0x58];
  v291 = v153[0x6F];
  v297 = v153[0x70];
  v328 = v153[0x71];
  v289 = (float)((float)((float)(COERCE_FLOAT(_XMM12 ^ 0x80000000) * v302)
                       - (float)(COERCE_FLOAT(v19 ^ 0x80000000) * v300))
               + (float)(COERCE_FLOAT(_XMM15.m128_i32[0] ^ 0x80000000) * v325))
       + (float)(*(float *)&_XMM14 * v304);
  v435 = (float)((float)((float)(COERCE_FLOAT(_XMM15.m128_i32[0] ^ 0x80000000) * v300)
                       - (float)(COERCE_FLOAT(_XMM12 ^ 0x80000000) * v304))
               + (float)(COERCE_FLOAT(v19 ^ 0x80000000) * v325))
       + (float)(*(float *)&_XMM14 * v302);
  v156 = (__m128)(v19 ^ 0x80000000);
  v154 = (float)(*(float *)&_XMM14 * v325)
       - (float)((float)((float)(COERCE_FLOAT(_XMM15.m128_i32[0] ^ 0x80000000) * v304)
                       + (float)(COERCE_FLOAT(v19 ^ 0x80000000) * v302))
               + (float)(COERCE_FLOAT(_XMM12 ^ 0x80000000) * v300));
  v155 = (float)((float)((float)(COERCE_FLOAT(v19 ^ 0x80000000) * v304)
                       - (float)(COERCE_FLOAT(_XMM15.m128_i32[0] ^ 0x80000000) * v302))
               + (float)(COERCE_FLOAT(_XMM12 ^ 0x80000000) * v325))
       + (float)(*(float *)&_XMM14 * v300);
  v308 = v155;
  *(float *)&v324 = *(float *)&dword_1497DD100;
  v303 = *((float *)&src__7 + 1);
  v156.m128_f32[0] = (float)((float)(v155 * v155) + (float)(v435 * v435))
                   + (float)((float)(v289 * v289) + (float)(v154 * v154));
  v305 = *(float *)&src__7;
  if ( v156.m128_f32[0] <= 0.0000000099999999 )
  {
    v436 = 0.0;
  }
  else
  {
    _XMM0 = _mm_shuffle_ps(v156, v156, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v159 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v156.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
         * _XMM3.m128_f32[0];
    X_1 = v154 * v159;
    v162 = (__m128)LODWORD(v289);
    v162.m128_f32[0] = v289 * v159;
    v161 = v162;
    v163 = v159 * v308;
    v309 = v159 * v308;
    v294 = v159 * v435;
    if ( (float)(v154 * v159) < 0.0 )
    {
      v294 = -(float)(v159 * v435);
      LODWORD(v309) = LODWORD(v163) ^ 0x80000000;
      X_1 = -(float)(v154 * v159);
      *(_OWORD *)&v161 ^= 0x80000000;
    }
    v164 = acosf(X_1);
    v165 = v161;
    v436 = v164 + v164;
    v165.m128_f32[0] = (float)((float)(v161.m128_f32[0] * v161.m128_f32[0]) + (float)(v294 * v294))
                     + (float)(v309 * v309);
    if ( v165.m128_f32[0] > 0.00000011920929 )
    {
      _XMM0 = _mm_shuffle_ps(v165, v165, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      v168 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v165.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
           * _XMM3.m128_f32[0];
      v170 = (__m128)LODWORD(v294);
      v170.m128_f32[0] = v294 * v168;
      v169 = v170;
      v171 = v309 * v168;
      v172 = v161.m128_f32[0] * v168;
      goto LABEL_95;
    }
  }
  v169 = (__m128)LODWORD(v303);
  v171 = *(float *)&v324;
  v172 = v305;
LABEL_95:
  v173 = v172 * v436;
  v314 = v172;
  v176 = v169;
  v174 = v169.m128_f32[0] * v436;
  v175 = v171 * v436;
  v312 = v169.m128_f32[0];
  v301 = v171;
  v176.m128_f32[0] = (float)((float)(v174 * v174) + (float)(v173 * v173)) + (float)(v175 * v175);
  if ( v176.m128_f32[0] > 0.00000011920929 )
  {
    _XMM0 = _mm_shuffle_ps(v176, v176, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v179 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v176.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
         * _XMM3.m128_f32[0];
    v173 = v436 * v314;
    v305 = v179 * (float)(v436 * v314);
    v303 = v179 * v174;
    *(float *)&v324 = v179 * v175;
  }
  v180 = *((float *)Parameter + 0x24F);
  if ( v180 == 0.0 && *((float *)Parameter + 0x250) == 0.0 && *((float *)Parameter + 0x251) == 0.0 )
  {
    v402[0] = 0.0;
    v402[1] = 0.0;
    v402[2] = 0.0;
    v181 = v402;
    v182 = (float *)(Parameter + 0x128);
    v183 = (float *)Parameter + 0x251;
  }
  else
  {
    v386[0] = (float)(v173 - v180) * (float)(1.0 / a2);
    v182 = (float *)(Parameter + 0x128);
    v386[1] = (float)(v174 - *((float *)Parameter + 0x250)) * (float)(1.0 / a2);
    v183 = (float *)Parameter + 0x251;
    v386[2] = (float)(v175 - *((float *)Parameter + 0x251)) * (float)(1.0 / a2);
    v181 = v386;
  }
  v184 = *v182;
  v185 = *v183;
  v186 = *(double *)v181;
  v187 = v181[2];
  v338 = v186;
  *((float *)Parameter + 0x24C) = (float)((float)((float)(v173 + v180) * 0.5) * a2) + *((float *)Parameter + 0x24C);
  *((float *)Parameter + 0x24D) = (float)((float)((float)((float)(v436 * v312) + v184) * 0.5) * a2)
                                + *((float *)Parameter + 0x24D);
  *((float *)Parameter + 0x24E) = (float)((float)((float)((float)(v436 * v171) + v185) * 0.5) * a2)
                                + *((float *)Parameter + 0x24E);
  v189 = LODWORD(v436);
  *(float *)&v189 = v436 * v314;
  _XMM6 = v189;
  v190 = *(float *)&v338 * v305;
  __asm { vunpcklps xmm0, xmm6, xmm7 }
  *(__int64 *)((char *)Parameter + 0x93C) = *(__int64 *)&_XMM0;
  *(float *)&v189 = *((float *)&v338 + 1) * v303;
  *((float *)Parameter + 0x251) = v436 * v301;
  v192 = (float)((float)(*(float *)&v189 + v190) + (float)(v187 * *(float *)&v324)) * v328;
  v193 = (float)((float)-(float)((float)((float)(v192 * v305) + (float)(*(float *)&_XMM6 * v291))
                               + (float)(v297 * *((float *)Parameter + 0x24C)))
               * v327)
       * a2;
  v194 = (float)((float)-(float)((float)((float)(v192 * v303) + (float)((float)(v436 * v312) * v291))
                               + (float)(v297 * *((float *)Parameter + 0x24D)))
               * v327)
       * a2;
  v195 = (float)((float)-(float)((float)((float)(v192 * *(float *)&v324) + (float)((float)(v436 * v301) * v291))
                               + (float)(v297 * *((float *)Parameter + 0x24E)))
               * v327)
       * a2;
  v437 = v195;
  v295 = v193;
  if ( v14 )
  {
    v196 = (float)(v194 * v107) + (float)(v106 * v193);
    v197 = v195 * v326;
    v198 = v196 + (float)(v195 * v326);
    v193 = (float)(v196 + v197) * v106;
    v199 = v198 * v107;
    v195 = v198 * v326;
    v437 = v195;
    v295 = v193;
  }
  else
  {
    v199 = v194;
  }
  v200 = (__m128)LODWORD(v298);
  v150 = (float)((float)((float)(v439 - v351) * v327) + v351) + v193;
  v200.m128_f32[0] = (float)((float)((float)(v298 - v352) * v327) + v352) + v199;
  v151 = v200;
  v152 = (float)((float)((float)(v299 - v353) * v327) + v353) + v195;
  v334 = v150;
  v335 = v200.m128_f32[0];
  v336 = v152;
  v202 = 0;
  if ( (float)((float)((float)(v298 * v298) + (float)(v439 * v439)) + (float)(v299 * v299)) < 0.0099999998 )
  {
    v201 = Parameter[0x11D];
    if ( (*(_DWORD *)(v201 + 0x54) & 0xFFA00000) == 0xFFA00000
      || (float)((float)((float)(*(float *)(v201 + 0x58) * *(float *)(v201 + 0x58))
                       + (float)(*(float *)(v201 + 0x54) * *(float *)(v201 + 0x54)))
               + (float)(*(float *)(v201 + 0x5C) * *(float *)(v201 + 0x5C))) < 0.0099999998 )
    {
      v202 = 1;
    }
  }
  v203 = (LODWORD(v150) & 0x7F800000) != 0x7F800000
      && (v200.m128_i32[0] & 0x7F800000) != 0x7F800000
      && (COERCE_UNSIGNED_INT((float)((float)((float)(v299 - v353) * v327) + v353) + v195) & 0x7F800000) != 0x7F800000;
  if ( v202
    || (float)((float)((float)(v199 * v199) + (float)(v295 * v295)) + (float)(v437 * v437)) > (float)((float)((float)((float)(1.0 / a2) * (float)(1.0 / a2)) * 0.25) * (float)(v345 * v345))
    || !v203 )
  {
    v204 = LODWORD(v345);
    *(float *)&v204 = (float)((float)((float)((float)(v345 * v330) / v346) + 1.0) * v327) * v340;
    _XMM0 = v204;
    __asm { vminss  xmm0, xmm0, xmm9 }
    X_2 = (float)((float)(v323 * *(float *)&_XMM12) + (float)(v320 * *(float *)&_XMM14))
        + (float)((float)(v322 * *(float *)&v19) + (float)(v321 * _XMM15.m128_f32[0]));
    v102 = 1;
    if ( X_2 < 0.0 )
    {
      X_2 = -(float)((float)((float)(v323 * *(float *)&_XMM12) + (float)(v320 * *(float *)&_XMM14))
                   + (float)((float)(v322 * *(float *)&v19) + (float)(v321 * _XMM15.m128_f32[0])));
      LODWORD(_XMM14) = _XMM14 ^ 0x80000000;
      _XMM15.m128_i32[0] ^= 0x80000000;
      LODWORD(v19) = v19 ^ 0x80000000;
      LODWORD(_XMM12) = _XMM12 ^ 0x80000000;
    }
    if ( X_2 <= 0.99989998 )
    {
      v215 = *(float *)&_XMM14 - (float)(v320 * X_2);
      v216 = _XMM15.m128_f32[0] - (float)(v321 * X_2);
      v217 = *(float *)&v19 - (float)(v322 * X_2);
      v218 = *(float *)&_XMM12 - (float)(v323 * X_2);
      Y_1 = fsqrt(
              (float)((float)(v217 * v217) + (float)(v216 * v216))
            + (float)((float)(v218 * v218) + (float)(v215 * v215)));
      atan2f(Y_1, X_2);
      v220 = _libm_sse2_sincosf_();
      v221 = _mm_shuffle_ps((__m128)*(unsigned __int64 *)&v220, (__m128)*(unsigned __int64 *)&v220, 1).m128_f32[0];
      v363 = (float)((float)(*(float *)&v220 * v215) * (float)(1.0 / Y_1)) + (float)(v221 * v320);
      v360 = (float)((float)(*(float *)&v220 * v216) * (float)(1.0 / Y_1)) + (float)(v221 * v321);
      v361 = (float)((float)(*(float *)&v220 * v217) * (float)(1.0 / Y_1)) + (float)(v221 * v322);
      v362 = (float)((float)(*(float *)&v220 * v218) * (float)(1.0 / Y_1)) + (float)(v221 * v323);
    }
    else
    {
      if ( (float)((float)((float)(v323 * *(float *)&_XMM12) + (float)(v320 * *(float *)&_XMM14))
                 + (float)((float)(v322 * *(float *)&v19) + (float)(v321 * _XMM15.m128_f32[0]))) < 0.0 )
      {
        LODWORD(_XMM14) = _XMM14 ^ 0x80000000;
        _XMM15.m128_i32[0] ^= 0x80000000;
        LODWORD(v19) = v19 ^ 0x80000000;
        LODWORD(_XMM12) = _XMM12 ^ 0x80000000;
      }
      v208 = (float)(*(float *)&_XMM0 * _XMM15.m128_f32[0]) + (float)(v321 * (float)(1.0 - *(float *)&_XMM0));
      v209 = (float)(*(float *)&_XMM0 * *(float *)&v19) + (float)(v322 * (float)(1.0 - *(float *)&_XMM0));
      v210 = (float)(*(float *)&_XMM14 * *(float *)&_XMM0) + (float)((float)(1.0 - *(float *)&_XMM0) * v320);
      v211 = (__m128)(unsigned int)_XMM0;
      v212 = (float)(*(float *)&_XMM0 * *(float *)&_XMM12) + (float)(v323 * (float)(1.0 - *(float *)&_XMM0));
      v211.m128_f32[0] = (float)((float)(v212 * v212) + (float)(v209 * v209))
                       + (float)((float)(v210 * v210) + (float)(v208 * v208));
      _XMM3 = _mm_shuffle_ps(v211, v211, 0);
      __asm { vrsqrtps xmm4, xmm3 }
      _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
      _XMM3.m128_f32[0] = (float)(1.5
                                - (float)((float)((float)(_XMM4.m128_f32[0] * v211.m128_f32[0]) * _XMM4.m128_f32[0])
                                        * 0.5))
                        * _XMM4.m128_f32[0];
      v363 = _XMM3.m128_f32[0] * v210;
      v360 = _XMM3.m128_f32[0] * v208;
      v361 = _XMM3.m128_f32[0] * v209;
      v362 = _XMM3.m128_f32[0] * v212;
    }
    v222 = (__m128)LODWORD(v298);
    v150 = (float)((float)(v439 - v351) * (float)(v327 * v340)) + v351;
    v222.m128_f32[0] = (float)((float)(v298 - v352) * (float)(v327 * v340)) + v352;
    v151 = v222;
    v152 = (float)((float)(v299 - v353) * (float)(v327 * v340)) + v353;
    goto LABEL_126;
  }
LABEL_127:
  if ( v101 || v102 )
  {
    (*(void (__fastcall **)(__int64 *, int *, __int64))(*Parameter + 0x18))(Parameter, &v357, 1);
    v151 = (__m128)LODWORD(v335);
    v223 = (__m128)LODWORD(v332);
    v152 = v336;
    v150 = v334;
    v224 = v333;
    v225 = *((float *)&v331 + 3);
  }
  else
  {
    v223 = (__m128)LODWORD(v354);
    v224 = *(float *)&v341;
    v225 = v329;
  }
  v226 = Parameter[0x11D];
  if ( (*(_DWORD *)(v226 + 0x48) & 0xFFA00000) != 0xFFA00000 )
  {
    if ( a3 )
    {
      v227 = 0.0;
      v228 = 0.0;
    }
    else
    {
      v26 = (__m128)(unsigned __int64)Parameter[0xA7];
      v228 = *((float *)Parameter + 0x150);
      LODWORD(v227) = _mm_shuffle_ps(v26, v26, 0x55).m128_u32[0];
    }
    v229 = Parameter[0x58];
    v230 = *(float *)(v226 + 0x48) - v26.m128_f32[0];
    v234 = (__m128)*(unsigned int *)(v226 + 0x4C);
    v231 = *(float *)(v226 + 0x4C) - v227;
    v232 = *(float *)(v226 + 0x50) - v228;
    v374 = v230;
    v375 = v231;
    v376 = v232;
    v233 = *(float *)(v229 + 0x2B4);
    v234.m128_f32[0] = (float)((float)(v231 * v231) + (float)(v230 * v230)) + (float)(v232 * v232);
    if ( v234.m128_f32[0] > (float)(v233 * v233) && v234.m128_f32[0] >= 9.9999994e-11 )
    {
      _XMM0 = _mm_shuffle_ps(v234, v234, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      _XMM3.m128_f32[0] = (float)((float)(1.5
                                        - (float)((float)((float)(_XMM3.m128_f32[0] * v234.m128_f32[0])
                                                        * _XMM3.m128_f32[0])
                                                * 0.5))
                                * _XMM3.m128_f32[0])
                        * v233;
      v374 = v230 * _XMM3.m128_f32[0];
      v375 = _XMM3.m128_f32[0] * v231;
      v376 = _XMM3.m128_f32[0] * v232;
    }
  }
  if ( (*(_DWORD *)(v226 + 0x54) & 0xFFA00000) != 0xFFA00000 )
  {
    v377 = *(_QWORD *)(v226 + 0x54);
    v378 = *(float *)(v226 + 0x5C);
    v238 = (__m128)(unsigned int)v377;
    v237 = *(float *)(Parameter[0x58] + 0x2B4);
    v238.m128_f32[0] = (float)((float)(v238.m128_f32[0] * v238.m128_f32[0])
                             + (float)(*((float *)&v377 + 1) * *((float *)&v377 + 1)))
                     + (float)(v378 * v378);
    if ( v238.m128_f32[0] > (float)(v237 * v237) && v238.m128_f32[0] >= 9.9999994e-11 )
    {
      _XMM0 = _mm_shuffle_ps(v238, v238, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      _XMM3.m128_f32[0] = (float)((float)(1.5
                                        - (float)((float)((float)(_XMM3.m128_f32[0] * v238.m128_f32[0])
                                                        * _XMM3.m128_f32[0])
                                                * 0.5))
                                * _XMM3.m128_f32[0])
                        * v237;
      *(float *)&v377 = *(float *)&v377 * _XMM3.m128_f32[0];
      *((float *)&v377 + 1) = *((float *)&v377 + 1) * _XMM3.m128_f32[0];
      v378 = v378 * _XMM3.m128_f32[0];
    }
  }
  if ( (*(_DWORD *)(v226 + 0x48) & 0xFFA00000) != 0xFFA00000 || (*(_DWORD *)(v226 + 0x54) & 0xFFA00000) != 0xFFA00000 )
  {
    v241 = *Parameter;
    v373 = 0;
    v379 = v385;
    (*(void (__fastcall **)(__int64 *, int *, __int64))(v241 + 0x30))(Parameter, &n9, 1);
    v151 = (__m128)LODWORD(v335);
    v223 = (__m128)LODWORD(v332);
    v152 = v336;
    v150 = v334;
    v224 = v333;
    v225 = *((float *)&v331 + 3);
  }
  v242 = Parameter[0x58];
  v244 = v223;
  v243 = *(float *)(v242 + 0x2B4);
  v244.m128_f32[0] = (float)((float)(v223.m128_f32[0] * v223.m128_f32[0]) + (float)(v225 * v225)) + (float)(v224 * v224);
  if ( v244.m128_f32[0] > (float)(v243 * v243) && v244.m128_f32[0] >= 9.9999994e-11 )
  {
    _XMM0 = _mm_shuffle_ps(v244, v244, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    _XMM3.m128_f32[0] = (float)((float)(1.5
                                      - (float)((float)((float)(_XMM3.m128_f32[0] * v244.m128_f32[0]) * _XMM3.m128_f32[0])
                                              * 0.5))
                              * _XMM3.m128_f32[0])
                      * v243;
    v225 = v225 * _XMM3.m128_f32[0];
    v223.m128_f32[0] = v223.m128_f32[0] * _XMM3.m128_f32[0];
    v224 = v224 * _XMM3.m128_f32[0];
    *((float *)&v331 + 3) = v225;
    v332 = v223.m128_f32[0];
    v333 = v224;
  }
  v247 = *(float *)(v242 + 0x2B4);
  v248 = v151;
  v248.m128_f32[0] = (float)((float)(v151.m128_f32[0] * v151.m128_f32[0]) + (float)(v150 * v150)) + (float)(v152 * v152);
  v249 = v248;
  v248.m128_i32[1] = 0;
  v248.m128_f32[0] = v247 * v247;
  result = *(double *)v248.m128_u64;
  if ( v249.m128_f32[0] > (float)(v247 * v247) && v249.m128_f32[0] >= 9.9999994e-11 )
  {
    _XMM0 = _mm_shuffle_ps(v249, v249, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    HIDWORD(v252) = 0;
    *(float *)&v252 = 1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v249.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5);
    result = v252;
    _XMM3.m128_f32[0] = (float)(*(float *)&v252 * _XMM3.m128_f32[0]) * v247;
    v150 = v150 * _XMM3.m128_f32[0];
    v151.m128_f32[0] = v151.m128_f32[0] * _XMM3.m128_f32[0];
    v152 = v152 * _XMM3.m128_f32[0];
    v334 = v150;
    v335 = v151.m128_f32[0];
    v336 = v152;
  }
  if ( (LODWORD(v225) & 0x7F800000) == 0x7F800000
    || (v223.m128_i32[0] & 0x7F800000) == 0x7F800000
    || (LODWORD(v224) & 0x7F800000) == 0x7F800000 )
  {
    HIDWORD(v331) = 0xFFBFFFFF;
  }
  if ( (LODWORD(v150) & 0x7F800000) == 0x7F800000
    || (v151.m128_i32[0] & 0x7F800000) == 0x7F800000
    || (LODWORD(v152) & 0x7F800000) == 0x7F800000 )
  {
    v334 = NAN;
  }
  (*(void (__fastcall **)(__int64 *, __int128 *, __int64))(*Parameter + 0x30))(Parameter, &v331, 1);
  if ( v101 || v102 )
  {
LABEL_172:
    if ( !*((_DWORD *)Parameter + 0x12B) )
      (*(void (__fastcall **)(__int64 *, __int64, __int64 *, __int64 *))(*Parameter + 0x320))(
        Parameter,
        v253,
        Parameter + 0x38,
        Parameter + 0x3B);
  }
LABEL_185:
  v409 = __rdtsc();
  qword_149A05E08(&n0x2800);
  return result;
}

// --- End Function: CRigidEntity::ApplyStateFromNetworkInternal (0x146782D40) ---

// --- Function: sub_146794880 (0x146794880) ---
__int64 __fastcall sub_146794880(Parameter *Parameter, __int64 a2, int n8, int a4)
{
  __int64 n8_5; // rax
  int n8_4; // r15d
  __int64 v8; // rbx
  __int64 v9; // rdx
  int n8_2; // ebp
  __int64 v11; // rdi
  _DWORD *v12; // r14
  __int64 v13; // r12
  __int64 v14; // rcx
  __int64 v15; // rdx
  float v20; // xmm3_4
  float v21; // xmm6_4
  float v22; // xmm7_4
  bool v23; // cc
  int n8_3; // eax
  float v25; // xmm7_4
  float v26; // xmm9_4
  float v27; // xmm10_4
  signed int v28; // r8d
  float v31; // xmm9_4
  float v32; // xmm5_4
  float v33; // xmm10_4
  float v34; // xmm12_4
  __int64 v35; // rcx
  float *v36; // rax
  float v37; // xmm8_4
  float v38; // xmm7_4
  float v39; // xmm13_4
  float v40; // xmm14_4
  float v41; // xmm15_4
  float v42; // xmm3_4
  float v43; // xmm1_4
  float v44; // xmm9_4
  float v45; // xmm11_4
  float v46; // xmm1_4
  float v47; // xmm12_4
  float v48; // xmm0_4
  float v49; // xmm10_4
  float v50; // xmm5_4
  float v51; // xmm8_4
  float v52; // xmm7_4
  float v53; // kr00_4
  float v54; // xmm1_4
  float v55; // xmm5_4
  float v56; // xmm6_4
  float v57; // xmm3_4
  float v58; // xmm1_4
  float v59; // xmm4_4
  float v60; // xmm5_4
  float v61; // xmm6_4
  double v62; // xmm7_8
  double v63; // xmm9_8
  double v64; // xmm10_8
  double v65; // xmm11_8
  double v66; // xmm12_8
  double v67; // xmm13_8
  double v68; // xmm11_8
  double v70; // xmm12_8
  double v72; // xmm13_8
  float v73; // xmm6_4
  float v74; // xmm7_4
  float v75; // xmm4_4
  float *v80; // rax
  __m128 v81; // xmm5
  float v82; // xmm10_4
  __m128 v83; // kr00_16
  float v86; // xmm2_4
  __int128 n0x3FC00000; // kr00_16
  __int128 n0x3FC00000_1; // xmm1
  __int128 n0x3FC00000_2; // xmm15
  float v90; // xmm9_4
  __int128 n0x3FC00000_4; // xmm14
  __int128 n0x3FC00000_3; // kr00_16
  float *v93; // rax
  __int64 v94; // rcx
  float v95; // xmm10_4
  double v96; // xmm7_8
  double v97; // xmm5_8
  double v98; // xmm6_8
  __int128 v99; // kr00_16
  float *v105; // rax
  __int64 v106; // rcx
  float v107; // xmm0_4
  __int128 v108; // xmm1
  __int128 v109; // kr00_16
  double v110; // xmm7_8
  double v111; // xmm6_8
  __int128 v112; // xmm5
  float *v121; // rax
  __int64 v122; // rcx
  double v123; // xmm7_8
  double v124; // xmm6_8
  double v125; // xmm5_8
  __int128 v126; // kr00_16
  double v129; // xmm0_8
  float *v134; // rax
  __int64 v135; // rcx
  __int128 v136; // xmm0
  float v137; // xmm1_4
  __int128 v138; // kr00_16
  double v139; // xmm6_8
  __int128 v140; // xmm5
  double v141; // xmm7_8
  __int128 v149; // kr00_16
  __int128 v150; // kr00_16
  float v153; // [rsp+20h] [rbp-1B8h]
  float v154; // [rsp+24h] [rbp-1B4h]
  float v155; // [rsp+28h] [rbp-1B0h]
  float v156; // [rsp+30h] [rbp-1A8h]
  float v157; // [rsp+38h] [rbp-1A0h]
  float v158; // [rsp+40h] [rbp-198h]
  double v159; // [rsp+40h] [rbp-198h]
  double v160; // [rsp+48h] [rbp-190h]
  float v161; // [rsp+48h] [rbp-190h]
  float v162; // [rsp+50h] [rbp-188h]
  float v163; // [rsp+54h] [rbp-184h]
  float v164; // [rsp+58h] [rbp-180h]
  double v165; // [rsp+60h] [rbp-178h]
  __int64 v166; // [rsp+68h] [rbp-170h]
  _DWORD v167[3]; // [rsp+70h] [rbp-168h] BYREF
  float v168[3]; // [rsp+7Ch] [rbp-15Ch] BYREF
  double v169; // [rsp+88h] [rbp-150h]
  double v170; // [rsp+98h] [rbp-140h]
  double v171; // [rsp+A8h] [rbp-130h]
  _DWORD v172[13]; // [rsp+B0h] [rbp-128h] BYREF
  float v173; // [rsp+E4h] [rbp-F4h]
  float v174; // [rsp+E8h] [rbp-F0h]
  float v175; // [rsp+ECh] [rbp-ECh]
  __int64 v176; // [rsp+F0h] [rbp-E8h]
  int n8_1; // [rsp+1F0h] [rbp+18h]
  int v178; // [rsp+1F8h] [rbp+20h]

  v178 = a4;
  n8_1 = n8;
  n8_5 = (unsigned int)(n8 - 1);
  n8_4 = 0;
  if ( n8 - 1 <= 0 )
    return n8_5;
  v8 = a2 + 0x20;
  v9 = 0;
  v166 = 0;
  do
  {
    n8_2 = n8_4 + 1;
    if ( n8_4 + 1 >= n8 )
      goto LABEL_42;
    v11 = v8 + 0xC0;
    v12 = (_DWORD *)(0x140000000LL + 8 * (v9 + 0x801LL * a4) + 0x113C1EAC);
    v13 = v9 + 0x801LL * a4;
    do
    {
      v14 = qword_1513BFEA0[v13];
      v15 = *(_QWORD *)(v12 + 0xFFFFF7FF);
      if ( v14 == v15 && dword_1513C1EA4[2 * v13] == *v12 || !(*(_DWORD *)(v14 + 0xF4) + *(_DWORD *)(v15 + 0xF4)) )
      {
        _XMM0 = *(unsigned int *)(v8 + 0x5C);
        _XMM1 = *(unsigned int *)(v11 + 0x5C);
        __asm
        {
          vmaxss  xmm2, xmm0, xmm8
          vmaxss  xmm0, xmm1, xmm8
        }
        if ( (float)(*(float *)&_XMM2 + *(float *)&_XMM0) <= 0.0 )
        {
          v20 = *(float *)(v8 + 0x50);
          v21 = *(float *)(v8 + 0x4C);
          v22 = *(float *)(v8 + 0x54);
          if ( (float)((float)((float)(v20 * *(float *)(v11 + 0x50)) + (float)(v21 * *(float *)(v11 + 0x4C)))
                     + (float)(v22 * *(float *)(v11 + 0x54))) < -0.85000002 )
          {
            if ( *(_DWORD *)(v14 + 0xF4) )
            {
              v23 = v20 * (*(double *)(v8 + 0x30) - *((double *)Parameter + 0xC6))
                  + v21 * (*(double *)(v8 + 0x28) - *((double *)Parameter + 0xC5))
                  + v22 * (*(double *)(v8 + 0x38) - *((double *)Parameter + 0xC7)) <= 0.0;
LABEL_12:
              n8_3 = n8_2;
              if ( !v23 )
                n8_3 = n8_4;
              *(_QWORD *)(0xC0LL * n8_3 + a2) = 0xBFF0000000000000uLL;
              goto LABEL_40;
            }
            v25 = 0.0;
            v26 = 0.0;
            v27 = 0.0;
            if ( *((_DWORD *)Parameter + 0xA4) == 1 )
            {
              (*(void (__fastcall **)(_QWORD, _DWORD *))(****((_QWORD ****)Parameter + 0x47) + 0x30LL))(
                ***((_QWORD ***)Parameter + 0x47),
                v172);
              v155 = v175 - *(&v173 + (COERCE_UNSIGNED_INT(v174 - v173) >> 0x1F));
              v28 = ((COERCE_UNSIGNED_INT(v174 - v173) >> 0x1F) | (2 * (LODWORD(v155) >> 0x1F)))
                  & ((int)(((COERCE_UNSIGNED_INT(v174 - v173) >> 0x1F) | (2 * (LODWORD(v155) >> 0x1F))) ^ 2 | 4) >> 1);
              _XMM0 = *((unsigned int *)&v173 + dword_14997D990[v28]);
              __asm { vmaxss  xmm1, xmm0, [rsp+rax*4+1D8h+var_F4] }
              if ( (float)(*(float *)&_XMM1 * 0.1) > *(&v173 + v28) )
              {
                v31 = *((float *)Parameter + 0x77);
                v32 = *((float *)Parameter + 0x76);
                v33 = *((float *)Parameter + 0x78);
                v34 = *((float *)Parameter + 0x79);
                v35 = 3 * v28;
                v36 = (float *)*((_QWORD *)Parameter + 0x46);
                v37 = v36[1];
                v38 = v36[2];
                v39 = v36[3];
                v40 = (float)(v39 * v34)
                    - (float)((float)((float)(*v36 * v32) + (float)(v37 * v31)) + (float)(v38 * v33));
                v41 = (float)((float)((float)(v38 * v31) - (float)(v33 * v37)) + (float)(*v36 * v34))
                    + (float)(v32 * v39);
                v42 = (float)(v32 * v37) - (float)(*v36 * v31);
                v43 = v31 * v39;
                v44 = *(float *)&v172[v35];
                v45 = (float)((float)((float)(v33 * *v36) - (float)(v38 * v32)) + (float)(v37 * v34)) + v43;
                v46 = v38 * v34;
                v47 = *(float *)&v172[v35 + 2];
                v48 = v33 * v39;
                v49 = *(float *)&v172[v35 + 1];
                v50 = (float)(v42 + v46) + v48;
                v51 = (float)((float)(v45 * v47) - (float)(v50 * v49)) + (float)(v40 * v44);
                v52 = (float)((float)(v50 * v44) - (float)(v41 * v47)) + (float)(v40 * v49);
                v53 = (float)((float)(v41 * v49) - (float)(v45 * v44)) + (float)(v40 * v47);
                v54 = v52 * v50;
                v55 = (float)(v51 * v50) - (float)(v53 * v41);
                v56 = (float)(v53 * v45) - v54;
                v57 = (float)(v52 * v41) - (float)(v51 * v45);
                v58 = v55 + v49;
                v25 = (float)(v56 + v44) + v56;
                v27 = (float)(v57 + v47) + v57;
                v26 = v58 + v55;
              }
              n8 = n8_1;
            }
            v59 = *(float *)(v8 + 0x44);
            v60 = *(float *)(v8 + 0x40);
            v61 = *(float *)(v8 + 0x48);
            if ( fabs((float)((float)(v59 * v26) + (float)(v25 * v60)) + (float)(v61 * v27)) > 0.94
              || (v62 = *(double *)(v8 + 0x28),
                  v63 = *(double *)(v11 + 0x28),
                  v64 = *(double *)(v8 + 0x30),
                  v65 = *(double *)(v11 + 0x30),
                  v66 = *(double *)(v8 + 0x38),
                  v67 = *(double *)(v11 + 0x38),
                  (v62 - v63) * v60 + (v64 - v65) * v59 + (v66 - v67) * v61 < 0.0)
              && *(float *)(v11 + 0x40) * (v63 - v62)
               + (v65 - v64) * *(float *)(v11 + 0x44)
               + (v67 - v66) * *(float *)(v11 + 0x48) < 0.0 )
            {
              v68 = *(double *)(v8 + 0x28);
              _XMM0 = COERCE_UNSIGNED_INT64(v68 - *((double *)Parameter + 0xC5));
              v70 = *(double *)(v8 + 0x30);
              _XMM1 = COERCE_UNSIGNED_INT64(v70 - *((double *)Parameter + 0xC6));
              v72 = *(double *)(v8 + 0x38);
              v73 = *(float *)(v8 + 0x50);
              v74 = *(float *)(v8 + 0x4C);
              v75 = *(float *)(v8 + 0x54);
              __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
              v163 = *(float *)&_XMM0;
              __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
              v162 = *(float *)&_XMM0;
              _XMM0 = COERCE_UNSIGNED_INT64(v72 - *((double *)Parameter + 0xC7));
              __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
              v164 = *(float *)&_XMM0;
              if ( (float)((float)((float)((float)((float)(v73 * v73) + (float)(v74 * v74)) + (float)(v75 * v75))
                                 * 0.80999994)
                         - (float)(v74 * v74)) >= 0.0 )
              {
                LODWORD(v168[2]) = LODWORD(v73) ^ 0x80000000;
                v168[0] = 0.0;
                v168[1] = v75;
                v80 = v168;
              }
              else
              {
                v167[0] = LODWORD(v75) ^ 0x80000000;
                *(float *)&v167[1] = 0.0;
                *(float *)&v167[2] = v74;
                v80 = (float *)v167;
              }
              v81 = (__m128)*(unsigned __int64 *)v80;
              v82 = v80[2];
              v83 = v81;
              v176 = *(_QWORD *)v80;
              v83.m128_f32[0] = (float)((float)(v81.m128_f32[0] * v81.m128_f32[0])
                                      + (float)(*((float *)&v176 + 1) * *((float *)&v176 + 1)))
                              + (float)(v82 * v82);
              if ( v83.m128_f32[0] <= 9.9999997e-21 )
              {
                v90 = 1.0;
                n0x3FC00000_4 = 0;
                n0x3FC00000_2 = 0;
              }
              else
              {
                _XMM0 = _mm_shuffle_ps(v83, v83, 0);
                __asm { vrsqrtps xmm3, xmm0 }
                _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                v86 = (float)((float)(v83.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5;
                n0x3FC00000 = 0x3FC00000u;
                *(float *)&n0x3FC00000 = (float)(1.5 - v86) * _XMM3.m128_f32[0];
                n0x3FC00000_1 = n0x3FC00000;
                *(float *)&n0x3FC00000 = *(float *)&n0x3FC00000 * *((float *)&v176 + 1);
                n0x3FC00000_2 = n0x3FC00000;
                v90 = *(float *)&n0x3FC00000_1 * v82;
                n0x3FC00000_3 = n0x3FC00000_1;
                *(float *)&n0x3FC00000_3 = *(float *)&n0x3FC00000_1 * v81.m128_f32[0];
                n0x3FC00000_4 = n0x3FC00000_3;
              }
              v93 = *(float **)(v8 - 0x18);
              v94 = *(int *)(v8 + 0x90);
              v95 = (float)(v90 * v73) - (float)(*(float *)&n0x3FC00000_2 * v75);
              v158 = (float)(*(float *)&n0x3FC00000_4 * v75) - (float)(v90 * v74);
              v154 = (float)(*(float *)&n0x3FC00000_2 * v74) - (float)(*(float *)&n0x3FC00000_4 * v73);
              v96 = v93[2] + *(double *)v8 - v72;
              v97 = v93[1] + *(double *)(v8 - 8) - v70;
              v98 = *v93 + *(double *)(v8 - 0x10) - v68;
              *((_QWORD *)&v99 + 1) = *((_QWORD *)&n0x3FC00000_4 + 1);
              *(double *)&v99 = *(float *)&n0x3FC00000_4 * v98 + *(float *)&n0x3FC00000_2 * v97 + v90 * v96;
              _XMM2 = v99;
              __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
              v160 = v95;
              *((_QWORD *)&v99 + 1) = 0;
              *(double *)&v99 = v97 * v158 + v98 * v95 + v96 * v154;
              _XMM0 = v99;
              __asm
              {
                vcvtsd2ss xmm0, xmm0, xmm0
                vunpcklps xmm2, xmm3, xmm0
              }
              v169 = *(double *)&_XMM2;
              v157 = v90;
              v153 = v95;
              v156 = *(float *)&_XMM0;
              if ( v94 <= 1 )
              {
                v161 = *((float *)&v169 + 1);
              }
              else
              {
                v105 = v93 + 5;
                v106 = v94 - 1;
                do
                {
                  v107 = v105[0xFFFFFFFE];
                  v108 = *((unsigned int *)v105 + 0xFFFFFFFF);
                  v105 += 3;
                  *((_QWORD *)&v109 + 1) = *((_QWORD *)&v108 + 1);
                  v110 = v105[0xFFFFFFFD] + *(double *)v8 - v72;
                  v111 = v107 + *(double *)(v8 - 0x10) - v68;
                  *(double *)&v109 = *(float *)&v108 + *(double *)(v8 - 8) - v70;
                  v112 = v109;
                  *((_QWORD *)&v109 + 1) = *((_QWORD *)&n0x3FC00000_2 + 1);
                  *(double *)&v109 = *(float *)&n0x3FC00000_2 * *(double *)&v112
                                   + *(float *)&n0x3FC00000_4 * v111
                                   + v90 * v110;
                  _XMM2 = v109;
                  *((_QWORD *)&v109 + 1) = *((_QWORD *)&v112 + 1);
                  __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
                  *(double *)&v109 = *(double *)&v112 * v158 + v111 * v160 + v110 * v154;
                  _XMM0 = v109;
                  __asm
                  {
                    vcvtsd2ss xmm3, xmm0, xmm0
                    vmaxss  xmm0, xmm4, [rsp+1D8h+var_1A4]
                  }
                  __asm { vmaxss  xmm0, xmm3, [rsp+1D8h+var_1A8] }
                  v156 = *(float *)&_XMM0;
                  __asm
                  {
                    vminss  xmm8, xmm4, xmm8
                    vminss  xmm10, xmm3, xmm10
                  }
                  --v106;
                }
                while ( v106 );
                v161 = *(float *)&_XMM10;
                v95 = v153;
              }
              v121 = *(float **)(v11 - 0x18);
              v122 = *(int *)(v11 + 0x90);
              v123 = v121[2] + *(double *)v11 - v72;
              v124 = *v121 + *(double *)(v11 - 0x10) - v68;
              v125 = v121[1] + *(double *)(v11 - 8) - v70;
              *((_QWORD *)&v126 + 1) = *((_QWORD *)&n0x3FC00000_4 + 1);
              *(double *)&v126 = *(float *)&n0x3FC00000_4 * v124 + *(float *)&n0x3FC00000_2 * v125 + v90 * v123;
              _XMM2 = v126;
              __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
              *((_QWORD *)&v126 + 1) = 0;
              v129 = v124 * v95;
              _XMM6 = (unsigned int)_XMM3;
              *(double *)&v126 = v125 * v158 + v129 + v123 * v154;
              _XMM2 = v126;
              __asm
              {
                vcvtsd2ss xmm5, xmm2, xmm2
                vunpcklps xmm1, xmm6, xmm5
              }
              v170 = *(double *)&_XMM1;
              if ( v122 <= 1 )
              {
                LODWORD(_XMM9) = HIDWORD(v170);
              }
              else
              {
                v159 = v158;
                v165 = v95;
                v134 = v121 + 5;
                v171 = v154;
                v135 = v122 - 1;
                do
                {
                  v136 = *((unsigned int *)v134 + 0xFFFFFFFE);
                  v137 = v134[0xFFFFFFFF];
                  v134 += 3;
                  *((_QWORD *)&v138 + 1) = *((_QWORD *)&v136 + 1);
                  v139 = v137 + *(double *)(v11 - 8) - v70;
                  *(double *)&v138 = *(float *)&v136 + *(double *)(v11 - 0x10) - v68;
                  v140 = v138;
                  v141 = v134[0xFFFFFFFD] + *(double *)v11 - v72;
                  *((_QWORD *)&v138 + 1) = *((_QWORD *)&n0x3FC00000_4 + 1);
                  *(double *)&v136 = v139 * v159;
                  *(double *)&v138 = *(float *)&n0x3FC00000_4 * *(double *)&v140
                                   + *(float *)&n0x3FC00000_2 * v139
                                   + v157 * v141;
                  _XMM2 = v138;
                  *((_QWORD *)&v138 + 1) = *((_QWORD *)&v140 + 1);
                  __asm
                  {
                    vcvtsd2ss xmm4, xmm2, xmm2
                    vmaxss  xmm6, xmm4, [rsp+1D8h+var_1B8]
                  }
                  *(double *)&v138 = *(double *)&v140 * v165 + *(double *)&v136 + v141 * v171;
                  _XMM0 = v138;
                  __asm
                  {
                    vcvtsd2ss xmm3, xmm0, xmm0
                    vmaxss  xmm5, xmm3, [rsp+1D8h+var_1B4]
                  }
                  __asm
                  {
                    vminss  xmm10, xmm4, xmm10
                    vminss  xmm9, xmm3, xmm9
                  }
                  --v135;
                }
                while ( v135 );
              }
              v149 = LODWORD(v156);
              *(float *)&v149 = (float)((float)(v156 + v161) * 0.5)
                              - (float)((float)(*(float *)&_XMM9 + *(float *)&_XMM5) * 0.5);
              v150 = v149 & 0x7FFFFFFF;
              *(float *)&v150 = (float)(*(float *)&v150 - (float)((float)(v156 - v161) * 0.5))
                              - (float)((float)(*(float *)&_XMM5 - *(float *)&_XMM9) * 0.5);
              _XMM5 = v150;
              __asm { vmaxss  xmm3, xmm5, xmm1 }
              if ( *(float *)&_XMM3 < 0.0 )
              {
                v23 = (float)((float)((float)(v162 * *(float *)(v8 + 0x50)) + (float)(v163 * *(float *)(v8 + 0x4C)))
                            + (float)(v164 * *(float *)(v8 + 0x54))) <= 0.0;
                goto LABEL_12;
              }
            }
          }
        }
      }
LABEL_40:
      ++n8_2;
      v12 += 2;
      v11 += 0xC0;
    }
    while ( n8_2 < n8 );
    v9 = v166;
    n8_5 = (unsigned int)(n8 - 1);
    a4 = v178;
LABEL_42:
    ++v9;
    ++n8_4;
    v8 += 0xC0;
    v166 = v9;
  }
  while ( n8_4 < (int)n8_5 );
  return n8_5;
}

// --- End Function: sub_146794880 (0x146794880) ---

// --- Function: CRigidEntity::CheckForNewContacts (0x146797CF0) ---
__int64 __fastcall CRigidEntity::CheckForNewContacts(
        Parameter *Parameter,
        __int64 a2,
        __int64 a3,
        _DWORD *a4,
        __int64 a5,
        __int64 a6,
        int a7)
{
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int64 v13; // rsi
  signed __int64 v16; // rdx
  __int64 v17; // rcx
  bool v18; // r10
  int v19; // r9d
  int v20; // r8d
  __int64 v21; // rax
  __int64 v22; // r12
  int v23; // eax
  int n4_2; // r9d
  __int64 *v25; // r9
  int n0x400_1; // eax
  signed __int64 n4_1; // rbx
  const char *v28; // rdi
  __int64 *v29; // rax
  __int64 *v30; // rax
  __int64 n4_3; // rsi
  __int64 v32; // rax
  __m128 *v33; // rdi
  signed __int64 n4_5; // rbx
  float *v35; // rsi
  volatile signed __int64 *v36; // rcx
  signed __int64 v37; // rdx
  double *v38; // rcx
  double v39; // xmm6_8
  double v40; // xmm2_8
  double v41; // xmm3_8
  __int128 v42; // kr00_16
  volatile signed __int64 *v45; // rcx
  unsigned __int64 v46; // rdx
  __int64 n0x400; // rdx
  unsigned __int64 v48; // rcx
  __m128 v49; // xmm1
  __int128 v50; // xmm2
  __int128 v52; // kr00_16
  double v53; // xmm4_8
  double v54; // xmm8_8
  unsigned int v55; // eax
  __m128 v57; // kr00_16
  __m128 v59; // kr00_16
  __int64 v61; // rax
  double v65; // xmm6_8
  double v68; // xmm4_8
  double v71; // xmm9_8
  double v72; // xmm4_8
  double v74; // xmm7_8
  __m128 v81; // xmm2
  int n4_6; // edi
  float v83; // xmm8_4
  _QWORD *v84; // rcx
  __int64 v85; // rcx
  __int64 v86; // rdi
  int v87; // r15d
  volatile signed __int32 *v88; // rsi
  __int64 v89; // rax
  int n4_7; // edi
  __int64 v91; // r12
  __int64 v92; // r9
  __int64 *v93; // rcx
  __int64 v94; // rcx
  int v95; // esi
  int v96; // eax
  __int64 v97; // rax
  double v98; // xmm0_8
  int v99; // eax
  double v100; // xmm0_8
  double v101; // xmm0_8
  unsigned int v102; // r15d
  volatile signed __int64 *v103; // rcx
  unsigned __int64 v104; // rax
  __int64 v106; // [rsp+30h] [rbp-D8h]
  unsigned __int8 v107; // [rsp+68h] [rbp-A0h]
  __int64 v108; // [rsp+70h] [rbp-98h] BYREF
  int v109; // [rsp+78h] [rbp-90h]
  signed __int32 n4; // [rsp+7Ch] [rbp-8Ch]
  __int64 v111; // [rsp+80h] [rbp-88h]
  double v112; // [rsp+88h] [rbp-80h]
  __int64 v113; // [rsp+98h] [rbp-70h]
  _DWORD *v114; // [rsp+A0h] [rbp-68h]
  signed __int64 n4_4; // [rsp+A8h] [rbp-60h]
  __int64 v116; // [rsp+B0h] [rbp-58h]
  __int64 v117; // [rsp+B8h] [rbp-50h]
  volatile signed __int64 *v118; // [rsp+C0h] [rbp-48h]
  double v119; // [rsp+C8h] [rbp-40h] BYREF
  int v120; // [rsp+D0h] [rbp-38h]
  double v121; // [rsp+D8h] [rbp-30h] BYREF
  int v122; // [rsp+E0h] [rbp-28h]
  double v123; // [rsp+E8h] [rbp-20h] BYREF
  int v124; // [rsp+F0h] [rbp-18h]
  int n0x2800_1; // [rsp+F8h] [rbp-10h] BYREF
  __int64 v126; // [rsp+FCh] [rbp-Ch]
  int v127; // [rsp+104h] [rbp-4h]
  __int64 v128; // [rsp+108h] [rbp+0h]
  unsigned __int64 v129; // [rsp+110h] [rbp+8h]
  __int64 v130; // [rsp+118h] [rbp+10h]
  __int64 v131; // [rsp+120h] [rbp+18h]
  int n0x2800; // [rsp+148h] [rbp+40h] BYREF
  __int64 v133; // [rsp+14Ch] [rbp+44h]
  int v134; // [rsp+154h] [rbp+4Ch]
  __int64 v135; // [rsp+158h] [rbp+50h]
  unsigned __int64 v136; // [rsp+160h] [rbp+58h]
  __int64 v137; // [rsp+168h] [rbp+60h]
  __int64 v138; // [rsp+170h] [rbp+68h]
  double v139[3]; // [rsp+198h] [rbp+90h] BYREF
  __int128 v140; // [rsp+1B0h] [rbp+A8h]
  double v141; // [rsp+1C0h] [rbp+B8h]
  __int128 v142; // [rsp+1C8h] [rbp+C0h]
  double v143; // [rsp+1D8h] [rbp+D0h]
  __int64 v144; // [rsp+1E8h] [rbp+E0h] BYREF
  __m256 v145; // [rsp+1F0h] [rbp+E8h]
  __int128 v146; // [rsp+210h] [rbp+108h]
  __int64 v147; // [rsp+220h] [rbp+118h]
  int v148; // [rsp+5A8h] [rbp+4A0h]
  __int128 v149; // [rsp+5C8h] [rbp+4C0h]
  __int128 v150; // [rsp+5D8h] [rbp+4D0h]
  __int128 v151; // [rsp+5E8h] [rbp+4E0h]
  __int128 v152; // [rsp+5F8h] [rbp+4F0h]
  __int128 v153; // [rsp+608h] [rbp+500h]

  v13 = 0;
  v111 = a2;
  v114 = a4;
  v113 = a5;
  n0x2800 = 0x2800;
  v133 = 0;
  v134 = 0;
  v136 = 0;
  v137 = 0;
  v138 = 0;
  v135 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  v118 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  v16 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x19);
  if ( (v16 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)Parameter + 0x19,
      v16,
      (__int64)"CRigidEntity::CheckForNewContacts",
      (__int64)"m_lockUpdate",
      1);
  v18 = 0;
  if ( (*((_BYTE *)Parameter + 0x208) & 8) != 0 )
  {
    v17 = **((_QWORD **)Parameter + 0x17);
    if ( !v17 || (*(_BYTE *)(v17 + 0x208) & 0x10) != 0 )
      v18 = 1;
  }
  v19 = *((_DWORD *)Parameter + 0xA4);
  v20 = a7;
  v147 = 0;
  v21 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex);
  v144 = 0;
  v22 = *(int *)(v21 + 0x800);
  v23 = *((_DWORD *)Parameter + 0xA5);
  v148 = 0;
  v145 = (__m256)0LL;
  if ( a7 < 0 )
    v20 = 0;
  v109 = v22;
  v117 = v22;
  v116 = 0x1E86E8 * v22;
  n4_2 = v20 | (a7 >> 0x1F) & (v23 & ~(v23 >> 0x1F) | (v23 >> 0x1F) & v19);
  n4 = n4_2;
  *((_DWORD *)&unk_14A316C40 + 0x7A1BA * v22) = 0;
  *(_BYTE *)(a3 + 0x79) = 0;
  *a4 = 0xFFFFFFFF;
  v146 = 0;
  if ( n4_2 <= 0 )
    goto LABEL_78;
  v25 = &v144;
  if ( !v18 )
    v25 = 0;
  __asm { vzeroupper }
  n0x400_1 = (*(__int64 (__fastcall **)(Parameter *, __int64 *, _QWORD, __int64 *))(*(_QWORD *)Parameter + 0x390LL))(
               Parameter,
               &v108,
               *(_QWORD *)(*(_QWORD *)Parameter + 0x390LL),
               v25);
  n4_1 = n0x400_1;
  if ( n0x400_1 <= 0x400 )
  {
    if ( !n0x400_1 )
    {
LABEL_78:
      v102 = 0;
      dword_1513C3EA4[0x1002 * v117] = 0;
      goto LABEL_79;
    }
  }
  else
  {
    n0x2800_1 = 0x2800;
    v126 = 0;
    v127 = 0;
    v129 = 0;
    v130 = 0;
    v131 = 0;
    v128 = 1;
    qword_149A05E00(&n0x2800_1, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    v28 = sub_1465F4EC0();
    v29 = (__int64 *)*((_QWORD *)v28 + 0x1F);
    if ( !v29 )
    {
      v30 = (__int64 *)allocWithProfilerInfo_w(0x18u);
      if ( v30 )
        v29 = sub_1465A76E0(v30);
      else
        v29 = 0;
      *((_QWORD *)v28 + 0x1F) = v29;
    }
    n4_3 = n4_1;
    n4_4 = n4_1;
    n4_1 *= 0x10LL;
    v112 = *(double *)&n4_1;
    v32 = sub_1465DBE80(v29, n4_1);
    v33 = (__m128 *)v32;
    if ( n4_3 > 0 )
    {
      n4_5 = 0;
      v35 = (float *)(v32 + 0xC);
      do
      {
        v36 = (volatile signed __int64 *)(*(_QWORD *)(v108 + 8 * n4_5) + 0xC8LL);
        v37 = _InterlockedIncrement64(v36);
        if ( (v37 & 0x200000) != 0 )
          sub_1403CD0A0(v36, v37, (__int64)&p_p_p_p_p_p_p_p_p_p_p_p_Source, (__int64)&p_p_p_p_p_p_p_p_p_p_p_p_Source, 1);
        *(_QWORD *)(v35 + 0xFFFFFFFD) = *(_QWORD *)(v108 + 8 * n4_5);
        v38 = *(double **)(v108 + 8 * n4_5);
        v39 = v38[7] - v38[4];
        v40 = v38[5] - v38[2];
        v41 = v38[6] - v38[3];
        *((_QWORD *)&v42 + 1) = 0;
        *(double *)&v42 = v41 * v39 + v40 * v41 + v41 * v39 + v40 * v39 + v40 * v39 + v40 * v41;
        _XMM0 = v42;
        __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
        v35[0xFFFFFFFF] = *(float *)&_XMM3;
        *v35 = (*(float (__fastcall **)(_QWORD))(**(_QWORD **)(v108 + 8 * n4_5) + 0x2C8LL))(*(_QWORD *)(v108 + 8 * n4_5));
        v45 = (volatile signed __int64 *)(*(_QWORD *)(v108 + 8 * n4_5) + 0xC8LL);
        v46 = _InterlockedDecrement64(v45);
        if ( (v46 & 0x3FF) == 0 && (v46 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(v45, v46);
        ++n4_5;
        v35 += 4;
      }
      while ( n4_5 < n4_4 );
      LODWORD(v22) = v109;
      n4_1 = *(_QWORD *)&v112;
    }
    sub_1415FDF80(v33->m128_f32, (__m128 *)((char *)v33 + n4_1), n4_1 >> 4, v107);
    LODWORD(n4_1) = 0x400;
    sub_1467620F0(v33->m128_f32, v33 + 0x400, 0x400, v107);
    v13 = 0;
    for ( n0x400 = 0; n0x400 < 0x400; ++n0x400 )
    {
      v48 = v33->m128_u64[0];
      ++v33;
      *(_QWORD *)(v108 + 8 * n0x400) = v48;
    }
    v129 = __rdtsc();
    qword_149A05E08(&n0x2800_1);
  }
  if ( *(_DWORD *)(*((_QWORD *)Parameter + 0x58) + 0x420LL) )
  {
    if ( (*(unsigned int (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 8LL))(Parameter) == 0xA )
    {
      v49 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
      v50 = *((unsigned int *)Parameter + 0x148);
      v52 = v50;
      *(float *)&v52 = *(float *)&v50 * *((float *)Parameter + 0x1A5);
      _XMM3 = v52;
      v53 = *((double *)Parameter + 0x85);
      v54 = *((double *)Parameter + 0x88);
      v55 = *((_DWORD *)Parameter + 0x62);
      v57 = _mm_shuffle_ps(v49, v49, 0x55);
      v57.m128_f32[0] = v57.m128_f32[0] * *(float *)&v50;
      _XMM5 = v57;
      v112 = *(double *)((char *)Parameter + 0x68C);
      v153 = v7;
      v152 = v8;
      v151 = v9;
      v59 = v49;
      v59.m128_f32[0] = v49.m128_f32[0] * *(float *)&v50;
      _XMM11 = v59;
      __asm { vminss  xmm2, xmm5, xmm10 }
      v141 = v53;
      v59.m128_f32[0] = (float)(v55 >> 0x1F);
      v61 = *((_QWORD *)Parameter + 0x58);
      v150 = v10;
      _XMM12 = *(_OWORD *)((char *)Parameter + 0x418);
      v149 = v11;
      _XMM13 = *((_OWORD *)Parameter + 0x43);
      __asm { vminss  xmm0, xmm3, xmm10 }
      v65 = *(float *)&_XMM0 + v53;
      __asm
      {
        vmaxss  xmm1, xmm3, xmm10
        vunpckhpd xmm0, xmm12, xmm12
      }
      v68 = *(float *)&_XMM2 + *(double *)&_XMM0;
      __asm { vmaxss  xmm2, xmm5, xmm10 }
      *(double *)_XMM5.m128_u64 = *(float *)&_XMM1 + v54;
      __asm { vunpckhpd xmm1, xmm13, xmm13 }
      *(double *)&_XMM3 = *(float *)&_XMM2 + *(double *)&_XMM1;
      *(double *)v59.m128_u64 = (float)((float)(v59.m128_f32[0] * *(float *)(v61 + 0x13C)) * 4.0);
      v71 = v68 - *(double *)v59.m128_u64;
      v72 = *(double *)v59.m128_u64 + *(double *)_XMM5.m128_u64;
      __asm { vminss  xmm0, xmm11, xmm10 }
      v74 = *(float *)&_XMM0 + *(double *)&_XMM12 - *(double *)v59.m128_u64;
      __asm { vmaxss  xmm0, xmm11, xmm10 }
      *(double *)_XMM5.m128_u64 = *(float *)&_XMM0 + *(double *)&_XMM13 + *(double *)v59.m128_u64;
      v143 = v54;
      v59.m128_u64[1] = 0;
      v139[0] = (*(double *)_XMM5.m128_u64 + v74) * 0.5;
      v139[1] = (*(double *)v59.m128_u64 + *(double *)&_XMM3 + v71) * 0.5;
      v139[2] = (v72 + v65 - *(double *)v59.m128_u64) * 0.5;
      *(double *)v59.m128_u64 = ((*(double *)v59.m128_u64 + *(double *)&_XMM3 - v71)
                               * (*(double *)v59.m128_u64 + *(double *)&_XMM3 - v71)
                               + (*(double *)_XMM5.m128_u64 - v74) * (*(double *)_XMM5.m128_u64 - v74)
                               + (v72 - (v65 - *(double *)v59.m128_u64)) * (v72 - (v65 - *(double *)v59.m128_u64)))
                              * 0.25;
      _XMM0 = v59;
      __asm
      {
        vmovddup xmm1, xmm0
        vsqrtpd xmm2, xmm1
        vunpckhpd xmm2, xmm2, xmm2
        vcvtsd2ss xmm7, xmm2, xmm2
      }
      v81 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x1F4);
      v140 = _XMM12;
      v142 = _XMM13;
      n4_6 = 0;
      v112 = *(double *)v81.m128_u64;
      v83 = (float)((float)(v81.m128_f32[0] * 2.0) * (float)(_mm_shuffle_ps(v81, v81, 0x55).m128_f32[0] * 2.0))
          * (float)(2.0 * *((float *)Parameter + 0x7F));
      if ( (int)n4_1 > 0 )
      {
        do
        {
          v84 = *(_QWORD **)(v13 + v108);
          if ( v84[0x44]
            && (*(int (__fastcall **)(_QWORD *))(*v84 + 8LL))(v84) <= 2
            && (v85 = *(_QWORD *)(v13 + v108),
                v112 = *(double *)(v85 + 0x1F4),
                (float)((float)((float)(*(float *)&v112 * 2.0)
                              * (float)(_mm_shuffle_ps(
                                          (__m128)*(unsigned __int64 *)&v112,
                                          (__m128)*(unsigned __int64 *)&v112,
                                          0x55).m128_f32[0]
                                      * 2.0))
                      * (float)(2.0 * *(float *)(v85 + 0x1FC))) > v83)
            && sub_1468BA140(v85, v139) >= *(float *)&_XMM7 )
          {
            LODWORD(n4_1) = n4_1 - 1;
            memmove((void *)(v108 + 8LL * n4_6), (const void *)(v108 + 8LL * (n4_6 + 1)), 8LL * ((int)n4_1 - n4_6));
          }
          else
          {
            ++n4_6;
            v13 += 8;
          }
        }
        while ( n4_6 < (int)n4_1 );
        if ( !(_DWORD)n4_1 )
          goto LABEL_78;
      }
    }
  }
  v86 = v116;
  v87 = 0;
  v88 = (volatile signed __int32 *)((char *)&unk_14A27DC3C + v116);
  *(_QWORD *)&v112 = (char *)&unk_14A27DC3C + v116;
  if ( _InterlockedCompareExchange((volatile signed __int32 *)((char *)&unk_14A27DC3C + v116), 0x10000, 0) )
    sub_1403A4CA0(v88, 0, 0x10000);
  *(_DWORD *)((char *)&unk_14A316C40 + v86) = 0;
  if ( !*(_BYTE *)(a3 + 0x78) )
  {
    if ( *(_DWORD *)(*((_QWORD *)Parameter + 0x58) + 0x3E4LL) )
    {
      v89 = *((_QWORD *)Parameter + 0x44);
      if ( v89 )
      {
        if ( *(_BYTE *)(*(_QWORD *)v89 + 0x61LL) )
        {
          if ( ((1 << (*(__int64 (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 8LL))(Parameter))
              & *(_DWORD *)(*((_QWORD *)Parameter + 0x58) + 0x3E8LL)) != 0 )
          {
            n4_7 = 0;
            if ( (int)n4_1 > 0 )
            {
              v91 = 0;
              while ( 1 )
              {
                v92 = *(_QWORD *)(v91 + v108);
                if ( ((*(int *)(v92 + 0x294) >> 0x1F) & *(_DWORD *)(v92 + 0x290)
                    | *(_DWORD *)(v92 + 0x294) & ~(*(int *)(v92 + 0x294) >> 0x1F)) <= 0
                  || (v93 = *(__int64 **)(v92 + 0x220)) == 0
                  || (v94 = *v93, !*(_BYTE *)(v94 + 0x61))
                  || *(_QWORD *)v94 == *(_QWORD *)(v94 + 8) )
                {
                  ++n4_7;
                  goto LABEL_67;
                }
                v95 = 0;
                switch ( *(_DWORD *)(*((_QWORD *)Parameter + 0x58) + 0x3E4LL) )
                {
                  case 1:
                    LOBYTE(v106) = 1;
                    v96 = sub_1467A4920((_DWORD)Parameter, v111, a3, v92, v109, v106);
                    break;
                  case 2:
                    v96 = sub_1467A3100((_DWORD)Parameter, v111, a3, v92, v109);
                    break;
                  case 3:
                    v96 = sub_1467A1A70((_DWORD)Parameter, v111, a3, v92, v109);
                    break;
                  default:
                    goto LABEL_63;
                }
                v95 = v96;
                v87 += v96;
LABEL_63:
                if ( v95 <= 0 )
                {
                  ++n4_7;
LABEL_67:
                  v91 += 8;
                  goto LABEL_68;
                }
                LODWORD(n4_1) = n4_1 - 1;
                memmove((void *)(v108 + 8LL * n4_7), (const void *)(v108 + 8LL * (n4_7 + 1)), 8LL * ((int)n4_1 - n4_7));
                v97 = v116;
                *(_BYTE *)(a3 + 0x79) = 1;
                *(_DWORD *)((char *)&unk_14A316C40 + v97) += v95;
LABEL_68:
                if ( n4_7 >= (int)n4_1 )
                {
                  LODWORD(v22) = v109;
                  v88 = *(volatile signed __int32 **)&v112;
                  break;
                }
              }
            }
          }
        }
      }
    }
  }
  if ( n4 == 1 )
  {
    v98 = *(double *)v113;
    v120 = *(_DWORD *)(v113 + 8);
    LODWORD(v106) = a6;
    v119 = v98;
    v99 = CRigidEntity::CheckForNewContactsSinglePart(
            (_DWORD)Parameter,
            v111,
            a3,
            (_DWORD)v114,
            (unsigned int)&v119,
            v106,
            1,
            v108,
            (unsigned int)n4_1,
            (unsigned int)&v144,
            (unsigned int)v22);
  }
  else if ( n4 > 4 || (int)n4_1 > 4 )
  {
    v101 = *(double *)v113;
    v124 = *(_DWORD *)(v113 + 8);
    LODWORD(v106) = a6;
    v123 = v101;
    v99 = CRigidEntity::CheckForNewContactsBoxPrune(
            (_DWORD)Parameter,
            v111,
            a3,
            (_DWORD)v114,
            (unsigned int)&v123,
            v106,
            n4,
            v108,
            (unsigned int)n4_1,
            (unsigned int)&v144,
            (unsigned int)v22);
  }
  else
  {
    v100 = *(double *)v113;
    v122 = *(_DWORD *)(v113 + 8);
    v121 = v100;
    v99 = CRigidEntity::CheckForNewContactsMultipleParts(
            (_DWORD)Parameter,
            v111,
            a3,
            (_DWORD)v114,
            (__int64)&v121,
            a6,
            n4,
            v108,
            n4_1,
            (__int64)&v144,
            v22);
  }
  v102 = v99 + v87;
  n4 = _InterlockedExchangeAdd(v88, 0xFFFF0000) - 0x10000;
  if ( byte_1499F5465 )
    qword_1499F5470(v88);
LABEL_79:
  v103 = v118;
  v104 = _InterlockedDecrement64(v118);
  if ( (v104 & 0x3FF) == 0 && (v104 & 0xFFFF0000FFC00000uLL) != 0 )
  {
    __asm { vzeroupper }
    sub_1403CD3A0(v103, v104);
  }
  v136 = __rdtsc();
  __asm { vzeroupper }
  qword_149A05E08(&n0x2800);
  return v102;
}

// --- End Function: CRigidEntity::CheckForNewContacts (0x146797CF0) ---

// --- Function: sub_1467A6DE0 (0x1467A6DE0) ---
__int64 __fastcall sub_1467A6DE0(Parameter *Parameter, int a2)
{
  __int64 result; // rax
  __int64 v3; // r15
  int v4; // ebx
  int *v5; // rsi
  __int64 v6; // rdi
  __int64 v7; // r14
  __int64 v8; // rbp
  __int64 v9; // rax

  result = a2;
  v3 = 0x801LL * a2;
  v4 = 0;
  if ( SHIDWORD(qword_1513BFEA0[v3 + 0x800]) > 0 )
  {
    v5 = (int *)&qword_1513BFEA0[v3];
    do
    {
      v6 = *(_QWORD *)v5;
      v7 = 8LL * v5[0x801];
      v8 = *(_QWORD *)(v7 + *(_QWORD *)(*(_QWORD *)v5 + 0x240LL));
      result = v8 & 0x18000000000LL;
      if ( (v8 & 0x18000000000LL) == 0x18000000000LL )
      {
        sub_14660BF80(v6 + 0x228);
        v9 = *(_QWORD *)(v6 + 0x2A0);
        _InterlockedOr((volatile signed __int32 *)(v9 + 0x184), 0x10u);
        result = *(_QWORD *)(v9 + 0x20);
        *(_QWORD *)(v7 + result) = v8 & 0xFFFFFEFFFFFFFFFFuLL;
      }
      ++v4;
      v5 += 2;
    }
    while ( v4 < SHIDWORD(qword_1513BFEA0[v3 + 0x800]) );
  }
  return result;
}

// --- End Function: sub_1467A6DE0 (0x1467A6DE0) ---

// --- Function: sub_1467A7C90 (0x1467A7C90) ---
__int64 __fastcall sub_1467A7C90(
        __int64 a1,
        double *a2,
        int n0x80000,
        float a4,
        int n3_3,
        _DWORD *a6,
        _QWORD *a7,
        float *a8,
        float *a9,
        double *a10,
        float *a11)
{
  __int128 v11; // xmm6
  __int128 v12; // xmm8
  int v13; // edi
  int n3_1; // eax
  __int128 v16; // xmm4
  __int128 v17; // xmm5
  __int128 v18; // xmm6
  int n3_6; // r8d
  double v20; // xmm1_8
  double v21; // xmm2_8
  __int128 v22; // kr00_16
  int n3; // esi
  __int128 v24; // xmm8
  double v27; // xmm3_8
  __int128 v28; // xmm11
  __int128 v29; // xmm12
  __int128 v30; // xmm13
  __int128 v31; // xmm9
  __int128 v32; // xmm14
  __int128 v33; // xmm15
  __int128 v34; // xmm10
  double v35; // xmm5_8
  double v36; // xmm1_8
  double **v37; // rcx
  __int64 n3_2; // rdx
  double *v39; // rax
  __int128 v40; // xmm2
  __int128 v41; // xmm7
  __int128 v42; // xmm4
  __int128 v48; // kr00_16
  __int128 v54; // kr00_16
  __int128 v57; // kr00_16
  __int128 v58; // kr00_16
  __int128 v59; // kr00_16
  __int128 v60; // kr00_16
  __int128 v61; // kr00_16
  __int128 v62; // kr00_16
  __int128 v63; // kr00_16
  __int64 v64; // rax
  __int64 v65; // r10
  __int64 v66; // r11
  float v67; // xmm8_4
  float v68; // xmm9_4
  float v69; // xmm7_4
  float v70; // xmm6_4
  float v71; // xmm2_4
  float v72; // xmm4_4
  float v73; // xmm5_4
  float v74; // xmm3_4
  float v75; // xmm5_4
  __m128 v76; // xmm8
  float v77; // xmm9_4
  __m128 v78; // kr00_16
  float v81; // xmm1_4
  float v82; // xmm6_4
  float v83; // xmm5_4
  float v84; // xmm11_4
  float v85; // xmm8_4
  float v86; // xmm10_4
  float v87; // xmm3_4
  float v88; // xmm4_4
  double v89; // xmm13_8
  __int128 v90; // xmm14
  __int64 v91; // r9
  __int64 v92; // rdx
  float *v94; // rcx
  double **v95; // r8
  double *v96; // rax
  double v97; // xmm7_8
  double v98; // xmm6_8
  double v99; // xmm5_8
  __int128 v102; // kr00_16
  int n4; // eax
  __int64 n3_4; // r14
  __int64 v109; // r9
  __int64 n3_7; // r11
  int n2; // esi
  _BYTE *v112; // r10
  unsigned __int64 v113; // r8
  __int64 v114; // rdx
  __int64 v115; // rcx
  float v116; // xmm6_4
  float v117; // xmm5_4
  __int64 v118; // rcx
  __int64 v119; // rax
  float v120; // xmm4_4
  float v121; // xmm3_4
  __int64 v122; // rdx
  float v123; // xmm6_4
  float v124; // xmm5_4
  __int64 v125; // rcx
  float v126; // xmm4_4
  float v127; // xmm3_4
  __int64 v128; // rdx
  __int64 v129; // rax
  float v130; // xmm6_4
  float v131; // xmm5_4
  __int64 v132; // rcx
  __int64 *v133; // rax
  float v134; // xmm4_4
  float v135; // xmm3_4
  __int64 v136; // rdx
  __int64 v137; // rcx
  __int64 *v138; // rax
  float v139; // xmm6_4
  float v140; // xmm5_4
  __int64 v141; // rcx
  float v142; // xmm4_4
  float v143; // xmm3_4
  float *v144; // r8
  __int64 v145; // r10
  float *v146; // rdx
  __int64 *v147; // rax
  __int64 v148; // rcx
  _QWORD *v149; // rax
  float v150; // xmm6_4
  float v151; // xmm5_4
  float v152; // xmm4_4
  float v153; // xmm3_4
  float *v154; // r10
  float *v155; // r8
  char *v156; // rdx
  __int64 v157; // r9
  __int64 v158; // rax
  int n3_8; // r9d
  float **v160; // rbx
  __int64 n2_1; // rsi
  __int64 v162; // rax
  float *v163; // r8
  __int64 v164; // rdx
  __int64 v165; // rcx
  float v166; // xmm6_4
  float v167; // xmm5_4
  __int64 v168; // rcx
  int n3_9; // eax
  float v170; // xmm4_4
  float v171; // xmm3_4
  float v172; // xmm7_4
  __int64 v173; // rdx
  __int64 v174; // rcx
  float *v175; // rax
  __int64 v176; // rdx
  int n3_10; // eax
  __int64 v178; // r11
  float *v179; // rax
  float *v180; // rdx
  __int64 n3_5; // r11
  float v182; // xmm2_4
  float v183; // xmm3_4
  float v184; // xmm4_4
  float v185; // xmm9_4
  float v186; // xmm11_4
  float v187; // xmm7_4
  __int64 v188; // rcx
  double v189; // xmm6_8
  double v190; // xmm8_8
  __int128 v191; // kr00_16
  __m128 v192; // xmm3
  double v195; // xmm7_8
  double v196; // xmm5_8
  double v197; // xmm6_8
  float *v202; // rax
  float v203; // xmm1_4
  float v204; // xmm3_4
  __int64 result; // rax
  float v206; // [rsp+20h] [rbp-6958h]
  float v207; // [rsp+24h] [rbp-6954h]
  double v208; // [rsp+28h] [rbp-6950h]
  float v209; // [rsp+30h] [rbp-6948h]
  float v210; // [rsp+38h] [rbp-6940h]
  float v211; // [rsp+3Ch] [rbp-693Ch]
  __m256i v212; // [rsp+40h] [rbp-6938h]
  float v213; // [rsp+60h] [rbp-6918h]
  float v214; // [rsp+68h] [rbp-6910h]
  double v215; // [rsp+70h] [rbp-6908h]
  double v216; // [rsp+78h] [rbp-6900h]
  _QWORD *v217; // [rsp+80h] [rbp-68F8h]
  _QWORD v218[2]; // [rsp+88h] [rbp-68F0h] BYREF
  float v219; // [rsp+98h] [rbp-68E0h]
  float v220; // [rsp+9Ch] [rbp-68DCh]
  float v221; // [rsp+A0h] [rbp-68D8h]
  _QWORD v222[256]; // [rsp+B0h] [rbp-68C8h] BYREF
  char v223[16]; // [rsp+8B0h] [rbp-60C8h] BYREF
  _BYTE v224[8176]; // [rsp+8C0h] [rbp-60B8h] BYREF
  _BYTE v225[24]; // [rsp+28B0h] [rbp-40C8h] BYREF
  _BYTE v226[32]; // [rsp+28C8h] [rbp-40B0h] BYREF
  int v227; // [rsp+28E8h] [rbp-4090h]
  char v228; // [rsp+2928h] [rbp-4050h] BYREF
  __int128 v229; // [rsp+6930h] [rbp-48h]
  __int128 v230; // [rsp+6950h] [rbp-28h]

  v230 = v11;
  v229 = v12;
  v13 = 0;
  v217 = a7;
  n3_1 = 0;
  *a6 = 0;
  v214 = a4;
  v16 = 0;
  v17 = 0;
  v18 = 0;
  if ( a2 != (double *)(a1 + 0x4D0) )
  {
    n3_6 = 0;
    do
    {
      n3_1 = n3_6;
      if ( *((char *)a2 + 0x94) >= 0 )
      {
        v20 = a2[9];
        v21 = a2[0xA];
        *((_QWORD *)&v22 + 1) = *((_QWORD *)&v18 + 1);
        *(double *)&v22 = *(double *)&v18 + a2[8];
        v18 = v22;
        v222[n3_6] = a2;
        *((_QWORD *)&v22 + 1) = *((_QWORD *)&v17 + 1);
        *(double *)&v22 = *(double *)&v17 + v20;
        v17 = v22;
        *(_DWORD *)&v224[0x20 * n3_6 + 8] = n3_6;
        n3_1 = n3_6 + 1;
        *a6 = n3_6 + 1;
        *((_QWORD *)&v22 + 1) = *((_QWORD *)&v16 + 1);
        *(double *)&v22 = *(double *)&v16 + v21;
        v16 = v22;
        if ( n3_6 + 1 >= 0x100 )
          break;
      }
      if ( (n0x80000 & *((_DWORD *)a2 + 0x25)) != 0 )
        break;
      a2 = *(double **)a2;
      n3_6 = n3_1;
    }
    while ( a2 != (double *)(a1 + 0x4D0) );
  }
  n3 = n3_3;
  v24 = 0;
  if ( n3_1 <= n3_3
    && (float)((float)((float)(*a11 * *a11) + (float)(a11[1] * a11[1])) + (float)(a11[2] * a11[2])) == 0.0 )
  {
    goto LABEL_69;
  }
  if ( n3_1 < 3 )
    goto LABEL_69;
  _XMM1 = 0;
  __asm { vcvtsi2sd xmm1, xmm1, eax }
  v27 = 1.0 / *(double *)&_XMM1 * *(double *)&v17;
  v212 = (__m256i)0LL;
  v28 = 0u;
  v29 = 0u;
  v30 = 0u;
  v31 = 0u;
  v32 = 0u;
  v33 = 0u;
  v34 = 0u;
  v35 = 1.0 / *(double *)&_XMM1 * *(double *)&v16;
  v36 = 1.0 / *(double *)&_XMM1 * *(double *)&v18;
  v208 = v35;
  v215 = v36;
  v216 = v27;
  v37 = (double **)v222;
  n3_2 = (unsigned int)n3_1;
  do
  {
    v39 = *v37++;
    v40 = COERCE_UNSIGNED_INT64(v39[8] - v36);
    v41 = COERCE_UNSIGNED_INT64(v39[0xA] - v35);
    v42 = COERCE_UNSIGNED_INT64(v39[9] - v27);
    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)&v41 * *(double *)&v40);
    __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
    _XMM1 = COERCE_UNSIGNED_INT64(*(double *)&v42 * *(double *)&v40);
    __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
    *((_QWORD *)&v48 + 1) = *((_QWORD *)&v40 + 1);
    *(double *)&v48 = *(double *)&v40 * *(double *)&v40;
    _XMM0 = v48;
    __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
    *(float *)&v212.m256i_i32[1] = *(float *)&_XMM3 + *(float *)&v212.m256i_i32[1];
    *((_QWORD *)&v48 + 1) = *((_QWORD *)&v41 + 1);
    *(double *)&v48 = *(double *)&v41 * *(double *)&v42;
    _XMM1 = v48;
    __asm { vcvtsd2ss xmm6, xmm1, xmm1 }
    *((_QWORD *)&v48 + 1) = *((_QWORD *)&v42 + 1);
    *(double *)&v48 = *(double *)&v42 * *(double *)&v42;
    _XMM0 = v48;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    v54 = v31;
    *(float *)&v54 = *(float *)&v31 + *(float *)&_XMM1;
    v31 = v54;
    *((_QWORD *)&v54 + 1) = *((_QWORD *)&v41 + 1);
    *(double *)&v54 = *(double *)&v41 * *(double *)&v41;
    _XMM0 = v54;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    v57 = v24;
    *(float *)&v57 = *(float *)&v24 + *(float *)&_XMM1;
    v24 = v57;
    v36 = v215;
    v58 = v33;
    *(float *)&v58 = *(float *)&v33 + *(float *)&_XMM5;
    v33 = v58;
    v59 = v32;
    *(float *)&v59 = *(float *)&v32 + *(float *)&_XMM3;
    v32 = v59;
    v27 = v216;
    v60 = v29;
    *(float *)&v60 = *(float *)&v29 + *(float *)&_XMM5;
    v29 = v60;
    v35 = v208;
    v61 = v34;
    *(float *)&v61 = *(float *)&v34 + *(float *)&_XMM2;
    v34 = v61;
    v62 = v30;
    *(float *)&v62 = *(float *)&v30 + *(float *)&_XMM6;
    v30 = v62;
    v63 = v28;
    *(float *)&v63 = *(float *)&v28 + *(float *)&_XMM6;
    v28 = v63;
    --n3_2;
  }
  while ( n3_2 );
  v219 = fabs((float)(*(float *)&v24 * *(float *)&v31) - (float)(*(float *)&v63 * *(float *)&v30));
  v220 = fabs((float)(*(float *)&v24 * *(float *)&v34) - (float)(*(float *)&v29 * *(float *)&v33));
  v221 = fabs((float)(*(float *)&v31 * *(float *)&v34) - (float)(*(float *)&v32 * *(float *)&v212.m256i_i32[1]));
  v64 = ((COERCE_UNSIGNED_INT(v219 - v220) >> 0x1F)
       | (2 * (COERCE_UNSIGNED_INT(*(&v219 + (COERCE_UNSIGNED_INT(v219 - v220) >> 0x1F)) - v221) >> 0x1F)))
      & ((((COERCE_UNSIGNED_INT(v219 - v220) >> 0x1F)
         | (2 * (COERCE_UNSIGNED_INT(*(&v219 + (COERCE_UNSIGNED_INT(v219 - v220) >> 0x1F)) - v221) >> 0x1F)))
        ^ 2
        | 4) >> 1);
  v213 = *(float *)&v24;
  v212.m256i_i32[4] = v31;
  v65 = dword_14997D9A0[v64];
  v66 = dword_14997D990[v64];
  v212.m256i_i32[0] = v34;
  v212.m256i_i32[7] = v63;
  v212.m256i_i32[6] = v29;
  v212.m256i_i32[5] = v30;
  v212.m256i_i32[3] = v32;
  v212.m256i_i32[2] = v33;
  v67 = *(float *)&v212.m256i_i32[(unsigned int)(4 * v66)];
  v68 = *(float *)&v212.m256i_i32[(unsigned int)(4 * v65)];
  if ( (float)(fabs(v68 * v67) * 0.001) >= *(&v219 + (unsigned int)v64) )
    goto LABEL_69;
  v69 = 1.0;
  v70 = *(float *)&v212.m256i_i32[(unsigned int)(3 * v65 + v66)];
  v71 = *(float *)&v212.m256i_i32[(unsigned int)(3 * v66 + v65)];
  a8[(unsigned int)v64] = 1.0;
  v72 = *(float *)&v212.m256i_i32[(unsigned int)(3 * v66 + v64)];
  v73 = 1.0 / (float)((float)(v68 * v67) - (float)(v71 * v70));
  v74 = *(float *)&v212.m256i_i32[(unsigned int)(3 * v65 + v64)];
  a8[v66] = (float)((float)(v74 * v71) - (float)(v72 * v68)) * v73;
  a8[v65] = (float)((float)(v72 * v70) - (float)(v74 * v67)) * v73;
  v75 = a8[1];
  v76 = (__m128)*(unsigned int *)a8;
  v77 = a8[2];
  v78 = v76;
  v78.m128_f32[0] = (float)((float)(v76.m128_f32[0] * v76.m128_f32[0]) + (float)(v75 * v75)) + (float)(v77 * v77);
  if ( v78.m128_f32[0] <= 9.9999997e-21 )
  {
    v83 = 0.0;
    *a8 = 0;
    v82 = 0.0;
    a8[1] = 0;
    a8[2] = 0x3F800000;
  }
  else
  {
    _XMM0 = _mm_shuffle_ps(v78, v78, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v81 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v78.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
        * _XMM3.m128_f32[0];
    v82 = v81 * v75;
    v83 = v81 * v76.m128_f32[0];
    v69 = v81 * v77;
    *a8 = v81 * v76.m128_f32[0];
    a8[1] = v82;
    a8[2] = v81 * v77;
    if ( (float)((float)((float)((float)((float)(v82 * v82) + (float)(v83 * v83)) + (float)(v69 * v69)) * 0.80999994)
               - (float)(v83 * v83)) < 0.0 )
    {
      v84 = -(float)(v81 * v77);
      v207 = 0.0;
      v85 = v84;
      v86 = v83;
      v87 = v83;
      v88 = 0.0;
      goto LABEL_18;
    }
  }
  LODWORD(v86) = LODWORD(v82) ^ 0x80000000;
  LODWORD(v87) = LODWORD(v82) ^ 0x80000000;
  v207 = v69;
  v84 = 0.0;
  v88 = v69;
  v85 = 0.0;
LABEL_18:
  v89 = v215;
  v90 = *(unsigned __int64 *)&v216;
  v211 = (float)(v87 * v82) - (float)(v88 * v69);
  v210 = (float)(v85 * v69) - (float)(v87 * v83);
  *a9 = 0.0;
  v91 = 0;
  v92 = (unsigned int)*a6;
  v206 = (float)(v88 * v83) - (float)(v85 * v82);
  v209 = v84;
  LODWORD(_XMM8) = 0;
  if ( (int)v92 > 0 )
  {
    v94 = (float *)v224;
    v95 = (double **)v222;
    do
    {
      v96 = *v95;
      v94 += 8;
      v91 = (unsigned int)(v91 + 1);
      ++v95;
      v97 = v96[8] - v89;
      v98 = v96[0xA] - v208;
      v99 = v96[9] - *(double *)&v90;
      _XMM2 = COERCE_UNSIGNED_INT64(a8[1] * v99 + *a8 * v97 + a8[2] * v98) & (unsigned __int128)0x7FFFFFFFFFFFFFFFuLL;
      __asm
      {
        vcvtsd2ss xmm0, xmm2, xmm2
        vmaxss  xmm8, xmm0, xmm8
      }
      *((_QWORD *)&v102 + 1) = 0;
      *(double *)&v102 = v207 * v99 + v84 * v97 + v86 * v98;
      _XMM2 = v102;
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      v94[0xFFFFFFF8] = *(float *)&_XMM3;
      _XMM2 = COERCE_UNSIGNED_INT64(v210 * v99 + v211 * v97 + v206 * v98);
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      *a9 = *(float *)&_XMM8;
      v92 = (unsigned int)*a6;
      v94[0xFFFFFFF9] = *(float *)&_XMM3;
    }
    while ( (int)v91 < (int)v92 );
  }
  if ( *(float *)&_XMM8 > v214 )
  {
LABEL_69:
    result = 0;
    goto LABEL_70;
  }
  __asm { vzeroupper }
  n4 = sub_14660E980(v223, v92, v225, v91);
  n3_4 = n4;
  if ( n3_3 )
  {
    v109 = 0;
    n3_7 = 0;
    if ( n4 >= 4LL )
    {
      n2 = 2;
      v112 = v226;
      v113 = ((unsigned __int64)(n4 - 4LL) >> 2) + 1;
      n3_7 = 4 * v113;
      do
      {
        v114 = *((_QWORD *)v112 + 0xFFFFFFFD);
        v115 = **(_QWORD **)v112;
        v116 = *(float *)(v115 + 0x10) - *(float *)(v114 + 0x10);
        v117 = *(float *)(v115 + 0x14) - *(float *)(v114 + 0x14);
        v118 = **((_QWORD **)v112 + 0xFFFFFFFF);
        v119 = *((_QWORD *)v112 + 8);
        v120 = *(float *)(v118 + 0x10) - *(float *)(v114 + 0x10);
        v121 = *(float *)(v118 + 0x14) - *(float *)(v114 + 0x14);
        v122 = *((_QWORD *)v112 + 5);
        *((_DWORD *)v112 + 8) = v109;
        *((float *)v112 + 6) = (float)(v120 * v117) - (float)(v121 * v116);
        *((float *)v112 + 7) = (float)((float)(v121 * v121) + (float)(v120 * v120))
                             * (float)((float)(v117 * v117) + (float)(v116 * v116));
        v123 = *(float *)(*(_QWORD *)v119 + 0x10LL) - *(float *)(v122 + 0x10);
        v124 = *(float *)(*(_QWORD *)v119 + 0x14LL) - *(float *)(v122 + 0x14);
        v125 = **((_QWORD **)v112 + 7);
        v126 = *(float *)(v125 + 0x10) - *(float *)(v122 + 0x10);
        v127 = *(float *)(v125 + 0x14) - *(float *)(v122 + 0x14);
        v128 = *((_QWORD *)v112 + 0xD);
        *((_DWORD *)v112 + 0x18) = n2 - 1;
        v129 = *((_QWORD *)v112 + 0x10);
        *((float *)v112 + 0x16) = (float)(v126 * v124) - (float)(v127 * v123);
        *((float *)v112 + 0x17) = (float)((float)(v127 * v127) + (float)(v126 * v126))
                                * (float)((float)(v124 * v124) + (float)(v123 * v123));
        v130 = *(float *)(*(_QWORD *)v129 + 0x10LL) - *(float *)(v128 + 0x10);
        v131 = *(float *)(*(_QWORD *)v129 + 0x14LL) - *(float *)(v128 + 0x14);
        v132 = **((_QWORD **)v112 + 0xF);
        v133 = (__int64 *)*((_QWORD *)v112 + 0x18);
        v134 = *(float *)(v132 + 0x10) - *(float *)(v128 + 0x10);
        v135 = *(float *)(v132 + 0x14) - *(float *)(v128 + 0x14);
        v136 = *((_QWORD *)v112 + 0x15);
        *((float *)v112 + 0x26) = (float)(v134 * v131) - (float)(v135 * v130);
        *((float *)v112 + 0x27) = (float)((float)(v135 * v135) + (float)(v134 * v134))
                                * (float)((float)(v131 * v131) + (float)(v130 * v130));
        *((_DWORD *)v112 + 0x28) = n2;
        v137 = *v133;
        v109 = (unsigned int)(v109 + 4);
        v138 = (__int64 *)*((_QWORD *)v112 + 0x17);
        v112 += 0x100;
        v139 = *(float *)(v137 + 0x10) - *(float *)(v136 + 0x10);
        v140 = *(float *)(v137 + 0x14) - *(float *)(v136 + 0x14);
        v141 = *v138;
        LODWORD(v138) = n2 + 1;
        n2 += 4;
        v142 = *(float *)(v141 + 0x10) - *(float *)(v136 + 0x10);
        v143 = *(float *)(v141 + 0x14) - *(float *)(v136 + 0x14);
        *((_DWORD *)v112 + 0xFFFFFFF8) = (_DWORD)v138;
        *((float *)v112 + 0xFFFFFFF6) = (float)(v142 * v140) - (float)(v143 * v139);
        *((float *)v112 + 0xFFFFFFF7) = (float)((float)(v143 * v143) + (float)(v142 * v142))
                                      * (float)((float)(v140 * v140) + (float)(v139 * v139));
        --v113;
      }
      while ( v113 );
      n3 = n3_3;
    }
    if ( n3_7 < n3_4 )
    {
      v144 = (float *)&v226[0x40 * n3_7];
      v145 = n3_4 - n3_7;
      do
      {
        v146 = (float *)*((_QWORD *)v144 + 0xFFFFFFFD);
        v147 = *(__int64 **)v144;
        v144 += 0x10;
        v148 = *v147;
        v149 = (_QWORD *)*((_QWORD *)v144 + 0xFFFFFFF7);
        v150 = *(float *)(v148 + 0x10) - v146[4];
        v151 = *(float *)(v148 + 0x14) - v146[5];
        v152 = *(float *)(*v149 + 0x10LL) - v146[4];
        v153 = *(float *)(*v149 + 0x14LL) - v146[5];
        v144[0xFFFFFFF6] = (float)(v152 * v151) - (float)(v153 * v150);
        *((_DWORD *)v144 + 0xFFFFFFF8) = v109;
        v109 = (unsigned int)(v109 + 1);
        v144[0xFFFFFFF7] = (float)((float)(v153 * v153) + (float)(v152 * v152))
                         * (float)((float)(v151 * v151) + (float)(v150 * v150));
        --v145;
      }
      while ( v145 );
    }
    sub_146807270(v225, 0, (unsigned int)(n3_4 - 1), v109);
    v154 = (float *)&v225[0x40 * (__int64)v227];
    v155 = v154;
    *((_QWORD *)v154 + 5) = v154;
    *((_QWORD *)v154 + 4) = v154;
    if ( n3_4 > 1 )
    {
      v156 = &v228;
      v157 = n3_4 - 1;
      do
      {
        v158 = *(int *)v156;
        v156 += 0x40;
        *(_QWORD *)&v226[0x40 * v158 + 0x10] = v155;
        *(_QWORD *)&v226[0x40 * (__int64)*((int *)v156 + 0xFFFFFFF0) + 8] = *((_QWORD *)v155 + 4);
        *(_QWORD *)(*((_QWORD *)v155 + 4) + 0x28LL) = &v225[0x40 * (__int64)*((int *)v156 + 0xFFFFFFF0)];
        *((_QWORD *)v155 + 4) = &v225[0x40 * (__int64)*((int *)v156 + 0xFFFFFFF0)];
        v155 = (float *)&v225[0x40 * (__int64)*((int *)v156 + 0xFFFFFFF0)];
        --v157;
      }
      while ( v157 );
    }
    for ( ; (int)n3_4 > 2; n3 = n3_3 )
    {
      n3_8 = n3_4;
      if ( (int)n3_4 <= n3 && (float)(v154[0xC] * v154[0xC]) >= (float)(0.022500001 * v154[0xD]) )
        break;
      v160 = (float **)v218;
      LODWORD(n3_4) = n3_4 - 1;
      n2_1 = 2;
      *(_QWORD *)(*((_QWORD *)v154 + 2) + 0x18LL) = *((_QWORD *)v154 + 3);
      *(_QWORD *)(*((_QWORD *)v154 + 3) + 0x10LL) = *((_QWORD *)v154 + 2);
      *(_QWORD *)(*((_QWORD *)v154 + 4) + 0x28LL) = *((_QWORD *)v154 + 5);
      *(_QWORD *)(*((_QWORD *)v154 + 5) + 0x20LL) = *((_QWORD *)v154 + 4);
      v218[0] = *((_QWORD *)v154 + 3);
      v162 = *((_QWORD *)v154 + 2);
      v154 = (float *)*((_QWORD *)v154 + 4);
      v218[1] = v162;
      do
      {
        v163 = *v160;
        v164 = *(_QWORD *)*v160;
        v165 = **((_QWORD **)*v160 + 3);
        v166 = *(float *)(v165 + 0x10) - *(float *)(v164 + 0x10);
        v167 = *(float *)(v165 + 0x14) - *(float *)(v164 + 0x14);
        v168 = **((_QWORD **)*v160 + 2);
        n3_9 = 0;
        v170 = *(float *)(v168 + 0x10) - *(float *)(v164 + 0x10);
        v171 = *(float *)(v168 + 0x14) - *(float *)(v164 + 0x14);
        v172 = (float)(v170 * v167) - (float)(v171 * v166);
        v163[0xC] = v172;
        v163[0xD] = (float)((float)(v170 * v170) + (float)(v171 * v171))
                  * (float)((float)(v166 * v166) + (float)(v167 * v167));
        v173 = *((_QWORD *)v163 + 4);
        v174 = v173;
        if ( (float *)v173 == v154 )
          goto LABEL_46;
        do
        {
          if ( v172 <= *(float *)(v173 + 0x30) )
            break;
          if ( n3_9 >= n3_8 )
            break;
          v173 = *(_QWORD *)(v173 + 0x20);
          ++n3_9;
        }
        while ( (float *)v173 != v154 );
        if ( v174 == v173 )
        {
LABEL_46:
          v176 = *((_QWORD *)v163 + 5);
          n3_10 = 0;
          v178 = v176;
          if ( *(float **)(v176 + 0x20) != v154 )
          {
            do
            {
              if ( v172 >= *(float *)(v176 + 0x30) )
                break;
              if ( n3_10 >= n3_8 )
                break;
              v176 = *(_QWORD *)(v176 + 0x28);
              ++n3_10;
            }
            while ( *(float **)(v176 + 0x20) != v154 );
            if ( v178 != v176 )
            {
              v179 = v163;
              if ( *(float **)(v176 + 0x20) != v154 )
                v179 = v154;
              v154 = v179;
              if ( v163 != (float *)v176 )
              {
                *(_QWORD *)(v174 + 0x28) = v178;
                *(_QWORD *)(*((_QWORD *)v163 + 5) + 0x20LL) = *((_QWORD *)v163 + 4);
                *((_QWORD *)v163 + 5) = v176;
                *((_QWORD *)v163 + 4) = *(_QWORD *)(v176 + 0x20);
                *(_QWORD *)(*(_QWORD *)(v176 + 0x20) + 0x28LL) = v163;
                *(_QWORD *)(v176 + 0x20) = v163;
              }
            }
          }
        }
        else
        {
          v175 = (float *)v174;
          if ( v163 != v154 )
            v175 = v154;
          v154 = v175;
          if ( v163 != (float *)v173 )
          {
            *(_QWORD *)(v174 + 0x28) = *((_QWORD *)v163 + 5);
            *(_QWORD *)(*((_QWORD *)v163 + 5) + 0x20LL) = *((_QWORD *)v163 + 4);
            *((_QWORD *)v163 + 5) = *(_QWORD *)(v173 + 0x28);
            *((_QWORD *)v163 + 4) = v173;
            *(_QWORD *)(*(_QWORD *)(v173 + 0x28) + 0x20LL) = v163;
            *(_QWORD *)(v173 + 0x28) = v163;
          }
        }
        ++v160;
        --n2_1;
      }
      while ( n2_1 );
    }
  }
  else
  {
    v154 = (float *)v225;
  }
  *a6 = 0;
  v180 = v154;
  if ( (int)n3_4 > 0 )
  {
    n3_5 = (unsigned int)n3_4;
    do
    {
      *(_QWORD *)(v222[*(int *)(*(_QWORD *)v180 + 0x18LL)] + 0x10LL) = v222[*(int *)(**((_QWORD **)v180 + 2) + 0x18LL)];
      ++*a6;
      v180 = (float *)*((_QWORD *)v180 + 2);
      --n3_5;
    }
    while ( n3_5 );
  }
  *v217 = v222[*(int *)(*(_QWORD *)v154 + 0x18LL)];
  v182 = a11[1];
  v183 = *a11;
  v184 = a11[2];
  if ( (float)((float)((float)(v183 * v183) + (float)(v182 * v182)) + (float)(v184 * v184)) > 0.0 )
  {
    if ( (int)n3_4 >= 3 )
    {
      v185 = a8[1];
      v186 = a8[2];
      v187 = (float)((float)(v183 * *a8) + (float)(v182 * v185)) + (float)(v184 * v186);
      if ( (float)(v187 * v187) >= (float)((float)((float)((float)(v183 * v183) + (float)(v182 * v182))
                                                 + (float)(v184 * v184))
                                         * 0.001) )
      {
        v188 = *(_QWORD *)v154;
        v189 = a10[1];
        v190 = a10[2];
        *((_QWORD *)&v191 + 1) = *((_QWORD *)&v90 + 1);
        v192 = (__m128)*(unsigned __int64 *)a11;
        *(double *)&v191 = ((*(double *)&v90 - v189) * v185 + (v89 - *a10) * *a8 + (v208 - v190) * v186) / v187;
        _XMM1 = v191;
        __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
        v195 = (float)(v192.m128_f32[0] * *(float *)&_XMM4) + *a10 - v89;
        v196 = (float)(_mm_shuffle_ps(v192, v192, 0x55).m128_f32[0] * *(float *)&_XMM4) + v189 - *(double *)&v90;
        v197 = (float)(a11[2] * *(float *)&_XMM4) + v190 - v208;
        _XMM2 = COERCE_UNSIGNED_INT64(v207 * v196 + v209 * v195 + v86 * v197);
        __asm { vcvtsd2ss xmm8, xmm2, xmm2 }
        _XMM2 = COERCE_UNSIGNED_INT64(v210 * v196 + v211 * v195 + v206 * v197);
        __asm { vcvtsd2ss xmm6, xmm2, xmm2 }
        while ( 1 )
        {
          v154 = (float *)*((_QWORD *)v154 + 2);
          v202 = (float *)(v188 + 0x10);
          v203 = *(float *)&_XMM8 - *(float *)(v188 + 0x10);
          v204 = *(float *)&_XMM6 - *(float *)(v188 + 0x14);
          v188 = *(_QWORD *)v154;
          if ( (float)((float)((float)(*(float *)(*(_QWORD *)v154 + 0x14LL) - v202[1]) * v203)
                     - (float)(v204 * (float)(*(float *)(*(_QWORD *)v154 + 0x10LL) - *v202))) > 0.0 )
            break;
          if ( ++v13 >= (int)n3_4 )
            goto LABEL_68;
        }
      }
    }
    goto LABEL_69;
  }
LABEL_68:
  result = 1;
LABEL_70:
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_1467A7C90 (0x1467A7C90) ---

// --- Function: CRigidEntity::ComputeBBoxRE (0x1467A8E20) ---
unsigned __int64 __fastcall CRigidEntity::ComputeBBoxRE(Parameter *Parameter)
{
  volatile signed __int64 *v2; // rdi
  __int64 v3; // rax
  int v4; // r8d
  int v5; // r8d
  unsigned __int64 n0x200000; // rax

  v2 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  v3 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x19, 0x200000, 0);
  if ( v3 )
    sub_1403DE750((__int64)Parameter + 0xC8, v3, 0, (__int64)"CRigidEntity::ComputeBBoxRE", (__int64)"m_lockUpdate", 1);
  v4 = *((_DWORD *)Parameter + 0xA4);
  if ( *((_DWORD *)Parameter + 0x112) < v4 )
    v4 = *((_DWORD *)Parameter + 0x112);
  v5 = (v4 - 3) >> 0x1F;
  if ( (*((_BYTE *)Parameter + 0x384) & 0x20) != 0 )
    LOBYTE(v5) = 0;
  n0x200000 = (*(__int64 (__fastcall **)(Parameter *, char *, _QWORD))(*(_QWORD *)Parameter + 0x130LL))(
                Parameter,
                (char *)Parameter + 0x418,
                v5 & 1 | 2u);
  _XMM5 = *((unsigned __int64 *)Parameter + 0x7F);
  _XMM1 = *(_OWORD *)((char *)Parameter + 0x3E8);
  __asm { vminpd  xmm1, xmm1, xmmword ptr [rsi+418h] }
  *((_OWORD *)Parameter + 1) = _XMM1;
  __asm { vminsd  xmm0, xmm5, qword ptr [rsi+428h] }
  *((double *)Parameter + 4) = *(double *)&_XMM0;
  _XMM1 = *((_OWORD *)Parameter + 0x40);
  _XMM5 = *((unsigned __int64 *)Parameter + 0x82);
  __asm { vmaxpd  xmm1, xmm1, xmmword ptr [rsi+430h] }
  *(_OWORD *)((char *)Parameter + 0x28) = _XMM1;
  __asm { vmaxsd  xmm0, xmm5, qword ptr [rsi+440h] }
  *((double *)Parameter + 7) = *(double *)&_XMM0;
  if ( v2 )
  {
    n0x200000 = _InterlockedCompareExchange64(v2, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v2, n0x200000);
  }
  return n0x200000;
}

// --- End Function: CRigidEntity::ComputeBBoxRE (0x1467A8E20) ---

// --- Function: sub_1467A9590 (0x1467A9590) ---
float *__fastcall sub_1467A9590(double *a1, __int64 a2, __int64 a3, __int64 a4, __int64 a5, __int64 a6, int *a7)
{
  __int64 n0x10; // rcx
  float *v9; // rbp
  unsigned int *v10; // rax
  float v11; // xmm0_4
  float *result; // rax
  double v13; // xmm13_8
  double v14; // xmm12_8
  double v15; // xmm4_8
  double v16; // xmm11_8
  double v17; // xmm9_8
  double v18; // xmm7_8
  double v19; // xmm8_8
  double v20; // xmm6_8
  double v21; // xmm4_8
  double v22; // xmm5_8
  double v23; // xmm1_8
  double v24; // xmm4_8
  double v25; // kr00_8
  double v26; // xmm6_8
  double v27; // xmm1_8
  double *v28; // rax
  double v29; // xmm13_8
  double v30; // xmm12_8
  double v31; // xmm4_8
  double v32; // xmm11_8
  double v33; // xmm9_8
  double v34; // xmm7_8
  double v35; // xmm8_8
  double v36; // xmm6_8
  double v37; // xmm4_8
  double v38; // xmm2_8
  double v39; // xmm1_8
  double v40; // xmm2_8
  double v41; // xmm1_8
  float v42; // xmm9_4
  float v43; // xmm7_4
  float v44; // xmm8_4
  float v45; // xmm5_4
  float v46; // xmm10_4
  float v47; // xmm6_4
  float v48; // xmm11_4
  float v49; // xmm12_4
  float v50; // xmm15_4
  float v51; // xmm13_4
  float v52; // xmm14_4
  float v53; // xmm4_4
  float v54; // xmm12_4
  float v55; // xmm10_4
  float v56; // xmm8_4
  float v57; // xmm11_4
  float v58; // xmm5_4
  float v59; // xmm9_4
  float v60; // xmm6_4
  double v61; // xmm12_8
  double v62; // xmm13_8
  float *v63; // rax
  double v64; // xmm4_8
  double v65; // xmm7_8
  double v66; // xmm9_8
  double v67; // xmm11_8
  double v68; // xmm8_8
  double v69; // xmm6_8
  double v70; // xmm4_8
  double v71; // xmm5_8
  double v72; // xmm3_8
  double v73; // xmm4_8
  double v74; // xmm7_8
  double v75; // xmm14_8
  double v76; // xmm12_8
  double v77; // xmm4_8
  double v78; // xmm11_8
  double v79; // xmm10_8
  double v80; // xmm9_8
  double v81; // xmm8_8
  double v82; // xmm7_8
  double v83; // xmm6_8
  double v84; // xmm4_8
  double v85; // xmm3_8
  double v86; // xmm2_8
  double v87; // xmm1_8
  double *v88; // rax
  double v89; // xmm11_8
  double v90; // xmm12_8
  float *v91; // rax
  double v92; // xmm13_8
  double v93; // xmm4_8
  double v94; // xmm10_8
  double v95; // xmm8_8
  double v96; // xmm6_8
  double v97; // xmm7_8
  double v98; // xmm5_8
  double v99; // xmm4_8
  double v100; // xmm9_8
  double v101; // xmm1_8
  double v102; // xmm5_8
  double v103; // xmm15_8
  double v104; // xmm11_8
  double v105; // xmm4_8
  double v106; // xmm9_8
  double v107; // xmm10_8
  double v108; // xmm8_8
  double v109; // xmm7_8
  double v110; // xmm6_8
  double v111; // xmm4_8
  double v112; // xmm2_8
  double v113; // xmm1_8
  double v114; // xmm2_8
  double v115; // xmm1_8
  float v116; // xmm9_4
  float v117; // xmm5_4
  float v118; // xmm10_4
  float v119; // xmm11_4
  float *v120; // rax
  float v121; // xmm8_4
  float v122; // xmm7_4
  float v123; // xmm12_4
  float v124; // xmm15_4
  float v125; // xmm14_4
  float v126; // xmm13_4
  float v127; // xmm6_4
  float v128; // kr00_4
  float v129; // xmm5_4
  float v130; // xmm8_4
  float v131; // xmm7_4
  float v132; // xmm9_4
  float v133; // xmm12_4
  float v134; // xmm10_4
  float v135; // xmm11_4
  float v136; // xmm4_4
  float v137; // xmm9_4
  float v138; // xmm5_4
  float v139; // xmm10_4
  float v140; // xmm11_4
  float v141; // xmm7_4
  float v142; // xmm6_4
  float v143; // xmm12_4
  float v144; // xmm15_4
  float v145; // xmm14_4
  float v146; // xmm13_4
  float v147; // xmm8_4
  float v148; // kr00_4
  float v149; // xmm7_4
  float v150; // xmm5_4
  float v151; // xmm1_4
  float v152; // xmm6_4
  float v153; // xmm9_4
  double v154; // [rsp+0h] [rbp-E8h] BYREF
  double v155; // [rsp+8h] [rbp-E0h]
  double v156; // [rsp+10h] [rbp-D8h]
  __int128 v157; // [rsp+18h] [rbp-D0h] BYREF
  double v158; // [rsp+28h] [rbp-C0h]

  *(_OWORD *)a1 = *(_OWORD *)(a4 + 0x10);
  a1[2] = *(double *)(a4 + 0x20);
  n0x10 = 0x10;
  if ( (HIDWORD(*(_QWORD *)(a4 + 0x28)) & 0xFFF40000) != 0xFFF40000 )
    n0x10 = 0x28;
  *(_OWORD *)a2 = *(_OWORD *)(n0x10 + a4);
  *(double *)(a2 + 0x10) = *(double *)(n0x10 + a4 + 0x10);
  if ( (*(_DWORD *)(a4 + 0x54) & 0xFFA00000) != 0xFFA00000 )
  {
    *(_DWORD *)a3 = *(_DWORD *)(a4 + 0x48);
    *(_DWORD *)(a3 + 4) = *(_DWORD *)(a4 + 0x4C);
    *(_DWORD *)(a3 + 8) = *(_DWORD *)(a4 + 0x50);
    *(_DWORD *)(a3 + 0xC) = *(_DWORD *)(a4 + 0x54);
  }
  v9 = (float *)(a3 + 0x18);
  if ( (*(_DWORD *)(a4 + 0x64) & 0xFFA00000) == 0xFFA00000 )
  {
    *(_DWORD *)(a3 + 0x10) = *(_DWORD *)a3;
    *(_DWORD *)(a3 + 0x14) = *(_DWORD *)(a3 + 4);
    v10 = (unsigned int *)(a3 + 0xC);
    v11 = *(float *)(a3 + 8);
  }
  else
  {
    *(_DWORD *)(a3 + 0x10) = *(_DWORD *)(a4 + 0x58);
    *(_DWORD *)(a3 + 0x14) = *(_DWORD *)(a4 + 0x5C);
    v10 = (unsigned int *)(a4 + 0x64);
    v11 = *(float *)(a4 + 0x60);
  }
  *(float *)(a3 + 0x18) = v11;
  result = (float *)*v10;
  *(_DWORD *)(a3 + 0x1C) = (_DWORD)result;
  if ( (*(_BYTE *)(a4 + 0x78) & 1) != 0 )
  {
    v13 = a1[2];
    v14 = a1[1];
    v15 = *(float *)(a5 + 0x1E4);
    v16 = *(float *)(a5 + 0x1DC);
    v17 = *(float *)(a5 + 0x1E0);
    v18 = *(float *)(a5 + 0x1D8);
    v19 = v13 * v16 - v14 * v17 + *a1 * v15;
    v20 = *a1 * v17 - v18 * v13 + v15 * v14;
    v21 = v18 * v14 - *a1 * v16 + v15 * v13;
    v22 = v16 * v21 - v17 * v20;
    v23 = v18 * v21;
    v24 = *(double *)(a5 + 0x1C8);
    v25 = v18 * v20;
    v26 = *(double *)(a5 + 0x1D0);
    *a1 = v22 + v22 + *a1 + *(double *)(a5 + 0x1C0);
    a1[1] = v17 * v19 - v23 + v17 * v19 - v23 + v14 + v24;
    a1[2] = v25 - v16 * v19 + v25 - v16 * v19 + v13 + v26;
    if ( (HIDWORD(*(_QWORD *)(a4 + 0x28)) & 0xFFF40000) == 0xFFF40000 )
    {
      v27 = a1[2];
      v157 = *(_OWORD *)a1;
      v158 = v27;
      v28 = (double *)&v157;
    }
    else
    {
      v29 = *(double *)(a2 + 0x10);
      v30 = *(double *)(a2 + 8);
      v31 = *(float *)(a6 + 0x1E4);
      v32 = *(float *)(a6 + 0x1DC);
      v33 = *(float *)(a6 + 0x1E0);
      v34 = *(float *)(a6 + 0x1D8);
      v35 = v29 * v32 - v30 * v33 + *(double *)a2 * v31;
      v36 = *(double *)a2 * v33 - v34 * v29 + v31 * v30;
      v37 = v34 * v30 - *(double *)a2 * v32 + v31 * v29;
      v38 = v30 + *(double *)(a6 + 0x1C8);
      v154 = *(double *)a2 + v32 * v37 - v33 * v36 + v32 * v37 - v33 * v36 + *(double *)(a6 + 0x1C0);
      v39 = v38 + v33 * v35 - v34 * v37 + v33 * v35 - v34 * v37;
      v40 = v29 + *(double *)(a6 + 0x1D0);
      v155 = v39;
      v156 = v40 + v34 * v36 - v32 * v35 + v34 * v36 - v32 * v35;
      v28 = &v154;
    }
    v41 = v28[2];
    *(_OWORD *)a2 = *(_OWORD *)v28;
    *(double *)(a2 + 0x10) = v41;
    v42 = *(float *)(a5 + 0x1DC);
    v43 = *(float *)(a3 + 4);
    v44 = *(float *)a3;
    v45 = *(float *)(a5 + 0x1D8);
    v46 = *(float *)(a5 + 0x1E0);
    v47 = *(float *)(a3 + 8);
    v48 = *(float *)(a5 + 0x1E4);
    v49 = *(float *)(a3 + 0xC);
    v50 = (float)(v48 * v49) - (float)((float)((float)(v45 * *(float *)a3) + (float)(v42 * v43)) + (float)(v46 * v47));
    v51 = (float)((float)((float)(v42 * v47) - (float)(v46 * v43)) + (float)(v48 * *(float *)a3)) + (float)(v45 * v49);
    *(float *)a3 = v51;
    v52 = (float)((float)((float)(v46 * v44) - (float)(v45 * v47)) + (float)(v48 * v43)) + (float)(v42 * v49);
    v53 = (float)((float)((float)(v45 * v43) - (float)(v42 * v44)) + (float)(v48 * v47)) + (float)(v46 * v49);
    *(float *)(a3 + 8) = v53;
    *(float *)(a3 + 4) = v52;
    *(float *)(a3 + 0xC) = v50;
    result = (float *)(*(_DWORD *)(a4 + 0x64) & 0xFFA00000);
    if ( (_DWORD)result != 0xFFA00000 )
    {
      v54 = *(float *)(a6 + 0x1DC);
      v55 = *(float *)(a3 + 0x14);
      v56 = *(float *)(a6 + 0x1E0);
      v57 = *(float *)(a6 + 0x1E4);
      v58 = *(float *)(a3 + 0x10);
      v59 = *(float *)(a3 + 0x1C);
      v60 = *(float *)(a6 + 0x1D8);
      v51 = (float)((float)((float)(*v9 * v54) - (float)(v56 * v55)) + (float)(v58 * v57)) + (float)(v60 * v59);
      v52 = (float)((float)((float)(v56 * v58) - (float)(*v9 * v60)) + (float)(v55 * v57)) + (float)(v54 * v59);
      v53 = (float)((float)((float)(v60 * v55) - (float)(v58 * v54)) + (float)(*v9 * v57)) + (float)(v56 * v59);
      v50 = (float)(v59 * v57) - (float)((float)((float)(v58 * v60) + (float)(v55 * v54)) + (float)(*v9 * v56));
    }
    *(float *)(a3 + 0x10) = v51;
    *(float *)(a3 + 0x14) = v52;
    *v9 = v53;
    *(float *)(a3 + 0x1C) = v50;
  }
  if ( (*(_BYTE *)(a4 + 0x78) & 4) != 0 )
  {
    v61 = a1[1];
    v62 = a1[2];
    v63 = (float *)(*(_QWORD *)(a5 + 0x230) + 0x20LL * *a7);
    v64 = v63[3];
    v65 = *v63;
    v66 = v63[2];
    v67 = v63[1];
    v68 = v62 * v67 - v61 * v66 + *a1 * v64;
    v69 = *a1 * v66 - v62 * v65 + v61 * v64;
    v70 = v61 * v65 - *a1 * v67 + v62 * v64;
    v71 = v67 * v70 - v66 * v69;
    v72 = v65 * v69;
    v73 = v66 * v68 - v65 * v70;
    v74 = v63[7];
    v75 = (*a1 + v71 + v71) * v74 + v63[4];
    v76 = (v61 + v73 + v73) * v74 + v63[5];
    v77 = *(float *)(a5 + 0x1E4);
    v78 = (v62 + v72 - v67 * v68 + v72 - v67 * v68) * v74 + v63[6];
    v79 = *(float *)(a5 + 0x1DC);
    v80 = *(float *)(a5 + 0x1E0);
    v81 = v78 * v79 - v76 * v80 + v75 * v77;
    v82 = *(float *)(a5 + 0x1D8);
    v83 = v75 * v80 - v78 * v82 + v76 * v77;
    v84 = v76 * v82 - v75 * v79 + v78 * v77;
    v85 = *(double *)(a5 + 0x1D0);
    v86 = *(double *)(a5 + 0x1C8);
    *a1 = v84 * v79 - v83 * v80 + v84 * v79 - v83 * v80 + v75 + *(double *)(a5 + 0x1C0);
    a1[1] = v76 + v86 + v81 * v80 - v84 * v82 + v81 * v80 - v84 * v82;
    a1[2] = v78 + v85 + v83 * v82 - v81 * v79 + v83 * v82 - v81 * v79;
    if ( (HIDWORD(*(_QWORD *)(a4 + 0x28)) & 0xFFF40000) == 0xFFF40000 )
    {
      v87 = a1[2];
      v157 = *(_OWORD *)a1;
      v158 = v87;
      v88 = (double *)&v157;
    }
    else
    {
      v89 = *(double *)(a2 + 0x10);
      v90 = *(double *)(a2 + 8);
      v91 = (float *)(*(_QWORD *)(a6 + 0x230) + 0x20LL * a7[1]);
      v92 = *(float *)(a6 + 0x1DC);
      v93 = v91[3];
      v94 = v91[1];
      v95 = v91[2];
      v96 = *v91;
      v97 = v89 * v94 - v90 * v95 + *(double *)a2 * v93;
      v98 = *(double *)a2 * v95 - v89 * v96 + v90 * v93;
      v99 = v90 * v96 - *(double *)a2 * v94 + v89 * v93;
      v100 = v99 * v94 - v98 * v95;
      v101 = v89 + v96 * v98 - v97 * v94 + v96 * v98 - v97 * v94;
      v102 = v91[7];
      v103 = v101 * v102 + v91[6];
      v104 = (v90 + v97 * v95 - v96 * v99 + v97 * v95 - v96 * v99) * v102 + v91[5];
      v105 = *(float *)(a6 + 0x1E4);
      v106 = (*(double *)a2 + v100 + v100) * v102 + v91[4];
      v107 = *(float *)(a6 + 0x1E0);
      v108 = v103 * v92 - v104 * v107 + v106 * v105;
      v109 = *(float *)(a6 + 0x1D8);
      v110 = v106 * v107 - v103 * v109 + v104 * v105;
      v111 = v104 * v109 - v106 * v92 + v103 * v105;
      v112 = v104 + *(double *)(a6 + 0x1C8);
      v154 = v111 * v92 - v110 * v107 + *(double *)(a6 + 0x1C0) + v106 + v111 * v92 - v110 * v107;
      v113 = v112 + v108 * v107 - v111 * v109 + v108 * v107 - v111 * v109;
      v114 = v103 + *(double *)(a6 + 0x1D0);
      v155 = v113;
      v156 = v114 + v110 * v109 - v108 * v92 + v110 * v109 - v108 * v92;
      v88 = &v154;
    }
    v115 = v88[2];
    *(_OWORD *)a2 = *(_OWORD *)v88;
    *(double *)(a2 + 0x10) = v115;
    v116 = *(float *)(a5 + 0x1DC);
    v117 = *(float *)(a5 + 0x1D8);
    v118 = *(float *)(a5 + 0x1E0);
    v119 = *(float *)(a5 + 0x1E4);
    v120 = (float *)(*(_QWORD *)(a5 + 0x230) + 0x20LL * *a7);
    v121 = v120[1];
    v122 = v120[2];
    v123 = v120[3];
    v124 = (float)(v123 * v119) - (float)((float)((float)(*v120 * v117) + (float)(v121 * v116)) + (float)(v122 * v118));
    v125 = (float)((float)((float)(v122 * v116) - (float)(v118 * v121)) + (float)(*v120 * v119)) + (float)(v117 * v123);
    v126 = (float)((float)((float)(v118 * *v120) - (float)(v122 * v117)) + (float)(v121 * v119)) + (float)(v116 * v123);
    v127 = *(float *)a3;
    v128 = v117 * v121;
    v129 = *(float *)(a3 + 4);
    v130 = *(float *)(a3 + 0xC);
    *(float *)&v115 = v122 * v119;
    v131 = *(float *)(a3 + 8);
    v132 = (float)((float)(v128 - (float)(*v120 * v116)) + *(float *)&v115) + (float)(v118 * v123);
    v133 = (float)(v130 * v124)
         - (float)((float)((float)(v129 * v126) + (float)(*(float *)a3 * v125)) + (float)(v131 * v132));
    v134 = (float)((float)((float)(v131 * v126) - (float)(v129 * v132)) + (float)(*(float *)a3 * v124))
         + (float)(v130 * v125);
    *(float *)a3 = v134;
    v135 = (float)((float)((float)(v127 * v132) - (float)(v131 * v125)) + (float)(v129 * v124)) + (float)(v130 * v126);
    v136 = (float)((float)((float)(v129 * v125) - (float)(v127 * v126)) + (float)(v131 * v124)) + (float)(v130 * v132);
    *(float *)(a3 + 8) = v136;
    *(float *)(a3 + 4) = v135;
    *(float *)(a3 + 0xC) = v133;
    result = (float *)(*(_DWORD *)(a4 + 0x64) & 0xFFA00000);
    if ( (_DWORD)result != 0xFFA00000 )
    {
      v137 = *(float *)(a6 + 0x1DC);
      v138 = *(float *)(a6 + 0x1D8);
      v139 = *(float *)(a6 + 0x1E0);
      v140 = *(float *)(a6 + 0x1E4);
      result = (float *)(*(_QWORD *)(a6 + 0x230) + 0x20LL * a7[1]);
      v141 = result[1];
      v142 = result[2];
      v143 = result[3];
      v144 = (float)(v143 * v140)
           - (float)((float)((float)(v138 * *result) + (float)(v141 * v137)) + (float)(v142 * v139));
      v145 = (float)((float)((float)(v142 * v137) - (float)(v139 * v141)) + (float)(*result * v140))
           + (float)(v138 * v143);
      v146 = (float)((float)((float)(v139 * *result) - (float)(v142 * v138)) + (float)(v141 * v140))
           + (float)(v137 * v143);
      v147 = *(float *)(a3 + 0x18);
      v148 = v138 * v141;
      v149 = *(float *)(a3 + 0x14);
      v150 = *(float *)(a3 + 0x10);
      v151 = v142 * v140;
      v152 = *(float *)(a3 + 0x1C);
      v153 = (float)((float)(v148 - (float)(*result * v137)) + v151) + (float)(v139 * v143);
      v134 = (float)((float)((float)(v147 * v146) - (float)(v149 * v153)) + (float)(v150 * v144)) + (float)(v152 * v145);
      v135 = (float)((float)((float)(v150 * v153) - (float)(v147 * v145)) + (float)(v149 * v144)) + (float)(v152 * v146);
      v136 = (float)((float)((float)(v149 * v145) - (float)(v150 * v146)) + (float)(v147 * v144)) + (float)(v152 * v153);
      v133 = (float)(v152 * v144) - (float)((float)((float)(v150 * v145) + (float)(v149 * v146)) + (float)(v147 * v153));
    }
    *(float *)(a3 + 0x10) = v134;
    *(float *)(a3 + 0x14) = v135;
    *(float *)(a3 + 0x18) = v136;
    *(float *)(a3 + 0x1C) = v133;
  }
  return result;
}

// --- End Function: sub_1467A9590 (0x1467A9590) ---

// --- Function: sub_1467AA740 (0x1467AA740) ---
__int64 __fastcall sub_1467AA740(
        __int64 a1,
        int a2,
        int a3,
        _DWORD *a4,
        __int64 a5,
        int n0x200,
        unsigned int a7,
        __int64 a8,
        _DWORD *a9,
        unsigned int a10,
        float a11,
        __int64 a12)
{
  int v12; // r10d
  __int64 v14; // rdi
  __int64 result; // rax
  __int64 *v16; // r11
  _QWORD *v17; // r10
  __int64 v18; // rdx
  __int64 v19; // r9
  int v20; // ecx
  __int64 v21; // r8
  __int64 *v22; // r8
  __int64 v23; // rcx
  __int64 v24; // rcx
  _QWORD *v25; // rdx
  __int64 *v26; // r15
  __int64 v27; // rcx
  __int64 v28; // rcx
  __int64 v29; // rcx
  __int64 v30; // rdx
  __int64 v31; // rcx
  __int64 v32; // rdx
  __int64 v33; // rcx
  __int64 v34; // rdx

  v12 = n0x200 | 0x100;
  if ( (a7 & 0x80000) != 0 && (*(_DWORD *)(a12 + 0xD4) & 0xFFA00000) != 0xFFA00000
    || (v14 = a12 + 0xD4, (a7 & 0x3800000) != 0) )
  {
    v12 = n0x200 | 0x2000100;
    v14 = a12 + 0xD4;
  }
  LODWORD(result) = sub_1467CF990(a1, a2, a3, *a4, a5, a4[1], v12, a7);
  v16 = (__int64 *)(a1 + 0x4F0);
  v17 = (_QWORD *)(a1 + 0x4E8);
  v18 = *(_QWORD *)(a1 + 0x4E8);
  v19 = (__int64)(int)result << 8;
  v20 = *(_DWORD *)(a8 + 8);
  v21 = 0x108LL * (int)result;
  *(double *)(v21 + v18 + 0x84) = *(double *)a8;
  *(_DWORD *)(v21 + v18 + 0x8C) = v20;
  v22 = (__int64 *)(a1 + 0x4F0);
  v23 = *(_QWORD *)(a1 + 0x4F0);
  *(_DWORD *)(v23 + v19 + 0xC) = *a9;
  *(_DWORD *)(v23 + v19 + 0x10) = a9[1];
  *(_DWORD *)(v23 + v19 + 0x14) = a9[2];
  *(_DWORD *)(v23 + v19 + 0x18) = a9[3];
  v24 = *(_QWORD *)(a1 + 0x4F0);
  *(_DWORD *)(v19 + v24 + 0x1C) = a9[4];
  *(_DWORD *)(v19 + v24 + 0x20) = a9[5];
  *(_DWORD *)(v19 + v24 + 0x24) = a9[6];
  *(_DWORD *)(v19 + v24 + 0x28) = a9[7];
  *(_DWORD *)(v19 + *(_QWORD *)(a1 + 0x4F0) + 8) = a10;
  *(float *)(v19 + *(_QWORD *)(a1 + 0x4F0) + 0x6C) = a11;
  if ( (a7 & 0x80000) != 0 )
  {
    v25 = (_QWORD *)(a1 + 0x4E8);
    v26 = (__int64 *)(a1 + 0x4F0);
    if ( (*(_DWORD *)v14 & 0xFFA00000) != 0xFFA00000 )
    {
      v27 = *v16;
      v25 = (_QWORD *)(a1 + 0x4E8);
      v26 = (__int64 *)(a1 + 0x4F0);
      *(double *)(v27 + v19 + 0xCC) = *(double *)v14;
      *(_DWORD *)(v27 + v19 + 0xD4) = *(_DWORD *)(v14 + 8);
    }
    if ( (*(_DWORD *)(a12 + 0xE0) & 0xFFA00000) != 0xFFA00000 )
    {
      v28 = *v16;
      v17 = v25;
      v22 = v26;
      *(double *)(v28 + v19 + 0xD8) = *(double *)(a12 + 0xE0);
      *(_DWORD *)(v28 + v19 + 0xE0) = *(_DWORD *)(a12 + 0xE8);
    }
    if ( (*(_DWORD *)(a12 + 0x104) & 0xFFA00000) != 0xFFA00000 )
    {
      v29 = *v16;
      *(_DWORD *)(v29 + v19 + 0xF0) = *(_DWORD *)(a12 + 0xF8);
      *(_DWORD *)(v29 + v19 + 0xF4) = *(_DWORD *)(a12 + 0xFC);
      *(_DWORD *)(v29 + v19 + 0xF8) = *(_DWORD *)(a12 + 0x100);
      *(_DWORD *)(v29 + v19 + 0xFC) = *(_DWORD *)(a12 + 0x104);
    }
  }
  if ( (a7 & 0x3800000) != 0 )
  {
    v30 = (__int64)(int)result << 8;
    *(_DWORD *)(0x108LL * (int)result + *v17 + 0x94) |= 0x4000000u;
    v31 = *v22;
    *(double *)(v30 + v31 + 0xA8) = *(double *)(a12 + 0x9C);
    *(_DWORD *)(v30 + v31 + 0xB0) = *(_DWORD *)(a12 + 0xA4);
    if ( (*(_DWORD *)(a12 + 0xAC) & 0xFFA00000) != 0xFFA00000 && *(int *)(a12 + 0xAC) >= 0 )
    {
      v32 = (__int64)(int)result << 8;
      *(_DWORD *)(*v22 + v32 + 0x68) |= 0x8000u;
      *(_DWORD *)(*v22 + v32 + 0x9C) = *(_DWORD *)(a12 + 0xAC);
    }
    *(_DWORD *)(0x108LL * (int)result + *v17 + 0x94) |= 0x2000000u;
    v33 = *v22;
    v34 = (__int64)(int)result << 8;
    *(double *)(v34 + v33 + 0xCC) = *(double *)(a12 + 0x114);
    *(_DWORD *)(v34 + v33 + 0xD4) = *(_DWORD *)(a12 + 0x11C);
  }
  return (unsigned int)result;
}

// --- End Function: sub_1467AA740 (0x1467AA740) ---

// --- Function: CRigidEntity::DetachAllContacts (0x1467AAAB0) ---
__int64 __fastcall CRigidEntity::DetachAllContacts(__int64 a1)
{
  char v2; // r15
  volatile signed __int64 *v3; // r14
  _QWORD **v4; // rsi
  __int64 v5; // rax
  _QWORD *v6; // rdx
  _QWORD *v7; // rdi
  char v8; // bp
  int v9; // eax
  __int64 v10; // rdi
  __int64 v11; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v13; // rax
  unsigned __int64 n0x200000_1; // rax
  int n0x2800; // [rsp+30h] [rbp-78h] BYREF
  __int64 v17; // [rsp+34h] [rbp-74h]
  int v18; // [rsp+3Ch] [rbp-6Ch]
  __int64 v19; // [rsp+40h] [rbp-68h]
  unsigned __int64 v20; // [rsp+48h] [rbp-60h]
  __int64 v21; // [rsp+50h] [rbp-58h]
  __int64 v22; // [rsp+58h] [rbp-50h]

  n0x2800 = 0x2800;
  v17 = 0;
  v18 = 0;
  v20 = 0;
  v21 = 0;
  v22 = 0;
  v19 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  v2 = 0;
  v3 = (volatile signed __int64 *)(a1 + 0x8C8);
  v4 = (_QWORD **)(a1 + 0x4D0);
  while ( 1 )
  {
    v5 = _InterlockedCompareExchange64(v3, 0x200000, 0);
    if ( v5 )
      sub_1403DE750(a1 + 0x8C8, v5, 0, (__int64)"CRigidEntity::DetachAllContacts", (__int64)"m_lockContacts", 1);
    v6 = *v4;
    if ( *v4 != v4 )
    {
      do
      {
        v7 = (_QWORD *)*v6;
        sub_146918640(*(_QWORD *)(a1 + 0x2C0));
        v6 = v7;
      }
      while ( v7 != v4 );
    }
    *(_DWORD *)(a1 + 0x4A4) &= ~0x20000000u;
    v8 = 0;
    v9 = *(_DWORD *)(a1 + 0x148) - 1;
    *(_DWORD *)(a1 + 0x4E0) = 0;
    v10 = v9;
    *(_QWORD *)(a1 + 0x4D8) = v4;
    *v4 = v4;
    for ( *(_QWORD *)(a1 + 0x5A8) = 0; v10 >= 0; --v10 )
    {
      *(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8 * v10) = 0;
      if ( !*(_QWORD *)(*(_QWORD *)(a1 + 0x4C8) + 8 * v10) )
      {
        v11 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * v10);
        if ( !(*(unsigned int (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v11 + 0x258LL))(v11, a1, 0)
          && (unsigned int)CRigidEntity::RemoveColliderInternal(
                             a1,
                             *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * v10),
                             1,
                             0,
                             1) == 0xFFFFFFFE )
        {
          v8 = 1;
        }
      }
    }
    if ( a1 != 0xFFFFFFFFFFFFF738uLL )
    {
      n0x200000 = _InterlockedCompareExchange64(v3, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C8), n0x200000);
    }
    if ( !v8 )
      break;
    if ( !v2 )
    {
      v13 = _InterlockedCompareExchange64(&qword_15143BFB8, 0x200000, 0);
      if ( v13 )
        sub_1403DE750(
          (__int64)&qword_15143BFB8,
          v13,
          0,
          (__int64)&p_p_p_p_p_p_p_p_p_p_p_p_Source,
          (__int64)&p_p_p_p_p_p_p_p_p_p_p_p_Source,
          1);
      v2 = 1;
    }
  }
  if ( v2 )
  {
    n0x200000_1 = _InterlockedCompareExchange64(&qword_15143BFB8, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0(&qword_15143BFB8, n0x200000_1);
  }
  v20 = __rdtsc();
  return qword_149A05E08(&n0x2800);
}

// --- End Function: CRigidEntity::DetachAllContacts (0x1467AAAB0) ---

// --- Function: CRigidEntity::EvaluatePartIndices (0x1467B5210) ---
__int64 __fastcall CRigidEntity::EvaluatePartIndices(__int64 a1, __int64 a2, __int64 a3, int *a4)
{
  int v5; // ebx
  int n10102016; // edx
  int value_by_id; // eax
  bool v11; // cc
  int v12; // edx
  int v13; // r8d
  int v14; // r9d
  volatile signed __int64 *v15; // rbx
  signed __int64 v16; // rdx
  int value_by_id_1; // eax
  int value_by_id_2; // ecx
  unsigned __int64 v19; // rdx
  unsigned __int64 v21; // rdx
  int v22; // edx
  int v23; // r8d
  __int64 v24; // rdx
  __int64 v25; // r8

  v5 = 0;
  n10102016 = *(_DWORD *)(a2 + 0x40);
  if ( n10102016 == 0x80000000 )
  {
    if ( !*(_DWORD *)(a1 + 0x290) )
      return 0;
    *a4 = 0;
    v12 = 0;
    v13 = *(_DWORD *)(a1 + 0x290);
    if ( v13 > 0 )
    {
      v14 = 0;
      do
      {
        if ( (*(_DWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * v14) & 0x7FFLL) != 0 )
          break;
        *a4 = ++v14;
        v12 = v14;
        v13 = *(_DWORD *)(a1 + 0x290);
      }
      while ( v14 < v13 );
    }
    v11 = v12 < v13;
  }
  else
  {
    value_by_id = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), n10102016, 0);
    *a4 = value_by_id;
    v11 = value_by_id < *(_DWORD *)(a1 + 0x290);
  }
  if ( !v11 )
    return 0;
  if ( *(_DWORD *)(a2 + 0x44) == 0x80000000 )
  {
    if ( !*(_DWORD *)(a3 + 0x290) && (__int64 *)a3 != &qword_1514522C0 )
      return 0;
    a4[1] = 0;
    v22 = *(_DWORD *)(a3 + 0x290);
    if ( v22 > 0 )
    {
      v23 = 0;
      do
      {
        if ( (*(_DWORD *)(*(_QWORD *)(a3 + 0x240) + 8LL * v23) & 0x7FFLL) != 0 )
          break;
        a4[1] = ++v23;
        v5 = v23;
        v22 = *(_DWORD *)(a3 + 0x290);
      }
      while ( v23 < v22 );
    }
    if ( v5 >= v22 )
      return 0;
  }
  else
  {
    v15 = (volatile signed __int64 *)(a3 + 0xC8);
    if ( a3 != a1 )
    {
      v16 = _InterlockedIncrement64(v15);
      if ( (v16 & 0x200000) != 0 )
        sub_1403CD0A0(
          (volatile signed __int64 *)(a3 + 0xC8),
          v16,
          (__int64)"CRigidEntity::EvaluatePartIndices",
          (__int64)"pBuddy->m_lockUpdate",
          1);
    }
    value_by_id_1 = map_get_value_by_id(*(_QWORD *)(a3 + 0x2A0), *(_DWORD *)(a2 + 0x44), 0);
    a4[1] = value_by_id_1;
    value_by_id_2 = *(_DWORD *)(a3 + 0x290);
    if ( value_by_id_2 > 0 && value_by_id_1 >= value_by_id_2 )
    {
      if ( a3 != a1 )
      {
        v19 = _InterlockedDecrement64(v15);
        if ( (v19 & 0x3FF) == 0 && (v19 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a3 + 0xC8), v19);
      }
      return 0;
    }
    if ( a3 != a1 )
    {
      v21 = _InterlockedDecrement64(v15);
      if ( (v21 & 0x3FF) == 0 && (v21 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0((volatile signed __int64 *)(a3 + 0xC8), v21);
    }
  }
  v24 = *(_QWORD *)(*(_QWORD *)(a1 + 0x238) + 8LL * *a4);
  if ( v24 && (*(_DWORD *)(v24 + 0x4C) & 0x30000000) != 0 )
    return 0;
  if ( (__int64 *)a3 != &qword_1514522C0 )
  {
    v25 = *(_QWORD *)(*(_QWORD *)(a3 + 0x238) + 8LL * a4[1]);
    if ( v25 )
    {
      if ( (*(_DWORD *)(v25 + 0x4C) & 0x30000000) != 0 )
        return 0;
    }
  }
  return 1;
}

// --- End Function: CRigidEntity::EvaluatePartIndices (0x1467B5210) ---

// --- Function: sub_1467B5500 (0x1467B5500) ---
__int64 __fastcall sub_1467B5500(_QWORD *a1, __int64 n64, __int64 a3, __int64 a4)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  __int128 v13; // xmm15
  unsigned int v16; // esi
  __int64 n64_1; // rbp
  __int64 v18; // rax
  __int64 n64_2; // r12
  __int64 v20; // r15
  __int64 v21; // r14
  __int64 v22; // rax
  __int64 v23; // rax
  __int64 v24; // r8
  __int64 v25; // rax
  __int64 v26; // rcx
  float *v27; // rax
  __int64 v28; // r12
  float v29; // xmm12_4
  float v30; // xmm7_4
  float v31; // xmm13_4
  float v32; // xmm10_4
  float v33; // xmm8_4
  float v34; // xmm9_4
  float v35; // xmm15_4
  float v36; // xmm14_4
  __int64 v37; // rdx
  float v38; // xmm10_4
  float *v39; // rcx
  float v40; // xmm8_4
  float v41; // xmm9_4
  float v42; // xmm15_4
  float v43; // xmm12_4
  float v44; // xmm7_4
  float v45; // xmm13_4
  float v46; // xmm14_4
  float v47; // xmm0_4
  int v48; // edx
  __int64 v49; // rcx
  float v50; // xmm0_4
  __int64 v51; // rax
  int n0x40; // ebp
  __int64 v53; // rax
  __int64 v54; // r9
  __int64 v55; // r8
  __int64 v56; // r14
  __int64 v57; // r15
  __int64 v58; // r10
  unsigned __int64 v59; // rcx
  __int64 v60; // rcx
  __int64 v61; // r11
  __int64 v62; // rax
  int v63; // edx
  float v64; // xmm10_4
  float v65; // xmm8_4
  float v66; // xmm9_4
  float v67; // xmm15_4
  float *v68; // rax
  float v69; // xmm12_4
  float v70; // xmm7_4
  float v71; // xmm13_4
  float v72; // xmm14_4
  __int64 v73; // rdx
  float v74; // xmm10_4
  float *v75; // rcx
  float v76; // xmm8_4
  float v77; // xmm9_4
  float v78; // xmm15_4
  float v79; // xmm12_4
  float v80; // xmm7_4
  float v81; // xmm13_4
  float v82; // xmm14_4
  int v83; // edx
  __int64 v84; // rax
  __int64 v85; // rax
  __int64 v86; // rcx
  __int64 v87; // rax
  float v88; // xmm10_4
  float v89; // xmm8_4
  float v90; // xmm13_4
  float v91; // xmm12_4
  float v92; // xmm4_4
  float v93; // xmm9_4
  float v94; // xmm11_4
  float v95; // xmm7_4
  float v96; // xmm6_4
  float v97; // xmm4_4
  int v100; // edx
  float v101; // xmm0_4
  __int64 v102; // rax
  float v103; // xmm10_4
  float v104; // xmm8_4
  float v105; // xmm13_4
  float v106; // xmm12_4
  float v107; // xmm4_4
  float v108; // xmm9_4
  float v109; // xmm11_4
  float v110; // xmm7_4
  float v111; // xmm6_4
  float v112; // xmm4_4
  __int64 v113; // rdx
  float v114; // xmm0_4
  __int64 v115; // rax
  float v116; // xmm10_4
  float v117; // xmm8_4
  float v118; // xmm13_4
  float v119; // xmm12_4
  float v120; // xmm4_4
  float v121; // xmm9_4
  float v122; // xmm11_4
  float v123; // kr00_4
  float v124; // xmm6_4
  float v125; // xmm4_4
  _BYTE v127[32]; // [rsp+20h] [rbp-D8h] BYREF
  __int128 v128; // [rsp+40h] [rbp-B8h]
  __int128 v129; // [rsp+50h] [rbp-A8h]
  __int128 v130; // [rsp+60h] [rbp-98h]
  __int128 v131; // [rsp+70h] [rbp-88h]
  __int128 v132; // [rsp+80h] [rbp-78h]
  __int128 v133; // [rsp+90h] [rbp-68h]
  __int128 v134; // [rsp+A0h] [rbp-58h]
  __int128 v135; // [rsp+B0h] [rbp-48h]
  __int128 v136; // [rsp+C0h] [rbp-38h]
  __int128 v137; // [rsp+D0h] [rbp-28h]

  v137 = v4;
  v136 = v5;
  v135 = v6;
  v16 = 1;
  v134 = v7;
  v133 = v8;
  n64_1 = (int)n64;
  v132 = v9;
  v18 = a1[0x9D];
  n64_2 = (int)n64;
  v131 = v10;
  v130 = v11;
  v20 = 0x108LL * (int)n64;
  v129 = v12;
  v128 = v13;
  v21 = (__int64)(int)n64 << 8;
  *(_QWORD *)(a4 + 8) = *(_QWORD *)(v20 + v18 + 0x20);
  v22 = sub_1467C49A0(v127, v20 + a1[0x9D], v21 + a1[0x9E] + 0x30LL, 0);
  *(_OWORD *)(a4 + 0x10) = *(_OWORD *)v22;
  *(double *)(a4 + 0x20) = *(double *)(v22 + 0x10);
  v23 = sub_1467C49A0(v127, v20 + a1[0x9D], v21 + a1[0x9E] + 0x48LL, 1);
  v24 = 0x21 * n64_1;
  *(_OWORD *)(a4 + 0x28) = *(_OWORD *)v23;
  *(double *)(a4 + 0x38) = *(double *)(v23 + 0x10);
  v25 = a1[0x9D];
  if ( (*(_DWORD *)(v20 + v25 + 0x94) & 0x2000000) != 0 )
  {
    v26 = a1[0x9E];
    v27 = *(float **)(v25 + 0x108 * n64_1 + 0x28);
    v28 = 0x10 * n64_2;
    v29 = v27[0x25];
    v30 = v27[0x24];
    v31 = v27[0x26];
    v32 = *(float *)(v26 + 0x10 * v28 + 0x10);
    v33 = *(float *)(v26 + 0x10 * v28 + 0xC);
    v34 = *(float *)(v26 + 0x10 * v28 + 0x14);
    v35 = *(float *)(v26 + 0x10 * v28 + 0x18);
    v36 = v27[0x27];
    *(float *)(a4 + 0x54) = (float)(v35 * v36)
                          - (float)((float)((float)(v33 * v30) + (float)(v32 * v29)) + (float)(v34 * v31));
    *(float *)(a4 + 0x48) = (float)((float)((float)(v34 * v29) - (float)(v31 * v32)) + (float)(v33 * v36))
                          + (float)(v30 * v35);
    *(float *)(a4 + 0x4C) = (float)((float)((float)(v31 * v33) - (float)(v34 * v30)) + (float)(v32 * v36))
                          + (float)(v29 * v35);
    *(float *)(a4 + 0x50) = (float)((float)((float)(v30 * v32) - (float)(v33 * v29)) + (float)(v34 * v36))
                          + (float)(v31 * v35);
    v37 = a1[0x9E];
    v28 *= 2;
    v38 = *(float *)(v37 + 8 * v28 + 0x20);
    v39 = *(float **)(a1[0x9D] + 0x108 * n64_1 + 0x30);
    v40 = *(float *)(v37 + 8 * v28 + 0x1C);
    v41 = *(float *)(v37 + 8 * v28 + 0x24);
    v42 = *(float *)(v37 + 8 * v28 + 0x28);
    v43 = v39[0x25];
    v44 = v39[0x24];
    v45 = v39[0x26];
    v46 = v39[0x27];
    *(float *)(a4 + 0x58) = (float)((float)((float)(v41 * v43) - (float)(v45 * v38)) + (float)(v40 * v46))
                          + (float)(v44 * v42);
    *(float *)(a4 + 0x5C) = (float)((float)((float)(v45 * v40) - (float)(v41 * v44)) + (float)(v38 * v46))
                          + (float)(v43 * v42);
    *(float *)(a4 + 0x60) = (float)((float)((float)(v44 * v38) - (float)(v40 * v43)) + (float)(v41 * v46))
                          + (float)(v45 * v42);
    *(float *)(a4 + 0x64) = (float)(v42 * v46)
                          - (float)((float)((float)(v40 * v44) + (float)(v38 * v43)) + (float)(v41 * v45));
  }
  *(_DWORD *)(a4 + 4) = *(_DWORD *)(v21 + a1[0x9E] + 8);
  v47 = *(float *)(v21 + a1[0x9E] + 0x98);
  if ( v47 > 0.0 )
    *(float *)(a4 + 0x84) = v47;
  *(_DWORD *)(a4 + 0x7C) = *(_DWORD *)(v21 + a1[0x9E] + 0x6C);
  v48 = *(_DWORD *)(v21 + a1[0x9E] + 0x68) | 2;
  *(_DWORD *)(a4 + 0x78) = v48;
  *(_DWORD *)(a4 + 0x80) = *(_DWORD *)(v21 + a1[0x9E] + 0x70);
  v49 = a1[0x9E];
  v50 = *(float *)(v21 + v49 + 0xA0);
  if ( v50 > 0.0 )
  {
    *(float *)(a4 + 0x8C) = v50;
    v49 = a1[0x9E];
  }
  if ( (*(_DWORD *)(v20 + a1[0x9D] + 0x94) & 0x2000000) != 0 )
  {
    *(double *)(a4 + 0xBC) = *(double *)(v49 + v21 + 0xB4);
    *(_DWORD *)(a4 + 0xC4) = *(_DWORD *)(v49 + v21 + 0xBC);
    *(_DWORD *)(a4 + 0x78) = v48 | 0x80000;
  }
  else
  {
    *(_DWORD *)(a4 + 0xBC) = 0xFFBFFFFF;
  }
  v51 = a1[0x9E];
  n0x40 = n64_1 + 1;
  *(double *)(a4 + 0xC8) = *(double *)(v21 + v51 + 0xC0);
  *(_DWORD *)(a4 + 0xD0) = *(_DWORD *)(v21 + v51 + 0xC8);
  v53 = a1[0x9E];
  *(double *)(a4 + 0xEC) = *(double *)(v21 + v53 + 0xE4);
  *(_DWORD *)(a4 + 0xF4) = *(_DWORD *)(v21 + v53 + 0xEC);
  *(_DWORD *)(a4 + 0x40) = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1[0x9D] + 8 * v24 + 0x18) + 0x250LL)
                                     + 4LL * *(__int16 *)(v20 + a1[0x9D] + 0x7C));
  *(_DWORD *)(a4 + 0x44) = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1[0x9D] + 8 * v24 + 0x20) + 0x250LL)
                                     + 4LL * *(__int16 *)(v20 + a1[0x9D] + 0x7E));
  if ( n0x40 < 0x40 )
  {
    v54 = 0x108LL * n0x40;
    v55 = (__int64)n0x40 << 8;
    v56 = v55;
    v57 = v54 + 0x30;
    v58 = v55 + 0x64;
    do
    {
      v59 = a1[0xA0];
      if ( 1LL << n0x40 > v59 )
        break;
      if ( (v59 & (1LL << n0x40)) != 0 )
      {
        v60 = a1[0x9E];
        if ( *(_DWORD *)(v55 + v60 + 8) == *(_DWORD *)(a4 + 4) )
        {
          v61 = a1[0x9D];
          v62 = v55 + v60;
          v63 = *(_DWORD *)(v54 + v61 + 0x94);
          if ( (v63 & 0xE00) == 0 || (*(_BYTE *)(v62 + 0x68) & 3) != 0 )
          {
            v100 = *(_DWORD *)(v62 + 0x68);
            if ( (v100 & 1) != 0 )
            {
              *(_DWORD *)(a4 + 0x68) = *(_DWORD *)(v60 + v58 - 4);
              *(_DWORD *)(a4 + 0x6C) = *(_DWORD *)(v58 + a1[0x9E]);
              v101 = *(float *)(v55 + a1[0x9E] + 0x98);
              if ( v101 > 0.0 )
                *(float *)(a4 + 0x88) = v101;
              v102 = a1[0x9E];
              if ( (*(_DWORD *)(v55 + v102 + 0x68) & 0x3800000) != 0 )
              {
                v103 = *(float *)(v55 + v102 + 0x10);
                v104 = *(float *)(v55 + v102 + 0x14);
                v105 = *(float *)(v55 + v102 + 0xB0);
                v106 = *(float *)(v55 + v102 + 0xAC);
                v107 = *(float *)(v55 + v102 + 0x18);
                v108 = *(float *)(v55 + v102 + 0xA8);
                v109 = *(float *)(v55 + v102 + 0xC);
                v110 = (float)((float)(v106 * v104) - (float)(v105 * v103)) + (float)(v108 * v107);
                v111 = (float)((float)(v105 * v109) - (float)(v108 * v104)) + (float)(v106 * v107);
                v112 = (float)((float)(v108 * v103) - (float)(v106 * v109)) + (float)(v105 * v107);
                *(float *)(a4 + 0x9C) = (float)((float)((float)(v104 * v111) - (float)(v112 * v103)) + v108)
                                      + (float)((float)(v104 * v111) - (float)(v112 * v103));
                *(float *)(a4 + 0xA0) = (float)((float)((float)(v112 * v109) - (float)(v104 * v110)) + v106)
                                      + (float)((float)(v112 * v109) - (float)(v104 * v110));
                *(float *)(a4 + 0xA4) = (float)((float)((float)(v103 * v110) - (float)(v109 * v111)) + v105)
                                      + (float)((float)(v103 * v110) - (float)(v109 * v111));
                *(_DWORD *)(a4 + 0xAC) = *(_DWORD *)(v55 + a1[0x9E] + 0x9C);
              }
              ++v16;
            }
            else if ( (v100 & 2) != 0 )
            {
              *(_DWORD *)(a4 + 0x70) = 0;
              v113 = (__int64)n0x40 << 8;
              *(_DWORD *)(a4 + 0x74) = *(_DWORD *)(a1[0x9E] + v113 + 0x64);
              v114 = *(float *)(a1[0x9E] + v113 + 0x98);
              if ( v114 > 0.0 )
                *(float *)(a4 + 0x88) = v114;
              v115 = a1[0x9E];
              if ( (*(_DWORD *)(v115 + v113 + 0x68) & 0x3800000) != 0 )
              {
                v116 = *(float *)(v115 + v113 + 0x10);
                v117 = *(float *)(v115 + v113 + 0x14);
                v118 = *(float *)(v115 + v113 + 0xB0);
                v119 = *(float *)(v115 + v113 + 0xAC);
                v120 = *(float *)(v115 + v113 + 0x18);
                v121 = *(float *)(v115 + v113 + 0xA8);
                v122 = *(float *)(v115 + v113 + 0xC);
                v123 = (float)((float)(v119 * v117) - (float)(v118 * v116)) + (float)(v121 * v120);
                v124 = (float)((float)(v118 * v122) - (float)(v121 * v117)) + (float)(v119 * v120);
                v125 = (float)((float)(v121 * v116) - (float)(v119 * v122)) + (float)(v118 * v120);
                *(float *)(a4 + 0x9C) = (float)((float)((float)(v124 * v117) - (float)(v125 * v116)) + v121)
                                      + (float)((float)(v124 * v117) - (float)(v125 * v116));
                *(float *)(a4 + 0xA0) = (float)((float)((float)(v125 * v122) - (float)(v123 * v117)) + v119)
                                      + (float)((float)(v125 * v122) - (float)(v123 * v117));
                *(float *)(a4 + 0xA4) = (float)((float)((float)(v123 * v116) - (float)(v124 * v122)) + v118)
                                      + (float)((float)(v123 * v116) - (float)(v124 * v122));
                *(_DWORD *)(a4 + 0xAC) = *(_DWORD *)(a1[0x9E] + v113 + 0x9C);
              }
              return v16 + 1;
            }
          }
          else
          {
            if ( (v63 & 0x2000000) == 0 )
            {
              v64 = *(float *)(v60 + v56 + 0x10);
              v65 = *(float *)(v60 + v56 + 0xC);
              v66 = *(float *)(v60 + v56 + 0x14);
              v67 = *(float *)(v60 + v56 + 0x18);
              v68 = *(float **)(v61 + v57 - 8);
              v69 = v68[0x25];
              v70 = v68[0x24];
              v71 = v68[0x26];
              v72 = v68[0x27];
              *(float *)(a4 + 0x54) = (float)(v67 * v72)
                                    - (float)((float)((float)(v65 * v70) + (float)(v64 * v69)) + (float)(v66 * v71));
              *(float *)(a4 + 0x48) = (float)((float)((float)(v66 * v69) - (float)(v71 * v64)) + (float)(v65 * v72))
                                    + (float)(v70 * v67);
              *(float *)(a4 + 0x4C) = (float)((float)((float)(v71 * v65) - (float)(v66 * v70)) + (float)(v64 * v72))
                                    + (float)(v69 * v67);
              *(float *)(a4 + 0x50) = (float)((float)((float)(v70 * v64) - (float)(v65 * v69)) + (float)(v66 * v72))
                                    + (float)(v71 * v67);
              v73 = a1[0x9E];
              v74 = *(float *)(v56 + v73 + 0x20);
              v75 = *(float **)(a1[0x9D] + v57);
              v76 = *(float *)(v56 + v73 + 0x1C);
              v77 = *(float *)(v56 + v73 + 0x24);
              v78 = *(float *)(v56 + v73 + 0x28);
              v79 = v75[0x25];
              v80 = v75[0x24];
              v81 = v75[0x26];
              v82 = v75[0x27];
              *(float *)(a4 + 0x58) = (float)((float)((float)(v77 * v79) - (float)(v81 * v74)) + (float)(v76 * v82))
                                    + (float)(v80 * v78);
              *(float *)(a4 + 0x5C) = (float)((float)((float)(v81 * v76) - (float)(v77 * v80)) + (float)(v74 * v82))
                                    + (float)(v79 * v78);
              *(float *)(a4 + 0x60) = (float)((float)((float)(v80 * v74) - (float)(v76 * v79)) + (float)(v77 * v82))
                                    + (float)(v81 * v78);
              *(float *)(a4 + 0x64) = (float)(v78 * v82)
                                    - (float)((float)((float)(v76 * v80) + (float)(v74 * v79)) + (float)(v77 * v81));
              v60 = a1[0x9E];
            }
            v83 = *(_DWORD *)(v54 + a1[0x9D] + 0x94);
            if ( (v83 & 0x200) == 0 || (*(_DWORD *)(v55 + v60 + 0x68) & 0x3800000) != 0 )
            {
              if ( (v83 & 0x800) != 0 )
                *(_QWORD *)(a4 + 0x68) = 0;
              else
                *(_QWORD *)(a4 + 0x70) = 0;
            }
            else
            {
              *(_DWORD *)(a4 + 0x78) |= 0x2000u;
            }
            if ( (*(_DWORD *)(v54 + a1[0x9D] + 0x94) & 0x2000000) != 0 )
            {
              v84 = a1[0x9E];
              *(double *)(a4 + 0xD4) = *(double *)(v55 + v84 + 0xCC);
              LODWORD(v84) = *(_DWORD *)(v55 + v84 + 0xD4);
              *(_DWORD *)(a4 + 0x78) |= 0x80000u;
              *(_DWORD *)(a4 + 0xDC) = v84;
              v85 = a1[0x9E];
              *(double *)(a4 + 0xE0) = *(double *)(v55 + v85 + 0xD8);
              *(_DWORD *)(a4 + 0xE8) = *(_DWORD *)(v55 + v85 + 0xE0);
              v86 = a1[0x9E];
              *(_DWORD *)(a4 + 0xF8) = *(_DWORD *)(v55 + v86 + 0xF0);
              *(_DWORD *)(a4 + 0xFC) = *(_DWORD *)(v55 + v86 + 0xF4);
              *(_DWORD *)(a4 + 0x100) = *(_DWORD *)(v55 + v86 + 0xF8);
              *(_DWORD *)(a4 + 0x104) = *(_DWORD *)(v55 + v86 + 0xFC);
            }
            else
            {
              *(_DWORD *)(a4 + 0xD4) = 0xFFBFFFFF;
              *(_DWORD *)(a4 + 0xE0) = 0xFFBFFFFF;
              *(_DWORD *)(a4 + 0x104) = 0xFFBFFFFF;
            }
            v87 = a1[0x9E];
            if ( (*(_DWORD *)(v55 + v87 + 0x68) & 0x3800000) != 0 )
            {
              v88 = *(float *)(v55 + v87 + 0x10);
              v89 = *(float *)(v55 + v87 + 0x14);
              v90 = *(float *)(v55 + v87 + 0xB0);
              v91 = *(float *)(v55 + v87 + 0xAC);
              v92 = *(float *)(v55 + v87 + 0x18);
              v93 = *(float *)(v55 + v87 + 0xA8);
              v94 = *(float *)(v55 + v87 + 0xC);
              v95 = (float)((float)(v89 * v91) - (float)(v90 * v88)) + (float)(v93 * v92);
              v96 = (float)((float)(v90 * v94) - (float)(v93 * v89)) + (float)(v91 * v92);
              v97 = (float)((float)(v93 * v88) - (float)(v94 * v91)) + (float)(v90 * v92);
              *(float *)(a4 + 0x9C) = (float)(v93 + (float)((float)(v89 * v96) - (float)(v88 * v97)))
                                    + (float)((float)(v89 * v96) - (float)(v88 * v97));
              *(float *)(a4 + 0xA0) = (float)(v91 + (float)((float)(v94 * v97) - (float)(v89 * v95)))
                                    + (float)((float)(v94 * v97) - (float)(v89 * v95));
              *(float *)(a4 + 0xA4) = (float)(v90 + (float)((float)(v88 * v95) - (float)(v94 * v96)))
                                    + (float)((float)(v88 * v95) - (float)(v94 * v96));
              *(_DWORD *)(a4 + 0xAC) = *(_DWORD *)(v55 + a1[0x9E] + 0x9C);
            }
            ++v16;
            _XMM0 = *(unsigned int *)(v55 + a1[0x9E] + 0x6C);
            __asm { vmaxss  xmm1, xmm0, dword ptr [rbx+7Ch] }
            *(float *)(a4 + 0x7C) = *(float *)&_XMM1;
          }
        }
      }
      ++n0x40;
      v56 += 0x100;
      v57 += 0x108;
      v54 += 0x108;
      v58 += 0x100;
      v55 += 0x100;
    }
    while ( n0x40 < 0x40 );
  }
  return v16;
}

// --- End Function: sub_1467B5500 (0x1467B5500) ---

// --- Function: CRigidEntity::GetPotentialCollidersInternal (0x1467BB140) ---
double __fastcall CRigidEntity::GetPotentialCollidersInternal(
        Parameter *Parameter,
        __int64 *a2,
        double a3,
        char a4,
        __int64 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  __int64 v16; // r15
  const char *v20; // rbx
  __int64 *v21; // rax
  __int64 *v22; // rax
  volatile signed __int64 *v23; // r10
  signed __int64 v24; // rdx
  double result; // xmm0_8
  double v26; // kr00_8
  unsigned __int64 v27; // rax
  __m128 v28; // xmm1
  __int128 v29; // xmm2
  __int128 v31; // kr00_16
  __int64 TlsIndex; // rcx
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v36; // rax
  __int64 v37; // rcx
  __m128 v39; // kr00_16
  __m128 v41; // kr00_16
  int v43; // edx
  double v45; // xmm9_8
  double v47; // xmm10_8
  double v49; // xmm8_8
  double v52; // xmm7_8
  int EntitiesAround; // eax
  _QWORD *v56; // rcx
  Parameter **v57; // r13
  int v58; // r12d
  int v59; // r13d
  __int64 v60; // rsi
  int n3; // ebx
  __int64 v62; // rcx
  __int64 v63; // r11
  int v64; // r10d
  int v65; // eax
  unsigned int v66; // edx
  int v67; // r12d
  unsigned __int64 v68; // rax
  unsigned __int64 v69; // rbx
  unsigned __int64 v70; // r11
  __int64 v71; // rcx
  unsigned __int64 v72; // rdx
  unsigned int v73; // r8d
  __int64 v74; // rsi
  __int64 v75; // r12
  bool v76; // zf
  _DWORD *v77; // rcx
  unsigned int n2; // eax
  float v79; // xmm6_4
  float v80; // xmm7_4
  float v81; // xmm8_4
  float *v82; // rcx
  double v83; // kr00_8
  char v84; // r12
  Parameter *Parameter_2; // rcx
  __int64 v86; // rcx
  int n3_1; // eax
  double v88; // xmm5_8
  double v89; // xmm2_8
  double v90; // xmm4_8
  Parameter *Parameter_1; // r12
  int v102; // r8d
  int v103; // ecx
  __int16 v104; // ax
  __int64 v105; // r9
  __int128 v106; // kr00_16
  __int64 v109; // rdx
  __int64 v110; // rcx
  bool v111; // sf
  int v112; // r10d
  __int64 v113; // r9
  unsigned int v114; // edx
  signed __int32 v115; // eax
  unsigned __int64 v116; // r12
  __int64 v117; // rbx
  _BYTE v118[4]; // [rsp+78h] [rbp+0h] BYREF
  __int128 v119; // [rsp+178h] [rbp+100h]
  __int128 v120; // [rsp+188h] [rbp+110h]
  __int128 v121; // [rsp+198h] [rbp+120h]
  __int128 v122; // [rsp+1A8h] [rbp+130h]
  __int128 v123; // [rsp+1B8h] [rbp+140h]
  __int128 v124; // [rsp+1C8h] [rbp+150h]
  __int128 v125; // [rsp+1D8h] [rbp+160h]
  __int128 v126; // [rsp+1E8h] [rbp+170h]
  __int128 v127; // [rsp+1F8h] [rbp+180h]
  __int128 v128; // [rsp+208h] [rbp+190h]

  v128 = v5;
  v127 = v6;
  v126 = v7;
  v125 = v8;
  v124 = v9;
  v123 = v10;
  v122 = v11;
  v121 = v12;
  v120 = v13;
  v119 = v14;
  _RBP = (unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL;
  v16 = 0;
  *(_DWORD *)(_RBP + 0x90) = 0x2800;
  *(_QWORD *)(_RBP + 0x94) = 0;
  *(_DWORD *)(_RBP + 0x9C) = 0;
  *(_QWORD *)(_RBP + 0xA8) = 0;
  *(_QWORD *)(_RBP + 0xB0) = 0;
  *(_QWORD *)(_RBP + 0xB8) = 0;
  *(_QWORD *)(_RBP + 0xA0) = 1;
  qword_149A05E00(
    ((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x90,
    0,
    &p_p_p_p_p_p_p_p_p_p_p_p_Source,
    &p_p_p_p_p_p_p_p_p_p_p_p_Source,
    0);
  v20 = sub_1465F4EC0();
  if ( !*((_QWORD *)v20 + 0x1F) )
  {
    v21 = (__int64 *)allocWithProfilerInfo_w(0x18u);
    if ( v21 )
      v22 = sub_1465A76E0(v21);
    else
      v22 = 0;
    *((_QWORD *)v20 + 0x1F) = v22;
  }
  *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x38) = 6;
  v23 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x40) = 0xFFBFFFFF;
  *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x3C) = 1;
  v24 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x2A);
  if ( (v24 & 0x200000) != 0 )
  {
    sub_1403CD0A0(
      (volatile signed __int64 *)Parameter + 0x2A,
      v24,
      (__int64)"CRigidEntity::GetPotentialCollidersInternal",
      (__int64)"m_lockColliders",
      1);
    v23 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  }
  if ( (*((_DWORD *)Parameter + 0x82) & 0x40000000) != 0
    && (*(_QWORD *)&v26 = *((unsigned int *)Parameter + 0x1A4),
        *(float *)&v26 = *((float *)Parameter + 0x1A4) * *((float *)Parameter + 0x1A4),
        result = v26,
        (float)((float)((float)(*((float *)Parameter + 0x1A3) * *((float *)Parameter + 0x1A3)) + *(float *)&v26)
              + (float)(*((float *)Parameter + 0x1A5) * *((float *)Parameter + 0x1A5))) < 0.0000099999997)
    || (result = 0.0,
        (float)((float)((float)(*((float *)Parameter + 0x1A3) * *((float *)Parameter + 0x1A3))
                      + (float)(*((float *)Parameter + 0x1A4) * *((float *)Parameter + 0x1A4)))
              + (float)(*((float *)Parameter + 0x1A5) * *((float *)Parameter + 0x1A5)))
      + *((double *)Parameter + 0xD7)
      + (float)((float)((float)(*((float *)Parameter + 0x1A0) * *((float *)Parameter + 0x1A0))
                      + (float)(*((float *)Parameter + 0x1A1) * *((float *)Parameter + 0x1A1)))
              + (float)(*((float *)Parameter + 0x1A2) * *((float *)Parameter + 0x1A2))) <= 0.0) )
  {
    v27 = _InterlockedDecrement64(v23);
    if ( (v27 & 0x3FF) == 0 && (v27 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(v23, v27);
    goto LABEL_84;
  }
  v28 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
  v29 = *((unsigned int *)Parameter + 0x148);
  v31 = v29;
  *(float *)&v31 = *(float *)&v29 * *((float *)Parameter + 0x1A5);
  _XMM4 = v31;
  _XMM6 = *(_OWORD *)((char *)Parameter + 0x418);
  _XMM13 = *((_OWORD *)Parameter + 0x43);
  TlsIndex = (unsigned int)::TlsIndex;
  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x58) = *((double *)Parameter + 0x85);
  v36 = ThreadLocalStoragePointer[TlsIndex];
  v37 = *((_QWORD *)Parameter + 0x58);
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x70) = *((double *)Parameter + 0x88);
  v39 = v28;
  v39.m128_f32[0] = v28.m128_f32[0] * *(float *)&v29;
  _XMM12 = v39;
  v41 = _mm_shuffle_ps(v28, v28, 0x55);
  v41.m128_f32[0] = v41.m128_f32[0] * *(float *)&v29;
  _XMM5 = v41;
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x78) = *(double *)v28.m128_u64;
  *(_OWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x48) = _XMM6;
  *(_OWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x60) = _XMM13;
  __asm { vunpckhpd xmm2, xmm6, xmm6 }
  v43 = *(_DWORD *)(v36 + 0x800);
  __asm { vminss  xmm1, xmm5, xmm14 }
  v45 = *(float *)&_XMM1 + *(double *)&_XMM2;
  LODWORD(v36) = *((_DWORD *)Parameter + 0x144) | 0x20040;
  __asm { vminss  xmm0, xmm4, xmm14 }
  v47 = *(float *)&_XMM0 + *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x58);
  __asm { vminss  xmm0, xmm12, xmm14 }
  v49 = *(double *)&_XMM6 + *(float *)&_XMM0;
  __asm { vmaxss  xmm1, xmm5, xmm14 }
  __asm { vmaxss  xmm0, xmm4, xmm14 }
  *(double *)&_XMM4 = (float)((float)((float)(*((_DWORD *)Parameter + 0x62) >> 0x1F) * *(float *)(v37 + 0x13C)) * 4.0);
  v52 = *(float *)&_XMM0 + *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x70);
  __asm { vmaxss  xmm0, xmm12, xmm14 }
  __asm { vunpckhpd xmm2, xmm13, xmm13 }
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x50) = v45 - *(double *)&_XMM4;
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x48) = v49 - *(double *)&_XMM4;
  *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18) = v43;
  result = *(double *)&_XMM4 + *(double *)&_XMM13 + *(float *)&_XMM0;
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x68) = *(float *)&_XMM1
                                                                       + *(double *)&_XMM2
                                                                       + *(double *)&_XMM4;
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x58) = v47 - *(double *)&_XMM4;
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x60) = result;
  *(double *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x70) = v52 + *(double *)&_XMM4;
  EntitiesAround = CPhysicalWorld::GetEntitiesAround(
                     v37,
                     (double *)(_RBP + 0x48),
                     (double *)(_RBP + 0x60),
                     (__int64)a2,
                     v36,
                     (__int64)Parameter,
                     v43,
                     0,
                     a5);
  v56 = (_QWORD *)*((_QWORD *)v20 + 0x1F);
  *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x28) = EntitiesAround;
  v57 = (Parameter **)sub_1465DBE80(v56, 8LL * EntitiesAround);
  *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x30) = v57;
  if ( (*((_BYTE *)Parameter + 0x208) & 1) != 0 )
  {
    v58 = 0;
    if ( *((int *)Parameter + 0x52) > 0 )
    {
      v59 = *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18);
      v60 = 0;
      do
      {
        n3 = 0;
        v62 = *(_QWORD *)(v60 + *((_QWORD *)Parameter + 0x98));
        if ( v62 )
        {
          while ( n3 < 3 && (*(_DWORD *)(v62 + 0x94) & 0x80000) == 0 )
            ++n3;
        }
        v63 = *(_QWORD *)(v60 + *((_QWORD *)Parameter + 0x28));
        v64 = *(_DWORD *)(***(_QWORD ***)(v63 + 0x238) + 0x18LL)
            + *(_DWORD *)(***((_QWORD ***)Parameter + 0x47) + 0x18LL)
            - 2;
        v65 = (*((_DWORD *)Parameter + 0xA4) & (*((int *)Parameter + 0xA5) >> 0x1F)
             | *((_DWORD *)Parameter + 0xA5) & ~(*((int *)Parameter + 0xA5) >> 0x1F))
            + 2
            * ((*(int *)(v63 + 0x294) >> 0x1F) & *(_DWORD *)(v63 + 0x290)
             | *(_DWORD *)(v63 + 0x294) & ~(*(int *)(v63 + 0x294) >> 0x1F))
            - 3;
        v66 = (*(_DWORD *)(*((_QWORD *)Parameter + 0x58) + 0x2D4LL)
             & ((unsigned int)(3 - n3) >> 0x1F)
             & -((v64 ^ (v64 - 1)) >> 0x1F)
             & -((v65 ^ (v65 - 1)) >> 0x1F)) << v59;
        ++v58;
        *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10) = v66
                                                                             + _InterlockedExchangeAdd(
                                                                                 (volatile signed __int32 *)(v63 + 0xF8),
                                                                                 v66);
        v60 += 8;
      }
      while ( v58 < *((_DWORD *)Parameter + 0x52) );
      v57 = *(Parameter ***)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x30);
    }
  }
  v67 = *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18);
  v68 = sub_1467C4C20((__int64 *)Parameter, v67, 1u);
  v69 = *((_QWORD *)Parameter + 0x43);
  v70 = v68;
  v71 = *((_QWORD *)Parameter + 0x58);
  v72 = HIDWORD(v69);
  *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x78) = v68;
  *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10) = v69;
  if ( !*(_DWORD *)(v71 + 0x16C) )
  {
    v72 = HIDWORD(v69) | 1u;
    *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x14) = v72;
    v69 = *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10);
  }
  *((_DWORD *)Parameter + 0x129) &= 0xFC03FFFF;
  *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10) = 0;
  v73 = __ROL4__(1, v67);
  v74 = 0;
  *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 8) = v73;
  if ( *(__int64 *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x28) > 0 )
  {
    *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x20) = 0;
    while ( 1 )
    {
      v75 = 8 * v74;
      if ( *((double *)Parameter + 0xD7) <= 0.0 )
      {
        __asm { vzeroupper }
        *(float *)&result = (*(float (__fastcall **)(_QWORD, unsigned __int64))(**(_QWORD **)(v75 + *a2) + 0x2C8LL))(
                              *(_QWORD *)(v75 + *a2),
                              v72);
        if ( *(float *)&result <= 0.0 )
          goto LABEL_69;
        v73 = *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 8);
      }
      v72 = *(_DWORD *)(*(_QWORD *)(v75 + *a2) + 0xF8LL) & v73
          | *(_QWORD *)(*(_QWORD *)(v75 + *a2) + 0x218LL) & __ROR8__(v69, 0x20);
      if ( !v72 )
      {
        v76 = (*((_DWORD *)Parameter + 0x129) & 0x10000000) == 0;
        *(_BYTE *)_RBP = 0;
        if ( v76 )
        {
          v84 = 0;
        }
        else
        {
          if ( *(float *)&a3 <= 0.0 )
            goto LABEL_40;
          v77 = *(_DWORD **)(v75 + *a2);
          n2 = v77[0x3D];
          if ( n2 > 2 && n2 != 4 )
            goto LABEL_40;
          v79 = 0.0;
          v80 = 0.0;
          v81 = 0.0;
          __asm { vzeroupper }
          if ( (*(unsigned __int8 (__fastcall **)(_DWORD *))(*(_QWORD *)v77 + 0x10LL))(v77) && !a5 )
          {
            v82 = *(float **)(*a2 + 8 * v74);
            v81 = v82[0x1A3];
            v80 = v82[0x1A4];
            v79 = v82[0x1A5];
          }
          *(_QWORD *)&v83 = *((unsigned int *)Parameter + 0x1A5);
          *(float *)&v83 = (float)(*((float *)Parameter + 0x1A5) - v79) * (float)(*((float *)Parameter + 0x1A5) - v79);
          result = v83;
          if ( (float)((float)((float)((float)(*((float *)Parameter + 0x1A3) - v81)
                                     * (float)(*((float *)Parameter + 0x1A3) - v81))
                             + (float)((float)(*((float *)Parameter + 0x1A4) - v80)
                                     * (float)(*((float *)Parameter + 0x1A4) - v80)))
                     + *(float *)&v83) > 10000.0 )
          {
            sub_1467B60C0(Parameter, *(_QWORD *)(*a2 + 8 * v74), *(float *)&a3, 1);
            v84 = 1;
          }
          else
          {
LABEL_40:
            v84 = *(_BYTE *)_RBP;
          }
        }
        Parameter_2 = *(Parameter **)(*a2 + 8 * v74);
        if ( *((int *)Parameter_2 + 0x3D) > 2 )
        {
          __asm { vzeroupper }
          if ( (*(unsigned int (__fastcall **)(Parameter *))(*(_QWORD *)Parameter_2 + 8LL))(Parameter_2) == 6 )
          {
            if ( *(float *)&a3 > 0.0 && !v84 )
              sub_1467B60C0(Parameter, *(_QWORD *)(*a2 + 8 * v74), *(float *)&a3, 0);
          }
          else
          {
            LODWORD(v16) = v16 + 1;
            *v57++ = *(Parameter **)(*a2 + 8 * v74);
            v86 = *((_QWORD *)Parameter + 0x58);
            if ( !*(_DWORD *)(v86 + 0x250)
              || (v72 = *(_QWORD *)(*a2 + 8 * v74), n3_1 = *(_DWORD *)(v72 + 0xF4), n3_1 != 3) && n3_1 != 6 )
            {
              CPhysicalWorld::ScheduleForStep(v86, *(_QWORD *)(*a2 + 8 * v74), *((float *)Parameter + 0x14A));
              *((_DWORD *)Parameter + 0x129) ^= (*((_DWORD *)Parameter + 0x129)
                                               ^ (*((_DWORD *)Parameter + 0x129) + 0x40000))
                                              & 0x3FC0000;
            }
          }
          goto LABEL_69;
        }
        if ( *((double *)Parameter + 0xD7) > 0.0 )
        {
          v88 = *((double *)Parameter_2 + 7) - *((double *)Parameter_2 + 4);
          v89 = *((double *)Parameter_2 + 5) - *((double *)Parameter_2 + 2);
          v90 = *((double *)Parameter_2 + 6) - *((double *)Parameter_2 + 3);
          result = v88 * v88;
          if ( v89 * v89 + v90 * v90 + v88 * v88 != 0.0
            && *((_QWORD *)Parameter_2 + 0x17) == *((_QWORD *)Parameter + 0x17) )
          {
            _YMM1 = (__m256i)ymmword_148ABD480;
            __asm
            {
              vmaskmovpd ymm0, ymm1, [rbp+1C0h+var_178+18h]
              vmaskmovpd ymm3, ymm1, ymmword ptr [rcx+28h]
              vmaskmovpd ymm2, ymm1, ymmword ptr [rcx+10h]
              vmaskmovpd ymm1, ymm1, [rbp+1C0h+var_178]
              vcmpnge_uqpd ymm2, ymm0, ymm2
              vcmpnle_uqpd ymm0, ymm1, ymm3
            }
            _YMM0 = (__m256i)(unsigned __int128)(*(_OWORD *)_YMM0.m256i_i8 | *(_OWORD *)_YMM2.m256i_i8);
            __asm
            {
              vmovupd [rbp+1C0h+var_E0], ymm0
              vzeroupper
              vmovupd ymm0, [rbp+1C0h+var_E0]
              vmovmskpd eax, ymm0
            }
            if ( (_EAX & 7) != 0 )
              goto LABEL_69;
          }
          Parameter_1 = *(_QWORD *)(*a2 + 8 * v74);
          if ( (Parameter *)Parameter_1 == Parameter )
            goto LABEL_69;
          v102 = *(_DWORD *)(Parameter_1 + 0x370);
          v103 = (v102 - *((_DWORD *)Parameter + 0xDC)) ^ (v102 - *((_DWORD *)Parameter + 0xDC) - 1);
          v104 = *(_WORD *)(Parameter_1 + 0x382) << 9;
          *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 4) = v103 >> 0x1F;
          if ( ((v104 >> 9) & -(v103 >> 0x1F)) == 0 && v102 != 0xFFFFFFFF )
          {
            __asm { vzeroupper }
            if ( (*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)Parameter_1 + 0x270LL))(
                   Parameter_1,
                   0xFFFFFFFFLL)
               | *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 4)
               & (*((_DWORD *)Parameter + 0x82) | *(_DWORD *)(Parameter_1 + 0x208))
               & 1 )
            {
              v105 = *(_QWORD *)(*((_QWORD *)Parameter + 0x58) + 0xAD0LL);
              v72 = *(unsigned int *)(v105 + 4LL * *((int *)Parameter + 0xDC));
              if ( *(_DWORD *)(v105 + 4LL * *(int *)(Parameter_1 + 0x370)) >= (int)v72 )
                goto LABEL_69;
              if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)Parameter_1 + 0x10LL))(Parameter_1) )
                goto LABEL_69;
              v106 = *((unsigned int *)Parameter + 0x1A3);
              *(float *)&v106 = (float)((float)(*((float *)Parameter + 0x1A3) * *((float *)Parameter + 0x1A3))
                                      + (float)(*((float *)Parameter + 0x1A4) * *((float *)Parameter + 0x1A4)))
                              + (float)(*((float *)Parameter + 0x1A5) * *((float *)Parameter + 0x1A5));
              _XMM4 = v106;
              __asm { vmaxss  xmm3, xmm4, xmm2 }
              DWORD1(v106) = HIDWORD(a3);
              *(float *)&v106 = *(float *)&a3 * *(float *)&a3;
              result = *(double *)&v106;
              if ( (float)((float)(*(float *)&a3 * *(float *)&a3) * *(float *)&_XMM3) >= (float)((float)(*(float *)(*((_QWORD *)Parameter + 0x58) + 0x13CLL) * *(float *)(*((_QWORD *)Parameter + 0x58) + 0x13CLL))
                                                                                               * 25.0)
                && !(unsigned int)sub_1468F2280(*(_QWORD *)(*a2 + 8 * v74), 0) )
              {
                goto LABEL_69;
              }
            }
          }
          v109 = *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x20);
          v110 = *a2;
          ++*(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10);
          *(_QWORD *)(v109 + v110) = *(_QWORD *)(v110 + 8 * v74);
          v72 = v109 + 8;
          v111 = *((int *)Parameter + 0x62) < 0;
          *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x20) = v72;
          if ( !v111 && *((float *)Parameter + 0x154) != 0.0 )
            goto LABEL_69;
          Parameter_2 = *(Parameter **)(*a2 + 8 * v74);
LABEL_68:
          LODWORD(v16) = v16 + 1;
          *v57++ = Parameter_2;
          goto LABEL_69;
        }
        if ( Parameter_2 != Parameter )
          goto LABEL_68;
      }
LABEL_69:
      v73 = *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 8);
      if ( ++v74 >= *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x28) )
      {
        v57 = *(Parameter ***)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x30);
        v70 = *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x78);
        *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 4) = v16;
        v16 = 0;
        LODWORD(v74) = *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 4);
        break;
      }
    }
  }
  if ( (*((_BYTE *)Parameter + 0x208) & 1) != 0 )
  {
    v112 = 0;
    if ( *((int *)Parameter + 0x52) > 0 )
    {
      v113 = 0;
      do
      {
        v114 = -(v73 & *(_DWORD *)(*(_QWORD *)(v113 + *((_QWORD *)Parameter + 0x28)) + 0xF8LL));
        v115 = _InterlockedExchangeAdd(
                 (volatile signed __int32 *)(*(_QWORD *)(v113 + *((_QWORD *)Parameter + 0x28)) + 0xF8LL),
                 v114);
        v113 += 8;
        *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 8) = v114 + v115;
        ++v112;
      }
      while ( v112 < *((_DWORD *)Parameter + 0x52) );
    }
  }
  __asm { vzeroupper }
  sub_1467FE060((__int64 *)Parameter, v70, *(_DWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18));
  v116 = _InterlockedDecrement64((volatile signed __int64 *)Parameter + 0x2A);
  if ( (v116 & 0x3FF) == 0 && (v116 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0((volatile signed __int64 *)Parameter + 0x2A, v116);
  if ( (int)v74 > 0 )
  {
    if ( a4 )
    {
      v117 = (unsigned int)v74;
      do
      {
        (*(void (__fastcall **)(Parameter *, unsigned __int64, _QWORD))(*(_QWORD *)*v57 + 0x30LL))(*v57, _RBP + 0x38, 0);
        ++v57;
        --v117;
      }
      while ( v117 );
    }
    else
    {
      do
      {
        (*(void (__fastcall **)(Parameter *, __int64, __int64))(*(_QWORD *)v57[v16] + 0x268LL))(v57[v16], 1, 2);
        ++v16;
      }
      while ( v16 < (int)v74 );
    }
  }
LABEL_84:
  *(_QWORD *)(((unsigned __int64)v118 & 0xFFFFFFFFFFFFFFE0uLL) + 0xA8) = __rdtsc();
  qword_149A05E08(_RBP + 0x90);
  return result;
}

// --- End Function: CRigidEntity::GetPotentialCollidersInternal (0x1467BB140) ---

// --- Function: CRigidEntity::GetStatus (0x1467BE550) ---
__int64 __fastcall CRigidEntity::GetStatus(__int64 a1, __int64 a2, __int64 a3)
{
  unsigned int v5; // esi
  __int64 result; // rax
  int v7; // ecx
  float v8; // xmm9_4
  float v9; // xmm7_4
  float v10; // xmm8_4
  float v11; // xmm5_4
  float v12; // xmm10_4
  float v13; // xmm6_4
  float v14; // xmm11_4
  float v15; // xmm12_4
  float v16; // xmm14_4
  float v17; // xmm15_4
  float v18; // xmm13_4
  float v19; // xmm7_4
  float v20; // xmm11_4
  float v21; // xmm10_4
  float v22; // xmm9_4
  float v23; // xmm8_4
  float v24; // xmm5_4
  float v25; // xmm4_4
  float v26; // xmm6_4
  float v27; // kr00_4
  double v28; // xmm5_8
  float v29; // xmm1_4
  double v30; // xmm4_8
  int n0x40; // esi
  unsigned __int64 v32; // rbp
  __int64 n0x40_1; // rdx
  unsigned __int64 v34; // r9
  __int64 v35; // r8
  int v36; // r15d
  int v37; // edx
  int n0x40_2; // ecx
  __int64 v39; // r10
  __int64 v40; // r8
  unsigned __int64 v41; // r11
  __int64 v42; // r9
  __int64 v43; // rax
  int v44; // r9d
  float v45; // xmm0_4
  int v46; // edx
  __int64 v47; // r8
  double v48; // xmm11_8
  double v49; // xmm13_8
  double v50; // xmm12_8
  double v51; // xmm4_8
  double v52; // xmm9_8
  double v53; // xmm10_8
  double v54; // xmm8_8
  double v55; // xmm7_8
  double v56; // xmm6_8
  double v57; // xmm4_8
  double v58; // xmm11_8
  double v59; // xmm13_8
  double v60; // xmm12_8
  double v61; // xmm9_8
  double v62; // xmm4_8
  double v63; // xmm10_8
  double v64; // xmm8_8
  double v65; // xmm7_8
  double v66; // xmm6_8
  double v67; // xmm4_8
  float v68; // xmm14_4
  float v69; // xmm15_4
  float v70; // xmm14_4
  float v71; // xmm15_4
  signed __int64 v72; // rdx
  unsigned __int64 v73; // rdx
  signed __int64 v74; // rdx
  Parameter **p_Parameter; // r14
  float *v76; // rax
  float v77; // xmm5_4
  float v78; // xmm6_4
  float v79; // xmm0_4
  __int128 v80; // xmm3
  __int128 v83; // kr00_16
  double v90; // xmm11_8
  double v91; // xmm10_8
  __int128 v92; // xmm9
  double v93; // xmm7_8
  double v94; // xmm4_8
  double v95; // xmm8_8
  double v96; // xmm5_8
  double v97; // xmm6_8
  float v104; // xmm0_4
  float v105; // xmm10_4
  float v106; // xmm11_4
  float v107; // xmm12_4
  double v108; // xmm8_8
  double v109; // xmm5_8
  double v110; // xmm7_8
  double v111; // xmm9_8
  __int128 v118; // xmm12
  double v119; // xmm14_8
  double v120; // kr00_8
  double v121; // xmm13_8
  double v122; // xmm10_8
  double v123; // xmm5_8
  double v124; // xmm6_8
  double v125; // xmm7_8
  double v126; // xmm8_8
  double v127; // xmm9_8
  __int128 v130; // kr00_16
  float v135; // xmm6_4
  float v136; // xmm9_4
  float v137; // xmm4_4
  float v138; // xmm7_4
  float v139; // xmm14_4
  __int128 v140; // xmm13
  float v141; // xmm12_4
  float v142; // xmm15_4
  float v143; // xmm9_4
  float v144; // xmm8_4
  float v145; // xmm11_4
  __int128 v146; // kr00_16
  __int128 v147; // xmm7
  float v148; // xmm6_4
  __int128 v149; // kr00_16
  float v150; // xmm4_4
  __int128 v151; // xmm5
  __int128 v152; // kr00_16
  __int128 v153; // xmm4
  __int128 v154; // xmm1
  __int128 v155; // kr00_16
  __int128 v156; // kr00_16
  __int128 v157; // xmm6
  __int128 v164; // xmm7
  __int128 v165; // xmm4
  double v166; // xmm2_8
  double v167; // xmm0_8
  __int128 v168; // xmm2
  __int128 v169; // xmm9
  __int128 v170; // xmm8
  __int64 value_by_id_1; // r8
  bool v180; // zf
  double *v181; // rax
  double *v182; // rax
  unsigned __int64 v183; // r15
  signed __int64 v184; // rbp
  unsigned int v185; // esi
  float v186; // xmm9_4
  float v187; // xmm7_4
  float v188; // xmm8_4
  float v189; // xmm5_4
  float v190; // xmm10_4
  float v191; // xmm6_4
  float v192; // xmm11_4
  float v193; // xmm12_4
  float v194; // xmm15_4
  float v195; // xmm14_4
  float v196; // xmm13_4
  float v197; // xmm12_4
  float v198; // xmm10_4
  float v199; // xmm11_4
  float v200; // xmm6_4
  float v201; // xmm8_4
  float v202; // xmm7_4
  float v203; // xmm5_4
  float v204; // xmm9_4
  float v205; // xmm3_4
  float v206; // xmm1_4
  float v207; // xmm10_4
  float v208; // xmm9_4
  float v209; // xmm8_4
  float v210; // xmm7_4
  float v211; // xmm6_4
  float v212; // xmm1_4
  double v213; // xmm15_8
  float v214; // xmm4_4
  float v215; // xmm5_4
  float v216; // xmm2_4
  double v217; // xmm13_8
  float v218; // xmm4_4
  float v219; // xmm6_4
  float v220; // xmm0_4
  double v221; // xmm9_8
  double v222; // xmm14_8
  double v223; // xmm10_8
  double v224; // xmm7_8
  double v225; // xmm6_8
  double v226; // xmm5_8
  double v227; // xmm4_8
  double v228; // xmm11_8
  double v229; // xmm12_8
  double v230; // kr00_8
  double v231; // xmm0_8
  double v232; // xmm6_8
  double v233; // xmm15_8
  int v234; // r15d
  double *v235; // r14
  double v236; // xmm8_8
  double v237; // xmm9_8
  double v238; // xmm13_8
  __int64 v239; // rbp
  double v240; // xmm5_8
  __int128 v241; // xmm4
  double v242; // xmm6_8
  __int64 v243; // rax
  __int128 v246; // kr00_16
  __int64 v251; // rcx
  __int64 v252; // rax
  __int64 v253; // rcx
  __int64 v254; // rax
  __int64 v255; // rcx
  unsigned __int64 v260; // r15
  float v267; // kr00_4
  signed __int64 v268; // rbp
  unsigned int v269; // ebx
  unsigned __int64 v270; // r15
  float v271; // [rsp+60h] [rbp-3D8h]
  double v272; // [rsp+60h] [rbp-3D8h]
  double v273; // [rsp+60h] [rbp-3D8h]
  signed int value_by_id; // [rsp+68h] [rbp-3D0h]
  float v275; // [rsp+68h] [rbp-3D0h]
  double v276; // [rsp+68h] [rbp-3D0h]
  double v277; // [rsp+68h] [rbp-3D0h]
  float v278; // [rsp+70h] [rbp-3C8h]
  double v279; // [rsp+70h] [rbp-3C8h]
  double v280; // [rsp+70h] [rbp-3C8h]
  float v281; // [rsp+78h] [rbp-3C0h]
  double v282; // [rsp+78h] [rbp-3C0h]
  float v283; // [rsp+80h] [rbp-3B8h]
  double v284; // [rsp+80h] [rbp-3B8h]
  double v285; // [rsp+88h] [rbp-3B0h]
  double v286; // [rsp+88h] [rbp-3B0h]
  double v287; // [rsp+90h] [rbp-3A8h]
  double v288; // [rsp+90h] [rbp-3A8h]
  double v289; // [rsp+98h] [rbp-3A0h]
  double v290; // [rsp+98h] [rbp-3A0h]
  double v291; // [rsp+A0h] [rbp-398h]
  double v292; // [rsp+A0h] [rbp-398h]
  double v293; // [rsp+A8h] [rbp-390h]
  double v294; // [rsp+A8h] [rbp-390h]
  double v295; // [rsp+B0h] [rbp-388h]
  double v296; // [rsp+B0h] [rbp-388h]
  float v297[4]; // [rsp+B8h] [rbp-380h] BYREF
  float v298; // [rsp+C8h] [rbp-370h] BYREF
  int v299; // [rsp+CCh] [rbp-36Ch] BYREF
  double v300; // [rsp+D0h] [rbp-368h]
  double v301; // [rsp+D8h] [rbp-360h]
  double v302; // [rsp+E0h] [rbp-358h]
  _QWORD v303[4]; // [rsp+E8h] [rbp-350h] BYREF
  double v304; // [rsp+108h] [rbp-330h]
  double v305[9]; // [rsp+110h] [rbp-328h] BYREF
  double v306[9]; // [rsp+158h] [rbp-2E0h] BYREF
  sockaddr Parameter; // [rsp+1A0h] [rbp-298h] BYREF

  if ( *(_DWORD *)a2 != 7 )
  {
    result = CPhysicalEntity::GetStatus((__int64 *)a1, (int *)a2, a3);
    v7 = *(_DWORD *)a2;
    if ( (_DWORD)result )
    {
      if ( v7 == 1 && (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 && *(float *)(a2 + 0x58) > 0.0 )
      {
        v8 = *(float *)(a1 + 0x84C);
        v9 = *(float *)(a1 + 0x6CC);
        v10 = *(float *)(a1 + 0x6C8);
        v11 = *(float *)(a1 + 0x848);
        v12 = *(float *)(a1 + 0x850);
        v13 = *(float *)(a1 + 0x6D0);
        v14 = *(float *)(a1 + 0x854);
        v15 = *(float *)(a1 + 0x6D4);
        v16 = (float)(v15 * v14) - (float)((float)((float)(v11 * v10) + (float)(v9 * v8)) + (float)(v13 * v12));
        *(float *)(a2 + 0x44) = v16;
        v17 = (float)((float)((float)(v13 * v8) - (float)(v12 * v9)) + (float)(v10 * v14)) + (float)(v11 * v15);
        *(float *)(a2 + 0x38) = v17;
        v18 = (float)((float)((float)(v12 * v10) - (float)(v13 * v11)) + (float)(v9 * v14)) + (float)(v8 * v15);
        *(float *)(a2 + 0x3C) = v18;
        v19 = (float)((float)((float)(v11 * v9) - (float)(v10 * v8)) + (float)(v13 * v14)) + (float)(v12 * v15);
        *(float *)(a2 + 0x40) = v19;
        v20 = *(float *)(a1 + 0x6E0);
        v21 = *(float *)(a1 + 0x6DC);
        v22 = *(float *)(a1 + 0x6D8);
        v23 = (float)((float)(v18 * v20) - (float)(v19 * v21)) + (float)(v16 * v22);
        v24 = (float)((float)(v19 * v22) - (float)(v17 * v20)) + (float)(v16 * v21);
        v25 = (float)((float)(v17 * v21) - (float)(v18 * v22)) + (float)(v16 * v20);
        v26 = (float)(v18 * v25) - (float)(v19 * v24);
        v27 = v17 * v24;
        v28 = *(double *)(a1 + 0x7D0);
        v29 = v25 * v17;
        v30 = *(double *)(a1 + 0x7C8);
        *(double *)(a2 + 0x20) = *(double *)(a1 + 0x7C0) - (float)((float)(v26 + v22) + v26);
        *(double *)(a2 + 0x28) = v30
                               - (float)((float)((float)((float)(v19 * v23) - v29) + v21)
                                       + (float)((float)(v19 * v23) - v29));
        *(double *)(a2 + 0x30) = v28
                               - (float)((float)((float)(v27 - (float)(v18 * v23)) + v20)
                                       + (float)(v27 - (float)(v18 * v23)));
      }
      return result;
    }
    switch ( v7 )
    {
      case 0x33:
        if ( *(_QWORD *)(a1 + 0x500) )
        {
          if ( *(_DWORD *)(a2 + 4) )
          {
            n0x40 = 0;
            v32 = 1;
            do
            {
              if ( v32 > *(_QWORD *)(a1 + 0x500) )
                break;
              sub_146763440(
                a2 + 8,
                (__int64)v303,
                (unsigned __int8 *)(((__int64)n0x40++ << 8) + *(_QWORD *)(a1 + 0x4F0) + 8LL));
              v32 = __ROL8__(v32, 1);
            }
            while ( n0x40 < 0x40 );
          }
          return 0x40;
        }
        break;
      case 0x1A:
        n0x40_1 = *(int *)(a2 + 8);
        v34 = *(_QWORD *)(a1 + 0x500);
        if ( (int)n0x40_1 < 0 )
        {
          n0x40_1 = 0;
          v35 = 0;
          while ( 1LL << n0x40_1 <= v34 )
          {
            if ( (v34 & (1LL << n0x40_1)) != 0 && *(_DWORD *)(v35 + *(_QWORD *)(a1 + 0x4F0) + 8) == *(_DWORD *)(a2 + 4) )
            {
              *(_DWORD *)(a2 + 8) = n0x40_1;
              goto LABEL_32;
            }
            n0x40_1 = (unsigned int)(n0x40_1 + 1);
            v35 += 0x100;
            if ( (int)n0x40_1 >= 0x40 )
              return 0;
          }
        }
        else if ( _bittest64((const __int64 *)&v34, (unsigned int)n0x40_1) )
        {
          *(_DWORD *)(a2 + 4) = *(_DWORD *)((n0x40_1 << 8) + *(_QWORD *)(a1 + 0x4F0) + 8);
LABEL_32:
          v36 = sub_1467B5500((_QWORD *)a1, n0x40_1, *(_QWORD *)(a1 + 0x500), a2 + 0x38);
          v37 = 0;
          n0x40_2 = 0;
          v39 = 0;
          v40 = 0;
          do
          {
            v41 = *(_QWORD *)(a1 + 0x500);
            if ( 1LL << n0x40_2 > v41 || v37 >= v36 )
              break;
            if ( ((1LL << n0x40_2) & v41) != 0 )
            {
              v42 = *(_QWORD *)(a1 + 0x4F0);
              if ( *(_DWORD *)(v39 + v42 + 8) == *(_DWORD *)(a2 + 4) )
              {
                v43 = *(_QWORD *)(a1 + 0x4E8);
                ++v37;
                if ( (*(_DWORD *)(v43 + v40 + 0x94) & 0x100) != 0 )
                {
                  *(_DWORD *)(a2 + 0x1C) = *(_DWORD *)(v43 + v40 + 0xA8);
                  *(_QWORD *)(a2 + 0x20) = 0;
                }
                else
                {
                  v44 = *(_DWORD *)(v39 + v42 + 0x68);
                  if ( (v44 & 1) != 0 )
                  {
                    *(_DWORD *)(a2 + 0x28) = *(_DWORD *)(v43 + v40 + 0xA8);
                    *(_QWORD *)(a2 + 0x2C) = 0;
                  }
                  else
                  {
                    v45 = *(float *)(v43 + v40 + 0xA8);
                    if ( (v44 & 2) != 0 )
                    {
                      *(_DWORD *)(a2 + 0x28) = 0;
                      *(float *)(a2 + 0x2C) = v45;
                      *(_DWORD *)(a2 + 0x30) = 0;
                    }
                    else
                    {
                      *(float *)(a2 + 0x10) = v45;
                      *(_QWORD *)(a2 + 0x14) = 0;
                    }
                  }
                }
              }
            }
            ++n0x40_2;
            v40 += 0x108;
            v39 += 0x100;
          }
          while ( n0x40_2 < 0x40 );
          v46 = *(_DWORD *)(a2 + 0xC);
          if ( v46 != 0x80000000 && (v46 & 3) != 0 )
          {
            v47 = *(_QWORD *)(0x108LL * *(int *)(a2 + 8) + *(_QWORD *)(a1 + 0x4E8) + 0x20);
            if ( (v46 & 1) != 0 && (*(_BYTE *)(a2 + 0xB0) & 2) != 0 )
            {
              v48 = *(double *)(a2 + 0x48) - *(double *)(a1 + 0x1C0);
              v49 = *(double *)(a2 + 0x58) - *(double *)(a1 + 0x1D0);
              v50 = *(double *)(a2 + 0x50) - *(double *)(a1 + 0x1C8);
              v51 = *(float *)(a1 + 0x1E4);
              v52 = *(float *)(a1 + 0x1E0);
              v53 = *(float *)(a1 + 0x1DC);
              v54 = *(float *)(a1 + 0x1D8);
              v55 = v52 * v50 - v53 * v49 + v51 * v48;
              v56 = v54 * v49 - v52 * v48 + v51 * v50;
              v57 = v53 * v48 - v54 * v50 + v51 * v49;
              *(double *)(a2 + 0x48) = v56 * v52 - v57 * v53 + v48 + v56 * v52 - v57 * v53;
              *(double *)(a2 + 0x50) = v57 * v54 - v55 * v52 + v50 + v57 * v54 - v55 * v52;
              *(double *)(a2 + 0x58) = v55 * v53 - v56 * v54 + v49 + v55 * v53 - v56 * v54;
              v58 = *(double *)(a2 + 0x60) - *(double *)(v47 + 0x1C0);
              v59 = *(double *)(a2 + 0x70) - *(double *)(v47 + 0x1D0);
              v60 = *(double *)(a2 + 0x68) - *(double *)(v47 + 0x1C8);
              v61 = *(float *)(v47 + 0x1E0);
              v62 = *(float *)(v47 + 0x1E4);
              v63 = *(float *)(v47 + 0x1DC);
              v64 = *(float *)(v47 + 0x1D8);
              v65 = v61 * v60 - v63 * v59 + v62 * v58;
              v66 = v64 * v59 - v61 * v58 + v62 * v60;
              v67 = v63 * v58 - v64 * v60 + v62 * v59;
              *(double *)(a2 + 0x60) = v66 * v61 - v67 * v63 + v58 + v66 * v61 - v67 * v63;
              *(double *)(a2 + 0x68) = v67 * v64 - v65 * v61 + v60 + v67 * v64 - v65 * v61;
              *(double *)(a2 + 0x70) = v65 * v63 - v66 * v64 + v59 + v65 * v63 - v66 * v64;
              LODWORD(v60) = *(_DWORD *)(a1 + 0x1DC);
              LODWORD(v59) = *(_DWORD *)(a1 + 0x1E4);
              LODWORD(v58) = *(_DWORD *)(a2 + 0x8C);
              LODWORD(v63) = *(_DWORD *)(a2 + 0x84);
              v68 = *(float *)(a1 + 0x1D8);
              v69 = *(float *)(a1 + 0x1E0);
              LODWORD(v65) = *(_DWORD *)(a2 + 0x80);
              LODWORD(v64) = *(_DWORD *)(a2 + 0x88);
              *(float *)(a2 + 0x8C) = (float)((float)(*(float *)&v59 * *(float *)&v58)
                                            + (float)(*(float *)&v63 * *(float *)&v60))
                                    + (float)((float)(v69 * *(float *)&v64) + (float)(*(float *)&v65 * v68));
              *(float *)(a2 + 0x80) = (float)((float)((float)(v69 * *(float *)&v63)
                                                    - (float)(*(float *)&v64 * *(float *)&v60))
                                            + (float)(*(float *)&v59 * *(float *)&v65))
                                    - (float)(*(float *)&v58 * v68);
              *(float *)(a2 + 0x84) = (float)((float)((float)(*(float *)&v64 * v68) - (float)(v69 * *(float *)&v65))
                                            + (float)(*(float *)&v59 * *(float *)&v63))
                                    - (float)(*(float *)&v58 * *(float *)&v60);
              *(float *)(a2 + 0x88) = (float)((float)((float)(*(float *)&v65 * *(float *)&v60)
                                                    - (float)(*(float *)&v63 * v68))
                                            + (float)(*(float *)&v59 * *(float *)&v64))
                                    - (float)(v69 * *(float *)&v58);
              v70 = *(float *)(v47 + 0x1D8);
              v71 = *(float *)(v47 + 0x1E0);
              LODWORD(v65) = *(_DWORD *)(a2 + 0x90);
              LODWORD(v64) = *(_DWORD *)(a2 + 0x98);
              LODWORD(v60) = *(_DWORD *)(v47 + 0x1DC);
              LODWORD(v59) = *(_DWORD *)(v47 + 0x1E4);
              LODWORD(v58) = *(_DWORD *)(a2 + 0x9C);
              LODWORD(v63) = *(_DWORD *)(a2 + 0x94);
              *(float *)(a2 + 0x90) = (float)((float)((float)(v71 * *(float *)&v63)
                                                    - (float)(*(float *)&v60 * *(float *)&v64))
                                            + (float)(*(float *)&v59 * *(float *)&v65))
                                    - (float)(*(float *)&v58 * v70);
              *(float *)(a2 + 0x94) = (float)((float)((float)(v70 * *(float *)&v64) - (float)(v71 * *(float *)&v65))
                                            + (float)(*(float *)&v59 * *(float *)&v63))
                                    - (float)(*(float *)&v58 * *(float *)&v60);
              *(float *)(a2 + 0x9C) = (float)((float)(v71 * *(float *)&v64) + (float)(v70 * *(float *)&v65))
                                    + (float)((float)(*(float *)&v60 * *(float *)&v63)
                                            + (float)(*(float *)&v59 * *(float *)&v58));
              *(float *)(a2 + 0x98) = (float)((float)((float)(*(float *)&v60 * *(float *)&v65)
                                                    - (float)(v70 * *(float *)&v63))
                                            + (float)(*(float *)&v59 * *(float *)&v64))
                                    - (float)(*(float *)&v58 * v71);
              *(_DWORD *)(a2 + 0xB0) &= ~2u;
              *(_DWORD *)(a2 + 0xB0) |= 1u;
            }
          }
          if ( *(__int64 **)(a2 + 0x40) == &qword_1514522C0 )
            *(_QWORD *)(a2 + 0x40) = 0xFFFFFFFFFFFFFFF6uLL;
          *(_DWORD *)(a2 + 0xC) = *(_DWORD *)(a2 + 0xB0);
          return 1;
        }
        break;
      case 8:
        if ( *(_DWORD *)(a2 + 0xA8) == 0x80000000 )
        {
          value_by_id = *(_DWORD *)(a2 + 0xAC);
        }
        else
        {
          v72 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v72 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0xC8),
              v72,
              (__int64)"CRigidEntity::GetStatus",
              (__int64)"m_lockUpdate",
              1);
          value_by_id = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(a2 + 0xA8), 0);
          v73 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v73 & 0x3FF) == 0 && (v73 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v73);
        }
        v74 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8D0));
        if ( (v74 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x8D0),
            v74,
            (__int64)"CRigidEntity::GetStatus",
            (__int64)"m_lockBody",
            1);
        sub_146713320((__int64)&Parameter);
        p_Parameter = (sockaddr *)(a1 + 0x5B0);
        if ( *(_DWORD *)(a1 + 0x4AC) || *(double *)(a1 + 0x6B8) <= 0.0 )
        {
          *(double *)(a2 + 0x20) = *(double *)(a1 + 0x68C);
          *(_DWORD *)(a2 + 0x28) = *(_DWORD *)(a1 + 0x694);
          *(double *)(a2 + 0x2C) = *(double *)(a1 + 0x680);
          *(_DWORD *)(a2 + 0x34) = *(_DWORD *)(a1 + 0x688);
          v80 = *(unsigned __int64 *)(a1 + 0x6B8);
          _XMM2 = *(_OWORD *)(a1 + 0x6E8);
          v304 = *(double *)(a1 + 0x6F8);
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&_XMM2 + 1);
          *(double *)&v83 = *(double *)&_XMM2 * *(double *)&v80;
          _XMM0 = v83;
          __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
          *(float *)(a2 + 0x50) = *(float *)&_XMM1;
          __asm { vunpckhpd xmm2, xmm2, xmm2 }
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&_XMM2 + 1);
          *(double *)&v83 = *(double *)&_XMM2 * *(double *)&v80;
          _XMM0 = v83;
          __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
          *(float *)(a2 + 0x54) = *(float *)&_XMM1;
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&v80 + 1);
          *(double *)&v83 = *(double *)&v80 * v304;
          _XMM1 = v83;
          __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
          *(float *)(a2 + 0x58) = *(float *)&_XMM2;
          v90 = *(double *)(a1 + 0x708);
          v91 = *(double *)(a1 + 0x710);
          v92 = *(unsigned __int64 *)(a1 + 0x700);
          v93 = *(double *)(a1 + 0x5D0);
          *(_QWORD *)&v80 = *(_QWORD *)(a1 + 0x5C8);
          v94 = *(double *)(a1 + 0x5D8);
          v95 = *(double *)(a1 + 0x5E8);
          v96 = *(double *)(a1 + 0x5E0);
          v97 = *(double *)(a1 + 0x5F0);
          _XMM2 = COERCE_UNSIGNED_INT64(
                    *(double *)&v92 * *(double *)(a1 + 0x5B0)
                  + v90 * *(double *)(a1 + 0x5B8)
                  + v91 * *(double *)(a1 + 0x5C0));
          __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
          *(float *)(a2 + 0x5C) = *(float *)&_XMM0;
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&v92 + 1);
          *(double *)&v83 = *(double *)&v92 * *(double *)&v80 + v90 * v93 + v91 * v94;
          _XMM2 = v83;
          __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
          *(float *)(a2 + 0x60) = *(float *)&_XMM0;
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&v92 + 1);
          *(double *)&v83 = *(double *)&v92 * v96 + v90 * v95 + v91 * v97;
          _XMM2 = v83;
          __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
          *(float *)(a2 + 0x64) = *(float *)&_XMM0;
          v104 = *(float *)(a1 + 0x524);
          v278 = v104;
          v281 = 0.0;
          v271 = 0.0;
          v283 = 0.0;
          v105 = 0.0;
          v106 = 0.0;
          v107 = 0.0;
          if ( v104 > 0.00000011920929 )
          {
            v108 = *(double *)(a1 + 0x6B8);
            v109 = *(double *)(a1 + 0x798);
            v110 = *(double *)(a1 + 0x7A0);
            v111 = 1.0 / v104;
            _XMM1 = COERCE_UNSIGNED_INT64(v111 * *(double *)(a1 + 0x790) * v108);
            __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
            *(float *)(a2 + 0x50) = *(float *)&_XMM2 + *(float *)(a2 + 0x50);
            _XMM1 = COERCE_UNSIGNED_INT64(v111 * v109 * v108);
            __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
            *(float *)(a2 + 0x54) = *(float *)&_XMM2 + *(float *)(a2 + 0x54);
            _XMM1 = COERCE_UNSIGNED_INT64(v111 * v110 * v108);
            __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
            *(float *)(a2 + 0x58) = *(float *)&_XMM2 + *(float *)(a2 + 0x58);
            v118 = COERCE_UNSIGNED_INT64(v111 * *(double *)(a1 + 0x7B0));
            v120 = v111 * *(double *)(a1 + 0x7A8);
            v119 = v120;
            v121 = v111 * *(double *)(a1 + 0x7B8);
            v122 = *(double *)(a1 + 0x5F0);
            v123 = *(double *)(a1 + 0x5D0);
            v124 = *(double *)(a1 + 0x5C8);
            v125 = *(double *)(a1 + 0x5D8);
            v126 = *(double *)(a1 + 0x5E8);
            v127 = *(double *)(a1 + 0x5E0);
            _XMM0 = COERCE_UNSIGNED_INT64(
                      v120 * *(double *)(a1 + 0x5B0)
                    + *(double *)&v118 * *(double *)(a1 + 0x5B8)
                    + v121 * *(double *)(a1 + 0x5C0));
            __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
            *(float *)(a2 + 0x5C) = *(float *)&_XMM2 + *(float *)(a2 + 0x5C);
            *((_QWORD *)&v130 + 1) = *((_QWORD *)&v118 + 1);
            *(double *)&v130 = *(double *)&v118 * v123 + v120 * v124 + v121 * v125;
            _XMM2 = v130;
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            *((_QWORD *)&v130 + 1) = *((_QWORD *)&v118 + 1);
            *(float *)(a2 + 0x60) = *(float *)&_XMM0 + *(float *)(a2 + 0x60);
            *(double *)&v130 = *(double *)&v118 * v126 + v119 * v127 + v121 * v122;
            _XMM2 = v130;
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            *(float *)(a2 + 0x64) = *(float *)&_XMM0 + *(float *)(a2 + 0x64);
            v271 = 0.0;
            v283 = 0.0;
            v281 = 0.0;
            v105 = 0.0;
            v106 = 0.0;
            v107 = 0.0;
            if ( *(double *)(a1 + 0x6B8) <= 0.0 )
            {
              v106 = (float)(*(float *)(a1 + 0x694) - *(float *)(a1 + 0x828)) * (float)(1.0 / v278);
              v105 = (float)(*(float *)(a1 + 0x690) - *(float *)(a1 + 0x824)) * (float)(1.0 / v278);
              v271 = (float)(*(float *)(a1 + 0x680) - *(float *)(a1 + 0x82C)) * (float)(1.0 / v278);
              v107 = (float)(*(float *)(a1 + 0x68C) - *(float *)(a1 + 0x820)) * (float)(1.0 / v278);
              v283 = (float)(*(float *)(a1 + 0x684) - *(float *)(a1 + 0x830)) * (float)(1.0 / v278);
              v281 = (float)(*(float *)(a1 + 0x688) - *(float *)(a1 + 0x834)) * (float)(1.0 / v278);
            }
          }
          v135 = *(float *)(a1 + 0x53C);
          v136 = *(float *)(a1 + 0x540);
          v137 = *(float *)(a1 + 0x7F4);
          v138 = *(float *)(a1 + 0x7F8);
          *(float *)(a2 + 0x38) = (float)((float)(*(float *)(a2 + 0x50) + *(float *)(a1 + 0x538)) + v107)
                                + *(float *)(a1 + 0x7F0);
          *(float *)(a2 + 0x3C) = (float)((float)(v135 + *(float *)(a2 + 0x54)) + v105) + v137;
          *(float *)(a2 + 0x40) = (float)((float)(v136 + *(float *)(a2 + 0x58)) + v106) + v138;
          v139 = *(float *)(a1 + 0x644);
          v140 = *(unsigned int *)(a1 + 0x648);
          v141 = *(float *)(a1 + 0x64C);
          v142 = *(float *)(a1 + 0x640);
          v143 = *(float *)(a2 + 0x30);
          v144 = *(float *)(a2 + 0x2C);
          v145 = *(float *)(a2 + 0x34);
          v146 = v140;
          *(float *)&v146 = (float)((float)(*(float *)&v140 * v143) - (float)(v139 * v145)) + (float)(v141 * v144);
          v147 = v146;
          v148 = (float)((float)(v142 * v145) - (float)(*(float *)&v140 * v144)) + (float)(v141 * v143);
          v149 = v140;
          v150 = (float)((float)(v139 * v144) - (float)(v142 * v143)) + (float)(v141 * v145);
          *(float *)&v149 = (float)(*(float *)&v140 * v148) - (float)(v150 * v139);
          v151 = v149;
          v152 = LODWORD(v142);
          *(float *)&v152 = (float)(v142 * v150) - (float)(*(float *)&v147 * *(float *)&v140);
          v153 = v152;
          v155 = v151;
          *(float *)&v155 = *(float *)&v151 + v144;
          v154 = v155;
          v156 = v147;
          *(float *)&v156 = (float)(*(float *)&v147 * v139) - (float)(v142 * v148);
          v157 = v156;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v154 + 1);
          *(double *)&v156 = (float)(*(float *)&v154 + *(float *)&v151) * *(double *)(a1 + 0x5F8);
          _XMM3 = v156;
          __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v153 + 1);
          *(double *)&v156 = (float)((float)(*(float *)&v153 + v143) + *(float *)&v153) * *(double *)(a1 + 0x600);
          _XMM3 = v156;
          __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v157 + 1);
          *(double *)&v156 = (float)((float)(*(float *)&v157 + v145) + *(float *)&v157) * *(double *)(a1 + 0x608);
          _XMM3 = v156;
          __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
          *(float *)&v147 = (float)((float)(*(float *)&_XMM8 * v139) - (float)(*(float *)&_XMM9 * *(float *)&v140))
                          + (float)(*(float *)&_XMM10 * v141);
          *(float *)&v157 = (float)((float)(*(float *)&_XMM10 * *(float *)&v140) - (float)(*(float *)&_XMM8 * v142))
                          + (float)(*(float *)&_XMM9 * v141);
          *(float *)&v153 = (float)((float)(*(float *)&_XMM9 * v142) - (float)(*(float *)&_XMM10 * v139))
                          + (float)(*(float *)&_XMM8 * v141);
          *(float *)&v151 = (float)(v139 * *(float *)&v153) - (float)(*(float *)&v140 * *(float *)&v157);
          *(float *)&v153 = (float)(*(float *)&v140 * *(float *)&v147) - (float)(v142 * *(float *)&v153);
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&_XMM10 + 1);
          *(float *)&_XMM3 = (float)(v142 * *(float *)&v157) - (float)(v139 * *(float *)&v147);
          *(double *)&v156 = (float)((float)(*(float *)&_XMM10 + *(float *)&v151) + *(float *)&v151);
          v164 = v156;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&_XMM8 + 1);
          *(double *)&v157 = (float)((float)(*(float *)&_XMM9 + *(float *)&v153) + *(float *)&v153);
          *(double *)&v156 = (float)((float)(*(float *)&_XMM8 + *(float *)&_XMM3) + *(float *)&_XMM3);
          v165 = v156;
          v166 = *(float *)(a1 + 0x688);
          v167 = *(double *)&v157 * v166;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v164 + 1);
          *(double *)&v156 = *(double *)&v164 * v166;
          v168 = v156;
          *(double *)&_XMM3 = *(float *)(a1 + 0x680);
          *(double *)&v151 = *(float *)(a1 + 0x684);
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v165 + 1);
          *(double *)&v156 = *(double *)&v165 * *(double *)&v151 - v167;
          v169 = v156;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v168 + 1);
          *(double *)&v156 = *(double *)&v168 - *(double *)&v165 * *(double *)&_XMM3;
          v170 = v156;
          *(double *)&v165 = *(double *)&v157 * *(double *)&_XMM3 - *(double *)&v164 * *(double *)&v151;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v169 + 1);
          *(double *)&v156 = *(double *)&v169 * *(double *)(a1 + 0x5E0)
                           + *(double *)&v156 * *(double *)(a1 + 0x5E8)
                           + *(double *)&v165 * *(double *)(a1 + 0x5F0);
          _XMM0 = v156;
          __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
          v77 = (float)((float)(*(float *)(a2 + 0x64) - *(float *)&_XMM3) + v281) + *(float *)(a1 + 0x804);
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v170 + 1);
          *(double *)&v156 = *(double *)&v170 * *(double *)(a1 + 0x5D0)
                           + *(double *)&v169 * *(double *)(a1 + 0x5C8)
                           + *(double *)&v165 * *(double *)(a1 + 0x5D8);
          _XMM2 = v156;
          __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
          v78 = (float)((float)(*(float *)(a2 + 0x60) - *(float *)&_XMM3) + v283) + *(float *)(a1 + 0x800);
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v169 + 1);
          *(double *)&v156 = *(double *)&v169 * *(double *)(a1 + 0x5B0)
                           + *(double *)&v170 * *(double *)(a1 + 0x5B8)
                           + *(double *)&v165 * *(double *)(a1 + 0x5C0);
          _XMM2 = v156;
          __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
          v79 = (float)((float)(*(float *)(a2 + 0x5C) - *(float *)&_XMM3) + v271) + *(float *)(a1 + 0x7FC);
          v76 = (float *)(a2 + 0x44);
        }
        else
        {
          v76 = (float *)(a2 + 0x44);
          *(_QWORD *)(a2 + 0x24) = 0;
          *(_DWORD *)(a2 + 0x20) = 0;
          *(_QWORD *)(a2 + 0x30) = 0;
          *(_DWORD *)(a2 + 0x2C) = 0;
          *(_QWORD *)(a2 + 0x3C) = 0;
          *(_DWORD *)(a2 + 0x38) = 0;
          v77 = 0.0;
          v78 = 0.0;
          v79 = 0.0;
        }
        *v76 = v79;
        v76[1] = v78;
        v76[2] = v77;
        *(_DWORD *)(a2 + 0x80) = *(_DWORD *)(a1 + 0x8B0);
        *(double *)(a2 + 0x68) = *(double *)(a1 + 0x538);
        *(_DWORD *)(a2 + 0x70) = *(_DWORD *)(a1 + 0x540);
        *(_DWORD *)(a2 + 0x8C) = *(_DWORD *)(a1 + 0x4E0);
        value_by_id_1 = *(unsigned int *)(a1 + 0x290);
        if ( value_by_id < (unsigned int)value_by_id_1 )
        {
          *(_DWORD *)(a2 + 0x84) = *(_DWORD *)(*(_QWORD *)(a1 + 0x258) + 0x18LL * value_by_id);
          *(_DWORD *)(a2 + 0xA4) = *(_DWORD *)(*(_QWORD *)(a1 + 0x258) + 0x18LL * value_by_id + 4);
        }
        else
        {
          if ( *(int *)(a2 + 0x90) > 1 || *(_DWORD *)(a2 + 0x90) == 1 && *(double *)(a1 + 0x6B8) <= 0.0 )
          {
            sub_14677F240(a1, 0, value_by_id_1, (Parameter **)&Parameter);
            p_Parameter = &Parameter;
          }
          _XMM0 = *(unsigned __int64 *)&p_Parameter[0x10].sa_family;
          __asm { vcvtpd2ps xmm0, xmm0 }
          *(float *)(a2 + 0x84) = *(float *)&_XMM0;
        }
        *(sockaddr *)(a2 + 8) = *(sockaddr *)((char *)p_Parameter + 0x78);
        *(double *)(a2 + 0x18) = *(double *)&p_Parameter[8].sa_data[6];
        *(double *)(a2 + 0x74) = *(double *)&p_Parameter[0x12].sa_data[6];
        *(_DWORD *)(a2 + 0x7C) = *(_DWORD *)&p_Parameter[0x13].sa_family;
        *(_DWORD *)(a2 + 0xA0) = (*(unsigned __int8 *)(a1 + 0x384) >> 4) & 1;
        *(_DWORD *)(a2 + 0x98) = (*(_DWORD *)(a1 + 0x4A8) >> 0xA) & 1;
        v180 = *(_DWORD *)(a2 + 0x94) == 0;
        *(_DWORD *)(a2 + 0x9C) = (*(_DWORD *)(a1 + 0x4A8) >> 0xB) & 1;
        if ( !v180 )
        {
          v181 = sub_14672C1E0((Parameter **)p_Parameter, v305, value_by_id_1);
          *(double *)(a2 + 0xB0) = *v181;
          *(double *)(a2 + 0xB8) = v181[1];
          *(double *)(a2 + 0xC0) = v181[2];
          *(double *)(a2 + 0xC8) = v181[3];
          *(double *)(a2 + 0xD0) = v181[4];
          *(double *)(a2 + 0xD8) = v181[5];
          *(double *)(a2 + 0xE0) = v181[6];
          *(double *)(a2 + 0xE8) = v181[7];
          *(double *)(a2 + 0xF0) = v181[8];
          v182 = sub_14672BE40((Parameter **)p_Parameter, v306);
          *(double *)(a2 + 0x140) = *v182;
          *(double *)(a2 + 0x148) = v182[1];
          *(double *)(a2 + 0x150) = v182[2];
          *(double *)(a2 + 0x158) = v182[3];
          *(double *)(a2 + 0x160) = v182[4];
          *(double *)(a2 + 0x168) = v182[5];
          *(double *)(a2 + 0x170) = v182[6];
          *(double *)(a2 + 0x178) = v182[7];
          *(double *)(a2 + 0x180) = v182[8];
          *(_QWORD *)(a2 + 0xF8) = *(_QWORD *)&p_Parameter->sa_family;
          *(_QWORD *)(a2 + 0x100) = *(_QWORD *)&p_Parameter->sa_data[6];
          *(_QWORD *)(a2 + 0x108) = *(_QWORD *)&p_Parameter[1].sa_family;
          *(_QWORD *)(a2 + 0x110) = *(_QWORD *)&p_Parameter[1].sa_data[6];
          *(_QWORD *)(a2 + 0x118) = *(_QWORD *)&p_Parameter[2].sa_family;
          *(_QWORD *)(a2 + 0x120) = *(_QWORD *)&p_Parameter[2].sa_data[6];
          *(_QWORD *)(a2 + 0x128) = *(_QWORD *)&p_Parameter[3].sa_family;
          *(_QWORD *)(a2 + 0x130) = *(_QWORD *)&p_Parameter[3].sa_data[6];
          *(_QWORD *)(a2 + 0x138) = *(_QWORD *)&p_Parameter[4].sa_family;
          *(_DWORD *)(a2 + 0x188) = *(_DWORD *)&p_Parameter[0x11].sa_data[6];
          *(_DWORD *)(a2 + 0x18C) = *(_DWORD *)&p_Parameter[0x11].sa_data[0xA];
          *(_DWORD *)(a2 + 0x190) = *(_DWORD *)&p_Parameter[0x12].sa_family;
          *(_DWORD *)(a2 + 0x194) = *(_DWORD *)&p_Parameter[0x12].sa_data[2];
          *(_DWORD *)(a2 + 0x198) = *(_DWORD *)&p_Parameter[9].sa_family;
          *(_DWORD *)(a2 + 0x19C) = *(_DWORD *)&p_Parameter[9].sa_data[2];
          *(_DWORD *)(a2 + 0x1A0) = *(_DWORD *)&p_Parameter[9].sa_data[6];
          *(_DWORD *)(a2 + 0x1A4) = *(_DWORD *)&p_Parameter[9].sa_data[0xA];
          *(_DWORD *)(a2 + 0x1C0) = *(_DWORD *)(a1 + 0x528);
          *(_DWORD *)(a2 + 0x1C4) = *(_DWORD *)(a1 + 0x520);
          *(_DWORD *)(a2 + 0x1C8) = *(_DWORD *)(a1 + 0x534);
          *(_OWORD *)(a2 + 0x1D0) = *(_OWORD *)(a1 + 0x7C0);
          *(double *)(a2 + 0x1E0) = *(double *)(a1 + 0x7D0);
        }
        _StarEngineModule__(&Parameter);
        v183 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8D0));
        if ( (v183 & 0x3FF) == 0 && (v183 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8D0), v183);
        return 1;
      case 9:
        v184 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v184 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x8C8),
            v184,
            (__int64)"CRigidEntity::GetStatus",
            (__int64)"m_lockContacts",
            1);
        v185 = 0;
        if ( (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 && *(_QWORD *)(a2 + 8) )
        {
          v186 = *(float *)(a1 + 0x84C);
          v187 = *(float *)(a1 + 0x6CC);
          v188 = *(float *)(a1 + 0x6C8);
          v189 = *(float *)(a1 + 0x848);
          v190 = *(float *)(a1 + 0x850);
          v191 = *(float *)(a1 + 0x6D0);
          v192 = *(float *)(a1 + 0x854);
          v193 = *(float *)(a1 + 0x6D4);
          v194 = (float)(v193 * v192)
               - (float)((float)((float)(v189 * v188) + (float)(v187 * v186)) + (float)(v191 * v190));
          v275 = (float)((float)((float)(v191 * v186) - (float)(v190 * v187)) + (float)(v188 * v192))
               + (float)(v189 * v193);
          v195 = (float)((float)((float)(v190 * v188) - (float)(v191 * v189)) + (float)(v187 * v192))
               + (float)(v186 * v193);
          v196 = (float)((float)((float)(v189 * v187) - (float)(v188 * v186)) + (float)(v191 * v192))
               + (float)(v190 * v193);
          v197 = 1.0 - (float)(v275 * (float)(v275 + v275));
          v198 = v194 * (float)(v275 + v275);
          v199 = (float)(v195 + v195) * v195;
          v200 = v275 * (float)(v195 + v195);
          v201 = v194 * (float)(v195 + v195);
          v202 = v275 * (float)(v196 + v196);
          v203 = (float)(v196 + v196) * v196;
          v204 = (float)(v196 + v196) * v195;
          v279 = (float)((float)(1.0 - v199) - v203);
          v205 = v194 * (float)(v196 + v196);
          v287 = (float)(v200 - v205);
          v272 = (float)(v202 + v201);
          v284 = (float)(v205 + v200);
          v289 = (float)(v197 - v203);
          v282 = (float)(v204 - v198);
          v206 = v204 + v198;
          v207 = *(float *)(a1 + 0x6E0);
          v291 = (float)(v202 - v201);
          v293 = v206;
          v285 = (float)(v197 - v199);
          v208 = *(float *)(a1 + 0x6DC);
          v209 = *(float *)(a1 + 0x6D8);
          v210 = (float)((float)(v207 * v195) - (float)(v208 * v196)) + (float)(v194 * v209);
          v211 = (float)((float)(v209 * v196) - (float)(v275 * v207)) + (float)(v194 * v208);
          v212 = v194 * v207;
          v213 = v293;
          v214 = (float)((float)(v275 * v208) - (float)(v209 * v195)) + v212;
          v215 = (float)(v214 * v195) - (float)(v211 * v196);
          v216 = v210 * v196;
          v217 = v293 * v284;
          v218 = v216 - (float)(v275 * v214);
          v219 = (float)(v275 * v211) - (float)(v210 * v195);
          v276 = *(double *)(a1 + 0x7C0) - (float)((float)(v209 + v215) + v215);
          v220 = v208 + v218;
          v221 = v293 * v279;
          v295 = *(double *)(a1 + 0x7C8) - (float)(v220 + v218);
          v222 = *(double *)(a1 + 0x7D0) - (float)((float)(v207 + v219) + v219);
          v223 = v289 * v279;
          v224 = v287 * v284;
          v225 = v285 * v289 - v293 * v282;
          v226 = v293 * v272 - v285 * v287;
          v227 = v287 * v282 - v289 * v272;
          v228 = v291 * v289;
          v229 = v291 * v287;
          v230 = 1.0 / (v226 * v284 + v225 * v279 + v291 * v227);
          v231 = v230 * v225;
          v232 = v295;
          v294 = v231;
          v300 = v230 * v226;
          v301 = v230 * v227;
          v296 = (v222 * v272 * v289
                + v295 * v285 * v287
                + v282 * v276 * v213
                - (v282 * v222 * v287
                 + v285 * v276 * v289
                 + v295 * v272 * v213))
               * v230;
          v290 = (v291 * v282 - v285 * v284) * v230;
          v288 = (v285 * v279 - v291 * v272) * v230;
          v233 = v276;
          v302 = (v272 * v284 - v282 * v279) * v230;
          v292 = (v276 * v285 * v284
                + v222 * v282 * v279
                + v232 * v272 * v291
                - (v222 * v272 * v284
                 + v232 * v285 * v279
                 + v276 * v282 * v291))
               * v230;
          v286 = (v217 - v228) * v230;
          v280 = (v229 - v221) * v230;
          v277 = (v223 - v224) * v230;
          v234 = 0;
          v235 = *(double **)(a1 + 0x4D0);
          v273 = (v221 * v232 + v228 * v233 + v224 * v222 - (v229 * v232 + v217 * v233 + v223 * v222)) * v230;
          if ( v235 != (double *)(a1 + 0x4D0) )
          {
            v236 = v300;
            v237 = v301;
            v238 = v302;
            v239 = 0;
            do
            {
              if ( v234 >= *(_DWORD *)(a2 + 0x10) )
                break;
              v240 = v235[9];
              v241 = *((unsigned __int64 *)v235 + 8);
              v242 = v235[0xA];
              v243 = *(_QWORD *)(a2 + 8);
              _XMM0 = COERCE_UNSIGNED_INT64(*(double *)&v241 * v294 + v240 * v236 + v242 * v237 + v296);
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              *(float *)(v243 + v239) = *(float *)&_XMM3;
              *((_QWORD *)&v246 + 1) = *((_QWORD *)&v241 + 1);
              *(double *)&v246 = *(double *)&v241 * v290 + v240 * v288 + v242 * v238 + v292;
              _XMM0 = v246;
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              *(float *)(v243 + v239 + 4) = *(float *)&_XMM3;
              *((_QWORD *)&v246 + 1) = *((_QWORD *)&v241 + 1);
              *(double *)&v246 = *(double *)&v241 * v286 + v240 * v280 + v242 * v277 + v273;
              _XMM0 = v246;
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              *(float *)(v243 + v239 + 8) = *(float *)&_XMM3;
              v251 = *(_QWORD *)(a2 + 8);
              *(double *)(v251 + v239 + 0xC) = v235[0xE];
              *(_DWORD *)(v251 + v239 + 0x14) = *((_DWORD *)v235 + 0x1E);
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x40) = *((__int16 *)v235 + 0x3E);
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x44) = *((__int16 *)v235 + 0x3F);
              v252 = *((_QWORD *)v235 + 5);
              v253 = *(_QWORD *)(a2 + 8);
              *(double *)(v253 + v239 + 0x18) = *(double *)(v252 + 0xDC);
              *(_DWORD *)(v253 + v239 + 0x20) = *(_DWORD *)(v252 + 0xE4);
              v254 = *((_QWORD *)v235 + 6);
              v255 = *(_QWORD *)(a2 + 8);
              *(double *)(v255 + v239 + 0x24) = *(double *)(v254 + 0xDC);
              *(_DWORD *)(v255 + v239 + 0x2C) = *(_DWORD *)(v254 + 0xE4);
              _XMM0 = *(unsigned __int64 *)(*((_QWORD *)v235 + 5) + 0x100LL);
              __asm { vcvtpd2ps xmm0, xmm0 }
              *(float *)(*(_QWORD *)(a2 + 8) + v239 + 0x30) = *(float *)&_XMM0;
              _XMM1 = *(unsigned __int64 *)(*((_QWORD *)v235 + 6) + 0x100LL);
              __asm { vcvtpd2ps xmm1, xmm1 }
              *(float *)(*(_QWORD *)(a2 + 8) + v239 + 0x34) = *(float *)&_XMM1;
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x38) = 0;
              ++v234;
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x3C) = sub_14691AF30(
                                                                 *(_QWORD *)(a1 + 0x2C0),
                                                                 *((_QWORD *)v235 + 4));
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x4C) = 0;
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x48) = 0;
              v239 += 0x50;
              v235 = *(double **)v235;
            }
            while ( v235 != (double *)(a1 + 0x4D0) );
          }
          *(_DWORD *)(a2 + 0x10) = v234;
        }
        LOBYTE(v185) = *(_QWORD *)(a1 + 0x4D0) != a1 + 0x4D0;
        v260 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v260 & 0x3FF) == 0 && (v260 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8C8), v260);
        return v185;
      case 0x13:
        _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x28) - *(double *)(a1 + 0x10));
        __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
        _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x30) - *(double *)(a1 + 0x18));
        __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
        _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x38) - *(double *)(a1 + 0x20));
        __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
        v267 = (float)((float)(*(float *)&_XMM3 + *(float *)&_XMM4) + *(float *)&_XMM2) * 0.1;
        v297[0] = *(float *)&_XMM4;
        v297[1] = *(float *)&_XMM3;
        v297[2] = *(float *)&_XMM2;
        v268 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v268 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x8C8),
            v268,
            (__int64)"CRigidEntity::GetStatus",
            (__int64)"m_lockContacts",
            1);
        v269 = sub_1467A7C90(
                 a1,
                 *(double **)(a1 + 0x4D0),
                 0,
                 v267,
                 0,
                 &v299,
                 v303,
                 v297,
                 &v298,
                 (double *)(a2 + 8),
                 (float *)(a2 + 0x20));
        v270 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v270 & 0x3FF) == 0 && (v270 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8C8), v270);
        return v269;
    }
    return 0;
  }
  if ( *(_DWORD *)(a2 + 4) )
  {
    if ( *(int *)(a1 + 0x188) < 0 )
      return 1;
    v5 = 0;
    if ( *(_DWORD *)(a1 + 0x4AC)
       | (*(_DWORD *)(a1 + 0x188) >= *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x84A00LL) - *(_DWORD *)(a2 + 4)) )
    {
      return 1;
    }
  }
  else
  {
    return *(unsigned int *)(a1 + 0x4AC);
  }
  return v5;
}

// --- End Function: CRigidEntity::GetStatus (0x1467BE550) ---

// --- Function: sub_1467C3B90 (0x1467C3B90) ---
double *__fastcall sub_1467C3B90(double *a1, __int64 a2, int a3)
{
  __int64 v4; // r11
  double v5; // xmm11_8
  double v6; // xmm12_8
  __int64 v7; // rcx
  double v8; // xmm13_8
  double v9; // xmm4_8
  double v10; // xmm9_8
  double v11; // xmm10_8
  __int64 v12; // r8
  double v13; // xmm7_8
  double v14; // xmm8_8
  double v15; // xmm6_8
  double v16; // xmm4_8
  double v17; // xmm11_8
  double v18; // xmm12_8
  double v19; // xmm9_8
  double v20; // xmm13_8
  double v21; // xmm10_8
  double v22; // xmm4_8
  double v23; // kr00_8
  double v24; // xmm7_8
  double v25; // xmm5_8
  double v26; // xmm4_8
  double *result; // rax
  double v28; // xmm3_8

  v4 = *(_QWORD *)(a2 + 8LL * a3 + 0x18);
  v5 = *(double *)(a2 + 0x18LL * a3 + 0x40) - *(double *)(v4 + 0x1C0);
  v6 = *(double *)(a2 + 0x18LL * a3 + 0x48) - *(double *)(v4 + 0x1C8);
  v7 = *(_QWORD *)(v4 + 0x230);
  v8 = *(double *)(a2 + 0x18LL * a3 + 0x50) - *(double *)(v4 + 0x1D0);
  v9 = *(float *)(v4 + 0x1E4);
  v10 = *(float *)(v4 + 0x1E0);
  v11 = *(float *)(v4 + 0x1DC);
  v12 = 0x20LL * (*(__int16 *)(a2 + 0x7C) + (-a3 & (*(__int16 *)(a2 + 0x7E) - *(__int16 *)(a2 + 0x7C))));
  v13 = v10 * v6 - v11 * v8 + v9 * v5;
  v14 = *(float *)(v4 + 0x1D8);
  v15 = v14 * v8 - v10 * v5 + v9 * v6;
  v16 = v11 * v5 - v14 * v6 + v9 * v8;
  v17 = v5 + v10 * v15 - v11 * v16 + v10 * v15 - v11 * v16 - *(float *)(v12 + v7 + 0x10);
  v18 = v6 + v14 * v16 - v10 * v13 + v14 * v16 - v10 * v13 - *(float *)(v12 + v7 + 0x14);
  v19 = *(float *)(v12 + v7 + 8);
  v20 = v8 + v11 * v13 - v14 * v15 + v11 * v13 - v14 * v15 - *(float *)(v12 + v7 + 0x18);
  v21 = *(float *)(v12 + v7 + 4);
  v22 = *(float *)(v12 + v7 + 0xC);
  v23 = *(float *)(v12 + v7);
  v24 = v19 * v18 - v21 * v20 + v22 * v17;
  v25 = v23 * v20 - v19 * v17 + v22 * v18;
  v26 = v21 * v17 - v23 * v18 + v22 * v20;
  result = a1;
  v28 = (float)(1.0 / *(float *)(v12 + v7 + 0x1C));
  *a1 = (v19 * v25 - v21 * v26 + v17 + v19 * v25 - v21 * v26) * v28;
  a1[1] = (v23 * v26 - v19 * v24 + v18 + v23 * v26 - v19 * v24) * v28;
  a1[2] = (v21 * v24 - v23 * v25 + v20 + v21 * v24 - v23 * v25) * v28;
  return result;
}

// --- End Function: sub_1467C3B90 (0x1467C3B90) ---

// --- Function: sub_1467C4870 (0x1467C4870) ---
char __fastcall sub_1467C4870(Parameter *Parameter, unsigned __int64 a2)
{
  __int64 v2; // rdi
  unsigned __int64 v3; // rbx
  volatile signed __int64 *v4; // rsi
  signed __int64 v5; // rdx
  __int64 v6; // rax
  __int64 v7; // rcx
  __int64 v8; // rax

  v2 = *((_QWORD *)Parameter + 0x16);
  if ( !v2 || !a2 )
    return 0;
  v3 = a2 | (*(_QWORD *)(a2 + 8) << 0x30);
  if ( *(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 8) != HIWORD(v3) )
    return 0;
  v4 = (volatile signed __int64 *)(v2 + 0x50);
  if ( *(_DWORD *)(v2 + 0x58) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0x5C);
  }
  else
  {
    v5 = _InterlockedIncrement64(v4);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)(v2 + 0x50),
        v5,
        (__int64)&p_p_p_p_p_p_p_p_p_p_p_p_Source,
        (__int64)&p_p_p_p_p_p_p_p_p_p_p_p_Source,
        0);
  }
  v6 = *(int *)(v2 + 0x48);
  if ( (int)v6 <= 0 )
  {
LABEL_15:
    sub_1402D42F0((__int64)v4);
    return 0;
  }
  if ( *(int *)(v2 + 0x4C) > 8 )
    v2 = *(_QWORD *)(v2 + 0x40);
  v7 = v6;
  v8 = 0;
  while ( *(_QWORD *)(v2 + 8 * v8) != v3 )
  {
    if ( ++v8 >= v7 )
      goto LABEL_15;
  }
  sub_1402D42F0((__int64)v4);
  return 1;
}

// --- End Function: sub_1467C4870 (0x1467C4870) ---

// --- Function: sub_1467C4DB0 (0x1467C4DB0) ---
char __fastcall sub_1467C4DB0(__int64 a1, float *a2, float *a3)
{
  int v3; // esi
  unsigned int n2; // eax
  __int64 v8; // rdi
  __int64 v9; // rdx
  double v10; // xmm14_8
  double v11; // xmm15_8
  __int64 v12; // rcx
  double *v13; // rax
  double v14; // xmm11_8
  double v15; // xmm12_8
  double v16; // xmm13_8
  double v17; // xmm10_8
  double v18; // xmm9_8
  double v19; // xmm4_8
  double v20; // xmm7_8
  double v21; // xmm8_8
  double v22; // xmm6_8
  double v23; // xmm4_8
  double v24; // xmm5_8
  double v25; // xmm4_8
  double v26; // xmm6_8
  double v27; // xmm2_8
  double v28; // xmm0_8
  double v29; // xmm2_8
  double v30; // xmm1_8
  double v31; // xmm3_8
  double v32; // xmm1_8
  _DWORD *v33; // rax
  int v35; // [rsp+20h] [rbp-F8h] BYREF
  double v36; // [rsp+28h] [rbp-F0h]
  double v37; // [rsp+30h] [rbp-E8h]
  double v38; // [rsp+38h] [rbp-E0h]
  float v39; // [rsp+40h] [rbp-D8h]
  float v40; // [rsp+44h] [rbp-D4h]
  float v41; // [rsp+48h] [rbp-D0h]
  float v42; // [rsp+4Ch] [rbp-CCh]
  unsigned int v43; // [rsp+50h] [rbp-C8h]
  unsigned int v44; // [rsp+54h] [rbp-C4h]
  int n0x12; // [rsp+58h] [rbp-C0h]
  char n2_1; // [rsp+5Ch] [rbp-BCh]
  unsigned __int64 v47; // [rsp+60h] [rbp-B8h]

  v3 = 0;
  v35 = 0;
  LOBYTE(n2) = n2_1 & 0xF0 | 8;
  HIDWORD(v36) = 0xFFF7FFFF;
  v43 = 0xFFBFFFFF;
  v42 = NAN;
  v44 = 0x80000000;
  v47 = 0xFFFFFFFFFFFFFFFFuLL;
  n0x12 = 1;
  n2_1 = n2;
  if ( *(int *)(a1 + 0x148) > 0 )
  {
    v8 = 0;
    do
    {
      v9 = *(_QWORD *)(v8 + *(_QWORD *)(a1 + 0x140));
      n2 = *(_DWORD *)(v9 + 0xF4) - 1;
      if ( n2 < 2
        && ((*(unsigned int (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x258LL))(a1, v9, 0x104)
         || (n2 = (*(__int64 (__fastcall **)(_QWORD, __int64, __int64))(**(_QWORD **)(v8 + *(_QWORD *)(a1 + 0x140))
                                                                      + 0x258LL))(
                    *(_QWORD *)(v8 + *(_QWORD *)(a1 + 0x140)),
                    a1,
                    0x104)) != 0) )
      {
        n2 = *(_DWORD *)(*(_QWORD *)(v8 + *(_QWORD *)(a1 + 0x140)) + 0xFCLL);
        if ( (n2 & 0x10000) == 0 )
        {
          v10 = *(double *)(a1 + 0x1C0);
          v11 = *(double *)(a1 + 0x1C8);
          v12 = *(_QWORD *)(a1 + 0x140);
          v13 = *(double **)(v8 + v12);
          v14 = v13[0x38] - v10 + *a2;
          v15 = v13[0x39] - v11 + a2[1];
          v16 = v13[0x3A] - *(double *)(a1 + 0x1D0) + a2[2];
          v17 = a3[1];
          v18 = a3[2];
          v19 = a3[3];
          v20 = *a3;
          v21 = v17 * v16 - v18 * v15 + v19 * v14;
          v22 = v18 * v14 - v20 * v16 + v19 * v15;
          v23 = v20 * v15 - v17 * v14 + v19 * v16;
          v24 = v17 * v23 - v18 * v22;
          v25 = v18 * v21 - v20 * v23;
          v26 = v20 * v22 - v17 * v21;
          v27 = v10 + v24;
          *(float *)&v10 = a3[1];
          v28 = v27 + v24 + v14;
          v29 = v26 + *(double *)(a1 + 0x1D0);
          v36 = v28;
          v30 = v25 + v15;
          *(float *)&v15 = *a3;
          v31 = v11 + v25;
          *(float *)&v11 = a3[2];
          v37 = v31 + v30;
          v32 = v26 + v16;
          *(float *)&v16 = a3[3];
          v38 = v29 + v32;
          v33 = *(_DWORD **)(v8 + v12);
          LODWORD(v20) = v33[0x77];
          LODWORD(v18) = v33[0x78];
          LODWORD(v21) = v33[0x76];
          LODWORD(v14) = v33[0x79];
          v39 = (float)((float)((float)(*(float *)&v18 * *(float *)&v10) - (float)(*(float *)&v20 * *(float *)&v11))
                      + (float)(*(float *)&v21 * *(float *)&v16))
              + (float)(*(float *)&v14 * *(float *)&v15);
          v40 = (float)((float)((float)(*(float *)&v21 * *(float *)&v11) - (float)(*(float *)&v18 * *(float *)&v15))
                      + (float)(*(float *)&v20 * *(float *)&v16))
              + (float)(*(float *)&v14 * *(float *)&v10);
          v42 = (float)(*(float *)&v14 * *(float *)&v16)
              - (float)((float)((float)(*(float *)&v21 * *(float *)&v15) + (float)(*(float *)&v20 * *(float *)&v10))
                      + (float)(*(float *)&v18 * *(float *)&v11));
          n0x12 = 0x12;
          v41 = (float)((float)((float)(*(float *)&v20 * *(float *)&v15) - (float)(*(float *)&v21 * *(float *)&v10))
                      + (float)(*(float *)&v18 * *(float *)&v16))
              + (float)(*(float *)&v14 * *(float *)&v11);
          LOBYTE(n2) = (*(__int64 (__fastcall **)(_QWORD, int *, __int64))(**(_QWORD **)(v8 + v12) + 0x18LL))(
                         *(_QWORD *)(v8 + v12),
                         &v35,
                         1);
        }
      }
      ++v3;
      v8 += 8;
    }
    while ( v3 < *(_DWORD *)(a1 + 0x148) );
  }
  return n2;
}

// --- End Function: sub_1467C4DB0 (0x1467C4DB0) ---

// --- Function: sub_1467C8250 (0x1467C8250) ---
__int64 __fastcall sub_1467C8250(__int64 *a1, float *a2, int a3, int a4)
{
  float v4; // xmm1_4
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  double v12; // xmm0_8
  unsigned int v13; // edi
  double v16; // rdx
  double v17; // rax
  float v18; // xmm14_4
  float v19; // xmm9_4
  float v20; // xmm10_4
  _QWORD *v22; // rax
  float *v23; // r8
  __m128 v24; // kr00_16
  float *v25; // rcx
  float *v26; // r9
  __m128 v27; // xmm6
  float *v28; // r10
  __m128 v29; // kr00_16
  float v32; // xmm7_4
  float v35; // xmm6_4
  float v36; // xmm4_4
  float v37; // xmm2_4
  __m128 v39; // xmm0
  float v40; // xmm2_4
  __m128 v41; // kr00_16
  float v44; // xmm4_4
  __m128 v45; // kr00_16
  float v46; // eax
  float v49; // xmm4_4
  float v51; // xmm7_4
  double v53; // rax
  double v54; // [rsp+40h] [rbp-C0h] BYREF
  float v55; // [rsp+48h] [rbp-B8h]
  double v56; // [rsp+50h] [rbp-B0h]
  _DWORD v57[16]; // [rsp+60h] [rbp-A0h] BYREF
  __int128 v58; // [rsp+A0h] [rbp-60h]
  unsigned __int64 v59; // [rsp+B0h] [rbp-50h]
  unsigned int v60; // [rsp+B8h] [rbp-48h]
  unsigned int v61; // [rsp+BCh] [rbp-44h]
  unsigned int v62; // [rsp+C0h] [rbp-40h]
  unsigned int v63; // [rsp+C4h] [rbp-3Ch]
  unsigned int v64; // [rsp+C8h] [rbp-38h]
  unsigned int v65; // [rsp+CCh] [rbp-34h]
  __m256 v66; // [rsp+D0h] [rbp-30h]
  __int128 v67; // [rsp+F0h] [rbp-10h]
  unsigned int v68; // [rsp+100h] [rbp+0h]
  unsigned int v69; // [rsp+104h] [rbp+4h]
  unsigned int v70; // [rsp+108h] [rbp+8h]
  __m256 v71; // [rsp+110h] [rbp+10h]
  __int128 v72; // [rsp+150h] [rbp+50h]
  __int128 v73; // [rsp+160h] [rbp+60h]
  __int128 v74; // [rsp+170h] [rbp+70h]
  __int128 v75; // [rsp+180h] [rbp+80h]
  __int128 v76; // [rsp+190h] [rbp+90h]
  __int128 v77; // [rsp+1B0h] [rbp+B0h]
  __int128 v78; // [rsp+1C0h] [rbp+C0h]

  v12 = *((double *)a1 + 0xD6);
  v72 = v11;
  v13 = 0;
  if ( v12 <= 0.0 && a4 > 0 )
    return sub_1467C8250(a1, a2, 0, 0);
  if ( v4 > 0.0 && (v12 > 0.0 || *((_DWORD *)a1 + 0x273) != *(_DWORD *)(a1[0x58] + 0x84A00)) )
  {
    v13 = sub_146877BA0(
            a1[0x58],
            (_DWORD)a1,
            (unsigned int)&v54,
            a3,
            a4,
            (__int64)a1 + 0x68C,
            *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL),
            0);
    if ( v13 )
    {
      if ( (LODWORD(v54) & 0xFFA00000) != 0xFFA00000 )
      {
        v16 = *(double *)a1;
        v78 = v5;
        v77 = v6;
        if ( (*(unsigned int (__fastcall **)(__int64 *))(*(_QWORD *)&v16 + 8LL))(a1) == 3 )
        {
          v17 = *(double *)a1;
          v58 = xmmword_148721750;
          v76 = v7;
          v66 = ymmword_148989040;
          v75 = v8;
          v67 = xmmword_1483C9C10;
          v74 = v9;
          v71 = ymmword_148AC5240;
          v73 = v10;
          v57[0] = 2;
          v57[4] = 0xFFBFFFFF;
          v57[1] = 0xFFBFFFFF;
          v57[2] = 0xFFBFFFFF;
          v57[3] = 0xFFBFFFFF;
          v57[6] = 0xFFBFFFFF;
          v57[7] = 0xFFBFFFFF;
          v57[8] = 0xFFBFFFFF;
          v57[5] = 0xFFBFFFFF;
          v57[0xD] = 0xFFBFFFFF;
          v57[0xE] = 0xFFBFFFFF;
          v57[0xF] = 0xFFBFFFFF;
          v59 = 0xFFFFFFFFFFFFFFFFuLL;
          v57[0xB] = 0xFFBFFFFF;
          v62 = 0xFFBFFFFF;
          v63 = 0xFFBFFFFF;
          v64 = 0xFFBFFFFF;
          v57[9] = 0xFFBFFFFF;
          v57[0xA] = 0xFFBFFFFF;
          v65 = 0xFFBFFFFF;
          v60 = 0x80000000;
          v61 = 0x80000000;
          v68 = 0xFFBFFFFF;
          v69 = 0xFFBFFFFF;
          v70 = 0x80000000;
          __asm { vzeroupper }
          (*(void (__fastcall **)(__int64 *, _DWORD *))(*(_QWORD *)&v17 + 0x20LL))(a1, v57);
          v18 = v71.m256_f32[7];
          v19 = v55;
          v20 = *((float *)&v54 + 1);
          _XMM11 = LODWORD(v54);
          v22 = (__int64 *)((char *)a1 + 0x544);
          if ( v71.m256_f32[7] <= 0.0 )
          {
            a2 = (float *)(a1 + 0xA9);
            v23 = (float *)a1 + 0x153;
            if ( (float)((float)((float)((float)(*((float *)a1 + 0x152) - *((float *)&v54 + 1))
                                       * (float)(*((float *)a1 + 0x152) - *((float *)&v54 + 1)))
                               + (float)((float)(*(float *)v22 - *(float *)&v54)
                                       * (float)(*(float *)v22 - *(float *)&v54)))
                       + (float)((float)(*((float *)a1 + 0x153) - v55) * (float)(*((float *)a1 + 0x153) - v55))) > 0.001 )
              goto LABEL_15;
          }
          v24 = (__m128)*(unsigned int *)v22;
          a2 = (float *)(a1 + 0xA9);
          v25 = (float *)a1 + 0x151;
          v23 = (float *)a1 + 0x153;
          v26 = (float *)(a1 + 0xA9);
          v24.m128_f32[0] = (float)((float)(*(float *)v22 * *(float *)v22)
                                  + (float)(*((float *)a1 + 0x152) * *((float *)a1 + 0x152)))
                          + (float)(*((float *)a1 + 0x153) * *((float *)a1 + 0x153));
          v27 = v24;
          v28 = (float *)a1 + 0x153;
          if ( v24.m128_f32[0] > 0.001 )
          {
            v29 = (__m128)LODWORD(v54);
            v29.m128_f32[0] = (float)((float)(*(float *)&v54 * *(float *)&v54)
                                    + (float)(*((float *)&v54 + 1) * *((float *)&v54 + 1)))
                            + (float)(v55 * v55);
            if ( v29.m128_f32[0] > 0.001 )
            {
              _XMM0 = _mm_shuffle_ps(v29, v29, 0);
              __asm { vrsqrtps xmm3, xmm0 }
              _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
              v32 = (float)(1.5
                          - (float)((float)((float)(_XMM3.m128_f32[0] * v29.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                  * _XMM3.m128_f32[0];
              _XMM1 = _mm_shuffle_ps(v27, v27, 0);
              __asm { vrsqrtps xmm3, xmm1 }
              _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
              v35 = (float)(1.5
                          - (float)((float)((float)(_XMM3.m128_f32[0] * v27.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                  * _XMM3.m128_f32[0];
              v36 = (float)((float)(*((float *)&v54 + 1) * v32)
                          * (float)(_mm_shuffle_ps((__m128)(unsigned __int64)*v22, (__m128)(unsigned __int64)*v22, 0x55).m128_f32[0]
                                  * v35))
                  + (float)((float)(v32 * *(float *)&v54) * (float)(COERCE_FLOAT(*v22) * v35));
              v37 = (float)(v55 * v32) * (float)(v35 * *((float *)a1 + 0x153));
              v56 = *(double *)v22;
              if ( (float)(v36 + v37) < 0.98299998 )
              {
LABEL_15:
                *((_DWORD *)a1 + 0x14B) = 0x3E4CCCCD;
                v25 = (float *)a1 + 0x151;
                v26 = a2;
                v28 = v23;
              }
            }
          }
          __asm { vunpcklps xmm1, xmm11, xmm10 }
          *(double *)v25 = *(double *)&_XMM1;
          a1[0xA7] = *(__int64 *)&_XMM1;
          v25[2] = v19;
          *((float *)a1 + 0x150) = v19;
          v39 = (__m128)*((unsigned int *)a1 + 0x14E);
          v40 = *((float *)a1 + 0x14F);
          v54 = *(double *)&_XMM1;
          v41 = v39;
          v41.m128_f32[0] = (float)((float)(v39.m128_f32[0] * v39.m128_f32[0]) + (float)(v40 * v40))
                          + (float)(v19 * v19);
          if ( v41.m128_f32[0] > 0.001 && v71.m256_f32[6] > 0.0 )
          {
            v41.m128_f32[0] = v41.m128_f32[0] + 1.1754944e-38;
            _XMM0 = _mm_shuffle_ps(v41, v41, 0);
            __asm { vrsqrtps xmm3, xmm0 }
            _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
            _XMM3.m128_f32[0] = (float)((float)(1.5
                                              - (float)((float)((float)(_XMM3.m128_f32[0] * v41.m128_f32[0])
                                                              * _XMM3.m128_f32[0])
                                                      * 0.5))
                                      * _XMM3.m128_f32[0])
                              * v71.m256_f32[6];
            *((float *)a1 + 0x14E) = *(float *)&_XMM11 * _XMM3.m128_f32[0];
            *((float *)a1 + 0x14F) = v20 * _XMM3.m128_f32[0];
            *((float *)a1 + 0x150) = v19 * _XMM3.m128_f32[0];
          }
          v45 = (__m128)*(unsigned int *)v25;
          v45.m128_f32[0] = (float)((float)(*v25 * *v25) + (float)(*v26 * *v26)) + (float)(*v28 * *v28);
          v44 = v45.m128_f32[0];
          if ( v45.m128_f32[0] > 0.001 && v18 > 0.0 )
          {
            v46 = v25[2];
            v45.m128_f32[0] = v45.m128_f32[0] + 1.1754944e-38;
            _XMM0 = _mm_shuffle_ps(v45, v45, 0);
            __asm { vrsqrtps xmm3, xmm0 }
            _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
            v56 = *(double *)v25;
            v49 = (float)((float)(1.5
                                - (float)((float)((float)(_XMM3.m128_f32[0] * (float)(v44 + 1.1754944e-38))
                                                * _XMM3.m128_f32[0])
                                        * 0.5))
                        * _XMM3.m128_f32[0])
                * v18;
            *v25 = *(float *)&v56 * v49;
            *v26 = v49 * *((float *)&v56 + 1);
            *v28 = v46 * v49;
          }
        }
        else
        {
          _XMM5 = LODWORD(v54);
          v51 = v55;
          if ( (float)((float)((float)((float)(*((float *)a1 + 0x152) - *((float *)&v54 + 1))
                                     * (float)(*((float *)a1 + 0x152) - *((float *)&v54 + 1)))
                             + (float)((float)(*((float *)a1 + 0x151) - *(float *)&v54)
                                     * (float)(*((float *)a1 + 0x151) - *(float *)&v54)))
                     + (float)((float)(*((float *)a1 + 0x153) - v55) * (float)(*((float *)a1 + 0x153) - v55))) != 0.0 )
            *((_DWORD *)a1 + 0x14B) = 0x3E4CCCCD;
          __asm { vunpcklps xmm1, xmm5, xmm6 }
          *(__int64 *)((char *)a1 + 0x544) = *(__int64 *)&_XMM1;
          a1[0xA7] = *(__int64 *)&_XMM1;
          *((float *)a1 + 0x153) = v51;
          *((float *)a1 + 0x150) = v51;
          v54 = *(double *)&_XMM1;
        }
      }
    }
  }
  v53 = *(double *)a1;
  *((_DWORD *)a1 + 0x273) = *(_DWORD *)(a1[0x58] + 0x84A00);
  (*(void (__fastcall **)(__int64 *, float *, __int64 *, __int64 *))(*(_QWORD *)&v53 + 0x320LL))(
    a1,
    a2,
    a1 + 0x78,
    a1 + 0x7B);
  return v13;
}

// --- End Function: sub_1467C8250 (0x1467C8250) ---

// --- Function: sub_1467C90E0 (0x1467C90E0) ---
__int64 __fastcall sub_1467C90E0(unsigned __int64 Parameter, __int64 a2, __int64 a3, __int64 n0x80000, int a5)
{
  float v5; // xmm3_4
  __int128 v6; // xmm6
  __int128 v7; // xmm7
  __int128 v8; // xmm8
  __int128 v9; // xmm9
  __int128 v10; // xmm10
  __int128 v11; // xmm11
  __int128 v12; // xmm12
  __int128 v13; // xmm13
  __int128 v14; // xmm14
  __int128 v15; // xmm15
  __int64 v16; // rax
  int v18; // r12d
  __int64 v19; // r13
  float v21; // xmm3_4
  __m128 v22; // kr00_16
  float v23; // xmm0_4
  __int64 v24; // rdi
  __int64 v25; // rbx
  __m128 v26; // xmm15
  __int64 v27; // rcx
  __int64 v28; // rdx
  float *v29; // rcx
  __int128 v30; // xmm10
  float v31; // xmm9_4
  float v32; // xmm4_4
  float v33; // xmm13_4
  float v34; // xmm12_4
  float v35; // xmm11_4
  float v36; // xmm7_4
  float v37; // xmm14_4
  __int128 v38; // kr00_16
  __int128 v39; // xmm8
  __int128 v40; // kr00_16
  __int128 v41; // xmm6
  __int128 v42; // kr00_16
  float v43; // xmm4_4
  __int128 v44; // xmm5
  float v45; // xmm0_4
  __int128 v46; // kr00_16
  float v47; // xmm9_4
  __int128 v48; // xmm4
  __int128 v49; // kr00_16
  __int128 v50; // xmm3
  __int128 v51; // kr00_16
  __int128 v52; // xmm11
  __int128 v53; // kr00_16
  __int128 v54; // xmm12
  __int128 v55; // kr00_16
  __int128 v56; // xmm13
  float v57; // xmm7_4
  __int128 v60; // xmm12
  __int64 v65; // rdi
  double v66; // xmm9_8
  double v67; // xmm7_8
  __int64 v68; // rsi
  __int128 v69; // xmm9
  float v70; // xmm13_4
  float v73; // xmm15_4
  __m128 v77; // xmm0
  __m128 v78; // kr00_16
  __int128 v79; // kr00_16
  __int128 v85; // xmm14
  double v92; // xmm6_8
  double v93; // xmm7_8
  __int64 v94; // rbx
  double v95; // xmm4_8
  int v96; // r12d
  __int64 v97; // rsi
  int v98; // xmm2_4
  int v99; // xmm3_4
  __int64 v100; // rax
  int v101; // ecx
  int v102; // edx
  int v103; // r8d
  float v104; // xmm2_4
  int v105; // r9d
  double v106; // xmm0_8
  double v107; // kr00_8
  __int64 v108; // rax
  float v109; // xmm1_4
  float v110; // xmm12_4
  __m128 v111; // kr00_16
  __m128 v112; // xmm1
  __m128 v113; // xmm1
  __m128 v114; // xmm2
  double v122; // xmm7_8
  double v130; // xmm0_8
  __int128 v131; // kr00_16
  bool v133; // zf
  __int64 result; // rax
  __int64 v137; // rdx
  unsigned __int64 v138; // rax
  __m256 v139; // ymm0
  __int64 v140; // rcx
  int v141; // eax
  _QWORD *v144; // r8
  double v145; // xmm8_8
  __int128 v146; // xmm7
  __int128 v147; // xmm4
  __int128 v148; // xmm6
  double v149; // xmm9_8
  double v150; // xmm5_8
  __int128 v151; // kr00_16
  __int128 v152; // xmm1
  __int128 v153; // xmm4
  float v156; // xmm3_4
  __int128 v157; // xmm1
  __int128 v158; // xmm6
  float v161; // xmm3_4
  __int64 v164; // rcx
  float v167; // [rsp+68h] [rbp-A0h]
  float v168; // [rsp+70h] [rbp-98h]
  double v169; // [rsp+78h] [rbp-90h] BYREF
  float v170; // [rsp+80h] [rbp-88h]
  float v171; // [rsp+88h] [rbp-80h]
  double v172; // [rsp+90h] [rbp-78h]
  __int64 v173; // [rsp+98h] [rbp-70h]
  double v174; // [rsp+A0h] [rbp-68h]
  double v175[2]; // [rsp+A8h] [rbp-60h] BYREF
  double v176; // [rsp+B8h] [rbp-50h]
  char v177[52]; // [rsp+C8h] [rbp-40h] BYREF
  float v178; // [rsp+FCh] [rbp-Ch]
  float v179; // [rsp+100h] [rbp-8h]
  float v180; // [rsp+104h] [rbp-4h]
  __int64 v181; // [rsp+108h] [rbp+0h] BYREF
  int n2; // [rsp+110h] [rbp+8h]
  int n0x1E; // [rsp+114h] [rbp+Ch]
  unsigned __int64 v184; // [rsp+118h] [rbp+10h]
  __int64 v185; // [rsp+120h] [rbp+18h]
  __int64 v186; // [rsp+128h] [rbp+20h]
  __int64 v187; // [rsp+130h] [rbp+28h]
  int v188; // [rsp+138h] [rbp+30h]
  int v189; // [rsp+13Ch] [rbp+34h]
  int v190; // [rsp+140h] [rbp+38h]
  int v191; // [rsp+144h] [rbp+3Ch]
  int v192; // [rsp+148h] [rbp+40h]
  __m256 v193; // [rsp+150h] [rbp+48h]
  int v194; // [rsp+170h] [rbp+68h]
  float v195; // [rsp+174h] [rbp+6Ch]
  float v196; // [rsp+178h] [rbp+70h]
  float v197; // [rsp+17Ch] [rbp+74h]
  float v198; // [rsp+180h] [rbp+78h]
  float v199; // [rsp+184h] [rbp+7Ch]
  float v200; // [rsp+188h] [rbp+80h]
  float v201; // [rsp+18Ch] [rbp+84h]
  float v202; // [rsp+190h] [rbp+88h]
  int v203; // [rsp+194h] [rbp+8Ch]
  int v204; // [rsp+198h] [rbp+90h]
  __int16 v205; // [rsp+19Ch] [rbp+94h]
  __int16 v206; // [rsp+19Eh] [rbp+96h]
  unsigned int v207; // [rsp+1A0h] [rbp+98h]
  float v208; // [rsp+1A4h] [rbp+9Ch]
  float v209; // [rsp+1A8h] [rbp+A0h]
  float v210; // [rsp+1ACh] [rbp+A4h]
  __int64 v211; // [rsp+1B0h] [rbp+A8h]
  char v212; // [rsp+1B8h] [rbp+B0h]
  float v213; // [rsp+1BCh] [rbp+B4h]
  __int64 v214; // [rsp+1C0h] [rbp+B8h]
  __int64 v215; // [rsp+1C8h] [rbp+C0h]
  __int128 v216; // [rsp+1E8h] [rbp+E0h]
  __int128 v217; // [rsp+1F8h] [rbp+F0h]
  __int128 v218; // [rsp+208h] [rbp+100h]
  __int128 v219; // [rsp+218h] [rbp+110h]
  __int128 v220; // [rsp+228h] [rbp+120h]
  __int128 v221; // [rsp+238h] [rbp+130h]
  __int128 v222; // [rsp+248h] [rbp+140h]
  __int128 v223; // [rsp+258h] [rbp+150h]
  __int128 v224; // [rsp+268h] [rbp+160h]
  __int128 v225; // [rsp+278h] [rbp+170h]

  v225 = v6;
  v224 = v7;
  v223 = v8;
  v222 = v9;
  v221 = v10;
  v220 = v11;
  v219 = v12;
  v218 = v13;
  v217 = v14;
  v216 = v15;
  v16 = *(_QWORD *)(Parameter + 0x2C0);
  v18 = a5;
  v167 = v5;
  v19 = (int)a3;
  v21 = *(float *)(v16 + 0x214);
  v22 = (__m128)*(unsigned int *)(v16 + 0x20C);
  v22.m128_f32[0] = *(float *)(v16 + 0x20C) * *(float *)(v16 + 0x20C);
  v23 = *(float *)(v16 + 0x210) * *(float *)(v16 + 0x210);
  v173 = (int)a3 + 0x801LL * a5;
  v24 = SLODWORD(qword_1513BFEA0[v173 + 0x400]);
  v22.m128_f32[0] = (float)(v22.m128_f32[0] + v23) + (float)(v21 * v21);
  v25 = 8 * v24;
  v26 = _mm_sqrt_ps(_mm_shuffle_ps(v22, v22, 0));
  v27 = **(_QWORD **)(8 * v24 + *(_QWORD *)(Parameter + 0x238));
  (*(void (__fastcall **)(__int64, char *, __int64, __int64))(*(_QWORD *)v27 + 0x30LL))(v27, v177, a3, n0x80000);
  v28 = *(_QWORD *)(Parameter + 0x230);
  v24 *= 0x20;
  v29 = *(float **)(v25 + *(_QWORD *)(Parameter + 0x238));
  v30 = *(unsigned int *)(v28 + v24 + 4);
  v31 = *(float *)(v28 + v24 + 8);
  v32 = *(float *)(v28 + v24 + 0xC);
  v33 = v29[0xF];
  v34 = v29[0xE];
  v35 = v29[0xD];
  v36 = *(float *)(v28 + v24);
  v37 = *(float *)(v28 + v24 + 0x1C);
  v38 = v30;
  *(float *)&v38 = (float)((float)(*(float *)&v30 * v33) - (float)(v31 * v34)) + (float)(v35 * v32);
  v39 = v38;
  v40 = LODWORD(v35);
  *(float *)&v40 = (float)((float)(v35 * v31) - (float)(v36 * v33)) + (float)(v32 * v34);
  v41 = v40;
  v42 = LODWORD(v36);
  v43 = (float)((float)(v36 * v34) - (float)(v35 * *(float *)&v30)) + (float)(v32 * v33);
  *(float *)&v42 = (float)(v43 * *(float *)&v30) - (float)(*(float *)&v41 * v31);
  v44 = v42;
  v45 = *(float *)&v39 * *(float *)&v30;
  LODWORD(v30) = *(_DWORD *)(Parameter + 0x3DC);
  v46 = v39;
  *(float *)&v46 = *(float *)&v39 * v31;
  v47 = *(float *)(Parameter + 0x3E0);
  *(float *)&v46 = *(float *)&v46 - (float)(v43 * v36);
  v48 = v46;
  v49 = v41;
  *(float *)&v49 = (float)(*(float *)&v41 * v36) - v45;
  v50 = v49;
  v51 = v44;
  *(float *)&v51 = (float)((float)((float)(*(float *)&v44 + v35) + *(float *)&v44) * v37) + *(float *)(v28 + v24 + 0x10);
  v52 = v51;
  v53 = v48;
  *(float *)&v53 = (float)(*(float *)&v48 + v34) + *(float *)&v48;
  LODWORD(v48) = *(_DWORD *)(Parameter + 0x3E4);
  *(float *)&v53 = (float)(*(float *)&v53 * v37) + *(float *)(v28 + v24 + 0x14);
  v54 = v53;
  v55 = v50;
  *(float *)&v55 = (float)((float)((float)(*(float *)&v50 + v33) + *(float *)&v50) * v37) + *(float *)(v28 + v24 + 0x18);
  v56 = v55;
  v57 = *(float *)(Parameter + 0x3D8);
  *(float *)&v39 = (float)((float)(*(float *)&v55 * *(float *)&v30) - (float)(*(float *)&v54 * v47))
                 + (float)(*(float *)&v52 * *(float *)&v48);
  *(float *)&v41 = (float)((float)(*(float *)&v52 * v47) - (float)(*(float *)&v55 * v57))
                 + (float)(*(float *)&v54 * *(float *)&v48);
  *(float *)&v48 = (float)((float)(*(float *)&v54 * v57) - (float)(*(float *)&v52 * *(float *)&v30))
                 + (float)(*(float *)&v55 * *(float *)&v48);
  *(float *)&v44 = (float)(*(float *)&v30 * *(float *)&v48) - (float)(v47 * *(float *)&v41);
  *((_QWORD *)&v55 + 1) = *((_QWORD *)&v52 + 1);
  *(float *)&v48 = (float)(v47 * *(float *)&v39) - (float)(v57 * *(float *)&v48);
  *(double *)&v55 = (float)((float)(*(float *)&v52 + *(float *)&v44) + *(float *)&v44)
                  + *(double *)(Parameter + 0x3C0)
                  - *(double *)(Parameter + 0x628);
  _XMM0 = v55;
  __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
  v174 = *(float *)&_XMM1;
  *((_QWORD *)&v55 + 1) = *((_QWORD *)&v54 + 1);
  *(float *)&v55 = *(float *)&v54 + *(float *)&v48;
  v60 = COERCE_UNSIGNED_INT64(*(float *)&_XMM1);
  *(double *)&v55 = (float)(*(float *)&v55 + *(float *)&v48)
                  + *(double *)(Parameter + 0x3C8)
                  - *(double *)(Parameter + 0x630);
  _XMM2 = v55;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  *((_QWORD *)&v55 + 1) = *((_QWORD *)&v56 + 1);
  *(double *)&v55 = (float)((float)(*(float *)&v56
                                  + (float)((float)(v57 * *(float *)&v41) - (float)(*(float *)&v30 * *(float *)&v39)))
                          + (float)((float)(v57 * *(float *)&v41) - (float)(*(float *)&v30 * *(float *)&v39)))
                  + *(double *)(Parameter + 0x3D0)
                  - *(double *)(Parameter + 0x638);
  _XMM1 = v55;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  v65 = 0xC0 * v19;
  v172 = *(float *)&_XMM0;
  v169 = *(float *)&_XMM2;
  *(double *)&v52 = *(float *)(0xC0 * v19 + a2 + 0x74);
  v66 = *(float *)(0xC0 * v19 + a2 + 0x70);
  *(double *)&v39 = *(double *)&v52 * *(float *)&_XMM0 - v66 * *(float *)&_XMM2;
  *(double *)&v55 = *(float *)(0xC0 * v19 + a2 + 0x6C);
  *(double *)&v48 = *(double *)&v55 * *(float *)&_XMM2 - *(double *)&v52 * *(double *)&v60;
  *(double *)&v44 = v66 * *(double *)&v60 - *(double *)&v55 * *(float *)&_XMM0;
  v67 = *(double *)&v48 * *(double *)(Parameter + 0x5B8)
      + *(double *)&v39 * *(double *)(Parameter + 0x5B0)
      + *(double *)&v44 * *(double *)(Parameter + 0x5C0);
  *(double *)&v41 = *(double *)&v48 * *(double *)(Parameter + 0x5D0)
                  + *(double *)&v39 * *(double *)(Parameter + 0x5C8)
                  + *(double *)&v44 * *(double *)(Parameter + 0x5D8);
  v68 = v173;
  *(double *)&v44 = *(double *)&v48 * *(double *)(Parameter + 0x5E8)
                  + *(double *)&v39 * *(double *)(Parameter + 0x5E0)
                  + *(double *)&v44 * *(double *)(Parameter + 0x5F0);
  *(double *)&v48 = (*(double *)&v44 * *(double *)&v60 - v67 * *(float *)&_XMM2) * v66;
  v69 = COERCE_UNSIGNED_INT64(*(float *)&_XMM0);
  v70 = v179;
  v168 = v180;
  _XMM0 = COERCE_UNSIGNED_INT64(
            1.0
          / (*(double *)&v48
           + (*(double *)&v41 * *(float *)&_XMM2 - *(double *)&v44 * *(double *)&v69) * *(double *)&v55
           + (v67 * *(double *)&v69 - *(double *)&v41 * *(double *)&v60) * *(double *)&v52
           + *(double *)(Parameter + 0x6B8)));
  __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
  *((_QWORD *)&v55 + 1) = _XMM10.m128_u64[1];
  *(float *)&v55 = (float)(_XMM10.m128_f32[0]
                         * *(float *)(*(_QWORD *)(Parameter + 0x258)
                                    + 0x18LL * SLODWORD(qword_1513BFEA0[v173 + 0x400])
                                    + 0xC))
                 * _mm_shuffle_ps(v26, v26, 0xFF).m128_f32[0];
  v73 = v178;
  v171 = *(float *)&v55 / (float)((float)((float)(v179 + v178) + v180) * v37);
  *(double *)&v55 = v171 * *(double *)(0xC0 * v19 + a2);
  _XMM0 = v55;
  v175[0] = *(double *)(0xC0 * v19 + a2 + 0x6C);
  __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
  _XMM8 = COERCE_UNSIGNED_INT64((float)(*(float *)v175 * *(float *)&_XMM3));
  v78 = _mm_shuffle_ps((__m128)*(unsigned __int64 *)&v175[0], (__m128)*(unsigned __int64 *)&v175[0], 0x55);
  v78.m128_f32[0] = v78.m128_f32[0] * *(float *)&_XMM3;
  v77 = v78;
  v79 = *(unsigned int *)(0xC0 * v19 + a2 + 0x74);
  *(double *)&v79 = (float)(*(float *)(0xC0 * v19 + a2 + 0x74) * *(float *)&_XMM3);
  _XMM6 = v79;
  *((_QWORD *)&v79 + 1) = v77.m128_u64[1];
  *(double *)&v79 = v77.m128_f32[0];
  _XMM7 = v79;
  __asm { vcvtsd2ss xmm0, xmm8, xmm8 }
  *(float *)(Parameter + 0x868) = *(float *)&_XMM0 + *(float *)(Parameter + 0x868);
  __asm { vcvtsd2ss xmm2, xmm7, xmm7 }
  *(float *)(Parameter + 0x86C) = *(float *)&_XMM2 + *(float *)(Parameter + 0x86C);
  __asm { vcvtsd2ss xmm1, xmm6, xmm6 }
  *(float *)(Parameter + 0x870) = *(float *)&_XMM1 + *(float *)(Parameter + 0x870);
  v85 = *(unsigned __int64 *)&v169;
  *((_QWORD *)&v79 + 1) = *((_QWORD *)&v69 + 1);
  *(double *)&v79 = *(double *)&v69 * *(double *)&_XMM6 - v169 * *(double *)&_XMM7;
  _XMM1 = v79;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(float *)(Parameter + 0x874) = *(float *)&_XMM2 + *(float *)(Parameter + 0x874);
  *((_QWORD *)&v79 + 1) = *((_QWORD *)&v85 + 1);
  *(double *)&v79 = *(double *)&v85 * *(double *)&_XMM8 - *(double *)&v60 * *(double *)&_XMM6;
  _XMM1 = v79;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(float *)(Parameter + 0x878) = *(float *)&_XMM2 + *(float *)(Parameter + 0x878);
  *((_QWORD *)&v79 + 1) = *((_QWORD *)&v60 + 1);
  *(double *)&v79 = *(double *)&v60 * *(double *)&_XMM7 - *(double *)&v69 * *(double *)&_XMM8;
  _XMM1 = v79;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(float *)(Parameter + 0x87C) = *(float *)&_XMM2 + *(float *)(Parameter + 0x87C);
  *(double *)&v44 = *(float *)(Parameter + 0x684);
  *(double *)&v48 = *(float *)(Parameter + 0x680);
  v92 = *(double *)&v44 * *(double *)&v85
      - *(float *)(Parameter + 0x688) * *(double *)&v69
      + *(float *)(Parameter + 0x68C);
  v93 = *(float *)(Parameter + 0x688) * *(double *)&v60
      - *(double *)&v48 * *(double *)&v85
      + *(float *)(Parameter + 0x690);
  v94 = 0;
  v95 = *(double *)&v48 * *(double *)&v69 - *(double *)&v44 * *(double *)&v60 + *(float *)(Parameter + 0x694);
  if ( *(float *)(Parameter + 0x860) <= 3.0 )
  {
    v110 = v167;
    v111 = _XMM10;
    v111.m128_f32[0] = _XMM10.m128_f32[0] * v171;
    v112 = _mm_sqrt_ps(_mm_shuffle_ps(v111, v111, 0));
    v113 = _mm_shuffle_ps(v112, v112, 0xFF);
    v111.m128_u64[1] = v113.m128_u64[1];
    *(double *)v111.m128_u64 = (float)((float)(v113.m128_f32[0] * -2.0) * v167);
    v114 = v111;
    *(double *)v111.m128_u64 = *(double *)v111.m128_u64 * v93;
    _XMM9 = v111;
    v111.m128_u64[1] = v114.m128_u64[1];
    *(double *)v111.m128_u64 = *(double *)v114.m128_u64 * v95;
    _XMM8 = v111;
    v111.m128_u64[1] = v114.m128_u64[1];
    *(double *)v111.m128_u64 = *(double *)v114.m128_u64 * v92;
    _XMM10 = v111;
    __asm { vcvtsd2ss xmm0, xmm10, xmm10 }
    *(double *)(Parameter + 0x760) = *(float *)&_XMM0 + *(double *)(Parameter + 0x760);
    __asm { vcvtsd2ss xmm0, xmm9, xmm9 }
    *(double *)(Parameter + 0x768) = *(float *)&_XMM0 + *(double *)(Parameter + 0x768);
    __asm { vcvtsd2ss xmm0, xmm8, xmm8 }
    v111.m128_u64[1] = _XMM8.m128_u64[1];
    *(double *)v111.m128_u64 = *(double *)_XMM8.m128_u64 * v172;
    *(double *)(Parameter + 0x770) = *(float *)&_XMM0 + *(double *)(Parameter + 0x770);
    _XMM5 = *(_OWORD *)(Parameter + 0x668);
    v122 = (float)(v167 * 3.5);
    v176 = *(double *)(Parameter + 0x678);
    *(double *)v111.m128_u64 = *(double *)v111.m128_u64
                             - *(double *)&v85 * *(double *)_XMM9.m128_u64
                             - *(double *)&_XMM5 * v122;
    _XMM1 = v111;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(double *)_XMM1.m128_u64 = *(double *)_XMM8.m128_u64 * v174;
    *(double *)(Parameter + 0x778) = *(float *)&_XMM2 + *(double *)(Parameter + 0x778);
    v111.m128_u64[1] = *((_QWORD *)&v85 + 1);
    __asm { vunpckhpd xmm5, xmm5, xmm5 }
    *(double *)v111.m128_u64 = *(double *)&v85 * *(double *)_XMM10.m128_u64
                             - *(double *)_XMM1.m128_u64
                             - *(double *)&_XMM5 * v122;
    _XMM1 = v111;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(double *)_XMM1.m128_u64 = *(double *)_XMM10.m128_u64 * v172;
    v111.m128_u64[1] = _XMM9.m128_u64[1];
    *(double *)v111.m128_u64 = *(double *)_XMM9.m128_u64 * v174;
    *(double *)(Parameter + 0x780) = *(float *)&_XMM2 + *(double *)(Parameter + 0x780);
    *(double *)v111.m128_u64 = *(double *)v111.m128_u64 - *(double *)_XMM1.m128_u64 - v122 * v176;
    _XMM1 = v111;
    __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
    *(double *)(Parameter + 0x788) = *(float *)&_XMM3 + *(double *)(Parameter + 0x788);
    v109 = v168;
  }
  else
  {
    v96 = 0;
    if ( *(int *)(v65 + a2 + 0xB0) <= 0 )
    {
      v109 = v168;
    }
    else
    {
      v97 = 0;
      do
      {
        v98 = *(_DWORD *)(v65 + a2 + 0x70);
        v99 = *(_DWORD *)(v65 + a2 + 0x74);
        *(float *)(v65 + a2 + 0x60) = COERCE_FLOAT(*(_DWORD *)(v65 + a2 + 0x6C) ^ 0x80000000);
        *(float *)(v65 + a2 + 0x64) = COERCE_FLOAT(v98 ^ 0x80000000);
        *(float *)(v65 + a2 + 0x68) = COERCE_FLOAT(v99 ^ 0x80000000);
        v100 = *(_QWORD *)(v65 + a2 + 8);
        v101 = *(_DWORD *)(v65 + a2 + 0x98);
        v102 = *(_DWORD *)(v65 + a2 + 0x90);
        v103 = *(_DWORD *)(v65 + a2 + 0x94);
        v104 = *(float *)(v97 + v100 + 4);
        v105 = *(_DWORD *)(v65 + a2 + 0x8C);
        v175[0] = *(float *)(v97 + v100) + *(double *)(v65 + a2 + 0x10);
        v106 = v104 + *(double *)(v65 + a2 + 0x18);
        v107 = *(float *)(v97 + v100 + 8) + *(double *)(v65 + a2 + 0x20);
        v169 = 0.0;
        v170 = 0.0;
        v175[1] = v106;
        v176 = v107;
        v108 = CRigidEntity::RegisterContactPoint(
                 Parameter,
                 v19,
                 (unsigned int)v175,
                 a2,
                 v105,
                 v103,
                 v102,
                 v101,
                 0x40,
                 0x3A83126F,
                 a5,
                 (unsigned int)&v169);
        if ( v108 )
        {
          *(_QWORD *)(v108 + 0x88) = 0;
          *(_DWORD *)(v108 + 0x84) = 0;
        }
        ++v96;
        *(_QWORD *)(Parameter + 0x86C) = 0;
        v97 += 0xC;
        *(_DWORD *)(Parameter + 0x868) = 0;
        *(_QWORD *)(Parameter + 0x878) = 0;
        *(_DWORD *)(Parameter + 0x874) = 0;
      }
      while ( v96 < *(_DWORD *)(v65 + a2 + 0xB0) );
      v109 = v180;
      v70 = v179;
      v73 = v178;
      v68 = v173;
    }
    v18 = a5;
    v110 = v167;
  }
  v130 = *(double *)(v65 + a2);
  *(_BYTE *)(Parameter + 0x864) |= 1u;
  v169 = v130 - (float)((float)((float)(v70 + v73) + v109) * 0.02);
  v131 = 0;
  *(float *)&v131 = (float)((float)(int)((*(__int64 *)&v169 >> 0x3F) + 1 + ((*(_QWORD *)&v169 - 1LL) >> 0x3F)) * v110)
                  + *(float *)(Parameter + 0x860);
  _XMM2 = v131;
  v133 = (*(_DWORD *)(Parameter + 0x208) & 0x2000000) == 0;
  __asm
  {
    vmaxss  xmm3, xmm2, xmm11
    vminss  xmm1, xmm3, xmm0
  }
  *(float *)(Parameter + 0x860) = *(float *)&_XMM1;
  if ( !v133 && *(_DWORD *)(Parameter + 0x4B4)
    || (result = *(_QWORD *)(Parameter + 0x240),
        (*(_QWORD *)(result + 8LL * SLODWORD(qword_1513BFEA0[v68 + 0x400])) & 0x2000000000LL) != 0) )
  {
    v137 = qword_1513BFEA0[v68];
    v138 = Parameter | (*(_QWORD *)(Parameter + 8) << 0x30);
    v181 = 0;
    n0x1E = 0x1E;
    n2 = 2;
    v211 = 0;
    v207 = 0xFFFFFFFF;
    v212 = 0;
    v214 = 0;
    v215 = 0;
    v184 = v138;
    v213 = 1000.0;
    if ( v137 )
      v94 = v137 | (*(_QWORD *)(v137 + 8) << 0x30);
    v139 = *(__m256 *)(v65 + a2 + 0x48);
    v140 = *(_QWORD *)(Parameter + 0x2C0);
    v186 = *(_QWORD *)(Parameter + 0xC0);
    v188 = *(__int16 *)(Parameter + 0xEC);
    v190 = *(__int16 *)(Parameter + 0xEE);
    v185 = v94;
    v187 = *(_QWORD *)(v137 + 0xC0);
    v189 = *(__int16 *)(v137 + 0xEC);
    v191 = *(__int16 *)(v137 + 0xEE);
    v194 = *(_DWORD *)(v65 + a2 + 0x68);
    v193 = v139;
    __asm { vzeroupper }
    v141 = sub_14691AF30(v140, v137);
    _XMM0 = *(unsigned __int64 *)(Parameter + 0x6B0);
    v192 = v141;
    __asm { vcvtpd2ps xmm0, xmm0 }
    v203 = *(_DWORD *)(*(_QWORD *)(Parameter + 0x250) + 4LL * SLODWORD(qword_1513BFEA0[v68 + 0x400]));
    v144 = (_QWORD *)qword_1513BFEA0[v68];
    v204 = *(_DWORD *)(v144[0x4A] + 4LL * SHIDWORD(qword_1513BFEA0[0x801 * v18 + 0x400 + v19]));
    v201 = *(float *)&_XMM0;
    v205 = *(_WORD *)(0xC0 * v19 + a2 + 0x84);
    v206 = *(_WORD *)(0xC0 * v19 + a2 + 0x88);
    *(float *)&_XMM0 = (*(float (__fastcall **)(_QWORD *))(*v144 + 0x2B0LL))(v144);
    v145 = *(double *)(v65 + a2 + 0x50) - *(double *)(Parameter + 0x630);
    v146 = *(unsigned int *)(Parameter + 0x684);
    v147 = *(unsigned int *)(Parameter + 0x688);
    v148 = *(unsigned int *)(Parameter + 0x680);
    v202 = *(float *)&_XMM0;
    v149 = *(double *)(v65 + a2 + 0x48) - *(double *)(Parameter + 0x628);
    v150 = *(double *)(v65 + a2 + 0x58) - *(double *)(Parameter + 0x638);
    *((_QWORD *)&v151 + 1) = *((_QWORD *)&v146 + 1);
    *(double *)&v146 = *(float *)&v146;
    *(double *)&v151 = *(double *)&v146 * v150;
    v152 = v151;
    *((_QWORD *)&v151 + 1) = *((_QWORD *)&v147 + 1);
    *(double *)&v151 = *(float *)&v147;
    v153 = v151;
    *((_QWORD *)&v151 + 1) = *((_QWORD *)&v152 + 1);
    *(double *)&v151 = *(double *)&v152 - *(double *)&v151 * v145;
    _XMM1 = v151;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v156 = *(float *)&_XMM2 + *(float *)(Parameter + 0x68C);
    *((_QWORD *)&v151 + 1) = *((_QWORD *)&v153 + 1);
    *(double *)&v151 = *(double *)&v153 * v149;
    v157 = v151;
    *((_QWORD *)&v151 + 1) = *((_QWORD *)&v148 + 1);
    *(double *)&v151 = *(float *)&v148;
    v158 = v151;
    *((_QWORD *)&v151 + 1) = *((_QWORD *)&v157 + 1);
    *(double *)&v151 = *(double *)&v157 - *(double *)&v151 * v150;
    _XMM1 = v151;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((_QWORD *)&v151 + 1) = *((_QWORD *)&v158 + 1);
    v195 = v156;
    v161 = *(float *)&_XMM2 + *(float *)(Parameter + 0x690);
    *(double *)&v151 = *(double *)&v158 * v145 - *(double *)&v146 * v149;
    _XMM1 = v151;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v196 = v161;
    v197 = *(float *)&_XMM2 + *(float *)(Parameter + 0x694);
    v164 = *(_QWORD *)(Parameter + 0x2C0);
    v200 = 0.0;
    v199 = 0.0;
    _XMM0 = *(unsigned __int64 *)(0xC0 * v19 + a2);
    __asm { vcvtpd2ps xmm0, xmm0 }
    v208 = *(float *)&_XMM0;
    v198 = 0.0;
    v209 = 0.0;
    v210 = 0.0;
    return sub_14670C340(v164, 0x2000000, &v181, 0);
  }
  return result;
}

// --- End Function: sub_1467C90E0 (0x1467C90E0) ---

// --- Function: sub_1467CF990 (0x1467CF990) ---
unsigned __int64 __fastcall sub_1467CF990(
        __int64 a1,
        __int64 a2,
        __int64 a3,
        signed int a4,
        __int64 *a5,
        signed int a6,
        int a7,
        unsigned int a8)
{
  __int64 v9; // rcx
  unsigned int n0x40; // edi
  unsigned __int64 n0x40_2; // rax
  __int64 *v12; // r15
  char *v13; // r13
  const void *v14; // r12
  unsigned __int64 v15; // rbx
  __int64 v16; // rax
  bool v17; // cf
  unsigned __int64 allocSize; // rax
  _QWORD *v19; // rax
  void *v20; // rsi
  void *v21; // rax
  __int64 v22; // rbx
  char *i; // rsi
  int v24; // eax
  __int64 v25; // rsi
  unsigned int v28; // r8d
  unsigned int v29; // r9d
  unsigned int v30; // edx
  unsigned int v31; // r8d
  __int16 v32; // ax
  double *v33; // rax
  __int64 v34; // r13
  __int128 v35; // xmm1
  double v36; // xmm0_8
  __int64 v37; // rax
  double *v38; // rax
  __int128 v39; // xmm1
  double v40; // xmm0_8
  __int64 v41; // rax
  __int64 v42; // rax
  __int64 v43; // rax
  __int64 v44; // rax
  __int64 v45; // rax
  __int64 v46; // rcx
  __int64 v47; // rcx
  __int64 v48; // rcx
  int n0x40_1; // [rsp+20h] [rbp-68h]
  double v50[4]; // [rsp+30h] [rbp-58h] BYREF

  v9 = *(_QWORD *)(a1 + 0x500);
  n0x40 = 0;
  while ( _bittest64(&v9, n0x40) )
  {
    if ( (int)++n0x40 >= 0x40 )
    {
      if ( n0x40 == 0x40 )
        return 0xFFFFFFFFFFFFFFFFuLL;
      break;
    }
  }
  v12 = &qword_1514522C0;
  if ( a5 )
    v12 = a5;
  n0x40_1 = *(_DWORD *)(a1 + 0x4F8);
  if ( (int)n0x40 >= n0x40_1 )
  {
    v13 = *(char **)(a1 + 0x4E8);
    v14 = *(const void **)(a1 + 0x4F0);
    v15 = (int)(n0x40 & 0xFFFFFFF8) + 8LL;
    *(_DWORD *)(a1 + 0x4F8) = (n0x40 & 0xFFFFFFF8) + 8;
    v16 = 0x108 * v15;
    if ( !is_mul_ok(v15, 0x108u) )
      v16 = 0xFFFFFFFFFFFFFFFFuLL;
    v17 = __CFADD__(v16, 8);
    allocSize = v16 + 8;
    if ( v17 )
      allocSize = 0xFFFFFFFFFFFFFFFFuLL;
    v19 = (_QWORD *)allocWithProfilerInfo_w(allocSize);
    if ( v19 )
    {
      *v19 = v15;
      v20 = v19 + 1;
      if ( (n0x40 & 0xFFFFFFF8) != (__int64)0xFFFFFFFFFFFFFFF8uLL )
        memset(v19 + 1, 0, 0x108 * v15);
    }
    else
    {
      v20 = 0;
    }
    *(_QWORD *)(a1 + 0x4E8) = v20;
    memcpy(v20, v13, 0x108LL * n0x40_1);
    v21 = (void *)allocWithProfilerInfo_w(saturated_mul(*(int *)(a1 + 0x4F8), 0x100u));
    *(_QWORD *)(a1 + 0x4F0) = v21;
    memcpy(v21, v14, (__int64)n0x40_1 << 8);
    if ( v13 )
    {
      v22 = *((_QWORD *)v13 + 0xFFFFFFFF);
      for ( i = &v13[0x108 * v22]; v22; --v22 )
      {
        i += 0xFFFFFEF8;
        memset(i, 0xFF, 0x108u);
      }
      sub_1402A63C0(v13 + 0xFFFFFFF8);
    }
    if ( v14 )
      sub_1402A63C0(v14);
  }
  v24 = (*(__int64 (__fastcall **)(__int64, __int64 *, _QWORD))(*(_QWORD *)a1 + 0x208LL))(a1, v12, 0);
  *(_QWORD *)(*(_QWORD *)(a1 + 0x4C8) + 8LL * v24) |= 1LL << n0x40;
  v25 = *(_QWORD *)(a1 + 0x4E8) + 0x108LL * (int)n0x40;
  *(_QWORD *)(a1 + 0x500) |= 1LL << n0x40;
  _XMM2 = 0;
  *(_OWORD *)(v25 + 0x40) = *(_OWORD *)a2;
  *(double *)(v25 + 0x50) = *(double *)(a2 + 0x10);
  *(_OWORD *)(v25 + 0x58) = *(_OWORD *)a3;
  *(double *)(v25 + 0x68) = *(double *)(a3 + 0x10);
  *(_QWORD *)(v25 + 0x84) = 0;
  *(_DWORD *)(v25 + 0x8C) = 0x3F800000;
  *(_DWORD *)(v25 + 0xFC) &= 0xFFFFFFFC;
  *(_QWORD *)(v25 + 0x18) = a1;
  *(_QWORD *)(v25 + 0x20) = v12;
  __asm { vunpcklps xmm0, xmm2, xmm2 }
  *(double *)(v25 + 0x70) = *(double *)&_XMM0;
  *(float *)(v25 + 0x78) = 0x3F800000;
  v28 = a4 | *(_DWORD *)(v25 + 0x7C) & 0xFFFF0000;
  *(_DWORD *)(v25 + 0x7C) = v28;
  if ( a4 <= (int)0xFFFFFFFF )
    v29 = 0xFFFFFFFF;
  else
    v29 = *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4LL * a4);
  v30 = v29 | *(_DWORD *)(v25 + 0x80) & 0xFFFF0000;
  *(_DWORD *)(v25 + 0x80) = v30;
  *(_DWORD *)(v25 + 0x7C) = (a6 << 0x10) | (unsigned __int16)v28;
  if ( a6 <= (int)0xFFFFFFFF || v12 == &qword_1514522C0 )
    v31 = 0xFFFFFFFF;
  else
    v31 = *(_DWORD *)(v12[0x4A] + 4LL * a6);
  *(_DWORD *)(v25 + 0x80) = (v31 << 0x10) | (unsigned __int16)v30;
  *(_QWORD *)(v25 + 0x28) = (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x2A0LL))(
                              a1,
                              (unsigned int)a4,
                              0);
  *(_QWORD *)(v25 + 0x30) = (*(__int64 (__fastcall **)(__int64 *, _QWORD, _QWORD))(*v12 + 0x2A0))(
                              v12,
                              (unsigned int)a6,
                              (unsigned int)-((int)((a8 & 0x100) - 1) >> 0x1F));
  *(_DWORD *)(v25 + 0x94) = a7;
  v32 = *(_WORD *)(v25 + 0x102);
  *(_QWORD *)(v25 + 0xA4) = 0;
  *(_DWORD *)(v25 + 0xA0) = 0;
  *(_QWORD *)(v25 + 0xCC) = 0;
  *(_QWORD *)(v25 + 0x98) = 0;
  *(_DWORD *)(v25 + 0x90) = 0;
  *(_WORD *)(v25 + 0x102) = v32 ^ (v32 ^ (n0x40 + 1)) & 0x3FFF | 0x4000;
  *(_QWORD *)(v25 + 0xC4) = 0x7F7FFFFF;
  *(_DWORD *)(v25 + 0xB0) = 0xFF7FFFFF;
  *(_DWORD *)(v25 + 0xB4) = 0xFF7FFFFF;
  *(_DWORD *)(v25 + 0xB8) = 0xFF7FFFFF;
  *(_DWORD *)(v25 + 0xBC) = 0x7F7FFFFF;
  *(_DWORD *)(v25 + 0xC0) = 0x7F7FFFFF;
  *(_DWORD *)(v25 + 0xAC) = 0;
  v33 = sub_1467C3B90(v50, v25, 0);
  v34 = (__int64)(int)n0x40 << 8;
  v35 = *(_OWORD *)v33;
  v36 = v33[2];
  v37 = *(_QWORD *)(a1 + 0x4F0);
  *(_OWORD *)(v37 + v34 + 0x30) = v35;
  *(double *)(v37 + v34 + 0x40) = v36;
  v38 = sub_1467C3B90(v50, v25, 1);
  v39 = *(_OWORD *)v38;
  v40 = v38[2];
  v41 = *(_QWORD *)(a1 + 0x4F0);
  *(_OWORD *)(v41 + v34 + 0x48) = v39;
  *(double *)(v41 + v34 + 0x58) = v40;
  *(_QWORD *)(*(_QWORD *)(a1 + 0x4F0) + v34 + 0x68) = a8;
  *(_QWORD *)(*(_QWORD *)(a1 + 0x4F0) + v34) = 0;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v34 + 0x74) = 0;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v34 + 0x70) = 0x3D4CCCCD;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v34 + 0x98) = 0;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v34 + 0x9C) = 0xFFBFFFFF;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v34 + 0xA0) = 0;
  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v34 + 0xA4) = 0xFFFFFFFF;
  v42 = *(_QWORD *)(a1 + 0x4F0);
  *(_QWORD *)(v42 + v34 + 0xA8) = 0;
  *(_DWORD *)(v42 + v34 + 0xB0) = 0;
  LODWORD(v40) = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0xF0LL);
  v43 = *(_QWORD *)(a1 + 0x4F0);
  *(float *)(v43 + v34 + 0xB4) = *(float *)&v40;
  *(float *)(v43 + v34 + 0xB8) = *(float *)&v40;
  *(float *)(v43 + v34 + 0xBC) = *(float *)&v40;
  LODWORD(v39) = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0xECLL);
  v44 = *(_QWORD *)(a1 + 0x4F0);
  *(float *)(v44 + v34 + 0xC0) = *(float *)&v39;
  *(float *)(v44 + v34 + 0xC4) = *(float *)&v39;
  *(float *)(v44 + v34 + 0xC8) = *(float *)&v39;
  LODWORD(v40) = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0xF0LL);
  v45 = *(_QWORD *)(a1 + 0x4F0);
  *(float *)(v45 + v34 + 0xCC) = *(float *)&v40;
  *(float *)(v45 + v34 + 0xD0) = *(float *)&v40;
  *(float *)(v45 + v34 + 0xD4) = *(float *)&v40;
  v46 = *(_QWORD *)(a1 + 0x4F0);
  LODWORD(v39) = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0xECLL);
  *(float *)(v46 + v34 + 0xD8) = *(float *)&v39;
  *(float *)(v46 + v34 + 0xDC) = *(float *)&v39;
  *(float *)(v46 + v34 + 0xE0) = *(float *)&v39;
  v47 = *(_QWORD *)(a1 + 0x4F0);
  n0x40_2 = n0x40;
  *(_QWORD *)(v47 + v34 + 0xE4) = 0;
  *(_DWORD *)(v47 + v34 + 0xEC) = 0;
  v48 = *(_QWORD *)(a1 + 0x4F0);
  *(_QWORD *)(v48 + v34 + 0xF0) = 0;
  *(_DWORD *)(v48 + v34 + 0xF8) = 0;
  *(_DWORD *)(v48 + v34 + 0xFC) = 0x3F800000;
  return n0x40_2;
}

// --- End Function: sub_1467CF990 (0x1467CF990) ---

// --- Function: CRigidEntity::RegisterContactPoint (0x1467CFFA0) ---
char *__fastcall CRigidEntity::RegisterContactPoint(
        __int64 a1,
        int a2,
        __int64 a3,
        __int64 a4,
        int a5,
        char a6,
        int a7,
        char a8,
        int a9,
        float a10,
        int a11,
        __int64 a12)
{
  __int128 v12; // xmm6
  __int128 v13; // xmm7
  __int128 v14; // xmm8
  __int128 v15; // xmm9
  __int128 v16; // xmm10
  __int128 v17; // xmm11
  __int128 v18; // xmm12
  __int128 v19; // xmm13
  __int128 v20; // xmm14
  __int128 v21; // xmm15
  char *v22; // r14
  __int64 v25; // rbx
  __int64 v26; // rdi
  __int64 v27; // r13
  __int64 v28; // rax
  __int64 v29; // r11
  __int64 v30; // r8
  __int64 v31; // r10
  float v34; // xmm7_4
  volatile signed __int64 *v43; // rbx
  __int64 v44; // rax
  char *v45; // rcx
  char *v46; // r8
  char *v47; // rsi
  __int64 v48; // rdx
  double v49; // xmm2_8
  double v50; // xmm4_8
  int v51; // eax
  float v52; // xmm7_4
  unsigned __int64 n0x200000; // rax
  float v54; // xmm0_4
  unsigned __int64 n0x200000_1; // rax
  double v56; // xmm1_8
  __int64 v57; // rdi
  int v58; // xmm2_4
  unsigned int v59; // eax
  unsigned int v60; // edx
  unsigned int v61; // r9d
  __int64 v62; // rax
  __int16 v63; // cx
  __int16 v64; // dx
  double v67; // xmm2_8
  double v68; // xmm11_8
  double v69; // xmm1_8
  double v70; // xmm10_8
  double v71; // xmm15_8
  __int128 v72; // xmm8
  __int128 v73; // xmm5
  __int128 v74; // xmm14
  __int128 v75; // xmm9
  __int128 v76; // xmm7
  __int128 v77; // xmm13
  double v78; // xmm6_8
  double v79; // xmm12_8
  __int128 v80; // xmm5
  __int128 v81; // kr00_16
  float v84; // xmm4_4
  __int128 v85; // xmm9
  __int128 v86; // xmm7
  float v89; // xmm3_4
  __int128 v92; // xmm1
  __int128 v93; // xmm13
  float v95; // xmm4_4
  float v99; // xmm4_4
  int v102; // ecx
  float v103; // xmm0_4
  __int64 v104; // r9
  __int64 v109; // rdi
  __int64 v110; // rbx
  char v111; // al
  __int64 v112; // rcx
  char v113; // al
  __int64 v114; // rcx
  bool v115; // zf
  int v116; // edx
  __int64 v117; // rax
  __int64 v118; // r8
  int v119; // edx
  int v121; // r12d
  __int64 v122; // r11
  int v123; // ebx
  double v124; // xmm5_8
  double v125; // xmm6_8
  __int128 v126; // xmm7
  __int64 v127; // r9
  __int64 n4; // r8
  __int64 n4_1; // r10
  __int64 v130; // rax
  __int64 v131; // rcx
  __int64 v132; // rax
  unsigned __int64 v133; // rdx
  __int128 v134; // xmm0
  float v135; // xmm2_4
  __int128 v136; // kr00_16
  float *v137; // rdx
  __int64 v138; // r8
  __int128 v139; // xmm0
  __int128 v140; // kr00_16
  int v141; // eax
  __int64 v142; // r11
  double v145; // xmm9_8
  __int64 v146; // r9
  __int128 v148; // kr00_16
  double v149; // xmm8_8
  __int64 n4_2; // r8
  __int64 n4_3; // r10
  __int64 v152; // rax
  double v153; // xmm10_8
  double v154; // xmm12_8
  double v155; // xmm13_8
  float *v156; // rcx
  float *v157; // rax
  unsigned __int64 v158; // rdx
  double v159; // kr00_8
  double v160; // xmm5_8
  __int128 v166; // kr00_16
  double v169; // xmm5_8
  double v177; // xmm5_8
  double v178; // xmm4_8
  __int128 v186; // xmm3
  double v187; // xmm4_8
  double v188; // xmm5_8
  float *v195; // rdx
  __int64 v196; // r8
  __int128 v197; // xmm0
  float v198; // xmm2_4
  __int128 v199; // kr00_16
  double v200; // xmm4_8
  double v207; // xmm1_8
  __int64 v209; // rdi
  double v211; // xmm2_8
  int v212; // r9d
  __int64 v213; // rdx
  __int64 v214; // r8
  __int64 v215; // rcx
  __m128 v216; // xmm2
  __m128 v219; // xmm2
  __int64 v220; // rcx
  __m128 v221; // xmm2
  float v222; // xmm6_4
  float v223; // xmm10_4
  __int64 v224; // rcx
  float v225; // xmm5_4
  __int64 v226; // rax
  __int128 v227; // xmm7
  float v230; // xmm5_4
  __int128 v233; // kr00_16
  float v236; // xmm10_4
  __int128 v237; // kr00_16
  __m128 v240; // xmm1
  __int64 v241; // rax
  float v242; // kr00_4
  __int128 v243; // xmm0
  int v244; // ecx
  __int64 v245; // rax
  __int64 v246; // rdx
  _QWORD *v247; // rcx
  float v253; // kr00_4
  __int64 v255; // rax
  __int128 v257; // kr00_16
  __int128 v260; // kr00_16
  unsigned int v262; // eax
  float v263; // xmm12_4
  float v264; // xmm13_4
  float v265; // xmm11_4
  float *v266; // rcx
  float v267; // xmm9_4
  float v268; // xmm10_4
  float v269; // xmm4_4
  float v270; // xmm8_4
  float v271; // kr00_4
  float v272; // xmm6_4
  float v273; // xmm4_4
  char *v274; // rbx
  int v275; // eax
  char v277; // [rsp+38h] [rbp-D0h]
  __int64 v278; // [rsp+48h] [rbp-C0h]
  __int64 v279; // [rsp+50h] [rbp-B8h]
  int v280; // [rsp+58h] [rbp-B0h]
  __int64 v281; // [rsp+60h] [rbp-A8h]
  __int64 v282; // [rsp+60h] [rbp-A8h]
  __m128 v283; // [rsp+70h] [rbp-98h] BYREF
  double v284; // [rsp+80h] [rbp-88h]
  int v285; // [rsp+88h] [rbp-80h] BYREF
  float v286; // [rsp+8Ch] [rbp-7Ch]
  float v287; // [rsp+90h] [rbp-78h]
  float v288; // [rsp+94h] [rbp-74h]
  unsigned int v289; // [rsp+98h] [rbp-70h]
  __int128 v290; // [rsp+A8h] [rbp-60h]
  __int64 v291; // [rsp+B8h] [rbp-50h]
  int v292; // [rsp+C0h] [rbp-48h]
  unsigned int v293; // [rsp+C4h] [rbp-44h]
  int v294; // [rsp+C8h] [rbp-40h]
  int v295; // [rsp+CCh] [rbp-3Ch]
  int n4_4; // [rsp+D0h] [rbp-38h]
  int v297; // [rsp+D4h] [rbp-34h]
  double v298; // [rsp+D8h] [rbp-30h]
  __int128 v299; // [rsp+E8h] [rbp-20h] BYREF
  __int128 v300; // [rsp+F8h] [rbp-10h]
  __int128 v301; // [rsp+108h] [rbp+0h]
  __int128 v302; // [rsp+118h] [rbp+10h]
  double v303; // [rsp+128h] [rbp+20h]
  int n0x2800; // [rsp+138h] [rbp+30h] BYREF
  __int64 v305; // [rsp+13Ch] [rbp+34h]
  int v306; // [rsp+144h] [rbp+3Ch]
  __int64 v307; // [rsp+148h] [rbp+40h]
  unsigned __int64 v308; // [rsp+150h] [rbp+48h]
  __int64 v309; // [rsp+158h] [rbp+50h]
  __int64 v310; // [rsp+160h] [rbp+58h]
  __m128 v311; // [rsp+188h] [rbp+80h] BYREF
  double v312; // [rsp+198h] [rbp+90h]
  _QWORD v313[3]; // [rsp+1A0h] [rbp+98h]
  __int128 v314; // [rsp+1B8h] [rbp+B0h]
  __int128 v315; // [rsp+1C8h] [rbp+C0h]
  __int128 v316; // [rsp+1D8h] [rbp+D0h]
  __int128 v317; // [rsp+1E8h] [rbp+E0h]
  __int128 v318; // [rsp+1F8h] [rbp+F0h]
  __int128 v319; // [rsp+208h] [rbp+100h]
  __int128 v320; // [rsp+218h] [rbp+110h]
  __int128 v321; // [rsp+228h] [rbp+120h]
  __int128 v322; // [rsp+238h] [rbp+130h]
  char v323; // [rsp+288h] [rbp+180h]

  v322 = v12;
  v321 = v13;
  v22 = 0;
  v320 = v14;
  v319 = v15;
  v318 = v16;
  v317 = v17;
  v316 = v18;
  v315 = v19;
  v314 = v20;
  v25 = a2;
  v280 = 1;
  v307 = 1;
  n0x2800 = 0x2800;
  v305 = 0;
  v306 = 0;
  v308 = 0;
  v309 = 0;
  v310 = 0;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  v26 = v25;
  v278 = v25;
  v281 = 0x801LL * a11;
  v323 = 0;
  v277 = 0;
  v27 = v25 + v281;
  v28 = (*(__int64 (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)qword_1513BFEA0[v27] + 0x2A0LL))(
          qword_1513BFEA0[v27],
          HIDWORD(qword_1513BFEA0[v27 + 0x400]),
          1);
  v29 = qword_1513BFEA0[v25 + v281];
  v30 = SHIDWORD(qword_1513BFEA0[v25 + 0x400 + v281]);
  v279 = v28;
  v31 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * SLODWORD(qword_1513BFEA0[v25 + 0x400 + v281]));
  if ( ((*(_QWORD *)(*(_QWORD *)(v29 + 0x240) + 8 * v30) | v31) & 0x10000000000LL) != 0 )
  {
    v52 = a10;
    v323 = 1;
    v47 = (char *)&unk_15143BFC0 + 0x108 * a11;
LABEL_38:
    *(_OWORD *)(v47 + 0x58) = *(_OWORD *)a3;
    v56 = *(double *)(a3 + 0x10);
    *((double *)v47 + 0xD) = v56;
    *((_OWORD *)v47 + 4) = *(_OWORD *)(v47 + 0x58);
    *((double *)v47 + 0xA) = v56;
    *(_OWORD *)&v313[1] = v21;
    v57 = 0xC0 * v26;
    LODWORD(v56) = *(_DWORD *)(v57 + a4 + 0x64);
    v58 = *(_DWORD *)(v57 + a4 + 0x68);
    *((float *)v47 + 0x1C) = COERCE_FLOAT(*(_DWORD *)(v57 + a4 + 0x60) ^ 0x80000000);
    *((float *)v47 + 0x1D) = COERCE_FLOAT(LODWORD(v56) ^ 0x80000000);
    *((float *)v47 + 0x1E) = COERCE_FLOAT(v58 ^ 0x80000000);
    *((_QWORD *)v47 + 3) = a1;
    *((_QWORD *)v47 + 4) = qword_1513BFEA0[v27];
    v59 = LODWORD(qword_1513BFEA0[v27 + 0x400]) | *((_DWORD *)v47 + 0x1F) & 0xFFFF0000;
    *((_DWORD *)v47 + 0x1F) = v59;
    *((_DWORD *)v47 + 0x1F) = (HIDWORD(qword_1513BFEA0[v27 + 0x400]) << 0x10) | (unsigned __int16)v59;
    if ( (__int64 *)qword_1513BFEA0[v27] == &qword_1514522C0 )
      v60 = 0xFFFFFFFF;
    else
      v60 = *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4LL * SLODWORD(qword_1513BFEA0[v27 + 0x400]));
    v61 = v60 | *((_DWORD *)v47 + 0x20) & 0xFFFF0000;
    *((_DWORD *)v47 + 0x20) = v61;
    *((_DWORD *)v47 + 0x20) = (unsigned __int16)v61
                            | (*(_DWORD *)(*(_QWORD *)(qword_1513BFEA0[v27] + 0x250)
                                         + 4LL * SHIDWORD(qword_1513BFEA0[v27 + 0x400])) << 0x10);
    v62 = (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x2A0LL))(
            a1,
            LODWORD(qword_1513BFEA0[v27 + 0x400]),
            0);
    v63 = *((_WORD *)v47 + 0x81);
    *((_QWORD *)v47 + 5) = v62;
    *((_QWORD *)v47 + 6) = v279;
    v64 = *(_WORD *)(v57 + a4 + 0x90) ^ v63;
    *((float *)v47 + 0x3E) = v52;
    *((_WORD *)v47 + 0x81) = (v63 ^ v64 & 0x3FFF) & 0xBFFF;
    _XMM0 = *(unsigned int *)(v57 + a4 + 0x80);
    __asm { vmaxss  xmm0, xmm0, xmm6 }
    *((float *)v47 + 0x2B) = *(float *)&_XMM0;
    v67 = *((double *)v47 + 8);
    v68 = v67 - *(double *)(v62 + 0x78);
    v69 = *((double *)v47 + 9);
    v70 = v69 - *(double *)(v62 + 0x80);
    v71 = v69 - *(double *)(v279 + 0x80);
    v72 = *(unsigned int *)(v62 + 0xD4);
    v73 = *(unsigned int *)(v62 + 0xD8);
    v74 = *(unsigned int *)(v279 + 0xD4);
    v75 = *(unsigned int *)(v279 + 0xD8);
    v76 = *(unsigned int *)(v62 + 0xD0);
    v77 = *(unsigned int *)(v279 + 0xD0);
    v298 = v67 - *(double *)(v279 + 0x78);
    *(_QWORD *)&_XMM0 = *((_QWORD *)v47 + 0xA);
    v78 = *(double *)&_XMM0 - *(double *)(v62 + 0x88);
    v79 = *(double *)&_XMM0 - *(double *)(v279 + 0x88);
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v73 + 1);
    *(double *)&v81 = *(float *)&v73;
    v80 = v81;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v72 + 1);
    *(double *)&v72 = *(float *)&v72;
    *(double *)&v81 = *(double *)&v72 * v78 - *(double *)&v81 * v70;
    _XMM1 = v81;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v84 = (float)(*(float *)&_XMM2 + *(float *)(v62 + 0xDC)) - *(float *)(v279 + 0xDC);
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v75 + 1);
    *(double *)&v81 = *(float *)&v75;
    v85 = v81;
    *(double *)&_XMM0 = *(double *)&v81 * v71;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v76 + 1);
    *(double *)&v81 = *(float *)&v76;
    v86 = v81;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v74 + 1);
    *(double *)&v74 = *(float *)&v74;
    *(double *)&v81 = *(double *)&v74 * v79 - *(double *)&_XMM0;
    _XMM1 = v81;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v89 = v84 - *(float *)&_XMM2;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v80 + 1);
    *(double *)&v81 = *(double *)&v80 * v68 - *(double *)&v86 * v78;
    _XMM1 = v81;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v85 + 1);
    *(double *)&v81 = *(double *)&v85 * v298;
    v92 = v81;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v77 + 1);
    *(double *)&v81 = *(float *)&v77;
    v93 = v81;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v92 + 1);
    *(double *)&v81 = *(double *)&v92 - *(double *)&v81 * v79;
    _XMM1 = v81;
    v95 = (float)(*(float *)&_XMM2 + *(float *)(v62 + 0xE0)) - *(float *)(v279 + 0xE0);
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v86 + 1);
    *(double *)&v81 = *(double *)&v86 * v70 - *(double *)&v72 * v68;
    _XMM1 = v81;
    *(float *)&v80 = v95 - *(float *)&_XMM2;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v99 = (float)(*(float *)&_XMM2 + *(float *)(v62 + 0xE4)) - *(float *)(v279 + 0xE4);
    LODWORD(v62) = *((_DWORD *)v47 + 0x3F);
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v93 + 1);
    *(double *)&v81 = *(double *)&v93 * v71 - *(double *)&v74 * v298;
    _XMM1 = v81;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((float *)v47 + 0x26) = (float)((float)(v89 * *((float *)v47 + 0x1C))
                                   + (float)(*(float *)&v80 * *((float *)v47 + 0x1D)))
                           + (float)((float)(v99 - *(float *)&_XMM2) * *((float *)v47 + 0x1E));
    v102 = v62 ^ (v62 ^ (4 * *(_DWORD *)(v57 + a4 + 0x84))) & 0x1FFFC;
    *((_DWORD *)v47 + 0x3F) = v102;
    *((_DWORD *)v47 + 0x3F) = (*(_DWORD *)(v57 + a4 + 0x88) << 0x11) | v102 & 0x1FFFF;
    v103 = sub_1467B7990(
             *(_QWORD *)(a1 + 0x2C0),
             *(_DWORD *)(v57 + a4 + 0x84),
             *(_DWORD *)(v57 + a4 + 0x88),
             (float)((float)((float)(v89 * v89) + (float)(*(float *)&v80 * *(float *)&v80))
                   + (float)((float)(v99 - *(float *)&_XMM2) * (float)(v99 - *(float *)&_XMM2))) > (float)((float)(*(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x13CLL) * *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x13CLL)) * 25.0)).m128_f32[0];
    v104 = *((_QWORD *)v47 + 4);
    *((float *)v47 + 0x24) = v103;
    *(float *)&v81 = (float)-(((*(_DWORD *)(*(_QWORD *)(v104 + 0x240) + 8LL * *((__int16 *)v47 + 0x3F)) & 0x800) - 1LL) >> 0x3F);
    *((float *)v47 + 0x24) = *(float *)&v81 * v103;
    _XMM1 = *(unsigned int *)(a1 + 0x584);
    __asm { vmaxss  xmm3, xmm1, xmm2 }
    *((float *)v47 + 0x24) = *(float *)&_XMM3;
    _XMM0 = *(unsigned int *)(*(_QWORD *)(a1 + 0x2C0) + 0x48LL * a11 + 0x836FC);
    *((_DWORD *)v47 + 0x25) = *((_DWORD *)v47 + 0x25) & 0xFFDFFFFF | a9 & 0xFFF7FFFF;
    __asm { vminss  xmm1, xmm0, xmm3 }
    *((float *)v47 + 0x24) = *(float *)&_XMM1;
    v109 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * SLODWORD(qword_1513BFEA0[v27 + 0x400]));
    v110 = *(_QWORD *)(*(_QWORD *)(qword_1513BFEA0[v27] + 0x240) + 8LL * SHIDWORD(qword_1513BFEA0[v27 + 0x400]));
    v111 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)a1 + 0x338LL))(a1, v104);
    v112 = 0;
    if ( !v111 )
      v112 = 0x1000000000000LL;
    v283.m128_u64[1] = v110 | v112;
    v113 = (*(__int64 (__fastcall **)(_QWORD, __int64))(**((_QWORD **)v47 + 4) + 0x338LL))(*((_QWORD *)v47 + 4), a1);
    v114 = 0;
    v115 = v113 == 0;
    v116 = 0;
    v117 = 0;
    if ( v115 )
      v114 = 0x1000000000000LL;
    v283.m128_u64[0] = v109 | v114;
    while ( (v283.m128_u64[v117] & 0x1000000000000LL) == 0 )
    {
      ++v116;
      if ( ++v117 >= 2 )
      {
        v118 = a11;
        goto LABEL_50;
      }
    }
    v118 = a11;
    *(_QWORD *)&v47[8 * v116 + 0x28] = (char *)&unk_15144F020 + 0x1B0 * a11;
LABEL_50:
    if ( v323 )
    {
      if ( (a9 & 0x80000) == 0
        || a2 != HIDWORD(qword_1513BFEA0[0x801 * v118 + 0x800]) - 1
        && qword_1513BFEA0[v27] == qword_1513BFEA0[v278 + 1 + v281]
        && HIDWORD(qword_1513BFEA0[v27 + 0x400]) == HIDWORD(qword_1513BFEA0[v278 + 0x401 + v281]) )
      {
        v119 = 0;
        v280 = 0;
      }
      else
      {
        v119 = 1;
      }
      _XMM11 = 0;
      v121 = qword_1513BFEA0[0x801 * v118 + 0x800];
      if ( v121 < 0 )
      {
        v121 = a2;
        LODWORD(qword_1513BFEA0[0x801 * v118 + 0x800]) = a2;
      }
      if ( v119 )
      {
        v122 = v121;
        v123 = 0;
        v124 = 0.0;
        v125 = 0.0;
        v126 = 0;
        if ( v121 <= v278 )
        {
          v127 = 0xC0LL * v121 + a4 + 0x20;
          do
          {
            n4 = *(int *)(v127 + 0x90);
            n4_1 = 0;
            if ( n4 >= 4 )
            {
              v130 = *(_QWORD *)(v127 - 0x18);
              v131 = v130 + 8;
              v132 = v130 + 0x14;
              v133 = ((unsigned __int64)(n4 - 4) >> 2) + 1;
              n4_1 = 4 * v133;
              do
              {
                v134 = *(unsigned int *)(v131 - 8);
                v135 = *(float *)(v131 + 4);
                v131 += 0x30;
                v132 += 0x30;
                *((_QWORD *)&v136 + 1) = *((_QWORD *)&v134 + 1);
                *(double *)&v136 = *(float *)&v134
                                 + *(double *)(v127 - 0x10)
                                 + *(double *)&v126
                                 + v135
                                 + *(double *)(v127 - 0x10)
                                 + *(float *)(v131 - 0x20)
                                 + *(double *)(v127 - 0x10)
                                 + *(float *)(v131 - 0x14)
                                 + *(double *)(v127 - 0x10);
                v126 = v136;
                v125 = *(float *)(v131 - 0x34)
                     + *(double *)(v127 - 8)
                     + v125
                     + *(float *)(v132 - 0x34)
                     + *(double *)(v127 - 8)
                     + *(float *)(v132 - 0x28)
                     + *(double *)(v127 - 8)
                     + *(float *)(v132 - 0x1C)
                     + *(double *)(v127 - 8);
                v124 = *(float *)(v131 - 0x30)
                     + *(double *)v127
                     + v124
                     + *(float *)(v132 - 0x30)
                     + *(double *)v127
                     + *(float *)(v132 - 0x24)
                     + *(double *)v127
                     + *(float *)(v132 - 0x18)
                     + *(double *)v127;
                --v133;
              }
              while ( v133 );
            }
            if ( n4_1 < n4 )
            {
              v137 = (float *)(*(_QWORD *)(v127 - 0x18) + 0xC * n4_1);
              v138 = n4 - n4_1;
              do
              {
                v139 = *(unsigned int *)v137;
                v137 += 3;
                *((_QWORD *)&v140 + 1) = *((_QWORD *)&v139 + 1);
                *(double *)&v140 = *(float *)&v139 + *(double *)(v127 - 0x10) + *(double *)&v126;
                v126 = v140;
                v125 = v137[0xFFFFFFFE] + *(double *)(v127 - 8) + v125;
                v124 = v137[0xFFFFFFFF] + *(double *)v127 + v124;
                --v138;
              }
              while ( v138 );
            }
            v141 = *(_DWORD *)(v127 + 0x90);
            ++v122;
            v127 += 0xC0;
            v123 += v141;
          }
          while ( v122 <= v278 );
          if ( v123 )
          {
            v142 = v121;
            _XMM1 = 0;
            __asm { vcvtsi2sd xmm1, xmm1, ebx }
            v145 = v124 * (1.0 / *(double *)&_XMM1);
            v146 = a4 + 0xC0LL * v121 + 0x20;
            v284 = v145;
            *((_QWORD *)&v148 + 1) = *((_QWORD *)&v126 + 1);
            *(double *)&v148 = *(double *)&v126 * (1.0 / *(double *)&_XMM1);
            _XMM7 = v148;
            v149 = v125 * (1.0 / *(double *)&_XMM1);
            do
            {
              n4_2 = *(int *)(v146 + 0x90);
              n4_3 = 0;
              if ( n4_2 >= 4 )
              {
                v152 = *(_QWORD *)(v146 - 0x18);
                v153 = *(double *)(v146 - 0x10);
                v154 = *(double *)(v146 - 8);
                v155 = *(double *)v146;
                v156 = (float *)(v152 + 8);
                v157 = (float *)(v152 + 0x14);
                v158 = ((unsigned __int64)(n4_2 - 4) >> 2) + 1;
                n4_3 = 4 * v158;
                do
                {
                  v159 = v156[0xFFFFFFFE] + v153 - *(double *)&_XMM7;
                  v160 = v156[0xFFFFFFFF] + v154 - v149;
                  _XMM2 = COERCE_UNSIGNED_INT64(v159 * v159 + v160 * v160 + (*v156 + v155 - v145)
                                                                          * (*v156 + v155 - v145));
                  __asm { vmovddup xmm0, xmm2 }
                  __asm { vsqrtpd xmm3, xmm0 }
                  __asm { vunpckhpd xmm3, xmm3, xmm3 }
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&_XMM11 + 1);
                  *(double *)&v166 = *(float *)&_XMM11;
                  _XMM1 = v166;
                  __asm
                  {
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm6, xmm0, xmm0
                  }
                  *(double *)&v166 = v156[1] + v153 - *(double *)&_XMM7;
                  v169 = v157[0xFFFFFFFF] + v154 - v149;
                  _XMM2 = COERCE_UNSIGNED_INT64(
                            *(double *)&v166 * *(double *)&v166
                          + v169 * v169
                          + (*v157 + v155 - v145) * (*v157 + v155 - v145));
                  __asm { vmovddup xmm0, xmm2 }
                  __asm { vsqrtpd xmm3, xmm0 }
                  __asm { vunpckhpd xmm3, xmm3, xmm3 }
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&_XMM6 + 1);
                  *(double *)&v166 = *(float *)&_XMM6;
                  _XMM1 = v166;
                  __asm
                  {
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm6, xmm0, xmm0
                  }
                  *(double *)&v166 = v156[4] + v153 - *(double *)&_XMM7;
                  v177 = v157[2] + v154 - v149;
                  v178 = v157[3] + v155 - v145;
                  _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v166 * *(double *)&v166 + v177 * v177 + v178 * v178);
                  __asm { vmovddup xmm0, xmm2 }
                  __asm { vsqrtpd xmm3, xmm0 }
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&_XMM6 + 1);
                  *(double *)&v166 = *(float *)&_XMM6;
                  _XMM1 = v166;
                  __asm
                  {
                    vunpckhpd xmm3, xmm3, xmm3
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm6, xmm0, xmm0
                  }
                  v186 = COERCE_UNSIGNED_INT64(v156[7] + v153 - *(double *)&_XMM7);
                  v187 = v157[6] + v155 - v145;
                  v188 = v157[5] + v154 - v149;
                  v156 += 0xC;
                  v157 += 0xC;
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&v186 + 1);
                  *(double *)&v166 = *(double *)&v186 * *(double *)&v186 + v188 * v188 + v187 * v187;
                  _XMM2 = v166;
                  __asm
                  {
                    vmovddup xmm0, xmm2
                    vsqrtpd xmm3, xmm0
                    vunpckhpd xmm3, xmm3, xmm3
                  }
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&_XMM6 + 1);
                  *(double *)&v166 = *(float *)&_XMM6;
                  _XMM1 = v166;
                  __asm
                  {
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm11, xmm0, xmm0
                  }
                  --v158;
                }
                while ( v158 );
              }
              if ( n4_3 < n4_2 )
              {
                v195 = (float *)(*(_QWORD *)(v146 - 0x18) + 0xC * n4_3);
                v196 = n4_2 - n4_3;
                do
                {
                  v197 = *(unsigned int *)v195;
                  v198 = v195[1];
                  v195 += 3;
                  *((_QWORD *)&v199 + 1) = *((_QWORD *)&v197 + 1);
                  v200 = v195[0xFFFFFFFF] + *(double *)v146 - v145;
                  *(double *)&v199 = (*(float *)&v197 + *(double *)(v146 - 0x10) - *(double *)&_XMM7)
                                   * (*(float *)&v197 + *(double *)(v146 - 0x10) - *(double *)&_XMM7)
                                   + (v198 + *(double *)(v146 - 8) - v149) * (v198 + *(double *)(v146 - 8) - v149)
                                   + v200 * v200;
                  _XMM2 = v199;
                  __asm
                  {
                    vmovddup xmm0, xmm2
                    vsqrtpd xmm3, xmm0
                  }
                  *((_QWORD *)&v199 + 1) = *((_QWORD *)&_XMM11 + 1);
                  *(double *)&v199 = *(float *)&_XMM11;
                  _XMM1 = v199;
                  __asm
                  {
                    vunpckhpd xmm3, xmm3, xmm3
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm11, xmm0, xmm0
                  }
                  --v196;
                }
                while ( v196 );
              }
              ++v142;
              v146 += 0xC0;
            }
            while ( v142 <= v278 );
            v207 = v284;
            __asm { vunpcklpd xmm2, xmm7, xmm8 }
            *(_OWORD *)(v47 + 0x58) = _XMM2;
            *((_OWORD *)v47 + 4) = _XMM2;
            *((double *)v47 + 0xD) = v207;
            *((double *)v47 + 0xA) = v207;
          }
          v119 = v280;
        }
        LODWORD(qword_1513BFEA0[0x801 * a11 + 0x800]) = 0xFFFFFFFF;
      }
      sub_146785A50(a1, (__int64)v47, 0.0, v119, *(float *)&_XMM11);
      goto LABEL_101;
    }
    *((_DWORD *)v47 + 0x2A) = 0;
    *((_QWORD *)v47 + 0x16) = 0;
    *((_DWORD *)v47 + 0x2E) = 0;
    *((_DWORD *)v47 + 0x2F) = 0x7F7FFFFF;
    *((_DWORD *)v47 + 0x30) = 0x7F7FFFFF;
    *((_DWORD *)v47 + 0x31) = 0x7F7FFFFF;
    v209 = *(_QWORD *)(a1 + 0x2C0);
    *(float *)&_XMM0 = sub_1467B72C0(
                         v209,
                         *(unsigned int *)(0xC0LL * a2 + a4 + 0x84),
                         *(unsigned int *)(0xC0LL * a2 + a4 + 0x88));
    if ( *(float *)&_XMM0 >= 0.0 )
      __asm { vminss  xmm12, xmm0, xmm13 }
    else
      LODWORD(_XMM12) = 0;
    v211 = *(double *)(a1 + 0x6B0);
    if ( v211 < 2.0
      && *(float *)&_XMM12 > 0.0
      && COERCE_FLOAT(*(_DWORD *)(v209 + 0x1D8) ^ 0x80000000) > *((float *)v47 + 0x26) )
    {
      v212 = a11;
      v213 = *((__int16 *)v47 + 0x3F);
      v214 = qword_1513BFEA0[0x801 * a11 + a2];
      if ( *(float *)(*(_QWORD *)(v214 + 0x258) + 0x18 * v213) <= v211
        && (*(_QWORD *)(*(_QWORD *)(v214 + 0x240) + 8 * v213) & 0x4000000000LL) != 0 )
      {
        goto LABEL_93;
      }
      v215 = *((_QWORD *)v47 + 5);
      v216 = *(__m128 *)a3;
      _XMM0 = 0;
      v303 = 0.0;
      __asm
      {
        vmovupd [rbp+170h+var_190], xmm0
        vmovupd [rbp+170h+var_170], xmm0
      }
      *(_QWORD *)&_XMM0 = *(_QWORD *)(a3 + 0x10);
      _XMM1 = 0;
      v286 = 0.0;
      DWORD1(v290) = 0xFFF7FFFF;
      v289 = 0xFFBFFFFF;
      v285 = 1;
      v293 = 0x80000000;
      v295 = 0;
      v297 = 1;
      __asm
      {
        vmovupd [rbp+170h+var_180], xmm1
        vmovupd [rbp+170h+var_160], xmm1
      }
      v219 = _mm_sub_pd(v216, *(__m128 *)(v215 + 0x78));
      v284 = *(double *)&_XMM0 - *(double *)(v215 + 0x88);
      v283 = v219;
      sub_14671AC00((double *)v215, (double *)v283.m128_u64, (double *)&v299);
      v220 = *((_QWORD *)v47 + 6);
      v221 = _mm_sub_pd(*(__m128 *)a3, *(__m128 *)(v220 + 0x78));
      v312 = *(double *)(a3 + 0x10) - *(double *)(v220 + 0x88);
      v311 = v221;
      sub_14671AC00((double *)v220, (double *)v311.m128_u64, (double *)&v299);
      v222 = *((float *)v47 + 0x1D);
      v223 = *((float *)v47 + 0x1E);
      v224 = *((_QWORD *)v47 + 5);
      v225 = *((float *)v47 + 0x1C);
      v226 = *((_QWORD *)v47 + 6);
      v227 = COERCE_UNSIGNED_INT64(v225);
      _XMM2 = COERCE_UNSIGNED_INT64(v225 * *(double *)&v299 + v222 * *((double *)&v300 + 1) + v223 * *(double *)&v302);
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      v230 = *(float *)&_XMM3 * v225;
      _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v227 * *((double *)&v299 + 1) + v222 * *(double *)&v301 + v223 * *((double *)&v302 + 1));
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      *(float *)&_XMM0 = *(float *)&_XMM3 * v222;
      *((_QWORD *)&v233 + 1) = *((_QWORD *)&v227 + 1);
      *(double *)&v233 = *(double *)&v227 * *(double *)&v300 + v222 * *((double *)&v301 + 1) + v223 * v303;
      _XMM2 = v233;
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      v236 = (float)(-1.0 / (float)((float)(v230 + *(float *)&_XMM0) + (float)(*(float *)&_XMM3 * v223)))
           * (float)((float)(*(float *)&_XMM12 + 1.0) * *((float *)v47 + 0x26));
      v286 = v236;
      v237 = *(unsigned int *)(v226 + 0xDC);
      *(float *)&v237 = (float)((float)(*(float *)(v226 + 0xDC) * *(float *)(v226 + 0xDC))
                              + (float)(*(float *)(v226 + 0xE0) * *(float *)(v226 + 0xE0)))
                      + (float)(*(float *)(v226 + 0xE4) * *(float *)(v226 + 0xE4));
      _XMM5 = v237;
      __asm { vmaxss  xmm5, xmm5, xmm3 }
      if ( v236 * *(double *)(v224 + 0x108) * (v236 * *(double *)(v224 + 0x108)) < (float)(*(float *)&_XMM5
                                                                                         * (float)((float)(*(float *)&_XMM12 + 1.1)
                                                                                                 * (float)(*(float *)&_XMM12 + 1.1))) )
      {
        sub_146785A50(a1, (__int64)v47, v236, 1, 0.0);
        v240 = (__m128)*((unsigned __int64 *)v47 + 0xE);
        v241 = *(_QWORD *)(a1 + 0x250);
        v288 = v286 * *((float *)v47 + 0x1E);
        v242 = v286 * _mm_shuffle_ps(v240, v240, 0x55).m128_f32[0];
        v243 = *((_OWORD *)v47 + 4);
        v291 = *((_QWORD *)v47 + 0xA);
        v286 = v286 * v240.m128_f32[0];
        v287 = v242;
        v290 = v243;
        v244 = *(_DWORD *)(v241 + 4LL * *((__int16 *)v47 + 0x3E));
        v245 = *(_QWORD *)a1;
        v292 = v244;
        v294 = 0;
        n4_4 = 4;
        (*(void (__fastcall **)(__int64, int *, __int64))(v245 + 0x30))(a1, &v285, 1);
        v246 = *((__int16 *)v47 + 0x3F);
        LODWORD(v286) ^= 0x80000000;
        LODWORD(v287) ^= 0x80000000;
        LODWORD(v288) ^= 0x80000000;
        v247 = (_QWORD *)qword_1513BFEA0[0x801 * a11 + a2];
        v292 = *(_DWORD *)(v247[0x4A] + 4 * v246);
        (*(void (__fastcall **)(_QWORD *, int *, __int64))(*v247 + 0x30LL))(v247, &v285, 1);
      }
    }
    v212 = a11;
LABEL_93:
    if ( a10 <= 0.0 )
    {
      v262 = ((a6 & 0xE0u) < (a8 & 0xE0u)) | *((_DWORD *)v47 + 0x3F) & 0xFFFFFFFC;
      *((_DWORD *)v47 + 0x3F) = v262;
      v263 = *((float *)v47 + 0x1D);
      v264 = *((float *)v47 + 0x1E);
      v265 = *((float *)v47 + 0x1C);
      v266 = *(float **)&v47[8 * (v262 & 3) + 0x28];
      v267 = v266[0x26];
      v268 = v266[0x25];
      v269 = v266[0x27];
      v270 = v266[0x24];
      v271 = (float)((float)(v267 * v263) - (float)(v268 * v264)) + (float)(v265 * v269);
      v272 = (float)((float)(v270 * v264) - (float)(v265 * v267)) + (float)(v269 * v263);
      v273 = (float)((float)(v265 * v268) - (float)(v270 * v263)) + (float)(v269 * v264);
      *((float *)v47 + 0x21) = (float)((float)((float)(v272 * v267) - (float)(v273 * v268)) + v265)
                             + (float)((float)(v272 * v267) - (float)(v273 * v268));
      *((float *)v47 + 0x22) = (float)((float)((float)(v273 * v270) - (float)(v271 * v267)) + v263)
                             + (float)((float)(v273 * v270) - (float)(v271 * v267));
      *((float *)v47 + 0x23) = (float)((float)((float)(v271 * v268) - (float)(v272 * v270)) + v264)
                             + (float)((float)(v271 * v268) - (float)(v272 * v270));
      *((_QWORD *)v47 + 0x14) = 0;
      *((_DWORD *)v47 + 0x27) = 0;
    }
    else
    {
      _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x30) - *(double *)(a1 + 0x18));
      _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x28) - *(double *)(a1 + 0x10));
      __asm
      {
        vcvtsd2ss xmm3, xmm1, xmm1
        vcvtsd2ss xmm1, xmm0, xmm0
      }
      _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x38) - *(double *)(a1 + 0x20));
      v253 = *(float *)&_XMM3 + *(float *)&_XMM1;
      __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
      if ( a10 > (float)((float)(v253 + *(float *)&_XMM1) * 0.059999999) )
      {
        *((double *)v47 + 0xE) = *(double *)(0xC0LL * a2 + a4 + 0x6C);
        *((_DWORD *)v47 + 0x1E) = *(_DWORD *)(0xC0LL * a2 + a4 + 0x74);
      }
      v255 = *(_QWORD *)(a1 + 0x2C0);
      v257 = LODWORD(a10);
      *(float *)&v257 = a10 - *(float *)(v255 + 0x13C);
      _XMM0 = v257;
      __asm { vmaxss  xmm0, xmm0, xmm14 }
      v260 = _XMM0;
      *(float *)&v260 = *(float *)&_XMM0 * *(float *)(v255 + 0x1E4);
      _XMM1 = v260;
      __asm { vminss  xmm3, xmm1, dword ptr [rax+1E8h] }
      v282 = *((_QWORD *)v47 + 0xE);
      *((float *)v47 + 0x27) = *(float *)&v282 * *(float *)&_XMM3;
      *((float *)v47 + 0x28) = *(float *)&_XMM3 * *((float *)&v282 + 1);
      *((float *)v47 + 0x29) = *(float *)&_XMM3 * *((float *)v47 + 0x1E);
      *(double *)(v47 + 0x84) = *(double *)a12;
      *((_DWORD *)v47 + 0x23) = *(_DWORD *)(a12 + 8);
    }
    if ( v277 )
    {
      v274 = (char *)qword_1513BFEA0[0x801 * v212 + a2];
      v275 = CRigidEntity::AddColliderInternal(a1, v274);
      CRigidEntity::AttachContact(a1, (__int64)v47, v275, (__int64)v274, 1);
      *((_DWORD *)v47 + 0x25) = a9 & 0xFFF7FFFF | *((_DWORD *)v47 + 0x25) & 0xFFDFFFFF;
    }
    v22 = v47;
    goto LABEL_101;
  }
  if ( (v31 & 0x1000000000LL) != 0 )
  {
    _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x28) - *(double *)(a1 + 0x10));
    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x30) - *(double *)(a1 + 0x18));
    __asm
    {
      vcvtsd2ss xmm3, xmm1, xmm1
      vcvtsd2ss xmm1, xmm0, xmm0
    }
    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x38) - *(double *)(a1 + 0x20));
    __asm
    {
      vminss  xmm4, xmm1, xmm3
      vcvtsd2ss xmm1, xmm0, xmm0
      vminss  xmm3, xmm4, xmm1
    }
    v34 = (float)(*(float *)&_XMM3 * *(float *)&_XMM3) * 0.022500001;
  }
  else
  {
    _XMM0 = *(unsigned int *)(*(_QWORD *)(v29 + 0x258) + 0x18 * v30 + 0xC);
    __asm { vminss  xmm1, xmm0, dword ptr [rax+rdx*8+0Ch] }
    v34 = *(float *)&_XMM1 * *(float *)&_XMM1;
  }
  v43 = (volatile signed __int64 *)(a1 + 0x8C8);
  v44 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C8), 0x200000, 0);
  if ( v44 )
    sub_1403DE750(a1 + 0x8C8, v44, 0, (__int64)"CRigidEntity::RegisterContactPoint", (__int64)"m_lockContacts", 1);
  v45 = (char *)(a1 + 0x4D0);
  v46 = *(char **)(a1 + 0x4D0);
  v47 = v46;
  if ( v46 != (char *)(a1 + 0x4D0) )
  {
    v48 = v26 + 0x801LL * a11;
    do
    {
      if ( ((v47[0x94] & 0x40) != 0 || *((float *)v47 + 0x3E) == 0.0)
        && *((_QWORD *)v47 + 4) == qword_1513BFEA0[v48]
        && *((__int16 *)v47 + 0x3F) == HIDWORD(qword_1513BFEA0[v48 + 0x400]) )
      {
        v49 = *((double *)v47 + 9) - *(double *)(a3 + 8);
        v50 = *((double *)v47 + 0xA) - *(double *)(a3 + 0x10);
        if ( v49 * v49 + (*((double *)v47 + 8) - *(double *)a3) * (*((double *)v47 + 8) - *(double *)a3) + v50 * v50 < v34 )
          break;
      }
      v47 = *(char **)v47;
    }
    while ( v47 != v45 );
    v26 = v278;
  }
  if ( v47 == v45 )
  {
    v47 = *(char **)(a1 + 0x4D0);
    v51 = 0;
    if ( v46 != v45 )
    {
      do
      {
        if ( (v47[0x94] & 0x40) == 0 && *((float *)v47 + 0x3E) != 0.0 )
          break;
        v47 = *(char **)v47;
        ++v51;
      }
      while ( v47 != v45 );
    }
    if ( v47 != v45 )
    {
      CRigidEntity::DetachContact(a1, (unsigned __int64 *)v47, 0xFFFFFFFF, 1, 0);
LABEL_25:
      v277 = 1;
LABEL_26:
      v52 = a10;
      goto LABEL_27;
    }
    if ( v51 < *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x2E0LL) )
    {
      v47 = (char *)sub_14690C520();
      goto LABEL_25;
    }
  }
  else
  {
    v54 = *((float *)v47 + 0x3E);
    if ( v54 != 0.0 && (v47[0x94] & 0x40) == 0 )
      goto LABEL_26;
    v52 = a10;
    if ( v54 < a10 && (a9 & 0x80u) == 0 )
    {
LABEL_27:
      if ( a1 != 0xFFFFFFFFFFFFF738uLL )
      {
        n0x200000 = _InterlockedCompareExchange64(v43, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C8), n0x200000);
      }
      goto LABEL_38;
    }
  }
  if ( a1 != 0xFFFFFFFFFFFFF738uLL )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v43, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C8), n0x200000_1);
  }
LABEL_101:
  v308 = __rdtsc();
  qword_149A05E08(&n0x2800);
  return v22;
}

// --- End Function: CRigidEntity::RegisterContactPoint (0x1467CFFA0) ---

// --- Function: CRigidEntity::RemoveColliderInternal (0x1467D7170) ---
__int64 __fastcall CRigidEntity::RemoveColliderInternal(char *a1, char *a2, unsigned __int8 a3, int a4, int a5)
{
  volatile signed __int64 *v5; // rbx
  __int64 v7; // r12
  char *v9; // rsi
  __int64 v10; // r13
  __int64 v11; // rax
  volatile signed __int64 *v12; // r15
  __int64 v13; // rax
  unsigned __int8 v14; // r12
  volatile signed __int64 *v15; // rsi
  unsigned __int64 n0x200000_7; // rax
  unsigned __int64 n0x200000_3; // rax
  volatile signed __int64 *v19; // rsi
  unsigned __int64 n0x200000_4; // rax
  unsigned __int64 n0x200000_5; // rax
  unsigned __int64 n0x200000_6; // rax
  volatile signed __int64 *v23; // r15
  volatile signed __int64 *v24; // rbx
  __int64 v25; // rcx
  volatile signed __int64 *v26; // r13
  __int64 v27; // rax
  volatile signed __int64 *v28; // rsi
  __int64 v29; // rax
  __int64 v30; // rax
  __int64 v31; // rax
  unsigned __int8 v32; // r12
  unsigned __int64 n0x200000_8; // rax
  unsigned __int64 n0x200000_9; // rax
  unsigned __int64 n0x200000_10; // rax
  unsigned __int64 n0x200000_11; // rax
  __int64 v37; // rax
  __int64 v38; // r12
  volatile signed __int64 *v39; // r15
  __int64 v40; // rax
  volatile signed __int64 *v41; // rsi
  __int64 v42; // rax
  __int64 v43; // r13
  unsigned __int8 v44; // r12
  unsigned __int64 n0x200000; // rax
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 n0x200000_2; // rax
  char v48; // [rsp+30h] [rbp-58h]
  char v49; // [rsp+30h] [rbp-58h]
  unsigned int v50; // [rsp+34h] [rbp-54h]
  __int64 v51; // [rsp+38h] [rbp-50h]
  __int64 v52; // [rsp+38h] [rbp-50h]
  volatile signed __int64 *v53; // [rsp+40h] [rbp-48h]
  __int64 v54; // [rsp+40h] [rbp-48h]
  char v55; // [rsp+98h] [rbp+10h]
  char v56; // [rsp+98h] [rbp+10h]
  unsigned int v57; // [rsp+98h] [rbp+10h]

  v5 = (volatile signed __int64 *)(a1 + 0x8C8);
  v7 = a4;
  if ( !(*(unsigned __int8 (__fastcall **)(char *))(*(_QWORD *)a2 + 0x10LL))(a2) )
  {
    if ( (_DWORD)v7 )
    {
      v37 = _InterlockedCompareExchange64(v5, 0x200000, 0);
      if ( v37 )
        sub_1403DE750(
          (__int64)v5,
          v37,
          0,
          (__int64)"CRigidEntity::RemoveColliderInternal",
          (__int64)"m_lockContacts",
          1);
    }
    v38 = (__int64)(*((_DWORD *)a2 + 0x3C) - *((_DWORD *)a1 + 0x3C)) >> 0x1F;
    v39 = (volatile signed __int64 *)&a1[(v38 & (a2 - a1)) + 0x150];
    v40 = _InterlockedCompareExchange64(v39, 0x200000, 0);
    if ( v40 )
      sub_1403DE750(
        (__int64)&a1[(v38 & (a2 - a1)) + 0x150],
        v40,
        0,
        (__int64)"CRigidEntity::RemoveColliderInternal",
        (__int64)"*(CIGRWLock_NonRecursive*)(plock0+(plock1-plock0&mask))",
        1);
    v41 = (volatile signed __int64 *)&a2[(v38 & (a1 - a2)) + 0x150];
    if ( a2 == a1 || (v42 = _InterlockedCompareExchange64(v41, 0x200000, 0)) == 0 )
    {
      v43 = (__int64)&a2[(v38 & (a1 - a2)) + 0x150];
      if ( a2 == a1 )
      {
        v44 = a3;
LABEL_78:
        v57 = (*(__int64 (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a1 + 0x3A8LL))(a1, a2, v44);
        if ( v43 )
        {
          if ( a2 != a1 )
          {
            n0x200000 = _InterlockedCompareExchange64(v41, 0, 0x200000);
            if ( n0x200000 != 0x200000 )
              sub_1403DEBA0(v41, n0x200000);
          }
        }
        if ( v39 )
        {
          n0x200000_1 = _InterlockedCompareExchange64(v39, 0, 0x200000);
          if ( n0x200000_1 != 0x200000 )
            sub_1403DEBA0(v39, n0x200000_1);
        }
        if ( v5 )
        {
          if ( a4 )
          {
            n0x200000_2 = _InterlockedCompareExchange64(v5, 0, 0x200000);
            if ( n0x200000_2 != 0x200000 )
              sub_1403DEBA0(v5, n0x200000_2);
          }
        }
        return v57;
      }
    }
    else
    {
      sub_1403DE750(
        (__int64)v41,
        v42,
        0,
        (__int64)"CRigidEntity::RemoveColliderInternal",
        (__int64)"*(CIGRWLock_NonRecursive*)(plock1+(plock0-plock1&mask))",
        1);
    }
    v44 = a3;
    (*(void (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a2 + 0x220LL))(a2, a1, a3);
    v43 = (__int64)v41;
    goto LABEL_78;
  }
  v55 = 0;
  v9 = a2 + 0x8C8;
  v48 = 0;
  v10 = ((*((_DWORD *)a2 + 0x3C) - *((_DWORD *)a1 + 0x3C)) | v7 ^ ((int)v7 - 1)) >> 0x1F;
  if ( a5 )
  {
    if ( a2 == a1 && !(_DWORD)v7 )
      goto LABEL_10;
    if ( !_InterlockedCompareExchange64(
            (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5))),
            0x200000,
            0) )
    {
      v55 = 1;
      if ( a2 == a1 )
        goto LABEL_10;
      v55 = 1;
      if ( !(_DWORD)v7 )
        goto LABEL_10;
      if ( !_InterlockedCompareExchange64((volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)], 0x200000, 0) )
      {
        v48 = 1;
        v55 = 1;
LABEL_10:
        v51 = (__int64)(*((_DWORD *)a2 + 0x3C) - *((_DWORD *)a1 + 0x3C)) >> 0x1F;
        v53 = (volatile signed __int64 *)&a1[((a2 - a1) & v51) + 0x150];
        v11 = _InterlockedCompareExchange64(v53, 0x200000, 0);
        if ( v11 )
          sub_1403DE750(
            (__int64)&a1[((a2 - a1) & v51) + 0x150],
            v11,
            0,
            (__int64)"CRigidEntity::RemoveColliderInternal",
            (__int64)"*(CIGRWLock_NonRecursive*)(plock0+(plock1-plock0&mask))",
            1);
        v12 = (volatile signed __int64 *)&a2[(v51 & (a1 - a2)) + 0x150];
        if ( a2 == a1 )
        {
          v14 = a3;
        }
        else
        {
          v13 = _InterlockedCompareExchange64(v12, 0x200000, 0);
          if ( v13 )
            sub_1403DE750(
              (__int64)v12,
              v13,
              0,
              (__int64)"CRigidEntity::RemoveColliderInternal",
              (__int64)"*(CIGRWLock_NonRecursive*)(plock1+(plock0-plock1&mask))",
              1);
          v14 = a3;
          (*(void (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a2 + 0x220LL))(a2, a1, a3);
        }
        v50 = (*(__int64 (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a1 + 0x3A8LL))(a1, a2, v14);
        if ( v48 )
        {
          n0x200000_3 = _InterlockedCompareExchange64(
                          (volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)],
                          0,
                          0x200000);
          if ( n0x200000_3 != 0x200000 )
            sub_1403DEBA0((volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)], n0x200000_3);
        }
        if ( v55 )
        {
          v19 = (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5)));
          n0x200000_4 = _InterlockedCompareExchange64(v19, 0, 0x200000);
          if ( n0x200000_4 != 0x200000 )
            sub_1403DEBA0(v19, n0x200000_4);
        }
        if ( v12 )
        {
          if ( a2 != a1 )
          {
            n0x200000_5 = _InterlockedCompareExchange64(v12, 0, 0x200000);
            if ( n0x200000_5 != 0x200000 )
              sub_1403DEBA0(v12, n0x200000_5);
          }
        }
        if ( v53 )
        {
          n0x200000_6 = _InterlockedCompareExchange64(v53, 0, 0x200000);
          if ( n0x200000_6 != 0x200000 )
            sub_1403DEBA0(v53, n0x200000_6);
        }
        return v50;
      }
      v15 = (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5)));
      n0x200000_7 = _InterlockedCompareExchange64(v15, 0, 0x200000);
      if ( n0x200000_7 != 0x200000 )
        sub_1403DEBA0(v15, n0x200000_7);
    }
    return 0xFFFFFFFELL;
  }
  if ( a2 == a1 && !(_DWORD)v7 )
  {
    v56 = 0;
    v23 = (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5)));
LABEL_37:
    v49 = 0;
    v24 = (volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)];
    goto LABEL_38;
  }
  v56 = 1;
  v23 = (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5)));
  v30 = _InterlockedCompareExchange64(v23, 0x200000, 0);
  if ( v30 )
  {
    sub_1403DE750(
      (__int64)v5 + (v10 & (v9 - (char *)v5)),
      v30,
      0,
      (__int64)"CRigidEntity::RemoveColliderInternal",
      (__int64)"*(CIGRWLock_NonRecursive*)(plockR0+(plockR1-plockR0&maskR))",
      1);
    v56 = 1;
  }
  if ( a2 == a1 || !(_DWORD)v7 )
    goto LABEL_37;
  v49 = 1;
  v24 = (volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)];
  v31 = _InterlockedCompareExchange64(v24, 0x200000, 0);
  v56 = 1;
  if ( v31 )
  {
    sub_1403DE750(
      (__int64)v24,
      v31,
      0,
      (__int64)"CRigidEntity::RemoveColliderInternal",
      (__int64)"*(CIGRWLock_NonRecursive*)(plockR1+(plockR0-plockR1&maskR))",
      1);
    v56 = 1;
    v49 = 1;
  }
LABEL_38:
  v54 = (__int64)(*((_DWORD *)a2 + 0x3C) - *((_DWORD *)a1 + 0x3C)) >> 0x1F;
  v25 = v54;
  v26 = (volatile signed __int64 *)&a1[(v54 & (a2 - a1)) + 0x150];
  v27 = _InterlockedCompareExchange64(v26, 0x200000, 0);
  if ( v27 )
  {
    sub_1403DE750(
      (__int64)v26,
      v27,
      0,
      (__int64)"CRigidEntity::RemoveColliderInternal",
      (__int64)"*(CIGRWLock_NonRecursive*)(plock0+(plock1-plock0&mask))",
      1);
    v25 = v54;
  }
  v28 = (volatile signed __int64 *)&a2[(v25 & (a1 - a2)) + 0x150];
  if ( a2 != a1 )
  {
    v29 = _InterlockedCompareExchange64(v28, 0x200000, 0);
    if ( v29 )
    {
      sub_1403DE750(
        (__int64)v28,
        v29,
        0,
        (__int64)"CRigidEntity::RemoveColliderInternal",
        (__int64)"*(CIGRWLock_NonRecursive*)(plock1+(plock0-plock1&mask))",
        1);
LABEL_50:
      v32 = a3;
      (*(void (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a2 + 0x220LL))(a2, a1, a3);
      v52 = (__int64)v28;
      goto LABEL_52;
    }
  }
  v52 = (__int64)&a2[(v25 & (a1 - a2)) + 0x150];
  if ( a2 != a1 )
    goto LABEL_50;
  v32 = a3;
LABEL_52:
  v50 = (*(__int64 (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a1 + 0x3A8LL))(a1, a2, v32);
  if ( v52 )
  {
    if ( a2 != a1 )
    {
      n0x200000_8 = _InterlockedCompareExchange64(v28, 0, 0x200000);
      if ( n0x200000_8 != 0x200000 )
        sub_1403DEBA0(v28, n0x200000_8);
    }
  }
  if ( v26 )
  {
    n0x200000_9 = _InterlockedCompareExchange64(v26, 0, 0x200000);
    if ( n0x200000_9 != 0x200000 )
      sub_1403DEBA0(v26, n0x200000_9);
  }
  if ( v24 )
  {
    if ( v49 )
    {
      n0x200000_10 = _InterlockedCompareExchange64(v24, 0, 0x200000);
      if ( n0x200000_10 != 0x200000 )
        sub_1403DEBA0(v24, n0x200000_10);
    }
  }
  if ( !v23 )
    return v50;
  if ( !v56 )
    return v50;
  n0x200000_11 = _InterlockedCompareExchange64(v23, 0, 0x200000);
  if ( n0x200000_11 == 0x200000 )
    return v50;
  sub_1403DEBA0(v23, n0x200000_11);
  return v50;
}

// --- End Function: CRigidEntity::RemoveColliderInternal (0x1467D7170) ---

// --- Function: CRigidEntity::RemoveDeadColliders (0x1467D7EF0) ---
__int64 __fastcall CRigidEntity::RemoveDeadColliders(Parameter *Parameter, __int64 TlsIndex, LONGLONG QuadPart)
{
  _BYTE *p_Src; // r14
  unsigned __int64 v4; // rsi
  volatile signed __int64 *v5; // rbp
  unsigned __int64 n0x100; // r12
  __int64 v8; // rax
  volatile signed __int64 *v9; // r13
  __int64 v10; // rax
  int v11; // eax
  __int64 v12; // rbx
  unsigned __int64 n0x100_1; // rbp
  __int64 v14; // rcx
  _BYTE *p_Src_1; // r15
  _BYTE *p_Src_3; // rax
  const void *p_Src_2; // rdx
  unsigned __int64 i; // rbx
  unsigned __int64 n0x200000; // rax
  unsigned __int64 n0x200000_1; // rax
  _BYTE Src[2048]; // [rsp+30h] [rbp-838h] BYREF

  p_Src = Src;
  v4 = 0;
  v5 = (volatile signed __int64 *)((char *)Parameter + 0x8C8);
  n0x100 = 0x100;
  v8 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x119, 0x200000, 0);
  if ( v8 )
    sub_1403DE750(
      (__int64)Parameter + 0x8C8,
      v8,
      0,
      (__int64)"CRigidEntity::RemoveDeadColliders",
      (__int64)"m_lockContacts",
      1);
  v9 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  v10 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x2A, 0x200000, 0);
  if ( v10 )
    sub_1403DE750(
      (__int64)Parameter + 0x150,
      v10,
      0,
      (__int64)"CRigidEntity::RemoveDeadColliders",
      (__int64)"m_lockColliders",
      1);
  v11 = *((_DWORD *)Parameter + 0x52) - 1;
  v12 = v11;
  if ( v11 >= 0 )
  {
    n0x100_1 = 1;
    do
    {
      v14 = *(_QWORD *)(*((_QWORD *)Parameter + 0x28) + 8 * v12);
      if ( *(_DWORD *)(v14 + 0xE8) || *(_DWORD *)(v14 + 0xF4) == 7 )
      {
        if ( n0x100_1 >= n0x100 )
        {
          n0x100 *= 2LL;
          p_Src_1 = p_Src;
          p_Src_3 = (_BYTE *)allocWithProfilerInfo_w(saturated_mul(n0x100, 8u));
          p_Src_2 = p_Src;
          p_Src = p_Src_3;
          memcpy(p_Src_3, p_Src_2, 8 * v4);
          if ( p_Src_1 != Src )
            sub_1402A63C0(p_Src_1);
        }
        *(_QWORD *)&p_Src[8 * v4++] = *(_QWORD *)(*((_QWORD *)Parameter + 0x28) + 8 * v12);
        ++n0x100_1;
      }
      --v12;
    }
    while ( v12 >= 0 );
    v9 = (volatile signed __int64 *)((char *)Parameter + 0x150);
    v5 = (volatile signed __int64 *)((char *)Parameter + 0x8C8);
  }
  for ( i = 0; i < v4; ++i )
  {
    LOBYTE(QuadPart) = 1;
    (*(void (__fastcall **)(Parameter *, _QWORD, LONGLONG))(*(_QWORD *)Parameter + 0x220LL))(
      Parameter,
      *(_QWORD *)&p_Src[8 * i],
      QuadPart);
  }
  if ( v9 )
  {
    n0x200000 = _InterlockedCompareExchange64(v9, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v9, n0x200000);
  }
  if ( v5 )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v5, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0(v5, n0x200000_1);
  }
  if ( p_Src != Src )
    sub_1402A63C0(p_Src);
  return 0;
}

// --- End Function: CRigidEntity::RemoveDeadColliders (0x1467D7EF0) ---

// --- Function: CRigidEntity::SetNetworkAuthority (0x1467DB3C0) ---
void __fastcall CRigidEntity::SetNetworkAuthority(__int64 a1, char a2)
{
  volatile signed __int64 *v4; // rdi
  signed __int64 v5; // rax
  char v6; // al
  __int64 v7; // rcx
  signed __int64 n0x200000; // rax

  if ( *(_BYTE *)(a1 + 0x94D) != a2 )
  {
    v4 = (volatile signed __int64 *)(a1 + 0x8F0);
    v5 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0x200000, 0);
    if ( v5 )
      sub_1403DE750(
        a1 + 0x8F0,
        v5,
        0,
        (unsigned int)"CRigidEntity::SetNetworkAuthority",
        (__int64)"m_netDesiredStateLock",
        1);
    *(_BYTE *)(a1 + 0x94D) = a2;
    v6 = *(_BYTE *)(a1 + 0x94D);
    *(_BYTE *)(a1 + 0x94C) = 1;
    if ( v6 )
    {
      v7 = *(_QWORD *)(a1 + 0x8E8);
      if ( v7 )
      {
        sub_1402A63C0(v7);
        *(_QWORD *)(a1 + 0x8E8) = 0;
      }
      *(_BYTE *)(a1 + 0x960) = 1;
    }
    if ( v4 )
    {
      n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v4, n0x200000);
    }
  }
}

// --- End Function: CRigidEntity::SetNetworkAuthority (0x1467DB3C0) ---

// --- Function: CRigidEntity::SetParams (0x1467E2810) ---
__int64 __fastcall CRigidEntity::SetParams(__int64 a1, __int64 a2, int a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  int n0x40_1; // r14d
  double v15; // r15
  unsigned int v17; // ebx
  double v18; // xmm1_8
  __int64 v19; // r12
  int v20; // ebx
  double v21; // xmm0_8
  double v22; // xmm1_8
  unsigned int v23; // r13d
  int n0xF; // eax
  unsigned __int64 v25; // rdx
  int v26; // edi
  __int128 v27; // xmm1
  float v28; // xmm14_4
  float v29; // xmm15_4
  float v30; // xmm6_4
  float v31; // xmm12_4
  float v32; // xmm13_4
  float v33; // xmm10_4
  float v34; // xmm11_4
  float v35; // xmm4_4
  float v36; // xmm8_4
  float v37; // xmm9_4
  float v38; // xmm5_4
  float v39; // xmm4_4
  float v40; // xmm15_4
  float v41; // xmm11_4
  float v42; // xmm12_4
  float v43; // xmm9_4
  float v44; // xmm10_4
  float v45; // xmm6_4
  float v46; // xmm4_4
  float v47; // xmm8_4
  float v48; // xmm5_4
  float v49; // xmm4_4
  float v50; // xmm12_4
  float v51; // xmm11_4
  float v52; // xmm10_4
  float v53; // xmm7_4
  float v54; // xmm9_4
  float v55; // xmm14_4
  float v56; // xmm13_4
  float v57; // xmm8_4
  float v58; // xmm6_4
  float v59; // xmm5_4
  float v60; // xmm2_4
  float v61; // xmm1_4
  int v62; // xmm7_4
  int v63; // xmm8_4
  float v64; // xmm10_4
  float v65; // xmm12_4
  float v66; // xmm11_4
  float v67; // xmm9_4
  float v68; // xmm6_4
  float v69; // xmm5_4
  double v70; // xmm4_8
  double v73; // xmm4_8
  int v76; // ecx
  int v77; // edi
  __int64 v78; // rbx
  __int64 v79; // rbx
  __int64 v80; // rcx
  float v81; // xmm12_4
  float v82; // xmm7_4
  float v83; // xmm9_4
  float v84; // xmm11_4
  float v85; // xmm10_4
  float v86; // xmm13_4
  float v87; // xmm8_4
  float v88; // xmm6_4
  float v89; // xmm5_4
  float *v97; // rdx
  double v98; // xmm1_8
  __int64 v99; // rcx
  float v100; // xmm14_4
  float v101; // xmm11_4
  float v102; // xmm12_4
  float v103; // xmm9_4
  float v104; // xmm10_4
  float v105; // xmm6_4
  float v106; // xmm4_4
  float v107; // xmm8_4
  float v108; // xmm5_4
  float v109; // xmm4_4
  float v110; // xmm13_4
  float v111; // xmm10_4
  float v112; // xmm11_4
  float v113; // xmm8_4
  float v114; // xmm7_4
  float v115; // xmm12_4
  float v116; // xmm9_4
  double *v117; // rax
  double *v124; // rax
  double v125; // xmm14_8
  double v126; // xmm13_8
  double v127; // xmm12_8
  double v131; // xmm11_8
  __m128 v135; // xmm2
  double v138; // xmm10_8
  double v139; // xmm9_8
  double v140; // xmm8_8
  __int128 v141; // kr00_16
  __int128 v142; // xmm7
  double v143; // xmm4_8
  double v150; // xmm10_8
  double v151; // xmm9_8
  double v152; // xmm8_8
  __int128 v153; // xmm7
  __int128 v158; // xmm4
  __int128 v161; // xmm13
  __int128 v162; // xmm14
  __int128 v163; // kr00_16
  __int128 v164; // xmm6
  __int128 v165; // kr00_16
  __int128 v166; // xmm7
  __int128 v167; // kr00_16
  __int128 v168; // xmm5
  __int128 v169; // kr00_16
  __int128 v170; // kr00_16
  int *v177; // rax
  __int64 v178; // rdx
  unsigned __int64 v179; // rcx
  unsigned __int64 size; // rcx
  void *v181; // rsp
  void *v182; // rsp
  __int64 *v183; // r12
  unsigned __int64 v184; // rcx
  unsigned __int64 size_1; // rcx
  void *v186; // rsp
  void *v187; // rsp
  int v188; // ebx
  signed __int64 v189; // rdx
  unsigned __int64 v190; // rdi
  __int64 v191; // r15
  __int64 v192; // r12
  __int64 v193; // rax
  int n0x40; // ecx
  unsigned __int64 v195; // rdx
  __int64 v196; // r8
  __int64 v197; // rax
  __int64 v198; // rcx
  double v199; // xmm15_8
  double v200; // xmm14_8
  double v201; // xmm13_8
  double v202; // xmm12_8
  double v203; // xmm11_8
  double v204; // xmm6_8
  double v205; // xmm10_8
  _QWORD *v206; // r8
  unsigned int v207; // ebx
  double v208; // xmm2_8
  double *v209; // rcx
  double v210; // xmm9_8
  double v211; // xmm5_8
  double v212; // xmm4_8
  double v213; // xmm8_8
  double v214; // xmm5_8
  double v215; // xmm1_8
  double v216; // xmm4_8
  double v217; // xmm10_8
  double v218; // xmm9_8
  double v219; // xmm11_8
  double v220; // xmm7_8
  double v221; // xmm8_8
  double *v222; // rax
  __int64 v223; // rax
  __int64 v224; // rdi
  unsigned __int64 *v225; // rbx
  __int64 v226; // r15
  int v237; // eax
  float v238; // xmm9_4
  float v239; // xmm7_4
  float v240; // xmm13_4
  __int128 v241; // xmm1
  __int128 v243; // xmm4
  __int128 v246; // kr00_16
  float v251; // xmm0_4
  __int64 v252; // r8
  __int64 TlsIndex; // rdi
  _DWORD *v254; // rcx
  __int64 v255; // r9
  int v256; // eax
  __int64 v257; // rcx
  int v258; // eax
  __int64 i; // rbx
  __int64 v260; // rcx
  __int64 v261; // r10
  __int128 v262; // kr00_16
  __int64 v265; // rax
  int v266; // edx
  __int128 v267; // kr00_16
  int v270; // eax
  __int64 j; // rbx
  __int64 v272; // rcx
  double v273; // xmm1_8
  double v274; // xmm1_8
  float v275; // xmm3_4
  float v276; // xmm2_4
  float v277; // xmm0_4
  double v278; // xmm1_8
  double v279; // xmm1_8
  __int64 v280; // rdx
  signed __int32 *v281; // roff
  signed __int32 v282; // eax
  signed __int32 v283; // ett
  int v285; // eax
  int v286; // eax
  int v287; // eax
  int v288; // eax
  int v289; // ebx
  __int64 v290; // rdi
  _DWORD *v291; // rcx
  unsigned __int64 v292; // rbx
  __int64 v293; // rdi
  unsigned __int64 v294; // rax
  _DWORD *v295; // rcx
  __int64 v296; // rax
  int n0xC; // eax
  int v298; // ecx
  int v299; // eax
  unsigned int v300; // eax
  int v301; // eax
  char v302; // cl
  float v303; // xmm0_4
  float v304; // xmm0_4
  float v305; // xmm0_4
  float v306; // xmm0_4
  float v307; // xmm0_4
  float v308; // xmm0_4
  float v309; // xmm0_4
  float v310; // xmm0_4
  float v311; // xmm0_4
  volatile signed __int64 *v312; // rdi
  __int64 v313; // rax
  double v314; // xmm1_8
  int v315; // eax
  __int128 v316; // xmm2
  __int64 v317; // r8
  __int64 *v318; // rdx
  float *v319; // rcx
  __int64 v320; // rax
  float v321; // xmm0_4
  __int128 v322; // kr00_16
  int v325; // ebx
  __int64 v326; // rdi
  __int64 v327; // rax
  unsigned __int64 n0x200000_1; // rax
  int v329; // eax
  int v330; // ecx
  int v331; // ebx
  int *ThreadLogContextSlot; // rax
  __int64 v333; // rax
  int n0x40_2; // r12d
  unsigned __int64 v335; // rbx
  __int64 v336; // rdi
  unsigned __int64 v337; // rax
  _DWORD *v338; // rcx
  __int64 v339; // rax
  unsigned __int64 n0x200000_2; // rax
  int v341; // ecx
  unsigned int v342; // eax
  __int64 v343; // rcx
  int v344; // eax
  const void *v345; // rcx
  int n0x80_1; // ecx
  unsigned int n0x80; // eax
  unsigned __int64 allocSize; // rax
  unsigned __int64 n0x80_2; // kr00_8
  int v350; // ecx
  float v351; // xmm0_4
  int v352; // eax
  int v353; // eax
  int v354; // eax
  int v355; // eax
  int v356; // eax
  float v357; // xmm1_4
  float v358; // xmm2_4
  __int64 v359; // rcx
  float v360; // xmm0_4
  float v361; // xmm0_4
  float v362; // xmm0_4
  float v363; // xmm0_4
  float v364; // xmm0_4
  float v365; // xmm0_4
  __int64 v366; // rax
  _DWORD *v367; // rbx
  _DWORD *v368; // rax
  unsigned __int64 n0x200000; // rax
  __int64 v370; // [rsp+50h] [rbp+0h] BYREF
  char v371; // [rsp+58h] [rbp+8h]
  unsigned int v372; // [rsp+5Ch] [rbp+Ch]
  int n0x40_3; // [rsp+60h] [rbp+10h]
  unsigned int v374; // [rsp+64h] [rbp+14h]
  __int64 v375; // [rsp+68h] [rbp+18h] BYREF
  __int64 v376; // [rsp+70h] [rbp+20h] BYREF
  double v377; // [rsp+78h] [rbp+28h] BYREF
  float v378; // [rsp+80h] [rbp+30h]
  float v379; // [rsp+84h] [rbp+34h]
  double v380; // [rsp+88h] [rbp+38h]
  float v381; // [rsp+90h] [rbp+40h]
  __int128 v382; // [rsp+A0h] [rbp+50h] BYREF
  _QWORD *v383; // [rsp+B0h] [rbp+60h]
  double v384; // [rsp+B8h] [rbp+68h]
  unsigned __int64 v385; // [rsp+C8h] [rbp+78h]
  __int128 v386; // [rsp+D0h] [rbp+80h] BYREF
  const void *v387; // [rsp+E0h] [rbp+90h]
  float v388[3]; // [rsp+E8h] [rbp+98h] BYREF
  float v389[3]; // [rsp+F4h] [rbp+A4h] BYREF
  __m128 v390; // [rsp+100h] [rbp+B0h] BYREF
  double v391; // [rsp+110h] [rbp+C0h]
  __int64 v392; // [rsp+118h] [rbp+C8h]
  __int128 v393; // [rsp+120h] [rbp+D0h] BYREF
  int v394; // [rsp+130h] [rbp+E0h] BYREF
  __int128 v395; // [rsp+138h] [rbp+E8h]
  unsigned __int64 v396; // [rsp+148h] [rbp+F8h]
  float v397; // [rsp+150h] [rbp+100h]
  float v398; // [rsp+154h] [rbp+104h]
  float v399; // [rsp+158h] [rbp+108h]
  float v400; // [rsp+15Ch] [rbp+10Ch]
  unsigned int v401; // [rsp+160h] [rbp+110h]
  unsigned int v402; // [rsp+164h] [rbp+114h]
  int n0x300; // [rsp+168h] [rbp+118h]
  char v404; // [rsp+16Ch] [rbp+11Ch]
  __int64 v405; // [rsp+170h] [rbp+120h]
  __m128 v406; // [rsp+180h] [rbp+130h]
  double v407; // [rsp+190h] [rbp+140h]
  __m128 v408; // [rsp+198h] [rbp+148h]
  double v409; // [rsp+1A8h] [rbp+158h]
  int n0x2800_1; // [rsp+1B0h] [rbp+160h] BYREF
  __int64 v411; // [rsp+1B4h] [rbp+164h]
  int v412; // [rsp+1BCh] [rbp+16Ch]
  __int64 v413; // [rsp+1C0h] [rbp+170h]
  unsigned __int64 v414; // [rsp+1C8h] [rbp+178h]
  __int64 v415; // [rsp+1D0h] [rbp+180h]
  __int64 v416; // [rsp+1D8h] [rbp+188h]
  int n0x2800_5; // [rsp+200h] [rbp+1B0h] BYREF
  __int64 v418; // [rsp+204h] [rbp+1B4h]
  int v419; // [rsp+20Ch] [rbp+1BCh]
  __int64 v420; // [rsp+210h] [rbp+1C0h]
  unsigned __int64 v421; // [rsp+218h] [rbp+1C8h]
  __int64 v422; // [rsp+220h] [rbp+1D0h]
  __int64 v423; // [rsp+228h] [rbp+1D8h]
  int n0x2800_4; // [rsp+250h] [rbp+200h] BYREF
  __int64 v425; // [rsp+254h] [rbp+204h]
  int v426; // [rsp+25Ch] [rbp+20Ch]
  __int64 v427; // [rsp+260h] [rbp+210h]
  unsigned __int64 v428; // [rsp+268h] [rbp+218h]
  __int64 v429; // [rsp+270h] [rbp+220h]
  __int64 v430; // [rsp+278h] [rbp+228h]
  int n0x2800_2; // [rsp+2A0h] [rbp+250h] BYREF
  __int64 v432; // [rsp+2A4h] [rbp+254h]
  int v433; // [rsp+2ACh] [rbp+25Ch]
  __int64 v434; // [rsp+2B0h] [rbp+260h]
  unsigned __int64 v435; // [rsp+2B8h] [rbp+268h]
  __int64 v436; // [rsp+2C0h] [rbp+270h]
  __int64 v437; // [rsp+2C8h] [rbp+278h]
  int n0x2800_3; // [rsp+2F0h] [rbp+2A0h] BYREF
  __int64 v439; // [rsp+2F4h] [rbp+2A4h]
  int v440; // [rsp+2FCh] [rbp+2ACh]
  __int64 v441; // [rsp+300h] [rbp+2B0h]
  unsigned __int64 v442; // [rsp+308h] [rbp+2B8h]
  __int64 v443; // [rsp+310h] [rbp+2C0h]
  __int64 v444; // [rsp+318h] [rbp+2C8h]
  int n0x2800; // [rsp+340h] [rbp+2F0h] BYREF
  __int64 v446; // [rsp+344h] [rbp+2F4h]
  int v447; // [rsp+34Ch] [rbp+2FCh]
  __int64 v448; // [rsp+350h] [rbp+300h]
  unsigned __int64 v449; // [rsp+358h] [rbp+308h]
  __int64 v450; // [rsp+360h] [rbp+310h]
  __int64 v451; // [rsp+368h] [rbp+318h]
  int v452; // [rsp+390h] [rbp+340h] BYREF
  unsigned __int64 v453; // [rsp+394h] [rbp+344h]
  int v454; // [rsp+39Ch] [rbp+34Ch]
  double v455; // [rsp+3B0h] [rbp+360h]
  double v456; // [rsp+3B8h] [rbp+368h]
  double v457; // [rsp+3C0h] [rbp+370h]
  float v458; // [rsp+3C8h] [rbp+378h]
  float v459; // [rsp+3CCh] [rbp+37Ch]
  float v460; // [rsp+3D0h] [rbp+380h]
  float v461; // [rsp+3D4h] [rbp+384h]
  unsigned int v462; // [rsp+3D8h] [rbp+388h]
  int v463; // [rsp+3DCh] [rbp+38Ch]
  unsigned __int64 v464; // [rsp+3E0h] [rbp+390h]
  float v465; // [rsp+3E8h] [rbp+398h]
  int v466; // [rsp+3ECh] [rbp+39Ch]
  __int64 v467[2]; // [rsp+3F0h] [rbp+3A0h] BYREF
  _QWORD v468[2]; // [rsp+400h] [rbp+3B0h] BYREF
  __m128 v469; // [rsp+410h] [rbp+3C0h] BYREF
  double v470; // [rsp+420h] [rbp+3D0h]
  char v471[8]; // [rsp+428h] [rbp+3D8h] BYREF
  __int64 v472; // [rsp+430h] [rbp+3E0h]
  _DWORD *v473; // [rsp+440h] [rbp+3F0h]
  int v474; // [rsp+448h] [rbp+3F8h]
  unsigned int v475; // [rsp+44Ch] [rbp+3FCh]
  double v476; // [rsp+450h] [rbp+400h] BYREF
  double v477; // [rsp+458h] [rbp+408h]
  double v478; // [rsp+460h] [rbp+410h]
  double v479; // [rsp+468h] [rbp+418h]
  double v480; // [rsp+470h] [rbp+420h]
  double v481; // [rsp+478h] [rbp+428h]
  double v482; // [rsp+480h] [rbp+430h]
  double v483[7]; // [rsp+488h] [rbp+438h] BYREF
  __int128 v484; // [rsp+4C0h] [rbp+470h] BYREF
  double v485; // [rsp+4D0h] [rbp+480h]
  __int128 v486; // [rsp+4E0h] [rbp+490h] BYREF
  double v487; // [rsp+4F0h] [rbp+4A0h]
  double v488[3]; // [rsp+500h] [rbp+4B0h] BYREF
  double v489[3]; // [rsp+518h] [rbp+4C8h] BYREF
  char v490[8]; // [rsp+530h] [rbp+4E0h] BYREF
  int v491; // [rsp+538h] [rbp+4E8h]
  float v492; // [rsp+590h] [rbp+540h]
  _BYTE v493[48]; // [rsp+650h] [rbp+600h] BYREF
  int v494; // [rsp+680h] [rbp+630h]
  _BYTE v495[100]; // [rsp+770h] [rbp+720h] BYREF
  int v496; // [rsp+7D4h] [rbp+784h]
  _BYTE v497[100]; // [rsp+890h] [rbp+840h] BYREF
  float v498; // [rsp+8F4h] [rbp+8A4h]
  _BYTE v499[16]; // [rsp+9B0h] [rbp+960h] BYREF
  int v500; // [rsp+9C0h] [rbp+970h]
  int v501; // [rsp+A4Ch] [rbp+9FCh]
  __int128 v502; // [rsp+AD0h] [rbp+A80h]
  __int128 v503; // [rsp+AE0h] [rbp+A90h]
  __int128 v504; // [rsp+AF0h] [rbp+AA0h]
  __int128 v505; // [rsp+B00h] [rbp+AB0h]
  __int128 v506; // [rsp+B10h] [rbp+AC0h]
  __int128 v507; // [rsp+B20h] [rbp+AD0h]
  __int128 v508; // [rsp+B30h] [rbp+AE0h]
  __int128 v509; // [rsp+B40h] [rbp+AF0h]
  __int128 v510; // [rsp+B50h] [rbp+B00h]
  __int128 v511; // [rsp+B60h] [rbp+B10h]

  v511 = v3;
  v510 = v4;
  v509 = v5;
  v508 = v6;
  v507 = v7;
  v506 = v8;
  v505 = v9;
  v504 = v10;
  v503 = v11;
  v502 = v12;
  n0x40_1 = 0;
  v377 = *(double *)&a2;
  v446 = 0;
  v15 = *(double *)&a2;
  v447 = 0;
  v449 = 0;
  v450 = 0;
  v451 = 0;
  n0x2800 = 0x2800;
  v448 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  sub_146765070((__int64)v471, a1, *(_QWORD *)(a1 + 0x2C0), *(int **)&v15, a3, 0, 0, 0);
  if ( v474 )
  {
    v17 = v475;
    goto LABEL_111;
  }
  v18 = *(double *)(a1 + 0x20);
  v19 = *(_QWORD *)(a1 + 0xB8);
  v20 = *(_DWORD *)(a1 + 0x208);
  v406 = *(__m128 *)(a1 + 0x10);
  v408 = *(__m128 *)(a1 + 0x28);
  v393 = *(_OWORD *)(a1 + 0x1C0);
  v21 = *(double *)(a1 + 0x1D0);
  v407 = v18;
  v22 = *(double *)(a1 + 0x38);
  v376 = v19;
  v380 = v21;
  v409 = v22;
  v374 = sub_1468D70F0(a1, *(_QWORD *)&v15, 1);
  v23 = v374;
  if ( !v374 )
    goto LABEL_163;
  n0xF = **(_DWORD **)&v15;
  if ( !**(_DWORD **)&v15 )
  {
    n0x2800_1 = 0x2800;
    v411 = 0;
    v412 = 0;
    v414 = 0;
    v415 = 0;
    v416 = 0;
    v413 = 1;
    qword_149A05E00(&n0x2800_1, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    v26 = 0;
    *(float *)&v372 = 0.0;
    v27 = *(_OWORD *)(a1 + 0x628);
    v28 = *(float *)(a1 + 0x64C);
    v29 = *(float *)(a1 + 0x640);
    v391 = *(double *)(a1 + 0x638);
    LODWORD(v375) = *(_DWORD *)(a1 + 0x644);
    LODWORD(v370) = *(_DWORD *)(a1 + 0x648);
    *(float *)&v383 = v28;
    *(float *)&v382 = v29;
    v386 = v27;
    if ( *(_DWORD *)(a1 + 0x290) )
      v381 = *(float *)(*(_QWORD *)(a1 + 0x230) + 0x1CLL);
    else
      v381 = 1.0;
    v392 = *(_QWORD *)(*(_QWORD *)&v15 + 8LL);
    if ( (HIDWORD(v392) & 0xFFF40000) != 0xFFF40000 )
    {
      v30 = *(float *)(a1 + 0x6D8);
      v31 = *(float *)(a1 + 0x1DC);
      v32 = *(float *)(a1 + 0x6E0);
      v33 = *(float *)(a1 + 0x1E0);
      v34 = *(float *)(a1 + 0x6DC);
      v35 = *(float *)(a1 + 0x1E4);
      v36 = *(float *)(a1 + 0x1D8);
      v37 = (float)((float)(v32 * v31) - (float)(v34 * v33)) + (float)(v30 * v35);
      v38 = (float)((float)(v30 * v33) - (float)(v36 * v32)) + (float)(v35 * v34);
      v39 = (float)((float)(v36 * v34) - (float)(v30 * v31)) + (float)(v35 * v32);
      *(double *)(a1 + 0x628) = (float)((float)((float)(v31 * v39) - (float)(v33 * v38))
                                      + (float)(v30 + (float)((float)(v31 * v39) - (float)(v33 * v38))))
                              + *(double *)(a1 + 0x1C0);
      *(double *)(a1 + 0x630) = (float)((float)((float)(v33 * v37) - (float)(v36 * v39))
                                      + (float)(v34 + (float)((float)(v33 * v37) - (float)(v36 * v39))))
                              + *(double *)(a1 + 0x1C8);
      v26 = 1;
      *(double *)(a1 + 0x638) = (float)((float)((float)(v36 * v38) - (float)(v31 * v37))
                                      + (float)(v32 + (float)((float)(v36 * v38) - (float)(v31 * v37))))
                              + *(double *)(a1 + 0x1D0);
      v372 = 1;
    }
    n0x40_3 = *(_DWORD *)(*(_QWORD *)&v15 + 0x2CLL);
    if ( (n0x40_3 & 0xFFA00000) != 0xFFA00000 )
    {
      v40 = *(float *)(a1 + 0x1D8);
      v41 = *(float *)(a1 + 0x1DC);
      v42 = *(float *)(a1 + 0x6E0);
      v43 = *(float *)(a1 + 0x1E0);
      v44 = *(float *)(a1 + 0x6DC);
      v45 = *(float *)(a1 + 0x6D8);
      v46 = *(float *)(a1 + 0x1E4);
      v47 = (float)((float)(v42 * v41) - (float)(v44 * v43)) + (float)(v45 * v46);
      v48 = (float)((float)(v45 * v43) - (float)(v40 * v42)) + (float)(v46 * v44);
      v49 = (float)((float)(v40 * v44) - (float)(v45 * v41)) + (float)(v46 * v42);
      *(double *)(a1 + 0x628) = (float)((float)((float)(v49 * v41) - (float)(v48 * v43))
                                      + (float)((float)((float)(v49 * v41) - (float)(v48 * v43)) + v45))
                              + *(double *)(a1 + 0x1C0);
      *(double *)(a1 + 0x630) = (float)((float)((float)(v47 * v43) - (float)(v49 * v40))
                                      + (float)((float)((float)(v47 * v43) - (float)(v49 * v40)) + v44))
                              + *(double *)(a1 + 0x1C8);
      *(double *)(a1 + 0x638) = (float)((float)((float)(v48 * v40) - (float)(v47 * v41))
                                      + (float)((float)((float)(v48 * v40) - (float)(v47 * v41)) + v42))
                              + *(double *)(a1 + 0x1D0);
      v50 = *(float *)(a1 + 0x6C8);
      v51 = *(float *)(a1 + 0x1DC);
      v52 = *(float *)(a1 + 0x6D4);
      v53 = *(float *)(a1 + 0x1E4);
      v54 = *(float *)(a1 + 0x1E0);
      LODWORD(v55) = *(_DWORD *)(a1 + 0x6D0) ^ 0x80000000;
      LODWORD(v56) = *(_DWORD *)(a1 + 0x6CC) ^ 0x80000000;
      v57 = (float)((float)(v50 * v51) + (float)(v40 * v56)) + (float)((float)(v52 * v54) + (float)(v55 * v53));
      v58 = (float)((float)(v56 * v53) - (float)((float)(v54 * v50) + (float)(v40 * v55))) + (float)(v52 * v51);
      v59 = (float)((float)((float)(v51 * v55) - (float)(v54 * v56)) - (float)(v50 * v53)) + (float)(v52 * v40);
      v60 = (float)(v56 * v51) - (float)(v50 * v40);
      v61 = v54 * v55;
      v28 = *(float *)&v383;
      v29 = *(float *)&v382;
      v26 = 1;
      *(float *)(a1 + 0x64C) = (float)(v52 * v53) - (float)(v60 + v61);
      *(float *)(a1 + 0x640) = v59;
      *(float *)(a1 + 0x644) = v58;
      *(float *)(a1 + 0x648) = v57;
      v372 = 1;
    }
    v62 = v375;
    v63 = v370;
    v64 = *(float *)(a1 + 0x64C);
    v65 = *(float *)(a1 + 0x644);
    v66 = *(float *)(a1 + 0x648);
    LODWORD(v67) = *(_DWORD *)(a1 + 0x640) ^ 0x80000000;
    v68 = (float)((float)((float)(COERCE_FLOAT(LODWORD(v65) ^ 0x80000000) * v29) - (float)(v67 * *(float *)&v375))
                + (float)(COERCE_FLOAT(LODWORD(v66) ^ 0x80000000) * v28))
        + (float)(v64 * *(float *)&v370);
    v69 = (float)((float)((float)(*(float *)&v370 * v67) - (float)(COERCE_FLOAT(LODWORD(v66) ^ 0x80000000) * v29))
                + (float)(COERCE_FLOAT(LODWORD(v65) ^ 0x80000000) * v28))
        + (float)(v64 * *(float *)&v375);
    *(float *)&v370 = v69 * v69;
    v70 = v391 - *(double *)(a1 + 0x638);
    _XMM0 = v386;
    __asm { vunpckhpd xmm1, xmm0, xmm0 }
    *(double *)&_XMM0 = *(double *)&v386 - *(double *)(a1 + 0x628);
    __asm { vmovupd [rbp+0B50h+var_B00], xmm1 }
    *(double *)&_XMM1 = *(double *)&_XMM1 - *(double *)(a1 + 0x630);
    *(float *)&v375 = v68 * v68;
    v73 = *(double *)&_XMM0 * *(double *)&_XMM0 + *(double *)&_XMM1 * *(double *)&_XMM1 + v70 * v70;
    _XMM2 = COERCE_UNSIGNED_INT64(0.000009000000318337698 - v73);
    __asm { vminsd  xmm1, xmm2, xmm0 }
    v384 = *(double *)&_XMM1;
    v385 = (unsigned __int64)_XMM1 >> 0x3F;
    if ( (__int64)_XMM1 >= 0
      || (v76 = *(_DWORD *)(*(_QWORD *)&v15 + 0x38LL), (v76 & 0x20) != 0)
      || (*(_BYTE *)(a1 + 0x208) & 0x20) != 0 )
    {
      _XMM2 = COERCE_UNSIGNED_INT64(0.000000009999999051046871 - v73);
      __asm { vminsd  xmm1, xmm2, xmm0 }
      v377 = *(double *)&_XMM1;
      if ( (__int64)_XMM1 >= 0 )
        goto LABEL_77;
      v237 = *(_DWORD *)(*(_QWORD *)&v15 + 0x38LL);
      if ( (v237 & 0x20) != 0
        || (*(_BYTE *)(a1 + 0x208) & 0x20) != 0
        || (v237 & 2) != 0
        || *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) <= 0.0 )
      {
        goto LABEL_77;
      }
      LODWORD(v238) = v63 ^ 0x80000000;
      LODWORD(v239) = v62 ^ 0x80000000;
      v240 = *(float *)(a1 + 0x640);
      v87 = (float)((float)(v239 * v240) + (float)(v65 * v29))
          + (float)((float)(v66 * v28) + (float)(v64 * COERCE_FLOAT(v63 ^ 0x80000000)));
      v88 = (float)((float)(v64 * v239) - (float)((float)(v238 * v240) + (float)(v29 * v66))) + (float)(v65 * v28);
      v89 = (float)((float)((float)(v65 * v238) - (float)(v239 * v66)) - (float)(v64 * v29)) + (float)(v240 * v28);
      v241 = *(unsigned __int64 *)(a1 + 0x630);
      __asm { vmovupd xmm2, [rbp+0B50h+var_B00] }
      v243 = *(unsigned __int64 *)(a1 + 0x628);
      v379 = (float)(v64 * v28) - (float)((float)((float)(v239 * v65) - (float)(v29 * v240)) + (float)(v238 * v66));
      _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x638) - v391);
      *((_QWORD *)&v246 + 1) = *((_QWORD *)&v241 + 1);
      *(double *)&v246 = *(double *)&v241 - *(double *)&_XMM2;
      _XMM2 = v246;
      *((_QWORD *)&v246 + 1) = *((_QWORD *)&v243 + 1);
      *(double *)&v246 = *(double *)&v243 - *(double *)&v386;
      _XMM0 = v246;
      __asm
      {
        vcvtsd2ss xmm1, xmm0, xmm0
        vcvtsd2ss xmm0, xmm3, xmm3
        vcvtsd2ss xmm2, xmm2, xmm2
      }
      v389[2] = *(float *)&_XMM0;
      v389[0] = *(float *)&_XMM1;
      v389[1] = *(float *)&_XMM2;
      v97 = v389;
    }
    else
    {
      if ( *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) > 0.0 )
      {
        if ( (v76 & 0x1000) == 0 )
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 8);
        v77 = 0;
        if ( *(int *)(a1 + 0x148) > 0 )
        {
          v78 = 0;
          do
          {
            if ( !(*(unsigned int (__fastcall **)(_QWORD, __int64, _QWORD))(**(_QWORD **)(v78 + *(_QWORD *)(a1 + 0x140))
                                                                          + 0x258LL))(
                    *(_QWORD *)(v78 + *(_QWORD *)(a1 + 0x140)),
                    a1,
                    0) )
              (*(void (__fastcall **)(_QWORD, __int64, __int64))(**(_QWORD **)(v78 + *(_QWORD *)(a1 + 0x140)) + 0x268LL))(
                *(_QWORD *)(v78 + *(_QWORD *)(a1 + 0x140)),
                1,
                8);
            ++v77;
            v78 += 8;
          }
          while ( v77 < *(_DWORD *)(a1 + 0x148) );
        }
        v26 = v372;
      }
      v79 = *(_QWORD *)(a1 + 0xB8);
      v80 = *(_QWORD *)(a1 + 0x2C0);
      v375 = v79;
      if ( v19 == v79 )
        sub_146933C00(v80, a1, 0x80, 0);
      else
        CPhysicalWorld::RegisterForDetachContacts(v80, a1);
      if ( (*(_BYTE *)(*(_QWORD *)&v15 + 0x38LL) & 2) != 0 )
      {
        if ( v19 != v79 )
        {
          v98 = *(double *)(a1 + 0x1D0);
          v99 = *(_QWORD *)(a1 + 0x2C0);
          v484 = *(_OWORD *)(a1 + 0x1C0);
          v485 = v98;
          v486 = v393;
          v487 = v380;
          CPhysicalWorld::GetRelativeVelocityTransform(
            v99,
            (unsigned int)v483,
            v19,
            (unsigned int)&v486,
            v79,
            (__int64)&v484,
            1);
          if ( !v26 )
          {
            v100 = *(float *)(a1 + 0x1D8);
            v101 = *(float *)(a1 + 0x1DC);
            v102 = *(float *)(a1 + 0x6E0);
            v103 = *(float *)(a1 + 0x1E0);
            v104 = *(float *)(a1 + 0x6DC);
            v105 = *(float *)(a1 + 0x6D8);
            v106 = *(float *)(a1 + 0x1E4);
            v107 = (float)((float)(v102 * v101) - (float)(v104 * v103)) + (float)(v105 * v106);
            v108 = (float)((float)(v105 * v103) - (float)(v100 * v102)) + (float)(v106 * v104);
            v109 = (float)((float)(v100 * v104) - (float)(v105 * v101)) + (float)(v106 * v102);
            *(double *)(a1 + 0x628) = (float)((float)((float)(v101 * v109) - (float)(v103 * v108))
                                            + (float)(v105 + (float)((float)(v101 * v109) - (float)(v103 * v108))))
                                    + *(double *)(a1 + 0x1C0);
            *(double *)(a1 + 0x630) = (float)((float)((float)(v103 * v107) - (float)(v100 * v109))
                                            + (float)(v104 + (float)((float)(v103 * v107) - (float)(v100 * v109))))
                                    + *(double *)(a1 + 0x1C8);
            *(double *)(a1 + 0x638) = (float)((float)((float)(v100 * v108) - (float)(v101 * v107))
                                            + (float)(v102 + (float)((float)(v100 * v108) - (float)(v101 * v107))))
                                    + *(double *)(a1 + 0x1D0);
            v110 = *(float *)(a1 + 0x6CC);
            v111 = *(float *)(a1 + 0x1DC);
            v112 = *(float *)(a1 + 0x6C8);
            v113 = *(float *)(a1 + 0x1E4);
            v114 = *(float *)(a1 + 0x6D4);
            v115 = *(float *)(a1 + 0x6D0);
            v116 = *(float *)(a1 + 0x1E0);
            *(float *)(a1 + 0x640) = (float)((float)((float)(v115 * v111) - (float)(v110 * v116)) + (float)(v112 * v113))
                                   + (float)(v114 * v100);
            *(float *)(a1 + 0x644) = (float)((float)((float)(v112 * v116) - (float)(v115 * v100)) + (float)(v110 * v113))
                                   + (float)(v114 * v111);
            *(float *)(a1 + 0x648) = (float)((float)((float)(v110 * v100) - (float)(v112 * v111)) + (float)(v115 * v113))
                                   + (float)(v114 * v116);
            *(float *)(a1 + 0x64C) = (float)(v114 * v113)
                                   - (float)((float)((float)(v110 * v111) + (float)(v112 * v100)) + (float)(v115 * v116));
          }
          if ( *(double *)(a1 + 0x6B0) > 0.0 )
          {
            v117 = sub_14675BEE0(v488, v483, (float *)(a1 + 0x68C));
            _XMM0 = *(unsigned __int64 *)v117;
            _XMM1 = *((unsigned __int64 *)v117 + 1);
            _XMM2 = *((unsigned __int64 *)v117 + 2);
            __asm
            {
              vcvtpd2ps xmm0, xmm0
              vcvtpd2ps xmm1, xmm1
              vcvtpd2ps xmm2, xmm2
            }
            *(float *)(a1 + 0x68C) = *(float *)&_XMM0;
            *(float *)(a1 + 0x690) = *(float *)&_XMM1;
            *(float *)(a1 + 0x694) = *(float *)&_XMM2;
            v124 = sub_14675BEE0(v489, v483, (float *)(a1 + 0x698));
            v125 = v483[1];
            v126 = v483[2];
            v127 = v483[0];
            _XMM0 = *(unsigned __int64 *)v124;
            _XMM1 = *((unsigned __int64 *)v124 + 1);
            _XMM2 = *((unsigned __int64 *)v124 + 2);
            v131 = v483[3];
            __asm { vcvtpd2ps xmm0, xmm0 }
            *(float *)(a1 + 0x698) = *(float *)&_XMM0;
            __asm { vcvtpd2ps xmm1, xmm1 }
            *(float *)(a1 + 0x69C) = *(float *)&_XMM1;
            __asm { vcvtpd2ps xmm2, xmm2 }
            *(float *)(a1 + 0x6A0) = *(float *)&_XMM2;
            _XMM5 = *(unsigned __int64 *)(a1 + 0x6B0);
            v384 = *(double *)(a1 + 0x68C);
            v135 = (__m128)*(unsigned __int64 *)&v384;
            __asm { vcvtpd2ps xmm5, xmm5 }
            *(double *)(a1 + 0x660) = (float)(*(float *)(a1 + 0x694) * *(float *)&_XMM5);
            *(double *)(a1 + 0x658) = (float)(_mm_shuffle_ps(v135, v135, 0x55).m128_f32[0] * *(float *)&_XMM5);
            *(double *)(a1 + 0x650) = (float)(v135.m128_f32[0] * *(float *)&_XMM5);
            *(double *)&_XMM5 = *(float *)(a1 + 0x680);
            v138 = *(float *)(a1 + 0x688);
            v139 = *(float *)(a1 + 0x684);
            v140 = v138 * v125 - v139 * v126 + *(double *)&_XMM5 * v131;
            *((_QWORD *)&v141 + 1) = 0;
            *(double *)&v141 = *(double *)&_XMM5 * v126 - v138 * v127 + v139 * v131;
            v142 = v141;
            v143 = v139 * v127 - *(double *)&_XMM5 * v125 + v138 * v131;
            _XMM6 = COERCE_UNSIGNED_INT64(v143 * v125 - *(double *)&v142 * v126 + v143 * v125
                                                                                - *(double *)&v142 * v126
                                                                                + *(double *)&_XMM5);
            *((_QWORD *)&v141 + 1) = 0;
            *(double *)&v141 = v140 * v126 - v143 * v127 + v140 * v126 - v143 * v127 + v139;
            _XMM5 = v141;
            *((_QWORD *)&v141 + 1) = *((_QWORD *)&v142 + 1);
            *(double *)&v141 = *(double *)&v142 * v127 - v140 * v125 + *(double *)&v142 * v127 - v140 * v125 + v138;
            _XMM4 = v141;
            __asm { vcvtsd2ss xmm1, xmm4, xmm4 }
            *(float *)(a1 + 0x688) = *(float *)&_XMM1;
            v372 = _XMM1;
            __asm
            {
              vcvtsd2ss xmm15, xmm6, xmm6
              vcvtsd2ss xmm0, xmm5, xmm5
            }
            *(float *)(a1 + 0x684) = *(float *)&_XMM0;
            *(float *)&v370 = *(float *)&_XMM0;
            *(float *)(a1 + 0x680) = *(float *)&_XMM15;
            *(double *)&_XMM5 = *(float *)(a1 + 0x6A4);
            v150 = *(float *)(a1 + 0x6AC);
            v151 = *(float *)(a1 + 0x6A8);
            v152 = v150 * v125 - v151 * v126 + *(double *)&_XMM5 * v131;
            *((_QWORD *)&v141 + 1) = 0;
            *(double *)&v141 = *(double *)&_XMM5 * v126 - v150 * v127 + v151 * v131;
            v153 = v141;
            *(double *)&_XMM4 = v151 * v127 - *(double *)&_XMM5 * v125 + v150 * v131;
            _XMM6 = COERCE_UNSIGNED_INT64(
                      *(double *)&_XMM4 * v125
                    - *(double *)&v153 * v126
                    + *(double *)&_XMM5
                    + *(double *)&_XMM4 * v125
                    - *(double *)&v153 * v126);
            *((_QWORD *)&v141 + 1) = 0;
            *(double *)&v141 = v152 * v126 - *(double *)&_XMM4 * v127 + v151 + v152 * v126 - *(double *)&_XMM4 * v127;
            _XMM5 = v141;
            *((_QWORD *)&v141 + 1) = *((_QWORD *)&v153 + 1);
            *(double *)&v141 = *(double *)&v153 * v127 - v152 * v125;
            *(double *)&_XMM1 = v150 + *(double *)&v141;
            LODWORD(v150) = v370;
            *(double *)&v141 = *(double *)&v141 + *(double *)&_XMM1;
            _XMM4 = v141;
            __asm { vcvtsd2ss xmm1, xmm4, xmm4 }
            v158 = v372;
            *(float *)(a1 + 0x6AC) = *(float *)&_XMM1;
            __asm { vcvtsd2ss xmm0, xmm6, xmm6 }
            *(float *)(a1 + 0x6A4) = *(float *)&_XMM0;
            __asm { vcvtsd2ss xmm3, xmm5, xmm5 }
            *(float *)(a1 + 0x6A8) = *(float *)&_XMM3;
            LODWORD(v131) = *(_DWORD *)(a1 + 0x64C);
            LODWORD(v127) = *(_DWORD *)(a1 + 0x640);
            v161 = *(unsigned int *)(a1 + 0x648);
            v162 = *(unsigned int *)(a1 + 0x644);
            v163 = v158;
            *(float *)&v152 = (float)((float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&v158)
                                    - (float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&v150))
                            + (float)(*(float *)&v131 * *(float *)&_XMM15);
            *(float *)&v163 = (float)((float)(*(float *)&v158 * *(float *)&v127)
                                    + (float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&_XMM15))
                            + (float)(*(float *)&v131 * *(float *)&v150);
            v164 = v163;
            *(float *)&v158 = (float)(*(float *)&v131 * *(float *)&v158)
                            - (float)((float)(*(float *)&v150 * *(float *)&v127)
                                    + (float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&_XMM15));
            v165 = v162 ^ xmmword_1480D3750;
            *(float *)&v165 = (float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&v158)
                            - (float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&v164);
            *(float *)&v165 = *(float *)&v165 + (float)(*(float *)&v165 + *(float *)&_XMM15);
            v166 = v165;
            v167 = v161 ^ xmmword_1480D3750;
            *(float *)&v167 = (float)((float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&v152)
                                    + (float)(*(float *)&v158 * *(float *)&v127))
                            + (float)((float)((float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&v152)
                                            + (float)(*(float *)&v158 * *(float *)&v127))
                                    + *(float *)&v150);
            v168 = v167;
            v169 = v164;
            *(float *)&v169 = *(float *)&v164 * *(float *)&v127;
            v170 = v169 ^ xmmword_1480D3750;
            *(double *)&v170 = (float)((float)(*(float *)&v170
                                             - (float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&v152))
                                     + (float)((float)(*(float *)&v170
                                                     - (float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&v152))
                                             + *(float *)&v372))
                             * *(double *)(a1 + 0x608);
            _XMM0 = v170;
            __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
            *((_QWORD *)&v170 + 1) = *((_QWORD *)&v168 + 1);
            *(double *)&v170 = *(float *)&v168 * *(double *)(a1 + 0x600);
            _XMM0 = v170;
            __asm { vcvtsd2ss xmm9, xmm0, xmm0 }
            *((_QWORD *)&v170 + 1) = *((_QWORD *)&v166 + 1);
            *(double *)&v170 = *(float *)&v166 * *(double *)(a1 + 0x5F8);
            _XMM2 = v170;
            __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
            *(float *)&v152 = (float)((float)(*(float *)&_XMM10 * *(float *)&v162)
                                    - (float)(*(float *)&_XMM9 * *(float *)&v161))
                            + (float)(*(float *)&v131 * *(float *)&_XMM5);
            *(float *)&v166 = (float)((float)(*(float *)&_XMM5 * *(float *)&v161)
                                    - (float)(*(float *)&_XMM10 * *(float *)&v127))
                            + (float)(*(float *)&v131 * *(float *)&_XMM9);
            *(float *)&v158 = (float)((float)(*(float *)&_XMM9 * *(float *)&v127)
                                    - (float)(*(float *)&_XMM5 * *(float *)&v162))
                            + (float)(*(float *)&v131 * *(float *)&_XMM10);
            *(double *)(a1 + 0x678) = (float)((float)((float)(*(float *)&v127 * *(float *)&v166)
                                                    - (float)(*(float *)&v162 * *(float *)&v152))
                                            + (float)(*(float *)&_XMM10
                                                    + (float)((float)(*(float *)&v127 * *(float *)&v166)
                                                            - (float)(*(float *)&v162 * *(float *)&v152))));
            *(double *)(a1 + 0x668) = (float)((float)((float)(*(float *)&v162 * *(float *)&v158)
                                                    - (float)(*(float *)&v161 * *(float *)&v166))
                                            + (float)(*(float *)&_XMM5
                                                    + (float)((float)(*(float *)&v162 * *(float *)&v158)
                                                            - (float)(*(float *)&v161 * *(float *)&v166))));
            *(double *)(a1 + 0x670) = (float)((float)((float)(*(float *)&v161 * *(float *)&v152)
                                                    - (float)(*(float *)&v127 * *(float *)&v158))
                                            + (float)(*(float *)&_XMM9
                                                    + (float)((float)(*(float *)&v161 * *(float *)&v152)
                                                            - (float)(*(float *)&v127 * *(float *)&v158))));
          }
          (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A0LL))(a1);
          v177 = (int *)(a1 + 0x148);
          if ( *(int *)(a1 + 0x148) > 0x40 )
            v177 = (int *)&unk_148AC21C0;
          v178 = *v177;
          v179 = 8 * v178 + 0xF;
          if ( v179 <= 8 * v178 )
            v179 = 0xFFFFFFFFFFFFFF0LL;
          size = v179 & 0xFFFFFFFFFFFFFFF0uLL;
          v181 = alloca(size);
          v182 = alloca(size);
          v183 = &v370;
          *(_QWORD *)&v382 = &v370;
          v184 = 0x38 * v178 + 0xF;
          if ( v184 <= 0x38 * v178 )
            v184 = 0xFFFFFFFFFFFFFF0LL;
          size_1 = v184 & 0xFFFFFFFFFFFFFFF0uLL;
          v186 = alloca(size_1);
          v187 = alloca(size_1);
          *(float *)&v188 = 0.0;
          *(float *)&v372 = 0.0;
          v384 = COERCE_DOUBLE(&v370);
          v189 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
          if ( (v189 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0x8C8),
              v189,
              (__int64)"CRigidEntity::SetParams",
              (__int64)"m_lockContacts",
              1);
          if ( *(_QWORD *)(a1 + 0x500) )
          {
            CPhysicalWorld::GetRelativeTransform(
              *(_QWORD *)(a1 + 0x2C0),
              (unsigned int)&v476,
              v376,
              v375,
              0x3F800000,
              1);
            v190 = 1;
            v191 = v382;
            *(_QWORD *)&v380 = *(_QWORD *)&v384 + 0x30LL;
            v192 = 0;
            v193 = 0;
            n0x40_3 = 0;
            v370 = 0;
            n0x40 = 0;
            v383 = (_QWORD *)v382;
            do
            {
              v195 = *(_QWORD *)(a1 + 0x500);
              if ( v190 > v195 )
                break;
              if ( (v195 & v190) != 0 )
              {
                if ( *(_QWORD *)(v370 + *(_QWORD *)(a1 + 0x4F0))
                  || (v196 = *(_QWORD *)(v192 + *(_QWORD *)(a1 + 0x4E8) + 0x20)) == 0
                  || *(_DWORD *)(v196 + 0xF4) >= 7u )
                {
                  v193 = v370;
                }
                else
                {
                  if ( unknown_libname_247(v191, v191 + 8LL * v188, v196) != v191 + 8LL * v188 )
                    goto LABEL_57;
                  v197 = *(_QWORD *)(a1 + 0x4E8);
                  v452 = 1;
                  v453 = 0xFFFFFFFFFFFFFFFFuLL;
                  v454 = 0;
                  v463 = 0;
                  v466 = 0;
                  v464 = 0xFFFFFFFFFFFFFFFFuLL;
                  HIDWORD(v455) = 0xFFF7FFFF;
                  v461 = NAN;
                  v462 = 0xFFBFFFFF;
                  v465 = 0.0;
                  if ( !(*(unsigned int (__fastcall **)(_QWORD, int *))(**(_QWORD **)(v192 + v197 + 0x20) + 0x28LL))(
                          *(_QWORD *)(v192 + v197 + 0x20),
                          &v452) )
                    goto LABEL_57;
                  v198 = *(_QWORD *)(v192 + *(_QWORD *)(a1 + 0x4E8) + 0x20);
                  if ( *(_QWORD *)(v198 + 0xB8) != v375 )
                  {
                    v199 = v477;
                    v200 = v478;
                    v201 = v479;
                    v202 = v476;
                    v203 = v457;
                    v204 = v456;
                    v205 = v455;
                    v206 = v383;
                    v207 = v372;
                    v208 = v477 * v457 - v478 * v456;
                    *v383 = v198;
                    v188 = v207 + 1;
                    v209 = *(double **)&v380;
                    v210 = v208 + v201 * v205;
                    v211 = v200 * v205 - v202 * v203 + v201 * v204;
                    v212 = v202 * v204 - v199 * v205 + v201 * v203;
                    v213 = v212 * v199 - v211 * v200;
                    v214 = v211 * v202 - v210 * v199;
                    v215 = v210 * v200 - v212 * v202 + v204 + v481 + v210 * v200 - v212 * v202;
                    v216 = v214 + v203 + v482;
                    *(double *)(*(_QWORD *)&v380 - 0x10LL) = v213 + v205 + v480 + v213;
                    v209[0xFFFFFFFF] = v215;
                    *v209 = v214 + v216;
                    v217 = v459;
                    v218 = v458;
                    v219 = v460;
                    v220 = v461;
                    v221 = v459 * v202 - v458 * v199 + v460 * v201 + v461 * v200;
                    v222 = v209 + 0xFFFFFFFA;
                    v372 = v188;
                    v383 = v206 + 1;
                    *(_QWORD *)&v380 = v209 + 7;
                    v222[3] = v461 * v201 - (v458 * v202 + v459 * v199 + v460 * v200);
                    *v222 = v219 * v199 - v217 * v200 + v218 * v201 + v220 * v202;
                    v222[1] = v218 * v200 - v219 * v202 + v217 * v201 + v220 * v199;
                    v222[2] = v221;
                  }
                  else
                  {
LABEL_57:
                    v188 = v372;
                  }
                  v193 = v370;
                }
                n0x40 = n0x40_3;
              }
              ++n0x40;
              v190 = __ROL8__(v190, 1);
              v193 += 0x100;
              n0x40_3 = n0x40;
              v192 += 0x108;
              v370 = v193;
            }
            while ( n0x40 < 0x40 );
            v15 = v377;
            v183 = (__int64 *)v382;
          }
          v25 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8C8));
          if ( (v25 & 0x3FF) == 0 && (v25 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8C8), v25);
          v394 = 0;
          DWORD1(v395) = 0xFFF7FFFF;
          v404 = v404 & 0xF0 | 8;
          v405 = v375;
          v223 = v188;
          v401 = 0xFFBFFFFF;
          v402 = 0x80000000;
          n0x300 = 0x300;
          if ( v188 > 0 )
          {
            v224 = 0;
            v225 = (unsigned __int64 *)(*(_QWORD *)&v384 + 0x18LL);
            v226 = v223;
            do
            {
              v395 = *(_OWORD *)(v225 + 1);
              v396 = v225[3];
              _XMM3 = *v225;
              _XMM0 = v225[0xFFFFFFFD];
              _XMM1 = v225[0xFFFFFFFE];
              _XMM2 = v225[0xFFFFFFFF];
              __asm { vcvtpd2ps xmm3, xmm3 }
              v400 = *(float *)&_XMM3;
              __asm { vcvtpd2ps xmm0, xmm0 }
              v397 = *(float *)&_XMM0;
              __asm { vcvtpd2ps xmm1, xmm1 }
              v398 = *(float *)&_XMM1;
              __asm { vcvtpd2ps xmm2, xmm2 }
              v399 = *(float *)&_XMM2;
              (*(void (__fastcall **)(__int64, int *, __int64))(*(_QWORD *)v183[v224] + 0x18LL))(v183[v224], &v394, 1);
              ++v224;
              v225 += 7;
            }
            while ( v224 < v226 );
            v15 = v377;
          }
          v19 = v376;
        }
        goto LABEL_77;
      }
      if ( *(double *)(a1 + 0x6B0) > 0.0 )
      {
        *(_QWORD *)(a1 + 0x690) = 0;
        *(_QWORD *)(a1 + 0x688) = 0;
        *(_QWORD *)(a1 + 0x680) = 0;
        *(_QWORD *)(a1 + 0x660) = 0;
        *(_QWORD *)(a1 + 0x658) = 0;
        *(_QWORD *)(a1 + 0x650) = 0;
        *(_QWORD *)(a1 + 0x678) = 0;
        *(_QWORD *)(a1 + 0x670) = 0;
        *(_QWORD *)(a1 + 0x668) = 0;
        *(_QWORD *)(a1 + 0x69C) = 0;
        *(_DWORD *)(a1 + 0x698) = 0;
        *(_QWORD *)(a1 + 0x6A8) = 0;
        *(_DWORD *)(a1 + 0x6A4) = 0;
      }
      if ( *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) <= 0.0 )
      {
LABEL_77:
        if ( (unsigned int)(*(_DWORD *)(*(_QWORD *)&v15 + 0x34LL) + 0x7FFFFFFF) <= 0x80000001 )
          *(_DWORD *)(a1 + 0x4AC) = (unsigned int)(1 - *(_DWORD *)(a1 + 0xF4)) >> 0x1F;
        v251 = *(float *)(*(_QWORD *)&v15 + 0x30LL);
        *(float *)&v370 = v251;
        if ( (LODWORD(v251) & 0xFFA00000) != 0xFFA00000 && *(_DWORD *)(a1 + 0x290) && fabs(v251 - v381) > 0.001 )
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x348LL))(a1, 0xFFFFFFFFLL, 1);
        v252 = *(unsigned int *)(a1 + 0x290);
        if ( (_DWORD)v252
          && *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) > 0.0
          && (*(_BYTE *)(a1 + 0x208) & 0x20) == 0
          && (*(_BYTE *)(*(_QWORD *)&v15 + 0x38LL) & 0x20) == 0
          && *(int *)(a1 + 0xF4) <= 2 )
        {
          TlsIndex = (unsigned int)::TlsIndex;
          if ( *(double *)(a1 + 0x6B8) == 0.0 )
          {
            v25 = 0;
            if ( (int)v252 > 0 )
            {
              v254 = *(_DWORD **)(a1 + 0x248);
              v255 = *(_QWORD *)(a1 + 0x240) - (_QWORD)v254;
              do
              {
                v256 = *v254 | *(_DWORD *)((char *)v254 + v255);
                v254 += 2;
                v25 = v256 | (unsigned int)v25;
                --v252;
              }
              while ( v252 );
              if ( (v25 & 1) != 0 )
              {
                v257 = *(_QWORD *)(a1 + 0x2C0);
                if ( *(_DWORD *)(v257 + 0x82E34) )
                {
                  sub_146933C00(v257, a1, (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10, 0);
                }
                else
                {
                  v258 = CPhysicalWorld::GetEntitiesAround(
                           v257,
                           (double *)(a1 + 0x10),
                           (double *)(a1 + 0x28),
                           (__int64)&v376,
                           *(_DWORD *)(a1 + 0x510) & 0x1A | 0x40u,
                           a1,
                           *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)::TlsIndex)
                                     + 0x800LL),
                           0,
                           0)
                       - 1;
                  for ( i = v258; i >= 0; --i )
                  {
                    v260 = *(_QWORD *)(v376 + 8 * i);
                    if ( v260 != a1 )
                      (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v260 + 0x268LL))(v260, 1);
                  }
                }
              }
            }
          }
          if ( *(int *)(a1 + 0x188) < 0 && (_DWORD)v385 )
          {
            v261 = *(_QWORD *)(a1 + 0x2C0);
            if ( *(_DWORD *)(v261 + 0x82E34) )
            {
              sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10, 0);
            }
            else
            {
              v262 = *(unsigned int *)(v261 + 0x13C);
              *(double *)&v262 = (float)(*(float *)(v261 + 0x13C) * 4.0);
              _XMM3 = v262;
              __asm { vmovddup xmm3, xmm3 }
              v265 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + TlsIndex);
              v391 = *(double *)_XMM3.m128_u64 + v409;
              v266 = *(_DWORD *)(v265 + 0x800);
              LODWORD(v265) = *(_DWORD *)(a1 + 0x510);
              v390 = _mm_add_pd(_XMM3, v408);
              v267 = *(unsigned int *)(v261 + 0x13C);
              *(double *)&v267 = (float)(*(float *)(v261 + 0x13C) * 4.0);
              _XMM2 = v267;
              __asm { vmovddup xmm2, xmm2 }
              v470 = v407 - *(double *)_XMM2.m128_u64;
              v469 = _mm_sub_pd(v406, _XMM2);
              v270 = CPhysicalWorld::GetEntitiesAround(
                       v261,
                       (double *)v469.m128_u64,
                       (double *)v390.m128_u64,
                       (__int64)&v376,
                       v265 & 0x1A,
                       a1,
                       v266,
                       v19,
                       0)
                   - 1;
              for ( j = v270; j >= 0; --j )
              {
                v272 = *(_QWORD *)(v376 + 8 * j);
                if ( v272 != a1 )
                  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v272 + 0x268LL))(v272, 1);
              }
            }
          }
        }
        v273 = *(double *)(a1 + 0x638);
        *(_OWORD *)(a1 + 0x7C0) = *(_OWORD *)(a1 + 0x628);
        *(double *)(a1 + 0x7D0) = v273;
        *(_DWORD *)(a1 + 0x848) = *(_DWORD *)(a1 + 0x640);
        *(_DWORD *)(a1 + 0x84C) = *(_DWORD *)(a1 + 0x644);
        *(_DWORD *)(a1 + 0x850) = *(_DWORD *)(a1 + 0x648);
        *(_DWORD *)(a1 + 0x854) = *(_DWORD *)(a1 + 0x64C);
        if ( (*(_BYTE *)(*(_QWORD *)&v15 + 0x38LL) & 0x40) != 0 && (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 )
          sub_1467C8250((__int64 *)a1, (float *)v25, 0, 0);
        *(_OWORD *)(a1 + 0x468) = *(_OWORD *)(a1 + 0x1C0);
        v274 = *(double *)(a1 + 0x1D0);
        *(double *)(a1 + 0x478) = v274;
        *(_OWORD *)(a1 + 0x450) = *(_OWORD *)(a1 + 0x468);
        *(double *)(a1 + 0x460) = v274;
        v275 = *(float *)(a1 + 0x1D8);
        *(float *)(a1 + 0x490) = v275;
        v276 = *(float *)(a1 + 0x1DC);
        *(float *)(a1 + 0x494) = v276;
        LODWORD(v274) = *(_DWORD *)(a1 + 0x1E0);
        *(float *)(a1 + 0x498) = *(float *)&v274;
        v277 = *(float *)(a1 + 0x1E4);
        *(float *)(a1 + 0x488) = *(float *)&v274;
        *(float *)(a1 + 0x49C) = v277;
        *(float *)(a1 + 0x48C) = v277;
        *(float *)(a1 + 0x480) = v275;
        *(float *)(a1 + 0x484) = v276;
        *(_OWORD *)(a1 + 0x418) = *(_OWORD *)(a1 + 0x1C0);
        v278 = *(double *)(a1 + 0x1D0);
        *(double *)(a1 + 0x428) = v278;
        *(_OWORD *)(a1 + 0x3E8) = *(_OWORD *)(a1 + 0x418);
        *(double *)(a1 + 0x3F8) = v278;
        *(_OWORD *)(a1 + 0x430) = *(_OWORD *)(a1 + 0x1C0);
        v279 = *(double *)(a1 + 0x1D0);
        *(double *)(a1 + 0x440) = v279;
        *(_OWORD *)(a1 + 0x400) = *(_OWORD *)(a1 + 0x430);
        *(double *)(a1 + 0x410) = v279;
        v414 = __rdtsc();
        qword_149A05E08(&n0x2800_1);
        v17 = v374;
LABEL_111:
        if ( v474 )
          goto LABEL_131;
        goto LABEL_127;
      }
      LODWORD(v81) = v62 ^ 0x80000000;
      v82 = *(float *)(a1 + 0x64C);
      v83 = *(float *)(a1 + 0x648);
      v84 = *(float *)(a1 + 0x640);
      v85 = *(float *)(a1 + 0x644);
      LODWORD(v86) = v63 ^ 0x80000000;
      v87 = (float)((float)(v83 * v28) + (float)(v82 * COERCE_FLOAT(v63 ^ 0x80000000)))
          + (float)((float)(v84 * v81) + (float)(v85 * v29));
      v88 = (float)((float)(v81 * v82) - (float)((float)(v84 * v86) + (float)(v29 * v83))) + (float)(v85 * v28);
      v89 = (float)((float)((float)(v85 * v86) - (float)(v81 * v83)) - (float)(v82 * v29)) + (float)(v84 * v28);
      __asm { vmovupd xmm2, [rbp+0B50h+var_B00] }
      _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x630) - *(double *)&_XMM2);
      v379 = (float)(v82 * v28) - (float)((float)((float)(v85 * v81) - (float)(v84 * v29)) + (float)(v86 * v83));
      _XMM4 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x638) - v391);
      _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x628) - *(double *)&v386);
      __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
      v388[0] = *(float *)&_XMM1;
      __asm
      {
        vcvtsd2ss xmm1, xmm4, xmm4
        vcvtsd2ss xmm0, xmm3, xmm3
      }
      v388[2] = *(float *)&_XMM1;
      v388[1] = *(float *)&_XMM0;
      v97 = v388;
    }
    *(float *)&v377 = v89;
    *((float *)&v377 + 1) = v88;
    v378 = v87;
    sub_1467C4DB0(a1, v97, (float *)&v377);
    goto LABEL_77;
  }
  if ( n0xF != 6 )
  {
    if ( n0xF == 0xF )
    {
      v285 = *(_DWORD *)(*(_QWORD *)&v15 + 4LL);
      if ( v285 != 0x80000000 && (v285 & 0x100) != 0
        || (v286 = *(_DWORD *)(*(_QWORD *)&v15 + 8LL), v286 != 0x80000000) && (v286 & 0x100) != 0 )
      {
        *(_DWORD *)(a1 + 0x4A4) |= 0x10000000u;
      }
      if ( (v20 & 0x10000) != 0
        && (*(_DWORD *)(a1 + 0x208) & 0x10000) == 0
        && *(float *)(a1 + 0x36C) < *(float *)(a1 + 0x368)
        && *(float *)(a1 + 0x8B0) > 0.0
        && !*(_DWORD *)(a1 + 0x4AC) )
      {
        (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, 1);
      }
      v287 = *(_DWORD *)(*(_QWORD *)&v15 + 4LL);
      if ( v287 != 0x80000000 && (v287 & 0x20) != 0
        || (v288 = *(_DWORD *)(*(_QWORD *)&v15 + 8LL), v288 != 0x80000000) && (v288 & 0x20) != 0 )
      {
        v289 = 0;
        if ( *(int *)(a1 + 0x148) > 0 )
        {
          v290 = 0;
          do
          {
            v291 = *(_DWORD **)(v290 + *(_QWORD *)(a1 + 0x140));
            if ( v291 && v291[0x3D] < 7u )
              (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v291 + 0x268LL))(v291, 1);
            ++v289;
            v290 += 8;
          }
          while ( v289 < *(_DWORD *)(a1 + 0x148) );
        }
        v292 = 1;
        v293 = 0;
        do
        {
          v294 = *(_QWORD *)(a1 + 0x500);
          if ( v292 > v294 )
            break;
          if ( (v294 & v292) != 0 )
          {
            v295 = *(_DWORD **)(v293 + *(_QWORD *)(a1 + 0x4F0));
            if ( v295 )
            {
              if ( v295[0x3D] < 7u )
                (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v295 + 0x268LL))(v295, 1);
            }
          }
          ++n0x40_1;
          v292 = __ROL8__(v292, 1);
          v293 += 0x100;
        }
        while ( n0x40_1 < 0x40 );
        sub_1421396A0(v499);
        v296 = *(_QWORD *)a1;
        v501 = 1;
        v500 = 1;
        (*(void (__fastcall **)(__int64, _BYTE *, __int64))(v296 + 0x30))(a1, v499, 1);
        CRigidEntity::DetachAllContacts(a1);
        if ( *(_DWORD *)(a1 + 0x4AC) )
          (*(void (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 0, 0);
      }
      goto LABEL_126;
    }
LABEL_163:
    n0xC = **(_DWORD **)&v15;
    if ( **(_DWORD **)&v15 != 0xA )
    {
      if ( n0xC == 0xC )
      {
        n0x2800_2 = 0x2800;
        v432 = 0;
        v433 = 0;
        v435 = 0;
        v436 = 0;
        v437 = 0;
        v434 = 1;
        qword_149A05E00(&n0x2800_2, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v357 = 1000.0;
        v358 = 1000.0;
        v359 = *(_QWORD *)(*(_QWORD *)(a1 + 0xB8) + 0x48LL);
        if ( v359 )
        {
          v385 = *(_QWORD *)(v359 + 0x610);
          if ( (HIDWORD(v385) & 0xFFF40000) != 0xFFF40000 )
          {
            v357 = *(float *)(v359 + 0x5DC);
            v358 = *(float *)(v359 + 0x5E8);
          }
        }
        v360 = *(float *)(*(_QWORD *)&v15 + 4LL);
        *(float *)&v370 = v360;
        if ( (LODWORD(v360) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A4) = v360 / v357;
        v361 = *(float *)(*(_QWORD *)&v15 + 8LL);
        *(float *)&v370 = v361;
        if ( (LODWORD(v361) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A4) = v361;
        v362 = *(float *)(*(_QWORD *)&v15 + 0x10LL);
        *(float *)&v370 = v362;
        if ( (LODWORD(v362) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A8) = v362 / v358;
        v363 = *(float *)(*(_QWORD *)&v15 + 0x14LL);
        *(float *)&v370 = v363;
        if ( (LODWORD(v363) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A8) = v363;
        v364 = *(float *)(*(_QWORD *)&v15 + 0x70LL);
        *(float *)&v370 = v364;
        if ( (LODWORD(v364) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8AC) = v364;
        v365 = *(float *)(*(_QWORD *)&v15 + 0xCLL);
        *(float *)&v370 = v365;
        if ( (LODWORD(v365) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A0) = v365;
        v435 = __rdtsc();
        qword_149A05E08(&n0x2800_2);
        v17 = 1;
        goto LABEL_127;
      }
      if ( n0xC == 0x21 )
      {
        n0x2800_3 = 0x2800;
        v439 = 0;
        v440 = 0;
        v442 = 0;
        v443 = 0;
        v444 = 0;
        v441 = 1;
        qword_149A05E00(&n0x2800_3, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v366 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0x200000, 0);
        if ( v366 )
          sub_1403DE750(a1 + 0x8F0, v366, 0, (__int64)"CRigidEntity::SetParams", (__int64)"m_netDesiredStateLock", 1);
        v367 = *(_DWORD **)(a1 + 0x8E8);
        if ( !v367 )
        {
          v368 = (_DWORD *)allocWithProfilerInfo_w(0xC8u);
          v367 = v368;
          if ( v368 )
          {
            memset(v368, 0, 0xC0u);
            *v367 = 0x21;
            v367[0x12] = 0xFFBFFFFF;
            v367[0x15] = 0xFFBFFFFF;
            *((_BYTE *)v367 + 0xBD) = 1;
            *((_QWORD *)v367 + 0x18) = 0;
          }
          else
          {
            v367 = 0;
          }
          *(_QWORD *)(a1 + 0x8E8) = v367;
        }
        sub_146768890(v367, *(_QWORD *)&v15);
        *(_BYTE *)(*(_QWORD *)(a1 + 0x8E8) + 0xBDLL) = 1;
        *(double *)(*(_QWORD *)(a1 + 0x8E8) + 0xC0LL) = *(double *)(*(_QWORD *)(a1 + 0x2C0) + 0x81928LL)
                                                      - *(double *)(*(_QWORD *)(a1 + 0x8E8) + 0xB0LL);
        CPhysicalWorld::RegisterForNetworkedStateUpdate(*(_QWORD *)(a1 + 0x2C0), a1);
        if ( a1 != 0xFFFFFFFFFFFFF710uLL )
        {
          n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0, 0x200000);
          if ( n0x200000 != 0x200000 )
            sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8F0), n0x200000);
        }
        v442 = __rdtsc();
        qword_149A05E08(&n0x2800_3);
        v17 = 1;
        goto LABEL_127;
      }
      goto LABEL_126;
    }
    n0x2800_4 = 0x2800;
    v425 = 0;
    v426 = 0;
    v428 = 0;
    v429 = 0;
    v430 = 0;
    v427 = 1;
    qword_149A05E00(&n0x2800_4, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    v298 = *(_DWORD *)(*(_QWORD *)&v15 + 0x64LL);
    v371 = 0;
    if ( v298 != 0x80000000 )
    {
      v299 = *(_DWORD *)(a1 + 0x208);
      if ( v298 <= 0 )
        v300 = v299 & 0xBFFFFFFF;
      else
        v300 = v299 | 0x40000000;
      *(_DWORD *)(a1 + 0x208) = v300;
    }
    v301 = *(_DWORD *)(*(_QWORD *)&v15 + 0x68LL);
    if ( v301 != 0x80000000 )
    {
      v302 = *(_BYTE *)(a1 + 0x384);
      if ( v301 > 0 != ((v302 & 0x10) != 0) )
      {
        *(_BYTE *)(a1 + 0x384) = (0x10 * (v301 > 0)) | v302 & 0xEF;
        sub_1403721C0(v493);
        v494 = 1;
        sub_146627CB0(a1 + 0x228, (__int64)v493);
      }
    }
    LODWORD(v370) = *(_DWORD *)(*(_QWORD *)&v15 + 0x18LL);
    if ( (v370 & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(a1 + 0x538) = *(double *)(*(_QWORD *)&v15 + 0x18LL);
      *(_DWORD *)(a1 + 0x540) = *(_DWORD *)(*(_QWORD *)&v15 + 0x20LL);
      LODWORD(v370) = *(_DWORD *)(*(_QWORD *)&v15 + 0x2CLL);
      if ( (v370 & 0xFFA00000) == 0xFFA00000 )
      {
        *(double *)(a1 + 0x544) = *(double *)(*(_QWORD *)&v15 + 0x18LL);
        *(_DWORD *)(a1 + 0x54C) = *(_DWORD *)(*(_QWORD *)&v15 + 0x20LL);
      }
    }
    v303 = *(float *)(*(_QWORD *)&v15 + 8LL);
    *(float *)&v370 = v303;
    if ( (LODWORD(v303) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x554) = v303;
    v304 = *(float *)(*(_QWORD *)&v15 + 0xCLL);
    *(float *)&v370 = v304;
    if ( (LODWORD(v304) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x550) = v304;
    v305 = *(float *)(*(_QWORD *)&v15 + 0x10LL);
    *(float *)&v370 = v305;
    if ( (LODWORD(v305) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x8AC) = v305;
    v306 = *(float *)(*(_QWORD *)&v15 + 0x14LL);
    *(float *)&v370 = v306;
    if ( (LODWORD(v306) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x570) = v306;
    LODWORD(v370) = *(_DWORD *)(*(_QWORD *)&v15 + 0x2CLL);
    if ( (v370 & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(a1 + 0x544) = *(double *)(*(_QWORD *)&v15 + 0x2CLL);
      *(_DWORD *)(a1 + 0x54C) = *(_DWORD *)(*(_QWORD *)&v15 + 0x34LL);
    }
    v307 = *(float *)(*(_QWORD *)&v15 + 0x24LL);
    *(float *)&v370 = v307;
    if ( (LODWORD(v307) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x574) = v307;
    v308 = *(float *)(*(_QWORD *)&v15 + 0x28LL);
    *(float *)&v370 = v308;
    if ( (LODWORD(v308) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x578) = v308;
    v309 = *(float *)(*(_QWORD *)&v15 + 0x38LL);
    *(float *)&v370 = v309;
    if ( (LODWORD(v309) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x580) = v309;
    v310 = *(float *)(*(_QWORD *)&v15 + 0x40LL);
    *(float *)&v370 = v310;
    if ( (LODWORD(v310) & 0xFFA00000) != 0xFFA00000 && v310 >= 0.0 && *(int *)(a1 + 0x290) > 0 )
    {
      sub_1403721C0(v495);
      v496 = *(_DWORD *)(*(_QWORD *)&v15 + 0x40LL);
      sub_146627CB0(a1 + 0x228, (__int64)v495);
      v371 = 1;
    }
    v311 = *(float *)(*(_QWORD *)&v15 + 0x3CLL);
    *(float *)&v370 = v311;
    if ( (LODWORD(v311) & 0xFFA00000) != 0xFFA00000 && v311 >= 0.0 && *(int *)(a1 + 0x290) > 0 )
    {
      v312 = (volatile signed __int64 *)(a1 + 0xC8);
      v313 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v313 )
        sub_1403DE750(a1 + 0xC8, v313, 0, (__int64)"CRigidEntity::SetParams", (__int64)"m_lockUpdate", 1);
      v314 = *(double *)(a1 + 0x6B0);
      if ( v314 == 0.0 )
      {
        sub_1403721C0(v497);
        v315 = *(_DWORD *)(a1 + 0x290);
        v316 = 0;
        if ( v315 > 0 )
        {
          v317 = (unsigned int)v315;
          v318 = *(__int64 **)(a1 + 0x238);
          v319 = (float *)(*(_QWORD *)(a1 + 0x230) + 0x1CLL);
          do
          {
            v320 = *v318++;
            v321 = *v319;
            v319 += 8;
            v322 = v316;
            *(float *)&v322 = *(float *)&v316 + (float)((float)(v321 * *(float *)(v320 + 0x40)) * (float)(v321 * v321));
            v316 = v322;
            --v317;
          }
          while ( v317 );
          if ( *(float *)&v322 > 0.0 )
          {
            v498 = *(float *)(*(_QWORD *)&v15 + 0x3CLL) / *(float *)&v322;
            sub_146627CB0(a1 + 0x228, (__int64)v497);
          }
        }
      }
      else
      {
        _XMM1 = COERCE_UNSIGNED_INT64(*(float *)(*(_QWORD *)&v15 + 0x3CLL) / v314);
        __asm { vcvtsd2ss xmm6, xmm1, xmm1 }
        sub_1403721C0(v490);
        v325 = 0;
        if ( *(int *)(a1 + 0x290) > 0 )
        {
          v326 = 0;
          do
          {
            v327 = *(_QWORD *)(a1 + 0x258);
            v491 = v325;
            v492 = *(float *)&_XMM6 * *(float *)(v326 + v327);
            sub_146627CB0(a1 + 0x228, (__int64)v490);
            ++v325;
            v326 += 0x18;
          }
          while ( v325 < *(_DWORD *)(a1 + 0x290) );
          v312 = (volatile signed __int64 *)(a1 + 0xC8);
        }
      }
      v371 = 1;
      if ( v312 )
      {
        n0x200000_1 = _InterlockedCompareExchange64(v312, 0, 0x200000);
        if ( n0x200000_1 != 0x200000 )
          sub_1403DEBA0(v312, n0x200000_1);
      }
    }
    v329 = *(_DWORD *)(*(_QWORD *)&v15 + 0x60LL);
    if ( v329 != 0x80000000 )
    {
      v330 = 0;
      if ( v329 > 0 && !*(_DWORD *)(a1 + 0x844) )
      {
        if ( (*(_DWORD *)(a1 + 0x208) & 0x20000000) != 0 )
        {
          LogTraceConditional(
            "[WARNING] physics : flag ref_no_recompute_mass already present on non-kinematic entity %s.The flag will get "
            "removed when re-enabling simulation",
            *(const char **)(a1 + 0xD0));
          v375 = 0x6A000000D0LL;
          v467[0] = (__int64)&v375;
          v467[1] = (__int64)&v376;
          v331 = invokeGlobalCallbackAndMaskStatusBits(
                   5,
                   (__int64)v467,
                   (__int64)"CRigidEntity::SetParams",
                   "[WARNING] physics : flag ref_no_recompute_mass already present on non-kinematic entity [$$]. The flag"
                   " will get removed when re-enabling simulation");
          if ( (v331 & 0xFFFFF) != 0 )
          {
            *((_QWORD *)&v386 + 1) = *(_QWORD *)(a1 + 0xD0);
            *(_QWORD *)&v386 = 0;
            v387 = 0;
            ThreadLogContextSlot = getThreadLogContextSlot();
            *(_QWORD *)&v382 = 0x6A000000D0LL;
            v468[0] = &v382;
            v468[1] = (char *)&v382 + 8;
            v393 = 0;
            sub_140445100(
              5,
              (__int64)v468,
              (void *)"CRigidEntity::SetParams",
              (__int64)"[WARNING] physics : flag ref_no_recompute_mass already present on non-kinematic entity [$$]. The "
                       "flag will get removed when re-enabling simulation",
              1,
              v331,
              (__int64)&v393,
              0,
              (__int64)ThreadLogContextSlot,
              &v386);
            sub_1402A63C0(v387);
          }
        }
        *(_QWORD *)(a1 + 0x5B0) = 0;
        *(_QWORD *)(a1 + 0x5B8) = 0;
        *(_QWORD *)(a1 + 0x5C0) = 0;
        *(_QWORD *)(a1 + 0x5C8) = 0;
        *(_QWORD *)(a1 + 0x5D0) = 0;
        *(_QWORD *)(a1 + 0x5D8) = 0;
        *(_QWORD *)(a1 + 0x5E0) = 0;
        *(_QWORD *)(a1 + 0x5E8) = 0;
        *(_QWORD *)(a1 + 0x5F0) = 0;
        *(_QWORD *)(a1 + 0x608) = 0;
        *(_QWORD *)(a1 + 0x600) = 0;
        *(_QWORD *)(a1 + 0x5F8) = 0;
        *(_QWORD *)(a1 + 0x620) = 0;
        *(_QWORD *)(a1 + 0x618) = 0;
        *(_QWORD *)(a1 + 0x610) = 0;
        *(_DWORD *)(a1 + 0x208) |= 0x20000000u;
        *(_DWORD *)(a1 + 0x844) = 1;
        *(_QWORD *)(a1 + 0x690) = 0;
        *(_QWORD *)(a1 + 0x688) = 0;
        *(_QWORD *)(a1 + 0x680) = 0;
        *(_QWORD *)(a1 + 0x660) = 0;
        *(_QWORD *)(a1 + 0x658) = 0;
        *(_QWORD *)(a1 + 0x650) = 0;
        *(_QWORD *)(a1 + 0x678) = 0;
        *(_QWORD *)(a1 + 0x670) = 0;
        *(_QWORD *)(a1 + 0x668) = 0;
        *(_QWORD *)(a1 + 0x69C) = 0;
        *(_DWORD *)(a1 + 0x698) = 0;
        *(_QWORD *)(a1 + 0x6A8) = 0;
        *(_DWORD *)(a1 + 0x6A4) = 0;
        *(_QWORD *)(a1 + 0x770) = 0;
        *(_QWORD *)(a1 + 0x768) = 0;
        *(_QWORD *)(a1 + 0x760) = 0;
        *(_QWORD *)(a1 + 0x788) = 0;
        *(_QWORD *)(a1 + 0x780) = 0;
        *(_QWORD *)(a1 + 0x778) = 0;
        *(_QWORD *)(a1 + 0x7DC) = 0;
        *(_DWORD *)(a1 + 0x7D8) = 0;
        *(_QWORD *)(a1 + 0x7E8) = 0;
        *(_DWORD *)(a1 + 0x7E4) = 0;
        *(_QWORD *)(a1 + 0x7F4) = 0;
        *(_DWORD *)(a1 + 0x7F0) = 0;
        *(_QWORD *)(a1 + 0x800) = 0;
        *(_DWORD *)(a1 + 0x7FC) = 0;
        *(_QWORD *)(a1 + 0x6B8) = 0;
        *(_QWORD *)(a1 + 0x6B0) = 0;
        v333 = *(_QWORD *)(a1 + 0x980);
        v371 = 0;
        if ( v333 != *(_QWORD *)(a1 + 0x988) )
          *(_QWORD *)(a1 + 0x988) = v333;
        v330 = 1;
      }
      if ( !*(_DWORD *)(*(_QWORD *)&v15 + 0x60LL) && *(_DWORD *)(a1 + 0x844) == 1 )
      {
        *(_DWORD *)(a1 + 0x208) &= ~0x20000000u;
        *(_DWORD *)(a1 + 0x844) = 0;
        v371 = 1;
        goto LABEL_226;
      }
      if ( v330 )
      {
LABEL_226:
        n0x40_2 = 0;
        v335 = 1;
        v336 = 0;
        do
        {
          v337 = *(_QWORD *)(a1 + 0x500);
          if ( v335 > v337 )
            break;
          if ( (v337 & v335) != 0 )
          {
            v338 = *(_DWORD **)(v336 + *(_QWORD *)(a1 + 0x4F0));
            if ( v338 )
            {
              if ( v338[0x3D] < 7u )
                (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v338 + 0x268LL))(v338, 1);
            }
          }
          ++n0x40_2;
          v335 = __ROL8__(v335, 1);
          v336 += 0x100;
        }
        while ( n0x40_2 < 0x40 );
      }
    }
    if ( v371 )
    {
      v339 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v339 )
        sub_1403DE750(a1 + 0xC8, v339, 0, (__int64)"CRigidEntity::SetParams", (__int64)"m_lockUpdate", 1);
      (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x348LL))(a1, 0xFFFFFFFFLL, 1);
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_2 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_2);
      }
    }
    v341 = *(_DWORD *)(*(_QWORD *)&v15 + 4LL);
    if ( v341 != 0x80000000 )
    {
      *(_DWORD *)(a1 + 0xF4) = v341;
      v342 = 1 - v341;
      v343 = *(_QWORD *)(a1 + 0x2C0);
      *(_DWORD *)(a1 + 0x4AC) = v342 >> 0x1F;
      sub_146933C00(v343, a1, 2, 0);
    }
    v344 = *(_DWORD *)(*(_QWORD *)&v15 + 0x4CLL);
    if ( v344 != 0x80000000 && v344 != *(_DWORD *)(a1 + 0x4B4) )
    {
      v345 = *(const void **)(a1 + 0x890);
      if ( v345 )
      {
        sub_1402A63C0(v345);
        *(_QWORD *)(a1 + 0x890) = 0;
      }
      n0x80_1 = *(_DWORD *)(*(_QWORD *)&v15 + 0x4CLL);
      if ( n0x80_1 >= 0 )
      {
        n0x80 = 0x80;
        if ( n0x80_1 < 0x80 )
          n0x80 = *(_DWORD *)(*(_QWORD *)&v15 + 0x4CLL);
        *(_DWORD *)(a1 + 0x4B4) = n0x80;
        if ( n0x80 )
        {
          n0x80_2 = n0x80;
          allocSize = 8LL * n0x80;
          if ( !is_mul_ok(n0x80_2, 8u) )
            allocSize = 0xFFFFFFFFFFFFFFFFuLL;
          *(_QWORD *)(a1 + 0x890) = allocWithProfilerInfo_w(allocSize);
        }
      }
      else
      {
        *(_DWORD *)(a1 + 0x4B4) = 0;
      }
      *(_QWORD *)(a1 + 0x4B8) = *(unsigned int *)(a1 + 0x4B4);
      *(_DWORD *)(a1 + 0x4B0) = 0;
      *(_DWORD *)(a1 + 0x89C) = 0x501502F9;
    }
    v350 = *(_DWORD *)(*(_QWORD *)&v15 + 0x50LL);
    if ( v350 != 0x80000000 )
      *(_DWORD *)(a1 + 0x4A4) ^= (*(_DWORD *)(a1 + 0x4A4) ^ (v350 << 0x1B)) & 0x8000000;
    v351 = *(float *)(*(_QWORD *)&v15 + 0x54LL);
    *(float *)&v370 = v351;
    if ( (LODWORD(v351) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x588) = v351;
    v352 = *(_DWORD *)(*(_QWORD *)&v15 + 0x58LL);
    if ( v352 != 0x80000000 )
      *(_DWORD *)(a1 + 0x510) = v352;
    v353 = *(_DWORD *)(*(_QWORD *)&v15 + 0x5CLL);
    if ( v353 != 0x80000000 )
      *(_BYTE *)(a1 + 0x384) = *(_BYTE *)(a1 + 0x384) & 0xFE | (v353 != 0);
    v354 = *(_DWORD *)(*(_QWORD *)&v15 + 0x44LL);
    if ( v354 != 0x80000000 )
      *(_DWORD *)(a1 + 0x4A8) = *(_DWORD *)(a1 + 0x4A8) & 0xFFFFFBFF | (v354 != 0 ? 0x400 : 0);
    v355 = *(_DWORD *)(*(_QWORD *)&v15 + 0x48LL);
    if ( v355 != 0x80000000 )
      *(_DWORD *)(a1 + 0x4A8) = *(_DWORD *)(a1 + 0x4A8) & 0xFFFFF7FF | (v355 != 0 ? 0x800 : 0);
    v356 = *(_DWORD *)(*(_QWORD *)&v15 + 0x6CLL);
    if ( v356 != 0x80000000 )
      *(_BYTE *)(a1 + 0x514) = v356 != 0;
    v428 = __rdtsc();
    qword_149A05E08(&n0x2800_4);
    v17 = 1;
    goto LABEL_127;
  }
  n0x2800_5 = 0x2800;
  v418 = 0;
  v419 = 0;
  v421 = 0;
  v422 = 0;
  v423 = 0;
  v420 = 1;
  qword_149A05E00(&n0x2800_5, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  if ( *(_QWORD *)(*(_QWORD *)&v15 + 0x70LL) != 0xFFFFFFFFFFFFFFFFuLL )
  {
    sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 0x80, 0);
    goto LABEL_121;
  }
  LODWORD(v370) = *(_DWORD *)(*(_QWORD *)&v15 + 0x60LL);
  if ( (v370 & 0xFFA00000) != 0xFFA00000
    || (LODWORD(v370) = *(_DWORD *)(*(_QWORD *)&v15 + 0x64LL), (v370 & 0xFFA00000) != 0xFFA00000)
    || (LODWORD(v370) = *(_DWORD *)(*(_QWORD *)&v15 + 0x10LL), (v370 & 0xFFA00000) != 0xFFA00000)
    || (LODWORD(v370) = *(_DWORD *)(*(_QWORD *)&v15 + 0x28LL), (v370 & 0xFFA00000) != 0xFFA00000)
    || (LODWORD(v370) = *(_DWORD *)(*(_QWORD *)&v15 + 0x34LL), (v370 & 0xFFA00000) != 0xFFA00000) )
  {
LABEL_121:
    if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1) != 6 )
    {
      if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
      {
        *(_WORD *)(a1 + 0x106) |= 4u;
        CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
      }
      else
      {
        (*(void (__fastcall **)(__int64, unsigned __int64, __int64))(*(_QWORD *)a1 + 0x348LL))(
          a1,
          0xFFFFFFFFFFFFFFFFuLL,
          1);
      }
    }
  }
  v421 = __rdtsc();
  qword_149A05E08(&n0x2800_5);
LABEL_126:
  v17 = v23;
LABEL_127:
  if ( *v473 == 0x23 )
  {
    v280 = v472;
    v281 = (signed __int32 *)(v472 + 0xFC);
    _m_prefetchw((const void *)(v472 + 0xFC));
    v282 = *v281;
    do
    {
      v283 = v282;
      v282 = _InterlockedCompareExchange((volatile signed __int32 *)(v280 + 0xFC), v282 & 0xFFFFDFFF, v282);
    }
    while ( v283 != v282 );
    LODWORD(v370) = v282;
  }
LABEL_131:
  v449 = __rdtsc();
  qword_149A05E08(&n0x2800);
  return v17;
}

// --- End Function: CRigidEntity::SetParams (0x1467E2810) ---

// --- Function: CRigidEntity::Step (0x1467F1AA0) ---
// local variable allocation has failed, the output may be wrong!
__int64 __fastcall CRigidEntity::Step(Parameter *Parameter, double a2)
{
  __int128 v2; // xmm9
  __int128 v3; // xmm10
  __int128 v4; // xmm11
  __int128 v5; // xmm12
  __int128 v6; // xmm13
  __int128 v7; // xmm14
  __int128 v9; // xmm7
  volatile signed __int64 *v10; // rbx
  LARGE_INTEGER v11; // rax
  LARGE_INTEGER v12; // r8
  __int64 TlsIndex; // rdx
  float v14; // xmm15_4
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v16; // rax
  __int64 v17; // r14
  __int64 v18; // rcx
  int v19; // eax
  double v20; // xmm1_8
  __m256 v21; // ymm1
  __m128 v22; // xmm2
  float v23; // xmm0_4
  __int64 v24; // rax
  float v25; // xmm2_4
  int v26; // edx
  unsigned __int8 v27; // r15
  __int128 v29; // kr00_16
  int v30; // r12d
  unsigned int v31; // r8d
  int v32; // r13d
  int v33; // eax
  signed int v34; // edi
  float v36; // xmm7_4
  float v37; // xmm1_4
  __int128 v39; // kr00_16
  float v41; // xmm1_4
  __m128 v42; // xmm2
  float v45; // xmm1_4
  float v46; // xmm1_4
  __int128 v48; // kr00_16
  __int128 v50; // xmm8
  __int128 v51; // kr00_16
  float v52; // xmm9_4
  float v53; // xmm12_4
  float v54; // xmm14_4
  float v55; // xmm13_4
  float v56; // xmm15_4
  float v57; // xmm11_4
  float v58; // xmm7_4
  float v59; // xmm6_4
  float v60; // xmm4_4
  float v61; // xmm5_4
  __int128 v62; // kr00_16
  __int128 v63; // xmm4
  __int128 v64; // xmm1
  __int128 v65; // kr00_16
  __int128 v66; // kr00_16
  __int128 v67; // xmm6
  float v73; // xmm7_4
  __int64 v74; // r8
  float v75; // xmm5_4
  float v76; // xmm2_4
  float v77; // xmm8_4
  float v78; // xmm7_4
  float v79; // xmm4_4
  float v80; // xmm5_4
  float v81; // xmm9_4
  float v82; // xmm6_4
  float v83; // xmm10_4
  float v84; // xmm11_4
  float v85; // xmm13_4
  float v86; // xmm14_4
  float v87; // xmm12_4
  float v88; // xmm7_4
  float v89; // xmm11_4
  float v90; // xmm10_4
  float v91; // xmm9_4
  float v92; // xmm8_4
  float v93; // xmm5_4
  float v94; // xmm4_4
  float v95; // xmm6_4
  float v96; // kr00_4
  double v97; // xmm5_8
  float v98; // xmm1_4
  double v99; // xmm4_8
  float v100; // xmm5_4
  __m128 v101; // xmm6
  float v102; // xmm7_4
  __m128 v103; // kr00_16
  float v106; // xmm1_4
  float v107; // xmm4_4
  float v108; // xmm2_4
  bool v109; // zf
  int v110; // eax
  double v111; // xmm0_8
  double v112; // xmm1_8
  __int128 v113; // xmm0
  double v114; // xmm1_8
  float v115; // eax
  double v116; // xmm1_8
  __int64 v119; // rax
  float v120; // xmm6_4
  float v121; // xmm8_4
  __m128 v122; // xmm9
  float v123; // xmm7_4
  float v124; // xmm14_4
  __m128 v131; // kr00_16
  float v134; // xmm12_4
  __int64 v135; // rax
  char v136; // r13
  __int128 v137; // xmm7
  double v138; // xmm8_8
  double v139; // xmm1_8
  float v140; // xmm13_4
  float v141; // xmm9_4
  float v142; // xmm11_4
  __int64 v143; // rax
  unsigned __int64 n0x200000; // rax
  float v145; // xmm2_4
  float v146; // xmm0_4
  float v147; // kr00_4
  __int64 v148; // rdi
  double v149; // xmm2_8
  __int64 v150; // r15
  double v153; // xmm14_8
  double v154; // xmm13_8
  float v155; // xmm10_4
  float v156; // xmm11_4
  float v157; // xmm15_4
  float v158; // xmm7_4
  float v159; // xmm12_4
  float v160; // xmm4_4
  float v161; // xmm9_4
  float v162; // xmm6_4
  float v163; // xmm4_4
  float v164; // xmm8_4
  float v165; // xmm4_4
  double v166; // xmm10_8
  double v167; // xmm11_8
  float v168; // xmm9_4
  float v169; // xmm8_4
  float v170; // xmm7_4
  float v171; // xmm6_4
  float v172; // xmm4_4
  float v173; // xmm6_4
  float v174; // kr00_4
  double v175; // xmm1_8
  signed __int64 v176; // rdx
  int v177; // r15d
  __int64 v178; // rdi
  Parameter *Parameter_1; // rdx
  __int64 v180; // rdx
  __int64 v182; // rcx
  __int128 v185; // xmm0
  __int128 v188; // kr00_16
  __int128 v189; // xmm0
  char v191; // di
  unsigned __int64 v192; // rdx
  __int64 v193; // rax
  char *v194; // rdx
  char *v195; // r12
  volatile signed __int64 *v196; // r8
  volatile signed __int64 *v197; // r15
  __int64 v198; // rax
  __int64 v199; // rcx
  unsigned __int64 n0x200000_1; // rax
  int v201; // edi
  int n8_4; // eax
  __int64 v203; // r13
  int n8; // r15d
  __int64 v205; // rcx
  float v206; // xmm7_4
  float v207; // xmm8_4
  float v208; // xmm10_4
  float v209; // xmm13_4
  float v210; // xmm12_4
  float v211; // xmm4_4
  float v212; // xmm11_4
  float v213; // xmm9_4
  float v214; // xmm6_4
  float v215; // xmm4_4
  float v216; // xmm1_4
  float v217; // kr00_4
  double v218; // xmm4_8
  float v219; // xmm5_4
  float v220; // kr00_4
  double v221; // xmm6_8
  int n8_1; // eax
  __m128 v223; // xmm2
  __m128 v224; // xmm2
  __int128 v229; // xmm0
  __m128 v230; // xmm2
  __m128 v231; // xmm2
  __int128 v236; // xmm0
  int v237; // r10d
  __int64 v238; // r9
  __m256i *v239; // r8
  __int64 TlsIndex_1; // rcx
  _QWORD *ThreadLocalStoragePointer_1; // rax
  signed __int64 v242; // rdx
  char *v243; // rax
  double *v244; // rcx
  __int64 v245; // rdx
  double v246; // xmm8_8
  double v247; // xmm9_8
  double v248; // xmm10_8
  double v249; // xmm6_8
  double v250; // xmm4_8
  float v257; // xmm6_4
  float v258; // kr00_4
  double v259; // xmm2_8
  double v262; // xmm6_8
  double v263; // xmm5_8
  float v264; // kr00_4
  double v265; // kr00_8
  unsigned __int64 v266; // rdx
  __int64 n0x80000; // r9
  unsigned int v268; // r12d
  __int64 n8_3; // rax
  __int64 v270; // rdi
  __int64 v271; // rcx
  int v272; // r11d
  __int64 v273; // r14
  double v274; // rbx
  __m128 v276; // xmm1
  int v277; // r15d
  __int64 v278; // r8
  float v280; // xmm14_4
  float v281; // xmm0_4
  int v282; // edx
  float v283; // xmm3_4
  float v284; // xmm13_4
  float v286; // xmm8_4
  float v287; // xmm9_4
  float v288; // xmm10_4
  float v289; // xmm5_4
  float v290; // xmm3_4
  int v291; // xmm2_4
  int v292; // xmm0_4
  int v293; // xmm3_4
  int v294; // ebx
  __int64 v296; // rcx
  __int64 v297; // rax
  __int64 v298; // r10
  __int128 v299; // xmm0
  __int128 v300; // kr00_16
  int v303; // r12d
  float v304; // xmm15_4
  int v305; // ecx
  __int64 v306; // r15
  __int64 v307; // rax
  double v308; // xmm7_8
  double v309; // xmm11_8
  double v311; // xmm12_8
  __int128 v313; // kr00_16
  __int64 v316; // rcx
  __int64 v317; // rdx
  __int64 v318; // rax
  __int64 v319; // r8
  double v321; // xmm11_8
  double v322; // xmm7_8
  double v323; // xmm12_8
  __int64 v327; // r8
  __int64 v328; // rcx
  __int64 v329; // rax
  __int128 v330; // xmm0
  __int128 v331; // kr00_16
  __int128 v336; // kr00_16
  int v340; // ebx
  int v341; // r15d
  __int64 v342; // rax
  double v343; // xmm7_8
  double v345; // xmm3_8
  double v347; // xmm2_8
  __int128 v348; // kr00_16
  int v352; // eax
  double v353; // xmm0_8
  double v354; // xmm1_8
  double v355; // xmm0_8
  double v356; // xmm1_8
  __int128 v357; // xmm0
  double v358; // xmm1_8
  float *v359; // rdx
  int v360; // eax
  float *v361; // rcx
  float v362; // edi
  bool v363; // cf
  double v364; // xmm7_8
  double v365; // kr00_8
  double v366; // xmm5_8
  double v367; // xmm6_8
  __m128 v368; // xmm1
  __m128 v369; // xmm1
  __int128 v370; // kr00_16
  double v373; // xmm5_8
  float v374; // xmm0_4
  __m128 v375; // xmm3
  __m128 v376; // xmm4
  int v377; // eax
  double v378; // xmm0_8
  int v379; // eax
  int v380; // r15d
  int v381; // xmm0_4
  double v382; // xmm0_8
  __int64 v383; // rax
  double v384; // xmm0_8
  unsigned int v385; // eax
  int v386; // eax
  double v387; // xmm0_8
  __int64 v388; // rax
  unsigned int v389; // edi
  unsigned __int64 n0x200000_2; // rax
  int v392; // [rsp+28h] [rbp-E0h]
  __int64 v393; // [rsp+30h] [rbp-D8h]
  __int64 v394; // [rsp+30h] [rbp-D8h]
  char v395; // [rsp+30h] [rbp-D8h]
  int v396; // [rsp+30h] [rbp-D8h]
  int v397; // [rsp+30h] [rbp-D8h]
  int n3; // [rsp+38h] [rbp-D0h]
  int n3a; // [rsp+38h] [rbp-D0h]
  int n3b; // [rsp+38h] [rbp-D0h]
  char v401; // [rsp+40h] [rbp-C8h]
  char v402; // [rsp+40h] [rbp-C8h]
  char v403; // [rsp+40h] [rbp-C8h]
  int v404; // [rsp+68h] [rbp-A0h]
  float v405; // [rsp+68h] [rbp-A0h]
  float v406; // [rsp+6Ch] [rbp-9Ch]
  int v407; // [rsp+6Ch] [rbp-9Ch]
  int v408; // [rsp+70h] [rbp-98h]
  float v409; // [rsp+70h] [rbp-98h]
  int v410; // [rsp+78h] [rbp-90h]
  float v411; // [rsp+7Ch] [rbp-8Ch]
  float v412; // [rsp+80h] [rbp-88h]
  int v413; // [rsp+84h] [rbp-84h]
  unsigned __int8 v414; // [rsp+88h] [rbp-80h]
  int v415; // [rsp+8Ch] [rbp-7Ch] BYREF
  float v416; // [rsp+90h] [rbp-78h]
  int v417; // [rsp+94h] [rbp-74h] BYREF
  float v418; // [rsp+98h] [rbp-70h]
  float v419; // [rsp+A0h] [rbp-68h]
  float v420; // [rsp+A4h] [rbp-64h]
  double v421; // [rsp+A8h] [rbp-60h]
  float v422; // [rsp+B8h] [rbp-50h] BYREF
  float v423; // [rsp+BCh] [rbp-4Ch]
  float v424; // [rsp+C0h] [rbp-48h]
  float v425; // [rsp+C8h] [rbp-40h] BYREF
  float v426; // [rsp+CCh] [rbp-3Ch]
  float v427; // [rsp+D0h] [rbp-38h]
  double v428; // [rsp+D8h] [rbp-30h]
  double v429; // [rsp+E0h] [rbp-28h]
  __int64 n8_2; // [rsp+E8h] [rbp-20h]
  unsigned int v431[2]; // [rsp+F0h] [rbp-18h] BYREF
  float v432; // [rsp+F8h] [rbp-10h]
  __int64 v433; // [rsp+100h] [rbp-8h]
  float v434[4]; // [rsp+108h] [rbp+0h] BYREF
  unsigned int v435[4]; // [rsp+118h] [rbp+10h] BYREF
  float v436[4]; // [rsp+128h] [rbp+20h] BYREF
  float v437[4]; // [rsp+138h] [rbp+30h] BYREF
  float v438[12]; // [rsp+148h] [rbp+40h] BYREF
  _DWORD v439[4]; // [rsp+178h] [rbp+70h] BYREF
  double v440; // [rsp+188h] [rbp+80h]
  float v441; // [rsp+190h] [rbp+88h]
  float v442; // [rsp+194h] [rbp+8Ch]
  __int128 v443; // [rsp+198h] [rbp+90h]
  float v444; // [rsp+1A8h] [rbp+A0h]
  float v445; // [rsp+1ACh] [rbp+A4h]
  float v446; // [rsp+1B0h] [rbp+A8h]
  float v447; // [rsp+1B4h] [rbp+ACh]
  _BYTE v448[20]; // [rsp+1B8h] [rbp+B0h]
  float v449; // [rsp+1CCh] [rbp+C4h]
  _BYTE v450[24]; // [rsp+1D0h] [rbp+C8h]
  int v451; // [rsp+1E8h] [rbp+E0h]
  _DWORD v452[3]; // [rsp+1F8h] [rbp+F0h] BYREF
  double v453; // [rsp+204h] [rbp+FCh]
  int v454; // [rsp+20Ch] [rbp+104h]
  double v455; // [rsp+210h] [rbp+108h]
  int v456; // [rsp+218h] [rbp+110h]
  int v457; // [rsp+21Ch] [rbp+114h]
  _DWORD v458[3]; // [rsp+220h] [rbp+118h] BYREF
  __int64 v459; // [rsp+22Ch] [rbp+124h]
  int v460; // [rsp+234h] [rbp+12Ch]
  double v461; // [rsp+238h] [rbp+130h]
  int v462; // [rsp+240h] [rbp+138h]
  int v463; // [rsp+244h] [rbp+13Ch]
  int n0x2800; // [rsp+248h] [rbp+140h] BYREF
  __int64 v465; // [rsp+24Ch] [rbp+144h]
  int v466; // [rsp+254h] [rbp+14Ch]
  __int64 v467; // [rsp+258h] [rbp+150h]
  unsigned __int64 v468; // [rsp+260h] [rbp+158h]
  __int64 v469; // [rsp+268h] [rbp+160h]
  __int64 v470; // [rsp+270h] [rbp+168h]
  __int64 v471[2]; // [rsp+298h] [rbp+190h] BYREF
  double v472[3]; // [rsp+2A8h] [rbp+1A0h] BYREF
  double v473[3]; // [rsp+2C0h] [rbp+1B8h] BYREF
  double v474[3]; // [rsp+2D8h] [rbp+1D0h] BYREF
  char v475[8]; // [rsp+2F0h] [rbp+1E8h] BYREF
  __int64 v476; // [rsp+2F8h] [rbp+1F0h] BYREF
  char v477[8]; // [rsp+300h] [rbp+1F8h] BYREF
  unsigned int v478[4]; // [rsp+308h] [rbp+200h] BYREF
  __int64 v479; // [rsp+318h] [rbp+210h]
  unsigned int v480[24]; // [rsp+328h] [rbp+220h] BYREF
  __m256i v481; // [rsp+388h] [rbp+280h]
  __m256i v482; // [rsp+3A8h] [rbp+2A0h]
  __m256i v483; // [rsp+3C8h] [rbp+2C0h]
  __m256i v484; // [rsp+3E8h] [rbp+2E0h]
  __m256i v485; // [rsp+408h] [rbp+300h]
  __m256i v486; // [rsp+428h] [rbp+320h]
  int v487; // [rsp+448h] [rbp+340h] BYREF
  float v488; // [rsp+44Ch] [rbp+344h]
  float v489; // [rsp+450h] [rbp+348h]
  float v490; // [rsp+454h] [rbp+34Ch]
  float v491; // [rsp+458h] [rbp+350h]
  float v492; // [rsp+45Ch] [rbp+354h]
  float v493; // [rsp+460h] [rbp+358h]
  float v494; // [rsp+464h] [rbp+35Ch]
  float v495; // [rsp+468h] [rbp+360h]
  float v496; // [rsp+46Ch] [rbp+364h]
  float v497; // [rsp+470h] [rbp+368h]
  float v498; // [rsp+474h] [rbp+36Ch]
  float v499; // [rsp+478h] [rbp+370h]
  float v500; // [rsp+47Ch] [rbp+374h]
  float v501; // [rsp+480h] [rbp+378h]
  float v502; // [rsp+484h] [rbp+37Ch]
  float v503; // [rsp+488h] [rbp+380h]
  float v504; // [rsp+48Ch] [rbp+384h]
  _BYTE v505[40]; // [rsp+490h] [rbp+388h]
  double v506; // [rsp+4B8h] [rbp+3B0h]
  int v507; // [rsp+4C0h] [rbp+3B8h]
  __int16 v508; // [rsp+4C4h] [rbp+3BCh]
  bool v509; // [rsp+4C6h] [rbp+3BEh]
  __int64 v510; // [rsp+4C8h] [rbp+3C0h]
  __int64 v511; // [rsp+4D4h] [rbp+3CCh]
  __int64 v512; // [rsp+4E0h] [rbp+3D8h]
  unsigned int v513[22]; // [rsp+4E8h] [rbp+3E0h] BYREF
  __int64 v514; // [rsp+540h] [rbp+438h]
  int v515; // [rsp+548h] [rbp+440h]
  float v516; // [rsp+54Ch] [rbp+444h]
  float v517; // [rsp+550h] [rbp+448h]
  float v518; // [rsp+554h] [rbp+44Ch]
  unsigned int v519; // [rsp+558h] [rbp+450h]
  int v520; // [rsp+55Ch] [rbp+454h]
  float v521; // [rsp+560h] [rbp+458h]
  float v522; // [rsp+564h] [rbp+45Ch]
  float v523; // [rsp+568h] [rbp+460h]
  __int64 v524; // [rsp+570h] [rbp+468h]
  int v525; // [rsp+578h] [rbp+470h]
  int n0xC; // [rsp+580h] [rbp+478h]
  unsigned int v527; // [rsp+584h] [rbp+47Ch]
  unsigned int v528; // [rsp+588h] [rbp+480h]
  unsigned int v529; // [rsp+58Ch] [rbp+484h]
  unsigned int v530; // [rsp+590h] [rbp+488h]
  unsigned int v531; // [rsp+594h] [rbp+48Ch]
  unsigned int v532; // [rsp+598h] [rbp+490h]
  unsigned int v533; // [rsp+5A4h] [rbp+49Ch]
  unsigned int v534; // [rsp+5A8h] [rbp+4A0h]
  unsigned int v535; // [rsp+5BCh] [rbp+4B4h]
  unsigned int v536; // [rsp+5D0h] [rbp+4C8h]
  __int64 v537; // [rsp+5D8h] [rbp+4D0h]
  int v538; // [rsp+5E0h] [rbp+4D8h]
  float v539; // [rsp+5E4h] [rbp+4DCh]
  float v540; // [rsp+5E8h] [rbp+4E0h]
  float v541; // [rsp+5ECh] [rbp+4E4h]
  unsigned int v542; // [rsp+5F0h] [rbp+4E8h]
  int v543; // [rsp+5F4h] [rbp+4ECh]
  float v544; // [rsp+5F8h] [rbp+4F0h]
  float v545; // [rsp+5FCh] [rbp+4F4h]
  float v546; // [rsp+600h] [rbp+4F8h]
  __int64 v547; // [rsp+608h] [rbp+500h]
  int v548; // [rsp+610h] [rbp+508h]
  int n0xC_1; // [rsp+618h] [rbp+510h]
  unsigned int v550; // [rsp+61Ch] [rbp+514h]
  unsigned int v551; // [rsp+620h] [rbp+518h]
  unsigned int v552; // [rsp+624h] [rbp+51Ch]
  unsigned int v553; // [rsp+628h] [rbp+520h]
  unsigned int v554; // [rsp+62Ch] [rbp+524h]
  unsigned int v555; // [rsp+630h] [rbp+528h]
  unsigned int v556; // [rsp+63Ch] [rbp+534h]
  unsigned int v557; // [rsp+640h] [rbp+538h]
  unsigned int v558; // [rsp+654h] [rbp+54Ch]
  unsigned int v559; // [rsp+668h] [rbp+560h]
  __int64 v560; // [rsp+670h] [rbp+568h]
  int v561; // [rsp+678h] [rbp+570h]
  float v562; // [rsp+67Ch] [rbp+574h]
  float v563; // [rsp+680h] [rbp+578h]
  float v564; // [rsp+684h] [rbp+57Ch]
  unsigned int v565; // [rsp+688h] [rbp+580h]
  int v566; // [rsp+68Ch] [rbp+584h]
  float v567; // [rsp+690h] [rbp+588h]
  float v568; // [rsp+694h] [rbp+58Ch]
  float v569; // [rsp+698h] [rbp+590h]
  __int64 v570; // [rsp+6A0h] [rbp+598h]
  int v571; // [rsp+6A8h] [rbp+5A0h]
  int n0xC_2; // [rsp+6B0h] [rbp+5A8h]
  unsigned int v573; // [rsp+6B4h] [rbp+5ACh]
  unsigned int v574; // [rsp+6B8h] [rbp+5B0h]
  unsigned int v575; // [rsp+6BCh] [rbp+5B4h]
  unsigned int v576; // [rsp+6C0h] [rbp+5B8h]
  unsigned int v577; // [rsp+6C4h] [rbp+5BCh]
  unsigned int v578; // [rsp+6C8h] [rbp+5C0h]
  unsigned int v579; // [rsp+6D4h] [rbp+5CCh]
  unsigned int v580; // [rsp+6D8h] [rbp+5D0h]
  unsigned int v581; // [rsp+6ECh] [rbp+5E4h]
  unsigned int v582; // [rsp+700h] [rbp+5F8h]
  __int64 v583; // [rsp+708h] [rbp+600h]
  int v584; // [rsp+710h] [rbp+608h]
  float v585; // [rsp+714h] [rbp+60Ch]
  float v586; // [rsp+718h] [rbp+610h]
  float v587; // [rsp+71Ch] [rbp+614h]
  unsigned int v588; // [rsp+720h] [rbp+618h]
  int v589; // [rsp+724h] [rbp+61Ch]
  float v590; // [rsp+728h] [rbp+620h]
  float v591; // [rsp+72Ch] [rbp+624h]
  float v592; // [rsp+730h] [rbp+628h]
  __int64 v593; // [rsp+738h] [rbp+630h]
  int v594; // [rsp+740h] [rbp+638h]
  __int128 v595; // [rsp+768h] [rbp+660h]
  __int128 v596; // [rsp+778h] [rbp+670h]
  __int128 v597; // [rsp+788h] [rbp+680h]
  __int128 v598; // [rsp+798h] [rbp+690h]
  __int128 v599; // [rsp+7A8h] [rbp+6A0h]
  __int128 v600; // [rsp+7B8h] [rbp+6B0h]

  v9 = *(_OWORD *)&a2;
  n0x2800 = 0x2800;
  v465 = 0;
  v466 = 0;
  v468 = 0;
  v469 = 0;
  v470 = 0;
  v467 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  v10 = (volatile signed __int64 *)((char *)Parameter + 0xA08);
  if ( _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x141, 0x200000, 0) )
    __debugbreak();
  v471[0] = (__int64)Parameter;
  v11 = sub_1403E4CF0();
  TlsIndex = (unsigned int)::TlsIndex;
  v14 = 0.0;
  v471[1] = v11.QuadPart;
  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  v494 = 100.0;
  v16 = ThreadLocalStoragePointer[::TlsIndex];
  *(__m256 *)&v505[8] = ymmword_148769400;
  v495 = 0.000001;
  v17 = *(int *)(v16 + 0x800);
  v410 = *(_DWORD *)(v16 + 0x800);
  v496 = 0.017453292;
  v418 = 0.0;
  v497 = 0.0;
  v488 = 0.0;
  v489 = 0.0;
  v490 = 0.0;
  v501 = 0.0;
  v502 = 0.0;
  v503 = 1.0;
  v498 = 0.0;
  v499 = 0.0;
  v500 = 0.0;
  v491 = 0.0;
  v492 = 0.0;
  v493 = 0.0;
  *(double *)v505 = 1.999999999998e12;
  v506 = 1.999999999998e12;
  v504 = 1.0e10;
  v487 = 0;
  v512 = 0;
  v507 = 0;
  v508 = 0;
  v509 = 0;
  v510 = 0;
  v511 = 0;
  if ( *((_BYTE *)Parameter + 0x960) )
  {
    v18 = *((_QWORD *)Parameter + 0x58);
    *((_BYTE *)Parameter + 0x960) = 0;
    __asm { vzeroupper }
    CPhysicalWorld::UnregisterForNetworkedStateUpdate(v18, Parameter);
  }
  __asm { vzeroupper }
  v19 = CRigidEntity::RemoveDeadColliders(Parameter, TlsIndex, v12.QuadPart);
  v20 = *((double *)Parameter + 0xC7);
  *((_OWORD *)Parameter + 0x7C) = *(_OWORD *)((char *)Parameter + 0x628);
  *((double *)Parameter + 0xFA) = v20;
  v21 = *(__m256 *)((char *)Parameter + 0x790);
  *((_DWORD *)Parameter + 0x212) = *((_DWORD *)Parameter + 0x190);
  *((_DWORD *)Parameter + 0x213) = *((_DWORD *)Parameter + 0x191);
  *((_DWORD *)Parameter + 0x214) = *((_DWORD *)Parameter + 0x192);
  v408 = v19;
  *((_DWORD *)Parameter + 0x215) = *((_DWORD *)Parameter + 0x193);
  v22 = *((__m128 *)Parameter + 0x7B);
  *(__m256 *)((char *)Parameter + 0x790) = _mm256_add_pd(v21, *((__m256 *)Parameter + 0x3B));
  *((__m128 *)Parameter + 0x7B) = _mm_add_pd(v22, *((__m128 *)Parameter + 0x78));
  v23 = *((float *)Parameter + 0x148);
  *((_QWORD *)Parameter + 0xB2) = 0;
  *((_DWORD *)Parameter + 0x163) = 0;
  *(_QWORD *)((char *)Parameter + 0x59C) = 0;
  *((_DWORD *)Parameter + 0x166) = 0;
  v24 = *((_QWORD *)Parameter + 0x58);
  *((_QWORD *)Parameter + 0xB5) = 0;
  *((_DWORD *)Parameter + 0x15F) = 0;
  if ( (float)(v23 - *(float *)(v24 + 0x114)) < *((float *)Parameter + 0x149)
    || !*((_DWORD *)Parameter + 0xA4)
    || (*((_BYTE *)Parameter + 0x208) & 0x20) != 0 )
  {
    if ( (*((_DWORD *)Parameter + 0x259) & 0xFFA00000) != 0xFFA00000
      || (*((_DWORD *)Parameter + 0x25C) & 0xFFA00000) != 0xFFA00000 )
    {
      v386 = *((_DWORD *)Parameter + 0x25B);
      v459 = *(_QWORD *)((char *)Parameter + 0x964);
      v387 = *((double *)Parameter + 0x12E);
      v460 = v386;
      v462 = *((_DWORD *)Parameter + 0x25E);
      v388 = *(_QWORD *)Parameter;
      v461 = v387;
      v458[0] = 8;
      v458[1] = 0x80000000;
      v458[2] = 0x80000000;
      v463 = 0;
      __asm { vzeroupper }
      (*(void (__fastcall **)(Parameter *, _DWORD *, __int64))(v388 + 0x30))(Parameter, v458, 1);
      *((_DWORD *)Parameter + 0x259) = 0xFFBFFFFF;
      *((_DWORD *)Parameter + 0x25C) = 0xFFBFFFFF;
    }
    if ( (*((_BYTE *)Parameter + 0x208) & 0x20) != 0 )
    {
      __asm { vzeroupper }
      if ( (*(unsigned int (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 8LL))(Parameter) != 0xA
        || (*((_BYTE *)Parameter + 0x208) & 8) == 0 )
      {
        goto LABEL_162;
      }
    }
    if ( !*((_DWORD *)Parameter + 0xA4) )
    {
LABEL_162:
      __asm { vzeroupper }
      (*(void (__fastcall **)(Parameter *, _QWORD, _QWORD))(*(_QWORD *)Parameter + 0x268LL))(Parameter, 0, 0);
    }
    __asm { vzeroupper }
    v385 = (*(__int64 (__fastcall **)(Parameter *, __int64))(*(_QWORD *)Parameter + 0x3B8LL))(Parameter, 1);
    goto LABEL_164;
  }
  v600 = v2;
  v599 = v3;
  v598 = v4;
  v597 = v5;
  v596 = v6;
  __asm { vzeroupper }
  sub_146769CE0(Parameter, *(float *)&v9);
  v25 = *((float *)Parameter + 0x14C);
  ++*((_DWORD *)Parameter + 0x14D);
  v26 = *((_DWORD *)Parameter + 0x12B);
  *((float *)Parameter + 0x149) = *(float *)&v9 + *((float *)Parameter + 0x149);
  *((float *)Parameter + 0x14A) = *(float *)&v9;
  *((_DWORD *)Parameter + 0x14C) = 0;
  *((_DWORD *)Parameter + 0x161) = 0x3DCCCCCD;
  v27 = 0;
  v29 = v9;
  *(float *)&v29 = *(float *)&v9
                 + (float)((float)(COERCE_UNSIGNED_INT(0.0000000099999999 - v25) >> 0x1F) * (float)(v25 - *(float *)&v9));
  _XMM9 = v29;
  v30 = 0;
  v414 = 0;
  v31 = *((_DWORD *)Parameter + 0x129) & ((v26 << 0x1C) | 0xEFFFFFFF);
  v429 = *((double *)Parameter + 0xDD) * *((double *)Parameter + 0xDD)
       + *((double *)Parameter + 0xDE) * *((double *)Parameter + 0xDE)
       + *((double *)Parameter + 0xDF) * *((double *)Parameter + 0xDF);
  *(double *)&v29 = v429;
  *((_DWORD *)Parameter + 0x129) = v31;
  v404 = 0;
  v32 = -((__int64)((v29 & 0x7FFFFFFFFFFFFFFFLL) - 1) >> 0x3F);
  v33 = (*((_DWORD *)Parameter + 0x12A) >> 5) & 0xF;
  *(_QWORD *)&v428 = (unsigned int)-((__int64)((v29 & 0x7FFFFFFFFFFFFFFFLL) - 1) >> 0x3F);
  v411 = *(float *)&_XMM9;
  v34 = (unsigned int)(4 - v32 * v33) >> 0x1F;
  *((_DWORD *)Parameter + 0x82) ^= (*((_DWORD *)Parameter + 0x82) ^ -((v31 >> 0x1C) & 1)) & 0x100;
  if ( !v26 )
  {
    if ( (v31 & 0x3FC0000) != 0 )
      CRigidEntity::GetPotentialCollidersInternal(Parameter, &v476, 0.0, 1, 0);
    (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x378LL))(Parameter);
    v356 = *((double *)Parameter + 4);
    *(_OWORD *)((char *)Parameter + 0x418) = *((_OWORD *)Parameter + 1);
    v357 = *(_OWORD *)((char *)Parameter + 0x28);
    *((double *)Parameter + 0x85) = v356;
    v358 = *((double *)Parameter + 7);
    *((_OWORD *)Parameter + 0x43) = v357;
    *((double *)Parameter + 0x88) = v358;
    goto LABEL_143;
  }
  *(_OWORD *)v448 = 0;
  __asm { vmovupd xmmword ptr [rbp+720h+var_6B0], xmm0 }
  v443 = xmmword_148149570;
  _XMM0 = 0;
  __asm { vmovupd [rbp+720h+var_658+8], xmm0 }
  *(float *)&v448[0x10] = 0.0;
  v449 = 0.0;
  v440 = 0.0;
  v441 = 1.0;
  v442 = 0.0;
  v444 = 0.0;
  v445 = 0.0;
  v446 = 1.0;
  *(double *)v450 = 0.0;
  v447 = 1.0;
  v595 = v7;
  v451 = 0;
  *(_QWORD *)((char *)Parameter + 0x86C) = 0;
  *((_DWORD *)Parameter + 0x21A) = 0;
  *((_QWORD *)Parameter + 0x10F) = 0;
  *((_DWORD *)Parameter + 0x21D) = 0;
  v36 = 1.0 / *(float *)&_XMM9;
  if ( *((_DWORD *)Parameter + 0x211) || *((double *)Parameter + 0xD7) <= 0.0 )
  {
    v37 = *((float *)Parameter + 0x278);
    if ( v37 > 0.0 )
    {
      if ( v37 > 0.000001 )
      {
        v39 = *((unsigned int *)Parameter + 0x278);
        *(float *)&v39 = v37 * v36;
        _XMM0 = v39;
        __asm { vminss  xmm2, xmm0, xmm6 }
        *((float *)Parameter + 0x278) = v37 - *(float *)&_XMM9;
        v41 = *(float *)&_XMM2 * *((float *)Parameter + 0x276);
        *(float *)&_XMM0 = *(float *)&_XMM2 * *((float *)Parameter + 0x275);
        *(float *)&_XMM2 = *(float *)&_XMM2 * *((float *)Parameter + 0x277);
        *((float *)Parameter + 0x1A3) = *(float *)&_XMM0;
        *((float *)Parameter + 0x1A5) = *(float *)&_XMM2;
        *((float *)Parameter + 0x1A4) = v41;
        v42 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
        _XMM5 = *((unsigned __int64 *)Parameter + 0xD6);
        __asm { vcvtpd2ps xmm5, xmm5 }
        v45 = *((float *)Parameter + 0x1A5);
        *((double *)Parameter + 0xCA) = (float)(v42.m128_f32[0] * *(float *)&_XMM5);
        *((double *)Parameter + 0xCB) = (float)(_mm_shuffle_ps(v42, v42, 0x55).m128_f32[0] * *(float *)&_XMM5);
        v421 = *(double *)v42.m128_u64;
        *((double *)Parameter + 0xCC) = (float)(v45 * *(float *)&_XMM5);
        *((_DWORD *)Parameter + 0x1A6) = *((_DWORD *)Parameter + 0x1A3);
        *((_DWORD *)Parameter + 0x1A7) = *((_DWORD *)Parameter + 0x1A4);
        *((_DWORD *)Parameter + 0x1A8) = *((_DWORD *)Parameter + 0x1A5);
        (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter);
      }
      else
      {
        *((_DWORD *)Parameter + 0x278) = 0;
        *((_DWORD *)Parameter + 0x279) = 0xFFFFFFFF;
        *(_QWORD *)((char *)Parameter + 0x9D4) = 0;
        *((_DWORD *)Parameter + 0x277) = 0;
        *(_QWORD *)((char *)Parameter + 0x68C) = 0;
        *(_QWORD *)((char *)Parameter + 0x694) = 0;
        *((_QWORD *)Parameter + 0xCA) = 0;
        *((_QWORD *)Parameter + 0xCB) = 0;
        *((_QWORD *)Parameter + 0xCC) = 0;
        *(_QWORD *)((char *)Parameter + 0x69C) = 0;
      }
    }
    v46 = *((float *)Parameter + 0x27D);
    if ( v46 > 0.0 )
    {
      if ( v46 > 0.000001 )
      {
        v48 = *((unsigned int *)Parameter + 0x27D);
        *(float *)&v48 = v46 * v36;
        _XMM0 = v48;
        __asm { vminss  xmm2, xmm0, xmm6 }
        *((float *)Parameter + 0x27D) = v46 - *(float *)&_XMM9;
        v51 = _XMM2;
        *(float *)&v51 = *(float *)&_XMM2 * *((float *)Parameter + 0x27A);
        v50 = v51;
        v52 = *(float *)&_XMM2 * *((float *)Parameter + 0x27B);
        v53 = *(float *)&_XMM2 * *((float *)Parameter + 0x27C);
        *((float *)Parameter + 0x1A0) = *(float *)&v51;
        *((float *)Parameter + 0x1A1) = v52;
        *((float *)Parameter + 0x1A2) = v53;
        v54 = *((float *)Parameter + 0x191);
        v55 = *((float *)Parameter + 0x192);
        v56 = *((float *)Parameter + 0x190);
        v57 = *((float *)Parameter + 0x193);
        v58 = (float)((float)(v55 * v52) - (float)(v54 * v53)) + (float)(v57 * *(float *)&v51);
        v59 = (float)((float)(v53 * v56) - (float)(v55 * *(float *)&v51)) + (float)(v57 * v52);
        v60 = (float)((float)(v54 * *(float *)&v51) - (float)(v52 * v56)) + (float)(v57 * v53);
        v61 = (float)(v55 * v59) - (float)(v54 * v60);
        v62 = LODWORD(v56);
        *(float *)&v62 = (float)(v56 * v60) - (float)(v55 * v58);
        v63 = v62;
        v65 = v50;
        *(float *)&v65 = *(float *)&v50 + v61;
        v64 = v65;
        v66 = LODWORD(v54);
        *(float *)&v66 = (float)(v54 * v58) - (float)(v56 * v59);
        v67 = v66;
        *((_QWORD *)&v66 + 1) = *((_QWORD *)&v64 + 1);
        *(double *)&v66 = (float)(*(float *)&v64 + v61) * *((double *)Parameter + 0xBF);
        _XMM3 = v66;
        __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
        *((_QWORD *)&v66 + 1) = *((_QWORD *)&v63 + 1);
        *(double *)&v66 = (float)((float)(*(float *)&v63 + v52) + *(float *)&v63) * *((double *)Parameter + 0xC0);
        _XMM3 = v66;
        __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
        *((_QWORD *)&v66 + 1) = *((_QWORD *)&v67 + 1);
        *(double *)&v66 = (float)((float)(*(float *)&v67 + v53) + *(float *)&v67) * *((double *)Parameter + 0xC1);
        _XMM3 = v66;
        __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
        v73 = (float)((float)(*(float *)&_XMM8 * v54) - (float)(*(float *)&_XMM9 * v55))
            + (float)(*(float *)&_XMM10 * v57);
        *(float *)&v67 = (float)((float)(*(float *)&_XMM10 * v55) - (float)(*(float *)&_XMM8 * v56))
                       + (float)(*(float *)&_XMM9 * v57);
        *(float *)&v63 = (float)((float)(*(float *)&_XMM9 * v56) - (float)(*(float *)&_XMM10 * v54))
                       + (float)(*(float *)&_XMM8 * v57);
        *((double *)Parameter + 0xCD) = (float)((float)(*(float *)&_XMM10
                                                      + (float)((float)(v54 * *(float *)&v63)
                                                              - (float)(v55 * *(float *)&v67)))
                                              + (float)((float)(v54 * *(float *)&v63) - (float)(v55 * *(float *)&v67)));
        *((double *)Parameter + 0xCE) = (float)((float)(*(float *)&_XMM9
                                                      + (float)((float)(v55 * v73) - (float)(v56 * *(float *)&v63)))
                                              + (float)((float)(v55 * v73) - (float)(v56 * *(float *)&v63)));
        *((double *)Parameter + 0xCF) = (float)((float)(*(float *)&_XMM8
                                                      + (float)((float)(v56 * *(float *)&v67) - (float)(v54 * v73)))
                                              + (float)((float)(v56 * *(float *)&v67) - (float)(v54 * v73)));
        *((_DWORD *)Parameter + 0x1A9) = *((_DWORD *)Parameter + 0x1A0);
        *((_DWORD *)Parameter + 0x1AA) = *((_DWORD *)Parameter + 0x1A1);
        *((_DWORD *)Parameter + 0x1AB) = *((_DWORD *)Parameter + 0x1A2);
        (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter);
        v14 = v418;
        *(float *)&_XMM9 = v411;
      }
      else
      {
        *((_DWORD *)Parameter + 0x27D) = 0;
        *((_DWORD *)Parameter + 0x27E) = 0xFFFFFFFF;
        *((_QWORD *)Parameter + 0x13D) = 0;
        *((_DWORD *)Parameter + 0x27C) = 0;
        *((_QWORD *)Parameter + 0xD0) = 0;
        *((_DWORD *)Parameter + 0x1A2) = 0;
        *((_QWORD *)Parameter + 0xCD) = 0;
        *((_QWORD *)Parameter + 0xCE) = 0;
        *((_QWORD *)Parameter + 0xCF) = 0;
        *(_QWORD *)((char *)Parameter + 0x6A4) = 0;
        *((_DWORD *)Parameter + 0x1AB) = 0;
      }
    }
  }
  sub_14672E940((__int64)Parameter + 0x5B0, *(float *)&_XMM9, *((_BYTE *)Parameter + 0x384) & 1);
  v75 = *((float *)Parameter + 0x222);
  v76 = *((float *)Parameter + 0x221);
  *((double *)Parameter + 0xC5) = *((float *)Parameter + 0x220) + *((double *)Parameter + 0xC5);
  *((double *)Parameter + 0xC6) = v76 + *((double *)Parameter + 0xC6);
  *((double *)Parameter + 0xC7) = v75 + *((double *)Parameter + 0xC7);
  *(_QWORD *)((char *)Parameter + 0x884) = 0;
  *((_DWORD *)Parameter + 0x220) = 0;
  v77 = *((float *)Parameter + 0x191);
  v78 = *((float *)Parameter + 0x1B3);
  v79 = *((float *)Parameter + 0x190);
  v80 = *((float *)Parameter + 0x1B2);
  v81 = *((float *)Parameter + 0x192);
  v82 = *((float *)Parameter + 0x1B4);
  v83 = *((float *)Parameter + 0x193);
  v84 = *((float *)Parameter + 0x1B5);
  v85 = (float)(v84 * v83) - (float)((float)((float)(v80 * v79) + (float)(v78 * v77)) + (float)(v82 * v81));
  v86 = (float)((float)((float)(v82 * v77) - (float)(v81 * v78)) + (float)(v80 * v83)) + (float)(v79 * v84);
  v87 = (float)((float)((float)(v81 * v80) - (float)(v82 * v79)) + (float)(v78 * v83)) + (float)(v77 * v84);
  v88 = (float)((float)((float)(v79 * v78) - (float)(v80 * v77)) + (float)(v82 * v83)) + (float)(v81 * v84);
  *((float *)Parameter + 0xF8) = v88;
  *((float *)Parameter + 0xF6) = v86;
  *((float *)Parameter + 0xF7) = v87;
  *((float *)Parameter + 0xF9) = v85;
  v89 = *((float *)Parameter + 0x1B8);
  v90 = *((float *)Parameter + 0x1B7);
  v91 = *((float *)Parameter + 0x1B6);
  v92 = (float)((float)(v87 * v89) - (float)(v88 * v90)) + (float)(v85 * v91);
  v93 = (float)((float)(v91 * v88) - (float)(v86 * v89)) + (float)(v90 * v85);
  v94 = (float)((float)(v90 * v86) - (float)(v91 * v87)) + (float)(v89 * v85);
  v95 = (float)(v87 * v94) - (float)(v88 * v93);
  v96 = v86 * v93;
  v97 = *((double *)Parameter + 0xC7);
  v98 = v86 * v94;
  v99 = *((double *)Parameter + 0xC6);
  *((double *)Parameter + 0x78) = *((double *)Parameter + 0xC5) - (float)((float)(v95 + v91) + v95);
  *((double *)Parameter + 0x79) = v99
                                - (float)((float)((float)((float)(v88 * v92) - v98) + v90)
                                        + (float)((float)(v88 * v92) - v98));
  *((double *)Parameter + 0x7A) = v97
                                - (float)((float)((float)(v96 - (float)(v87 * v92)) + v89)
                                        + (float)(v96 - (float)(v87 * v92)));
  v100 = *((float *)Parameter + 0x14F);
  v101 = (__m128)*((unsigned int *)Parameter + 0x14E);
  v102 = *((float *)Parameter + 0x150);
  v103 = v101;
  v103.m128_f32[0] = (float)((float)(v101.m128_f32[0] * v101.m128_f32[0]) + (float)(v100 * v100)) + (float)(v102 * v102);
  if ( v103.m128_f32[0] <= 9.9999997e-21 )
  {
    v107 = v14;
    v108 = 1.0;
  }
  else
  {
    _XMM0 = _mm_shuffle_ps(v103, v103, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v106 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v103.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
         * _XMM3.m128_f32[0];
    v107 = v100 * v106;
    v108 = v102 * v106;
    v14 = v101.m128_f32[0] * v106;
  }
  v109 = (*((_BYTE *)Parameter + 0x4A4) & 1) == 0;
  v110 = *((_DWORD *)Parameter + 0x1A5);
  LODWORD(v501) = LODWORD(v14) ^ 0x80000000;
  LODWORD(v503) = LODWORD(v108) ^ 0x80000000;
  v111 = *((double *)Parameter + 0xD0);
  LODWORD(v502) = LODWORD(v107) ^ 0x80000000;
  v112 = *(double *)((char *)Parameter + 0x68C);
  *(double *)&v448[0xC] = v111;
  v113 = *(_OWORD *)((char *)Parameter + 0x628);
  *(double *)v448 = v112;
  v114 = *((double *)Parameter + 0xC7);
  *(_DWORD *)&v448[8] = v110;
  v115 = *((float *)Parameter + 0x1A2);
  *(_OWORD *)v450 = v113;
  v449 = v115;
  *(double *)&v450[0x10] = v114;
  if ( !v109
    || *((_DWORD *)Parameter + 0xA4) == 1
    && (*(unsigned int (__fastcall **)(_QWORD))(****((_QWORD ****)Parameter + 0x47) + 0xC8LL))(***((_QWORD ***)Parameter
                                                                                                 + 0x47)) )
  {
    v116 = *((double *)Parameter + 0xC7);
    *(_OWORD *)v505 = *(_OWORD *)((char *)Parameter + 0x628);
    *(double *)&v505[0x10] = v116;
  }
  _XMM1 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 5) - *((double *)Parameter + 2));
  _XMM0 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 6) - *((double *)Parameter + 3));
  v119 = *((_QWORD *)Parameter + 0x58);
  v120 = *((float *)Parameter + 0xF9);
  v121 = *((float *)Parameter + 0xF7);
  v122 = (__m128)*((unsigned int *)Parameter + 0xF8);
  v123 = *((float *)Parameter + 0xF6);
  v124 = v411;
  __asm
  {
    vcvtsd2ss xmm4, xmm0, xmm0
    vcvtsd2ss xmm5, xmm1, xmm1
  }
  _XMM2 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 7) - *((double *)Parameter + 4));
  __asm
  {
    vcvtsd2ss xmm3, xmm2, xmm2
    vmaxss  xmm0, xmm4, xmm5
    vmaxss  xmm1, xmm3, xmm0
  }
  v496 = 0.061086528;
  v504 = *(float *)&_XMM1;
  v131 = v122;
  v131.m128_f32[0] = (float)((float)(v122.m128_f32[0] * v122.m128_f32[0]) + (float)(v121 * v121))
                   + (float)((float)(v123 * v123) + (float)(v120 * v120));
  HIDWORD(v510) = 1;
  v509 = *(_DWORD *)(v119 + 0x4C4) != 0;
  v417 = 0xFFFFFFFF;
  _XMM3 = _mm_shuffle_ps(v131, v131, 0);
  __asm { vrsqrtps xmm5, xmm3 }
  _XMM5.m128_f32[0] = _mm_shuffle_ps(_XMM5, _XMM5, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM5.m128_f32[0] * v131.m128_f32[0]) * _XMM5.m128_f32[0]) * 0.5))
                    * _XMM5.m128_f32[0];
  *((float *)Parameter + 0xF9) = v120 * _XMM3.m128_f32[0];
  *((float *)Parameter + 0xF8) = v122.m128_f32[0] * _XMM3.m128_f32[0];
  v134 = v123 * _XMM3.m128_f32[0];
  *((float *)Parameter + 0xF6) = v123 * _XMM3.m128_f32[0];
  *((float *)Parameter + 0xF7) = v121 * _XMM3.m128_f32[0];
  v135 = *((_QWORD *)Parameter + 0x58);
  v136 = 0;
  LODWORD(_XMM2) = *((_DWORD *)Parameter + 0x147);
  v416 = v123 * _XMM3.m128_f32[0];
  v412 = 0.5 * *(float *)(v135 + 0x13C);
  if ( (float)((float)(v411 - (float)v34) * *((float *)Parameter + 0x146)) <= (float)(*(float *)&_XMM2 * 0.70999998) )
  {
    if ( (*((_DWORD *)Parameter + 0x129) & 0x10000000) != 0 )
      (*(void (__fastcall **)(Parameter *, char *, __int64, _QWORD))(*(_QWORD *)Parameter + 0x390LL))(
        Parameter,
        v475,
        v74,
        0);
    v494 = v411;
  }
  else
  {
    v137 = *((_OWORD *)Parameter + 0x3C);
    v138 = *((double *)Parameter + 0x7A);
    v139 = *((double *)Parameter + 0x3A);
    *((_OWORD *)Parameter + 0x3C) = *((_OWORD *)Parameter + 0x1C);
    *((double *)Parameter + 0x7A) = v139;
    v140 = *((float *)Parameter + 0xF7);
    v141 = *((float *)Parameter + 0xF8);
    v142 = *((float *)Parameter + 0xF9);
    *((_DWORD *)Parameter + 0xF6) = *((_DWORD *)Parameter + 0x76);
    *((_DWORD *)Parameter + 0xF7) = *((_DWORD *)Parameter + 0x77);
    *((_DWORD *)Parameter + 0xF8) = *((_DWORD *)Parameter + 0x78);
    *((_DWORD *)Parameter + 0xF9) = *((_DWORD *)Parameter + 0x79);
    v420 = v140;
    v406 = v141;
    v405 = v142;
    v143 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x19, 0x200000, 0);
    if ( v143 )
      sub_1403DE750((__int64)Parameter + 0xC8, v143, 0, (__int64)"CRigidEntity::Step", (__int64)"m_lockUpdate", 1);
    (*(void (__fastcall **)(Parameter *, char *, __int64))(*(_QWORD *)Parameter + 0x130LL))(
      Parameter,
      (char *)Parameter + 0x418,
      2);
    v136 = 1;
    if ( Parameter != (Parameter *)0xFFFFFFFFFFFFFF38LL )
    {
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x19, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)Parameter + 0x19, n0x200000);
    }
    v145 = v411 * *(float *)&v448[8];
    v146 = v411 * *(float *)&v448[4];
    v419 = v504 - 1.0;
    v147 = v411 * *(float *)v448;
    LOBYTE(v507) = 1;
    *((_DWORD *)Parameter + 0x82) |= -(COERCE_UNSIGNED_INT(v504 - 1.0) >> 0x1F) & 0x100;
    LODWORD(v393) = 0;
    v494 = v411;
    v434[0] = v147;
    v434[1] = v146;
    v434[2] = v145;
    CRigidEntity::CheckForNewContacts(Parameter, (__int64)v439, (__int64)&v487, &v417, (__int64)v434, v393, 0xFFFFFFFF);
    v148 = v512;
    if ( v417 < 0 )
    {
      *((_OWORD *)Parameter + 0x3C) = v137;
      *((double *)Parameter + 0x7A) = v138;
    }
    else
    {
      v149 = *((double *)Parameter + 0x79);
      v150 = 0xC0LL * v417;
      _XMM1 = COERCE_UNSIGNED_INT64(v412 + *(double *)(v150 + v512));
      __asm { vcvtsd2ss xmm5, xmm1, xmm1 }
      v421 = *(double *)(v150 + v512 + 0x6C);
      v153 = v149
           - (float)(_mm_shuffle_ps((__m128)*(unsigned __int64 *)&v421, (__m128)*(unsigned __int64 *)&v421, 0x55).m128_f32[0]
                   * *(float *)&_XMM5);
      v154 = *((double *)Parameter + 0x7A) - (float)(*(float *)(v150 + v512 + 0x74) * *(float *)&_XMM5);
      *((double *)Parameter + 0x78) = *((double *)Parameter + 0x78) - (float)(*(float *)&v421 * *(float *)&_XMM5);
      *((double *)Parameter + 0x79) = v153;
      *((double *)Parameter + 0x7A) = v154;
      v155 = *((float *)Parameter + 0xF7);
      LODWORD(_XMM5) = *((_DWORD *)Parameter + 0xF8);
      v156 = *((float *)Parameter + 0x1B7);
      v157 = *((float *)Parameter + 0x1B6);
      v158 = *((float *)Parameter + 0xF6);
      v159 = *((float *)Parameter + 0x1B8);
      v160 = *((float *)Parameter + 0xF9);
      v161 = (float)((float)(v159 * v155) - (float)(v156 * *(float *)&_XMM5)) + (float)(v157 * v160);
      v162 = (float)((float)(v157 * *(float *)&_XMM5) - (float)(v158 * v159)) + (float)(v160 * v156);
      v163 = (float)((float)(v158 * v156) - (float)(v157 * v155)) + (float)(v160 * v159);
      v164 = (float)(v163 * v155) - (float)(v162 * *(float *)&_XMM5);
      *(float *)&_XMM5 = (float)(v161 * *(float *)&_XMM5) - (float)(v163 * v158);
      v165 = (float)(v162 * v158) - (float)(v161 * v155);
      v166 = (float)((float)(*(float *)&_XMM5 + v156) + *(float *)&_XMM5) + v153;
      v167 = (float)((float)(v165 + v159) + v165) + v154;
      v140 = v420;
      *((double *)Parameter + 0xC5) = (float)((float)(v164 + v157) + v164) + *((double *)Parameter + 0x78);
      *((double *)Parameter + 0xC6) = v166;
      *((double *)Parameter + 0xC7) = v167;
      v168 = *((float *)Parameter + 0x1B8);
      v169 = *((float *)Parameter + 0x1B7);
      v170 = (float)((float)(v140 * v168) - (float)(v406 * v169)) + (float)(v405 * v157);
      v134 = v416;
      v171 = (float)((float)(v406 * v157) - (float)(v416 * v168)) + (float)(v405 * v169);
      v172 = (float)((float)(v416 * v169) - (float)(v140 * v157)) + (float)(v405 * v168);
      *(float *)&_XMM5 = (float)(v172 * v140) - (float)(v171 * v406);
      v173 = (float)(v171 * v416) - (float)(v170 * v140);
      v174 = (float)(v170 * v406) - (float)(v172 * v416);
      *((double *)Parameter + 0x78) = *((double *)Parameter + 0xC5)
                                    - (float)((float)(*(float *)&_XMM5 + v157) + *(float *)&_XMM5);
      *((double *)Parameter + 0x79) = v166 - (float)((float)(v174 + v169) + v174);
      *((double *)Parameter + 0x7A) = v167 - (float)((float)(v173 + v168) + v173);
      v30 = 1;
      if ( *((_DWORD *)Parameter + 0x52) )
        *((_DWORD *)Parameter + 0x161) = 0x40400000;
      if ( (*((_BYTE *)Parameter + 0x4A4) & 1) != 0
        || *((_DWORD *)Parameter + 0xA4) == 1
        && (*(unsigned int (__fastcall **)(_QWORD))(****((_QWORD ****)Parameter + 0x47) + 0xC8LL))(***((_QWORD ***)Parameter + 0x47)) )
      {
        v175 = *((double *)Parameter + 0xC7);
        *(_OWORD *)v505 = *(_OWORD *)((char *)Parameter + 0x628);
        *(double *)&v505[0x10] = v175;
      }
      v124 = v411;
      v141 = v406;
      v142 = v405;
      v481 = *(__m256i *)(v150 + v148);
      v482 = *(__m256i *)(v150 + v148 + 0x20);
      v483 = *(__m256i *)(v150 + v148 + 0x40);
      v484 = *(__m256i *)(v150 + v148 + 0x60);
      v485 = *(__m256i *)(v150 + v148 + 0x80);
      v486 = *(__m256i *)(v150 + v148 + 0xA0);
    }
    v404 = v30;
    v176 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x2A);
    if ( (v176 & 0x200000) != 0 )
    {
      __asm { vzeroupper }
      sub_1403CD0A0(
        (volatile signed __int64 *)Parameter + 0x2A,
        v176,
        (__int64)"CRigidEntity::Step",
        (__int64)"m_lockColliders",
        1);
    }
    v177 = 0;
    if ( *((int *)Parameter + 0x52) <= 0 )
    {
LABEL_53:
      v191 = 0;
    }
    else
    {
      v178 = 0;
      while ( 1 )
      {
        Parameter_1 = *(_QWORD *)(v178 + *((_QWORD *)Parameter + 0x28));
        if ( Parameter_1 )
        {
          if ( *(int *)(Parameter_1 + 0xF4) <= 2 && (Parameter *)Parameter_1 != Parameter )
          {
            __asm { vzeroupper }
            if ( !sub_1467C4870(Parameter, Parameter_1) )
            {
              v180 = *(_QWORD *)(v178 + *((_QWORD *)Parameter + 0x28));
              if ( *(_DWORD *)(v180 + 0x370) != *((_DWORD *)Parameter + 0xDC) || (*(_BYTE *)(v180 + 0x382) & 0x7F) != 0 )
              {
                _XMM1 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 0x78) - *((double *)Parameter + 0x38));
                v182 = *((_QWORD *)Parameter + 0x58);
                __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
                _XMM1 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 0x79) - *((double *)Parameter + 0x39));
                v185 = *((unsigned __int64 *)Parameter + 0x7A);
                v435[0] = _XMM2;
                __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
                *((_QWORD *)&v188 + 1) = *((_QWORD *)&v185 + 1);
                *(double *)&v188 = *(double *)&v185 - *((double *)Parameter + 0x3A);
                _XMM1 = v188;
                v189 = *((_OWORD *)Parameter + 0x7C);
                v435[1] = _XMM2;
                __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
                v479 = *((_QWORD *)Parameter + 0xFA);
                v435[2] = _XMM2;
                *(_OWORD *)v478 = v189;
                if ( (unsigned int)CPhysicalWorld::RayTraceEntity(
                                     v182,
                                     (__int64 *)v180,
                                     (double *)v478,
                                     (float *)v435,
                                     (__int64)v480,
                                     0,
                                     3) )
                  break;
              }
            }
          }
        }
        ++v177;
        v178 += 8;
        if ( v177 >= *((_DWORD *)Parameter + 0x52) )
          goto LABEL_53;
      }
      v223 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
      *((float *)Parameter + 0x1A3) = v223.m128_f32[0] * 0.5;
      *((float *)Parameter + 0x1A4) = _mm_shuffle_ps(v223, v223, 0x55).m128_f32[0] * 0.5;
      v421 = *(double *)v223.m128_u64;
      *((float *)Parameter + 0x1A5) = 0.5 * *((float *)Parameter + 0x1A5);
      v224 = (__m128)*((unsigned __int64 *)Parameter + 0xD0);
      *((float *)Parameter + 0x1A0) = v224.m128_f32[0] * 0.5;
      *((float *)Parameter + 0x1A1) = _mm_shuffle_ps(v224, v224, 0x55).m128_f32[0] * 0.5;
      v421 = *(double *)v224.m128_u64;
      *((float *)Parameter + 0x1A2) = 0.5 * *((float *)Parameter + 0x1A2);
      _XMM1 = *((_OWORD *)Parameter + 0x65);
      *((double *)Parameter + 0xCA) = *(double *)&_XMM1 * 0.5;
      __asm { vunpckhpd xmm1, xmm1, xmm1 }
      *((double *)Parameter + 0xCB) = *(double *)&_XMM1 * 0.5;
      *((double *)Parameter + 0xCC) = 0.5 * *((double *)Parameter + 0xCC);
      _XMM1 = *(_OWORD *)((char *)Parameter + 0x668);
      *((double *)Parameter + 0xCD) = *(double *)&_XMM1 * 0.5;
      __asm { vunpckhpd xmm1, xmm1, xmm1 }
      *((double *)Parameter + 0xCE) = *(double *)&_XMM1 * 0.5;
      *((double *)Parameter + 0xCF) = 0.5 * *((double *)Parameter + 0xCF);
      *(_QWORD *)&_XMM1 = *((_QWORD *)Parameter + 0x3A);
      *((_OWORD *)Parameter + 0x3C) = *((_OWORD *)Parameter + 0x1C);
      v229 = *((_OWORD *)Parameter + 0x7C);
      *((double *)Parameter + 0x7A) = *(double *)&_XMM1;
      *(_QWORD *)&_XMM1 = *((_QWORD *)Parameter + 0xFA);
      *(_OWORD *)((char *)Parameter + 0x628) = v229;
      v191 = 1;
      v136 = 0;
      *((double *)Parameter + 0xC7) = *(double *)&_XMM1;
    }
    v192 = _InterlockedDecrement64((volatile signed __int64 *)Parameter + 0x2A);
    if ( (v192 & 0x3FF) == 0 && (v192 & 0xFFFF0000FFC00000uLL) != 0 )
    {
      __asm { vzeroupper }
      sub_1403CD3A0((volatile signed __int64 *)Parameter + 0x2A, v192);
    }
    LOBYTE(v507) = 0;
    v494 = v124 * 3.0;
    *((float *)Parameter + 0xF6) = v134;
    *((float *)Parameter + 0xF7) = v140;
    *((float *)Parameter + 0xF8) = v141;
    *((float *)Parameter + 0xF9) = v142;
    if ( v191 )
    {
LABEL_58:
      if ( v136 && !v30 )
        goto LABEL_69;
      goto LABEL_60;
    }
  }
  if ( (*((_DWORD *)Parameter + 0x129) & 0x20000000) == 0 )
    goto LABEL_58;
  v230 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
  *((float *)Parameter + 0x1A3) = v230.m128_f32[0] * 0.5;
  *((float *)Parameter + 0x1A4) = _mm_shuffle_ps(v230, v230, 0x55).m128_f32[0] * 0.5;
  v421 = *(double *)v230.m128_u64;
  *((float *)Parameter + 0x1A5) = 0.5 * *((float *)Parameter + 0x1A5);
  v231 = (__m128)*((unsigned __int64 *)Parameter + 0xD0);
  *((float *)Parameter + 0x1A0) = v231.m128_f32[0] * 0.5;
  *((float *)Parameter + 0x1A1) = _mm_shuffle_ps(v231, v231, 0x55).m128_f32[0] * 0.5;
  v421 = *(double *)v231.m128_u64;
  *((float *)Parameter + 0x1A2) = 0.5 * *((float *)Parameter + 0x1A2);
  _XMM1 = *((_OWORD *)Parameter + 0x65);
  *((double *)Parameter + 0xCA) = *(double *)&_XMM1 * 0.5;
  __asm { vunpckhpd xmm1, xmm1, xmm1 }
  *((double *)Parameter + 0xCB) = *(double *)&_XMM1 * 0.5;
  *((double *)Parameter + 0xCC) = 0.5 * *((double *)Parameter + 0xCC);
  _XMM1 = *(_OWORD *)((char *)Parameter + 0x668);
  *((double *)Parameter + 0xCD) = *(double *)&_XMM1 * 0.5;
  __asm { vunpckhpd xmm1, xmm1, xmm1 }
  *((double *)Parameter + 0xCE) = *(double *)&_XMM1 * 0.5;
  *((double *)Parameter + 0xCF) = 0.5 * *((double *)Parameter + 0xCF);
  *(_QWORD *)&_XMM1 = *((_QWORD *)Parameter + 0x3A);
  *((_OWORD *)Parameter + 0x3C) = *((_OWORD *)Parameter + 0x1C);
  v236 = *((_OWORD *)Parameter + 0x7C);
  *((double *)Parameter + 0x7A) = *(double *)&_XMM1;
  *(_QWORD *)&_XMM1 = *((_QWORD *)Parameter + 0xFA);
  *(_OWORD *)((char *)Parameter + 0x628) = v236;
  *((double *)Parameter + 0xC7) = *(double *)&_XMM1;
LABEL_60:
  v193 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x19, 0x200000, 0);
  v194 = (char *)Parameter + 0xC8;
  v195 = (char *)Parameter + 0xC8;
  v196 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  v197 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  if ( v193 )
  {
    __asm { vzeroupper }
    sub_1403DE750((__int64)Parameter + 0xC8, v193, 0, (__int64)"CRigidEntity::Step", (__int64)"m_lockUpdate", 1);
    v194 = (char *)Parameter + 0xC8;
    v196 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  }
  if ( *(_DWORD *)(*((_QWORD *)Parameter + 0x54) + 0x184LL) )
  {
    v195 = v194;
    v197 = v196;
    __asm { vzeroupper }
    v198 = (*(__int64 (__fastcall **)(Parameter *, char *))(*(_QWORD *)Parameter + 0x98LL))(Parameter, v477);
    if ( (unsigned __int8)sub_146602780((__int64)Parameter + 0x228, v198, 0xFFFFFFFF) )
    {
      v199 = *((_QWORD *)Parameter + 0x58);
      *((_WORD *)Parameter + 0x83) |= 0x100u;
      CPhysicalWorld::RegisterForRecompute(v199, (__int64)Parameter);
      v195 = (char *)Parameter + 0xC8;
      v197 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
    }
  }
  __asm { vzeroupper }
  (*(void (__fastcall **)(Parameter *, char *, __int64))(*(_QWORD *)Parameter + 0x130LL))(
    Parameter,
    (char *)Parameter + 0x418,
    2);
  if ( v195 )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v197, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0(v197, n0x200000_1);
  }
  v30 = v404;
LABEL_69:
  __asm { vzeroupper }
  (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x378LL))(Parameter);
  v14 = v418;
  LODWORD(v393) = 0;
  v201 = 0;
  v495 = 1.0e10;
  v425 = v418;
  v426 = v418;
  v427 = v418;
  n8_4 = CRigidEntity::CheckForNewContacts(
           Parameter,
           (__int64)v439,
           (__int64)&v487,
           &v415,
           (__int64)&v425,
           v393,
           0xFFFFFFFF);
  v203 = v512;
  n8 = n8_4;
  if ( n8_4 )
  {
LABEL_82:
    if ( n8 > 8 )
      goto LABEL_84;
  }
  else
  {
    v205 = v512;
    while ( v30 )
    {
      if ( ++v201 != 1 )
      {
        v237 = v417;
        v436[0] = v14;
        v238 = 0xC0LL * v417;
        *(__m256i *)(v238 + v205) = v481;
        *(__m256i *)(v238 + v205 + 0x20) = v482;
        *(__m256i *)(v238 + v205 + 0x40) = v483;
        v239 = (__m256i *)(v238 + v205);
        TlsIndex_1 = (unsigned int)::TlsIndex;
        v239[3] = v484;
        v239[4] = v485;
        ThreadLocalStoragePointer_1 = NtCurrentTeb()->ThreadLocalStoragePointer;
        v239[5] = v486;
        v436[1] = v14;
        v436[2] = v14;
        __asm { vzeroupper }
        CRigidEntity::RegisterContactPoint(
          (__int64)Parameter,
          v237,
          (__int64)&v239[1].m256i_i64[2],
          v203,
          *(_DWORD *)(v238 + v203 + 0x8C),
          *(_DWORD *)(v238 + v203 + 0x94),
          *(_DWORD *)(v238 + v203 + 0x90),
          *(_DWORD *)(v238 + v203 + 0x98),
          0x40,
          v14,
          *(_DWORD *)(ThreadLocalStoragePointer_1[TlsIndex_1] + 0x800LL),
          (__int64)v436);
        goto LABEL_82;
      }
      *((_DWORD *)Parameter + 0xF6) = *((_DWORD *)Parameter + 0x76);
      *((_DWORD *)Parameter + 0xF7) = *((_DWORD *)Parameter + 0x77);
      *((_DWORD *)Parameter + 0xF8) = *((_DWORD *)Parameter + 0x78);
      *((_DWORD *)Parameter + 0xF9) = *((_DWORD *)Parameter + 0x79);
      v206 = *((float *)Parameter + 0x78);
      v207 = *((float *)Parameter + 0x76);
      v208 = *((float *)Parameter + 0x77);
      v209 = *((float *)Parameter + 0x1B8);
      v210 = *((float *)Parameter + 0x1B7);
      v211 = *((float *)Parameter + 0x79);
      v212 = *((float *)Parameter + 0x1B6);
      v213 = (float)((float)(v209 * v208) - (float)(v210 * v206)) + (float)(v212 * v211);
      v214 = (float)((float)(v212 * v206) - (float)(v207 * v209)) + (float)(v211 * v210);
      v215 = (float)((float)(v207 * v210) - (float)(v212 * v208)) + (float)(v211 * v209);
      v216 = v207 * v215;
      v217 = v208 * v215;
      v218 = *((double *)Parameter + 0xC6);
      v219 = v217 - (float)(v206 * v214);
      v220 = v207 * v214;
      v221 = *((double *)Parameter + 0xC7);
      *((double *)Parameter + 0x78) = *((double *)Parameter + 0xC5) - (float)((float)(v212 + v219) + v219);
      *((double *)Parameter + 0x79) = v218
                                    - (float)((float)(v210 + (float)((float)(v206 * v213) - v216))
                                            + (float)((float)(v206 * v213) - v216));
      LODWORD(v394) = 0;
      *((double *)Parameter + 0x7A) = v221
                                    - (float)((float)(v209 + (float)(v220 - (float)(v208 * v213)))
                                            + (float)(v220 - (float)(v208 * v213)));
      v425 = v14;
      v426 = v14;
      v427 = v14;
      n8_1 = CRigidEntity::CheckForNewContacts(
               Parameter,
               (__int64)v439,
               (__int64)&v487,
               &v415,
               (__int64)&v425,
               v394,
               0xFFFFFFFF);
      v203 = v512;
      n8 = n8_1;
      v205 = v512;
      if ( n8_1 )
        goto LABEL_82;
    }
  }
  sub_146794880(Parameter, v203, n8, v17);
LABEL_84:
  if ( v415 >= 0 )
  {
    v242 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x119);
    if ( (v242 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)Parameter + 0x119,
        v242,
        (__int64)"CRigidEntity::Step",
        (__int64)"m_lockContacts",
        1);
    v243 = (char *)Parameter + 0x4D0;
    v244 = (double *)*((_QWORD *)Parameter + 0x9A);
    v245 = 0xC0LL * v415;
    if ( *(_DWORD *)(v245 + v203 + 0x78) )
    {
      if ( v244 != (double *)v243 )
      {
        v246 = *(float *)(v245 + v203 + 0x70);
        v247 = *(float *)(v245 + v203 + 0x74);
        v248 = *(float *)(v245 + v203 + 0x6C);
        do
        {
          v249 = v244[8] - v488;
          v250 = v244[0xA] - v490;
          _XMM0 = COERCE_UNSIGNED_INT64(v246 * v250 - v247 * (v244[9] - v489));
          __asm { vcvtsd2ss xmm7, xmm0, xmm0 }
          _XMM0 = COERCE_UNSIGNED_INT64(v247 * v249 - v250 * v248);
          __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
          _XMM0 = COERCE_UNSIGNED_INT64((v244[9] - v489) * v248 - v246 * v249);
          __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
          v257 = (float)((float)(*(float *)&_XMM4 * *(float *)&_XMM4) + (float)(*(float *)&_XMM7 * *(float *)&_XMM7))
               + (float)(*(float *)&_XMM5 * *(float *)&_XMM5);
          if ( v257 > (float)(v497 * v497) )
          {
            v258 = (float)((float)(*(float *)&_XMM4 * *((float *)v244 + 0x1D))
                         + (float)(*(float *)&_XMM7 * *((float *)v244 + 0x1C)))
                 + (float)(*(float *)&_XMM5 * *((float *)v244 + 0x1E));
            if ( (float)(COERCE_FLOAT(LODWORD(v258) & 0x7FFFFFFF) * v258) < (float)(v257 * -0.001) )
              break;
          }
          v244 = *(double **)v244;
        }
        while ( v244 != (double *)v243 );
        v124 = v411;
      }
    }
    else if ( v244 != (double *)v243 )
    {
      while ( (float)((float)((float)(*(float *)(v245 + v203 + 0x70) * *((float *)v244 + 0x1D))
                            + (float)(*(float *)(v245 + v203 + 0x6C) * *((float *)v244 + 0x1C)))
                    + (float)(*(float *)(v245 + v203 + 0x74) * *((float *)v244 + 0x1E))) > -0.001 )
      {
        v244 = *(double **)v244;
        if ( v244 == (double *)v243 )
          goto LABEL_99;
      }
LABEL_104:
      v266 = _InterlockedDecrement64((volatile signed __int64 *)Parameter + 0x119);
      if ( (v266 & 0x3FF) == 0 && (v266 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0((volatile signed __int64 *)Parameter + 0x119, v266);
      CRigidEntity::ComputeBBoxRE(Parameter);
      LODWORD(v394) = 0;
      v487 = 0;
      v495 = 1.0e10;
      v496 = v14;
      v437[0] = v14;
      v437[1] = v14;
      v437[2] = v14;
      n8 = CRigidEntity::CheckForNewContacts(
             Parameter,
             (__int64)v439,
             (__int64)&v487,
             &v415,
             (__int64)v437,
             v394,
             0xFFFFFFFF);
      goto LABEL_109;
    }
    if ( v244 == (double *)((char *)Parameter + 0x4D0) )
    {
LABEL_99:
      if ( !*(_DWORD *)(0xC0LL * v415 + v203 + 0x78)
        && (!v408 || (float)(v504 * 0.1) < *(double *)(0xC0LL * v415 + v203)) )
      {
        v259 = *(double *)(0xC0LL * v415 + v203);
        if ( v259 < (float)((float)(v124 * *(float *)(0xC0LL * v415 + v203 + 0x7C)) * 1.1) )
        {
          _XMM1 = COERCE_UNSIGNED_INT64(v259 - v412);
          __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
          v404 = 1;
          v421 = *(double *)(0xC0LL * v415 + v203 + 0x6C);
          v262 = (float)(*(float *)&v421 * *(float *)&_XMM4);
          v263 = (float)(_mm_shuffle_ps((__m128)*(unsigned __int64 *)&v421, (__m128)*(unsigned __int64 *)&v421, 0x55).m128_f32[0]
                       * *(float *)&_XMM4);
          v264 = *(float *)(0xC0LL * v415 + v203 + 0x74) * *(float *)&_XMM4;
          *((double *)Parameter + 0x78) = v262 + *((double *)Parameter + 0x78);
          v265 = v264;
          *((double *)Parameter + 0x79) = v263 + *((double *)Parameter + 0x79);
          *((double *)Parameter + 0x7A) = v265 + *((double *)Parameter + 0x7A);
          *((double *)Parameter + 0xC5) = v262 + *((double *)Parameter + 0xC5);
          *((double *)Parameter + 0xC6) = v263 + *((double *)Parameter + 0xC6);
          *((double *)Parameter + 0xC7) = v265 + *((double *)Parameter + 0xC7);
        }
      }
    }
    goto LABEL_104;
  }
  CRigidEntity::ComputeBBoxRE(Parameter);
LABEL_109:
  *((_BYTE *)Parameter + 0x864) *= 2;
  v268 = 0;
  v407 = 0;
  n8_2 = n8;
  if ( n8 <= 0 )
    goto LABEL_139;
  n8_3 = n8_2;
  v270 = v203 + 0x20;
  v271 = v17;
  v272 = v17;
  v433 = v17;
  v273 = 0;
  v274 = 0.0;
  v429 = 0.0;
  do
  {
    _XMM0 = *(unsigned __int64 *)(v270 - 0x20);
    if ( *(double *)&_XMM0 < 0.0 )
      goto LABEL_137;
    if ( (*(_QWORD *)(*((_QWORD *)Parameter + 0x48)
                    + 8LL * *((int *)&unk_1513C1EA0 + 0x1002 * v271 + 2 * *(_QWORD *)&v274))
        & 0x1000000000LL) != 0 )
    {
      sub_1467C90E0((unsigned __int64)Parameter, v203, v268, n0x80000, v272);
      goto LABEL_136;
    }
    v276 = (__m128)*(unsigned __int64 *)(v270 + 0x4C);
    v277 = 0;
    n0x80000 = 0x80000;
    v278 = *(_QWORD *)(v270 + 8);
    __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
    v280 = _mm_shuffle_ps(v276, v276, 0x55).m128_f32[0] * *(float *)&_XMM4;
    v281 = *(float *)(v270 + 0x54);
    v282 = -((*(int *)(v270 + 0x7C) >> 0x1F) & (*(int *)(v270 + 0x80) >> 0x1F));
    v419 = *(float *)&v282;
    v283 = v281 * *(float *)&_XMM4;
    v284 = v276.m128_f32[0] * *(float *)&_XMM4;
    v420 = v281 * *(float *)&_XMM4;
    v422 = v14;
    v423 = v14;
    v424 = v14;
    v409 = v276.m128_f32[0] * *(float *)&_XMM4;
    v416 = v280;
    *(float *)&_XMM6 = v14;
    v286 = v14;
    v287 = v14;
    v288 = v14;
    if ( v278 && *(int *)(v278 + 4) >= 2 )
    {
      v286 = *(float *)(v278 + 0x38);
      v421 = *(double *)(v278 + 0x30);
      v288 = *(float *)&v421;
      v287 = _mm_shuffle_ps((__m128)*(unsigned __int64 *)&v421, (__m128)*(unsigned __int64 *)&v421, 0x55).m128_f32[0];
      v289 = (float)(v287 * *(float *)(v270 + 0x48)) - (float)(v286 * *(float *)(v270 + 0x44));
      v290 = (float)(v286 * *(float *)(v270 + 0x40)) - (float)(*(float *)&v421 * *(float *)(v270 + 0x48));
      v291 = *(_DWORD *)(v270 + 0x50);
      v424 = (float)(*(float *)&v421 * *(float *)(v270 + 0x44)) - (float)(v287 * *(float *)(v270 + 0x40));
      v292 = *(_DWORD *)(v270 + 0x4C);
      v423 = v290;
      v293 = *(_DWORD *)(v270 + 0x54);
      *(float *)(v270 + 0x40) = COERCE_FLOAT(v292 ^ 0x80000000);
      v422 = v289;
      *(float *)(v270 + 0x44) = COERCE_FLOAT(v291 ^ 0x80000000);
      *(float *)(v270 + 0x48) = COERCE_FLOAT(v293 ^ 0x80000000);
      v294 = *(_DWORD *)(v278 + 4);
      *(float *)&_XMM6 = v504;
      if ( v294 > 0 )
      {
        v296 = *(_QWORD *)(v278 + 0x3C);
        v297 = 0;
        v298 = (unsigned int)v294;
        do
        {
          v299 = *(unsigned int *)(v296 + v297 + 4);
          v297 += 0xC;
          *((_QWORD *)&v300 + 1) = *((_QWORD *)&v299 + 1);
          *(double *)&v300 = (*(float *)&v299 + *(double *)(v278 + 0x4C) - *(double *)(v270 + 0x18)) * v287
                           + (*(float *)(v296 + v297 - 0xC) + *(double *)(v278 + 0x44) - *(double *)(v270 + 0x10))
                           * v288
                           + (*(float *)(v296 + v297 - 4) + *(double *)(v278 + 0x54) - *(double *)(v270 + 0x20)) * v286;
          _XMM4 = v300;
          __asm
          {
            vminsd  xmm0, xmm4, xmm2
            vcvtsd2ss xmm6, xmm0, xmm0
          }
          --v298;
        }
        while ( v298 );
        v284 = v409;
        v280 = v416;
      }
      v303 = 0;
      if ( (-v282 & v294) > 0 )
      {
        v304 = v420;
        v413 = -v282;
        v305 = -v282;
        v306 = 0;
        do
        {
          v307 = *(_QWORD *)(v278 + 0x3C);
          v308 = *(float *)(v306 + v307) + *(double *)(v278 + 0x44);
          v309 = *(float *)(v306 + v307 + 4) + *(double *)(v278 + 0x4C);
          _XMM1 = *(unsigned __int64 *)(v270 - 0x20);
          v311 = *(float *)(v306 + v307 + 8) + *(double *)(v278 + 0x54);
          __asm { vcvtpd2ps xmm1, xmm1 }
          *((_QWORD *)&v313 + 1) = *((_QWORD *)&_XMM1 + 1);
          *(double *)&v313 = *(float *)&_XMM1
                           - ((v309 - *(double *)(v270 + 0x18)) * v287
                            + (v308 - *(double *)(v270 + 0x10)) * v288
                            + (v311 - *(double *)(v270 + 0x20)) * v286)
                           + *(float *)&_XMM6;
          _XMM1 = v313;
          __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
          if ( *(float *)&_XMM4 > COERCE_FLOAT(LODWORD(v412) ^ 0x80000000) )
          {
            v316 = *(_QWORD *)(v278 + 0x18);
            v317 = *(_QWORD *)(v278 + 0x20);
            v318 = *(_QWORD *)(v278 + 0x28);
            v319 = *(_QWORD *)(v278 + 0x10);
            LODWORD(v318) = *(_DWORD *)(v318 + v273);
            v472[1] = v309 - v280;
            __asm { vmaxss  xmm0, xmm4, cs:dword_1480E067C }
            v401 = v318;
            n3 = *(_DWORD *)(v316 + v273);
            v395 = *(_DWORD *)(v317 + v273);
            LODWORD(v318) = *(_DWORD *)(v319 + v273);
            v472[0] = v308 - v284;
            v472[2] = v311 - v304;
            CRigidEntity::RegisterContactPoint(
              (__int64)Parameter,
              v407,
              (__int64)v472,
              v203,
              v318,
              v395,
              n3,
              v401,
              n0x80000 | 0x1040040,
              *(float *)&_XMM0,
              v272,
              (__int64)&v422);
            v305 = v413;
            v272 = v410;
            n0x80000 = 0;
          }
          v278 = *(_QWORD *)(v270 + 8);
          ++v303;
          v306 += 0xC;
          v273 += 4;
        }
        while ( v303 < (v305 & *(_DWORD *)(v278 + 4)) );
        v14 = v418;
        *(float *)&v282 = v419;
        v273 = 0;
      }
      v321 = *(double *)(v270 + 0x18);
      v322 = *(double *)(v270 + 0x10);
      v323 = *(double *)(v270 + 0x20);
      _XMM0 = 0;
      __asm { vcvtsi2sd xmm0, xmm0, eax }
      _XMM1 = COERCE_UNSIGNED_INT64(
                ((*(double *)(v270 + 0x30) - v321) * v287
               + (*(double *)(v270 + 0x28) - v322) * v288
               + (*(double *)(v270 + 0x38) - v323) * v286)
              * *(double *)&_XMM0);
      __asm { vcvtsd2ss xmm6, xmm1, xmm1 }
      v327 = *(_DWORD *)(v270 + 0x90) & (unsigned int)(v282 - 1);
      if ( (*(_DWORD *)(v270 + 0x90) & (v282 - 1)) > 0 )
      {
        v328 = *(_QWORD *)(v270 - 0x18);
        v329 = 0;
        do
        {
          v330 = *(unsigned int *)(v328 + v329 + 4);
          v329 += 0xC;
          *((_QWORD *)&v331 + 1) = *((_QWORD *)&v330 + 1);
          *(double *)&v331 = (*(float *)&v330 + *(double *)(v270 - 8) - v321) * v287
                           + (*(float *)(v328 + v329 - 0xC) + *(double *)(v270 - 0x10) - v322) * v288
                           + (*(float *)(v328 + v329 - 4) + *(double *)v270 - v323) * v286;
          _XMM4 = v331;
          __asm
          {
            vminsd  xmm0, xmm4, xmm2
            vcvtsd2ss xmm6, xmm0, xmm0
          }
          --v327;
        }
        while ( v327 );
      }
      v268 = v407;
      v277 = ((**(_DWORD **)(v270 + 8) ^ (**(_DWORD **)(v270 + 8) - 1)) >> 0x1F) & 0x1000000;
      if ( *(float *)&v282 != 0.0 )
        goto LABEL_132;
LABEL_129:
      _XMM0 = *(unsigned __int64 *)(v270 - 0x20);
      __asm { vcvtpd2ps xmm0, xmm0 }
      *((_QWORD *)&v336 + 1) = *((_QWORD *)&_XMM0 + 1);
      *(double *)&v336 = *(float *)&_XMM0
                       - ((*(double *)(v270 + 0x28) - *(double *)(v270 + 0x10)) * v288
                        + (*(double *)(v270 + 0x30) - *(double *)(v270 + 0x18)) * v287
                        + (*(double *)(v270 + 0x38) - *(double *)(v270 + 0x20)) * v286)
                       + *(float *)&_XMM6;
      _XMM0 = v336;
      __asm { vmaxsd  xmm2, xmm0, xmm12 }
      __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
      CRigidEntity::RegisterContactPoint(
        (__int64)Parameter,
        v268,
        v203 + 0xC0LL * v268 + 0x48,
        v203,
        *(_DWORD *)(v270 + 0x6C),
        *(_DWORD *)(v270 + 0x74),
        *(_DWORD *)(v270 + 0x70),
        *(_DWORD *)(v270 + 0x78),
        v277 | 0x80040,
        *(float *)&_XMM1,
        v272,
        (__int64)&v422);
      if ( *(int *)(v270 + 0x90) > 1 )
      {
        v340 = 0;
        v341 = v277 | 0x40;
        do
        {
          v342 = *(_QWORD *)(v270 - 0x18);
          v343 = *(float *)(v273 + v342 + 8) + *(double *)v270;
          _XMM0 = *(unsigned __int64 *)(v270 - 0x20);
          v345 = *(float *)(v273 + v342 + 4) + *(double *)(v270 - 8);
          __asm { vcvtpd2ps xmm0, xmm0 }
          v473[0] = *(float *)(v273 + v342) + *(double *)(v270 - 0x10);
          v347 = v473[0] - *(double *)(v270 + 0x10);
          *((_QWORD *)&v348 + 1) = *((_QWORD *)&_XMM0 + 1);
          v473[1] = v345;
          *(double *)&v348 = *(float *)&_XMM0
                           - (v347 * v288
                            + (v345 - *(double *)(v270 + 0x18)) * v287
                            + (v343 - *(double *)(v270 + 0x20)) * v286)
                           + *(float *)&_XMM6;
          _XMM0 = v348;
          __asm
          {
            vmaxsd  xmm1, xmm0, xmm12
            vcvtsd2ss xmm2, xmm1, xmm1
          }
          v402 = *(_DWORD *)(v270 + 0x78);
          n3a = *(_DWORD *)(v270 + 0x70);
          v396 = *(_DWORD *)(v270 + 0x74);
          v392 = *(_DWORD *)(v270 + 0x6C);
          v473[2] = v343;
          CRigidEntity::RegisterContactPoint(
            (__int64)Parameter,
            v268,
            (__int64)v473,
            v203,
            v392,
            v396,
            n3a,
            v402,
            v341,
            *(float *)&_XMM2,
            v410,
            (__int64)&v422);
          ++v340;
          v273 += 0xC;
        }
        while ( v340 < *(_DWORD *)(v270 + 0x90) );
      }
      goto LABEL_132;
    }
    if ( *(float *)&v282 == 0.0 )
      goto LABEL_129;
    v403 = *(_DWORD *)(v270 + 0x78);
    n3b = *(_DWORD *)(v270 + 0x70);
    v397 = *(_DWORD *)(v270 + 0x74);
    v352 = *(_DWORD *)(v270 + 0x6C);
    v353 = *(double *)(v270 + 0x18);
    v474[0] = *(double *)(v270 + 0x10) - (float)(v276.m128_f32[0] * *(float *)&_XMM4);
    v354 = v353 - v280;
    v355 = *(double *)(v270 + 0x20);
    v474[1] = v354;
    v438[0] = v14;
    v438[1] = v14;
    v438[2] = v14;
    v474[2] = v355 - v283;
    CRigidEntity::RegisterContactPoint(
      (__int64)Parameter,
      v268,
      (__int64)v474,
      v203,
      v352,
      v397,
      n3b,
      v403,
      0x80040,
      *(float *)&_XMM4,
      v272,
      (__int64)v438);
LABEL_132:
    v274 = v429;
    v414 |= COERCE_UNSIGNED_INT64((float)(v504 * 0.5) - *(double *)(v270 - 0x20)) >> 0x3F;
    v273 = 0;
LABEL_136:
    v271 = v433;
    n8_3 = n8_2;
    v272 = v410;
LABEL_137:
    ++v268;
    ++*(_QWORD *)&v274;
    v270 += 0xC0;
    v407 = v268;
    v429 = v274;
  }
  while ( *(__int64 *)&v274 < n8_3 );
  LODWORD(v17) = v410;
  v10 = (volatile signed __int64 *)((char *)Parameter + 0xA08);
LABEL_139:
  sub_1467A6DE0(Parameter, v17);
  _XMM9 = LODWORD(v411);
  v30 = v404;
  v27 = v414;
  v32 = LODWORD(v428);
LABEL_143:
  CRigidEntity::VerifyExistingContacts(Parameter);
  sub_146933C00(*((_QWORD *)Parameter + 0x58), (__int64)Parameter, 1, (_DWORD)Parameter + 0x418);
  (*(void (__fastcall **)(Parameter *, _QWORD, _QWORD, __int64))(*(_QWORD *)Parameter + 0x360LL))(Parameter, 0, 0, 1);
  v513[0] = 0xC;
  v520 = 0;
  v514 = 0;
  v515 = 0;
  v524 = 0;
  v525 = 0;
  v543 = 0;
  v537 = 0;
  v538 = 0;
  v547 = 0;
  v548 = 0;
  v566 = 0;
  v560 = 0;
  v561 = 0;
  v516 = v14;
  v517 = v14;
  v518 = v14;
  v521 = v14;
  v522 = v14;
  v523 = v14;
  v539 = v14;
  v540 = v14;
  v541 = v14;
  v544 = v14;
  v545 = v14;
  v546 = v14;
  v562 = v14;
  v563 = v14;
  v564 = v14;
  v567 = v14;
  v513[1] = 0xFFBFFFFF;
  v513[2] = 0xFFBFFFFF;
  v513[3] = 0xFFBFFFFF;
  v513[0xA] = 0xFFBFFFFF;
  v513[0xF] = 0xFFF7FFFF;
  v513[0x14] = 0xFFBFFFFF;
  v519 = 0xFFBFFFFF;
  v513[4] = 0xFFBFFFFF;
  v513[5] = 0xFFBFFFFF;
  v513[6] = 0xFFBFFFFF;
  v513[9] = 0xFFBFFFFF;
  n0xC = 0xC;
  v527 = 0xFFBFFFFF;
  v528 = 0xFFBFFFFF;
  v529 = 0xFFBFFFFF;
  v534 = 0xFFBFFFFF;
  v535 = 0xFFF7FFFF;
  v536 = 0xFFBFFFFF;
  v542 = 0xFFBFFFFF;
  v530 = 0xFFBFFFFF;
  v531 = 0xFFBFFFFF;
  v532 = 0xFFBFFFFF;
  v533 = 0xFFBFFFFF;
  n0xC_1 = 0xC;
  v550 = 0xFFBFFFFF;
  v551 = 0xFFBFFFFF;
  v552 = 0xFFBFFFFF;
  v557 = 0xFFBFFFFF;
  v558 = 0xFFF7FFFF;
  v559 = 0xFFBFFFFF;
  v565 = 0xFFBFFFFF;
  v553 = 0xFFBFFFFF;
  v554 = 0xFFBFFFFF;
  v555 = 0xFFBFFFFF;
  v556 = 0xFFBFFFFF;
  v570 = 0;
  v571 = 0;
  n0xC_2 = 0xC;
  v568 = v14;
  v569 = v14;
  v585 = v14;
  v586 = v14;
  v587 = v14;
  v590 = v14;
  v591 = v14;
  v592 = v14;
  v589 = 0;
  v573 = 0xFFBFFFFF;
  v574 = 0xFFBFFFFF;
  v575 = 0xFFBFFFFF;
  v580 = 0xFFBFFFFF;
  v581 = 0xFFF7FFFF;
  v582 = 0xFFBFFFFF;
  v588 = 0xFFBFFFFF;
  v576 = 0xFFBFFFFF;
  v577 = 0xFFBFFFFF;
  v578 = 0xFFBFFFFF;
  v579 = 0xFFBFFFFF;
  v583 = 0;
  v584 = 0;
  v593 = 0;
  v594 = 0;
  v360 = sub_1467C8250((__int64 *)Parameter, v359, (int)v513, 4);
  v361 = (float *)((char *)Parameter + 0x538);
  if ( !*((_DWORD *)Parameter + 0x52) )
    v361 = (float *)((char *)Parameter + 0x544);
  v362 = v361[2];
  v363 = *((double *)Parameter + 0xD6) > 0.0;
  *(_QWORD *)v431 = *(_QWORD *)v361;
  v432 = v362;
  if ( v363 )
    sub_14677FE30((unsigned __int64)Parameter, *(float *)&_XMM9, (float *)v431, (__int64)v513, v360);
  v365 = *((double *)Parameter + 0xEC) + *((double *)Parameter + 0xCA);
  v364 = v365;
  v366 = *((double *)Parameter + 0xED) + *((double *)Parameter + 0xCB);
  v367 = *((double *)Parameter + 0xEE) + *((double *)Parameter + 0xCC);
  v368 = *(__m128 *)((char *)Parameter + 0x668);
  *((double *)Parameter + 0xCB) = v366;
  *((double *)Parameter + 0xCC) = v367;
  *((double *)Parameter + 0xCA) = v365;
  *((_QWORD *)Parameter + 0xEE) = 0;
  *((_QWORD *)Parameter + 0xED) = 0;
  *((_QWORD *)Parameter + 0xEC) = 0;
  v369 = _mm_add_pd(v368, *(__m128 *)((char *)Parameter + 0x778));
  *((double *)Parameter + 0xCF) = *((double *)Parameter + 0xF1) + *((double *)Parameter + 0xCF);
  *(__m128 *)((char *)Parameter + 0x668) = v369;
  *((_QWORD *)Parameter + 0xF1) = 0;
  *((_QWORD *)Parameter + 0xF0) = 0;
  *((_QWORD *)Parameter + 0xEF) = 0;
  *((_QWORD *)&v370 + 1) = *((_QWORD *)&_XMM9 + 1);
  *(double *)&v370 = *(float *)&_XMM9 * *((double *)Parameter + 0xD6);
  _XMM1 = v370;
  __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
  v373 = (float)(*(float *)&_XMM4 * *(float *)&v431[1]) + v366;
  *((double *)Parameter + 0xCB) = v373;
  *(double *)&v370 = (float)(*(float *)&_XMM4 * v362) + v367;
  v374 = *(float *)&_XMM4 * *(float *)v431;
  *((double *)Parameter + 0xCC) = *(double *)&v370;
  v375 = (__m128)*((unsigned __int64 *)Parameter + 0x10D);
  *((double *)Parameter + 0xCA) = v374 + v364 + (float)(v375.m128_f32[0] * *(float *)&_XMM9);
  *((double *)Parameter + 0xCB) = (float)(_mm_shuffle_ps(v375, v375, 0x55).m128_f32[0] * *(float *)&_XMM9) + v373;
  *((double *)Parameter + 0xCC) = (float)(*((float *)Parameter + 0x21C) * *(float *)&_XMM9) + *(double *)&v370;
  v376 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x874);
  *((double *)Parameter + 0xCD) = (float)(v376.m128_f32[0] * *(float *)&_XMM9) + *((double *)Parameter + 0xCD);
  *((double *)Parameter + 0xCE) = (float)(_mm_shuffle_ps(v376, v376, 0x55).m128_f32[0] * *(float *)&_XMM9)
                                + *((double *)Parameter + 0xCE);
  *((double *)Parameter + 0xCF) = (float)(*((float *)Parameter + 0x21F) * *(float *)&_XMM9)
                                + *((double *)Parameter + 0xCF);
  sub_146731C90((__int64)Parameter + 0x5B0);
  (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter);
  (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x380LL))(Parameter);
  *((_QWORD *)Parameter + 0xDF) = 0;
  *((_QWORD *)Parameter + 0xDE) = 0;
  *((_QWORD *)Parameter + 0xDD) = 0;
  *((_QWORD *)Parameter + 0xE2) = 0;
  *((_QWORD *)Parameter + 0xE1) = 0;
  *((_QWORD *)Parameter + 0xE0) = 0;
  sub_146731C90((__int64)Parameter + 0x5B0);
  (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter);
  v377 = *((_DWORD *)Parameter + 0x1A5);
  *((double *)Parameter + 0x101) = *(double *)((char *)Parameter + 0x68C);
  v378 = *((double *)Parameter + 0xD0);
  *((_DWORD *)Parameter + 0x204) = v377;
  v379 = *((_DWORD *)Parameter + 0x1A2);
  *(double *)((char *)Parameter + 0x814) = v378;
  *((_DWORD *)Parameter + 0x207) = v379;
  v428 = (float)(*(float *)(*((_QWORD *)Parameter + 0x58) + 0x48LL * (int)v17 + 0x836F8) * 0.001)
       - *((double *)Parameter + 0xD6);
  v380 = (v428 < 0.0) & v27;
  if ( ((*((_DWORD *)Parameter + 0x129) >> 0xB) & v380) != 0 )
  {
    if ( (float)((float)((float)((float)((float)((float)((float)(*((float *)Parameter + 0x1A0)
                                                               * *((float *)Parameter + 0x1A0))
                                                       + (float)(*((float *)Parameter + 0x1A1)
                                                               * *((float *)Parameter + 0x1A1)))
                                               + (float)(*((float *)Parameter + 0x1A2) * *((float *)Parameter + 0x1A2)))
                                       * (float)((float)(0.5 * v504) * (float)(0.5 * v504)))
                               + (float)(*((float *)Parameter + 0x1A4) * *((float *)Parameter + 0x1A4)))
                       + (float)((float)(*((float *)Parameter + 0x1A5) * *((float *)Parameter + 0x1A5))
                               + (float)(*((float *)Parameter + 0x1A3) * *((float *)Parameter + 0x1A3))))
               * (float)(*(float *)&_XMM9 * *(float *)&_XMM9)) >= (float)((float)(0.1 * v504) * (float)(0.1 * v504)) )
    {
      *((_QWORD *)Parameter + 0xD2) = 0;
      *((_QWORD *)Parameter + 0xD1) = 0;
      *((_QWORD *)Parameter + 0xD0) = 0;
      *((_QWORD *)Parameter + 0xCC) = 0;
      *((_QWORD *)Parameter + 0xCB) = 0;
      *((_QWORD *)Parameter + 0xCA) = 0;
      *((_QWORD *)Parameter + 0xCF) = 0;
      *((_QWORD *)Parameter + 0xCE) = 0;
      *((_QWORD *)Parameter + 0xCD) = 0;
      *(_QWORD *)((char *)Parameter + 0x69C) = 0;
      *((_DWORD *)Parameter + 0x1A6) = 0;
      *((_QWORD *)Parameter + 0xD5) = 0;
      *((_DWORD *)Parameter + 0x1A9) = 0;
    }
    else
    {
      v380 = 0;
    }
  }
  v381 = *((_DWORD *)Parameter + 0x259);
  *((_DWORD *)Parameter + 0x129) = (v380 << 0xB) & 0xFFFFEFFF | *((_DWORD *)Parameter + 0x129) & 0xFFFFE7FF;
  *((_DWORD *)Parameter + 0x12A) = *((_DWORD *)Parameter + 0x12A) & 0xFFFFFE1F
                                 | (0x20 * (-v32 & 0xF)) & (*((_DWORD *)Parameter + 0x12A) + 0x20 * v30);
  if ( (v381 & 0xFFA00000) != 0xFFA00000 || (*((_DWORD *)Parameter + 0x25C) & 0xFFA00000) != 0xFFA00000 )
  {
    v382 = *(double *)((char *)Parameter + 0x964);
    v454 = *((_DWORD *)Parameter + 0x25B);
    v456 = *((_DWORD *)Parameter + 0x25E);
    v383 = *(_QWORD *)Parameter;
    v453 = v382;
    v384 = *((double *)Parameter + 0x12E);
    v457 = 0;
    v452[0] = 8;
    v452[1] = 0x80000000;
    v452[2] = 0x80000000;
    v455 = v384;
    (*(void (__fastcall **)(Parameter *, _DWORD *, __int64))(v383 + 0x30))(Parameter, v452, 1);
    *((_DWORD *)Parameter + 0x259) = 0xFFBFFFFF;
    *((_DWORD *)Parameter + 0x25C) = 0xFFBFFFFF;
  }
  v385 = (*(__int64 (__fastcall **)(Parameter *, _QWORD))(*(_QWORD *)Parameter + 0x3B8LL))(
           Parameter,
           ((*((_DWORD *)Parameter + 0x129) & 0x800) == 0)
         | ((3 - ((*((_DWORD *)Parameter + 0x129) >> 0xD) & 0xFu)) >> 0x1F));
LABEL_164:
  v389 = v385;
  sub_146767EE0(v471);
  n0x200000_2 = _InterlockedCompareExchange64(v10, 0, 0x200000);
  if ( n0x200000_2 != 0x200000 )
    sub_1403DEBA0(v10, n0x200000_2);
  v468 = __rdtsc();
  qword_149A05E08(&n0x2800);
  return v389;
}

// --- End Function: CRigidEntity::Step (0x1467F1AA0) ---

// --- Function: CRigidEntity::UpdatePosition (0x146805D10) ---
void __fastcall CRigidEntity::UpdatePosition(__int64 a1, int a2, int a3, int a4)
{
  volatile signed __int64 *v7; // rbp
  signed __int64 v9; // rax
  __int64 v10; // rcx
  __int64 v11; // rcx
  unsigned int v12; // ebx
  __int64 v13; // rsi
  __int64 v14; // rax
  __int64 v15; // rcx
  double v26; // xmm1_8
  __int128 v27; // xmm0
  double v28; // xmm1_8
  signed __int64 n0x200000; // rax
  char v30; // [rsp+60h] [rbp+8h] BYREF

  v7 = (volatile signed __int64 *)(a1 + 0xC8);
  if ( !a2 )
  {
    v9 = _InterlockedCompareExchange64(v7, 0x200000, 0);
    if ( v9 )
      sub_1403DE750(a1 + 0xC8, v9, 0, (unsigned int)"CRigidEntity::UpdatePosition", (__int64)"m_lockUpdate", 1);
  }
  if ( !a4 || a3 || *(double *)(a1 + 0x6B0) > 0.0 )
  {
    v11 = *(_QWORD *)(a1 + 0x210);
    v12 = 0;
    *(_OWORD *)(a1 + 0x1C0) = *(_OWORD *)v11;
    *(double *)(a1 + 0x1D0) = *(double *)(v11 + 0x10);
    *(_DWORD *)(a1 + 0x1D8) = *(_DWORD *)(v11 + 0x18);
    *(_DWORD *)(a1 + 0x1DC) = *(_DWORD *)(v11 + 0x1C);
    *(_DWORD *)(a1 + 0x1E0) = *(_DWORD *)(v11 + 0x20);
    *(_DWORD *)(a1 + 0x1E4) = *(_DWORD *)(v11 + 0x24);
    if ( *(int *)(a1 + 0x290) > 0 )
    {
      v13 = 0;
      do
      {
        if ( *(_QWORD *)(v13 + *(_QWORD *)(a1 + 0x280)) != *(_QWORD *)(a1 + 0x230) + 0x20LL * (int)v12 )
          sub_1466246B0(a1 + 0x228, v12);
        ++v12;
        v13 += 8;
      }
      while ( (signed int)v12 < *(_DWORD *)(a1 + 0x290) );
    }
    if ( a3 )
    {
      v26 = *(double *)(a1 + 0x3F8);
      *(_OWORD *)(a1 + 0x418) = *(_OWORD *)(a1 + 0x3E8);
      v27 = *(_OWORD *)(a1 + 0x400);
      *(double *)(a1 + 0x428) = v26;
      v28 = *(double *)(a1 + 0x410);
      *(_OWORD *)(a1 + 0x430) = v27;
      *(double *)(a1 + 0x440) = v28;
      if ( (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
    }
    else
    {
      if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x184LL) )
      {
        v14 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, &v30);
        if ( (unsigned __int8)sub_146602780(a1 + 0x228, v14, 0xFFFFFFFFLL) )
        {
          v15 = *(_QWORD *)(a1 + 0x2C0);
          *(_WORD *)(a1 + 0x106) |= 0x100u;
          CPhysicalWorld::RegisterForRecompute(v15, a1);
        }
      }
      (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x130LL))(
        a1,
        a1 + 0x418,
        ((*(_BYTE *)(a1 + 0x384) & 0x20) == 0) | 2u);
      _XMM0 = *(unsigned __int64 *)(a1 + 0x418);
      __asm { vminsd  xmm1, xmm0, qword ptr [rdi+3E8h] }
      _XMM4 = *(unsigned __int64 *)(a1 + 0x428);
      _XMM3 = *(unsigned __int64 *)(a1 + 0x3F0);
      *(double *)(a1 + 0x10) = *(double *)&_XMM1;
      __asm { vminsd  xmm2, xmm3, qword ptr [rdi+420h] }
      *(double *)(a1 + 0x18) = *(double *)&_XMM2;
      __asm { vminsd  xmm0, xmm4, qword ptr [rdi+3F8h] }
      *(double *)(a1 + 0x20) = *(double *)&_XMM0;
      _XMM1 = *(_OWORD *)(a1 + 0x430);
      _XMM5 = *(unsigned __int64 *)(a1 + 0x410);
      __asm { vmaxpd  xmm1, xmm1, xmmword ptr [rdi+400h] }
      *(_OWORD *)(a1 + 0x28) = _XMM1;
      __asm { vmaxsd  xmm0, xmm5, qword ptr [rdi+440h] }
      *(double *)(a1 + 0x38) = *(double *)&_XMM0;
      if ( (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
      *(_OWORD *)(a1 + 0x468) = *(_OWORD *)(a1 + 0x1C0);
      *(double *)(a1 + 0x478) = *(double *)(a1 + 0x1D0);
      *(_DWORD *)(a1 + 0x490) = *(_DWORD *)(a1 + 0x1D8);
      *(_DWORD *)(a1 + 0x494) = *(_DWORD *)(a1 + 0x1DC);
      *(_DWORD *)(a1 + 0x498) = *(_DWORD *)(a1 + 0x1E0);
      *(_DWORD *)(a1 + 0x49C) = *(_DWORD *)(a1 + 0x1E4);
    }
  }
  else
  {
    v10 = *(_QWORD *)(a1 + 0x2C0);
    *(_WORD *)(a1 + 0x106) |= 0x808u;
    CPhysicalWorld::RegisterForRecompute(v10, a1);
  }
  if ( v7 && !a2 )
  {
    n0x200000 = _InterlockedCompareExchange64(v7, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v7, n0x200000);
  }
}

// --- End Function: CRigidEntity::UpdatePosition (0x146805D10) ---

// --- Function: CRigidEntity::ValidateActionAuthority (0x146806540) ---
char __fastcall CRigidEntity::ValidateActionAuthority(__int64 a1, _DWORD *a2, int a3, __int64 a4, char a5)
{
  __int64 v6; // rax
  int v7; // edi
  int *ThreadLogContextSlot; // rax
  _DWORD v10[2]; // [rsp+50h] [rbp-48h] BYREF
  __int64 p_n0xD0; // [rsp+58h] [rbp-40h] BYREF
  char *v12; // [rsp+60h] [rbp-38h]
  const void *v13; // [rsp+68h] [rbp-30h]
  _QWORD v14[2]; // [rsp+70h] [rbp-28h] BYREF
  __int128 v15; // [rsp+80h] [rbp-18h] BYREF
  int n0xD0; // [rsp+B8h] [rbp+20h] BYREF
  int n0x6A; // [rsp+BCh] [rbp+24h]

  if ( a3 )
    return 1;
  if ( ((*a2 - 1) & 0xFFFFFFF7) != 0 )
    return 1;
  if ( *(_BYTE *)(a1 + 0x94D) )
    return 1;
  if ( *(_BYTE *)(a1 + 0x94E) )
    return 1;
  v6 = *(_QWORD *)(a1 + 0x8E8);
  if ( !v6 || !*(_BYTE *)(v6 + 0xBD) )
    return 1;
  if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x1D0LL) )
  {
    LogTraceConditional(
      "%s: Modifying dynamics of physical entity %s without having authority over physics!",
      "CRigidEntity::ValidateActionAuthority",
      *(const char **)(a1 + 0xD0));
    n0xD0 = 0xD0;
    p_n0xD0 = (__int64)&n0xD0;
    n0x6A = 0x6A;
    v12 = &a5;
    v7 = invokeGlobalCallbackAndMaskStatusBits(
           5,
           (__int64)&p_n0xD0,
           (__int64)"CRigidEntity::ValidateActionAuthority",
           "Modifying dynamics of physical entity [$$] without having authority over physics!");
    if ( (v7 & 0xFFFFF) != 0 )
    {
      v12 = *(char **)(a1 + 0xD0);
      p_n0xD0 = 0;
      v13 = 0;
      ThreadLogContextSlot = getThreadLogContextSlot();
      v10[0] = 0xD0;
      v14[0] = v10;
      v10[1] = 0x6A;
      v14[1] = &p_n0xD0;
      v15 = 0;
      sub_140445100(
        5,
        (__int64)v14,
        (void *)"CRigidEntity::ValidateActionAuthority",
        (__int64)"Modifying dynamics of physical entity [$$] without having authority over physics!",
        1,
        v7,
        (__int64)&v15,
        0,
        (__int64)ThreadLogContextSlot,
        &p_n0xD0);
      sub_1402A63C0(v13);
    }
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149A0A330 + 0x620LL))(qword_149A0A330, 3, 6);
  }
  return 0;
}

// --- End Function: CRigidEntity::ValidateActionAuthority (0x146806540) ---

// --- Function: CRigidEntity::VerifyExistingContacts (0x146806720) ---
__int64 __fastcall CRigidEntity::VerifyExistingContacts(Parameter *Parameter)
{
  volatile signed __int64 *v1; // rdi
  int v2; // r12d
  signed __int64 v4; // rdx
  volatile signed __int64 *v5; // rbx
  signed __int64 v6; // rdx
  __int64 n0x200000; // rax
  __int64 v8; // r13
  __int64 *v9; // rbx
  unsigned int v10; // edi
  __int64 v11; // r14
  __int64 (__fastcall *v12)(__int64, _QWORD); // rbp
  int v13; // esi
  unsigned __int64 v14; // rdx
  unsigned __int64 v15; // rdx
  Parameter *v16; // rbx
  Parameter *v17; // rdi
  int n0x200000_1; // [rsp+60h] [rbp+8h]

  v1 = (volatile signed __int64 *)((char *)Parameter + 0x8C8);
  v2 = 0;
  v4 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x119);
  if ( (v4 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)Parameter + 0x119,
      v4,
      (__int64)"CRigidEntity::VerifyExistingContacts",
      (__int64)"m_lockContacts",
      1);
  v5 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  v6 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x2A);
  if ( (v6 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)Parameter + 0x2A,
      v6,
      (__int64)"CRigidEntity::VerifyExistingContacts",
      (__int64)"m_lockColliders",
      1);
  n0x200000 = 0;
  n0x200000_1 = 0;
  if ( *((int *)Parameter + 0x52) > 0 )
  {
    v8 = 0;
    do
    {
      v9 = *(__int64 **)(*((_QWORD *)Parameter + 0x98) + v8);
      if ( v9 )
      {
        while ( 1 )
        {
          if ( (*((_BYTE *)v9 + 0x94) & 0x40) == 0 )
          {
            v10 = *((__int16 *)v9 + 0x3F);
            v11 = *(_QWORD *)(*((_QWORD *)Parameter + 0x28) + v8);
            v12 = *(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v11 + 0x270LL);
            v13 = (*(__int64 (__fastcall **)(Parameter *, _QWORD))(*(_QWORD *)Parameter + 0x270LL))(
                    Parameter,
                    (unsigned int)*((__int16 *)v9 + 0x3E));
            if ( (int)(v12(v11, v10) + v13) > 0 )
            {
              *((_DWORD *)v9 + 0x25) |= 0x100000u;
              ++v2;
            }
          }
          *((_DWORD *)v9 + 0x25) &= 0xFFDFFF3F;
          if ( (*((_DWORD *)v9 + 0x25) & 0x80000) != 0 )
            break;
          v9 = (__int64 *)*v9;
        }
        LODWORD(n0x200000) = n0x200000_1;
      }
      n0x200000 = (unsigned int)(n0x200000 + 1);
      v8 += 8;
      n0x200000_1 = n0x200000;
    }
    while ( (int)n0x200000 < *((_DWORD *)Parameter + 0x52) );
    v5 = (volatile signed __int64 *)((char *)Parameter + 0x150);
    v1 = (volatile signed __int64 *)((char *)Parameter + 0x8C8);
  }
  v14 = _InterlockedDecrement64(v5);
  if ( (v14 & 0x3FF) == 0 && (v14 & 0xFFFF0000FFC00000uLL) != 0 )
    n0x200000 = sub_1403CD3A0(v5, v14);
  v15 = _InterlockedDecrement64(v1);
  if ( (v15 & 0x3FF) == 0 && (v15 & 0xFFFF0000FFC00000uLL) != 0 )
    n0x200000 = sub_1403CD3A0(v1, v15);
  if ( v2 )
  {
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x119, 0x200000, 0);
    if ( n0x200000 )
      n0x200000 = sub_1403DE750(
                    (__int64)Parameter + 0x8C8,
                    n0x200000,
                    0,
                    (__int64)"CRigidEntity::VerifyExistingContacts",
                    (__int64)"m_lockContacts",
                    1);
    v16 = (Parameter *)*((_QWORD *)Parameter + 0x9A);
    if ( v16 != (Parameter *)((char *)Parameter + 0x4D0) )
    {
      do
      {
        v17 = *(Parameter **)v16;
        if ( (*((_DWORD *)v16 + 0x25) & 0x100000) != 0 )
        {
          CRigidEntity::DetachContact((__int64)Parameter, (unsigned __int64 *)v16, 0xFFFFFFFF, 1, 0);
          n0x200000 = sub_146918640(*((_QWORD *)Parameter + 0x58));
        }
        v16 = v17;
      }
      while ( v17 != (Parameter *)((char *)Parameter + 0x4D0) );
    }
    if ( Parameter != (Parameter *)0xFFFFFFFFFFFFF738LL )
    {
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x119, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        return sub_1403DEBA0((volatile signed __int64 *)Parameter + 0x119, n0x200000);
    }
  }
  return n0x200000;
}

// --- End Function: CRigidEntity::VerifyExistingContacts (0x146806720) ---

// --- Function: CPhysicalEntity::Action (0x1468AD590) ---
__int64 __fastcall CPhysicalEntity::Action(__int64 a1, __int64 a2, unsigned int a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  __int64 v13; // rsi
  __int64 v17; // r8
  unsigned int v18; // ebx
  int n6; // eax
  int v20; // ebx
  __int16 v21; // r12
  __int64 v22; // rax
  float v23; // xmm7_4
  float v24; // xmm10_4
  float v25; // xmm13_4
  float v26; // xmm6_4
  float v27; // xmm11_4
  float v28; // xmm3_4
  float v29; // xmm12_4
  float v30; // kr00_4
  float v31; // xmm6_4
  __int128 n0x7FFFFFFF; // xmm12
  __int64 v33; // r12
  int n10102016; // edx
  unsigned int value_by_id; // eax
  __int64 value_by_id_1; // r13
  __int64 v37; // rbx
  float *v38; // rcx
  __int64 v39; // rax
  float v40; // xmm14_4
  float v41; // xmm12_4
  float v42; // xmm5_4
  float v43; // xmm10_4
  float v44; // xmm8_4
  float v45; // xmm4_4
  float v46; // xmm13_4
  __m128 v47; // xmm11
  float v48; // edx
  float v49; // xmm9_4
  float v50; // xmm6_4
  float v51; // xmm4_4
  float v52; // kr00_4
  float v53; // xmm5_4
  float v54; // xmm4_4
  float v55; // xmm3_4
  float v56; // xmm0_4
  __m128 v57; // xmm2
  float v60; // xmm1_4
  __int64 v61; // rax
  float v62; // xmm6_4
  unsigned int *v63; // rbx
  __int128 v64; // xmm7
  float v65; // xmm10_4
  float v66; // xmm8_4
  __int128 v67; // xmm9
  __int128 v68; // kr00_16
  bool v71; // dl
  bool v72; // al
  double v73; // xmm0_8
  unsigned int v74; // eax
  float v75; // xmm11_4
  __int128 v76; // kr00_16
  float v77; // xmm4_4
  __int128 v78; // xmm5
  float v79; // xmm12_4
  float v80; // xmm10_4
  float v81; // xmm8_4
  __int128 v82; // kr00_16
  float v84; // xmm3_4
  float v85; // xmm7_4
  float v86; // xmm2_4
  float v87; // xmm4_4
  float v88; // xmm15_4
  float v89; // xmm13_4
  float v90; // xmm11_4
  float v91; // xmm14_4
  float v92; // xmm12_4
  float v93; // xmm7_4
  float v94; // xmm10_4
  __int64 v96; // r13
  float v97; // xmm6_4
  float v98; // xmm1_4
  float v99; // xmm6_4
  float v100; // xmm0_4
  float v101; // xmm4_4
  float v102; // xmm1_4
  float v103; // xmm6_4
  float v104; // xmm0_4
  float v105; // xmm3_4
  float v106; // xmm4_4
  float v107; // xmm0_4
  float v108; // xmm6_4
  float v109; // xmm4_4
  float v110; // xmm8_4
  float v111; // xmm7_4
  float v112; // xmm4_4
  float v113; // xmm12_4
  float v114; // xmm14_4
  double v115; // xmm11_8
  double v116; // xmm10_8
  double v117; // xmm9_8
  float v118; // xmm15_4
  double v119; // xmm7_8
  double v120; // xmm13_8
  double v121; // xmm6_8
  double *v122; // r10
  double *v123; // r11
  double v124; // xmm8_8
  double *v125; // r9
  double *v126; // r8
  double v127; // xmm2_8
  double *v128; // rdx
  double v129; // xmm0_8
  double v130; // xmm4_8
  double v131; // kr00_8
  double *v132; // rax
  double *v133; // rcx
  double *v134; // rax
  double *v135; // rax
  double *v136; // rax
  double *v137; // rax
  double *v138; // rax
  double *v139; // rax
  double *v140; // rax
  double *v141; // rax
  double *v142; // rax
  double *v143; // rax
  double *v144; // rax
  volatile signed __int64 *v145; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v147; // rax
  __int16 v148; // ax
  __int64 v149; // rdx
  __int64 v150; // rax
  __int64 v151; // r8
  _QWORD *v152; // rcx
  __int64 v153; // r8
  __int64 v154; // rcx
  unsigned int v155; // r8d
  __int64 v156; // rdx
  int v157; // ecx
  int v158; // eax
  __int64 i; // rbx
  volatile signed __int64 *v160; // rcx
  unsigned __int64 n0x200000_1; // rax
  int v162; // r9d
  unsigned int value_by_id_2; // ebx
  signed __int64 v164; // rdx
  unsigned __int64 v165; // rdx
  __int128 n0x3F800000; // xmm6
  __m128 v167; // kr00_16
  __m128 v168; // xmm13
  float v169; // xmm13_4
  double v170; // xmm14_8
  double v171; // xmm11_8
  double v172; // xmm12_8
  double v173; // xmm4_8
  double v174; // xmm10_8
  double v175; // xmm9_8
  double v176; // xmm7_8
  double v177; // xmm8_8
  double v178; // xmm5_8
  double v179; // xmm4_8
  double v180; // xmm6_8
  double v181; // xmm5_8
  double v182; // xmm3_8
  double v183; // xmm4_8
  double *v184; // rax
  __m128 v185; // xmm2
  double v186; // xmm1_8
  float v187; // xmm14_4
  int v188; // r8d
  __int64 v189; // rax
  __m128 v190; // xmm2
  float v191; // kr00_4
  float v192; // xmm0_4
  float v193; // xmm1_4
  float v194; // xmm2_4
  float v195; // eax
  float v196; // xmm12_4
  float v197; // xmm10_4
  float v198; // xmm4_4
  float v199; // xmm8_4
  __int64 v200; // rax
  __int64 v201; // rcx
  float v202; // xmm13_4
  float v203; // xmm5_4
  float v204; // xmm11_4
  float v205; // xmm9_4
  float v206; // xmm6_4
  float v207; // xmm4_4
  double v208; // xmm3_8
  double v209; // xmm2_8
  __int64 value_by_id_3; // r13
  float v211; // eax
  int v212; // edx
  float v213; // xmm4_4
  __int64 v214; // r9
  __int128 n0x3F800000_2; // xmm14
  __int128 n0x3F800000_1; // kr00_16
  __m128 v217; // xmm1
  float v218; // xmm7_4
  float v219; // xmm8_4
  float v223; // xmm9_4
  __int64 v224; // rdx
  float *v225; // rcx
  float v226; // xmm12_4
  float v227; // xmm10_4
  float v228; // xmm8_4
  float v229; // xmm11_4
  float v230; // xmm5_4
  float v231; // xmm13_4
  float v232; // xmm4_4
  float v233; // xmm9_4
  float v234; // xmm6_4
  float v235; // xmm4_4
  float v236; // xmm7_4
  float v237; // kr00_4
  float v238; // xmm10_4
  float v239; // xmm5_4
  float v240; // kr00_4
  float v241; // xmm6_4
  float v242; // xmm3_4
  float v243; // xmm12_4
  float v244; // xmm4_4
  float v245; // kr00_4
  float v246; // xmm9_4
  float v247; // xmm7_4
  float v248; // xmm8_4
  float v249; // xmm5_4
  float v250; // xmm4_4
  float v251; // xmm9_4
  float v252; // xmm4_4
  __int128 v253; // xmm8
  __int128 v254; // xmm7
  double v255; // xmm2_8
  double v256; // xmm4_8
  double v257; // xmm5_8
  double v258; // xmm2_8
  double v260; // xmm1_8
  double v261; // xmm3_8
  double v262; // xmm0_8
  __int128 v263; // xmm2
  __int128 v264; // kr00_16
  __int128 v265; // xmm3
  double *v268; // rax
  double v269; // xmm11_8
  __int64 v276; // r8
  float v277; // xmm11_4
  __int128 n0x3F800000_3; // kr00_16
  float v279; // xmm4_4
  __int64 v280; // rdx
  float v281; // xmm12_4
  float v282; // xmm5_4
  float v283; // xmm7_4
  float v284; // xmm2_4
  float v285; // xmm8_4
  float v286; // xmm3_4
  __int128 n0x3F800000_4; // xmm4
  int v289; // r13d
  __int64 v290; // rcx
  float v291; // xmm2_4
  float v292; // kr00_4
  __int64 v293; // r10
  __int128 v294; // xmm4
  float v295; // xmm9_4
  float v296; // xmm10_4
  float v297; // xmm7_4
  __int128 v300; // kr00_16
  float v301; // xmm4_4
  int v303; // r9d
  int v307; // edx
  int v308; // ecx
  float v309; // xmm6_4
  float v310; // xmm5_4
  float v311; // xmm4_4
  float v312; // xmm8_4
  float v313; // xmm9_4
  float v314; // xmm6_4
  float v315; // xmm10_4
  __int64 v316; // rax
  __int128 v317; // xmm8
  float v318; // xmm7_4
  float v319; // xmm9_4
  __int128 v320; // kr00_16
  float v321; // xmm6_4
  float *v322; // rax
  int n3; // eax
  __int64 v326; // rdx
  __int64 v327; // rcx
  __int64 v328; // rax
  float v329; // xmm13_4
  float v330; // xmm8_4
  float v331; // xmm7_4
  float v332; // xmm5_4
  float v333; // xmm6_4
  float v334; // xmm15_4
  float v335; // xmm12_4
  float v336; // xmm14_4
  float v337; // xmm11_4
  float v338; // xmm10_4
  float v339; // xmm9_4
  float v340; // xmm4_4
  float v341; // xmm12_4
  float v342; // xmm6_4
  float v343; // xmm5_4
  float v344; // xmm4_4
  __int64 v345; // rax
  double v346; // xmm12_8
  double v347; // xmm10_8
  double v348; // xmm7_8
  double v349; // xmm11_8
  double v350; // xmm9_8
  double v351; // xmm5_8
  double v352; // xmm4_8
  double v353; // kr00_8
  double v354; // xmm14_8
  double v355; // kr00_8
  double v356; // xmm13_8
  double v357; // kr00_8
  double v358; // xmm5_8
  double v359; // xmm11_8
  double v360; // xmm10_8
  double v361; // xmm4_8
  double v362; // xmm8_8
  double v363; // kr00_8
  double v364; // xmm6_8
  double v365; // xmm4_8
  double v366; // xmm7_8
  double v367; // xmm6_8
  double v368; // xmm4_8
  float v369; // xmm4_4
  __m128 v370; // kr00_16
  float v373; // xmm1_4
  float v374; // xmm3_4
  float v375; // xmm5_4
  float v376; // xmm2_4
  unsigned __int64 v377; // rcx
  unsigned __int64 allocSize; // rax
  unsigned __int64 v379; // rcx
  unsigned __int64 allocSize_1; // rax
  __int64 v381; // rcx
  double *v382; // rax
  double v383; // xmm5_8
  double v384; // kr00_8
  double v385; // xmm4_8
  __int64 v386; // rax
  __int64 v387; // rcx
  __int64 v388; // rdx
  __int64 v389; // rcx
  float v390; // xmm3_4
  float v391; // xmm2_4
  __int64 v392; // rcx
  float v393; // xmm4_4
  float v394; // xmm3_4
  __int64 v395; // r10
  __int64 v396; // r11
  double v397; // xmm4_8
  double v398; // xmm7_8
  __int64 v399; // r8
  __int64 v400; // rdx
  double v401; // xmm11_8
  float v402; // xmm13_4
  double v403; // xmm12_8
  double v404; // xmm6_8
  double v405; // xmm4_8
  double v406; // xmm8_8
  double v407; // kr00_8
  double v408; // xmm9_8
  double v409; // xmm5_8
  double v410; // xmm4_8
  __int128 v411; // xmm7
  __int128 v412; // xmm6
  double v413; // kr00_8
  double v414; // xmm0_8
  __int128 v417; // kr00_16
  float v422; // xmm10_4
  float v423; // xmm4_4
  float v424; // xmm5_4
  float v425; // xmm1_4
  float v426; // xmm3_4
  float v427; // xmm9_4
  __m128 v428; // xmm1
  float v429; // xmm0_4
  float v430; // xmm6_4
  float v431; // xmm5_4
  float v432; // xmm4_4
  float v433; // xmm11_4
  float v434; // kr00_4
  float v435; // xmm4_4
  float v436; // xmm12_4
  float v437; // xmm5_4
  float v438; // xmm10_4
  float v439; // kr00_4
  float v440; // xmm0_4
  float v441; // xmm9_4
  float v442; // xmm8_4
  float v443; // xmm7_4
  float v444; // xmm4_4
  float v445; // xmm9_4
  __m128 v446; // xmm1
  float v447; // xmm0_4
  float v448; // xmm6_4
  float v449; // xmm5_4
  float v450; // xmm4_4
  float v451; // xmm11_4
  float v452; // kr00_4
  float v453; // xmm4_4
  float v454; // xmm12_4
  float v455; // xmm5_4
  float v456; // xmm10_4
  float v457; // kr00_4
  float v458; // xmm0_4
  float v459; // xmm9_4
  float v460; // xmm8_4
  float v461; // xmm7_4
  float v462; // xmm4_4
  __int64 v463; // rcx
  __int64 v464; // rax
  __m128 v465; // xmm2
  float v467; // edx
  __int64 v471; // r8
  int v472; // ecx
  __int64 v473; // rax
  __int64 v474; // rax
  __int64 v475; // rax
  const void **v476; // rbx
  const void *v477; // rbx
  __int64 v478; // rax
  const void *v479; // rbx
  __int64 v480; // rax
  unsigned __int64 n0x200000_2; // rax
  int v482; // r12d
  char v483; // r13
  int v484; // eax
  int v485; // eax
  __int64 v486; // rbx
  int v487; // eax
  __int64 v488; // rbx
  int v489; // ecx
  signed int v490; // ebx
  bool v491; // zf
  int v492; // eax
  __int64 v493; // rax
  signed __int64 v494; // rdx
  unsigned int value_by_id_4; // r14d
  unsigned __int64 v496; // rdx
  unsigned int value_by_id_12; // eax
  __int64 v498; // rax
  float v499; // xmm14_4
  float v500; // xmm15_4
  float v501; // xmm12_4
  float v502; // xmm13_4
  __int64 v503; // rcx
  float v504; // xmm10_4
  float v505; // xmm9_4
  float v506; // xmm5_4
  float v507; // xmm8_4
  float v508; // xmm6_4
  float v509; // xmm4_4
  double v510; // xmm3_8
  double v511; // xmm2_8
  float v512; // xmm9_4
  float v513; // xmm10_4
  float v514; // xmm11_4
  float v515; // xmm7_4
  __int64 v516; // rax
  __m128 v517; // xmm4
  float v518; // xmm7_4
  __m128 v519; // kr00_16
  __m128 v520; // xmm6
  float v521; // xmm6_4
  float v522; // xmm3_4
  __m128 v524; // kr00_16
  int v526; // r13d
  __int64 v527; // rbx
  __int64 v528; // r12
  __int64 v529; // rcx
  signed __int64 v530; // rdx
  __int64 v531; // rbx
  __int64 v532; // rdx
  __int64 v533; // rcx
  __int64 v534; // r8
  int v535; // r13d
  int v536; // r13d
  int v537; // eax
  size_t Size; // rbx
  __int64 v539; // rbx
  __int64 v540; // r12
  __int64 v541; // r10
  __int64 v542; // r11
  __int64 v543; // rdx
  __int64 v544; // rcx
  int v545; // edx
  __int64 v546; // rcx
  int v547; // r8d
  _DWORD *v548; // rax
  int v549; // ecx
  __int64 v550; // rdx
  double v555; // kr00_8
  float *v558; // rax
  double v559; // xmm6_8
  double v560; // xmm4_8
  double v561; // xmm5_8
  double v562; // xmm8_8
  double v563; // xmm7_8
  double v564; // xmm13_8
  __int128 v565; // xmm15
  __int128 v566; // kr00_16
  __int128 v569; // xmm2
  __int128 v570; // xmm3
  __int128 v573; // xmm2
  __int128 v574; // xmm4
  __int128 v575; // xmm3
  __int128 v579; // xmm2
  __int128 v580; // xmm3
  __int128 v586; // xmm2
  __int128 v587; // xmm3
  double v589; // xmm13_8
  __int64 v601; // r8
  __int64 v602; // rcx
  __int64 v603; // rcx
  __int64 v604; // rax
  __int64 v605; // rdx
  __int64 v606; // rcx
  int n10102016_1; // edx
  __int64 v608; // r11
  int value_by_id_7; // r10d
  int value_by_id_6; // eax
  unsigned int v611; // edx
  char *v612; // r8
  signed __int64 v613; // r8
  __int64 *v614; // rax
  __int64 v615; // rax
  __int64 v616; // rbx
  int value_by_id_8; // eax
  unsigned int v618; // edx
  int value_by_id_9; // eax
  unsigned int v620; // edx
  __int64 *v621; // rdx
  __int64 v622; // rcx
  unsigned int v623; // ecx
  __int64 v624; // rcx
  unsigned int v625; // ecx
  double v626; // xmm4_8
  double v627; // xmm5_8
  double v628; // xmm6_8
  double v629; // xmm7_8
  double v630; // xmm9_8
  double v631; // xmm8_8
  double v632; // xmm10_8
  double v633; // xmm11_8
  __int128 v634; // xmm14
  __int128 v635; // xmm12
  double v636; // xmm13_8
  __int128 v639; // kr00_16
  __int64 v644; // rax
  __int64 v645; // rax
  __int64 v646; // rax
  __int64 v647; // rcx
  int v648; // r13d
  __int64 v649; // rbx
  __int64 v650; // rdx
  __int64 v651; // rdx
  __int64 j; // rbx
  __int64 v653; // rdx
  __int64 v654; // r8
  unsigned __int64 v655; // r12
  unsigned int value_by_id_10; // eax
  double v657; // xmm3_8
  double v658; // xmm1_8
  double v659; // xmm7_8
  double v662; // xmm6_8
  double v663; // xmm9_8
  double v665; // xmm10_8
  double v666; // xmm11_8
  float v668; // xmm14_4
  float v671; // xmm4_4
  float v672; // xmm13_4
  signed __int64 v673; // rdx
  unsigned __int64 v674; // r12
  float v675; // xmm8_4
  float v676; // xmm11_4
  float v677; // xmm15_4
  float v678; // xmm7_4
  float v679; // xmm5_4
  float v680; // xmm12_4
  float v681; // xmm7_4
  float v682; // xmm3_4
  float v683; // xmm13_4
  float v684; // xmm4_4
  float v685; // xmm2_4
  float v686; // xmm1_4
  float v687; // xmm5_4
  float *v688; // rax
  float v689; // xmm6_4
  float v690; // xmm5_4
  float v691; // xmm7_4
  float v692; // xmm9_4
  float v693; // xmm8_4
  float v694; // xmm12_4
  float v695; // xmm10_4
  float v696; // xmm11_4
  float v697; // xmm14_4
  float v698; // xmm4_4
  float v699; // xmm1_4
  float v700; // xmm8_4
  float v701; // xmm3_4
  float v702; // xmm7_4
  float v703; // xmm0_4
  float v704; // xmm9_4
  float v705; // xmm4_4
  float v706; // xmm5_4
  float v707; // xmm13_4
  float v708; // xmm1_4
  float v709; // xmm11_4
  float v710; // xmm15_4
  float v711; // xmm0_4
  float v712; // xmm10_4
  float v713; // xmm6_4
  float v714; // kr00_4
  float v715; // xmm0_4
  int v716; // ecx
  int v717; // eax
  __int64 k; // rbx
  __int64 v719; // rdx
  __int64 v720; // rax
  __int64 v721; // rdx
  unsigned __int64 v722; // rcx
  unsigned __int64 v723; // rax
  __int64 v724; // rcx
  int v725; // ecx
  __int64 v726; // rdx
  __int64 v727; // rcx
  __int64 v728; // rdx
  volatile signed __int64 *v729; // rcx
  __int64 v730; // rax
  unsigned __int64 n0x200000_3; // rax
  volatile signed __int64 *v732; // r12
  __int64 v733; // rax
  int v734; // ebx
  _QWORD *v735; // rax
  __int64 v736; // rax
  __int64 v737; // rcx
  __int64 v738; // r8
  unsigned int n2_3; // r12d
  unsigned int n2_1; // eax
  __int64 v741; // rax
  unsigned __int64 n0x200000_5; // rax
  __int64 v743; // rax
  __int64 v744; // rcx
  __int64 v745; // rdx
  unsigned int n2_13; // eax
  __int64 v747; // rax
  unsigned int n2_15; // eax
  __int64 v759; // r8
  __int64 v760; // rax
  __int64 v761; // rcx
  __int64 v762; // rax
  __int64 v763; // r8
  __int64 v764; // rcx
  unsigned int n2_11; // r12d
  unsigned int n2_9; // eax
  __int64 v767; // rax
  __int64 v768; // rax
  __int64 v769; // r8
  __int64 v770; // rcx
  unsigned int n2_7; // r12d
  unsigned int n2_5; // eax
  __int64 v773; // rax
  double *v774; // rcx
  __int128 v775; // xmm0
  __int128 v777; // kr00_16
  float v779; // xmm0_4
  float *v780; // rax
  float v781; // xmm0_4
  float *v782; // rax
  float v783; // xmm0_4
  float *v784; // rax
  float v785; // xmm0_4
  float *v786; // rax
  unsigned __int64 n0x200000_4; // rax
  __int64 v788; // rax
  int v789; // ebx
  int v790; // r12d
  __int64 v791; // rax
  unsigned __int64 n0x200000_6; // rax
  int v793; // ebx
  int v794; // r14d
  unsigned __int64 v795; // rcx
  unsigned __int64 v796; // rax
  __int64 v797; // rcx
  int v799; // [rsp+20h] [rbp-E0h]
  __int64 v800; // [rsp+20h] [rbp-E0h]
  int v801; // [rsp+38h] [rbp-C8h]
  float v802; // [rsp+50h] [rbp-B0h]
  unsigned __int64 v803; // [rsp+50h] [rbp-B0h]
  float v804; // [rsp+50h] [rbp-B0h]
  float v805; // [rsp+50h] [rbp-B0h]
  unsigned __int64 v806; // [rsp+50h] [rbp-B0h]
  size_t v807; // [rsp+50h] [rbp-B0h]
  float v808; // [rsp+50h] [rbp-B0h]
  __int64 v809; // [rsp+50h] [rbp-B0h]
  volatile signed __int64 *v810; // [rsp+50h] [rbp-B0h]
  float v811; // [rsp+50h] [rbp-B0h]
  volatile signed __int64 *v812; // [rsp+50h] [rbp-B0h]
  volatile signed __int64 *v813; // [rsp+50h] [rbp-B0h]
  int v814; // [rsp+60h] [rbp-A0h]
  float v815; // [rsp+60h] [rbp-A0h]
  int v816; // [rsp+60h] [rbp-A0h]
  float v817; // [rsp+60h] [rbp-A0h]
  float v818; // [rsp+64h] [rbp-9Ch]
  float v819; // [rsp+64h] [rbp-9Ch]
  float v820; // [rsp+64h] [rbp-9Ch]
  BOOL v821; // [rsp+68h] [rbp-98h]
  float v822; // [rsp+68h] [rbp-98h]
  unsigned int v823; // [rsp+68h] [rbp-98h]
  float v824; // [rsp+68h] [rbp-98h]
  char v825; // [rsp+6Ch] [rbp-94h]
  int v826; // [rsp+70h] [rbp-90h]
  float v827; // [rsp+70h] [rbp-90h]
  float v828; // [rsp+70h] [rbp-90h]
  float v829; // [rsp+70h] [rbp-90h]
  __int64 v830; // [rsp+70h] [rbp-90h]
  unsigned int value_by_id_11; // [rsp+70h] [rbp-90h]
  float v832; // [rsp+70h] [rbp-90h]
  int v833; // [rsp+78h] [rbp-88h]
  float v834; // [rsp+78h] [rbp-88h]
  float v835; // [rsp+78h] [rbp-88h]
  __int64 v836; // [rsp+78h] [rbp-88h]
  float v837; // [rsp+78h] [rbp-88h]
  float v838; // [rsp+80h] [rbp-80h]
  float v839; // [rsp+80h] [rbp-80h]
  double v840; // [rsp+80h] [rbp-80h]
  int v841; // [rsp+88h] [rbp-78h]
  float v842; // [rsp+88h] [rbp-78h]
  volatile signed __int64 *v843; // [rsp+88h] [rbp-78h]
  float v844; // [rsp+88h] [rbp-78h]
  float v845; // [rsp+90h] [rbp-70h]
  float v846; // [rsp+90h] [rbp-70h]
  float v847; // [rsp+90h] [rbp-70h]
  double v848; // [rsp+90h] [rbp-70h]
  float v849; // [rsp+90h] [rbp-70h]
  float v850; // [rsp+A0h] [rbp-60h]
  float v851; // [rsp+A0h] [rbp-60h]
  __int64 v852; // [rsp+A0h] [rbp-60h]
  float v853; // [rsp+A0h] [rbp-60h]
  int v854; // [rsp+A8h] [rbp-58h]
  float v855; // [rsp+A8h] [rbp-58h]
  __int64 v856; // [rsp+A8h] [rbp-58h]
  float v857; // [rsp+A8h] [rbp-58h]
  float v858; // [rsp+B0h] [rbp-50h]
  float v859; // [rsp+B0h] [rbp-50h]
  float v860; // [rsp+B0h] [rbp-50h]
  double v861; // [rsp+B0h] [rbp-50h]
  float v862; // [rsp+B0h] [rbp-50h]
  float v863; // [rsp+B8h] [rbp-48h]
  double v864; // [rsp+B8h] [rbp-48h]
  float v865; // [rsp+B8h] [rbp-48h]
  float v866; // [rsp+C0h] [rbp-40h]
  float v867; // [rsp+C0h] [rbp-40h]
  float v868; // [rsp+C0h] [rbp-40h]
  float v869; // [rsp+C0h] [rbp-40h]
  float v870; // [rsp+C0h] [rbp-40h]
  float v871; // [rsp+C0h] [rbp-40h]
  __int64 v872; // [rsp+C0h] [rbp-40h]
  float v873; // [rsp+D0h] [rbp-30h]
  float v874; // [rsp+D4h] [rbp-2Ch]
  float v875; // [rsp+D8h] [rbp-28h]
  float v876; // [rsp+DCh] [rbp-24h]
  float v877; // [rsp+E0h] [rbp-20h]
  double v878; // [rsp+E0h] [rbp-20h]
  float v879; // [rsp+E0h] [rbp-20h]
  float v880; // [rsp+E8h] [rbp-18h]
  double v881; // [rsp+E8h] [rbp-18h]
  float v882; // [rsp+F0h] [rbp-10h]
  double v883; // [rsp+F0h] [rbp-10h]
  float v884; // [rsp+F8h] [rbp-8h]
  double v885; // [rsp+F8h] [rbp-8h]
  float v886; // [rsp+100h] [rbp+0h]
  double v887; // [rsp+100h] [rbp+0h]
  float v888; // [rsp+108h] [rbp+8h]
  double v889; // [rsp+108h] [rbp+8h]
  float v890; // [rsp+110h] [rbp+10h]
  double v891; // [rsp+110h] [rbp+10h]
  float v892; // [rsp+118h] [rbp+18h] BYREF
  float v893; // [rsp+11Ch] [rbp+1Ch]
  float v894; // [rsp+120h] [rbp+20h]
  float v895; // [rsp+128h] [rbp+28h] BYREF
  float v896; // [rsp+12Ch] [rbp+2Ch]
  float v897; // [rsp+130h] [rbp+30h]
  float v898; // [rsp+138h] [rbp+38h] BYREF
  float v899; // [rsp+13Ch] [rbp+3Ch]
  float v900; // [rsp+140h] [rbp+40h]
  __int128 v901; // [rsp+148h] [rbp+48h] BYREF
  size_t v902; // [rsp+158h] [rbp+58h]
  float v903; // [rsp+160h] [rbp+60h] BYREF
  float v904; // [rsp+164h] [rbp+64h]
  float v905; // [rsp+168h] [rbp+68h]
  float v906; // [rsp+16Ch] [rbp+6Ch]
  __int64 v907; // [rsp+170h] [rbp+70h]
  float v908; // [rsp+178h] [rbp+78h]
  float v909; // [rsp+17Ch] [rbp+7Ch]
  int n0x2A; // [rsp+180h] [rbp+80h] BYREF
  float v911; // [rsp+184h] [rbp+84h] BYREF
  float v912; // [rsp+188h] [rbp+88h] BYREF
  float v913; // [rsp+18Ch] [rbp+8Ch] BYREF
  float v914; // [rsp+190h] [rbp+90h] BYREF
  __int64 v915; // [rsp+198h] [rbp+98h] BYREF
  float v916; // [rsp+1A0h] [rbp+A0h]
  double v917; // [rsp+1A8h] [rbp+A8h] BYREF
  double v918; // [rsp+1B0h] [rbp+B0h] BYREF
  double v919; // [rsp+1B8h] [rbp+B8h] BYREF
  double v920; // [rsp+1C0h] [rbp+C0h] BYREF
  double v921; // [rsp+1C8h] [rbp+C8h] BYREF
  double v922; // [rsp+1D0h] [rbp+D0h] BYREF
  float v923[3]; // [rsp+1D8h] [rbp+D8h] BYREF
  float v924[3]; // [rsp+1E4h] [rbp+E4h] BYREF
  float v925[3]; // [rsp+1F0h] [rbp+F0h] BYREF
  float v926[3]; // [rsp+1FCh] [rbp+FCh] BYREF
  float v927[4]; // [rsp+208h] [rbp+108h] BYREF
  __int128 v928; // [rsp+218h] [rbp+118h] BYREF
  double v929; // [rsp+228h] [rbp+128h]
  __int128 v930; // [rsp+230h] [rbp+130h]
  double v931; // [rsp+240h] [rbp+140h]
  float v932[12]; // [rsp+248h] [rbp+148h] BYREF
  double v933; // [rsp+278h] [rbp+178h]
  double v934; // [rsp+280h] [rbp+180h]
  __int64 v935; // [rsp+288h] [rbp+188h] BYREF
  __int64 v936; // [rsp+290h] [rbp+190h]
  __int64 v937; // [rsp+298h] [rbp+198h]
  unsigned int v938; // [rsp+2A0h] [rbp+1A0h]
  int v939; // [rsp+2A4h] [rbp+1A4h]
  __int64 v940; // [rsp+2A8h] [rbp+1A8h] BYREF
  __int64 v941; // [rsp+2B0h] [rbp+1B0h]
  double v942; // [rsp+2B8h] [rbp+1B8h]
  __int64 v943; // [rsp+2C0h] [rbp+1C0h]
  __int64 v944; // [rsp+2D0h] [rbp+1D0h] BYREF
  int n0x18_3; // [rsp+2D8h] [rbp+1D8h]
  int n0x1E_3; // [rsp+2DCh] [rbp+1DCh]
  __int64 v947; // [rsp+2E0h] [rbp+1E0h]
  __int64 v948; // [rsp+2E8h] [rbp+1E8h]
  unsigned int n2_14; // [rsp+2F0h] [rbp+1F0h]
  int v950; // [rsp+2F4h] [rbp+1F4h]
  __int64 v951; // [rsp+2F8h] [rbp+1F8h]
  __int64 v952; // [rsp+300h] [rbp+200h]
  unsigned int n2_16; // [rsp+308h] [rbp+208h]
  int v954; // [rsp+30Ch] [rbp+20Ch]
  __int128 v955; // [rsp+310h] [rbp+210h]
  __int64 v956; // [rsp+320h] [rbp+220h]
  float v957; // [rsp+328h] [rbp+228h]
  float v958; // [rsp+32Ch] [rbp+22Ch]
  float v959; // [rsp+330h] [rbp+230h]
  float v960; // [rsp+334h] [rbp+234h]
  float v961; // [rsp+338h] [rbp+238h]
  float v962; // [rsp+33Ch] [rbp+23Ch]
  float v963; // [rsp+340h] [rbp+240h]
  float v964; // [rsp+344h] [rbp+244h]
  __int128 v965; // [rsp+350h] [rbp+250h] BYREF
  double v966; // [rsp+360h] [rbp+260h]
  __int128 v967; // [rsp+368h] [rbp+268h] BYREF
  double v968; // [rsp+378h] [rbp+278h]
  int v969; // [rsp+380h] [rbp+280h] BYREF
  double v970; // [rsp+388h] [rbp+288h]
  double v971; // [rsp+390h] [rbp+290h]
  double v972; // [rsp+398h] [rbp+298h]
  float v973; // [rsp+3A0h] [rbp+2A0h]
  float v974; // [rsp+3A4h] [rbp+2A4h]
  float v975; // [rsp+3A8h] [rbp+2A8h]
  float v976; // [rsp+3ACh] [rbp+2ACh]
  unsigned int v977; // [rsp+3B0h] [rbp+2B0h]
  unsigned int v978; // [rsp+3B4h] [rbp+2B4h]
  int n2; // [rsp+3B8h] [rbp+2B8h]
  char v980; // [rsp+3BCh] [rbp+2BCh]
  unsigned __int64 v981; // [rsp+3C0h] [rbp+2C0h]
  int n0x2800_4; // [rsp+3D0h] [rbp+2D0h] BYREF
  __int64 v983; // [rsp+3D4h] [rbp+2D4h]
  int v984; // [rsp+3DCh] [rbp+2DCh]
  __int64 v985; // [rsp+3E0h] [rbp+2E0h]
  unsigned __int64 v986; // [rsp+3E8h] [rbp+2E8h]
  __int64 v987; // [rsp+3F0h] [rbp+2F0h]
  __int64 v988; // [rsp+3F8h] [rbp+2F8h]
  int n0x2800_3; // [rsp+420h] [rbp+320h] BYREF
  __int64 v990; // [rsp+424h] [rbp+324h]
  int v991; // [rsp+42Ch] [rbp+32Ch]
  __int64 v992; // [rsp+430h] [rbp+330h]
  unsigned __int64 v993; // [rsp+438h] [rbp+338h]
  __int64 v994; // [rsp+440h] [rbp+340h]
  __int64 v995; // [rsp+448h] [rbp+348h]
  int n0x2800; // [rsp+470h] [rbp+370h] BYREF
  __int64 v997; // [rsp+474h] [rbp+374h]
  int v998; // [rsp+47Ch] [rbp+37Ch]
  __int64 v999; // [rsp+480h] [rbp+380h]
  unsigned __int64 v1000; // [rsp+488h] [rbp+388h]
  __int64 v1001; // [rsp+490h] [rbp+390h]
  __int64 v1002; // [rsp+498h] [rbp+398h]
  int n0x2800_2; // [rsp+4C0h] [rbp+3C0h] BYREF
  __int64 v1004; // [rsp+4C4h] [rbp+3C4h]
  int v1005; // [rsp+4CCh] [rbp+3CCh]
  __int64 v1006; // [rsp+4D0h] [rbp+3D0h]
  unsigned __int64 v1007; // [rsp+4D8h] [rbp+3D8h]
  __int64 v1008; // [rsp+4E0h] [rbp+3E0h]
  __int64 v1009; // [rsp+4E8h] [rbp+3E8h]
  int n0x2800_9; // [rsp+510h] [rbp+410h] BYREF
  __int64 v1011; // [rsp+514h] [rbp+414h]
  int v1012; // [rsp+51Ch] [rbp+41Ch]
  __int64 v1013; // [rsp+520h] [rbp+420h]
  unsigned __int64 v1014; // [rsp+528h] [rbp+428h]
  __int64 v1015; // [rsp+530h] [rbp+430h]
  __int64 v1016; // [rsp+538h] [rbp+438h]
  int n0x2800_1; // [rsp+560h] [rbp+460h] BYREF
  __int64 v1018; // [rsp+564h] [rbp+464h]
  int v1019; // [rsp+56Ch] [rbp+46Ch]
  __int64 v1020; // [rsp+570h] [rbp+470h]
  unsigned __int64 v1021; // [rsp+578h] [rbp+478h]
  __int64 v1022; // [rsp+580h] [rbp+480h]
  __int64 v1023; // [rsp+588h] [rbp+488h]
  int n0x2800_8; // [rsp+5B0h] [rbp+4B0h] BYREF
  __int64 v1025; // [rsp+5B4h] [rbp+4B4h]
  int v1026; // [rsp+5BCh] [rbp+4BCh]
  __int64 v1027; // [rsp+5C0h] [rbp+4C0h]
  unsigned __int64 v1028; // [rsp+5C8h] [rbp+4C8h]
  __int64 v1029; // [rsp+5D0h] [rbp+4D0h]
  __int64 v1030; // [rsp+5D8h] [rbp+4D8h]
  int n0x2800_7; // [rsp+600h] [rbp+500h] BYREF
  __int64 v1032; // [rsp+604h] [rbp+504h]
  int v1033; // [rsp+60Ch] [rbp+50Ch]
  __int64 v1034; // [rsp+610h] [rbp+510h]
  unsigned __int64 v1035; // [rsp+618h] [rbp+518h]
  __int64 v1036; // [rsp+620h] [rbp+520h]
  __int64 v1037; // [rsp+628h] [rbp+528h]
  int n0x2800_6; // [rsp+650h] [rbp+550h] BYREF
  __int64 v1039; // [rsp+654h] [rbp+554h]
  int v1040; // [rsp+65Ch] [rbp+55Ch]
  __int64 v1041; // [rsp+660h] [rbp+560h]
  unsigned __int64 v1042; // [rsp+668h] [rbp+568h]
  __int64 v1043; // [rsp+670h] [rbp+570h]
  __int64 v1044; // [rsp+678h] [rbp+578h]
  int n0x2800_5; // [rsp+6A0h] [rbp+5A0h] BYREF
  __int64 v1046; // [rsp+6A4h] [rbp+5A4h]
  int v1047; // [rsp+6ACh] [rbp+5ACh]
  __int64 v1048; // [rsp+6B0h] [rbp+5B0h]
  unsigned __int64 v1049; // [rsp+6B8h] [rbp+5B8h]
  __int64 v1050; // [rsp+6C0h] [rbp+5C0h]
  __int64 v1051; // [rsp+6C8h] [rbp+5C8h]
  int v1052; // [rsp+6F0h] [rbp+5F0h] BYREF
  float v1053; // [rsp+6F4h] [rbp+5F4h]
  float v1054; // [rsp+6F8h] [rbp+5F8h]
  float v1055; // [rsp+6FCh] [rbp+5FCh]
  unsigned int v1056; // [rsp+700h] [rbp+600h]
  double v1057; // [rsp+710h] [rbp+610h]
  double v1058; // [rsp+718h] [rbp+618h]
  double v1059; // [rsp+720h] [rbp+620h]
  unsigned int v1060; // [rsp+728h] [rbp+628h]
  unsigned int v1061; // [rsp+72Ch] [rbp+62Ch]
  __int128 v1062; // [rsp+730h] [rbp+630h]
  double v1063; // [rsp+740h] [rbp+640h]
  float v1064; // [rsp+748h] [rbp+648h]
  __int64 v1065; // [rsp+750h] [rbp+650h] BYREF
  int n0x18; // [rsp+758h] [rbp+658h]
  int n0x1E; // [rsp+75Ch] [rbp+65Ch]
  __int64 v1068; // [rsp+760h] [rbp+660h]
  __int64 v1069; // [rsp+768h] [rbp+668h]
  unsigned int n2_2; // [rsp+770h] [rbp+670h]
  int v1071; // [rsp+774h] [rbp+674h]
  __int64 v1072; // [rsp+778h] [rbp+678h]
  __int64 v1073; // [rsp+780h] [rbp+680h]
  unsigned int n2_4; // [rsp+788h] [rbp+688h]
  int v1075; // [rsp+78Ch] [rbp+68Ch]
  __int64 v1076; // [rsp+790h] [rbp+690h]
  int v1077; // [rsp+798h] [rbp+698h]
  int v1078; // [rsp+7A0h] [rbp+6A0h]
  int v1079; // [rsp+7A4h] [rbp+6A4h]
  float v1080; // [rsp+7BCh] [rbp+6BCh]
  float v1081; // [rsp+7C0h] [rbp+6C0h]
  float v1082; // [rsp+7C4h] [rbp+6C4h]
  double v1083[3]; // [rsp+7D0h] [rbp+6D0h] BYREF
  double v1084[3]; // [rsp+7E8h] [rbp+6E8h] BYREF
  double v1085[4]; // [rsp+800h] [rbp+700h] BYREF
  __int64 v1086; // [rsp+820h] [rbp+720h] BYREF
  int n0x18_2; // [rsp+828h] [rbp+728h]
  int n0x1E_2; // [rsp+82Ch] [rbp+72Ch]
  __int64 v1089; // [rsp+830h] [rbp+730h]
  __int64 v1090; // [rsp+838h] [rbp+738h]
  unsigned int n2_10; // [rsp+840h] [rbp+740h]
  int v1092; // [rsp+844h] [rbp+744h]
  __int64 v1093; // [rsp+848h] [rbp+748h]
  __int64 v1094; // [rsp+850h] [rbp+750h]
  unsigned int n2_12; // [rsp+858h] [rbp+758h]
  int v1096; // [rsp+85Ch] [rbp+75Ch]
  __int64 v1097; // [rsp+860h] [rbp+760h]
  int v1098; // [rsp+868h] [rbp+768h]
  int n4; // [rsp+870h] [rbp+770h]
  int v1100; // [rsp+874h] [rbp+774h]
  float v1101; // [rsp+88Ch] [rbp+78Ch]
  float v1102; // [rsp+890h] [rbp+790h]
  float v1103; // [rsp+894h] [rbp+794h]
  __int64 v1104; // [rsp+8A0h] [rbp+7A0h] BYREF
  int n0x18_1; // [rsp+8A8h] [rbp+7A8h]
  int n0x1E_1; // [rsp+8ACh] [rbp+7ACh]
  __int64 v1107; // [rsp+8B0h] [rbp+7B0h]
  __int64 v1108; // [rsp+8B8h] [rbp+7B8h]
  unsigned int n2_6; // [rsp+8C0h] [rbp+7C0h]
  int v1110; // [rsp+8C4h] [rbp+7C4h]
  __int64 v1111; // [rsp+8C8h] [rbp+7C8h]
  __int64 v1112; // [rsp+8D0h] [rbp+7D0h]
  unsigned int n2_8; // [rsp+8D8h] [rbp+7D8h]
  int v1114; // [rsp+8DCh] [rbp+7DCh]
  __int64 v1115; // [rsp+8E0h] [rbp+7E0h]
  int v1116; // [rsp+8E8h] [rbp+7E8h]
  int n3_1; // [rsp+8F0h] [rbp+7F0h]
  int v1118; // [rsp+8F4h] [rbp+7F4h]
  float v1119; // [rsp+90Ch] [rbp+80Ch]
  float v1120; // [rsp+910h] [rbp+810h]
  float v1121; // [rsp+914h] [rbp+814h]
  double v1122[5]; // [rsp+920h] [rbp+820h] BYREF
  double v1123; // [rsp+948h] [rbp+848h]
  float v1124; // [rsp+950h] [rbp+850h]
  _DWORD v1125[15]; // [rsp+960h] [rbp+860h] BYREF
  char v1126; // [rsp+99Ch] [rbp+89Ch]
  __int64 v1127; // [rsp+9A0h] [rbp+8A0h]
  char v1128[8]; // [rsp+9B0h] [rbp+8B0h] BYREF
  __int128 v1129; // [rsp+9B8h] [rbp+8B8h] BYREF
  __int64 v1130; // [rsp+9C8h] [rbp+8C8h]
  __int128 v1131; // [rsp+9D0h] [rbp+8D0h] BYREF
  double v1132; // [rsp+9E0h] [rbp+8E0h]
  char v1133[8]; // [rsp+9E8h] [rbp+8E8h] BYREF
  char v1134[24]; // [rsp+9F0h] [rbp+8F0h] BYREF
  __int64 v1135; // [rsp+A08h] [rbp+908h]
  int v1136; // [rsp+A10h] [rbp+910h]
  unsigned int v1137; // [rsp+A14h] [rbp+914h]
  char v1138[8]; // [rsp+A18h] [rbp+918h] BYREF
  __int64 v1139; // [rsp+A20h] [rbp+920h] BYREF
  char v1140[8]; // [rsp+A28h] [rbp+928h] BYREF
  char v1141[8]; // [rsp+A30h] [rbp+930h] BYREF
  float v1142; // [rsp+A38h] [rbp+938h]
  float *v1143; // [rsp+A60h] [rbp+960h]
  __int64 v1144; // [rsp+A78h] [rbp+978h]
  __int64 v1145; // [rsp+A80h] [rbp+980h]
  int v1146; // [rsp+A88h] [rbp+988h]
  int v1147; // [rsp+A8Ch] [rbp+98Ch]
  __int64 v1148; // [rsp+A90h] [rbp+990h]
  int v1149; // [rsp+AA0h] [rbp+9A0h]
  __int64 v1150; // [rsp+AA8h] [rbp+9A8h]
  int v1151; // [rsp+AB0h] [rbp+9B0h]
  int v1152; // [rsp+AB4h] [rbp+9B4h]
  int v1153; // [rsp+AB8h] [rbp+9B8h]
  int v1154; // [rsp+ABCh] [rbp+9BCh]
  __int128 v1155; // [rsp+AC0h] [rbp+9C0h]
  int v1156; // [rsp+AD4h] [rbp+9D4h]
  __int64 v1157; // [rsp+AE0h] [rbp+9E0h]
  int v1158; // [rsp+AE8h] [rbp+9E8h]
  __int64 v1159; // [rsp+B08h] [rbp+A08h]
  double v1160; // [rsp+B20h] [rbp+A20h]
  float v1161; // [rsp+B28h] [rbp+A28h]
  char v1162[8]; // [rsp+B30h] [rbp+A30h] BYREF
  unsigned int value_by_id_5; // [rsp+B38h] [rbp+A38h]
  __int128 v1164; // [rsp+B40h] [rbp+A40h]
  float v1165; // [rsp+B50h] [rbp+A50h]
  float v1166; // [rsp+B54h] [rbp+A54h]
  float v1167; // [rsp+B58h] [rbp+A58h]
  float v1168[8]; // [rsp+C50h] [rbp+B50h] BYREF
  _BYTE v1169[128]; // [rsp+C70h] [rbp+B70h] BYREF
  char v1170[48]; // [rsp+CF0h] [rbp+BF0h] BYREF
  char v1171[8]; // [rsp+D20h] [rbp+C20h] BYREF
  int v1172; // [rsp+D28h] [rbp+C28h]
  int v1173; // [rsp+D2Ch] [rbp+C2Ch]
  float v1174; // [rsp+E18h] [rbp+D18h]
  _BYTE v1175[4]; // [rsp+E40h] [rbp+D40h] BYREF
  int v1176; // [rsp+E44h] [rbp+D44h]
  unsigned int v1177; // [rsp+E50h] [rbp+D50h]
  unsigned int v1178; // [rsp+E54h] [rbp+D54h]
  float v1179; // [rsp+E58h] [rbp+D58h]
  float v1180; // [rsp+E5Ch] [rbp+D5Ch]
  float v1181; // [rsp+E60h] [rbp+D60h]
  __int64 v1182; // [rsp+E64h] [rbp+D64h]
  int v1183; // [rsp+E6Ch] [rbp+D6Ch]
  __int64 v1184; // [rsp+E70h] [rbp+D70h]
  int v1185; // [rsp+E78h] [rbp+D78h]
  int v1186; // [rsp+E7Ch] [rbp+D7Ch]
  int v1187; // [rsp+E80h] [rbp+D80h]
  int v1188; // [rsp+E84h] [rbp+D84h]
  int v1189; // [rsp+E88h] [rbp+D88h]
  int v1190; // [rsp+E8Ch] [rbp+D8Ch]
  __int64 v1191; // [rsp+E98h] [rbp+D98h]
  int v1192; // [rsp+EA0h] [rbp+DA0h]
  int v1193; // [rsp+EA4h] [rbp+DA4h]
  int v1194; // [rsp+EA8h] [rbp+DA8h]
  int v1195; // [rsp+EACh] [rbp+DACh]
  int v1196; // [rsp+EB0h] [rbp+DB0h]
  int v1197; // [rsp+EB4h] [rbp+DB4h]
  unsigned int v1198; // [rsp+EC0h] [rbp+DC0h] BYREF
  __int64 v1199; // [rsp+EC8h] [rbp+DC8h] BYREF
  int v1200; // [rsp+ED0h] [rbp+DD0h]
  __int64 v1201; // [rsp+ED8h] [rbp+DD8h]
  int v1202; // [rsp+EE0h] [rbp+DE0h]
  __int64 v1203; // [rsp+EE8h] [rbp+DE8h]
  int v1204; // [rsp+EF0h] [rbp+DF0h]
  __int64 v1205; // [rsp+EF8h] [rbp+DF8h]
  int v1206; // [rsp+F00h] [rbp+E00h]
  __int64 v1207; // [rsp+F08h] [rbp+E08h]
  int v1208; // [rsp+F10h] [rbp+E10h]
  __int64 v1209; // [rsp+F18h] [rbp+E18h]
  int v1210; // [rsp+F20h] [rbp+E20h]
  __int64 v1211; // [rsp+F28h] [rbp+E28h]
  int v1212; // [rsp+F30h] [rbp+E30h]
  __int64 v1213; // [rsp+F38h] [rbp+E38h]
  int v1214; // [rsp+F40h] [rbp+E40h]
  _BYTE v1215[16]; // [rsp+F50h] [rbp+E50h] BYREF
  int v1216; // [rsp+F60h] [rbp+E60h]
  unsigned int v1217; // [rsp+F64h] [rbp+E64h]
  float v1218; // [rsp+F68h] [rbp+E68h]
  float v1219; // [rsp+F6Ch] [rbp+E6Ch]
  float v1220; // [rsp+F70h] [rbp+E70h]
  double v1221; // [rsp+F74h] [rbp+E74h]
  float v1222; // [rsp+F7Ch] [rbp+E7Ch]
  float v1223; // [rsp+F8Ch] [rbp+E8Ch]
  float v1224; // [rsp+F90h] [rbp+E90h]
  float v1225; // [rsp+F94h] [rbp+E94h]
  float v1226; // [rsp+F98h] [rbp+E98h]
  float v1227; // [rsp+F9Ch] [rbp+E9Ch]
  __int128 v1228; // [rsp+FE0h] [rbp+EE0h]
  __int128 v1229; // [rsp+FF0h] [rbp+EF0h]
  __int128 v1230; // [rsp+1000h] [rbp+F00h]
  __int128 v1231; // [rsp+1010h] [rbp+F10h]
  __int128 v1232; // [rsp+1020h] [rbp+F20h]
  __int128 v1233; // [rsp+1030h] [rbp+F30h]
  __int128 v1234; // [rsp+1040h] [rbp+F40h]
  __int128 v1235; // [rsp+1050h] [rbp+F50h]
  __int128 v1236; // [rsp+1060h] [rbp+F60h]
  __int128 v1237; // [rsp+1070h] [rbp+F70h]

  v1237 = v3;
  v1236 = v4;
  v1235 = v5;
  v1234 = v6;
  v1233 = v7;
  v1232 = v8;
  v1231 = v9;
  v1230 = v10;
  v1229 = v11;
  v1228 = v12;
  v13 = 0;
  n0x2800 = 0x2800;
  v997 = 0;
  v998 = 0;
  v1000 = 0;
  v1001 = 0;
  v1002 = 0;
  v999 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  sub_146764480((__int64)v1134, a1, *(_QWORD *)(a1 + 0x2C0), (int *)a2, a3, 0, 0, 0);
  v17 = 0xFFFFFFFFFFFFLL;
  if ( v1136 )
  {
    v18 = v1137;
    goto LABEL_187;
  }
  n6 = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 == 0x17 )
  {
    n0x2800_1 = 0x2800;
    v1018 = 0;
    v1019 = 0;
    v1021 = 0;
    v1022 = 0;
    v1023 = 0;
    v1020 = 1;
    qword_149A05E00(&n0x2800_1, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    if ( *(_DWORD *)(a2 + 0x10) && *(_QWORD *)(a2 + 8) )
    {
      v841 = 0;
      v854 = 0;
      LOBYTE(v20) = 0;
      v814 = 0;
      v21 = !(unsigned __int8)-(((*(_DWORD *)(a2 + 0x18) & 0x800) - 1) >> 0x1F);
      v821 = !(unsigned __int8)-(((*(_DWORD *)(a2 + 0x18) & 0x800) - 1) >> 0x1F);
      v826 = -(((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F);
      v22 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v22 )
        sub_1403DE750(a1 + 0xC8, v22, 0, (__int64)"CPhysicalEntity::Action", (__int64)"m_lockUpdate", 1);
      v23 = *(float *)(a1 + 0x1D8);
      v24 = *(float *)(a1 + 0x1E4);
      LODWORD(v25) = *(_DWORD *)(a1 + 0x1E0) ^ 0x80000000;
      LODWORD(v26) = *(_DWORD *)(a1 + 0x1DC) ^ 0x80000000;
      v27 = v26 * (float)(v26 + v26);
      v28 = -(float)(v23 + v23);
      v29 = 1.0 - (float)-(float)(v23 * v28);
      v877 = (float)(1.0 - v27) - (float)(v25 * (float)(v25 + v25));
      v873 = (float)-(float)(v23 * (float)(v26 + v26)) - (float)(v24 * (float)(v25 + v25));
      v30 = v24 * (float)(v26 + v26);
      v866 = v30 - (float)(v23 * (float)(v25 + v25));
      v875 = (float)(v24 * (float)(v25 + v25)) - (float)(v23 * (float)(v26 + v26));
      v876 = v29 - (float)(v25 * (float)(v25 + v25));
      v31 = v26 * (float)(v25 + v25);
      v818 = (float)-(float)(v23 * (float)(v25 + v25)) - v30;
      v874 = v31 + (float)(v24 * v28);
      v850 = v31 - (float)(v24 * v28);
      v802 = v29 - v27;
      v833 = 0;
      if ( *(int *)(a2 + 0x10) > 0 )
      {
        n0x7FFFFFFF = 0x7FFFFFFFu;
        v33 = 0;
        do
        {
          n10102016 = *(_DWORD *)(*(_QWORD *)(a2 + 8) + v33 + 0x20);
          if ( n10102016 != 0xFFFFFFFF )
          {
            value_by_id = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), n10102016, 0);
            value_by_id_1 = (int)value_by_id;
            if ( (int)value_by_id < (unsigned __int64)*(int *)(a1 + 0x290) )
            {
              if ( (*(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * (int)value_by_id) & 0x4000000000000LL) != 0 )
              {
                sub_14661E070(
                  a1 + 0x228,
                  value_by_id,
                  a1 + 0x1C0,
                  a1 + 0x1D8,
                  *(_DWORD *)(a1 + 0x200),
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x84A04LL));
                v37 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x70LL) + (value_by_id_1 << 6) + 0x10);
                *(_QWORD *)(v37 + 0xDC) = 0;
                *(_DWORD *)(v37 + 0xE4) = 0;
                *(double *)(v37 + 0xA0) = *(float *)(v37 + 0xDC);
                *(double *)(v37 + 0xA8) = 0;
                *(_QWORD *)(v37 + 0xB0) = 0;
                if ( (*(_DWORD *)(a2 + 0x24) & 0xFFA00000) != 0xFFA00000 && *(float *)(a2 + 0x24) > 0.00050000002 )
                {
                  v38 = quat_inverse_transform_vec((float *)(*(_QWORD *)(a1 + 0x230) + 0x20 * value_by_id_1), v1168);
                  v39 = *(_QWORD *)(a2 + 8);
                  v40 = *(float *)(v39 + v33 + 4);
                  v41 = v38[6];
                  v42 = v38[4];
                  v43 = *(float *)(v39 + v33 + 8);
                  v44 = v38[5];
                  v45 = *(float *)(v39 + v33 + 0xC);
                  v46 = *(float *)(v39 + v33);
                  v47 = (__m128)*(unsigned __int64 *)(v39 + v33 + 0x10);
                  v48 = *(float *)(v39 + v33 + 0x18);
                  v49 = (float)((float)(v41 * v40) - (float)(v44 * v43)) + (float)(v42 * v45);
                  v50 = (float)((float)(v42 * v43) - (float)(v41 * v46)) + (float)(v44 * v45);
                  v51 = (float)((float)(v44 * v46) - (float)(v42 * v40)) + (float)(v41 * v45);
                  v52 = (float)((float)(v40 * v51) - (float)(v43 * v50))
                      + (float)((float)(v42 + (float)((float)(v40 * v51) - (float)(v43 * v50))) + v47.m128_f32[0]);
                  v53 = (float)((float)(v43 * v49) - (float)(v46 * v51))
                      + (float)((float)(v44 + (float)((float)(v43 * v49) - (float)(v46 * v51)))
                              + _mm_shuffle_ps(v47, v47, 0x55).m128_f32[0]);
                  v54 = (float)(v46 * v50) - (float)(v40 * v49);
                  v55 = v41 + v54;
                  n0x7FFFFFFF = 0x7FFFFFFFu;
                  v56 = 1.0 / *(float *)(a2 + 0x24);
                  *(float *)(v37 + 0xDC) = v52 * v56;
                  *(float *)(v37 + 0xE0) = v53 * v56;
                  *(float *)(v37 + 0xE4) = (float)(v54 + (float)(v55 + v48)) * v56;
                  v57 = (__m128)*(unsigned __int64 *)(v37 + 0xDC);
                  _XMM5 = *(unsigned __int64 *)(v37 + 0x100);
                  __asm { vcvtpd2ps xmm5, xmm5 }
                  v60 = *(float *)(v37 + 0xE4);
                  *(double *)(v37 + 0xA0) = (float)(v57.m128_f32[0] * *(float *)&_XMM5);
                  *(double *)(v37 + 0xA8) = (float)(_mm_shuffle_ps(v57, v57, 0x55).m128_f32[0] * *(float *)&_XMM5);
                  *(double *)(v37 + 0xB0) = (float)(v60 * *(float *)&_XMM5);
                  v1161 = v48;
                  v1160 = *(double *)v47.m128_u64;
                }
              }
              v61 = *(_QWORD *)(a2 + 8);
              v62 = *(float *)(v61 + v33 + 0x1C);
              v903 = *(float *)(v61 + v33);
              v904 = *(float *)(v61 + v33 + 4);
              v905 = *(float *)(v61 + v33 + 8);
              v906 = *(float *)(v61 + v33 + 0xC);
              v907 = *(_QWORD *)(v61 + v33 + 0x10);
              LODWORD(v61) = *(_DWORD *)(v61 + v33 + 0x18);
              v909 = v62;
              v908 = *(float *)&v61;
              v63 = (unsigned int *)(*(_QWORD *)(a1 + 0x230) + 0x20 * value_by_id_1);
              v845 = *(float *)&v61;
              v64 = v63[3];
              v65 = *((float *)v63 + 2);
              v66 = *((float *)v63 + 1);
              v67 = *v63;
              v68 = v64;
              *(float *)&v68 = (float)((float)(*(float *)&v64 * v906) + (float)(v65 * v905))
                             + (float)((float)(*(float *)&v67 * v903) + (float)(v66 * v904));
              _XMM4 = v68 & n0x7FFFFFFF;
              __asm { vminss  xmm0, xmm4, xmm14; X }
              v858 = *((float *)v63 + 3);
              v71 = acosf(*(float *)&_XMM0) <= 0.000099999997;
              v72 = COERCE_FLOAT(COERCE_UNSIGNED_INT(*(float *)&v907 - *((float *)v63 + 4)) & n0x7FFFFFFF) <= 0.001
                 && COERCE_FLOAT(COERCE_UNSIGNED_INT(*((float *)&v907 + 1) - *((float *)v63 + 5)) & n0x7FFFFFFF) <= 0.001
                 && COERCE_FLOAT(COERCE_UNSIGNED_INT(v845 - *((float *)v63 + 6)) & n0x7FFFFFFF) <= 0.001;
              if ( v71 && v72 && COERCE_FLOAT(COERCE_UNSIGNED_INT(v62 - *((float *)v63 + 7)) & n0x7FFFFFFF) <= 0.001 )
              {
                LOBYTE(v20) = v814;
              }
              else
              {
                v73 = *((double *)v63 + 2);
                v1124 = *((float *)v63 + 6);
                v1123 = v73;
                sub_1466246B0(a1 + 0x228, value_by_id_1, (__int64)&v903);
                ++v854;
                v74 = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x238) + 8 * value_by_id_1) + 0x4CLL);
                v841 |= (v74 >> 0x1C) & 1;
                v20 = v814 | (1 << (v74 >> 0x1E));
                v814 = v20;
                if ( v826 && v821 )
                {
                  v75 = (float)((float)((float)(COERCE_FLOAT(LODWORD(v66) ^ 0x80000000) * v903)
                                      - (float)(COERCE_FLOAT(v67 ^ 0x80000000) * v904))
                              + (float)(v906 * COERCE_FLOAT(LODWORD(v65) ^ 0x80000000)))
                      + (float)(*(float *)&v64 * v905);
                  v76 = v67 ^ 0x80000000;
                  *(float *)&v76 = (float)((float)((float)(COERCE_FLOAT(v67 ^ 0x80000000) * v905)
                                                 - (float)(COERCE_FLOAT(LODWORD(v65) ^ 0x80000000) * v903))
                                         + (float)(v906 * COERCE_FLOAT(LODWORD(v66) ^ 0x80000000)))
                                 + (float)(*(float *)&v64 * v904);
                  v77 = -(float)((float)((float)((float)(COERCE_FLOAT(LODWORD(v65) ^ 0x80000000) * v904)
                                               - (float)(COERCE_FLOAT(LODWORD(v66) ^ 0x80000000) * v905))
                                       + (float)(v906 * COERCE_FLOAT(v67 ^ 0x80000000)))
                               + (float)(v903 * v858));
                  v78 = v76 ^ 0x80000000;
                  v79 = (float)(v906 * v858)
                      - (float)((float)((float)(COERCE_FLOAT(v67 ^ 0x80000000) * v903)
                                      + (float)(COERCE_FLOAT(LODWORD(v66) ^ 0x80000000) * v904))
                              + (float)(COERCE_FLOAT(LODWORD(v65) ^ 0x80000000) * v905));
                  v80 = 1.0 - (float)((float)(v77 + v77) * v77);
                  v81 = (float)(v77 + v77) * v79;
                  v82 = v78;
                  *(float *)&v82 = (float)(*(float *)&v78 + *(float *)&v78) * *(float *)&v78;
                  _XMM9 = v82;
                  v84 = v77 * (float)(*(float *)&v78 + *(float *)&v78);
                  LODWORD(v75) ^= 0x80000000;
                  v85 = *(float *)&v78 * (float)(v75 + v75);
                  *(float *)&v78 = (float)(*(float *)&v78 + *(float *)&v78) * v79;
                  v86 = v75 * (float)(v75 + v75);
                  v859 = (float)(1.0 - *(float *)&v82) - v86;
                  v87 = v77 * (float)(v75 + v75);
                  v88 = v84 - (float)(v79 * (float)(v75 + v75));
                  v89 = v80 - v86;
                  v90 = v85 - v81;
                  v91 = v85 + v81;
                  v92 = v87 + *(float *)&v78;
                  v93 = v80 - *(float *)&v82;
                  v94 = v87 - *(float *)&v78;
                  __asm { vinsertps xmm9, xmm9, xmm0, 0Eh }
                  v96 = *(_QWORD *)(a1 + 0x260) + (value_by_id_1 << 6);
                  LODWORD(v78) = *(_DWORD *)(v96 + 4);
                  v97 = *(float *)(v96 + 8);
                  v886 = (float)((float)(*(float *)v96 * v859) + (float)(*(float *)&v78 * *(float *)&_XMM9))
                       + (float)(v97 * v94);
                  v884 = (float)((float)(*(float *)v96 * v88) + (float)(*(float *)&v78 * v89)) + (float)(v97 * v91);
                  v98 = v97 * v93;
                  v99 = *(float *)(v96 + 0x14);
                  v100 = *(float *)&v78 * v90;
                  LODWORD(v78) = *(_DWORD *)(v96 + 0x10);
                  v101 = *(float *)(v96 + 0xC);
                  v888 = (float)((float)(*(float *)v96 * v92) + v100) + v98;
                  v882 = (float)((float)(v101 * v859) + (float)(*(float *)&v78 * *(float *)&_XMM9)) + (float)(v99 * v94);
                  v890 = (float)((float)(v101 * v88) + (float)(*(float *)&v78 * v89)) + (float)(v99 * v91);
                  v102 = v99 * v93;
                  v103 = *(float *)(v96 + 0x20);
                  v104 = *(float *)&v78 * v90;
                  LODWORD(v78) = *(_DWORD *)(v96 + 0x1C);
                  v105 = v101 * v92;
                  v106 = *(float *)(v96 + 0x18);
                  v880 = (float)(v105 + v104) + v102;
                  v863 = (float)((float)(v106 * v859) + (float)(*(float *)&v78 * *(float *)&_XMM9))
                       + (float)(v103 * v94);
                  v838 = (float)((float)(v106 * v88) + (float)(*(float *)&v78 * v89)) + (float)(v103 * v91);
                  v107 = (float)((float)(v106 * v92) + (float)(*(float *)&v78 * v90)) + (float)(v103 * v93);
                  *(float *)&v78 = *(float *)(v96 + 0x2C) - *((float *)&v1123 + 1);
                  v108 = *(float *)(v96 + 0x30) - v1124;
                  v109 = *(float *)(v96 + 0x28) - *(float *)&v1123;
                  v110 = (float)((float)((float)(*(float *)&v78 * v90) + (float)(v109 * v92)) + (float)(v108 * v93))
                       + v908;
                  v111 = (float)((float)((float)(*(float *)&v78 * v89) + (float)(v109 * v88)) + (float)(v108 * v91))
                       + *((float *)&v907 + 1);
                  *(float *)&v82 = *(float *)&v78 * *(float *)&_XMM9;
                  LODWORD(v78) = *(_DWORD *)(a1 + 0x200);
                  v112 = (float)((float)(*(float *)&v82 + (float)(v109 * v859)) + (float)(v108 * v94)) + *(float *)&v907;
                  v113 = *(float *)(v96 + 0x34);
                  v114 = *(float *)(v96 + 0x38);
                  v115 = (float)((float)((float)((float)(v850 * v111) + (float)(v866 * v112)) + (float)(v802 * v110))
                               * *(float *)&v78)
                       + *(double *)(a1 + 0x1D0);
                  v116 = (float)((float)((float)((float)(v111 * v876) + (float)(v112 * v873)) + (float)(v110 * v874))
                               * *(float *)&v78)
                       + *(double *)(a1 + 0x1C8);
                  v117 = (float)((float)((float)((float)(v112 * v877) + (float)(v111 * v875)) + (float)(v110 * v818))
                               * *(float *)&v78)
                       + *(double *)(a1 + 0x1C0);
                  v118 = *(float *)(v96 + 0x3C);
                  v119 = (float)((float)((float)(fabs(
                                                   (float)((float)(v850 * v884) + (float)(v866 * v886))
                                                 + (float)(v802 * v888))
                                               * v113)
                                       + (float)(fabs(
                                                   (float)((float)(v850 * v890) + (float)(v866 * v882))
                                                 + (float)(v802 * v880))
                                               * v114))
                               + (float)(fabs((float)((float)(v850 * v838) + (float)(v866 * v863)) + (float)(v802 * v107))
                                       * v118));
                  v120 = v115 - v119;
                  v919 = v115 - v119;
                  v121 = (float)((float)((float)(fabs(
                                                   (float)((float)(v876 * v884) + (float)(v873 * v886))
                                                 + (float)(v888 * v874))
                                               * v113)
                                       + (float)(fabs(
                                                   (float)((float)(v890 * v876) + (float)(v882 * v873))
                                                 + (float)(v880 * v874))
                                               * v114))
                               + (float)(fabs((float)((float)(v838 * v876) + (float)(v863 * v873)) + (float)(v107 * v874))
                                       * v118));
                  *(float *)&v82 = fabs((float)((float)(v875 * v884) + (float)(v877 * v886)) + (float)(v818 * v888))
                                 * v113;
                  n0x7FFFFFFF = 0x7FFFFFFFu;
                  v122 = (double *)(a1 + 0x300);
                  v123 = (double *)(a1 + 0x318);
                  v124 = v116 - v121;
                  v918 = v116 - v121;
                  v125 = (double *)(a1 + 0x308);
                  v126 = (double *)(a1 + 0x310);
                  v127 = (float)((float)(*(float *)&v82
                                       + (float)(fabs(
                                                   (float)((float)(v875 * v890) + (float)(v877 * v882))
                                                 + (float)(v818 * v880))
                                               * v114))
                               + (float)(fabs((float)((float)(v875 * v838) + (float)(v877 * v863)) + (float)(v818 * v107))
                                       * v118));
                  v917 = v117 - v127;
                  v128 = (double *)(a1 + 0x320);
                  v129 = v117 + v127;
                  v920 = v117 + v127;
                  v130 = v119 + v115;
                  v922 = v119 + v115;
                  v131 = v121 + v116;
                  v921 = v121 + v116;
                  v132 = &v917;
                  if ( v117 - v127 >= *(double *)(a1 + 0x300) )
                    v132 = (double *)(a1 + 0x300);
                  v133 = (double *)(a1 + 0x328);
                  *v122 = *v132;
                  v134 = &v918;
                  if ( v124 >= *v125 )
                    v134 = (double *)(a1 + 0x308);
                  *v125 = *v134;
                  v135 = &v919;
                  if ( v120 >= *v126 )
                    v135 = (double *)(a1 + 0x310);
                  *v126 = *v135;
                  v136 = &v917;
                  if ( v117 - v127 <= *v123 )
                    v136 = (double *)(a1 + 0x318);
                  *v123 = *v136;
                  v137 = &v918;
                  if ( v124 <= *v128 )
                    v137 = (double *)(a1 + 0x320);
                  *v128 = *v137;
                  v138 = &v919;
                  if ( v120 <= *v133 )
                    v138 = (double *)(a1 + 0x328);
                  *v133 = *v138;
                  v139 = &v920;
                  if ( v129 >= *v122 )
                    v139 = (double *)(a1 + 0x300);
                  *v122 = *v139;
                  v140 = &v921;
                  if ( v131 >= *v125 )
                    v140 = (double *)(a1 + 0x308);
                  *v125 = *v140;
                  v141 = &v922;
                  if ( v130 >= *v126 )
                    v141 = (double *)(a1 + 0x310);
                  *v126 = *v141;
                  v142 = &v920;
                  if ( v129 <= *v123 )
                    v142 = (double *)(a1 + 0x318);
                  *v123 = *v142;
                  v143 = &v921;
                  if ( v131 <= *v128 )
                    v143 = (double *)(a1 + 0x320);
                  *v128 = *v143;
                  v144 = &v922;
                  if ( v130 <= *v133 )
                    v144 = (double *)(a1 + 0x328);
                  *v133 = *v144;
                }
              }
            }
          }
          v33 += 0x24;
          ++v833;
        }
        while ( v833 < *(_DWORD *)(a2 + 0x10) );
        v21 = v821;
      }
      v145 = (volatile signed __int64 *)(a1 + 0xC8);
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000 = _InterlockedCompareExchange64(v145, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0(v145, n0x200000);
      }
      if ( v854 )
      {
        if ( v841 )
        {
          v147 = *(_QWORD *)(a1 + 0x220);
          if ( v147 )
          {
            *(_BYTE *)(*(_QWORD *)v147 + 0x60LL) = 1;
            *(_BYTE *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL) + 0x60LL) = 1;
          }
        }
        if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
        {
          if ( *(_QWORD *)(a1 + 0x2D8) )
          {
            v148 = *(_WORD *)(a1 + 0x106);
            if ( (v20 & 2) != 0 )
            {
              v148 |= 0x10u;
              *(_WORD *)(a1 + 0x106) = v148;
            }
            if ( (v20 & 4) != 0 )
            {
              v148 |= 0x20u;
              *(_WORD *)(a1 + 0x106) = v148;
            }
            if ( (v20 & 8) != 0 )
              *(_WORD *)(a1 + 0x106) = v148 | 0x40;
          }
          if ( v841 )
            *(_WORD *)(a1 + 0x106) |= 0x100u;
          *(_WORD *)(a1 + 0x106) |= 6u;
          *(_WORD *)(a1 + 0x100) |= -(__int16)v826 & 0x10 | -v21 & 0x400 | 1;
          CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
          CPhysicalWorld::RegisterForReposition(*(_QWORD *)(a1 + 0x2C0), a1);
          v18 = 1;
        }
        else
        {
          v149 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          if ( v149 )
            sub_1403DE750(a1 + 0xC8, v149, 0, (__int64)"CPhysicalEntity::Action", (__int64)"m_lockUpdate", 1);
          v150 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1140);
          if ( (unsigned __int8)sub_146602780(a1 + 0x228, v150, 0xFFFFFFFF) || v841 )
          {
            v152 = *(_QWORD **)(a1 + 0x220);
            if ( v152 )
            {
              LOBYTE(v151) = 1;
              sub_1468F1C60(*v152, a1, v151);
              LOBYTE(v153) = 1;
              sub_1468F1C60(*(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL), a1, v153);
            }
          }
          v154 = *(_QWORD *)(a1 + 0x2D8);
          if ( v154 )
          {
            v155 = (8 * (v814 & 2)) | 0x20;
            if ( (v814 & 4) == 0 )
              v155 = 8 * (v814 & 2);
            v156 = v155 | 0x40;
            if ( (v814 & 8) == 0 )
              v156 = v155;
            sub_1465D9120(v154, v156);
          }
          if ( (*(_BYTE *)(a2 + 0x18) & 0x31) != 0 )
          {
            v928 = *(_OWORD *)(a1 + 0x10);
            v929 = *(double *)(a1 + 0x20);
            v930 = *(_OWORD *)(a1 + 0x28);
            v931 = *(double *)(a1 + 0x38);
            (*(void (__fastcall **)(__int64, __int128 *, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, &v928, 3);
            sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 1, &v928);
            *(_OWORD *)(a1 + 0x10) = v928;
            *(double *)(a1 + 0x20) = v929;
            *(_OWORD *)(a1 + 0x28) = v930;
            *(double *)(a1 + 0x38) = v931;
            v965 = v928;
            v966 = v929;
            v967 = v930;
            v968 = v931;
            if ( v821 )
            {
              v965 = *(_OWORD *)(a1 + 0x300);
              v966 = *(double *)(a1 + 0x310);
              v967 = *(_OWORD *)(a1 + 0x318);
              v968 = *(double *)(a1 + 0x328);
            }
            v157 = *(_DWORD *)(a1 + 0x208);
            if ( (v157 & 0x20) == 0 && (v157 & 0x400) != 0 )
            {
              v158 = CPhysicalWorld::GetEntitiesAround(
                       *(_QWORD *)(a1 + 0x2C0),
                       (double *)&v965,
                       (double *)&v967,
                       (__int64)&v940,
                       0x1A,
                       a1,
                       *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex)
                                 + 0x800LL),
                       *(_QWORD *)(a1 + 0xB8),
                       0)
                   - 1;
              for ( i = v158; i >= 0; --i )
                (*(void (__fastcall **)(_QWORD, __int64, _QWORD))(**(_QWORD **)(v940 + 8 * i) + 0x268LL))(
                  *(_QWORD *)(v940 + 8 * i),
                  1,
                  0);
            }
          }
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x348LL))(a1, 0xFFFFFFFFLL, 1);
          v160 = (volatile signed __int64 *)(a1 + 0xC8);
          if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
          {
            n0x200000_1 = _InterlockedCompareExchange64(v160, 0, 0x200000);
            if ( n0x200000_1 != 0x200000 )
              sub_1403DEBA0(v160, n0x200000_1);
          }
          v18 = 1;
        }
      }
      else
      {
        v18 = 1;
      }
    }
    else
    {
      v18 = 0;
    }
    v1021 = __rdtsc();
    qword_149A05E08(&n0x2800_1);
    goto LABEL_489;
  }
  if ( n6 == 1 )
  {
    n0x2800_2 = 0x2800;
    v1004 = 0;
    v1005 = 0;
    v1007 = 0;
    v1008 = 0;
    v1009 = 0;
    v1006 = 1;
    qword_149A05E00(&n0x2800_2, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    value_by_id_2 = *(_DWORD *)(a2 + 0x3C);
    if ( value_by_id_2 == 0x80000000 )
    {
      if ( *(_DWORD *)(a2 + 0x38) == value_by_id_2 )
      {
LABEL_185:
        v18 = 1;
        goto LABEL_186;
      }
      v164 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
      if ( (v164 & 0x200000) != 0 )
        sub_1403CD0A0(
          (volatile signed __int64 *)(a1 + 0xC8),
          v164,
          (__int64)"CPhysicalEntity::Action",
          (__int64)"m_lockUpdate",
          1);
      value_by_id_2 = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(a2 + 0x38), 0);
      v165 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0xC8));
      if ( (v165 & 0x3FF) == 0 && (v165 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v165);
    }
    if ( value_by_id_2 >= *(_DWORD *)(a1 + 0x290) )
    {
      v18 = 0;
LABEL_186:
      v1007 = __rdtsc();
      qword_149A05E08(&n0x2800_2);
LABEL_187:
      if ( v1136 )
        goto LABEL_494;
      goto LABEL_489;
    }
    v941 = *(_QWORD *)(a2 + 0x20);
    if ( (HIDWORD(v941) & 0xFFF40000) != 0xFFF40000 )
      value_by_id_2 = sub_1468D20D0(a1, value_by_id_2, (int)a2 + 0x20, v162, v799);
    n0x3F800000 = 0x3F800000u;
    v167 = (__m128)*(unsigned int *)(a2 + 4);
    v167.m128_f32[0] = (float)((float)(*(float *)(a2 + 4) * *(float *)(a2 + 4))
                             + (float)(*(float *)(a2 + 8) * *(float *)(a2 + 8)))
                     + (float)(*(float *)(a2 + 0xC) * *(float *)(a2 + 0xC));
    v168 = _mm_sqrt_ps(_mm_shuffle_ps(v167, v167, 0));
    v169 = _mm_shuffle_ps(v168, v168, 0xFF).m128_f32[0];
    v867 = v169;
    if ( v169 <= 0.0 )
    {
      value_by_id_3 = (int)value_by_id_2;
    }
    else
    {
      v170 = *(double *)(a2 + 0x20);
      v942 = v170;
      if ( (HIDWORD(v170) & 0xFFF40000) == 0xFFF40000 )
      {
        v189 = (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x2A0LL))(a1, value_by_id_2, 0);
        v190 = (__m128)*(unsigned __int64 *)(a2 + 4);
        v191 = 1.0 / v169;
        v187 = 1.0 / v169;
        v192 = v190.m128_f32[0] * (float)(1.0 / v169);
        LODWORD(v193) = _mm_shuffle_ps(v190, v190, 0x55).m128_u32[0];
        if ( v189 )
        {
          v194 = v191 * *(float *)(a2 + 0xC);
          *(float *)&v915 = v192;
          *((float *)&v915 + 1) = v193 * v191;
          v916 = v194;
          sub_1468B56D0(a1, value_by_id_2, v189 + 0x78, (unsigned int)&v915, LODWORD(v169), 1);
        }
        else
        {
          v195 = *(float *)(a2 + 0xC);
          v926[0] = v190.m128_f32[0] * v191;
          v926[1] = v193 * v191;
          v926[2] = v195 * v191;
          v196 = *(float *)(a1 + 0x1DC);
          v197 = *(float *)(a1 + 0x1E0);
          v198 = *(float *)(a1 + 0x1E4);
          v199 = *(float *)(a1 + 0x1D8);
          v200 = *(_QWORD *)(a1 + 0x230);
          v201 = 0x20LL * (int)value_by_id_2;
          v202 = *(float *)(v201 + v200 + 0x18);
          v203 = *(float *)(v201 + v200 + 0x10);
          v204 = *(float *)(v201 + v200 + 0x14);
          v205 = (float)((float)(v202 * v196) - (float)(v204 * v197)) + (float)(v203 * v198);
          v206 = (float)((float)(v203 * v197) - (float)(v199 * v202)) + (float)(v198 * v204);
          v207 = (float)((float)(v199 * v204) - (float)(v203 * v196)) + (float)(v198 * v202);
          v208 = (float)((float)((float)(v199 * v206) - (float)(v196 * v205))
                       + (float)(v202 + (float)((float)(v199 * v206) - (float)(v196 * v205))))
               + *(double *)(a1 + 0x1D0);
          v209 = (float)((float)((float)(v197 * v205) - (float)(v199 * v207))
                       + (float)(v204 + (float)((float)(v197 * v205) - (float)(v199 * v207))))
               + *(double *)(a1 + 0x1C8);
          v1084[0] = (float)((float)((float)(v196 * v207) - (float)(v197 * v206))
                           + (float)(v203 + (float)((float)(v196 * v207) - (float)(v197 * v206))))
                   + *(double *)(a1 + 0x1C0);
          v1084[1] = v209;
          v1084[2] = v208;
          sub_1468B56D0(a1, value_by_id_2, (unsigned int)v1084, (unsigned int)v926, LODWORD(v867), 1);
          n0x3F800000 = 0x3F800000u;
        }
      }
      else
      {
        if ( *(_DWORD *)(a2 + 0x44) )
        {
          v171 = *(double *)(a2 + 0x30);
          v172 = *(double *)(a2 + 0x28);
          v173 = *(float *)(a1 + 0x1E4);
          v174 = *(float *)(a1 + 0x1DC);
          v175 = *(float *)(a1 + 0x1E0);
          v176 = *(float *)(a1 + 0x1D8);
          v177 = v174 * v171 - v175 * v172 + v173 * v170;
          v178 = v175 * v170 - v176 * v171 + v173 * v172;
          v179 = v176 * v172 - v174 * v170 + v173 * v171;
          v180 = v174 * v179 - v175 * v178;
          v181 = v171 + *(double *)(a1 + 0x1D0) + v176 * v178 - v174 * v177 + v176 * v178 - v174 * v177;
          v182 = v180 + v180;
          n0x3F800000 = 0x3F800000u;
          v183 = v172 + *(double *)(a1 + 0x1C8) + v175 * v177 - v176 * v179 + v175 * v177 - v176 * v179;
          v1083[0] = v182 + v170 + *(double *)(a1 + 0x1C0);
          v1083[1] = v183;
          v1083[2] = v181;
          v184 = v1083;
        }
        else
        {
          v1129 = *(_OWORD *)(a2 + 0x20);
          v1130 = *(_QWORD *)(a2 + 0x30);
          v184 = (double *)&v1129;
        }
        v185 = (__m128)*(unsigned __int64 *)(a2 + 4);
        v186 = v184[2];
        v187 = *(float *)&n0x3F800000 / v169;
        v1131 = *(_OWORD *)v184;
        v1132 = v186;
        *(float *)&v186 = _mm_shuffle_ps(v185, v185, 0x55).m128_f32[0];
        v923[0] = v185.m128_f32[0] * (float)(*(float *)&n0x3F800000 / v169);
        v185.m128_f32[0] = (float)(*(float *)&n0x3F800000 / v169) * *(float *)(a2 + 0xC);
        v923[1] = *(float *)&v186 * (float)(*(float *)&n0x3F800000 / v169);
        v923[2] = v185.m128_f32[0];
        sub_1468B56D0(a1, value_by_id_2, (unsigned int)&v1131, (unsigned int)v923, LODWORD(v169), 1);
      }
      v803 = *(_QWORD *)(a2 + 4);
      value_by_id_3 = (int)value_by_id_2;
      v211 = *(float *)(a2 + 0xC);
      v212 = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x238) + 8LL * (int)value_by_id_2) + 0x48LL);
      v213 = *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x13CLL);
      v925[0] = *(float *)&v803 * v187;
      v925[2] = v211 * v187;
      v925[1] = _mm_shuffle_ps((__m128)v803, (__m128)v803, 0x55).m128_f32[0] * v187;
      *(float *)&v800 = v213;
      CPhysicalEntity::CalculateIntegrityLoss(a1, v212, v188, (unsigned int)v925, v800, value_by_id_2, v212, v801);
    }
    v214 = *(_QWORD *)(a1 + 0x2E8);
    n0x3F800000_1 = n0x3F800000;
    *(float *)&n0x3F800000_1 = *(float *)&n0x3F800000
                             - (float)((float)(*(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x308LL) - *(float *)&n0x3F800000)
                                     * (float)(((*(_DWORD *)(a1 + 0x208) & 0x200000) - 1) >> 0x1F));
    n0x3F800000_2 = n0x3F800000_1;
    v855 = *(float *)&n0x3F800000_1;
    if ( !v214 )
    {
LABEL_173:
      v395 = *(_QWORD *)(a1 + 0x2A0);
      v396 = *(_QWORD *)(((__int64)(int)value_by_id_2 << 6) + *(_QWORD *)(v395 + 0x70));
      if ( v396 )
      {
        if ( *(int *)(*(_QWORD *)(a1 + 0x270) + 0x18LL * (int)value_by_id_2 + 0x10) >= 0 )
        {
          v397 = *(double *)(a2 + 0x20);
          v934 = v397;
          if ( (HIDWORD(v397) & 0xFFF40000) != 0xFFF40000 )
          {
            v398 = v397 - *(double *)(a1 + 0x1C0);
            v399 = *(_QWORD *)(a1 + 0x230);
            v400 = 0x20LL * (int)value_by_id_2;
            v401 = *(double *)(a2 + 0x28) - *(double *)(a1 + 0x1C8);
            v402 = (float)((float)(*(float *)(v396 + 0x60)
                                 * *(float *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x238) + 8LL * (int)value_by_id_2) + 0x40LL))
                         * (float)((float)(*(float *)(v400 + v399 + 0x1C) * *(float *)(v400 + v399 + 0x1C))
                                 * *(float *)(v400 + v399 + 0x1C)))
                 / *(float *)(*(_QWORD *)(a1 + 0x258) + 0x18LL * (int)value_by_id_2);
            v403 = *(double *)(a2 + 0x30) - *(double *)(a1 + 0x1D0);
            v404 = *(float *)(a1 + 0x1E0);
            v829 = *(float *)(a1 + 0x1E0);
            v405 = *(float *)(a1 + 0x1E4);
            v847 = *(float *)(a1 + 0x1E4);
            v835 = *(float *)(a1 + 0x1DC);
            v407 = *(float *)(a1 + 0x1D8);
            v406 = v407;
            v839 = *(float *)(a1 + 0x1D8);
            v408 = v404 * v401 - v835 * v403 + v405 * v398;
            v409 = v407 * v403 - v404 * v398 + v405 * v401;
            v410 = v835 * v398 - v407 * v401 + v405 * v403;
            v411 = COERCE_UNSIGNED_INT64(v404 * v409 - v835 * v410 + v398 + v404 * v409 - v835 * v410);
            v412 = COERCE_UNSIGNED_INT64(v406 * v410 - v404 * v408 + v401 + v406 * v410 - v404 * v408);
            v413 = v835 * v408;
            LODWORD(v408) = *(_DWORD *)(v400 + v399 + 4);
            v414 = v406 * v409;
            LODWORD(v406) = *(_DWORD *)(v400 + v399 + 8);
            _XMM5 = COERCE_UNSIGNED_INT64(v413 - v414 + v403 + v413 - v414 - *(float *)(v400 + v399 + 0x18));
            LODWORD(v410) = *(_DWORD *)(v400 + v399 + 0xC);
            *((_QWORD *)&v417 + 1) = *((_QWORD *)&v412 + 1);
            *(double *)&v417 = *(double *)&v412 - *(float *)(v400 + v399 + 0x14);
            _XMM3 = v417;
            *((_QWORD *)&v417 + 1) = *((_QWORD *)&v411 + 1);
            *(double *)&v417 = *(double *)&v411 - *(float *)(v400 + v399 + 0x10);
            _XMM2 = v417;
            LODWORD(v411) = *(_DWORD *)(v400 + v399);
            __asm
            {
              vcvtsd2ss xmm10, xmm2, xmm2
              vcvtsd2ss xmm11, xmm3, xmm3
            }
            __asm { vcvtsd2ss xmm12, xmm5, xmm5 }
            *(float *)&v412 = (float)((float)(*(float *)&_XMM11 * *(float *)&v406)
                                    - (float)(*(float *)&_XMM12 * *(float *)&v408))
                            + (float)(*(float *)&_XMM10 * *(float *)&v410);
            *(float *)&_XMM5 = (float)((float)(*(float *)&_XMM12 * *(float *)&v411)
                                     - (float)(*(float *)&_XMM10 * *(float *)&v406))
                             + (float)(*(float *)&_XMM11 * *(float *)&v410);
            *(float *)&v410 = (float)((float)(*(float *)&_XMM10 * *(float *)&v408)
                                    - (float)(*(float *)&_XMM11 * *(float *)&v411))
                            + (float)(*(float *)&_XMM12 * *(float *)&v410);
            v422 = (float)((float)(*(float *)&v406 * *(float *)&_XMM5) - (float)(*(float *)&v408 * *(float *)&v410))
                 + (float)(*(float *)&_XMM10
                         + (float)((float)(*(float *)&v406 * *(float *)&_XMM5)
                                 - (float)(*(float *)&v408 * *(float *)&v410)));
            v423 = (float)((float)(*(float *)&v411 * *(float *)&v410) - (float)(*(float *)&v406 * *(float *)&v412))
                 + (float)(*(float *)&_XMM11
                         + (float)((float)(*(float *)&v411 * *(float *)&v410)
                                 - (float)(*(float *)&v406 * *(float *)&v412)));
            v424 = (float)((float)(*(float *)&v408 * *(float *)&v412) - (float)(*(float *)&v411 * *(float *)&_XMM5))
                 + (float)(*(float *)&_XMM12
                         + (float)((float)(*(float *)&v408 * *(float *)&v412)
                                 - (float)(*(float *)&v411 * *(float *)&_XMM5)));
            v900 = v424;
            v898 = v422;
            v899 = v423;
            v895 = 0.0;
            v896 = 0.0;
            v897 = 0.0;
            v892 = 0.0;
            v893 = 0.0;
            v894 = 0.0;
            v425 = *(float *)(v400 + v399 + 0x1C);
            v426 = v402 * *(float *)&n0x3F800000_2;
            if ( v425 != 1.0 )
            {
              v898 = (float)(1.0 / v425) * v422;
              v900 = (float)(1.0 / v425) * v424;
              v899 = (float)(1.0 / v425) * v423;
            }
            if ( (*(_DWORD *)(a2 + 4) & 0xFFA00000) != 0xFFA00000 )
            {
              v427 = v426 * *(float *)(a2 + 0xC);
              v428 = (__m128)*(unsigned __int64 *)(a2 + 4);
              v429 = _mm_shuffle_ps(v428, v428, 0x55).m128_f32[0];
              v430 = (float)((float)(v829 * (float)(v426 * v429)) - (float)(v835 * v427))
                   + (float)(v847 * (float)(v426 * v428.m128_f32[0]));
              v431 = (float)((float)(v839 * v427) - (float)(v829 * (float)(v426 * v428.m128_f32[0])))
                   + (float)((float)(v426 * v429) * v847);
              v432 = (float)((float)(v835 * (float)(v426 * v428.m128_f32[0])) - (float)(v839 * (float)(v426 * v429)))
                   + (float)(v427 * v847);
              v433 = (float)((float)(v431 * v829) - (float)(v835 * v432))
                   + (float)((float)((float)(v431 * v829) - (float)(v835 * v432)) + (float)(v426 * v428.m128_f32[0]));
              v434 = v432 * v839;
              v435 = *(float *)(v400 + v399 + 0xC);
              v436 = (float)(v434 - (float)(v430 * v829))
                   + (float)((float)(v434 - (float)(v430 * v829)) + (float)(v426 * v429));
              v428.m128_f32[0] = v431 * v839;
              v437 = *(float *)(v400 + v399 + 8);
              v438 = *(float *)(v400 + v399 + 4);
              v439 = (float)(v835 * v430) - v428.m128_f32[0];
              v440 = v439 + v427;
              v441 = *(float *)(v400 + v399);
              v442 = (float)((float)(v436 * v437) - (float)((float)(v439 + v440) * v438)) + (float)(v433 * v435);
              v443 = (float)((float)((float)(v439 + v440) * v441) - (float)(v433 * v437)) + (float)(v436 * v435);
              v444 = (float)((float)(v433 * v438) - (float)(v436 * v441)) + (float)((float)(v439 + v440) * v435);
              v426 = v402 * *(float *)&n0x3F800000_2;
              v897 = (float)((float)(v442 * v438) - (float)(v443 * v441))
                   + (float)((float)(v439 + v440) + (float)((float)(v442 * v438) - (float)(v443 * v441)));
              v895 = (float)((float)(v443 * v437) - (float)(v444 * v438))
                   + (float)(v433 + (float)((float)(v443 * v437) - (float)(v444 * v438)));
              v896 = (float)((float)(v444 * v441) - (float)(v442 * v437))
                   + (float)(v436 + (float)((float)(v444 * v441) - (float)(v442 * v437)));
            }
            if ( (*(_DWORD *)(a2 + 0x10) & 0xFFA00000) != 0xFFA00000 )
            {
              v445 = v426 * *(float *)(a2 + 0x18);
              v446 = (__m128)*(unsigned __int64 *)(a2 + 0x10);
              v447 = _mm_shuffle_ps(v446, v446, 0x55).m128_f32[0];
              v448 = (float)((float)(v829 * (float)(v426 * v447)) - (float)(v835 * v445))
                   + (float)((float)(v426 * v446.m128_f32[0]) * v847);
              v449 = (float)((float)(v839 * v445) - (float)(v829 * (float)(v426 * v446.m128_f32[0])))
                   + (float)((float)(v426 * v447) * v847);
              v450 = (float)((float)(v835 * (float)(v426 * v446.m128_f32[0])) - (float)(v839 * (float)(v426 * v447)))
                   + (float)(v445 * v847);
              v451 = (float)((float)(v449 * v829) - (float)(v835 * v450))
                   + (float)((float)((float)(v449 * v829) - (float)(v835 * v450)) + (float)(v426 * v446.m128_f32[0]));
              v452 = v450 * v839;
              v453 = *(float *)(v400 + v399 + 0xC);
              v454 = (float)(v452 - (float)(v448 * v829))
                   + (float)((float)(v452 - (float)(v448 * v829)) + (float)(v426 * v447));
              v446.m128_f32[0] = v449 * v839;
              v455 = *(float *)(v400 + v399 + 8);
              v456 = *(float *)(v400 + v399 + 4);
              v457 = (float)(v835 * v448) - v446.m128_f32[0];
              v458 = v457 + v445;
              v459 = *(float *)(v400 + v399);
              v460 = (float)((float)(v454 * v455) - (float)((float)(v457 + v458) * v456)) + (float)(v451 * v453);
              v461 = (float)((float)((float)(v457 + v458) * v459) - (float)(v451 * v455)) + (float)(v454 * v453);
              v462 = (float)((float)(v451 * v456) - (float)(v454 * v459)) + (float)((float)(v457 + v458) * v453);
              v894 = (float)((float)(v460 * v456) - (float)(v461 * v459))
                   + (float)((float)(v457 + v458) + (float)((float)(v460 * v456) - (float)(v461 * v459)));
              v892 = (float)((float)(v461 * v455) - (float)(v462 * v456))
                   + (float)(v451 + (float)((float)(v461 * v455) - (float)(v462 * v456)));
              v893 = (float)((float)(v462 * v459) - (float)(v460 * v455))
                   + (float)(v454 + (float)((float)(v462 * v459) - (float)(v460 * v455)));
            }
            v463 = *(_QWORD *)(((__int64)(int)value_by_id_2 << 6) + *(_QWORD *)(v395 + 0x70));
            v464 = *(_QWORD *)(a1 + 0x2C0);
            v465 = (__m128)*(unsigned __int64 *)(v464 + 0x20C);
            _XMM1 = *(unsigned __int64 *)(v464 + 0x81930);
            v467 = *(float *)(v464 + 0x214);
            __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
            _XMM1 = COERCE_UNSIGNED_INT64(*(float *)(v464 + 0x33C) * *(double *)&_XMM1);
            __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
            v924[0] = v465.m128_f32[0] * *(float *)&_XMM3;
            v924[2] = v467 * *(float *)&_XMM3;
            v924[1] = _mm_shuffle_ps(v465, v465, 0x55).m128_f32[0] * *(float *)&_XMM3;
            if ( (unsigned int)sub_146640510(
                                 v463,
                                 (unsigned int)&v898,
                                 (unsigned int)&v895,
                                 (unsigned int)&v892,
                                 (__int64)v924,
                                 _XMM4)
              && *(char *)(a1 + 0x208) >= 0 )
            {
              *(_DWORD *)(a1 + 0x170) = 0;
              CPhysicalWorld::MarkEntityAsDeforming(*(_QWORD *)(a1 + 0x2C0), a1, v471);
            }
          }
        }
      }
      goto LABEL_185;
    }
    v217 = (__m128)*(unsigned __int64 *)(a2 + 4);
    v218 = *(float *)&n0x3F800000_1 * *(float *)(a2 + 0xC);
    v219 = _mm_shuffle_ps(v217, v217, 0x55).m128_f32[0] * *(float *)&n0x3F800000_1;
    LODWORD(_XMM5) = 0;
    LODWORD(_XMM4) = 0;
    LODWORD(_XMM6) = 0;
    v223 = v217.m128_f32[0] * *(float *)&n0x3F800000_1;
    v815 = 0.0;
    v842 = 0.0;
    v819 = 0.0;
    v834 = v217.m128_f32[0] * *(float *)&n0x3F800000_1;
    v827 = v219;
    v846 = v218;
    if ( (*(_DWORD *)(a2 + 0x10) & 0xFFA00000) == 0xFFA00000 )
    {
      v943 = *(_QWORD *)(a2 + 0x20);
      if ( (HIDWORD(v943) & 0xFFF40000) == 0xFFF40000 )
      {
LABEL_127:
        v268 = (double *)(*(_QWORD *)(a1 + 0x228) + 0x30 * value_by_id_3);
        v269 = v268[3];
        if ( *v268 <= v269 )
        {
          _XMM3 = COERCE_UNSIGNED_INT64(v268[5] - v268[2]);
          _XMM2 = COERCE_UNSIGNED_INT64(v268[4] - v268[1]);
          _XMM0 = COERCE_UNSIGNED_INT64(v269 - *v268);
          __asm
          {
            vcvtsd2ss xmm1, xmm2, xmm2
            vcvtsd2ss xmm2, xmm3, xmm3
            vcvtsd2ss xmm0, xmm0, xmm0
          }
        }
        else
        {
          LODWORD(_XMM1) = 0;
          LODWORD(_XMM2) = 0;
          LODWORD(_XMM0) = 0;
        }
        v276 = *(_QWORD *)(v214 + 8);
        v860 = *(float *)&_XMM0;
        v822 = *(float *)&_XMM2;
        n0x3F800000_3 = n0x3F800000_2;
        v277 = *(float *)&n0x3F800000_2 * *(float *)&_XMM4;
        v279 = (float)(*(float *)&_XMM1 + *(float *)&_XMM0) + *(float *)&_XMM2;
        v280 = 0x60 * value_by_id_3;
        v281 = *(float *)&n0x3F800000_2 * *(float *)&_XMM5;
        v282 = *(float *)(*(_QWORD *)(a1 + 0x258) + 0x18 * value_by_id_3);
        v283 = (float)(v218 * *(float *)&n0x3F800000_2) + *(float *)(v276 + 0x60 * value_by_id_3 + 8);
        *(float *)&n0x3F800000_3 = v277 + *(float *)(v276 + 0x60 * value_by_id_3 + 0x10);
        v284 = v281 + *(float *)(v276 + 0x60 * value_by_id_3 + 0xC);
        v285 = (float)(v219 * *(float *)&n0x3F800000_2) + *(float *)(v276 + 0x60 * value_by_id_3 + 4);
        v286 = (float)(*(float *)&n0x3F800000_2 * *(float *)&_XMM6) + *(float *)(v276 + 0x60 * value_by_id_3 + 0x14);
        *(float *)&n0x3F800000_3 = (float)((float)((float)((float)(*(float *)&n0x3F800000_3 * *(float *)&n0x3F800000_3)
                                                         + (float)(v284 * v284))
                                                 + (float)(v286 * v286))
                                         * v279)
                                 * (float)(v279 * 0.1);
        n0x3F800000_4 = n0x3F800000_3;
        __asm { vmaxss  xmm4, xmm4, xmm2 }
        if ( *(float *)&_XMM4 <= (float)((float)(v282 * v282) * 0.000099999997) )
        {
          v289 = 0;
        }
        else
        {
          *(float *)(v276 + 0x60 * value_by_id_3) = (float)(v223 * *(float *)&n0x3F800000_2)
                                                  + *(float *)(v276 + 0x60 * value_by_id_3);
          *(float *)(v276 + v280 + 4) = v285;
          *(float *)(v276 + v280 + 8) = v283;
          v289 = 1;
          v290 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 8LL);
          v291 = (float)(*(float *)&n0x3F800000_2 * *(float *)&_XMM6) + *(float *)(v290 + v280 + 0x14);
          v292 = v277 + *(float *)(v290 + v280 + 0x10);
          *(float *)(v290 + v280 + 0xC) = v281 + *(float *)(v290 + v280 + 0xC);
          *(float *)(v290 + v280 + 0x10) = v292;
          *(float *)(v290 + v280 + 0x14) = v291;
          v293 = *(_QWORD *)(a1 + 0x2E8);
          if ( *(_DWORD *)(v293 + 0x74) )
          {
            v294 = *(unsigned __int64 *)(a2 + 0x20);
            v937 = *(_QWORD *)(a2 + 0x20);
            if ( (HIDWORD(v937) & 0xFFF40000) != 0xFFF40000 && !*(_DWORD *)(a2 + 0x48) )
            {
              v295 = *(float *)(a1 + 0x1E0);
              v296 = *(float *)(a1 + 0x1DC);
              v297 = *(float *)(a1 + 0x1D8);
              _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(a2 + 0x30) - *(double *)(a1 + 0x1D0));
              *((_QWORD *)&v300 + 1) = *((_QWORD *)&v294 + 1);
              *(double *)&v300 = *(double *)&v294 - *(double *)(a1 + 0x1C0);
              _XMM0 = v300;
              v301 = *(float *)(a1 + 0x1E4);
              _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(a2 + 0x28) - *(double *)(a1 + 0x1C8));
              v276 = 0xFFFFFFFFLL;
              v303 = *(_DWORD *)(v293 + 0x40);
              __asm
              {
                vcvtsd2ss xmm8, xmm0, xmm0
                vcvtsd2ss xmm11, xmm2, xmm2
                vcvtsd2ss xmm12, xmm3, xmm3
              }
              v307 = *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4LL * (int)value_by_id_2);
              v308 = 0;
              v309 = (float)((float)(v295 * *(float *)&_XMM11) - (float)(v296 * *(float *)&_XMM12))
                   + (float)(v301 * *(float *)&_XMM8);
              v310 = (float)((float)(v297 * *(float *)&_XMM12) - (float)(v295 * *(float *)&_XMM8))
                   + (float)(v301 * *(float *)&_XMM11);
              v311 = (float)((float)(v296 * *(float *)&_XMM8) - (float)(v297 * *(float *)&_XMM11))
                   + (float)(v301 * *(float *)&_XMM12);
              v312 = (float)((float)(v310 * v295) - (float)(v311 * v296))
                   + (float)((float)((float)(v310 * v295) - (float)(v311 * v296)) + *(float *)&_XMM8);
              v313 = (float)((float)(v311 * v297) - (float)(v309 * v295))
                   + (float)((float)((float)(v311 * v297) - (float)(v309 * v295)) + *(float *)&_XMM11);
              *(float *)&v300 = v309 * v296;
              v314 = 1.0e10;
              v315 = (float)(*(float *)&v300 - (float)(v310 * v297))
                   + (float)((float)(*(float *)&v300 - (float)(v310 * v297)) + *(float *)&_XMM12);
              if ( v303 > 0 )
              {
                v316 = *(_QWORD *)v293 + 0x18LL;
                do
                {
                  if ( (*(_BYTE *)(v316 + 0x4C) & 4) != 0
                    && (*(_DWORD *)(v316 - 0xC) == v307 || *(_DWORD *)(v316 - 8) == v307)
                    && (float)((float)((float)((float)(v827 * v827) + (float)(v834 * v834)) + (float)(v846 * v846))
                             * (float)(*(float *)&n0x3F800000_2 * *(float *)&n0x3F800000_2)) > (float)((float)(*(float *)(v316 + 0x24) * *(float *)(v316 + 0x24)) * 0.000099999997)
                    && (float)((float)((float)((float)(v312 - *(float *)(v316 - 4))
                                             * (float)(v312 - *(float *)(v316 - 4)))
                                     + (float)((float)(v313 - *(float *)v316) * (float)(v313 - *(float *)v316)))
                             + (float)((float)(v315 - *(float *)(v316 + 4)) * (float)(v315 - *(float *)(v316 + 4)))) < v314 )
                  {
                    v314 = (float)((float)((float)(v312 - *(float *)(v316 - 4)) * (float)(v312 - *(float *)(v316 - 4)))
                                 + (float)((float)(v313 - *(float *)v316) * (float)(v313 - *(float *)v316)))
                         + (float)((float)(v315 - *(float *)(v316 + 4)) * (float)(v315 - *(float *)(v316 + 4)));
                    v276 = (unsigned int)v308;
                  }
                  ++v308;
                  v316 += 0x90;
                }
                while ( v308 < v303 );
                if ( (int)v276 >= 0 )
                {
                  *(_DWORD *)(**(_QWORD **)(a1 + 0x2E8) + 0x90LL * (int)v276 + 0x68) = 1;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x50LL) = *(_DWORD *)(*(_QWORD *)(a1 + 0x250)
                                                                            + 4LL * (int)value_by_id_2);
                }
              }
            }
          }
        }
        v317 = LODWORD(v842);
        v318 = v815;
        v319 = v819;
        v320 = v317;
        v321 = *(float *)(*(_QWORD *)(a1 + 0x258) + 0x18LL * (int)value_by_id_2);
        v322 = *(float **)(a1 + 0x2C0);
        *(float *)&v320 = (float)((float)((float)((float)(*(float *)&v317 * *(float *)&v317) + (float)(v318 * v318))
                                        + (float)(v319 * v319))
                                * (float)((float)(*(float *)&_XMM1 + v860) + v822))
                        * (float)((float)((float)(*(float *)&_XMM1 + v860) + v822) * 0.1);
        _XMM4 = v320;
        v868 = *(float *)(a2 + 8);
        __asm { vmaxss  xmm5, xmm4, xmm2 }
        v851 = *(float *)(a2 + 4);
        v804 = *(float *)(a2 + 0xC);
        if ( *(float *)&_XMM5 > (float)((float)((float)((float)((float)(v322[0x83] * v322[0x83])
                                                              + (float)(v322[0x84] * v322[0x84]))
                                                      + (float)(v322[0x85] * v322[0x85]))
                                              * v321)
                                      * (float)(v321 * 0.000099999997)) )
        {
          n3 = *(_DWORD *)(a2 + 0x48);
          if ( !n3 || n3 == 3 )
          {
            v326 = *(_QWORD *)(a1 + 0x2E8);
            v276 = *(_QWORD *)(v326 + 0x20);
            if ( v276 )
            {
              v327 = 0x58LL * (int)value_by_id_2;
              if ( *(_QWORD *)(v276 + v327 + 8) )
              {
                v933 = *(double *)(a2 + 0x20);
                if ( (HIDWORD(v933) & 0xFFF40000) != 0xFFF40000 )
                {
                  v1062 = xmmword_1480E9CA0;
                  v1052 = 1;
                  v1056 = 0xFFBFFFFF;
                  v1060 = 0x80000000;
                  v1061 = 0x80000000;
                  v328 = *(_QWORD *)(v326 + 0x20);
                  v329 = *(float *)(a1 + 0x1E4);
                  v330 = *(float *)(v327 + v328 + 0x40);
                  v331 = *(float *)(v327 + v328 + 0x44);
                  v332 = *(float *)(v327 + v328 + 0x4C);
                  v333 = *(float *)(v327 + v328 + 0x48);
                  LODWORD(v334) = *(_DWORD *)(a1 + 0x1E0) ^ 0x80000000;
                  LODWORD(v335) = *(_DWORD *)(a1 + 0x1D8) ^ 0x80000000;
                  LODWORD(v336) = *(_DWORD *)(a1 + 0x1DC) ^ 0x80000000;
                  v337 = (float)((float)((float)(v336 * v330) - (float)(v335 * v331)) + (float)(v334 * v332))
                       + (float)(v329 * v333);
                  v338 = (float)((float)((float)(v333 * v335) - (float)(v330 * v334)) + (float)(v336 * v332))
                       + (float)(v329 * v331);
                  v339 = (float)((float)((float)(v331 * v334) - (float)(v336 * v333)) + (float)(v335 * v332))
                       + (float)(v329 * v330);
                  v340 = (float)(v329 * v332)
                       - (float)((float)((float)(v335 * v330) + (float)(v336 * v331)) + (float)(v333 * v334));
                  v828 = v335;
                  v341 = v804;
                  v342 = (float)((float)(v338 * v804) - (float)(v337 * v868)) + (float)(v340 * v851);
                  v343 = (float)((float)(v337 * v851) - (float)(v339 * v804)) + (float)(v340 * v868);
                  v344 = (float)((float)(v339 * v868) - (float)(v338 * v851)) + (float)(v340 * v804);
                  v805 = (float)((float)(v337 * v342) - (float)(v339 * v344))
                       + (float)((float)((float)(v337 * v342) - (float)(v339 * v344)) + v868);
                  v869 = (float)((float)(v338 * v344) - (float)(v337 * v343))
                       + (float)((float)((float)(v338 * v344) - (float)(v337 * v343)) + v851);
                  v1054 = v805;
                  v1055 = (float)((float)(v339 * v343) - (float)(v338 * v342))
                        + (float)((float)((float)(v339 * v343) - (float)(v338 * v342)) + v341);
                  v1053 = v869;
                  v345 = *(_QWORD *)(v326 + 0x20);
                  v346 = *(double *)(a2 + 0x30) - *(double *)(a1 + 0x1D0);
                  v347 = *(double *)(a2 + 0x28) - *(double *)(a1 + 0x1C8);
                  v348 = v933 - *(double *)(a1 + 0x1C0);
                  v349 = v336;
                  v350 = v346 * v336 - v347 * v334 + v329 * v348;
                  v351 = v348 * v334 - v346 * v828 + v329 * v347;
                  v352 = v347 * v828 - v348 * v336 + v329 * v346;
                  v353 = v352 * v336 - v351 * v334;
                  v354 = v353 + v353 + v348;
                  v355 = v350 * v334 - v352 * v828;
                  v356 = v355 + v355 + v347;
                  v357 = v351 * v828;
                  v358 = *(float *)(v327 + v345 + 0x48);
                  v359 = v357 - v350 * v349 + v357 - v350 * v349 + v346;
                  v360 = *(float *)(v327 + v345 + 0x44);
                  v361 = *(float *)(v327 + v345 + 0x4C);
                  v362 = *(float *)(v327 + v345 + 0x40);
                  v363 = v359 * v360 - v356 * v358 + v354 * v361;
                  v364 = v354 * v358 - v359 * v362 + v356 * v361;
                  v365 = v356 * v362 - v354 * v360 + v359 * v361;
                  v366 = v365 * v360 - v364 * v358;
                  v367 = v359 + *(double *)(v327 + v345 + 0x38) + v364 * v362 - v363 * v360 + v364 * v362 - v363 * v360;
                  v368 = v356 + *(double *)(v327 + v345 + 0x30) + v363 * v358 - v365 * v362 + v363 * v358 - v365 * v362;
                  v1057 = v354 + *(double *)(v327 + v345 + 0x28) + v366 + v366;
                  v1059 = v367;
                  v1058 = v368;
                  v370 = (__m128)LODWORD(v805);
                  v369 = *(float *)(v327 + *(_QWORD *)(v326 + 0x20) + 0x1C);
                  v370.m128_f32[0] = (float)((float)(v370.m128_f32[0] * v370.m128_f32[0]) + (float)(v869 * v869))
                                   + (float)(v1055 * v1055);
                  if ( v370.m128_f32[0] > (float)(v369 * v369) )
                  {
                    if ( v370.m128_f32[0] <= 9.9999997e-21 )
                    {
                      v374 = 1.0;
                      v376 = 0.0;
                      v375 = 0.0;
                    }
                    else
                    {
                      _XMM0 = _mm_shuffle_ps(v370, v370, 0);
                      __asm { vrsqrtps xmm3, xmm0 }
                      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                      v373 = (float)(1.5
                                   - (float)((float)((float)(v370.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0])
                                           * 0.5))
                           * _XMM3.m128_f32[0];
                      v374 = v1055 * v373;
                      v375 = v805 * v373;
                      v376 = v869 * v373;
                    }
                    v1055 = v369 * v374;
                    v1053 = v369 * v376;
                    v1054 = v369 * v375;
                  }
                  (*(void (__fastcall **)(_QWORD, int *, __int64))(**(_QWORD **)(*(_QWORD *)(v326 + 0x20) + v327 + 8)
                                                                 + 0x30LL))(
                    *(_QWORD *)(*(_QWORD *)(v326 + 0x20) + v327 + 8),
                    &v1052,
                    1);
                  *(float *)&n0x3F800000_2 = v855;
                  v318 = v815;
                  *(float *)&v317 = v842;
                  v319 = v819;
                }
              }
            }
          }
        }
        if ( *(_DWORD *)(a2 + 0x48) == 2 && *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x334LL) )
        {
          if ( !*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x10LL) )
          {
            v377 = *(int *)(a1 + 0x290);
            allocSize = 0xC * v377;
            if ( !is_mul_ok(v377, 0xCu) )
              allocSize = 0xFFFFFFFFFFFFFFFFuLL;
            *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x10LL) = allocWithProfilerInfo_w(allocSize);
          }
          if ( !*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x18LL) )
          {
            v379 = *(int *)(a1 + 0x290);
            allocSize_1 = 0xC * v379;
            if ( !is_mul_ok(v379, 0xCu) )
              allocSize_1 = 0xFFFFFFFFFFFFFFFFuLL;
            *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x18LL) = allocWithProfilerInfo_w(allocSize_1);
          }
          v381 = *(_QWORD *)(a1 + 0x2E8);
          v382 = *(double **)(a1 + 0x2C0);
          v383 = *(double *)(v381 + 0x38) - v382[0x102B0];
          v384 = *(double *)(v381 + 0x28) - v382[0x102AE];
          v385 = *(double *)(v381 + 0x30) - v382[0x102AF];
          if ( v384 * v384 + v385 * v385 + v383 * v383 != 0.0 )
          {
            memset(*(void **)(v381 + 0x10), 0, 0xCLL * *(int *)(a1 + 0x290));
            memset(*(void **)(*(_QWORD *)(a1 + 0x2E8) + 0x18LL), 0, 0xCLL * *(int *)(a1 + 0x290));
          }
          v386 = *(_QWORD *)(a1 + 0x2C0);
          v387 = *(_QWORD *)(a1 + 0x2E8);
          *(_OWORD *)(v387 + 0x28) = *(_OWORD *)(v386 + 0x81570);
          *(double *)(v387 + 0x38) = *(double *)(v386 + 0x81580);
          v806 = *(_QWORD *)(a2 + 4);
          v388 = 3LL * (int)value_by_id_2;
          v389 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x10LL);
          v390 = (float)(*(float *)&n0x3F800000_2 * *(float *)(a2 + 0xC))
               + *(float *)(v389 + 0xCLL * (int)value_by_id_2 + 8);
          v391 = (float)(_mm_shuffle_ps((__m128)v806, (__m128)v806, 0x55).m128_f32[0] * *(float *)&n0x3F800000_2)
               + *(float *)(v389 + 0xCLL * (int)value_by_id_2 + 4);
          *(float *)(v389 + 4 * v388) = (float)(*(float *)&v806 * *(float *)&n0x3F800000_2)
                                      + *(float *)(v389 + 0xCLL * (int)value_by_id_2);
          *(float *)(v389 + 4 * v388 + 4) = v391;
          *(float *)(v389 + 4 * v388 + 8) = v390;
          v392 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x18LL);
          v393 = (float)(*(float *)&n0x3F800000_2 * v319) + *(float *)(v392 + 0xCLL * (int)value_by_id_2 + 8);
          v394 = (float)(*(float *)&n0x3F800000_2 * *(float *)&v317) + *(float *)(v392 + 0xCLL * (int)value_by_id_2 + 4);
          *(float *)(v392 + 4 * v388) = (float)(*(float *)&n0x3F800000_2 * v318)
                                      + *(float *)(v392 + 0xCLL * (int)value_by_id_2);
          *(float *)(v392 + 4 * v388 + 4) = v394;
          *(float *)(v392 + 4 * v388 + 8) = v393;
        }
        if ( v289 )
          CPhysicalWorld::MarkEntityAsDeforming(*(_QWORD *)(a1 + 0x2C0), a1, v276);
        goto LABEL_173;
      }
      v224 = *(_QWORD *)(a1 + 0x230);
      v225 = *(float **)(*(_QWORD *)(a1 + 0x238) + 8 * value_by_id_3);
      v226 = *(float *)(v224 + 0x20 * value_by_id_3 + 4);
      v227 = *(float *)(v224 + 0x20 * value_by_id_3 + 8);
      v228 = *(float *)(v224 + 0x20 * value_by_id_3);
      v229 = v225[0xE];
      v230 = v225[0xD];
      v231 = v225[0xF];
      v232 = *(float *)(v224 + 0x20 * value_by_id_3 + 0xC);
      v233 = (float)((float)(v226 * v231) - (float)(v227 * v229)) + (float)(v230 * v232);
      v234 = (float)((float)(v230 * v227) - (float)(v228 * v231)) + (float)(v232 * v229);
      v235 = (float)((float)(v228 * v229) - (float)(v230 * v226)) + (float)(v232 * v231);
      v236 = (float)((float)(v235 * v226) - (float)(v234 * v227))
           + (float)((float)((float)(v235 * v226) - (float)(v234 * v227)) + v230);
      v237 = v233 * v227;
      v238 = *(float *)(a1 + 0x1DC);
      v239 = (float)(v237 - (float)(v235 * v228)) + (float)((float)(v237 - (float)(v235 * v228)) + v229);
      v240 = v234 * v228;
      v241 = *(float *)(a1 + 0x1D8);
      v242 = *(float *)(v224 + 0x20 * value_by_id_3 + 0x1C);
      v243 = (float)((float)((float)(v240 - (float)(v233 * v226)) + (float)((float)(v240 - (float)(v233 * v226)) + v231))
                   * v242)
           + *(float *)(v224 + 0x20 * value_by_id_3 + 0x18);
      v244 = *(float *)(a1 + 0x1E4);
      v245 = (float)(v239 * v242) + *(float *)(v224 + 0x20 * value_by_id_3 + 0x14);
      v246 = (float)(v236 * v242) + *(float *)(v224 + 0x20 * value_by_id_3 + 0x10);
      v247 = *(float *)(a1 + 0x1E0);
      v248 = (float)((float)(v243 * v238) - (float)(v245 * v247)) + (float)(v246 * v244);
      v249 = (float)((float)(v246 * v247) - (float)(v243 * v241)) + (float)(v245 * v244);
      v250 = (float)((float)(v245 * v241) - (float)(v246 * v238)) + (float)(v243 * v244);
      v251 = (float)((float)(v250 * v238) - (float)(v249 * v247))
           + (float)(v246 + (float)((float)(v250 * v238) - (float)(v249 * v247)));
      v252 = (float)((float)(v248 * v247) - (float)(v250 * v241))
           + (float)(v245 + (float)((float)(v248 * v247) - (float)(v250 * v241)));
      v253 = COERCE_UNSIGNED_INT64(
               *(double *)(a2 + 0x30)
             - ((float)((float)((float)(v249 * v241) - (float)(v248 * v238))
                      + (float)(v243 + (float)((float)(v249 * v241) - (float)(v248 * v238))))
              + *(double *)(a1 + 0x1D0)));
      v254 = COERCE_UNSIGNED_INT64(*(double *)(a2 + 0x28) - (v252 + *(double *)(a1 + 0x1C8)));
      v255 = v251 + *(double *)(a1 + 0x1C0);
      v223 = v217.m128_f32[0] * *(float *)&n0x3F800000_2;
      v256 = *(double *)(a2 + 0x20) - v255;
      v257 = *(float *)(a2 + 8);
      v258 = *(float *)(a2 + 4);
      _XMM6 = COERCE_UNSIGNED_INT64(v256 * v257 - *(double *)&v254 * v258);
      v260 = *(double *)&v253 * v257;
      v261 = *(float *)(a2 + 0xC);
      v262 = v256 * v261;
      *((_QWORD *)&v264 + 1) = *((_QWORD *)&v253 + 1);
      *(double *)&v264 = *(double *)&v253 * v258;
      v263 = v264;
      v219 = v827;
      *((_QWORD *)&v264 + 1) = *((_QWORD *)&v254 + 1);
      *(double *)&v264 = *(double *)&v254 * v261;
      v265 = v264;
      v218 = v846;
      *((_QWORD *)&v264 + 1) = *((_QWORD *)&v263 + 1);
      *(double *)&v264 = *(double *)&v263 - v262;
      _XMM4 = v264;
      *((_QWORD *)&v264 + 1) = *((_QWORD *)&v265 + 1);
      *(double *)&v264 = *(double *)&v265 - v260;
      _XMM0 = v264;
      __asm
      {
        vcvtsd2ss xmm5, xmm0, xmm0
        vcvtsd2ss xmm4, xmm4, xmm4
        vcvtsd2ss xmm6, xmm6, xmm6
      }
    }
    else
    {
      LODWORD(_XMM6) = *(_DWORD *)(a2 + 0x18);
      LODWORD(_XMM5) = *(_QWORD *)(a2 + 0x10);
      LODWORD(_XMM4) = _mm_shuffle_ps(
                         (__m128)*(unsigned __int64 *)(a2 + 0x10),
                         (__m128)*(unsigned __int64 *)(a2 + 0x10),
                         0x55).m128_u32[0];
    }
    v819 = *(float *)&_XMM6;
    v842 = *(float *)&_XMM4;
    v815 = *(float *)&_XMM5;
    goto LABEL_127;
  }
  if ( n6 != 6 )
  {
    switch ( n6 )
    {
      case 7:
        n0x2800_3 = 0x2800;
        v990 = 0;
        v991 = 0;
        v993 = 0;
        v994 = 0;
        v995 = 0;
        v992 = 1;
        qword_149A05E00(&n0x2800_3, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v472 = *(_DWORD *)(a1 + 0x290);
        if ( v472 <= 0 )
        {
          v18 = 0;
LABEL_235:
          v993 = __rdtsc();
          qword_149A05E08(&n0x2800_3);
          goto LABEL_489;
        }
        v473 = *(_QWORD *)(a1 + 0x2A0);
        if ( v473 && *(int *)(v473 + 0x188) > 1 )
        {
          v474 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          if ( v474 )
            sub_1403DE750(a1 + 0xC8, v474, 0, (__int64)"CPhysicalEntity::Action", (__int64)"m_lockUpdate", 1);
          v475 = sub_1465F39E0(v1133);
          sub_1465A5320(v1169, v475);
          sub_146624160(a1 + 0x228, v1169, 0);
          sub_1465AAFD0(v1169);
          v476 = *(const void ***)(a1 + 0x220);
          if ( v476 )
          {
            v477 = *v476;
            if ( v477 )
            {
              sub_141637D70(v477);
              sub_1402A63C0(v477);
            }
            v478 = *(_QWORD *)(a1 + 0x220);
            v479 = *(const void **)(v478 + 8);
            if ( v479 )
            {
              sub_141637D70(*(_QWORD *)(v478 + 8));
              sub_1402A63C0(v479);
            }
          }
          sub_1402A63C0(*(const void **)(a1 + 0x220));
          *(_QWORD *)(a1 + 0x220) = 0;
          *(_DWORD *)(a1 + 0x2A8) = 0;
          if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
          {
            *(_WORD *)(a1 + 0x106) |= 3u;
            CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
          }
          else
          {
            v480 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1138);
            sub_146602780(a1 + 0x228, v480, 0xFFFFFFFF);
            (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, a1 + 0x10, 3);
          }
          sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 0xC1, 0);
          if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
          {
            n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
            if ( n0x200000_2 != 0x200000 )
              sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_2);
          }
          goto LABEL_234;
        }
        v482 = *(_DWORD *)(a1 + 0x208);
        v483 = 0;
        *(_DWORD *)(a1 + 0x208) = v482 | 0x20000000;
        *(_BYTE *)(a1 + 0x385) = 1;
        if ( *(_QWORD *)(a2 + 0x10) && (v484 = *(_DWORD *)(a2 + 8), v484 > 0) )
        {
          v485 = v484 - 1;
          v486 = v485;
          if ( v485 < 0 )
            goto LABEL_233;
          do
          {
            if ( !v486 )
            {
              *(_DWORD *)(a1 + 0x208) = v482;
              v483 = 1;
              *(_BYTE *)(a1 + 0x385) = 0;
            }
            (*(void (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)a1 + 0x40LL))(
              a1,
              *(unsigned int *)(*(_QWORD *)(a2 + 0x10) + 4 * v486--),
              1);
          }
          while ( v486 >= 0 );
        }
        else
        {
          v487 = *(_DWORD *)(a2 + 4);
          if ( v487 == 0x80000000 )
          {
            v488 = v472 - 1;
            if ( v472 - 1 < 0 )
              goto LABEL_233;
            do
            {
              if ( !v488 )
              {
                *(_DWORD *)(a1 + 0x208) = v482;
                v483 = 1;
                *(_BYTE *)(a1 + 0x385) = 0;
              }
              (*(void (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)a1 + 0x40LL))(
                a1,
                *(unsigned int *)(*(_QWORD *)(a1 + 0x250) + 4 * v488--),
                1);
            }
            while ( v488 >= 0 );
          }
          else
          {
            v489 = *(_DWORD *)(a2 + 8);
            if ( v489 == 0x80000000 )
              goto LABEL_233;
            v490 = v489 + v487 - 1;
            v491 = v490 == v487;
            if ( v490 < v487 )
              goto LABEL_233;
            do
            {
              if ( v491 )
              {
                *(_DWORD *)(a1 + 0x208) = v482;
                v483 = 1;
                *(_BYTE *)(a1 + 0x385) = 0;
              }
              (*(void (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)a1 + 0x40LL))(a1, (unsigned int)v490, 1);
              v492 = *(_DWORD *)(a2 + 4);
              v491 = --v490 == v492;
            }
            while ( v490 >= v492 );
          }
        }
        if ( v483 )
        {
          if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
          {
            *(_WORD *)(a1 + 0x106) |= 3u;
            CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
          }
          else
          {
            v493 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1128);
            sub_146602780(a1 + 0x228, v493, 0xFFFFFFFF);
            (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, a1 + 0x10, 3);
          }
          sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 0xC1, 0);
          goto LABEL_234;
        }
LABEL_233:
        *(_DWORD *)(a1 + 0x208) = v482;
        *(_BYTE *)(a1 + 0x385) = 0;
LABEL_234:
        v18 = 1;
        goto LABEL_235;
      case 0xD:
        n0x2800_4 = 0x2800;
        v983 = 0;
        v984 = 0;
        v986 = 0;
        v987 = 0;
        v988 = 0;
        v985 = 1;
        qword_149A05E00(&n0x2800_4, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        if ( *(_DWORD *)(a2 + 8) == 0x80000000 )
        {
          value_by_id_12 = *(_DWORD *)(a2 + 4);
          value_by_id_4 = 0;
          if ( value_by_id_12 != 0x80000000 )
            value_by_id_4 = value_by_id_12;
        }
        else
        {
          v494 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v494 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0xC8),
              v494,
              (__int64)"CPhysicalEntity::Action",
              (__int64)"m_lockUpdate",
              1);
          value_by_id_4 = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(a2 + 8), 0);
          v496 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v496 & 0x3FF) == 0 && (v496 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v496);
        }
        if ( value_by_id_4 < *(_DWORD *)(a1 + 0x290) )
        {
          v969 = 0;
          v977 = 0xFFBFFFFF;
          v980 = v980 & 0xF0 | 8;
          v978 = 0x80000000;
          v981 = 0xFFFFFFFFFFFFFFFFuLL;
          v498 = *(_QWORD *)(a1 + 0x230);
          v499 = *(float *)(a1 + 0x1DC);
          v500 = *(float *)(a1 + 0x1E0);
          v501 = *(float *)(a1 + 0x1D8);
          v502 = *(float *)(a1 + 0x1E4);
          v503 = 0x20LL * (int)value_by_id_4;
          v504 = *(float *)(v503 + v498 + 0x18);
          v505 = *(float *)(v503 + v498 + 0x14);
          v506 = *(float *)(v503 + v498 + 0x10);
          v507 = (float)((float)(v504 * v499) - (float)(v505 * v500)) + (float)(v506 * v502);
          v508 = (float)((float)(v506 * v500) - (float)(v501 * v504)) + (float)(v502 * v505);
          v509 = (float)((float)(v501 * v505) - (float)(v506 * v499)) + (float)(v502 * v504);
          v510 = (float)((float)((float)(v501 * v508) - (float)(v499 * v507))
                       + (float)(v504 + (float)((float)(v501 * v508) - (float)(v499 * v507))))
               + *(double *)(a1 + 0x1D0);
          v511 = (float)((float)((float)(v500 * v507) - (float)(v501 * v509))
                       + (float)(v505 + (float)((float)(v500 * v507) - (float)(v501 * v509))))
               + *(double *)(a1 + 0x1C8);
          v970 = (float)((float)((float)(v499 * v509) - (float)(v500 * v508))
                       + (float)(v506 + (float)((float)(v499 * v509) - (float)(v500 * v508))))
               + *(double *)(a1 + 0x1C0);
          v971 = v511;
          v972 = v510;
          v512 = *(float *)(v503 + v498 + 4);
          v513 = *(float *)(v503 + v498);
          v514 = *(float *)(v503 + v498 + 8);
          v515 = *(float *)(v503 + v498 + 0xC);
          v973 = (float)((float)((float)(v514 * v499) - (float)(v512 * v500)) + (float)(v513 * v502))
               + (float)(v515 * v501);
          v974 = (float)((float)((float)(v513 * v500) - (float)(v514 * v501)) + (float)(v512 * v502))
               + (float)(v515 * v499);
          v975 = (float)((float)((float)(v512 * v501) - (float)(v513 * v499)) + (float)(v514 * v502))
               + (float)(v515 * v500);
          v976 = (float)(v515 * v502)
               - (float)((float)((float)(v512 * v499) + (float)(v513 * v501)) + (float)(v514 * v500));
          n2 = 2;
          (*(void (__fastcall **)(__int64, int *, __int64))(*(_QWORD *)a1 + 0x18LL))(a1, &v969, 1);
          sub_1403721C0(v1162);
          v1167 = 1.0;
          v1165 = 0.0;
          v1166 = 0.0;
          v1164 = 0;
          value_by_id_5 = value_by_id_4;
          (*(void (__fastcall **)(__int64, char *, __int64))(*(_QWORD *)a1 + 0x18LL))(a1, v1162, 1);
          v18 = 1;
        }
        else
        {
          v18 = 0;
        }
        v986 = __rdtsc();
        qword_149A05E08(&n0x2800_4);
        goto LABEL_489;
      case 0xF:
        n0x2800_5 = 0x2800;
        v1046 = 0;
        v1047 = 0;
        v1049 = 0;
        v1050 = 0;
        v1051 = 0;
        v1048 = 1;
        qword_149A05E00(&n0x2800_5, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        if ( (*(_DWORD *)(a2 + 4) & 0xFFA00000) != 0xFFA00000 )
        {
          sub_14193E890(v1215);
          v516 = *(_QWORD *)(a1 + 0x2C0);
          v517 = (__m128)*(unsigned __int64 *)(v516 + 0x20C);
          v518 = *(float *)(v516 + 0x214);
          v519 = v517;
          v915 = *(_QWORD *)(v516 + 0x20C);
          v519.m128_f32[0] = (float)((float)(v517.m128_f32[0] * v517.m128_f32[0])
                                   + (float)(*((float *)&v915 + 1) * *((float *)&v915 + 1)))
                           + (float)(v518 * v518);
          v520 = _mm_sqrt_ps(_mm_shuffle_ps(v519, v519, 0));
          v521 = _mm_shuffle_ps(v520, v520, 0xFF).m128_f32[0];
          v1220 = 0.0;
          v1219 = 0.0;
          v1218 = 0.0;
          v1217 = 0xFFFFFFFF;
          if ( v521 <= 0.0 )
            v522 = 1.0;
          else
            v522 = -1.0 / v521;
          v524 = v517;
          v524.m128_f32[0] = v517.m128_f32[0] * v522;
          _XMM0 = v524;
          __asm { vunpcklps xmm0, xmm0, xmm1 }
          v1221 = *(double *)&_XMM0;
          v1063 = *(double *)&_XMM0;
          v1227 = 1.0e20;
          v1226 = 1.0e20;
          v1222 = v518 * v522;
          v526 = 0;
          v1064 = v518 * v522;
          if ( *(int *)(a1 + 0x290) > 0 )
          {
            v527 = 0;
            v528 = 0;
            do
            {
              v1216 = *(_DWORD *)(v528 + *(_QWORD *)(a1 + 0x250));
              v1225 = (float)(v521 * *(float *)(v527 + *(_QWORD *)(a1 + 0x258))) * *(float *)(a2 + 4);
              v1224 = v1225;
              v1223 = v1225;
              (*(void (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)a1 + 0x18LL))(a1, v1215, 1);
              ++v526;
              v528 += 4;
              v527 += 0x18;
            }
            while ( v526 < *(_DWORD *)(a1 + 0x290) );
          }
          *(_DWORD *)(a1 + 0x208) |= 2u;
        }
        v529 = *(_QWORD *)(a1 + 0x2E8);
        if ( v529 && (*(_BYTE *)(a1 + 0x208) & 2) != 0 )
          *(_DWORD *)(v529 + 0x6C) = *(_DWORD *)(a2 + 8);
        v1049 = __rdtsc();
        qword_149A05E08(&n0x2800_5);
        v18 = 1;
        goto LABEL_489;
      case 0x10:
        n0x2800_6 = 0x2800;
        v1039 = 0;
        v1040 = 0;
        v1042 = 0;
        v1043 = 0;
        v1044 = 0;
        v1041 = 1;
        qword_149A05E00(&n0x2800_6, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v843 = (volatile signed __int64 *)(a1 + 0xC8);
        v530 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
        if ( (v530 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0xC8),
            v530,
            (__int64)"CPhysicalEntity::Action",
            (__int64)"m_lockUpdate",
            1);
        v531 = *(_QWORD *)(a2 + 0x10);
        v836 = v531;
        v816 = *(_DWORD *)(a1 + 0x290);
        sub_141EB6140(v1141);
        sub_14193E890(v1175);
        v1143 = v932;
        v535 = *(_DWORD *)(a2 + 0xC);
        if ( v535 < 0 )
        {
          if ( *(_DWORD *)(a2 + 0x9C) )
            goto LABEL_269;
          v535 = (*(__int64 (__fastcall **)(_QWORD, __int64, _QWORD))(**(_QWORD **)(a2 + 0x10) + 0x50LL))(
                   *(_QWORD *)(a2 + 0x10),
                   0xFFFFFFFFLL,
                   (unsigned int)(*(_DWORD *)(a2 + 8) - *(_DWORD *)(a2 + 4) + 1));
          *(_DWORD *)(a2 + 0xC) = v535;
        }
        if ( !*(_DWORD *)(a2 + 0x9C) )
        {
          v536 = v535 - *(_DWORD *)(a2 + 4);
          goto LABEL_271;
        }
LABEL_269:
        v536 = 0;
LABEL_271:
        if ( !*(_QWORD *)(a2 + 0x90) || (v825 = 1, *(int *)(a2 + 0x98) <= 0) )
          v825 = 0;
        if ( v531 )
        {
          v537 = v816;
          v938 = 0xFFFFFFFF;
          v902 = 0;
          v901 = 0;
          if ( v816 )
          {
            if ( (unsigned __int64)v816 > 0x3FFFFFFFFFFFFFFFLL )
              unknown_libname_10(v533, v532, v534);
            *(_QWORD *)&v901 = sub_140393750(&v901, 4LL * v816);
            Size = 4LL * v816;
            v939 = 0;
            v807 = Size + v901;
            v902 = Size + v901;
            memset((void *)v901, 0xFFFFFFFF, Size);
            *((_QWORD *)&v901 + 1) = v807;
            v537 = v816;
          }
          v823 = 0;
          if ( v537 > 0 )
          {
            v539 = 0;
            v830 = 0;
            v540 = 0;
            v852 = 0;
            v541 = 0;
            v856 = 0;
            v542 = 0;
            do
            {
              v543 = *(_QWORD *)(a2 + 0x78);
              v544 = 8 * v539;
              if ( (v543 == 0xFFFFFFFFFFFFFFFFuLL || (v543 & *(_QWORD *)(v544 + *(_QWORD *)(a1 + 0x240))) != 0)
                && (*(_QWORD *)(v544 + *(_QWORD *)(a1 + 0x240)) & *(_QWORD *)(a2 + 0x80)) == 0 )
              {
                if ( v825 )
                {
                  v545 = 0;
                  v546 = 0;
                  if ( *(int *)(a2 + 0x98) > 0 )
                  {
                    v547 = *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4 * v539);
                    v548 = *(_DWORD **)(a2 + 0x90);
                    while ( v547 != *v548 )
                    {
                      ++v545;
                      ++v546;
                      ++v548;
                      if ( v546 >= *(int *)(a2 + 0x98) )
                        goto LABEL_302;
                    }
                    if ( !*(_DWORD *)(a2 + 0x9C) )
                      v536 = v545 + *(_DWORD *)(a2 + 0xC) - v547;
LABEL_293:
                    v550 = *(_QWORD *)(a1 + 0x230);
                    _XMM2 = COERCE_UNSIGNED_INT64(
                              *(double *)(a2 + 0x18) * *(double *)(a2 + 0x18)
                            + *(double *)(a2 + 0x38) * *(double *)(a2 + 0x38)
                            + *(double *)(a2 + 0x58) * *(double *)(a2 + 0x58));
                    __asm
                    {
                      vmovddup xmm1, xmm2
                      vsqrtpd xmm3, xmm1
                      vunpckhpd xmm3, xmm3, xmm3
                    }
                    v555 = *(double *)&_XMM3 / *(float *)(v550 + v856 + 0x1C);
                    _XMM2 = COERCE_UNSIGNED_INT64(*(float *)(v541 + *(_QWORD *)(a1 + 0x258)) * v555 * (v555 * v555));
                    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
                    v1142 = *(float *)&_XMM0;
                    v1144 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8 * v539);
                    v1145 = *(_QWORD *)(*(_QWORD *)(a1 + 0x248) + 8 * v539);
                    v927[0] = 1.0;
                    v927[1] = 1.0;
                    v927[2] = 1.0;
                    v558 = (float *)sub_141D60060(v1170, v927, v550 + 0x20LL * v823, v550 + 0x20LL * v823 + 0x10);
                    v559 = *(double *)(a2 + 0x20);
                    v560 = *(double *)(a2 + 0x18);
                    v561 = *(double *)(a2 + 0x28);
                    v562 = *(double *)(a2 + 0x40);
                    v563 = *(double *)(a2 + 0x38);
                    v564 = *(double *)(a2 + 0x48);
                    v840 = v558[7];
                    v848 = v558[3];
                    v864 = v558[4];
                    v891 = *v558;
                    v878 = v558[8];
                    v887 = v558[5];
                    v885 = v558[9];
                    v881 = v558[6];
                    v889 = v558[2];
                    v883 = v558[0xA];
                    *((_QWORD *)&v566 + 1) = 0;
                    *(double *)&v566 = v558[1];
                    v565 = v566;
                    v861 = v558[0xB];
                    *((_QWORD *)&v566 + 1) = 0;
                    *(double *)&v566 = v560 * v891 + v559 * v864 + v561 * v878;
                    _XMM2 = v566;
                    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
                    v808 = *(float *)&_XMM0;
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v565 + 1);
                    *(double *)&v566 = *(double *)&v565 * v560 + v887 * v559;
                    v569 = v566;
                    *((_QWORD *)&v566 + 1) = 0;
                    *(double *)&v566 = v560 * v889;
                    v570 = v566;
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v569 + 1);
                    *(double *)&v566 = *(double *)&v569 + v885 * v561;
                    _XMM2 = v566;
                    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
                    v870 = *(float *)&_XMM0;
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v570 + 1);
                    *(double *)&v566 = *(double *)&v570 + v559 * v881;
                    v573 = v566;
                    *((_QWORD *)&v566 + 1) = 0;
                    *(double *)&v566 = v560 * v848 + v559 * v840;
                    v574 = v566;
                    *((_QWORD *)&v566 + 1) = 0;
                    *(double *)&v566 = v563 * v891;
                    v575 = v566;
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v573 + 1);
                    *(double *)&v566 = *(double *)&v573 + v561 * v883;
                    _XMM2 = v566;
                    __asm { vcvtsd2ss xmm14, xmm2, xmm2 }
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v574 + 1);
                    *(double *)&v566 = *(double *)&v574 + v561 * v861 + *(double *)(a2 + 0x30);
                    _XMM0 = v566;
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v575 + 1);
                    *(double *)&v566 = *(double *)&v575 + v562 * v864;
                    v579 = v566;
                    *((_QWORD *)&v566 + 1) = 0;
                    *(double *)&v566 = v563 * v889;
                    v580 = v566;
                    __asm { vcvtsd2ss xmm12, xmm0, xmm0 }
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v579 + 1);
                    *(double *)&v566 = *(double *)&v579 + v564 * v878;
                    _XMM2 = v566;
                    __asm { vcvtsd2ss xmm11, xmm2, xmm2 }
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v565 + 1);
                    *(double *)&v566 = *(double *)&v565 * v563 + v887 * v562 + v885 * v564;
                    _XMM2 = v566;
                    __asm { vcvtsd2ss xmm10, xmm2, xmm2 }
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v580 + 1);
                    *(double *)&v566 = *(double *)&v580 + v562 * v881;
                    v586 = v566;
                    *((_QWORD *)&v566 + 1) = 0;
                    *(double *)&v566 = v563 * v848;
                    v587 = v566;
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v586 + 1);
                    *(double *)&v566 = *(double *)&v586 + v564 * v883;
                    _XMM2 = v566;
                    *(double *)&_XMM1 = v564 * v861;
                    v589 = *(double *)(a2 + 0x60);
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v587 + 1);
                    __asm { vcvtsd2ss xmm9, xmm2, xmm2 }
                    *(double *)&v566 = *(double *)&v587 + v562 * v840 + *(double *)&_XMM1 + *(double *)(a2 + 0x50);
                    _XMM0 = v566;
                    *(_QWORD *)&v574 = *(_QWORD *)(a2 + 0x58);
                    __asm { vcvtsd2ss xmm8, xmm0, xmm0 }
                    _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v574 * v891 + v589 * v864 + *(double *)(a2 + 0x68) * v878);
                    __asm { vcvtsd2ss xmm7, xmm2, xmm2 }
                    *((_QWORD *)&v566 + 1) = *((_QWORD *)&v565 + 1);
                    *(double *)&v566 = *(double *)&v565 * *(double *)&v574;
                    *(_QWORD *)&v565 = *(_QWORD *)(a2 + 0x68);
                    *(double *)&v566 = *(double *)&v566 + v589 * v887 + *(double *)&v565 * v885;
                    _XMM2 = v566;
                    __asm { vcvtsd2ss xmm6, xmm2, xmm2 }
                    _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v574 * v889 + v589 * v881 + *(double *)&v565 * v883);
                    __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
                    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)&v574 * v848 + v589 * v840 + *(double *)&v565 * v861
                                                                                        + *(double *)(a2 + 0x70));
                    v932[0] = v808;
                    v932[1] = v870;
                    v932[2] = *(float *)&_XMM14;
                    v932[3] = *(float *)&_XMM12;
                    v932[4] = *(float *)&_XMM11;
                    v932[5] = *(float *)&_XMM10;
                    v932[6] = *(float *)&_XMM9;
                    v932[7] = *(float *)&_XMM8;
                    v932[8] = *(float *)&_XMM7;
                    v932[9] = *(float *)&_XMM6;
                    v932[0xA] = *(float *)&_XMM5;
                    __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
                    v932[0xB] = *(float *)&_XMM3;
                    v601 = *(_QWORD *)(a1 + 0x2A0);
                    v1148 = *(_QWORD *)(v540 + *(_QWORD *)(v601 + 0x70));
                    v602 = *(_QWORD *)(a1 + 0x270);
                    v1147 = *(int *)(v602 + v830 + 0x10) >> 0x12;
                    v1159 = *(_QWORD *)(v602 + v830 + 8);
                    v1149 = *(unsigned __int8 *)(v602 + v830 + 0x10);
                    v603 = *(_QWORD *)(a1 + 0x268);
                    v1150 = *(_QWORD *)(v603 + v852);
                    v1151 = *(_DWORD *)(v603 + v852 + 8);
                    v604 = *(_QWORD *)(a1 + 0x258);
                    v1156 = *(_DWORD *)(v830 + v604 + 0x10);
                    v1146 = *(_DWORD *)(v830 + v604 + 0xC);
                    v605 = *(_QWORD *)(v601 + 0x70);
                    v606 = *(_QWORD *)(v601 + 0x80);
                    v1152 = *(_DWORD *)(v540 + v605 + 0x20) & 0x3FF;
                    v1153 = (unsigned __int8)HIBYTE(*(_WORD *)(v540 + v605 + 0x20)) >> 2;
                    v1154 = *(__int16 *)(v540 + v605 + 0x22);
                    v1157 = *(_QWORD *)(v852 + v606);
                    v1158 = *(_DWORD *)(v852 + v606 + 8);
                    v1155 = *(_OWORD *)(v540 + v605 + 0x28);
                    n10102016_1 = (*(__int64 (__fastcall **)(__int64, _QWORD, char *, _QWORD, int))(*(_QWORD *)v836
                                                                                                  + 0x38LL))(
                                    v836,
                                    *(_QWORD *)(*(_QWORD *)(a1 + 0x238) + 8 * v539),
                                    v1141,
                                    (unsigned int)(v536 + *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4 * v539)),
                                    1);
                    *(_DWORD *)(v901 + 4 * v539) = n10102016_1;
                    if ( n10102016_1 > (int)0xFFFFFFFF
                      && *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x70LL) + v540 + 8) )
                    {
                      v608 = v836 + 0x228;
                      value_by_id_7 = *(_DWORD *)(v836 + 0x290) - 1;
                      if ( *(_DWORD *)(*(_QWORD *)(v836 + 0x250) + 4LL * value_by_id_7) != n10102016_1 )
                      {
                        value_by_id_6 = map_get_value_by_id(*(_QWORD *)(v836 + 0x2A0), n10102016_1, 0);
                        v608 = v836 + 0x228;
                        value_by_id_7 = value_by_id_6;
                      }
                      v611 = 0;
                      v612 = *(char **)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x70LL) + v540 + 8);
                      v1198 = 0;
                      v1199 = 0;
                      v1200 = 0;
                      v1201 = 0;
                      v1202 = 0;
                      v1203 = 0;
                      v1204 = 0;
                      v1205 = 0;
                      v1206 = 0;
                      v1207 = 0;
                      v1208 = 0;
                      v1209 = 0;
                      v1210 = 0;
                      v1211 = 0;
                      v1212 = 0;
                      v1213 = 0;
                      v1214 = 0;
                      v1198 = *(_DWORD *)v612;
                      if ( v1198 )
                      {
                        v613 = v612 - (char *)&v1199;
                        v614 = &v1199;
                        do
                        {
                          *(_OWORD *)v614 = *(_OWORD *)((char *)v614 + v613 + 8);
                          ++v611;
                          v614 += 2;
                        }
                        while ( v611 < v1198 );
                      }
                      sub_146624530(v608, (unsigned int)value_by_id_7, &v1198);
                    }
                    v541 = v830;
                    v542 = v852;
                  }
                }
                else
                {
                  v549 = *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4 * v539);
                  if ( v549 >= *(_DWORD *)(a2 + 4) || v549 <= *(_DWORD *)(a2 + 8) )
                    goto LABEL_293;
                }
              }
LABEL_302:
              ++v823;
              v542 += 0x10;
              v856 += 0x20;
              v541 += 0x18;
              ++v539;
              v540 += 0x40;
              v852 = v542;
              v830 = v541;
            }
            while ( v539 < v816 );
          }
          v615 = *(_QWORD *)(a1 + 0x2E8);
          if ( v615 && *(int *)(v615 + 0x40) > 0 )
          {
            v616 = 0;
            do
            {
              value_by_id_8 = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(v616 + *(_QWORD *)v615 + 0xC), 0);
              *(_DWORD *)(**(_QWORD **)(a1 + 0x2E8) + v616 + 4) = value_by_id_8;
              if ( value_by_id_8 >= *(_DWORD *)(a1 + 0x290) )
                v618 = 0xFFFFFFFF;
              else
                v618 = *(_DWORD *)(**(_QWORD **)(a1 + 0x2E8) + v616 + 4);
              *(_DWORD *)(**(_QWORD **)(a1 + 0x2E8) + v616 + 4) = v618;
              value_by_id_9 = map_get_value_by_id(
                                *(_QWORD *)(a1 + 0x2A0),
                                *(_DWORD *)(**(_QWORD **)(a1 + 0x2E8) + v616 + 0x10),
                                0);
              *(_DWORD *)(**(_QWORD **)(a1 + 0x2E8) + v616 + 8) = value_by_id_9;
              if ( value_by_id_9 >= *(_DWORD *)(a1 + 0x290) )
                v620 = 0xFFFFFFFF;
              else
                v620 = *(_DWORD *)(**(_QWORD **)(a1 + 0x2E8) + v616 + 8);
              *(_DWORD *)(**(_QWORD **)(a1 + 0x2E8) + v616 + 8) = v620;
              v621 = *(__int64 **)(a1 + 0x2E8);
              v1176 = *(_DWORD *)(v616 + *v621);
              v622 = *(int *)(v616 + *v621 + 4);
              if ( (int)v622 < 0 )
                v623 = 0xFFFFFFFF;
              else
                v623 = *(_DWORD *)(v901 + 4 * v622);
              v1177 = v623;
              v624 = *(int *)(v616 + *v621 + 8);
              if ( (int)v624 < 0 )
                v625 = 0xFFFFFFFF;
              else
                v625 = *(_DWORD *)(v901 + 4 * v624);
              v1178 = v625;
              v626 = *(double *)(a2 + 0x40);
              v627 = *(double *)(a2 + 0x38);
              v628 = *(double *)(a2 + 0x48);
              v629 = *(double *)(a2 + 0x50);
              v630 = *(double *)(a2 + 0x60);
              v631 = *(double *)(a2 + 0x58);
              v632 = *(double *)(a2 + 0x68);
              v633 = *(double *)(a2 + 0x70);
              v634 = COERCE_UNSIGNED_INT64(*(float *)(v616 + *v621 + 0x18));
              v635 = COERCE_UNSIGNED_INT64(*(float *)(v616 + *v621 + 0x14));
              v636 = *(float *)(v616 + *v621 + 0x1C);
              _XMM0 = COERCE_UNSIGNED_INT64(
                        *(float *)(v616 + *v621 + 0x14) * *(double *)(a2 + 0x18)
                      + *(float *)(v616 + *v621 + 0x18) * *(double *)(a2 + 0x20)
                      + v636 * *(double *)(a2 + 0x28)
                      + *(double *)(a2 + 0x30));
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              v1179 = *(float *)&_XMM3;
              *((_QWORD *)&v639 + 1) = *((_QWORD *)&v634 + 1);
              *(double *)&v639 = *(double *)&v634 * v626 + *(double *)&v635 * v627 + v636 * v628 + v629;
              _XMM0 = v639;
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              v1180 = *(float *)&_XMM3;
              *((_QWORD *)&v639 + 1) = *((_QWORD *)&v635 + 1);
              *(double *)&v639 = *(double *)&v635 * v631 + *(double *)&v634 * v630 + v636 * v632 + v633;
              _XMM0 = v639;
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              v1181 = *(float *)&_XMM3;
              v644 = *v621;
              v1182 = *(_QWORD *)(v616 + *v621 + 0x20);
              v1183 = *(_DWORD *)(v616 + v644 + 0x28);
              v645 = *v621;
              v1184 = *(_QWORD *)(v616 + *v621 + 0x2C);
              v1185 = *(_DWORD *)(v616 + v645 + 0x34);
              v1186 = *(_DWORD *)(v616 + *v621 + 0x38);
              v1187 = *(_DWORD *)(v616 + *v621 + 0x3C);
              v1188 = *(_DWORD *)(v616 + *v621 + 0x40);
              v1189 = *(_DWORD *)(v616 + *v621 + 0x44);
              v1190 = *(_DWORD *)(v616 + *v621 + 0x48);
              v646 = *v621;
              v1191 = *(_QWORD *)(v616 + *v621 + 0x54);
              v1192 = *(_DWORD *)(v616 + v646 + 0x5C);
              v1196 = *(_DWORD *)(v616 + *v621 + 0x60);
              v1193 = *(_DWORD *)(v616 + *v621 + 0x64) & 1;
              v1194 = (*(_DWORD *)(v616 + *v621 + 0x64) ^ 2) >> 1;
              v1195 = *(int *)(v616 + *v621 + 0x64) >> 2;
              v1197 = *(_DWORD *)(v616 + *v621 + 0x6C);
              (*(void (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)v836 + 0x18LL))(v836, v1175, 1);
              v615 = *(_QWORD *)(a1 + 0x2E8);
              LODWORD(v13) = v13 + 1;
              v616 += 0x90;
            }
            while ( (int)v13 < *(_DWORD *)(v615 + 0x40) );
            v13 = 0;
          }
          if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
          {
            *(_WORD *)(a1 + 0x106) |= 0x200u;
            CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
          }
          else
          {
            n0x2A = 0x2A;
            (*(void (__fastcall **)(__int64, int *, __int64))(*(_QWORD *)v836 + 0x18LL))(v836, &n0x2A, 1);
          }
          if ( (_QWORD)v901 )
          {
            sub_1403A4F10(&v901, v901, 4 * ((__int64)(v902 - v901) >> 2));
            v901 = 0;
            v902 = 0;
          }
        }
        if ( *(_QWORD *)(a2 + 0x88) )
        {
          if ( *(_QWORD *)(a2 + 0x90) && *(int *)(a2 + 0x98) > 0 )
          {
            v647 = 0;
            v648 = 0;
            v809 = 0;
            v649 = 0;
            do
            {
              v650 = *(_QWORD *)(a2 + 0x88);
              if ( v650 == 0xFFFFFFFFFFFFFFFFuLL || (v650 & *(_QWORD *)(v647 + *(_QWORD *)(a1 + 0x240))) != 0 )
              {
                v651 = *(unsigned int *)(v649 + *(_QWORD *)(a2 + 0x90));
                if ( (int)v651 > (int)0xFFFFFFFF )
                {
                  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x40LL))(a1, v651, 1);
                  v647 = v809;
                }
              }
              v647 += 8;
              ++v648;
              v649 += 4;
              v809 = v647;
            }
            while ( v648 < *(_DWORD *)(a2 + 0x98) );
          }
          else
          {
            for ( j = v816 - 1; j >= 0; --j )
            {
              v653 = *(unsigned int *)(*(_QWORD *)(a1 + 0x250) + 4 * j);
              if ( (int)v653 >= *(_DWORD *)(a2 + 4) && (int)v653 <= *(_DWORD *)(a2 + 8) )
              {
                v654 = *(_QWORD *)(a2 + 0x88);
                if ( v654 == 0xFFFFFFFFFFFFFFFFuLL || (v654 & *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8 * j)) != 0 )
                  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x40LL))(a1, v653, 1);
              }
            }
          }
        }
        v18 = *(_DWORD *)(a2 + 0xC);
        v655 = _InterlockedDecrement64(v843);
        if ( (v655 & 0x3FF) == 0 && (v655 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(v843, v655);
        v1042 = __rdtsc();
        qword_149A05E08(&n0x2800_6);
        goto LABEL_489;
      case 0x14:
        n0x2800_7 = 0x2800;
        v1032 = 0;
        v1033 = 0;
        v1035 = 0;
        v1036 = 0;
        v1037 = 0;
        v1034 = 1;
        qword_149A05E00(&n0x2800_7, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v1125[0] = 0;
        v1125[3] = 0xFFF7FFFF;
        v1126 = v1126 & 0xF0 | 8;
        v1125[0xC] = 0xFFBFFFFF;
        v1125[0xB] = 0xFFBFFFFF;
        v1125[0xD] = 0x80000000;
        v1127 = *(_QWORD *)(a2 + 8);
        v1125[0xE] = 0x200;
        v18 = (*(__int64 (__fastcall **)(__int64, _DWORD *, __int64))(*(_QWORD *)a1 + 0x18LL))(a1, v1125, 1);
        v1035 = __rdtsc();
        qword_149A05E08(&n0x2800_7);
        goto LABEL_489;
      case 0x13:
        CPhysicalEntity::DeleteLocalGrid(a1, a3, 0xFFFFFFFFFFFFLL);
        v18 = 1;
        goto LABEL_489;
      case 0x16:
        n0x2800_8 = 0x2800;
        v1025 = 0;
        v1026 = 0;
        v1028 = 0;
        v1029 = 0;
        v1030 = 0;
        v1027 = 1;
        qword_149A05E00(&n0x2800_8, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        value_by_id_10 = *(_DWORD *)(a2 + 8);
        v879 = *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x13CLL) * 10.0;
        if ( value_by_id_10 == 0x80000000 )
        {
          if ( *(_DWORD *)(a2 + 4) == value_by_id_10 )
          {
            v657 = *(double *)(a1 + 0x38);
            v658 = *(double *)(a1 + 0x30);
            v659 = v657 + *(double *)(a1 + 0x20);
            _XMM8 = COERCE_UNSIGNED_INT64(v657 - *(double *)(a1 + 0x20));
            _XMM3 = COERCE_UNSIGNED_INT64(v658 - *(double *)(a1 + 0x18));
            v662 = *(double *)(a1 + 0x28);
            v663 = (v662 + *(double *)(a1 + 0x10)) * 0.5;
            _XMM0 = COERCE_UNSIGNED_INT64(v662 - *(double *)(a1 + 0x10));
            v665 = (v658 + *(double *)(a1 + 0x18)) * 0.5;
            v666 = v659 * 0.5;
            __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
            v668 = *(float *)&_XMM1 * 0.5;
            __asm
            {
              vcvtsd2ss xmm1, xmm8, xmm8
              vcvtsd2ss xmm0, xmm3, xmm3
            }
            v671 = *(float *)&_XMM1 * 0.5;
            v672 = *(float *)&_XMM0 * 0.5;
            goto LABEL_363;
          }
          v810 = (volatile signed __int64 *)(a1 + 0xC8);
          v673 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v673 & 0x200000) != 0 )
          {
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0xC8),
              v673,
              (__int64)"CPhysicalEntity::Action",
              (__int64)"m_lockUpdate",
              1);
            v810 = (volatile signed __int64 *)(a1 + 0xC8);
          }
          value_by_id_10 = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(a2 + 4), 0);
          value_by_id_11 = value_by_id_10;
          v674 = _InterlockedDecrement64(v810);
          if ( (v674 & 0x3FF) == 0 )
          {
            if ( (v674 & 0xFFFF0000FFC00000uLL) != 0 )
              sub_1403CD3A0(v810, v674);
            value_by_id_10 = value_by_id_11;
          }
        }
        if ( value_by_id_10 >= *(_DWORD *)(a1 + 0x290) )
        {
          v18 = 0;
LABEL_368:
          v1028 = __rdtsc();
          qword_149A05E08(&n0x2800_8);
          goto LABEL_489;
        }
        v675 = *(float *)(a1 + 0x1D8);
        v676 = *(float *)(a1 + 0x1E4);
        LODWORD(v677) = *(_DWORD *)(a1 + 0x1E0) ^ 0x80000000;
        LODWORD(v678) = *(_DWORD *)(a1 + 0x1DC) ^ 0x80000000;
        v679 = v678 + v678;
        v680 = v678 * (float)(v678 + v678);
        v681 = (float)(v677 + v677) * v678;
        v682 = -(float)(v675 + v675);
        v683 = 1.0 - (float)-(float)(v682 * v675);
        v684 = -(float)(v675 * v679);
        v685 = (float)(v677 + v677) * v677;
        v686 = (float)(v677 + v677) * v676;
        v820 = (float)(1.0 - v680) - v685;
        v817 = v684 - v686;
        v687 = v679 * v676;
        v832 = v687 - (float)((float)(v677 + v677) * v675);
        v857 = v686 + v684;
        v865 = (float)-(float)((float)(v677 + v677) * v675) - v687;
        v844 = v681 + (float)(v682 * v676);
        v688 = (float *)(*(_QWORD *)(a1 + 0x260) + ((__int64)(int)value_by_id_10 << 6));
        v824 = v683 - v685;
        v871 = v681 - (float)(v682 * v676);
        v811 = v683 - v680;
        v689 = v688[1];
        v690 = v688[2];
        v691 = v688[3];
        v692 = v688[4];
        v693 = v688[5];
        v694 = v688[7];
        v695 = v688[6];
        v696 = v688[8];
        v853 = (float)((float)(*v688 * v820) + (float)(v689 * (float)(v686 + v684))) + (float)(v865 * v690);
        v849 = (float)((float)((float)(v683 - v685) * v689) + (float)(*v688 * (float)(v684 - v686)))
             + (float)(v690 * v844);
        v697 = (float)((float)(v691 * v820) + (float)(v692 * (float)(v686 + v684))) + (float)(v693 * v865);
        v862 = (float)((float)(v871 * v689) + (float)(*v688 * v832)) + (float)(v690 * v811);
        v698 = (float)((float)(v691 * (float)(v684 - v686)) + (float)(v692 * (float)(v683 - v685)))
             + (float)(v693 * v844);
        v699 = v811 * v693;
        v700 = v688[0xE];
        v701 = v691 * v832;
        v702 = v688[0xC];
        v703 = v871 * v692;
        v704 = v688[0xB];
        v837 = v698;
        v705 = (float)(v701 + v703) + v699;
        v706 = (float)((float)(v695 * v820) + (float)(v694 * v857)) + (float)(v696 * v865);
        v707 = (float)((float)(v694 * (float)(v683 - v685)) + (float)(v695 * v817)) + (float)(v696 * v844);
        v708 = v696 * v811;
        v709 = v688[0xF];
        v710 = *(float *)(a1 + 0x200);
        v711 = v695 * v832;
        v712 = v688[0xD];
        v713 = v688[0xA];
        v668 = (float)((float)((float)(COERCE_FLOAT(LODWORD(v697) & 0x7FFFFFFF) * v700)
                             + (float)(COERCE_FLOAT(LODWORD(v853) & 0x7FFFFFFF) * v712))
                     + (float)(COERCE_FLOAT(LODWORD(v706) & 0x7FFFFFFF) * v709))
             * v710;
        v672 = (float)((float)((float)(COERCE_FLOAT(LODWORD(v837) & 0x7FFFFFFF) * v700)
                             + (float)(COERCE_FLOAT(LODWORD(v849) & 0x7FFFFFFF) * v712))
                     + (float)(COERCE_FLOAT(LODWORD(v707) & 0x7FFFFFFF) * v709))
             * v710;
        v714 = (float)(COERCE_FLOAT(LODWORD(v705) & 0x7FFFFFFF) * v700)
             + (float)(COERCE_FLOAT(LODWORD(v862) & 0x7FFFFFFF) * v712);
        v665 = (float)((float)((float)((float)(v704 * v824) + (float)(v713 * v817)) + (float)(v702 * v844)) * v710)
             + *(double *)(a1 + 0x1C8);
        v715 = fabs((float)((float)(v694 * v871) + v711) + v708) * v709;
        v666 = (float)((float)((float)((float)(v704 * v871) + (float)(v713 * v832)) + (float)(v702 * v811)) * v710)
             + *(double *)(a1 + 0x1D0);
        v671 = (float)(v714 + v715) * v710;
        v663 = (float)((float)((float)((float)(v704 * v857) + (float)(v713 * v820)) + (float)(v702 * v865)) * v710)
             + *(double *)(a1 + 0x1C0);
LABEL_363:
        v1122[0] = v663 - v668 - v879;
        v1122[2] = v666 - v671 - v879;
        v1122[1] = v665 - v672 - v879;
        v1085[0] = v663 + v668 + v879;
        v1085[1] = v879 + v665 + v672;
        v1085[2] = v879 + v666 + v671;
        v716 = *(_DWORD *)(a1 + 0x208);
        if ( (v716 & 0x20) == 0 && (v716 & 0x400) != 0 )
        {
          v717 = CPhysicalWorld::GetEntitiesAround(
                   *(_QWORD *)(a1 + 0x2C0),
                   v1122,
                   v1085,
                   (__int64)&v935,
                   0x1A,
                   a1,
                   *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL),
                   *(_QWORD *)(a1 + 0xB8),
                   0)
               - 1;
          for ( k = v717; k >= 0; --k )
            (*(void (__fastcall **)(_QWORD, __int64, _QWORD))(**(_QWORD **)(v935 + 8 * k) + 0x268LL))(
              *(_QWORD *)(v935 + 8 * k),
              1,
              0);
        }
        v18 = 1;
        goto LABEL_368;
      case 0x19:
        if ( *(_DWORD *)(a1 + 0xF4) >= 7u || *(int *)(a1 + 0xE8) < 0 )
        {
          if ( !*(_DWORD *)(a2 + 0x14) )
          {
LABEL_487:
            v18 = 1;
            goto LABEL_489;
          }
          v719 = 0;
        }
        else
        {
          v719 = a1;
        }
        CPhysicalWorld::Signal(*(_QWORD *)(a1 + 0x2C0), v719, *(_QWORD *)(a2 + 8), *(unsigned int *)(a2 + 0x10));
        v18 = 1;
        goto LABEL_489;
      case 0x1B:
        v720 = 0;
        v18 = 1;
        if ( HIWORD(*(_QWORD *)(a2 + 8)) == *(_WORD *)((*(_QWORD *)(a2 + 8) & 0xFFFFFFFFFFFFLL) + 0x40) )
          v720 = *(_QWORD *)(a2 + 8) & 0xFFFFFFFFFFFFLL;
        *(_DWORD *)(v720 + 0x10) = 1;
        *(_QWORD *)(v720 + 0x38) = 0;
        goto LABEL_489;
      case 0x1A:
        v721 = 0;
        v722 = *(_QWORD *)(a2 + 8);
        v723 = HIWORD(v722);
        v724 = v722 & 0xFFFFFFFFFFFFLL;
        if ( (_WORD)v723 == *(_WORD *)(v724 + 0x40) )
          v721 = v724;
        if ( *(_DWORD *)(v721 + 0x10) )
        {
          v725 = *(_DWORD *)(a2 + 0x10);
          if ( v725 )
            _InterlockedExchangeAdd((volatile signed __int32 *)(v721 + 0x18), -v725);
        }
        v18 = 1;
        if ( !*(_DWORD *)(v721 + 0x10) )
          v18 = 0xFFFFFFFF;
        goto LABEL_489;
      case 0x1F:
        v726 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
        v872 = a1 + 0xC8;
        v727 = a1 + 0xC8;
        v812 = (volatile signed __int64 *)(a1 + 0xC8);
        if ( v726 )
        {
          sub_1403DE750(v727, v726, 0, (__int64)"CPhysicalEntity::Action", (__int64)"m_lockUpdate", 1);
          v727 = a1 + 0xC8;
          v872 = a1 + 0xC8;
          v812 = (volatile signed __int64 *)(a1 + 0xC8);
        }
        v728 = *(unsigned int *)(a2 + 4);
        if ( (int)v728 < 1 )
        {
          v730 = v727;
          v18 = 0;
          v729 = (volatile signed __int64 *)(a1 + 0xC8);
        }
        else
        {
          sub_146620900(a1 + 0x228, v728, 0);
          v729 = v812;
          v18 = 1;
          v730 = v872;
        }
        if ( v730 )
        {
          n0x200000_3 = _InterlockedCompareExchange64(v729, 0, 0x200000);
          if ( n0x200000_3 != 0x200000 )
            sub_1403DEBA0(v729, n0x200000_3);
        }
        goto LABEL_489;
      case 0x1D:
        v732 = (volatile signed __int64 *)(a1 + 0xC8);
        v813 = (volatile signed __int64 *)(a1 + 0xC8);
        v733 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
        if ( v733 )
          sub_1403DE750(a1 + 0xC8, v733, 0, (__int64)"CPhysicalEntity::Action", (__int64)"m_lockUpdate", 1);
        if ( sub_1465F2900(*(_QWORD *)(a1 + 0x2A0)) )
        {
          v734 = *(_DWORD *)(a2 + 0x20);
          v735 = sub_1403B29B0((unsigned __int64 *)(a2 + 0x18), &v1139);
          LogTraceConditional(
            "Physics [%s:0x%p] Warning: trying to add breakable cluster with a unique id that already exists, skipping. %s:%llX-%X",
            *(const char **)(a1 + 0xD0),
            (const void *)a1,
            *(const char **)(a2 + 0x58),
            *v735,
            v734);
          goto LABEL_402;
        }
        v736 = sub_1465DD9A0(a1 + 0x228, a2);
        v737 = *(_QWORD *)(a2 + 8);
        v738 = v736;
        v1080 = 0.0;
        v1081 = 0.0;
        v1082 = 0.0;
        v1065 = 0;
        n2_3 = 0xFFFFFFFF;
        n0x1E = 0x1E;
        v1071 = 0;
        v1075 = 0;
        v1076 = 0;
        v1077 = 0;
        v1079 = 0;
        n0x18 = 0x18;
        v1068 = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
        n2_1 = 0xFFFFFFFF;
        if ( (*(_BYTE *)(a1 + 0xEC) & 2) != 0 )
          n2_1 = 2;
        n2_2 = n2_1;
        v1069 = *(_QWORD *)(a1 + 0xC0);
        if ( v737 )
          v741 = v737 | (*(_QWORD *)(v737 + 8) << 0x30);
        else
          v741 = 0;
        v1072 = v741;
        if ( (*(_BYTE *)(v737 + 0xEC) & 2) != 0 )
          n2_3 = 2;
        n2_4 = n2_3;
        v1073 = *(_QWORD *)(v737 + 0xC0);
        v1078 = 1;
        sub_146740E80(v738, &v1065);
        sub_14670BFE0(*(_QWORD *)(a1 + 0x2C0), 2, &v1065, 0);
        break;
      case 0x1E:
        v732 = (volatile signed __int64 *)(a1 + 0xC8);
        v813 = (volatile signed __int64 *)(a1 + 0xC8);
        v743 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
        if ( v743 )
          sub_1403DE750(a1 + 0xC8, v743, 0, (__int64)"CPhysicalEntity::Action", (__int64)"m_lockUpdate", 1);
        if ( *(_QWORD *)(a2 + 8) || *(_DWORD *)(a2 + 0x10) )
        {
          v761 = *(_QWORD *)(a1 + 0x2A0);
          if ( !*(_DWORD *)(a2 + 0x1C) )
          {
            if ( !*(_DWORD *)(a2 + 0x20) )
            {
              v774 = (double *)sub_1465F2900(v761);
              if ( v774 )
              {
                v775 = *(unsigned __int64 *)(a2 + 0x28);
                v936 = *(_QWORD *)(a2 + 0x28);
                if ( (HIDWORD(v936) & 0xFFF40000) != 0xFFF40000 )
                {
                  *((_QWORD *)&v777 + 1) = *((_QWORD *)&v775 + 1);
                  *(double *)&v777 = *(double *)&v775 * 1000000.0;
                  _XMM1 = v777;
                  __asm { vmaxsd  xmm0, xmm1, xmm0 }
                  v774[0x14] = *(double *)&_XMM0;
                }
                v779 = *(float *)(a2 + 0x30);
                if ( (LODWORD(v779) & 0xFFA00000) != 0xFFA00000 )
                {
                  v911 = 0.0;
                  v780 = &v911;
                  if ( v779 >= 0.0 )
                    v780 = (float *)(a2 + 0x30);
                  v774[0x15] = *v780;
                }
                v781 = *(float *)(a2 + 0x34);
                if ( (LODWORD(v781) & 0xFFA00000) != 0xFFA00000 )
                {
                  v912 = 0.0;
                  v782 = &v912;
                  if ( v781 >= 0.0 )
                    v782 = (float *)(a2 + 0x34);
                  v774[0x16] = *v782;
                }
                v783 = *(float *)(a2 + 0x38);
                if ( (LODWORD(v783) & 0xFFA00000) != 0xFFA00000 )
                {
                  v913 = 0.0;
                  v784 = &v913;
                  if ( v783 >= 0.0 )
                    v784 = (float *)(a2 + 0x38);
                  v774[0x17] = *v784;
                }
                v785 = *(float *)(a2 + 0x3C);
                if ( (LODWORD(v785) & 0xFFA00000) != 0xFFA00000 )
                {
                  v914 = 0.0;
                  v786 = &v914;
                  if ( v785 >= 0.0 )
                    v786 = (float *)(a2 + 0x3C);
                  v774[0x18] = *v786;
                }
              }
              if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
              {
                n0x200000_4 = _InterlockedCompareExchange64(v732, 0, 0x200000);
                if ( n0x200000_4 != 0x200000 )
                  sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_4);
              }
              goto LABEL_477;
            }
            v768 = sub_1465F2900(v761);
            v769 = v768;
            if ( v768 && (*(_DWORD *)(v768 + 0x94) & *(_DWORD *)(a2 + 0x20)) != 0 )
            {
              v770 = *(_QWORD *)(v768 + 0x50);
              n2_7 = 0xFFFFFFFF;
              v1119 = 0.0;
              v1120 = 0.0;
              v1121 = 0.0;
              v1104 = 0;
              n0x1E_1 = 0x1E;
              v1110 = 0;
              v1114 = 0;
              v1115 = 0;
              v1116 = 0;
              v1118 = 0;
              n0x18_1 = 0x18;
              v1107 = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
              n2_5 = 0xFFFFFFFF;
              if ( (*(_BYTE *)(a1 + 0xEC) & 2) != 0 )
                n2_5 = 2;
              n2_6 = n2_5;
              v1108 = *(_QWORD *)(a1 + 0xC0);
              if ( v770 )
                v773 = v770 | (*(_QWORD *)(v770 + 8) << 0x30);
              else
                v773 = 0;
              v1111 = v773;
              if ( (*(_BYTE *)(v770 + 0xEC) & 2) != 0 )
                n2_7 = 2;
              n2_8 = n2_7;
              v1112 = *(_QWORD *)(v770 + 0xC0);
              n3_1 = 3;
              sub_146740E80(v769, &v1104);
              sub_14670BFE0(*(_QWORD *)(a1 + 0x2C0), 2, &v1104, 0);
              v732 = (volatile signed __int64 *)(a1 + 0xC8);
            }
            v18 = 1;
LABEL_413:
            if ( v732 )
            {
              n0x200000_5 = _InterlockedCompareExchange64(v732, 0, 0x200000);
              if ( n0x200000_5 != 0x200000 )
                sub_1403DEBA0(v732, n0x200000_5);
            }
            goto LABEL_489;
          }
          v762 = sub_1465F2900(v761);
          v763 = v762;
          if ( !v762 )
          {
LABEL_402:
            v18 = 0;
            goto LABEL_413;
          }
          v764 = *(_QWORD *)(v762 + 0x50);
          n2_11 = 0xFFFFFFFF;
          v1101 = 0.0;
          v1102 = 0.0;
          v1103 = 0.0;
          v1086 = 0;
          n0x1E_2 = 0x1E;
          v1092 = 0;
          v1096 = 0;
          v1097 = 0;
          v1098 = 0;
          v1100 = 0;
          n0x18_2 = 0x18;
          v1089 = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
          n2_9 = 0xFFFFFFFF;
          if ( (*(_BYTE *)(a1 + 0xEC) & 2) != 0 )
            n2_9 = 2;
          n2_10 = n2_9;
          v1090 = *(_QWORD *)(a1 + 0xC0);
          if ( v764 )
            v767 = v764 | (*(_QWORD *)(v764 + 8) << 0x30);
          else
            v767 = 0;
          v1093 = v767;
          if ( (*(_BYTE *)(v764 + 0xEC) & 2) != 0 )
            n2_11 = 2;
          n2_12 = n2_11;
          v1094 = *(_QWORD *)(v764 + 0xC0);
          n4 = 4;
          sub_146740E80(v763, &v1086);
          sub_14670BFE0(*(_QWORD *)(a1 + 0x2C0), 2, &v1086, 0);
          sub_14661FD50(a1 + 0x228, a2 + 8);
        }
        else
        {
          if ( !*(_DWORD *)(a2 + 0x1C) )
          {
            v18 = 0;
            goto LABEL_412;
          }
          while ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0xB0LL) )
          {
            v744 = sub_1465E34E0(*(_QWORD *)(a1 + 0x2A0), 0, v17);
            v745 = *(_QWORD *)(v744 + 0x50);
            v962 = 0.0;
            v963 = 0.0;
            v964 = 0.0;
            v944 = 0;
            n0x1E_3 = 0x1E;
            v950 = 0;
            v951 = 0;
            v952 = 0;
            n2_16 = 0xFFFFFFFF;
            v954 = 0;
            *(_QWORD *)&v955 = 0;
            DWORD2(v955) = 0;
            v956 = 0;
            n0x18_3 = 0x18;
            v947 = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
            n2_13 = 0xFFFFFFFF;
            if ( (*(_BYTE *)(a1 + 0xEC) & 2) != 0 )
              n2_13 = 2;
            n2_14 = n2_13;
            v948 = *(_QWORD *)(a1 + 0xC0);
            if ( v745 )
              v747 = v745 | (*(_QWORD *)(v745 + 8) << 0x30);
            else
              v747 = 0;
            v951 = v747;
            n2_15 = 0xFFFFFFFF;
            if ( (*(_BYTE *)(v745 + 0xEC) & 2) != 0 )
              n2_15 = 2;
            n2_16 = n2_15;
            v952 = *(_QWORD *)(v745 + 0xC0);
            LODWORD(v956) = 4;
            v955 = *(_OWORD *)(v744 + 0x70);
            _XMM1 = *(unsigned __int64 *)(v744 + 0xA0);
            __asm { vcvtpd2ps xmm1, xmm1 }
            v957 = *(float *)&_XMM1;
            _XMM0 = *(unsigned __int64 *)(v744 + 0xA8);
            __asm { vcvtpd2ps xmm0, xmm0 }
            v958 = *(float *)&_XMM0;
            _XMM1 = *(unsigned __int64 *)(v744 + 0xB0);
            __asm { vcvtpd2ps xmm1, xmm1 }
            v959 = *(float *)&_XMM1;
            _XMM0 = *(unsigned __int64 *)(v744 + 0xB8);
            __asm { vcvtpd2ps xmm0, xmm0 }
            v960 = *(float *)&_XMM0;
            _XMM1 = *(unsigned __int64 *)(v744 + 0xC0);
            __asm { vcvtpd2ps xmm1, xmm1 }
            v961 = *(float *)&_XMM1;
            sub_14670BFE0(*(_QWORD *)(a1 + 0x2C0), 2, &v944, 0);
            v760 = sub_1465E34E0(*(_QWORD *)(a1 + 0x2A0), 0, v759);
            sub_14661FD50(a1 + 0x228, v760 + 0x70);
          }
        }
        break;
      default:
        goto LABEL_477;
    }
    v18 = 1;
LABEL_412:
    v732 = v813;
    goto LABEL_413;
  }
  if ( *(_DWORD *)(a1 + 0xF4) <= 6u )
  {
    n0x2800_9 = 0x2800;
    v1011 = 0;
    v1012 = 0;
    v1014 = 0;
    v1015 = 0;
    v1016 = 0;
    v1013 = 1;
    qword_149A05E00(&n0x2800_9, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    (*(void (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, *(unsigned int *)(a2 + 4), 1);
    v1014 = __rdtsc();
    qword_149A05E08(&n0x2800_9);
    v18 = 1;
    goto LABEL_489;
  }
LABEL_477:
  if ( *(_DWORD *)a2 == 3 )
  {
    v788 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v788 )
      sub_1403DE750(a1 + 0xC8, v788, 0, (__int64)"CPhysicalEntity::Action", (__int64)"m_lockUpdate", 1);
    v789 = 0;
    v790 = *(_DWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0xB0LL);
    if ( v790 > 0 )
    {
      do
      {
        v791 = sub_1465E34E0(*(_QWORD *)(a1 + 0x2A0), (unsigned int)v789++, v17);
        *(_QWORD *)(v791 + 0xC8) = 0;
      }
      while ( v789 < v790 );
    }
    if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
    {
      n0x200000_6 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
      if ( n0x200000_6 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_6);
    }
    sub_1403721C0(v1171);
    v1174 = 1.0;
    v1173 = 0;
    v793 = 0;
    v794 = *(_DWORD *)(a1 + 0x290);
    if ( v794 > 0 )
    {
      do
      {
        v1172 = v793;
        (*(void (__fastcall **)(__int64, char *, __int64))(*(_QWORD *)a1 + 0x18LL))(a1, v1171, 1);
        ++v793;
      }
      while ( v793 < v794 );
    }
    goto LABEL_487;
  }
  v18 = 0;
LABEL_489:
  if ( *(_DWORD *)v1135 == 0x1B )
  {
    v795 = *(_QWORD *)(v1135 + 8);
    v796 = HIWORD(v795);
    v797 = v795 & 0xFFFFFFFFFFFFLL;
    if ( (_WORD)v796 == *(_WORD *)(v797 + 0x40) )
      v13 = v797;
    if ( !*(_DWORD *)(v13 + 0x20) )
      _InterlockedIncrement((volatile signed __int32 *)(v13 + 0x20));
  }
LABEL_494:
  v1000 = __rdtsc();
  qword_149A05E08(&n0x2800);
  return v18;
}

// --- End Function: CPhysicalEntity::Action (0x1468AD590) ---

// --- Function: CPhysicalEntity::GetStatus (0x1468CD670) ---
__int64 __fastcall CPhysicalEntity::GetStatus(__int64 *a1, int *a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  int n0x30; // eax
  volatile signed __int64 *v16; // r13
  unsigned int v17; // r12d
  int v18; // r15d
  signed __int64 v19; // rdx
  int value_by_id; // ecx
  __int64 value_by_id_1; // r14
  int n10102016; // edx
  unsigned __int64 v25; // r14
  __int64 result; // rax
  int v27; // r8d
  int *v28; // r11
  double v30; // xmm12_8
  float v31; // xmm13_4
  float v32; // xmm14_4
  float v33; // xmm15_4
  float v34; // xmm7_4
  __int64 v35; // rdx
  __int64 value_by_id_2; // r9
  __int64 v37; // r8
  __int64 v38; // rcx
  __int64 v39; // rax
  double v40; // xmm4_8
  double v41; // xmm6_8
  double v42; // xmm7_8
  __int128 v43; // xmm2
  double v44; // xmm3_8
  double v45; // xmm8_8
  double v46; // xmm9_8
  double v47; // xmm10_8
  double v48; // xmm5_8
  double v49; // xmm0_8
  __int128 v50; // kr00_16
  int *v53; // r14
  __int64 v54; // rdx
  int v55; // r8d
  double v56; // r9
  __int64 v57; // r14
  float v58; // eax
  int *v59; // r13
  float v60; // xmm10_4
  float v61; // xmm9_4
  float v62; // xmm7_4
  float v63; // kr00_4
  float v65; // xmm13_4
  float v66; // xmm14_4
  float v67; // xmm12_4
  float v68; // xmm11_4
  float v69; // xmm15_4
  float v70; // xmm9_4
  float v71; // xmm7_4
  float v72; // xmm6_4
  float v73; // xmm4_4
  float v74; // xmm5_4
  float v75; // xmm4_4
  float v76; // xmm2_4
  float v77; // xmm6_4
  float v78; // xmm0_4
  float v79; // xmm7_4
  double v80; // xmm5_8
  double v81; // xmm4_8
  __int64 v82; // rax
  double v85; // xmm8_8
  double v86; // xmm9_8
  __int128 v87; // kr00_16
  __int64 v91; // rax
  float v92; // xmm0_4
  __int64 v93; // rcx
  __int64 v94; // rcx
  __int64 v95; // rcx
  __int64 *v96; // rcx
  __int64 v97; // rax
  __int64 v98; // rax
  _DWORD *v99; // rcx
  double v100; // xmm1_8
  double v101; // xmm0_8
  double v102; // rax
  volatile signed __int64 *v103; // r15
  signed __int64 v104; // rdx
  __int64 v105; // rcx
  __int64 *v106; // rcx
  __int64 v107; // rax
  __int64 v108; // rax
  _DWORD *v109; // rcx
  unsigned __int64 v110; // r14
  volatile signed __int64 *v111; // r15
  signed __int64 v112; // rdx
  int v113; // eax
  int v114; // r10d
  __int64 v115; // rdx
  _DWORD *v116; // rcx
  __int64 v117; // r13
  _QWORD *v118; // r14
  int v119; // eax
  unsigned __int64 v120; // r14
  volatile signed __int64 *v121; // r15
  signed __int64 v122; // r12
  int value_by_id_4; // r12d
  unsigned int v124; // r8d
  int value_by_composite_key; // eax
  int value_by_id_3; // esi
  int n10102016_1; // edx
  __int64 v128; // rcx
  unsigned __int64 v129; // r14
  volatile signed __int64 *v130; // r13
  signed __int64 v131; // r12
  __int64 v132; // r12
  __int64 *v133; // rdx
  unsigned __int64 _Newcapacity; // r15
  const void *v135; // r8
  signed __int64 _Newcapacity_1; // rsi
  unsigned __int64 allocSize; // rcx
  __int64 v138; // rax
  _QWORD *_Newvec; // r14
  __int64 v140; // rcx
  float *v141; // rdx
  float v142; // r8d
  unsigned __int64 v143; // r14
  volatile signed __int64 *v144; // rsi
  signed __int64 v145; // rdx
  unsigned __int64 v146; // r14
  int v147; // esi
  signed __int64 v148; // rdx
  __int64 v149; // rax
  float v150; // xmm9_4
  float v151; // xmm6_4
  float v152; // xmm15_4
  float v153; // xmm10_4
  float v154; // xmm8_4
  float v155; // xmm5_4
  float v156; // xmm13_4
  float v157; // xmm12_4
  int v158; // eax
  float v159; // xmm14_4
  float v160; // xmm11_4
  float v161; // xmm7_4
  float v162; // xmm3_4
  float v163; // xmm5_4
  float v164; // xmm9_4
  float v165; // xmm4_4
  float v166; // xmm12_4
  float v167; // xmm7_4
  float v168; // xmm13_4
  float v169; // xmm6_4
  float v170; // xmm8_4
  float v171; // xmm3_4
  float v172; // xmm10_4
  int v173; // eax
  float v174; // xmm0_4
  float v175; // xmm12_4
  float v176; // xmm11_4
  float v177; // xmm13_4
  float v178; // xmm4_4
  float v179; // xmm1_4
  float v180; // xmm2_4
  float v181; // xmm15_4
  float v182; // xmm8_4
  float v183; // xmm0_4
  float v184; // xmm10_4
  float v185; // xmm7_4
  float v186; // xmm6_4
  float v187; // xmm4_4
  float v188; // xmm5_4
  float v189; // xmm4_4
  float v190; // xmm6_4
  double v191; // xmm13_8
  double v192; // xmm12_8
  double v193; // xmm11_8
  double v194; // xmm4_8
  double v195; // xmm6_8
  double v196; // xmm10_8
  double v197; // xmm9_8
  __int128 v198; // xmm8
  __int128 v199; // xmm7
  __int128 v200; // xmm4
  unsigned __int64 v201; // kr00_8
  __int128 v202; // kr00_16
  __int128 v203; // xmm5
  __int128 v204; // xmm6
  __int128 v207; // xmm7
  __m128 n0x3F800000; // kr00_16
  __m128 v213; // xmm3
  int v214; // r15d
  float v215; // eax
  int v216; // ecx
  int v217; // edx
  __int64 v218; // r15
  __int64 v219; // rdx
  __int64 v220; // rcx
  __int64 v221; // r15
  float v222; // xmm1_4
  unsigned __int64 v223; // r14
  __int64 *v224; // r15
  double v226; // xmm12_8
  double v227; // xmm13_8
  double v228; // xmm14_8
  float v229; // xmm11_4
  float v230; // xmm15_4
  __int64 v231; // rax
  double v232; // xmm8_8
  double v233; // xmm6_8
  double v234; // xmm4_8
  __int128 v235; // xmm5
  __int128 v236; // kr00_16
  __int128 v237; // xmm4
  __int128 v238; // xmm3
  __int128 v239; // xmm6
  __int128 v240; // xmm7
  __int128 v241; // xmm8
  __int128 v243; // kr00_16
  float v249; // xmm4_4
  float v250; // xmm2_4
  float v251; // xmm6_4
  float v252; // xmm5_4
  float v253; // xmm4_4
  float v254; // xmm9_4
  float v255; // xmm10_4
  float v256; // xmm8_4
  float v257; // xmm7_4
  float v258; // xmm4_4
  float v259; // xmm0_4
  float v260; // xmm12_4
  __int64 **v261; // rax
  float v262; // xmm13_4
  float v263; // xmm9_4
  float v264; // xmm10_4
  float v265; // xmm11_4
  float v266; // kr00_4
  float v269; // xmm7_4
  float v270; // xmm6_4
  float v271; // xmm4_4
  signed __int64 v272; // rdx
  __int64 *v273; // r15
  __int64 v274; // r15
  __int64 v275; // rax
  float **v276; // rax
  float **v277; // r15
  float **v278; // r12
  float *v279; // r14
  unsigned int (__fastcall **v280)(_QWORD); // r10
  float v281; // xmm9_4
  float v282; // xmm5_4
  float v283; // xmm10_4
  float v284; // xmm11_4
  float *v285; // rcx
  float *v286; // rdx
  float *v287; // rax
  __int64 v288; // r8
  __int64 n0x12; // r9
  float v290; // xmm8_4
  float v291; // xmm7_4
  float v292; // xmm13_4
  float v293; // xmm15_4
  float v294; // xmm2_4
  float v295; // kr00_4
  float v296; // xmm0_4
  float v297; // xmm8_4
  float v298; // xmm6_4
  float v299; // xmm3_4
  float v300; // xmm1_4
  float v301; // xmm9_4
  float v302; // xmm12_4
  float v303; // xmm1_4
  float v304; // xmm7_4
  float v305; // xmm5_4
  float v306; // xmm4_4
  float v307; // kr00_4
  float v308; // xmm6_4
  float v309; // xmm7_4
  float v310; // xmm12_4
  double v311; // xmm0_8
  float v315; // xmm10_4
  float v316; // xmm9_4
  float v317; // xmm8_4
  float v318; // xmm6_4
  float v319; // xmm4_4
  float v320; // xmm4_4
  float v321; // xmm2_4
  float v322; // xmm5_4
  bool v323; // cc
  __int128 n0x3F800000_1; // xmm4
  __int64 v325; // rax
  float v326; // xmm1_4
  float v331; // xmm2_4
  float v334; // xmm3_4
  __int64 v335; // rax
  float v336; // xmm1_4
  float v341; // xmm2_4
  __int64 v344; // rdx
  int *v345; // rsi
  __int64 v346; // rax
  int v353; // esi
  __int64 v354; // rcx
  __int64 v355; // rbx
  unsigned int epi32; // r8d
  double v357; // xmm1_8
  __int128 v358; // xmm0
  double v359; // xmm1_8
  _QWORD *v360; // rax
  __int64 v361; // rax
  float v362; // [rsp+38h] [rbp-D0h]
  float v363; // [rsp+38h] [rbp-D0h]
  float v364; // [rsp+3Ch] [rbp-CCh]
  float v365; // [rsp+3Ch] [rbp-CCh]
  float v366; // [rsp+40h] [rbp-C8h]
  float v367; // [rsp+44h] [rbp-C4h] BYREF
  double v368; // [rsp+48h] [rbp-C0h]
  float v369; // [rsp+50h] [rbp-B8h]
  float v370; // [rsp+54h] [rbp-B4h]
  float v371; // [rsp+58h] [rbp-B0h]
  float v372; // [rsp+5Ch] [rbp-ACh]
  float v373; // [rsp+60h] [rbp-A8h]
  float v374; // [rsp+64h] [rbp-A4h]
  float v375; // [rsp+68h] [rbp-A0h]
  float v376; // [rsp+6Ch] [rbp-9Ch]
  __int64 v377; // [rsp+70h] [rbp-98h] BYREF
  double v378; // [rsp+78h] [rbp-90h]
  float v379; // [rsp+80h] [rbp-88h] BYREF
  __int64 v380; // [rsp+88h] [rbp-80h] BYREF
  double v381; // [rsp+90h] [rbp-78h]
  float v382; // [rsp+98h] [rbp-70h]
  __int128 v383; // [rsp+A0h] [rbp-68h]
  double v384; // [rsp+B0h] [rbp-58h]
  __int128 v385; // [rsp+B8h] [rbp-50h]
  double v386; // [rsp+C8h] [rbp-40h]
  double v387; // [rsp+D0h] [rbp-38h]
  double v388; // [rsp+D8h] [rbp-30h]
  unsigned int v389; // [rsp+E0h] [rbp-28h]
  __int128 v390; // [rsp+E8h] [rbp-20h]
  double v391; // [rsp+F8h] [rbp-10h]
  float v392[10]; // [rsp+108h] [rbp+0h] BYREF
  __m128 v393; // [rsp+130h] [rbp+28h]
  float v394; // [rsp+140h] [rbp+38h]
  float v395; // [rsp+144h] [rbp+3Ch]
  unsigned __int64 v396[2]; // [rsp+148h] [rbp+40h] BYREF
  double v397; // [rsp+158h] [rbp+50h]
  double v398; // [rsp+168h] [rbp+60h] BYREF
  double v399; // [rsp+170h] [rbp+68h] BYREF
  int v400; // [rsp+178h] [rbp+70h] BYREF
  unsigned __int64 v401; // [rsp+17Ch] [rbp+74h]
  int v402; // [rsp+184h] [rbp+7Ch]
  double v403; // [rsp+198h] [rbp+90h]
  double v404; // [rsp+1A0h] [rbp+98h]
  double v405; // [rsp+1A8h] [rbp+A0h]
  float v406; // [rsp+1B0h] [rbp+A8h]
  float v407; // [rsp+1B4h] [rbp+ACh]
  float v408; // [rsp+1B8h] [rbp+B0h]
  float v409; // [rsp+1BCh] [rbp+B4h]
  unsigned int v410; // [rsp+1C0h] [rbp+B8h]
  int v411; // [rsp+1C4h] [rbp+BCh]
  unsigned __int64 v412; // [rsp+1C8h] [rbp+C0h]
  float v413; // [rsp+1D0h] [rbp+C8h]
  int v414; // [rsp+1D4h] [rbp+CCh]
  int n8; // [rsp+1E8h] [rbp+E0h] BYREF
  double v417; // [rsp+1F0h] [rbp+E8h]
  __int128 v418; // [rsp+1F8h] [rbp+F0h]
  __int128 v419; // [rsp+208h] [rbp+100h]
  __int128 v420; // [rsp+218h] [rbp+110h]
  __int128 v421; // [rsp+228h] [rbp+120h]
  __int128 v422; // [rsp+238h] [rbp+130h]
  __int128 v423; // [rsp+248h] [rbp+140h]
  __int128 v424; // [rsp+258h] [rbp+150h]
  float v425; // [rsp+268h] [rbp+160h]
  float v426; // [rsp+26Ch] [rbp+164h]
  float v427; // [rsp+270h] [rbp+168h]
  int v428; // [rsp+274h] [rbp+16Ch]
  __int128 v429; // [rsp+278h] [rbp+170h]
  int v430; // [rsp+288h] [rbp+180h]
  float v431; // [rsp+28Ch] [rbp+184h]
  unsigned int v432; // [rsp+290h] [rbp+188h]
  unsigned int v433; // [rsp+294h] [rbp+18Ch]
  _DWORD v434[10]; // [rsp+298h] [rbp+190h] BYREF
  float v435; // [rsp+2C0h] [rbp+1B8h]
  float v436; // [rsp+2C4h] [rbp+1BCh]
  float v437; // [rsp+2C8h] [rbp+1C0h]
  float v438; // [rsp+2CCh] [rbp+1C4h]
  float v439; // [rsp+2D0h] [rbp+1C8h]
  float v440; // [rsp+2D4h] [rbp+1CCh]
  double v441; // [rsp+2E8h] [rbp+1E0h]
  int n0x2800; // [rsp+2F8h] [rbp+1F0h] BYREF
  __int64 v443; // [rsp+2FCh] [rbp+1F4h]
  int v444; // [rsp+304h] [rbp+1FCh]
  __int64 v445; // [rsp+308h] [rbp+200h]
  unsigned __int64 v446; // [rsp+310h] [rbp+208h]
  __int64 v447; // [rsp+318h] [rbp+210h]
  __int64 v448; // [rsp+320h] [rbp+218h]
  __m256i v449; // [rsp+348h] [rbp+240h] BYREF
  float v450; // [rsp+368h] [rbp+260h]
  int v451; // [rsp+36Ch] [rbp+264h]
  __int64 v452; // [rsp+370h] [rbp+268h]
  int v453; // [rsp+378h] [rbp+270h]
  __int64 v454; // [rsp+37Ch] [rbp+274h]
  int v455; // [rsp+384h] [rbp+27Ch]
  __int128 v456; // [rsp+388h] [rbp+280h] BYREF
  double v457; // [rsp+398h] [rbp+290h]
  __int64 v458; // [rsp+3B0h] [rbp+2A8h]
  float v459; // [rsp+3B8h] [rbp+2B0h]
  unsigned __int64 v460; // [rsp+3D0h] [rbp+2C8h]
  int v461; // [rsp+3D8h] [rbp+2D0h]
  _DWORD v462[20]; // [rsp+3E8h] [rbp+2E0h] BYREF
  __int128 v463; // [rsp+438h] [rbp+330h]
  __int128 v464; // [rsp+448h] [rbp+340h]
  __int128 v465; // [rsp+458h] [rbp+350h]
  __int128 v466; // [rsp+468h] [rbp+360h]
  __int128 v467; // [rsp+478h] [rbp+370h]
  __int128 v468; // [rsp+488h] [rbp+380h]
  __int128 v469; // [rsp+498h] [rbp+390h]
  __int128 v470; // [rsp+4A8h] [rbp+3A0h]
  __int128 v471; // [rsp+4B8h] [rbp+3B0h]
  __int128 v472; // [rsp+4C8h] [rbp+3C0h]
  int v473; // [rsp+520h] [rbp+418h]
  float v474; // [rsp+520h] [rbp+418h]
  unsigned __int64 _Newsize; // [rsp+520h] [rbp+418h]
  int v476; // [rsp+520h] [rbp+418h]
  float v477; // [rsp+520h] [rbp+418h]
  float v478; // [rsp+520h] [rbp+418h]
  float v479; // [rsp+528h] [rbp+420h]
  float v480; // [rsp+528h] [rbp+420h]
  float v481; // [rsp+528h] [rbp+420h]
  float v482; // [rsp+530h] [rbp+428h]
  float v483; // [rsp+530h] [rbp+428h]
  float v484; // [rsp+530h] [rbp+428h]
  float v485; // [rsp+530h] [rbp+428h]

  v472 = v3;
  v471 = v4;
  v470 = v5;
  v469 = v6;
  v468 = v7;
  v467 = v8;
  v466 = v9;
  v465 = v10;
  v464 = v11;
  v463 = v12;
  n0x30 = *a2;
  if ( *a2 == 1 )
  {
    v16 = a1 + 0x19;
    v17 = 1;
    v18 = (unsigned __int8)~*((_BYTE *)a2 + 0xC) & (unsigned __int8)-*(_BYTE *)(a1[0x58] + 0x2EC) & 2;
    if ( ((unsigned __int8)~*((_BYTE *)a2 + 0xC) & (unsigned __int8)-*(_BYTE *)(a1[0x58] + 0x2EC) & 2) != 0 )
    {
      v19 = _InterlockedIncrement64(v16);
      if ( (v19 & 0x200000) != 0 )
        sub_1403CD0A0(a1 + 0x19, v19, (__int64)"CPhysicalEntity::GetStatus", (__int64)"m_lockUpdate", 1);
    }
    value_by_id = a2[2];
    value_by_id_1 = *((int *)a1 + 0xA4);
    _XMM0 = 0;
    _XMM4 = 0;
    v391 = 0.0;
    v441 = 0.0;
    __asm
    {
      vmovupd [rbp+400h+var_420], xmm0
      vmovupd [rbp+400h+var_330], xmm4
    }
    if ( value_by_id == 0xFFFFFFFF )
    {
      n10102016 = a2[1];
      if ( n10102016 >= 0 )
      {
        value_by_id = map_get_value_by_id(a1[0x54], n10102016, 0);
        if ( value_by_id == (_DWORD)value_by_id_1 )
          goto LABEL_8;
      }
    }
    if ( value_by_id < 0 )
    {
      v27 = a2[0x17];
      v28 = a2 + 0x17;
      v473 = v27;
      _XMM11 = *((_OWORD *)a1 + 0x1C);
      v30 = *((double *)a1 + 0x3A);
      v31 = *((float *)a1 + 0x76);
      v32 = *((float *)a1 + 0x77);
      v33 = *((float *)a1 + 0x78);
      v34 = 1.0;
      v362 = *((float *)a1 + 0x79);
      if ( v27 == 0xFFFFFFFF )
        goto LABEL_23;
      *((_QWORD *)a2 + 2) = 0;
      v35 = 0xFFFFFFFFLL;
      *((_QWORD *)a2 + 3) = 0xFFFFFFFFLL;
      if ( (int)value_by_id_1 <= 0 )
      {
        v39 = 0;
      }
      else
      {
        value_by_id_2 = 0;
        v37 = 0;
        do
        {
          v38 = *(_QWORD *)(a1[0x48] + 8 * value_by_id_2++);
          v37 |= v38;
          v35 &= v38;
          *((_QWORD *)a2 + 2) = v37;
          *((_QWORD *)a2 + 3) = v35;
        }
        while ( value_by_id_2 < value_by_id_1 );
        v27 = v473;
        v39 = **(_QWORD **)a1[0x47];
      }
      *((_QWORD *)a2 + 0xA) = v39;
      if ( v27 != 1 )
      {
LABEL_23:
        __asm { vmovupd xmm6, [rbp+400h+var_330] }
        *(_QWORD *)&v368 = a2 + 4;
        v53 = a2 + 6;
      }
      else
      {
        v40 = *((double *)a1 + 0x38);
        v41 = *((double *)a1 + 0x39);
        v42 = *((double *)a1 + 0x3A);
        v43 = (unsigned __int64)a1[5];
        v44 = *((double *)a1 + 6);
        v45 = *((double *)a1 + 2);
        v46 = *((double *)a1 + 3);
        v47 = *((double *)a1 + 4);
        v48 = *((double *)a1 + 7);
        *(double *)&v383 = v45 - v40;
        v384 = v47 - v42;
        *((double *)&v383 + 1) = v46 - v41;
        *(double *)&v385 = *(double *)&v43 - v40;
        v49 = v48 - v42;
        v34 = 1.0;
        *((double *)&v385 + 1) = v44 - v41;
        *((_QWORD *)&v50 + 1) = *((_QWORD *)&v43 + 1);
        *(double *)&v50 = (*(double *)&v43 + v45) * 0.5;
        _XMM4 = v50;
        v386 = v49;
        v441 = (v48 + v47) * 0.5;
        __asm { vunpcklpd xmm6, xmm4, xmm3 }
        v53 = a2 + 6;
        *(_QWORD *)&v368 = a2 + 4;
      }
LABEL_35:
      *((_OWORD *)a2 + 2) = _XMM11;
      *((double *)a2 + 6) = v30;
      *((float *)a2 + 0xE) = v31;
      *((float *)a2 + 0xF) = v32;
      *((float *)a2 + 0x10) = v33;
      *((float *)a2 + 0x11) = v362;
      *((float *)a2 + 0x12) = v34;
      a2[0x13] = *((_DWORD *)a1 + 0x3D);
      if ( *v28 == 1 )
      {
        *((_QWORD *)a2 + 0xF) = 0;
        v95 = a1[0x17];
        *((_QWORD *)a2 + 0xC) = v95;
        if ( v95 )
        {
          *((_QWORD *)a2 + 0xD) = *(_QWORD *)(v95 + 0x178);
          *((_QWORD *)a2 + 0xE) = *(_QWORD *)sub_1469197A0(v95, &v399);
        }
        v96 = (__int64 *)*((_QWORD *)a2 + 0xC);
        if ( v96 )
        {
          v97 = *v96;
          *((_QWORD *)a2 + 0xF) = *v96;
          if ( v97 )
          {
            v98 = *v96;
            *((_OWORD *)a2 + 8) = *(_OWORD *)(*v96 + 0x1C0);
            *((double *)a2 + 0x12) = *(double *)(v98 + 0x1D0);
            v99 = (_DWORD *)*v96;
            a2[0x26] = v99[0x76];
            a2[0x27] = v99[0x77];
            a2[0x28] = v99[0x78];
            a2[0x29] = v99[0x79];
          }
        }
        v100 = v384;
        *(_OWORD *)(a2 + 0x2A) = v383;
        *((_OWORD *)a2 + 0xC) = v385;
        v101 = v441;
        *((double *)a2 + 0x17) = v100;
        *((double *)a2 + 0x1A) = v386;
        *(_OWORD *)(a2 + 0x36) = _XMM6;
        *((double *)a2 + 0x1D) = v101;
        *((double *)a2 + 0x1E) = *((double *)a1 + 0x3D);
        a2[0x3E] = *((_DWORD *)a1 + 0x7C);
        *(double *)(a2 + 0x3F) = *(double *)((char *)a1 + 0x1F4);
        a2[0x41] = *((_DWORD *)a1 + 0x7F);
      }
      if ( !*(_DWORD *)(a1[0x58] + 0x16C) && (a1[0x43] & 1) != 0 )
      {
        v102 = v368;
        *(_QWORD *)v53 = 0;
        **(_QWORD **)&v102 = 0;
      }
LABEL_9:
      if ( !v18 )
        return v17;
LABEL_10:
      v25 = _InterlockedDecrement64(v16);
      if ( (v25 & 0x3FF) == 0 && (v25 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(v16, v25);
      return v17;
    }
    if ( value_by_id >= (int)value_by_id_1 )
    {
LABEL_8:
      v17 = 0;
      goto LABEL_9;
    }
    v54 = a1[0x46];
    v55 = a2[3];
    *(_QWORD *)&v56 = value_by_id;
    *(_QWORD *)&v368 = value_by_id;
    v57 = 0x20LL * value_by_id;
    v58 = *(float *)(v54 + v57 + 0x18);
    if ( (v55 & 1) != 0 )
    {
      v59 = a2 + 0x17;
      v461 = *(_DWORD *)(v54 + v57 + 0x18);
      v474 = *(float *)(v54 + 0x20LL * value_by_id);
      v479 = *(float *)(v54 + v57 + 4);
      v482 = *(float *)(v54 + v57 + 8);
      v60 = *(float *)(v54 + v57 + 0xC);
      v460 = *(_QWORD *)(v54 + v57 + 0x10);
      v362 = v60;
      *(double *)&v390 = *(float *)&v460;
      *((double *)&v390 + 1) = _mm_shuffle_ps((__m128)v460, (__m128)v460, 0x55).m128_f32[0];
      v391 = v58;
      if ( a2[0x17] == 1 )
      {
        (*(void (__fastcall **)(__int64 *, _QWORD, _DWORD *))(*a1 + 0x330))(a1, (unsigned int)value_by_id, v434);
        v54 = a1[0x46];
        v55 = a2[3];
        v56 = v368;
        v61 = (float)((float)(COERCE_FLOAT(v434[3] & 0x7FFFFFFF) * v439)
                    + (float)(COERCE_FLOAT(v434[0] & 0x7FFFFFFF) * v438))
            + (float)(COERCE_FLOAT(v434[6] & 0x7FFFFFFF) * v440);
        v62 = (float)((float)(COERCE_FLOAT(v434[4] & 0x7FFFFFFF) * v439)
                    + (float)(COERCE_FLOAT(v434[1] & 0x7FFFFFFF) * v438))
            + (float)(COERCE_FLOAT(v434[7] & 0x7FFFFFFF) * v440);
        v63 = (float)((float)(COERCE_FLOAT(v434[5] & 0x7FFFFFFF) * v439)
                    + (float)(COERCE_FLOAT(v434[2] & 0x7FFFFFFF) * v438))
            + (float)(COERCE_FLOAT(v434[8] & 0x7FFFFFFF) * v440);
        *(double *)&v383 = (float)(v435 - v61);
        *((double *)&v383 + 1) = (float)(v436 - v62);
        v384 = (float)(v437 - v63);
        *(double *)&v385 = (float)(v61 + v435);
        v386 = (float)(v437 + v63);
        *((double *)&v385 + 1) = (float)(v62 + v436);
        _XMM2 = COERCE_UNSIGNED_INT64(v435);
        v441 = v437;
        __asm { vunpcklpd xmm6, xmm2, xmm1 }
        goto LABEL_31;
      }
    }
    else
    {
      v65 = *((float *)a1 + 0x77);
      v66 = *((float *)a1 + 0x78);
      v67 = *((float *)a1 + 0x79);
      v68 = *((float *)a1 + 0x76);
      v69 = *(float *)(v54 + v57 + 4);
      v70 = _mm_shuffle_ps(
              (__m128)*(unsigned __int64 *)(v54 + v57 + 0x10),
              (__m128)*(unsigned __int64 *)(v54 + v57 + 0x10),
              0x55).m128_f32[0];
      v458 = *(_QWORD *)(v54 + v57 + 0x10);
      v71 = (float)((float)(v58 * v65) - (float)(v70 * v66)) + (float)(*(float *)&v458 * v67);
      v72 = (float)((float)(*(float *)&v458 * v66) - (float)(v58 * v68)) + (float)(v70 * v67);
      v73 = (float)((float)(v70 * v68) - (float)(*(float *)&v458 * v65)) + (float)(v58 * v67);
      v74 = (float)(v65 * v73) - (float)(v66 * v72);
      v75 = (float)(v66 * v71) - (float)(v68 * v73);
      v76 = v68 * v72;
      v77 = *(float *)(v54 + 0x20LL * value_by_id);
      v78 = v65 * v71;
      v79 = *(float *)(v54 + v57 + 8);
      v80 = (float)((float)(*(float *)&v458 + v74) + v74) + *((double *)a1 + 0x38);
      v81 = (float)((float)(v70 + v75) + v75) + *((double *)a1 + 0x39);
      v378 = (float)((float)(v58 + (float)(v76 - v78)) + (float)(v76 - v78)) + *((double *)a1 + 0x3A);
      v391 = v378;
      v387 = v81;
      *((double *)&v390 + 1) = v81;
      v368 = v80;
      *(double *)&v390 = v80;
      LODWORD(v80) = *(_DWORD *)(v54 + v57 + 0xC);
      v474 = (float)((float)((float)(v65 * v79) - (float)(v66 * v69)) + (float)(v67 * v77))
           + (float)(v68 * *(float *)&v80);
      v479 = (float)((float)((float)(v66 * v77) - (float)(v68 * v79)) + (float)(v67 * v69))
           + (float)(v65 * *(float *)&v80);
      v482 = (float)((float)((float)(v68 * v69) - (float)(v65 * v77)) + (float)(v67 * v79))
           + (float)(v66 * *(float *)&v80);
      v459 = v58;
      v59 = a2 + 0x17;
      v362 = (float)(v67 * *(float *)&v80)
           - (float)((float)((float)(v65 * v69) + (float)(v68 * v77)) + (float)(v66 * v79));
      if ( a2[0x17] == 1 )
      {
        v82 = a1[0x45];
        _XMM5 = *(_OWORD *)(v82 + 0x30LL * value_by_id);
        _XMM7 = *(_OWORD *)(v82 + 0x30LL * value_by_id + 0x18);
        v85 = *(double *)(v82 + 0x30LL * value_by_id + 0x10);
        v86 = *(double *)(v82 + 0x30LL * value_by_id + 0x28);
        *((_QWORD *)&v87 + 1) = *(_QWORD *)(v82 + 0x30LL * value_by_id + 8);
        *(double *)&v87 = (*(double *)&_XMM5 + *(double *)&_XMM7) * 0.5;
        _XMM6 = v87;
        __asm
        {
          vunpckhpd xmm3, xmm7, xmm7
          vunpckhpd xmm2, xmm5, xmm5
        }
        v441 = (v85 + v86) * 0.5;
        *((double *)&v383 + 1) = *(double *)&_XMM2 - v387;
        *(double *)&v383 = *(double *)&_XMM5 - v368;
        *(double *)&v385 = *(double *)&_XMM7 - v368;
        v384 = v85 - v378;
        v386 = v86 - v378;
        *((double *)&v385 + 1) = *(double *)&_XMM3 - v387;
        __asm { vunpcklpd xmm6, xmm6, xmm4 }
        goto LABEL_31;
      }
    }
    __asm { vmovupd xmm6, [rbp+400h+var_330] }
LABEL_31:
    v91 = a1[0x4A];
    *(_QWORD *)&v368 = a2 + 4;
    v28 = v59;
    v92 = *(float *)(v54 + v57 + 0x1C);
    v53 = a2 + 6;
    v34 = v92 * *((float *)a1 + 0x80);
    a2[1] = *(_DWORD *)(v91 + 4LL * *(_QWORD *)&v56);
    v93 = *(_QWORD *)(a1[0x48] + 8LL * *(_QWORD *)&v56);
    *((_QWORD *)a2 + 3) = v93;
    *((_QWORD *)a2 + 2) = v93;
    v94 = **(_QWORD **)(a1[0x47] + 8LL * *(_QWORD *)&v56);
    *((_QWORD *)a2 + 0xA) = v94;
    if ( (v55 & 4) != 0 )
    {
      *(_QWORD *)&v368 = a2 + 4;
      v53 = a2 + 6;
      if ( v94 )
      {
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v94 + 0x10LL))(v94);
        v28 = v59;
        *(_QWORD *)&v368 = a2 + 4;
        v53 = a2 + 6;
      }
    }
    v33 = v482;
    v32 = v479;
    v31 = v474;
    __asm { vmovupd xmm11, [rbp+400h+var_420] }
    v30 = v391;
    v16 = a1 + 0x19;
    goto LABEL_35;
  }
  if ( n0x30 != 0x23 )
  {
    switch ( n0x30 )
    {
      case 0xA:
        v17 = 1;
        v111 = a1 + 0x19;
        v112 = _InterlockedIncrement64(a1 + 0x19);
        if ( (v112 & 0x200000) != 0 )
          sub_1403CD0A0(a1 + 0x19, v112, (__int64)"CPhysicalEntity::GetStatus", (__int64)"m_lockUpdate", 1);
        v113 = a2[1];
        v114 = *((_DWORD *)a1 + 0xA4);
        if ( v113 < 0 )
        {
          v113 = 0;
          if ( v114 - 1 > 0 )
          {
            v115 = 0;
            v116 = (_DWORD *)a1[0x4A];
            do
            {
              if ( *v116 == a2[2] )
                break;
              ++v113;
              ++v115;
              ++v116;
            }
            while ( v115 < v114 - 1 );
          }
        }
        if ( v113 >= v114
          || (v117 = v113,
              v118 = *(_QWORD **)(a1[0x47] + 8LL * v113),
              a2[3] >= (*(unsigned int (__fastcall **)(_QWORD))(*(_QWORD *)*v118 + 0x108LL))(*v118))
          || (*(unsigned int (__fastcall **)(_QWORD))(*(_QWORD *)*v118 + 8LL))(*v118) == 1 && a2[4] > 2 )
        {
          v17 = 0;
        }
        else
        {
          v119 = (*(__int64 (__fastcall **)(_QWORD, _QWORD, _QWORD))(*(_QWORD *)*v118 + 0xA0LL))(
                   *v118,
                   (unsigned int)a2[3],
                   (unsigned int)a2[4]);
          a2[5] = v119;
          a2[5] = v119 & ~(v119 >> 0x1F)
                | (v119 >> 0x1F) & ((int)(*(_DWORD *)(a1[0x4E] + 0x18 * v117 + 0x10) << 0xE) >> 0x16);
        }
        v120 = _InterlockedDecrement64(v111);
        if ( (v120 & 0x3FF) != 0 || (v120 & 0xFFFF0000FFC00000uLL) == 0 )
          return v17;
        sub_1403CD3A0(v111, v120);
        return v17;
      case 0x2F:
        v121 = a1 + 0x19;
        v122 = _InterlockedIncrement64(a1 + 0x19);
        if ( (v122 & 0x200000) != 0 )
          sub_1403CD0A0(a1 + 0x19, v122, (__int64)"CPhysicalEntity::GetStatus", (__int64)"m_lockUpdate", 1);
        value_by_id_4 = *((_DWORD *)a1 + 0xA4);
        if ( *((_QWORD *)a2 + 1) == 0xFFFFFFFFFFFFFFFFuLL || (v124 = a2[4], v124 == 0x80000000) )
        {
          value_by_id_3 = *((_DWORD *)a1 + 0xA4);
          n10102016_1 = a2[5];
          if ( a2[6] != 0x80000000 )
            value_by_id_3 = a2[6];
          if ( n10102016_1 != 0x80000000 )
            value_by_id_3 = map_get_value_by_id(a1[0x54], n10102016_1, 0);
          if ( value_by_id_3 < 0 || value_by_id_3 >= value_by_id_4 )
          {
            value_by_id_3 = 0xFFFFFFFF;
          }
          else
          {
            v128 = *(_QWORD *)(a1[0x54] + 0x80) + 0x10LL * value_by_id_3;
            *((_QWORD *)a2 + 1) = *(_QWORD *)v128;
            a2[4] = *(_DWORD *)(v128 + 8);
          }
        }
        else
        {
          value_by_composite_key = map_get_value_by_composite_key(a1[0x54], (unsigned __int64 *)a2 + 1, v124, a2 + 5);
          a2[6] = value_by_composite_key;
          value_by_id_3 = 0xFFFFFFFF;
          if ( value_by_composite_key < value_by_id_4 )
            value_by_id_3 = value_by_composite_key;
        }
        v129 = _InterlockedDecrement64(v121);
        if ( (v129 & 0x3FF) == 0 && (v129 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(v121, v129);
        return (unsigned int)value_by_id_3;
      case 0xC:
        v130 = a1 + 0x19;
        v131 = _InterlockedIncrement64(a1 + 0x19);
        if ( (v131 & 0x200000) != 0 )
          sub_1403CD0A0(a1 + 0x19, v131, (__int64)"CPhysicalEntity::GetStatus", (__int64)"m_lockUpdate", 1);
        v132 = *((_QWORD *)a2 + 1);
        v133 = a1 + 0x52;
        _Newcapacity = *((int *)a1 + 0xA4);
        if ( v132 )
        {
          v135 = *(const void **)v132;
          _Newcapacity_1 = 0;
          if ( _Newcapacity > (__int64)(*(_QWORD *)(v132 + 0x10) - *(_QWORD *)v132) >> 2 )
          {
            if ( _Newcapacity > 0x3FFFFFFFFFFFFFFFLL )
              unknown_libname_10(a1, v133, v135);
            allocSize = 4 * _Newcapacity;
            _Newsize = (__int64)(*(_QWORD *)(v132 + 8) - (_QWORD)v135) >> 2;
            if ( 4 * _Newcapacity < 0x1000 )
            {
              if ( allocSize )
                _Newvec = (_QWORD *)allocWithProfilerInfo_w(allocSize);
              else
                _Newvec = 0;
            }
            else
            {
              if ( allocSize + 0x27 < allocSize )
                sub_1402E2610();
              v138 = allocWithProfilerInfo_w(allocSize + 0x27);
              if ( !v138 )
                invalid_parameter_noinfo_noreturn();
              _Newvec = (_QWORD *)((v138 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
              _Newvec[0xFFFFFFFF] = v138;
            }
            memmove(_Newvec, *(const void **)v132, *(_QWORD *)(v132 + 8) - *(_QWORD *)v132);
            std::vector<unsigned int>::_Change_array(
              (std::vector<unsigned int> *)v132,
              (unsigned int *const)_Newvec,
              _Newsize,
              _Newcapacity);
            v133 = a1 + 0x52;
          }
          if ( (int)_Newcapacity > 0 )
          {
            do
            {
              v140 = *((_QWORD *)a2 + 1);
              v141 = *(float **)(v140 + 8);
              v142 = *(float *)(a1[0x4A] + 4 * _Newcapacity_1);
              v371 = v142;
              if ( v141 == *(float **)(v140 + 0x10) )
              {
                sub_1403463D0((std::allocator<int> *)v140, v141);
              }
              else
              {
                *v141 = v142;
                *(_QWORD *)(v140 + 8) += 4LL;
              }
              ++_Newcapacity_1;
            }
            while ( _Newcapacity_1 < (__int64)_Newcapacity );
            v133 = a1 + 0x52;
          }
        }
        if ( a2[4] )
          LODWORD(_Newcapacity) = (*((int *)a1 + 0xA5) >> 0x1F) & *(_DWORD *)v133
                                | *((_DWORD *)a1 + 0xA5) & ~(*((int *)a1 + 0xA5) >> 0x1F);
        v143 = _InterlockedDecrement64(v130);
        if ( (v143 & 0x3FF) == 0 && (v143 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(v130, v143);
        return (unsigned int)_Newcapacity;
      case 0x1E:
        return *((unsigned int *)a1 + 0xAA);
      case 7:
        return (*(__int64 (__fastcall **)(__int64 *, unsigned __int64))(*a1 + 0x270))(a1, 0xFFFFFFFFFFFFFFFFuLL);
      case 0xD:
        return sub_1468D4CD0(a1, a2 + 2, 0x7FF);
      case 0x14:
        a2[1] = 0;
        return 1;
      case 0x18:
        *((float *)a2 + 2) = (*(float (__fastcall **)(__int64 *, _QWORD))(*a1 + 0x1A8))(a1, (unsigned int)a2[1]);
        return 1;
      case 0x24:
        v17 = 1;
        v144 = a1 + 0x19;
        v145 = _InterlockedIncrement64(a1 + 0x19);
        if ( (v145 & 0x200000) != 0 )
          sub_1403CD0A0(a1 + 0x19, v145, (__int64)"CPhysicalEntity::GetStatus", (__int64)"m_lockUpdate", 1);
        *(_OWORD *)(a2 + 2) = *((_OWORD *)a1 + 0x1C);
        *((double *)a2 + 3) = *((double *)a1 + 0x3A);
        a2[8] = *((_DWORD *)a1 + 0x76);
        a2[9] = *((_DWORD *)a1 + 0x77);
        a2[0xA] = *((_DWORD *)a1 + 0x78);
        a2[0xB] = *((_DWORD *)a1 + 0x79);
        *((double *)a2 + 6) = *((double *)a1 + 0x3D);
        a2[0xE] = *((_DWORD *)a1 + 0x7C);
        *(double *)(a2 + 0xF) = *(double *)((char *)a1 + 0x1F4);
        a2[0x11] = *((_DWORD *)a1 + 0x7F);
        v146 = _InterlockedDecrement64(v144);
        if ( (v146 & 0x3FF) != 0 || (v146 & 0xFFFF0000FFC00000uLL) == 0 )
          return v17;
        sub_1403CD3A0(v144, v146);
        return 1;
      case 0x25:
        v147 = 0;
        n0x2800 = 0x2800;
        v443 = 0;
        v444 = 0;
        v446 = 0;
        v447 = 0;
        v448 = 0;
        v445 = 1;
        qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
        v148 = _InterlockedIncrement64(a1 + 0x19);
        if ( (v148 & 0x200000) != 0 )
          sub_1403CD0A0(a1 + 0x19, v148, (__int64)"CPhysicalEntity::GetStatus", (__int64)"m_lockUpdate", 1);
        v149 = *((_QWORD *)a2 + 1);
        if ( v149 != *((_QWORD *)a2 + 2) )
          *((_QWORD *)a2 + 2) = v149;
        v150 = *((float *)a2 + 0x10);
        v151 = *((float *)a2 + 0x12);
        v152 = *((float *)a1 + 0x76);
        v153 = *((float *)a1 + 0x78);
        v154 = *((float *)a2 + 0x11);
        v155 = *((float *)a2 + 0x13);
        v156 = *((float *)a1 + 0x79);
        v157 = *((float *)a1 + 0x77);
        v158 = *((_DWORD *)a1 + 0x7C);
        v449 = (__m256i)ymmword_148190000;
        v450 = 1.0;
        v452 = a1[0x3D];
        v454 = *(__int64 *)((char *)a1 + 0x1F4);
        v159 = (float)((float)(v153 * v151) + (float)(v152 * v150))
             + (float)((float)(v154 * v157) + (float)(v156 * v155));
        v160 = (float)((float)((float)(v151 * v157) - (float)(v153 * v154)) + (float)(v152 * v155))
             - (float)(v156 * v150);
        v161 = (float)((float)((float)(v153 * v150) - (float)(v152 * v151)) + (float)(v157 * v155))
             - (float)(v156 * v154);
        v162 = v161 + v161;
        v163 = (float)((float)((float)(v152 * v154) - (float)(v150 * v157)) + (float)(v153 * v155))
             - (float)(v156 * v151);
        v164 = (float)(v163 + v163) * v161;
        v165 = (float)(v163 + v163) * v163;
        v166 = (float)(v161 + v161) * v161;
        v167 = (float)(v163 + v163) * v160;
        v168 = 1.0 - (float)((float)(v160 + v160) * v160);
        v169 = v162 * v160;
        v170 = v162 * v159;
        v171 = (float)(v163 + v163) * v159;
        v172 = (float)(v160 + v160) * v159;
        v392[0] = (float)(1.0 - v166) - v165;
        v392[2] = v167 + v170;
        v392[3] = v171 + v169;
        v392[4] = v168 - v165;
        v392[5] = v164 - v172;
        v453 = v158;
        v173 = *((_DWORD *)a1 + 0x7F);
        v392[6] = v167 - v170;
        v392[7] = v164 + v172;
        v392[1] = v169 - v171;
        v455 = v173;
        v451 = 0;
        v174 = v168 - v166;
        v175 = *((float *)a2 + 0x11);
        v176 = *((float *)a2 + 0x12);
        v177 = *((float *)a2 + 0x10);
        v178 = *((float *)a2 + 0x13);
        v179 = *((float *)a2 + 0x18);
        v180 = *((float *)a2 + 0x19);
        v181 = *((float *)a2 + 0x17);
        v392[8] = v174;
        v182 = (float)(v181 + *((float *)a2 + 0x14)) * 0.5;
        v183 = v179 + *((float *)a2 + 0x15);
        v184 = (float)(v180 + *((float *)a2 + 0x16)) * 0.5;
        v185 = (float)((float)(v184 * v175) - (float)(v176 * (float)(v183 * 0.5))) + (float)(v182 * v178);
        v186 = (float)((float)(v182 * v176) - (float)(v184 * v177)) + (float)((float)(v183 * 0.5) * v178);
        v187 = (float)((float)(v177 * (float)(v183 * 0.5)) - (float)(v182 * v175)) + (float)(v184 * v178);
        v188 = (float)(v187 * v175) - (float)(v186 * v176);
        v189 = (float)(v185 * v176) - (float)(v187 * v177);
        v190 = (float)(v186 * v177) - (float)(v185 * v175);
        v191 = (float)((float)(v188 + v182) + v188) + *((double *)a2 + 5) - *((double *)a1 + 0x38);
        v192 = (float)((float)(v189 + (float)(v183 * 0.5)) + v189) + *((double *)a2 + 6) - *((double *)a1 + 0x39);
        v193 = (float)((float)(v184 + v190) + v190) + *((double *)a2 + 7) - *((double *)a1 + 0x3A);
        v194 = *((float *)a1 + 0x79);
        v195 = *((float *)a1 + 0x78);
        v196 = *((float *)a1 + 0x77);
        v197 = *((float *)a1 + 0x76);
        v198 = COERCE_UNSIGNED_INT64(v195 * v192 - v196 * v193 + v194 * v191);
        v199 = COERCE_UNSIGNED_INT64(v197 * v193 - v195 * v191 + v194 * v192);
        *(double *)&v201 = v196 * v191 - v197 * v192 + v194 * v193;
        v200 = v201;
        *((_QWORD *)&v202 + 1) = *((_QWORD *)&v199 + 1);
        *(double *)&v202 = *(double *)&v199 * v195 - *(double *)&v201 * v196;
        v203 = v202;
        *((_QWORD *)&v202 + 1) = *((_QWORD *)&v200 + 1);
        *(double *)&v202 = *(double *)&v200 * v197 - *(double *)&v198 * v195;
        v204 = v202;
        *((_QWORD *)&v202 + 1) = *((_QWORD *)&v203 + 1);
        *(double *)&v202 = *(double *)&v203 + v191 + *(double *)&v203;
        _XMM2 = v202;
        __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
        *((_QWORD *)&v202 + 1) = *((_QWORD *)&v198 + 1);
        *(double *)&v202 = *(double *)&v198 * v196 - *(double *)&v199 * v197;
        v207 = v202;
        *((_QWORD *)&v202 + 1) = *((_QWORD *)&v204 + 1);
        *(double *)&v202 = *(double *)&v204 + v192 + *(double *)&v204;
        _XMM1 = v202;
        __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
        *((_QWORD *)&v202 + 1) = *((_QWORD *)&v207 + 1);
        *(double *)&v202 = *(double *)&v207 + v193 + *(double *)&v207;
        _XMM0 = v202;
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
        *(float *)&_XMM0 = v181 - *((float *)a2 + 0x14);
        v393.m128_f32[2] = *(float *)&_XMM1;
        *(float *)&_XMM1 = *((float *)a2 + 0x18) - *((float *)a2 + 0x15);
        v393.m128_f32[0] = *(float *)&_XMM4;
        *(float *)&v202 = *((float *)a2 + 0x19) - *((float *)a2 + 0x16);
        v393.m128_f32[1] = *(float *)&_XMM3;
        LODWORD(v392[9]) = 1;
        v395 = *(float *)&v202 * 0.5;
        v393.m128_f32[3] = *(float *)&_XMM0 * 0.5;
        v394 = *(float *)&_XMM1 * 0.5;
        v462[0] = 0xFFFFFFFF;
        __asm { vzeroupper }
        if ( sub_1466D49C0((__int64)&v449, (__int64)v392, (__int64)v462) )
        {
          n0x3F800000 = (__m128)0x3F800000u;
          n0x3F800000.m128_f32[0] = 1.0 / *((float *)a1 + 0x80);
          v213 = _mm_shuffle_ps(n0x3F800000, n0x3F800000, 0);
          v394 = v213.m128_f32[0] * v394;
          v395 = v213.m128_f32[0] * v395;
          v393 = _mm_mul_ps(v213, v393);
          v367 = 0.0;
          v214 = a2[0x1A]
               ? (*((int *)a1 + 0xA5) >> 0x1F) & a1[0x52] | *((_DWORD *)a1 + 0xA5) & ~(*((int *)a1 + 0xA5) >> 0x1F)
               : *((_DWORD *)a1 + 0xA4);
          v476 = v214;
          if ( v214 > 0 )
          {
            v215 = 0.0;
            v216 = 0;
            v217 = v214;
            do
            {
              v218 = v216;
              if ( (*(_QWORD *)(a1[0x48] + 8LL * SLODWORD(v215)) & *((_QWORD *)a2 + 4)) != 0 )
              {
                v462[0] = 0xFFFFFFFF;
                if ( sub_1466D49C0((__int64)v392, a1[0x4C] + ((__int64)v216 << 6), (__int64)v462) )
                {
                  v219 = *((_QWORD *)a2 + 2);
                  v220 = *(_QWORD *)(a1[0x47] + 8 * v218);
                  v221 = a1[0x46] + 0x20 * v218;
                  v380 = v220;
                  if ( v219 == *((_QWORD *)a2 + 3) )
                  {
                    sub_1468A9620((_DWORD)a2 + 8, v219, (unsigned int)&v367, v221, (__int64)(a1 + 0x40), (__int64)&v380);
                  }
                  else
                  {
                    v222 = *((float *)a1 + 0x80);
                    *(_DWORD *)v219 = v147;
                    *(double *)(v219 + 4) = *(double *)(v221 + 0x10);
                    *(_DWORD *)(v219 + 0xC) = *(_DWORD *)(v221 + 0x18);
                    *(_DWORD *)(v219 + 0x1C) = *(_DWORD *)(v221 + 0xC);
                    *(_DWORD *)(v219 + 0x10) = *(_DWORD *)v221;
                    *(_DWORD *)(v219 + 0x14) = *(_DWORD *)(v221 + 4);
                    *(_DWORD *)(v219 + 0x18) = *(_DWORD *)(v221 + 8);
                    *(float *)(v219 + 0x20) = v222 * *(float *)(v221 + 0x1C);
                    *(_QWORD *)(v219 + 0x28) = v220;
                    *((_QWORD *)a2 + 2) += 0x30LL;
                  }
                }
                v217 = v476;
              }
              LODWORD(v215) = v147 + 1;
              v367 = v215;
              v216 = ++v147;
            }
            while ( SLODWORD(v215) < v217 );
          }
        }
        v223 = _InterlockedDecrement64(a1 + 0x19);
        if ( (v223 & 0x3FF) == 0 && (v223 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(a1 + 0x19, v223);
        v446 = __rdtsc();
        qword_149A05E08(&n0x2800);
        return 1;
      case 0x19:
        (*(void (__fastcall **)(__int64 *, int *, _QWORD))(*a1 + 0x1B0))(a1, a2 + 4, (unsigned int)a2[1]);
        return 1;
      case 0x1F:
        if ( !*((_QWORD *)a2 + 1) )
          *((_QWORD *)a2 + 1) = a1[0x58] + 0xB40;
        v483 = 0.0;
        v364 = 0.0;
        v366 = 0.0;
        v374 = 0.0;
        v480 = 0.0;
        v224 = a1;
        v363 = 0.0;
        v367 = 0.0;
        v370 = 0.0;
        v375 = 1.0;
        v369 = 0.0;
        *(float *)&v378 = 1.0;
        _XMM0 = 0;
        v226 = 0.0;
        v227 = 0.0;
        v228 = 0.0;
        v229 = 0.0;
        v230 = 1.0;
        if ( a1 )
        {
          while ( *((_DWORD *)v224 + 0x3D) != 7 )
          {
            v419 = 0;
            v421 = 0;
            v423 = 0;
            v413 = 0.0;
            v417 = *(double *)&_XMM0;
            v425 = 0.0;
            v426 = 0.0;
            v427 = 0.0;
            v431 = 0.0;
            v396[0] = 0x800000000000000FuLL;
            v396[1] = 0x8000000080000000uLL;
            v400 = 1;
            v401 = 0xFFFFFFFFFFFFFFFFuLL;
            v402 = 0;
            v411 = 0;
            v414 = 0;
            v412 = 0xFFFFFFFFFFFFFFFFuLL;
            HIDWORD(v403) = 0xFFF7FFFF;
            v409 = NAN;
            v410 = 0xFFBFFFFF;
            __asm { vmovupd [rbp+400h+var_310], xmm0 }
            v420 = _XMM0;
            v422 = _XMM0;
            v424 = _XMM0;
            v428 = 0;
            v429 = _XMM0;
            v430 = 0;
            v432 = 0x80000000;
            v433 = 0x80000000;
            n8 = 8;
            (*(void (__fastcall **)(__int64 *, unsigned __int64 *))(*v224 + 0x20))(v224, v396);
            if ( (v396[0] & 0x2000000000LL) != 0
              || !(*(unsigned int (__fastcall **)(__int64 *, int *))(*v224 + 0x28))(v224, &v400) )
            {
              return 0;
            }
            v231 = *v224;
            v232 = v407 * v228 - v408 * v227 + v409 * v226;
            v233 = v408 * v226 - v406 * v228 + v409 * v227;
            v234 = v406 * v227 - v407 * v226 + v409 * v228;
            v235 = COERCE_UNSIGNED_INT64(v234 * v407 - v233 * v408);
            *((_QWORD *)&v236 + 1) = 0;
            *(double *)&v236 = v232 * v408 - v234 * v406;
            v237 = v236;
            *((_QWORD *)&v236 + 1) = 0;
            *(double *)&v236 = v233 * v406 - v232 * v407;
            v238 = v236;
            *((_QWORD *)&v236 + 1) = *((_QWORD *)&v235 + 1);
            *(double *)&v236 = *(double *)&v235 + v226 + *(double *)&v235 + v403;
            v239 = v236;
            *((_QWORD *)&v236 + 1) = *((_QWORD *)&v237 + 1);
            *(double *)&v236 = *(double *)&v237 + v227 + *(double *)&v237 + v404;
            v240 = v236;
            *((_QWORD *)&v236 + 1) = *((_QWORD *)&v238 + 1);
            *(double *)&v236 = *(double *)&v238 + v228 + *(double *)&v238 + v405;
            v241 = v236;
            v399 = *(double *)&v236;
            v381 = *(double *)&v239;
            v398 = *(double *)&v240;
            if ( (*(unsigned int (__fastcall **)(__int64 *, int *))(v231 + 0x28))(v224, &n8) )
            {
              *((_QWORD *)&v243 + 1) = *((_QWORD *)&v239 + 1);
              *(double *)&v243 = *(double *)&v239 - v417;
              _XMM0 = v243;
              *((_QWORD *)&v243 + 1) = *((_QWORD *)&v240 + 1);
              *(double *)&v243 = *(double *)&v240 - *(double *)&v418;
              _XMM1 = v243;
              __asm { vcvtsd2ss xmm6, xmm0, xmm0 }
              *((_QWORD *)&v243 + 1) = *((_QWORD *)&v241 + 1);
              *(double *)&v243 = *(double *)&v241 - *((double *)&v418 + 1);
              _XMM0 = v243;
              __asm
              {
                vcvtsd2ss xmm8, xmm0, xmm0
                vcvtsd2ss xmm7, xmm1, xmm1
              }
            }
            else
            {
              LODWORD(_XMM8) = 0;
              LODWORD(_XMM7) = 0;
              LODWORD(_XMM6) = 0;
            }
            v373 = *(float *)&_XMM6;
            v372 = *(float *)&_XMM7;
            v477 = *(float *)&_XMM8;
            if ( v224 == a1
              && (LODWORD(_XMM8) = 0,
                  LODWORD(_XMM7) = 0,
                  LODWORD(_XMM6) = 0,
                  v477 = 0.0,
                  v372 = 0.0,
                  v373 = 0.0,
                  *((_BYTE *)a2 + 0x28)) )
            {
              v249 = 0.0;
              v250 = 0.0;
            }
            else
            {
              v249 = *(float *)&v421;
              v250 = *((float *)&v420 + 3);
              v229 = *((float *)&v420 + 2);
            }
            v379 = v250 - (float)((float)(1.0 - v230) * *((float *)&v422 + 1));
            *((float *)&v420 + 3) = v379;
            *(float *)&v368 = v249 - (float)((float)(1.0 - v230) * *((float *)&v422 + 2));
            *(float *)&v421 = *(float *)&v368;
            v371 = (float)(*(float *)&_XMM8 * *(float *)&v420) - (float)(*((float *)&v420 + 1) * *(float *)&_XMM7);
            v376 = (float)(*((float *)&v420 + 1) * *(float *)&_XMM6) - (float)(*((float *)&v419 + 3) * *(float *)&_XMM8);
            *(float *)&v380 = (float)(*((float *)&v419 + 3) * *(float *)&_XMM7)
                            - (float)(*(float *)&_XMM6 * *(float *)&v420);
            *((float *)&v421 + 2) = *((float *)&v421 + 2) - (float)((float)(1.0 - v230) * *(float *)&v423);
            *(float *)&v387 = *((float *)&v421 + 2);
            v251 = (float)((float)(v407 * v480) - (float)(v408 * v374)) + (float)(v409 * v363);
            *((float *)&v421 + 1) = *((float *)&v421 + 1) - (float)((float)(1.0 - v230) * *((float *)&v422 + 3));
            *(float *)&v377 = *((float *)&v421 + 1);
            v252 = (float)((float)(v408 * v363) - (float)(v406 * v480)) + (float)(v409 * v374);
            v253 = (float)((float)(v406 * v374) - (float)(v407 * v363)) + (float)(v409 * v480);
            v254 = (float)(v407 * v253) - (float)(v408 * v252);
            v255 = (float)(v408 * v251) - (float)(v406 * v253);
            v256 = (float)((float)(v407 * v366) - (float)(v408 * v364)) + (float)(v409 * v483);
            *((float *)&v420 + 2) = v229 - (float)((float)(1.0 - v230) * *(float *)&v422);
            *((float *)&v421 + 3) = *((float *)&v421 + 3) - (float)((float)(1.0 - v230) * *((float *)&v423 + 1));
            v257 = (float)((float)(v408 * v483) - (float)(v406 * v366)) + (float)(v364 * v409);
            v258 = (float)((float)(v364 * v406) - (float)(v407 * v483)) + (float)(v409 * v366);
            v484 = (float)((float)((float)(v407 * v258) - (float)(v408 * v257)) + v483)
                 + (float)((float)(v407 * v258) - (float)(v408 * v257));
            v259 = (float)((float)((float)(v257 * v406) - (float)(v256 * v407)) + v366)
                 + (float)((float)(v257 * v406) - (float)(v256 * v407));
            v365 = (float)((float)((float)(v256 * v408) - (float)(v258 * v406)) + v364)
                 + (float)((float)(v256 * v408) - (float)(v258 * v406));
            v363 = (float)((float)((float)((float)((float)((float)(2.0 * *(float *)&v420) * v259)
                                                 - (float)((float)(*((float *)&v420 + 1) * 2.0) * v365))
                                         + *((float *)&v420 + 2))
                                 + (float)((float)(v254 + v363) + v254))
                         + (float)((float)(*(float *)&v420 * *(float *)&v380) - (float)(*((float *)&v420 + 1) * v376)))
                 + (float)((float)(*((float *)&v421 + 2) * v477) - (float)(*((float *)&v421 + 3) * v372));
            v260 = (float)((float)((float)((float)((float)((float)(*((float *)&v420 + 1) * 2.0) * v484)
                                                 - (float)((float)(*((float *)&v419 + 3) * 2.0) * v259))
                                         + v379)
                                 + (float)((float)(v255 + v374) + v255))
                         + (float)((float)(*((float *)&v420 + 1) * v371)
                                 - (float)(*((float *)&v419 + 3) * *(float *)&v380)))
                 + (float)((float)(*((float *)&v421 + 3) * v373) - (float)(*((float *)&v421 + 1) * v477));
            v374 = v260;
            v261 = (__int64 **)v224[0x17];
            v262 = (float)((float)((float)((float)((float)((float)(*((float *)&v419 + 3) * 2.0) * v365)
                                                 - (float)((float)(2.0 * *(float *)&v420) * v484))
                                         + *(float *)&v368)
                                 + (float)((float)((float)((float)(v406 * v252) - (float)(v407 * v251)) + v480)
                                         + (float)((float)(v406 * v252) - (float)(v407 * v251))))
                         + (float)((float)(*((float *)&v419 + 3) * v376) - (float)(v371 * *(float *)&v420)))
                 + (float)((float)(*((float *)&v421 + 1) * v372) - (float)(*((float *)&v421 + 2) * v373));
            v224 = *v261;
            v263 = (float)((float)((float)(v407 * v370) - (float)(v408 * v367)) + (float)(v409 * v369))
                 + (float)(v406 * v375);
            v264 = (float)((float)((float)(v408 * v369) - (float)(v406 * v370)) + (float)(v409 * v367))
                 + (float)(v407 * v375);
            v265 = (float)((float)((float)(v406 * v367) - (float)(v407 * v369)) + (float)(v409 * v370))
                 + (float)(v408 * v375);
            LODWORD(v230) = LODWORD(v378) ^ 0x80000000;
            v266 = (float)(v409 * v375)
                 - (float)((float)((float)(v407 * v367) + (float)(v406 * v369)) + (float)(v408 * v370));
            v375 = v266;
            v480 = v262;
            if ( v261 == *((__int64 ***)a2 + 1) )
            {
              _XMM15 = LODWORD(v363);
              __asm { vunpcklps xmm0, xmm15, xmm12 }
              *((double *)a2 + 2) = *(double *)&_XMM0;
              *((float *)a2 + 6) = v262;
              v269 = (float)((float)(v260 * v265) - (float)(v262 * v264)) + (float)(v363 * v266);
              v270 = (float)((float)(v262 * v263) - (float)(v363 * v265)) + (float)(v260 * v266);
              v271 = (float)((float)(v363 * v264) - (float)(v260 * v263)) + (float)(v262 * v266);
              *((float *)a2 + 7) = (float)(v363 + (float)((float)(v265 * v270) - (float)(v264 * v271)))
                                 + (float)((float)(v265 * v270) - (float)(v264 * v271));
              *((float *)a2 + 8) = (float)(v260 + (float)((float)(v263 * v271) - (float)(v265 * v269)))
                                 + (float)((float)(v263 * v271) - (float)(v265 * v269));
              *((float *)a2 + 9) = (float)(v262 + (float)((float)(v264 * v269) - (float)(v263 * v270)))
                                 + (float)((float)(v264 * v269) - (float)(v263 * v270));
              return 1;
            }
            v226 = v381;
            v227 = v398;
            v228 = v399;
            v483 = (float)(v371 + *(float *)&v419) + v484;
            v370 = v265;
            v366 = (float)(*((float *)&v419 + 2) + *(float *)&v380) + v259;
            v364 = (float)(*((float *)&v419 + 1) + v376) + v365;
            v369 = v263;
            v367 = v264;
            LODWORD(v378) ^= 0x80000000;
            v229 = 0.0;
            _XMM0 = 0;
            if ( !v224 )
              return 0;
          }
        }
        return 0;
      case 0x20:
        v17 = 1;
        v16 = a1 + 0x19;
        v272 = _InterlockedIncrement64(a1 + 0x19);
        if ( (v272 & 0x200000) != 0 )
          sub_1403CD0A0(a1 + 0x19, v272, (__int64)"CPhysicalEntity::GetStatus", (__int64)"m_lockUpdate", 1);
        v273 = (__int64 *)a1[0x44];
        if ( !v273 || (v274 = *v273, !*(_DWORD *)(v274 + 0x50)) )
        {
          v17 = 0;
          goto LABEL_10;
        }
        v275 = *((_QWORD *)a2 + 1);
        if ( v275 )
        {
          *(_QWORD *)v275 = 0;
          *(_DWORD *)(v275 + 8) = 0;
        }
        v276 = *(float ***)(v274 + 8);
        v277 = *(float ***)v274;
        if ( v277 == v276 )
          goto LABEL_10;
        v278 = v276;
        while ( 1 )
        {
          v279 = *v277;
          if ( (**(unsigned int (__fastcall ***)(float *))*v277)(*v277) == 0x18 )
          {
            v280 = (unsigned int (__fastcall **)(_QWORD))*((_QWORD *)v279 + 0x10);
            if ( v280 )
              break;
          }
LABEL_202:
          v277 += 0xF;
          if ( v277 == v278 )
          {
            v17 = 1;
            goto LABEL_10;
          }
        }
        v281 = *((float *)a1 + 0x77);
        v282 = *((float *)a1 + 0x76);
        v283 = *((float *)a1 + 0x78);
        v284 = *((float *)a1 + 0x79);
        v285 = (float *)(a2 + 7);
        v286 = (float *)(a2 + 8);
        v287 = (float *)(a1[0x46] + 0x20LL * *((int *)v277 + 0x1C));
        v288 = 0;
        n0x12 = 0;
        v290 = v287[1];
        v291 = v287[2];
        v292 = v287[3];
        v293 = (float)(v292 * v284)
             - (float)((float)((float)(*v287 * v282) + (float)(v290 * v281)) + (float)(v291 * v283));
        v294 = v290 * v282;
        v295 = (float)((float)((float)(v291 * v281) - (float)(v290 * v283)) + (float)(*v287 * v284))
             + (float)(v292 * v282);
        v296 = v290 * v284;
        v297 = v279[0x1A];
        v298 = v279[0x19];
        v299 = v294 - (float)(*v287 * v281);
        v300 = v292 * v281;
        v301 = v279[0x1B];
        v302 = (float)((float)((float)(*v287 * v283) - (float)(v291 * v282)) + v296) + v300;
        v303 = v291 * v284;
        v304 = v279[0x18];
        v305 = (float)(v299 + v303) + (float)(v292 * v283);
        v478 = (float)(v293 * v301)
             - (float)((float)((float)(v302 * v298) + (float)(v295 * v304)) + (float)(v305 * v297));
        v306 = (float)((float)((float)(v302 * v297) - (float)(v305 * v298)) + (float)(v293 * v304))
             + (float)(v295 * v301);
        v481 = (float)((float)((float)(v305 * v304) - (float)(v295 * v297)) + (float)(v293 * v298))
             + (float)(v302 * v301);
        v307 = v295 * v298;
        v308 = v287[7];
        v309 = (float)((float)(v307 - (float)(v302 * v304)) + (float)(v293 * v297)) + (float)(v305 * v301);
        v369 = v309;
        *(float *)&v378 = v306;
        v485 = v308;
        while ( 1 )
        {
          v310 = *((float *)a2 + 4);
          v311 = *(double *)((char *)v280 + 0xC);
          v389 = *((_DWORD *)v280 + 5);
          v388 = v311;
          *(_DWORD *)((char *)&v388 + v288) = 0;
          _XMM13 = v389;
          _XMM14 = HIDWORD(v388);
          _XMM15 = LODWORD(v388);
          *(float *)&v368 = v310;
          v381 = 0.0;
          v382 = 0.0;
          *(_DWORD *)((char *)&v381 + v288) = 0x3F800000;
          if ( (LODWORD(v310) & 0xFFA00000) == 0xFFA00000 )
            break;
          v315 = *((float *)a2 + 6);
          v316 = *((float *)a2 + 5);
          v317 = (float)((float)(v309 * v316) - (float)(v481 * v315)) + (float)(v310 * v478);
          v318 = (float)((float)(v306 * v315) - (float)(v310 * v309)) + (float)(v316 * v478);
          v319 = (float)((float)(v310 * v481) - (float)(v316 * v306)) + (float)(v315 * v478);
          v320 = (float)((float)((float)((float)((float)(v319 * *(float *)&v378) - (float)(v317 * v369)) + v316)
                               + (float)((float)(v319 * *(float *)&v378) - (float)(v317 * v369)))
                       * *((float *)&v381 + 1))
               + (float)((float)((float)((float)((float)(v309 * v318) - (float)(v481 * v319)) + v310)
                               + (float)((float)(v309 * v318) - (float)(v481 * v319)))
                       * *(float *)&v381);
          v321 = (float)((float)((float)((float)(v317 * v481) - (float)(v318 * *(float *)&v378)) + v315)
                       + (float)((float)(v317 * v481) - (float)(v318 * *(float *)&v378)))
               * v382;
          v308 = v485;
          v322 = v320 + v321;
          v323 = (float)(v320 + v321) <= 0.0;
          n0x3F800000_1 = 0x3F800000u;
          if ( !v323 )
            goto LABEL_193;
LABEL_196:
          LODWORD(v334) = LODWORD(v322) ^ 0x80000000;
          if ( COERCE_FLOAT(LODWORD(v322) ^ 0x80000000) <= 0.0 )
          {
            v285 = (float *)(a2 + 7);
            v286 = (float *)(a2 + 8);
          }
          else
          {
            v335 = *((_QWORD *)a2 + 1);
            v336 = (float)(v334 * *(float *)&v280[n0x12 + 9]) * v308;
            if ( v335 )
            {
              *(float *)(v288 + v335) = (float)((float)(v334 * *(float *)&v280[n0x12 + 9]) * v308)
                                      + *(float *)(v288 + v335);
              v285 = (float *)(a2 + 7);
              v286 = (float *)(a2 + 8);
            }
            *v285 = v336 + *v285;
            __asm
            {
              vcmpneqss xmm0, xmm14, xmm11
              vblendvps xmm1, xmm4, xmm14, xmm0
              vcmpneqss xmm0, xmm15, xmm11
              vblendvps xmm0, xmm4, xmm15, xmm0
            }
            v341 = *(float *)&_XMM1 * *(float *)&_XMM0;
            __asm
            {
              vcmpneqss xmm0, xmm13, xmm11
              vblendvps xmm1, xmm4, xmm13, xmm0
            }
            *v286 = (float)(v341 * (float)(*(float *)&_XMM1 * (float)(v334 * 4.0))) + *v286;
          }
          v306 = *(float *)&v378;
          v309 = v369;
          n0x12 += 6;
          v288 += 4;
          if ( n0x12 >= 0x12 )
            goto LABEL_202;
        }
        n0x3F800000_1 = 0x3F800000u;
        v322 = 1.0;
LABEL_193:
        v325 = *((_QWORD *)a2 + 1);
        v326 = (float)(v322 * *(float *)&v280[n0x12 + 6]) * v308;
        if ( v325 )
          *(float *)(v288 + v325) = (float)((float)(v322 * *(float *)&v280[n0x12 + 6]) * v308) + *(float *)(v288 + v325);
        *v285 = v326 + *v285;
        __asm
        {
          vcmpneqss xmm0, xmm14, xmm11
          vblendvps xmm1, xmm4, xmm14, xmm0
          vcmpneqss xmm0, xmm15, xmm11
          vblendvps xmm0, xmm4, xmm15, xmm0
        }
        v331 = *(float *)&_XMM1 * *(float *)&_XMM0;
        __asm
        {
          vcmpneqss xmm0, xmm13, xmm11
          vblendvps xmm0, xmm4, xmm13, xmm0
        }
        *v286 = (float)((float)(v331 * (float)(*(float *)&_XMM0 * 4.0)) * v322) + *v286;
        v286 = (float *)(a2 + 8);
        v285 = (float *)(a2 + 7);
        goto LABEL_196;
      case 0x21:
        return a1[0x44] != 0 ? 2 : 0;
      case 0x2A:
        return *(unsigned int *)(a1[0x54] + 0xB0);
      case 0x2B:
        v344 = (unsigned int)a2[1];
        if ( (_DWORD)v344 == 0x80000000 )
        {
          if ( !*((_QWORD *)a2 + 0xC) && !a2[0x1A] )
            return 0;
          v345 = a2 + 0x18;
          v346 = sub_1465F2900(a1[0x54]);
        }
        else
        {
          v345 = a2 + 0x18;
          v346 = sub_1465E34E0(a1[0x54], v344, a3);
        }
        if ( v346 )
        {
          *((double *)a2 + 1) = *(double *)(v346 + 0x40);
          a2[4] = *(_DWORD *)(v346 + 0x48);
          *(double *)(a2 + 5) = *(double *)(v346 + 0xC);
          a2[7] = *(_DWORD *)(v346 + 0x14);
          *((double *)a2 + 4) = *(double *)(v346 + 0x18);
          a2[0xA] = *(_DWORD *)(v346 + 0x20);
          *(double *)(a2 + 0xB) = *(double *)v346;
          a2[0xD] = *(_DWORD *)(v346 + 8);
          a2[0xE] = *(_DWORD *)(v346 + 0x24);
          a2[0xF] = *(_DWORD *)(v346 + 0x28);
          *((_QWORD *)a2 + 8) = *(_QWORD *)(v346 + 0x50);
          *((_QWORD *)a2 + 9) = *(_QWORD *)(v346 + 0x58);
          a2[0x14] = *(_DWORD *)(v346 + 0x80);
          a2[0x15] = *(_DWORD *)(v346 + 0x84);
          a2[0x16] = *(_DWORD *)(v346 + 0x88);
          *((_OWORD *)a2 + 7) = *(_OWORD *)(v346 + 0x60);
          *(_OWORD *)v345 = *(_OWORD *)(v346 + 0x70);
          a2[0x20] = *(_DWORD *)(v346 + 0x8C);
          a2[0x21] = *(_DWORD *)(v346 + 0x90);
          a2[0x22] = *(_DWORD *)(v346 + 0x94);
          a2[0x23] = *(_DWORD *)(v346 + 0x98);
          a2[0x24] = *(_DWORD *)(v346 + 0x9C);
          *((double *)a2 + 0x13) = *(double *)(v346 + 0xA0) * 0.000001;
          _XMM1 = *(unsigned __int64 *)(v346 + 0xA8);
          __asm { vcvtpd2ps xmm1, xmm1 }
          a2[0x28] = _XMM1;
          _XMM0 = *(unsigned __int64 *)(v346 + 0xB0);
          __asm { vcvtpd2ps xmm0, xmm0 }
          a2[0x29] = _XMM0;
          _XMM1 = *(unsigned __int64 *)(v346 + 0xB8);
          __asm { vcvtpd2ps xmm1, xmm1 }
          a2[0x2A] = _XMM1;
          a2[0x2C] = *(_DWORD *)(v346 + 0xC8);
          return 1;
        }
        return 0;
      case 0x2C:
        v353 = a2[1];
        if ( v353 == 0x80000000 )
        {
          v353 = 0;
          a2[1] = 0;
        }
        v354 = a1[0x54];
        v355 = *(_QWORD *)(v354 + 0x90) + 0x20LL * v353;
        epi32 = _mm_extract_epi32(*(__m128i *)v355, 2);
        *(_OWORD *)v396 = *(_OWORD *)v355;
        map_get_value_by_composite_key(v354, v396, epi32, a2 + 2);
        *((_OWORD *)a2 + 1) = *(_OWORD *)(v355 + 0x10);
        return 1;
    }
    if ( n0x30 == 0x30
      && (unsigned __int8)sub_1468CAC80(
                            (_DWORD)a1,
                            (unsigned int)v396,
                            (unsigned int)&v456,
                            (unsigned int)&v377,
                            (__int64)&v379) )
    {
      v357 = v397;
      *(_OWORD *)(a2 + 2) = *(_OWORD *)v396;
      v358 = v456;
      *((double *)a2 + 3) = v357;
      v359 = v457;
      *((_OWORD *)a2 + 2) = v358;
      LODWORD(v358) = v377;
      *((double *)a2 + 6) = v359;
      *((float *)a2 + 0xF) = v379;
      a2[0xE] = v358;
      return 1;
    }
    if ( *a2 == 0x31 )
    {
      v360 = (_QWORD *)a1[0x5B];
      if ( v360 )
      {
        *((_QWORD *)a2 + 1) = *v360;
        a2[4] = *(_DWORD *)(a1[0x5B] + 0x1D0);
        a2[5] = *(_DWORD *)(a1[0x5B] + 0x1D4);
        a2[6] = *(_DWORD *)(a1[0x5B] + 0x1D8);
        a2[7] = *(_DWORD *)(a1[0x5B] + 0x1DC);
        a2[8] = *(_DWORD *)(a1[0x5B] + 0x1E0);
        v361 = a1[0x5B];
        *(_OWORD *)(a2 + 9) = *(_OWORD *)(v361 + 0x1E4);
        *(double *)(a2 + 0xD) = *(double *)(v361 + 0x1F4);
        result = 1;
        a2[0xF] = *(_DWORD *)(a1[0x5B] + 0x1FC);
        return result;
      }
    }
    else if ( *a2 == 0x34 )
    {
      value_by_id_3 = 1;
      *((_QWORD *)a2 + 1) = a1[0x18];
      a2[4] = *((__int16 *)a1 + 0x76);
      a2[5] = *((__int16 *)a1 + 0x77);
      return (unsigned int)value_by_id_3;
    }
    return 0;
  }
  v17 = 1;
  v103 = a1 + 0x19;
  v104 = _InterlockedIncrement64(a1 + 0x19);
  if ( (v104 & 0x200000) != 0 )
    sub_1403CD0A0(a1 + 0x19, v104, (__int64)"CPhysicalEntity::GetStatus", (__int64)"m_lockUpdate", 1);
  *((_QWORD *)a2 + 4) = 0;
  v105 = a1[0x17];
  *((_QWORD *)a2 + 1) = v105;
  if ( v105 )
  {
    *((_QWORD *)a2 + 2) = *(_QWORD *)(v105 + 0x178);
    *((_QWORD *)a2 + 3) = *(_QWORD *)sub_1469197A0(v105, &v398);
  }
  v106 = (__int64 *)*((_QWORD *)a2 + 1);
  if ( v106 )
  {
    v107 = *v106;
    *((_QWORD *)a2 + 4) = *v106;
    if ( v107 )
    {
      v108 = *v106;
      *(_OWORD *)(a2 + 0xA) = *(_OWORD *)(*v106 + 0x1C0);
      *((double *)a2 + 7) = *(double *)(v108 + 0x1D0);
      v109 = (_DWORD *)*v106;
      a2[0x10] = v109[0x76];
      a2[0x11] = v109[0x77];
      a2[0x12] = v109[0x78];
      a2[0x13] = v109[0x79];
    }
  }
  v110 = _InterlockedDecrement64(v103);
  if ( (v110 & 0x3FF) != 0 || (v110 & 0xFFFF0000FFC00000uLL) == 0 )
    return v17;
  sub_1403CD3A0(v103, v110);
  return 1;
}

// --- End Function: CPhysicalEntity::GetStatus (0x1468CD670) ---

// --- Function: sub_1468D0530 (0x1468D0530) ---
bool __fastcall sub_1468D0530(Parameter *Parameter, __int64 a2)
{
  __int64 v3; // rcx
  __int64 v4; // rax
  char v6; // [rsp+38h] [rbp+10h] BYREF

  if ( *(_BYTE *)(a2 + 0x62) || !*(_BYTE *)(a2 + 0xBD) )
    return 0;
  v3 = *((_QWORD *)Parameter + 0x17);
  v4 = 0;
  if ( v3 )
    v4 = *(_QWORD *)sub_1469197A0(v3, &v6);
  return v4 == *(_QWORD *)(a2 + 0xA8);
}

// --- End Function: sub_1468D0530 (0x1468D0530) ---

// --- Function: sub_1468D70F0 (0x1468D70F0) ---
__int64 __fastcall sub_1468D70F0(__int64 a1, __int64 a2, unsigned int a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int64 v6; // r12
  __int64 v8; // r13
  int v10; // edi
  __int64 v11; // r8
  __int64 v12; // r8
  int v13; // eax
  __int64 v14; // rcx
  __int64 v15; // r14
  __int64 v16; // rax
  BOOL v17; // esi
  int n6; // eax
  const char *p_m_lockUpdate; // rdx
  int v22; // eax
  _DWORD *v23; // r8
  volatile signed __int64 *v24; // rdi
  __int64 v25; // rax
  unsigned __int64 n0x200000_3; // rax
  __int64 v27; // r14
  int v28; // esi
  __int64 v29; // rdi
  int v30; // eax
  const char *v31; // rax
  double *v32; // rax
  double v33; // xmm14_8
  double v34; // xmm13_8
  double v35; // xmm15_8
  double v36; // xmm11_8
  unsigned __int64 v45; // rdx
  __int64 v46; // rax
  __int64 v47; // rax
  __int64 v48; // r8
  __int32 v49; // eax
  __int32 v50; // edx
  __int64 v51; // rdi
  __int64 v52; // rsi
  __int64 v53; // rbx
  __int64 v54; // rcx
  float v55; // xmm9_4
  float v56; // xmm6_4
  float v57; // xmm7_4
  float v58; // xmm5_4
  float v59; // xmm13_4
  float v60; // xmm8_4
  float v61; // xmm11_4
  float v62; // xmm3_4
  float v63; // xmm7_4
  float v64; // xmm10_4
  float v65; // xmm2_4
  float v66; // xmm4_4
  float v67; // xmm5_4
  float v68; // xmm8_4
  float v69; // xmm9_4
  float v70; // xmm12_4
  float v71; // xmm1_4
  float v72; // xmm3_4
  float v73; // xmm1_4
  float v74; // xmm0_4
  float v75; // xmm8_4
  float v76; // xmm6_4
  float v77; // xmm7_4
  float v78; // xmm13_4
  float v79; // xmm11_4
  float v80; // xmm2_4
  float v81; // xmm6_4
  float v82; // xmm12_4
  float v83; // kr00_4
  float v84; // xmm15_4
  float v85; // xmm13_4
  float v86; // xmm10_4
  float v87; // xmm8_4
  float v88; // xmm4_4
  float v89; // xmm9_4
  float v90; // xmm5_4
  float v91; // xmm4_4
  float v92; // xmm6_4
  float v93; // xmm11_4
  float v94; // xmm7_4
  float v95; // xmm2_4
  __m128 v96; // xmm5
  float v97; // xmm9_4
  float v98; // xmm8_4
  float v99; // xmm7_4
  float v100; // xmm6_4
  float v101; // xmm4_4
  __int128 v102; // kr00_16
  __int128 v103; // xmm5
  __int128 v104; // kr00_16
  __int128 v105; // xmm4
  __int128 v106; // xmm11
  __int128 v107; // xmm2
  __int128 v108; // kr00_16
  __int128 v109; // xmm10
  __int128 v110; // xmm9
  __int128 v111; // kr00_16
  __int128 v112; // xmm0
  __int128 v113; // xmm1
  __int128 v114; // kr00_16
  __int128 v115; // xmm3
  __int128 v116; // kr00_16
  __int128 v117; // xmm8
  __int128 v118; // xmm7
  __int128 v119; // xmm4
  __int64 v132; // rax
  __int64 v133; // r9
  __int64 v134; // rbx
  __int64 v135; // rdi
  int v136; // esi
  __int64 v137; // rcx
  float v138; // xmm4_4
  float v139; // xmm1_4
  float v140; // xmm6_4
  float v141; // eax
  __int64 v142; // rcx
  __int64 v143; // rax
  __int64 v144; // rax
  __int64 v145; // rcx
  __int64 v146; // rax
  unsigned __int8 v147; // bl
  __int64 v148; // rcx
  _QWORD *v149; // rcx
  char v150; // cl
  __int64 v151; // r8
  volatile signed __int64 *v152; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v154; // rax
  unsigned __int64 n0x200000_2; // rax
  volatile signed __int64 *v156; // rcx
  int v157; // eax
  __int64 v158; // rax
  __int64 v159; // rbx
  __int64 v160; // rcx
  __int64 v161; // rax
  char v162; // cl
  __int64 v163; // r8
  __int64 v164; // rax
  __int64 v165; // rcx
  __int64 v166; // r9
  volatile signed __int64 *v167; // r14
  volatile signed __int64 *v168; // r8
  __int16 v169; // ax
  bool v170; // zf
  unsigned __int64 n0x200000_1; // rax
  volatile signed __int64 *v172; // rcx
  volatile signed __int64 *v173; // rbx
  __int64 v174; // rax
  __int64 v175; // rcx
  bool v176; // r14
  int v177; // ecx
  int v178; // r9d
  int v179; // r8d
  int v180; // r8d
  __int64 v181; // r10
  int v182; // eax
  __int64 i; // rbx
  __int64 v184; // rcx
  int value_by_id_7; // eax
  __int64 v186; // rax
  unsigned __int64 n0x200000_4; // rax
  signed __int64 v188; // rdx
  unsigned __int64 v189; // rdx
  unsigned __int64 *v190; // rax
  signed __int64 v191; // rdx
  unsigned __int64 v192; // rbx
  int value_by_id_1; // ebx
  float v194; // xmm7_4
  __int64 v195; // rax
  unsigned __int64 n0x200000_5; // rax
  __int64 v197; // rcx
  _QWORD *v202; // rcx
  __int64 value_by_id_2; // rdx
  __int64 v204; // r10
  __int64 v205; // rax
  __int64 v206; // rdx
  __int64 v207; // rcx
  __int64 v208; // rbx
  __int64 v209; // rax
  __int64 v210; // r10
  int v211; // eax
  __int128 v212; // kr00_16
  __int64 v215; // rax
  __m128 v216; // xmm0
  __m128 v217; // xmm2
  __int64 v218; // rax
  __int64 v219; // rcx
  __int64 v220; // rax
  volatile signed __int64 *v221; // rcx
  unsigned __int64 n0x200000_6; // rax
  int v223; // edx
  __int64 v224; // rax
  __int64 v225; // rcx
  const void *v226; // rcx
  int v227; // r8d
  __int64 v228; // rcx
  _DWORD *v229; // rax
  __int64 v234; // rdi
  __int64 v235; // rax
  int value_by_id_10; // r8d
  __int64 value_by_id_11; // rcx
  _DWORD *v238; // rdx
  int value_by_id_3; // ebx
  __int64 v240; // rdx
  unsigned __int64 n0x200000_7; // rax
  __int64 v242; // rcx
  unsigned int n2; // eax
  int v244; // ecx
  __int64 v245; // rdx
  int value_by_id_5; // edi
  __int64 v247; // rcx
  __int16 v248; // dx
  __int16 v249; // dx
  unsigned __int64 n0x200000_9; // rax
  __int64 v251; // rdx
  __int64 v252; // rdx
  __int64 v253; // rax
  unsigned __int8 v254; // bl
  __int64 v255; // rcx
  _QWORD *v256; // rcx
  volatile signed __int64 *v257; // rcx
  unsigned __int64 n0x200000_8; // rax
  __int64 v259; // rdx
  int value_by_id_6; // edx
  __int64 v261; // r9
  __int64 v262; // r8
  __int64 v263; // rcx
  __int64 v264; // rax
  unsigned __int64 n0x200000_10; // rax
  __int64 v266; // rdx
  unsigned __int64 n0x200000_11; // rax
  __int64 v268; // rdx
  int v269; // r14d
  unsigned __int64 n0x200000_12; // rax
  int v271; // eax
  int v272; // eax
  int v273; // r8d
  int v274; // edx
  int v275; // eax
  int v276; // ecx
  int v277; // esi
  __int64 v278; // r13
  volatile signed __int64 *v279; // r13
  __int64 v280; // rax
  int v281; // eax
  __int64 v282; // rcx
  __int64 v283; // rdx
  unsigned __int64 n0x200000_14; // rax
  volatile signed __int64 *v285; // rsi
  __int64 v286; // rax
  unsigned __int64 n0x200000_13; // rax
  __int64 v288; // rax
  signed __int32 v289; // eax
  signed __int32 v290; // ett
  signed __int32 v291; // eax
  signed __int32 v292; // ett
  int v293; // edx
  _DWORD *v294; // rax
  __int64 v295; // rcx
  __int64 v296; // rdx
  __int64 v297; // rcx
  __int64 v298; // rcx
  int v299; // eax
  int v300; // ebx
  int v301; // r8d
  __int64 v302; // rcx
  _DWORD *v303; // rdx
  __int64 v304; // rax
  __int64 v305; // rdx
  int v318; // r9d
  int n0x14_1; // eax
  int n0x14; // ecx
  int n0x14_2; // eax
  float v323; // xmm1_4
  __int64 v324; // rcx
  __int64 v325; // rcx
  __int64 v326; // rdx
  __int64 v327; // rcx
  unsigned __int64 n0x200000_15; // rax
  volatile signed __int64 *v329; // r14
  __int64 v330; // rdx
  int v331; // ecx
  __int64 v332; // rax
  __int64 v333; // rcx
  __int64 v334; // rax
  __int64 v335; // rcx
  __int64 v336; // rcx
  __int64 v337; // rax
  int sub_part_id; // edx
  __int64 *v339; // rbx
  int sub_part_id_1; // eax
  __int64 v341; // rcx
  __int64 v342; // rax
  __int64 v343; // r9
  __int64 j; // rdx
  int v345; // eax
  __int64 v346; // r15
  __int64 v347; // rdx
  int v348; // r8d
  int v349; // eax
  int v350; // ecx
  __int64 v351; // rdx
  __int64 v352; // rcx
  __int64 v353; // rax
  unsigned __int64 n0x200000_16; // rax
  volatile signed __int64 *v355; // rbx
  __int64 v356; // rax
  __int64 v357; // rax
  char v358; // al
  __int16 v359; // cx
  char v360; // bl
  unsigned __int64 n0x200000_17; // rax
  double v362; // xmm14_8
  int v363; // eax
  int v364; // ebx
  double v365; // xmm12_8
  double v366; // xmm11_8
  double v367; // xmm6_8
  float v368; // xmm13_4
  double v369; // xmm5_8
  double v370; // xmm8_8
  double v371; // xmm4_8
  __int128 v372; // kr00_16
  __int128 v373; // xmm9
  __int128 v374; // xmm7
  double v375; // xmm4_8
  double v381; // xmm2_8
  double v383; // xmm14_8
  double v384; // xmm15_8
  float v385; // xmm10_4
  __int128 v386; // xmm8
  __int128 v387; // kr00_16
  float v388; // xmm3_4
  float v389; // xmm13_4
  __int128 v390; // xmm5
  __int128 v391; // kr00_16
  __int128 n0x3F800000; // kr00_16
  __int128 n0x3F800000_1; // xmm2
  float v395; // xmm7_4
  __int128 v396; // kr00_16
  float v399; // xmm11_4
  float v400; // xmm10_4
  __int128 v401; // kr00_16
  float v402; // xmm8_4
  float v403; // xmm12_4
  __int64 v406; // rax
  _QWORD *v407; // rax
  __int64 v408; // rax
  __int64 v409; // rcx
  int v410; // edx
  int v411; // r9d
  _DWORD *v412; // rax
  __int64 v413; // rcx
  int v414; // ebx
  int v415; // eax
  int v416; // eax
  __int64 v417; // rsi
  __int64 v418; // rdi
  int v419; // ebx
  int n0x40_1; // r13d
  __int64 v421; // r8
  __int64 v422; // rdx
  __int64 v423; // rcx
  _DWORD *v424; // rax
  __int64 v425; // rdx
  __int64 v426; // r8
  __int64 v427; // r9
  __int64 v428; // r8
  __int64 v429; // rcx
  __int64 v430; // rcx
  __int64 v431; // rdx
  __int64 v432; // r8
  _DWORD *v433; // rcx
  __int64 v434; // r8
  void (__fastcall ***v435)(_QWORD); // rcx
  __int64 v436; // r8
  __int64 v437; // rdx
  int v438; // r9d
  __int64 v439; // r14
  int v440; // esi
  __int64 v441; // rdi
  int v442; // eax
  const char *v443; // rax
  __int64 v444; // rcx
  __int64 v445; // rdi
  int v446; // r8d
  __int64 v447; // rbx
  __int64 v448; // rax
  unsigned __int64 v449; // rdx
  __int64 v450; // rcx
  __int64 v451; // rcx
  __int64 v452; // rax
  __m128 v453; // xmm5
  float v454; // xmm3_4
  float v455; // xmm2_4
  float v456; // xmm8_4
  float v457; // xmm12_4
  __m128 v458; // xmm6
  __m128 v459; // kr00_16
  float v460; // xmm7_4
  float v461; // xmm10_4
  float v462; // xmm3_4
  __m128 v463; // xmm4
  __m128 v464; // kr00_16
  float v465; // xmm11_4
  float v466; // xmm13_4
  float v467; // xmm1_4
  float v468; // xmm5_4
  __m128 n0x3F800000_3; // xmm0
  __m128 n0x3F800000_2; // kr00_16
  __m128 v471; // xmm15
  __m128 v472; // kr00_16
  float v473; // xmm7_4
  __m128 n0x3F800000_5; // xmm2
  __m128 n0x3F800000_4; // kr00_16
  float v476; // xmm3_4
  __m128 v477; // xmm9
  __m128 v478; // kr00_16
  float v479; // xmm8_4
  __m128 n0x3F800000_7; // xmm6
  __m128 n0x3F800000_6; // kr00_16
  float v482; // xmm11_4
  float v483; // xmm13_4
  float v484; // kr00_4
  __int64 v485; // rax
  int v486; // r9d
  __int64 v487; // r8
  __m128 v488; // kr00_16
  __m128 v491; // xmm3
  __m128 v492; // kr00_16
  float v493; // xmm11_4
  float v494; // xmm12_4
  __m128 n0x3F800000_9; // xmm8
  __m128 n0x3F800000_8; // kr00_16
  __m128 n0x3F800000_10; // kr00_16
  float v498; // xmm7_4
  __m128 n0x3F800000_11; // xmm6
  float v500; // xmm5_4
  __m128 v501; // kr00_16
  float v504; // xmm9_4
  __m128 n0x3F800000_13; // xmm4
  float v506; // xmm6_4
  float v507; // xmm5_4
  __m128 n0x3F800000_12; // kr00_16
  float v509; // xmm13_4
  float v510; // xmm15_4
  float v511; // xmm3_4
  float v512; // xmm7_4
  float v513; // xmm1_4
  float v514; // xmm0_4
  __m128 n0x3F800000_16; // kr00_16
  __m128 v516; // xmm1
  __m128 n0x3F800000_15; // kr00_16
  __m128 v518; // xmm1
  __m128 n0x3F800000_14; // kr00_16
  __m128 v520; // xmm4
  __m128 v521; // xmm4
  __int64 v523; // rdx
  __int64 v524; // rcx
  __int64 v526; // r13
  __int64 v527; // r12
  __int64 v528; // rax
  unsigned __int64 v529; // rdx
  __int64 v530; // rcx
  __int64 v531; // rdx
  __int64 v532; // rdx
  __int64 v533; // r8
  float v534; // xmm0_4
  __int64 v535; // rdx
  __int64 v536; // rdi
  __int64 v537; // rax
  unsigned __int64 v538; // rdx
  __int64 v539; // rcx
  __int64 v540; // r8
  __int64 v541; // rdx
  __int64 v542; // rcx
  __int64 v543; // rdx
  __int64 v544; // rax
  __int64 v545; // rax
  __int64 v546; // rcx
  void (__fastcall *v547)(__int64, __int64, __int128 *, float *, int); // r10
  char v548; // bl
  __int64 v549; // r8
  __int64 v550; // rdx
  __m128 v551; // xmm1
  float v552; // r10d
  __int64 *v553; // r9
  float v554; // xmm6_4
  __int64 v555; // r8
  __int64 v556; // rax
  __m128 v557; // xmm0
  __int64 *v558; // r8
  float v559; // xmm9_4
  float v560; // xmm7_4
  float v561; // xmm2_4
  __int64 v562; // rax
  __int64 v563; // rdx
  __int64 v564; // r8
  __int64 v565; // rdx
  __int64 v566; // rax
  __int64 v567; // rax
  __int64 v568; // r9
  __int64 v569; // r8
  __int64 v570; // rdx
  __int64 v571; // rsi
  __int64 *v572; // rdx
  __int64 v573; // rcx
  __int64 v574; // rax
  __int64 v575; // rdx
  __int64 v576; // rdx
  __int64 *v577; // rax
  __int128 v578; // xmm0
  __int64 v579; // rax
  __int128 v580; // xmm1
  __int64 v581; // rax
  __int64 v582; // rax
  __int64 v583; // rdx
  __int64 v584; // rcx
  __int64 v585; // rax
  __int64 v586; // rbx
  _QWORD *v587; // rax
  int v588; // edx
  int v589; // r8d
  __int64 v590; // rcx
  __int64 v592; // rbx
  __int64 v593; // r13
  const sockaddr *p_p_p_p_p_p_p_p_p_p_p_p_p_Source; // rcx
  unsigned __int64 v595; // r8
  __int64 v596; // rax
  __int64 v597; // rdx
  __int64 v598; // rbx
  __int64 v599; // rcx
  __int64 v600; // rdx
  unsigned __int64 n0x200000_18; // rax
  __int64 v602; // rcx
  __int64 v603; // rdx
  __int64 v604; // rbx
  volatile signed __int64 *v605; // rbx
  __int64 v606; // rax
  volatile signed __int64 *v607; // rcx
  unsigned __int64 n0x200000_19; // rax
  __int64 v609; // rcx
  _QWORD *v610; // rcx
  __int64 v611; // r8
  __int64 v612; // rcx
  const char *v613; // rax
  const char *v614; // rbx
  const char *v615; // rax
  __int64 v616; // r14
  __int64 v621; // rax
  signed __int64 v622; // rdx
  char v623; // bl
  int v624; // r13d
  __int64 v625; // rbx
  __int64 v626; // rcx
  __int128 n0x3F800000_17; // kr00_16
  float v628; // xmm4_4
  __int128 n0x3F800000_18; // xmm2
  const void **v631; // rbx
  const void *v632; // rbx
  __int64 v633; // rax
  const void *v634; // rbx
  __int64 n0x10_1; // rbx
  __int64 v636; // rax
  __int64 v637; // rcx
  __int64 *v638; // rcx
  __int64 v639; // rsi
  __int64 v640; // rdi
  unsigned __int64 v641; // rdx
  volatile signed __int64 *v642; // rcx
  unsigned __int64 n0x200000_20; // rax
  __int64 v644; // rdx
  __int64 v645; // rax
  unsigned __int8 v646; // bl
  __int64 v647; // rcx
  _QWORD *v648; // rcx
  unsigned __int64 n0x200000_21; // rax
  __int64 v650; // rdx
  unsigned __int64 n0x200000_22; // rax
  __int64 v652; // rdx
  __int64 v653; // rax
  unsigned __int8 v654; // al
  __int64 v655; // rcx
  unsigned __int8 v656; // bl
  _QWORD *v657; // rcx
  __int64 v658; // rdx
  __int64 v659; // rax
  __int64 v660; // rdx
  __int128 *v661; // r8
  _QWORD *v662; // r10
  __int64 v663; // rbx
  __int64 v664; // rcx
  __int64 v665; // rbx
  __int64 v666; // r14
  unsigned __int64 v667; // rcx
  __int64 v668; // rdx
  char v669; // al
  __int64 v670; // r14
  unsigned __int64 n0x200000_23; // rax
  __int64 v672; // rcx
  int n0xFFFF; // eax
  int v677; // eax
  char v678; // dl
  char v679; // r14
  int v680; // ecx
  int v681; // eax
  double v682; // xmm0_8
  float *v689; // rax
  __int64 v690; // rcx
  __int64 v691; // rcx
  __int64 v692; // rcx
  int v693; // eax
  __int64 v694; // rdx
  signed __int32 *v695; // roff
  signed __int32 v696; // eax
  signed __int32 v697; // ett
  int v699; // [rsp+20h] [rbp-27F8h]
  char v700; // [rsp+28h] [rbp-27F0h]
  int v701; // [rsp+30h] [rbp-27E8h]
  int v702; // [rsp+60h] [rbp-27B8h]
  int v703; // [rsp+60h] [rbp-27B8h]
  float v704; // [rsp+60h] [rbp-27B8h]
  char v705; // [rsp+64h] [rbp-27B4h]
  bool v706; // [rsp+64h] [rbp-27B4h]
  char v707; // [rsp+64h] [rbp-27B4h]
  int v708; // [rsp+68h] [rbp-27B0h]
  int value_by_id; // [rsp+68h] [rbp-27B0h]
  int v710; // [rsp+68h] [rbp-27B0h]
  __int64 v711; // [rsp+70h] [rbp-27A8h]
  __int64 v712; // [rsp+70h] [rbp-27A8h]
  __int64 v713; // [rsp+70h] [rbp-27A8h]
  __int64 v714; // [rsp+70h] [rbp-27A8h]
  __int64 v715; // [rsp+70h] [rbp-27A8h]
  __int64 v716; // [rsp+70h] [rbp-27A8h]
  __int64 v717; // [rsp+70h] [rbp-27A8h]
  __int64 v718; // [rsp+70h] [rbp-27A8h]
  double v719; // [rsp+70h] [rbp-27A8h]
  _DWORD *v720; // [rsp+70h] [rbp-27A8h]
  __int64 v721; // [rsp+70h] [rbp-27A8h]
  __int64 v722; // [rsp+70h] [rbp-27A8h]
  volatile signed __int64 *v723; // [rsp+70h] [rbp-27A8h]
  __int64 v724; // [rsp+78h] [rbp-27A0h]
  float v725; // [rsp+78h] [rbp-27A0h]
  int v726; // [rsp+78h] [rbp-27A0h]
  int v727; // [rsp+80h] [rbp-2798h]
  float v728; // [rsp+80h] [rbp-2798h]
  int value_by_id_9; // [rsp+80h] [rbp-2798h]
  int v730; // [rsp+80h] [rbp-2798h]
  int v731; // [rsp+80h] [rbp-2798h]
  int v732; // [rsp+84h] [rbp-2794h]
  float v733; // [rsp+84h] [rbp-2794h]
  int v734; // [rsp+84h] [rbp-2794h]
  float v735; // [rsp+88h] [rbp-2790h]
  int v736; // [rsp+88h] [rbp-2790h]
  unsigned int n0x40; // [rsp+88h] [rbp-2790h]
  int v738; // [rsp+88h] [rbp-2790h]
  char v739; // [rsp+8Ch] [rbp-278Ch]
  int value_by_id_8; // [rsp+90h] [rbp-2788h]
  float v741; // [rsp+90h] [rbp-2788h]
  int v742; // [rsp+90h] [rbp-2788h]
  float v743; // [rsp+90h] [rbp-2788h]
  volatile signed __int64 *v744; // [rsp+98h] [rbp-2780h]
  volatile signed __int64 *v745; // [rsp+98h] [rbp-2780h]
  __int64 v746; // [rsp+98h] [rbp-2780h]
  volatile signed __int64 *v747; // [rsp+98h] [rbp-2780h]
  __int64 v748; // [rsp+98h] [rbp-2780h]
  volatile signed __int64 *v749; // [rsp+98h] [rbp-2780h]
  volatile signed __int64 *v750; // [rsp+A0h] [rbp-2778h]
  __int64 v751; // [rsp+A0h] [rbp-2778h]
  __int64 v752; // [rsp+A0h] [rbp-2778h]
  char v753[4]; // [rsp+A8h] [rbp-2770h] BYREF
  int v754; // [rsp+ACh] [rbp-276Ch]
  float v755; // [rsp+B0h] [rbp-2768h]
  float v756; // [rsp+B4h] [rbp-2764h]
  float v757; // [rsp+B8h] [rbp-2760h]
  float v758; // [rsp+BCh] [rbp-275Ch]
  float v759; // [rsp+C0h] [rbp-2758h]
  float v760; // [rsp+C4h] [rbp-2754h]
  float v761; // [rsp+C8h] [rbp-2750h]
  unsigned __int64 v762; // [rsp+D0h] [rbp-2748h]
  float v763; // [rsp+E0h] [rbp-2738h] BYREF
  float v764; // [rsp+E4h] [rbp-2734h]
  float v765; // [rsp+E8h] [rbp-2730h]
  float v766; // [rsp+ECh] [rbp-272Ch]
  double v767; // [rsp+F0h] [rbp-2728h]
  int v768; // [rsp+F8h] [rbp-2720h]
  float v769; // [rsp+FCh] [rbp-271Ch]
  __int64 v770; // [rsp+100h] [rbp-2718h]
  __int128 v771; // [rsp+108h] [rbp-2710h] BYREF
  double v772; // [rsp+118h] [rbp-2700h]
  float v773; // [rsp+120h] [rbp-26F8h]
  float v774; // [rsp+124h] [rbp-26F4h]
  float v775; // [rsp+128h] [rbp-26F0h]
  float v776; // [rsp+12Ch] [rbp-26ECh]
  __int64 v777; // [rsp+130h] [rbp-26E8h]
  _BYTE v778[48]; // [rsp+138h] [rbp-26E0h] BYREF
  __int128 v779; // [rsp+168h] [rbp-26B0h] BYREF
  __int64 v780; // [rsp+178h] [rbp-26A0h]
  __int64 v781; // [rsp+180h] [rbp-2698h] BYREF
  float v782; // [rsp+188h] [rbp-2690h]
  __int64 v783; // [rsp+18Ch] [rbp-268Ch]
  float v784; // [rsp+194h] [rbp-2684h]
  float v785; // [rsp+198h] [rbp-2680h] BYREF
  float v786; // [rsp+19Ch] [rbp-267Ch]
  float v787; // [rsp+1A0h] [rbp-2678h]
  float v788; // [rsp+1A4h] [rbp-2674h]
  double v789; // [rsp+1A8h] [rbp-2670h]
  float v790; // [rsp+1B0h] [rbp-2668h]
  float v791; // [rsp+1B4h] [rbp-2664h]
  int n0x2B; // [rsp+1B8h] [rbp-2660h] BYREF
  float v793; // [rsp+1BCh] [rbp-265Ch]
  float v794; // [rsp+1C0h] [rbp-2658h]
  __int64 v795; // [rsp+1C8h] [rbp-2650h] BYREF
  float v796; // [rsp+1D0h] [rbp-2648h]
  float v797; // [rsp+1D4h] [rbp-2644h]
  float v798; // [rsp+1D8h] [rbp-2640h]
  float v799; // [rsp+1DCh] [rbp-263Ch]
  double v800; // [rsp+1E0h] [rbp-2638h]
  float v801; // [rsp+1E8h] [rbp-2630h]
  float v802; // [rsp+1ECh] [rbp-262Ch]
  __int64 v803; // [rsp+1F0h] [rbp-2628h] BYREF
  float v804; // [rsp+1F8h] [rbp-2620h]
  float v805; // [rsp+1FCh] [rbp-261Ch]
  float v806; // [rsp+200h] [rbp-2618h]
  float v807; // [rsp+204h] [rbp-2614h]
  double v808; // [rsp+208h] [rbp-2610h]
  int v809; // [rsp+210h] [rbp-2608h]
  float v810; // [rsp+214h] [rbp-2604h]
  float v811[3]; // [rsp+218h] [rbp-2600h] BYREF
  float v812; // [rsp+224h] [rbp-25F4h]
  float v813; // [rsp+228h] [rbp-25F0h]
  float v814; // [rsp+22Ch] [rbp-25ECh]
  float v815; // [rsp+230h] [rbp-25E8h]
  float v816; // [rsp+234h] [rbp-25E4h]
  float v817; // [rsp+238h] [rbp-25E0h]
  float v818; // [rsp+23Ch] [rbp-25DCh]
  float v819; // [rsp+240h] [rbp-25D8h]
  float v820; // [rsp+244h] [rbp-25D4h]
  float v821; // [rsp+250h] [rbp-25C8h] BYREF
  float v822; // [rsp+254h] [rbp-25C4h]
  float v823; // [rsp+258h] [rbp-25C0h]
  float v824; // [rsp+25Ch] [rbp-25BCh]
  float v825; // [rsp+260h] [rbp-25B8h]
  float v826; // [rsp+264h] [rbp-25B4h]
  float v827; // [rsp+268h] [rbp-25B0h]
  float v828; // [rsp+26Ch] [rbp-25ACh]
  float v829; // [rsp+270h] [rbp-25A8h]
  float v830; // [rsp+278h] [rbp-25A0h]
  float v831; // [rsp+27Ch] [rbp-259Ch]
  float v832; // [rsp+280h] [rbp-2598h]
  float v833; // [rsp+284h] [rbp-2594h]
  float v834; // [rsp+288h] [rbp-2590h]
  float v835; // [rsp+28Ch] [rbp-258Ch]
  _DWORD v836[4]; // [rsp+290h] [rbp-2588h] BYREF
  double v837; // [rsp+2A0h] [rbp-2578h]
  float v838; // [rsp+2A8h] [rbp-2570h]
  float v839; // [rsp+2ACh] [rbp-256Ch]
  __int128 *v840; // [rsp+2B0h] [rbp-2568h] BYREF
  _QWORD *v841; // [rsp+2B8h] [rbp-2560h]
  _DWORD v842[2]; // [rsp+2C0h] [rbp-2558h] BYREF
  __int64 v843; // [rsp+2C8h] [rbp-2550h] BYREF
  float v844[4]; // [rsp+2D0h] [rbp-2548h] BYREF
  _DWORD v845[4]; // [rsp+2E0h] [rbp-2538h] BYREF
  _DWORD v846[4]; // [rsp+2F0h] [rbp-2528h] BYREF
  float v847[8]; // [rsp+300h] [rbp-2518h] BYREF
  __int128 v848; // [rsp+320h] [rbp-24F8h] BYREF
  double v849; // [rsp+330h] [rbp-24E8h]
  __int128 v850; // [rsp+338h] [rbp-24E0h]
  double v851; // [rsp+348h] [rbp-24D0h]
  __int64 v852; // [rsp+350h] [rbp-24C8h]
  __int64 v853; // [rsp+358h] [rbp-24C0h] BYREF
  __int64 v854; // [rsp+360h] [rbp-24B8h]
  __int64 v855; // [rsp+368h] [rbp-24B0h]
  __int64 v856; // [rsp+370h] [rbp-24A8h]
  __int64 v857; // [rsp+378h] [rbp-24A0h]
  double v858; // [rsp+380h] [rbp-2498h]
  int v859; // [rsp+388h] [rbp-2490h]
  double v860; // [rsp+390h] [rbp-2488h]
  float v861; // [rsp+398h] [rbp-2480h]
  int v862; // [rsp+3A0h] [rbp-2478h] BYREF
  __int64 v863; // [rsp+3A8h] [rbp-2470h]
  _QWORD v864[4]; // [rsp+3B0h] [rbp-2468h] BYREF
  int v865; // [rsp+3D0h] [rbp-2448h]
  int v866; // [rsp+3D4h] [rbp-2444h]
  __int64 v867; // [rsp+3D8h] [rbp-2440h]
  char v868; // [rsp+3E0h] [rbp-2438h]
  char v869; // [rsp+3E1h] [rbp-2437h]
  int v870; // [rsp+3E2h] [rbp-2436h]
  __int16 v871; // [rsp+3E6h] [rbp-2432h]
  int n0x2800_7; // [rsp+3F0h] [rbp-2428h] BYREF
  __int64 v873; // [rsp+3F4h] [rbp-2424h]
  int v874; // [rsp+3FCh] [rbp-241Ch]
  __int64 v875; // [rsp+400h] [rbp-2418h]
  unsigned __int64 v876; // [rsp+408h] [rbp-2410h]
  __int64 v877; // [rsp+410h] [rbp-2408h]
  __int64 v878; // [rsp+418h] [rbp-2400h]
  int n0xB; // [rsp+440h] [rbp-23D8h] BYREF
  unsigned __int64 v880; // [rsp+448h] [rbp-23D0h]
  unsigned int v881; // [rsp+450h] [rbp-23C8h]
  int n0x15F; // [rsp+454h] [rbp-23C4h]
  unsigned int v883; // [rsp+458h] [rbp-23C0h]
  int v884; // [rsp+45Ch] [rbp-23BCh]
  __int128 v885; // [rsp+460h] [rbp-23B8h] BYREF
  double v886; // [rsp+470h] [rbp-23A8h]
  __int128 v887; // [rsp+478h] [rbp-23A0h]
  double v888; // [rsp+488h] [rbp-2390h]
  int n0x2800_13; // [rsp+490h] [rbp-2388h] BYREF
  __int64 v890; // [rsp+494h] [rbp-2384h]
  int v891; // [rsp+49Ch] [rbp-237Ch]
  __int64 v892; // [rsp+4A0h] [rbp-2378h]
  unsigned __int64 v893; // [rsp+4A8h] [rbp-2370h]
  __int64 v894; // [rsp+4B0h] [rbp-2368h]
  __int64 v895; // [rsp+4B8h] [rbp-2360h]
  int n0x2800_1; // [rsp+4E0h] [rbp-2338h] BYREF
  __int64 v897; // [rsp+4E4h] [rbp-2334h]
  int v898; // [rsp+4ECh] [rbp-232Ch]
  __int64 v899; // [rsp+4F0h] [rbp-2328h]
  unsigned __int64 v900; // [rsp+4F8h] [rbp-2320h]
  __int64 v901; // [rsp+500h] [rbp-2318h]
  __int64 v902; // [rsp+508h] [rbp-2310h]
  int n0x2800_2; // [rsp+530h] [rbp-22E8h] BYREF
  __int64 v904; // [rsp+534h] [rbp-22E4h]
  int v905; // [rsp+53Ch] [rbp-22DCh]
  __int64 v906; // [rsp+540h] [rbp-22D8h]
  unsigned __int64 v907; // [rsp+548h] [rbp-22D0h]
  __int64 v908; // [rsp+550h] [rbp-22C8h]
  __int64 v909; // [rsp+558h] [rbp-22C0h]
  int n0x2800_3; // [rsp+580h] [rbp-2298h] BYREF
  __int64 v911; // [rsp+584h] [rbp-2294h]
  int v912; // [rsp+58Ch] [rbp-228Ch]
  __int64 v913; // [rsp+590h] [rbp-2288h]
  unsigned __int64 v914; // [rsp+598h] [rbp-2280h]
  __int64 v915; // [rsp+5A0h] [rbp-2278h]
  __int64 v916; // [rsp+5A8h] [rbp-2270h]
  int n0x2800_4; // [rsp+5D0h] [rbp-2248h] BYREF
  __int64 v918; // [rsp+5D4h] [rbp-2244h]
  int v919; // [rsp+5DCh] [rbp-223Ch]
  __int64 v920; // [rsp+5E0h] [rbp-2238h]
  unsigned __int64 v921; // [rsp+5E8h] [rbp-2230h]
  __int64 v922; // [rsp+5F0h] [rbp-2228h]
  __int64 v923; // [rsp+5F8h] [rbp-2220h]
  int n0x2800_5; // [rsp+620h] [rbp-21F8h] BYREF
  __int64 v925; // [rsp+624h] [rbp-21F4h]
  int v926; // [rsp+62Ch] [rbp-21ECh]
  __int64 v927; // [rsp+630h] [rbp-21E8h]
  unsigned __int64 v928; // [rsp+638h] [rbp-21E0h]
  __int64 v929; // [rsp+640h] [rbp-21D8h]
  __int64 v930; // [rsp+648h] [rbp-21D0h]
  int n0x2800_6; // [rsp+670h] [rbp-21A8h] BYREF
  __int64 v932; // [rsp+674h] [rbp-21A4h]
  int v933; // [rsp+67Ch] [rbp-219Ch]
  __int64 v934; // [rsp+680h] [rbp-2198h]
  unsigned __int64 v935; // [rsp+688h] [rbp-2190h]
  __int64 v936; // [rsp+690h] [rbp-2188h]
  __int64 v937; // [rsp+698h] [rbp-2180h]
  int n0x2800_8; // [rsp+6C0h] [rbp-2158h] BYREF
  __int64 v939; // [rsp+6C4h] [rbp-2154h]
  int v940; // [rsp+6CCh] [rbp-214Ch]
  __int64 v941; // [rsp+6D0h] [rbp-2148h]
  unsigned __int64 v942; // [rsp+6D8h] [rbp-2140h]
  __int64 v943; // [rsp+6E0h] [rbp-2138h]
  __int64 v944; // [rsp+6E8h] [rbp-2130h]
  int n0x2800_9; // [rsp+710h] [rbp-2108h] BYREF
  __int64 v946; // [rsp+714h] [rbp-2104h]
  int v947; // [rsp+71Ch] [rbp-20FCh]
  __int64 v948; // [rsp+720h] [rbp-20F8h]
  unsigned __int64 v949; // [rsp+728h] [rbp-20F0h]
  __int64 v950; // [rsp+730h] [rbp-20E8h]
  __int64 v951; // [rsp+738h] [rbp-20E0h]
  int n0x2800_10; // [rsp+760h] [rbp-20B8h] BYREF
  __int64 v953; // [rsp+764h] [rbp-20B4h]
  int v954; // [rsp+76Ch] [rbp-20ACh]
  __int64 v955; // [rsp+770h] [rbp-20A8h]
  unsigned __int64 v956; // [rsp+778h] [rbp-20A0h]
  __int64 v957; // [rsp+780h] [rbp-2098h]
  __int64 v958; // [rsp+788h] [rbp-2090h]
  int n0x2800_11; // [rsp+7B0h] [rbp-2068h] BYREF
  __int64 v960; // [rsp+7B4h] [rbp-2064h]
  int v961; // [rsp+7BCh] [rbp-205Ch]
  __int64 v962; // [rsp+7C0h] [rbp-2058h]
  unsigned __int64 v963; // [rsp+7C8h] [rbp-2050h]
  __int64 v964; // [rsp+7D0h] [rbp-2048h]
  __int64 v965; // [rsp+7D8h] [rbp-2040h]
  int n0x2800_12; // [rsp+800h] [rbp-2018h] BYREF
  __int64 v967; // [rsp+804h] [rbp-2014h]
  int v968; // [rsp+80Ch] [rbp-200Ch]
  __int64 v969; // [rsp+810h] [rbp-2008h]
  unsigned __int64 v970; // [rsp+818h] [rbp-2000h]
  __int64 v971; // [rsp+820h] [rbp-1FF8h]
  __int64 v972; // [rsp+828h] [rbp-1FF0h]
  int n0x2800; // [rsp+850h] [rbp-1FC8h] BYREF
  __int64 v974; // [rsp+854h] [rbp-1FC4h]
  int v975; // [rsp+85Ch] [rbp-1FBCh]
  __int64 v976; // [rsp+860h] [rbp-1FB8h]
  unsigned __int64 v977; // [rsp+868h] [rbp-1FB0h]
  __int64 v978; // [rsp+870h] [rbp-1FA8h]
  __int64 v979; // [rsp+878h] [rbp-1FA0h]
  __int64 v980; // [rsp+8A0h] [rbp-1F78h] BYREF
  int n0x19; // [rsp+8A8h] [rbp-1F70h]
  int n0x1E; // [rsp+8ACh] [rbp-1F6Ch]
  __int64 v983; // [rsp+8B0h] [rbp-1F68h]
  __int64 v984; // [rsp+8B8h] [rbp-1F60h]
  unsigned int n2_1; // [rsp+8C0h] [rbp-1F58h]
  int v986; // [rsp+8C4h] [rbp-1F54h]
  __int64 v987; // [rsp+8C8h] [rbp-1F50h]
  int v988; // [rsp+8D0h] [rbp-1F48h]
  int v989; // [rsp+8D4h] [rbp-1F44h]
  float v990; // [rsp+8D8h] [rbp-1F40h]
  int v991; // [rsp+8DCh] [rbp-1F3Ch]
  int n2_2; // [rsp+8E0h] [rbp-1F38h]
  _QWORD v993[2]; // [rsp+8F0h] [rbp-1F28h] BYREF
  __int128 v994; // [rsp+900h] [rbp-1F18h]
  __int128 v995; // [rsp+910h] [rbp-1F08h]
  _QWORD v996[2]; // [rsp+920h] [rbp-1EF8h] BYREF
  _QWORD v997[2]; // [rsp+930h] [rbp-1EE8h] BYREF
  __int128 v998; // [rsp+940h] [rbp-1ED8h]
  double v999; // [rsp+950h] [rbp-1EC8h]
  float v1000; // [rsp+958h] [rbp-1EC0h]
  float v1001; // [rsp+95Ch] [rbp-1EBCh]
  float v1002; // [rsp+960h] [rbp-1EB8h]
  float v1003; // [rsp+964h] [rbp-1EB4h]
  double v1004; // [rsp+968h] [rbp-1EB0h]
  int v1005; // [rsp+970h] [rbp-1EA8h]
  float v1006; // [rsp+974h] [rbp-1EA4h]
  int v1007; // [rsp+978h] [rbp-1EA0h]
  __m128 v1008; // [rsp+980h] [rbp-1E98h] BYREF
  double v1009; // [rsp+990h] [rbp-1E88h]
  double v1010; // [rsp+998h] [rbp-1E80h]
  float v1011; // [rsp+9A0h] [rbp-1E78h]
  __m128 v1012; // [rsp+9A8h] [rbp-1E70h] BYREF
  double v1013; // [rsp+9B8h] [rbp-1E60h]
  int v1014; // [rsp+9C0h] [rbp-1E58h] BYREF
  double v1015; // [rsp+9C8h] [rbp-1E50h]
  __int128 v1017; // [rsp+9E0h] [rbp-1E38h]
  unsigned int v1018; // [rsp+9F0h] [rbp-1E28h]
  int n6_1; // [rsp+9F4h] [rbp-1E24h]
  int n0x101; // [rsp+9F8h] [rbp-1E20h]
  char v1021; // [rsp+9FCh] [rbp-1E1Ch]
  unsigned __int64 v1022; // [rsp+A00h] [rbp-1E18h]
  char v1023[8]; // [rsp+A10h] [rbp-1E08h] BYREF
  __int64 v1024; // [rsp+A18h] [rbp-1E00h]
  _DWORD *v1025; // [rsp+A28h] [rbp-1DF0h]
  int v1026; // [rsp+A30h] [rbp-1DE8h]
  int v1027; // [rsp+A34h] [rbp-1DE4h]
  char v1028[8]; // [rsp+A38h] [rbp-1DE0h] BYREF
  char v1029[8]; // [rsp+A40h] [rbp-1DD8h] BYREF
  char v1030[8]; // [rsp+A48h] [rbp-1DD0h] BYREF
  char v1031[8]; // [rsp+A50h] [rbp-1DC8h] BYREF
  char v1032[8]; // [rsp+A58h] [rbp-1DC0h] BYREF
  char v1033[8]; // [rsp+A60h] [rbp-1DB8h] BYREF
  char v1034[8]; // [rsp+A68h] [rbp-1DB0h] BYREF
  __int128 v1035; // [rsp+A70h] [rbp-1DA8h] BYREF
  double v1036; // [rsp+A80h] [rbp-1D98h]
  __int128 v1037; // [rsp+A88h] [rbp-1D90h]
  double v1038; // [rsp+A98h] [rbp-1D80h]
  char v1039[16]; // [rsp+AA0h] [rbp-1D78h] BYREF
  __int128 v1040; // [rsp+AB0h] [rbp-1D68h] BYREF
  __int128 v1041; // [rsp+AC0h] [rbp-1D58h] BYREF
  __int128 v1042; // [rsp+AD0h] [rbp-1D48h] BYREF
  char v1043[8]; // [rsp+AE0h] [rbp-1D38h] BYREF
  char v1044[8]; // [rsp+AE8h] [rbp-1D30h] BYREF
  char v1045[8]; // [rsp+AF0h] [rbp-1D28h] BYREF
  char v1046[8]; // [rsp+AF8h] [rbp-1D20h] BYREF
  __int64 n0x10; // [rsp+B00h] [rbp-1D18h] BYREF
  int n0x40000000; // [rsp+B08h] [rbp-1D10h]
  unsigned int v1049; // [rsp+B0Ch] [rbp-1D0Ch]
  __int64 v1050; // [rsp+B10h] [rbp-1D08h]
  double v1051; // [rsp+B18h] [rbp-1D00h]
  double v1057; // [rsp+B70h] [rbp-1CA8h]
  unsigned __int64 v1058; // [rsp+B78h] [rbp-1CA0h]
  __int64 v1059; // [rsp+B80h] [rbp-1C98h]
  __int64 v1060; // [rsp+B88h] [rbp-1C90h]
  __int64 v1061; // [rsp+B90h] [rbp-1C88h]
  int v1062; // [rsp+B98h] [rbp-1C80h]
  int v1063; // [rsp+B9Ch] [rbp-1C7Ch]
  _DWORD p_temp_physics_params_struct[28]; // [rsp+BA0h] [rbp-1C78h] BYREF
  double v1065; // [rsp+C10h] [rbp-1C08h] BYREF
  double v1066; // [rsp+C18h] [rbp-1C00h]
  double v1067; // [rsp+C20h] [rbp-1BF8h]
  double v1068; // [rsp+C28h] [rbp-1BF0h]
  double v1069[3]; // [rsp+C48h] [rbp-1BD0h] BYREF
  _BYTE v1070[12]; // [rsp+C60h] [rbp-1BB8h] BYREF
  __int64 v1071; // [rsp+C6Ch] [rbp-1BACh]
  int v1072; // [rsp+C74h] [rbp-1BA4h]
  __int128 v1073; // [rsp+C78h] [rbp-1BA0h]
  int v1074; // [rsp+C88h] [rbp-1B90h]
  __int64 v1075; // [rsp+CA8h] [rbp-1B70h]
  __int64 v1076; // [rsp+CB0h] [rbp-1B68h]
  __int64 v1077; // [rsp+D10h] [rbp-1B08h]
  _BYTE v1078[72]; // [rsp+D40h] [rbp-1AD8h] BYREF
  __int64 v1079; // [rsp+D88h] [rbp-1A90h]
  __int64 v1080; // [rsp+D90h] [rbp-1A88h]
  __int64 v1081; // [rsp+DF0h] [rbp-1A28h]
  unsigned int v1082; // [rsp+DF8h] [rbp-1A20h]
  __int64 v1083; // [rsp+E00h] [rbp-1A18h]
  char v1084[28]; // [rsp+E20h] [rbp-19F8h] BYREF
  float v1085[9]; // [rsp+E3Ch] [rbp-19DCh] BYREF
  char v1086[8]; // [rsp+E60h] [rbp-19B8h] BYREF
  int value_by_id_4; // [rsp+E68h] [rbp-19B0h]
  unsigned __int64 v1088; // [rsp+EA8h] [rbp-1970h]
  __int64 v1089; // [rsp+EB8h] [rbp-1960h]
  char v1090[8]; // [rsp+F80h] [rbp-1898h] BYREF
  int v1091; // [rsp+F88h] [rbp-1890h]
  float v1092; // [rsp+FE0h] [rbp-1838h]
  __m256i v1093; // [rsp+10A0h] [rbp-1778h] BYREF
  __m256i v1094; // [rsp+10C0h] [rbp-1758h]
  __m256i v1095; // [rsp+10E0h] [rbp-1738h]
  __int128 v1096; // [rsp+1100h] [rbp-1718h]
  __int64 v1097; // [rsp+1110h] [rbp-1708h]
  __int128 v1098; // [rsp+1120h] [rbp-16F8h] BYREF
  _OWORD v1099[11]; // [rsp+1130h] [rbp-16E8h] BYREF
  int n0xE; // [rsp+11E0h] [rbp-1638h] BYREF
  double v1101; // [rsp+11E8h] [rbp-1630h]
  double v1102; // [rsp+11F0h] [rbp-1628h]
  double v1103; // [rsp+11F8h] [rbp-1620h]
  double v1104; // [rsp+1200h] [rbp-1618h]
  double v1105; // [rsp+1208h] [rbp-1610h]
  double v1106; // [rsp+1210h] [rbp-1608h]
  unsigned int v1107; // [rsp+1218h] [rbp-1600h]
  unsigned int v1108; // [rsp+1224h] [rbp-15F4h]
  char Buffer_[256]; // [rsp+1230h] [rbp-15E8h] BYREF
  char Buffer[1024]; // [rsp+1330h] [rbp-14E8h] BYREF
  CHAR String[4096]; // [rsp+1730h] [rbp-10E8h] BYREF
  __int128 v1112; // [rsp+27B0h] [rbp-68h]
  __int128 v1113; // [rsp+27C0h] [rbp-58h]
  __int128 v1114; // [rsp+27D0h] [rbp-48h]

  v6 = 0;
  v777 = a2;
  n0x2800 = 0x2800;
  v974 = 0;
  v8 = a2;
  v975 = 0;
  v977 = 0;
  v10 = 1;
  v978 = 0;
  v979 = 0;
  v976 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  if ( *(_DWORD *)v8 == 6 && *(_DWORD *)(v8 + 8) != 0x80000000 && *(_DWORD *)(v8 + 4) != 0x80000000 )
    LogFatalError("Trying to execute SetParams with pe_params_part providing both ipart and partid. Please use one or the other.");
  v11 = *(_QWORD *)(a1 + 0x2C0);
  v1114 = v3;
  v1113 = v4;
  v1112 = v5;
  sub_146765070((__int64)v1023, a1, v11, (int *)v8, a3, 0, 0, 0);
  if ( v1026 )
  {
    LODWORD(v6) = v1027;
    goto LABEL_862;
  }
  v13 = *(_DWORD *)v8;
  if ( !*(_DWORD *)v8 )
  {
    n0x2800_1 = 0x2800;
    v897 = 0;
    v898 = 0;
    v900 = 0;
    v901 = 0;
    v902 = 0;
    v899 = 1;
    qword_149A05E00(&n0x2800_1, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    v14 = *(_QWORD *)(a1 + 0xB8);
    v727 = 0;
    v708 = 0;
    v711 = v14;
    v15 = *(_QWORD *)v14;
    *(_BYTE *)(a1 + 0x384) |= 8u;
    v771 = *(_OWORD *)(a1 + 0x1C0);
    v772 = *(double *)(a1 + 0x1D0);
    v773 = *(float *)(a1 + 0x1D8);
    v774 = *(float *)(a1 + 0x1DC);
    v775 = *(float *)(a1 + 0x1E0);
    v776 = *(float *)(a1 + 0x1E4);
    v702 = *(_DWORD *)(a1 + 0x208) & 0x7FFFFFFF;
    v16 = *(_QWORD *)(v8 + 0x40);
    v735 = *(float *)(a1 + 0x200);
    if ( v16 == 0xFFFFFFFFFFFFFFFFuLL )
      goto LABEL_16;
    if ( !v16 )
    {
      if ( !(_BYTE)qword_149A0A866 )
      {
        sub_1403A4B10(
          "CPhysicalEntity:SetParams(pe_params_pos): reposition request for %s has no grid set, defaulting to global grid",
          *(const char **)(a1 + 0xD0));
        v14 = v711;
      }
      v16 = *(_QWORD *)(a1 + 0x2C0) + 0xB40LL;
      *(_QWORD *)(v8 + 0x40) = v16;
    }
    if ( v16 == v14 )
    {
LABEL_16:
      v854 = *(_QWORD *)(v8 + 8);
      if ( (HIDWORD(v854) & 0xFFF40000) != 0xFFF40000 )
      {
        v771 = *(_OWORD *)(v8 + 8);
        v772 = *(double *)(v8 + 0x18);
      }
      v17 = (HIDWORD(v854) & 0xFFF40000) != 0xFFF40000;
      v732 = *(_DWORD *)(v8 + 0x2C);
      v754 = v17;
      if ( (v732 & 0xFFA00000) != 0xFFA00000 )
      {
        v773 = *(float *)(v8 + 0x20);
        v774 = *(float *)(v8 + 0x24);
        v775 = *(float *)(v8 + 0x28);
        v776 = *(float *)(v8 + 0x2C);
        v17 = 1;
        v754 = 1;
      }
      if ( *(_DWORD *)(v8 + 0x34) != 0x80000000
        && *(_DWORD *)(a1 + 0xF4) <= 6u
        && ((*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1) != 1
         || (n6 = *(_DWORD *)(v8 + 0x34)) == 0
         || n6 == 6) )
      {
        *(_DWORD *)(a1 + 0xF4) = *(_DWORD *)(v8 + 0x34);
        sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 2, 0);
      }
      p_m_lockUpdate = "m_lockUpdate";
      if ( (*(_DWORD *)(v8 + 0x30) & 0xFFA00000) == 0xFFA00000
        || fabs(*(float *)(v8 + 0x30) - *(float *)(a1 + 0x204)) <= 0.00000011920929 )
      {
        if ( *(float *)&v17 == 0.0 )
          goto LABEL_134;
      }
      else
      {
        v735 = *(float *)(v8 + 0x30);
        if ( *(_DWORD *)(v8 + 0x38) )
        {
          __asm
          {
            vmovupd ymm0, cs:ymmword_148AC9AA0
            vmovupd xmm1, cs:xmmword_148AC9A30
            vmovupd ymmword ptr [rsp+2818h+var_26E0.LowPart], ymm0
            vmovupd [rsp+2818h+var_26C0], xmm1
          }
          v22 = *(_DWORD *)(a1 + 0x290);
          if ( !v22 )
          {
            *(_OWORD *)&v778[0x18] = v771;
            *(double *)&v778[0x28] = v772;
            *(_OWORD *)v778 = v771;
            *(double *)&v778[0x10] = v772;
            v727 = 1;
            v754 = 1;
            goto LABEL_76;
          }
          if ( v22 > 0 )
          {
            v51 = 0;
            v52 = 0;
            do
            {
              v53 = *(_QWORD *)(a1 + 0x230);
              v54 = **(_QWORD **)(v51 + *(_QWORD *)(a1 + 0x238));
              __asm { vzeroupper }
              (*(void (__fastcall **)(__int64, float *))(*(_QWORD *)v54 + 0x30LL))(v54, &v821);
              v55 = *(float *)(v52 + v53 + 4);
              v56 = *(float *)(v52 + v53);
              v57 = *(float *)(v52 + v53 + 8);
              v58 = *(float *)(v52 + v53 + 0xC);
              v59 = (float)((float)((float)(v773 * v55) - (float)(v774 * v56)) + (float)(v776 * v57))
                  + (float)(v775 * v58);
              v60 = (float)((float)((float)(v775 * v56) - (float)(v773 * v57)) + (float)(v776 * v55))
                  + (float)(v774 * v58);
              v61 = (float)((float)((float)(v774 * v57) - (float)(v775 * v55)) + (float)(v776 * v56))
                  + (float)(v773 * v58);
              v62 = v60 + v60;
              v63 = (float)(v776 * v58)
                  - (float)((float)((float)(v773 * v56) + (float)(v774 * v55)) + (float)(v775 * v57));
              v64 = (float)(v60 + v60) * v60;
              v65 = v59 * (float)(v59 + v59);
              v66 = (float)(v60 + v60) * v61;
              v67 = (float)(v59 + v59) * v61;
              v68 = (float)(v59 + v59) * v60;
              v69 = (float)(v61 + v61) * v63;
              v70 = 1.0 - (float)((float)(v61 + v61) * v61);
              v71 = (float)(v59 + v59) * v63;
              v72 = v62 * v63;
              v756 = (float)(1.0 - v64) - v65;
              v728 = v66 - v71;
              v759 = v70 - v65;
              v73 = v71 + v66;
              v758 = v68 - v69;
              v74 = v68 + v69;
              v757 = v70 - v64;
              v75 = v822 * (float)(v68 + v69);
              v76 = v821 * v73;
              v77 = v821 * (float)(v67 - v72);
              v78 = v825 * v74;
              v761 = v828 * v74;
              v79 = v824 * v73;
              v733 = v827 * v73;
              v821 = fabs((float)((float)(v822 * v728) + (float)(v821 * v756)) + (float)(v823 * (float)(v67 + v72)));
              v80 = (float)(v822 * (float)(v70 - v65)) + v76;
              v81 = v756;
              v822 = fabs(v80 + (float)(v823 * v758));
              v760 = v822;
              v82 = v824 * (float)(v67 - v72);
              v83 = v827 * (float)(v67 - v72);
              v823 = fabs((float)(v823 * v757) + (float)(v77 + v75));
              *(float *)&v754 = v823;
              v824 = fabs((float)((float)(v825 * v728) + (float)(v824 * v756)) + (float)(v826 * (float)(v67 + v72)));
              v756 = v824;
              v825 = fabs((float)((float)(v825 * v759) + v79) + (float)(v826 * v758));
              v826 = fabs((float)(v82 + v78) + (float)(v826 * v757));
              *(float *)&v770 = v826;
              v827 = fabs((float)((float)(v828 * v728) + (float)(v827 * v81)) + (float)(v829 * (float)(v67 + v72)));
              v755 = v827;
              v828 = fabs((float)((float)(v828 * v759) + v733) + (float)(v829 * v758));
              v829 = fabs((float)(v83 + v761) + (float)(v829 * v757));
              v84 = *(float *)(v8 + 0x30);
              v85 = *(float *)(v52 + v53 + 4);
              v86 = *(float *)(v52 + v53 + 8);
              v87 = *(float *)(v52 + v53);
              v88 = *(float *)(v52 + v53 + 0xC);
              v89 = (float)((float)(v832 * v85) - (float)(v831 * v86)) + (float)(v830 * v88);
              v90 = (float)((float)(v830 * v86) - (float)(v832 * v87)) + (float)(v831 * v88);
              v91 = (float)((float)(v831 * v87) - (float)(v830 * v85)) + (float)(v832 * v88);
              v92 = v84 / *(float *)(v52 + v53 + 0x1C);
              v93 = (float)((float)(v91 * v85) - (float)(v90 * v86))
                  + (float)(v830 + (float)((float)(v91 * v85) - (float)(v90 * v86)));
              v94 = (float)((float)(v89 * v86) - (float)(v91 * v87))
                  + (float)(v831 + (float)((float)(v89 * v86) - (float)(v91 * v87)));
              v95 = v90 * v87;
              v96 = (__m128)*(unsigned __int64 *)(v52 + v53 + 0x10);
              v97 = (float)(v92 * *(float *)(v52 + v53 + 0x18))
                  + (float)(v84
                          * (float)((float)(v95 - (float)(v89 * v85)) + (float)(v832 + (float)(v95 - (float)(v89 * v85)))));
              v98 = (float)(_mm_shuffle_ps(v96, v96, 0x55).m128_f32[0] * v92) + (float)(v84 * v94);
              v96.m128_f32[0] = (float)(v96.m128_f32[0] * v92) + (float)(v84 * v93);
              v99 = (float)((float)(v774 * v97) - (float)(v775 * v98)) + (float)(v776 * v96.m128_f32[0]);
              v100 = (float)((float)(v775 * v96.m128_f32[0]) - (float)(v773 * v97)) + (float)(v776 * v98);
              v101 = (float)((float)(v773 * v98) - (float)(v774 * v96.m128_f32[0])) + (float)(v776 * v97);
              v102 = LODWORD(v774);
              *(float *)&v102 = (float)((float)(v774 * v101) - (float)(v775 * v100))
                              + (float)((float)((float)(v774 * v101) - (float)(v775 * v100)) + v96.m128_f32[0]);
              v103 = v102;
              v104 = LODWORD(v775);
              *(float *)&v104 = (float)((float)(v775 * v99) - (float)(v773 * v101))
                              + (float)((float)((float)(v775 * v99) - (float)(v773 * v101)) + v98);
              v105 = v104;
              v106 = COERCE_UNSIGNED_INT64(
                       (float)((float)((float)(v773 * v100) - (float)(v774 * v99))
                             + (float)((float)((float)(v773 * v100) - (float)(v774 * v99)) + v97))
                     + v772);
              v108 = LODWORD(v834);
              *(float *)&v108 = v834 * v826;
              v107 = v108;
              *((_QWORD *)&v108 + 1) = *((_QWORD *)&v105 + 1);
              *(double *)&v108 = *(float *)&v105 + *((double *)&v771 + 1);
              v109 = v108;
              *((_QWORD *)&v108 + 1) = *((_QWORD *)&v103 + 1);
              *(double *)&v108 = *(float *)&v103 + *(double *)&v771;
              v110 = v108;
              v111 = v107;
              *(float *)&v111 = (float)(*(float *)&v107 + (float)(v833 * v823)) + (float)(v829 * v835);
              v112 = v111;
              v114 = LODWORD(v834);
              *(float *)&v114 = v834 * v825;
              v113 = v114;
              v116 = LODWORD(v834);
              *(float *)&v116 = v834 * v824;
              v115 = v116;
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v112 + 1);
              *(double *)&v116 = (float)(*(float *)&v112 * v84);
              v117 = v116;
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v113 + 1);
              *(double *)&v116 = (float)((float)((float)(*(float *)&v113 + (float)(v833 * v822)) + (float)(v835 * v828))
                                       * v84);
              v118 = v116;
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v115 + 1);
              *(double *)&v116 = (float)((float)((float)(*(float *)&v115 + (float)(v833 * v821)) + (float)(v835 * v827))
                                       * v84);
              v119 = v116;
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v110 + 1);
              *(double *)&v116 = *(double *)&v110 - *(double *)&v119;
              _XMM0 = v116;
              __asm { vminsd  xmm2, xmm0, qword ptr [rsp+2818h+var_26E0.LowPart] }
              *(double *)v778 = *(double *)&_XMM2;
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v109 + 1);
              *(double *)&v116 = *(double *)&v109 - *(double *)&v118;
              _XMM1 = v116;
              __asm { vminsd  xmm0, xmm1, qword ptr [rsp+140h] }
              *(double *)&v778[8] = *(double *)&_XMM0;
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v106 + 1);
              *(double *)&v116 = *(double *)&v106 - *(double *)&v117;
              _XMM2 = v116;
              __asm { vminsd  xmm1, xmm2, qword ptr [rsp+148h] }
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v119 + 1);
              *(double *)&v116 = *(double *)&v119 + *(double *)&v110;
              _XMM0 = v116;
              *(double *)&v778[0x10] = *(double *)&_XMM1;
              __asm { vmaxsd  xmm1, xmm0, qword ptr [rsp+150h] }
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v117 + 1);
              *(double *)&v116 = *(double *)&v117 + *(double *)&v106;
              _XMM3 = v116;
              __asm { vmaxsd  xmm0, xmm3, qword ptr [rsp+2818h+var_26C0+8] }
              *((_QWORD *)&v116 + 1) = *((_QWORD *)&v118 + 1);
              *(double *)&v116 = *(double *)&v118 + *(double *)&v109;
              _XMM2 = v116;
              __asm { vmaxsd  xmm2, xmm2, qword ptr [rsp+2818h+var_26C0] }
              LODWORD(v6) = v6 + 1;
              v52 += 0x20;
              *(double *)&v778[0x28] = *(double *)&_XMM0;
              *(double *)&v778[0x18] = *(double *)&_XMM1;
              *(double *)&v778[0x20] = *(double *)&_XMM2;
              v51 += 8;
            }
            while ( (int)v6 < *(_DWORD *)(a1 + 0x290) );
            v6 = 0;
            p_m_lockUpdate = "m_lockUpdate";
          }
          v727 = 1;
        }
        v754 = 1;
      }
LABEL_76:
      v132 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v132 )
      {
        __asm { vzeroupper }
        sub_1403DE750(a1 + 0xC8, v132, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      }
      if ( (*(_DWORD *)(v8 + 0x30) & 0xFFA00000) != 0xFFA00000
        && fabs(*(float *)(v8 + 0x30) - *(float *)(a1 + 0x204)) > 0.00000011920929 )
      {
        if ( *(_WORD *)(a1 + 0xEC) == 2 )
          goto LABEL_83;
        __asm { vzeroupper }
        if ( (*(unsigned int (__fastcall **)(__int64, const char *))(*(_QWORD *)a1 + 8LL))(a1, p_m_lockUpdate) != 1
          || !*(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x498LL) )
        {
LABEL_83:
          __asm { vzeroupper }
          sub_1403721C0(v1090);
          v735 = 1.0;
          if ( *(int *)(a1 + 0x290) > 0 )
          {
            v133 = a1 + 0x228;
            v134 = 0;
            v135 = 0;
            v136 = 0;
            do
            {
              v137 = *(_QWORD *)(v133 + 8);
              v138 = *(float *)(v8 + 0x30);
              v139 = *(float *)(v135 + v137 + 0x1C);
              if ( fabs(v138 - v139) > 0.00000011920929 )
              {
                v140 = (float)((float)(v138 / v139) * *(float *)(*(_QWORD *)(a1 + 0x258) + v6))
                     * (float)((float)(v138 / v139) * (float)(v138 / v139));
                v788 = *(float *)(v135 + v137 + 0xC);
                v785 = *(float *)(v135 + v137);
                v786 = *(float *)(v135 + v137 + 4);
                v787 = *(float *)(v135 + v137 + 8);
                v789 = *(double *)(v135 + v137 + 0x10);
                v141 = *(float *)(v135 + v137 + 0x18);
                *(float *)&v789 = (float)(v138 / v139) * *(float *)&v789;
                v790 = v141 * (float)(v138 / v139);
                *((float *)&v789 + 1) = (float)(v138 / v139) * *((float *)&v789 + 1);
                v791 = v138;
                sub_1466246B0(v133, v136, (__int64)&v785);
                v142 = *(_QWORD *)(v134 + *(_QWORD *)(a1 + 0x280));
                *(float *)v142 = v785;
                *(float *)(v142 + 4) = v786;
                *(float *)(v142 + 8) = v787;
                *(float *)(v142 + 0xC) = v788;
                *(double *)(v142 + 0x10) = v789;
                *(float *)(v142 + 0x18) = v790;
                v143 = *(_QWORD *)(a1 + 0x258);
                *(float *)(v142 + 0x1C) = v791;
                if ( *(_DWORD *)(v143 + v6 + 0x14) )
                {
                  v1091 = v136;
                  v1092 = v140;
                  sub_146627CB0(a1 + 0x228, (__int64)v1090);
                }
                v133 = a1 + 0x228;
              }
              ++v136;
              v135 += 0x20;
              v134 += 8;
              v6 += 0x18;
            }
            while ( v136 < *(_DWORD *)(a1 + 0x290) );
          }
        }
      }
      v144 = *(_QWORD *)(a1 + 0x210);
      *(_OWORD *)v144 = v771;
      *(double *)(v144 + 0x10) = v772;
      v145 = *(_QWORD *)(a1 + 0x210);
      *(_OWORD *)(a1 + 0x1C0) = *(_OWORD *)v145;
      *(double *)(a1 + 0x1D0) = *(double *)(v145 + 0x10);
      *(float *)(v145 + 0x18) = v773;
      *(float *)(v145 + 0x1C) = v774;
      *(float *)(v145 + 0x20) = v775;
      *(float *)(v145 + 0x24) = v776;
      *(_DWORD *)(a1 + 0x1D8) = *(_DWORD *)(v145 + 0x18);
      *(_DWORD *)(a1 + 0x1DC) = *(_DWORD *)(v145 + 0x1C);
      *(_DWORD *)(a1 + 0x1E0) = *(_DWORD *)(v145 + 0x20);
      *(_DWORD *)(a1 + 0x1E4) = *(_DWORD *)(v145 + 0x24);
      *(float *)(a1 + 0x200) = v735;
      if ( (*(_DWORD *)(v8 + 0x30) & 0xFFA00000) != 0xFFA00000 )
        *(float *)(a1 + 0x204) = *(float *)(v8 + 0x30);
      if ( *(_DWORD *)(v8 + 0x38) )
      {
        if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
        {
          *(_WORD *)(a1 + 0x106) |= 2u;
          __asm { vzeroupper }
          CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
        }
        else
        {
          __asm { vzeroupper }
          v146 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1039);
          v147 = sub_146602780(a1 + 0x228, v146, 0xFFFFFFFF);
          (*(void (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, v778, 3);
          *(_OWORD *)(a1 + 0x10) = *(_OWORD *)v778;
          *(double *)(a1 + 0x20) = *(double *)&v778[0x10];
          *(_OWORD *)(a1 + 0x28) = *(_OWORD *)&v778[0x18];
          *(double *)(a1 + 0x38) = *(double *)&v778[0x28];
          v148 = *(_QWORD *)(a1 + 0x2D8);
          if ( v148 )
            sub_1465D9120(v148, 0xFFFFFFFFLL);
          v149 = *(_QWORD **)(a1 + 0x220);
          if ( v149 && v147 )
          {
            sub_1468F1C60(*v149, a1, v147);
            sub_1468F1C60(*(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL), a1, v147);
          }
        }
        v150 = *(_BYTE *)(v8 + 0x3C);
        if ( (v150 & 1) != 0 && !*(_QWORD *)(a1 + 0x2E8) )
        {
          v151 = (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10 | 5u;
          if ( v708 || (v150 & 2) != 0 )
            v151 = (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10 | 0xDu;
          sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, v151, 0);
        }
      }
      v152 = (volatile signed __int64 *)(a1 + 0xC8);
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000 = _InterlockedCompareExchange64(v152, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
        {
          __asm { vzeroupper }
          sub_1403DEBA0(v152, n0x200000);
        }
      }
      if ( !*(_DWORD *)(v8 + 0x38) )
      {
LABEL_134:
        if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
        {
          v164 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          v714 = a1 + 0xC8;
          v165 = a1 + 0xC8;
          v166 = a1 + 0xC8;
          v167 = (volatile signed __int64 *)(a1 + 0xC8);
          v168 = (volatile signed __int64 *)(a1 + 0xC8);
          if ( v164 )
          {
            __asm { vzeroupper }
            sub_1403DE750(v165, v164, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
            v165 = a1 + 0xC8;
            v714 = a1 + 0xC8;
            v166 = a1 + 0xC8;
            v168 = (volatile signed __int64 *)(a1 + 0xC8);
          }
          *(_WORD *)(a1 + 0x106) |= 2u;
          v169 = *(_WORD *)(a1 + 0x100) | (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10 | 1;
          v170 = v754 == 0;
          *(_WORD *)(a1 + 0x100) = v169;
          if ( v170 || (v165 = v166, v168 = (volatile signed __int64 *)(a1 + 0xC8), !*(_DWORD *)(v8 + 0x38)) )
          {
            v714 = v165;
            *(_WORD *)(a1 + 0x100) = v169 | 8;
            v167 = v168;
          }
          __asm { vzeroupper }
          CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
          CPhysicalWorld::RegisterForReposition(*(_QWORD *)(a1 + 0x2C0), a1);
          if ( !v714 )
            goto LABEL_175;
          n0x200000_1 = _InterlockedCompareExchange64(v167, 0, 0x200000);
          if ( n0x200000_1 == 0x200000 )
            goto LABEL_175;
          v172 = v167;
        }
        else
        {
          if ( *(char *)(v8 + 0x38) >= 0 )
            goto LABEL_175;
          v173 = (volatile signed __int64 *)(a1 + 0xC8);
          v174 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          if ( v174 )
          {
            __asm { vzeroupper }
            sub_1403DE750(a1 + 0xC8, v174, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
          }
          *(_OWORD *)v778 = *(_OWORD *)(a1 + 0x10);
          *(_QWORD *)&v778[0x10] = *(_QWORD *)(a1 + 0x20);
          *(_OWORD *)&v778[0x18] = *(_OWORD *)(a1 + 0x28);
          *(_QWORD *)&v778[0x28] = *(_QWORD *)(a1 + 0x38);
          __asm { vzeroupper }
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, a1 + 0x10, 3);
          v175 = *(_QWORD *)(a1 + 0x2D8);
          if ( v175 )
            sub_1465D9120(v175, 0xFFFFFFFFLL);
          v176 = (*(_DWORD *)(v8 + 0x38) & 0x400) != 0
              || (*(double *)(a1 + 0x10) - *(double *)v778) * (*(double *)(a1 + 0x10) - *(double *)v778)
               + (*(double *)(a1 + 0x18) - *(double *)&v778[8]) * (*(double *)(a1 + 0x18) - *(double *)&v778[8])
               + (*(double *)(a1 + 0x20) - *(double *)&v778[0x10]) * (*(double *)(a1 + 0x20) - *(double *)&v778[0x10]) > 0.0
              || (*(double *)(a1 + 0x28) - *(double *)&v778[0x18]) * (*(double *)(a1 + 0x28) - *(double *)&v778[0x18])
               + (*(double *)(a1 + 0x30) - *(double *)&v778[0x20]) * (*(double *)(a1 + 0x30) - *(double *)&v778[0x20])
               + (*(double *)(a1 + 0x38) - *(double *)&v778[0x28]) * (*(double *)(a1 + 0x38) - *(double *)&v778[0x28]) > 0.0;
          if ( (*(_BYTE *)(v8 + 0x3C) & 4) == 0 || (v177 = 1, *(_DWORD *)(a1 + 0xF4) != 1) )
            v177 = 0;
          v178 = *(_DWORD *)(a1 + 0x208);
          if ( v176 )
            v179 = (((v178 & 0x20000) - 1) >> 0x1F) & 0x10;
          else
            v179 = 0;
          v180 = v177 | v179;
          if ( v180 )
          {
            sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, v180 | 8u, 0);
            v178 = *(_DWORD *)(a1 + 0x208);
          }
          if ( v176 )
          {
            v181 = *(_QWORD *)(a1 + 0x2C0);
            if ( *(_DWORD *)(v181 + 0x438) )
            {
              if ( *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL) == 0x1E
                && (v178 & 0x20) == 0
                && (v178 & 0x400) != 0 )
              {
                v182 = CPhysicalWorld::GetEntitiesAround(
                         v181,
                         (double *)v778,
                         (double *)&v778[0x18],
                         (__int64)&v853,
                         0x1A,
                         a1,
                         0x1E,
                         *(_QWORD *)(a1 + 0xB8),
                         0)
                     - 1;
                for ( i = v182; i >= 0; --i )
                {
                  v184 = *(_QWORD *)(v853 + 8 * i);
                  if ( v184 != a1 )
                    (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v184 + 0x268LL))(v184, 1, 0);
                }
                v173 = (volatile signed __int64 *)(a1 + 0xC8);
              }
            }
          }
          if ( !v173 )
            goto LABEL_175;
          n0x200000_1 = _InterlockedCompareExchange64(v173, 0, 0x200000);
          if ( n0x200000_1 == 0x200000 )
            goto LABEL_175;
          v172 = v173;
        }
        sub_1403DEBA0(v172, n0x200000_1);
LABEL_175:
        if ( v702 != (*(_DWORD *)(a1 + 0x208) & 0x7FFFFFFF) )
        {
          v845[1] = v702;
          v845[0] = 0xF;
          v845[2] = 0x80000000;
          v845[3] = 0x80000000;
          __asm { vzeroupper }
          (*(void (__fastcall **)(__int64, _DWORD *, __int64))(*(_QWORD *)a1 + 0x18LL))(a1, v845, 1);
        }
        if ( v708 )
          *(_DWORD *)(v8 + 0x38) |= 2u;
LABEL_179:
        *(_BYTE *)(a1 + 0x384) &= ~8u;
        v900 = __rdtsc();
        __asm { vzeroupper }
        qword_149A05E08(&n0x2800_1);
        LODWORD(v6) = 1;
        goto LABEL_865;
      }
      if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
      {
        v154 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
        v712 = a1 + 0xC8;
        if ( v154 )
        {
          __asm { vzeroupper }
          sub_1403DE750(a1 + 0xC8, v154, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
          v712 = a1 + 0xC8;
        }
        *(_WORD *)(a1 + 0x106) |= 2u;
        __asm { vzeroupper }
        CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
        if ( !v712 )
          goto LABEL_128;
        n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_2 == 0x200000 )
          goto LABEL_128;
        v156 = (volatile signed __int64 *)(a1 + 0xC8);
      }
      else
      {
        v157 = *(_DWORD *)(a1 + 0x208);
        if ( (v157 & 0x8020) == 0 && (v157 & 0x400) != 0 )
        {
          __asm { vzeroupper }
          CPhysicalWorld::GetEntitiesAround(
            *(_QWORD *)(a1 + 0x2C0),
            (double *)(a1 + 0x10),
            (double *)(a1 + 0x28),
            (__int64)v1034,
            0x40,
            a1,
            *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL),
            v711,
            0);
        }
        if ( v727 )
          goto LABEL_128;
        v744 = (volatile signed __int64 *)(a1 + 0xC8);
        v158 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
        v724 = a1 + 0xC8;
        v713 = a1 + 0xC8;
        v750 = (volatile signed __int64 *)(a1 + 0xC8);
        if ( v158 )
        {
          __asm { vzeroupper }
          sub_1403DE750(a1 + 0xC8, v158, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
          v724 = a1 + 0xC8;
          v713 = a1 + 0xC8;
          v750 = (volatile signed __int64 *)(a1 + 0xC8);
          v744 = (volatile signed __int64 *)(a1 + 0xC8);
        }
        v159 = *(_QWORD *)(a1 + 0x210);
        *(_QWORD *)(a1 + 0x210) = &v771;
        __asm { vzeroupper }
        (*(void (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, v778, 2);
        *(_QWORD *)(a1 + 0x210) = v159;
        v160 = *(_QWORD *)(a1 + 0x2D8);
        if ( v160 )
        {
          sub_1465D9120(v160, 0xFFFFFFFFLL);
          v161 = v713;
          v156 = v744;
        }
        else
        {
          v156 = v750;
          v161 = v724;
        }
        if ( !v161 )
          goto LABEL_128;
        n0x200000_2 = _InterlockedCompareExchange64(v156, 0, 0x200000);
        if ( n0x200000_2 == 0x200000 )
          goto LABEL_128;
      }
      sub_1403DEBA0(v156, n0x200000_2);
LABEL_128:
      v162 = *(_BYTE *)(v8 + 0x3C);
      if ( (v162 & 1) == 0 || *(_QWORD *)(a1 + 0x2E8) )
      {
        v163 = (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10 | 1u;
        if ( v708 || (v162 & 2) != 0 )
          v163 = (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10 | 9u;
        __asm { vzeroupper }
        sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, v163, 0);
      }
      goto LABEL_134;
    }
    if ( (*(_DWORD *)(v8 + 0x38) & 0x200) == 0 )
    {
      *(_DWORD *)(v8 + 0xC) = 0xFFF7FFFF;
      *(_DWORD *)(v8 + 0x2C) = 0xFFBFFFFF;
      *(_DWORD *)(v8 + 0x30) = 0xFFBFFFFF;
      goto LABEL_16;
    }
    if ( !*(_DWORD *)(v16 + 0x150) )
    {
      if ( *(_QWORD *)v16 )
      {
        if ( 4 * *(_DWORD *)(*(_QWORD *)v16 + 0xE8LL) <= 0 )
        {
LABEL_38:
          v708 = 1;
          if ( *(_DWORD *)(a1 + 0x88) != 0xFFFFFFFF )
          {
            v24 = (volatile signed __int64 *)(*(_QWORD *)(a1 + 0xB8) + 0x198LL);
            v25 = _InterlockedCompareExchange64(v24, 0x200000, 0);
            if ( v25 )
              sub_1403DE750(
                (__int64)v24,
                v25,
                0,
                (__int64)"CPhysicalEntity::SetParams",
                (__int64)"m_pWorld->GetGrid(this)->m_lockGrid",
                1);
            *(_DWORD *)(a1 + 0x208) &= ~0x400u;
            sub_146915E70(*(_QWORD *)(a1 + 0x2C0), a1);
            if ( v24 )
            {
              n0x200000_3 = _InterlockedCompareExchange64(v24, 0, 0x200000);
              if ( n0x200000_3 != 0x200000 )
                sub_1403DEBA0(v24, n0x200000_3);
            }
          }
          CPhysicalPlaceholder::SetGrid(a1, *(_QWORD *)(v8 + 0x40), 0);
          if ( **(_QWORD **)(v8 + 0x40) != v15 && (*(_DWORD *)(v8 + 0x38) & 0x100) == 0 )
          {
            v857 = *(_QWORD *)(v8 + 8);
            if ( (HIDWORD(v857) & 0xFFF40000) == 0xFFF40000 || (*(_DWORD *)(v8 + 0x2C) & 0xFFA00000) == 0xFFA00000 )
            {
              v27 = *(_QWORD *)(a1 + 0xD0);
              v28 = *(_DWORD *)(a1 + 0xEC);
              v29 = *(_QWORD *)(a1 + 0xC0);
              v30 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
              v31 = (const char *)sub_1468F0C40(v30, v29, (__int16)v28, v28 >> 0x10, v27, 0);
              LogTraceConditional(
                "CryPhysics encountered a pe_params_pos request causing a grid transitionwithout an RBF_GRID_SPACE flag for %s!",
                v31);
              CPhysicalWorld::GetRelativeTransform(
                *(_QWORD *)(a1 + 0x2C0),
                (unsigned int)&v1065,
                v711,
                *(_QWORD *)(v8 + 0x40),
                0x3F800000,
                1);
              v855 = *(_QWORD *)(v8 + 8);
              if ( (HIDWORD(v855) & 0xFFF40000) == 0xFFF40000 )
              {
                v32 = sub_140339170(v1069, &v1065, (double *)(a1 + 0x1C0));
                *(_OWORD *)(v8 + 8) = *(_OWORD *)v32;
                *(double *)(v8 + 0x18) = v32[2];
              }
              if ( (*(_DWORD *)(v8 + 0x2C) & 0xFFA00000) == 0xFFA00000 )
              {
                v33 = *(float *)(a1 + 0x1DC);
                v34 = *(float *)(a1 + 0x1D8);
                v35 = *(float *)(a1 + 0x1E0);
                v36 = *(float *)(a1 + 0x1E4);
                _XMM10 = COERCE_UNSIGNED_INT64(v33 * v1065 - v34 * v1066 + v35 * v1068 + v36 * v1067);
                _XMM6 = COERCE_UNSIGNED_INT64(v34 * v1067 - v35 * v1065 + v33 * v1068 + v36 * v1066);
                _XMM5 = COERCE_UNSIGNED_INT64(v35 * v1066 - v33 * v1067 + v34 * v1068 + v36 * v1065);
                _XMM0 = COERCE_UNSIGNED_INT64(v36 * v1068 - (v34 * v1065 + v33 * v1066 + v35 * v1067));
                __asm
                {
                  vcvtsd2ss xmm4, xmm0, xmm0
                  vcvtsd2ss xmm1, xmm5, xmm5
                }
                *(float *)(v8 + 0x20) = *(float *)&_XMM1;
                __asm { vcvtsd2ss xmm2, xmm6, xmm6 }
                *(float *)(v8 + 0x24) = *(float *)&_XMM2;
                __asm { vcvtsd2ss xmm0, xmm10, xmm10 }
                *(float *)(v8 + 0x28) = *(float *)&_XMM0;
                *(float *)(v8 + 0x2C) = *(float *)&_XMM4;
              }
            }
          }
          goto LABEL_16;
        }
      }
      else
      {
        if ( *(_DWORD *)(v16 + 0x14C) )
          goto LABEL_38;
        v23 = *(_DWORD **)(v16 + 0x1B8);
        if ( v23 )
        {
          if ( *v23 == 6 )
            goto LABEL_38;
        }
      }
    }
    v1097 = 0;
    v1093 = (__m256i)0LL;
    v1094 = (__m256i)0LL;
    v1093.m256i_i32[2] = 0x10;
    v1095 = (__m256i)0LL;
    v1096 = 0;
    v1093.m256i_i64[2] = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
    v1094.m256i_i32[0] = *(__int16 *)(a1 + 0xEC);
    v1093.m256i_i64[3] = *(_QWORD *)(a1 + 0xC0);
    v45 = *(_QWORD *)(v8 + 0x40);
    *(_OWORD *)&v1094.m256i_u64[1] = __PAIR128__(v14, v45);
    if ( *(_QWORD *)v45 )
      v46 = *(_QWORD *)v45 | (*(_QWORD *)(*(_QWORD *)v45 + 8LL) << 0x30);
    else
      v46 = 0;
    v1094.m256i_i64[3] = v46;
    if ( *(_QWORD *)v14 )
      v47 = *(_QWORD *)v14 | (*(_QWORD *)(*(_QWORD *)v14 + 8LL) << 0x30);
    else
      v47 = 0;
    v1095.m256i_i64[0] = v47;
    if ( *(_QWORD *)v45 )
      v48 = *(_QWORD *)(*(_QWORD *)v45 + 0xC0LL);
    else
      v48 = 0;
    v1095.m256i_i64[1] = v48;
    if ( *(_QWORD *)v14 )
      v6 = *(_QWORD *)(*(_QWORD *)v14 + 0xC0LL);
    v1095.m256i_i64[2] = v6;
    v49 = 0xFFFFFFFF;
    if ( *(_QWORD *)v45 )
      v50 = *(__int16 *)(*(_QWORD *)v45 + 0xECLL);
    else
      v50 = 0xFFFFFFFF;
    v1095.m256i_i32[6] = v50;
    if ( *(_QWORD *)v14 )
      v49 = *(__int16 *)(*(_QWORD *)v14 + 0xECLL);
    v1095.m256i_i32[7] = v49;
    LODWORD(v1097) = 1;
    __asm { vzeroupper }
    sub_1468A8410(*(_QWORD *)(a1 + 0x2C0), 0, &v1093, 0);
    goto LABEL_179;
  }
  switch ( v13 )
  {
    case 6:
      n0x2800_2 = 0x2800;
      v904 = 0;
      v905 = 0;
      v907 = 0;
      v908 = 0;
      v909 = 0;
      v906 = 1;
      qword_149A05E00(&n0x2800_2, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      value_by_id_7 = *(_DWORD *)(v8 + 8);
      value_by_id = value_by_id_7;
      value_by_id_8 = value_by_id_7;
      if ( value_by_id_7 == 0x80000000 )
      {
        if ( *(_DWORD *)(v8 + 4) == value_by_id_7 )
        {
          if ( *(_QWORD *)(v8 + 0xE0) == 0xFFFFFFFFFFFFFFFFuLL && *(_DWORD *)(v8 + 0xE8) == 0x80000000 )
          {
            v186 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
            if ( v186 )
              sub_1403DE750(a1 + 0xC8, v186, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
            sub_146627CB0(a1 + 0x228, v8);
            if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
            {
              n0x200000_4 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
              if ( n0x200000_4 != 0x200000 )
                sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_4);
            }
            goto LABEL_319;
          }
        }
        else
        {
          v188 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v188 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0xC8),
              v188,
              (__int64)"CPhysicalEntity::SetParams",
              (__int64)"m_lockUpdate",
              1);
          value_by_id = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(v8 + 4), 0);
          v189 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v189 & 0x3FF) == 0 && (v189 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v189);
        }
      }
      v190 = (unsigned __int64 *)(v8 + 0xE0);
      if ( *(_QWORD *)(v8 + 0xE0) != 0xFFFFFFFFFFFFFFFFuLL || *(_DWORD *)(v8 + 0xE8) != 0x80000000 )
      {
        v191 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
        if ( (v191 & 0x200000) != 0 )
        {
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0xC8),
            v191,
            (__int64)"CPhysicalEntity::SetParams",
            (__int64)"m_lockUpdate",
            1);
          v190 = (unsigned __int64 *)(v8 + 0xE0);
        }
        value_by_id = map_get_value_by_composite_key(*(_QWORD *)(a1 + 0x2A0), v190, *(_DWORD *)(v8 + 0xE8), &v862);
        v192 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0xC8));
        if ( (v192 & 0x3FF) == 0 && (v192 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v192);
      }
      value_by_id_1 = value_by_id;
      if ( value_by_id >= *(_DWORD *)(a1 + 0x290) )
      {
        v10 = 0;
LABEL_319:
        v907 = __rdtsc();
        __asm { vzeroupper }
        qword_149A05E08(&n0x2800_2);
        LODWORD(v6) = v10;
        goto LABEL_865;
      }
      if ( (*(_DWORD *)(v8 + 0xF8) & 0xFFA00000) == 0xFFA00000 )
        v194 = 0.0;
      else
        v194 = *(float *)(((__int64)value_by_id << 6) + *(_QWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x70LL) + 0x38);
      *(_DWORD *)(v8 + 8) = value_by_id;
      v745 = (volatile signed __int64 *)(a1 + 0xC8);
      v195 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      v715 = a1 + 0xC8;
      if ( v195 )
      {
        sub_1403DE750(a1 + 0xC8, v195, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
        v715 = a1 + 0xC8;
        v745 = (volatile signed __int64 *)(a1 + 0xC8);
      }
      sub_146627CB0(a1 + 0x228, v8);
      if ( v715 )
      {
        n0x200000_5 = _InterlockedCompareExchange64(v745, 0, 0x200000);
        if ( n0x200000_5 != 0x200000 )
          sub_1403DEBA0(v745, n0x200000_5);
      }
      *(_DWORD *)(v8 + 8) = value_by_id_8;
      v885 = *(_OWORD *)(a1 + 0x10);
      v886 = *(double *)(a1 + 0x20);
      v887 = *(_OWORD *)(a1 + 0x28);
      v888 = *(double *)(a1 + 0x38);
      v197 = *(_QWORD *)(a1 + 0x230) + 0x20LL * value_by_id;
      v705 = 0;
      v766 = *(float *)(v197 + 0xC);
      v763 = *(float *)v197;
      v764 = *(float *)(v197 + 4);
      v765 = *(float *)(v197 + 8);
      v767 = *(double *)(v197 + 0x10);
      v768 = *(_DWORD *)(v197 + 0x18);
      v769 = *(float *)(v197 + 0x1C);
      if ( (*(_DWORD *)(v8 + 0x10) & 0xFFA00000) != 0xFFA00000 )
      {
        v767 = *(double *)(v8 + 0x10);
        v768 = *(_DWORD *)(v8 + 0x18);
      }
      if ( (*(_DWORD *)(v8 + 0x28) & 0xFFA00000) != 0xFFA00000 )
      {
        v763 = *(float *)(v8 + 0x1C);
        v764 = *(float *)(v8 + 0x20);
        v765 = *(float *)(v8 + 0x24);
        v766 = *(float *)(v8 + 0x28);
      }
      _XMM3 = *(unsigned int *)(v8 + 0x34);
      _XMM0 = *(_DWORD *)(v8 + 0x34) & 0xFFA00000;
      __asm
      {
        vpcmpeqd xmm2, xmm0, xmm1
        vblendvps xmm0, xmm3, xmm4, xmm2
      }
      v769 = *(float *)&_XMM0;
      v202 = *(_QWORD **)(v8 + 0x70);
      if ( v202 != (_QWORD *)0xFFFFFFFFFFFFFFFFLL )
      {
        value_by_id_2 = value_by_id;
        if ( v202 != *(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8LL * value_by_id) && v202 && *v202 )
        {
          v204 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          if ( v204 )
          {
            sub_1403DE750(a1 + 0xC8, v204, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
            value_by_id_2 = value_by_id;
          }
          if ( (*(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8 * value_by_id_2) & 0x800000000LL) != 0 )
          {
            v205 = *(_QWORD *)(a1 + 0x2E8);
            if ( v205 )
            {
              v206 = *(_QWORD *)(v205 + 0x20);
              if ( v206 )
              {
                if ( *(_QWORD *)(0x58LL * value_by_id + v206 + 8) )
                {
                  v207 = **(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8LL * value_by_id);
                  if ( !(*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v207 + 0x1F8LL))(v207) )
                  {
                    v208 = *(_QWORD *)(a1 + 0x2C0);
                    v209 = sub_14665BC30(v208 + 0x10, **(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8LL * value_by_id));
                    CPhysicalWorld::ClonePhysGeomInEntity(v208, a1, (unsigned int)value_by_id, v209);
                    value_by_id_1 = value_by_id;
                  }
                }
              }
            }
          }
          if ( *(_DWORD *)(a1 + 0x378) )
          {
            if ( !*(_DWORD *)(a1 + 0xF4) )
            {
              v210 = *(_QWORD *)(a1 + 0x2C0);
              if ( *(float *)(v210 + 0x300) > 0.0 )
              {
                v211 = *(_DWORD *)(a1 + 0x208);
                if ( (v211 & 0x20) == 0 && (v211 & 0x400) != 0 )
                {
                  v212 = *(unsigned int *)(v210 + 0x13C);
                  *(double *)&v212 = (float)(*(float *)(v210 + 0x13C) * 10.0);
                  _XMM5 = v212;
                  __asm { vmovddup xmm5, xmm5 }
                  v215 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex);
                  v216 = _mm_add_pd(_XMM5, *(__m128 *)(a1 + 0x28));
                  v1009 = *(double *)_XMM5.m128_u64 + *(double *)(a1 + 0x38);
                  v1008 = v216;
                  v217 = _mm_sub_pd(*(__m128 *)(a1 + 0x10), _XMM5);
                  v1013 = *(double *)(a1 + 0x20) - *(double *)_XMM5.m128_u64;
                  v701 = *(_DWORD *)(v215 + 0x800);
                  v1012 = v217;
                  v218 = (int)(CPhysicalWorld::GetEntitiesAround(
                                 v210,
                                 (double *)v1012.m128_u64,
                                 (double *)v1008.m128_u64,
                                 (__int64)&v843,
                                 0x1A,
                                 a1,
                                 v701,
                                 0,
                                 0)
                             - 1);
                  v716 = (int)v218;
                  if ( (int)v218 >= 0 )
                  {
                    while ( 1 )
                    {
                      v219 = 8 * v218;
                      v746 = 8 * v218;
                      if ( *(_DWORD *)(a1 + 0xF4) )
                        goto LABEL_237;
                      if ( (*(unsigned int (__fastcall **)(_QWORD, __int64, _QWORD, _QWORD))(**(_QWORD **)(v843 + 8 * v218)
                                                                                           + 0x248LL))(
                             *(_QWORD *)(v843 + 8 * v218),
                             a1,
                             (unsigned int)value_by_id_1,
                             0) )
                      {
                        break;
                      }
LABEL_238:
                      v218 = --v716;
                      if ( v716 < 0 )
                        goto LABEL_239;
                    }
                    v219 = v746;
LABEL_237:
                    (*(void (__fastcall **)(_QWORD, __int64, _QWORD))(**(_QWORD **)(v843 + v219) + 0x268LL))(
                      *(_QWORD *)(v843 + v219),
                      1,
                      0);
                    goto LABEL_238;
                  }
                }
              }
            }
          }
LABEL_239:
          v705 = 1;
          if ( (*(_DWORD *)(*(_QWORD *)(v8 + 0x70) + 0x4CLL) & 0x10000000) != 0 )
          {
            v220 = *(_QWORD *)(a1 + 0x220);
            if ( v220 )
            {
              *(_BYTE *)(*(_QWORD *)v220 + 0x60LL) = 1;
              *(_BYTE *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL) + 0x60LL) = 1;
            }
          }
          v221 = (volatile signed __int64 *)(a1 + 0xC8);
          if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
          {
            n0x200000_6 = _InterlockedCompareExchange64(v221, 0, 0x200000);
            if ( n0x200000_6 != 0x200000 )
              sub_1403DEBA0(v221, n0x200000_6);
          }
        }
      }
      v223 = *(_DWORD *)(v8 + 0x88);
      if ( v223 != 0x80000000 )
      {
        v224 = *(_QWORD *)(a1 + 0x2E8);
        if ( v224
          && (v225 = *(_QWORD *)(v224 + 0x20)) != 0
          && (v717 = 0x58LL * value_by_id_1, (v226 = *(const void **)(v717 + v225)) != 0) )
        {
          if ( v223 < 0 )
          {
            sub_1402A63C0(v226);
            CPhysicalWorld::DestroyPhysicalEntity(
              *(_QWORD *)(a1 + 0x2C0),
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) + v717 + 8),
              0);
            *(_QWORD *)(v717 + *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL)) = 0;
            *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) + v717 + 8) = 0;
            goto LABEL_259;
          }
        }
        else if ( v223 < 0 )
        {
          goto LABEL_259;
        }
        v227 = 0;
        if ( *(int *)(a1 + 0x290) > 0 )
        {
          v228 = 0;
          v229 = *(_DWORD **)(a1 + 0x250);
          do
          {
            if ( *v229 == v223 )
              break;
            ++v227;
            ++v228;
            ++v229;
          }
          while ( v228 < *(int *)(a1 + 0x290) );
        }
        if ( v227 < *(_DWORD *)(a1 + 0x290) )
        {
          _XMM3 = *(unsigned int *)(v8 + 0x68);
          _XMM0 = *(_DWORD *)(v8 + 0x68) & 0xFFA00000;
          __asm
          {
            vpcmpeqd xmm2, xmm0, xmm1
            vblendvps xmm0, xmm3, xmm6, xmm2
          }
          if ( (unsigned __int8)sub_1468D0790(a1, (unsigned int)value_by_id_1) )
          {
            *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) + 0x58LL * value_by_id_1 + 0x10) = *(_DWORD *)(v8 + 0x88);
            v234 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * value_by_id_1);
            sub_14660BF80(a1 + 0x228);
            v235 = *(_QWORD *)(a1 + 0x2A0);
            _InterlockedOr((volatile signed __int32 *)(v235 + 0x184), 0x10u);
            *(_QWORD *)(*(_QWORD *)(v235 + 0x20) + 8LL * value_by_id_1) = v234 | 0x4000000000LL;
          }
        }
      }
LABEL_259:
      if ( *(_DWORD *)(v8 + 0xA4) == 0x80000000 )
      {
        value_by_id_3 = value_by_id;
      }
      else
      {
        sub_1468B47E0(a1);
        value_by_id_10 = *(_DWORD *)(a1 + 0x290) - 1;
        value_by_id_9 = value_by_id_10;
        if ( value_by_id_10 >= 0 )
        {
          value_by_id_11 = value_by_id_10;
          v238 = (_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4LL * value_by_id_10);
          do
          {
            if ( *v238 == *(_DWORD *)(v8 + 0xA4) )
              break;
            --value_by_id_10;
            v238 += 0xFFFFFFFF;
            --value_by_id_11;
          }
          while ( value_by_id_11 >= 0 );
          value_by_id_9 = value_by_id_10;
        }
        value_by_id_3 = value_by_id;
        v751 = 0x60LL * value_by_id;
        *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 8LL) + v751 + 0x48) = value_by_id_10 + 1;
        if ( value_by_id_10 >= 0 )
        {
          v747 = (volatile signed __int64 *)(a1 + 0xC8);
          v240 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          v718 = a1 + 0xC8;
          if ( v240 )
          {
            sub_1403DE750(a1 + 0xC8, v240, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
            v718 = a1 + 0xC8;
            v747 = (volatile signed __int64 *)(a1 + 0xC8);
          }
          sub_1403721C0(v1086);
          value_by_id_4 = value_by_id_9;
          v1088 = 0xFFFFFFFFFFFFFFFBuLL;
          sub_146627CB0(a1 + 0x228, (__int64)v1086);
          *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 8LL) + v751 + 0x50) = *(_QWORD *)(*(_QWORD *)(a1 + 0x240)
                                                                                            + 8LL * value_by_id);
          *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 8LL) + v751 + 0x58) = *(_QWORD *)(*(_QWORD *)(a1 + 0x248)
                                                                                            + 8LL * value_by_id);
          value_by_id_4 = value_by_id;
          v1088 = 0x4000000004LL;
          v1089 = 0;
          sub_146627CB0(a1 + 0x228, (__int64)v1086);
          if ( v718 )
          {
            n0x200000_7 = _InterlockedCompareExchange64(v747, 0, 0x200000);
            if ( n0x200000_7 != 0x200000 )
              sub_1403DEBA0(v747, n0x200000_7);
          }
        }
      }
      if ( (*(_DWORD *)(v8 + 0xF8) & 0xFFA00000) != 0xFFA00000 )
      {
        v242 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x80LL) + 0x10LL * value_by_id_3;
        v980 = 0;
        n0x1E = 0x1E;
        v986 = 0;
        n0x19 = 0x19;
        v983 = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
        n2 = 0xFFFFFFFF;
        if ( (*(_BYTE *)(a1 + 0xEC) & 2) != 0 )
          n2 = 2;
        n2_1 = n2;
        v984 = *(_QWORD *)(a1 + 0xC0);
        v987 = *(_QWORD *)v242;
        v988 = *(_DWORD *)(v242 + 8);
        v244 = *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4LL * value_by_id_3);
        v990 = v194;
        v989 = v244;
        v991 = *(_DWORD *)(((__int64)value_by_id_3 << 6) + *(_QWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x70LL) + 0x38);
        n2_2 = 2;
        sub_14670C700(*(_QWORD *)(a1 + 0x2C0), 2, &v980, 0);
      }
      if ( !*(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
      {
        if ( (*(_BYTE *)(v8 + 0xC) & 1) != 0 )
        {
          v251 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          if ( v251 )
            sub_1403DE750(a1 + 0xC8, v251, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
          v252 = *(_QWORD *)(*(_QWORD *)(a1 + 0x280) + 8LL * value_by_id_3);
          *(float *)v252 = v763;
          *(float *)(v252 + 4) = v764;
          *(float *)(v252 + 8) = v765;
          *(float *)(v252 + 0xC) = v766;
          *(double *)(v252 + 0x10) = v767;
          *(_DWORD *)(v252 + 0x18) = v768;
          *(float *)(v252 + 0x1C) = v769;
          sub_1466246B0(a1 + 0x228, value_by_id_3, (__int64)&v763);
          v253 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1033);
          v254 = sub_146602780(a1 + 0x228, v253, 0xFFFFFFFF);
          (*(void (__fastcall **)(__int64, __int128 *, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, &v885, 3);
          v255 = *(_QWORD *)(a1 + 0x2D8);
          if ( v255 )
            sub_1465D9120(v255, 0xFFFFFFFFLL);
          v256 = *(_QWORD **)(a1 + 0x220);
          if ( v256 && v254 )
          {
            sub_1468F1C60(*v256, a1, v254);
            sub_1468F1C60(*(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL), a1, v254);
          }
          sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 1, &v885);
          v257 = (volatile signed __int64 *)(a1 + 0xC8);
          if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
          {
            n0x200000_8 = _InterlockedCompareExchange64(v257, 0, 0x200000);
            if ( n0x200000_8 != 0x200000 )
              sub_1403DEBA0(v257, n0x200000_8);
          }
        }
        value_by_id_5 = value_by_id;
        goto LABEL_305;
      }
      v245 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v245 )
        sub_1403DE750(a1 + 0xC8, v245, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      value_by_id_5 = value_by_id;
      v247 = *(_QWORD *)(*(_QWORD *)(a1 + 0x280) + 8LL * value_by_id_3);
      *(float *)v247 = v763;
      *(float *)(v247 + 4) = v764;
      *(float *)(v247 + 8) = v765;
      *(float *)(v247 + 0xC) = v766;
      *(double *)(v247 + 0x10) = v767;
      *(_DWORD *)(v247 + 0x18) = v768;
      *(float *)(v247 + 0x1C) = v769;
      sub_1466246B0(a1 + 0x228, value_by_id, (__int64)&v763);
      v248 = *(_WORD *)(a1 + 0x106) | 2;
      *(_WORD *)(a1 + 0x106) = v248;
      switch ( *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x238) + 8LL * value_by_id_3) + 0x4CLL) >> 0x1E )
      {
        case 1:
          v249 = v248 | 0x10;
          break;
        case 2:
          v249 = v248 | 0x20;
          break;
        case 3:
          v249 = v248 | 0x40;
          break;
        default:
LABEL_286:
          if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1) != 6 )
            *(_WORD *)(a1 + 0x106) |= 4u;
          if ( v705 )
            *(_WORD *)(a1 + 0x106) |= 1u;
          *(_WORD *)(a1 + 0x100) |= 1u;
          CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
          CPhysicalWorld::RegisterForReposition(*(_QWORD *)(a1 + 0x2C0), a1);
          if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
          {
            n0x200000_9 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
            if ( n0x200000_9 != 0x200000 )
              sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_9);
          }
LABEL_305:
          v259 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          if ( v259 )
            sub_1403DE750(a1 + 0xC8, v259, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
          if ( !*(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) && (*(_BYTE *)(v8 + 0xC) & 1) != 0 )
          {
            *(_OWORD *)(a1 + 0x10) = v885;
            *(double *)(a1 + 0x20) = v886;
            *(_OWORD *)(a1 + 0x28) = v887;
            *(double *)(a1 + 0x38) = v888;
            value_by_id_6 = 0;
            if ( *(int *)(a1 + 0x290) > 0 )
            {
              v261 = 0;
              v262 = 0;
              do
              {
                if ( value_by_id_5 != value_by_id_6
                  && *(_QWORD *)(v262 + *(_QWORD *)(a1 + 0x280)) != *(_QWORD *)(a1 + 0x230) + 0x20LL * value_by_id_6 )
                {
                  v263 = *(_QWORD *)(v262 + *(_QWORD *)(a1 + 0x288));
                  v264 = *(_QWORD *)(a1 + 0x228);
                  *(__m256i *)(v264 + v261) = *(__m256i *)v263;
                  *(_OWORD *)(v264 + v261 + 0x20) = *(_OWORD *)(v263 + 0x20);
                }
                ++value_by_id_6;
                v262 += 8;
                v261 += 0x30;
              }
              while ( value_by_id_6 < *(_DWORD *)(a1 + 0x290) );
            }
          }
          if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
          {
            n0x200000_10 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
            if ( n0x200000_10 != 0x200000 )
            {
              __asm { vzeroupper }
              sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_10);
            }
          }
          v10 = value_by_id_5 + 1;
          goto LABEL_319;
      }
      *(_WORD *)(a1 + 0x106) = v249;
      goto LABEL_286;
    case 0x30:
      v266 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v266 )
        sub_1403DE750(a1 + 0xC8, v266, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      sub_146627EE0(a1 + 0x228, v8);
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000_11 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_11 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_11);
      }
      if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
      {
        *(_WORD *)(a1 + 0x106) |= 0x400u;
        CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
        LODWORD(v6) = 1;
        goto LABEL_865;
      }
      n0x2B = 0x2B;
      (*(void (__fastcall **)(__int64, int *, __int64))(*(_QWORD *)a1 + 0x18LL))(a1, &n0x2B, 1);
      goto LABEL_329;
    case 9:
      n0x2800_3 = 0x2800;
      v911 = 0;
      v912 = 0;
      v914 = 0;
      v915 = 0;
      v916 = 0;
      v913 = 1;
      qword_149A05E00(&n0x2800_3, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      sub_1465ABBC0(a1 + 0x2F0);
      v914 = __rdtsc();
      qword_149A05E08(&n0x2800_3);
      LODWORD(v6) = 1;
      goto LABEL_865;
    case 0x25:
      n0x2800_4 = 0x2800;
      v918 = 0;
      v919 = 0;
      v921 = 0;
      v922 = 0;
      v923 = 0;
      v920 = 1;
      qword_149A05E00(&n0x2800_4, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v268 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v268 )
        sub_1403DE750(a1 + 0xC8, v268, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      v269 = sub_14662E640(a1 + 0x228, v8);
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000_12 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_12 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_12);
      }
      v921 = __rdtsc();
      qword_149A05E08(&n0x2800_4);
      LODWORD(v6) = v269;
      goto LABEL_865;
    case 0x19:
      n0x2800_5 = 0x2800;
      v925 = 0;
      v926 = 0;
      v928 = 0;
      v929 = 0;
      v930 = 0;
      v927 = 1;
      qword_149A05E00(&n0x2800_5, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v271 = *(_DWORD *)(a1 + 0x218) & *(_DWORD *)(v8 + 0x10);
      *(_DWORD *)(a1 + 0x218) = v271;
      *(_DWORD *)(a1 + 0x218) = *(_DWORD *)(v8 + 8) | v271;
      v272 = *(_DWORD *)(a1 + 0x21C) & *(_DWORD *)(v8 + 0x14);
      *(_DWORD *)(a1 + 0x21C) = v272;
      *(_DWORD *)(a1 + 0x21C) = *(_DWORD *)(v8 + 0xC) | v272;
      v928 = __rdtsc();
      qword_149A05E08(&n0x2800_5);
      LODWORD(v6) = 1;
      goto LABEL_865;
    case 0xF:
      n0x2800_6 = 0x2800;
      v932 = 0;
      v933 = 0;
      v935 = 0;
      v936 = 0;
      v937 = 0;
      v934 = 1;
      qword_149A05E00(&n0x2800_6, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v273 = *(_DWORD *)(a1 + 0x208);
      v274 = v273;
      v275 = *(_DWORD *)(v8 + 4);
      v703 = v273;
      if ( v275 != 0x80000000 )
        v274 = v273 ^ (v275 ^ v273) & 0x7FFFFFFF;
      v276 = v274 & *(_DWORD *)(v8 + 0xC);
      if ( *(_DWORD *)(v8 + 0xC) == 0x80000000 )
        v276 = v274;
      v277 = *(_DWORD *)(v8 + 8) | v276;
      if ( *(_DWORD *)(v8 + 8) == 0x80000000 )
        v277 = v276;
      if ( (v273 & 0x420) != 0x20
        || (v277 & 0x420) != 0x400
        || !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x350LL))(a1)
        || (v278 = *(_QWORD *)(a1 + 0x2C0), !*(_DWORD *)(v278 + 0x424)) )
      {
        *(_DWORD *)(a1 + 0x208) = v277;
LABEL_366:
        if ( (*(_DWORD *)(a1 + 0x208) & 0x400) == 0 )
          goto LABEL_371;
        if ( *(_DWORD *)(a1 + 0x88) == 0xFFFFFFFF && *(int *)(a1 + 0xE8) >= 0 )
          sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 0x41, 0);
        if ( (*(_DWORD *)(a1 + 0x208) & 0x400) == 0 )
        {
LABEL_371:
          if ( *(_DWORD *)(a1 + 0x88) != 0xFFFFFFFF )
          {
            v285 = (volatile signed __int64 *)(*(_QWORD *)(a1 + 0xB8) + 0x198LL);
            v286 = _InterlockedCompareExchange64(v285, 0x200000, 0);
            if ( v286 )
              sub_1403DE750(
                (__int64)v285,
                v286,
                0,
                (__int64)"CPhysicalEntity::SetParams",
                (__int64)"m_pWorld->GetGrid(this)->m_lockGrid",
                1);
            sub_146915E70(*(_QWORD *)(a1 + 0x2C0), a1);
            if ( v285 )
            {
              n0x200000_13 = _InterlockedCompareExchange64(v285, 0, 0x200000);
              if ( n0x200000_13 != 0x200000 )
                sub_1403DEBA0(v285, n0x200000_13);
            }
            sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 0x40, 0);
          }
        }
        if ( ((*(_BYTE *)(a1 + 0x208) ^ (unsigned __int8)v703) & 0x10) != 0 && *(_DWORD *)(a1 + 0x88) != 0xFFFFFFFF )
          sub_14690EAF0(*(_QWORD *)(a1 + 0x2C0), a1, 0);
        if ( ((*(_DWORD *)(a1 + 0x208) ^ v703) & 0x8000000) != 0 )
        {
          if ( (v703 & 0x8000000) != 0 )
          {
            sub_1402A63C0(*(const void **)(a1 + 0x178));
            *(_QWORD *)(a1 + 0x178) = 0;
          }
          else
          {
            v288 = allocWithProfilerInfo_w(0x88u);
            if ( v288 )
            {
              *(_QWORD *)v288 = 0;
              *(_BYTE *)(v288 + 0xC) = 0x1E;
              *(_DWORD *)(v288 + 0xC) = (unsigned __int8)*(_DWORD *)(v288 + 0xC);
              *(_QWORD *)(v288 + 0x10) = 0;
              *(_QWORD *)(v288 + 0x18) = 0;
              *(_DWORD *)(v288 + 0x20) = 0xFFFFFFFF;
              *(_DWORD *)(v288 + 0x24) = 0;
              *(_DWORD *)(v288 + 8) = 4;
              *(_QWORD *)(v288 + 0x28) = 0;
              *(_DWORD *)(v288 + 0x58) = 0;
              *(_DWORD *)(v288 + 0x64) = 0xFFF7FFFF;
              *(_DWORD *)(v288 + 0x84) = 0xFFBFFFFF;
            }
            else
            {
              v288 = 0;
            }
            *(_QWORD *)(a1 + 0x178) = v288;
          }
        }
        if ( (v703 & 0x400) != 0 && (*(_DWORD *)(a1 + 0x208) & 0x400) == 0 )
        {
          _m_prefetchw((const void *)(a1 + 0xFC));
          v289 = *(_DWORD *)(a1 + 0xFC);
          do
          {
            v290 = v289;
            v289 = _InterlockedCompareExchange((volatile signed __int32 *)(a1 + 0xFC), v289 & 0xFFFF7FFF, v289);
          }
          while ( v290 != v289 );
        }
        if ( (v703 & 0x20) == 0 && (*(_BYTE *)(a1 + 0x208) & 0x20) != 0 )
        {
          _m_prefetchw((const void *)(a1 + 0xFC));
          v291 = *(_DWORD *)(a1 + 0xFC);
          do
          {
            v292 = v291;
            v291 = _InterlockedCompareExchange((volatile signed __int32 *)(a1 + 0xFC), v291 & 0xFFFFBFFF, v291);
          }
          while ( v292 != v291 );
        }
        v935 = __rdtsc();
        qword_149A05E08(&n0x2800_6);
        LODWORD(v6) = v10;
        goto LABEL_865;
      }
      v279 = (volatile signed __int64 *)(v278 + 0x87308);
      v280 = _InterlockedCompareExchange64(v279, 0x200000, 0);
      if ( v280 )
        sub_1403DE750(
          (__int64)v279,
          v280,
          0,
          (__int64)"CPhysicalEntity::SetParams",
          (__int64)"m_pWorld->m_spawn_box_lock",
          1);
      v281 = CPhysicalEntity::VerifySpawnPos(a1, v997);
      if ( v281 )
      {
        if ( v281 == 1 )
        {
          *(_DWORD *)(a1 + 0x208) = v277;
          goto LABEL_359;
        }
      }
      else
      {
        *(_DWORD *)(a1 + 0x208) = v277 & 0xFFFFFBDF | 0x20;
      }
      v10 = 0;
LABEL_359:
      v282 = *(_QWORD *)(a1 + 0x2C0) + 0x87310LL;
      v283 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x87318LL);
      if ( v283 == *(_QWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x87320LL) )
      {
        sub_1468A9B30(v282, v283, v997);
      }
      else
      {
        *(_QWORD *)v283 = v997[0];
        *(_QWORD *)(v283 + 8) = v997[1];
        *(_OWORD *)(v283 + 0x10) = v998;
        *(double *)(v283 + 0x20) = v999;
        *(float *)(v283 + 0x34) = v1003;
        *(float *)(v283 + 0x28) = v1000;
        *(float *)(v283 + 0x2C) = v1001;
        *(float *)(v283 + 0x30) = v1002;
        *(double *)(v283 + 0x38) = v1004;
        *(_DWORD *)(v283 + 0x40) = v1005;
        *(float *)(v283 + 0x44) = v1006;
        *(_DWORD *)(v283 + 0x48) = v1007;
        *(_QWORD *)(v282 + 8) += 0x50LL;
      }
      if ( v279 )
      {
        n0x200000_14 = _InterlockedCompareExchange64(v279, 0, 0x200000);
        if ( n0x200000_14 != 0x200000 )
          sub_1403DEBA0(v279, n0x200000_14);
      }
      goto LABEL_366;
    case 0x15:
      LODWORD(v6) = 0;
      goto LABEL_865;
    case 0x18:
      n0x2800_7 = 0x2800;
      v873 = 0;
      v874 = 0;
      v876 = 0;
      v877 = 0;
      v878 = 0;
      v875 = 1;
      qword_149A05E00(&n0x2800_7, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      if ( *(_QWORD *)(a1 + 0x2E8) )
      {
        v293 = 0;
        if ( *(int *)(a1 + 0x290) > 0 )
        {
          v294 = *(_DWORD **)(a1 + 0x250);
          v295 = 0;
          do
          {
            if ( *v294 == *(_DWORD *)(v8 + 4) )
              break;
            ++v293;
            ++v295;
            ++v294;
          }
          while ( v295 < *(int *)(a1 + 0x290) );
        }
        if ( v293 >= *(_DWORD *)(a1 + 0x290) )
        {
          v10 = 0;
        }
        else
        {
          v296 = 0x60LL * v293;
          v297 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 8LL);
          *(double *)(v297 + v296 + 0x30) = *(double *)(v8 + 8);
          *(_DWORD *)(v297 + v296 + 0x38) = *(_DWORD *)(v8 + 0x10);
          v298 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 8LL);
          *(double *)(v298 + v296 + 0x3C) = *(double *)(v8 + 0x14);
          *(_DWORD *)(v298 + v296 + 0x44) = *(_DWORD *)(v8 + 0x1C);
        }
        v876 = __rdtsc();
        qword_149A05E08(&n0x2800_7);
        LODWORD(v6) = v10;
        goto LABEL_865;
      }
      v876 = __rdtsc();
      qword_149A05E08(&n0x2800_7);
      break;
  }
  v299 = *(_DWORD *)v8;
  if ( *(_DWORD *)v8 == 0x16 )
  {
    n0x2800_8 = 0x2800;
    v939 = 0;
    v940 = 0;
    v942 = 0;
    v943 = 0;
    v944 = 0;
    v941 = 1;
    qword_149A05E00(&n0x2800_8, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
    if ( (*(_DWORD *)(v8 + 4) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x368) = *(float *)(v8 + 4);
    if ( (*(_DWORD *)(v8 + 8) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x36C) = *(float *)(v8 + 8);
    v942 = __rdtsc();
    qword_149A05E08(&n0x2800_8);
    LODWORD(v6) = 1;
    goto LABEL_865;
  }
  switch ( v299 )
  {
    case 0x17:
      n0x2800_9 = 0x2800;
      v946 = 0;
      v947 = 0;
      v949 = 0;
      v950 = 0;
      v951 = 0;
      v948 = 1;
      qword_149A05E00(&n0x2800_9, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v300 = *(_DWORD *)(v8 + 8);
      if ( v300 == 0x80000000 )
      {
        v301 = *(_DWORD *)(v8 + 4);
        if ( v301 == v300 )
          goto LABEL_443;
        v300 = *(_DWORD *)(a1 + 0x290) - 1;
        if ( v300 >= 0 )
        {
          v302 = v300;
          v303 = (_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4LL * v300);
          do
          {
            if ( v301 == *v303 )
              break;
            --v300;
            v303 += 0xFFFFFFFF;
            --v302;
          }
          while ( v302 >= 0 );
        }
      }
      if ( (unsigned int)v300 < *(_DWORD *)(a1 + 0x290) )
      {
        v304 = *(_QWORD *)(a1 + 0x2E8);
        if ( v304 )
        {
          v305 = *(_QWORD *)(v304 + 0x20);
          if ( v305 )
          {
            if ( *(_QWORD *)(0x58LL * v300 + v305 + 8) )
            {
              init_default_physics_params(p_temp_physics_params_struct);
              _XMM4 = *(unsigned int *)(v8 + 0xC);
              _XMM0 = *(_DWORD *)(v8 + 0xC) & 0xFFA00000;
              __asm
              {
                vpcmpeqd xmm3, xmm0, xmm1
                vblendvps xmm0, xmm4, xmm2, xmm3
              }
              *(float *)&p_temp_physics_params_struct[0x14] = *(float *)&_XMM0;
              _XMM4 = *(unsigned int *)(v8 + 0x10);
              _XMM0 = *(_DWORD *)(v8 + 0x10) & 0xFFA00000;
              __asm
              {
                vpcmpeqd xmm3, xmm0, xmm1
                vblendvps xmm0, xmm4, xmm2, xmm3
              }
              *(float *)&p_temp_physics_params_struct[1] = *(float *)&_XMM0;
              _XMM5 = *(unsigned int *)(v8 + 0x14);
              _XMM0 = *(_DWORD *)(v8 + 0x14) & 0xFFA00000;
              __asm
              {
                vpcmpeqd xmm3, xmm0, xmm1
                vblendvps xmm0, xmm5, xmm2, xmm3
              }
              *(float *)&p_temp_physics_params_struct[2] = *(float *)&_XMM0;
              if ( (*(_DWORD *)(v8 + 0x18) & 0xFFA00000) != 0xFFA00000 )
                *(float *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) + 0x58LL * v300 + 0x1C) = *(float *)(v8 + 0x18);
              if ( (*(_DWORD *)(v8 + 0x1C) & 0xFFA00000) != 0xFFA00000 )
                *(float *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) + 0x58LL * v300 + 0x14) = *(float *)(v8 + 0x1C);
              v318 = *(_DWORD *)(v8 + 0x20);
              if ( v318 != 0x80000000 )
                *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) + 0x58LL * v300 + 0x18) = v318;
              _XMM1 = *(unsigned int *)(v8 + 0x24);
              if ( (*(_DWORD *)(v8 + 0x24) & 0xFFA00000) != 0xFFA00000 )
              {
                __asm { vcvtss2si eax, xmm1 }
                n0x14 = 0x14;
                p_temp_physics_params_struct[3] = *(_DWORD *)(v8 + 0x24);
                if ( n0x14_1 < 0x14 )
                  n0x14 = n0x14_1;
                n0x14_2 = 1;
                *(float *)&v777 = *(float *)&_XMM1;
                if ( n0x14 > 1 )
                  n0x14_2 = n0x14;
                p_temp_physics_params_struct[0xC] = n0x14_2;
              }
              v323 = *(float *)(v8 + 0x28);
              if ( (LODWORD(v323) & 0xFFA00000) != 0xFFA00000 )
              {
                *(float *)&p_temp_physics_params_struct[0x11] = v323 * 200.0;
                *(float *)&p_temp_physics_params_struct[0xF] = v323 * 0.0049999999;
              }
              v324 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) + 0x58LL * v300 + 8);
              (*(void (__fastcall **)(__int64, _DWORD *, __int64))(*(_QWORD *)v324 + 0x18LL))(
                v324,
                p_temp_physics_params_struct,
                1);
              if ( (*(_DWORD *)(v8 + 0x2C) & 0x7FFFFFFF) != 0 )
              {
                v842[0] = 3;
                v842[1] = 3;
                v325 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) + 0x58LL * v300 + 8);
                (*(void (__fastcall **)(__int64, _DWORD *, __int64))(*(_QWORD *)v325 + 0x30LL))(v325, v842, 1);
              }
              goto LABEL_444;
            }
          }
        }
      }
LABEL_443:
      v10 = 0;
LABEL_444:
      v949 = __rdtsc();
      qword_149A05E08(&n0x2800_9);
      LODWORD(v6) = v10;
      goto LABEL_865;
    case 0xE:
      n0x2800_10 = 0x2800;
      v953 = 0;
      v954 = 0;
      v956 = 0;
      v957 = 0;
      v958 = 0;
      v955 = 1;
      qword_149A05E00(&n0x2800_10, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v848 = *(_OWORD *)(a1 + 0x10);
      v849 = *(double *)(a1 + 0x20);
      v850 = *(_OWORD *)(a1 + 0x28);
      v851 = *(double *)(a1 + 0x38);
      v777 = *(_QWORD *)(v8 + 8);
      if ( (HIDWORD(v777) & 0xFFF40000) != 0xFFF40000 )
      {
        v848 = *(_OWORD *)(v8 + 8);
        v849 = *(double *)(v8 + 0x18);
      }
      v852 = *(_QWORD *)(v8 + 0x20);
      if ( (HIDWORD(v852) & 0xFFF40000) != 0xFFF40000 )
      {
        v850 = *(_OWORD *)(v8 + 0x20);
        v851 = *(double *)(v8 + 0x30);
      }
      sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 1, &v848);
      v326 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      v327 = a1 + 0xC8;
      if ( v326 )
      {
        sub_1403DE750(v327, v326, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
        v327 = a1 + 0xC8;
      }
      *(_OWORD *)(a1 + 0x10) = v848;
      *(double *)(a1 + 0x20) = v849;
      *(_OWORD *)(a1 + 0x28) = v850;
      *(double *)(a1 + 0x38) = v851;
      if ( v327 )
      {
        n0x200000_15 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_15 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_15);
      }
      v956 = __rdtsc();
      qword_149A05E08(&n0x2800_10);
      LODWORD(v6) = 1;
      goto LABEL_865;
    case 0x28:
      v329 = (volatile signed __int64 *)(a1 + 0xC8);
      v330 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v330 )
        sub_1403DE750(a1 + 0xC8, v330, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      v331 = *(_DWORD *)(v8 + 4);
      if ( (unsigned int)(v331 + 0x7FFFFFFF) > 0x7FFFFFFE && v331 != 1 )
      {
        v10 = 0;
LABEL_499:
        if ( v329 )
        {
          n0x200000_16 = _InterlockedCompareExchange64(v329, 0, 0x200000);
          if ( n0x200000_16 != 0x200000 )
            sub_1403DEBA0(v329, n0x200000_16);
        }
LABEL_861:
        LODWORD(v6) = v10;
LABEL_862:
        if ( v1026 )
          goto LABEL_868;
        goto LABEL_865;
      }
      if ( !*(_QWORD *)(a1 + 0x220) )
      {
        *(_QWORD *)(a1 + 0x220) = allocWithProfilerInfo_w(0x10u);
        v332 = allocWithProfilerInfo_w(0x68u);
        v333 = v332;
        if ( v332 )
        {
          *(_QWORD *)(v332 + 0x18) = 0;
          *(_QWORD *)(v332 + 0x20) = 0;
          *(_QWORD *)v332 = 0;
          *(_QWORD *)(v332 + 0x28) = 0;
          *(_QWORD *)(v332 + 8) = 0;
          *(_DWORD *)(v332 + 0x30) = 0x40000000;
          *(_QWORD *)(v332 + 0x10) = 0;
          *(_QWORD *)(v332 + 0x38) = 0xFFFFFFFFFFFFFFFFuLL;
          *(_QWORD *)(v332 + 0x40) = 0;
          *(_QWORD *)(v332 + 0x48) = 0;
          *(_DWORD *)(v332 + 0x50) = 0;
          *(_DWORD *)(v332 + 0x5C) = 0;
          *(_WORD *)(v332 + 0x60) = 0;
          *(_DWORD *)(v332 + 0x54) = 0xFFBFFFFF;
          *(_DWORD *)(v332 + 0x58) = 0x80000000;
        }
        else
        {
          v333 = 0;
        }
        **(_QWORD **)(a1 + 0x220) = v333;
        v334 = allocWithProfilerInfo_w(0x68u);
        v335 = v334;
        if ( v334 )
        {
          *(_QWORD *)(v334 + 0x18) = 0;
          *(_QWORD *)(v334 + 0x20) = 0;
          *(_QWORD *)v334 = 0;
          *(_QWORD *)(v334 + 0x28) = 0;
          *(_QWORD *)(v334 + 8) = 0;
          *(_DWORD *)(v334 + 0x30) = 0x40000000;
          *(_QWORD *)(v334 + 0x10) = 0;
          *(_QWORD *)(v334 + 0x38) = 0xFFFFFFFFFFFFFFFFuLL;
          *(_QWORD *)(v334 + 0x40) = 0;
          *(_QWORD *)(v334 + 0x48) = 0;
          *(_DWORD *)(v334 + 0x50) = 0;
          *(_DWORD *)(v334 + 0x5C) = 0;
          *(_WORD *)(v334 + 0x60) = 0;
          *(_DWORD *)(v334 + 0x54) = 0xFFBFFFFF;
          *(_DWORD *)(v334 + 0x58) = 0x80000000;
        }
        else
        {
          v335 = 0;
        }
        *(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL) = v335;
        *(_DWORD *)(**(_QWORD **)(a1 + 0x220) + 0x50LL) = 1;
        *(_BYTE *)(**(_QWORD **)(a1 + 0x220) + 0x61LL) = 1;
      }
      v336 = *(int *)(v8 + 4);
      v337 = *(_QWORD *)(a1 + 0x220);
      sub_part_id = *(_DWORD *)(v8 + 8);
      v339 = *(__int64 **)(v337 + 8 * v336);
      if ( sub_part_id == 0x80000000 )
      {
        if ( *(_DWORD *)(v8 + 0xC) == sub_part_id )
        {
          sub_part_id_1 = *(_DWORD *)(v8 + 0x38);
          if ( sub_part_id_1 != sub_part_id )
            *((_DWORD *)v339 + 0x14) = sub_part_id_1;
          if ( !*(_DWORD *)(v8 + 0x3C) )
            goto LABEL_499;
          *((_DWORD *)v339 + 0x15) = *(_DWORD *)(v8 + 0x14);
          *((_DWORD *)v339 + 0x16) = *(_DWORD *)(v8 + 0x18);
          v341 = *(_QWORD *)(v8 + 0x20);
          if ( v341 == 0x8000000000000000uLL )
          {
            v339[8] = *(_QWORD *)(v8 + 0x28);
            v342 = *(_QWORD *)(v8 + 0x30);
          }
          else
          {
            v339[8] = v341;
            v342 = 0;
          }
          v339[7] = v342;
          v343 = v339[1];
          for ( j = *v339; j != v343; j += 0x78 )
          {
            if ( (*(_DWORD *)(v8 + 0x14) & 0xFFA00000) != 0xFFA00000 )
              *(float *)(j + 0x64) = *(float *)(v8 + 0x14);
            v345 = *(_DWORD *)(v8 + 0x18);
            if ( v345 != 0x80000000 )
              *(_DWORD *)(j + 0x68) = v345;
            *(_QWORD *)(j + 8) = v339[8] | *(_QWORD *)(j + 8) & v339[7];
          }
          goto LABEL_498;
        }
        v346 = *v339;
        v347 = (v339[1] - *v339) / 0x78;
        v348 = v347;
      }
      else
      {
        v346 = *v339;
        v348 = binary_search_struct_array_by_offset(*(__int64 **)(v337 + 8 * v336), sub_part_id);
        v347 = (v339[1] - v346) / 0x78
             + ((unsigned __int64)(v339[1]
                                 - v346
                                 + ((unsigned __int128)((v339[1] - v346) * (__int128)(__int64)0x8888888888888889uLL) >> 0x40)) >> 0x3F);
      }
      v349 = *(_DWORD *)(v8 + 0xC);
      if ( v349 == 0x80000000 )
        v349 = v348;
      if ( v349 >= (int)v347 )
      {
        v10 = 0;
        goto LABEL_499;
      }
      if ( (*(_DWORD *)(v8 + 0x14) & 0xFFA00000) != 0xFFA00000 )
        *(float *)(0x78LL * v349 + v346 + 0x64) = *(float *)(v8 + 0x14);
      v350 = *(_DWORD *)(v8 + 0x18);
      v351 = 0x78LL * v349;
      if ( v350 != 0x80000000 )
        *(_DWORD *)(v351 + *v339 + 0x68) = v350;
      v352 = *(_QWORD *)(v8 + 0x20);
      v353 = *v339;
      if ( v352 == 0x8000000000000000uLL )
        v352 = *(_QWORD *)(v8 + 0x28) | *(_QWORD *)(v353 + v351 + 8) & *(_QWORD *)(v8 + 0x30);
      *(_QWORD *)(v353 + v351 + 8) = v352;
LABEL_498:
      sub_1468F2240(v339);
      goto LABEL_499;
    case 0x1B:
      n0x2800_11 = 0x2800;
      v960 = 0;
      v961 = 0;
      v963 = 0;
      v964 = 0;
      v965 = 0;
      v962 = 1;
      qword_149A05E00(&n0x2800_11, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v355 = (volatile signed __int64 *)(a1 + 0xC8);
      v356 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v356 )
        sub_1403DE750(a1 + 0xC8, v356, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      if ( *(_WORD *)(a1 + 0x106) )
      {
        v357 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1032);
        v358 = sub_146602780(a1 + 0x228, v357, 0xFFFFFFFF);
        v359 = *(_WORD *)(a1 + 0x106);
        v360 = v358;
        if ( (v359 & 2) != 0 )
        {
          (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x358LL))(a1);
          *(_WORD *)(a1 + 0x106) &= ~2u;
          v359 = *(_WORD *)(a1 + 0x106);
        }
        v170 = v360 == 0;
        v355 = (volatile signed __int64 *)(a1 + 0xC8);
        if ( !v170 )
          *(_WORD *)(a1 + 0x106) = v359 | 0x170;
      }
      if ( v355 )
      {
        n0x200000_17 = _InterlockedCompareExchange64(v355, 0, 0x200000);
        if ( n0x200000_17 != 0x200000 )
          sub_1403DEBA0(v355, n0x200000_17);
      }
      v362 = *(double *)(a1 + 0x28);
      v363 = *(_DWORD *)(a1 + 0x290);
      v364 = 0;
      v365 = (*(double *)(a1 + 0x38) + *(double *)(a1 + 0x20)) * 0.5 - *(double *)(a1 + 0x1D0);
      v366 = (*(double *)(a1 + 0x30) + *(double *)(a1 + 0x18)) * 0.5 - *(double *)(a1 + 0x1C8);
      v367 = (v362 + *(double *)(a1 + 0x10)) * 0.5 - *(double *)(a1 + 0x1C0);
      LODWORD(v368) = *(_DWORD *)(a1 + 0x1DC) ^ 0x80000000;
      v369 = COERCE_FLOAT(*(_DWORD *)(a1 + 0x1E0) ^ 0x80000000);
      v370 = COERCE_FLOAT(*(_DWORD *)(a1 + 0x1D8) ^ 0x80000000);
      LODWORD(v741) = *(_DWORD *)(a1 + 0x1D8) ^ 0x80000000;
      v371 = *(float *)(a1 + 0x1E4);
      *((_QWORD *)&v372 + 1) = 0;
      *(double *)&v372 = v365 * v368 - v366 * v369 + v367 * v371;
      v373 = v372;
      *((_QWORD *)&v372 + 1) = 0;
      *(double *)&v372 = v367 * v369 - v365 * v370 + v366 * v371;
      v374 = v372;
      *((_QWORD *)&v372 + 1) = 0;
      v375 = v366 * v370 - v367 * v368 + v365 * v371;
      *(double *)&v372 = v375 * v368 - *(double *)&v374 * v369 + v367 + v375 * v368 - *(double *)&v374 * v369;
      _XMM6 = v372;
      *((_QWORD *)&v372 + 1) = *((_QWORD *)&v373 + 1);
      *(double *)&v372 = *(double *)&v373 * v369 - v375 * v370 + *(double *)&v373 * v369 - v375 * v370 + v366;
      _XMM5 = v372;
      *((_QWORD *)&v372 + 1) = *((_QWORD *)&v374 + 1);
      *(double *)&v372 = *(double *)&v374 * v370;
      LODWORD(v374) = *(_DWORD *)(a1 + 0x1E0) ^ 0x80000000;
      *(double *)&v372 = *(double *)&v372 - *(double *)&v373 * v368 + *(double *)&v372 - *(double *)&v373 * v368 + v365;
      _XMM4 = v372;
      __asm { vcvtsd2ss xmm0, xmm6, xmm6 }
      v757 = *(float *)&_XMM0;
      __asm { vcvtsd2ss xmm0, xmm4, xmm4 }
      v759 = *(float *)&_XMM0;
      v381 = *(double *)(a1 + 0x38) - *(double *)(a1 + 0x20);
      *(_QWORD *)&_XMM0 = *(_QWORD *)(a1 + 0x30);
      __asm { vcvtsd2ss xmm1, xmm5, xmm5 }
      v758 = *(float *)&_XMM1;
      v383 = (v362 - *(double *)(a1 + 0x10)) * 0.5;
      v384 = (*(double *)&_XMM0 - *(double *)(a1 + 0x18)) * 0.5;
      v719 = v381 * 0.5;
      v760 = v368;
      v736 = 0;
      v730 = v363;
      v734 = 0;
      *(float *)&_XMM5 = v741;
      v385 = (float)(*(float *)&v374 + *(float *)&v374) * v368;
      v387 = LODWORD(v741);
      *(float *)&v387 = v741 * (float)(*(float *)&v374 + *(float *)&v374);
      v386 = v387;
      v388 = v368 + v368;
      *(float *)&v365 = (float)(v368 + v368) * v368;
      v389 = 1.0 - (float)((float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM5);
      LODWORD(_XMM0) = *(_DWORD *)(a1 + 0x1E4);
      *(float *)&v366 = *(float *)&_XMM0 * (float)(*(float *)&_XMM5 + *(float *)&_XMM5);
      *(float *)&v373 = *(float *)&_XMM0 * v388;
      v391 = (unsigned int)_XMM0;
      *(float *)&v391 = *(float *)&_XMM0 * (float)(*(float *)&v374 + *(float *)&v374);
      v390 = v391;
      n0x3F800000 = 0x3F800000u;
      *(float *)&v374 = *(float *)&v374 * (float)(*(float *)&v374 + *(float *)&v374);
      *(float *)&n0x3F800000 = (float)(1.0 - *(float *)&v365) - *(float *)&v374;
      *((_QWORD *)&n0x3F800000 + 1) = (n0x3F800000 & (unsigned __int128)0x7FFFFFFFu) >> 0x40;
      *(double *)&n0x3F800000 = fabs(*(float *)&n0x3F800000) * v383
                              + fabs((float)(v388 * v741) - *(float *)&v390) * v384
                              + fabs(*(float *)&v386 + (float)(*(float *)&_XMM0 * v388)) * (v381 * 0.5);
      n0x3F800000_1 = n0x3F800000;
      __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
      v755 = *(float *)&_XMM0;
      *(float *)&_XMM1 = v389 - *(float *)&v374;
      v395 = *(float *)&_XMM0;
      v396 = v390;
      *(float *)&v396 = *(float *)&v390 + (float)(v388 * v741);
      *((_QWORD *)&v396 + 1) = (v396 & (unsigned __int128)0x7FFFFFFFu) >> 0x40;
      *(double *)&v396 = fabs(*(float *)&v396) * v383
                       + COERCE_FLOAT(_XMM1 & 0x7FFFFFFF) * v384
                       + fabs(v385 - *(float *)&v366) * v719;
      _XMM2 = v396;
      __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
      v756 = *(float *)&_XMM0;
      *(float *)&_XMM1 = v385 + *(float *)&v366;
      v399 = v758;
      v400 = v757;
      v401 = v386;
      *(float *)&v401 = *(float *)&v386 - *(float *)&v373;
      v402 = *(float *)&_XMM0;
      *((_QWORD *)&v401 + 1) = (v401 & (unsigned __int128)0x7FFFFFFFu) >> 0x40;
      *(float *)&_XMM2 = v389 - *(float *)&v365;
      v403 = v759;
      *(double *)&v401 = COERCE_FLOAT(v401 & 0x7FFFFFFF) * v383
                       + COERCE_FLOAT(_XMM1 & 0x7FFFFFFF) * v384
                       + COERCE_FLOAT(_XMM2 & 0x7FFFFFFF) * v719;
      _XMM2 = v401;
      __asm { vcvtsd2ss xmm9, xmm2, xmm2 }
      *((float *)&v781 + 1) = v758 - *(float *)&_XMM0;
      v782 = v759 - *(float *)&_XMM9;
      v761 = *(float *)&_XMM9;
      *(float *)&v781 = v757 - v395;
      *(float *)&v783 = v395 + v757;
      *((float *)&v783 + 1) = *(float *)&_XMM0 + v758;
      v784 = *(float *)&_XMM9 + v759;
      if ( *(_QWORD *)(a1 + 0x2D8) )
      {
        if ( (*(_DWORD *)(v8 + 4) & 0xFFA00000) != 0xFFA00000 )
        {
          v781 = *(_QWORD *)(v8 + 4);
          v782 = *(float *)(v8 + 0xC);
          v783 = *(_QWORD *)(v8 + 0x10);
          v784 = *(float *)(v8 + 0x18);
        }
        if ( (*(_DWORD *)(v8 + 0x1C) & 0xFFA00000) != 0xFFA00000 )
          LogFatalError("cannot change cellsize on an exisiting grid");
        if ( *(_DWORD *)(v8 + 0x2C) != **(_DWORD **)(**(_QWORD **)(a1 + 0x2D8) + 0x1B8LL) )
          LogFatalError("physics init_interior: cannot change type of existing grid");
        v734 = 1;
        *(_BYTE *)(*(_QWORD *)(a1 + 0x2D8) + 0x200LL) = *(_BYTE *)(v8 + 0x6D);
      }
      else
      {
        v406 = allocWithProfilerInfo_w(0x208u);
        if ( v406 )
          v407 = (_QWORD *)sub_1465A4E70(v406, a1);
        else
          v407 = 0;
        *(_QWORD *)(a1 + 0x2D8) = v407;
        *v407 = 0;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1FCLL) = 0x40000000;
        if ( (*(_DWORD *)(v8 + 4) & 0xFFA00000) != 0xFFA00000 )
        {
          v781 = *(_QWORD *)(v8 + 4);
          v782 = *(float *)(v8 + 0xC);
          v783 = *(_QWORD *)(v8 + 0x10);
          v784 = *(float *)(v8 + 0x18);
        }
        if ( (*(_DWORD *)(v8 + 0x1C) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(*(_QWORD *)(a1 + 0x2D8) + 0x1FCLL) = *(float *)(v8 + 0x1C);
        if ( (unsigned int)(*(_DWORD *)(v8 + 0x2C) - 1) > 5 )
          LogFatalError("physics init_interior: invalid grid type specified");
        v408 = *(_QWORD *)(v8 + 0x48);
        if ( !v408 )
        {
          v409 = *(_QWORD *)(a1 + 0x2C0);
          v844[0] = *(float *)(*(_QWORD *)(a1 + 0x2D8) + 0x1FCLL);
          v844[1] = v844[0];
          v844[2] = v844[0];
          v408 = CPhysicalWorld::SetupEntityGrid(v409, *(unsigned int *)(v8 + 0x2C), v844, a1);
        }
        **(_QWORD **)(a1 + 0x2D8) = v408;
        *(_BYTE *)(*(_QWORD *)(a1 + 0x2D8) + 0x200LL) = *(_BYTE *)(v8 + 0x6D);
        if ( !*(_QWORD *)(v8 + 0x48) )
          sub_14690BC60(**(_QWORD **)(a1 + 0x2D8));
      }
      v410 = *(_DWORD *)(v8 + 0x20);
      if ( v410 == 0x80000000 )
      {
        v411 = v730;
      }
      else
      {
        v411 = v730;
        if ( v730 > 0 )
        {
          v412 = *(_DWORD **)(a1 + 0x250);
          v413 = 0;
          while ( 1 )
          {
            ++v364;
            if ( *v412 == v410 )
              break;
            ++v413;
            v736 = v364;
            ++v412;
            if ( v413 >= v730 )
              goto LABEL_542;
          }
          v411 = v364;
        }
      }
LABEL_542:
      v414 = *(int *)(v8 + 0x24);
      v415 = v414 + 1;
      if ( v414 == 0x80000000 )
      {
        v414 = v736;
        v415 = v411;
      }
      v754 = v414;
      v742 = v415;
      v416 = *(_DWORD *)(v8 + 0x28);
      n0x40 = 0x40;
      if ( v416 == 0x80000000 )
        v416 = 0;
      v731 = v416;
      if ( *(int *)(a1 + 0x290) > 0 )
      {
        v417 = 0;
        v418 = 0;
        v419 = 0;
        n0x40_1 = 0x40;
        do
        {
          v738 = *(_DWORD *)(v418 + *(_QWORD *)(a1 + 0x250));
          v720 = *(_DWORD **)(v417 + *(_QWORD *)(a1 + 0x238));
          switch ( v720[0x13] >> 0x1E )
          {
            case 1:
              sub_1465A0F90(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL, *(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D8LL) + 1);
              *(_DWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D8LL)
                        + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL)
                        + 0x64) = v419;
              *(_DWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D8LL)
                        + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL)
                        + 0x60) = v738;
              *(_QWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D8LL)
                        + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL)) = *(_QWORD *)(*(_QWORD *)v720 + 0x38LL);
              v430 = *(_QWORD *)(a1 + 0x2D8);
              v431 = *(_QWORD *)(v430 + 0xD0);
              v432 = 0x68LL * *(int *)(v430 + 0x1D8);
              v433 = *(_DWORD **)(v432 + v431);
              *(_DWORD *)(v432 + v431 + 0x40) = v433[0x1C];
              *(_DWORD *)(v432 + v431 + 0x44) = v433[0x1D];
              *(_DWORD *)(v432 + v431 + 0x48) = v433[0x1E];
              *(_DWORD *)(v432 + v431 + 0x4C) = v433[0x1F];
              *(_DWORD *)(v432 + v431 + 0x50) = v433[0x20];
              *(_DWORD *)(v432 + v431 + 0x54) = v433[0x21];
              *(_DWORD *)(v432 + v431 + 0x58) = v433[0x22];
              *(_DWORD *)(v432 + v431 + 0x5C) = 0x3F800000;
              v434 = *(_QWORD *)(a1 + 0x2D8);
              v435 = *(void (__fastcall ****)(_QWORD))(0x68LL * (int)(*(_DWORD *)(v434 + 0x1D8))++
                                                     + *(_QWORD *)(v434 + 0xD0));
              (**v435)(v435);
              n0x40_1 |= 0x10u;
              break;
            case 2:
              sub_1465A0F90(*(_QWORD *)(a1 + 0x2D8) + 0x78LL, *(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL) + 1);
              *(_DWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL)
                        + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL)
                        + 0x64) = v419;
              *(_DWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL)
                        + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL)
                        + 0x60) = v738;
              *(_QWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL)
                        + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL)) = *(_QWORD *)(*(_QWORD *)v720 + 0x38LL);
              v424 = (_DWORD *)(*(__int64 (__fastcall **)(_QWORD, char *))(**(_QWORD **)(0x68LL
                                                                                       * *(int *)(*(_QWORD *)(a1 + 0x2D8)
                                                                                                + 0x1D4LL)
                                                                                       + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL))
                                                                         + 0x68LL))(
                                 *(_QWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL)
                                           + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL)),
                                 v1084);
              v425 = *(_QWORD *)(a1 + 0x2D8);
              v426 = *(_QWORD *)(v425 + 0x78);
              v427 = 0x68LL * *(int *)(v425 + 0x1D4);
              *(_DWORD *)(v427 + v426 + 0x40) = *v424;
              *(_DWORD *)(v427 + v426 + 0x44) = v424[1];
              *(_DWORD *)(v427 + v426 + 0x48) = v424[2];
              *(_DWORD *)(v427 + v426 + 0x4C) = v424[3];
              *(_DWORD *)(v427 + v426 + 0x50) = v424[4];
              *(_DWORD *)(v427 + v426 + 0x54) = v424[5];
              *(_DWORD *)(v427 + v426 + 0x58) = v424[6];
              *(_DWORD *)(v427 + v426 + 0x5C) = 0x3F800000;
              v428 = *(_QWORD *)(a1 + 0x2D8);
              v429 = *(_QWORD *)(0x68LL * (int)(*(_DWORD *)(v428 + 0x1D4))++ + *(_QWORD *)(v428 + 0x78));
              sub_1465B1DF0(v429);
              n0x40_1 |= 0x20u;
              break;
            case 3:
              sub_1465A0FC0(*(_QWORD *)(a1 + 0x2D8) + 0x20LL, *(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL) + 1);
              *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                        + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)
                        + 0x44) = v419;
              *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                        + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)
                        + 0x40) = v738;
              *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                        + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)) = *(_QWORD *)v720;
              v421 = *(_QWORD *)(a1 + 0x2D8);
              v422 = *(int *)(v421 + 0x1D0);
              v423 = *(_QWORD *)(*(_QWORD *)(v421 + 0x20) + 0x48 * v422);
              *(_DWORD *)(v421 + 0x1D0) = v422 + 1;
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v423 + 0x10LL))(v423);
              n0x40_1 |= 0x40u;
              break;
          }
          ++v419;
          v418 += 4;
          v417 += 8;
        }
        while ( v419 < *(_DWORD *)(a1 + 0x290) );
        v414 = v754;
        n0x40 = n0x40_1;
        v8 = v777;
      }
      v436 = *(_QWORD *)(v8 + 0x30);
      v748 = 0;
      v721 = 0;
      if ( !v436 )
      {
        if ( *(_BYTE *)(v8 + 0x6A) )
        {
LABEL_649:
          if ( !v734 && !*(_QWORD *)(v8 + 0x48) )
          {
            v864[0] = 0;
            v864[1] = 0x11;
            v870 = 0;
            v871 = 0;
            v864[2] = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
            v864[3] = *(_QWORD *)(a1 + 0xC0);
            v865 = *(__int16 *)(a1 + 0xEC);
            v866 = *(__int16 *)(a1 + 0xEE);
            v867 = **(_QWORD **)(a1 + 0x2D8);
            v868 = *(_BYTE *)(v8 + 0x64);
            v869 = *(_BYTE *)(v8 + 0x65);
            sub_146807910(*(_QWORD *)(a1 + 0x2C0), *(unsigned int *)(a1 + 0x208), v864, 0);
          }
          v587 = *(_QWORD **)(a1 + 0x2D8);
          if ( !v587[1] )
          {
            v588 = **(_DWORD **)(*v587 + 0x1B8LL);
            if ( (unsigned int)(v588 - 5) > 1 )
            {
              if ( v588 )
              {
                memset(String, 0, sizeof(String));
                swprintf(String, 0x1000u, "%s [TRIGGER]", *(const char **)(a1 + 0xD0));
                *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 8LL) = CPhysicalWorld::CreatePhysicalEntity_(
                                                               *(_QWORD *)(a1 + 0x2C0),
                                                               1,
                                                               v589,
                                                               0,
                                                               0,
                                                               0xFFFFFFFF,
                                                               0xFFFFFFFF,
                                                               0,
                                                               (__int64)String,
                                                               0,
                                                               **(_QWORD **)(a1 + 0x2D8));
              }
            }
          }
          v590 = *(_QWORD *)(a1 + 0x2D8);
          if ( *(_QWORD *)(v590 + 8) )
          {
            v846[0] = 0xF;
            v846[1] = 0x80000000;
            v846[2] = 0x10000400;
            v846[3] = 0xFFFFFFDF;
            (*(void (__fastcall **)(_QWORD, _DWORD *, __int64))(**(_QWORD **)(v590 + 8) + 0x18LL))(
              *(_QWORD *)(v590 + 8),
              v846,
              1);
            v1014 = 0;
            v1018 = 0xFFBFFFFF;
            v1021 = v1021 & 0xF0 | 8;
            v1022 = 0xFFFFFFFFFFFFFFFFuLL;
            n6_1 = 6;
            n0x101 = 0x101;
            v1015 = 0.0;
            v1017 = xmmword_14810C850;
            _XMM1 = 0;
            __asm { vmovupd [rsp+2818h+var_1E48], xmm1 }
            (*(void (__fastcall **)(_QWORD, int *, __int64))(**(_QWORD **)(*(_QWORD *)(a1 + 0x2D8) + 8LL) + 0x18LL))(
              *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 8LL),
              &v1014,
              1);
            n0xB = 0xB;
            v880 = 0xFFFFFFFFFFFFFFFFuLL;
            v881 = 0x80000000;
            v883 = 0xFFFFFFFF;
            v884 = 0;
            n0x15F = 0x15F;
            (*(void (__fastcall **)(_QWORD, int *, __int64))(**(_QWORD **)(*(_QWORD *)(a1 + 0x2D8) + 8LL) + 0x18LL))(
              *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 8LL),
              &n0xB,
              1);
            n0xE = 0xE;
            v1107 = 0xFFBFFFFF;
            v1108 = 0xFFBFFFFF;
            v1101 = (float)(v400 - (float)(v395 * 1.225));
            v1103 = (float)(v403 - (float)(*(float *)&_XMM9 * 1.225));
            v1104 = (float)((float)(v395 * 1.225) + v400);
            v1102 = (float)(v399 - (float)(v402 * 1.225));
            v1106 = (float)(v403 + (float)(*(float *)&_XMM9 * 1.225));
            v1105 = (float)(v399 + (float)(v402 * 1.225));
            (*(void (__fastcall **)(_QWORD, int *, __int64))(**(_QWORD **)(*(_QWORD *)(a1 + 0x2D8) + 8LL) + 0x18LL))(
              *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 8LL),
              &n0xE,
              1);
            *(_WORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 8LL) + 0x108LL) = 0;
          }
          *(_BYTE *)(a1 + 0x384) ^= (*(_BYTE *)(a1 + 0x384) ^ (*(_BYTE *)(v8 + 0x6B) << 6)) & 0x40;
          if ( !v734 && *(_BYTE *)(v8 + 0x66) )
          {
            *(_DWORD *)(a1 + 0x208) |= 0x10u;
            sub_14690EAF0(*(_QWORD *)(a1 + 0x2C0), a1, 0);
          }
          v592 = v748;
          if ( v748 )
            sub_1465E7F80(v748);
          v593 = v721;
          if ( v721 )
          {
            sub_1465E7F80(v721);
            memset(Buffer_, 0, sizeof(Buffer_));
            sub_141EB6140(v1078);
            v1080 = 0;
            p_p_p_p_p_p_p_p_p_p_p_p_p_Source = &p_p_p_p_p_p_p_p_p_p_p_p_Source;
            v1079 = 0;
            if ( *(_QWORD *)(a1 + 0xD0) )
              p_p_p_p_p_p_p_p_p_p_p_p_p_Source = *(const sockaddr **)(a1 + 0xD0);
            sub_141EB4D50(Buffer_, (char)p_p_p_p_p_p_p_p_p_p_p_p_p_Source);
            v595 = 0xFFFFFFFFFFFFFFFFuLL;
            do
              ++v595;
            while ( *(_BYTE *)(v1083 + v595) );
            v1082 = ~((unsigned int (__fastcall *)(__int64, __int64, unsigned __int64))off_1497DDC28[0])(
                       0xFFFFFFFFLL,
                       v1083,
                       v595);
            v596 = sub_14665D0C0(v721);
            v597 = *(_QWORD *)(a1 + 0x2C0);
            v598 = v596;
            v599 = v597 + 0x10;
            if ( !v597 )
              v599 = 0;
            *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x18LL) = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD, _QWORD, _DWORD))(*(_QWORD *)v599 + 0x40LL))(
                                                              v599,
                                                              v596,
                                                              0,
                                                              0,
                                                              0);
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v598 + 0x18LL))(v598);
            *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x18LL) + 0x4CLL) = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x18LL)
                                                                                            + 0x4CLL)
                                                                                & 0x3FFFFFFF
                                                                                | 0x40000000;
            v1081 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1029);
            (*(void (__fastcall **)(__int64, _QWORD, _BYTE *, __int64, _DWORD))(*(_QWORD *)a1 + 0x38LL))(
              a1,
              *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x18LL),
              v1078,
              0xFFFFFFFFLL,
              0);
            v592 = v748;
          }
          sub_1465D9120(*(_QWORD *)(a1 + 0x2D8), n0x40);
          if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x41CLL) && v721 )
            sub_1466039A0(v721);
          v600 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          v722 = a1 + 0xC8;
          if ( v600 )
          {
            sub_1403DE750(a1 + 0xC8, v600, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
            v722 = a1 + 0xC8;
          }
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, a1 + 0x10, 3);
          sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 1, a1 + 0x10);
          if ( v722 )
          {
            n0x200000_18 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
            if ( n0x200000_18 != 0x200000 )
              sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_18);
          }
          if ( v592 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v592 + 8LL))(v592);
          if ( v593 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v593 + 8LL))(v593);
          v963 = __rdtsc();
          qword_149A05E08(&n0x2800_11);
          LODWORD(v6) = 1;
          goto LABEL_865;
        }
LABEL_563:
        v444 = v742;
        v780 = 0;
        v710 = v414;
        v752 = v742;
        v779 = 0;
        if ( v414 < (__int64)v742 )
        {
          v445 = v414;
          v446 = v414;
          v447 = 0x20LL * v414;
          v448 = v742;
          do
          {
            if ( v446 < *(_DWORD *)(a1 + 0x290) )
            {
              v449 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8 * v445);
              if ( (v731 & v449) != 0 || -((int)(v449 ^ (v449 - 1)) >> 0x1F) | -((v731 ^ (v731 - 1)) >> 0x1F) )
              {
                v450 = **(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8 * v445);
                if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v450 + 8LL))(v450) == 1 )
                {
                  v762 = *(_QWORD *)(a1 + 0x238);
                  v451 = **(_QWORD **)(v762 + 8 * v445);
                  v452 = *(_QWORD *)(a1 + 0x230);
                  v770 = v451;
                  v453 = (__m128)*(unsigned int *)(v452 + v447);
                  v454 = *(float *)(v452 + v447 + 4);
                  v455 = *(float *)(v452 + v447 + 0xC);
                  v456 = *(float *)(v452 + v447 + 8);
                  v457 = (float)(v454 + v454) * v454;
                  v459 = v453;
                  v459.m128_f32[0] = v453.m128_f32[0] * (float)(v454 + v454);
                  v458 = v459;
                  v460 = v455 * (float)(v454 + v454);
                  v461 = v454 * (float)(v456 + v456);
                  v462 = (float)(v456 + v456) * v456;
                  v464 = v453;
                  v464.m128_f32[0] = v453.m128_f32[0] * (float)(v456 + v456);
                  v463 = v464;
                  v465 = v455 * (float)(v453.m128_f32[0] + v453.m128_f32[0]);
                  v466 = 1.0 - (float)((float)(v453.m128_f32[0] + v453.m128_f32[0]) * v453.m128_f32[0]);
                  v467 = v455 * (float)(v456 + v456);
                  v468 = v461 + v465;
                  v818 = v461 + v465;
                  n0x3F800000_2 = (__m128)0x3F800000u;
                  n0x3F800000_2.m128_f32[0] = 1.0 - v457;
                  n0x3F800000_3 = n0x3F800000_2;
                  v472 = v463;
                  v472.m128_f32[0] = v463.m128_f32[0] + v460;
                  v471 = v472;
                  v811[2] = v463.m128_f32[0] + v460;
                  v473 = v463.m128_f32[0] - v460;
                  v817 = v473;
                  n0x3F800000_4 = n0x3F800000_3;
                  n0x3F800000_4.m128_f32[0] = n0x3F800000_3.m128_f32[0] - v462;
                  n0x3F800000_5 = n0x3F800000_4;
                  v811[0] = n0x3F800000_3.m128_f32[0] - v462;
                  n0x3F800000_3.m128_f32[0] = v466 - v462;
                  v814 = v466 - v462;
                  v476 = v461 - v465;
                  v815 = v461 - v465;
                  v478 = v458;
                  v478.m128_f32[0] = v458.m128_f32[0] - v467;
                  v477 = v478;
                  v811[1] = v458.m128_f32[0] - v467;
                  v479 = v467 + v458.m128_f32[0];
                  v813 = v467 + v458.m128_f32[0];
                  v812 = 0.0;
                  v816 = 0.0;
                  v820 = 0.0;
                  v819 = v466 - v457;
                  v812 = *(float *)(v452 + v447 + 0x10);
                  v793 = v812;
                  v816 = *(float *)(v452 + v447 + 0x14);
                  v794 = v816;
                  v820 = *(float *)(v452 + v447 + 0x18);
                  n0x3F800000_6 = n0x3F800000_5;
                  n0x3F800000_6.m128_f32[0] = n0x3F800000_5.m128_f32[0] * *(float *)(v452 + v447 + 0x1C);
                  n0x3F800000_7 = n0x3F800000_6;
                  v811[0] = n0x3F800000_6.m128_f32[0];
                  v482 = n0x3F800000_3.m128_f32[0] * *(float *)(v452 + v447 + 0x1C);
                  v814 = v482;
                  v484 = (float)(v466 - v457) * *(float *)(v452 + v447 + 0x1C);
                  v483 = v484;
                  v819 = v484;
                  v760 = v473;
                  v743 = v818;
                  v725 = v820;
                  if ( *(_BYTE *)(v8 + 0x69) )
                  {
                    v704 = powf(
                             fabs(
                               (float)((float)((float)((float)((float)((float)(v476 * v477.m128_f32[0]) * v473)
                                                             + (float)((float)(v482 * n0x3F800000_7.m128_f32[0]) * v484))
                                                     + (float)((float)(v479 * v471.m128_f32[0]) * v468))
                                             - (float)((float)(v471.m128_f32[0] * v482) * v473))
                                     - (float)((float)(n0x3F800000_7.m128_f32[0] * v815) * v468))
                             - (float)((float)(v479 * v477.m128_f32[0]) * v484)),
                             0.33333334);
                    v488 = v477;
                    v488.m128_f32[0] = (float)((float)(v477.m128_f32[0] * v477.m128_f32[0])
                                             + (float)(n0x3F800000_7.m128_f32[0] * n0x3F800000_7.m128_f32[0]))
                                     + (float)((float)(v471.m128_f32[0] * v471.m128_f32[0]) + 1.1754944e-38);
                    _XMM1 = _mm_shuffle_ps(v488, v488, 0);
                    __asm { vrsqrtps xmm3, xmm1 }
                    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                    _XMM1.m128_f32[0] = (float)(1.5
                                              - (float)((float)((float)(v488.m128_f32[0] * _XMM3.m128_f32[0])
                                                              * _XMM3.m128_f32[0])
                                                      * 0.5))
                                      * _XMM3.m128_f32[0];
                    v492 = v471;
                    v492.m128_f32[0] = v471.m128_f32[0] * v743;
                    v491 = v492;
                    v493 = v477.m128_f32[0] * _XMM1.m128_f32[0];
                    v494 = _XMM1.m128_f32[0] * v471.m128_f32[0];
                    n0x3F800000_8 = n0x3F800000_7;
                    n0x3F800000_8.m128_f32[0] = n0x3F800000_7.m128_f32[0] * _XMM1.m128_f32[0];
                    n0x3F800000_9 = n0x3F800000_8;
                    n0x3F800000_10 = n0x3F800000_7;
                    v498 = (float)(v473 * v477.m128_f32[0]) - (float)(n0x3F800000_7.m128_f32[0] * v743);
                    n0x3F800000_10.m128_f32[0] = (float)(n0x3F800000_7.m128_f32[0] * v483)
                                               - (float)(v471.m128_f32[0] * v760);
                    n0x3F800000_11 = n0x3F800000_10;
                    v501 = v491;
                    v500 = v491.m128_f32[0] - (float)(v477.m128_f32[0] * v483);
                    v501.m128_f32[0] = (float)((float)(v500 * v500)
                                             + (float)(n0x3F800000_11.m128_f32[0] * n0x3F800000_11.m128_f32[0]))
                                     + (float)((float)(v498 * v498) + 1.1754944e-38);
                    _XMM1 = _mm_shuffle_ps(v501, v501, 0);
                    __asm { vrsqrtps xmm3, xmm1 }
                    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                    _XMM1.m128_f32[0] = (float)(1.5
                                              - (float)((float)((float)(v501.m128_f32[0] * _XMM3.m128_f32[0])
                                                              * _XMM3.m128_f32[0])
                                                      * 0.5))
                                      * _XMM3.m128_f32[0];
                    v504 = v500 * _XMM1.m128_f32[0];
                    n0x3F800000_12 = n0x3F800000_11;
                    n0x3F800000_12.m128_f32[0] = n0x3F800000_11.m128_f32[0] * _XMM1.m128_f32[0];
                    n0x3F800000_13 = n0x3F800000_12;
                    v506 = _XMM1.m128_f32[0] * v498;
                    n0x3F800000_12.m128_f32[0] = (float)(n0x3F800000_12.m128_f32[0] * n0x3F800000_9.m128_f32[0])
                                               - (float)(v493 * (float)(v500 * _XMM1.m128_f32[0]));
                    v507 = n0x3F800000_12.m128_f32[0];
                    v509 = (float)(v494 * v504) - (float)((float)(_XMM1.m128_f32[0] * v498) * n0x3F800000_9.m128_f32[0]);
                    v510 = (float)(v493 * (float)(_XMM1.m128_f32[0] * v498))
                         - (float)(v494 * n0x3F800000_13.m128_f32[0]);
                    *(float *)&v770 = (float)(n0x3F800000_13.m128_f32[0] + n0x3F800000_9.m128_f32[0])
                                    + n0x3F800000_12.m128_f32[0];
                    v511 = 1.0;
                    v512 = 0.0;
                    v513 = 0.0;
                    v514 = 0.0;
                    if ( *(float *)&v770 <= 0.0 )
                    {
                      if ( n0x3F800000_9.m128_f32[0] < n0x3F800000_13.m128_f32[0]
                        || n0x3F800000_9.m128_f32[0] < n0x3F800000_12.m128_f32[0] )
                      {
                        if ( n0x3F800000_13.m128_f32[0] < n0x3F800000_9.m128_f32[0]
                          || n0x3F800000_13.m128_f32[0] < n0x3F800000_12.m128_f32[0] )
                        {
                          if ( n0x3F800000_12.m128_f32[0] >= n0x3F800000_9.m128_f32[0]
                            && n0x3F800000_12.m128_f32[0] >= n0x3F800000_13.m128_f32[0] )
                          {
                            n0x3F800000_12.m128_f32[0] = (float)((float)(n0x3F800000_12.m128_f32[0]
                                                                       - n0x3F800000_9.m128_f32[0])
                                                               - n0x3F800000_13.m128_f32[0])
                                                       + 1.0;
                            v521 = _mm_sqrt_ps(_mm_shuffle_ps(n0x3F800000_12, n0x3F800000_12, 0));
                            v521.m128_f32[0] = _mm_shuffle_ps(v521, v521, 0xFF).m128_f32[0];
                            v511 = (float)(v504 - v493) * (float)(0.5 / v521.m128_f32[0]);
                            v512 = (float)(v494 + v510) * (float)(0.5 / v521.m128_f32[0]);
                            v513 = (float)(v506 + v509) * (float)(0.5 / v521.m128_f32[0]);
                            v514 = v521.m128_f32[0] * 0.5;
                          }
                        }
                        else
                        {
                          n0x3F800000_14 = n0x3F800000_13;
                          n0x3F800000_14.m128_f32[0] = (float)((float)(n0x3F800000_13.m128_f32[0] - v507)
                                                             - n0x3F800000_9.m128_f32[0])
                                                     + 1.0;
                          v520 = _mm_sqrt_ps(_mm_shuffle_ps(n0x3F800000_14, n0x3F800000_14, 0));
                          v520.m128_f32[0] = _mm_shuffle_ps(v520, v520, 0xFF).m128_f32[0];
                          v511 = (float)(v494 - v510) * (float)(0.5 / v520.m128_f32[0]);
                          v512 = (float)(v493 + v504) * (float)(0.5 / v520.m128_f32[0]);
                          v514 = (float)(v506 + v509) * (float)(0.5 / v520.m128_f32[0]);
                          v513 = v520.m128_f32[0] * 0.5;
                        }
                      }
                      else
                      {
                        n0x3F800000_15 = n0x3F800000_9;
                        n0x3F800000_15.m128_f32[0] = (float)((float)(n0x3F800000_9.m128_f32[0]
                                                                   - n0x3F800000_13.m128_f32[0])
                                                           - v507)
                                                   + 1.0;
                        v518 = _mm_sqrt_ps(_mm_shuffle_ps(n0x3F800000_15, n0x3F800000_15, 0));
                        v518.m128_f32[0] = _mm_shuffle_ps(v518, v518, 0xFF).m128_f32[0];
                        v511 = (float)(v509 - v506) * (float)(0.5 / v518.m128_f32[0]);
                        v512 = v518.m128_f32[0] * 0.5;
                        v514 = (float)(v494 + v510) * (float)(0.5 / v518.m128_f32[0]);
                        v513 = (float)(v493 + v504) * (float)(0.5 / v518.m128_f32[0]);
                      }
                    }
                    else
                    {
                      n0x3F800000_16 = (__m128)0x3F800000u;
                      n0x3F800000_16.m128_f32[0] = *(float *)&v770 + 1.0;
                      v516 = _mm_sqrt_ps(_mm_shuffle_ps(n0x3F800000_16, n0x3F800000_16, 0));
                      v516.m128_f32[0] = _mm_shuffle_ps(v516, v516, 0xFF).m128_f32[0];
                      v512 = (float)(v509 - v506) * (float)(0.5 / v516.m128_f32[0]);
                      v511 = v516.m128_f32[0] * 0.5;
                      v514 = (float)(v504 - v493) * (float)(0.5 / v516.m128_f32[0]);
                      v513 = (float)(v494 - v510) * (float)(0.5 / v516.m128_f32[0]);
                    }
                    _XMM2 = LODWORD(v793);
                    v523 = *((_QWORD *)&v779 + 1);
                    v524 = **(_QWORD **)(v762 + 8 * v445);
                    v798 = v514;
                    v799 = v511;
                    __asm { vunpcklps xmm0, xmm2, xmm3 }
                    v800 = *(double *)&_XMM0;
                    v797 = v513;
                    v802 = v704;
                    v796 = v512;
                    v801 = v725;
                    v795 = v524;
                    if ( *((_QWORD *)&v779 + 1) == v780 )
                    {
                      sub_146578E20(&v779, *((_QWORD *)&v779 + 1), &v795);
                    }
                    else
                    {
                      **((_QWORD **)&v779 + 1) = v524;
                      *(float *)(v523 + 0x14) = v799;
                      *(float *)(v523 + 8) = v796;
                      *(float *)(v523 + 0xC) = v797;
                      *(float *)(v523 + 0x10) = v798;
                      *(double *)(v523 + 0x18) = v800;
                      *(float *)(v523 + 0x20) = v801;
                      *(float *)(v523 + 0x24) = v802;
                      *((_QWORD *)&v779 + 1) += 0x28LL;
                    }
                  }
                  else
                  {
                    if ( !v748 )
                    {
                      v485 = allocWithProfilerInfo_w(0x110u);
                      if ( v485 )
                        v748 = sub_1465A4C10(v485, &v781);
                      else
                        v748 = 0;
                      v451 = v770;
                    }
                    v486 = *(_DWORD *)(v451 + 0x80);
                    v487 = *(_QWORD *)(v451 + 0x40);
                    v700 = *(_BYTE *)(v8 + 0x68);
                    v1042 = *(_OWORD *)(v451 + 0x58);
                    sub_146630400(v748, (unsigned int)&v1042, v487, v486, (__int64)v811, v700);
                  }
                }
                v446 = v710;
              }
              v448 = v752;
            }
            ++v446;
            ++v445;
            v447 += 0x20;
            v710 = v446;
          }
          while ( v445 < v448 );
          if ( v748 )
          {
            v721 = sub_1465F2E80(v748, *(unsigned __int8 *)(v8 + 0x68), 0, 0);
            sub_1465E4E30(v721);
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v748 + 8LL))(v748);
            v748 = 0;
          }
          v444 = v752;
          v414 = v754;
          *(float *)&_XMM9 = v761;
          v402 = v756;
          v395 = v755;
          v403 = v759;
          v399 = v758;
          v400 = v757;
        }
        if ( *(_DWORD *)(v8 + 0x60) )
        {
          if ( v414 < v444 )
          {
            v526 = v414;
            v527 = 0x20LL * v414;
            v528 = v752;
            do
            {
              if ( v414 < *(_DWORD *)(a1 + 0x290) )
              {
                v529 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8 * v526);
                if ( (v731 & v529) != 0 || -((int)(v529 ^ (v529 - 1)) >> 0x1F) | -((v731 ^ (v731 - 1)) >> 0x1F) )
                {
                  v530 = **(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8 * v526);
                  switch ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v530 + 8LL))(v530) )
                  {
                    case 0u:
                    case 4u:
                      v532 = *(_QWORD *)(a1 + 0x230);
                      v533 = **(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8 * v526);
                      v803 = v533;
                      v807 = *(float *)(v527 + v532 + 0xC);
                      v804 = *(float *)(v527 + v532);
                      v805 = *(float *)(v527 + v532 + 4);
                      v806 = *(float *)(v527 + v532 + 8);
                      v808 = *(double *)(v527 + v532 + 0x10);
                      v809 = *(_DWORD *)(v527 + v532 + 0x18);
                      v534 = *(float *)(v527 + v532 + 0x1C);
                      v535 = *((_QWORD *)&v779 + 1);
                      v810 = v534;
                      if ( *((_QWORD *)&v779 + 1) == v780 )
                      {
                        sub_146578E20(&v779, *((_QWORD *)&v779 + 1), &v803);
                      }
                      else
                      {
                        **((_QWORD **)&v779 + 1) = v533;
                        *(float *)(v535 + 0x14) = v807;
                        *(float *)(v535 + 8) = v804;
                        *(float *)(v535 + 0xC) = v805;
                        *(float *)(v535 + 0x10) = v806;
                        *(double *)(v535 + 0x18) = v808;
                        *(_DWORD *)(v535 + 0x20) = v809;
                        *(float *)(v535 + 0x24) = v810;
                        *((_QWORD *)&v779 + 1) += 0x28LL;
                      }
                      break;
                    case 1u:
                    case 0xAu:
                    case 0xBu:
                      break;
                    default:
                      LogFatalError("unsupported geometry type encountered during interior grid voxelization", v531);
                      break;
                  }
                }
                v528 = v752;
              }
              ++v414;
              ++v526;
              v527 += 0x20;
            }
            while ( v526 < v528 );
            v8 = v777;
          }
        }
        else if ( v414 < v444 )
        {
          v536 = v414;
          v537 = v752;
          do
          {
            if ( v414 < *(_DWORD *)(a1 + 0x290) )
            {
              v538 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8 * v536);
              if ( (v731 & v538) != 0 || -((int)(v538 ^ (v538 - 1)) >> 0x1F) | -((v731 ^ (v731 - 1)) >> 0x1F) )
              {
                v539 = **(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8 * v536);
                switch ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v539 + 8LL))(v539) )
                {
                  case 0u:
                  case 4u:
                  case 5u:
                  case 6u:
                    sub_1465A0FC0(*(_QWORD *)(a1 + 0x2D8) + 0x20LL, *(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL) + 1);
                    *(float *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                             + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)
                             + 0x44) = *(float *)&v414;
                    *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                              + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)
                              + 0x40) = *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4 * v536);
                    *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                              + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)) = **(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8 * v536);
                    v540 = *(_QWORD *)(a1 + 0x2D8);
                    v541 = *(int *)(v540 + 0x1D0);
                    v542 = *(_QWORD *)(*(_QWORD *)(v540 + 0x20) + 0x48 * v541);
                    *(_DWORD *)(v540 + 0x1D0) = v541 + 1;
                    (*(void (__fastcall **)(__int64))(*(_QWORD *)v542 + 0x10LL))(v542);
                    break;
                  default:
                    break;
                }
              }
              v537 = v752;
            }
            ++v414;
            ++v536;
          }
          while ( v536 < v537 );
        }
        if ( (*((_QWORD *)&v779 + 1) - (_QWORD)v779) / 0x28LL )
        {
          v543 = v721;
          if ( !v721 )
          {
            v544 = allocWithProfilerInfo_w(0x110u);
            if ( v544 )
              v721 = sub_1465A4C10(v544, &v781);
            else
              v721 = 0;
            v543 = v721;
          }
          v545 = *(_QWORD *)(a1 + 0x2C0);
          v546 = v545 + 0x10;
          if ( !v545 )
            v546 = 0;
          v547 = *(void (__fastcall **)(__int64, __int64, __int128 *, float *, int))(*(_QWORD *)v546 + 0x120LL);
          LOBYTE(v699) = *(_BYTE *)(v8 + 0x68);
          v847[3] = 1.0;
          v847[0] = 0.0;
          v847[1] = 0.0;
          v847[2] = 0.0;
          v847[4] = 0.0;
          v847[5] = 0.0;
          v847[6] = 0.0;
          v547(v546, v543, &v779, v847, v699);
        }
        std::vector__GSC::AI::GameGraph::generate_game_graph_::_256_::search_node_std::allocator__GSC::AI::GameGraph::generate_game_graph_::_256_::search_node___::_vector__GSC::AI::GameGraph::generate_game_graph_::_256_::search_node_std::allocator__GSC::AI::GameGraph::generate_game_graph_::_256_::search_node___(&v779);
        goto LABEL_649;
      }
      v437 = *(int *)(v436 + 0xC);
      v438 = *(_DWORD *)(v437 + *(_QWORD *)v436);
      *(_DWORD *)(v436 + 0xC) = v437 + 4;
      if ( (unsigned int)(v438 + 0x3501453E) <= 1 )
      {
        *(_DWORD *)(*(_QWORD *)(v8 + 0x30) + 0xCLL) += *(_DWORD *)(*(int *)(*(_QWORD *)(v8 + 0x30) + 0xCLL)
                                                                 + **(_QWORD **)(v8 + 0x30))
                                                     + 4;
        if ( (unsigned int)(v438 + 0x35014540) > 3 )
        {
LABEL_629:
          v548 = 0;
LABEL_631:
          v549 = *(_QWORD *)(v8 + 0x30);
          v706 = v438 == 0xCAFEBAC3;
          v550 = *(int *)(v549 + 0xC);
          v551 = (__m128)*(unsigned __int64 *)(v550 + *(_QWORD *)v549);
          v552 = *(float *)(v550 + *(_QWORD *)v549 + 8);
          *(_DWORD *)(v549 + 0xC) = v550 + 0xC;
          v553 = *(__int64 **)(v8 + 0x30);
          v860 = *(double *)v551.m128_u64;
          v554 = _mm_shuffle_ps(v551, v551, 0x55).m128_f32[0];
          v555 = *((int *)v553 + 3);
          v556 = *v553;
          v861 = v552;
          v557 = (__m128)*(unsigned __int64 *)(v555 + v556);
          LODWORD(v550) = *(_DWORD *)(v555 + v556 + 8);
          *((_DWORD *)v553 + 3) = v555 + 0xC;
          v558 = *(__int64 **)(v8 + 0x30);
          v559 = *(float *)&v550;
          v560 = _mm_shuffle_ps(v557, v557, 0x55).m128_f32[0];
          v561 = *(float *)&v550 + v552;
          v562 = *v558;
          v858 = *(double *)v557.m128_u64;
          v859 = v550;
          v563 = *((int *)v558 + 3);
          v400 = (float)(*(float *)&v858 + *(float *)&v860) * 0.5;
          v557.m128_f32[0] = *(float *)&v858 - *(float *)&v860;
          v399 = (float)(v560 + v554) * 0.5;
          LODWORD(v553) = *(_DWORD *)(v563 + v562);
          *((_DWORD *)v558 + 3) = v563 + 4;
          v564 = *(_QWORD *)(v8 + 0x30);
          v551.m128_f32[0] = v560 - v554;
          v403 = v561 * 0.5;
          v565 = *(int *)(v564 + 0xC);
          v395 = v557.m128_f32[0] * 0.5;
          v402 = v551.m128_f32[0] * 0.5;
          *(float *)&_XMM9 = (float)(v559 - v552) * 0.5;
          v726 = *(_DWORD *)(v565 + *(_QWORD *)v564);
          *(_DWORD *)(v564 + 0xC) = v565 + 4;
          if ( (_DWORD)v553 )
          {
            v566 = allocWithProfilerInfo_w(0x110u);
            if ( v566 )
              v748 = CBlockPool::Allocate(v566, *(_QWORD *)(v8 + 0x30), v706);
            else
              v748 = 0;
          }
          if ( v726 )
          {
            v567 = allocWithProfilerInfo_w(0x110u);
            if ( v567 )
              v721 = CBlockPool::Allocate(v567, *(_QWORD *)(v8 + 0x30), v706);
            else
              v721 = 0;
          }
          if ( v548 )
          {
            v568 = *(_QWORD *)(v8 + 0x30);
            v569 = *(int *)(v568 + 0xC);
            v570 = *(int *)(v569 + *(_QWORD *)v568);
            *(_DWORD *)(v568 + 0xC) = v569 + 4;
            if ( (_DWORD)v570 )
            {
              v571 = v570;
              do
              {
                sub_141EB6140(v1070);
                v1075 = 0;
                v1076 = 0;
                v572 = *(__int64 **)(v8 + 0x30);
                v573 = *((int *)v572 + 3);
                v574 = *v572;
                v1071 = *(_QWORD *)(v573 + *v572);
                v1072 = *(_DWORD *)(v573 + v574 + 8);
                *((_DWORD *)v572 + 3) += 0xC;
                v575 = *(_QWORD *)(v8 + 0x30);
                v1073 = *(_OWORD *)(*(int *)(v575 + 0xC) + *(_QWORD *)v575);
                *(_DWORD *)(v575 + 0xC) += 0x10;
                v576 = *(_QWORD *)(v8 + 0x30);
                v1074 = *(_DWORD *)(*(int *)(v576 + 0xC) + *(_QWORD *)v576);
                *(_DWORD *)(v576 + 0xC) += 4;
                v577 = (__int64 *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1031);
                *(_QWORD *)&v995 = 0;
                DWORD2(v995) = 2;
                v578 = v995;
                v1077 = *v577;
                v579 = *(_QWORD *)(v8 + 0x30);
                *(_QWORD *)&v994 = 0;
                DWORD2(v994) = 0xC;
                v580 = v994;
                *(_DWORD *)(v579 + 0xC) += 0xC;
                v581 = *(_QWORD *)(v8 + 0x30);
                v1040 = v578;
                v1041 = v580;
                *(_DWORD *)(v581 + 0xC) += 0xC;
                v582 = sub_146696EE0(
                         (unsigned int)*(_QWORD *)(a1 + 0x2C0) + 0x10,
                         *(_QWORD *)(v8 + 0x30),
                         (unsigned int)&v1041,
                         (unsigned int)&v1040,
                         0);
                v583 = *(_QWORD *)(a1 + 0x2C0);
                v584 = v583 + 0x10;
                if ( !v583 )
                  v584 = 0;
                v585 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD, _QWORD, _DWORD))(*(_QWORD *)v584 + 0x40LL))(
                         v584,
                         v582,
                         0,
                         0,
                         0);
                *(_DWORD *)(v585 + 0x4C) |= 0xC0000000;
                (*(void (__fastcall **)(__int64, __int64, _BYTE *, __int64, _DWORD))(*(_QWORD *)a1 + 0x38LL))(
                  a1,
                  v585,
                  v1070,
                  0xFFFFFFFFLL,
                  0);
                --v571;
              }
              while ( v571 );
            }
          }
          v586 = *(_QWORD *)(v8 + 0x30);
          if ( v586 )
          {
            if ( *(_BYTE *)(v586 + 0x14) )
              sub_1475332F0(*(const void **)v586);
            sub_1402A63C0((const void *)v586);
          }
          goto LABEL_649;
        }
      }
      else if ( (unsigned int)(v438 + 0x35014540) > 1 )
      {
        if ( v438 != 0xCAFEBABF )
        {
          v439 = *(_QWORD *)(a1 + 0xD0);
          v440 = *(_DWORD *)(a1 + 0xEC);
          v441 = *(_QWORD *)(a1 + 0xC0);
          v442 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
          v443 = (const char *)sub_1468F0C40(v442, v441, (__int16)v440, v440 >> 0x10, v439, 0);
          sprintf(
            Buffer,
            "Error\n: interior grid version mismatch, please re-export interior grid for '%s'!\n REVOXELIZING .....",
            v443);
          sub_14056ACA0(Buffer, "INTERIOR GRID ERROR", 0x42000);
          v414 = v754;
          goto LABEL_563;
        }
        goto LABEL_629;
      }
      v548 = 1;
      goto LABEL_631;
    case 0x1C:
      n0x2800_12 = 0x2800;
      v967 = 0;
      v968 = 0;
      v970 = 0;
      v971 = 0;
      v972 = 0;
      v969 = 1;
      qword_149A05E00(&n0x2800_12, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v602 = *(_QWORD *)(a1 + 0x2D8);
      if ( v602 )
      {
        if ( *(_DWORD *)(v8 + 0x48) && (v603 = *(_QWORD *)(*(_QWORD *)v602 + 0x48LL)) != 0 )
        {
          CPhysicalWorld::DestroyPhysicalEntity(*(_QWORD *)(a1 + 0x2C0), v603, 0);
          *(_QWORD *)(**(_QWORD **)(a1 + 0x2D8) + 0x48LL) = 0;
        }
        else
        {
          if ( !*(_QWORD *)(*(_QWORD *)v602 + 0x48LL) )
            CPhysicalWorld::AddGlobalArea(*(_QWORD *)(a1 + 0x2C0), v1028);
          v604 = **(_QWORD **)(a1 + 0x2D8);
          if ( v604 && *(_DWORD *)(v8 + 0x4C) != 0x80000000 )
          {
            v605 = (volatile signed __int64 *)(v604 + 0x198);
            v606 = _InterlockedCompareExchange64(v605, 0x200000, 0);
            v607 = v605;
            if ( v606 )
            {
              sub_1403DE750(
                (__int64)v605,
                v606,
                0,
                (__int64)"CPhysicalEntity::SetParams",
                (__int64)"m_pLocalGrid->pGrid->m_lockGrid",
                1);
              v607 = v605;
            }
            *(_DWORD *)(**(_QWORD **)(a1 + 0x2D8) + 0x154LL) = *(_DWORD *)(v8 + 0x4C) != 0;
            if ( v607 )
            {
              n0x200000_19 = _InterlockedCompareExchange64(v605, 0, 0x200000);
              if ( n0x200000_19 != 0x200000 )
                sub_1403DEBA0(v605, n0x200000_19);
            }
          }
          *(_DWORD *)v8 = 0x12;
          v609 = *(_QWORD *)(**(_QWORD **)(a1 + 0x2D8) + 0x48LL);
          LODWORD(v6) = (*(__int64 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)v609 + 0x18LL))(v609, v8, 1);
        }
      }
      v970 = __rdtsc();
      qword_149A05E08(&n0x2800_12);
      goto LABEL_865;
    case 0x1D:
      if ( *(_BYTE *)(v8 + 4) )
        CPhysicalEntity::RemoveRigidsFromLocalGrid(a1, a3);
      else
        CPhysicalEntity::DeleteLocalGrid(a1, a3, v12);
      LODWORD(v6) = 1;
      goto LABEL_865;
    case 0x2C:
      v610 = *(_QWORD **)(a1 + 0x2D8);
      if ( v610 && *(_QWORD *)(v8 + 8) != 0xFFFFFFFFFFFFFFFFuLL )
        sub_1465ABBC0(*v610 + 8LL);
      LODWORD(v6) = 1;
      goto LABEL_865;
    case 0x23:
      n0x2800_13 = 0x2800;
      v890 = 0;
      v891 = 0;
      v893 = 0;
      v894 = 0;
      v895 = 0;
      v892 = 1;
      qword_149A05E00(&n0x2800_13, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
      v612 = *(_QWORD *)(v8 + 8);
      if ( v612 == 0xFFFFFFFFFFFFFFFFuLL || !v612 )
      {
        v613 = (const char *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)a1 + 0x118LL))(a1, 0);
        LogFatalError("can't clone from an invalid source (destination: '%s')", v613);
        v612 = *(_QWORD *)(v8 + 8);
      }
      if ( *(_DWORD *)(a1 + 0x290) )
      {
        v614 = (const char *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v612 + 0x118LL))(v612, 0);
        v615 = (const char *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)a1 + 0x118LL))(a1, 0);
        LogFatalError(
          "can't clone, geometry already added to this entity ('%s'), while trying to clone from '%s'",
          v615,
          v614);
      }
      v616 = *(_QWORD *)(v8 + 8);
      if ( *(_DWORD *)(v616 + 0x290) )
      {
        if ( *(_QWORD *)(v616 + 0x2E8) )
        {
          _XMM1 = 0;
          __asm
          {
            vmovupd [rsp+2818h+var_1CF8], xmm1
            vmovupd xmm1, cs:xmmword_1481231C0
            vmovupd [rsp+2818h+var_1CD8], xmm1
            vmovupd xmm1, cs:xmmword_1480DDAB0
          }
          v1051 = 1.0;
          _XMM0 = 0;
          n0x10 = 0x10;
          __asm { vmovupd [rsp+2818h+var_1CB8], xmm1 }
          v1057 = 0.0;
          n0x40000000 = 0x40000000;
          __asm
          {
            vmovupd [rsp+2818h+var_1CE8], xmm0
            vmovupd [rsp+2818h+var_1CC8], xmm0
          }
          v1058 = 0xFFFFFFFFFFFFFFFFuLL;
          v1059 = 0;
          v1060 = 0;
          v1049 = 0xFFFFFFFF;
          v1061 = 0;
          v1062 = 0;
          v1050 = a1;
          v1063 = 1;
          LODWORD(v6) = (*(__int64 (__fastcall **)(__int64, __int64 *, __int64))(*(_QWORD *)v616 + 0x30LL))(
                          v616,
                          &n0x10,
                          1);
        }
        else
        {
          v621 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
          if ( v621 )
            sub_1403DE750(a1 + 0xC8, v621, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
          v723 = (volatile signed __int64 *)(v616 + 0xC8);
          v622 = _InterlockedIncrement64((volatile signed __int64 *)(v616 + 0xC8));
          if ( (v622 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(v616 + 0xC8),
              v622,
              (__int64)"CPhysicalEntity::SetParams",
              (__int64)"pSrc->m_lockUpdate",
              1);
          *(_QWORD *)(a1 + 0x218) = *(_QWORD *)(v616 + 0x218);
          *(_DWORD *)(a1 + 0x2A8) = *(_DWORD *)(v616 + 0x2A8);
          v623 = *(_BYTE *)(v8 + 0x10);
          LOBYTE(v611) = v623 == 0;
          sub_146624160(a1 + 0x228, v616 + 0x228, v611);
          if ( !v623 )
          {
            v624 = 0;
            if ( *(int *)(v616 + 0x290) > 0 )
            {
              v625 = 0;
              do
              {
                v626 = *(_QWORD *)(v616 + 0x230);
                v836[3] = *(_DWORD *)(v625 + v626 + 0xC);
                v836[0] = *(_DWORD *)(v625 + v626);
                v836[1] = *(_DWORD *)(v625 + v626 + 4);
                v836[2] = *(_DWORD *)(v625 + v626 + 8);
                v837 = *(double *)(v625 + v626 + 0x10);
                v838 = *(float *)(v625 + v626 + 0x18);
                n0x3F800000_17 = 0x3F800000u;
                *(float *)&n0x3F800000_17 = 1.0 / *(float *)(v625 + v626 + 0x1C);
                v628 = v838 * *(float *)&n0x3F800000_17;
                *(float *)&n0x3F800000_17 = *(float *)&n0x3F800000_17 * *(float *)&v837;
                n0x3F800000_18 = n0x3F800000_17;
                __asm { vunpcklps xmm0, xmm2, xmm3 }
                v1010 = *(double *)&_XMM0;
                v837 = *(double *)&_XMM0;
                v1011 = v628;
                v838 = v628;
                v839 = 1.0;
                sub_1466246B0(a1 + 0x228, v624++, (__int64)v836);
                v625 += 0x20;
              }
              while ( v624 < *(_DWORD *)(v616 + 0x290) );
            }
          }
          if ( *(_QWORD *)(v616 + 0x220) )
          {
            v631 = *(const void ***)(a1 + 0x220);
            if ( v631 )
            {
              v632 = *v631;
              if ( v632 )
              {
                sub_141637D70(v632);
                sub_1402A63C0(v632);
              }
              v633 = *(_QWORD *)(a1 + 0x220);
              v634 = *(const void **)(v633 + 8);
              if ( v634 )
              {
                sub_141637D70(*(_QWORD *)(v633 + 8));
                sub_1402A63C0(v634);
              }
              sub_1402A63C0(*(const void **)(a1 + 0x220));
            }
            *(_QWORD *)(a1 + 0x220) = allocWithProfilerInfo_w(0x10u);
            for ( n0x10_1 = 0; n0x10_1 < 0x10; n0x10_1 += 8 )
            {
              v636 = allocWithProfilerInfo_w(0x68u);
              v637 = v636;
              if ( v636 )
              {
                *(_QWORD *)(v636 + 0x18) = 0;
                *(_QWORD *)(v636 + 0x20) = 0;
                *(_QWORD *)v636 = 0;
                *(_QWORD *)(v636 + 0x28) = 0;
                *(_QWORD *)(v636 + 8) = 0;
                *(_DWORD *)(v636 + 0x30) = 0x40000000;
                *(_QWORD *)(v636 + 0x10) = 0;
                *(_QWORD *)(v636 + 0x38) = 0xFFFFFFFFFFFFFFFFuLL;
                *(_QWORD *)(v636 + 0x40) = 0;
                *(_QWORD *)(v636 + 0x48) = 0;
                *(_DWORD *)(v636 + 0x50) = 0;
                *(_DWORD *)(v636 + 0x5C) = 0;
                *(_WORD *)(v636 + 0x60) = 0;
                *(_DWORD *)(v636 + 0x54) = 0xFFBFFFFF;
                *(_DWORD *)(v636 + 0x58) = 0x80000000;
              }
              else
              {
                v637 = 0;
              }
              *(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)) = v637;
              *(_QWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)) + 0x38LL) = *(_QWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(v616 + 0x220))
                                                                                               + 0x38LL);
              *(_QWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)) + 0x40LL) = *(_QWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(v616 + 0x220))
                                                                                               + 0x40LL);
              *(_QWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)) + 0x48LL) = *(_QWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(v616 + 0x220))
                                                                                               + 0x48LL);
              *(_DWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)) + 0x50LL) = *(_DWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(v616 + 0x220))
                                                                                               + 0x50LL);
              *(_DWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)) + 0x54LL) = *(_DWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(v616 + 0x220))
                                                                                               + 0x54LL);
              *(_DWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)) + 0x58LL) = *(_DWORD *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(v616 + 0x220))
                                                                                               + 0x58LL);
              *(_BYTE *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)) + 0x61LL) = *(_BYTE *)(*(_QWORD *)(n0x10_1 + *(_QWORD *)(v616 + 0x220))
                                                                                             + 0x61LL);
              v638 = *(__int64 **)(n0x10_1 + *(_QWORD *)(v616 + 0x220));
              v639 = *v638;
              if ( *v638 != v638[1] )
              {
                v640 = v638[1];
                do
                {
                  sub_1468F1190(*(_QWORD *)(n0x10_1 + *(_QWORD *)(a1 + 0x220)), a1, *(unsigned int *)(v639 + 0x70));
                  v639 += 0x78;
                }
                while ( v639 != v640 );
              }
            }
          }
          sub_1468B84E0(a1 + 0x2F8);
          v641 = _InterlockedDecrement64(v723);
          if ( (v641 & 0x3FF) == 0 && (v641 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0(v723, v641);
          v642 = (volatile signed __int64 *)(a1 + 0xC8);
          if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
          {
            n0x200000_20 = _InterlockedCompareExchange64(v642, 0, 0x200000);
            if ( n0x200000_20 != 0x200000 )
              sub_1403DEBA0(v642, n0x200000_20);
          }
          if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
          {
            *(_WORD *)(a1 + 0x106) |= 0x103u;
            *(_WORD *)(a1 + 0x100) |= 1u;
            CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
            CPhysicalWorld::RegisterForReposition(*(_QWORD *)(a1 + 0x2C0), a1);
          }
          else
          {
            v644 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
            if ( v644 )
              sub_1403DE750(a1 + 0xC8, v644, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
            v645 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1044);
            v646 = sub_146602780(a1 + 0x228, v645, 0xFFFFFFFF);
            (*(void (__fastcall **)(__int64, __int128 *, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, &v1035, 3);
            v647 = *(_QWORD *)(a1 + 0x2D8);
            if ( v647 )
              sub_1465D9120(v647, 0xFFFFFFFFLL);
            v648 = *(_QWORD **)(a1 + 0x220);
            if ( v648 && v646 )
            {
              sub_1468F1C60(*v648, a1, v646);
              sub_1468F1C60(*(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL), a1, v646);
            }
            sub_146933C00(*(_QWORD *)(a1 + 0x2C0), a1, 1, &v1035);
            *(_OWORD *)(a1 + 0x10) = v1035;
            *(double *)(a1 + 0x20) = v1036;
            *(_OWORD *)(a1 + 0x28) = v1037;
            *(double *)(a1 + 0x38) = v1038;
            if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
            {
              n0x200000_21 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
              if ( n0x200000_21 != 0x200000 )
                sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_21);
            }
          }
          LODWORD(v6) = 1;
        }
      }
      v893 = __rdtsc();
      qword_149A05E08(&n0x2800_13);
      goto LABEL_865;
    case 0x29:
      if ( *(int *)(v8 + 4) <= 0 )
      {
        LODWORD(v6) = 1;
        goto LABEL_865;
      }
      v650 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v650 )
        sub_1403DE750(a1 + 0xC8, v650, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      sub_1466207F0(a1 + 0x228, (unsigned int)(*(_DWORD *)(v8 + 4) + *(_DWORD *)(a1 + 0x290)), 0);
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000_22 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_22 != 0x200000 )
          goto LABEL_787;
      }
LABEL_329:
      LODWORD(v6) = 1;
      goto LABEL_865;
    case 0x2A:
      v652 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v652 )
        sub_1403DE750(a1 + 0xC8, v652, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      sub_146624F30(a1 + 0x228, v652);
      v653 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1046);
      v654 = sub_146602780(a1 + 0x228, v653, 0xFFFFFFFF);
      v655 = *(_QWORD *)(a1 + 0x2D8);
      v656 = v654;
      if ( v655 && v654 )
        sub_1465D9120(v655, 0xFFFFFFFFLL);
      v657 = *(_QWORD **)(a1 + 0x220);
      if ( v657 && v656 )
      {
        sub_1468F1C60(*v657, a1, v656);
        sub_1468F1C60(*(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL), a1, v656);
      }
      if ( a1 == 0xFFFFFFFFFFFFFF38uLL )
        goto LABEL_329;
      n0x200000_22 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
      if ( n0x200000_22 == 0x200000 )
        goto LABEL_329;
LABEL_787:
      sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_22);
      LODWORD(v6) = 1;
      goto LABEL_865;
    case 0x2B:
      v658 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v658 )
        sub_1403DE750(a1 + 0xC8, v658, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      v659 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v1030);
      sub_146602780(a1 + 0x228, v659, 0xFFFFFFFF);
      if ( a1 == 0xFFFFFFFFFFFFFF38uLL )
        goto LABEL_329;
      n0x200000_22 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
      if ( n0x200000_22 == 0x200000 )
        goto LABEL_329;
      goto LABEL_787;
    case 0x31:
      v749 = (volatile signed __int64 *)(a1 + 0xC8);
      v660 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v660 )
        sub_1403DE750(a1 + 0xC8, v660, 0, (__int64)"CPhysicalEntity::SetParams", (__int64)"m_lockUpdate", 1);
      if ( !*(_QWORD *)(a1 + 0x2D8) )
        goto LABEL_806;
      sub_14035D100(&v1098, *(_QWORD *)(v8 + 0x18), *(_QWORD *)(v8 + 0x10));
      v661 = &v1098;
      v840 = &v1098;
      v662 = (_QWORD *)(v8 + 8);
      v841 = (_QWORD *)(v8 + 8);
      v663 = *(_QWORD *)(a1 + 0x2D8);
      v664 = *(_QWORD *)(v663 + 0x130);
      v665 = *(_QWORD *)(v663 + 0x128);
      v666 = (v664 - v665) / 0xB0;
      if ( v666 > 0 )
      {
        do
        {
          v667 = (unsigned __int64)v666 >> 1;
          v762 = (unsigned __int64)v666 >> 1;
          v668 = v665 + 0xB0 * ((unsigned __int64)v666 >> 1);
          v993[0] = v668;
          v993[1] = v668 + 0x10;
          if ( *(_QWORD *)(v668 + 0x10) == *v662 )
          {
            sub_1468AA1D0(v993, v753, &v840);
            v669 = v753[0];
            v662 = v841;
            v667 = v762;
            v668 = v665 + 0xB0 * ((unsigned __int64)v666 >> 1);
          }
          else
          {
            v669 = 0xFF;
            if ( *(_QWORD *)(v668 + 0x10) >= *v662 )
              v669 = 1;
            v753[0] = v669;
          }
          if ( v669 >= 0 )
          {
            v666 = v667;
          }
          else
          {
            v665 = v668 + 0xB0;
            v666 += 0xFFFFFFFFFFFFFFFFuLL - v667;
          }
        }
        while ( v666 > 0 );
        v661 = v840;
      }
      v670 = *(_QWORD *)(a1 + 0x2D8);
      if ( *(_BYTE *)(v8 + 0x80) )
      {
        if ( *(int *)(v670 + 0x1DC) > 0 )
        {
          if ( v665 != *(_QWORD *)(v670 + 0x130) )
          {
            v996[0] = v665;
            v996[1] = v665 + 0x10;
            if ( (unsigned __int8)sub_1468A7D90(v996, &v840) )
            {
              if ( *(_BYTE *)(v665 + 0xA8) )
                --*(_DWORD *)(v670 + 0x1E0);
              v672 = *(_QWORD *)(v665 + 0x60);
              if ( v672 )
                (*(void (__fastcall **)(__int64))(*(_QWORD *)v672 + 0x18LL))(v672);
              sub_1468F15D0(*(_QWORD *)(a1 + 0x2D8) + 0x128LL, v1045, v665);
              --*(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1DCLL);
              if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
              {
                *(_WORD *)(a1 + 0x106) |= 0x80u;
                CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
              }
              else
              {
                sub_1465D9120(*(_QWORD *)(a1 + 0x2D8), 0x80);
              }
              goto LABEL_807;
            }
          }
        }
        else
        {
          sub_1405C2100(
            0xEu,
            2u,
            "Physics [BUG-204362] tried to delete a grid portal on %s when there were none!",
            *(const char **)(a1 + 0xD0));
        }
LABEL_806:
        v10 = 0;
LABEL_807:
        if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
        {
          n0x200000_23 = _InterlockedCompareExchange64(v749, 0, 0x200000);
          if ( n0x200000_23 != 0x200000 )
            sub_1403DEBA0(v749, n0x200000_23);
        }
        goto LABEL_861;
      }
      if ( v665 == *(_QWORD *)(v670 + 0x130) )
        goto LABEL_822;
      if ( *(_QWORD *)(v665 + 0x10) != *v662 )
        goto LABEL_822;
      _XMM0 = *v661;
      __asm
      {
        vpcmpeqd xmm1, xmm0, xmmword ptr [rbx]
        vpmovmskb eax, xmm1
      }
      if ( n0xFFFF != 0xFFFF )
      {
LABEL_822:
        memset(v1099, 0, sizeof(v1099));
        sub_1403F81C0(v1099);
        _XMM1 = 0;
        __asm { vmovupd [rsp+2818h+var_16B8], xmm1 }
        memset(&v1099[1], 0, 0x20);
        v1099[6] = 0u;
        BYTE8(v1099[0xA]) = 0;
        *((float *)&v1099[7] + 1) = 1.0;
        *((float *)&v1099[8] + 1) = 1.0;
        *((float *)&v1099[9] + 1) = 1.0;
        *((float *)&v1099[0xA] + 1) = 1.0;
        v1099[4] = 0u;
        *(float *)&v1099[5] = 0.0;
        *((double *)&v1099[5] + 1) = 0.0;
        *(float *)&v1099[7] = 0.0;
        *((float *)&v1099[7] + 2) = 0.0;
        *((float *)&v1099[7] + 3) = 0.0;
        *(float *)&v1099[8] = 0.0;
        *((float *)&v1099[8] + 2) = 0.0;
        *((float *)&v1099[8] + 3) = 0.0;
        *(float *)&v1099[9] = 0.0;
        *((float *)&v1099[9] + 2) = 0.0;
        *((float *)&v1099[9] + 3) = 0.0;
        *(float *)&v1099[0xA] = 0.0;
        v665 = *(_QWORD *)sub_1468F1A40(v670 + 0x128, v1043, v665, v1099);
        *(_QWORD *)(v665 + 0x10) = *(_QWORD *)(v8 + 8);
        *(_OWORD *)v665 = v1098;
        ++*(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1DCLL);
      }
      v677 = *(_DWORD *)(v8 + 0x7C);
      v678 = 0;
      v679 = 0;
      v739 = 0;
      v707 = 0;
      if ( v677 != 0x80000000 )
      {
        v680 = *(_DWORD *)(v8 + 0x7C);
        if ( *(_BYTE *)(v665 + 0xA8) )
          goto LABEL_828;
        if ( v677 )
        {
          v707 = 1;
          ++*(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1E0LL);
          v680 = *(_DWORD *)(v8 + 0x7C);
        }
        if ( *(_BYTE *)(v665 + 0xA8) )
        {
LABEL_828:
          if ( !v680 )
          {
            v707 = 1;
            --*(_DWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x1E0LL);
          }
        }
        *(_BYTE *)(v665 + 0xA8) = *(_DWORD *)(v8 + 0x7C) != 0;
      }
      if ( (*(_DWORD *)(v8 + 0x40) & 0xFFA00000) != 0xFFA00000 )
      {
        v681 = *(_DWORD *)(v8 + 0x48);
        v678 = 1;
        *(double *)(v665 + 0x48) = *(double *)(v8 + 0x40);
        *(_DWORD *)(v665 + 0x50) = v681;
        v739 = 1;
      }
      v863 = *(_QWORD *)(v8 + 0x28);
      if ( (HIDWORD(v863) & 0xFFF40000) == 0xFFF40000 )
      {
        if ( !v678 )
          goto LABEL_837;
      }
      else
      {
        v682 = *(double *)(v8 + 0x38);
        *(_OWORD *)(v665 + 0x30) = *(_OWORD *)(v8 + 0x28);
        *(double *)(v665 + 0x40) = v682;
        v739 = 1;
      }
      *(double *)(v665 + 0x58) = *(float *)(v665 + 0x4C) * *(double *)(v665 + 0x38)
                               + *(float *)(v665 + 0x48) * *(double *)(v665 + 0x30)
                               + *(float *)(v665 + 0x50) * *(double *)(v665 + 0x40);
LABEL_837:
      if ( (*(_DWORD *)(v8 + 0x58) & 0xFFA00000) != 0xFFA00000 )
      {
        v679 = 1;
        *(_DWORD *)(v665 + 0x88) = *(_DWORD *)(v8 + 0x4C);
        *(_DWORD *)(v665 + 0x8C) = *(_DWORD *)(v8 + 0x50);
        *(_DWORD *)(v665 + 0x90) = *(_DWORD *)(v8 + 0x54);
        *(_DWORD *)(v665 + 0x94) = *(_DWORD *)(v8 + 0x58);
      }
      _XMM0 = *(unsigned __int64 *)(v8 + 0x60);
      v856 = *(_QWORD *)(v8 + 0x60);
      if ( (HIDWORD(v856) & 0xFFF40000) != 0xFFF40000 )
      {
        _XMM1 = *(unsigned __int64 *)(v8 + 0x68);
        _XMM2 = *(unsigned __int64 *)(v8 + 0x70);
        __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
        *(float *)(v665 + 0x98) = *(float *)&_XMM0;
        __asm
        {
          vcvtsd2ss xmm1, xmm1, xmm1
          vcvtsd2ss xmm0, xmm2, xmm2
        }
        *(float *)(v665 + 0x9C) = *(float *)&_XMM1;
        *(float *)(v665 + 0xA0) = *(float *)&_XMM0;
        v679 = 1;
      }
      if ( (*(_DWORD *)(v8 + 0x78) & 0xFFA00000) == 0xFFA00000 )
      {
        if ( !v679 )
          goto LABEL_845;
      }
      else
      {
        *(float *)(v665 + 0xA4) = *(float *)(v8 + 0x78);
        v679 = 1;
      }
      v689 = quat_inverse_transform_vec((float *)(v665 + 0x88), v1085);
      *(float *)(v665 + 0x68) = *v689;
      *(float *)(v665 + 0x6C) = v689[1];
      *(float *)(v665 + 0x70) = v689[2];
      *(float *)(v665 + 0x74) = v689[3];
      *(double *)(v665 + 0x78) = *((double *)v689 + 2);
      *(float *)(v665 + 0x80) = v689[6];
      *(float *)(v665 + 0x84) = v689[7];
LABEL_845:
      v690 = *(_QWORD *)(v665 + 0x60);
      if ( *(_QWORD *)(v8 + 0x20) == v690 )
      {
        if ( !v739 && !v679 && !v707 )
        {
LABEL_856:
          v692 = *(_QWORD *)(v8 + 0x20);
          if ( v692 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v692 + 0x18LL))(v692);
          goto LABEL_807;
        }
      }
      else
      {
        if ( v690 )
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v690 + 0x18LL))(v690);
        v691 = *(_QWORD *)(v8 + 0x20);
        *(_QWORD *)(v665 + 0x60) = v691;
        if ( v691 )
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v691 + 0x10LL))(v691);
      }
      if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
      {
        *(_WORD *)(a1 + 0x106) |= 0x80u;
        CPhysicalWorld::RegisterForRecompute(*(_QWORD *)(a1 + 0x2C0), a1);
      }
      else
      {
        sub_1465D9120(*(_QWORD *)(a1 + 0x2D8), 0x80);
      }
      goto LABEL_856;
    case 0x33:
      v693 = *(_DWORD *)(v8 + 4);
      if ( v693 != 0x80000000 )
        *(_BYTE *)(a1 + 0x384) = *(_BYTE *)(a1 + 0x384) & 0x7F | (v693 != 0 ? 0x80 : 0);
      goto LABEL_861;
  }
  LODWORD(v6) = CPhysicalPlaceholder::SetParams(a1, v8, a3);
LABEL_865:
  if ( *v1025 == 0x23 )
  {
    v694 = v1024;
    v695 = (signed __int32 *)(v1024 + 0xFC);
    _m_prefetchw((const void *)(v1024 + 0xFC));
    v696 = *v695;
    do
    {
      v697 = v696;
      v696 = _InterlockedCompareExchange((volatile signed __int32 *)(v694 + 0xFC), v696 & 0xFFFFDFFF, v696);
    }
    while ( v697 != v696 );
  }
LABEL_868:
  v977 = __rdtsc();
  qword_149A05E08(&n0x2800);
  return (unsigned int)v6;
}

// --- End Function: sub_1468D70F0 (0x1468D70F0) ---

// --- Function: CPhysicalWorld::GetEntitiesAround (0x146918DD0) ---
__int64 __fastcall CPhysicalWorld::GetEntitiesAround(
        __int64 a1,
        double *a2,
        double *a3,
        __int64 a4,
        int a5,
        __int64 a6,
        int a7,
        __int64 a8,
        __int64 a9)
{
  double v9; // xmm1_8
  int v12; // r14d
  __int128 v13; // xmm0
  double v14; // xmm1_8
  __int64 v15; // rdi
  double v17; // xmm1_8
  __int128 v18; // xmm0
  double v19; // xmm1_8
  const char *p_Unknown; // rax
  int v21; // ebx
  unsigned int v22; // ebx
  __int64 v24; // [rsp+88h] [rbp-2C0h]
  __int128 v26; // [rsp+98h] [rbp-2B0h] BYREF
  double v27; // [rsp+A8h] [rbp-2A0h]
  __int128 v28; // [rsp+B0h] [rbp-298h] BYREF
  double v29; // [rsp+C0h] [rbp-288h]
  __int128 v30; // [rsp+C8h] [rbp-280h] BYREF
  double v31; // [rsp+D8h] [rbp-270h]
  __int128 v32; // [rsp+E0h] [rbp-268h]
  double v33; // [rsp+F0h] [rbp-258h]
  CHAR String[512]; // [rsp+100h] [rbp-248h] BYREF

  v9 = a2[2];
  v12 = 0;
  v28 = *(_OWORD *)a2;
  v13 = *(_OWORD *)a3;
  v29 = v9;
  v14 = a3[2];
  v26 = v13;
  v27 = v14;
  v24 = sub_1465F4EC0();
  v15 = a8;
  if ( !a8 )
    v15 = a1 + 2880;
  if ( a6 )
  {
    v12 = (((*(_DWORD *)(a6 + 520) & 0x8000) - 1) >> 31) & (1 << *(_DWORD *)(a6 + 244));
    if ( a8 )
    {
      v15 = a8;
      goto LABEL_9;
    }
    v15 = *(_QWORD *)(a6 + 184);
  }
  if ( !v15 )
    __debugbreak();
LABEL_9:
  if ( *(_QWORD *)(v15 + 440) )
  {
    _InterlockedIncrement((volatile signed __int32 *)(v15 + 424));
    if ( (a5 & 0x100) != 0 && **(_DWORD **)(v15 + 440) == 1 )
    {
      String[0] = 0;
      v17 = a2[2];
      v30 = *(_OWORD *)a2;
      v18 = *(_OWORD *)a3;
      v31 = v17;
      v19 = a3[2];
      v32 = v18;
      v33 = v19;
      if ( a6 )
        p_Unknown = (const char *)(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)a6 + 280LL))(a6, 1);
      else
        p_Unknown = "Unknown";
      swprintf(String, 0x200u, "%s - %s", p_Unknown, "CPhysicalWorld::GetEntitiesAround");
      sub_146833A10(*(_QWORD *)v15, &v30, String, 1);
    }
    v21 = _InterlockedIncrement64((volatile signed __int64 *)(v15 + 408));
    if ( (*(_QWORD *)&v21 & 0x200000LL) != 0 )
      sub_1403CD0A0(
        v15 + 408,
        v21,
        (unsigned int)&p_p_p_p_p_p_p_p_p_p_p_p_Source,
        (unsigned int)&p_p_p_p_p_p_p_p_p_p_p_p_Source,
        1);
    v22 = CPhysicalWorld::SpatialGridQuery(
            a1,
            (unsigned int)&v28,
            (unsigned int)&v26,
            a5,
            v12,
            a7,
            a6,
            v15,
            a4,
            0,
            v15 + 408,
            v24,
            a9);
    CEntityGrid::ReleaseGrid(v15);
    return v22;
  }
  else
  {
    LogTraceConditional("calling GetEntitiesAround on an uninitialized grid - skipping");
    if ( *(_DWORD *)(a1 + 564) )
      __debugbreak();
    return 0;
  }
}

// --- End Function: CPhysicalWorld::GetEntitiesAround (0x146918DD0) ---

// --- Function: sub_14691AF30 (0x14691AF30) ---
__int64 __fastcall sub_14691AF30(__int64 a1, __int64 a2)
{
  if ( a2 == 0xFFFFFFFFFFFFFFF6uLL )
    return 0xFFFFFFFELL;
  if ( a2 )
    return *(unsigned int *)(a2 + 0xF0);
  return 0xFFFFFFFFLL;
}

// --- End Function: sub_14691AF30 (0x14691AF30) ---

// --- Function: CPhysicalWorld::GetRelativeTransform (0x14691B140) ---
double *__fastcall CPhysicalWorld::GetRelativeTransform(
        __int64 a1,
        double *a2,
        __int64 a3,
        __int64 a4,
        int n0x3F800000,
        char a6)
{
  char v10; // r12
  volatile signed __int64 *v11; // rdi
  signed __int64 v12; // r15
  unsigned __int64 v13; // rdx
  double v14; // xmm6_8
  double v15; // xmm5_8
  double v16; // xmm4_8
  double v17; // xmm14_8
  double v18; // xmm15_8
  double v19; // xmm13_8
  double v20; // xmm12_8
  double v21; // xmm6_8
  double v22; // kr00_8
  double v23; // xmm4_8
  double v24; // xmm9_8
  double v25; // xmm10_8
  double v26; // xmm8_8
  double v27; // xmm0_8
  double v28; // xmm6_8
  double v29; // xmm7_8
  double v30; // xmm5_8
  double v31; // xmm11_8
  double v32; // kr00_8
  double v33; // xmm0_8
  double v34; // xmm1_8
  unsigned __int64 v35; // rdx
  double v37; // [rsp+30h] [rbp-D0h]
  double v38; // [rsp+38h] [rbp-C8h]
  double v39; // [rsp+40h] [rbp-C0h]
  double v40; // [rsp+48h] [rbp-B8h]
  double v41; // [rsp+50h] [rbp-B0h]
  int n0x2800; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v43; // [rsp+64h] [rbp-9Ch]
  int v44; // [rsp+6Ch] [rbp-94h]
  __int64 v45; // [rsp+70h] [rbp-90h]
  unsigned __int64 v46; // [rsp+78h] [rbp-88h]
  __int64 v47; // [rsp+80h] [rbp-80h]
  __int64 v48; // [rsp+88h] [rbp-78h]
  __int64 v49; // [rsp+B0h] [rbp-50h] BYREF
  double v50; // [rsp+B8h] [rbp-48h]
  double v51; // [rsp+C0h] [rbp-40h]
  double v52; // [rsp+C8h] [rbp-38h]
  __int64 v53; // [rsp+D0h] [rbp-30h]
  __int64 v54; // [rsp+D8h] [rbp-28h]
  __int64 v55; // [rsp+E0h] [rbp-20h]
  double v56; // [rsp+E8h] [rbp-18h] BYREF
  double v57; // [rsp+F0h] [rbp-10h]
  double v58; // [rsp+F8h] [rbp-8h]
  double v59; // [rsp+100h] [rbp+0h]
  double v60; // [rsp+108h] [rbp+8h]
  double v61; // [rsp+110h] [rbp+10h]
  double v62; // [rsp+118h] [rbp+18h]
  double v63; // [rsp+210h] [rbp+110h]
  double v64; // [rsp+218h] [rbp+118h]

  n0x2800 = 0x2800;
  v43 = 0;
  v44 = 0;
  v46 = 0;
  v47 = 0;
  v48 = 0;
  v45 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  if ( !a3 )
    a3 = a1 + 0xB40;
  if ( !a4 )
    a4 = a1 + 0xB40;
  if ( a3 == a4 )
    goto LABEL_30;
  if ( a6
    || *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL) != 0x1E )
  {
    v10 = 0;
    v11 = (volatile signed __int64 *)(a1 + 0x84B90);
  }
  else
  {
    v10 = 1;
    v11 = (volatile signed __int64 *)(a1 + 0x84B90);
    v12 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x84B90));
    if ( (v12 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)(a1 + 0x84B90),
        v12,
        (__int64)"CPhysicalWorld::GetRelativeTransform",
        (__int64)"m_lockGridHierarchy",
        1);
  }
  if ( (!a3 || *(_QWORD *)a3 || *(_DWORD *)(a3 + 0x14C)) && (!a4 || *(_QWORD *)a4 || *(_DWORD *)(a4 + 0x14C)) )
  {
    if ( CPhysicalWorld::GetLCAGridInternal(a1, a3, a4, (unsigned int)&v56, (__int64)&v49, n0x3F800000) )
    {
      *(_QWORD *)&v37 = *(_QWORD *)&v50 ^ 0x8000000000000000uLL;
      *(_QWORD *)&v63 = *(_QWORD *)&v51 ^ 0x8000000000000000uLL;
      v14 = COERCE_DOUBLE(v54 ^ 0x8000000000000000uLL) * v51
          - COERCE_DOUBLE(v55 ^ 0x8000000000000000uLL) * v50
          + COERCE_DOUBLE(v53 ^ 0x8000000000000000uLL) * v52;
      v15 = COERCE_DOUBLE(v55 ^ 0x8000000000000000uLL) * *(double *)&v49
          - COERCE_DOUBLE(v53 ^ 0x8000000000000000uLL) * v51
          + COERCE_DOUBLE(v54 ^ 0x8000000000000000uLL) * v52;
      *(_QWORD *)&v38 = v53 ^ 0x8000000000000000uLL;
      v16 = COERCE_DOUBLE(v53 ^ 0x8000000000000000uLL) * v50
          - COERCE_DOUBLE(v54 ^ 0x8000000000000000uLL) * *(double *)&v49
          + COERCE_DOUBLE(v55 ^ 0x8000000000000000uLL) * v52;
      v17 = v51 * v15 - v50 * v16;
      v18 = *(double *)&v49 * v16 - v51 * v14;
      v40 = v50 * v14 - *(double *)&v49 * v15;
      *(_QWORD *)&v41 = v55 ^ 0x8000000000000000uLL;
      v19 = v61;
      *(_QWORD *)&v39 = v54 ^ 0x8000000000000000uLL;
      v20 = v60;
      v21 = COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL) * v62
          - COERCE_DOUBLE(*(_QWORD *)&v51 ^ 0x8000000000000000uLL) * v61
          + v52 * v60;
      v22 = COERCE_DOUBLE(*(_QWORD *)&v51 ^ 0x8000000000000000uLL) * v60
          - COERCE_DOUBLE(v49 ^ 0x8000000000000000uLL) * v62
          + v52 * v61;
      v23 = COERCE_DOUBLE(v49 ^ 0x8000000000000000uLL) * v61
          - COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL) * v60
          + v52 * v62;
      v24 = COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL) * v23
          - v22 * COERCE_DOUBLE(*(_QWORD *)&v51 ^ 0x8000000000000000uLL);
      v25 = COERCE_DOUBLE(*(_QWORD *)&v51 ^ 0x8000000000000000uLL) * v21
          - COERCE_DOUBLE(v49 ^ 0x8000000000000000uLL) * v23;
      *(_QWORD *)&v64 = v49 ^ 0x8000000000000000uLL;
      v26 = v58;
      v27 = COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL) * v21;
      v28 = v56;
      v29 = v57;
      v30 = v59;
      v31 = v22 * COERCE_DOUBLE(v49 ^ 0x8000000000000000uLL) - v27;
      v32 = v56 * COERCE_DOUBLE(*(_QWORD *)&v51 ^ 0x8000000000000000uLL)
          - v58 * COERCE_DOUBLE(v49 ^ 0x8000000000000000uLL);
      v33 = v59 * COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL);
      *a2 = COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL) * v58
          - v57 * COERCE_DOUBLE(*(_QWORD *)&v51 ^ 0x8000000000000000uLL)
          + v56 * v52
          + v59 * COERCE_DOUBLE(v49 ^ 0x8000000000000000uLL);
      a2[1] = v32 + v29 * v52 + v33;
      v34 = v30 * v52;
      a2[2] = v29 * v64 - v28 * v37 + v26 * v52 + v30 * v63;
      a2[3] = v34 - v28 * v64 - v29 * v37 - v26 * v63;
      a2[4] = v17 + v38 + v17 + v20 + v24 + v24;
      a2[5] = v18 + v39 + v18 + v19 + v25 + v25;
      a2[6] = v40 + v41 + v40 + v31 + v62 + v31;
      if ( v10 )
      {
        v13 = _InterlockedDecrement64(v11);
        if ( (v13 & 0x3FF) == 0 && (v13 & 0xFFFF0000FFC00000uLL) != 0 )
          goto LABEL_20;
      }
      goto LABEL_31;
    }
    if ( v10 )
    {
      v35 = _InterlockedDecrement64(v11);
      if ( (v35 & 0x3FF) == 0 && (v35 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(v11, v35);
    }
LABEL_30:
    *a2 = 0.0;
    a2[3] = 1.0;
    a2[1] = 0.0;
    a2[2] = 0.0;
    a2[4] = 0.0;
    a2[5] = 0.0;
    a2[6] = 0.0;
    goto LABEL_31;
  }
  a2[3] = 1.0;
  *a2 = 0.0;
  a2[1] = 0.0;
  a2[2] = 0.0;
  a2[4] = 0.0;
  a2[5] = 0.0;
  a2[6] = 0.0;
  if ( v10 )
  {
    v13 = _InterlockedDecrement64(v11);
    if ( (v13 & 0x3FF) == 0 && (v13 & 0xFFFF0000FFC00000uLL) != 0 )
LABEL_20:
      sub_1403CD3A0(v11, v13);
  }
LABEL_31:
  v46 = __rdtsc();
  qword_149A05E08(&n0x2800);
  return a2;
}

// --- End Function: CPhysicalWorld::GetRelativeTransform (0x14691B140) ---

// --- Function: CPhysicalWorld::GetRelativeVelocityTransform (0x14691B710) ---
double *__fastcall CPhysicalWorld::GetRelativeVelocityTransform(
        __int64 a1,
        double *a2,
        __int64 *a3,
        double *a4,
        __int64 *a5,
        double *a6,
        char a7)
{
  char v7; // r15
  double *v9; // rdi
  __int64 *v11; // r12
  __int64 TlsIndex; // r13
  volatile signed __int64 *v13; // rsi
  __int64 v14; // rax
  volatile signed __int64 *v15; // r14
  signed __int64 v16; // rbx
  volatile signed __int64 *v17; // r13
  __int64 *v18; // rbx
  unsigned __int64 v19; // rdx
  unsigned __int64 n0x200000; // rax
  __int64 *v22; // r13
  double v23; // xmm15_8
  double v24; // xmm1_8
  double v26; // xmm10_8
  double v27; // xmm11_8
  double v28; // xmm12_8
  double v29; // xmm9_8
  __int64 v30; // rbx
  double v32; // xmm8_8
  double v33; // xmm15_8
  double v34; // xmm14_8
  double v35; // xmm13_8
  double v36; // xmm7_8
  double v37; // xmm6_8
  double v38; // xmm4_8
  __int128 v39; // xmm5
  __int128 v40; // xmm3
  __int128 v41; // kr00_16
  __int128 v42; // xmm4
  __int128 v43; // xmm1
  __int128 v44; // xmm2
  __int128 v45; // xmm6
  __int128 v46; // xmm5
  __int128 v47; // xmm3
  __int128 v56; // xmm0
  double v57; // xmm6_8
  double v58; // xmm3_8
  double v59; // xmm11_8
  double v60; // xmm12_8
  double v61; // xmm13_8
  __int64 v62; // rbx
  double v64; // xmm10_8
  double v65; // xmm9_8
  double v66; // xmm8_8
  double v67; // kr00_8
  double v68; // xmm7_8
  double v69; // xmm6_8
  double v70; // xmm4_8
  __int128 v71; // xmm5
  __int128 v72; // xmm4
  __int128 v73; // kr00_16
  __int128 v74; // xmm5
  __int128 v75; // xmm4
  __int128 v76; // xmm3
  float v83; // xmm13_4
  float v84; // xmm14_4
  float v85; // xmm12_4
  double v86; // xmm6_8
  double v87; // xmm7_8
  double v88; // xmm6_8
  double v89; // xmm8_8
  float v90; // xmm12_4
  float v91; // xmm11_4
  double v92; // xmm9_8
  double v93; // xmm5_8
  double v94; // xmm7_8
  double v95; // xmm8_8
  double v96; // xmm13_8
  double v97; // xmm12_8
  double v98; // xmm6_8
  double v99; // xmm5_8
  double v100; // xmm4_8
  double v101; // xmm9_8
  double v102; // xmm10_8
  double v103; // xmm11_8
  double v104; // kr00_8
  double v105; // xmm5_8
  double v106; // xmm4_8
  unsigned __int64 v107; // rdx
  double v108; // [rsp+38h] [rbp-C8h]
  __int128 v109; // [rsp+38h] [rbp-C8h]
  double v110; // [rsp+40h] [rbp-C0h]
  double v111; // [rsp+48h] [rbp-B8h]
  double v112; // [rsp+50h] [rbp-B0h]
  double v113; // [rsp+58h] [rbp-A8h]
  double v114; // [rsp+60h] [rbp-A0h]
  double v115; // [rsp+68h] [rbp-98h]
  __int128 v116; // [rsp+68h] [rbp-98h]
  double v117; // [rsp+70h] [rbp-90h]
  double v118; // [rsp+78h] [rbp-88h]
  double v119; // [rsp+78h] [rbp-88h]
  double v120; // [rsp+80h] [rbp-80h]
  double v121; // [rsp+88h] [rbp-78h]
  double v122; // [rsp+90h] [rbp-70h]
  double v123; // [rsp+98h] [rbp-68h]
  double v124; // [rsp+98h] [rbp-68h]
  double v125; // [rsp+A0h] [rbp-60h]
  double v126; // [rsp+A0h] [rbp-60h]
  double v127; // [rsp+A8h] [rbp-58h]
  double v128; // [rsp+A8h] [rbp-58h]
  double v129; // [rsp+B0h] [rbp-50h]
  double v130; // [rsp+B0h] [rbp-50h]
  double v131; // [rsp+B8h] [rbp-48h]
  double v132; // [rsp+C0h] [rbp-40h]
  double v133; // [rsp+C0h] [rbp-40h]
  double v134; // [rsp+C8h] [rbp-38h]
  double v135; // [rsp+C8h] [rbp-38h]
  double v136; // [rsp+D0h] [rbp-30h]
  double v137; // [rsp+D8h] [rbp-28h]
  double v138; // [rsp+E0h] [rbp-20h]
  double v139; // [rsp+E8h] [rbp-18h]
  double v140; // [rsp+108h] [rbp+8h]
  double v141; // [rsp+110h] [rbp+10h]
  double v142; // [rsp+118h] [rbp+18h]
  double v143; // [rsp+120h] [rbp+20h]
  double v144; // [rsp+128h] [rbp+28h]
  double v145; // [rsp+130h] [rbp+30h]
  double v146; // [rsp+138h] [rbp+38h]
  double v147; // [rsp+140h] [rbp+40h]
  int n0x2800; // [rsp+150h] [rbp+50h] BYREF
  __int64 v149; // [rsp+154h] [rbp+54h]
  int v150; // [rsp+15Ch] [rbp+5Ch]
  __int64 v151; // [rsp+160h] [rbp+60h]
  unsigned __int64 v152; // [rsp+168h] [rbp+68h]
  __int64 v153; // [rsp+170h] [rbp+70h]
  __int64 v154; // [rsp+178h] [rbp+78h]
  __int128 v155; // [rsp+1A0h] [rbp+A0h]
  __int128 v156; // [rsp+1C0h] [rbp+C0h]
  int n8; // [rsp+1E0h] [rbp+E0h] BYREF
  double v158; // [rsp+1E8h] [rbp+E8h]
  __int128 v159; // [rsp+1F0h] [rbp+F0h]
  __int128 v160; // [rsp+200h] [rbp+100h]
  __int128 v161; // [rsp+210h] [rbp+110h]
  __int128 v162; // [rsp+220h] [rbp+120h]
  __int128 v163; // [rsp+230h] [rbp+130h]
  __int128 v164; // [rsp+240h] [rbp+140h]
  __int128 v165; // [rsp+250h] [rbp+150h]
  float v166; // [rsp+260h] [rbp+160h]
  float v167; // [rsp+264h] [rbp+164h]
  float v168; // [rsp+268h] [rbp+168h]
  int v169; // [rsp+26Ch] [rbp+16Ch]
  __int128 v170; // [rsp+270h] [rbp+170h]
  int v171; // [rsp+280h] [rbp+180h]
  float v172; // [rsp+284h] [rbp+184h]
  unsigned int v173; // [rsp+288h] [rbp+188h]
  unsigned int v174; // [rsp+28Ch] [rbp+18Ch]
  int n8_1; // [rsp+290h] [rbp+190h] BYREF
  double v176; // [rsp+298h] [rbp+198h]
  __int128 v177; // [rsp+2A0h] [rbp+1A0h]
  __int128 v178; // [rsp+2B0h] [rbp+1B0h]
  __int128 v179; // [rsp+2C0h] [rbp+1C0h]
  __int128 v180; // [rsp+2D0h] [rbp+1D0h]
  __int128 v181; // [rsp+2E0h] [rbp+1E0h]
  __int128 v182; // [rsp+2F0h] [rbp+1F0h]
  __int128 v183; // [rsp+300h] [rbp+200h]
  float v184; // [rsp+310h] [rbp+210h]
  float v185; // [rsp+314h] [rbp+214h]
  float v186; // [rsp+318h] [rbp+218h]
  int v187; // [rsp+31Ch] [rbp+21Ch]
  __int128 v188; // [rsp+320h] [rbp+220h]
  int v189; // [rsp+330h] [rbp+230h]
  float v190; // [rsp+334h] [rbp+234h]
  unsigned int v191; // [rsp+338h] [rbp+238h]
  unsigned int v192; // [rsp+33Ch] [rbp+23Ch]
  __int128 v193; // [rsp+340h] [rbp+240h]
  __int128 v194; // [rsp+360h] [rbp+260h]
  int v195; // [rsp+470h] [rbp+370h]
  __int64 *v197; // [rsp+480h] [rbp+380h]
  __int64 LCAGridInternal; // [rsp+480h] [rbp+380h]
  double v199; // [rsp+480h] [rbp+380h]
  double v200; // [rsp+480h] [rbp+380h]
  char v202; // [rsp+490h] [rbp+390h]

  v195 = a1;
  v7 = 0;
  n0x2800 = 0x2800;
  v149 = 0;
  v9 = a2;
  v150 = 0;
  v152 = 0;
  v153 = 0;
  v154 = 0;
  v151 = 1;
  qword_149A05E00(&n0x2800, 0, &p_p_p_p_p_p_p_p_p_p_p_p_Source, &p_p_p_p_p_p_p_p_p_p_p_p_Source, 0);
  v11 = a5;
  if ( !a3 )
    a3 = (__int64 *)(a1 + 0xB40);
  v197 = a3;
  if ( !a5 )
    v11 = (__int64 *)(a1 + 0xB40);
  if ( a3 == v11 )
  {
    *v9 = 0.0;
    v9[3] = 1.0;
    v9[1] = 0.0;
    v9[2] = 0.0;
    v9[4] = 0.0;
    v9[5] = 0.0;
    v9[6] = 0.0;
    v152 = __rdtsc();
    qword_149A05E08(&n0x2800);
    return v9;
  }
  TlsIndex = (unsigned int)::TlsIndex;
  if ( a7
    || *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)::TlsIndex) + 0x800LL) != 0x1E )
  {
    v13 = (volatile signed __int64 *)(a1 + 0x84B28);
    if ( a7 )
    {
LABEL_14:
      v17 = (volatile signed __int64 *)(a1 + 0x84B90);
      v202 = 0;
      v15 = (volatile signed __int64 *)(a1 + 0x84B90);
      goto LABEL_15;
    }
  }
  else
  {
    v7 = 1;
    v13 = (volatile signed __int64 *)(a1 + 0x84B28);
    v14 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x84B28), 0x200000, 0);
    if ( v14 )
      sub_1403DE750(
        a1 + 0x84B28,
        v14,
        0,
        (__int64)"CPhysicalWorld::GetRelativeVelocityTransform",
        (__int64)"m_lockCaller[MAX_PHYS_THREADS]",
        1);
  }
  if ( *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + TlsIndex) + 0x800LL) != 0x1E )
    goto LABEL_14;
  v202 = 1;
  v15 = (volatile signed __int64 *)(a1 + 0x84B90);
  v16 = _InterlockedIncrement64(v15);
  v17 = v15;
  if ( (v16 & 0x200000) != 0 )
  {
    sub_1403CD0A0(v15, v16, (__int64)"CPhysicalWorld::GetRelativeVelocityTransform", (__int64)"m_lockGridHierarchy", 1);
    v202 = 1;
  }
LABEL_15:
  v18 = v197;
  LCAGridInternal = CPhysicalWorld::GetLCAGridInternal(v195, (_DWORD)v197, (_DWORD)v11, 0, 0, 0x3F800000);
  if ( LCAGridInternal )
  {
    v22 = (__int64 *)LCAGridInternal;
    v23 = 1.0;
    v24 = a4[2];
    _XMM0 = 0;
    v111 = 0.0;
    v122 = 0.0;
    __asm
    {
      vmovupd [rbp+360h+var_120], xmm0
      vmovupd [rbp+360h+var_100], xmm0
    }
    v136 = 1.0;
    v120 = 1.0;
    if ( v18 == (__int64 *)LCAGridInternal )
    {
      v121 = *((double *)&v194 + 1);
      v114 = *(double *)&v194;
      v112 = *((double *)&v193 + 1);
      v113 = *(double *)&v193;
    }
    else
    {
      v26 = v24;
      v27 = a4[1];
      v28 = *a4;
      v122 = 0.0;
      v121 = 0.0;
      v199 = 0.0;
      v123 = 0.0;
      v118 = 0.0;
      v117 = 0.0;
      v115 = 0.0;
      v110 = 0.0;
      v111 = 0.0;
      v112 = 0.0;
      v113 = 0.0;
      v108 = 0.0;
      v145 = 0.0;
      v146 = 0.0;
      v140 = 0.0;
      v141 = 0.0;
      v142 = 0.0;
      v127 = 0.0;
      v129 = 0.0;
      v131 = 0.0;
      v132 = 0.0;
      v134 = 0.0;
      v125 = 0.0;
      v120 = 1.0;
      v147 = 1.0;
      v143 = 1.0;
      v144 = 1.0;
      v29 = 0.0;
      do
      {
        v30 = *v18;
        _XMM0 = 0;
        v158 = 0.0;
        v166 = 0.0;
        v167 = 0.0;
        v168 = 0.0;
        v172 = 0.0;
        __asm { vmovupd [rbp+360h+var_270], xmm0 }
        v160 = 0;
        v161 = 0;
        v162 = 0;
        v163 = 0;
        v164 = 0;
        v165 = 0;
        v169 = 0;
        v170 = 0;
        v171 = 0;
        v173 = 0x80000000;
        v174 = 0x80000000;
        n8 = 8;
        (*(void (__fastcall **)(__int64, int *))(*(_QWORD *)v30 + 0x28LL))(v30, &n8);
        v32 = *(float *)(v30 + 0x1E0);
        v33 = *(float *)(v30 + 0x1DC);
        v34 = *(float *)(v30 + 0x1E4);
        v35 = *(float *)(v30 + 0x1D8);
        v36 = v33 * v26 - v32 * v27 + v34 * v28;
        v37 = v32 * v28 - v35 * v26 + v34 * v27;
        v38 = v35 * v27 - v33 * v28 + v34 * v26;
        v39 = COERCE_UNSIGNED_INT64(v38 * v33 - v37 * v32);
        *((_QWORD *)&v41 + 1) = 0;
        *(double *)&v41 = v37 * v35;
        v40 = v41;
        *((_QWORD *)&v41 + 1) = 0;
        *(double *)&v41 = v36 * v32 - v38 * v35;
        v42 = v41;
        *((_QWORD *)&v41 + 1) = *((_QWORD *)&v39 + 1);
        *(double *)&v41 = *(double *)&v39 + v28;
        v43 = v41;
        *((_QWORD *)&v41 + 1) = *((_QWORD *)&v40 + 1);
        *(double *)&v41 = *(double *)&v40 - v36 * v33;
        v44 = v41;
        *((_QWORD *)&v41 + 1) = *((_QWORD *)&v43 + 1);
        *(double *)&v41 = *(double *)&v43 + *(double *)&v39 + *(double *)(v30 + 0x1C0);
        v45 = v41;
        *((_QWORD *)&v41 + 1) = *((_QWORD *)&v42 + 1);
        *(double *)&v41 = *(double *)&v42 + v27 + *(double *)&v42 + *(double *)(v30 + 0x1C8);
        v46 = v41;
        *((_QWORD *)&v41 + 1) = *((_QWORD *)&v44 + 1);
        *(double *)&v41 = *(double *)&v44 + v26 + *(double *)&v44 + *(double *)(v30 + 0x1D0);
        v47 = v41;
        *((_QWORD *)&v41 + 1) = *((_QWORD *)&v45 + 1);
        *(double *)&v41 = *(double *)&v45 - v158;
        _XMM0 = v41;
        *((_QWORD *)&v41 + 1) = *((_QWORD *)&v46 + 1);
        *(double *)&v41 = *(double *)&v46 - *(double *)&v159;
        _XMM1 = v41;
        __asm { vcvtsd2ss xmm12, xmm0, xmm0 }
        *((_QWORD *)&v41 + 1) = *((_QWORD *)&v47 + 1);
        *(double *)&v41 = *(double *)&v47 - *((double *)&v159 + 1);
        _XMM0 = v41;
        __asm { vcvtsd2ss xmm11, xmm1, xmm1 }
        __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
        v139 = *(double *)&v45;
        *(double *)&v45 = v33 * v122 - v32 * v121 + v29 * v34;
        v18 = *(__int64 **)(v30 + 0xB8);
        *(double *)&v41 = v32 * v199 - v35 * v123 + v34 * v118;
        *(double *)&v42 = v35 * v117 - v33 * v115 + v34 * v110;
        v113 = v33 * v111 - v32 * v112 + v34 * v113 + v35 * v120;
        v112 = v32 * v108 - v35 * v145 + v34 * v146 + v33 * v147;
        v111 = v35 * v140 - v33 * v141 + v34 * v142 + v32 * v143;
        v122 = (float)((float)((float)(*(float *)&_XMM11 * *((float *)&v160 + 3))
                             - (float)(*(float *)&_XMM12 * *(float *)&v161))
                     + *((float *)&v160 + 2))
             + *(double *)&v41 * v35
             - *(double *)&v45 * v33
             + v125
             + *(double *)&v41 * v35
             - *(double *)&v45 * v33;
        v120 = v34 * v144 - v35 * v127 - v33 * v129 - v32 * v131;
        v114 = (float)((float)((float)(*(float *)&_XMM10 * *(float *)&v161)
                             - (float)(*(float *)&_XMM11 * *((float *)&v161 + 1)))
                     + *(float *)&v160)
             + *(double *)&v42 * v33
             - *(double *)&v41 * v32
             + v132
             + *(double *)&v42 * v33
             - *(double *)&v41 * v32;
        v121 = (float)((float)((float)(*(float *)&_XMM12 * *((float *)&v161 + 1))
                             - (float)(*(float *)&_XMM10 * *((float *)&v160 + 3)))
                     + *((float *)&v160 + 1))
             + *(double *)&v45 * v32
             - *(double *)&v42 * v35
             + v134
             + *(double *)&v45 * v32
             - *(double *)&v42 * v35;
        v199 = v114;
        v28 = v139;
        v145 = v111;
        v142 = v111;
        v131 = v111;
        v27 = *(double *)&v46;
        v123 = v122;
        v110 = v122;
        v125 = v122;
        v26 = *(double *)&v47;
        v118 = v121;
        v117 = v121;
        v115 = v114;
        v108 = v113;
        v146 = v112;
        v147 = v120;
        v140 = v112;
        v141 = v113;
        v143 = v120;
        v144 = v120;
        v127 = v113;
        v129 = v112;
        v132 = v114;
        v134 = v121;
        v29 = v114;
      }
      while ( v18 != v22 );
      v23 = 1.0;
      v9 = a2;
    }
    _XMM0 = 0;
    _XMM1 = 0;
    __asm { vmovupd [rbp+360h+var_2C0], xmm0 }
    v56 = *(_OWORD *)a6;
    __asm { vmovupd [rbp+360h+var_2A0], xmm1 }
    v57 = 0.0;
    v58 = 0.0;
    v200 = 0.0;
    v119 = 0.0;
    if ( v11 == v22 )
    {
      v94 = *((double *)&v155 + 1);
      v95 = *(double *)&v155;
      v93 = *((double *)&v156 + 1);
      v92 = *(double *)&v156;
      v109 = v155;
    }
    else
    {
      v59 = a6[2];
      v60 = *((double *)&v56 + 1);
      v61 = *(double *)&v56;
      v116 = v156;
      v109 = v155;
      do
      {
        v62 = *v11;
        _XMM0 = 0;
        v176 = 0.0;
        v184 = 0.0;
        v185 = 0.0;
        v186 = 0.0;
        v190 = 0.0;
        __asm { vmovupd [rbp+360h+var_1C0], xmm0 }
        v178 = 0;
        v179 = 0;
        v180 = 0;
        v181 = 0;
        v182 = 0;
        v183 = 0;
        v187 = 0;
        v188 = 0;
        v189 = 0;
        v191 = 0x80000000;
        v192 = 0x80000000;
        n8_1 = 8;
        (*(void (__fastcall **)(__int64, int *))(*(_QWORD *)v62 + 0x28LL))(v62, &n8_1);
        v64 = *(float *)(v62 + 0x1E0);
        v65 = *(float *)(v62 + 0x1DC);
        v67 = *(float *)(v62 + 0x1D8);
        v66 = v67;
        v126 = *(float *)(v62 + 0x1E4);
        v68 = v65 * v59 - v64 * v60 + v126 * v61;
        v69 = v64 * v61 - v67 * v59 + v126 * v60;
        v70 = v67 * v60 - v65 * v61 + v126 * v59;
        v71 = COERCE_UNSIGNED_INT64(v65 * v70 - v64 * v69);
        v72 = COERCE_UNSIGNED_INT64(v64 * v68 - v67 * v70);
        *((_QWORD *)&v73 + 1) = *((_QWORD *)&v71 + 1);
        *(double *)&v73 = *(double *)&v71 + v61 + *(double *)&v71 + *(double *)(v62 + 0x1C0);
        v74 = v73;
        *((_QWORD *)&v73 + 1) = *((_QWORD *)&v72 + 1);
        *(double *)&v73 = *(double *)&v72 + v60 + *(double *)&v72 + *(double *)(v62 + 0x1C8);
        v75 = v73;
        *((_QWORD *)&v73 + 1) = 0;
        *(double *)&v73 = v66 * v69 - v65 * v68 + v59 + v66 * v69 - v65 * v68 + *(double *)(v62 + 0x1D0);
        v76 = v73;
        *((_QWORD *)&v73 + 1) = *((_QWORD *)&v74 + 1);
        *(double *)&v73 = *(double *)&v74 - v176;
        _XMM0 = v73;
        *((_QWORD *)&v73 + 1) = *((_QWORD *)&v75 + 1);
        *(double *)&v73 = *(double *)&v75 - *(double *)&v177;
        _XMM1 = v73;
        v128 = *(double *)&v74;
        __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
        *((_QWORD *)&v73 + 1) = *((_QWORD *)&v76 + 1);
        *(double *)&v73 = *(double *)&v76 - *((double *)&v177 + 1);
        _XMM0 = v73;
        v130 = *(double *)&v75;
        __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
        __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
        v124 = v64;
        *(float *)&v64 = *(float *)&_XMM4 * *((float *)&v179 + 1);
        v138 = *(float *)(v62 + 0x1D8);
        v83 = *(float *)&_XMM4 * *((float *)&v178 + 3);
        v84 = *(float *)&_XMM5 * *((float *)&v179 + 1);
        v85 = *(float *)&_XMM5 * *(float *)&v179;
        v11 = *(__int64 **)(v62 + 0xB8);
        v86 = v65 * v119 - v124 * *((double *)&v116 + 1) + v126 * *(double *)&v116;
        *(double *)&_XMM5 = v124 * *(double *)&v116 - v66 * v119 + v126 * *((double *)&v116 + 1);
        *(double *)&_XMM4 = v66 * *((double *)&v116 + 1) - v65 * *(double *)&v116 + v126 * v119;
        v137 = v65 * *(double *)&_XMM4 - v124 * *(double *)&_XMM5;
        v135 = v124 * v86 - v66 * *(double *)&_XMM4;
        v133 = v66 * *(double *)&_XMM5 - v65 * v86;
        v87 = v66 * *(double *)&v109;
        *(double *)&_XMM5 = v65 * *(double *)&v109;
        v88 = v66 * *((double *)&v109 + 1);
        v89 = v65 * *((double *)&v109 + 1);
        *(float *)&v64 = (float)((float)(*(float *)&_XMM2 * *(float *)&v179) - *(float *)&v64) + *(float *)&v178;
        v90 = (float)(v83 - v85) + *((float *)&v178 + 2);
        v91 = (float)(v84 - (float)(*(float *)&_XMM2 * *((float *)&v178 + 3))) + *((float *)&v178 + 1);
        *(double *)&_XMM2 = v124 * *(double *)&v109 - v138 * v200;
        *(double *)&v109 = v65 * v200 - v124 * *((double *)&v109 + 1) + v126 * *(double *)&v109 + v136 * v138;
        *((double *)&v109 + 1) = *(double *)&_XMM2 + v126 * *((double *)&v109 + 1) + v65 * v136;
        v57 = v88 - *(double *)&_XMM5 + v126 * v200 + v136 * v124;
        v23 = v126 * v136 - v87 - v89 - v124 * v200;
        v136 = v23;
        v200 = v57;
        v61 = v128;
        v92 = v137 + *(double *)&v116 + *(float *)&v64 + v137;
        *(double *)&_XMM0 = v91;
        v59 = *(double *)&v76;
        *(double *)&v73 = v135 + *((double *)&v116 + 1) + *(double *)&_XMM0;
        *(double *)&_XMM0 = v90;
        v60 = v130;
        v93 = *(double *)&v73 + v135;
        v58 = v133 + v119 + *(double *)&_XMM0 + v133;
        v119 = v58;
        *(double *)&v116 = v92;
        *((double *)&v116 + 1) = *(double *)&v73 + v135;
      }
      while ( v11 != v22 );
      v94 = *((double *)&v109 + 1);
      v95 = *(double *)&v109;
      v9 = a2;
    }
    *(_QWORD *)&v96 = *(_QWORD *)&v93 ^ 0x8000000000000000uLL;
    *(_QWORD *)&v97 = *(_QWORD *)&v92 ^ 0x8000000000000000uLL;
    v98 = COERCE_DOUBLE(*(_QWORD *)&v93 ^ 0x8000000000000000uLL) * v57
        - COERCE_DOUBLE(*(_QWORD *)&v58 ^ 0x8000000000000000uLL) * v94
        + COERCE_DOUBLE(*(_QWORD *)&v92 ^ 0x8000000000000000uLL) * v23;
    v99 = COERCE_DOUBLE(*(_QWORD *)&v58 ^ 0x8000000000000000uLL) * v95
        - COERCE_DOUBLE(*(_QWORD *)&v92 ^ 0x8000000000000000uLL) * v200
        + COERCE_DOUBLE(*(_QWORD *)&v93 ^ 0x8000000000000000uLL) * v23;
    v100 = COERCE_DOUBLE(*(_QWORD *)&v92 ^ 0x8000000000000000uLL) * v94
         - v96 * v95
         + COERCE_DOUBLE(*(_QWORD *)&v58 ^ 0x8000000000000000uLL) * v23;
    v101 = v99 * v200 - v100 * v94;
    v102 = v100 * v95 - v98 * v200;
    v103 = v98 * v94 - v99 * v95;
    v104 = v200 * v121 - v94 * v122 + v23 * v114;
    v105 = v95 * v122 - v200 * v114 + v23 * v121;
    v106 = v94 * v114 - v95 * v121 + v23 * v122;
    *v9 = v112 * v200 - *((double *)&v109 + 1) * v111 + v23 * v113 - v120 * *(double *)&v109;
    v9[1] = *(double *)&v109 * v111 - v113 * v200 + v23 * v112 - *((double *)&v109 + 1) * v120;
    v9[2] = *((double *)&v109 + 1) * v113 - *(double *)&v109 * v112 + v23 * v111 - v200 * v120;
    v9[3] = v23 * v120 + *(double *)&v109 * v113 + v111 * v200 + *((double *)&v109 + 1) * v112;
    v9[4] = v101 + v97 + v101 + v105 * v200 - v106 * v94 + v114 + v105 * v200 - v106 * v94;
    v9[5] = v102 + v96 + v102 + v95 * v106 - v104 * v200 + v121 + v95 * v106 - v104 * v200;
    v9[6] = v103
          + COERCE_DOUBLE(*(_QWORD *)&v58 ^ 0x8000000000000000uLL)
          + v103
          + v104 * *((double *)&v109 + 1)
          - v105 * *(double *)&v109
          + v122
          + v104 * *((double *)&v109 + 1)
          - v105 * *(double *)&v109;
    if ( v202 )
    {
      v107 = _InterlockedDecrement64(v15);
      if ( (v107 & 0x3FF) == 0 && (v107 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(v15, v107);
    }
    if ( !v13 || !v7 )
      goto LABEL_24;
  }
  else
  {
    v9[3] = 1.0;
    *v9 = 0.0;
    v9[1] = 0.0;
    v9[2] = 0.0;
    v9[4] = 0.0;
    v9[5] = 0.0;
    v9[6] = 0.0;
    if ( v202 )
    {
      v19 = _InterlockedDecrement64(v17);
      if ( (v19 & 0x3FF) == 0 && (v19 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(v17, v19);
    }
    if ( !v13 || !v7 )
      goto LABEL_24;
  }
  n0x200000 = _InterlockedCompareExchange64(v13, 0, 0x200000);
  if ( n0x200000 != 0x200000 )
    sub_1403DEBA0(v13, n0x200000);
LABEL_24:
  v152 = __rdtsc();
  qword_149A05E08(&n0x2800);
  return v9;
}

// --- End Function: CPhysicalWorld::GetRelativeVelocityTransform (0x14691B710) ---

// --- Function: CPhysicalWorld::RayTraceEntity (0x14692ECD0) ---
__int64 __fastcall CPhysicalWorld::RayTraceEntity(
        __int64 a1,
        __int64 *a2,
        double *a3,
        float *a4,
        __int64 a5,
        __int64 a6,
        __int64 n3)
{
  __int128 v7; // xmm6
  __int128 v8; // xmm15
  int v13; // r13d
  double v14; // r12
  __int64 v15; // rax
  __int128 v16; // xmm0
  float v17; // xmm4_4
  __m128 v18; // xmm5
  float v19; // xmm8_4
  __m128 v20; // kr00_16
  int v21; // eax
  float v24; // xmm1_4
  float v25; // xmm2_4
  __m128 v27; // kr00_16
  bool v30; // zf
  double v31; // xmm1_8
  float v32; // xmm11_4
  float v33; // xmm12_4
  float v34; // xmm4_4
  float v35; // xmm0_4
  double v36; // xmm1_8
  float v37; // xmm11_4
  float v38; // xmm12_4
  float v39; // xmm4_4
  double v40; // xmm1_8
  float v41; // eax
  __m128 v42; // kr00_16
  float v45; // xmm1_4
  float v46; // xmm2_4
  __int128 v47; // kr00_16
  __int64 v49; // rax
  int v50; // eax
  char *v51; // rdi
  __int64 v52; // rbx
  char *v55; // rax
  __int64 n3_1; // r8
  int v57; // edx
  unsigned int v58; // ebx
  __int64 v59; // r12
  __int64 v60; // r13
  __int64 v61; // r15
  __int64 v62; // rax
  double v63; // xmm7_8
  double v64; // xmm8_8
  double v65; // xmm9_8
  double v66; // xmm10_8
  double v67; // xmm11_8
  double v68; // xmm12_8
  __int64 v81; // rax
  float v82; // xmm10_4
  float v83; // xmm6_4
  float v84; // xmm7_4
  float v85; // xmm9_4
  float v86; // xmm15_4
  float v87; // xmm4_4
  float v88; // xmm14_4
  float v89; // xmm5_4
  float v90; // xmm8_4
  float v91; // kr00_4
  float v92; // xmm4_4
  float v93; // xmm3_4
  float v94; // xmm6_4
  float v95; // xmm11_4
  float v96; // xmm5_4
  float v97; // xmm9_4
  float v98; // xmm8_4
  float v99; // xmm3_4
  float v100; // xmm8_4
  float v101; // xmm10_4
  float v102; // xmm9_4
  float v103; // xmm7_4
  float v104; // xmm6_4
  float v105; // xmm4_4
  float v106; // kr00_4
  __int64 v107; // rax
  int v108; // eax
  int v109; // r8d
  char *v110; // r13
  __int64 v111; // rdx
  float *v112; // rcx
  __int64 v113; // rbx
  __int16 v116; // ax
  __int64 v117; // rcx
  __int64 v118; // rcx
  char *v119; // rax
  __int64 v120; // rbx
  unsigned __int64 n0x200000; // rax
  __int64 v123; // [rsp+30h] [rbp-D8h]
  unsigned int v124; // [rsp+48h] [rbp-C0h]
  float v125; // [rsp+4Ch] [rbp-BCh]
  float v126; // [rsp+50h] [rbp-B8h]
  float v127; // [rsp+54h] [rbp-B4h]
  float v128; // [rsp+58h] [rbp-B0h]
  float v129; // [rsp+5Ch] [rbp-ACh]
  char *v130; // [rsp+60h] [rbp-A8h] BYREF
  __int64 v131; // [rsp+68h] [rbp-A0h]
  __int64 v132; // [rsp+70h] [rbp-98h]
  __int64 v133; // [rsp+78h] [rbp-90h]
  double v134; // [rsp+80h] [rbp-88h]
  __int128 v135; // [rsp+88h] [rbp-80h] BYREF
  __int128 v136; // [rsp+98h] [rbp-70h]
  float v137; // [rsp+A8h] [rbp-60h]
  float v138[4]; // [rsp+B0h] [rbp-58h] BYREF
  __int128 v139; // [rsp+C0h] [rbp-48h]
  double v140; // [rsp+D0h] [rbp-38h]
  __int64 v141; // [rsp+D8h] [rbp-30h]
  double v142; // [rsp+E0h] [rbp-28h]
  float v143; // [rsp+E8h] [rbp-20h]
  double v144; // [rsp+ECh] [rbp-1Ch]
  float v145; // [rsp+F4h] [rbp-14h]
  _QWORD *v146; // [rsp+F8h] [rbp-10h] BYREF
  char *v147; // [rsp+100h] [rbp-8h]
  __int128 v148; // [rsp+108h] [rbp+0h] BYREF
  double v149; // [rsp+118h] [rbp+10h]
  float v150; // [rsp+120h] [rbp+18h]
  float v151; // [rsp+124h] [rbp+1Ch]
  __int128 v152; // [rsp+128h] [rbp+20h]
  float v153; // [rsp+138h] [rbp+30h]
  float v154; // [rsp+13Ch] [rbp+34h]
  float v155; // [rsp+140h] [rbp+38h]
  float v156; // [rsp+144h] [rbp+3Ch]
  __int128 v157; // [rsp+148h] [rbp+40h]
  float v158; // [rsp+158h] [rbp+50h]
  float v159; // [rsp+15Ch] [rbp+54h]
  double v160; // [rsp+160h] [rbp+58h]
  int v162; // [rsp+178h] [rbp+70h]
  __m256 v163; // [rsp+188h] [rbp+80h] BYREF
  float v164; // [rsp+1A8h] [rbp+A0h]
  int v165; // [rsp+1ACh] [rbp+A4h]
  float v166; // [rsp+1B0h] [rbp+A8h]
  float v167; // [rsp+1B4h] [rbp+ACh]
  float v168; // [rsp+1B8h] [rbp+B0h]
  float v169; // [rsp+1BCh] [rbp+B4h]
  float v170; // [rsp+1C0h] [rbp+B8h]
  float v171; // [rsp+1C4h] [rbp+BCh]
  _QWORD v172[2]; // [rsp+1C8h] [rbp+C0h] BYREF
  float v173; // [rsp+1D8h] [rbp+D0h]
  int v174; // [rsp+1DCh] [rbp+D4h]
  _OWORD v175[2]; // [rsp+1F8h] [rbp+F0h] BYREF
  float v176; // [rsp+218h] [rbp+110h]
  double v177; // [rsp+220h] [rbp+118h]
  float v178; // [rsp+228h] [rbp+120h]
  __int64 (__fastcall **v179)(); // [rsp+230h] [rbp+128h]
  _QWORD *v180; // [rsp+238h] [rbp+130h]
  _OWORD *v181; // [rsp+240h] [rbp+138h]
  _QWORD v182[2]; // [rsp+248h] [rbp+140h] BYREF
  float v183; // [rsp+258h] [rbp+150h]
  int v184; // [rsp+25Ch] [rbp+154h]
  __int128 v185; // [rsp+278h] [rbp+170h] BYREF
  __int64 v186; // [rsp+288h] [rbp+180h]
  double v187; // [rsp+290h] [rbp+188h]
  int v188; // [rsp+298h] [rbp+190h]
  double v189; // [rsp+2A0h] [rbp+198h]
  float v190; // [rsp+2A8h] [rbp+1A0h]
  __int64 (__fastcall **v191)(); // [rsp+2B0h] [rbp+1A8h]
  _QWORD *v192; // [rsp+2B8h] [rbp+1B0h]
  __int128 *v193; // [rsp+2C0h] [rbp+1B8h]
  _DWORD v194[18]; // [rsp+2C8h] [rbp+1C0h] BYREF
  double v195; // [rsp+310h] [rbp+208h]
  __m256 v196; // [rsp+318h] [rbp+210h]
  double v197; // [rsp+338h] [rbp+230h]
  int v198; // [rsp+340h] [rbp+238h]
  __int16 v199; // [rsp+344h] [rbp+23Ch]
  char v200; // [rsp+346h] [rbp+23Eh]
  __int64 v201; // [rsp+348h] [rbp+240h]
  __int64 v202; // [rsp+354h] [rbp+24Ch]
  __int64 v203; // [rsp+360h] [rbp+258h]
  __int128 v204; // [rsp+378h] [rbp+270h]
  __int128 v205; // [rsp+408h] [rbp+300h]

  v205 = v7;
  v204 = v8;
  _XMM6 = 0;
  if ( (float)((float)((float)(*a4 * *a4) + (float)(a4[1] * a4[1])) + (float)(a4[2] * a4[2])) <= 0.0
    || *a3 * *a3 + a3[1] * a3[1] + a3[2] * a3[2] < 0.0 )
  {
    return 0;
  }
  LODWORD(v131) = *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
  v13 = v131;
  *(_QWORD *)&v14 = a1 + 0x84A38 + 8LL * (int)v131;
  v134 = v14;
  v15 = _InterlockedCompareExchange64(*(volatile signed __int64 **)&v14, 0x200000, 0);
  if ( v15 )
    sub_1403DE750(
      *(__int64 *)&v14,
      v15,
      0,
      (__int64)"CPhysicalWorld::RayTraceEntity",
      (__int64)"m_lockCaller[iCaller]",
      1);
  v129 = 1.0;
  sub_14663CBB0((__int64)v182);
  v16 = *(_OWORD *)a3;
  v17 = a4[1];
  v18 = (__m128)*(unsigned int *)a4;
  v19 = a4[2];
  v186 = *((_QWORD *)a3 + 2);
  v185 = v16;
  *(_QWORD *)&v16 = *(_QWORD *)a4;
  v20 = v18;
  v182[0] = &off_148AB6090;
  v187 = *(double *)&v16;
  v20.m128_f32[0] = (float)((float)(v18.m128_f32[0] * v18.m128_f32[0]) + (float)(v17 * v17)) + (float)(v19 * v19);
  v191 = &off_148AB5FA8;
  v21 = *((_DWORD *)a4 + 2);
  v184 = 0;
  v188 = v21;
  if ( v20.m128_f32[0] <= 9.9999997e-21 )
  {
    v143 = 1.0;
    _XMM0 = 0;
    v25 = 1.0;
  }
  else
  {
    _XMM0 = _mm_shuffle_ps(v20, v20, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v24 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v20.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
        * _XMM3.m128_f32[0];
    v25 = v19 * v24;
    v143 = v19 * v24;
    v27 = v18;
    v27.m128_f32[0] = v18.m128_f32[0] * v24;
    _XMM0 = v27;
  }
  __asm { vunpcklps xmm0, xmm0, xmm3 }
  v142 = *(double *)&_XMM0;
  v189 = *(double *)&_XMM0;
  v157 = 0;
  __asm { vmovupd [rbp+340h+var_340], xmm0 }
  v152 = xmmword_148149570;
  _XMM0 = 0;
  __asm { vmovupd [rbp+340h+var_2E0], xmm0 }
  *(float *)&v194[8] = 0.000001;
  *(float *)&v194[9] = 0.017453292;
  *(_DWORD *)(a5 + 0x10) = 0x501502F9;
  v30 = *((_DWORD *)a2 + 0x3D) == 5;
  v196 = ymmword_148769400;
  v190 = v25;
  v192 = v182;
  *(float *)&v194[0x11] = 1.0e10;
  v183 = 1.0;
  v158 = 0.0;
  v159 = 0.0;
  v149 = 0.0;
  v150 = 1.0;
  v151 = 0.0;
  v153 = 0.0;
  v154 = 0.0;
  v155 = 1.0;
  v160 = 0.0;
  v156 = 1.0;
  *(float *)&v194[7] = 100.0;
  *(float *)&v194[0xA] = 0.0;
  *(float *)&v194[1] = 0.0;
  *(float *)&v194[2] = 0.0;
  *(float *)&v194[3] = 0.0;
  *(float *)&v194[0xE] = 0.0;
  *(float *)&v194[0xF] = 0.0;
  *(float *)&v194[0x10] = 1.0;
  *(float *)&v194[0xB] = 0.0;
  *(float *)&v194[0xC] = 0.0;
  *(float *)&v194[0xD] = 0.0;
  *(float *)&v194[4] = 0.0;
  *(float *)&v194[5] = 0.0;
  *(float *)&v194[6] = 0.0;
  v195 = 1.999999999998e12;
  v197 = 1.999999999998e12;
  v193 = &v185;
  v162 = 0;
  v194[0] = 0;
  v203 = 0;
  v198 = 0;
  v199 = 0;
  v200 = 0;
  v201 = 0;
  v202 = 0;
  if ( v30 )
  {
    LODWORD(v123) = v13;
    __asm { vzeroupper }
    LODWORD(v120) = sub_14688CDE0((_DWORD)a2, (_DWORD)a3, (_DWORD)a4, a5, a6, v123, 0);
  }
  else
  {
    if ( a6 )
    {
      v31 = *(double *)(a6 + 0x18);
      v32 = *(float *)(a6 + 0x20);
      v33 = *(float *)(a6 + 0x24);
      v34 = *(float *)(a6 + 0x2C);
      v139 = *(_OWORD *)(a6 + 8);
      v125 = *(float *)(a6 + 0x28);
      v35 = *(float *)(a6 + 0x30);
      v128 = v32;
      v126 = v33;
      v127 = v34;
      v140 = v31;
      if ( (LODWORD(v35) & 0xFFA00000) != 0xFFA00000 )
        v129 = v35;
    }
    else
    {
      v36 = *((double *)a2 + 0x3A);
      v37 = *((float *)a2 + 0x76);
      v38 = *((float *)a2 + 0x77);
      v39 = *((float *)a2 + 0x79);
      v139 = *((_OWORD *)a2 + 0x1C);
      v125 = *((float *)a2 + 0x78);
      v128 = v37;
      v126 = v38;
      v127 = v39;
      v140 = v36;
    }
    v30 = (*((_BYTE *)a2 + 0x384) & 4) == 0;
    v40 = a3[2];
    v41 = a4[2];
    *((_QWORD *)&v136 + 1) = *(_QWORD *)a4;
    v135 = *(_OWORD *)a3;
    v137 = v41;
    *(double *)&v136 = v40;
    if ( v30 )
    {
      n3_1 = n3;
      v165 = 0;
      v164 = 1.0;
      v168 = 0.0;
      v167 = 0.0;
      v166 = 0.0;
      v163 = ymmword_148190000;
      if ( (n3 & 0xFFFFFFFFFFFFF800uLL) != 0 )
        v57 = *((_DWORD *)a2 + 0xA4);
      else
        v57 = a2[0x52] & (*((int *)a2 + 0xA5) >> 0x1F) | *((_DWORD *)a2 + 0xA5) & ~(*((int *)a2 + 0xA5) >> 0x1F);
      v58 = 0;
      v124 = 0;
      v141 = v57;
      if ( v57 > 0 )
      {
        v59 = 0;
        v133 = 0;
        v60 = 0;
        v132 = 0;
        v61 = 0;
        do
        {
          if ( (*(_QWORD *)(a2[0x48] + 8 * v59) & (((*(__int64 *)(a2[0x48] + 8 * v59) >> 0x12) & 1) - 1) & n3_1) != 0 )
          {
            v62 = a2[0x45];
            v63 = *(double *)(v62 + v61 + 0x18);
            v64 = *(double *)(v62 + v61);
            v65 = *(double *)(v62 + v61 + 0x20);
            v66 = *(double *)(v62 + v61 + 8);
            v67 = *(double *)(v62 + v61 + 0x28);
            v68 = *(double *)(v62 + v61 + 0x10);
            _XMM4 = COERCE_UNSIGNED_INT64(v63 - v64);
            _XMM5 = COERCE_UNSIGNED_INT64(v65 - v66);
            _XMM6 = COERCE_UNSIGNED_INT64(v67 - v68);
            if ( *(double *)&_XMM5 * *(double *)&_XMM5
               + *(double *)&_XMM4 * *(double *)&_XMM4
               + *(double *)&_XMM6 * *(double *)&_XMM6 == 0.0 )
              goto LABEL_48;
            __asm { vcvtsd2ss xmm0, xmm4, xmm4 }
            v169 = *(float *)&_XMM0 * 0.5;
            __asm { vcvtsd2ss xmm2, xmm5, xmm5 }
            v170 = *(float *)&_XMM2 * 0.5;
            __asm { vcvtsd2ss xmm1, xmm6, xmm6 }
            v171 = *(float *)&_XMM1 * 0.5;
            _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v135 - (v64 + v63) * 0.5);
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            v138[0] = *(float *)&_XMM0;
            _XMM2 = COERCE_UNSIGNED_INT64(*((double *)&v135 + 1) - (v66 + v65) * 0.5);
            __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
            v138[1] = *(float *)&_XMM1;
            _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v136 - (v68 + v67) * 0.5);
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            v138[2] = *(float *)&_XMM0;
            __asm { vzeroupper }
            if ( (unsigned int)sub_1466D6D00(&v163, &v135, 0, v138) )
            {
LABEL_48:
              v81 = a2[0x46];
              v82 = *(float *)(v81 + v60 + 0xC);
              v83 = *(float *)(v81 + v60 + 4);
              v84 = *(float *)(v81 + v60);
              v85 = *(float *)(v81 + v60 + 8);
              v86 = (float)(v127 * v82)
                  - (float)((float)((float)(v128 * v84) + (float)(v126 * v83)) + (float)(v125 * v85));
              v87 = (float)((float)(v126 * v85) - (float)(v125 * v83)) + (float)(v127 * v84);
              v88 = (float)(v128 * v82) + v87;
              v89 = (float)((float)(v125 * v84) - (float)(v128 * v85)) + (float)(v127 * v83);
              v90 = (float)(v126 * v82) + v89;
              v91 = (float)((float)(v128 * v83) - (float)(v126 * v84)) + (float)(v127 * v85);
              v92 = (float)((float)((float)(v128 + v128) * v82) + v87) + v87;
              v93 = (float)((float)((float)(v126 + v126) * v82) + v89) + v89;
              v94 = v93 * v88;
              v95 = v93 * v90;
              v96 = (float)((float)((float)(v125 + v125) * v82) + v91) + v91;
              v97 = v96 * v90;
              v98 = v93 * v86;
              v99 = (float)((float)(v125 * v82) + v91) * v96;
              *((float *)&v152 + 3) = v97 - (float)(v92 * v86);
              v154 = v97 + (float)(v92 * v86);
              v150 = (float)(1.0 - v95) - v99;
              v151 = v94 - (float)(v96 * v86);
              *(float *)&v152 = (float)(v96 * v88) + v98;
              *((float *)&v152 + 1) = (float)(v96 * v86) + v94;
              *((float *)&v152 + 2) = (float)(1.0 - (float)(v92 * v88)) - v99;
              v153 = (float)(v96 * v88) - v98;
              v155 = (float)(1.0 - (float)(v92 * v88)) - v95;
              v100 = *(float *)(v81 + v60 + 0x10);
              v101 = *(float *)(v81 + v60 + 0x18);
              v102 = *(float *)(v81 + v60 + 0x14);
              v103 = (float)((float)(v126 * v101) - (float)(v125 * v102)) + (float)(v127 * v100);
              v104 = (float)((float)(v125 * v100) - (float)(v128 * v101)) + (float)(v127 * v102);
              v105 = (float)((float)(v128 * v102) - (float)(v126 * v100)) + (float)(v127 * v101);
              *(double *)&v148 = (float)((float)((float)(v100 + (float)((float)(v126 * v105) - (float)(v125 * v104)))
                                               + (float)((float)(v126 * v105) - (float)(v125 * v104)))
                                       * v129)
                               + *(double *)&v139;
              *((double *)&v148 + 1) = (float)((float)((float)(v102
                                                             + (float)((float)(v125 * v103) - (float)(v128 * v105)))
                                                     + (float)((float)(v125 * v103) - (float)(v128 * v105)))
                                             * v129)
                                     + *((double *)&v139 + 1);
              v149 = (float)((float)((float)(v101 + (float)((float)(v128 * v104) - (float)(v126 * v103)))
                                   + (float)((float)(v128 * v104) - (float)(v126 * v103)))
                           * v129)
                   + v140;
              v106 = v129 * *(float *)(v81 + v60 + 0x1C);
              v107 = a2[0x47];
              v156 = v106;
              __asm { vzeroupper }
              v108 = (*(__int64 (__fastcall **)(_QWORD, _QWORD *, __int128 *, _QWORD, _DWORD *, char **, _DWORD))(***(_QWORD ***)(v107 + 8 * v59) + 0x50LL))(
                       **(_QWORD **)(v107 + 8 * v59),
                       v182,
                       &v148,
                       0,
                       v194,
                       &v130,
                       v131);
              v109 = v108;
              if ( v108 > 0 )
              {
                v110 = v130;
                v111 = v108;
                v112 = (float *)&v130[0xC0 * v108 + 0xFFFFFFA8LL];
                do
                {
                  if ( *(float *)(a5 + 0x10) >= *((double *)v112 + 0xFFFFFFF3)
                    && (float)((float)((float)(v112[0xFFFFFFFF] * a4[1]) + (float)(v112[0xFFFFFFFE] * *a4))
                             + (float)(*v112 * a4[2])) <= 0.0 )
                  {
                    break;
                  }
                  --v109;
                  --v111;
                  v112 += 0xFFFFFFD0;
                }
                while ( v111 > 0 );
                if ( v109 > 0 )
                {
                  v113 = 0xC0LL * v109;
                  _XMM0 = *(unsigned __int64 *)&v130[v113 - 0xC0];
                  *(_QWORD *)a5 = a2;
                  *(_DWORD *)(a5 + 0x14) = v124;
                  __asm { vcvtpd2ps xmm0, xmm0 }
                  *(float *)(a5 + 0x10) = *(float *)&_XMM0;
                  *(_DWORD *)(a5 + 0x18) = *(_DWORD *)(a2[0x4A] + 4 * v59);
                  v116 = sub_146703440(a2, *(unsigned int *)&v110[v113 - 0x3C], v124);
                  v117 = v133;
                  *(_WORD *)(a5 + 0x1C) = v116;
                  *(_WORD *)(a5 + 0x1E) = *(_DWORD *)&v110[v113 - 0x3C]
                                        + ((*(int *)&v110[v113 - 0x3C] >> 0x1F)
                                         & (((__int16)(*(_DWORD *)(a2[0x4E] + v117 + 0x10) >> 2) >> 6) + 1));
                  v118 = **(_QWORD **)(a2[0x47] + 8 * v59);
                  *(_DWORD *)(a5 + 0x20) = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v118 + 0xB0LL))(
                                             v118,
                                             *(unsigned int *)&v110[v113 - 0x34]);
                  v119 = v130;
                  *(_OWORD *)(a5 + 0x30) = *(_OWORD *)&v130[v113 - 0x90];
                  *(double *)(a5 + 0x40) = *(double *)&v119[v113 - 0x80];
                  *(double *)(a5 + 0x48) = *(double *)&v119[v113 - 0x60];
                  LODWORD(v119) = *(_DWORD *)&v119[v113 - 0x58];
                  v58 = v124;
                  *(_DWORD *)(a5 + 0x50) = (_DWORD)v119;
                }
                v60 = v132;
              }
            }
            n3_1 = n3;
          }
          v133 += 0x18;
          ++v58;
          v60 += 0x20;
          v124 = v58;
          ++v59;
          v132 = v60;
          v61 += 0x30;
        }
        while ( v59 < v141 );
        v14 = v134;
      }
    }
    else
    {
      __asm { vzeroupper }
      sub_14663CBB0((__int64)v172);
      v175[1] = v136;
      v172[0] = &off_148AB6090;
      v42 = (__m128)DWORD2(v136);
      v179 = &off_148AB5FA8;
      v175[0] = v135;
      v42.m128_f32[0] = (float)((float)(v42.m128_f32[0] * v42.m128_f32[0])
                              + (float)(*((float *)&v136 + 3) * *((float *)&v136 + 3)))
                      + (float)(v137 * v137);
      v174 = 0;
      v176 = v137;
      if ( v42.m128_f32[0] <= 9.9999997e-21 )
      {
        v145 = 1.0;
        v46 = 1.0;
      }
      else
      {
        _XMM0 = _mm_shuffle_ps(v42, v42, 0);
        __asm { vrsqrtps xmm3, xmm0 }
        _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
        v45 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v42.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
            * _XMM3.m128_f32[0];
        v46 = v137 * v45;
        v145 = v137 * v45;
        v47 = DWORD2(v136);
        *(float *)&v47 = *((float *)&v136 + 2) * v45;
        _XMM6 = v47;
      }
      __asm { vunpcklps xmm0, xmm6, xmm0 }
      v180 = v172;
      v181 = v175;
      v146 = v172;
      v147 = (char *)&unk_151457850;
      v49 = *a2;
      v178 = v46;
      v173 = 1.0;
      v144 = *(double *)&_XMM0;
      v177 = *(double *)&_XMM0;
      v50 = (*(__int64 (__fastcall **)(__int64 *, _QWORD **))(v49 + 0x278))(a2, &v146);
      v51 = v147;
      v130 = v147;
      if ( v50 > 0 )
      {
        *(_DWORD *)(a5 + 0x14) = 0;
        v52 = 0xC0LL * v50;
        _XMM0 = *(unsigned __int64 *)&v51[v52 - 0xC0];
        *(_QWORD *)a5 = a2;
        __asm { vcvtpd2ps xmm0, xmm0 }
        *(float *)(a5 + 0x10) = *(float *)&_XMM0;
        *(_DWORD *)(a5 + 0x18) = *(_DWORD *)a2[0x4A];
        *(_WORD *)(a5 + 0x1C) = sub_146703440(a2, *(unsigned int *)&v51[v52 - 0x3C], 0);
        *(_WORD *)(a5 + 0x1E) = *(_DWORD *)&v51[v52 - 0x3C]
                              + ((*(int *)&v51[v52 - 0x3C] >> 0x1F)
                               & (((__int16)(*(_DWORD *)(a2[0x4E] + 0x10) >> 2) >> 6) + 1));
        *(_DWORD *)(a5 + 0x20) = (*(__int64 (__fastcall **)(_QWORD, _QWORD))(***(_QWORD ***)a2[0x47] + 0xB0LL))(
                                   **(_QWORD **)a2[0x47],
                                   *(unsigned int *)&v51[v52 - 0x34]);
        v55 = v130;
        *(_OWORD *)(a5 + 0x30) = *(_OWORD *)&v130[v52 - 0x90];
        *(double *)(a5 + 0x40) = *(double *)&v55[v52 - 0x80];
        *(double *)(a5 + 0x48) = *(double *)&v55[v52 - 0x60];
        *(_DWORD *)(a5 + 0x50) = *(_DWORD *)&v55[v52 - 0x58];
      }
      v179 = &off_148AB5C58;
      sub_14663E090((__int64)v172);
    }
    v134 = *(float *)(a5 + 0x10) - 1000000000.0;
    v120 = *(_QWORD *)&v134 >> 0x3F;
  }
  v191 = &off_148AB5C58;
  __asm { vzeroupper }
  sub_14663E090((__int64)v182);
  if ( v14 != 0.0 )
  {
    n0x200000 = _InterlockedCompareExchange64(*(volatile signed __int64 **)&v14, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(*(volatile signed __int64 **)&v14, n0x200000);
  }
  return (unsigned int)v120;
}

// --- End Function: CPhysicalWorld::RayTraceEntity (0x14692ECD0) ---

// --- Function: CPhysicalWorld::RegisterForDetachContacts (0x146930110) ---
void __fastcall CPhysicalWorld::RegisterForDetachContacts(__int64 a1, __int64 __Val_0___1)
{
  __int64 n0x1E; // rdi
  volatile signed __int64 *v4; // rbx
  __int64 v5; // rax
  const vraudio::AudioBuffer **_Whereptr; // rdx
  __int64 v7; // rcx
  unsigned __int64 n0x200000; // rax
  vraudio::AudioBuffer *__Val_0__; // [rsp+58h] [rbp+10h] BYREF

  __Val_0__ = (vraudio::AudioBuffer *)__Val_0___1;
  if ( *(int *)(__Val_0___1 + 0xE8) >= 0
    && !_InterlockedCompareExchange16((volatile signed __int16 *)(__Val_0___1 + 0x8E4), 1, 0) )
  {
    n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    v4 = (volatile signed __int64 *)(a1 + 0x865E0 + 8 * n0x1E);
    if ( (_DWORD)n0x1E == 0x1E )
    {
      v5 = _InterlockedCompareExchange64(v4, 0x200000, 0);
      if ( v5 )
        sub_1403DE750(
          a1 + 0x865E0 + 8 * n0x1E,
          v5,
          0,
          (__int64)"CPhysicalWorld::RegisterForDetachContacts",
          (__int64)"m_lockDetachList[iCaller]",
          1);
    }
    _Whereptr = *(const vraudio::AudioBuffer ***)(a1 + 0x18 * (n0x1E + 0x5956) + 8);
    v7 = a1 + 0x18 * (n0x1E + 0x5956);
    if ( _Whereptr == *(const vraudio::AudioBuffer ***)(v7 + 0x10) )
    {
      std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        (std::vector<vraudio::AudioBuffer const *> *)v7,
        _Whereptr,
        &__Val_0__);
    }
    else
    {
      *_Whereptr = __Val_0__;
      *(_QWORD *)(v7 + 8) += 8LL;
    }
    if ( v4 && (_DWORD)n0x1E == 0x1E )
    {
      n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x865E0 + 8 * n0x1E), n0x200000);
    }
  }
}

// --- End Function: CPhysicalWorld::RegisterForDetachContacts (0x146930110) ---

// --- Function: CPhysicalWorld::RegisterForNetworkedStateUpdate (0x146930240) ---
unsigned __int64 __fastcall CPhysicalWorld::RegisterForNetworkedStateUpdate(__int64 a1, __int64 a2)
{
  volatile signed __int64 *v3; // rbx
  __int64 v5; // rax
  __int64 v6; // r9
  int v7; // eax
  unsigned __int64 n0x200000; // rax
  __int64 v9; // rdx

  v3 = (volatile signed __int64 *)(a1 + 0x660);
  v5 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x660), 0x200000, 0);
  if ( v5 )
    sub_1403DE750(
      a1 + 0x660,
      v5,
      0,
      (__int64)"CPhysicalWorld::RegisterForNetworkedStateUpdate",
      (__int64)"m_networked_rigids_list_lock",
      1);
  v6 = a2 + 0x950;
  if ( *(_QWORD *)(a2 + 0x958) != a2 + 0x950 || (v7 = 1, *(_QWORD *)v6 != v6) )
    v7 = 0;
  *(_DWORD *)(a1 + 0x6B8) += v7;
  n0x200000 = *(_QWORD *)(a2 + 0x958);
  *(_QWORD *)(*(_QWORD *)v6 + 8LL) = n0x200000;
  **(_QWORD **)(a2 + 0x958) = *(_QWORD *)(a2 + 0x950);
  *(_QWORD *)(a2 + 0x958) = a2 + 0x950;
  *(_QWORD *)v6 = v6;
  v9 = *(_QWORD *)(a1 + 0x690);
  *(_QWORD *)(v9 + 8) = v6;
  *(_QWORD *)v6 = v9;
  *(_QWORD *)(a2 + 0x958) = a1 + 0x690;
  *(_QWORD *)(a1 + 0x690) = v6;
  if ( v3 )
  {
    n0x200000 = _InterlockedCompareExchange64(v3, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v3, n0x200000);
  }
  return n0x200000;
}

// --- End Function: CPhysicalWorld::RegisterForNetworkedStateUpdate (0x146930240) ---

// --- Function: CPhysicalWorld::RegisterForRecompute (0x146930530) ---
void __fastcall CPhysicalWorld::RegisterForRecompute(__int64 a1, __int64 a2)
{
  __int64 n0x1E; // rdi
  volatile signed __int64 *v4; // rbx
  __int64 v5; // rax
  _QWORD *v6; // rdx
  __int64 v7; // rcx
  unsigned __int64 n0x200000; // rax

  if ( *(int *)(a2 + 0xE8) >= 0 && !_InterlockedCompareExchange16((volatile signed __int16 *)(a2 + 0x108), 1, 0) )
  {
    n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    v4 = (volatile signed __int64 *)(a1 + 0x862F8 + 8 * n0x1E);
    if ( (_DWORD)n0x1E == 0x1E )
    {
      v5 = _InterlockedCompareExchange64(v4, 0x200000, 0);
      if ( v5 )
        sub_1403DE750(
          a1 + 0x862F8 + 8 * n0x1E,
          v5,
          0,
          (__int64)"CPhysicalWorld::RegisterForRecompute",
          (__int64)"m_lockRecomputeList[iCaller]",
          1);
    }
    v6 = *(_QWORD **)(a1 + 0x18 * (n0x1E + 0x589C) + 8);
    v7 = a1 + 0x18 * (n0x1E + 0x589C);
    if ( v6 == *(_QWORD **)(v7 + 0x10) )
    {
      sub_1402A9170((std::allocator<std::array<int,2> > *)v7, v6);
    }
    else
    {
      *v6 = a2;
      *(_QWORD *)(v7 + 8) += 8LL;
    }
    if ( v4 && (_DWORD)n0x1E == 0x1E )
    {
      n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x862F8 + 8 * n0x1E), n0x200000);
    }
  }
}

// --- End Function: CPhysicalWorld::RegisterForRecompute (0x146930530) ---

// --- Function: sub_146933C00 (0x146933C00) ---
__int64 __fastcall sub_146933C00(__int64 a1, __int64 a2, int a3, int a4)
{
  int v7; // esi

  v7 = a1;
  if ( *(_DWORD *)(a1 + 0x438) )
  {
    _InterlockedOr16((volatile signed __int16 *)(a2 + 0x100), a3);
    return CPhysicalWorld::RegisterForReposition(a1, a2);
  }
  else
  {
    if ( (a3 & 0x40) != 0 )
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)a2 + 0x260LL))(
        a2,
        (unsigned int)((*(_DWORD *)(a2 + 0x208) & 0x400) != 0) + 1);
    if ( (a3 & 0x80u) != 0 )
      CRigidEntity::DetachAllContacts(a2);
    return CPhysicalWorld::RepositionEntityInternal(v7, a2, a3, a4, 0, 0);
  }
}

// --- End Function: sub_146933C00 (0x146933C00) ---

// --- Function: CPhysicalWorld::UnregisterForNetworkedStateUpdate (0x14694B330) ---
unsigned __int64 __fastcall CPhysicalWorld::UnregisterForNetworkedStateUpdate(__int64 a1, Parameter *Parameter)
{
  volatile signed __int64 *v3; // rbx
  __int64 v5; // rax
  unsigned __int64 n0x200000; // rax
  int v7; // ecx

  v3 = (volatile signed __int64 *)(a1 + 0x660);
  v5 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x660), 0x200000, 0);
  if ( v5 )
    sub_1403DE750(
      a1 + 0x660,
      v5,
      0,
      (__int64)"CPhysicalWorld::UnregisterForNetworkedStateUpdate",
      (__int64)"m_networked_rigids_list_lock",
      1);
  n0x200000 = (unsigned __int64)Parameter + 0x950;
  if ( *((Parameter **)Parameter + 0x12B) != (Parameter *)((char *)Parameter + 0x950)
    || (v7 = 0, *(_QWORD *)n0x200000 != n0x200000) )
  {
    v7 = 1;
  }
  *(_DWORD *)(a1 + 0x6B8) -= v7;
  *(_QWORD *)(*(_QWORD *)n0x200000 + 8LL) = *((_QWORD *)Parameter + 0x12B);
  **((_QWORD **)Parameter + 0x12B) = *(_QWORD *)n0x200000;
  *((_QWORD *)Parameter + 0x12B) = (char *)Parameter + 0x950;
  *(_QWORD *)n0x200000 = n0x200000;
  if ( v3 )
  {
    n0x200000 = _InterlockedCompareExchange64(v3, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v3, n0x200000);
  }
  return n0x200000;
}

// --- End Function: CPhysicalWorld::UnregisterForNetworkedStateUpdate (0x14694B330) ---

// --- Function: unknown_libname_247 (0x147F60000) ---
// Microsoft VisualC v14 64bit runtime
const __m128i *__fastcall unknown_libname_247(const __m128i *a1, const __m128i *a2, unsigned __int64 a3)
{
  signed __int64 v3; // r9
  unsigned __int64 v5; // rdx
  const __m128i *v10; // rdx
  unsigned __int64 v13; // r9
  const __m128i *v14; // rdx
  __m128i v15; // xmm1
  __int64 v16; // rax

  v3 = (char *)a2 - (char *)a1;
  v5 = ((char *)a2 - (char *)a1) & 0xFFFFFFFFFFFFFFE0uLL;
  if ( v5 && (dword_1499D6F14 & 0x20) != 0 )
  {
    _XMM2 = a3;
    _YMM2 = (__m256i)a3;
    __asm
    {
      vpunpcklqdq xmm2, xmm2, xmm2
      vinsertf128 ymm2, ymm2, xmm2, 1
    }
    v10 = (const __m128i *)((char *)a1 + v5);
    while ( 1 )
    {
      __asm
      {
        vpcmpeqq ymm1, ymm2, ymmword ptr [rcx]
        vpmovmskb eax, ymm1
      }
      if ( _EAX )
        break;
      a1 += 2;
      if ( a1 == v10 )
      {
        v3 &= 0x1Fu;
        __asm { vzeroupper }
        goto LABEL_7;
      }
    }
    __asm
    {
      vzeroupper
      tzcnt   eax, eax
    }
    return (const __m128i *)((char *)a1 + _EAX);
  }
  else
  {
LABEL_7:
    v13 = v3 & 0xFFFFFFFFFFFFFFF0uLL;
    if ( v13 && (dword_1499D6F14 & 4) != 0 )
    {
      v14 = (const __m128i *)((char *)a1 + v13);
      v15 = _mm_unpacklo_epi64((__m128i)a3, (__m128i)a3);
      while ( 1 )
      {
        LODWORD(v16) = _mm_movemask_epi8(_mm_cmpeq_epi64(_mm_loadu_si128(a1), v15));
        if ( (_DWORD)v16 )
          break;
        if ( ++a1 == v14 )
          goto LABEL_12;
      }
      _BitScanForward((unsigned int *)&v16, v16);
      return (const __m128i *)((char *)a1 + v16);
    }
    else
    {
LABEL_12:
      while ( a1 != a2 )
      {
        if ( a1->m128i_i64[0] == a3 )
          break;
        a1 = (const __m128i *)((char *)a1 + 8);
      }
      return a1;
    }
  }
}

// --- End Function: unknown_libname_247 (0x147F60000) ---

// --- Function: __alloca_probe (0x147F61460) ---
unsigned __int64 __fastcall _alloca_probe()
{
  unsigned __int64 result; // rax
  char *StackLimit_1; // r10
  char *StackLimit; // r11
  char v3; // [rsp+18h] [rbp+8h] BYREF

  StackLimit_1 = &v3 - result;
  if ( (unsigned __int64)&v3 < result )
    StackLimit_1 = 0;
  StackLimit = (char *)NtCurrentTeb()->NtTib.StackLimit;
  if ( StackLimit_1 < StackLimit )
  {
    LOWORD(StackLimit_1) = (unsigned __int16)StackLimit_1 & 0xF000;
    do
    {
      StackLimit += 0xFFFFF000;
      *StackLimit = 0;
    }
    while ( StackLimit_1 != StackLimit );
  }
  return result;
}

// --- End Function: __alloca_probe (0x147F61460) ---

// --- Function: __libm_sse2_sincosf_ (0x147F619D0) ---
// local variable allocation has failed, the output may be wrong!
__m128 __fastcall _libm_sse2_sincosf_(double a1, __int64 a2, double a3)
{
  __m128 v3; // xmm2

  *(float *)&a3 = *(float *)&a1;
  v3 = (__m128)_mm_and_si128(*(__m128i *)&a3, (__m128i)xmmword_14920AE30);
  if ( v3.m128_f32[0] >= 0.00012207031 )
    JUMPOUT(0x147F619B0LL);
  return _mm_unpacklo_ps(
           *(__m128 *)&a1,
           _mm_sub_ps((__m128)0x3F800000u, _mm_mul_ps(_mm_mul_ps(v3, v3), (__m128)xmmword_14920AE50)));
}

// --- End Function: __libm_sse2_sincosf_ (0x147F619D0) ---

// --- Function: memset (0x147FAFEF7) ---
// attributes: thunk
void *__cdecl memset(void *a1, int Val, size_t Size)
{
  return __imp_memset(a1, Val, Size);
}

// --- End Function: memset (0x147FAFEF7) ---

// --- Function: atan2f (0x147FAFFED) ---
// attributes: thunk
float __cdecl atan2f(float Y, float X)
{
  return __imp_atan2f(Y, X);
}

// --- End Function: atan2f (0x147FAFFED) ---

// --- Function: sinf (0x147FB0005) ---
// attributes: thunk
float __cdecl sinf(float X)
{
  return __imp_sinf(X);
}

// --- End Function: sinf (0x147FB0005) ---

// --- Function: acosf (0x147FB003B) ---
// attributes: thunk
float __cdecl acosf(float X)
{
  return __imp_acosf(X);
}

// --- End Function: acosf (0x147FB003B) ---

