// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Function: 0x1468B88B0 (sub_1468B88B0)
// Caller Depth: 1
// Callee/Ref Depth: 2
// Total Functions Found: 15
// ------------------------------------------------------------

// --- Function: sub_1402A6B30 (0x1402A6B30) ---
char *__fastcall sub_1402A6B30(__int64 a1, _BYTE *a2, _QWORD *a3)
{
  __int64 v4; // rbp
  unsigned __int64 _Count; // rdi
  __int64 v6; // rax
  unsigned __int64 v9; // rcx
  unsigned __int64 v10; // r14
  unsigned __int64 v11; // rdx
  std::array<int,2> *v12; // rsi
  std::array<int,2> *v13; // rcx
  _BYTE *v14; // r8
  _BYTE *v15; // rdx
  char *v16; // rbp
  size_t Size; // r8
  _QWORD *v18; // rcx
  char *result; // rax

  v4 = (__int64)&a2[-*(_QWORD *)a1] >> 3;
  _Count = 0x1FFFFFFFFFFFFFFFLL;
  v6 = (__int64)(*(_QWORD *)(a1 + 8) - *(_QWORD *)a1) >> 3;
  if ( v6 == 0x1FFFFFFFFFFFFFFFLL )
    unknown_libname_10();
  v9 = (__int64)(*(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1) >> 3;
  v10 = v6 + 1;
  v11 = v9 >> 1;
  if ( v9 <= 0x1FFFFFFFFFFFFFFFLL - (v9 >> 1) )
  {
    _Count = v11 + v9;
    if ( v11 + v9 < v10 )
      _Count = v6 + 1;
  }
  v12 = std::allocator<std::array<int,2>>::allocate((std::allocator<std::array<int,2> > *)a1, _Count);
  *((_QWORD *)v12 + v4) = *a3;
  v13 = v12;
  v14 = *(_BYTE **)(a1 + 8);
  v15 = *(_BYTE **)a1;
  v16 = (char *)v12 + 8 * v4;
  if ( a2 == v14 )
  {
    Size = v14 - v15;
  }
  else
  {
    memmove(v12, v15, a2 - v15);
    v13 = (std::array<int,2> *)(v16 + 8);
    Size = *(_QWORD *)(a1 + 8) - (_QWORD)a2;
    v15 = a2;
  }
  memmove(v13, v15, Size);
  v18 = *(_QWORD **)a1;
  if ( *(_QWORD *)a1 )
  {
    if ( ((*(_QWORD *)(a1 + 0x10) - (_QWORD)v18) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)v18 - v18[0xFFFFFFFF] - 8 > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v18 = (_QWORD *)v18[0xFFFFFFFF];
    }
    sub_1402A3D30(v18);
  }
  *(_QWORD *)a1 = v12;
  result = v16;
  *(_QWORD *)(a1 + 8) = (char *)v12 + 8 * v10;
  *(_QWORD *)(a1 + 0x10) = (char *)v12 + 8 * _Count;
  return result;
}

// --- End Function: sub_1402A6B30 (0x1402A6B30) ---

// --- Function: NtCurrentTeb_w (0x1402C6400) ---
__int64 NtCurrentTeb_w()
{
  return *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 784LL;
}

// --- End Function: NtCurrentTeb_w (0x1402C6400) ---

// --- Function: sub_1403DCD60 (0x1403DCD60) ---
signed __int64 __fastcall sub_1403DCD60(
        __int64 a1,
        unsigned __int64 a2,
        __int64 a3,
        const char *a4,
        const char *a5,
        char a6)
{
  if ( a6 && *(_BYTE *)(NtCurrentTeb_w() + 0x1C) && qword_149B4FDB8 )
    return sub_1403DCDF0(a1, a2, a3, a4, a5);
  else
    return sub_1403DD0B0(a1, a2, a3, a4, a5);
}

// --- End Function: sub_1403DCD60 (0x1403DCD60) ---

// --- Function: sub_1403DCDF0 (0x1403DCDF0) ---
__int64 __fastcall sub_1403DCDF0(__int64 a1, unsigned __int64 a2, __int64 a3, const char *a4, const char *a5)
{
  __int64 v5; // r15
  __int64 v9; // rax
  __int64 v10; // rsi
  unsigned int v11; // r14d
  const char *v12; // r13
  bool v13; // zf
  signed __int64 v14; // rax
  __int64 result; // rax
  unsigned __int64 v16; // rdx
  signed __int64 v17; // rax
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source; // rdx
  signed __int64 v19; // rax
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source_1; // rdx
  int n0x1600; // [rsp+30h] [rbp-91h] BYREF
  __int64 v22; // [rsp+34h] [rbp-8Dh]
  int n2; // [rsp+3Ch] [rbp-85h]
  unsigned __int64 v24; // [rsp+40h] [rbp-81h]
  unsigned __int64 v25; // [rsp+48h] [rbp-79h]
  __int64 v26; // [rsp+50h] [rbp-71h]
  __int64 v27; // [rsp+58h] [rbp-69h]
  int n0x1600_1; // [rsp+80h] [rbp-41h] BYREF
  __int64 v29; // [rsp+84h] [rbp-3Dh]
  int n2_1; // [rsp+8Ch] [rbp-35h]
  unsigned __int64 v31; // [rsp+90h] [rbp-31h]
  unsigned __int64 v32; // [rsp+98h] [rbp-29h]
  __int64 v33; // [rsp+A0h] [rbp-21h]
  __int64 v34; // [rsp+A8h] [rbp-19h]
  _BYTE v35[64]; // [rsp+D0h] [rbp+Fh] BYREF
  char v36; // [rsp+120h] [rbp+5Fh] BYREF
  __int64 v37; // [rsp+130h] [rbp+6Fh]

  v37 = a3;
  v5 = qword_149B4FCF8;
  v9 = NtCurrentTeb_w();
  v10 = *(_QWORD *)v9;
  v11 = *(_DWORD *)(*(_QWORD *)v9 + 0x11CLL);
  (*(void (__fastcall **)(__int64, _BYTE *, char *))(*(_QWORD *)v5 + 0xF8LL))(v5, v35, &v36);
  v12 = a5;
  do
  {
    while ( (a2 & 0x2003FF) != 0 )
    {
      v16 = (unsigned __int64)v11 << 0x30;
      if ( (a2 & 0xFFFF000000000000uLL) != 0 )
      {
        *(_DWORD *)(v10 + 0x124) = HIWORD(a2);
        v17 = _InterlockedCompareExchange64((volatile signed __int64 *)a1, v16 | a2 & 0xFFFFFFFFFFFFLL, a2);
        v13 = a2 == v17;
        a2 = v17;
        if ( v13 )
        {
          n0x1600 = 0x1600;
          v22 = 1;
          n2 = 2;
          v25 = 0;
          v26 = 0;
          v27 = 0;
          v24 = __rdtsc();
          qword_149B4B870(
            &n0x1600,
            &word_149B3E394,
            "Wait For WLock",
            "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryCommon\\Multithreading/CigRWLock.cpp",
            0x18D);
          HIWORD(n0x1600) = word_149B3E394;
          qword_149B4B8B0("Lock: %s", v12);
          p_p_p_p_p_p_p_p_p_p_p_p_Source = &p_p_p_p_p_p_p_p_p_p_p_Source;
          if ( *(_QWORD *)(a1 + 8) )
            p_p_p_p_p_p_p_p_p_p_p_p_Source = *(const ULONG_PTR **)(a1 + 8);
          qword_149B4B8B0("LockOwner: %s", p_p_p_p_p_p_p_p_p_p_p_p_Source);
          qword_149B4B8B0("Caller: %s", a4);
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v5 + 0xE8LL))(v5, v11);
          a2 = *(_QWORD *)a1;
          v11 = *(_DWORD *)(v10 + 0x11C);
          v25 = __rdtsc();
          qword_149B4B878(&n0x1600);
        }
      }
      else
      {
        *(_DWORD *)(v10 + 0x124) = 0xFFFFFFFF;
        v19 = _InterlockedCompareExchange64((volatile signed __int64 *)a1, a2 | v16, a2);
        v13 = a2 == v19;
        a2 = v19;
        if ( v13 )
        {
          n0x1600_1 = 0x1600;
          v29 = 1;
          n2_1 = 2;
          v32 = 0;
          v33 = 0;
          v34 = 0;
          v31 = __rdtsc();
          qword_149B4B870(
            &n0x1600_1,
            &word_149B3E398,
            "Wait For WLock",
            "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryCommon\\Multithreading/CigRWLock.cpp",
            0x1AE);
          HIWORD(n0x1600_1) = word_149B3E398;
          qword_149B4B8B0("Lock: %s", v12);
          p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = &p_p_p_p_p_p_p_p_p_p_p_Source;
          if ( *(_QWORD *)(a1 + 8) )
            p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = *(const ULONG_PTR **)(a1 + 8);
          qword_149B4B8B0("LockOwner: %s", p_p_p_p_p_p_p_p_p_p_p_p_Source_1);
          qword_149B4B8B0("Caller: %s", a4);
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v5 + 0xE8LL))(v5, v11);
          a2 = *(_QWORD *)a1;
          v11 = *(_DWORD *)(v10 + 0x11C);
          v32 = __rdtsc();
          qword_149B4B878(&n0x1600_1);
        }
      }
    }
    v14 = _InterlockedCompareExchange64((volatile signed __int64 *)a1, a2 | 0x200000, a2);
    v13 = a2 == v14;
    a2 = v14;
  }
  while ( !v13 );
  result = v37;
  *(_QWORD *)(a1 + 8) = v37;
  return result;
}

// --- End Function: sub_1403DCDF0 (0x1403DCDF0) ---

// --- Function: sub_1403DD0B0 (0x1403DD0B0) ---
signed __int64 __fastcall sub_1403DD0B0(__int64 a1, signed __int64 a2, __int64 a3, const char *a4, const char *a5)
{
  char v5; // r14
  signed __int64 v9; // rcx
  bool v10; // zf
  signed __int64 result; // rax
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source; // rdx
  int v13; // esi
  signed __int64 v14; // rax
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source_1; // rdx
  int v16; // [rsp+38h] [rbp-81h] BYREF
  _DWORD v17[3]; // [rsp+3Ch] [rbp-7Dh] BYREF
  int n0x1600; // [rsp+48h] [rbp-71h] BYREF
  __int64 v19; // [rsp+4Ch] [rbp-6Dh]
  int n2; // [rsp+54h] [rbp-65h]
  unsigned __int64 v21; // [rsp+58h] [rbp-61h]
  unsigned __int64 v22; // [rsp+60h] [rbp-59h]
  __int64 v23; // [rsp+68h] [rbp-51h]
  __int64 v24; // [rsp+70h] [rbp-49h]
  int n0x1600_1; // [rsp+98h] [rbp-21h] BYREF
  __int64 v26; // [rsp+9Ch] [rbp-1Dh]
  int n2_1; // [rsp+A4h] [rbp-15h]
  unsigned __int64 v28; // [rsp+A8h] [rbp-11h]
  unsigned __int64 v29; // [rsp+B0h] [rbp-9h]
  __int64 v30; // [rsp+B8h] [rbp-1h]
  __int64 v31; // [rsp+C0h] [rbp+7h]

  v5 = 0;
  do
  {
    while ( 1 )
    {
      if ( (a2 & 0xFFC00) != 0 )
        (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FCF8 + 0x128LL))(qword_149B4FCF8, a1);
      if ( (a2 & 0x2003FF) == 0 )
        break;
      if ( v5 )
      {
        n0x1600 = 0x1600;
        v19 = 1;
        n2 = 2;
        v22 = 0;
        v23 = 0;
        v24 = 0;
        v21 = __rdtsc();
        qword_149B4B870(
          &n0x1600,
          &word_149B3E38C,
          "Wait For WLock",
          "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryCommon\\Multithreading/CigRWLock.cpp",
          0x143);
        HIWORD(n0x1600) = word_149B3E38C;
        qword_149B4B8B0("Lock: %s", a5);
        p_p_p_p_p_p_p_p_p_p_p_p_Source = &p_p_p_p_p_p_p_p_p_p_p_Source;
        if ( *(_QWORD *)(a1 + 8) )
          p_p_p_p_p_p_p_p_p_p_p_p_Source = *(const ULONG_PTR **)(a1 + 8);
        qword_149B4B8B0("LockOwner: %s", p_p_p_p_p_p_p_p_p_p_p_p_Source);
        qword_149B4B8B0("Caller: %s", a4);
        v16 = a2;
        qword_149B3B480(a1, &v16, 4, 0xFFFFFFFFLL);
        a2 = *(_QWORD *)a1;
        v22 = __rdtsc();
        qword_149B4B878(&n0x1600);
      }
      else
      {
        v13 = a2 + 0x400000;
        v14 = _InterlockedCompareExchange64((volatile signed __int64 *)a1, a2 + 0x400000, a2);
        v10 = a2 == v14;
        a2 = v14;
        if ( v10 )
        {
          v5 = 1;
          n0x1600_1 = 0x1600;
          v26 = 1;
          n2_1 = 2;
          v29 = 0;
          v30 = 0;
          v31 = 0;
          v28 = __rdtsc();
          qword_149B4B870(
            &n0x1600_1,
            &word_149B3E390,
            "Wait For WLock",
            "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryCommon\\Multithreading/CigRWLock.cpp",
            0x15D);
          HIWORD(n0x1600_1) = word_149B3E390;
          qword_149B4B8B0("Lock: %s", a5);
          p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = &p_p_p_p_p_p_p_p_p_p_p_Source;
          if ( *(_QWORD *)(a1 + 8) )
            p_p_p_p_p_p_p_p_p_p_p_p_Source_1 = *(const ULONG_PTR **)(a1 + 8);
          qword_149B4B8B0("LockOwner: %s", p_p_p_p_p_p_p_p_p_p_p_p_Source_1);
          qword_149B4B8B0("Caller: %s", a4);
          v17[0] = v13;
          qword_149B3B480(a1, v17, 4, 0xFFFFFFFFLL);
          a2 = *(_QWORD *)a1;
          v29 = __rdtsc();
          qword_149B4B878(&n0x1600_1);
        }
      }
    }
    v9 = (a2 | 0x200000) - 0x400000;
    if ( !v5 )
      v9 = a2 | 0x200000;
    result = _InterlockedCompareExchange64((volatile signed __int64 *)a1, v9, a2);
    v10 = a2 == result;
    a2 = result;
  }
  while ( !v10 );
  *(_QWORD *)(a1 + 8) = a3;
  return result;
}

// --- End Function: sub_1403DD0B0 (0x1403DD0B0) ---

// --- Function: sub_1403DD380 (0x1403DD380) ---
const ULONG_PTR *__fastcall sub_1403DD380(__int64 a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdi
  unsigned int v5; // edx
  signed __int64 v6; // rax
  __int64 v7; // rdi
  __int64 v8; // r8
  int v9; // ecx
  __int64 v10; // r8
  unsigned __int64 v11; // rbx
  const ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source; // rax
  int v13; // [rsp+70h] [rbp+8h] BYREF
  int v14; // [rsp+78h] [rbp+10h] BYREF
  __int64 v15; // [rsp+80h] [rbp+18h] BYREF
  __int64 v16; // [rsp+88h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFFFFD003FFuLL;
    if ( (a2 & 0xFFFF00100000LL) != 0 )
    {
      v4 = a2 & 0xFFFF0000FFC003FFuLL;
    }
    else if ( (a2 & 0xFFC003FF) == 0 && (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149B4FCF8 + 0xF8LL))(
        qword_149B4FCF8,
        &v16,
        &v14);
      v4 = a2 & 0xFFFFFFD003FFLL;
      v5 = *(_DWORD *)(((HIWORD(a2) & (unsigned int)(v14 - 1)) << 9) + v16 + 0x124);
      if ( v5 != 0xFFFFFFFF )
        v4 |= (unsigned __int64)v5 << 0x30;
    }
    v6 = _InterlockedCompareExchange64((volatile signed __int64 *)a1, v4, a2);
    if ( a2 == v6 )
      break;
    a2 = v6;
  }
  if ( (a2 & 0x3FF) != 0 )
  {
    if ( (a2 & 0x100000) != 0 )
      qword_149B3B490(a1);
    if ( (a2 & 0xFFFF00000000LL) != 0 )
    {
      v7 = qword_149B4FCF8;
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149B4FCF8 + 0xF8LL))(
        qword_149B4FCF8,
        &v15,
        &v13);
      v8 = v15 + ((WORD2(a2) & (unsigned __int64)(unsigned int)(v13 - 1)) << 9);
      LODWORD(a2) = *(_DWORD *)(v8 + 0x124);
      *(_DWORD *)(v8 + 0x11C) = (unsigned __int16)(WORD2(a2) + v13);
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v7 + 0xD8LL))(v7);
      while ( (_DWORD)a2 != 0xFFFFFFFF )
      {
        v9 = (unsigned __int16)(a2 + v13);
        v10 = v15 + ((unsigned __int64)((unsigned int)a2 & (v13 - 1)) << 9);
        LODWORD(a2) = *(_DWORD *)(v10 + 0x124);
        *(_DWORD *)(v10 + 0x11C) = v9;
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v7 + 0xD8LL))(v7);
      }
    }
  }
  else if ( (a2 & 0xFFC00000) != 0 )
  {
    qword_149B3B488(a1);
  }
  else if ( (a2 & 0xFFFF000000000000uLL) != 0 )
  {
    (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149B4FCF8 + 0xF8LL))(
      qword_149B4FCF8,
      &v15,
      &v13);
    v11 = HIWORD(a2);
    *(_DWORD *)(((unsigned __int64)((unsigned int)v11 & (v13 - 1)) << 9) + v15 + 0x11C) = (unsigned __int16)(v11 + v13);
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FCF8 + 0xD8LL))(qword_149B4FCF8, (unsigned int)v11);
  }
  p_p_p_p_p_p_p_p_p_p_p_p_Source = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_QWORD *)(a1 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  return p_p_p_p_p_p_p_p_p_p_p_p_Source;
}

// --- End Function: sub_1403DD380 (0x1403DD380) ---

// --- Function: sub_146695630 (0x146695630) ---
char __fastcall sub_146695630(__int64 a1)
{
  __int64 v2; // rcx
  __int64 v3; // rax
  __int64 v4; // rbx
  __int64 *v5; // rdi
  __int64 v6; // rcx

  v2 = *(_QWORD *)(a1 + 0x78);
  if ( !v2 || *(int *)(v2 + 0x188) <= 1 )
    return 0;
  v3 = sub_146695770();
  if ( v3 )
    _InterlockedIncrement((volatile signed __int32 *)(v3 + 0x188));
  v4 = *(_QWORD *)(a1 + 0x78);
  *(_QWORD *)(a1 + 0x78) = v3;
  if ( v4 )
  {
    if ( _InterlockedExchangeAdd((volatile signed __int32 *)(v4 + 0x188), 0xFFFFFFFF) <= 1 )
    {
      v5 = sub_1466A1E90();
      sub_1466B3640(v5 + 0x22, 0, v4, v5 + 0x2A);
      sub_146659460(v4);
      sub_1403E35D0(&v5[2 * (((unsigned __int8)_InterlockedExchangeAdd64(v5 + 0x27, 1u) + 1) & 0xF) + 2], (_QWORD *)v4);
      _InterlockedDecrement64(v5 + 0x25);
      _InterlockedIncrement64(v5 + 0x26);
    }
  }
  v6 = *(_QWORD *)(a1 + 0x78);
  if ( !v6 )
    return 0;
  *(_QWORD *)(a1 + 8) = *(_QWORD *)v6;
  *(_QWORD *)(a1 + 0x58) = *(_QWORD *)(v6 + 8);
  *(_QWORD *)(a1 + 0x10) = *(_QWORD *)(v6 + 0x10);
  *(_QWORD *)(a1 + 0x18) = *(_QWORD *)(v6 + 0x20);
  *(_QWORD *)(a1 + 0x20) = *(_QWORD *)(v6 + 0x28);
  *(_QWORD *)(a1 + 0x28) = *(_QWORD *)(v6 + 0x30);
  *(_QWORD *)(a1 + 0x30) = *(_QWORD *)(v6 + 0x38);
  *(_QWORD *)(a1 + 0x38) = *(_QWORD *)(v6 + 0x60);
  *(_QWORD *)(a1 + 0x40) = *(_QWORD *)(v6 + 0x78);
  *(_DWORD *)(a1 + 0x68) = *(_DWORD *)(v6 + 0x170);
  *(_DWORD *)(a1 + 0x6C) = *(_DWORD *)(v6 + 0x178);
  *(_DWORD *)(a1 + 0x70) = *(_DWORD *)(v6 + 0x17C);
  return 1;
}

// --- End Function: sub_146695630 (0x146695630) ---

// --- Function: sub_1466A0EB0 (0x1466A0EB0) ---
__int64 __fastcall sub_1466A0EB0(_QWORD *a1, __int64 *a2)
{
  __int64 v2; // r9
  __int64 v3; // r8
  __int64 v4; // rdx
  _QWORD *v5; // r10
  __int64 v6; // rax

  v2 = *((unsigned int *)a2 + 2);
  v3 = *a2;
  v4 = a1[0x19];
  v5 = (_QWORD *)(a1[0x1B] + 0x10 * (a1[0x1E] & ((0x466F45D * v3) ^ (0x127409F * v2))));
  v6 = v5[1];
  if ( v6 == v4 )
  {
LABEL_6:
    v6 = 0;
  }
  else
  {
    while ( v3 != *(_QWORD *)(v6 + 0x10) || (_DWORD)v2 != *(_DWORD *)(v6 + 0x18) )
    {
      if ( v6 == *v5 )
        goto LABEL_6;
      v6 = *(_QWORD *)(v6 + 8);
    }
  }
  if ( !v6 )
    v6 = a1[0x19];
  if ( v6 == v4 )
    return 0;
  else
    return *(_QWORD *)(v6 + 0x20);
}

// --- End Function: sub_1466A0EB0 (0x1466A0EB0) ---

// --- Function: sub_1466B0E10 (0x1466B0E10) ---
__int64 __fastcall sub_1466B0E10(__int64 a1, __int64 a2, unsigned int a3)
{
  unsigned __int8 v4; // bp
  unsigned int v5; // esi
  int v7; // edi
  __int64 v8; // rcx
  char v9; // di
  unsigned __int8 v10; // al
  __int64 v11; // rcx

  v4 = 0;
  v5 = a3;
  v7 = *(_DWORD *)(*(_QWORD *)(a1 + 0x78) + 0x184LL);
  v8 = *(_QWORD *)(a1 + 0x78);
  if ( !v8 || *(int *)(v8 + 0x188) <= 1 )
  {
    if ( (a3 & v7 & 0x40) == 0 )
    {
LABEL_8:
      sub_1466B0ED0(*(_QWORD *)(a1 + 0x78), a2, v5, *(unsigned int *)(a1 + 0x6C));
      goto LABEL_9;
    }
    v10 = sub_1466DCAF0(a1);
LABEL_7:
    v4 = v10;
    goto LABEL_8;
  }
  v9 = a3 & v7;
  sub_1466B0ED0(v8, a2, a3 & 0xFFFFFFBF, 0xFFFFFFFFLL);
  if ( (v9 & 0x40) != 0 )
  {
    v10 = sub_1466DCAF0(a1);
    v5 |= 0x40u;
    goto LABEL_7;
  }
LABEL_9:
  v11 = *(_QWORD *)(a1 + 0x78);
  *(_DWORD *)(a1 + 0x68) = *(_DWORD *)(v11 + 0x170);
  *(_DWORD *)(a1 + 0x70) = *(_DWORD *)(v11 + 0x17C);
  return v4;
}

// --- End Function: sub_1466B0E10 (0x1466B0E10) ---

// --- Function: sub_1466B0ED0 (0x1466B0ED0) ---
double __fastcall sub_1466B0ED0(__int64 a1, __int64 a2, unsigned __int8 a3, int a4)
{
  int v4; // edi
  volatile signed __int32 *v8; // rsi
  _BYTE *v9; // rcx
  _BYTE *v10; // r14
  int v11; // eax
  __int64 v12; // rdx
  __int64 v13; // r8
  int n0x2800_1; // [rsp+30h] [rbp-69h] BYREF
  __int64 v16; // [rsp+34h] [rbp-65h]
  int v17; // [rsp+3Ch] [rbp-5Dh]
  unsigned __int64 v18; // [rsp+40h] [rbp-59h]
  unsigned __int64 v19; // [rsp+48h] [rbp-51h]
  __int64 v20; // [rsp+50h] [rbp-49h]
  __int64 v21; // [rsp+58h] [rbp-41h]
  int n0x2800; // [rsp+80h] [rbp-19h] BYREF
  __int64 v23; // [rsp+84h] [rbp-15h]
  int v24; // [rsp+8Ch] [rbp-Dh]
  unsigned __int64 v25; // [rsp+90h] [rbp-9h]
  unsigned __int64 v26; // [rsp+98h] [rbp-1h]
  __int64 v27; // [rsp+A0h] [rbp+7h]
  __int64 v28; // [rsp+A8h] [rbp+Fh]
  unsigned __int8 v29; // [rsp+100h] [rbp+67h]

  v4 = 0;
  n0x2800 = 0x2800;
  v24 = 0;
  v26 = 0;
  v27 = 0;
  v28 = 0;
  v23 = 1;
  v25 = __rdtsc();
  qword_149B4B870(
    &n0x2800,
    &word_14A27DAB4,
    "parts::container_t::make_valid",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryPhysics\\parts.cpp",
    0xAAD);
  v8 = (volatile signed __int32 *)(a1 + 0x184);
  HIWORD(n0x2800) = word_14A27DAB4;
  if ( *(_DWORD *)(a1 + 0x184) )
  {
    v9 = (_BYTE *)(a1 + 0x184);
    if ( (a3 & *(_BYTE *)v8 & 1) != 0 )
    {
      sub_1466DCD20(a1);
      v9 = (_BYTE *)(a1 + 0x184);
    }
    v10 = (_BYTE *)(a1 + 0x184);
    if ( (a3 & *(_BYTE *)v8 & 0x10) != 0 )
    {
      _InterlockedAnd(v8, 0xFFFFFFEF);
      v10 = v9;
    }
    if ( (a3 & *(_BYTE *)v8 & 0x20) != 0 )
      _InterlockedAnd(v8, 0xFFFFFFDF);
    if ( (a3 & *(_BYTE *)v8 & 4) != 0 )
    {
      n0x2800_1 = 0x2800;
      v16 = 1;
      v17 = 0;
      v19 = 0;
      v20 = 0;
      v21 = 0;
      v18 = __rdtsc();
      qword_149B4B870(
        &n0x2800_1,
        &word_14A27DA9C,
        "parts::container_t::update_part_mapping",
        "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryPhysics\\parts.cpp",
        0x84C);
      HIWORD(n0x2800_1) = word_14A27DA9C;
      v11 = *(_DWORD *)(a1 + 0x170);
      if ( v11 > 0 )
      {
        v12 = 0;
        v13 = 0;
        do
        {
          v13 += 8;
          v12 += 4;
          *(_DWORD *)(v13 + *(_QWORD *)(a1 + 0x40) - 8) = *(_DWORD *)(v12 + *(_QWORD *)(a1 + 0x30) - 4);
          *(_DWORD *)(v13 + *(_QWORD *)(a1 + 0x40) - 4) = v4;
          *(_DWORD *)(v12 + *(_QWORD *)(a1 + 0x88) - 4) = v4++;
          v11 = *(_DWORD *)(a1 + 0x170);
        }
        while ( v4 < v11 );
        v10 = (_BYTE *)(a1 + 0x184);
      }
      sub_14662ADF0(*(unsigned int **)(a1 + 0x40), (unsigned int *)(*(_QWORD *)(a1 + 0x40) + 8LL * v11), v11, v29);
      sub_14662A860(
        *(char **)(a1 + 0x88),
        (char *)(*(_QWORD *)(a1 + 0x88) + 4LL * *(int *)(a1 + 0x170)),
        *(int *)(a1 + 0x170),
        a1);
      _InterlockedAnd(v8, 0xFFFFFFFB);
      v19 = __rdtsc();
      qword_149B4B878(&n0x2800_1);
    }
    if ( (a3 & *v10 & 8) != 0 )
      sub_1466DAB90(a1);
    if ( (a3 & (unsigned __int8)*(_DWORD *)v10 & 0x40) != 0 )
    {
      *(_DWORD *)(a1 + 0x178) = a4;
      _InterlockedAnd(v8, 0xFFFFFFBF);
    }
  }
  v26 = __rdtsc();
  return qword_149B4B878(&n0x2800);
}

// --- End Function: sub_1466B0ED0 (0x1466B0ED0) ---

// --- Function: sub_1466D3BF0 (0x1466D3BF0) ---
__int64 __fastcall sub_1466D3BF0(__int64 a1, int a2, __int64 a3)
{
  __int64 v3; // rax
  __int64 v5; // rsi
  __int64 v7; // rbx
  __int64 v8; // rcx
  __int64 result; // rax
  __int64 v10; // rdx

  v3 = *(_QWORD *)(a1 + 0x78);
  v5 = a2;
  if ( v3 && *(int *)(v3 + 0x188) > 1 )
    sub_146695630(a1);
  v7 = *(_QWORD *)(a1 + 0x78);
  v8 = *(_QWORD *)v7 + 0x20 * v5;
  *(_DWORD *)v8 = *(_DWORD *)a3;
  *(_DWORD *)(v8 + 4) = *(_DWORD *)(a3 + 4);
  *(_DWORD *)(v8 + 8) = *(_DWORD *)(a3 + 8);
  *(_DWORD *)(v8 + 0xC) = *(_DWORD *)(a3 + 0xC);
  *(double *)(v8 + 0x10) = *(double *)(a3 + 0x10);
  *(_DWORD *)(v8 + 0x18) = *(_DWORD *)(a3 + 0x18);
  result = *(unsigned int *)(a3 + 0x1C);
  *(_DWORD *)(v8 + 0x1C) = result;
  _InterlockedOr((volatile signed __int32 *)(v7 + 0x184), 1u);
  v10 = *(_QWORD *)(v7 + 0x70) + (v5 << 6) + 0x28;
  if ( *(_QWORD *)v10 || *(_DWORD *)(v10 + 8) )
  {
    result = sub_1466A0EB0((_QWORD *)v7, (__int64 *)v10);
    if ( result && *(_DWORD *)(result + 0x94) )
    {
      result = *(_DWORD *)result & 0xFFA00000;
      if ( (_DWORD)result == 0xFFA00000 )
        _InterlockedOr((volatile signed __int32 *)(v7 + 0x184), 8u);
    }
  }
  return result;
}

// --- End Function: sub_1466D3BF0 (0x1466D3BF0) ---

// --- Function: sub_1466DCAF0 (0x1466DCAF0) ---
char __fastcall sub_1466DCAF0(__int64 a1)
{
  _DWORD *v2; // rcx
  int v3; // eax
  __int64 v4; // rax
  int v5; // edi
  char v6; // dl
  __int64 v7; // rsi
  __int64 v8; // r14
  __int64 v9; // r15
  __int64 v10; // rbp
  __int64 v11; // rax
  __int64 v12; // rax
  __int64 v13; // r8
  __m256i v14; // ymm2
  __int128 v15; // xmm6
  __int64 v16; // rcx
  __int64 v17; // rax
  __int128 v18; // xmm3
  double v19; // xmm2_8
  __int64 v20; // rdx
  __int64 v21; // rcx
  __int64 v22; // rcx
  __int64 v23; // rcx
  char result; // al

  v2 = *(_DWORD **)(a1 + 0x78);
  *(_DWORD *)(a1 + 0x70) = v2[0x5F];
  v3 = *(_DWORD *)(a1 + 0x68);
  *(_DWORD *)(a1 + 0x6C) = 0xFFFFFFFF;
  if ( v2[0x60] != v3 )
    goto LABEL_20;
  if ( v2 && (int)v2[0x62] > 1 )
    sub_146695630(a1);
  v4 = *(_QWORD *)(a1 + 0x78);
  v5 = 0;
  *(_DWORD *)(a1 + 0x6C) = 0;
  if ( *(_DWORD *)(v4 + 0x17C) )
  {
    v6 = 0;
    if ( *(int *)(a1 + 0x68) > 0 )
    {
      v7 = 0;
      v8 = 0;
      v9 = 0;
      do
      {
        if ( (*(_QWORD *)(v7 + *(_QWORD *)(a1 + 0x18))
            & (((*(__int64 *)(v7 + *(_QWORD *)(a1 + 0x18)) >> 0x12) & 1) - 1)
            & 0x20020000000FBLL) != 0 )
        {
          v10 = *(int *)(a1 + 0x6C);
          *(_DWORD *)(a1 + 0x6C) = v10 + 1;
          v11 = *(_QWORD *)(a1 + 0x78);
          if ( v11 && *(int *)(v11 + 0x188) > 1 )
          {
            __asm { vzeroupper }
            sub_146695630(a1);
          }
          if ( (_DWORD)v10 != v5 )
          {
            __asm { vzeroupper }
            sub_1466D54E0(*(volatile signed __int32 **)(a1 + 0x78), v10, v5);
            v12 = *(_QWORD *)a1;
            v13 = 6 * v10;
            v14 = *(__m256i *)(*(_QWORD *)a1 + 0x30 * v10);
            v15 = *(_OWORD *)(*(_QWORD *)a1 + 0x30 * v10 + 0x20);
            *(__m256i *)(v12 + 8 * v13) = *(__m256i *)(v8 + *(_QWORD *)a1);
            *(_OWORD *)(v12 + 8 * v13 + 0x20) = *(_OWORD *)(v8 + v12 + 0x20);
            *(__m256i *)(v8 + v12) = v14;
            *(_OWORD *)(v8 + v12 + 0x20) = v15;
            v16 = *(_QWORD *)(a1 + 0x48);
            v17 = 3 * v10;
            v18 = *(_OWORD *)(v16 + 0x18 * v10);
            v19 = *(double *)(v16 + 0x18 * v10 + 0x10);
            *(_OWORD *)(v16 + 8 * v17) = *(_OWORD *)(v9 + v16);
            *(double *)(v16 + 8 * v17 + 0x10) = *(double *)(v9 + v16 + 0x10);
            *(_OWORD *)(v9 + v16) = v18;
            *(double *)(v9 + v16 + 0x10) = v19;
            v20 = *(_QWORD *)(a1 + 0x60);
            v21 = *(_QWORD *)(v20 + 8 * v10);
            *(_QWORD *)(v20 + 8 * v10) = *(_QWORD *)(v7 + v20);
            *(_QWORD *)(v7 + v20) = v21;
            v22 = *(_QWORD *)(a1 + 0x60);
            if ( *(_QWORD *)(v22 + 8 * v10) == *(_QWORD *)a1 + 0x30LL * v5 )
              *(_QWORD *)(v22 + 8 * v10) = *(_QWORD *)a1 + 0x30 * v10;
            v23 = *(_QWORD *)(a1 + 0x60);
            if ( *(_QWORD *)(v7 + v23) == *(_QWORD *)a1 + 0x30 * v10 )
              *(_QWORD *)(v7 + v23) = *(_QWORD *)a1 + 0x30LL * v5;
          }
          v6 = 1;
        }
        ++v5;
        v8 += 0x30;
        v9 += 0x18;
        v7 += 8;
      }
      while ( v5 < *(_DWORD *)(a1 + 0x68) );
    }
    result = v6;
    __asm { vzeroupper }
  }
  else
  {
LABEL_20:
    result = 0;
    __asm { vzeroupper }
  }
  return result;
}

// --- End Function: sub_1466DCAF0 (0x1466DCAF0) ---

// --- Function: sub_14687CFB0 (0x14687CFB0) ---
__int64 __fastcall sub_14687CFB0(__int64 a1, float a2)
{
  __int128 v2; // xmm6
  float v4; // xmm6_4
  int v5; // r12d
  __int64 v6; // rcx
  double v7; // xmm1_8
  double *v8; // rbx
  __m256 v9; // ymm1
  __m128 v10; // xmm2
  bool v11; // cf
  __int64 v12; // rax
  double *v13; // rax
  double v16; // xmm4_8
  __int128 v17; // xmm9
  float v18; // xmm13_4
  __int128 v19; // xmm10
  __int128 v20; // xmm7
  double v21; // xmm6_8
  float v22; // xmm14_4
  double v23; // xmm8_8
  float v24; // xmm15_4
  bool v25; // zf
  __int128 v27; // kr00_16
  float v29; // xmm5_4
  float v40; // xmm1_4
  float v41; // kr00_4
  float v42; // xmm6_4
  float v43; // xmm7_4
  float v45; // xmm0_4
  float v46; // xmm5_4
  float v47; // xmm6_4
  double v49; // xmm4_8
  double v50; // kr00_8
  double v51; // xmm3_8
  __int64 v52; // rdx
  float v53; // xmm2_4
  unsigned int v54; // esi
  int v55; // ecx
  char v56; // r8
  unsigned int v57; // ecx
  float v58; // xmm0_4
  float v59; // xmm2_4
  int v60; // eax
  float v61; // xmm15_4
  float v62; // xmm5_4
  float v63; // xmm2_4
  float v64; // xmm7_4
  float v65; // xmm4_4
  float v66; // xmm5_4
  float v67; // xmm9_4
  float v68; // xmm6_4
  float v69; // xmm10_4
  float v70; // xmm8_4
  float v71; // xmm11_4
  float v72; // xmm13_4
  float v73; // xmm14_4
  float v74; // xmm12_4
  float v75; // xmm7_4
  float v76; // xmm11_4
  float v77; // xmm10_4
  float v78; // xmm9_4
  float v79; // xmm8_4
  float v80; // xmm5_4
  float v81; // xmm4_4
  float v82; // xmm6_4
  float v83; // xmm3_4
  double v84; // xmm5_8
  float v85; // xmm1_4
  double v86; // xmm4_8
  volatile signed __int64 *v87; // rbx
  __int64 v88; // r8
  unsigned __int64 v89; // rax
  _QWORD *v90; // rax
  unsigned __int64 n0x200000; // rax
  __int64 v92; // rdx
  double v93; // xmm4_8
  double v94; // xmm5_8
  double v95; // kr00_8
  __m128 v96; // xmm1
  __m128 v97; // xmm1
  __m128 v98; // xmm3
  __m128 v99; // xmm4
  int v100; // eax
  __int64 v101; // r8
  __int64 v102; // rcx
  double v103; // xmm0_8
  int v104; // eax
  __int64 v105; // rbx
  __int128 v106; // xmm13
  __int128 v107; // xmm12
  double v108; // xmm11_8
  double v109; // xmm7_8
  double v110; // xmm5_8
  __int128 v111; // xmm9
  double v112; // xmm6_8
  double v113; // xmm8_8
  __int128 v114; // kr00_16
  __int64 v121; // rcx
  float v124; // [rsp+34h] [rbp-CCh]
  float v125; // [rsp+3Ch] [rbp-C4h]
  float v126; // [rsp+40h] [rbp-C0h]
  float v127; // [rsp+44h] [rbp-BCh]
  float v128; // [rsp+48h] [rbp-B8h]
  double v129[2]; // [rsp+50h] [rbp-B0h] BYREF
  double v130; // [rsp+60h] [rbp-A0h] BYREF
  int n0x2800; // [rsp+70h] [rbp-90h] BYREF
  __int64 v132; // [rsp+74h] [rbp-8Ch]
  int v133; // [rsp+7Ch] [rbp-84h]
  unsigned __int64 v134; // [rsp+80h] [rbp-80h]
  unsigned __int64 v135; // [rsp+88h] [rbp-78h]
  __int64 v136; // [rsp+90h] [rbp-70h]
  __int64 v137; // [rsp+98h] [rbp-68h]
  _QWORD v138[2]; // [rsp+C0h] [rbp-40h] BYREF
  __int64 v139; // [rsp+D0h] [rbp-30h] BYREF
  int n0x16; // [rsp+D8h] [rbp-28h]
  int n0x1E; // [rsp+DCh] [rbp-24h]
  __int64 v142; // [rsp+E0h] [rbp-20h]
  __int64 v143; // [rsp+E8h] [rbp-18h]
  unsigned int v144; // [rsp+F0h] [rbp-10h]
  int v145; // [rsp+F4h] [rbp-Ch]
  __int64 v146; // [rsp+F8h] [rbp-8h]
  __int128 v147; // [rsp+100h] [rbp+0h]
  __int64 v148; // [rsp+110h] [rbp+10h]
  int v149; // [rsp+118h] [rbp+18h]
  __int128 v150; // [rsp+120h] [rbp+20h] BYREF
  double v151; // [rsp+130h] [rbp+30h]
  double v152; // [rsp+138h] [rbp+38h] BYREF
  double v153; // [rsp+140h] [rbp+40h]
  double v154; // [rsp+148h] [rbp+48h]
  double v155; // [rsp+150h] [rbp+50h]
  double v156[21]; // [rsp+170h] [rbp+70h] BYREF
  __int64 v157; // [rsp+220h] [rbp+120h] BYREF
  int v158; // [rsp+230h] [rbp+130h]
  __int128 v159; // [rsp+250h] [rbp+150h]
  __int64 v160; // [rsp+260h] [rbp+160h]
  _DWORD v161[22]; // [rsp+280h] [rbp+180h] BYREF
  __int64 v162; // [rsp+2D8h] [rbp+1D8h]
  int v163; // [rsp+2E0h] [rbp+1E0h]
  float v164; // [rsp+2E4h] [rbp+1E4h]
  float v165; // [rsp+2E8h] [rbp+1E8h]
  float v166; // [rsp+2ECh] [rbp+1ECh]
  unsigned int v167; // [rsp+2F0h] [rbp+1F0h]
  int v168; // [rsp+2F4h] [rbp+1F4h]
  float v169; // [rsp+2F8h] [rbp+1F8h]
  float v170; // [rsp+2FCh] [rbp+1FCh]
  float v171; // [rsp+300h] [rbp+200h]
  __int64 v172; // [rsp+308h] [rbp+208h]
  int v173; // [rsp+310h] [rbp+210h]
  int n0xC; // [rsp+318h] [rbp+218h]
  unsigned int v175; // [rsp+31Ch] [rbp+21Ch]
  unsigned int v176; // [rsp+320h] [rbp+220h]
  unsigned int v177; // [rsp+324h] [rbp+224h]
  unsigned int v178; // [rsp+328h] [rbp+228h]
  unsigned int v179; // [rsp+32Ch] [rbp+22Ch]
  unsigned int v180; // [rsp+330h] [rbp+230h]
  unsigned int v181; // [rsp+33Ch] [rbp+23Ch]
  unsigned int v182; // [rsp+340h] [rbp+240h]
  unsigned int v183; // [rsp+354h] [rbp+254h]
  unsigned int v184; // [rsp+368h] [rbp+268h]
  __int64 v185; // [rsp+370h] [rbp+270h]
  int v186; // [rsp+378h] [rbp+278h]
  float v187; // [rsp+37Ch] [rbp+27Ch]
  float v188; // [rsp+380h] [rbp+280h]
  float v189; // [rsp+384h] [rbp+284h]
  unsigned int v190; // [rsp+388h] [rbp+288h]
  int v191; // [rsp+38Ch] [rbp+28Ch]
  float v192; // [rsp+390h] [rbp+290h]
  float v193; // [rsp+394h] [rbp+294h]
  float v194; // [rsp+398h] [rbp+298h]
  __int64 v195; // [rsp+3A0h] [rbp+2A0h]
  int v196; // [rsp+3A8h] [rbp+2A8h]
  int n0xC_1; // [rsp+3B0h] [rbp+2B0h]
  unsigned int v198; // [rsp+3B4h] [rbp+2B4h]
  unsigned int v199; // [rsp+3B8h] [rbp+2B8h]
  unsigned int v200; // [rsp+3BCh] [rbp+2BCh]
  unsigned int v201; // [rsp+3C0h] [rbp+2C0h]
  unsigned int v202; // [rsp+3C4h] [rbp+2C4h]
  unsigned int v203; // [rsp+3C8h] [rbp+2C8h]
  unsigned int v204; // [rsp+3D4h] [rbp+2D4h]
  unsigned int v205; // [rsp+3D8h] [rbp+2D8h]
  unsigned int v206; // [rsp+3ECh] [rbp+2ECh]
  unsigned int v207; // [rsp+400h] [rbp+300h]
  __int64 v208; // [rsp+408h] [rbp+308h]
  int v209; // [rsp+410h] [rbp+310h]
  float v210; // [rsp+414h] [rbp+314h]
  float v211; // [rsp+418h] [rbp+318h]
  float v212; // [rsp+41Ch] [rbp+31Ch]
  unsigned int v213; // [rsp+420h] [rbp+320h]
  int v214; // [rsp+424h] [rbp+324h]
  float v215; // [rsp+428h] [rbp+328h]
  float v216; // [rsp+42Ch] [rbp+32Ch]
  float v217; // [rsp+430h] [rbp+330h]
  __int64 v218; // [rsp+438h] [rbp+338h]
  int v219; // [rsp+440h] [rbp+340h]
  int n0xC_2; // [rsp+448h] [rbp+348h]
  unsigned int v221; // [rsp+44Ch] [rbp+34Ch]
  unsigned int v222; // [rsp+450h] [rbp+350h]
  unsigned int v223; // [rsp+454h] [rbp+354h]
  unsigned int v224; // [rsp+458h] [rbp+358h]
  unsigned int v225; // [rsp+45Ch] [rbp+35Ch]
  unsigned int v226; // [rsp+460h] [rbp+360h]
  unsigned int v227; // [rsp+46Ch] [rbp+36Ch]
  unsigned int v228; // [rsp+470h] [rbp+370h]
  unsigned int v229; // [rsp+484h] [rbp+384h]
  unsigned int v230; // [rsp+498h] [rbp+398h]
  __int64 v231; // [rsp+4A0h] [rbp+3A0h]
  int v232; // [rsp+4A8h] [rbp+3A8h]
  float v233; // [rsp+4ACh] [rbp+3ACh]
  float v234; // [rsp+4B0h] [rbp+3B0h]
  float v235; // [rsp+4B4h] [rbp+3B4h]
  unsigned int v236; // [rsp+4B8h] [rbp+3B8h]
  int v237; // [rsp+4BCh] [rbp+3BCh]
  float v238; // [rsp+4C0h] [rbp+3C0h]
  float v239; // [rsp+4C4h] [rbp+3C4h]
  float v240; // [rsp+4C8h] [rbp+3C8h]
  __int64 v241; // [rsp+4D0h] [rbp+3D0h]
  int v242; // [rsp+4D8h] [rbp+3D8h]
  __int128 v243; // [rsp+580h] [rbp+480h]

  v243 = v2;
  v4 = a2;
  if ( (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
    LogFatalError("Stepping this without the appropriate flag");
  n0x2800 = 0x2800;
  v132 = 0;
  v133 = 0;
  v135 = 0;
  v136 = 0;
  v137 = 0;
  v134 = __rdtsc();
  qword_149B4B870(
    &n0x2800,
    &word_15159ADF8,
    "CSpaceshipEntity::QuantumStep",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryPhysics\\spaceshipentity.cpp",
    0x52F);
  HIWORD(n0x2800) = word_15159ADF8;
  v138[0] = a1;
  v138[1] = sub_1403E3700().QuadPart;
  v5 = *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x910LL);
  if ( *(_BYTE *)(a1 + 0x980) )
  {
    v6 = *(_QWORD *)(a1 + 0x2C0);
    *(_BYTE *)(a1 + 0x980) = 0;
    sub_146A053A0(v6, a1);
  }
  sub_14688A240(a1);
  v7 = *(double *)(a1 + 0x638);
  *(_OWORD *)(a1 + 0x7C0) = *(_OWORD *)(a1 + 0x628);
  *(double *)(a1 + 0x7D0) = v7;
  v8 = (double *)(a1 + 0x6D50);
  v9 = *(__m256 *)(a1 + 0x790);
  *(_DWORD *)(a1 + 0x848) = *(_DWORD *)(a1 + 0x640);
  *(_DWORD *)(a1 + 0x84C) = *(_DWORD *)(a1 + 0x644);
  *(_DWORD *)(a1 + 0x850) = *(_DWORD *)(a1 + 0x648);
  *(_DWORD *)(a1 + 0x854) = *(_DWORD *)(a1 + 0x64C);
  v10 = *(__m128 *)(a1 + 0x780);
  *(__m256 *)(a1 + 0x790) = _mm256_add_pd(v9, *(__m256 *)(a1 + 0x760));
  *(__m128 *)(a1 + 0x7B0) = _mm_add_pd(v10, *(__m128 *)(a1 + 0x7B0));
  *(_QWORD *)(a1 + 0x590) = 0;
  *(_DWORD *)(a1 + 0x58C) = 0;
  *(_QWORD *)(a1 + 0x59C) = 0;
  *(_DWORD *)(a1 + 0x598) = 0;
  v11 = *(double *)(a1 + 0x6D50) > 0.0;
  *(_QWORD *)(a1 + 0x5A8) = 0;
  *(_DWORD *)(a1 + 0x57C) = 0;
  if ( v11 )
  {
    v12 = *(_QWORD *)(a1 + 0x9A0);
    if ( v12 != *(_QWORD *)(a1 + 0x9A8) )
      *(_QWORD *)(a1 + 0x9A8) = v12;
    v11 = v4 < *v8;
    v130 = v4;
    v13 = &v130;
    if ( !v11 )
      v13 = (double *)(a1 + 0x6D50);
    _XMM0 = *(unsigned __int64 *)v13;
    __asm
    {
      vmaxsd  xmm11, xmm0, xmm1
      vzeroupper
    }
    sub_1467E2510(a1 + 0x5B0);
    v16 = *(double *)(a1 + 0x6D20);
    v17 = *(unsigned __int64 *)(a1 + 0x6D40);
    v18 = *(float *)(a1 + 0x68C);
    v19 = *(unsigned __int64 *)(a1 + 0x6D48);
    v20 = *(unsigned __int64 *)(a1 + 0x6D38);
    v21 = *(double *)(a1 + 0x6D28);
    v22 = *(float *)(a1 + 0x690);
    v23 = *(double *)(a1 + 0x6D30);
    v24 = *(float *)(a1 + 0x694);
    v25 = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x4D4LL) == 1;
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&_XMM11 + 1);
    *(double *)&v27 = *(double *)&_XMM11 * (*(double *)&v20 * 0.5 * *(double *)&_XMM11 + v16);
    _XMM2 = v27;
    v129[0] = *(double *)&v20 * 0.5 * *(double *)&_XMM11 + v16;
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    v29 = *(float *)&_XMM0 + v18;
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v17 + 1);
    *(double *)&v27 = (*(double *)&v17 * 0.5 * *(double *)&_XMM11 + v21) * *(double *)&_XMM11;
    _XMM3 = v27;
    __asm { vcvtsd2ss xmm1, xmm3, xmm3 }
    v124 = *(float *)&_XMM1 + v22;
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v19 + 1);
    *(double *)&v27 = (*(double *)&v19 * 0.5 * *(double *)&_XMM11 + v23) * *(double *)&_XMM11;
    _XMM3 = v27;
    __asm { vcvtsd2ss xmm0, xmm3, xmm3 }
    v128 = *(float *)&_XMM0 + v24;
    v126 = v29;
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v20 + 1);
    *(double *)&v27 = (*(double *)&v20 * 0.25 * *(double *)&_XMM11 + v16) * 0.5 * *(double *)&_XMM11;
    _XMM0 = v27;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    v125 = (float)(*(float *)&_XMM1 + v18) * 4.0;
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v17 + 1);
    *(double *)&v27 = (*(double *)&v17 * 0.25 * *(double *)&_XMM11 + v21) * 0.5 * *(double *)&_XMM11;
    _XMM0 = v27;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    v127 = (float)(*(float *)&_XMM1 + v22) * 4.0;
    *((_QWORD *)&v27 + 1) = *((_QWORD *)&v19 + 1);
    *(double *)&v27 = (*(double *)&v19 * 0.25 * *(double *)&_XMM11 + v23) * 0.5 * *(double *)&_XMM11;
    _XMM0 = v27;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)&v27 = *(float *)&_XMM1 + v24;
    v40 = v18 + v29;
    v41 = *(float *)&v27 * 4.0;
    if ( v25 )
    {
      v42 = *(float *)(a1 + 0x884);
      v43 = *(float *)(a1 + 0x888);
      __asm { vcvtsd2ss xmm8, xmm11, xmm11 }
      *(float *)(a1 + 0x880) = *(float *)(a1 + 0x880)
                             - (float)((float)((float)((float)(v18 + v29) * 0.5)
                                             - (float)((float)(v40 + v125) * 0.16666667))
                                     * *(float *)&_XMM8);
      *(float *)(a1 + 0x884) = v42
                             - (float)((float)((float)((float)(v22 + v124) * 0.5)
                                             - (float)((float)((float)(v22 + v124) + v127) * 0.16666667))
                                     * *(float *)&_XMM8);
      v45 = v43
          - (float)((float)((float)((float)(v24 + v128) * 0.5) - (float)((float)((float)(v24 + v128) + v41) * 0.16666667))
                  * *(float *)&_XMM8);
    }
    else
    {
      v46 = *(float *)(a1 + 0x884);
      v47 = *(float *)(a1 + 0x888);
      __asm { vcvtsd2ss xmm7, xmm11, xmm11 }
      *(float *)(a1 + 0x880) = *(float *)(a1 + 0x880)
                             - (float)((float)(v126 - (float)((float)(v40 + v125) * 0.16666667)) * *(float *)&_XMM7);
      *(float *)(a1 + 0x884) = v46
                             - (float)((float)(v124 - (float)((float)((float)(v22 + v124) + v127) * 0.16666667))
                                     * *(float *)&_XMM7);
      v45 = v47 - (float)((float)(v128 - (float)((float)((float)(v24 + v128) + v41) * 0.16666667)) * *(float *)&_XMM7);
    }
    v4 = a2;
    *(float *)(a1 + 0x888) = v45;
    v49 = 0.5 * *(double *)(a1 + 0x6D40) * *(double *)&_XMM11 + *(double *)(a1 + 0x6D28);
    v50 = 0.5 * *(double *)(a1 + 0x6D48) * *(double *)&_XMM11 + *(double *)(a1 + 0x6D30);
    *(double *)(a1 + 0x6D20) = v129[0];
    *(double *)(a1 + 0x6D28) = v49;
    *(double *)(a1 + 0x6D30) = v50;
    v51 = *(double *)(a1 + 0x6B0);
    *(double *)(a1 + 0x650) = v51 * *(double *)(a1 + 0x6D20) * *(double *)&_XMM11 + *(double *)(a1 + 0x650);
    *(double *)(a1 + 0x658) = v51 * v49 * *(double *)&_XMM11 + *(double *)(a1 + 0x658);
    *(double *)(a1 + 0x660) = v51 * v50 * *(double *)&_XMM11 + *(double *)(a1 + 0x660);
    *(double *)(a1 + 0x6D20) = 0.5 * *(double *)(a1 + 0x6D38) * *(double *)&_XMM11 + *(double *)(a1 + 0x6D20);
    *(double *)(a1 + 0x6D28) = 0.5 * *(double *)(a1 + 0x6D40) * *(double *)&_XMM11 + *(double *)(a1 + 0x6D28);
    *(double *)(a1 + 0x6D30) = 0.5 * *(double *)(a1 + 0x6D48) * *(double *)&_XMM11 + *(double *)(a1 + 0x6D30);
    *v8 = *v8 - *(double *)&_XMM11;
  }
  __asm { vzeroupper }
  sub_14681B1A0(a1);
  v53 = *(float *)(a1 + 0x524);
  if ( v53 <= (float)(*(float *)(a1 + 0x520) - *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x124LL)) )
  {
    v55 = *(_DWORD *)(a1 + 0x4AC);
    v56 = *(_BYTE *)(a1 + 0x384);
    ++*(_DWORD *)(a1 + 0x534);
    v57 = *(_DWORD *)(a1 + 0x4A4) & ((v55 << 0x1C) | 0xEFFFFFFF);
    *(_DWORD *)(a1 + 0x4A4) = v57;
    *(_DWORD *)(a1 + 0x584) = 0x3DCCCCCD;
    v58 = v53 + v4;
    v59 = *(float *)(a1 + 0x530);
    *(float *)(a1 + 0x524) = v58;
    v60 = *(_DWORD *)(a1 + 0x208);
    *(_DWORD *)(a1 + 0x530) = 0;
    *(_QWORD *)(a1 + 0x86C) = 0;
    v61 = v4 + (float)((float)(COERCE_UNSIGNED_INT(0.0000000099999999 - v59) >> 0x1F) * (float)(v59 - v4));
    *(_DWORD *)(a1 + 0x208) = v60 ^ ((unsigned __int16)v60 ^ (unsigned __int16)-((v57 & 0x10000000) != 0)) & 0x100;
    *(float *)(a1 + 0x528) = v4;
    *(_DWORD *)(a1 + 0x868) = 0;
    *(_QWORD *)(a1 + 0x878) = 0;
    *(_DWORD *)(a1 + 0x874) = 0;
    sub_1467DF060(a1 + 0x5B0, v52, v56 & 1);
    v62 = *(float *)(a1 + 0x888);
    v63 = *(float *)(a1 + 0x884);
    *(double *)(a1 + 0x628) = *(float *)(a1 + 0x880) + *(double *)(a1 + 0x628);
    *(double *)(a1 + 0x630) = v63 + *(double *)(a1 + 0x630);
    *(double *)(a1 + 0x638) = v62 + *(double *)(a1 + 0x638);
    *(_QWORD *)(a1 + 0x884) = 0;
    *(_DWORD *)(a1 + 0x880) = 0;
    v64 = *(float *)(a1 + 0x6CC);
    v65 = *(float *)(a1 + 0x640);
    v66 = *(float *)(a1 + 0x6C8);
    v67 = *(float *)(a1 + 0x648);
    v68 = *(float *)(a1 + 0x6D0);
    v69 = *(float *)(a1 + 0x64C);
    v70 = *(float *)(a1 + 0x644);
    v71 = *(float *)(a1 + 0x6D4);
    v72 = (float)(v71 * v69) - (float)((float)((float)(v66 * v65) + (float)(v64 * v70)) + (float)(v68 * v67));
    v73 = (float)((float)((float)(v68 * v70) - (float)(v67 * v64)) + (float)(v66 * v69)) + (float)(v65 * v71);
    *(float *)(a1 + 0x3D8) = v73;
    *(float *)(a1 + 0x3E4) = v72;
    v74 = (float)((float)((float)(v67 * v66) - (float)(v68 * v65)) + (float)(v64 * v69)) + (float)(v70 * v71);
    *(float *)(a1 + 0x3DC) = v74;
    v75 = (float)((float)((float)(v65 * v64) - (float)(v66 * v70)) + (float)(v68 * v69)) + (float)(v67 * v71);
    *(float *)(a1 + 0x3E0) = v75;
    v76 = *(float *)(a1 + 0x6E0);
    v77 = *(float *)(a1 + 0x6DC);
    v78 = *(float *)(a1 + 0x6D8);
    v79 = (float)((float)(v76 * v74) - (float)(v77 * v75)) + (float)(v78 * v72);
    v80 = (float)((float)(v78 * v75) - (float)(v76 * v73)) + (float)(v77 * v72);
    v81 = (float)((float)(v77 * v73) - (float)(v78 * v74)) + (float)(v76 * v72);
    v82 = (float)(v81 * v74) - (float)(v80 * v75);
    v83 = v80 * v73;
    v84 = *(double *)(a1 + 0x638);
    v85 = v81 * v73;
    v86 = *(double *)(a1 + 0x630);
    *(double *)(a1 + 0x3C0) = *(double *)(a1 + 0x628) - (float)((float)(v82 + v78) + v82);
    *(double *)(a1 + 0x3C8) = v86
                            - (float)((float)((float)((float)(v79 * v75) - v85) + v77)
                                    + (float)((float)(v79 * v75) - v85));
    *(double *)(a1 + 0x3D0) = v84
                            - (float)((float)((float)(v83 - (float)(v79 * v74)) + v76)
                                    + (float)(v83 - (float)(v79 * v74)));
    v87 = (volatile signed __int64 *)(a1 + 0xC8);
    v88 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v89 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v89 )
      sub_1403DCD60(a1 + 0xC8, v89, v88, "CSpaceshipEntity::QuantumStep", "m_lockUpdate", 1);
    else
      *(_QWORD *)(a1 + 0xD0) = v88;
    if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x184LL) )
    {
      v90 = sub_146980D90(a1, v129);
      sub_1466B0E10(a1 + 0x228, (__int64)v90, 0xFFFFFFBF);
    }
    sub_14696E7D0(a1, a1 + 0x418, 2);
    if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
    {
      n0x200000 = _InterlockedCompareExchange64(v87, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        *(_QWORD *)(a1 + 0xD0) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380((__int64)v87, n0x200000);
    }
    sub_1469EC000(*(_QWORD *)(a1 + 0x2C0), a1, 1, a1 + 0x418);
    sub_1468B88B0(a1, 0, 0, 0);
    v164 = 0.0;
    v165 = 0.0;
    v166 = 0.0;
    v169 = 0.0;
    v170 = 0.0;
    v171 = 0.0;
    v187 = 0.0;
    v188 = 0.0;
    v189 = 0.0;
    v192 = 0.0;
    v193 = 0.0;
    v194 = 0.0;
    v210 = 0.0;
    v211 = 0.0;
    v212 = 0.0;
    v215 = 0.0;
    v216 = 0.0;
    v217 = 0.0;
    v161[0] = 0xC;
    v168 = 0;
    v161[1] = 0xFFBFFFFF;
    v161[2] = 0xFFBFFFFF;
    v161[3] = 0xFFBFFFFF;
    v161[0xA] = 0xFFBFFFFF;
    v161[0xF] = 0xFFF7FFFF;
    v161[0x14] = 0xFFBFFFFF;
    v167 = 0xFFBFFFFF;
    v161[4] = 0xFFBFFFFF;
    v161[5] = 0xFFBFFFFF;
    v161[6] = 0xFFBFFFFF;
    v161[9] = 0xFFBFFFFF;
    v162 = 0;
    v163 = 0;
    v172 = 0;
    v173 = 0;
    n0xC = 0xC;
    v191 = 0;
    v175 = 0xFFBFFFFF;
    v176 = 0xFFBFFFFF;
    v177 = 0xFFBFFFFF;
    v182 = 0xFFBFFFFF;
    v183 = 0xFFF7FFFF;
    v184 = 0xFFBFFFFF;
    v190 = 0xFFBFFFFF;
    v178 = 0xFFBFFFFF;
    v179 = 0xFFBFFFFF;
    v180 = 0xFFBFFFFF;
    v181 = 0xFFBFFFFF;
    v185 = 0;
    v186 = 0;
    v195 = 0;
    v196 = 0;
    n0xC_1 = 0xC;
    v214 = 0;
    v198 = 0xFFBFFFFF;
    v199 = 0xFFBFFFFF;
    v200 = 0xFFBFFFFF;
    v205 = 0xFFBFFFFF;
    v206 = 0xFFF7FFFF;
    v207 = 0xFFBFFFFF;
    v213 = 0xFFBFFFFF;
    v201 = 0xFFBFFFFF;
    v202 = 0xFFBFFFFF;
    v203 = 0xFFBFFFFF;
    v204 = 0xFFBFFFFF;
    v208 = 0;
    v209 = 0;
    v218 = 0;
    v219 = 0;
    n0xC_2 = 0xC;
    v237 = 0;
    v221 = 0xFFBFFFFF;
    v233 = 0.0;
    v234 = 0.0;
    v235 = 0.0;
    v238 = 0.0;
    v239 = 0.0;
    v240 = 0.0;
    v222 = 0xFFBFFFFF;
    v223 = 0xFFBFFFFF;
    v228 = 0xFFBFFFFF;
    v229 = 0xFFF7FFFF;
    v230 = 0xFFBFFFFF;
    v236 = 0xFFBFFFFF;
    v224 = 0xFFBFFFFF;
    v225 = 0xFFBFFFFF;
    v226 = 0xFFBFFFFF;
    v227 = 0xFFBFFFFF;
    v231 = 0;
    v232 = 0;
    v241 = 0;
    v242 = 0;
    sub_14687A260(a1, v92, v161, 4);
    v93 = *(double *)(a1 + 0x760) + *(double *)(a1 + 0x650);
    v94 = *(double *)(a1 + 0x768) + *(double *)(a1 + 0x658);
    v95 = *(double *)(a1 + 0x770) + *(double *)(a1 + 0x660);
    v96 = *(__m128 *)(a1 + 0x668);
    *(double *)(a1 + 0x658) = v94;
    *(double *)(a1 + 0x650) = v93;
    *(double *)(a1 + 0x660) = v95;
    *(_QWORD *)(a1 + 0x770) = 0;
    *(_QWORD *)(a1 + 0x768) = 0;
    *(_QWORD *)(a1 + 0x760) = 0;
    v97 = _mm_add_pd(v96, *(__m128 *)(a1 + 0x778));
    *(double *)(a1 + 0x678) = *(double *)(a1 + 0x788) + *(double *)(a1 + 0x678);
    *(__m128 *)(a1 + 0x668) = v97;
    *(_QWORD *)(a1 + 0x788) = 0;
    *(_QWORD *)(a1 + 0x780) = 0;
    *(_QWORD *)(a1 + 0x778) = 0;
    v98 = (__m128)*(unsigned __int64 *)(a1 + 0x868);
    *(double *)(a1 + 0x650) = (float)(v98.m128_f32[0] * v61) + v93;
    *(double *)(a1 + 0x658) = (float)(_mm_shuffle_ps(v98, v98, 0x55).m128_f32[0] * v61) + v94;
    *(double *)(a1 + 0x660) = (float)(*(float *)(a1 + 0x870) * v61) + v95;
    v99 = (__m128)*(unsigned __int64 *)(a1 + 0x874);
    *(double *)(a1 + 0x668) = (float)(v61 * v99.m128_f32[0]) + *(double *)(a1 + 0x668);
    *(double *)(a1 + 0x670) = (float)(v61 * _mm_shuffle_ps(v99, v99, 0x55).m128_f32[0]) + *(double *)(a1 + 0x670);
    *(double *)(a1 + 0x678) = (float)(v61 * *(float *)(a1 + 0x87C)) + *(double *)(a1 + 0x678);
    sub_1467E2510(a1 + 0x5B0);
    *(_QWORD *)(a1 + 0x6F8) = 0;
    *(_QWORD *)(a1 + 0x6F0) = 0;
    *(_QWORD *)(a1 + 0x6E8) = 0;
    *(_QWORD *)(a1 + 0x710) = 0;
    *(_QWORD *)(a1 + 0x708) = 0;
    *(_QWORD *)(a1 + 0x700) = 0;
    sub_1467E2510(a1 + 0x5B0);
    v100 = *(_DWORD *)(a1 + 0x694);
    v101 = *(_QWORD *)(a1 + 0xB8);
    v102 = *(_QWORD *)(a1 + 0x2C0);
    *(double *)(a1 + 0x808) = *(double *)(a1 + 0x68C);
    v103 = *(double *)(a1 + 0x680);
    *(_DWORD *)(a1 + 0x810) = v100;
    v104 = *(_DWORD *)(a1 + 0x688);
    *(double *)(a1 + 0x814) = v103;
    *(_DWORD *)(a1 + 0x81C) = v104;
    sub_1469D37C0(v102, &v152, v101, 1);
    sub_140337B60((double *)&v150, &v152, (double *)(a1 + 0x3C0));
    v105 = *(_QWORD *)(a1 + 0x2C0);
    v106 = COERCE_UNSIGNED_INT64(*(float *)(a1 + 0x694));
    v107 = COERCE_UNSIGNED_INT64(*(float *)(a1 + 0x690));
    v108 = *(float *)(a1 + 0x68C);
    v109 = *(double *)&v106 * v153 - *(float *)(a1 + 0x690) * v154 + v155 * v108;
    v110 = v154 * v108 - *(double *)&v106 * v152 + *(double *)&v107 * v155;
    v111 = COERCE_UNSIGNED_INT64((*(double *)&v107 * v152 - v153 * v108 + *(double *)&v106 * v155) * v153 - v110 * v154);
    v112 = v110 * v152 - v109 * v153;
    v113 = v109 * v154 - (*(double *)&v107 * v152 - v153 * v108 + *(double *)&v106 * v155) * v152;
    memset(v156, 0, sizeof(v156));
    *(_OWORD *)&v156[3] = v150;
    v156[5] = v151;
    *((_QWORD *)&v114 + 1) = *((_QWORD *)&v111 + 1);
    *(double *)&v114 = *(double *)&v111 + v108 + *(double *)&v111;
    _XMM2 = v114;
    __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
    *((_QWORD *)&v114 + 1) = *((_QWORD *)&v107 + 1);
    *(double *)&v114 = *(double *)&v107 + v113 + v113;
    _XMM2 = v114;
    *(float *)&v156[6] = *(float *)&_XMM1;
    __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
    *((_QWORD *)&v114 + 1) = *((_QWORD *)&v106 + 1);
    *(double *)&v114 = *(double *)&v106 + v112 + v112;
    _XMM2 = v114;
    *((float *)&v156[6] + 1) = *(float *)&_XMM1;
    __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
    *(float *)&v156[7] = *(float *)&_XMM1;
    *(_QWORD *)&v156[0x11] = "RayWorldIntersection(Quantum step)";
    v156[0xF] = *(double *)(a1 + 0x218);
    HIDWORD(v156[7]) = 0x11F;
    *(_QWORD *)&v156[9] = &v157;
    v156[0xE] = *(double *)(a1 + 0xB0);
    *(_QWORD *)&v156[8] = 0xF;
    LODWORD(v156[0xA]) = 1;
    *(_QWORD *)&v156[0x10] = sub_1469D1F40(v105, a1);
    sub_1467B77C0(v105, (unsigned int)v156, v5);
    if ( v157 )
    {
      v121 = *(_QWORD *)(a1 + 0x2C0);
      v147 = v159;
      v139 = 0;
      n0x1E = 0x1E;
      v149 = v158;
      v142 = 0;
      v143 = 0;
      v144 = 0xFFFFFFFF;
      v145 = 0;
      n0x16 = 0x16;
      v146 = v157;
      v148 = v160;
      sub_14680F150(v121, 1, &v139, 0);
    }
    *(_DWORD *)(a1 + 0x4A4) &= 0xFFFFE7FF;
    *(_DWORD *)(a1 + 0x4A8) &= 0xFFFFFE1F;
    v54 = COERCE_UNSIGNED_INT((float)(*(float *)(a1 + 0x520) - *(float *)(a1 + 0x524)) - *(float *)(*(_QWORD *)(a1 + 0x2C0)
                                                                                                  + 0x124LL)) >> 0x1F;
  }
  else
  {
    v54 = 1;
  }
  sub_146819290(v138);
  v135 = __rdtsc();
  qword_149B4B878(&n0x2800);
  return v54;
}

// --- End Function: sub_14687CFB0 (0x14687CFB0) ---

// --- Function: sub_1468B88B0 (0x1468B88B0) ---
__int64 __fastcall sub_1468B88B0(__int64 a1, int a2, int a3, int a4)
{
  __int64 v7; // rbp
  __int64 v9; // r8
  unsigned __int64 v10; // rax
  __int64 v11; // rcx
  __int64 p_p_p_p_p_p_p_p_p_p_p_p_Source; // rax
  __int64 v13; // rcx
  unsigned int v14; // ebx
  __int64 v15; // rsi
  __int64 v16; // rax
  __int64 v17; // rcx
  double v28; // xmm1_8
  __int128 v29; // xmm0
  double v30; // xmm1_8
  unsigned __int64 n0x200000; // rax
  char v32; // [rsp+60h] [rbp+8h] BYREF

  v7 = a1 + 0xC8;
  if ( !a2 )
  {
    v9 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
    v10 = _InterlockedCompareExchange64((volatile signed __int64 *)v7, 0x200000, 0);
    if ( v10 )
      sub_1403DCD60(v7, v10, v9, "CRigidEntity::UpdatePosition", "m_lockUpdate", 1);
    else
      *(_QWORD *)(v7 + 8) = v9;
  }
  if ( !a4 || a3 || *(double *)(a1 + 0x6B0) > 0.0 )
  {
    v13 = *(_QWORD *)(a1 + 0x210);
    v14 = 0;
    *(_OWORD *)(a1 + 0x1C0) = *(_OWORD *)v13;
    *(double *)(a1 + 0x1D0) = *(double *)(v13 + 0x10);
    *(_DWORD *)(a1 + 0x1D8) = *(_DWORD *)(v13 + 0x18);
    *(_DWORD *)(a1 + 0x1DC) = *(_DWORD *)(v13 + 0x1C);
    *(_DWORD *)(a1 + 0x1E0) = *(_DWORD *)(v13 + 0x20);
    p_p_p_p_p_p_p_p_p_p_p_p_Source = *(unsigned int *)(v13 + 0x24);
    *(_DWORD *)(a1 + 0x1E4) = p_p_p_p_p_p_p_p_p_p_p_p_Source;
    if ( *(int *)(a1 + 0x290) > 0 )
    {
      v15 = 0;
      do
      {
        p_p_p_p_p_p_p_p_p_p_p_p_Source = *(_QWORD *)(a1 + 0x230) + 0x20LL * (int)v14;
        if ( *(_QWORD *)(v15 + *(_QWORD *)(a1 + 0x280)) != p_p_p_p_p_p_p_p_p_p_p_p_Source )
          p_p_p_p_p_p_p_p_p_p_p_p_Source = sub_1466D3BF0(a1 + 0x228, v14);
        ++v14;
        v15 += 8;
      }
      while ( (signed int)v14 < *(_DWORD *)(a1 + 0x290) );
    }
    if ( a3 )
    {
      v28 = *(double *)(a1 + 0x3F8);
      *(_OWORD *)(a1 + 0x418) = *(_OWORD *)(a1 + 0x3E8);
      v29 = *(_OWORD *)(a1 + 0x400);
      *(double *)(a1 + 0x428) = v28;
      v30 = *(double *)(a1 + 0x410);
      *(_OWORD *)(a1 + 0x430) = v29;
      *(double *)(a1 + 0x440) = v30;
      if ( (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
        p_p_p_p_p_p_p_p_p_p_p_p_Source = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
    }
    else
    {
      if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x184LL) )
      {
        v16 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, &v32);
        if ( (unsigned __int8)sub_1466B0E10(a1 + 0x228, v16, 0xFFFFFFFFLL) )
        {
          v17 = *(_QWORD *)(a1 + 0x2C0);
          *(_WORD *)(a1 + 0x10E) |= 0x100u;
          sub_1469E86C0(v17, a1);
        }
      }
      (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x130LL))(
        a1,
        a1 + 0x418,
        ((*(_BYTE *)(a1 + 0x384) & 0x20) == 0) | 2u);
      _XMM0 = *(unsigned __int64 *)(a1 + 0x418);
      __asm { vminsd  xmm1, xmm0, qword ptr [rdi+3E8h] }
      _XMM4 = *(unsigned __int64 *)(a1 + 0x428);
      _XMM3 = *(unsigned __int64 *)(a1 + 0x3F0);
      *(double *)(a1 + 0x10) = *(double *)&_XMM1;
      __asm { vminsd  xmm2, xmm3, qword ptr [rdi+420h] }
      *(double *)(a1 + 0x18) = *(double *)&_XMM2;
      __asm { vminsd  xmm0, xmm4, qword ptr [rdi+3F8h] }
      *(double *)(a1 + 0x20) = *(double *)&_XMM0;
      _XMM1 = *(_OWORD *)(a1 + 0x430);
      _XMM5 = *(unsigned __int64 *)(a1 + 0x410);
      __asm { vmaxpd  xmm1, xmm1, xmmword ptr [rdi+400h] }
      *(_OWORD *)(a1 + 0x28) = _XMM1;
      __asm { vmaxsd  xmm0, xmm5, qword ptr [rdi+440h] }
      *(double *)(a1 + 0x38) = *(double *)&_XMM0;
      if ( (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
      *(_OWORD *)(a1 + 0x468) = *(_OWORD *)(a1 + 0x1C0);
      *(double *)(a1 + 0x478) = *(double *)(a1 + 0x1D0);
      *(_DWORD *)(a1 + 0x490) = *(_DWORD *)(a1 + 0x1D8);
      *(_DWORD *)(a1 + 0x494) = *(_DWORD *)(a1 + 0x1DC);
      *(_DWORD *)(a1 + 0x498) = *(_DWORD *)(a1 + 0x1E0);
      p_p_p_p_p_p_p_p_p_p_p_p_Source = *(unsigned int *)(a1 + 0x1E4);
      *(_DWORD *)(a1 + 0x49C) = p_p_p_p_p_p_p_p_p_p_p_p_Source;
    }
  }
  else
  {
    v11 = *(_QWORD *)(a1 + 0x2C0);
    *(_WORD *)(a1 + 0x10E) |= 0x808u;
    p_p_p_p_p_p_p_p_p_p_p_p_Source = sub_1469E86C0(v11, a1);
  }
  if ( v7 && !a2 )
  {
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v7, 0, 0x200000);
    if ( n0x200000 == 0x200000 )
    {
      p_p_p_p_p_p_p_p_p_p_p_p_Source = (__int64)&p_p_p_p_p_p_p_p_p_p_p_Source;
      *(_QWORD *)(v7 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    }
    else
    {
      return (__int64)sub_1403DD380(v7, n0x200000);
    }
  }
  return p_p_p_p_p_p_p_p_p_p_p_p_Source;
}

// --- End Function: sub_1468B88B0 (0x1468B88B0) ---

// --- Function: sub_1469E86C0 (0x1469E86C0) ---
void __fastcall sub_1469E86C0(__int64 a1, __int64 a2)
{
  __int64 n0x1E; // rdi
  __int64 v4; // rbx
  __int64 v5; // r8
  unsigned __int64 v6; // rax
  _BYTE *v7; // rdx
  __int64 v8; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v10; // [rsp+58h] [rbp+10h] BYREF

  v10 = a2;
  if ( *(int *)(a2 + 0xF0) >= 0 && !_InterlockedCompareExchange16((volatile signed __int16 *)(a2 + 0x110), 1, 0) )
  {
    n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x910LL);
    v4 = a1 + 0x10 * (n0x1E + 0x8673);
    if ( (_DWORD)n0x1E == 0x1E )
    {
      v5 = *(_QWORD *)(NtCurrentTeb_w() + 0x20);
      v6 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0x200000, 0);
      if ( v6 )
        sub_1403DCD60(
          a1 + 0x10 * (n0x1E + 0x8673),
          v6,
          v5,
          "CPhysicalWorld::RegisterForRecompute",
          "m_lockRecomputeList[iCaller]",
          1);
      else
        *(_QWORD *)(v4 + 8) = v5;
    }
    v7 = *(_BYTE **)(a1 + 0x18 * (n0x1E + 0x58C9) + 8);
    v8 = a1 + 0x18 * (n0x1E + 0x58C9);
    if ( v7 == *(_BYTE **)(v8 + 0x10) )
    {
      sub_1402A6B30(v8, v7, &v10);
    }
    else
    {
      *(_QWORD *)v7 = v10;
      *(_QWORD *)(v8 + 8) += 8LL;
    }
    if ( v4 && (_DWORD)n0x1E == 0x1E )
    {
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        *(_QWORD *)(v4 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        sub_1403DD380(a1 + 0x10 * (n0x1E + 0x8673), n0x200000);
    }
  }
}

// --- End Function: sub_1469E86C0 (0x1469E86C0) ---

