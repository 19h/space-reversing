// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Function: 0x146705200 (CPhysicalEntity::ComputeBBox)
// Caller Depth: 0
// Callee/Ref Depth: 2
// Total Functions Found: 13
// ------------------------------------------------------------

// --- Function: get_tls_data_offset_784 (0x1402C4010) ---
// Retrieves a pointer to a thread-specific data structure. Accesses the TEB's
// ThreadLocalStoragePointer array using the global TlsIndex, retrieves the base
// pointer for this thread's data, and adds a fixed offset of 784 bytes.
__int64 get_tls_data_offset_784()
{
  return *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x310LL;
}

// --- End Function: get_tls_data_offset_784 (0x1402C4010) ---

// --- Function: sub_1403D85B0 (0x1403D85B0) ---
unsigned __int64 __fastcall sub_1403D85B0(
        volatile signed __int64 *a1,
        unsigned __int64 a2,
        __int64 a3,
        __int64 a4,
        __int64 a5,
        char a6)
{
  if ( a6 && *(_BYTE *)(get_tls_data_offset_784() + 0x1C) && qword_14981D3D8 )
  {
    return sub_1403D8640(a1, a2);
  }
  else
  {
    return sub_1403D8810(a1, a2);
  }
}

// --- End Function: sub_1403D85B0 (0x1403D85B0) ---

// --- Function: sub_1403D8640 (0x1403D8640) ---
signed __int64 __fastcall sub_1403D8640(volatile signed __int64 *a1, unsigned __int64 a2)
{
  __int64 v2; // r15
  __int64 tls_data_offset_784; // rax
  __int64 v6; // rsi
  unsigned int v7; // r14d
  bool v8; // zf
  signed __int64 result; // rax
  unsigned __int64 v10; // rdx
  signed __int64 v11; // rax
  signed __int64 v12; // rax
  int n0x1600; // [rsp+30h] [rbp-81h] BYREF
  __int64 v14; // [rsp+34h] [rbp-7Dh]
  int v15; // [rsp+3Ch] [rbp-75h]
  __int64 v16; // [rsp+40h] [rbp-71h]
  unsigned __int64 v17; // [rsp+48h] [rbp-69h]
  __int64 v18; // [rsp+50h] [rbp-61h]
  __int64 v19; // [rsp+58h] [rbp-59h]
  int n0x1600_1; // [rsp+80h] [rbp-31h] BYREF
  __int64 v21; // [rsp+84h] [rbp-2Dh]
  int v22; // [rsp+8Ch] [rbp-25h]
  __int64 v23; // [rsp+90h] [rbp-21h]
  unsigned __int64 v24; // [rsp+98h] [rbp-19h]
  __int64 v25; // [rsp+A0h] [rbp-11h]
  __int64 v26; // [rsp+A8h] [rbp-9h]
  char v27; // [rsp+110h] [rbp+5Fh] BYREF
  char v28; // [rsp+118h] [rbp+67h] BYREF

  v2 = qword_14981D318;
  tls_data_offset_784 = get_tls_data_offset_784();
  v6 = *(_QWORD *)tls_data_offset_784;
  v7 = *(_DWORD *)(*(_QWORD *)tls_data_offset_784 + 0x1CLL);
  (*(void (__fastcall **)(__int64, char *, char *))(*(_QWORD *)v2 + 0xF8LL))(v2, &v28, &v27);
  do
  {
    while ( (a2 & 0x2003FF) != 0 )
    {
      v10 = (unsigned __int64)v7 << 0x30;
      if ( (a2 & 0xFFFF000000000000uLL) != 0 )
      {
        *(_DWORD *)(v6 + 0x24) = HIWORD(a2);
        v11 = _InterlockedCompareExchange64(a1, v10 | a2 & 0xFFFFFFFFFFFFLL, a2);
        v8 = a2 == v11;
        a2 = v11;
        if ( v8 )
        {
          n0x1600 = 0x1600;
          v14 = 0;
          v15 = 0;
          v17 = 0;
          v18 = 0;
          v19 = 0;
          v16 = 1;
          psub_7FF6AAB938D0(
            &n0x1600,
            0,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            0);
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v2 + 0xE8LL))(v2, v7);
          a2 = *a1;
          v7 = *(_DWORD *)(v6 + 0x1C);
          v17 = __rdtsc();
          psub_7FF6AAB93930(&n0x1600);
        }
      }
      else
      {
        *(_DWORD *)(v6 + 0x24) = 0xFFFFFFFF;
        v12 = _InterlockedCompareExchange64(a1, a2 | v10, a2);
        v8 = a2 == v12;
        a2 = v12;
        if ( v8 )
        {
          n0x1600_1 = 0x1600;
          v21 = 0;
          v22 = 0;
          v24 = 0;
          v25 = 0;
          v26 = 0;
          v23 = 1;
          psub_7FF6AAB938D0(
            &n0x1600_1,
            0,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            0);
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v2 + 0xE8LL))(v2, v7);
          a2 = *a1;
          v7 = *(_DWORD *)(v6 + 0x1C);
          v24 = __rdtsc();
          psub_7FF6AAB93930(&n0x1600_1);
        }
      }
    }
    result = _InterlockedCompareExchange64(a1, a2 | 0x200000, a2);
    v8 = a2 == result;
    a2 = result;
  }
  while ( !v8 );
  return result;
}

// --- End Function: sub_1403D8640 (0x1403D8640) ---

// --- Function: sub_1403D8810 (0x1403D8810) ---
signed __int64 __fastcall sub_1403D8810(volatile signed __int64 *a1, signed __int64 a2)
{
  char v2; // r14
  signed __int64 v5; // rcx
  bool v6; // zf
  signed __int64 result; // rax
  int v8; // esi
  signed __int64 v9; // rax
  int v10; // [rsp+38h] [rbp-71h] BYREF
  _DWORD v11[3]; // [rsp+3Ch] [rbp-6Dh] BYREF
  int n0x1600; // [rsp+48h] [rbp-61h] BYREF
  __int64 v13; // [rsp+4Ch] [rbp-5Dh]
  int v14; // [rsp+54h] [rbp-55h]
  __int64 v15; // [rsp+58h] [rbp-51h]
  unsigned __int64 v16; // [rsp+60h] [rbp-49h]
  __int64 v17; // [rsp+68h] [rbp-41h]
  __int64 v18; // [rsp+70h] [rbp-39h]
  int n0x1600_1; // [rsp+98h] [rbp-11h] BYREF
  __int64 v20; // [rsp+9Ch] [rbp-Dh]
  int v21; // [rsp+A4h] [rbp-5h]
  __int64 v22; // [rsp+A8h] [rbp-1h]
  unsigned __int64 v23; // [rsp+B0h] [rbp+7h]
  __int64 v24; // [rsp+B8h] [rbp+Fh]
  __int64 v25; // [rsp+C0h] [rbp+17h]

  v2 = 0;
  do
  {
    while ( 1 )
    {
      if ( (a2 & 0xFFC00) != 0 )
      {
        (*(void (__fastcall **)(__int64, volatile signed __int64 *))(*(_QWORD *)qword_14981D318 + 0x128LL))(
          qword_14981D318,
          a1);
      }
      if ( (a2 & 0x2003FF) == 0 )
      {
        break;
      }
      if ( v2 )
      {
        n0x1600 = 0x1600;
        v13 = 0;
        v14 = 0;
        v16 = 0;
        v17 = 0;
        v18 = 0;
        v15 = 1;
        psub_7FF6AAB938D0(
          &n0x1600,
          0,
          &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
          &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
          0);
        v10 = a2;
        off_149808B88(a1, &v10, 4, 0xFFFFFFFFLL);
        a2 = *a1;
        v16 = __rdtsc();
        psub_7FF6AAB93930(&n0x1600);
      }
      else
      {
        v8 = a2 + 0x400000;
        v9 = _InterlockedCompareExchange64(a1, a2 + 0x400000, a2);
        v6 = a2 == v9;
        a2 = v9;
        if ( v6 )
        {
          n0x1600_1 = 0x1600;
          v20 = 0;
          v21 = 0;
          v23 = 0;
          v2 = 1;
          v24 = 0;
          v25 = 0;
          v22 = 1;
          psub_7FF6AAB938D0(
            &n0x1600_1,
            0,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
            0);
          v11[0] = v8;
          off_149808B88(a1, v11, 4, 0xFFFFFFFFLL);
          a2 = *a1;
          v23 = __rdtsc();
          psub_7FF6AAB93930(&n0x1600_1);
        }
      }
    }
    v5 = (a2 | 0x200000) - 0x400000;
    if ( !v2 )
    {
      v5 = a2 | 0x200000;
    }
    result = _InterlockedCompareExchange64(a1, v5, a2);
    v6 = a2 == result;
    a2 = result;
  }
  while ( !v6 );
  return result;
}

// --- End Function: sub_1403D8810 (0x1403D8810) ---

// --- Function: sub_1403D8A00 (0x1403D8A00) ---
__int64 __fastcall sub_1403D8A00(volatile signed __int64 *a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdi
  unsigned int v5; // edx
  signed __int64 v6; // rax
  __int64 result; // rax
  __int64 v8; // rdi
  __int64 v9; // r8
  int v10; // ecx
  __int64 v11; // r8
  unsigned __int64 v12; // rbx
  int v13; // [rsp+70h] [rbp+8h] BYREF
  int v14; // [rsp+78h] [rbp+10h] BYREF
  __int64 v15; // [rsp+80h] [rbp+18h] BYREF
  __int64 v16; // [rsp+88h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFFFFD003FFuLL;
    if ( (a2 & 0xFFFF00100000LL) != 0 )
    {
      v4 = a2 & 0xFFFF0000FFC003FFuLL;
    }
    else if ( (a2 & 0xFFC003FF) == 0 && (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_14981D318 + 0xF8LL))(
        qword_14981D318,
        &v16,
        &v14);
      v4 = a2 & 0xFFFFFFD003FFLL;
      v5 = *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned int)(v14 - 1)) + v16 + 0x24);
      if ( v5 != 0xFFFFFFFF )
      {
        v4 |= (unsigned __int64)v5 << 0x30;
      }
    }
    v6 = _InterlockedCompareExchange64(a1, v4, a2);
    if ( a2 == v6 )
    {
      break;
    }
    a2 = v6;
  }
  if ( (a2 & 0x3FF) != 0 )
  {
    if ( (a2 & 0x100000) != 0 )
    {
      off_149808B98(a1);
    }
    result = 0xFFFF00000000LL;
    if ( (a2 & 0xFFFF00000000LL) != 0 )
    {
      v8 = qword_14981D318;
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_14981D318 + 0xF8LL))(
        qword_14981D318,
        &v15,
        &v13);
      v9 = v15 + 0xC0 * (WORD2(a2) & (unsigned __int64)(unsigned int)(v13 - 1));
      LODWORD(a2) = *(_DWORD *)(v9 + 0x24);
      *(_DWORD *)(v9 + 0x1C) = (unsigned __int16)(WORD2(a2) + v13);
      for ( result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0xD8LL))(v8);
            (_DWORD)a2 != 0xFFFFFFFF;
            result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0xD8LL))(v8) )
      {
        v10 = (unsigned __int16)(a2 + v13);
        v11 = v15 + 0xC0LL * ((unsigned int)a2 & (v13 - 1));
        LODWORD(a2) = *(_DWORD *)(v11 + 0x24);
        *(_DWORD *)(v11 + 0x1C) = v10;
      }
    }
  }
  else
  {
    result = 0xFFC00000LL;
    if ( (a2 & 0xFFC00000) != 0 )
    {
      return off_149808B90(a1);
    }
    else if ( (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_14981D318 + 0xF8LL))(
        qword_14981D318,
        &v15,
        &v13);
      v12 = HIWORD(a2);
      *(_DWORD *)(0xC0LL * ((unsigned int)v12 & (v13 - 1)) + v15 + 0x1C) = (unsigned __int16)(v12 + v13);
      return (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_14981D318 + 0xD8LL))(
               qword_14981D318,
               (unsigned int)v12);
    }
  }
  return result;
}

// --- End Function: sub_1403D8A00 (0x1403D8A00) ---

// --- Function: sub_14643E400 (0x14643E400) ---
__int64 __fastcall sub_14643E400(__int64 a1, int a2, char **a3)
{
  unsigned int n0x40; // edx
  __int64 v8; // rax
  __int128 _XMM0; // xmm2
  int v10; // r8d
  _QWORD *v11; // r10
  int v12; // r9d
  __int64 v15; // rdi
  __int64 v16; // rbp
  int n8; // r14d
  __int64 v18; // r11
  int n3; // ecx
  int n3_1; // ecx
  int n3_2; // ecx
  int n3_3; // ecx
  _QWORD *v31; // r11
  _QWORD *v32; // rdi
  __int64 v33; // rax
  __int64 v34; // rcx
  char *v35; // rcx
  char **v36; // r9
  _QWORD *v37; // r8
  char *v38; // r11
  char *v39; // r9
  char *v40; // rcx
  __int64 v41; // rcx

  if ( (*(_DWORD *)(a1 + 0x184) & 4) != 0 )
  {
    return (*(__int64 (**)(void))(a1 + 0x190))();
  }
  n0x40 = *(_DWORD *)(a1 + 0x170);
  if ( n0x40 )
  {
    if ( n0x40 == 1 )
    {
      return **(_DWORD **)(a1 + 0x30) != a2;
    }
    LODWORD(v8) = *(_DWORD *)(a1 + 0x170);
    if ( (int)n0x40 <= 0x40 )
    {
      _XMM0 = XMM0;
      v10 = 0;
      v11 = (_QWORD *)(a1 + 0x40);
      v12 = 0;
      __asm
      {
        vpinsrd xmm2, xmm2, ebx, 0
        vpunpcklqdq xmm2, xmm2, xmm2
      }
      if ( (int)(n0x40 & 0xFFFFFFF8) <= 0 )
      {
LABEL_18:
        v31 = v11;
        v32 = v11;
        switch ( n0x40 & 7 )
        {
          case 1u:
            goto LABEL_39;
          case 2u:
            goto LABEL_37;
          case 3u:
            goto LABEL_35;
          case 4u:
            goto LABEL_33;
          case 5u:
            goto LABEL_31;
          case 6u:
            goto LABEL_29;
          case 7u:
            v33 = *v11;
            v34 = v12;
            if ( *(_DWORD *)(*v11 + 8LL * v12) == a2 )
            {
              goto LABEL_40;
            }
            v10 = 1;
            v31 = (_QWORD *)(a1 + 0x40);
LABEL_29:
            v32 = v31;
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == a2 )
            {
              goto LABEL_40;
            }
            ++v10;
LABEL_31:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == a2 )
            {
              goto LABEL_40;
            }
            ++v10;
            v11 = v32;
LABEL_33:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == a2 )
            {
              goto LABEL_40;
            }
            ++v10;
LABEL_35:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == a2 )
            {
              goto LABEL_40;
            }
            ++v10;
LABEL_37:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == a2 )
            {
              goto LABEL_40;
            }
            ++v10;
LABEL_39:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == a2 )
            {
LABEL_40:
              n0x40 = *(_DWORD *)(v33 + 8 * v34 + 4);
            }
            break;
          default:
            return n0x40;
        }
      }
      else
      {
        v15 = *v11;
        v16 = 0;
        n8 = 8;
        v18 = *v11 + 0x20LL;
        while ( 1 )
        {
          _mm_prefetch((const char *)(v15 + 8LL * n8), 1);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11-20h]
            vmovmskps ecx, xmm1
          }
          n3 = _ECX - 1;
          if ( !n3 )
          {
            return *(unsigned int *)(v15 + 8LL * v12 + 4);
          }
          if ( n3 == 3 )
          {
            return *(unsigned int *)(v15 + 8LL * v12 + 0xC);
          }
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11-10h]
            vmovmskps ecx, xmm1
          }
          n3_1 = _ECX - 1;
          if ( !n3_1 )
          {
            return *(unsigned int *)(v15 + 8LL * v12 + 0x14);
          }
          if ( n3_1 == 3 )
          {
            return *(unsigned int *)(v15 + 8LL * v12 + 0x1C);
          }
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11]
            vmovmskps ecx, xmm1
          }
          n3_2 = _ECX - 1;
          if ( !n3_2 )
          {
            return *(unsigned int *)(v15 + 8LL * v12 + 0x24);
          }
          if ( n3_2 == 3 )
          {
            return *(unsigned int *)(v15 + 8LL * v12 + 0x2C);
          }
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11+10h]
            vmovmskps ecx, xmm1
          }
          n3_3 = _ECX - 1;
          if ( !n3_3 )
          {
            return *(unsigned int *)(v15 + 8LL * v12 + 0x34);
          }
          if ( n3_3 == 3 )
          {
            return *(unsigned int *)(v15 + 8LL * v12 + 0x3C);
          }
          v12 += 8;
          n8 += 8;
          v16 += 8;
          v18 += 0x40;
          if ( v16 >= (int)(n0x40 & 0xFFFFFFF8) )
          {
            goto LABEL_18;
          }
        }
      }
      return n0x40;
    }
    if ( a3 )
    {
      v35 = *a3;
      v36 = (char **)(a1 + 0x40);
      *a3 = 0;
      v37 = (_QWORD *)(a1 + 0x40);
      v8 = *(int *)(a1 + 0x170);
      if ( v35 )
      {
        v38 = *v36;
        if ( *(_DWORD *)v35 >= a2 )
        {
          v39 = *v36;
          v37 = (_QWORD *)(a1 + 0x40);
          v40 = v35 + 8;
        }
        else
        {
          v39 = v35;
          v37 = (_QWORD *)(a1 + 0x40);
          v40 = &v38[8 * v8];
        }
        goto LABEL_48;
      }
    }
    else
    {
      v36 = (char **)(a1 + 0x40);
      v37 = (_QWORD *)(a1 + 0x40);
    }
    v39 = *v36;
    v40 = &v39[8 * (int)v8];
LABEL_48:
    v41 = (v40 - v39) >> 3;
    if ( v41 > 0 )
    {
      do
      {
        if ( *(_DWORD *)&v39[8 * ((unsigned __int64)v41 >> 1)] >= a2 )
        {
          v41 = (unsigned __int64)v41 >> 1;
        }
        else
        {
          v39 += 8 * ((unsigned __int64)v41 >> 1) + 8;
          v41 += 0xFFFFFFFFFFFFFFFFuLL - ((unsigned __int64)v41 >> 1);
        }
      }
      while ( v41 > 0 );
      v37 = (_QWORD *)(a1 + 0x40);
    }
    if ( v39 != (char *)(*v37 + 8LL * *(int *)(a1 + 0x170)) && *(_DWORD *)v39 == a2 )
    {
      if ( a3 )
      {
        *a3 = v39;
      }
      return *((unsigned int *)v39 + 1);
    }
  }
  return n0x40;
}

// --- End Function: sub_14643E400 (0x14643E400) ---

// --- Function: sub_14646C630 (0x14646C630) ---
double __fastcall sub_14646C630(__int64 a1, __int64 a2, __int64 a3, __int64 a4, __int64 a5)
{
  __int128 v5; // xmm6
  __int64 v9; // r8
  int n0x2800; // [rsp+40h] [rbp-68h] BYREF
  __int64 v12; // [rsp+44h] [rbp-64h]
  int v13; // [rsp+4Ch] [rbp-5Ch]
  __int64 v14; // [rsp+50h] [rbp-58h]
  unsigned __int64 v15; // [rsp+58h] [rbp-50h]
  __int64 v16; // [rsp+60h] [rbp-48h]
  __int64 v17; // [rsp+68h] [rbp-40h]
  __int128 v18; // [rsp+90h] [rbp-18h]

  n0x2800 = 0x2800;
  v12 = 0;
  v13 = 0;
  v18 = v5;
  v15 = 0;
  v16 = 0;
  v17 = 0;
  v14 = 1;
  psub_7FF6AAB938D0(
    &n0x2800,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  qword_149D31388(
    a2,
    a3,
    v9,
    *(unsigned int *)(a1 + 0x68),
    *(_QWORD *)(*(_QWORD *)(a1 + 0x78) + 0x18LL),
    *(_QWORD *)a1,
    a5);
  v15 = __rdtsc();
  return psub_7FF6AAB93930(&n0x2800);
}

// --- End Function: sub_14646C630 (0x14646C630) ---

// --- Function: sub_14647B2F0 (0x14647B2F0) ---
double __fastcall sub_14647B2F0(__int64 a1, __int64 a2, __int64 a3)
{
  __int128 v3; // xmm6
  __int64 v7; // r8
  int n0x2800; // [rsp+30h] [rbp-68h] BYREF
  __int64 v10; // [rsp+34h] [rbp-64h]
  int v11; // [rsp+3Ch] [rbp-5Ch]
  __int64 v12; // [rsp+40h] [rbp-58h]
  unsigned __int64 v13; // [rsp+48h] [rbp-50h]
  __int64 v14; // [rsp+50h] [rbp-48h]
  __int64 v15; // [rsp+58h] [rbp-40h]
  __int128 v16; // [rsp+80h] [rbp-18h]

  n0x2800 = 0x2800;
  v10 = 0;
  v11 = 0;
  v16 = v3;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v12 = 1;
  psub_7FF6AAB938D0(
    &n0x2800,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  qword_149D31380(a2, a3, v7, *(unsigned int *)(a1 + 0x68), *(_QWORD *)(*(_QWORD *)(a1 + 0x78) + 0x18LL), *(_QWORD *)a1);
  v13 = __rdtsc();
  return psub_7FF6AAB93930(&n0x2800);
}

// --- End Function: sub_14647B2F0 (0x14647B2F0) ---

// --- Function: CPhysicalEntity::ComputeBBox (0x146705200) ---
double __fastcall CPhysicalEntity::ComputeBBox(__int64 physicalEntity, double *outBBox, unsigned int flags)
{
  __int64 v6; // r9
  __int64 n0x10; // rdi
  char v8; // bp
  volatile signed __int64 *v9; // rdi
  unsigned __int64 v10; // rax
  unsigned __int64 v11; // rax
  unsigned __int64 n0x200000; // rax
  int n0x2800; // [rsp+30h] [rbp-68h] BYREF
  __int64 v15; // [rsp+34h] [rbp-64h]
  int v16; // [rsp+3Ch] [rbp-5Ch]
  __int64 v17; // [rsp+40h] [rbp-58h]
  unsigned __int64 v18; // [rsp+48h] [rbp-50h]
  __int64 v19; // [rsp+50h] [rbp-48h]
  __int64 v20; // [rsp+58h] [rbp-40h]

  n0x2800 = 0x2800;
  v15 = 0;
  v16 = 0;
  v18 = 0;
  v19 = 0;
  v20 = 0;
  v17 = 1;
  psub_7FF6AAB938D0(
    &n0x2800,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  if ( *(_QWORD *)(physicalEntity + 0x220) )
  {
    for ( n0x10 = 0; n0x10 < 0x10; n0x10 += 8 )
    {
      sub_14673E790(*(__int64 **)(n0x10 + *(_QWORD *)(physicalEntity + 0x220)), physicalEntity, 0);
    }
  }
  if ( (*(_BYTE *)(physicalEntity + 0x384) & 0x20) != 0 )
  {
    if ( (flags & 2) != 0 || !*(_DWORD *)(*(_QWORD *)(physicalEntity + 0x2C0) + 0x498LL) )
    {
      v8 = 0;
      v9 = (volatile signed __int64 *)(physicalEntity + 0xC8);
    }
    else
    {
      v8 = 1;
      v9 = (volatile signed __int64 *)(physicalEntity + 0xC8);
      v10 = _InterlockedCompareExchange64((volatile signed __int64 *)(physicalEntity + 0xC8), 0x200000, 0);
      if ( v10 )
      {
        sub_1403D85B0(
          (volatile signed __int64 *)(physicalEntity + 0xC8),
          v10,
          0,
          (__int64)"CPhysicalEntity::ComputeBBox",
          (__int64)"m_lockUpdate",
          1);
        sub_146705AC0(physicalEntity, outBBox, flags);
        goto LABEL_17;
      }
    }
    sub_146705AC0(physicalEntity, outBBox, flags);
    goto LABEL_17;
  }
  if ( (flags & 2) != 0 || !*(_DWORD *)(physicalEntity + 0x290) )
  {
    v8 = 0;
    v9 = (volatile signed __int64 *)(physicalEntity + 0xC8);
  }
  else
  {
    v8 = 1;
    v9 = (volatile signed __int64 *)(physicalEntity + 0xC8);
    v11 = _InterlockedCompareExchange64((volatile signed __int64 *)(physicalEntity + 0xC8), 0x200000, 0);
    if ( v11 )
    {
      sub_1403D85B0(
        (volatile signed __int64 *)(physicalEntity + 0xC8),
        v11,
        0,
        (__int64)"CPhysicalEntity::ComputeBBox",
        (__int64)"m_lockUpdate",
        1);
    }
  }
  sub_1467053F0(physicalEntity, outBBox, flags, v6);
LABEL_17:
  if ( v9 )
  {
    if ( v8 )
    {
      n0x200000 = _InterlockedCompareExchange64(v9, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
      {
        sub_1403D8A00(v9, n0x200000);
      }
    }
  }
  v18 = __rdtsc();
  return psub_7FF6AAB93930(&n0x2800);
}

// --- End Function: CPhysicalEntity::ComputeBBox (0x146705200) ---

// --- Function: sub_1467053F0 (0x1467053F0) ---
__int64 __fastcall sub_1467053F0(__int64 physicalEntity, double *outBBox, unsigned int flags, __int64 a4)
{
  __int64 v6; // rsi
  __int64 v7; // rcx
  __int64 result; // rax
  float v9; // xmm0_4
  float v10; // xmm3_4
  float v11; // xmm5_4
  float v12; // xmm4_4
  float v13; // xmm2_4
  float v14; // xmm1_4
  float v15; // xmm0_4
  __int64 v18; // rcx
  __int64 n2; // rdx
  float v24; // xmm14_4
  float v25; // xmm11_4
  __int128 v26; // xmm12
  float v27; // xmm4_4
  float v28; // xmm15_4
  float v29; // xmm13_4
  float v30; // xmm8_4
  float v31; // xmm10_4
  float v32; // xmm9_4
  float v33; // xmm7_4
  float v34; // xmm6_4
  float v35; // xmm4_4
  float v36; // xmm5_4
  float v37; // xmm1_4
  float v38; // xmm13_4
  float v39; // xmm15_4
  float v40; // xmm1_4
  __int128 v41; // kr00_16
  __int128 v42; // xmm7
  float v43; // xmm3_4
  __int128 n0x3F800000_1; // xmm12
  __int128 n0x3F800000; // kr00_16
  float v46; // xmm4_4
  float v47; // xmm11_4
  float v48; // xmm9_4
  float v49; // xmm10_4
  __int128 n0x3F800000_2; // kr00_16
  float v51; // xmm6_4
  float v52; // xmm8_4
  float v53; // xmm5_4
  __int128 v54; // kr00_16
  __int128 v55; // xmm14
  __int128 n0x3F800000_3; // kr00_16
  __int128 v57; // kr00_16
  __int128 v58; // xmm4
  __int128 v59; // kr00_16
  float v62; // xmm0_4
  __int128 v65; // kr00_16
  float v66; // xmm1_4
  __int128 v69; // xmm3
  double v82; // xmm1_8
  __int128 v83; // xmm0
  double v84; // xmm1_8
  double v85; // xmm1_8
  float v86; // [rsp+30h] [rbp-148h]
  float v87; // [rsp+34h] [rbp-144h]
  float v88; // [rsp+38h] [rbp-140h]
  float v89; // [rsp+3Ch] [rbp-13Ch]
  float v90; // [rsp+40h] [rbp-138h]
  __int128 v91; // [rsp+78h] [rbp-100h] BYREF
  double v92; // [rsp+88h] [rbp-F0h]
  __int128 v93; // [rsp+90h] [rbp-E8h]
  double v94; // [rsp+A0h] [rbp-D8h]
  double v95; // [rsp+A8h] [rbp-D0h]
  double v96; // [rsp+B0h] [rbp-C8h]
  double v97; // [rsp+B8h] [rbp-C0h]
  float v98; // [rsp+180h] [rbp+8h]
  float v99; // [rsp+198h] [rbp+20h]

  if ( *(_DWORD *)(physicalEntity + 0x290) )
  {
    v6 = *(_QWORD *)(physicalEntity + 0x210);
    sub_14646C630(physicalEntity + 0x228, v6, v6 + 0x18, a4, (__int64)&v91);
    v7 = *(_QWORD *)(physicalEntity + 0x2A0);
    *(double *)(physicalEntity + 0x1E8) = *(double *)(v7 + 0x100);
    *(_DWORD *)(physicalEntity + 0x1F0) = *(_DWORD *)(v7 + 0x108);
    *(double *)(physicalEntity + 0x1F4) = *(double *)(v7 + 0x110);
    result = *(unsigned int *)(v7 + 0x118);
    v9 = *(float *)(physicalEntity + 0x200);
    *(_DWORD *)(physicalEntity + 0x1FC) = result;
    v10 = v9 * *(float *)(physicalEntity + 0x1FC);
    v11 = v9 * *(float *)(physicalEntity + 0x1F4);
    v12 = v9 * *(float *)(physicalEntity + 0x1F8);
    v13 = v9 * *(float *)(physicalEntity + 0x1E8);
    v14 = v9 * *(float *)(physicalEntity + 0x1EC);
    v15 = v9 * *(float *)(physicalEntity + 0x1F0);
    *(float *)(physicalEntity + 0x1FC) = v10;
    *(float *)&_XMM9 = v15 - v10;
    *(float *)&_XMM12 = v15 + v10;
    *(float *)(physicalEntity + 0x1F0) = v15;
    *(float *)(physicalEntity + 0x1F4) = v11;
    *(float *)(physicalEntity + 0x1F8) = v12;
    *(float *)(physicalEntity + 0x1E8) = v13;
    *(float *)(physicalEntity + 0x1EC) = v14;
    v18 = *(_QWORD *)(physicalEntity + 0x220);
    *(float *)&_XMM7 = v13 - v11;
    *(float *)&_XMM8 = v14 - v12;
    *(float *)&_XMM10 = v13 + v11;
    *(float *)&_XMM11 = v14 + v12;
    v99 = v13 - v11;
    v86 = v14 - v12;
    v87 = v15 - v10;
    v88 = v13 + v11;
    v89 = v14 + v12;
    v90 = v15 + v10;
    if ( v18 )
    {
      n2 = 2;
      do
      {
        result = *(_QWORD *)v18;
        v24 = *(float *)(v6 + 0x18);
        v25 = *(float *)(v6 + 0x1C);
        v26 = *(unsigned int *)(v6 + 0x20);
        v27 = *(float *)(v6 + 0x24);
        v28 = *(float *)(*(_QWORD *)v18 + 0x18LL);
        v29 = *(float *)(*(_QWORD *)v18 + 0x1CLL);
        v30 = (float)(v28 + *(float *)(*(_QWORD *)v18 + 0x24LL)) * 0.5;
        v31 = (float)(*(float *)(*(_QWORD *)v18 + 0x2CLL) + *(float *)(*(_QWORD *)v18 + 0x20LL)) * 0.5;
        v32 = (float)(v29 + *(float *)(*(_QWORD *)v18 + 0x28LL)) * 0.5;
        v33 = (float)((float)(v25 * v31) - (float)(*(float *)&v26 * v32)) + (float)(v30 * v27);
        v34 = (float)((float)(v30 * *(float *)&v26) - (float)(v24 * v31)) + (float)(v27 * v32);
        v35 = (float)((float)(v24 * v32) - (float)(v30 * v25)) + (float)(v27 * v31);
        v36 = *(float *)(v6 + 0x24);
        v95 = (float)((float)(v30 + (float)((float)(v25 * v35) - (float)(*(float *)&v26 * v34)))
                    + (float)((float)(v25 * v35) - (float)(*(float *)&v26 * v34)))
            + *(double *)v6;
        v96 = (float)((float)(v32 + (float)((float)(*(float *)&v26 * v33) - (float)(v24 * v35)))
                    + (float)((float)(*(float *)&v26 * v33) - (float)(v24 * v35)))
            + *(double *)(v6 + 8);
        v37 = *(float *)(result + 0x24);
        v97 = (float)((float)(v31 + (float)((float)(v24 * v34) - (float)(v25 * v33)))
                    + (float)((float)(v24 * v34) - (float)(v25 * v33)))
            + *(double *)(v6 + 0x10);
        v38 = (float)(*(float *)(result + 0x28) - v29) * 0.5;
        v39 = (float)(v37 - v28) * 0.5;
        v41 = v26;
        v40 = *(float *)&v26 + *(float *)&v26;
        *(float *)&v41 = (float)(*(float *)&v26 + *(float *)&v26) * *(float *)(v6 + 0x1C);
        v42 = v41;
        v98 = (float)(*(float *)(result + 0x2C) - *(float *)(result + 0x20)) * 0.5;
        v43 = v25 + v25;
        n0x3F800000 = 0x3F800000u;
        *(float *)&n0x3F800000 = 1.0 - (float)(v24 * (float)(v24 + v24));
        n0x3F800000_1 = n0x3F800000;
        v46 = v40 * *(float *)(v6 + 0x20);
        v47 = v25 * (float)(v25 + v25);
        v48 = v36 * (float)(v24 + v24);
        v49 = v36 * v43;
        n0x3F800000_2 = 0x3F800000u;
        v51 = v24 * v43;
        v52 = v24 * v40;
        v53 = v36 * v40;
        *(float *)&n0x3F800000_2 = (float)(1.0 - v47) - v46;
        v54 = n0x3F800000_2 & 0x7FFFFFFF;
        *(double *)&v54 = (float)((float)((float)(*(float *)&v54 * v39) + (float)(fabs((float)(v24 * v43) - v53) * v38))
                                + (float)(fabs((float)(v24 * v40) + v49) * v98));
        v55 = v54;
        n0x3F800000_3 = n0x3F800000_1;
        *(float *)&n0x3F800000_3 = *(float *)&n0x3F800000_1 - v46;
        v57 = n0x3F800000_3 & xmmword_147F335A0;
        *(double *)&v57 = (float)((float)((float)(*(float *)&v57 * v38) + (float)(fabs(v53 + v51) * v39))
                                + (float)(fabs(*(float *)&v42 - v48) * v98));
        v58 = v57;
        v59 = v42;
        *(float *)&v59 = *(float *)&v42 + v48;
        _XMM7 = LODWORD(v99);
        __asm { vminss  xmm7, xmm7, dword ptr [rax+18h] }
        _XMM9 = LODWORD(v87);
        __asm { vminss  xmm9, xmm9, dword ptr [rax+20h] }
        v62 = v52 - v49;
        _XMM8 = LODWORD(v86);
        __asm { vminss  xmm8, xmm8, dword ptr [rax+1Ch] }
        _XMM10 = LODWORD(v88);
        __asm { vmaxss  xmm10, xmm10, dword ptr [rax+24h] }
        v65 = v59 & 0x7FFFFFFF;
        v66 = *(float *)&n0x3F800000_1 - v47;
        _XMM11 = LODWORD(v89);
        __asm { vmaxss  xmm11, xmm11, dword ptr [rax+28h] }
        _XMM12 = LODWORD(v90);
        __asm { vmaxss  xmm12, xmm12, dword ptr [rax+2Ch] }
        *(double *)&v65 = (float)((float)((float)(*(float *)&v65 * v38)
                                        + (float)(COERCE_FLOAT(LODWORD(v62) & 0x7FFFFFFF) * v39))
                                + (float)(COERCE_FLOAT(LODWORD(v66) & 0x7FFFFFFF) * v98));
        v69 = v65;
        _XMM0 = COERCE_UNSIGNED_INT64(v95 - *(double *)&v55);
        __asm { vminsd  xmm15, xmm0, [rsp+178h+var_130] }
        _XMM1 = COERCE_UNSIGNED_INT64(v96 - *(double *)&v58);
        __asm { vminsd  xmm13, xmm1, [rsp+178h+var_128] }
        _XMM0 = COERCE_UNSIGNED_INT64(v97 - *(double *)&v65);
        __asm { vminsd  xmm1, xmm0, [rsp+178h+var_120] }
        *((_QWORD *)&v65 + 1) = *((_QWORD *)&v55 + 1);
        *(double *)&v65 = *(double *)&v55 + v95;
        _XMM0 = v65;
        __asm { vmaxsd  xmm6, xmm0, [rsp+178h+var_118] }
        v92 = *(double *)&_XMM1;
        *((_QWORD *)&v65 + 1) = *((_QWORD *)&v58 + 1);
        *(double *)&v65 = *(double *)&v58 + v96;
        _XMM1 = v65;
        __asm { vmaxsd  xmm4, xmm1, [rsp+178h+var_110] }
        *((_QWORD *)&v65 + 1) = *((_QWORD *)&v69 + 1);
        *(double *)&v65 = *(double *)&v69 + v97;
        _XMM0 = v65;
        __asm { vmaxsd  xmm1, xmm0, [rsp+178h+var_108] }
        v99 = *(float *)&_XMM7;
        v86 = *(float *)&_XMM8;
        v87 = *(float *)&_XMM9;
        v88 = *(float *)&_XMM10;
        v89 = *(float *)&_XMM11;
        v90 = *(float *)&_XMM12;
        *(double *)&v91 = *(double *)&_XMM15;
        *((double *)&v91 + 1) = *(double *)&_XMM13;
        *(double *)&v93 = *(double *)&_XMM6;
        v18 += 8;
        *((double *)&v93 + 1) = *(double *)&_XMM4;
        v94 = *(double *)&_XMM1;
        --n2;
      }
      while ( n2 );
    }
    v82 = v92;
    *(_OWORD *)outBBox = v91;
    v83 = v93;
    outBBox[2] = v82;
    v84 = v94;
    *(_OWORD *)(outBBox + 3) = v83;
    outBBox[5] = v84;
    *(float *)(physicalEntity + 0x1E8) = (float)(*(float *)&_XMM7 + *(float *)&_XMM10) * 0.5;
    *(float *)(physicalEntity + 0x1EC) = (float)(*(float *)&_XMM11 + *(float *)&_XMM8) * 0.5;
    *(float *)(physicalEntity + 0x1F0) = (float)(*(float *)&_XMM9 + *(float *)&_XMM12) * 0.5;
    *(float *)(physicalEntity + 0x1F4) = (float)(*(float *)&_XMM10 - *(float *)&_XMM7) * 0.5;
    *(float *)(physicalEntity + 0x1F8) = (float)(*(float *)&_XMM11 - *(float *)&_XMM8) * 0.5;
    *(float *)(physicalEntity + 0x1FC) = (float)(*(float *)&_XMM12 - *(float *)&_XMM9) * 0.5;
  }
  else
  {
    *(_QWORD *)(physicalEntity + 0x1F4) = 0;
    *(_DWORD *)(physicalEntity + 0x1FC) = 0;
    *(double *)(physicalEntity + 0x1E8) = *(double *)(physicalEntity + 0x1F4);
    *(_DWORD *)(physicalEntity + 0x1F0) = 0;
    result = *(_QWORD *)(physicalEntity + 0x210);
    *(_OWORD *)(outBBox + 3) = *(_OWORD *)result;
    v85 = *(double *)(result + 0x10);
    outBBox[5] = v85;
    *(_OWORD *)outBBox = *(_OWORD *)(outBBox + 3);
    outBBox[2] = v85;
  }
  return result;
}

// --- End Function: sub_1467053F0 (0x1467053F0) ---

// --- Function: sub_146705AC0 (0x146705AC0) ---
double __fastcall sub_146705AC0(__int64 physicalEntity, double *outBBox, char flags)
{
  __int64 v5; // rdx
  float v6; // xmm10_4
  float v7; // xmm9_4
  float v8; // xmm8_4
  float v9; // xmm13_4
  float v10; // xmm12_4
  float v11; // xmm4_4
  float v12; // xmm11_4
  float v13; // xmm15_4
  float v14; // xmm7_4
  float v15; // xmm6_4
  float v16; // xmm4_4
  float v17; // xmm3_4
  float v18; // xmm4_4
  float v19; // xmm5_4
  float v20; // kr00_4
  float v21; // xmm8_4
  float v22; // xmm1_4
  float v23; // xmm9_4
  float v24; // xmm3_4
  float v25; // xmm13_4
  float v26; // xmm3_4
  double v27; // xmm12_8
  float v28; // xmm2_4
  float v29; // xmm4_4
  double v30; // xmm11_8
  double v31; // kr00_8
  double v32; // xmm6_8
  double v33; // xmm5_8
  double v34; // xmm4_8
  double result; // xmm0_8
  float v36; // [rsp+20h] [rbp-C8h]
  float v37; // [rsp+28h] [rbp-C0h]
  float v38; // [rsp+2Ch] [rbp-BCh]
  float v39; // [rsp+30h] [rbp-B8h]
  float v40; // [rsp+F0h] [rbp+8h]
  float v41; // [rsp+F8h] [rbp+10h]
  float v42; // [rsp+108h] [rbp+20h]

  if ( (float)((float)((float)(*(float *)(physicalEntity + 0x1F4) * *(float *)(physicalEntity + 0x1F4))
                     + (float)(*(float *)(physicalEntity + 0x1F8) * *(float *)(physicalEntity + 0x1F8)))
             + (float)(*(float *)(physicalEntity + 0x1FC) * *(float *)(physicalEntity + 0x1FC))) == 0.0
    || (flags & 1) != 0 )
  {
    sub_146705E40(physicalEntity);
  }
  v5 = *(_QWORD *)(physicalEntity + 0x210);
  v6 = *(float *)(physicalEntity + 0x1F0);
  v7 = *(float *)(physicalEntity + 0x1EC);
  v8 = *(float *)(physicalEntity + 0x1E8);
  v9 = *(float *)(v5 + 0x18);
  v10 = *(float *)(v5 + 0x1C);
  v11 = *(float *)(v5 + 0x24);
  v12 = *(float *)(v5 + 0x20);
  v13 = v11 * (float)(v12 + v12);
  v41 = 1.0 - (float)((float)(v9 + v9) * v9);
  v42 = (float)(v10 + v10) * v10;
  v39 = (float)(v9 + v9) * v11;
  v38 = (float)(v12 + v12) * v10;
  v40 = v11 * (float)(v10 + v10);
  v37 = v9 * (float)(v12 + v12);
  v36 = (float)(v12 + v12) * v12;
  v14 = (float)((float)(v6 * v10) - (float)(v7 * v12)) + (float)(v8 * v11);
  v15 = (float)((float)(v8 * v12) - (float)(v6 * v9)) + (float)(v7 * v11);
  v16 = (float)((float)(v7 * v9) - (float)(v8 * v10)) + (float)(v6 * v11);
  v17 = v16 * v10;
  v18 = (float)(v14 * v12) - (float)(v9 * v16);
  v19 = v17 - (float)(v15 * v12);
  v20 = v8 + v19;
  v21 = *(float *)(physicalEntity + 0x1F8);
  v22 = v7 + v18;
  v23 = *(float *)(physicalEntity + 0x1FC);
  v24 = v9 * v15;
  v25 = v9 * (float)(v10 + v10);
  v26 = v24 - (float)(v14 * v10);
  v27 = (float)(v20 + v19) + *(double *)v5;
  v28 = v22 + v18;
  v29 = *(float *)(physicalEntity + 0x1F4);
  v30 = v28 + *(double *)(v5 + 8);
  v31 = (float)((float)(v6 + v26) + v26) + *(double *)(v5 + 0x10);
  v32 = (float)((float)((float)(fabs((float)(1.0 - v42) - v36) * v29) + (float)(fabs(v25 - v13) * v21))
              + (float)(fabs(v37 + v40) * v23));
  *outBBox = v27 - v32;
  v33 = (float)((float)((float)(fabs(v13 + v25) * v29) + (float)(fabs(v41 - v36) * v21)) + (float)(fabs(v38 - v39) * v23));
  outBBox[1] = v30 - v33;
  v34 = (float)((float)((float)(fabs(v37 - v40) * v29) + (float)(fabs(v38 + v39) * v21)) + (float)(fabs(v41 - v42) * v23));
  outBBox[2] = v31 - v34;
  outBBox[3] = v32 + v27;
  outBBox[4] = v30 + v33;
  result = v31 + v34;
  outBBox[5] = v31 + v34;
  if ( *(_DWORD *)(*(_QWORD *)(physicalEntity + 0x2C0) + 0x498LL) )
  {
    return sub_14647B2F0(physicalEntity + 0x228, v5, v5 + 0x18);
  }
  return result;
}

// --- End Function: sub_146705AC0 (0x146705AC0) ---

// --- Function: sub_146705E40 (0x146705E40) ---
__int64 *__fastcall sub_146705E40(__int64 physicalEntity)
{
  __int64 *result; // rax
  __int64 v3; // rcx
  __int128 v4; // xmm0
  float v5; // xmm5_4
  float v6; // xmm4_4
  float v7; // xmm3_4
  float v8; // xmm2_4
  __int128 v9; // xmm1
  __int128 v10; // kr00_16
  __int128 v11; // xmm0
  __int128 v12; // kr00_16
  __int128 v15; // kr00_16
  __int128 v17; // kr00_16
  __int128 v20; // kr00_16
  __int128 v22; // kr00_16
  __int64 v23; // rcx

  if ( *(_DWORD *)(physicalEntity + 0x290) )
  {
    v3 = *(_QWORD *)(physicalEntity + 0x2A0);
    *(double *)(physicalEntity + 0x1E8) = *(double *)(v3 + 0x100);
    *(_DWORD *)(physicalEntity + 0x1F0) = *(_DWORD *)(v3 + 0x108);
    *(double *)(physicalEntity + 0x1F4) = *(double *)(v3 + 0x110);
    v4 = *(unsigned int *)(physicalEntity + 0x200);
    *(_DWORD *)(physicalEntity + 0x1FC) = *(_DWORD *)(v3 + 0x118);
    v5 = *(float *)&v4 * *(float *)(physicalEntity + 0x1F4);
    v6 = *(float *)&v4 * *(float *)(physicalEntity + 0x1F8);
    v7 = *(float *)&v4 * *(float *)(physicalEntity + 0x1FC);
    v8 = *(float *)&v4 * *(float *)(physicalEntity + 0x1E8);
    v10 = v4;
    *(float *)&v10 = *(float *)&v4 * *(float *)(physicalEntity + 0x1EC);
    v9 = v10;
    v12 = v4;
    *(float *)&v12 = *(float *)&v4 * *(float *)(physicalEntity + 0x1F0);
    v11 = v12;
    *(float *)(physicalEntity + 0x1F4) = v5;
    *(float *)(physicalEntity + 0x1F8) = v6;
    *(float *)(physicalEntity + 0x1F0) = *(float *)&v12;
    *(float *)(physicalEntity + 0x1FC) = v7;
    *(float *)(physicalEntity + 0x1E8) = v8;
    *(float *)(physicalEntity + 0x1EC) = *(float *)&v9;
    result = *(__int64 **)(physicalEntity + 0x220);
    *(float *)&_XMM6 = v8 - v5;
    v15 = v9;
    *(float *)&v15 = *(float *)&v9 - v6;
    _XMM7 = v15;
    v17 = v11;
    *(float *)&v17 = *(float *)&v11 - v7;
    _XMM8 = v17;
    *(float *)&_XMM5 = v8 + v5;
    v20 = v9;
    *(float *)&v20 = *(float *)&v9 + v6;
    _XMM4 = v20;
    v22 = v11;
    *(float *)&v22 = *(float *)&v11 + v7;
    _XMM9 = v22;
    if ( result )
    {
      v23 = *result;
      result = (__int64 *)result[1];
      _XMM0 = *(unsigned int *)(v23 + 0x18);
      __asm
      {
        vminss  xmm1, xmm7, dword ptr [rcx+1Ch]
        vminss  xmm7, xmm1, dword ptr [rax+1Ch]
      }
      _XMM2 = *(unsigned int *)(v23 + 0x24);
      __asm
      {
        vminss  xmm0, xmm0, xmm6
        vminss  xmm6, xmm0, dword ptr [rax+18h]
        vminss  xmm0, xmm8, dword ptr [rcx+20h]
        vminss  xmm8, xmm0, dword ptr [rax+20h]
        vmaxss  xmm0, xmm4, dword ptr [rcx+28h]
        vmaxss  xmm4, xmm0, dword ptr [rax+28h]
        vmaxss  xmm1, xmm2, xmm5
        vmaxss  xmm5, xmm1, dword ptr [rax+24h]
        vmaxss  xmm1, xmm9, dword ptr [rcx+2Ch]
        vmaxss  xmm9, xmm1, dword ptr [rax+2Ch]
      }
    }
    *(float *)(physicalEntity + 0x1E8) = (float)(*(float *)&_XMM6 + *(float *)&_XMM5) * 0.5;
    *(float *)(physicalEntity + 0x1EC) = (float)(*(float *)&_XMM4 + *(float *)&_XMM7) * 0.5;
    *(float *)(physicalEntity + 0x1F0) = (float)(*(float *)&_XMM9 + *(float *)&_XMM8) * 0.5;
    *(float *)(physicalEntity + 0x1F4) = (float)(*(float *)&_XMM5 - *(float *)&_XMM6) * 0.5;
    *(float *)(physicalEntity + 0x1F8) = (float)(*(float *)&_XMM4 - *(float *)&_XMM7) * 0.5;
    *(float *)(physicalEntity + 0x1FC) = (float)(*(float *)&_XMM9 - *(float *)&_XMM8) * 0.5;
  }
  else
  {
    result = 0;
    *(_QWORD *)(physicalEntity + 0x1EC) = 0;
    *(_DWORD *)(physicalEntity + 0x1E8) = 0;
    *(_DWORD *)(physicalEntity + 0x1F4) = 0;
    *(float *)(physicalEntity + 0x1F8) = 0;
    *(float *)(physicalEntity + 0x1FC) = 0;
  }
  return result;
}

// --- End Function: sub_146705E40 (0x146705E40) ---

// --- Function: sub_14673E790 (0x14673E790) ---
double __fastcall sub_14673E790(__int64 *a1, __int64 a2, char a3)
{
  double result; // xmm0_8
  int v6; // xmm0_4
  int v7; // r12d
  __int64 v8; // rbp
  __int64 v9; // r15
  unsigned int v10; // r14d
  __int64 v11; // rdi
  __int64 v12; // r8
  int v13; // eax
  __int64 v14; // rdx
  float v15; // xmm0_4
  int v16; // edx
  __int64 v17; // rax
  float v18; // xmm9_4
  float v19; // xmm4_4
  __int64 v20; // rcx
  float *v21; // rax
  float v22; // xmm10_4
  float v23; // xmm7_4
  float v24; // xmm11_4
  float v25; // xmm6_4
  float v26; // xmm5_4
  float v27; // xmm8_4
  float v28; // xmm1_4
  float v29; // xmm9_4
  __int128 v30; // kr00_16
  __int128 v31; // xmm12
  float v32; // xmm0_4
  float v33; // xmm6_4
  float v34; // xmm5_4
  float v35; // xmm14_4
  float v36; // xmm11_4
  float v37; // xmm10_4
  float v38; // xmm7_4
  float v39; // xmm0_4
  float v40; // xmm8_4
  __int128 v41; // kr00_16
  float v42; // xmm6_4
  float v44; // xmm4_4
  float v46; // xmm4_4
  float v47; // xmm6_4
  float v48; // xmm7_4
  unsigned __int128 v49; // kr00_16
  unsigned __int128 v50; // xmm9
  unsigned __int128 v51; // kr00_16
  unsigned __int128 v52; // xmm8
  unsigned __int128 v53; // kr00_16
  unsigned __int128 v54; // xmm1
  __int128 v56; // kr00_16
  unsigned __int128 v57; // kr00_16
  __int128 v58; // xmm1
  unsigned __int128 v59; // xmm7
  __int128 v61; // kr00_16
  unsigned __int128 v67; // kr00_16
  unsigned __int128 v69; // kr00_16
  unsigned __int128 v71; // kr00_16
  int n0x2800; // [rsp+30h] [rbp-118h] BYREF
  __int64 v76; // [rsp+34h] [rbp-114h]
  int v77; // [rsp+3Ch] [rbp-10Ch]
  __int64 v78; // [rsp+40h] [rbp-108h]
  unsigned __int64 v79; // [rsp+48h] [rbp-100h]
  __int64 v80; // [rsp+50h] [rbp-F8h]
  __int64 v81; // [rsp+58h] [rbp-F0h]
  float v82; // [rsp+150h] [rbp+8h]

  if ( !*((_BYTE *)a1 + 0x60) && !a3 )
  {
    return result;
  }
  v76 = 0;
  v77 = 0;
  v79 = 0;
  v80 = 0;
  v81 = 0;
  n0x2800 = 0x2800;
  v78 = 1;
  psub_7FF6AAB938D0(
    &n0x2800,
    0,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    &p_p_p_p_W__p4_src_CryEngine_Code_SDKs_Optick_1_3_1_src_optick_core_cpp,
    0);
  *((_BYTE *)a1 + 0x60) = 0;
  *((_DWORD *)a1 + 6) = 0x7F7FFFFF;
  *((_DWORD *)a1 + 7) = 0x7F7FFFFF;
  *((_DWORD *)a1 + 8) = 0x7F7FFFFF;
  *((_DWORD *)a1 + 9) = 0xFF7FFFFF;
  *((_DWORD *)a1 + 0xA) = 0xFF7FFFFF;
  *((_DWORD *)a1 + 0xB) = 0xFF7FFFFF;
  v6 = *((_DWORD *)a1 + 0x15);
  v7 = *((_DWORD *)a1 + 0x16);
  a1[9] = 0;
  v8 = *a1;
  v9 = a1[1];
  v10 = v6 & 0xFFA00000;
  if ( *a1 != v9 )
  {
    ++*((_DWORD *)a1 + 0x17);
    v11 = v8 + 0x5C;
    while ( 1 )
    {
      v12 = *(int *)(v11 + 0x14);
      if ( (int)v12 < *(_DWORD *)(a2 + 0x290)
        && *(_DWORD *)(*(_QWORD *)(a2 + 0x250) + 4 * v12) == *(_DWORD *)(v11 + 0x10) )
      {
        goto LABEL_11;
      }
      v13 = sub_14643E400(*(_QWORD *)(a2 + 0x2A0), *(_DWORD *)(v11 + 0x10), 0);
      LODWORD(v12) = v13;
      if ( v13 < *(_DWORD *)(a2 + 0x290) )
      {
        break;
      }
      __debugbreak();
LABEL_18:
      v8 += 0x78;
      v11 += 0x78;
      if ( v8 == v9 )
      {
        goto LABEL_19;
      }
    }
    *(_DWORD *)(v11 + 0x14) = v13;
LABEL_11:
    v14 = a1[8] | a1[7] & *(_QWORD *)(*(_QWORD *)(a2 + 0x240) + 8LL * (int)v12);
    *(_QWORD *)(v11 - 0x54) = v14;
    a1[9] |= v14;
    if ( v10 == 0xFFA00000 )
    {
      v15 = *(float *)(*(_QWORD *)(a2 + 0x258) + 0x18LL * *(int *)(v11 + 0x14) + 0x10);
    }
    else
    {
      v15 = *((float *)a1 + 0x15);
    }
    v82 = v15;
    *(float *)(v11 + 8) = v15;
    if ( v7 == 0x80000000 )
    {
      v16 = (int)(*(_DWORD *)(*(_QWORD *)(a2 + 0x270) + 0x18LL * *(int *)(v11 + 0x14) + 0x10) << 0xE) >> 0x16;
    }
    else
    {
      v16 = *((_DWORD *)a1 + 0x16);
    }
    v17 = *(int *)(v11 + 0x14);
    *(_DWORD *)(v11 + 0xC) = v16;
    v18 = *(float *)(v11 + 4);
    v19 = *(float *)(v11 - 4);
    v20 = *(_QWORD *)(a2 + 0x260) + (v17 << 6);
    v21 = (float *)(*(_QWORD *)(a2 + 0x230) + 0x20 * v17);
    v22 = v21[1];
    v23 = v21[3];
    v24 = v21[2];
    v25 = (float)((float)(v22 * v18) - (float)(*(float *)v11 * v24)) + (float)(v23 * v19);
    v26 = (float)((float)(v24 * v19) - (float)(*v21 * v18)) + (float)(*(float *)v11 * v23);
    v27 = *(float *)(v11 - 0x10);
    v28 = v23 * v18;
    v29 = *(float *)(v11 - 0xC);
    v30 = LODWORD(v22);
    *(float *)&v30 = (float)(v22 * (float)((float)((float)(*(float *)v11 * *v21) - (float)(v22 * v19)) + v28))
                   - (float)(v24 * v26);
    v31 = v30;
    v32 = v22 * v25;
    v33 = *(float *)(v11 - 0x14);
    *(float *)&v30 = *v21 * v26;
    v34 = *(float *)(v11 - 8);
    v35 = *(float *)&v30 - v32;
    v36 = (float)((float)((float)(v22 * v29) - (float)(v24 * v27)) + (float)(v23 * v33)) + (float)(*v21 * v34);
    v37 = (float)((float)((float)(v33 * v21[2]) - (float)(*v21 * v29)) + (float)(v23 * v27)) + (float)(v22 * v34);
    v38 = (float)((float)((float)(*v21 * v27) - (float)(v33 * v21[1])) + (float)(v23 * v29)) + (float)(v34 * v21[2]);
    v39 = v27 * v21[1];
    v40 = v21[7];
    v41 = v31;
    v42 = (float)((float)((float)(v34 * v21[3]) - (float)(*v21 * v33)) - v39) - (float)(v29 * v21[2]);
    *(float *)&v41 = (float)((float)((float)(*(float *)&v31 + v19) + *(float *)&v31) * v40) + v21[4];
    _XMM5 = v41;
    v44 = (float)((float)((float)(v35 + *(float *)(v11 + 4)) + v35) * v40) + v21[6];
    *(float *)(v11 - 0x34) = v36;
    *(float *)(v11 - 0x30) = v37;
    *(float *)(v11 - 0x2C) = v38;
    *(float *)(v11 - 0x28) = v42;
    *(float *)(v11 - 0x18) = v40;
    __asm { vunpcklps xmm0, xmm5, xmm3 }
    *(double *)(v11 - 0x24) = *(double *)&_XMM0;
    *(float *)(v11 - 0x1C) = v44;
    LODWORD(_XMM5) = *(_DWORD *)(v20 + 0x38);
    v46 = *(float *)(v20 + 0x34);
    v47 = *(float *)(v20 + 0x3C);
    v48 = *(float *)(a2 + 0x200);
    v49 = *(unsigned int *)(v20 + 0xC) & (unsigned __int128)0x7FFFFFFFu;
    *(float *)&v49 = (float)((float)((float)((float)(COERCE_FLOAT(*(_DWORD *)(v20 + 0xC) & 0x7FFFFFFF) * *(float *)&_XMM5)
                                           + (float)(COERCE_FLOAT(*(_DWORD *)v20 & 0x7FFFFFFF) * v46))
                                   + (float)(COERCE_FLOAT(*(_DWORD *)(v20 + 0x18) & 0x7FFFFFFF) * v47))
                           * v48)
                   + v82;
    v50 = v49;
    v51 = *(unsigned int *)(v20 + 4) & (unsigned __int128)0x7FFFFFFFu;
    *(float *)&v51 = (float)((float)((float)((float)(COERCE_FLOAT(*(_DWORD *)(v20 + 4) & 0x7FFFFFFF) * v46)
                                           + (float)(COERCE_FLOAT(*(_DWORD *)(v20 + 0x10) & 0x7FFFFFFF)
                                                   * *(float *)&_XMM5))
                                   + (float)(COERCE_FLOAT(*(_DWORD *)(v20 + 0x1C) & 0x7FFFFFFF) * v47))
                           * v48)
                   + v82;
    v52 = v51;
    v53 = *(unsigned int *)(v20 + 8) & (unsigned __int128)0x7FFFFFFFu;
    *(float *)&v53 = (float)((float)(COERCE_FLOAT(*(_DWORD *)(v20 + 8) & 0x7FFFFFFF) * v46)
                           + (float)(COERCE_FLOAT(*(_DWORD *)(v20 + 0x14) & 0x7FFFFFFF) * *(float *)&_XMM5))
                   + (float)(COERCE_FLOAT(*(_DWORD *)(v20 + 0x20) & 0x7FFFFFFF) * v47);
    v54 = v53;
    v56 = *(unsigned int *)(v20 + 0x2C);
    *(float *)&v56 = *(float *)(v20 + 0x2C) - *(float *)&v52;
    _XMM6 = v56;
    v57 = v54;
    *(float *)&v57 = *(float *)&v54 * v48;
    v58 = *(unsigned int *)(v20 + 0x30);
    *(float *)(v11 - 0x4C) = *(float *)(v20 + 0x28) - *(float *)&v50;
    *(float *)(v11 - 0x48) = *(float *)&_XMM6;
    *(float *)&v57 = *(float *)&v57 + v82;
    v59 = v57;
    v61 = v58;
    *(float *)&v61 = *(float *)&v58 - *(float *)&v59;
    _XMM5 = v61;
    *(float *)(v11 - 0x44) = *(float *)&v58 - *(float *)&v59;
    _XMM0 = *((unsigned int *)a1 + 6);
    __asm { vminss  xmm1, xmm0, xmm4 }
    *((float *)a1 + 6) = *(float *)&_XMM1;
    __asm { vminss  xmm2, xmm6, dword ptr [rbx+1Ch] }
    *((float *)a1 + 7) = *(float *)&_XMM2;
    __asm { vminss  xmm0, xmm5, dword ptr [rbx+20h] }
    *((float *)a1 + 8) = *(float *)&_XMM0;
    v67 = v50;
    *(float *)&v67 = *(float *)&v50 + *(float *)(v20 + 0x28);
    _XMM0 = v67;
    v69 = v52;
    *(float *)&v69 = *(float *)&v52 + *(float *)(v20 + 0x2C);
    _XMM3 = v69;
    v71 = v59;
    *(float *)&v71 = *(float *)&v59 + *(float *)(v20 + 0x30);
    _XMM4 = v71;
    *(float *)(v11 - 0x40) = *(float *)&_XMM0;
    *(float *)(v11 - 0x3C) = *(float *)&_XMM3;
    *(float *)(v11 - 0x38) = *(float *)&v71;
    __asm { vmaxss  xmm0, xmm0, dword ptr [rbx+24h] }
    *((float *)a1 + 9) = *(float *)&_XMM0;
    __asm { vmaxss  xmm1, xmm3, dword ptr [rbx+28h] }
    *((float *)a1 + 0xA) = *(float *)&_XMM1;
    __asm { vmaxss  xmm0, xmm4, dword ptr [rbx+2Ch] }
    *((float *)a1 + 0xB) = *(float *)&_XMM0;
    goto LABEL_18;
  }
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
LABEL_19:
  v79 = __rdtsc();
  return psub_7FF6AAB93930(&n0x2800);
}

// --- End Function: sub_14673E790 (0x14673E790) ---

