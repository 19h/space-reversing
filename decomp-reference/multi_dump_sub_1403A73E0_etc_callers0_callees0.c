// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Functions:
//   - 0x1403A73E0 (sub_1403A73E0)
//   - 0x1403B6C30 (sub_1403B6C30)
//   - 0x1403E1540 (sub_1403E1540)
//   - 0x1403E1570 (sub_1403E1570)
//   - 0x140880470 (sub_140880470)
//   - 0x1415A68A0 (sub_1415A68A0)
//   - 0x141990B10 (sub_141990B10)
//   - 0x142204920 (sub_142204920)
//   - 0x14230A5D0 (sub_14230A5D0)
//   - 0x146A496E0 (sub_146A496E0)
//   - 0x146A71C10 (sub_146A71C10)
//   - 0x146A752D0 (sub_146A752D0)
//   - 0x146A79200 (sub_146A79200)
//   - 0x146A793D0 (sub_146A793D0)
//   - 0x146A80F20 (sub_146A80F20)
//   - 0x146A8FD60 (sub_146A8FD60)
//   - 0x146A8FEC0 (sub_146A8FEC0)
//   - 0x146AA8AB0 (sub_146AA8AB0)
//   - 0x146AA9030 (sub_146AA9030)
//   - 0x146AB1CC0 (sub_146AB1CC0)
//   - 0x146AB27F0 (sub_146AB27F0)
//   - 0x146AB3260 (sub_146AB3260)
//   - 0x146AB5EE0 (sub_146AB5EE0)
//   - 0x146AB67C0 (sub_146AB67C0)
//   - 0x146AB6950 (sub_146AB6950)
//   - 0x146AB6E80 (sub_146AB6E80)
//   - 0x146AB76F0 (sub_146AB76F0)
//   - 0x146AB77A0 (sub_146AB77A0)
//   - 0x146AB9650 (sub_146AB9650)
//   - 0x146AB9670 (sub_146AB9670)
//   - 0x146AB9730 (sub_146AB9730)
//   - 0x146AB9750 (sub_146AB9750)
//   - 0x146ABB790 (sub_146ABB790)
//   - 0x146ABBE50 (sub_146ABBE50)
//   - 0x146ABC510 (sub_146ABC510)
//   - 0x146ABCBD0 (sub_146ABCBD0)
//   - 0x146ABD290 (sub_146ABD290)
//   - 0x146ABD950 (sub_146ABD950)
//   - 0x146ABE010 (sub_146ABE010)
//   - 0x146ABE890 (sub_146ABE890)
//   - 0x146ABEC30 (sub_146ABEC30)
//   - 0x146ABEC70 (sub_146ABEC70)
//   - 0x146ABED70 (sub_146ABED70)
//   - 0x146ABEFA0 (sub_146ABEFA0)
//   - 0x146AC12B0 (sub_146AC12B0)
//   - 0x146AC1450 (sub_146AC1450)
//   - 0x146AC1530 (sub_146AC1530)
//   - 0x146AC8750 (sub_146AC8750)
//   - 0x146AC87F0 (sub_146AC87F0)
//   - 0x146AC9A90 (sub_146AC9A90)
//   - 0x146AC9C00 (sub_146AC9C00)
//   - 0x146AD01D0 (sub_146AD01D0)
//   - 0x146AD08A0 (sub_146AD08A0)
//   - 0x146AD0C50 (sub_146AD0C50)
//   - 0x146AD1FF0 (sub_146AD1FF0)
//   - 0x146AD2DC0 (sub_146AD2DC0)
//   - 0x146AD36E0 (sub_146AD36E0)
//   - 0x146AD3960 (sub_146AD3960)
//   - 0x146AD9F60 (sub_146AD9F60)
//   - 0x146ADA970 (sub_146ADA970)
//   - 0x146AE8B90 (sub_146AE8B90)
//   - 0x146AE9CE0 (sub_146AE9CE0)
//   - 0x146AEF060 (sub_146AEF060)
//   - 0x146AF7910 (sub_146AF7910)
//   - 0x146AF7AB0 (sub_146AF7AB0)
//   - 0x146AF7BD0 (sub_146AF7BD0)
//   - 0x146AF8B70 (sub_146AF8B70)
//   - 0x146AF8D00 (sub_146AF8D00)
//   - 0x146AF8F60 (sub_146AF8F60)
//   - 0x146AF9410 (sub_146AF9410)
//   - 0x146AF94B0 (sub_146AF94B0)
//   - 0x146AF9690 (sub_146AF9690)
//   - 0x146AF9A10 (sub_146AF9A10)
//   - 0x146AFA190 (sub_146AFA190)
//   - 0x146AFA1A0 (sub_146AFA1A0)
//   - 0x146AFA1F0 (sub_146AFA1F0)
//   - 0x146AFBB00 (sub_146AFBB00)
//   - 0x146AFC190 (sub_146AFC190)
//   - 0x146AFC5A0 (sub_146AFC5A0)
//   - 0x146AFC730 (sub_146AFC730)
//   - 0x146AFC850 (sub_146AFC850)
//   - 0x146AFD060 (sub_146AFD060)
//   - 0x146AFD180 (sub_146AFD180)
//   - 0x146AFD990 (sub_146AFD990)
//   - 0x146AFDBD0 (sub_146AFDBD0)
//   - 0x146AFDC90 (sub_146AFDC90)
//   - 0x146B082D0 (sub_146B082D0)
//   - 0x146B0DDD0 (sub_146B0DDD0)
//   - 0x146B0E6D0 (sub_146B0E6D0)
//   - 0x146B0F950 (sub_146B0F950)
//   - 0x146B0FEF0 (sub_146B0FEF0)
//   - 0x146B0FFE0 (sub_146B0FFE0)
// Caller Depth: 0
// Callee/Ref Depth: 0
// Total Functions Found: 92
// ------------------------------------------------------------

// --- Function: sub_1403A73E0 (0x1403A73E0) ---
__int64 __fastcall sub_1403A73E0(__int64 a1, _QWORD *a2)
{
  __int64 result; // rax

  if ( *a2 )
    return (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x28LL))(*a2);
  return result;
}

// --- End Function: sub_1403A73E0 (0x1403A73E0) ---

// --- Function: sub_1403B6C30 (0x1403B6C30) ---
char sub_1403B6C30()
{
  return 0xF;
}

// --- End Function: sub_1403B6C30 (0x1403B6C30) ---

// --- Function: sub_1403E1540 (0x1403E1540) ---
__m256i *__fastcall sub_1403E1540(__int64 a1, __m256i *a2)
{
  __m256i *result; // rax

  *a2 = (__m256i)0LL;
  a2[1].m256i_i64[0] = 0;
  result = a2;
  a2->m256i_i32[1] = 0xF;
  a2->m256i_i8[0x14] = 1;
  a2[1].m256i_i16[1] = 0x3FF;
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_1403E1540 (0x1403E1540) ---

// --- Function: sub_1403E1570 (0x1403E1570) ---
__int64 __fastcall sub_1403E1570(__int64 a1, __int64 a2)
{
  __int64 result; // rax

  *(__m256i *)a2 = (__m256i)0LL;
  *(__m256i *)(a2 + 0x20) = (__m256i)0LL;
  *(__m256i *)(a2 + 0x40) = (__m256i)0LL;
  *(_OWORD *)(a2 + 0x60) = 0;
  *(_QWORD *)(a2 + 0x20) = 0;
  *(_QWORD *)(a2 + 0x28) = 0;
  *(_QWORD *)(a2 + 0x30) = 0;
  *(_QWORD *)(a2 + 0x38) = 0;
  *(_QWORD *)(a2 + 0x40) = 0;
  *(_QWORD *)(a2 + 0x48) = 0;
  *(_QWORD *)(a2 + 0x50) = 0;
  *(_QWORD *)(a2 + 0x58) = 0;
  *(_QWORD *)(a2 + 0x60) = 0;
  *(_QWORD *)(a2 + 0x68) = 0;
  *(_QWORD *)(a2 + 0x70) = 0;
  result = a2;
  *(_WORD *)(a2 + 2) = 0x101;
  *(_DWORD *)(a2 + 4) = 0xF;
  *(_WORD *)(a2 + 0x12) = 0x3FF;
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_1403E1570 (0x1403E1570) ---

// --- Function: sub_140880470 (0x140880470) ---
__int64 __fastcall sub_140880470(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x168);
}

// --- End Function: sub_140880470 (0x140880470) ---

// --- Function: sub_1415A68A0 (0x1415A68A0) ---
_QWORD *__fastcall sub_1415A68A0(__int64 a1, _QWORD *a2)
{
  *a2 = *(_QWORD *)(a1 + 0x188);
  return a2;
}

// --- End Function: sub_1415A68A0 (0x1415A68A0) ---

// --- Function: sub_141990B10 (0x141990B10) ---
__int64 __fastcall sub_141990B10(__int64 a1)
{
  return a1 + 0x230;
}

// --- End Function: sub_141990B10 (0x141990B10) ---

// --- Function: sub_142204920 (0x142204920) ---
float __fastcall sub_142204920(__int64 a1)
{
  return *(float *)(a1 + 0x1E8);
}

// --- End Function: sub_142204920 (0x142204920) ---

// --- Function: sub_14230A5D0 (0x14230A5D0) ---
__int64 __fastcall sub_14230A5D0(__int64 a1)
{
  __int64 result; // rax

  result = a1 + 0x78;
  if ( !a1 )
    return 0;
  return result;
}

// --- End Function: sub_14230A5D0 (0x14230A5D0) ---

// --- Function: sub_146A496E0 (0x146A496E0) ---
__int64 __fastcall sub_146A496E0(__int64 a1, __int64 a2)
{
  __int64 result; // rax

  *(_DWORD *)a2 = 0x1010002;
  *(_QWORD *)(a2 + 0x18) = 0;
  *(_QWORD *)(a2 + 0x20) = 0;
  *(_QWORD *)(a2 + 0x28) = 0;
  *(_QWORD *)(a2 + 0x30) = 0;
  *(_QWORD *)(a2 + 0x38) = 0;
  *(_QWORD *)(a2 + 0x40) = 0;
  *(_QWORD *)(a2 + 0x48) = 0;
  *(_QWORD *)(a2 + 0x50) = 0;
  *(_QWORD *)(a2 + 0x58) = 0;
  *(_QWORD *)(a2 + 0x60) = 0;
  *(_QWORD *)(a2 + 0x68) = 0;
  *(_QWORD *)(a2 + 0x70) = 0;
  *(_QWORD *)(a2 + 8) = sub_146A37500;
  result = a2;
  *(_BYTE *)(a2 + 0x10) = 0;
  *(_WORD *)(a2 + 0x12) = 0x3FF;
  *(_BYTE *)(a2 + 0x14) = 0;
  *(_DWORD *)(a2 + 4) = 9;
  return result;
}

// --- End Function: sub_146A496E0 (0x146A496E0) ---

// --- Function: sub_146A71C10 (0x146A71C10) ---
__int64 __fastcall sub_146A71C10(__int64 a1)
{
  sub_140362C10(a1);
  *(_DWORD *)(a1 + 0x88) = 0xFFFFFFFF;
  *(_DWORD *)(a1 + 0x8D) = 0x646464;
  *(_QWORD *)(a1 + 0xA0) = 0;
  *(_QWORD *)(a1 + 0x98) = 0;
  *(_QWORD *)(a1 + 0x80) = 0;
  *(_BYTE *)(a1 + 0x8C) = 0;
  *(_BYTE *)(a1 + 0x91) = 0;
  *(_QWORD *)a1 = &RenderProxyVtbl;
  *(_QWORD *)(a1 + 0x78) = off_148C21FE0;
  *(_DWORD *)(a1 + 0xB0) = 0;
  *(_QWORD *)(a1 + 0xB8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_DWORD *)(a1 + 0xC0) = 0xFFFFFFFF;
  *(_DWORD *)(a1 + 0xC4) = 0;
  *(_QWORD *)(a1 + 0xC8) = 0;
  *(_QWORD *)(a1 + 0xD0) = 0;
  *(_QWORD *)(a1 + 0xD8) = 0;
  *(_QWORD *)(a1 + 0xE0) = 0;
  *(_QWORD *)(a1 + 0xE8) = 0;
  *(_QWORD *)(a1 + 0xF0) = 0;
  *(_QWORD *)(a1 + 0x100) = 0;
  *(_QWORD *)(a1 + 0x108) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_DWORD *)(a1 + 0x110) = 0xFFFFFFFF;
  *(_DWORD *)(a1 + 0x114) = 0;
  *(_QWORD *)(a1 + 0xA8) = &off_148C221D0;
  *(_DWORD *)(a1 + 0xF8) = 0xFFFFFFFF;
  *(_DWORD *)(a1 + 0x118) = 0x58635FA9;
  *(_DWORD *)(a1 + 0x11C) = 0x58635FA9;
  *(_DWORD *)(a1 + 0x120) = 0x58635FA9;
  *(_DWORD *)(a1 + 0x124) = 0xD8635FA9;
  *(_DWORD *)(a1 + 0x128) = 0xD8635FA9;
  *(_DWORD *)(a1 + 0x12C) = 0xD8635FA9;
  *(_QWORD *)(a1 + 0x130) = 0;
  *(_DWORD *)(a1 + 0x138) = 0x5070700;
  *(_WORD *)(a1 + 0x13C) = 0;
  *(_DWORD *)(a1 + 0x13F) = 0;
  *(_BYTE *)(a1 + 0x13E) = 0;
  *(_WORD *)(a1 + 0x143) = 0;
  *(_BYTE *)(a1 + 0x145) = 0;
  *(_DWORD *)(a1 + 0x148) = 0;
  *(_QWORD *)(a1 + 0x150) = 0;
  *(_WORD *)(a1 + 0x158) = 0x100;
  *(_QWORD *)(a1 + 0x160) = 0;
  *(_QWORD *)(a1 + 0x168) = 0;
  sub_14035B3E0((_QWORD *)(a1 + 0x170));
  sub_14035B3E0((_QWORD *)(a1 + 0x178));
  *(_QWORD *)(a1 + 0x180) = 0;
  *(_QWORD *)(a1 + 0x188) = 0;
  *(_DWORD *)(a1 + 0x194) = 0;
  *(_WORD *)(a1 + 0x19C) = 0xFF;
  *(_QWORD *)(a1 + 0x1A0) = 0;
  *(_QWORD *)(a1 + 0x1A8) = 0;
  *(_QWORD *)(a1 + 0x1B0) = 0;
  *(_QWORD *)(a1 + 0x1B8) = 0;
  *(_QWORD *)(a1 + 0x1C0) = 0;
  *(_QWORD *)(a1 + 0x1C8) = 0;
  *(_QWORD *)(a1 + 0x1D0) = 0;
  *(_QWORD *)(a1 + 0x1D8) = 0;
  *(_DWORD *)(a1 + 0x1E0) = 0x3F800000;
  *(_DWORD *)(a1 + 0x1E8) = 0;
  sub_14050C4D0(a1 + 0x1EC);
  *(_DWORD *)(a1 + 0x200) = 0;
  *(_QWORD *)(a1 + 0x208) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_DWORD *)(a1 + 0x210) = 0xFFFFFFFF;
  *(_QWORD *)(a1 + 0x214) = 0;
  *(_QWORD *)(a1 + 0x220) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_DWORD *)(a1 + 0x228) = 0xFFFFFFFF;
  *(_DWORD *)(a1 + 0x22C) = 0;
  *(_QWORD *)(a1 + 0x230) = 0;
  *(_QWORD *)(a1 + 0x238) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  *(_DWORD *)(a1 + 0x240) = 0xFFFFFFFF;
  *(_DWORD *)(a1 + 0x244) = 0;
  *(_QWORD *)(a1 + 0x248) = 0;
  return a1;
}

// --- End Function: sub_146A71C10 (0x146A71C10) ---

// --- Function: sub_146A752D0 (0x146A752D0) ---
__int64 (__fastcall *__fastcall sub_146A752D0(__int64 a1))(__int64, _QWORD *, _QWORD)
{
  __int64 v2; // rdx
  volatile signed __int32 *v3; // rdi
  __int64 v4; // rdx
  unsigned __int64 v5; // rsi
  __int64 v6; // rcx
  const void *v7; // rdi
  __int64 v8; // rcx
  const void *v9; // rdi
  volatile signed __int32 *v10; // rdi
  void (__fastcall ***v11)(_QWORD, __int64); // rcx
  __int64 (__fastcall ***v12)(_QWORD, __int64); // rdx
  __int64 v13; // rcx
  __int64 v14; // rcx
  void *v15; // rcx
  _QWORD *v16; // rcx

  *(_QWORD *)a1 = &RenderProxyVtbl;
  *(_QWORD *)(a1 + 0x78) = off_148C21FE0;
  *(_QWORD *)(a1 + 0xA8) = &off_148C221D0;
  v2 = a1 + 0x78;
  if ( !a1 )
    v2 = 0;
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)pSystem + 0x278LL))(pSystem, v2);
  v3 = *(volatile signed __int32 **)(a1 + 0x1B0);
  *(_QWORD *)(a1 + 0x1A8) = 0;
  *(_QWORD *)(a1 + 0x1B0) = 0;
  if ( v3 )
  {
    if ( _InterlockedExchangeAdd(v3 + 2, 0xFFFFFFFF) == 1 )
    {
      (**(void (__fastcall ***)(volatile signed __int32 *))v3)(v3);
      if ( _InterlockedExchangeAdd(v3 + 3, 0xFFFFFFFF) == 1 )
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v3 + 8LL))(v3);
    }
  }
  v4 = *(_QWORD *)(a1 + 0xE8);
  v5 = 0;
  v6 = *(_QWORD *)(a1 + 0xE0);
  if ( (v4 - v6) >> 3 )
  {
    do
    {
      v7 = *(const void **)(v6 + 8 * v5);
      if ( v7 )
      {
        sub_146A73E70(*(_QWORD *)(v6 + 8 * v5));
        sub_1402A3D30(v7);
      }
      v4 = *(_QWORD *)(a1 + 0xE8);
      ++v5;
      v6 = *(_QWORD *)(a1 + 0xE0);
    }
    while ( v5 < (v4 - v6) >> 3 );
  }
  if ( v6 != v4 )
    *(_QWORD *)(a1 + 0xE8) = v6;
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x358LL))(qword_149B4FBE8, a1 + 0x88);
  v8 = *(_QWORD *)(a1 + 0x248);
  if ( v8 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v8 + 8LL))(v8);
  *(_QWORD *)(a1 + 0x248) = 0;
  v9 = *(const void **)(a1 + 0x1D8);
  if ( v9 )
  {
    sub_140372E50(*(volatile signed __int32 **)(a1 + 0x1D8));
    sub_1402A3D30(v9);
  }
  sub_14055FE60((_QWORD *)(a1 + 0x1C0));
  sub_14050E150((__int64 *)(a1 + 0x1B8));
  v10 = *(volatile signed __int32 **)(a1 + 0x1B0);
  if ( v10 )
  {
    if ( _InterlockedExchangeAdd(v10 + 2, 0xFFFFFFFF) == 1 )
    {
      (**(void (__fastcall ***)(volatile signed __int32 *))v10)(v10);
      if ( _InterlockedExchangeAdd(v10 + 3, 0xFFFFFFFF) == 1 )
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v10 + 8LL))(v10);
    }
  }
  v11 = *(void (__fastcall ****)(_QWORD, __int64))(a1 + 0x1A0);
  if ( v11 )
    (**v11)(v11, 1);
  v12 = *(__int64 (__fastcall ****)(_QWORD, __int64))(a1 + 0x180);
  if ( v12 )
    sub_14050FCF0(a1 + 0x180, v12);
  sub_140370D10((_QWORD *)(a1 + 0x178));
  sub_140370D10((_QWORD *)(a1 + 0x170));
  v13 = *(_QWORD *)(a1 + 0x168);
  if ( v13 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x10LL))(v13);
  *(_QWORD *)(a1 + 0x168) = 0;
  v14 = *(_QWORD *)(a1 + 0x160);
  if ( v14 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v14 + 0x10LL))(v14);
  *(_QWORD *)(a1 + 0x160) = 0;
  v15 = *(void **)(a1 + 0x150);
  if ( v15 && _InterlockedExchangeAdd16((volatile signed __int16 *)v15, 0xFFFFu) == 1 )
    sub_1402A3D30(v15);
  *(_QWORD *)(a1 + 0x150) = 0;
  v16 = *(_QWORD **)(a1 + 0xE0);
  if ( v16 )
  {
    if ( ((*(_QWORD *)(a1 + 0xF0) - (_QWORD)v16) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)v16 - v16[0xFFFFFFFF] - 8 > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v16 = (_QWORD *)v16[0xFFFFFFFF];
    }
    sub_1402A3D30(v16);
    *(_QWORD *)(a1 + 0xE0) = 0;
    *(_QWORD *)(a1 + 0xE8) = 0;
    *(_QWORD *)(a1 + 0xF0) = 0;
  }
  sub_141E52110((_QWORD *)(a1 + 0xA8));
  sub_14050E290((_QWORD *)(a1 + 0x78));
  return sub_140372DB0((_QWORD *)a1);
}

// --- End Function: sub_146A752D0 (0x146A752D0) ---

// --- Function: sub_146A79200 (0x146A79200) ---
const void *__fastcall sub_146A79200(const void *a1, char a2)
{
  sub_146A752D0((__int64)a1);
  if ( (a2 & 1) != 0 )
    sub_1402A3D30(a1);
  return a1;
}

// --- End Function: sub_146A79200 (0x146A79200) ---

// --- Function: sub_146A793D0 (0x146A793D0) ---
bool __fastcall sub_146A793D0(__int64 a1)
{
  __int64 v2; // rax

  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v2 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v2 = 0;
  return (*(_DWORD *)(v2 + 0x118) & 0x80000004) == 0 && (*(_DWORD *)(a1 + 0x80) & 0x40000) == 0;
}

// --- End Function: sub_146A793D0 (0x146A793D0) ---

// --- Function: sub_146A80F20 (0x146A80F20) ---
unsigned __int64 __fastcall sub_146A80F20(__int64 a1, int a2, __int64 a3)
{
  __int64 v4; // rdi
  __int64 v6; // rbx
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  __int64 v9; // rcx
  __int64 v10; // rcx

  v4 = a2;
  v6 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v6, v7, "CRenderProxy::ApplyChunksHideMask", "m_SlotsLock", 1);
  }
  if ( (int)v4 >= 0 )
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v4 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3) )
    {
      v9 = *(_QWORD *)(v8 + 8 * v4);
      if ( v9 )
      {
        v10 = *(_QWORD *)(v9 + 0x80);
        if ( v10 )
          (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v10 + 0x2C0LL))(v10, a3);
      }
    }
  }
  return rw_lock_release_read_lock(v6);
}

// --- End Function: sub_146A80F20 (0x146A80F20) ---

// --- Function: sub_146A8FD60 (0x146A8FD60) ---
unsigned __int64 __fastcall sub_146A8FD60(__int64 a1)
{
  unsigned __int64 result; // rax
  volatile signed __int64 *v3; // r15
  signed __int64 v4; // rdx
  __int64 v5; // rdi
  __int64 i; // rbx
  __int64 v7; // rsi
  __int64 v8; // r14
  __int64 v9; // rax
  unsigned int v10; // esi
  unsigned int v11; // ebp

  result = *(_DWORD *)(a1 + 0x194) >> 0xE;
  if ( (*(_DWORD *)(a1 + 0x194) & 0x4000) != 0 )
  {
    sub_14051ED90(a1 + 0x148, 0);
    sub_1404F1B30(a1 + 0x148, 0);
    *(_DWORD *)(a1 + 0x194) &= ~0x4000u;
    v3 = (volatile signed __int64 *)(a1 + 0x230);
    if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0x244);
    }
    else
    {
      v4 = _InterlockedIncrement64(v3);
      if ( (v4 & 0x200000) != 0 )
        rw_lock_acquire_read_lock_dispatch(
          a1 + 0x230,
          v4,
          "CRenderProxy::ClearHUDSubObjectSilhouettesParams",
          "m_SlotsLock",
          1);
    }
    v5 = *(_QWORD *)(a1 + 0xE8);
    for ( i = *(_QWORD *)(a1 + 0xE0); i != v5; i += 8 )
    {
      if ( *(_QWORD *)i )
      {
        v7 = *(_QWORD *)(*(_QWORD *)i + 0x80LL);
        if ( v7 )
        {
          if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x128LL))(v7) == 0x55AA55AA )
          {
            v8 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x30LL))(v7);
            if ( v8 )
            {
              v9 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x70LL))(v7);
              v10 = 0;
              v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v9 + 0x10LL))(v9);
              if ( v11 )
              {
                do
                  (*(void (__fastcall **)(__int64, _QWORD, _QWORD, _QWORD))(*(_QWORD *)v8 + 0x390LL))(v8, v10++, 0, 0);
                while ( v10 < v11 );
              }
            }
          }
        }
      }
    }
    return rw_lock_release_read_lock((__int64)v3);
  }
  return result;
}

// --- End Function: sub_146A8FD60 (0x146A8FD60) ---

// --- Function: sub_146A8FEC0 (0x146A8FEC0) ---
// attributes: thunk
__int64 sub_146A8FEC0()
{
  return sub_146AB1DF0();
}

// --- End Function: sub_146A8FEC0 (0x146A8FEC0) ---

// --- Function: sub_146AA8AB0 (0x146AA8AB0) ---
char __fastcall sub_146AA8AB0(__int64 a1)
{
  void (__fastcall ***v2)(_QWORD, __int64); // rcx
  __int64 v3; // rax
  __int16 v4; // rbx^6
  __int64 v5; // rsi
  __int16 n2; // cx
  __int64 v7; // rdx
  __int64 v9; // [rsp+30h] [rbp+8h] BYREF

  v2 = *(void (__fastcall ****)(_QWORD, __int64))(a1 + 0x1A0);
  *(_QWORD *)(a1 + 0x1A0) = 0;
  if ( v2 )
    (**v2)(v2, 1);
  LOBYTE(v3) = (unsigned __int8)sub_1404231E0(a1, &v9);
  v4 = HIWORD(v9);
  if ( v9 )
  {
    v5 = v9 & 0xFFFFFFFFFFFFLL;
    v3 = sub_1403B4B50(v9 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(v3 + 4);
    if ( n2 != 4 && *(_WORD *)(v3 + 2) == (v4 & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)get_thread_context_ptr() || (LOBYTE(v3) = sub_140391F30(&v9), (_BYTE)v3) )
      {
        v7 = a1 + 0xA8;
        if ( !a1 )
          v7 = 0;
        LOBYTE(v3) = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v5 + 0x650LL))(v5, v7);
      }
    }
  }
  return v3;
}

// --- End Function: sub_146AA8AB0 (0x146AA8AB0) ---

// --- Function: sub_146AA9030 (0x146AA9030) ---
double *__fastcall sub_146AA9030(__int64 a1)
{
  __int128 v1; // xmm6
  __int128 v2; // xmm7
  __int128 v3; // xmm8
  __int128 v4; // xmm9
  __int128 v5; // xmm10
  __int128 v6; // xmm11
  __int128 v7; // xmm12
  __int128 v8; // xmm13
  __int128 v9; // xmm14
  double *result; // rax
  __int64 v12; // rax
  _QWORD *v13; // rsi
  _QWORD *v14; // rdi
  double v15; // xmm8_8
  double v16; // xmm3_8
  double v17; // xmm1_8
  double v18; // xmm5_8
  double v19; // xmm12_8
  double v20; // xmm14_8
  double v21; // xmm10_8
  double v22; // xmm9_8
  double v23; // xmm13_8
  double v24; // xmm11_8
  double v25; // xmm3_8
  double v26; // xmm8_8
  double v27; // kr00_8
  _QWORD *v28; // rbp
  __int64 v29; // rcx
  __int64 v30; // rcx
  double *v31; // rbx
  __int64 v32; // rcx
  double *v33; // rbx
  __int64 v34; // rcx
  __int64 v35; // rax
  __int64 v36; // rcx
  __int64 v37; // rax
  double *v38; // rbx
  double v39[12]; // [rsp+20h] [rbp-138h] BYREF
  _OWORD v40[13]; // [rsp+80h] [rbp-D8h] BYREF

  result = *(double **)(a1 + 0xE8);
  if ( *(double **)(a1 + 0xE0) != result )
  {
    v40[0xC] = v1;
    v40[0xB] = v2;
    v12 = *(_QWORD *)qword_149B4FBE8;
    v40[0xA] = v3;
    v40[9] = v4;
    v40[8] = v5;
    v40[7] = v6;
    v40[6] = v7;
    v40[5] = v8;
    v40[4] = v9;
    result = (double *)(*(__int64 (__fastcall **)(__int64, _OWORD *, __int64, _QWORD))(v12 + 0x2F8))(
                         qword_149B4FBE8,
                         v40,
                         a1 + 0x88,
                         0);
    v13 = *(_QWORD **)(a1 + 0xE8);
    v14 = *(_QWORD **)(a1 + 0xE0);
    v15 = *result;
    v16 = result[1];
    v17 = result[3];
    v18 = result[2];
    v19 = (v15 + v15) * v17;
    v20 = 1.0 - (v15 + v15) * v15;
    v21 = (v16 + v16) * v17;
    v22 = (v16 + v16) * *result;
    v23 = (v16 + v16) * v16;
    v24 = (v18 + v18) * v16;
    v25 = (v18 + v18) * v17;
    v26 = (v18 + v18) * *result;
    v27 = (v18 + v18) * v18;
    v39[0] = (1.0 - v23 - v27) * result[7];
    v39[1] = (v22 - v25) * result[7];
    v39[2] = (v26 + v21) * result[7];
    v39[3] = result[4];
    v39[4] = (v25 + v22) * result[7];
    v39[5] = (v20 - v27) * result[7];
    v39[6] = (v24 - v19) * result[7];
    v39[7] = result[5];
    v39[8] = (v26 - v21) * result[7];
    v39[9] = (v24 + v19) * result[7];
    v39[0xA] = (v20 - v23) * result[7];
    v39[0xB] = result[6];
    if ( v14 != v13 )
    {
      while ( 1 )
      {
        v28 = (_QWORD *)*v14;
        if ( *v14 )
          break;
LABEL_19:
        if ( ++v14 == v13 )
          return result;
      }
      v29 = v28[0xC];
      if ( v29 )
      {
        result = (double *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v29 + 0x160LL))(v29);
      }
      else
      {
        v30 = v28[0xB];
        if ( !v30 || (result = (double *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v30 + 0x30LL))(v30)) == 0 )
        {
LABEL_11:
          v32 = v28[0x12];
          if ( v32 )
          {
            result = (double *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v32 + 0xD0LL))(v32, 0);
            v33 = result;
            if ( result )
            {
              (*(void (__fastcall **)(double *))(*(_QWORD *)result + 8LL))(result);
              (*(void (__fastcall **)(double *, double *))(*(_QWORD *)v33 + 0x270LL))(v33, v39);
              result = (double *)(*(__int64 (__fastcall **)(double *))(*(_QWORD *)v33 + 0x10LL))(v33);
            }
          }
          v34 = v28[0x13];
          if ( v34 )
          {
            v35 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v34 + 0x30LL))(v34);
            result = (double *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v35 + 0x1E0LL))(v35);
          }
          v36 = v28[0xD];
          if ( v36 )
          {
            v37 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v36 + 0x10LL))(v36);
            result = (double *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v37 + 0xF0LL))(v37, 0);
            v38 = result;
            if ( result )
            {
              (*(void (__fastcall **)(double *))(*(_QWORD *)result + 8LL))(result);
              (*(void (__fastcall **)(double *, double *))(*(_QWORD *)v38 + 0x270LL))(v38, v39);
              result = (double *)(*(__int64 (__fastcall **)(double *))(*(_QWORD *)v38 + 0x10LL))(v38);
            }
          }
          goto LABEL_19;
        }
        result = (double *)(*(__int64 (__fastcall **)(double *))(*(_QWORD *)result + 0x160LL))(result);
      }
      v31 = result;
      if ( result )
      {
        (*(void (__fastcall **)(double *))(*(_QWORD *)result + 8LL))(result);
        (*(void (__fastcall **)(double *, double *))(*(_QWORD *)v31 + 0x270LL))(v31, v39);
        result = (double *)(*(__int64 (__fastcall **)(double *))(*(_QWORD *)v31 + 0x10LL))(v31);
      }
      goto LABEL_11;
    }
  }
  return result;
}

// --- End Function: sub_146AA9030 (0x146AA9030) ---

// --- Function: sub_146AB1CC0 (0x146AB1CC0) ---
unsigned __int64 __fastcall sub_146AB1CC0(__int64 a1, int a2, _QWORD *a3)
{
  __int64 v4; // rbx
  __int64 v6; // rsi
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  _QWORD *v9; // rbx
  __int64 v10; // rdi
  __int64 v11; // rax
  __int64 v12; // rcx
  __int64 v13; // rax
  __int64 v14; // rcx

  v4 = a2;
  v6 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v6, v7, "CRenderProxy::ForceVisualStateOnRenderNode", "m_SlotsLock", 1);
  }
  if ( (int)v4 >= 0 )
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v4 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3) )
    {
      v9 = *(_QWORD **)(v8 + 8 * v4);
      if ( v9 )
      {
        v10 = v9[0x12];
        if ( v10 && (*(unsigned int (__fastcall **)(_QWORD))(*(_QWORD *)v10 + 0x158LL))(v9[0x12]) == 0x11 )
        {
          v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x210LL))(v10);
          ((void (__fastcall *)(_QWORD, __int64))a3[1])(*a3, v11);
        }
        v12 = v9[0xD];
        if ( v12 )
        {
          v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x70LL))(v12);
          ((void (__fastcall *)(_QWORD, __int64))a3[1])(*a3, v13);
        }
        v14 = v9[0x10];
        if ( v14 )
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v14 + 0x320LL))(v14, a3);
        if ( v9[0xB] )
          ((void (__fastcall *)(_QWORD, _QWORD *))a3[1])(*a3, v9 + 0x15);
      }
    }
  }
  return rw_lock_release_read_lock(v6);
}

// --- End Function: sub_146AB1CC0 (0x146AB1CC0) ---

// --- Function: sub_146AB27F0 (0x146AB27F0) ---
void *__fastcall sub_146AB27F0(__int64 a1)
{
  _QWORD *v1; // rbx
  __int64 v2; // rcx

  if ( (dword_1515B121C & 1) != 0 )
    return &unk_1515B1210;
  v1 = (_QWORD *)(a1 + 8);
  dword_1515B121C |= 1u;
  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v2 = *v1 & 0xFFFFFFFFFFFFLL;
  else
    v2 = 0;
  (*(void (__fastcall **)(__int64, void *, _QWORD))(*(_QWORD *)v2 + 0x2D0LL))(v2, &unk_1515B1210, 0);
  return &unk_1515B1210;
}

// --- End Function: sub_146AB27F0 (0x146AB27F0) ---

// --- Function: sub_146AB3260 (0x146AB3260) ---
__int64 __fastcall sub_146AB3260(__int64 a1, int a2)
{
  __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // rdi
  __int64 v8; // rdi

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v3, v5, "CRenderProxy::GetCharacter", "m_SlotsLock", 1);
  }
  if ( (int)v2 >= 0
    && (v6 = *(_QWORD *)(a1 + 0xE0), (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3))
    && (v7 = *(_QWORD *)(v6 + 8 * v2)) != 0 )
  {
    v8 = *(_QWORD *)(v7 + 0x80);
  }
  else
  {
    v8 = 0;
  }
  rw_lock_release_read_lock(v3);
  return v8;
}

// --- End Function: sub_146AB3260 (0x146AB3260) ---

// --- Function: sub_146AB5EE0 (0x146AB5EE0) ---
__int64 sub_146AB5EE0()
{
  return 0x200003C21LL;
}

// --- End Function: sub_146AB5EE0 (0x146AB5EE0) ---

// --- Function: sub_146AB67C0 (0x146AB67C0) ---
_BYTE *__fastcall sub_146AB67C0(_BYTE *a1, _BYTE *a2)
{
  *a2 = a1[0x1E4];
  a2[1] = a1[0x1E5];
  a2[2] = a1[0x1E6];
  a2[3] = a1[0x1E7];
  return a2;
}

// --- End Function: sub_146AB67C0 (0x146AB67C0) ---

// --- Function: sub_146AB6950 (0x146AB6950) ---
__int64 __fastcall sub_146AB6950(__int64 a1)
{
  __int64 v2; // rax
  __int64 v3; // rsi
  volatile signed __int32 *v4; // rdi
  __int64 result; // rax

  if ( *(_QWORD *)(a1 + 0x1A8) )
    return *(_QWORD *)(a1 + 0x1A8);
  v2 = allocWithProfilerInfo_w(0xA0u);
  v3 = v2;
  if ( v2 )
  {
    *(_DWORD *)(v2 + 8) = 1;
    *(_DWORD *)(v2 + 0xC) = 1;
    *(_QWORD *)v2 = off_148C31468;
    sub_14050C050(v2 + 0x10);
  }
  else
  {
    v3 = 0;
  }
  v4 = *(volatile signed __int32 **)(a1 + 0x1B0);
  result = v3 + 0x10;
  *(_QWORD *)(a1 + 0x1A8) = v3 + 0x10;
  *(_QWORD *)(a1 + 0x1B0) = v3;
  if ( v4 )
  {
    if ( _InterlockedExchangeAdd(v4 + 2, 0xFFFFFFFF) == 1 )
    {
      (**(void (__fastcall ***)(volatile signed __int32 *))v4)(v4);
      if ( _InterlockedExchangeAdd(v4 + 3, 0xFFFFFFFF) == 1 )
        (*(void (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v4 + 8LL))(v4);
    }
    return *(_QWORD *)(a1 + 0x1A8);
  }
  return result;
}

// --- End Function: sub_146AB6950 (0x146AB6950) ---

// --- Function: sub_146AB6E80 (0x146AB6E80) ---
__int64 __fastcall sub_146AB6E80(__int64 a1)
{
  return sub_146AB6DD0(a1, 1);
}

// --- End Function: sub_146AB6E80 (0x146AB6E80) ---

// --- Function: sub_146AB76F0 (0x146AB76F0) ---
__int64 __fastcall sub_146AB76F0(__int64 a1, __int64 a2)
{
  signed __int64 v4; // rdx
  double v5; // xmm1_8

  if ( (*(_DWORD *)(a1 + 0x194) & 2) == 0 )
    sub_146A88AF0(a1);
  if ( *(_DWORD *)(a1 + 0x110) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x114);
  }
  else
  {
    v4 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x100));
    if ( (v4 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x100, v4, "CRenderProxy::GetLocalBounds", "localBBoxLock", 1);
  }
  v5 = *(double *)(a1 + 0x128);
  *(_OWORD *)a2 = *(_OWORD *)(a1 + 0x118);
  *(double *)(a2 + 0x10) = v5;
  rw_lock_release_read_lock(a1 + 0x100);
  return a2;
}

// --- End Function: sub_146AB76F0 (0x146AB76F0) ---

// --- Function: sub_146AB77A0 (0x146AB77A0) ---
__int64 __fastcall sub_146AB77A0(__int64 a1, __int64 a2, unsigned __int8 a3, unsigned __int8 n2)
{
  int v4; // r14d
  __int64 v9; // r15
  double *v10; // rax
  int v11; // r13d
  __int128 n0x58635FA9; // xmm14
  __int128 n0x58635FA9_7; // xmm15
  unsigned __int64 v14; // rbx
  unsigned __int64 v15; // r9
  __int64 v16; // rax
  __int64 v17; // r10
  __int64 v18; // rsi
  bool v19; // al
  __int64 v20; // rbx
  __int64 (__fastcall *v21)(__int64, _BYTE *, __int16 *); // rsi
  __int16 n0xFFFF; // ax
  __int64 v23; // rbx
  __int64 v24; // rax
  __int16 n4; // dx
  __int64 v26; // rbx
  double *v28; // rax
  double v29; // xmm10_8
  double v30; // xmm9_8
  double v31; // xmm8_8
  double v32; // xmm7_8
  double v33; // xmm5_8
  double v34; // xmm4_8
  double v35; // xmm6_8
  double v36; // xmm12_8
  double v37; // xmm5_8
  double v38; // xmm2_8
  double v39; // xmm11_8
  double v40; // xmm7_8
  double v41; // xmm13_8
  __int128 n0x58635FA9_1; // xmm3
  __int128 n0x58635FA9_6; // xmm2
  __int128 n0x58635FA9_8; // xmm4
  __int128 n0x58635FA9_9; // xmm5
  __int128 v54; // xmm4
  __int128 v55; // kr00_16
  float v56; // xmm12_4
  float v57; // xmm14_4
  float v58; // xmm5_4
  float v59; // xmm6_4
  float v60; // xmm11_4
  float v61; // xmm9_4
  float v62; // xmm7_4
  float v63; // xmm8_4
  __int128 n0x58635FA9_22; // kr00_16
  __int128 n0x58635FA9_20; // xmm1
  __int128 n0x58635FA9_17; // xmm2
  __int128 n0x58635FA9_19; // kr00_16
  __int128 n0x58635FA9_15; // xmm11
  __int128 n0x58635FA9_16; // kr00_16
  __int128 n0x58635FA9_21; // xmm1
  __int128 n0x58635FA9_23; // kr00_16
  float v74; // xmm9_4
  __int128 n0x58635FA9_10; // xmm8
  __int128 n0x58635FA9_13; // kr00_16
  __int128 n0x58635FA9_18; // kr00_16
  float v78; // xmm7_4
  float v79; // xmm6_4
  float v80; // xmm5_4
  __int128 n0x58635FA9_14; // xmm4
  __int128 n0x58635FA9_4; // kr00_16
  __int128 n0x58635FA9_3; // xmm5
  __int128 n0x58635FA9_11; // kr00_16
  __int128 n0x58635FA9_5; // kr00_16
  __int128 n0x58635FA9_2; // kr00_16
  __int128 n0x58635FA9_12; // kr00_16
  float v103; // [rsp+30h] [rbp-D0h]
  float v104; // [rsp+34h] [rbp-CCh]
  float v105; // [rsp+34h] [rbp-CCh]
  unsigned __int64 v106; // [rsp+38h] [rbp-C8h] BYREF
  float v107; // [rsp+40h] [rbp-C0h]
  float v108; // [rsp+44h] [rbp-BCh]
  float v109; // [rsp+48h] [rbp-B8h] BYREF
  float v110; // [rsp+4Ch] [rbp-B4h]
  float v111; // [rsp+50h] [rbp-B0h]
  float v112; // [rsp+54h] [rbp-ACh]
  float v113; // [rsp+58h] [rbp-A8h]
  float v114; // [rsp+5Ch] [rbp-A4h]
  _BYTE v115[4]; // [rsp+60h] [rbp-A0h] BYREF
  float v116; // [rsp+64h] [rbp-9Ch]
  float v117; // [rsp+68h] [rbp-98h]
  float v118; // [rsp+6Ch] [rbp-94h]
  __int64 v119; // [rsp+70h] [rbp-90h] BYREF
  double v120; // [rsp+78h] [rbp-88h]
  double v121; // [rsp+80h] [rbp-80h]
  double v122; // [rsp+88h] [rbp-78h]
  double v123; // [rsp+90h] [rbp-70h] BYREF
  double v124; // [rsp+98h] [rbp-68h]
  double v125; // [rsp+A0h] [rbp-60h]
  double v126; // [rsp+A8h] [rbp-58h]
  double v127; // [rsp+B0h] [rbp-50h]
  double v128; // [rsp+B8h] [rbp-48h]
  double v129; // [rsp+C0h] [rbp-40h]
  double v130; // [rsp+C8h] [rbp-38h]
  int n0xF00; // [rsp+D0h] [rbp-30h] BYREF
  __int64 v132; // [rsp+D4h] [rbp-2Ch]
  int v133; // [rsp+DCh] [rbp-24h]
  unsigned __int64 v134; // [rsp+E0h] [rbp-20h]
  unsigned __int64 v135; // [rsp+E8h] [rbp-18h]
  __int64 v136; // [rsp+F0h] [rbp-10h]
  __int64 v137; // [rsp+F8h] [rbp-8h]
  _BYTE v138[8]; // [rsp+120h] [rbp+20h] BYREF
  _BYTE v139[64]; // [rsp+128h] [rbp+28h] BYREF
  _BYTE v140[72]; // [rsp+168h] [rbp+68h] BYREF
  __int16 n0xFFFF_1; // [rsp+298h] [rbp+198h] BYREF
  unsigned __int8 v142; // [rsp+2A0h] [rbp+1A0h]

  v142 = a3;
  v4 = 0;
  n0xF00 = 0xF00;
  v133 = 0;
  v135 = 0;
  v136 = 0;
  v137 = 0;
  v132 = 1;
  v134 = __rdtsc();
  isProfileFunctionsInitialized(
    &n0xF00,
    &word_1515B1200,
    "CRenderProxy::GetLocalBounds",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\RenderProxy.cpp",
    0x604);
  HIWORD(n0xF00) = word_1515B1200;
  sub_146AB76F0(a1, a2);
  if ( a3 )
  {
    v9 = is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8))
       ? *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL
       : 0LL;
    v10 = (double *)sub_146B526C0(v9, (__int64)v139, 2, 0, n2);
    sub_1404B6AF0(v10, &v123);
    v11 = sub_146B49AE0(v9);
    if ( v11 > 0 )
    {
      n0x58635FA9 = 0x58635FA9u;
      n0x58635FA9_7 = 0xD8635FA9;
      while ( 1 )
      {
        sub_146B49A90(v9, &v106, v4);
        v14 = v106;
        if ( v106 )
        {
          v15 = HIWORD(v106);
          if ( (v106 & 0xF000000000000000uLL) != 0 )
          {
            v16 = map_flag_to_mask(0x2000u);
            v18 = v17 & ~(v16 - 1);
          }
          else
          {
            v18 = (v106 & 0xFFFFFFFFFFFFLL) - 6;
          }
          if ( *(_WORD *)(v18 + 2) == (v15 & 0xFFF) )
          {
            if ( *(_BYTE *)(get_thread_context_ptr() + 0x12D)
              || (v19 = is_thread_privileged_or_bypass_mode(), v14 = v106, v19) )
            {
              v19 = 1;
            }
            if ( *(_WORD *)(v18 + 4) == 2 && v19 )
              goto LABEL_19;
            if ( validate_entity_descriptor_detailed_access(&v106) )
              break;
          }
        }
LABEL_38:
        if ( ++v4 >= v11 )
          goto LABEL_39;
      }
      v14 = v106;
LABEL_19:
      v20 = v14 & 0xFFFFFFFFFFFFLL;
      v21 = *(__int64 (__fastcall **)(__int64, _BYTE *, __int16 *))(*(_QWORD *)v20 + 0x340LL);
      n0xFFFF = n0xFFFF_37;
      if ( n0xFFFF_37 == (__int16)0xFFFF )
      {
        n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, _BYTE *, const char *))(*(_QWORD *)pEngineComponentScheduler
                                                                                      + 0x10LL))(
                              pEngineComponentScheduler,
                              v115,
                              "RenderProxy");
        n0xFFFF_37 = n0xFFFF;
      }
      n0xFFFF_1 = n0xFFFF;
      v23 = *(_QWORD *)v21(v20, v138, &n0xFFFF_1);
      v119 = v23;
      if ( v23 )
      {
        v24 = sub_1403B4B50(v23 & 0xFFFFFFFFFFFFLL);
        n4 = *(_WORD *)(v24 + 4);
        if ( n4 != 4
          && *(_WORD *)(v24 + 2) == (HIWORD(v23) & 0xFFF)
          && (n4 == 2 && !*(_QWORD *)get_thread_context_ptr() || sub_14031FE20(&v119)) )
        {
          v26 = v23 & 0xFFFFFFFFFFFFLL;
          if ( v26 )
          {
            sub_146AB77A0(v26, (__int64)&v109, v142, n2);
            if ( v109 < v112 && v110 < v113 && v111 < v114 )
            {
              v28 = (double *)(*(__int64 (__fastcall **)(unsigned __int64, _BYTE *, __int64))(*(_QWORD *)(v106 & 0xFFFFFFFFFFFFLL)
                                                                                            + 0x1E8LL))(
                                v106 & 0xFFFFFFFFFFFFLL,
                                v140,
                                2);
              v29 = v28[6];
              v30 = v28[5];
              v31 = v28[4];
              v32 = v124 * v29 - v125 * v30 + v126 * v31;
              v33 = v125 * v31 - v123 * v29 + v126 * v30;
              v34 = v123 * v30 - v124 * v31 + v126 * v29;
              v35 = v124 * v34 - v125 * v33;
              v36 = v28[1];
              v37 = v123 * v33 - v124 * v32;
              v38 = v125 * v32;
              v39 = *v28;
              v40 = v28[3];
              v41 = v28[2];
              v120 = (v31 + v35 + v35) * v130 + v127;
              v121 = (v30 + v38 - v123 * v34 + v38 - v123 * v34) * v130 + v128;
              v122 = (v29 + v37 + v37) * v130 + v129;
              _XMM2 = COERCE_UNSIGNED_INT64(v124 * v41 - v125 * v36 + v126 * v39 + v123 * v40);
              __asm { vcvtsd2ss xmm9, xmm2, xmm2 }
              _XMM2 = COERCE_UNSIGNED_INT64(v125 * v39 - v123 * v41 + v126 * v36 + v124 * v40);
              __asm { vcvtsd2ss xmm10, xmm2, xmm2 }
              v116 = *(float *)&_XMM10;
              v118 = *(float *)&_XMM9;
              _XMM2 = COERCE_UNSIGNED_INT64(v123 * v36 - v124 * v39 + v126 * v41 + v125 * v40);
              __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
              v108 = *(float *)&_XMM1;
              _XMM2 = COERCE_UNSIGNED_INT64(v126 * v40 - v123 * v39 - v124 * v36 - v125 * v41);
              __asm { vcvtsd2ss xmm13, xmm2, xmm2 }
              v117 = *(float *)&_XMM13;
              if ( v109 <= v112 )
              {
                v54 = LODWORD(v108);
                v55 = v54;
                *(float *)&v55 = *(float *)&v54 + *(float *)&v54;
                v56 = (float)(*(float *)&v54 + *(float *)&v54) * *(float *)&_XMM10;
                v104 = 1.0 - (float)((float)(*(float *)&_XMM9 + *(float *)&_XMM9) * *(float *)&_XMM9);
                v57 = (float)(*(float *)&_XMM9 + *(float *)&_XMM9) * *(float *)&_XMM13;
                v58 = (float)(*(float *)&v54 + *(float *)&v54) * *(float *)&v54;
                *(float *)&v54 = (float)(*(float *)&v54 + *(float *)&v54) * *(float *)&_XMM13;
                v59 = (float)(*(float *)&_XMM10 + *(float *)&_XMM10) * *(float *)&_XMM9;
                v107 = (float)(*(float *)&_XMM10 + *(float *)&_XMM10) * *(float *)&_XMM10;
                v60 = (float)(*(float *)&_XMM10 + *(float *)&_XMM10) * *(float *)&_XMM13;
                *(float *)&v55 = *(float *)&v55 * *(float *)&_XMM9;
                v61 = (float)(v112 - v109) * 0.5;
                v62 = (float)(v113 - v110) * 0.5;
                v63 = (float)(v114 - v111) * 0.5;
                _XMM1 = COERCE_UNSIGNED_INT64(v130 * v28[7]);
                __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
                v103 = *(float *)&_XMM0;
                *(float *)&v119 = (float)((float)((float)(fabs((float)(1.0 - v107) - v58) * v61)
                                                + (float)(fabs(v59 - *(float *)&v54) * v62))
                                        + (float)(fabs(*(float *)&v55 + v60) * v63))
                                * *(float *)&_XMM0;
                *(float *)&v54 = (float)((float)((float)(fabs(*(float *)&v54 + v59) * v61)
                                               + (float)(fabs(v104 - v58) * v62))
                                       + (float)(fabs(v56 - v57) * v63))
                               * *(float *)&_XMM0;
                *(float *)&v55 = *(float *)&v55 - v60;
                n0x58635FA9_22 = v55 & 0x7FFFFFFF;
                *(float *)&n0x58635FA9_22 = (float)((float)(*(float *)&n0x58635FA9_22 * v61)
                                                  + (float)(fabs(v56 + v57) * v62))
                                          + (float)(fabs(v104 - v107) * v63);
                n0x58635FA9_20 = n0x58635FA9_22;
                n0x58635FA9_19 = LODWORD(v112);
                *(float *)&n0x58635FA9_19 = v112 + v109;
                n0x58635FA9_17 = n0x58635FA9_19;
                n0x58635FA9_16 = n0x58635FA9_20;
                *(float *)&n0x58635FA9_16 = *(float *)&n0x58635FA9_20 * *(float *)&_XMM0;
                n0x58635FA9_15 = n0x58635FA9_16;
                n0x58635FA9_23 = LODWORD(v114);
                *(float *)&n0x58635FA9_23 = v114 + v111;
                n0x58635FA9_21 = n0x58635FA9_23;
                v74 = (float)(v113 + v110) * 0.5;
                v105 = *(float *)&v54;
                n0x58635FA9_13 = n0x58635FA9_17;
                *(float *)&n0x58635FA9_13 = *(float *)&n0x58635FA9_17 * 0.5;
                n0x58635FA9_10 = n0x58635FA9_13;
                n0x58635FA9_18 = n0x58635FA9_21;
                v78 = (float)((float)((float)(*(float *)&n0x58635FA9_21 * 0.5) * v116) - (float)(v74 * v108))
                    + (float)(*(float *)&n0x58635FA9_10 * v117);
                v79 = (float)((float)(*(float *)&n0x58635FA9_10 * v108)
                            - (float)((float)(*(float *)&n0x58635FA9_21 * 0.5) * v118))
                    + (float)(v74 * v117);
                *(float *)&v54 = (float)((float)(v74 * v118) - (float)(*(float *)&n0x58635FA9_10 * v116))
                               + (float)((float)(*(float *)&n0x58635FA9_21 * 0.5) * v117);
                v80 = (float)(*(float *)&v54 * v116) - (float)(v79 * v108);
                n0x58635FA9_7 = 0xD8635FA9;
                *(float *)&n0x58635FA9_18 = (float)(v78 * v108) - (float)(*(float *)&v54 * v118);
                n0x58635FA9_14 = n0x58635FA9_18;
                n0x58635FA9 = 0x58635FA9u;
                n0x58635FA9_4 = n0x58635FA9_10;
                _XMM0 = *(unsigned __int64 *)&v120;
                __asm { vcvtpd2ps xmm0, xmm0 }
                *(float *)&n0x58635FA9_4 = (float)((float)((float)(*(float *)&n0x58635FA9_10 + v80) + v80) * v103)
                                         + *(float *)&_XMM0;
                n0x58635FA9_3 = n0x58635FA9_4;
                _XMM0 = *(unsigned __int64 *)&v121;
                n0x58635FA9_11 = n0x58635FA9_14;
                __asm { vcvtpd2ps xmm0, xmm0 }
                *(float *)&n0x58635FA9_11 = (float)((float)((float)(*(float *)&n0x58635FA9_14 + v74)
                                                          + *(float *)&n0x58635FA9_14)
                                                  * v103)
                                          + *(float *)&_XMM0;
                _XMM0 = *(unsigned __int64 *)&v122;
                *(float *)&n0x58635FA9_11 = *(float *)&n0x58635FA9_11 + v105;
                n0x58635FA9_8 = n0x58635FA9_11;
                n0x58635FA9_5 = n0x58635FA9_3;
                *(float *)&n0x58635FA9_5 = *(float *)&n0x58635FA9_3 + *(float *)&v119;
                n0x58635FA9_6 = n0x58635FA9_5;
                __asm { vcvtpd2ps xmm0, xmm0 }
                n0x58635FA9_2 = n0x58635FA9_3;
                *(float *)&n0x58635FA9_2 = *(float *)&n0x58635FA9_3 - *(float *)&v119;
                n0x58635FA9_1 = n0x58635FA9_2;
                n0x58635FA9_12 = n0x58635FA9_15;
                *(float *)&n0x58635FA9_12 = *(float *)&n0x58635FA9_15
                                          + (float)((float)((float)((float)((float)((float)(v79 * v118)
                                                                                  - (float)(v78 * v116))
                                                                          + (float)(*(float *)&n0x58635FA9_21 * 0.5))
                                                                  + (float)((float)(v79 * v118) - (float)(v78 * v116)))
                                                          * v103)
                                                  + *(float *)&_XMM0);
                n0x58635FA9_9 = n0x58635FA9_12;
              }
              else
              {
                n0x58635FA9_1 = n0x58635FA9;
                n0x58635FA9_6 = n0x58635FA9_7;
                n0x58635FA9_8 = n0x58635FA9_7;
                n0x58635FA9_9 = n0x58635FA9_7;
              }
              __asm { vminss  xmm0, xmm3, dword ptr [rdi] }
              *(float *)a2 = *(float *)&_XMM0;
              _XMM1 = *(unsigned int *)(a2 + 4);
              __asm { vminss  xmm0, xmm1, xmm6 }
              *(float *)(a2 + 4) = *(float *)&_XMM0;
              _XMM1 = *(unsigned int *)(a2 + 8);
              __asm { vminss  xmm0, xmm1, xmm7 }
              *(float *)(a2 + 8) = *(float *)&_XMM0;
              __asm { vmaxss  xmm1, xmm2, dword ptr [rdi+0Ch] }
              *(float *)(a2 + 0xC) = *(float *)&_XMM1;
              __asm { vmaxss  xmm0, xmm4, dword ptr [rdi+10h] }
              *(float *)(a2 + 0x10) = *(float *)&_XMM0;
              __asm { vmaxss  xmm1, xmm5, dword ptr [rdi+14h] }
              *(float *)(a2 + 0x14) = *(float *)&_XMM1;
            }
          }
        }
      }
      goto LABEL_38;
    }
  }
LABEL_39:
  v135 = __rdtsc();
  qword_149B4B878(&n0xF00);
  return a2;
}

// --- End Function: sub_146AB77A0 (0x146AB77A0) ---

// --- Function: sub_146AB9650 (0x146AB9650) ---
_BYTE *__fastcall sub_146AB9650(__int64 a1, _BYTE *a2)
{
  sub_140519410((_BYTE *)(a1 + 0x148), a2);
  return a2;
}

// --- End Function: sub_146AB9650 (0x146AB9650) ---

// --- Function: sub_146AB9670 (0x146AB9670) ---
__int64 __fastcall sub_146AB9670(__int64 a1)
{
  __int64 v2; // rdi
  signed __int64 v3; // rdx
  __int64 v4; // r8
  __int64 v5; // rbx
  __int64 v6; // rax
  __int64 v7; // r9

  v2 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0x14);
  }
  else
  {
    v3 = _InterlockedIncrement64((volatile signed __int64 *)v2);
    if ( (v3 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v2, v3, "CRenderProxy::GetOnlyCharacter", "m_SlotsLock", 1);
  }
  v4 = *(_QWORD *)(a1 + 0xE0);
  v5 = 0;
  v6 = (*(_QWORD *)(a1 + 0xE8) - v4) >> 3;
  v7 = (int)v6;
  if ( (int)v6 > 0 )
  {
    do
    {
      if ( *(_QWORD *)v4 && *(_QWORD *)(*(_QWORD *)v4 + 0x80LL) )
        v5 = *(_QWORD *)(*(_QWORD *)v4 + 0x80LL);
      v4 += 8;
      --v7;
    }
    while ( v7 );
  }
  rw_lock_release_read_lock(v2);
  return v5;
}

// --- End Function: sub_146AB9670 (0x146AB9670) ---

// --- Function: sub_146AB9730 (0x146AB9730) ---
__m128 __fastcall sub_146AB9730(__int64 a1)
{
  __int128 v1; // kr00_16

  v1 = 0;
  *(float *)&v1 = (float)*(unsigned __int8 *)(a1 + 0x19C) * 0.0039215689;
  return (__m128)v1;
}

// --- End Function: sub_146AB9730 (0x146AB9730) ---

// --- Function: sub_146AB9750 (0x146AB9750) ---
__int64 __fastcall sub_146AB9750(__int64 a1, __int64 a2, int a3)
{
  _DWORD *v3; // rcx
  __int128 v6; // [rsp+20h] [rbp-18h] BYREF

  v3 = *(_DWORD **)(a1 + 0x180);
  if ( v3 )
  {
    sub_140518580(v3, a3, &v6, dword_149B4FDFC);
    *(_OWORD *)a2 = v6;
    return a2;
  }
  else
  {
    *(_QWORD *)(a2 + 8) = 0;
    *(_QWORD *)a2 = 0;
    return a2;
  }
}

// --- End Function: sub_146AB9750 (0x146AB9750) ---

// --- Function: sub_146ABB790 (0x146ABB790) ---
_WORD *__fastcall sub_146ABB790(__int64 a1, _WORD *a2)
{
  char v4; // [rsp+38h] [rbp+10h] BYREF

  if ( word_1515B0DB4 )
  {
    *a2 = word_1515B0DB4;
    return a2;
  }
  else
  {
    word_1515B0DB4 = *(_WORD *)(*(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL))(
                                 qword_149B4FD40,
                                 &v4,
                                 "DONE (%s)",
                                 "RenderProxy");
    *a2 = word_1515B0DB4;
    return a2;
  }
}

// --- End Function: sub_146ABB790 (0x146ABB790) ---

// --- Function: sub_146ABBE50 (0x146ABBE50) ---
_WORD *__fastcall sub_146ABBE50(__int64 a1, _WORD *a2)
{
  char v4; // [rsp+38h] [rbp+10h] BYREF

  if ( word_1515B0DB8 )
  {
    *a2 = word_1515B0DB8;
    return a2;
  }
  else
  {
    word_1515B0DB8 = *(_WORD *)(*(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL))(
                                 qword_149B4FD40,
                                 &v4,
                                 "Initialize (%s)",
                                 "RenderProxy");
    *a2 = word_1515B0DB8;
    return a2;
  }
}

// --- End Function: sub_146ABBE50 (0x146ABBE50) ---

// --- Function: sub_146ABC510 (0x146ABC510) ---
_WORD *__fastcall sub_146ABC510(__int64 a1, _WORD *a2)
{
  char v4; // [rsp+38h] [rbp+10h] BYREF

  if ( word_1515B0DBC )
  {
    *a2 = word_1515B0DBC;
    return a2;
  }
  else
  {
    word_1515B0DBC = *(_WORD *)(*(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL))(
                                 qword_149B4FD40,
                                 &v4,
                                 "PostInitialize (%s)",
                                 "RenderProxy");
    *a2 = word_1515B0DBC;
    return a2;
  }
}

// --- End Function: sub_146ABC510 (0x146ABC510) ---

// --- Function: sub_146ABCBD0 (0x146ABCBD0) ---
_WORD *__fastcall sub_146ABCBD0(__int64 a1, _WORD *a2)
{
  char v4; // [rsp+38h] [rbp+10h] BYREF

  if ( word_1515B0DA8 )
  {
    *a2 = word_1515B0DA8;
    return a2;
  }
  else
  {
    word_1515B0DA8 = *(_WORD *)(*(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL))(
                                 qword_149B4FD40,
                                 &v4,
                                 "RegisterWithExternalSystems (%s)",
                                 "RenderProxy");
    *a2 = word_1515B0DA8;
    return a2;
  }
}

// --- End Function: sub_146ABCBD0 (0x146ABCBD0) ---

// --- Function: sub_146ABD290 (0x146ABD290) ---
_WORD *__fastcall sub_146ABD290(__int64 a1, _WORD *a2)
{
  char v4; // [rsp+38h] [rbp+10h] BYREF

  if ( word_1515B0DC0 )
  {
    *a2 = word_1515B0DC0;
    return a2;
  }
  else
  {
    word_1515B0DC0 = *(_WORD *)(*(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL))(
                                 qword_149B4FD40,
                                 &v4,
                                 "SpawnBatchComplete (%s)",
                                 "RenderProxy");
    *a2 = word_1515B0DC0;
    return a2;
  }
}

// --- End Function: sub_146ABD290 (0x146ABD290) ---

// --- Function: sub_146ABD950 (0x146ABD950) ---
_WORD *__fastcall sub_146ABD950(__int64 a1, _WORD *a2)
{
  char v4; // [rsp+38h] [rbp+10h] BYREF

  if ( word_1515B0DAC )
  {
    *a2 = word_1515B0DAC;
    return a2;
  }
  else
  {
    word_1515B0DAC = *(_WORD *)(*(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL))(
                                 qword_149B4FD40,
                                 &v4,
                                 "UnregisterFromExternalSystems (%s)",
                                 "RenderProxy");
    *a2 = word_1515B0DAC;
    return a2;
  }
}

// --- End Function: sub_146ABD950 (0x146ABD950) ---

// --- Function: sub_146ABE010 (0x146ABE010) ---
_WORD *__fastcall sub_146ABE010(__int64 a1, _WORD *a2)
{
  char v4; // [rsp+38h] [rbp+10h] BYREF

  if ( word_1515B0DB0 )
  {
    *a2 = word_1515B0DB0;
    return a2;
  }
  else
  {
    word_1515B0DB0 = *(_WORD *)(*(__int64 (**)(__int64, char *, const char *, ...))(*(_QWORD *)qword_149B4FD40 + 0x138LL))(
                                 qword_149B4FD40,
                                 &v4,
                                 "Unregister (%s)",
                                 "RenderProxy");
    *a2 = word_1515B0DB0;
    return a2;
  }
}

// --- End Function: sub_146ABE010 (0x146ABE010) ---

// --- Function: sub_146ABE890 (0x146ABE890) ---
__int64 *__fastcall sub_146ABE890(__int64 a1, __int64 *a2, int a3)
{
  unsigned __int64 v3; // rbp
  __int64 v4; // rbx
  signed __int64 v7; // rdx
  __int64 v8; // rdx
  __int64 v9; // rdx
  __int64 v11; // r8
  __int64 v12; // rax
  unsigned __int64 v13; // rcx
  __int64 v14; // rcx
  __int64 v15; // rax

  v3 = a3;
  v4 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v4);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v4, v7, "CRenderProxy::GetRenderMaterial", "m_SlotsLock", 1);
  }
  if ( (v3 & 0x80000000) != 0LL )
  {
    v11 = *(_QWORD *)(a1 + 0xE0);
    v12 = 0;
    v13 = (*(_QWORD *)(a1 + 0xE8) - v11) >> 3;
    if ( !v13 )
    {
LABEL_8:
      *a2 = 0;
      goto LABEL_9;
    }
    while ( 1 )
    {
      v9 = *(_QWORD *)(v11 + 8 * v12);
      if ( v9 )
      {
        if ( (*(_BYTE *)(v9 + 0xD8) & 1) != 0 )
          break;
      }
      if ( ++v12 >= v13 )
        goto LABEL_8;
    }
  }
  else
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( v3 >= (*(_QWORD *)(a1 + 0xE8) - v8) >> 3 )
      goto LABEL_8;
    v9 = *(_QWORD *)(v8 + 8 * v3);
    if ( !v9 )
      goto LABEL_8;
  }
  v14 = *(_QWORD *)(a1 + 0x160);
  if ( v14 )
  {
    *a2 = v14;
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v14 + 8LL))(v14);
  }
  else
  {
    v15 = sub_146AC1380(a1, (_QWORD *)v9);
    *a2 = v15;
    if ( v15 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v15 + 8LL))(v15);
  }
LABEL_9:
  rw_lock_release_read_lock(v4);
  return a2;
}

// --- End Function: sub_146ABE890 (0x146ABE890) ---

// --- Function: sub_146ABEC30 (0x146ABEC30) ---
__m128 __fastcall sub_146ABEC30(__int64 a1)
{
  _QWORD *v2; // rbx
  __int64 v3; // rcx
  __m128 result; // xmm0

  v2 = (_QWORD *)(a1 + 8);
  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v3 = *v2 & 0xFFFFFFFFFFFFLL;
  else
    v3 = 0;
  *(double *)&_XMM0 = (*(double (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v3 + 0x2B8LL))(v3, 0);
  __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
  return result;
}

// --- End Function: sub_146ABEC30 (0x146ABEC30) ---

// --- Function: sub_146ABEC70 (0x146ABEC70) ---
bool __fastcall sub_146ABEC70(__int64 a1)
{
  return (*(_DWORD *)(a1 + 0x194) & 0x2000) != 0;
}

// --- End Function: sub_146ABEC70 (0x146ABEC70) ---

// --- Function: sub_146ABED70 (0x146ABED70) ---
_QWORD *__fastcall sub_146ABED70(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v3; // rsi
  __int64 v4; // rbx
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  __int64 v9; // rcx
  __int64 v10; // rcx
  void (__fastcall ***v11)(_QWORD); // rax

  v3 = a3;
  v4 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v4);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v4, v7, "CRenderProxy::GetSkin", "m_SlotsLock", 1);
  }
  if ( (int)v3 >= 0
    && (v8 = *(_QWORD *)(a1 + 0xE0), (int)v3 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3))
    && (v9 = *(_QWORD *)(v8 + 8 * v3)) != 0
    && (v10 = *(_QWORD *)(v9 + 0x68)) != 0 )
  {
    v11 = (void (__fastcall ***)(_QWORD))(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x10LL))(v10);
    *a2 = v11;
    if ( v11 )
      (**v11)(v11);
  }
  else
  {
    *a2 = 0;
  }
  rw_lock_release_read_lock(v4);
  return a2;
}

// --- End Function: sub_146ABED70 (0x146ABED70) ---

// --- Function: sub_146ABEFA0 (0x146ABEFA0) ---
__int64 __fastcall sub_146ABEFA0(__int64 a1)
{
  __int64 v2; // rdi
  signed __int64 v3; // rdx
  __int64 v4; // rbx

  v2 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0x14);
  }
  else
  {
    v3 = _InterlockedIncrement64((volatile signed __int64 *)v2);
    if ( (v3 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v2, v3, "CRenderProxy::GetSlotCount", "m_SlotsLock", 1);
  }
  v4 = (__int64)(*(_QWORD *)(a1 + 0xE8) - *(_QWORD *)(a1 + 0xE0)) >> 3;
  rw_lock_release_read_lock(v2);
  return (unsigned int)v4;
}

// --- End Function: sub_146ABEFA0 (0x146ABEFA0) ---

// --- Function: sub_146AC12B0 (0x146AC12B0) ---
_QWORD *__fastcall sub_146AC12B0(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v3; // rsi
  __int64 v4; // rbx
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  __int64 v9; // rcx
  __int64 v10; // rcx

  v3 = a3;
  v4 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v4);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v4, v7, "CRenderProxy::GetSlotMaterial", "m_SlotsLock", 1);
  }
  if ( (int)v3 >= 0
    && (v8 = *(_QWORD *)(a1 + 0xE0), (int)v3 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3))
    && (v9 = *(_QWORD *)(v8 + 8 * v3)) != 0 )
  {
    v10 = *(_QWORD *)(v9 + 0xC0);
    *a2 = v10;
    if ( v10 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v10 + 8LL))(v10);
  }
  else
  {
    *a2 = 0;
  }
  rw_lock_release_read_lock(v4);
  return a2;
}

// --- End Function: sub_146AC12B0 (0x146AC12B0) ---

// --- Function: sub_146AC1450 (0x146AC1450) ---
__int64 __fastcall sub_146AC1450(__int64 a1, __int64 a2, int a3)
{
  __int64 v3; // rsi
  __int64 v4; // rdi
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  __int64 v9; // rax
  __int64 v10; // rax
  double v11; // xmm0_8
  int v12; // eax

  v3 = a3;
  v4 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v4);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v4, v7, "CRenderProxy::GetSlotScale", "m_SlotsLock", 1);
  }
  if ( (int)v3 >= 0
    && (v8 = *(_QWORD *)(a1 + 0xE0), (int)v3 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3))
    && (v9 = *(_QWORD *)(v8 + 8 * v3)) != 0
    && (v10 = *(_QWORD *)(v9 + 0x48)) != 0 )
  {
    v11 = *(double *)v10;
    v12 = *(_DWORD *)(v10 + 8);
    *(double *)a2 = v11;
    *(_DWORD *)(a2 + 8) = v12;
  }
  else
  {
    *(_DWORD *)a2 = 0x3F800000;
    *(_DWORD *)(a2 + 4) = 0x3F800000;
    *(_DWORD *)(a2 + 8) = 0x3F800000;
  }
  rw_lock_release_read_lock(v4);
  return a2;
}

// --- End Function: sub_146AC1450 (0x146AC1450) ---

// --- Function: sub_146AC1530 (0x146AC1530) ---
__int64 __fastcall sub_146AC1530(__int64 a1, int a2)
{
  unsigned __int64 v2; // rsi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rdi
  __int64 v7; // rdi
  __int64 v8; // rdi

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v3, v5, "CRenderProxy::GetSlotTintPalette", "m_SlotsLock", 1);
  }
  if ( (v2 & 0x80000000) == 0LL
    && (v6 = *(_QWORD *)(a1 + 0xE0), v2 < (*(_QWORD *)(a1 + 0xE8) - v6) >> 3)
    && (v7 = *(_QWORD *)(v6 + 8 * v2)) != 0 )
  {
    v8 = *(_QWORD *)(v7 + 0xC8);
  }
  else
  {
    v8 = 0;
  }
  rw_lock_release_read_lock(v3);
  return v8;
}

// --- End Function: sub_146AC1530 (0x146AC1530) ---

// --- Function: sub_146AC8750 (0x146AC8750) ---
__m128 __fastcall sub_146AC8750(__int64 a1)
{
  signed __int64 v2; // rdx
  __int128 v3; // xmm6

  if ( (*(_DWORD *)(a1 + 0x194) & 2) == 0 )
    sub_146A88AF0(a1);
  if ( *(_DWORD *)(a1 + 0x110) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x114);
  }
  else
  {
    v2 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x100));
    if ( (v2 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(
        a1 + 0x100,
        v2,
        "CRenderProxy::GetStreamingAndUpdateRadius",
        "localBBoxLock",
        1);
  }
  v3 = *(unsigned int *)(a1 + 0x130);
  rw_lock_release_read_lock(a1 + 0x100);
  return (__m128)v3;
}

// --- End Function: sub_146AC8750 (0x146AC8750) ---

// --- Function: sub_146AC87F0 (0x146AC87F0) ---
_QWORD *__fastcall sub_146AC87F0(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v3; // rsi
  __int64 v4; // rdi
  signed __int64 v7; // rdx
  __int64 v8; // rdx
  __int64 v9; // rdx

  v3 = a3;
  v4 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v4);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v4, v7, "CRenderProxy::GetSubObjHideMask", "m_SlotsLock", 1);
  }
  if ( (int)v3 >= 0
    && (v8 = *(_QWORD *)(a1 + 0xE0), (int)v3 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3))
    && (v9 = *(_QWORD *)(v8 + 8 * v3)) != 0 )
  {
    sub_14056EBC0(a2, (_BYTE *)(v9 + 0x148));
  }
  else
  {
    *a2 = 0;
  }
  rw_lock_release_read_lock(v4);
  return a2;
}

// --- End Function: sub_146AC87F0 (0x146AC87F0) ---

// --- Function: sub_146AC9A90 (0x146AC9A90) ---
__int64 __fastcall sub_146AC9A90(__int64 a1, int a2)
{
  __int64 v2; // rdi
  __int64 v3; // rbx
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // rdi
  __int64 v8; // rdi

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v3, v5, "CRenderProxy::GetVisualState", "m_SlotsLock", 1);
  }
  if ( (int)v2 >= 0
    && (v6 = *(_QWORD *)(a1 + 0xE0), (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3))
    && (v7 = *(_QWORD *)(v6 + 8 * v2)) != 0 )
  {
    v8 = v7 + 0xA8;
  }
  else
  {
    v8 = 0;
  }
  rw_lock_release_read_lock(v3);
  return v8;
}

// --- End Function: sub_146AC9A90 (0x146AC9A90) ---

// --- Function: sub_146AC9C00 (0x146AC9C00) ---
bool __fastcall sub_146AC9C00(__int64 a1, double *a2, unsigned __int8 n2)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm9
  __int128 v6; // xmm11
  __int128 v7; // xmm15
  signed __int64 v11; // rdx
  float v12; // xmm1_4
  float v13; // xmm3_4
  float v14; // xmm4_4
  float v15; // xmm5_4
  float v16; // xmm2_4
  double v17; // xmm9_8
  double v18; // xmm15_8
  double v19; // xmm11_8
  unsigned __int64 v20; // rcx
  double *v21; // rax
  double v22; // xmm2_8
  double v23; // xmm3_8
  double v24; // xmm6_8
  double v25; // xmm7_8
  double v26; // xmm0_8
  double v27; // xmm1_8
  double v28; // xmm6_8
  double v29; // xmm5_8
  double v30; // xmm8_8
  double v31; // xmm3_8
  double v32; // xmm5_8
  double v33; // xmm7_8
  double v34; // xmm0_8
  double v35; // kr00_8
  double v36; // xmm12_8
  double v37; // xmm14_8
  double v38; // xmm8_8
  double v39; // xmm9_8
  double v40; // xmm11_8
  double v41; // xmm5_8
  double v42; // kr00_8
  double v43; // xmm12_8
  double v44; // xmm11_8
  double v45; // xmm14_8
  double v46; // xmm13_8
  double v47; // xmm8_8
  double v48; // xmm10_8
  double v49; // kr00_8
  double v50; // xmm7_8
  double v51; // xmm6_8
  double v52; // xmm4_8
  double v53; // xmm2_8
  double v54; // xmm3_8
  double v55; // xmm5_8
  double v56; // kr00_8
  double v57; // xmm3_8
  double v59; // [rsp+30h] [rbp-148h]
  double v60; // [rsp+30h] [rbp-148h]
  double v61; // [rsp+38h] [rbp-140h]
  double v62; // [rsp+40h] [rbp-138h]
  double v63; // [rsp+48h] [rbp-130h]
  double v64; // [rsp+58h] [rbp-120h]
  _BYTE v65[64]; // [rsp+60h] [rbp-118h] BYREF
  __int128 v66; // [rsp+A0h] [rbp-D8h]
  __int128 v67; // [rsp+E0h] [rbp-98h]
  __int128 v68; // [rsp+100h] [rbp-78h]
  __int128 v69; // [rsp+120h] [rbp-58h]
  __int128 v70; // [rsp+130h] [rbp-48h]
  double v71; // [rsp+180h] [rbp+8h]
  double v72; // [rsp+188h] [rbp+10h]
  double v73; // [rsp+198h] [rbp+20h]

  v70 = v3;
  v69 = v4;
  v68 = v5;
  v67 = v6;
  v66 = v7;
  if ( (*(_DWORD *)(a1 + 0x194) & 2) == 0 )
    sub_146A88AF0(a1);
  if ( *(_DWORD *)(a1 + 0x110) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x114);
  }
  else
  {
    v11 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x100));
    if ( (v11 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x100, v11, "CRenderProxy::GetWorldBounds", "localBBoxLock", 1);
  }
  v12 = *(float *)(a1 + 0x11C);
  v13 = *(float *)(a1 + 0x124);
  v14 = *(float *)(a1 + 0x128);
  v15 = *(float *)(a1 + 0x12C);
  v16 = *(float *)(a1 + 0x120);
  *a2 = *(float *)(a1 + 0x118);
  a2[1] = v12;
  a2[2] = v16;
  a2[3] = v13;
  a2[4] = v14;
  a2[5] = v15;
  rw_lock_release_read_lock(a1 + 0x100);
  v17 = *a2;
  v18 = a2[1];
  v19 = a2[3];
  v61 = a2[2];
  v72 = a2[4];
  v73 = a2[5];
  v62 = *a2;
  v63 = v19;
  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v20 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v20 = 0;
  v21 = (double *)sub_146B526C0(v20, (__int64)v65, 0, 0, n2);
  if ( v17 <= v19 )
  {
    v28 = v21[1];
    v29 = v21[2];
    v30 = *v21;
    v31 = v29 + v29;
    v32 = (v29 + v29) * v29;
    v33 = (v28 + v28) * *v21;
    v59 = 1.0 - (v30 + v30) * v30;
    v71 = (v28 + v28) * v28;
    v34 = v21[3];
    v35 = v31 * *v21;
    v36 = v34 * (v28 + v28);
    v37 = v34 * (v30 + v30);
    v38 = (v19 - v17) * 0.5;
    v39 = (v72 - v18) * 0.5;
    v40 = (v73 - v61) * 0.5;
    v64 = (fabs(1.0 - v71 - v32) * v38 + fabs(v33 - v34 * v31) * v39 + fabs(v35 + v36) * v40) * v21[7];
    v41 = (fabs(v59 - v32) * v39 + fabs(v34 * v31 + v33) * v38 + fabs(v31 * v28 - v37) * v40) * v21[7];
    v42 = v35 - v36;
    v43 = v21[7];
    v44 = (COERCE_DOUBLE(*(_QWORD *)&v42 & 0x7FFFFFFFFFFFFFFFLL) * v38
         + fabs(v31 * v28 + v37) * v39
         + fabs(v59 - v71) * v40)
        * v43;
    v60 = v41;
    v45 = v28;
    v46 = v21[2];
    v47 = (v62 + v63) * 0.5;
    v48 = (v73 + v61) * 0.5;
    v49 = (v72 + v18) * 0.5;
    v50 = v48 * v28 - v49 * v46 + v47 * v34;
    v51 = v47 * v46 - v48 * *v21 + v49 * v34;
    v52 = v49 * *v21 - v47 * v45 + v48 * v34;
    v53 = v46 * v50;
    v54 = *v21 * v51 - v45 * v50;
    v55 = (v47 + v45 * v52 - v46 * v51 + v45 * v52 - v46 * v51) * v43 + v21[4];
    v25 = v55 + v64;
    v56 = (v49 + v53 - *v21 * v52 + v53 - *v21 * v52) * v43 + v21[5];
    v24 = v56 + v60;
    v26 = v56 - v60;
    v57 = (v48 + v54 + v54) * v43 + v21[6];
    v27 = v55 - v64;
    v22 = v44 + v57;
    v23 = v57 - v44;
  }
  else
  {
    v22 = -1.0e150;
    v23 = 1.0e150;
    v24 = -1.0e150;
    v25 = -1.0e150;
    v26 = 1.0e150;
    v27 = 1.0e150;
  }
  *a2 = v27;
  a2[1] = v26;
  a2[2] = v23;
  a2[3] = v25;
  a2[4] = v24;
  a2[5] = v22;
  return is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8));
}

// --- End Function: sub_146AC9C00 (0x146AC9C00) ---

// --- Function: sub_146AD01D0 (0x146AD01D0) ---
_BOOL8 __fastcall sub_146AD01D0(__int64 a1, int a2)
{
  __int64 v2; // rbx
  __int64 v3; // rdi
  signed __int64 v5; // rdx
  __int64 v6; // rcx
  __int64 v7; // rbx
  __int64 v8; // rcx
  bool v9; // bl

  v2 = a2;
  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v3, v5, "CRenderProxy::HasGeometry", "m_SlotsLock", 1);
  }
  v9 = 0;
  if ( (int)v2 >= 0 )
  {
    v6 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v2 < (int)((*(_QWORD *)(a1 + 0xE8) - v6) >> 3) )
    {
      v7 = *(_QWORD *)(v6 + 8 * v2);
      if ( v7 )
      {
        if ( (v8 = *(_QWORD *)(v7 + 0x58)) != 0 && (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x30LL))(v8)
          || *(_QWORD *)(v7 + 0x80) )
        {
          v9 = 1;
        }
      }
    }
  }
  rw_lock_release_read_lock(v3);
  return v9;
}

// --- End Function: sub_146AD01D0 (0x146AD01D0) ---

// --- Function: sub_146AD08A0 (0x146AD08A0) ---
void __fastcall sub_146AD08A0(__int64 a1)
{
  __int64 *v1; // r15
  __int64 *i; // rsi
  __int64 v4; // rdi
  __int64 v5; // rcx
  int v6; // ebp
  void (__fastcall ***v7)(_QWORD); // rax
  void (__fastcall ***v8)(_QWORD); // rbx
  __int64 v9; // rcx
  __int64 v10; // rax
  int v11; // eax
  __int64 v12; // rax
  __int64 v13; // rdx

  v1 = *(__int64 **)(a1 + 0xE8);
  for ( i = *(__int64 **)(a1 + 0xE0); i != v1; ++i )
  {
    v4 = *i;
    if ( *i
      && (*(_QWORD *)(v4 + 0x58) || *(_QWORD *)(v4 + 0x80))
      && (unsigned int)get_slot_glow_id(v4 + 0xE0) == 0xFFFFFFFF )
    {
      v5 = *(_QWORD *)(v4 + 0x58);
      v6 = 1;
      if ( v5 )
      {
        v7 = (void (__fastcall ***)(_QWORD))(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v5 + 0x30LL))(v5);
        v8 = v7;
        if ( v7 )
        {
          (**v7)(v7);
          v6 = ((__int64 (__fastcall *)(_QWORD))(*v8)[0x7B])(v8);
          (*v8)[1](v8);
        }
      }
      else
      {
        v9 = *(_QWORD *)(v4 + 0x80);
        if ( v9 )
        {
          v10 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v9 + 0x2E8LL))(v9);
          if ( v10 )
          {
            v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x3E0LL))(v10);
          }
          else
          {
            v12 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v4 + 0x80) + 0x70LL))(*(_QWORD *)(v4 + 0x80));
            v11 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x10LL))(v12);
          }
          v6 = v11;
        }
      }
      v13 = a1 + 0x78;
      if ( !a1 )
        v13 = 0;
      acquire_or_get_slot_glow_id(v4 + 0xE0, v13, v6);
    }
  }
}

// --- End Function: sub_146AD08A0 (0x146AD08A0) ---

// --- Function: sub_146AD0C50 (0x146AD0C50) ---
__int64 __fastcall sub_146AD0C50(__int64 a1)
{
  __int64 v2; // r15
  __int64 v3; // rax
  __int64 v4; // rbx
  __int64 v5; // rcx
  __int64 v6; // rcx
  __int64 v7; // rcx
  __int64 v8; // r14
  __int64 v9; // rsi
  __int64 *v10; // rbx
  __int64 v11; // rax
  __int64 *v12; // rax
  __int64 v13; // rcx
  __int64 v17; // rbx
  int v18; // eax
  __int16 v19; // ax
  __int64 v20; // rcx
  __int64 v21; // rax
  float v22; // xmm1_4
  float v23; // xmm0_4
  double v24; // xmm0_8
  double v25; // xmm1_8
  double v26; // xmm2_8
  double v27; // xmm3_8
  double v28; // xmm4_8
  double v29; // xmm5_8
  int v30; // eax
  float v31; // xmm0_4
  int v32; // eax
  __int64 v33; // rcx
  __int64 v34; // r9
  __int64 v35; // rbx
  void (__fastcall *v36)(__int64, _QWORD, __int64, _QWORD *); // rsi
  __int64 v37; // rcx
  unsigned int v38; // eax
  _QWORD v40[2]; // [rsp+38h] [rbp-D0h] BYREF
  __int128 v41; // [rsp+48h] [rbp-C0h]
  double v42; // [rsp+58h] [rbp-B0h]
  double v43; // [rsp+60h] [rbp-A8h]
  __int128 v44; // [rsp+68h] [rbp-A0h]
  __int128 v45; // [rsp+78h] [rbp-90h]
  __int128 v46; // [rsp+88h] [rbp-80h]
  double v47; // [rsp+98h] [rbp-70h]
  __int128 v48; // [rsp+A0h] [rbp-68h]
  double v49; // [rsp+B0h] [rbp-58h]
  float v50; // [rsp+B8h] [rbp-50h]
  __int64 v51; // [rsp+BCh] [rbp-4Ch]
  __int64 v52; // [rsp+C8h] [rbp-40h]
  int v53; // [rsp+D0h] [rbp-38h]
  __int64 v54; // [rsp+D8h] [rbp-30h]
  int v55; // [rsp+E0h] [rbp-28h] BYREF
  __int16 v56; // [rsp+E4h] [rbp-24h]
  char v57; // [rsp+E6h] [rbp-22h]
  __int64 v58; // [rsp+E8h] [rbp-20h]
  _BYTE v59[64]; // [rsp+110h] [rbp+8h] BYREF

  v2 = 0;
  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v3 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v3 = 0;
  v4 = *(_QWORD *)(a1 + 0x160);
  v5 = *(_QWORD *)(v3 + 0x138);
  if ( v4 != v5 )
  {
    v4 = *(_QWORD *)(v3 + 0x138);
    if ( v5 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v5 + 8LL))(v5);
    v6 = *(_QWORD *)(a1 + 0x160);
    if ( v6 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v6 + 0x10LL))(v6);
    *(_QWORD *)(a1 + 0x160) = v4;
  }
  if ( v4 )
  {
    v7 = *(_QWORD *)(a1 + 0xE0);
    v8 = 0;
    if ( (*(_QWORD *)(a1 + 0xE8) - v7) >> 3 )
    {
      while ( 1 )
      {
        v9 = *(_QWORD *)(v7 + 8 * v8);
        if ( v9 )
          break;
LABEL_22:
        v7 = *(_QWORD *)(a1 + 0xE0);
        if ( ++v8 >= (unsigned __int64)((*(_QWORD *)(a1 + 0xE8) - v7) >> 3) )
          goto LABEL_23;
      }
      v10 = *(__int64 **)(a1 + 0x160);
      if ( v10 )
      {
        v11 = *v10;
      }
      else
      {
        v12 = *(__int64 **)(v9 + 0xC0);
        if ( !v12 )
        {
LABEL_18:
          v13 = *(_QWORD *)(v9 + 0x58);
          if ( v13 )
            (*(void (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v13 + 0x20LL))(v13, v10);
          if ( v10 )
            (*(void (__fastcall **)(__int64 *))(*v10 + 0x10))(v10);
          goto LABEL_22;
        }
        v10 = *(__int64 **)(v9 + 0xC0);
        v11 = *v12;
      }
      (*(void (__fastcall **)(__int64 *))(v11 + 8))(v10);
      goto LABEL_18;
    }
  }
LABEL_23:
  sub_146B0AA80(a1);
  sub_146B09E30(a1);
  sub_146A88AF0(a1);
  _XMM1 = 0;
  __asm
  {
    vmovupd [rsp+170h+var_138+8], xmm1
    vmovupd xmm1, cs:xmmword_1481AA7F0
    vmovupd xmmword ptr [rsp+170h+var_108+8], xmm1
  }
  v43 = 1.0;
  _XMM0 = 0;
  v51 = 0;
  v17 = a1 + 0x78;
  v52 = 0;
  if ( !a1 )
    v17 = 0;
  v53 = 0;
  v40[1] = v17;
  LOWORD(v40[0]) = 0xD3F3;
  v48 = 0;
  v42 = 0.0;
  v50 = 0.0;
  __asm { vmovupd [rsp+170h+var_118+8], xmm0 }
  v46 = 0;
  v47 = 0.0;
  v49 = 0.0;
  v54 = 0;
  sub_140360130(&v55);
  v57 = 0;
  v56 = 0xFFFE;
  v18 = *(_DWORD *)(v17 + 8);
  v58 = 0;
  if ( (v18 & 0x800) != 0 )
  {
    v19 = 0xFFFD;
  }
  else
  {
    if ( (v18 & 0x4000) == 0 )
      goto LABEL_30;
    v19 = 0xFFFC;
  }
  v56 = v19;
LABEL_30:
  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v20 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v20 = 0;
  v21 = (*(__int64 (__fastcall **)(__int64, _BYTE *, __int64))(*(_QWORD *)v20 + 0x1E8LL))(v20, v59, 2);
  v41 = *(_OWORD *)v21;
  v42 = *(double *)(v21 + 0x10);
  v43 = *(double *)(v21 + 0x18);
  v44 = *(_OWORD *)(v21 + 0x20);
  *(_QWORD *)&v45 = *(_QWORD *)(v21 + 0x30);
  v22 = *(float *)(a1 + 0x124);
  *((_QWORD *)&v45 + 1) = *(_QWORD *)(v21 + 0x38);
  v23 = *(float *)(a1 + 0x118);
  if ( v23 <= v22 )
  {
    v26 = *(float *)(a1 + 0x11C);
    v27 = *(float *)(a1 + 0x120);
    v28 = *(float *)(a1 + 0x128);
    v29 = *(float *)(a1 + 0x12C);
    v24 = v23;
    v25 = v22;
  }
  else
  {
    v24 = 1.0e150;
    v25 = -1.0e150;
    v26 = 1.0e150;
    v27 = 1.0e150;
    v28 = -1.0e150;
    v29 = -1.0e150;
  }
  v30 = *(unsigned __int8 *)(a1 + 0x8D);
  *(double *)&v46 = v24;
  *((double *)&v46 + 1) = v26;
  v47 = v27;
  *(double *)&v48 = v25;
  *((double *)&v48 + 1) = v28;
  v49 = v29;
  if ( (_BYTE)v30 == 0xFF )
    v31 = 10.0;
  else
    v31 = (float)v30 * 0.0099999998;
  v32 = *(_DWORD *)(a1 + 0x80);
  v58 = a1 + 0xA0;
  v50 = v31;
  LODWORD(v51) = 0x13;
  HIDWORD(v51) = v32;
  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v33 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v33 = 0;
  if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v33 + 0x50LL))(v33) )
  {
    LOBYTE(v34) = 1;
    (*(void (__fastcall **)(__int64, __int64, __int64, __int64, char))(*(_QWORD *)qword_149B4FBE8 + 0x468LL))(
      qword_149B4FBE8,
      0xD3F3,
      a1 + 0xA0,
      v34,
      1);
  }
  v35 = qword_149B4FBE8;
  v36 = *(void (__fastcall **)(__int64, _QWORD, __int64, _QWORD *))(*(_QWORD *)qword_149B4FBE8 + 0x350LL);
  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v37 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v37 = 0;
  v38 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v37 + 0x658LL))(v37);
  v36(v35, v38, a1 + 0x88, v40);
  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v2 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  if ( *(_BYTE *)(v2 + 0xD) >= 4u )
  {
    *(_DWORD *)(a1 + 0x194) |= 0x100u;
    sub_146B0A630(a1);
  }
  sub_146AD1330(a1);
  return sub_1403729F0(&v55);
}

// --- End Function: sub_146AD0C50 (0x146AD0C50) ---

// --- Function: sub_146AD1FF0 (0x146AD1FF0) ---
double __fastcall sub_146AD1FF0(__int64 a1)
{
  return sub_146AD1F20(a1, 1);
}

// --- End Function: sub_146AD1FF0 (0x146AD1FF0) ---

// --- Function: sub_146AD2DC0 (0x146AD2DC0) ---
bool __fastcall sub_146AD2DC0(AK::WriteBytesCount *this, _WORD *a2)
{
  __int16 n0xFFFF; // ax
  __int16 n0xFFFF_1; // ax
  bool result; // al
  char v7; // [rsp+38h] [rbp+10h] BYREF

  n0xFFFF = n0xFFFF_37;
  if ( n0xFFFF_37 == (__int16)0xFFFF )
  {
    n0xFFFF = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)pEngineComponentScheduler
                                                                                 + 0x10LL))(
                          pEngineComponentScheduler,
                          &v7,
                          "RenderProxy");
    n0xFFFF_37 = n0xFFFF;
  }
  if ( *a2 == n0xFFFF )
    return 1;
  n0xFFFF_1 = n0xFFFF_43;
  if ( n0xFFFF_43 == (__int16)0xFFFF )
  {
    n0xFFFF_1 = *(_WORD *)(*(__int64 (__fastcall **)(__int64, char *, const char *))(*(_QWORD *)pEngineComponentScheduler
                                                                                   + 0x10LL))(
                            pEngineComponentScheduler,
                            &v7,
                            "IEntityRenderProxy");
    n0xFFFF_43 = n0xFFFF_1;
  }
  if ( *a2 == n0xFFFF_1 )
    return 1;
  result = AK::WriteBytesCount::Reserve(this);
  if ( result )
    return 1;
  return result;
}

// --- End Function: sub_146AD2DC0 (0x146AD2DC0) ---

// --- Function: sub_146AD36E0 (0x146AD36E0) ---
bool __fastcall sub_146AD36E0(__int64 a1)
{
  return (*(_DWORD *)(a1 + 0x194) & 0x40000) != 0;
}

// --- End Function: sub_146AD36E0 (0x146AD36E0) ---

// --- Function: sub_146AD3960 (0x146AD3960) ---
char __fastcall sub_146AD3960(__int64 a1)
{
  __int64 v1; // rax
  __int64 v2; // rsi
  __int64 (__fastcall *v3)(__int64, __int64); // rdi
  int v4; // eax
  __int64 v5; // rdx
  int n0x14_1; // eax
  int n0x14; // ecx

  v1 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x290LL))(qword_149B4FBE8, a1 + 0x88);
  v2 = v1;
  if ( v1 )
  {
    v3 = *(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v1 + 0x30LL);
    v4 = (*(__int64 (__fastcall **)(_LocaleUpdate *))(*(_QWORD *)pRenderer + 0x538LL))(pRenderer);
    LOBYTE(v5) = 1;
    n0x14_1 = v3(v2, v5) - v4;
    n0x14 = -n0x14_1;
    if ( n0x14_1 > 0 )
      n0x14 = n0x14_1;
    LOBYTE(v1) = n0x14 <= 0x14;
  }
  return v1;
}

// --- End Function: sub_146AD3960 (0x146AD3960) ---

// --- Function: sub_146AD9F60 (0x146AD9F60) ---
_QWORD *__fastcall sub_146AD9F60(__int64 a1, _QWORD *a2, int a3)
{
  __int64 v3; // rbp
  __int64 v4; // rbx
  __int64 thread_context_ptr; // rax
  int v8; // esi
  __int64 v9; // r8
  unsigned __int64 v10; // rax
  __int64 v11; // rsi
  __int64 v12; // rsi
  __int64 v13; // rcx
  __int64 v14; // rsi
  int v15; // eax
  unsigned __int64 n0x200000; // rax

  v3 = a3;
  v4 = a1 + 0x230;
  thread_context_ptr = get_thread_context_ptr();
  v8 = *(_DWORD *)(thread_context_ptr + 0x18);
  if ( *(_DWORD *)(v4 + 0x10) == v8 )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v9 = *(_QWORD *)(thread_context_ptr + 0x20);
    v10 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0x200000, 0);
    if ( v10 )
      sub_1403DCD60(v4, v10, v9, "CRenderProxy::MoveParticleEmitter", "m_SlotsLock", 1);
    else
      *(_QWORD *)(v4 + 8) = v9;
    *(_DWORD *)(v4 + 0x10) = v8;
  }
  if ( (int)v3 < 0
    || (v11 = *(_QWORD *)(a1 + 0xE0), (int)v3 >= (int)((*(_QWORD *)(a1 + 0xE8) - v11) >> 3))
    || (v12 = *(_QWORD *)(v11 + 8 * v3)) == 0 )
  {
    *a2 = 0;
LABEL_19:
    if ( !v4 )
      return a2;
    v15 = *(_DWORD *)(v4 + 0x14);
    if ( !v15 )
      goto LABEL_15;
LABEL_21:
    *(_DWORD *)(v4 + 0x14) = v15 - 1;
    return a2;
  }
  v13 = *(_QWORD *)(v12 + 0x90);
  if ( !v13
    || (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x158LL))(v13) != 8
    || (v14 = *(_QWORD *)(v12 + 0x90)) == 0 )
  {
    *a2 = 0;
    goto LABEL_19;
  }
  (*(void (__fastcall **)(__int64))(*(_QWORD *)(v14 + 0x30) + 8LL))(v14 + 0x30);
  sub_146AB2040(a1, v3);
  *a2 = v14;
  if ( !v4 )
    return a2;
  v15 = *(_DWORD *)(v4 + 0x14);
  if ( v15 )
    goto LABEL_21;
LABEL_15:
  *(_DWORD *)(v4 + 0x10) = 0xFFFFFFFF;
  n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0, 0x200000);
  if ( n0x200000 == 0x200000 )
    *(_QWORD *)(v4 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
  else
    rw_lock_handle_write_release_contention(v4, n0x200000);
  return a2;
}

// --- End Function: sub_146AD9F60 (0x146AD9F60) ---

// --- Function: sub_146ADA970 (0x146ADA970) ---
unsigned __int64 __fastcall sub_146ADA970(__int64 a1, __int64 a2, __int64 a3, unsigned __int8 a4, __int64 a5)
{
  volatile signed __int64 *v9; // rsi
  signed __int64 v10; // rdx
  _QWORD **v11; // rdi
  _QWORD **i; // rbx

  (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x50LL))(
    qword_149B4FBE8,
    a1 + 0x88,
    a2,
    0);
  v9 = (volatile signed __int64 *)(a1 + 0x230);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v10 = _InterlockedIncrement64(v9);
    if ( (v10 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v10, "CRenderProxy::MoveToZone", "m_SlotsLock", 1);
  }
  v11 = *(_QWORD ***)(a1 + 0xE8);
  for ( i = *(_QWORD ***)(a1 + 0xE0); i != v11; ++i )
  {
    if ( *i )
      sub_146ADA730(*i, a2, a3, a4, a5);
  }
  return rw_lock_release_read_lock((__int64)v9);
}

// --- End Function: sub_146ADA970 (0x146ADA970) ---

// --- Function: sub_146AE8B90 (0x146AE8B90) ---
char __fastcall sub_146AE8B90(__int64 a1)
{
  __int64 v2; // rcx
  __int64 v3; // rax
  __int64 *v4; // rsi
  __int64 *v5; // rsi
  float v6; // xmm0_4
  unsigned __int8 v7; // dl
  float v8; // xmm0_4
  unsigned __int8 v9; // dl
  float v10; // xmm0_4
  unsigned __int8 v11; // dl
  float v12; // xmm0_4
  __int64 v13; // rax
  __int64 v14; // rax
  __int16 v15; // rbx^6
  __int64 v16; // rsi
  __int16 n2; // cx
  __int64 v18; // r9
  __int64 v19; // rdx
  unsigned __int32 v21; // [rsp+30h] [rbp-38h] BYREF
  _QWORD v22[6]; // [rsp+38h] [rbp-30h] BYREF
  __int64 v23; // [rsp+70h] [rbp+8h] BYREF
  float v24; // [rsp+78h] [rbp+10h] BYREF
  float v25; // [rsp+80h] [rbp+18h] BYREF
  float v26; // [rsp+88h] [rbp+20h] BYREF

  if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
    v2 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
  else
    v2 = 0;
  v3 = (*(__int64 (__fastcall **)(__int64, __int64 *))(*(_QWORD *)v2 + 0x478LL))(v2, &v23);
  sub_146A8F510(a1, v3);
  if ( v23 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v23 + 0x10LL))(v23);
  v4 = sub_141EEDD20(a1, v22);
  if ( is_valid_handle_typeA(v4) )
  {
    v5 = (__int64 *)(*v4 & 0xFFFFFFFFFFFFLL);
    if ( v5 )
    {
      v21 = sub_1405050B0(a1 + 0x134, *(_BYTE *)(a1 + 0x134)).m128_u32[0];
      v6 = sub_140505070(a1 + 0x134).m128_f32[0];
      v7 = *(_BYTE *)(a1 + 0x136);
      v26 = v6;
      v8 = sub_1405050B0(a1 + 0x134, v7).m128_f32[0];
      v9 = *(_BYTE *)(a1 + 0x135);
      v25 = v8;
      v10 = sub_1405050B0(a1 + 0x134, v9).m128_f32[0];
      v11 = *(_BYTE *)(a1 + 0x138);
      v24 = v10;
      v12 = sub_1405050B0(a1 + 0x134, v11).m128_f32[0];
      v13 = *v5;
      *(float *)&v23 = v12;
      (*(void (__fastcall **)(__int64 *, unsigned __int32 *, float *, float *, float *, __int64 *))(v13 + 0x5E8))(
        v5,
        &v21,
        &v26,
        &v25,
        &v24,
        &v23);
    }
  }
  LOBYTE(v14) = (unsigned __int8)sub_1404231E0(a1, &v23);
  v15 = HIWORD(v23);
  if ( v23 )
  {
    v16 = v23 & 0xFFFFFFFFFFFFLL;
    v14 = sub_1403B4B50(v23 & 0xFFFFFFFFFFFFLL);
    n2 = *(_WORD *)(v14 + 4);
    if ( n2 != 4 && *(_WORD *)(v14 + 2) == (v15 & 0xFFF) )
    {
      if ( n2 == 2 && !*(_QWORD *)get_thread_context_ptr() || (LOBYTE(v14) = sub_140391F30(&v23), (_BYTE)v14) )
      {
        v19 = a1 + 0xA8;
        LOBYTE(v18) = 0xF;
        if ( !a1 )
          v19 = 0;
        LOBYTE(v14) = (*(__int64 (__fastcall **)(__int64, __int64, const char *, __int64))(*(_QWORD *)v16 + 0x648LL))(
                        v16,
                        v19,
                        "RenderProxy",
                        v18);
      }
    }
  }
  return v14;
}

// --- End Function: sub_146AE8B90 (0x146AE8B90) ---

// --- Function: sub_146AE9CE0 (0x146AE9CE0) ---
double __fastcall sub_146AE9CE0(__int64 a1, _DWORD *a2)
{
  __int64 v2; // r14
  volatile signed __int64 *v5; // r13
  signed __int64 v6; // rdx
  unsigned __int64 v7; // rsi
  unsigned __int64 v8; // r12
  __int64 v9; // rbx
  __int64 v10; // rdi
  bool v11; // al
  __int64 v12; // rcx
  __int64 v13; // rbx
  __int64 v14; // rdi
  void (__fastcall *v15)(__int64, __int64, __int64, __int64); // rsi
  __int64 v16; // rax
  int n0xF00; // [rsp+30h] [rbp-138h] BYREF
  __int64 v19; // [rsp+34h] [rbp-134h]
  int v20; // [rsp+3Ch] [rbp-12Ch]
  unsigned __int64 v21; // [rsp+40h] [rbp-128h]
  unsigned __int64 v22; // [rsp+48h] [rbp-120h]
  __int64 v23; // [rsp+50h] [rbp-118h]
  __int64 v24; // [rsp+58h] [rbp-110h]
  _BYTE v25[32]; // [rsp+80h] [rbp-E8h] BYREF
  double v26[12]; // [rsp+A0h] [rbp-C8h] BYREF
  _BYTE v27[64]; // [rsp+100h] [rbp-68h] BYREF

  v2 = 0;
  n0xF00 = 0xF00;
  v19 = 1;
  v20 = 0;
  v22 = 0;
  v23 = 0;
  v24 = 0;
  v21 = __rdtsc();
  isProfileFunctionsInitialized(
    &n0xF00,
    &word_1515B1204,
    "CRenderProxy::ProcessEvent",
    "W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryEntitySystem\\RenderProxy.cpp",
    0x636);
  v5 = (volatile signed __int64 *)(a1 + 0x230);
  HIWORD(n0xF00) = word_1515B1204;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v6 = _InterlockedIncrement64(v5);
    if ( (v6 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v6, "CRenderProxy::ProcessEvent", "m_SlotsLock", 1);
  }
  v7 = 0;
  v8 = (__int64)(*(_QWORD *)(a1 + 0xE8) - *(_QWORD *)(a1 + 0xE0)) >> 3;
  if ( v8 )
  {
    do
    {
      v9 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8 * v7);
      if ( v9 )
      {
        if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
          v10 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
        else
          v10 = 0;
        if ( *a2 )
        {
          if ( *a2 == 0x21 )
            *(_BYTE *)(v9 + 0xDB) &= ~0x10u;
        }
        else
        {
          v11 = sub_146A38BE0(p_p_p_p_p_p_p_p_p_p_p_p_Source_8, v10);
          sub_146AE2860(v9, v10, !v11);
        }
        v12 = *(_QWORD *)(v9 + 0x90);
        if ( v12 )
          (*(void (__fastcall **)(__int64, __int64, _DWORD *))(*(_QWORD *)v12 + 0x168LL))(v12, v10, a2);
      }
      ++v7;
    }
    while ( v7 < v8 );
    v5 = (volatile signed __int64 *)(a1 + 0x230);
  }
  rw_lock_release_read_lock((__int64)v5);
  if ( *a2 )
  {
    switch ( *a2 )
    {
      case 5:
        sub_14051ED90(a1 + 0x148, 0);
        sub_1404F1B30(a1 + 0x148, 0);
        break;
      case 0xA:
        v13 = sub_146AB6DD0(a1, 1);
        if ( v13 )
        {
          if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
            v2 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
          if ( sub_146B35CC0(v2, v26, (__int64)v25, 0) )
          {
            (*(void (__fastcall **)(__int64, double *))(*(_QWORD *)v13 + 0x228LL))(v13, v26);
            (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v13 + 0x230LL))(v13, v25);
          }
        }
        break;
      case 0xC:
        sub_146ADEB80(a1, 1u);
        break;
      case 0xD:
        sub_146ADEB80(a1, 0);
        break;
    }
  }
  else
  {
    v14 = qword_149B4FBE8;
    v15 = *(void (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)qword_149B4FBE8 + 0x3B8LL);
    if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
      v2 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    v16 = sub_146B526C0(v2, (__int64)v27, 2, 0, 1u);
    v15(v14, a1 + 0x88, v16, 2);
  }
  v22 = __rdtsc();
  return qword_149B4B878(&n0xF00);
}

// --- End Function: sub_146AE9CE0 (0x146AE9CE0) ---

// --- Function: sub_146AEF060 (0x146AEF060) ---
__int64 __fastcall sub_146AEF060(__int64 a1)
{
  signed __int64 v2; // rdx
  __int64 v3; // rcx
  __int64 v4; // r15
  unsigned __int64 i; // rsi
  _QWORD *v6; // rbx
  __int64 v7; // rcx
  __int64 v8; // rcx
  __int64 v9; // rcx
  __int64 v10; // r14
  __int64 v11; // rax
  __int64 v12; // rdx
  __int64 result; // rax
  char v14; // [rsp+20h] [rbp-28h]

  v14 = 0;
  (*(void (__fastcall **)(__int64, __int64, __int64, _QWORD, char))(*(_QWORD *)qword_149B4FBE8 + 0x468LL))(
    qword_149B4FBE8,
    0xD3F3,
    a1 + 0xA0,
    0,
    v14);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v2 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v2 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v2, "CRenderProxy::RegisterWithExternalSystems", "m_SlotsLock", 1);
  }
  v3 = *(_QWORD *)(a1 + 0xE0);
  v4 = 0;
  for ( i = 0; i < (*(_QWORD *)(a1 + 0xE8) - v3) >> 3; ++i )
  {
    v6 = *(_QWORD **)(v3 + 8 * i);
    if ( v6 )
    {
      v7 = v6[0x12];
      if ( v7 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x188LL))(v7);
      v8 = v6[0x11];
      if ( v8 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x188LL))(v8);
      v9 = v6[0x10];
      if ( v9 )
      {
        v10 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v9 + 0x30LL))(v9);
        if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x1C8LL))(v10) )
        {
          v11 = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)v6[0x10] + 0x20LL))(v6[0x10]);
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x40LL))(v11);
          LOBYTE(v12) = 1;
          (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v10 + 0x270LL))(v10, v12);
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x1D8LL))(v10);
        }
      }
    }
    v3 = *(_QWORD *)(a1 + 0xE0);
  }
  rw_lock_release_read_lock(a1 + 0x230);
  result = *(_DWORD *)(a1 + 0x194) >> 8;
  if ( (*(_DWORD *)(a1 + 0x194) & 0x100) == 0 )
  {
    *(_DWORD *)(a1 + 0x194) |= 0x100u;
    if ( is_entity_descriptor_valid_or_accessible((unsigned __int64 *)(a1 + 8)) )
      v4 = *(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFLL;
    if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x318LL))(v4) )
      sub_146ADEB80(a1, 1u);
    else
      sub_146B0A630(a1);
    result = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149B4FC40 + 0x38LL))(qword_149B4FC40, 0);
    *(_QWORD *)(a1 + 0x188) = *(_QWORD *)result;
  }
  return result;
}

// --- End Function: sub_146AEF060 (0x146AEF060) ---

// --- Function: sub_146AF7910 (0x146AF7910) ---
unsigned __int64 __fastcall sub_146AF7910(__int64 a1, char a2)
{
  __int64 v2; // rbx
  unsigned int v4; // r8d
  int v6; // edi
  unsigned __int32 v7; // eax
  unsigned __int64 v8; // rdi
  unsigned int *v9; // rcx
  __int64 v10; // rdx
  int v11; // eax
  unsigned __int32 v12; // eax
  signed __int64 v13; // rbp
  __int64 v14; // rcx
  __int64 v15; // rdx

  v2 = a1 + 0x218;
  v4 = *(_DWORD *)(a1 + 0x194) | 0x100000;
  if ( !a2 )
    v4 = *(_DWORD *)(a1 + 0x194) & 0xFFEFFFFF;
  *(_DWORD *)(a1 + 0x194) = v4;
  v6 = *(_DWORD *)(get_thread_context_ptr() + 0x18);
  if ( *(_DWORD *)(v2 + 0x10) == v6 )
  {
    ++*(_DWORD *)(v2 + 0x14);
  }
  else
  {
    v7 = _InterlockedCompareExchange((volatile signed __int32 *)v2, 1, 0);
    if ( v7 )
      sub_1403C33A0(v2, v7, "CRenderProxy::SetAllowBakedRenderingFlag", 1);
    else
      *(_QWORD *)(v2 + 8) = *(_QWORD *)(get_thread_context_ptr() + 0x20);
    *(_DWORD *)(v2 + 0x10) = v6;
  }
  v8 = 0;
  v9 = (unsigned int *)(a1 + 0x78);
  if ( !a1 )
    v9 = 0;
  v10 = v9[2];
  if ( a2 )
    LODWORD(v10) = v10 | 0x200000;
  else
    LODWORD(v10) = v10 & 0xFFDFFFFF;
  (*(void (__fastcall **)(unsigned int *, __int64))(*(_QWORD *)v9 + 0x1A0LL))(v9, v10);
  v11 = *(_DWORD *)(v2 + 0x14);
  if ( v11 )
  {
    *(_DWORD *)(v2 + 0x14) = v11 - 1;
  }
  else
  {
    *(_DWORD *)(v2 + 0x10) = 0xFFFFFFFF;
    v12 = _InterlockedCompareExchange((volatile signed __int32 *)v2, 0, 1);
    if ( v12 == 1 )
      *(_QWORD *)(v2 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
    else
      sub_1403DB1F0(v2, v12);
  }
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v13 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v13 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v13, "CRenderProxy::SetAllowBakedRenderingFlag", "m_SlotsLock", 1);
  }
  v14 = *(_QWORD *)(a1 + 0xE0);
  if ( (*(_QWORD *)(a1 + 0xE8) - v14) >> 3 )
  {
    do
    {
      v15 = *(_QWORD *)(v14 + 8 * v8);
      if ( v15 )
        sub_146AEB290(a1, v15);
      v14 = *(_QWORD *)(a1 + 0xE0);
      ++v8;
    }
    while ( v8 < (*(_QWORD *)(a1 + 0xE8) - v14) >> 3 );
  }
  return rw_lock_release_read_lock(a1 + 0x230);
}

// --- End Function: sub_146AF7910 (0x146AF7910) ---

// --- Function: sub_146AF7AB0 (0x146AF7AB0) ---
unsigned __int64 __fastcall sub_146AF7AB0(__int64 a1, char a2)
{
  unsigned int v4; // r8d
  unsigned __int64 v5; // rbx
  unsigned int *v6; // rcx
  __int64 v7; // rdx
  signed __int64 v8; // rdx
  __int64 v9; // rcx
  __int64 v10; // rdx

  v4 = *(_DWORD *)(a1 + 0x194) | 0x40000;
  if ( !a2 )
    v4 = *(_DWORD *)(a1 + 0x194) & 0xFFFBFFFF;
  v5 = 0;
  *(_DWORD *)(a1 + 0x194) = v4;
  v6 = (unsigned int *)(a1 + 0x78);
  if ( !a1 )
    v6 = 0;
  if ( v6 )
  {
    v7 = v6[2];
    if ( a2 )
      LODWORD(v7) = v7 | 0x10000000;
    else
      LODWORD(v7) = v7 & 0xEFFFFFFF;
    (*(void (__fastcall **)(unsigned int *, __int64))(*(_QWORD *)v6 + 0x1A0LL))(v6, v7);
  }
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v8 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v8 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v8, "CRenderProxy::SetAsHolographicObject", "m_SlotsLock", 1);
  }
  v9 = *(_QWORD *)(a1 + 0xE0);
  if ( (*(_QWORD *)(a1 + 0xE8) - v9) >> 3 )
  {
    do
    {
      v10 = *(_QWORD *)(v9 + 8 * v5);
      if ( v10 )
        sub_146AEB290(a1, v10);
      v9 = *(_QWORD *)(a1 + 0xE0);
      ++v5;
    }
    while ( v5 < (*(_QWORD *)(a1 + 0xE8) - v9) >> 3 );
  }
  return rw_lock_release_read_lock(a1 + 0x230);
}

// --- End Function: sub_146AF7AB0 (0x146AF7AB0) ---

// --- Function: sub_146AF7BD0 (0x146AF7BD0) ---
__int64 __fastcall sub_146AF7BD0(__int64 a1, char a2)
{
  __int64 result; // rax
  unsigned int v3; // r8d

  result = *(_DWORD *)(a1 + 0x194) & 0xFFFFFFF7;
  v3 = *(_DWORD *)(a1 + 0x194) | 8;
  if ( !a2 )
    v3 = *(_DWORD *)(a1 + 0x194) & 0xFFFFFFF7;
  *(_DWORD *)(a1 + 0x194) = v3;
  return result;
}

// --- End Function: sub_146AF7BD0 (0x146AF7BD0) ---

// --- Function: sub_146AF8B70 (0x146AF8B70) ---
char __fastcall sub_146AF8B70(__int64 a1, unsigned __int8 *a2, float a3)
{
  __int128 v3; // xmm7
  float *v6; // rax
  __int64 v7; // rsi
  __int64 v8; // rax
  float v9; // xmm0_4
  int v10; // eax
  float v12; // [rsp+20h] [rbp-38h] BYREF
  float v13; // [rsp+24h] [rbp-34h]
  float v14; // [rsp+28h] [rbp-30h]
  __int128 v15; // [rsp+30h] [rbp-28h]

  v15 = v3;
  v6 = (float *)get_glow_config_vector_ptr(a1 + 0x1EC);
  if ( *v6 == 0.0 && v6[1] == 0.0 && v6[2] == 0.0 )
  {
    v7 = a1 + 0x78;
  }
  else
  {
    v7 = a1 + 0x78;
    v8 = sub_14050FBD0(a1 + 0x1EC, (__int64)&v12);
    CRenderProxy__AddGlowForSlots(a1 + 0x78, v8, 0);
    v12 = 0.0;
    v13 = 0.0;
    v14 = 0.0;
    LOBYTE(v6) = sub_14051D540(a1 + 0x1EC, 5, (__int64)&v12);
  }
  if ( a3 > 0.0 )
  {
    *(_BYTE *)(a1 + 0x1E4) = *a2;
    *(_BYTE *)(a1 + 0x1E5) = a2[1];
    *(_BYTE *)(a1 + 0x1E6) = a2[2];
    *(_BYTE *)(a1 + 0x1E7) = a2[3];
    *(float *)(a1 + 0x1E8) = a3;
    v9 = (float)a2[1];
    v10 = a2[2];
    v12 = (float)((float)*a2 * 0.0039215689) * a3;
    v13 = (float)(v9 * 0.0039215689) * a3;
    v14 = (float)((float)v10 * 0.0039215689) * a3;
    sub_14051D540(a1 + 0x1EC, 5, (__int64)&v12);
    LOBYTE(v6) = CRenderProxy__AddGlowForSlots(v7, a1 + 0x1EC, 0);
  }
  return (char)v6;
}

// --- End Function: sub_146AF8B70 (0x146AF8B70) ---

// --- Function: sub_146AF8D00 (0x146AF8D00) ---
void __fastcall sub_146AF8D00(__int64 a1, float *a2, float a3, char a4, int n0x3F800000, char a6, char a7)
{
  __int64 v7; // r15
  char v9; // bp
  float *v10; // rsi
  signed __int64 v12; // rdx
  __int64 v13; // rdi
  __int64 v14; // rbx
  __int64 v15; // rsi
  __int64 v16; // r14
  __int64 v17; // rax
  unsigned int v18; // esi
  unsigned int v19; // ebp
  float v20; // xmm3_4
  float v21; // xmm4_4
  float v22; // xmm2_4
  float v23; // xmm1_4
  bool v24; // al
  char v25; // bl
  float v26[4]; // [rsp+30h] [rbp-78h] BYREF
  char v27; // [rsp+40h] [rbp-68h]
  float v28; // [rsp+44h] [rbp-64h]
  int n0x3F800000_1; // [rsp+48h] [rbp-60h]
  __int128 v30; // [rsp+4Ch] [rbp-5Ch]

  v7 = a1 + 0x148;
  v9 = a4;
  v10 = a2;
  if ( _bittest((const signed __int32 *)(a1 + 0x194), 0xEu) )
  {
    sub_14051ED90(v7, 0);
    sub_1404F1B30(v7, 0);
    *(_DWORD *)(a1 + 0x194) &= ~0x4000u;
    if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0x244);
    }
    else
    {
      v12 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
      if ( (v12 & 0x200000) != 0 )
        rw_lock_acquire_read_lock_dispatch(
          a1 + 0x230,
          v12,
          "CRenderProxy::ClearHUDSubObjectSilhouettesParams",
          "m_SlotsLock",
          1);
    }
    v13 = *(_QWORD *)(a1 + 0xE8);
    v14 = *(_QWORD *)(a1 + 0xE0);
    if ( v14 != v13 )
    {
      do
      {
        if ( *(_QWORD *)v14 )
        {
          v15 = *(_QWORD *)(*(_QWORD *)v14 + 0x80LL);
          if ( v15 )
          {
            if ( (*(unsigned int (__fastcall **)(_QWORD))(*(_QWORD *)v15 + 0x128LL))(*(_QWORD *)(*(_QWORD *)v14 + 0x80LL)) == 0x55AA55AA )
            {
              v16 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x30LL))(v15);
              if ( v16 )
              {
                v17 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x70LL))(v15);
                v18 = 0;
                v19 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v17 + 0x10LL))(v17);
                if ( v19 )
                {
                  do
                    (*(void (__fastcall **)(__int64, _QWORD, _QWORD, _QWORD))(*(_QWORD *)v16 + 0x390LL))(
                      v16,
                      v18++,
                      0,
                      0);
                  while ( v18 < v19 );
                }
              }
            }
          }
        }
        v14 += 8;
      }
      while ( v14 != v13 );
      v10 = a2;
      v9 = a4;
    }
    rw_lock_release_read_lock(a1 + 0x230);
  }
  v20 = *v10;
  v21 = v10[1];
  v22 = v10[2];
  v23 = v10[3];
  v30 = 0;
  v28 = a3;
  v27 = v9;
  n0x3F800000_1 = n0x3F800000;
  v26[0] = v20;
  v26[1] = v21;
  v26[2] = v22;
  v26[3] = v23;
  if ( a7 )
  {
    v24 = v20 == 0.0 && v21 == 0.0 && v22 == 0.0 && v23 == 0.0;
    v25 = a6;
    v7 = a1 + 0x148;
    if ( v24 )
      v25 = 0;
  }
  else
  {
    v25 = a6;
  }
  sub_14051ED90(v7, (__int64)v26);
  sub_1404F1B30(v7, v25);
}

// --- End Function: sub_146AF8D00 (0x146AF8D00) ---

// --- Function: sub_146AF8F60 (0x146AF8F60) ---
void __fastcall sub_146AF8F60(
        __int64 a1,
        float *a2,
        float a3,
        unsigned int **a4,
        char a5,
        int a6,
        unsigned __int8 a7,
        char a8)
{
  float v9; // xmm4_4
  float v10; // xmm5_4
  float v11; // xmm3_4
  float v12; // xmm1_4
  unsigned __int8 v14; // r12
  signed __int64 v15; // rdx
  __int64 v16; // rdi
  __int64 i; // rbx
  __int64 v18; // rsi
  __int64 v19; // r15
  unsigned int *v20; // r14
  unsigned int *j; // rsi
  float v22[4]; // [rsp+30h] [rbp-58h] BYREF
  char v23; // [rsp+40h] [rbp-48h]
  float v24; // [rsp+44h] [rbp-44h]
  int v25; // [rsp+48h] [rbp-40h]
  __int128 v26; // [rsp+4Ch] [rbp-3Ch]

  v9 = *a2;
  v10 = a2[1];
  v11 = a2[2];
  v12 = a2[3];
  v26 = 0;
  v25 = a6;
  v22[0] = v9;
  v22[1] = v10;
  v22[2] = v11;
  v22[3] = v12;
  v24 = a3;
  v23 = a5;
  if ( a8 )
  {
    if ( v9 == 0.0 && v10 == 0.0 && v11 == 0.0 && v12 == 0.0 )
      v14 = 0;
    else
      v14 = a7;
  }
  else
  {
    v14 = a7;
  }
  if ( *a4 == a4[1] )
  {
    if ( (*(_DWORD *)(a1 + 0x194) & 0x4000) == 0 )
    {
      sub_14051ED90(a1 + 0x148, (__int64)v22);
      sub_1404F1B30(a1 + 0x148, v14);
    }
  }
  else
  {
    sub_14051ED90(a1 + 0x148, (__int64)v22);
    sub_1404F1B30(a1 + 0x148, 0);
    if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0x244);
    }
    else
    {
      v15 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
      if ( (v15 & 0x200000) != 0 )
        rw_lock_acquire_read_lock_dispatch(
          a1 + 0x230,
          v15,
          "CRenderProxy::SetHUDSubObjectSilhouettesParams",
          "m_SlotsLock",
          1);
    }
    v16 = *(_QWORD *)(a1 + 0xE8);
    for ( i = *(_QWORD *)(a1 + 0xE0); i != v16; i += 8 )
    {
      if ( *(_QWORD *)i )
      {
        v18 = *(_QWORD *)(*(_QWORD *)i + 0x80LL);
        if ( v18 )
        {
          if ( (*(unsigned int (__fastcall **)(_QWORD))(*(_QWORD *)v18 + 0x128LL))(*(_QWORD *)(*(_QWORD *)i + 0x80LL)) == 0x55AA55AA )
          {
            v19 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v18 + 0x30LL))(v18);
            if ( v19 )
            {
              v20 = a4[1];
              for ( j = *a4; j != v20; ++j )
              {
                if ( (*(unsigned __int8 (__fastcall **)(__int64, _QWORD, float *, _QWORD))(*(_QWORD *)v19 + 0x390LL))(
                       v19,
                       *j,
                       v22,
                       v14) )
                {
                  *(_DWORD *)(a1 + 0x194) |= 0x4000u;
                }
              }
            }
          }
        }
      }
    }
    rw_lock_release_read_lock(a1 + 0x230);
  }
}

// --- End Function: sub_146AF8F60 (0x146AF8F60) ---

// --- Function: sub_146AF9410 (0x146AF9410) ---
void __fastcall sub_146AF9410(__int64 a1, volatile signed __int32 **a2)
{
  __int64 v4; // rax
  volatile signed __int32 *v5; // rax
  volatile signed __int32 *v6; // rdi
  volatile signed __int32 *v7; // rbx

  v4 = sub_146AB6DD0(a1, 1);
  if ( v4 )
    (*(void (__fastcall **)(__int64, volatile signed __int32 *))(*(_QWORD *)v4 + 0x338LL))(v4, *a2);
  v5 = *a2;
  *a2 = 0;
  v6 = *(volatile signed __int32 **)(a1 + 0x1D8);
  *(_QWORD *)(a1 + 0x1D8) = v5;
  if ( v6 )
  {
    sub_140372E50(v6);
    sub_1402A3D30((const void *)v6);
  }
  v7 = *a2;
  if ( v7 )
  {
    sub_140372E50(v7);
    sub_1402A3D30((const void *)v7);
  }
}

// --- End Function: sub_146AF9410 (0x146AF9410) ---

// --- Function: sub_146AF94B0 (0x146AF94B0) ---
void __fastcall sub_146AF94B0(__int64 a1, char a2)
{
  *(_BYTE *)(a1 + 0x19D) = a2;
}

// --- End Function: sub_146AF94B0 (0x146AF94B0) ---

// --- Function: sub_146AF9690 (0x146AF9690) ---
double __fastcall sub_146AF9690(__int64 a1, __int64 a2, char a3)
{
  __int64 v4; // rbx
  int v7; // esi
  __int64 v8; // r8
  unsigned __int64 v9; // rax
  int v10; // eax
  unsigned __int64 n0x200000; // rax
  int v12; // eax
  int v13; // ecx
  unsigned int v14; // eax

  v4 = a1 + 0x100;
  v7 = *(_DWORD *)(get_thread_context_ptr() + 0x18);
  if ( *(_DWORD *)(v4 + 0x10) == v7 )
  {
    ++*(_DWORD *)(v4 + 0x14);
  }
  else
  {
    v8 = *(_QWORD *)(get_thread_context_ptr() + 0x20);
    v9 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0x200000, 0);
    if ( v9 )
      sub_1403DCD60(v4, v9, v8, "CRenderProxy::SetLocalBounds", "localBBoxLock", 1);
    else
      *(_QWORD *)(v4 + 8) = v8;
    *(_DWORD *)(v4 + 0x10) = v7;
  }
  *(_OWORD *)(a1 + 0x118) = *(_OWORD *)a2;
  *(double *)(a1 + 0x128) = *(double *)(a2 + 0x10);
  *(float *)(a1 + 0x130) = sub_14189E9B0(a2).m128_f32[0];
  if ( v4 )
  {
    v10 = *(_DWORD *)(v4 + 0x14);
    if ( v10 )
    {
      *(_DWORD *)(v4 + 0x14) = v10 - 1;
    }
    else
    {
      *(_DWORD *)(v4 + 0x10) = 0xFFFFFFFF;
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0, 0x200000);
      if ( n0x200000 == 0x200000 )
        *(_QWORD *)(v4 + 8) = &p_p_p_p_p_p_p_p_p_p_p_Source;
      else
        rw_lock_handle_write_release_contention(v4, n0x200000);
    }
  }
  v12 = *(_DWORD *)(a1 + 0x194);
  v13 = v12 | 4;
  v14 = v12 & 0xFFFFFFFB;
  if ( !a3 )
    v13 = v14;
  *(_DWORD *)(a1 + 0x194) = v13 | 2;
  return sub_146AD1F20(a1, 1);
}

// --- End Function: sub_146AF9690 (0x146AF9690) ---

// --- Function: sub_146AF9A10 (0x146AF9A10) ---
unsigned __int64 __fastcall sub_146AF9A10(__int64 a1, int n0xFF_1)
{
  unsigned __int64 v2; // rdi
  __int64 v3; // r14
  char n0xFF_2; // al
  int n0xFF; // r8d
  signed __int64 v8; // rdx
  __int64 v9; // rcx
  __int64 v10; // rbx
  __int64 v11; // rcx
  __int64 v12; // rcx

  v2 = 0;
  v3 = a1 + 0x230;
  n0xFF_2 = 0xFF;
  n0xFF = n0xFF_1;
  if ( n0xFF_1 <= 0 )
    n0xFF = 0;
  if ( n0xFF < 0xFF )
    n0xFF_2 = n0xFF;
  *(_BYTE *)(a1 + 0x8E) = n0xFF_2;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v8 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v8 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v3, v8, "CRenderProxy::SetLodRatio", "m_SlotsLock", 1);
  }
  v9 = *(_QWORD *)(a1 + 0xE0);
  if ( (*(_QWORD *)(a1 + 0xE8) - v9) >> 3 )
  {
    do
    {
      v10 = *(_QWORD *)(v9 + 8 * v2);
      if ( v10 )
      {
        v11 = *(_QWORD *)(v10 + 0x90);
        if ( v11 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v11 + 0xD8LL))(v11, (unsigned int)n0xFF_1);
        v12 = *(_QWORD *)(v10 + 0x88);
        if ( v12 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v12 + 0xD8LL))(v12, (unsigned int)n0xFF_1);
      }
      v9 = *(_QWORD *)(a1 + 0xE0);
      ++v2;
    }
    while ( v2 < (*(_QWORD *)(a1 + 0xE8) - v9) >> 3 );
  }
  return rw_lock_release_read_lock(v3);
}

// --- End Function: sub_146AF9A10 (0x146AF9A10) ---

// --- Function: sub_146AFA190 (0x146AFA190) ---
__int64 __fastcall sub_146AFA190(__int64 a1, _BYTE *a2)
{
  return sub_14051EF10((_BYTE *)(a1 + 0x148), a2);
}

// --- End Function: sub_146AFA190 (0x146AFA190) ---

// --- Function: sub_146AFA1A0 (0x146AFA1A0) ---
// local variable allocation has failed, the output may be wrong!
__int64 __fastcall sub_146AFA1A0(__int64 a1, double _XMM1_8)
{
  __int128 v4; // kr00_16
  __int64 result; // rax

  if ( *(float *)&_XMM1_8 >= 0.0 )
    __asm { vminss  xmm0, xmm1, cs:Y }
  else
    _XMM0 = 0;
  v4 = _XMM0;
  *(float *)&v4 = *(float *)&_XMM0 * 255.0;
  _XMM3 = v4;
  *(float *)&v4 = (float)(*(float *)&_XMM0 * 255.0) + 0.5;
  _XMM2 = v4;
  __asm
  {
    vcmpltss xmm0, xmm3, xmm4
    vblendvps xmm1, xmm2, xmm1, xmm0
  }
  result = (unsigned int)(int)*(float *)&_XMM1;
  *(_BYTE *)(a1 + 0x19C) = result;
  return result;
}

// --- End Function: sub_146AFA1A0 (0x146AFA1A0) ---

// --- Function: sub_146AFA1F0 (0x146AFA1F0) ---
char __fastcall sub_146AFA1F0(__int64 a1, signed __int32 a2, _OWORD *a3)
{
  _DWORD **v3; // rbx
  _QWORD *v6; // rax
  __int64 (__fastcall ***v7)(_QWORD, __int64); // rdx
  __int64 (__fastcall ***v9)(_QWORD, __int64); // [rsp+30h] [rbp+8h] BYREF

  v3 = (_DWORD **)(a1 + 0x180);
  if ( !*(_QWORD *)(a1 + 0x180) )
  {
    v6 = (_QWORD *)allocWithProfilerInfo_w(0x1C0u);
    if ( v6 )
      v6 = sub_14050B050(v6);
    v7 = (__int64 (__fastcall ***)(_QWORD, __int64))*v3;
    v9 = 0;
    *v3 = v6;
    if ( v7 )
    {
      sub_14050FCF0((__int64)v3, v7);
      if ( v9 )
        sub_14050FCF0((__int64)&v9, v9);
    }
  }
  return sub_14051E720(*v3, a2, a3, dword_149B4FDFC);
}

// --- End Function: sub_146AFA1F0 (0x146AFA1F0) ---

// --- Function: sub_146AFBB00 (0x146AFBB00) ---
unsigned int __fastcall sub_146AFBB00(__int64 a1, char a2)
{
  unsigned int result; // eax
  unsigned int v3; // r8d

  result = *(_DWORD *)(a1 + 0x194) & 0xFFFFDFFF;
  v3 = *(_DWORD *)(a1 + 0x194) | 0x2000;
  if ( !a2 )
    v3 = *(_DWORD *)(a1 + 0x194) & 0xFFFFDFFF;
  *(_DWORD *)(a1 + 0x194) = v3;
  return result;
}

// --- End Function: sub_146AFBB00 (0x146AFBB00) ---

// --- Function: sub_146AFC190 (0x146AFC190) ---
__int64 __fastcall sub_146AFC190(__int64 a1, int a2, __int64 *a3, char a4)
{
  __int64 v4; // r13
  unsigned int v6; // esi
  __int64 v8; // r14
  signed __int64 v9; // rdx
  __int64 *v10; // rcx
  __int64 v11; // rcx
  __int64 v12; // rcx
  __int64 v13; // rax
  __int64 v14; // rbx
  __int64 v15; // rdi
  __int64 v16; // rbx
  __int64 v17; // rdi
  int v18; // eax
  signed __int64 v19; // r15
  _QWORD *v20; // rbx
  __int64 v21; // rbx
  void (__fastcall ***v22)(_QWORD); // r14
  __int64 v23; // rcx
  signed __int64 v24; // r15
  __int64 v25; // rdi
  __int64 v26; // rcx
  __int16 v27; // ax
  __int16 v28; // cx
  __int16 v29; // ax
  int v31; // [rsp+20h] [rbp-58h]
  __int64 *v32; // [rsp+40h] [rbp-38h] BYREF
  unsigned int v33; // [rsp+88h] [rbp+10h] BYREF

  v33 = a2;
  v4 = 0;
  v6 = a2;
  if ( !a4 )
    goto LABEL_39;
  v8 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v8 + 0x14);
  }
  else
  {
    v9 = _InterlockedIncrement64((volatile signed __int64 *)v8);
    if ( (v9 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v8, v9, "CRenderProxy::GetCompoundObj", "m_SlotsLock", 1);
    v6 = v33;
  }
  v10 = *(__int64 **)(a1 + 0xE0);
  if ( v10 == *(__int64 **)(a1 + 0xE8)
    || (v11 = *v10) == 0
    || (v12 = *(_QWORD *)(v11 + 0x58)) == 0
    || (v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x30LL))(v12), (v14 = v13) == 0) )
  {
    rw_lock_release_read_lock(v8);
LABEL_39:
    sub_146AD99E0(a1, (int *)&v33, 0xFFFFFFFF);
    if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
    {
      ++*(_DWORD *)(a1 + 0x244);
    }
    else
    {
      v24 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
      if ( (v24 & 0x200000) != 0 )
        rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v24, "CRenderProxy::SetSlotGeometry", "m_SlotsLock", 1);
    }
    v6 = v33;
    v25 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8LL * (int)v33);
    v26 = *(_QWORD *)(v25 + 0x58);
    if ( v26 )
      v4 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v26 + 0x30LL))(v26);
    if ( v4 != *a3 )
    {
      sub_146AEF560((_QWORD *)v25);
      v27 = *(_WORD *)(v25 + 0xD8);
      v28 = v27 | 1;
      v29 = v27 & 0xFFFE;
      if ( !*a3 )
        v28 = v29;
      *(_WORD *)(v25 + 0xD8) = v28;
      sub_146AFCB10(v25, *a3);
      sub_146AEBE10(a1, v25);
      sub_146B0DF70(a1, (_QWORD *)v25);
      rw_lock_release_read_lock(a1 + 0x230);
      goto LABEL_50;
    }
    sub_146AD1F20(a1, 1);
    rw_lock_release_read_lock(a1 + 0x230);
    return v6;
  }
  v15 = 0;
  if ( ((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x120LL))(v13) & 0x20) != 0 )
    v15 = v14;
  rw_lock_release_read_lock(v8);
  if ( !v15 || *a3 && ((*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a3 + 0x120LL))(*a3) & 0x20) != 0 )
    goto LABEL_39;
  if ( (v6 & 0x80000000) != 0 )
  {
    v6 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x3D8LL))(v15);
    v33 = v6;
  }
  if ( ((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v15 + 0x120LL))(v15) & 4) == 0 )
  {
    LOBYTE(v31) = 1;
    (*(void (__fastcall **)(__int64, __int64 **, _QWORD, _QWORD, int, char, _BYTE))(*(_QWORD *)v15 + 0x518LL))(
      v15,
      &v32,
      0,
      0,
      v31,
      1,
      0);
    v16 = (__int64)v32;
    v17 = *v32;
    v18 = (*(__int64 (__fastcall **)(__int64 *))(*v32 + 0x120))(v32);
    (*(void (__fastcall **)(__int64, _QWORD))(v17 + 0x108))(v16, v18 | 4u);
    (*(void (__fastcall **)(__int64 *))*v32)(v32);
    if ( *(_DWORD *)(v8 + 0x10) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
    {
      ++*(_DWORD *)(v8 + 0x14);
    }
    else
    {
      v19 = _InterlockedIncrement64((volatile signed __int64 *)v8);
      if ( (v19 & 0x200000) != 0 )
        rw_lock_acquire_read_lock_dispatch(v8, v19, "CRenderProxy::SetSlotGeometry", "m_SlotsLock", 1);
      v6 = v33;
    }
    v20 = **(_QWORD ***)(a1 + 0xE0);
    sub_146AEF560(v20);
    v15 = (__int64)v32;
    sub_146AFCB10((__int64)v20, (__int64)v32);
    sub_146AEBE10(a1, (__int64)v20);
    sub_146B0DF70(a1, v20);
    rw_lock_release_read_lock(v8);
    if ( v32 )
      (*(void (__fastcall **)(__int64 *))(*v32 + 8))(v32);
    v32 = 0;
  }
  v21 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3F8LL))(v15, v6);
  if ( !v21 )
  {
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3E8LL))(v15, v6 + 1);
    v21 = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3F8LL))(v15, v6);
LABEL_29:
    v22 = (void (__fastcall ***)(_QWORD))*a3;
    if ( *(_QWORD *)(v21 + 0xA0) != *a3 )
    {
      if ( v22 )
        (**v22)(*a3);
      v23 = *(_QWORD *)(v21 + 0xA0);
      if ( v23 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v23 + 8LL))(v23);
      *(_QWORD *)(v21 + 0xA0) = v22;
    }
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3A8LL))(v15, 0);
LABEL_50:
    sub_146AD1F20(a1, 1);
    sub_146B0AA80(a1);
    sub_146ADEB80(a1, (*(_DWORD *)(a1 + 0x80) & 0x100) != 0);
    return v6;
  }
  if ( *(_QWORD *)(v21 + 0xA0) != *a3 )
    goto LABEL_29;
  (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v15 + 0x3A8LL))(v15, 0);
  return v6;
}

// --- End Function: sub_146AFC190 (0x146AFC190) ---

// --- Function: sub_146AFC5A0 (0x146AFC5A0) ---
unsigned __int64 __fastcall sub_146AFC5A0(__int64 a1, int a2, _QWORD *a3)
{
  __int64 v4; // rbx
  __int64 v6; // rdi
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  __int64 v9; // rbx
  __int64 v10; // rcx
  __int64 v11; // rcx
  __int64 v12; // rcx
  __int64 *v13; // r14
  __int64 v14; // rax
  __int64 v15; // rcx
  void (__fastcall *v16)(__int64 *, __int64 *); // r15
  __int64 v17; // rcx
  __int64 v19; // [rsp+50h] [rbp+8h] BYREF

  v4 = a2;
  v6 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v6, v7, "CRenderProxy::SetSlotMaterial", "m_SlotsLock", 1);
  }
  if ( (int)v4 >= 0 )
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v4 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3) )
    {
      v9 = *(_QWORD *)(v8 + 8 * v4);
      if ( v9 )
      {
        sub_140378610((_QWORD *)(v9 + 0xC0), a3);
        v10 = *(_QWORD *)(v9 + 0x88);
        if ( v10 )
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v10 + 0x128LL))(v10, a3);
        v11 = *(_QWORD *)(v9 + 0x58);
        if ( v11 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v11 + 0x20LL))(v11, *a3);
        v12 = *(_QWORD *)(v9 + 0x90);
        if ( v12 )
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v12 + 0x128LL))(v12, a3);
        v13 = *(__int64 **)(v9 + 0x80);
        if ( v13 )
        {
          v14 = *v13;
          v15 = *a3;
          v19 = v15;
          v16 = *(void (__fastcall **)(__int64 *, __int64 *))(v14 + 0x170);
          if ( v15 )
            (*(void (__fastcall **)(__int64))(*(_QWORD *)v15 + 8LL))(v15);
          v16(v13, &v19);
        }
        v17 = *(_QWORD *)(v9 + 0x68);
        if ( v17 && (*(_WORD *)(v9 + 0xD8) & 0x100) == 0 )
        {
          if ( *(_QWORD *)(a1 + 0x160) )
            a3 = (_QWORD *)(a1 + 0x160);
          (*(void (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v17 + 0x50LL))(v17, a3);
        }
        sub_146B0DF70(a1, (_QWORD *)v9);
        sub_146AEBE10(a1, v9);
      }
    }
  }
  return rw_lock_release_read_lock(v6);
}

// --- End Function: sub_146AFC5A0 (0x146AFC5A0) ---

// --- Function: sub_146AFC730 (0x146AFC730) ---
unsigned __int64 __fastcall sub_146AFC730(__int64 a1, int a2, unsigned int *a3)
{
  __int64 v4; // rdi
  __int64 v6; // rbx
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  __int64 v9; // rdi
  float *v10; // rax

  v4 = a2;
  v6 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v6, v7, "CRenderProxy::SetSlotScale", "m_SlotsLock", 1);
  }
  if ( (int)v4 >= 0 )
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v4 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3) )
    {
      v9 = *(_QWORD *)(v8 + 8 * v4);
      if ( v9 )
      {
        v10 = *(float **)(v9 + 0x48);
        if ( !v10 )
        {
          v10 = (float *)allocWithProfilerInfo_w(0xCu);
          *(_QWORD *)(v9 + 0x48) = v10;
        }
        _XMM2 = a3[2];
        LODWORD(_XMM0) = 0x3A83126F;
        if ( *(float *)&_XMM2 >= 0.001 )
          __asm { vminss  xmm4, xmm2, xmm1 }
        else
          LODWORD(_XMM4) = 0x3A83126F;
        _XMM2 = a3[1];
        if ( *(float *)&_XMM2 >= 0.001 )
          __asm { vminss  xmm3, xmm2, xmm1 }
        else
          LODWORD(_XMM3) = 0x3A83126F;
        _XMM2 = *a3;
        if ( *(float *)&_XMM2 >= 0.001 )
          __asm { vminss  xmm0, xmm2, xmm1 }
        *v10 = *(float *)&_XMM0;
        v10[1] = *(float *)&_XMM3;
        v10[2] = *(float *)&_XMM4;
      }
    }
  }
  return rw_lock_release_read_lock(v6);
}

// --- End Function: sub_146AFC730 (0x146AFC730) ---

// --- Function: sub_146AFC850 (0x146AFC850) ---
unsigned __int64 __fastcall sub_146AFC850(__int64 a1, int a2, __int64 a3)
{
  unsigned __int64 v4; // r14
  __int64 v6; // rbx
  signed __int64 v7; // rdx
  __int64 v8; // rdi
  __int64 v9; // rdi
  ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source; // rax

  v4 = a2;
  v6 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v6, v7, "CRenderProxy::SetSlotTintPalette", "m_SlotsLock", 1);
  }
  if ( (v4 & 0x80000000) == 0LL )
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( v4 < (*(_QWORD *)(a1 + 0xE8) - v8) >> 3 )
    {
      v9 = *(_QWORD *)(v8 + 8 * v4);
      if ( v9 )
      {
        if ( a3 )
          p_p_p_p_p_p_p_p_p_p_p_p_Source = (ULONG_PTR *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a3 + 0x18LL))(a3);
        else
          p_p_p_p_p_p_p_p_p_p_p_p_Source = (ULONG_PTR *)&p_p_p_p_p_p_p_p_p_p_p_Source;
        assignCStringToStringStructure((void **)(v9 + 0xD0), p_p_p_p_p_p_p_p_p_p_p_p_Source);
        sub_146B0DF70(a1, (_QWORD *)v9);
      }
    }
  }
  return rw_lock_release_read_lock(v6);
}

// --- End Function: sub_146AFC850 (0x146AFC850) ---

// --- Function: sub_146AFD060 (0x146AFD060) ---
unsigned __int64 __fastcall sub_146AFD060(__int64 a1, int a2, _BYTE *a3)
{
  __int64 v4; // rdi
  __int64 v6; // rbx
  signed __int64 v7; // rdx
  __int64 v8; // rcx
  __int64 v9; // rcx

  v4 = a2;
  v6 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v6 + 0x14);
  }
  else
  {
    v7 = _InterlockedIncrement64((volatile signed __int64 *)v6);
    if ( (v7 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v6, v7, "CRenderProxy::SetSubObjHideMask", "m_SlotsLock", 1);
  }
  if ( (int)v4 >= 0 )
  {
    v8 = *(_QWORD *)(a1 + 0xE0);
    if ( (int)v4 < (int)((*(_QWORD *)(a1 + 0xE8) - v8) >> 3) )
    {
      v9 = *(_QWORD *)(v8 + 8 * v4);
      if ( v9 )
        sub_14056EBC0((_QWORD *)(v9 + 0x148), a3);
    }
  }
  return rw_lock_release_read_lock(v6);
}

// --- End Function: sub_146AFD060 (0x146AFD060) ---

// --- Function: sub_146AFD180 (0x146AFD180) ---
unsigned __int64 __fastcall sub_146AFD180(__int64 a1, int a2)
{
  signed __int64 v3; // rdx
  __int64 v4; // rcx
  unsigned __int64 i; // rbx
  __int64 v6; // rdx

  sub_146AFB540(a1 + 0x78, *(_DWORD *)(a1 + 0x80) ^ (*(_DWORD *)(a1 + 0x80) ^ a2) & 0x183000);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v3 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v3 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v3, "CRenderProxy::SetSunShadowModeFlags", "m_SlotsLock", 1);
  }
  v4 = *(_QWORD *)(a1 + 0xE0);
  for ( i = 0; i < (*(_QWORD *)(a1 + 0xE8) - v4) >> 3; ++i )
  {
    v6 = *(_QWORD *)(v4 + 8 * i);
    if ( v6 )
      sub_146AEB290(a1, v6);
    v4 = *(_QWORD *)(a1 + 0xE0);
  }
  return rw_lock_release_read_lock(a1 + 0x230);
}

// --- End Function: sub_146AFD180 (0x146AFD180) ---

// --- Function: sub_146AFD990 (0x146AFD990) ---
unsigned __int64 __fastcall sub_146AFD990(__int64 a1, __int64 a2)
{
  __int64 v3; // rbp
  signed __int64 v5; // rdx
  ULONG_PTR *p_p_p_p_p_p_p_p_p_p_p_p_Source; // rax
  _QWORD **v7; // rsi
  _QWORD **i; // rbx
  __int16 v9; // rbx^6
  __int64 v10; // rdi
  __int64 v11; // rax
  __int16 n4; // cx
  __int64 v13; // rbx
  _QWORD *v14; // rax
  void (__fastcall *v15)(__int64, char (__fastcall **)(__int64, __int64), __int64, __int64); // rdi
  _QWORD *v16; // rax
  __int64 v17; // r8
  char (__fastcall *p_sub_146A8AFF0)(__int64, __int64); // [rsp+30h] [rbp-48h] BYREF
  void (__fastcall *p_sub_146A8BA70)(__int64, char (__fastcall **)(__int64, __int64)); // [rsp+38h] [rbp-40h]
  _QWORD *v21; // [rsp+40h] [rbp-38h]
  __int64 (__fastcall *p_sub_146A8B6E0)(); // [rsp+48h] [rbp-30h] BYREF
  __int64 (__fastcall *p_sub_146A8D0D0)(); // [rsp+50h] [rbp-28h]
  _QWORD *v24; // [rsp+58h] [rbp-20h]
  __int64 v25; // [rsp+80h] [rbp+8h] BYREF

  v3 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v3 + 0x14);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)v3);
    if ( (v5 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v3, v5, "CRenderProxy::SetTintPalette", "m_SlotsLock", 1);
  }
  if ( a2 )
    p_p_p_p_p_p_p_p_p_p_p_p_Source = (ULONG_PTR *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a2 + 0x18LL))(a2);
  else
    p_p_p_p_p_p_p_p_p_p_p_p_Source = (ULONG_PTR *)&p_p_p_p_p_p_p_p_p_p_p_Source;
  assignCStringToStringStructure((void **)(a1 + 0x178), p_p_p_p_p_p_p_p_p_p_p_p_Source);
  sub_146B0E070((_QWORD *)a1);
  v7 = *(_QWORD ***)(a1 + 0xE8);
  for ( i = *(_QWORD ***)(a1 + 0xE0); i != v7; ++i )
  {
    if ( *i )
      sub_146B0DF70(a1, *i);
  }
  sub_14033A9E0(a1, &v25);
  v9 = HIWORD(v25);
  if ( v25 )
  {
    v10 = v25 & 0xFFFFFFFFFFFFLL;
    v11 = sub_1403B4B50(v25 & 0xFFFFFFFFFFFFLL);
    n4 = *(_WORD *)(v11 + 4);
    if ( n4 != 4
      && *(_WORD *)(v11 + 2) == (v9 & 0xFFF)
      && (n4 == 2 && !*(_QWORD *)get_thread_context_ptr() || sub_140391F30(&v25)) )
    {
      if ( (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x758LL))(v10) )
      {
        v13 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v10 + 0x600LL))(v10);
        v14 = (_QWORD *)allocWithProfilerInfo_w(8u);
        if ( v14 )
        {
          *v14 = a2;
          v24 = v14;
        }
        else
        {
          v24 = 0;
        }
        p_sub_146A8B6E0 = sub_146A8B6E0;
        p_sub_146A8D0D0 = sub_146A8D0D0;
        v15 = *(void (__fastcall **)(__int64, char (__fastcall **)(__int64, __int64), __int64, __int64))(*(_QWORD *)v13 + 0x10LL);
        v16 = (_QWORD *)allocWithProfilerInfo_w(8u);
        if ( v16 )
        {
          *v16 = &p_sub_146A8B6E0;
          v21 = v16;
        }
        else
        {
          v21 = 0;
        }
        p_sub_146A8AFF0 = sub_146A8AFF0;
        LOBYTE(v17) = 1;
        p_sub_146A8BA70 = (void (__fastcall *)(__int64, char (__fastcall **)(__int64, __int64)))sub_146A8BA70;
        v15(v13, &p_sub_146A8AFF0, v17, 0x72);
        if ( (unsigned __int64)p_sub_146A8BA70 >= 2 )
          p_sub_146A8BA70(2, &p_sub_146A8AFF0);
        if ( (unsigned __int64)p_sub_146A8D0D0 >= 2 )
          ((void (__fastcall *)(__int64, __int64 (__fastcall **)()))p_sub_146A8D0D0)(2, &p_sub_146A8B6E0);
      }
    }
  }
  return rw_lock_release_read_lock(v3);
}

// --- End Function: sub_146AFD990 (0x146AFD990) ---

// --- Function: sub_146AFDBD0 (0x146AFDBD0) ---
unsigned __int64 __fastcall sub_146AFDBD0(__int64 a1, _BYTE *a2)
{
  signed __int64 v3; // rdx
  _QWORD **v4; // rsi
  _QWORD **i; // rbx

  assignCStringToStringStructure((void **)(a1 + 0x170), a2);
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v3 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v3 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v3, "CRenderProxy::SetTintPaletteOverride", "m_SlotsLock", 1);
  }
  sub_146B0E070((_QWORD *)a1);
  v4 = *(_QWORD ***)(a1 + 0xE8);
  for ( i = *(_QWORD ***)(a1 + 0xE0); i != v4; ++i )
  {
    if ( *i )
      sub_146B0DF70(a1, *i);
  }
  return rw_lock_release_read_lock(a1 + 0x230);
}

// --- End Function: sub_146AFDBD0 (0x146AFDBD0) ---

// --- Function: sub_146AFDC90 (0x146AFDC90) ---
unsigned __int64 __fastcall sub_146AFDC90(__int64 a1, int n0xFF_1)
{
  unsigned __int64 v4; // rdi
  int n0xFF; // r8d
  signed __int64 v6; // rdx
  __int64 v7; // rcx
  __int64 v8; // rbx
  __int64 v9; // rcx
  __int64 v10; // rcx

  v4 = 0;
  if ( n0xFF_1 >= 0 )
  {
    n0xFF = 0xFF;
    if ( n0xFF_1 < 0xFF )
      n0xFF = n0xFF_1;
  }
  else
  {
    n0xFF = 0;
  }
  if ( *(unsigned __int8 *)(a1 + 0x8D) != n0xFF )
  {
    *(_BYTE *)(a1 + 0x8D) = n0xFF;
    if ( (*(_DWORD *)(a1 + 0x88) & 0xFFFFFF) != 0xFFFFFF )
      (*(void (**)(void))(*(_QWORD *)qword_149B4FBE8 + 0x388LL))();
  }
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x244);
  }
  else
  {
    v6 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x230));
    if ( (v6 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(a1 + 0x230, v6, "CRenderProxy::SetViewDistRatio", "m_SlotsLock", 1);
  }
  v7 = *(_QWORD *)(a1 + 0xE0);
  if ( (*(_QWORD *)(a1 + 0xE8) - v7) >> 3 )
  {
    do
    {
      v8 = *(_QWORD *)(v7 + 8 * v4);
      if ( v8 )
      {
        v9 = *(_QWORD *)(v8 + 0x90);
        if ( v9 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v9 + 0x198LL))(v9, (unsigned int)n0xFF_1);
        v10 = *(_QWORD *)(v8 + 0x88);
        if ( v10 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v10 + 0x198LL))(v10, (unsigned int)n0xFF_1);
      }
      v7 = *(_QWORD *)(a1 + 0xE0);
      ++v4;
    }
    while ( v4 < (*(_QWORD *)(a1 + 0xE8) - v7) >> 3 );
  }
  if ( (*(_DWORD *)(a1 + 0x88) & 0xFFFFFF) != 0xFFFFFF )
    (*(void (**)(void))(*(_QWORD *)qword_149B4FBE8 + 0x388LL))();
  return rw_lock_release_read_lock(a1 + 0x230);
}

// --- End Function: sub_146AFDC90 (0x146AFDC90) ---

// --- Function: sub_146B082D0 (0x146B082D0) ---
unsigned __int64 __fastcall sub_146B082D0(__int64 a1)
{
  __int64 v2; // rbp
  signed __int64 v3; // rdx
  __int64 v4; // rcx
  unsigned __int64 i; // rsi
  __int64 v6; // rbx
  __int64 v7; // rcx
  __int64 v8; // rcx
  __int64 v9; // rcx
  __int64 v10; // rbx
  __int64 v11; // rcx
  __int64 v12; // rbx
  __int64 v13; // r9
  _BYTE *v14; // rax
  __int64 v15; // rbx
  unsigned __int64 result; // rax
  __int64 v17; // rcx
  int v18; // [rsp+20h] [rbp-18h]

  v2 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0x14);
  }
  else
  {
    v3 = _InterlockedIncrement64((volatile signed __int64 *)v2);
    if ( (v3 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v2, v3, "CRenderProxy::UnregisterFromExternalSystems", "m_SlotsLock", 1);
  }
  v4 = *(_QWORD *)(a1 + 0xE0);
  for ( i = 0; i < (*(_QWORD *)(a1 + 0xE8) - v4) >> 3; ++i )
  {
    v6 = *(_QWORD *)(v4 + 8 * i);
    if ( v6 )
    {
      v7 = *(_QWORD *)(v6 + 0x90);
      if ( v7 && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v7 + 0x158LL))(v7) != 8 )
        (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v6 + 0x90) + 0x190LL))(*(_QWORD *)(v6 + 0x90));
      v8 = *(_QWORD *)(v6 + 0x88);
      if ( v8 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v8 + 0x190LL))(v8);
      v9 = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8 * i) + 0x80LL);
      if ( v9 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v9 + 0x308LL))(v9);
      v10 = *(_QWORD *)(*(_QWORD *)(a1 + 0xE0) + 8 * i);
      v11 = *(_QWORD *)(v10 + 0x90);
      if ( v11 )
      {
        if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v11 + 0x158LL))(v11) == 8 )
        {
          v12 = *(_QWORD *)(v10 + 0x90);
          if ( v12 )
          {
            (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v12 + 0x218LL))(v12, 0);
            (*(void (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)v12 + 0x268LL))(v12, 0, 0);
          }
        }
      }
    }
    v4 = *(_QWORD *)(a1 + 0xE0);
  }
  rw_lock_release_read_lock(v2);
  v14 = *(_BYTE **)(a1 + 0xA0);
  v15 = a1 + 0x78;
  if ( !v14 || v14 != (_BYTE *)1 && !*v14 )
  {
    LOBYTE(v13) = 1;
    LOBYTE(v18) = 0;
    (*(void (__fastcall **)(__int64, __int64, __int64, __int64, int))(*(_QWORD *)qword_149B4FBE8 + 0x468LL))(
      qword_149B4FBE8,
      0xD3F3,
      a1 + 0xA0,
      v13,
      v18);
  }
  sub_1405158E0(a1 + 0x78);
  result = sub_1402A2660(a1 + 0x1B8);
  if ( result )
  {
    v17 = sub_1402A2660(a1 + 0x1B8);
    if ( !a1 )
      v15 = 0;
    return sub_140521840(v17, v15);
  }
  return result;
}

// --- End Function: sub_146B082D0 (0x146B082D0) ---

// --- Function: sub_146B0DDD0 (0x146B0DDD0) ---
__int64 __fastcall sub_146B0DDD0(__int64 a1, int a2, __int64 a3, int n2, int a5, unsigned __int8 a6)
{
  __int64 v7; // rdi
  __int64 v9; // rbx
  signed __int64 v10; // rdx
  __int64 v11; // rcx
  _QWORD *v12; // rdi
  bool v15; // cl
  bool v16; // al
  unsigned __int64 v17; // rax
  unsigned __int8 v18; // di

  v7 = a2;
  v9 = a1 + 0x230;
  if ( *(_DWORD *)(a1 + 0x240) == *(_DWORD *)(get_thread_context_ptr() + 0x18) )
  {
    ++*(_DWORD *)(v9 + 0x14);
  }
  else
  {
    v10 = _InterlockedIncrement64((volatile signed __int64 *)v9);
    if ( (v10 & 0x200000) != 0 )
      rw_lock_acquire_read_lock_dispatch(v9, v10, "CRenderProxy::UpdateSlotLocalTransform", "m_SlotsLock", 1);
  }
  if ( (int)v7 < 0 )
    goto LABEL_20;
  v11 = *(_QWORD *)(a1 + 0xE0);
  if ( (int)v7 >= (int)((*(_QWORD *)(a1 + 0xE8) - v11) >> 3) )
    goto LABEL_20;
  v12 = *(_QWORD **)(v11 + 8 * v7);
  if ( !v12 )
    goto LABEL_20;
  if ( *v12 )
    goto LABEL_17;
  _XMM0 = *(unsigned int *)(a3 + 0xC) & (unsigned __int128)0x7FFFFFFFu;
  __asm { vminss  xmm0, xmm0, cs:Y; X }
  v15 = acosf(*(float *)&_XMM0) <= 0.001;
  v16 = COERCE_FLOAT(*(_DWORD *)(a3 + 0x10) & 0x7FFFFFFF) <= 0.050000001
     && COERCE_FLOAT(*(_DWORD *)(a3 + 0x14) & 0x7FFFFFFF) <= 0.050000001
     && COERCE_FLOAT(*(_DWORD *)(a3 + 0x18) & 0x7FFFFFFF) <= 0.050000001;
  if ( v15 && v16 && fabs(*(float *)(a3 + 0x1C) - 1.0) <= 0.050000001 )
  {
LABEL_20:
    v18 = 0;
  }
  else
  {
LABEL_17:
    sub_146B0A920((__int64)v12, a3);
    v17 = sub_146AB3220(a1);
    sub_146AE2860((__int64)v12, v17, a6);
    if ( (a5 & 0x20000) == 0 )
      sub_146AD1F20(a1, 1);
    v18 = 1;
  }
  rw_lock_release_read_lock(v9);
  return v18;
}

// --- End Function: sub_146B0DDD0 (0x146B0DDD0) ---

// --- Function: sub_146B0E6D0 (0x146B0E6D0) ---
__int64 __fastcall sub_146B0E6D0(__int64 a1, unsigned __int16 a2)
{
  return (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)qword_149B4FBE8 + 0x3D8LL))(
           qword_149B4FBE8,
           a1 + 0x88,
           a2);
}

// --- End Function: sub_146B0E6D0 (0x146B0E6D0) ---

// --- Function: sub_146B0F950 (0x146B0F950) ---
__int64 __fastcall sub_146B0F950(__int64 a1, __int64 a2)
{
  int event_key_from_source_location; // eax

  *(_BYTE *)(a2 + 0x14) = 1;
  *(_DWORD *)(a2 + 0x10) = 0;
  *(_QWORD *)(a2 + 0x18) = 0;
  *(_BYTE *)(a2 + 0x20) = 0;
  *(_QWORD *)(a2 + 8) = sub_146AD2070;
  event_key_from_source_location = event_key_from_source_location_104;
  *(_WORD *)(a2 + 0x22) = 0x3FF;
  *(_DWORD *)(a2 + 4) = 7;
  *(_WORD *)a2 = 1;
  if ( !event_key_from_source_location )
    event_key_from_source_location = get_event_key_from_source_location(
                                       &event_key_from_source_location_104,
                                       (__int64)"W:\\p4-src\\CryEngine\\Code\\CryEngine\\CryCommon\\Events/Animation/Events.h",
                                       0x46);
  *(_DWORD *)(a2 + 0x10) = event_key_from_source_location;
  *(_QWORD *)(a2 + 0x18) = "SCEvtNotify_OnAnimEvent";
  return a2;
}

// --- End Function: sub_146B0F950 (0x146B0F950) ---

// --- Function: sub_146B0FEF0 (0x146B0FEF0) ---
__int64 __fastcall sub_146B0FEF0(__int64 a1, __int64 a2)
{
  __int64 result; // rax

  *(_DWORD *)a2 = 0x1010002;
  *(_QWORD *)(a2 + 0x18) = 0;
  *(_QWORD *)(a2 + 0x20) = 0;
  *(_QWORD *)(a2 + 0x28) = 0;
  *(_QWORD *)(a2 + 0x30) = 0;
  *(_QWORD *)(a2 + 0x38) = 0;
  *(_QWORD *)(a2 + 0x40) = 0;
  *(_QWORD *)(a2 + 0x48) = 0;
  *(_QWORD *)(a2 + 0x50) = 0;
  *(_QWORD *)(a2 + 0x58) = 0;
  *(_QWORD *)(a2 + 0x60) = 0;
  *(_QWORD *)(a2 + 0x68) = 0;
  *(_QWORD *)(a2 + 0x70) = 0;
  *(_DWORD *)(a2 + 4) = 2;
  *(_QWORD *)(a2 + 8) = sub_146AD24F0;
  result = a2;
  *(_BYTE *)(a2 + 0x10) = 0;
  *(_WORD *)(a2 + 0x12) = 0x3FF;
  *(_BYTE *)(a2 + 0x14) = 0;
  return result;
}

// --- End Function: sub_146B0FEF0 (0x146B0FEF0) ---

// --- Function: sub_146B0FFE0 (0x146B0FFE0) ---
__int64 __fastcall sub_146B0FFE0(__int64 a1, __int64 a2)
{
  unsigned __int8 n0x3C; // [rsp+38h] [rbp+10h] BYREF

  *(_DWORD *)a2 = 0x1010002;
  *(_QWORD *)(a2 + 0x18) = 0;
  *(_QWORD *)(a2 + 0x20) = 0;
  *(_QWORD *)(a2 + 0x28) = 0;
  *(_QWORD *)(a2 + 0x30) = 0;
  *(_QWORD *)(a2 + 0x38) = 0;
  *(_QWORD *)(a2 + 0x40) = 0;
  *(_QWORD *)(a2 + 0x48) = 0;
  *(_QWORD *)(a2 + 0x50) = 0;
  *(_QWORD *)(a2 + 0x58) = 0;
  *(_QWORD *)(a2 + 0x60) = 0;
  *(_QWORD *)(a2 + 0x68) = 0;
  *(_QWORD *)(a2 + 0x70) = 0;
  *(_QWORD *)(a2 + 8) = sub_146AD2510;
  *(_BYTE *)(a2 + 0x10) = 0;
  *(_WORD *)(a2 + 0x12) = 0x3FF;
  *(_BYTE *)(a2 + 0x14) = 0;
  *(_DWORD *)(a2 + 4) = 9;
  n0x3C = 0x3C;
  sub_140392450(a2, &n0x3C);
  return a2;
}

// --- End Function: sub_146B0FFE0 (0x146B0FFE0) ---

