// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Functions:
//   - 0x1402C5B10 (sub_1402C5B10)
//   - 0x14032AD60 (sub_14032AD60)
//   - 0x1404743B0 (sub_1404743B0)
//   - 0x1404B4D20 (sub_1404B4D20)
//   - 0x141A94B90 (sub_141A94B90)
//   - 0x14310A420 (sub_14310A420)
//   - 0x1465BB560 (sub_1465BB560)
//   - 0x14677DF80 (sub_14677DF80)
//   - 0x14677F280 (sub_14677F280)
//   - 0x146784B90 (sub_146784B90)
//   - 0x146784F60 (sub_146784F60)
//   - 0x146787300 (CRigidEntity::AddGeometry)
//   - 0x146789930 (sub_146789930)
//   - 0x14678C8E0 (CRigidEntity::ApplyStateFromNetwork)
//   - 0x14678F320 (sub_14678F320)
//   - 0x146790090 (sub_146790090)
//   - 0x146791990 (sub_146791990)
//   - 0x146797910 (CRigidEntity::CalcEnergy)
//   - 0x146798E80 (sub_146798E80)
//   - 0x1467B4CA0 (CRigidEntity::DetachPartContacts)
//   - 0x1467B4DE0 (CRigidEntity::DisablePhysicsSync)
//   - 0x1467B4ED0 (sub_1467B4ED0)
//   - 0x1467B62E0 (sub_1467B62E0)
//   - 0x1467BCEC0 (sub_1467BCEC0)
//   - 0x1467BF110 (sub_1467BF110)
//   - 0x1467C0FF0 (sub_1467C0FF0)
//   - 0x1467C1000 (CRigidEntity::GetContactCount)
//   - 0x1467C11A0 (sub_1467C11A0)
//   - 0x1467C1250 (sub_1467C1250)
//   - 0x1467C1620 (sub_1467C1620)
//   - 0x1467C1700 (sub_1467C1700)
//   - 0x1467C1BD0 (sub_1467C1BD0)
//   - 0x1467C1FB0 (sub_1467C1FB0)
//   - 0x1467C1FD0 (sub_1467C1FD0)
//   - 0x1467C2030 (sub_1467C2030)
//   - 0x1467C2070 (sub_1467C2070)
//   - 0x1467C2090 (CRigidEntity::GetMaxTimeStep)
//   - 0x1467C32E0 (sub_1467C32E0)
//   - 0x1467C4110 (sub_1467C4110)
//   - 0x1467C4DD0 (sub_1467C4DD0)
//   - 0x1467C59F0 (sub_1467C59F0)
//   - 0x1467C61D0 (sub_1467C61D0)
//   - 0x1467C6250 (sub_1467C6250)
//   - 0x1467C6280 (sub_1467C6280)
//   - 0x1467C6EA0 (sub_1467C6EA0)
//   - 0x1467C9F00 (sub_1467C9F00)
//   - 0x1467CC930 (sub_1467CC930)
//   - 0x1467CD4D0 (sub_1467CD4D0)
//   - 0x1467CD5F0 (sub_1467CD5F0)
//   - 0x1467CD830 (sub_1467CD830)
//   - 0x1467CDAE0 (sub_1467CDAE0)
//   - 0x1467CDB10 (sub_1467CDB10)
//   - 0x1467CDB70 (sub_1467CDB70)
//   - 0x1467CDCC0 (sub_1467CDCC0)
//   - 0x1467CE100 (sub_1467CE100)
//   - 0x1467CE2F0 (CRigidEntity::IgnoreCollisionsWith)
//   - 0x1467CE510 (sub_1467CE510)
//   - 0x1467CE620 (sub_1467CE620)
//   - 0x1467CE630 (sub_1467CE630)
//   - 0x1467CF3A0 (sub_1467CF3A0)
//   - 0x1467CF410 (sub_1467CF410)
//   - 0x1467D19C0 (CRigidEntity::PostSetStateFromSnapshot)
//   - 0x1467D8030 (CRigidEntity::RecomputeMassDistribution)
//   - 0x1467DE870 (CSpaceshipEntity::RegisterContacts)
//   - 0x1467E0D60 (sub_1467E0D60)
//   - 0x1467E0DF0 (sub_1467E0DF0)
//   - 0x1467E14D0 (CRigidEntity::RemoveColliderMono)
//   - 0x1467E15D0 (sub_1467E15D0)
//   - 0x1467E17A0 (sub_1467E17A0)
//   - 0x1467E19B0 (CRigidEntity::RemoveContactPoint)
//   - 0x1467E3460 (CRigidEntity::RemoveGeometry)
//   - 0x1467E3D90 (sub_1467E3D90)
//   - 0x1467E5070 (CRigidEntity::SetNetworkAuthority)
//   - 0x1467EF210 (sub_1467EF210)
//   - 0x1467F1FA0 (sub_1467F1FA0)
//   - 0x1467F2590 (sub_1467F2590)
//   - 0x1467F8160 (sub_1467F8160)
//   - 0x1467F8350 (CRigidEntity::StartStep)
//   - 0x1467FB750 (sub_1467FB750)
//   - 0x1467FF810 (sub_1467FF810)
//   - 0x146807C70 (sub_146807C70)
//   - 0x14680B2D0 (sub_14680B2D0)
//   - 0x14680B4A0 (sub_14680B4A0)
//   - 0x14680F9C0 (CRigidEntity::UpdatePosition)
//   - 0x1468101F0 (sub_1468101F0)
//   - 0x1468BDE10 (sub_1468BDE10)
//   - 0x1468C1E40 (sub_1468C1E40)
//   - 0x1468C2420 (sub_1468C2420)
//   - 0x1468C3270 (sub_1468C3270)
//   - 0x1468C3D00 (sub_1468C3D00)
//   - 0x1468C3D70 (sub_1468C3D70)
//   - 0x1468CDB40 (sub_1468CDB40)
//   - 0x1468D1260 (sub_1468D1260)
//   - 0x1468D12F0 (sub_1468D12F0)
//   - 0x1468D22B0 (sub_1468D22B0)
//   - 0x1468D2560 (sub_1468D2560)
//   - 0x1468D4470 (sub_1468D4470)
//   - 0x1468D4710 (sub_1468D4710)
//   - 0x1468D4900 (sub_1468D4900)
//   - 0x1468D4F30 (sub_1468D4F30)
//   - 0x1468D4F50 (sub_1468D4F50)
//   - 0x1468D5390 (sub_1468D5390)
//   - 0x1468D5420 (CPhysicalEntity::GetNextFreePartId)
//   - 0x1468D6870 (sub_1468D6870)
//   - 0x1468D6900 (sub_1468D6900)
//   - 0x1468DA230 (sub_1468DA230)
//   - 0x1468DE200 (sub_1468DE200)
//   - 0x1468DEFE0 (sub_1468DEFE0)
//   - 0x1468E0A60 (CPhysicalEntity::ReservePartIds)
// Caller Depth: 0
// Callee/Ref Depth: 1
// Total Functions Found: 285
// ------------------------------------------------------------

// --- Function: __StarEngineModule__ (0x1402A5B50) ---
void __fastcall _StarEngineModule__(ULONG_PTR Parameter)
{
  ;
}

// --- End Function: __StarEngineModule__ (0x1402A5B50) ---

// --- Function: sub_1402A63C0 (0x1402A63C0) ---
__int64 __fastcall sub_1402A63C0(__int64 a1)
{
  return sub_14753C530(a1, (unsigned int)dword_1497E7C00);
}

// --- End Function: sub_1402A63C0 (0x1402A63C0) ---

// --- Function: sub_1402A63D0 (0x1402A63D0) ---
__int64 __fastcall sub_1402A63D0(unsigned __int64 allocSize)
{
  return allocWithProfilerInfo(allocSize, 0);
}

// --- End Function: sub_1402A63D0 (0x1402A63D0) ---

// --- Function: ??$_Emplace_reallocate@PEBVAudioBuffer@vraudio@@@?$vector@PEBVAudioBuffer@vraudio@@V?$allocator@PEBVAudioBuffer@vraudio@@@std@@@std@@QEAAPEAPEBVAudioBuffer@vraudio@@QEAPEBV23@$$QEAPEBV23@@Z (0x1402A8DA0) ---
const vraudio::AudioBuffer **__fastcall std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        std::vector<vraudio::AudioBuffer const *> *this,
        const vraudio::AudioBuffer **const _Whereptr,
        const vraudio::AudioBuffer **<_Val_0>)
{
  __int64 v3; // rbp
  __int64 v5; // rax
  unsigned __int64 v8; // rcx
  unsigned __int64 v9; // r12
  unsigned __int64 v10; // rdx
  unsigned __int64 v11; // rsi
  unsigned __int64 allocSize; // rsi
  __int64 v13; // rax
  _QWORD *v14; // rbx
  _QWORD *v15; // r14
  void *v16; // rcx
  const vraudio::AudioBuffer **_Whereptr_2; // r8
  const vraudio::AudioBuffer **_Whereptr_1; // rdx
  size_t Size; // r8
  __int64 v20; // rcx
  const vraudio::AudioBuffer **result; // rax

  v3 = ((__int64)_Whereptr - *(_QWORD *)this) >> 3;
  v5 = (__int64)(*((_QWORD *)this + 1) - *(_QWORD *)this) >> 3;
  if ( v5 == 0x1FFFFFFFFFFFFFFFLL )
    unknown_libname_10(this);
  v8 = (__int64)(*((_QWORD *)this + 2) - *(_QWORD *)this) >> 3;
  v9 = v5 + 1;
  v10 = v8 >> 1;
  if ( v8 > 0x1FFFFFFFFFFFFFFFLL - (v8 >> 1) )
    goto LABEL_24;
  v11 = v5 + 1;
  if ( v10 + v8 >= v9 )
    v11 = v10 + v8;
  if ( v11 > 0x1FFFFFFFFFFFFFFFLL )
    goto LABEL_24;
  allocSize = 8 * v11;
  if ( allocSize < 0x1000 )
  {
    if ( allocSize )
      v14 = (_QWORD *)sub_1402A63D0(allocSize);
    else
      v14 = 0;
    goto LABEL_13;
  }
  if ( allocSize + 0x27 < allocSize )
LABEL_24:
    sub_1402E2610();
  v13 = sub_1402A63D0(allocSize + 0x27);
  if ( !v13 )
    goto LABEL_22;
  v14 = (_QWORD *)((v13 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
  v14[0xFFFFFFFF] = v13;
LABEL_13:
  v15 = &v14[v3];
  *v15 = *<_Val_0>;
  v16 = v14;
  _Whereptr_2 = (const vraudio::AudioBuffer **)*((_QWORD *)this + 1);
  _Whereptr_1 = *(const vraudio::AudioBuffer ***)this;
  if ( _Whereptr == _Whereptr_2 )
  {
    Size = (char *)_Whereptr_2 - (char *)_Whereptr_1;
  }
  else
  {
    memmove(v14, _Whereptr_1, (char *)_Whereptr - (char *)_Whereptr_1);
    v16 = v15 + 1;
    Size = *((_QWORD *)this + 1) - (_QWORD)_Whereptr;
    _Whereptr_1 = _Whereptr;
  }
  memmove(v16, _Whereptr_1, Size);
  v20 = *(_QWORD *)this;
  if ( *(_QWORD *)this )
  {
    if ( ((*((_QWORD *)this + 2) - v20) & 0xFFFFFFFFFFFFFFF8uLL) < 0x1000 )
    {
LABEL_20:
      sub_1402A63C0(v20);
      goto LABEL_21;
    }
    if ( (unsigned __int64)(v20 - *(_QWORD *)(v20 - 8) - 8) <= 0x1F )
    {
      v20 = *(_QWORD *)(v20 - 8);
      goto LABEL_20;
    }
LABEL_22:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_21:
  *(_QWORD *)this = v14;
  result = (const vraudio::AudioBuffer **)&v14[v3];
  *((_QWORD *)this + 1) = &v14[v9];
  *((_QWORD *)this + 2) = &v14[allocSize / 8];
  return result;
}

// --- End Function: ??$_Emplace_reallocate@PEBVAudioBuffer@vraudio@@@?$vector@PEBVAudioBuffer@vraudio@@V?$allocator@PEBVAudioBuffer@vraudio@@@std@@@std@@QEAAPEAPEBVAudioBuffer@vraudio@@QEAPEBV23@$$QEAPEBV23@@Z (0x1402A8DA0) ---

// --- Function: ??$_Erase_tree@V?$allocator@U?$_Tree_node@PEAVListener@Logger@gte@@PEAX@std@@@std@@@?$_Tree_val@U?$_Tree_simple_types@PEAVListener@Logger@gte@@@std@@@std@@QEAAXAEAV?$allocator@U?$_Tree_node@PEAVListener@Logger@gte@@PEAX@std@@@1@PEAU?$_Tree_node@PEAVListener@Logger@gte@@PEAX@1@@Z (0x1402AA5B0) ---
void __fastcall std::_Tree_val<std::_Tree_simple_types<gte::Logger::Listener *>>::_Erase_tree<std::allocator<std::_Tree_node<gte::Logger::Listener *,void *>>>(
        std::_Tree_val<std::_Tree_simple_types<gte::Logger::Listener *> > *this,
        std::allocator<std::_Tree_node<gte::Logger::Listener *,void *> > *_Al,
        std::_Tree_node<gte::Logger::Listener *,void *> *_Rootnode)
{
  std::_Tree_node<gte::Logger::Listener *,void *> *_Rootnode_1; // rbx
  __int64 _Rootnode_2; // rcx

  _Rootnode_1 = _Rootnode;
  while ( !*((_BYTE *)_Rootnode_1 + 0x19) )
  {
    std::_Tree_val<std::_Tree_simple_types<gte::Logger::Listener *>>::_Erase_tree<std::allocator<std::_Tree_node<gte::Logger::Listener *,void *>>>(
      this,
      _Al,
      *((std::_Tree_node<gte::Logger::Listener *,void *> **)_Rootnode_1 + 2));
    _Rootnode_2 = (__int64)_Rootnode_1;
    _Rootnode_1 = *(std::_Tree_node<gte::Logger::Listener *,void *> **)_Rootnode_1;
    sub_1402A63C0(_Rootnode_2);
  }
}

// --- End Function: ??$_Erase_tree@V?$allocator@U?$_Tree_node@PEAVListener@Logger@gte@@PEAX@std@@@std@@@?$_Tree_val@U?$_Tree_simple_types@PEAVListener@Logger@gte@@@std@@@std@@QEAAXAEAV?$allocator@U?$_Tree_node@PEAVListener@Logger@gte@@PEAX@std@@@1@PEAU?$_Tree_node@PEAVListener@Logger@gte@@PEAX@1@@Z (0x1402AA5B0) ---

// --- Function: LogTraceConditional (0x1402C30B0) ---
// Logs a formatted message with level 3 if global logging flags `qword_14981D3D8`
// and `Parameter_3` are enabled and the global logger object `qword_14981D2D0` is
// available. Calls the virtual function at offset +8 of the logger object.
void LogTraceConditional(const char *format_string, ...)
{
  va_list va; // [rsp+38h] [rbp+10h] BYREF

  va_start(va, format_string);
  if ( qword_149A143C8 && qword_149A142B0 )
  {
    if ( qword_149A142C0 )
      (*(void (__fastcall **)(__int64, __int64, const char *, __int64 *))(*(_QWORD *)qword_149A142C0 + 8LL))(
        qword_149A142C0,
        3,
        format_string,
        (__int64 *)va);
  }
}

// --- End Function: LogTraceConditional (0x1402C30B0) ---

// --- Function: sub_1402C5B10 (0x1402C5B10) ---
char sub_1402C5B10()
{
  return 1;
}

// --- End Function: sub_1402C5B10 (0x1402C5B10) ---

// --- Function: sub_1402C6E20 (0x1402C6E20) ---
__int64 sub_1402C6E20(__int64 *a1, float a2, float a3, float a4, __int128 *a5, unsigned __int8 a6, __int64 a7, ...)
{
  __int64 v7; // rax
  double v9[3]; // [rsp+30h] [rbp-48h] BYREF
  int v10; // [rsp+48h] [rbp-30h] BYREF
  __int128 v11; // [rsp+4Ch] [rbp-2Ch]
  float v12; // [rsp+5Ch] [rbp-1Ch]
  float v13; // [rsp+60h] [rbp-18h]
  va_list va; // [rsp+B8h] [rbp+40h] BYREF

  va_start(va, a7);
  v10 = a6 | 0x70;
  v9[0] = a2;
  v7 = *a1;
  v11 = *a5;
  v9[1] = a3;
  v13 = a4;
  v12 = a4;
  v9[2] = 0.5;
  return (*(__int64 (__fastcall **)(__int64 *, double *, int *, __int64, __int64 *))(v7 + 0x560))(
           a1,
           v9,
           &v10,
           a7,
           (__int64 *)va);
}

// --- End Function: sub_1402C6E20 (0x1402C6E20) ---

// --- Function: NtCurrentTeb_w (0x1402C8360) ---
__int64 sub_1402C8360()
{
  return *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x310LL;
}

// --- End Function: NtCurrentTeb_w (0x1402C8360) ---

// --- Function: ?_Assign_grow@?$_Hash_vec@V?$allocator@V?$_List_unchecked_iterator@V?$_List_val@U?$_List_simple_types@U?$pair@QEAV?$Output@PEBVAudioBuffer@vraudio@@@Node@vraudio@@V?$shared_ptr@VNode@vraudio@@@std@@@std@@@std@@@std@@@std@@@std@@@std@@QEAAX_KV?$_List_unchecked_iterator@V?$_List_val@U?$_List_simple_types@U?$pair@QEAV?$Output@PEBVAudioBuffer@vraudio@@@Node@vraudio@@V?$shared_ptr@VNode@vraudio@@@std@@@std@@@std@@@std@@@2@@Z (0x1402DFB40) ---
unsigned __int64 __fastcall std::_Hash_vec<std::allocator<std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<vraudio::Node::Output<vraudio::AudioBuffer const *> * const,std::shared_ptr<vraudio::Node>>>>>>>::_Assign_grow(
        unsigned __int64 **a1,
        unsigned __int64 a2,
        unsigned __int64 buf)
{
  std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<int const ,vraudio::GainMixer::GainProcessors> > > > *_Last; // rcx
  unsigned __int64 v6; // rsi
  __int64 v7; // rax
  unsigned __int64 *v8; // rdi
  unsigned __int64 *v9; // rcx
  signed __int64 v10; // rax
  unsigned __int64 result; // rax
  unsigned __int64 buf_1; // [rsp+40h] [rbp+18h] BYREF

  buf_1 = buf;
  _Last = (std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<int const ,vraudio::GainMixer::GainProcessors> > > > *)a1[1];
  if ( (_Last
      - (std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<int const ,vraudio::GainMixer::GainProcessors> > > > *)*a1) >> 3 >= a2 )
  {
    std::fill<std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<int const,vraudio::GainMixer::GainProcessors>>>> *,std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<int const,vraudio::GainMixer::GainProcessors>>>>>(
      (std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<int const ,vraudio::GainMixer::GainProcessors> > > > *const)*a1,
      _Last,
      (const std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<int const ,vraudio::GainMixer::GainProcessors> > > > *)&buf_1);
    return result;
  }
  if ( a2 > 0x1FFFFFFFFFFFFFFFLL )
    goto LABEL_20;
  v6 = 8 * a2;
  if ( 8 * a2 < 0x1000 )
  {
    if ( v6 )
      v8 = (unsigned __int64 *)sub_1402A63D0(8 * a2);
    else
      v8 = 0;
    goto LABEL_10;
  }
  if ( v6 + 0x27 < v6 )
LABEL_20:
    sub_1402E2610();
  v7 = sub_1402A63D0(v6 + 0x27);
  if ( !v7 )
    goto LABEL_18;
  v8 = (unsigned __int64 *)((v7 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
  v8[0xFFFFFFFF] = v7;
LABEL_10:
  v9 = *a1;
  v10 = a1[2] - *a1;
  if ( !v10 )
    goto LABEL_15;
  if ( (unsigned __int64)(8 * v10) >= 0x1000 )
  {
    if ( (unsigned __int64)v9 - v9[0xFFFFFFFF] - 8 <= 0x1F )
    {
      v9 = (unsigned __int64 *)v9[0xFFFFFFFF];
      goto LABEL_14;
    }
LABEL_18:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_14:
  sub_1402A63C0((__int64)v9);
LABEL_15:
  result = (unsigned __int64)&v8[v6 / 8];
  *a1 = v8;
  a1[1] = &v8[v6 / 8];
  a1[2] = &v8[v6 / 8];
  if ( v8 != &v8[v6 / 8] )
  {
    do
      *v8++ = buf;
    while ( v8 != (unsigned __int64 *)result );
  }
  return result;
}

// --- End Function: ?_Assign_grow@?$_Hash_vec@V?$allocator@V?$_List_unchecked_iterator@V?$_List_val@U?$_List_simple_types@U?$pair@QEAV?$Output@PEBVAudioBuffer@vraudio@@@Node@vraudio@@V?$shared_ptr@VNode@vraudio@@@std@@@std@@@std@@@std@@@std@@@std@@@std@@QEAAX_KV?$_List_unchecked_iterator@V?$_List_val@U?$_List_simple_types@U?$pair@QEAV?$Output@PEBVAudioBuffer@vraudio@@@Node@vraudio@@V?$shared_ptr@VNode@vraudio@@@std@@@std@@@std@@@std@@@2@@Z (0x1402DFB40) ---

// --- Function: sub_1402E2610 (0x1402E2610) ---
void __noreturn sub_1402E2610()
{
  stdext::exception *v0; // rax
  _QWORD v1[3]; // [rsp+20h] [rbp-18h] BYREF

  v0 = (stdext::exception *)sub_1402B3A80(v1);
  stdext::exception::_Raise(v0);
}

// --- End Function: sub_1402E2610 (0x1402E2610) ---

// --- Function: unknown_libname_10 (0x1402E3430) ---
// Microsoft VisualC v14 64bit runtime
void __noreturn unknown_libname_10()
{
  std::_Xlength_error("vector too long");
}

// --- End Function: unknown_libname_10 (0x1402E3430) ---

// --- Function: sub_1402E5310 (0x1402E5310) ---
char *__fastcall sub_1402E5310(__int64 *a1, unsigned __int64 a2)
{
  char *v2; // rsi
  __int64 v4; // r8
  unsigned __int64 v5; // rcx
  char *result; // rax
  size_t Size; // rbx

  v2 = (char *)a1[1];
  v4 = *a1;
  v5 = (__int64)&v2[-*a1] >> 2;
  if ( a2 >= v5 )
  {
    if ( a2 > v5 )
    {
      if ( a2 <= (a1[2] - v4) >> 2 )
      {
        Size = 4 * (a2 - v5);
        memset(v2, 0, Size);
        result = &v2[Size];
        a1[1] = (__int64)&v2[Size];
      }
      else
      {
        return sub_1402AC3B0((__int64)a1, a2);
      }
    }
  }
  else
  {
    result = (char *)(v4 + 4 * a2);
    a1[1] = (__int64)result;
  }
  return result;
}

// --- End Function: sub_1402E5310 (0x1402E5310) ---

// --- Function: fprintf (0x1402F8910) ---
int fprintf(FILE *File, const char *Format, ...)
{
  __int64 *v4; // rax
  va_list va; // [rsp+60h] [rbp+18h] BYREF

  va_start(va, Format);
  v4 = sub_1402A6A10();
  return _stdio_common_vfprintf(*v4, File, Format, 0, va);
}

// --- End Function: fprintf (0x1402F8910) ---

// --- Function: invokeGlobalCallbackAndMaskStatusBits (0x140301FB0) ---
// Executes a global callback function if registered, otherwise defaults to a
// status of 1. Subsequently, it masks specific status bits (bits 2 and 3) based on
// the state of global configuration flags (`qword_149B3B208` and
// `qword_149B3B210`).
__int64 invokeGlobalCallbackAndMaskStatusBits(__int64 a1, __int64 a2, __int64 a3, const char *a4, ...)
{
  __int64 result; // rax

  if ( qword_1499FF110 )
    result = qword_1499FF110(a1, a2, a3, a4);
  else
    result = 1;
  if ( !qword_1499FF128 )
    result = (unsigned int)result & 0xFFFFFFFB;
  if ( !qword_1499FF130 )
    return (unsigned int)result & 0xFFFFFFF7;
  return result;
}

// --- End Function: invokeGlobalCallbackAndMaskStatusBits (0x140301FB0) ---

// --- Function: is_valid_handle_typeB (0x1403102C0) ---
// Validates a packed handle (QWORD containing a pointer in the lower 48 bits and
// flags in the upper 16 bits).  Calculates the pointer to the handle's metadata,
// potentially adjusting based on high flag bits (0xF000) using `map_flag_to_mask`.
// Checks if the lower 12 bits of the handle flags match the flags stored in the
// metadata (at offset +2).  If the metadata type (at offset +4) is 2 and certain
// thread state flags are set (checked via TLS offset +37 or
// `is_thread_flag_57_or_38_set`), the handle is considered valid.  Otherwise,
// delegates the validation to `check_handle_access_by_state_extended`.
bool __fastcall is_valid_handle_typeB(unsigned __int64 *a1)
{
  unsigned __int64 v1; // r9
  __int64 v3; // r10
  unsigned __int64 v4; // r9
  __int64 v5; // rax
  __int64 v6; // r10
  __int64 v7; // rbx
  bool v8; // al

  v1 = *a1;
  if ( !*a1 )
    return 0;
  v3 = v1 & 0xFFFFFFFFFFFFLL;
  v4 = HIWORD(v1);
  if ( (v4 & 0xF000) != 0 )
  {
    v5 = map_flag_to_mask(0x2000u);
    v7 = v6 & ~(v5 - 1);
  }
  else
  {
    v7 = v3 - 6;
  }
  if ( *(_WORD *)(v7 + 2) != (v4 & 0xFFF) )
    return 0;
  if ( *(_BYTE *)(NtCurrentTeb_w() + 0x25) || (v8 = is_thread_flag_57_or_38_set()) )
    v8 = 1;
  return *(_WORD *)(v7 + 4) == 2 && v8 || (unsigned __int8)sub_140393CF0(a1) != 0;
}

// --- End Function: is_valid_handle_typeB (0x1403102C0) ---

// --- Function: map_flag_to_mask (0x140326230) ---
// Maps specific input flags to corresponding mask values. If the input flag is not
// recognized, the function returns 0. The known mappings are: - 0x2000 ->
// 0x1000000 - 0x4000 -> 0x2000000 - 0x6000 -> 0x4000000 - 0x8000 -> 0x8000000 -
// 0xA000 -> 0x20000000 - 0xC000 -> 0x80000000
__int64 __fastcall map_flag_to_mask(unsigned __int16 n24576)
{
  unsigned int v1; // edx
  __int64 result; // rax

  if ( n24576 > 0x8000u )
  {
    if ( n24576 == 0xA000 )
    {
      return 0x20000000;
    }
    else
    {
      result = 0x80000000LL;
      if ( n24576 != 0xC000 )
        return 0;
    }
  }
  else
  {
    switch ( n24576 )
    {
      case 0x8000u:
        return 0x8000000;
      case 0x2000u:
        return 0x1000000;
      case 0x4000u:
        return 0x2000000;
      default:
        v1 = 0;
        if ( n24576 == 0x6000 )
          return 0x4000000;
        return v1;
    }
  }
  return result;
}

// --- End Function: map_flag_to_mask (0x140326230) ---

// --- Function: sub_14032AD60 (0x14032AD60) ---
_QWORD *__fastcall sub_14032AD60(__int64 a1, _QWORD *a2)
{
  *a2 = 0;
  return a2;
}

// --- End Function: sub_14032AD60 (0x14032AD60) ---

// --- Function: sub_140339170 (0x140339170) ---
double *__fastcall sub_140339170(double *a1, double *a2, double *a3)
{
  double v3; // xmm4_8
  double *result; // rax
  double v5; // xmm9_8
  double v6; // xmm11_8
  double v7; // xmm12_8
  double v8; // xmm13_8
  double v9; // xmm8_8
  double v10; // xmm6_8
  double v11; // xmm4_8
  double v12; // xmm3_8
  double v13; // kr00_8
  double v14; // xmm2_8
  double v15; // xmm1_8
  double v16; // xmm2_8

  v3 = a2[3];
  result = a1;
  v5 = a2[2];
  v6 = a2[1];
  v7 = a3[1];
  v8 = a3[2];
  v9 = v8 * v6 - v7 * v5 + *a3 * v3;
  v10 = *a3 * v5 - *a2 * v8 + v3 * v7;
  v11 = *a2 * v7 - *a3 * v6 + v3 * v8;
  v12 = *a2 * v10 - v6 * v9;
  v13 = v5 * v9 - *a2 * v11;
  v14 = v13 + a2[5];
  *a1 = v6 * v11 - v5 * v10 + a2[4] + *a3 + v6 * v11 - v5 * v10;
  v15 = v14 + v7 + v13;
  v16 = v12 + a2[6];
  a1[1] = v15;
  a1[2] = v16 + v8 + v12;
  return result;
}

// --- End Function: sub_140339170 (0x140339170) ---

// --- Function: sub_14035C590 (0x14035C590) ---
__int64 __fastcall sub_14035C590(__int64 a1, __int64 a2)
{
  *(_QWORD *)a1 = *(_QWORD *)a2;
  *(_QWORD *)(a1 + 8) = (char *)&qword_1499FF28C + 4;
  sub_1403DF8F0((void **)(a1 + 8), *(void **)(a2 + 8), *(int *)(*(_QWORD *)(a2 + 8) - 8LL));
  *(_QWORD *)(a1 + 0x10) = (char *)&qword_1499FF28C + 4;
  sub_1403DF8F0((void **)(a1 + 0x10), *(void **)(a2 + 0x10), *(int *)(*(_QWORD *)(a2 + 0x10) - 8LL));
  return a1;
}

// --- End Function: sub_14035C590 (0x14035C590) ---

// --- Function: sub_1403727A0 (0x1403727A0) ---
void __fastcall sub_1403727A0(_QWORD *a1)
{
  __int64 v1; // rcx

  v1 = *a1 - 8LL;
  if ( *(int *)(v1 + 4) > 0 )
    sub_14753C530(v1, (unsigned int)dword_1497E7C00);
}

// --- End Function: sub_1403727A0 (0x1403727A0) ---

// --- Function: ?_Tidy@?$vector@V?$TriangleKey@$00@gte@@V?$allocator@V?$TriangleKey@$00@gte@@@std@@@std@@AEAAXXZ (0x140373650) ---
void __fastcall std::vector<gte::TriangleKey<1>>::_Tidy(std::vector<gte::TriangleKey<1>> *this)
{
  __int64 v2; // rcx

  v2 = *(_QWORD *)this;
  if ( v2 )
  {
    if ( (unsigned __int64)(0xC * ((*((_QWORD *)this + 2) - v2) / 0xC)) >= 0x1000 )
    {
      if ( (unsigned __int64)(v2 - *(_QWORD *)(v2 - 8) - 8) > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v2 = *(_QWORD *)(v2 - 8);
    }
    sub_1402A63C0(v2);
    *(_QWORD *)this = 0;
    *((_QWORD *)this + 1) = 0;
    *((_QWORD *)this + 2) = 0;
  }
}

// --- End Function: ?_Tidy@?$vector@V?$TriangleKey@$00@gte@@V?$allocator@V?$TriangleKey@$00@gte@@@std@@@std@@AEAAXXZ (0x140373650) ---

// --- Function: sub_1403CD0A0 (0x1403CD0A0) ---
void __fastcall sub_1403CD0A0(volatile signed __int64 *a1, signed __int64 a2, __int64 a3, __int64 a4, char a5)
{
  int *p_n0x1600; // rcx
  int v10; // esi
  bool v11; // zf
  signed __int64 v12; // rax
  int v13; // [rsp+30h] [rbp-61h] BYREF
  _DWORD v14[3]; // [rsp+34h] [rbp-5Dh] BYREF
  int n0x1600_1; // [rsp+40h] [rbp-51h] BYREF
  __int64 v16; // [rsp+44h] [rbp-4Dh]
  int v17; // [rsp+4Ch] [rbp-45h]
  __int64 v18; // [rsp+50h] [rbp-41h]
  unsigned __int64 v19; // [rsp+58h] [rbp-39h]
  __int64 v20; // [rsp+60h] [rbp-31h]
  __int64 v21; // [rsp+68h] [rbp-29h]
  int n0x1600; // [rsp+90h] [rbp-1h] BYREF
  __int64 v23; // [rsp+94h] [rbp+3h]
  int v24; // [rsp+9Ch] [rbp+Bh]
  __int64 v25; // [rsp+A0h] [rbp+Fh]
  unsigned __int64 v26; // [rsp+A8h] [rbp+17h]
  __int64 v27; // [rsp+B0h] [rbp+1Fh]
  __int64 v28; // [rsp+B8h] [rbp+27h]

  if ( a5 && *(_BYTE *)(NtCurrentTeb_w() + 0x1C) && qword_149A143C8 )
  {
    sub_1403CD260(a1, a2, a3, a4);
    return;
  }
  if ( (a2 & 0x200000) != 0 )
  {
    while ( 1 )
    {
      if ( (a2 & 0xFFC00) != 0 )
        (*(void (__fastcall **)(__int64, volatile signed __int64 *))(*(_QWORD *)qword_149A14308 + 0x128LL))(
          qword_149A14308,
          a1);
      if ( (a2 & 0x100000) != 0 )
        break;
      v10 = a2 | 0x100000;
      v12 = _InterlockedCompareExchange64(a1, a2 | 0x100000, a2);
      v11 = a2 == v12;
      a2 = v12;
      if ( v11 )
      {
        n0x1600 = 0x1600;
        v23 = 0;
        v24 = 0;
        v26 = 0;
        v27 = 0;
        v28 = 0;
        v25 = 1;
        qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
        v14[0] = v10;
        qword_1499FF3E8(a1, v14, 4, 0xFFFFFFFFLL);
        a2 = *a1;
        p_n0x1600 = &n0x1600;
        v26 = __rdtsc();
        goto LABEL_12;
      }
LABEL_13:
      if ( (a2 & 0x200000) == 0 )
        return;
    }
    n0x1600_1 = 0x1600;
    v16 = 0;
    v17 = 0;
    v19 = 0;
    v20 = 0;
    v21 = 0;
    v18 = 1;
    qword_149A0FD80(&n0x1600_1, 0, &Source, &Source, 0);
    v13 = a2;
    qword_1499FF3E8(a1, &v13, 4, 0xFFFFFFFFLL);
    a2 = *a1;
    p_n0x1600 = &n0x1600_1;
    v19 = __rdtsc();
LABEL_12:
    qword_149A0FD88(p_n0x1600);
    goto LABEL_13;
  }
}

// --- End Function: sub_1403CD0A0 (0x1403CD0A0) ---

// --- Function: sub_1403CD3A0 (0x1403CD3A0) ---
__int64 __fastcall sub_1403CD3A0(volatile signed __int64 *a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdx
  unsigned int v5; // r8d
  __int64 result; // rax
  unsigned __int64 v7; // rbx
  int v8; // [rsp+60h] [rbp+8h] BYREF
  int v9; // [rsp+68h] [rbp+10h] BYREF
  __int64 v10; // [rsp+70h] [rbp+18h] BYREF
  __int64 v11; // [rsp+78h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2;
    if ( (a2 & 0xFFC00000) == 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
        qword_149A14308,
        &v10,
        &v8);
      v4 = a2 & 0xFFFFFFFFFFFFLL;
      v5 = *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned int)(v8 - 1)) + v10 + 0x24);
      if ( v5 != 0xFFFFFFFF )
        v4 |= (unsigned __int64)v5 << 0x30;
    }
    result = _InterlockedCompareExchange64(a1, v4, a2);
    if ( a2 == result )
      break;
    if ( (result & 0x3FF) != 0 || (result & 0x200000) != 0 || (result & 0xFFFF0000FFC00000uLL) == 0 )
      return result;
    a2 = result;
  }
  if ( (a2 & 0xFFC00000) != 0 )
    return qword_1499FF3F0(a1);
  result = 0xFFFF000000000000uLL;
  if ( (a2 & 0xFFFF000000000000uLL) != 0 )
  {
    (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
      qword_149A14308,
      &v11,
      &v9);
    v7 = HIWORD(a2);
    *(_DWORD *)(0xC0LL * ((unsigned int)v7 & (v9 - 1)) + v11 + 0x1C) = (unsigned __int16)(v7 + v9);
    return (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149A14308 + 0xD8LL))(
             qword_149A14308,
             (unsigned int)v7);
  }
  return result;
}

// --- End Function: sub_1403CD3A0 (0x1403CD3A0) ---

// --- Function: sub_1403DE750 (0x1403DE750) ---
__int64 __fastcall sub_1403DE750(__int64 a1, __int64 a2, __int64 a3, __int64 a4, __int64 a5, char a6)
{
  if ( a6 && *(_BYTE *)(NtCurrentTeb_w() + 0x1C) && qword_149A143C8 )
    return sub_1403DE7E0(a1, a2, a3, a4, a5);
  else
    return sub_1403DE9B0(a1, a2, a3, a4, a5);
}

// --- End Function: sub_1403DE750 (0x1403DE750) ---

// --- Function: sub_1403DEBA0 (0x1403DEBA0) ---
__int64 __fastcall sub_1403DEBA0(volatile signed __int64 *a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdi
  unsigned int v5; // edx
  signed __int64 v6; // rax
  __int64 result; // rax
  __int64 v8; // rdi
  __int64 v9; // r8
  int v10; // ecx
  __int64 v11; // r8
  unsigned __int64 v12; // rbx
  int v13; // [rsp+70h] [rbp+8h] BYREF
  int v14; // [rsp+78h] [rbp+10h] BYREF
  __int64 v15; // [rsp+80h] [rbp+18h] BYREF
  __int64 v16; // [rsp+88h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFFFFD003FFuLL;
    if ( (a2 & 0xFFFF00100000LL) != 0 )
    {
      v4 = a2 & 0xFFFF0000FFC003FFuLL;
    }
    else if ( (a2 & 0xFFC003FF) == 0 && (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
        qword_149A14308,
        &v16,
        &v14);
      v4 = a2 & 0xFFFFFFD003FFLL;
      v5 = *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned int)(v14 - 1)) + v16 + 0x24);
      if ( v5 != 0xFFFFFFFF )
        v4 |= (unsigned __int64)v5 << 0x30;
    }
    v6 = _InterlockedCompareExchange64(a1, v4, a2);
    if ( a2 == v6 )
      break;
    a2 = v6;
  }
  if ( (a2 & 0x3FF) != 0 )
  {
    if ( (a2 & 0x100000) != 0 )
      qword_1499FF3F8(a1);
    result = 0xFFFF00000000LL;
    if ( (a2 & 0xFFFF00000000LL) != 0 )
    {
      v8 = qword_149A14308;
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
        qword_149A14308,
        &v15,
        &v13);
      v9 = v15 + 0xC0 * (WORD2(a2) & (unsigned __int64)(unsigned int)(v13 - 1));
      LODWORD(a2) = *(_DWORD *)(v9 + 0x24);
      *(_DWORD *)(v9 + 0x1C) = (unsigned __int16)(WORD2(a2) + v13);
      for ( result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0xD8LL))(v8);
            (_DWORD)a2 != 0xFFFFFFFF;
            result = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v8 + 0xD8LL))(v8) )
      {
        v10 = (unsigned __int16)(a2 + v13);
        v11 = v15 + 0xC0LL * ((unsigned int)a2 & (v13 - 1));
        LODWORD(a2) = *(_DWORD *)(v11 + 0x24);
        *(_DWORD *)(v11 + 0x1C) = v10;
      }
    }
  }
  else
  {
    result = 0xFFC00000LL;
    if ( (a2 & 0xFFC00000) != 0 )
    {
      return qword_1499FF3F0(a1);
    }
    else if ( (a2 & 0xFFFF000000000000uLL) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
        qword_149A14308,
        &v15,
        &v13);
      v12 = HIWORD(a2);
      *(_DWORD *)(0xC0LL * ((unsigned int)v12 & (v13 - 1)) + v15 + 0x1C) = (unsigned __int16)(v12 + v13);
      return (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149A14308 + 0xD8LL))(
               qword_149A14308,
               (unsigned int)v12);
    }
  }
  return result;
}

// --- End Function: sub_1403DEBA0 (0x1403DEBA0) ---

// --- Function: sub_1403E4CF0 (0x1403E4CF0) ---
LARGE_INTEGER sub_1403E4CF0()
{
  LARGE_INTEGER PerformanceCount; // [rsp+30h] [rbp+8h] BYREF

  QueryPerformanceCounter(&PerformanceCount);
  return PerformanceCount;
}

// --- End Function: sub_1403E4CF0 (0x1403E4CF0) ---

// --- Function: sub_1403F39C0 (0x1403F39C0) ---
__int64 __fastcall sub_1403F39C0(__int64 a1, __int64 a2, unsigned __int8 *a3)
{
  _QWORD *v5; // r15
  unsigned __int64 v6; // rax
  __int64 v7; // rcx
  __int64 v8; // rax
  _QWORD *v9; // rbx
  _QWORD *v10; // rbp
  _QWORD *v11; // rcx
  _QWORD *v13; // r13
  _QWORD *v14; // r12
  _QWORD *v15; // rdi
  __int64 v16; // rcx
  float v17; // xmm1_4
  float v18; // kr00_4
  unsigned __int64 n8_2; // rdx
  float v20; // xmm0_4
  float v21; // kr00_4
  unsigned __int64 v24; // rcx
  unsigned __int64 n8_1; // rax
  unsigned __int64 n8; // rcx
  unsigned __int64 v27; // r8
  __int64 v28; // rdx
  _QWORD *v29; // rax
  _QWORD *v30; // rdx
  __int64 v31; // rcx
  _QWORD *v32; // rdx
  __int64 v33; // rcx
  __int64 v34; // rax
  _QWORD *v35; // r8
  unsigned __int64 v36; // [rsp+70h] [rbp+8h]

  v5 = *(_QWORD **)(a1 + 8);
  v6 = (0x100000001B3LL
      * (a3[7]
       ^ (0x100000001B3LL
        * (a3[6]
         ^ (0x100000001B3LL
          * (a3[5]
           ^ (0x100000001B3LL
            * (a3[4]
             ^ (0x100000001B3LL
              * (a3[3]
               ^ (0x100000001B3LL
                * (a3[2] ^ (0x100000001B3LL * (a3[1] ^ (0x100000001B3LL * (*a3 ^ 0xCBF29CE484222325uLL))))))))))))))))
     & *(_QWORD *)(a1 + 0x30);
  v36 = 0x100000001B3LL
      * (a3[7]
       ^ (0x100000001B3LL
        * (a3[6]
         ^ (0x100000001B3LL
          * (a3[5]
           ^ (0x100000001B3LL
            * (a3[4]
             ^ (0x100000001B3LL
              * (a3[3]
               ^ (0x100000001B3LL
                * (a3[2] ^ (0x100000001B3LL * (a3[1] ^ (0x100000001B3LL * (*a3 ^ 0xCBF29CE484222325uLL)))))))))))))));
  v7 = *(_QWORD *)(a1 + 0x18);
  v8 = 2 * v6;
  v9 = *(_QWORD **)(v7 + 8 * v8 + 8);
  if ( v9 == v5 )
  {
    v9 = v5;
    v10 = v5;
  }
  else
  {
    v11 = *(_QWORD **)(v7 + 8 * v8);
    if ( *(_QWORD *)a3 == v9[2] )
    {
LABEL_6:
      *(_QWORD *)a2 = v9;
      *(_BYTE *)(a2 + 8) = 0;
      return a2;
    }
    while ( v9 != v11 )
    {
      v9 = (_QWORD *)v9[1];
      if ( *(_QWORD *)a3 == v9[2] )
        goto LABEL_6;
    }
    v5 = v9;
    v10 = v9;
  }
  v13 = (_QWORD *)(a1 + 8);
  v14 = (_QWORD *)(a1 + 0x30);
  if ( *(_QWORD *)(a1 + 0x10) == 0xAAAAAAAAAAAAAAALL )
    std::_Xlength_error("unordered_map/set too long");
  v15 = (_QWORD *)sub_1402A63D0(0x18u);
  v15[2] = *(_QWORD *)a3;
  v16 = *(_QWORD *)(a1 + 0x10) + 1LL;
  if ( v16 < 0 )
  {
    v18 = (float)(v16 & 1 | ((unsigned __int64)v16 >> 1));
    v17 = v18 + v18;
  }
  else
  {
    v17 = (float)v16;
  }
  n8_2 = *(_QWORD *)(a1 + 0x38);
  if ( (n8_2 & 0x8000000000000000uLL) != 0LL )
  {
    v21 = (float)(*(_QWORD *)(a1 + 0x38) & 1LL | (n8_2 >> 1));
    v20 = v21 + v21;
  }
  else
  {
    v20 = (float)(__int64)n8_2;
  }
  if ( *(float *)a1 >= (float)(v17 / v20) )
  {
    v27 = v36;
  }
  else
  {
    _XMM1 = 0;
    __asm { vroundss xmm1, xmm1, xmm0, 2 }
    v24 = 0;
    if ( *(float *)&_XMM1 >= 9.223372e18 )
    {
      *(float *)&_XMM1 = *(float *)&_XMM1 - 9.223372e18;
      if ( *(float *)&_XMM1 < 9.223372e18 )
        v24 = 0x8000000000000000uLL;
    }
    n8_1 = v24 + (unsigned int)(int)*(float *)&_XMM1;
    n8 = 8;
    if ( n8_1 > 8 )
      n8 = n8_1;
    if ( n8_2 < n8 )
    {
      if ( n8_2 >= 0x200 || (n8_2 *= 8LL, n8_2 < n8) )
        n8_2 = n8;
    }
    std::_Hash<std::_Umap_traits<vraudio::Node::Output<vraudio::AudioBuffer const *> *,std::shared_ptr<vraudio::Node>,std::_Uhash_compare<vraudio::Node::Output<vraudio::AudioBuffer const *> *,std::hash<vraudio::Node::Output<vraudio::AudioBuffer const *> *>,std::equal_to<vraudio::Node::Output<vraudio::AudioBuffer const *> *>>,std::allocator<std::pair<vraudio::Node::Output<vraudio::AudioBuffer const *> * const,std::shared_ptr<vraudio::Node>>>,0>>::_Forced_rehash(
      a1,
      n8_2);
    v27 = v36;
    v28 = *(_QWORD *)(a1 + 0x18);
    v9 = *(_QWORD **)(a1 + 8);
    v29 = *(_QWORD **)(v28 + 0x10 * (v36 & *(_QWORD *)(a1 + 0x30)) + 8);
    if ( v29 != v9 )
    {
      v30 = *(_QWORD **)(v28 + 0x10 * (v36 & *(_QWORD *)(a1 + 0x30)));
      v31 = v15[2];
      if ( v31 != v29[2] )
      {
        while ( 1 )
        {
          v9 = v29;
          if ( v29 == v30 )
            break;
          v29 = (_QWORD *)v29[1];
          if ( v31 == v29[2] )
            goto LABEL_30;
        }
        v14 = (_QWORD *)(a1 + 0x30);
        v13 = (_QWORD *)(a1 + 8);
        v10 = v29;
        v5 = v29;
        goto LABEL_34;
      }
LABEL_30:
      v9 = (_QWORD *)*v29;
    }
    v14 = (_QWORD *)(a1 + 0x30);
    v10 = v9;
    v13 = (_QWORD *)(a1 + 8);
    v5 = v9;
  }
LABEL_34:
  v32 = (_QWORD *)v9[1];
  ++*(_QWORD *)(a1 + 0x10);
  *v15 = v5;
  v15[1] = v32;
  *v32 = v15;
  v9[1] = v15;
  v33 = *(_QWORD *)(a1 + 0x18);
  v34 = 2 * (v27 & *v14);
  v35 = *(_QWORD **)(v33 + 0x10 * (v27 & *v14));
  if ( v35 == (_QWORD *)*v13 )
  {
    *(_QWORD *)(v33 + 8 * v34) = v15;
    goto LABEL_39;
  }
  if ( v35 != v10 )
  {
    if ( *(_QWORD **)(v33 + 8 * v34 + 8) != v32 )
    {
LABEL_40:
      *(_QWORD *)a2 = v15;
      *(_BYTE *)(a2 + 8) = 1;
      return a2;
    }
LABEL_39:
    *(_QWORD *)(v33 + 8 * v34 + 8) = v15;
    goto LABEL_40;
  }
  *(_QWORD *)(v33 + 8 * v34) = v15;
  *(_QWORD *)a2 = v15;
  *(_BYTE *)(a2 + 8) = 1;
  return a2;
}

// --- End Function: sub_1403F39C0 (0x1403F39C0) ---

// --- Function: sub_1403F8280 (0x1403F8280) ---
__int64 __fastcall sub_1403F8280(__int64 *a1)
{
  __int64 v2; // rcx
  _QWORD **v3; // rcx
  _QWORD *v4; // rcx
  _QWORD *v5; // rbx

  v2 = a1[3];
  if ( v2 )
  {
    if ( ((a1[5] - v2) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
    {
      if ( (unsigned __int64)(v2 - *(_QWORD *)(v2 - 8) - 8) > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v2 = *(_QWORD *)(v2 - 8);
    }
    sub_1402A63C0(v2);
    a1[3] = 0;
    a1[4] = 0;
    a1[5] = 0;
  }
  v3 = (_QWORD **)a1[1];
  *v3[1] = 0;
  v4 = *v3;
  if ( v4 )
  {
    do
    {
      v5 = (_QWORD *)*v4;
      sub_1402A63C0((__int64)v4);
      v4 = v5;
    }
    while ( v5 );
  }
  return sub_1402A63C0(a1[1]);
}

// --- End Function: sub_1403F8280 (0x1403F8280) ---

// --- Function: sub_140445140 (0x140445140) ---
char __fastcall sub_140445140(
        int n4,
        __int64 a2,
        void *a3,
        __int64 a4,
        __int64 a5,
        int a6,
        _QWORD *a7,
        __int64 *a8,
        __int64 a9,
        _QWORD *a10)
{
  unsigned __int64 v11; // rax
  const char *p_null; // rdx
  __int64 v14; // [rsp+18h] [rbp-F8h]
  _QWORD __Val_0___[11]; // [rsp+30h] [rbp-E0h] BYREF
  __int16 n0x100; // [rsp+88h] [rbp-88h]
  __int64 n0xB0; // [rsp+90h] [rbp-80h]
  __int64 n0xA8; // [rsp+98h] [rbp-78h]
  _QWORD *v19; // [rsp+A0h] [rbp-70h]
  const char *p_Name; // [rsp+A8h] [rbp-68h]
  __int64 v21; // [rsp+B0h] [rbp-60h]
  __int64 (__fastcall *p_sub_1403ECA20)(__int64, void *, size_t, __int64, char); // [rsp+B8h] [rbp-58h]
  __int64 (__fastcall *p_sub_1403EC580)(__int64, __int64, __int64, __int64); // [rsp+C0h] [rbp-50h]
  __int64 v24; // [rsp+C8h] [rbp-48h]
  bool (__fastcall *p_sub_1403E8C30)(__int64, __int64); // [rsp+D0h] [rbp-40h]
  __int64 v26; // [rsp+D8h] [rbp-38h]
  __int64 (__fastcall *p_sub_1403E6460)(__int64); // [rsp+E0h] [rbp-30h]
  _QWORD *(__fastcall *p_sub_1403E6180)(_QWORD *); // [rsp+E8h] [rbp-28h]
  unsigned __int64 v29; // [rsp+F0h] [rbp-20h]
  char v30; // [rsp+F8h] [rbp-18h]
  char v31; // [rsp+F9h] [rbp-17h]
  __int64 n0x18; // [rsp+100h] [rbp-10h]
  unsigned __int64 v33; // [rsp+108h] [rbp-8h]

  __Val_0___[0] = a9;
  __Val_0___[1] = "TraceContext";
  __Val_0___[3] = sub_1403ECB40;
  p_Name = "Name";
  __Val_0___[4] = sub_1403EC6E0;
  __Val_0___[6] = sub_1403E8DD0;
  __Val_0___[8] = sub_1403E6440;
  v19 = a10;
  __Val_0___[9] = sub_1403E6140;
  v11 = 0xFFFFFFFFFFFFFFFFuLL;
  __Val_0___[0xA] = 0xFFFFFFFFFFFFFFFFuLL;
  n0x100 = 0x100;
  __Val_0___[2] = 0;
  __Val_0___[5] = 0;
  __Val_0___[7] = 0;
  n0xB0 = 0xB0;
  n0xA8 = 0xA8;
  v31 = 0;
  v21 = *a10;
  p_sub_1403ECA20 = sub_1403ECA20;
  p_sub_1403EC580 = sub_1403EC580;
  p_sub_1403E8C30 = sub_1403E8C30;
  p_sub_1403E6460 = sub_1403E6460;
  p_sub_1403E6180 = sub_1403E6180;
  v24 = 0;
  v26 = 0;
  v29 = 0xFFFFFFFFFFFFFFFFuLL;
  v30 = 0;
  n0x18 = 0x18;
  p_null = "null";
  if ( a10[1] )
    p_null = (const char *)a10[1];
  do
    ++v11;
  while ( p_null[v11] );
  v33 = v11;
  LODWORD(v14) = a6;
  return sub_140305B00(n4, a2, a3, a4, (__int64)__Val_0___, 2u, a5, v14, a7, a8);
}

// --- End Function: sub_140445140 (0x140445140) ---

// --- Function: sub_1404743B0 (0x1404743B0) ---
__int64 __fastcall sub_1404743B0(__int64 a1, unsigned int a2)
{
  return a2;
}

// --- End Function: sub_1404743B0 (0x1404743B0) ---

// --- Function: sub_1404B4D20 (0x1404B4D20) ---
__int64 __fastcall sub_1404B4D20(__int64 a1)
{
  return *(_QWORD *)(a1 + 0xB0);
}

// --- End Function: sub_1404B4D20 (0x1404B4D20) ---

// --- Function: getThreadLogContextSlot (0x1404BF640) ---
// Retrieves a pointer to the current thread's logging context slot from Thread
// Local Storage (TLS). The specific slot is determined by an index stored within
// the TLS data block.
int *getThreadLogContextSlot()
{
  unsigned __int64 *v0; // rax
  unsigned __int64 *v1; // rcx
  unsigned __int64 n0xF; // rax

  v0 = sub_1404B5860();
  v1 = v0;
  if ( !v0 )
    return &qword_149A09EF0;
  n0xF = *v0;
  if ( n0xF > 0xF )
    n0xF = 0xF;
  return (int *)&v1[0x16 * n0xF + 1];
}

// --- End Function: getThreadLogContextSlot (0x1404BF640) ---

// --- Function: sub_140524420 (0x140524420) ---
__int64 __fastcall sub_140524420(__int64 a1)
{
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149A14210 + 0x220LL))(qword_149A14210, a1);
  return 0;
}

// --- End Function: sub_140524420 (0x140524420) ---

// --- Function: sub_140524440 (0x140524440) ---
__int64 __fastcall sub_140524440(__int64 a1)
{
  return (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)qword_149A14210 + 0x228LL))(qword_149A14210, a1);
}

// --- End Function: sub_140524440 (0x140524440) ---

// --- Function: sub_14056E1D0 (0x14056E1D0) ---
__m128 sub_14056E1D0()
{
  __int128 v0; // kr00_16

  v0 = 0;
  *(float *)&v0 = (float)(unsigned int)sub_14056E470(qword_1497F35B0);
  *(float *)&v0 = *(float *)&v0 * 2.3283064e-10;
  return (__m128)v0;
}

// --- End Function: sub_14056E1D0 (0x14056E1D0) ---

// --- Function: LogFatalError (0x1405C2190) ---
// // Logs a fatal error message. // This function first ensures that the fatal
// error handling system is initialized. // If critical global environment pointers
// (gEnv or qword_149B4FCA0) are uninitialized // when a fatal error occurs, it
// triggers a debug break and halts execution. // Otherwise, it formats the
// provided message and dispatches it to the registered // fatal error logging
// handler. // // Parameters: //   format: A printf-style format string for the
// error message. //   ...: Variadic arguments corresponding to the format string.
// // // Returns: //   The result of the underlying logging function, or may not
// return if a debug break is triggered.
_BYTE *LogFatalError(const char *Format, ...)
{
  __int64 (*v1)(void); // rax
  FARPROC ModuleFunction; // rax
  _BYTE *result; // rax
  __int64 *v4; // rax
  int n0x1000; // eax
  char Buffer[4096]; // [rsp+30h] [rbp-1018h] BYREF
  va_list va; // [rsp+1058h] [rbp+10h] BYREF

  va_start(va, Format);
  v1 = (__int64 (*)(void))qword_149A14170;
  if ( !qword_149A14170 )
  {
    ModuleFunction = getModuleFunction(0, "__InitFatalFunctions__", 0);
    ((void (__fastcall *)(__int64 *))ModuleFunction)(&qword_149A14170);
    v1 = (__int64 (*)(void))qword_149A14170;
  }
  result = (_BYTE *)v1();
  if ( !*result )
  {
    if ( !qword_149A143C8 || !qword_149A142B0 )
    {
      __debugbreak();
      while ( 1 )
        ;
    }
    v4 = sub_1402A6A10();
    n0x1000 = _stdio_common_vsprintf(*v4 | 2, Buffer, 0x1000u, Format, 0, va);
    if ( n0x1000 < 0 )
      n0x1000 = 0xFFFFFFFF;
    if ( (unsigned int)n0x1000 >= 0x1000 )
      Buffer[0xFFF] = 0;
    return (_BYTE *)(*(__int64 (__fastcall **)(__int64, const wchar_t *, char *))(*(_QWORD *)qword_149A142B0 + 0x118LL))(
                      qword_149A142B0,
                      &format_string_,
                      Buffer);
  }
  return result;
}

// --- End Function: LogFatalError (0x1405C2190) ---

// --- Function: sub_140601970 (0x140601970) ---
unsigned __int64 __fastcall sub_140601970(
        __int64 a1,
        unsigned __int64 a2,
        int a3,
        int *a4,
        unsigned __int64 n4,
        unsigned __int8 a6)
{
  __int64 v6; // rax
  unsigned __int64 v10; // rbx
  unsigned __int64 v11; // rax
  unsigned __int64 v12; // r10
  __int64 v13; // r8
  unsigned __int64 v14; // r9
  _DWORD *v15; // rdx
  unsigned __int64 v16; // rcx
  _DWORD *v17; // rdx
  unsigned __int64 v18; // r10
  __int64 v19; // r8
  unsigned __int64 v20; // r9
  _DWORD *v21; // rdx
  _DWORD *v22; // rdx
  unsigned __int64 v23; // rcx
  unsigned __int64 n4_1; // rdx
  __int64 n8; // r8
  __int64 v26; // rdi
  unsigned __int64 n8_1; // rcx
  unsigned __int64 v29; // [rsp+48h] [rbp+10h] BYREF

  v6 = *a4;
  if ( (_DWORD)v6 )
  {
    v29 = 4 * v6;
    v10 = sub_1403343D0(a1, 0, &v29, n4, a6);
    v11 = v29 >> 2;
    *a4 = v29 >> 2;
  }
  else
  {
    v10 = 0;
    LODWORD(v11) = 0;
  }
  if ( a2 )
  {
    if ( v10 )
    {
      if ( a3 < (int)v11 )
        LODWORD(v11) = a3;
      if ( a2 != v10 )
      {
        if ( a2 > v10 || a2 + 4LL * (int)v11 <= v10 )
        {
          v18 = 0;
          if ( (unsigned __int64)(int)v11 >= 4 )
          {
            v19 = a2 - v10;
            v20 = ((unsigned __int64)((int)v11 - 4LL) >> 2) + 1;
            v21 = (_DWORD *)(v10 + 4);
            v18 = 4 * v20;
            do
            {
              v21[0xFFFFFFFF] = *(_DWORD *)((char *)v21 + v19 - 4);
              *v21 = *(_DWORD *)((char *)v21 + v19);
              v21[1] = *(_DWORD *)((char *)v21 + v19 + 4);
              v21[2] = *(_DWORD *)((char *)v21 + v19 + 8);
              v21 += 4;
              --v20;
            }
            while ( v20 );
          }
          if ( v18 < (int)v11 )
          {
            v22 = (_DWORD *)(v10 + 4 * v18);
            v23 = (int)v11 - v18;
            do
            {
              *v22 = *(_DWORD *)((char *)v22 + a2 - v10);
              ++v22;
              --v23;
            }
            while ( v23 );
          }
        }
        else
        {
          v12 = 0;
          if ( (unsigned __int64)(int)v11 >= 4 )
          {
            v13 = a2 - v10;
            v14 = ((unsigned __int64)((int)v11 - 4LL) >> 2) + 1;
            v15 = (_DWORD *)(v10 + 4 * ((int)v11 - 1LL));
            v12 = 4 * v14;
            do
            {
              *v15 = *(_DWORD *)((char *)v15 + v13);
              v15[0xFFFFFFFF] = *(_DWORD *)((char *)v15 + v13 - 4);
              v15[0xFFFFFFFE] = *(_DWORD *)((char *)v15 + v13 - 8);
              v15[0xFFFFFFFD] = *(_DWORD *)((char *)v15 + v13 - 0xC);
              v15 += 0xFFFFFFFC;
              --v14;
            }
            while ( v14 );
          }
          if ( v12 < (int)v11 )
          {
            v16 = (int)v11 - v12;
            v17 = (_DWORD *)(v10 + 4 * (v16 - 1));
            do
            {
              *v17 = *(_DWORD *)((char *)v17 + a2 - v10);
              v17 += 0xFFFFFFFF;
              --v16;
            }
            while ( v16 );
          }
        }
      }
    }
    n4_1 = 4;
    v29 = 0;
    n8 = 8;
    if ( n4 > 4 )
      n4_1 = n4;
    v26 = a2 - ((n4_1 + 3) & ~(n4_1 - 1));
    n8_1 = 8;
    if ( n4_1 > 8 )
      n8_1 = n4_1;
    if ( v26 )
    {
      if ( n8_1 > 8 )
        n8 = n8_1;
      (*(void (__fastcall **)(__int64, unsigned __int64 *, __int64, _QWORD))(v26 - 8))(
        v26 - ((n8 + 7) & ~(n8 - 1)),
        &v29,
        n8,
        0);
    }
  }
  return v10;
}

// --- End Function: sub_140601970 (0x140601970) ---

// --- Function: sub_1407E76D0 (0x1407E76D0) ---
unsigned __int64 __fastcall sub_1407E76D0(unsigned __int64 *a1, int a2, unsigned __int8 a3)
{
  unsigned __int64 v3; // r10
  int v6; // ecx
  int v7; // eax
  unsigned __int64 v8; // r9
  unsigned __int64 v9; // rdx
  int v10; // eax
  unsigned __int64 v11; // rax
  unsigned __int64 result; // rax
  __int64 v13; // rdx
  int v14; // [rsp+50h] [rbp+18h] BYREF

  v3 = *a1;
  v6 = *(_DWORD *)(*a1 - 4);
  v7 = 4 * v6;
  if ( v6 >= 0 )
    v8 = (unsigned __int64)v7 >> 2;
  else
    LODWORD(v8) = *(_DWORD *)(v7 + v3);
  v9 = 0;
  v10 = 0;
  if ( a3 )
    LOBYTE(v10) = a2 > (int)v8;
  else
    LOBYTE(v10) = a2 != (_DWORD)v8;
  if ( v10 )
  {
    v14 = a2;
    if ( v6 )
      v9 = v3;
    v11 = sub_140601970((__int64)a1, v9, v6 & 0x7FFFFFFF, &v14, 4u, a3);
    *a1 = v11;
    v3 = v11;
    if ( !v11 )
    {
      result = (unsigned __int64)&byte_1499FF307 & 0xFFFFFFFFFFFFFFFCuLL;
      *a1 = (unsigned __int64)&byte_1499FF307 & 0xFFFFFFFFFFFFFFFCuLL;
      return result;
    }
    LODWORD(v8) = v14;
  }
  v13 = 4 * a2;
  *(_DWORD *)(v3 - 4) = a2;
  result = v13 + 4;
  if ( 4LL * (int)v8 >= (unsigned __int64)(v13 + 4) )
  {
    *(_DWORD *)(v3 - 4) = a2 | 0x80000000;
    *(_DWORD *)(v13 + v3) = v8;
  }
  return result;
}

// --- End Function: sub_1407E76D0 (0x1407E76D0) ---

// --- Function: swprintf_2 (0x140896A30) ---
int swprintf_2(wchar_t *Buffer, size_t Count, const wchar_t *Format, ...)
{
  __int64 *v6; // rax
  int result; // eax
  va_list va; // [rsp+78h] [rbp+20h] BYREF

  va_start(va, Format);
  v6 = sub_1402A6A10();
  result = _stdio_common_vsprintf(*v6 | 1, (char *)Buffer, Count, (const char *)Format, 0, va);
  if ( result < 0 )
    return 0xFFFFFFFF;
  return result;
}

// --- End Function: swprintf_2 (0x140896A30) ---

// --- Function: sub_1408F9890 (0x1408F9890) ---
__int64 __fastcall sub_1408F9890(__int64 *a1, float a2)
{
  float v3; // xmm6_4
  __int64 v4; // rdx
  __int64 v5; // rcx
  bool v6; // zf
  __int64 result; // rax
  float i; // [rsp+58h] [rbp+10h] BYREF

  v3 = 0.0;
  if ( a2 > 0.0 )
  {
    v4 = *a1;
    v5 = *(unsigned int *)(*a1 - 4);
    if ( (v5 & 0x7FFFFFFF) != 0 )
    {
      LODWORD(v5) = v5 & 0x7FFFFFFF;
      v3 = *(float *)(v4 + 4 * v5 - 4);
    }
    v6 = *((_DWORD *)a1 + 2) == 0;
    for ( i = v3; !v6; --*((_DWORD *)a1 + 2) )
    {
      sub_140931AD0(a1, 1, &i);
      v6 = *((_DWORD *)a1 + 2) == 1;
    }
    i = v3 + a2;
    return sub_140931AD0(a1, 1, &i);
  }
  else
  {
    ++*((_DWORD *)a1 + 2);
  }
  return result;
}

// --- End Function: sub_1408F9890 (0x1408F9890) ---

// --- Function: sub_14132ED70 (0x14132ED70) ---
char __fastcall sub_14132ED70(__int64 a1, unsigned __int64 a2)
{
  __int64 v4; // rdi
  int v5; // ebp
  __int64 v6; // rax
  int n8; // r9d
  char *v8; // rdx
  __int64 n8_1; // r8
  int n8_2; // ecx
  char *v11; // rax
  char v12; // bl
  int v13; // ecx
  char result; // al
  unsigned __int64 n0x200000_1; // rax
  int v16; // eax
  unsigned __int64 n0x200000; // rax

  if ( !a2 || *(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 8) != HIWORD(a2) )
    return 0;
  v4 = a1 + 0x50;
  v5 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
  if ( *(_DWORD *)(v4 + 8) == v5 )
  {
    ++*(_DWORD *)(v4 + 0xC);
  }
  else
  {
    v6 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0x200000, 0);
    if ( v6 )
      sub_1403DE750(v4, v6, 0, (__int64)&Source, (__int64)&Source, 0);
    *(_DWORD *)(v4 + 8) = v5;
  }
  n8 = *(_DWORD *)(a1 + 0x4C);
  if ( n8 <= 8 )
    v8 = (char *)a1;
  else
    v8 = *(char **)(a1 + 0x40);
  n8_1 = *(int *)(a1 + 0x48);
  if ( (int)n8_1 < n8 )
  {
    n8_2 = 0;
    if ( (int)n8_1 <= 0 )
    {
LABEL_16:
      *(_QWORD *)&v8[8 * n8_1] = a2;
      v12 = 1;
      ++*(_DWORD *)(a1 + 0x48);
    }
    else
    {
      v11 = v8;
      while ( *(_QWORD *)v11 != a2 )
      {
        ++n8_2;
        v11 += 8;
        if ( n8_2 >= (int)n8_1 )
          goto LABEL_16;
      }
      v12 = 0;
    }
    goto LABEL_20;
  }
  if ( !(unsigned __int8)sub_1404A1180((char *)a1, v8, n8_1, n8 + 0x10) )
  {
    if ( v4 )
    {
      v16 = *(_DWORD *)(v4 + 0xC);
      if ( v16 )
      {
        *(_DWORD *)(v4 + 0xC) = v16 - 1;
      }
      else
      {
        *(_DWORD *)(v4 + 8) = 0xFFFFFFFF;
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)v4, n0x200000);
      }
    }
    return 0;
  }
  v12 = sub_14132ED70(a1);
LABEL_20:
  if ( v4 )
  {
    v13 = *(_DWORD *)(v4 + 0xC);
    if ( v13 )
    {
      result = v12;
      *(_DWORD *)(v4 + 0xC) = v13 - 1;
      return result;
    }
    *(_DWORD *)(v4 + 8) = 0xFFFFFFFF;
    n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)v4, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0((volatile signed __int64 *)v4, n0x200000_1);
  }
  return v12;
}

// --- End Function: sub_14132ED70 (0x14132ED70) ---

// --- Function: sub_141A94B90 (0x141A94B90) ---
__int64 __fastcall sub_141A94B90(__int64 a1)
{
  return *(_QWORD *)(a1 + 0x2C0);
}

// --- End Function: sub_141A94B90 (0x141A94B90) ---

// --- Function: sub_1421247E0 (0x1421247E0) ---
__int64 __fastcall sub_1421247E0(__int64 a1, __int64 a2, unsigned __int8 *a3)
{
  __int64 *v5; // r15
  __int64 v6; // rax
  __int64 v7; // rcx
  __int64 *v8; // rbx
  __int64 *v9; // rbp
  __int64 *v10; // rcx
  __int64 **v12; // r13
  _QWORD *v13; // r12
  __int64 v14; // rdi
  __int64 v15; // rcx
  float v16; // xmm1_4
  float v17; // kr00_4
  unsigned __int64 n8_2; // rdx
  float v19; // xmm0_4
  float v20; // kr00_4
  unsigned __int64 v23; // rcx
  unsigned __int64 n8_1; // rax
  unsigned __int64 n8; // rcx
  unsigned __int64 v26; // r8
  __int64 v27; // rdx
  __int64 *v28; // rax
  __int64 *v29; // rdx
  int v30; // ecx
  __int64 *v31; // rdx
  __int64 v32; // rcx
  __int64 v33; // rax
  __int64 *v34; // r8
  unsigned __int64 v35; // [rsp+70h] [rbp+8h]

  v5 = *(__int64 **)(a1 + 8);
  v6 = *(_QWORD *)(a1 + 0x18);
  v35 = 0x100000001B3LL
      * (a3[3]
       ^ (0x100000001B3LL * (a3[2] ^ (0x100000001B3LL * (a3[1] ^ (0x100000001B3LL * (*a3 ^ 0xCBF29CE484222325uLL)))))));
  v7 = 2 * (v35 & *(_QWORD *)(a1 + 0x30));
  v8 = *(__int64 **)(v6 + 8 * v7 + 8);
  if ( v8 == v5 )
  {
    v8 = v5;
    v9 = v5;
  }
  else
  {
    v10 = *(__int64 **)(v6 + 8 * v7);
    if ( *(_DWORD *)a3 == *((_DWORD *)v8 + 4) )
    {
LABEL_6:
      *(_QWORD *)a2 = v8;
      *(_BYTE *)(a2 + 8) = 0;
      return a2;
    }
    while ( v8 != v10 )
    {
      v8 = (__int64 *)v8[1];
      if ( *(_DWORD *)a3 == *((_DWORD *)v8 + 4) )
        goto LABEL_6;
    }
    v5 = v8;
    v9 = v8;
  }
  v12 = (__int64 **)(a1 + 8);
  v13 = (_QWORD *)(a1 + 0x30);
  if ( *(_QWORD *)(a1 + 0x10) == 0xAAAAAAAAAAAAAAALL )
    std::_Xlength_error("unordered_map/set too long");
  v14 = sub_1402A63D0(0x18u);
  *(_DWORD *)(v14 + 0x10) = *(_DWORD *)a3;
  v15 = *(_QWORD *)(a1 + 0x10) + 1LL;
  if ( v15 < 0 )
  {
    v17 = (float)(v15 & 1 | ((unsigned __int64)v15 >> 1));
    v16 = v17 + v17;
  }
  else
  {
    v16 = (float)v15;
  }
  n8_2 = *(_QWORD *)(a1 + 0x38);
  if ( (n8_2 & 0x8000000000000000uLL) != 0LL )
  {
    v20 = (float)(*(_QWORD *)(a1 + 0x38) & 1LL | (n8_2 >> 1));
    v19 = v20 + v20;
  }
  else
  {
    v19 = (float)(__int64)n8_2;
  }
  if ( *(float *)a1 >= (float)(v16 / v19) )
  {
    v26 = v35;
  }
  else
  {
    _XMM1 = 0;
    __asm { vroundss xmm1, xmm1, xmm0, 2 }
    v23 = 0;
    if ( *(float *)&_XMM1 >= 9.223372e18 )
    {
      *(float *)&_XMM1 = *(float *)&_XMM1 - 9.223372e18;
      if ( *(float *)&_XMM1 < 9.223372e18 )
        v23 = 0x8000000000000000uLL;
    }
    n8_1 = v23 + (unsigned int)(int)*(float *)&_XMM1;
    n8 = 8;
    if ( n8_1 > 8 )
      n8 = n8_1;
    if ( n8_2 < n8 )
    {
      if ( n8_2 >= 0x200 || (n8_2 *= 8LL, n8_2 < n8) )
        n8_2 = n8;
    }
    std::_Hash<std::_Umap_traits<int,vraudio::GainMixer::GainProcessors,std::_Uhash_compare<int,std::hash<int>,std::equal_to<int>>,std::allocator<std::pair<int const,vraudio::GainMixer::GainProcessors>>,0>>::_Forced_rehash(
      (std::_Hash<std::_Umap_traits<int,vraudio::GainMixer::GainProcessors,std::_Uhash_compare<int,std::hash<int>,std::equal_to<int> >,std::allocator<std::pair<int const ,vraudio::GainMixer::GainProcessors> >,0> > *)a1,
      n8_2);
    v26 = v35;
    v27 = *(_QWORD *)(a1 + 0x18);
    v8 = *(__int64 **)(a1 + 8);
    v28 = *(__int64 **)(v27 + 0x10 * (v35 & *(_QWORD *)(a1 + 0x30)) + 8);
    if ( v28 != v8 )
    {
      v29 = *(__int64 **)(v27 + 0x10 * (v35 & *(_QWORD *)(a1 + 0x30)));
      v30 = *(_DWORD *)(v14 + 0x10);
      if ( v30 != *((_DWORD *)v28 + 4) )
      {
        while ( 1 )
        {
          v8 = v28;
          if ( v28 == v29 )
            break;
          v28 = (__int64 *)v28[1];
          if ( v30 == *((_DWORD *)v28 + 4) )
            goto LABEL_30;
        }
        v13 = (_QWORD *)(a1 + 0x30);
        v12 = (__int64 **)(a1 + 8);
        v9 = v28;
        v5 = v28;
        goto LABEL_34;
      }
LABEL_30:
      v8 = (__int64 *)*v28;
    }
    v13 = (_QWORD *)(a1 + 0x30);
    v9 = v8;
    v12 = (__int64 **)(a1 + 8);
    v5 = v8;
  }
LABEL_34:
  v31 = (__int64 *)v8[1];
  ++*(_QWORD *)(a1 + 0x10);
  *(_QWORD *)v14 = v5;
  *(_QWORD *)(v14 + 8) = v31;
  *v31 = v14;
  v8[1] = v14;
  v32 = *(_QWORD *)(a1 + 0x18);
  v33 = 2 * (v26 & *v13);
  v34 = *(__int64 **)(v32 + 0x10 * (v26 & *v13));
  if ( v34 == *v12 )
  {
    *(_QWORD *)(v32 + 8 * v33) = v14;
    goto LABEL_39;
  }
  if ( v34 != v9 )
  {
    if ( *(__int64 **)(v32 + 8 * v33 + 8) != v31 )
    {
LABEL_40:
      *(_QWORD *)a2 = v14;
      *(_BYTE *)(a2 + 8) = 1;
      return a2;
    }
LABEL_39:
    *(_QWORD *)(v32 + 8 * v33 + 8) = v14;
    goto LABEL_40;
  }
  *(_QWORD *)(v32 + 8 * v33) = v14;
  *(_QWORD *)a2 = v14;
  *(_BYTE *)(a2 + 8) = 1;
  return a2;
}

// --- End Function: sub_1421247E0 (0x1421247E0) ---

// --- Function: sub_142138C80 (0x142138C80) ---
__int64 __fastcall sub_142138C80(__int64 a1)
{
  __int64 result; // rax

  *(_DWORD *)a1 = 4;
  *(_QWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 0xB8) = 0;
  result = a1;
  *(_DWORD *)(a1 + 0x78) = 2;
  *(_DWORD *)(a1 + 4) = 0x80000000;
  *(_DWORD *)(a1 + 0x14) = 0xFFF7FFFF;
  *(_DWORD *)(a1 + 0x2C) = 0xFFF7FFFF;
  *(_DWORD *)(a1 + 0x40) = 0x80000000;
  *(_DWORD *)(a1 + 0x44) = 0x80000000;
  *(_DWORD *)(a1 + 0x54) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x64) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x68) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x70) = 0xFFBFFFFF;
  *(_QWORD *)(a1 + 0xB0) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(a1 + 0x7C) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x80) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x84) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x88) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x90) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x9C) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xA8) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xAC) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x8C) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xBC) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xC8) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xD4) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xE0) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0xEC) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x104) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x108) = 0xFFBFFFFF;
  *(_DWORD *)(a1 + 0x114) = 0xFFBFFFFF;
  return result;
}

// --- End Function: sub_142138C80 (0x142138C80) ---

// --- Function: sub_142515FC0 (0x142515FC0) ---
unsigned __int64 __fastcall sub_142515FC0(__int128 *p_ptr_to_free, unsigned __int64 n2)
{
  __int64 v2; // r8
  __int64 ptr_to_free; // rbx
  unsigned __int64 result; // rax
  unsigned __int64 n2_1; // r11
  __int64 v7; // rcx
  unsigned __int64 v8; // r9

  v2 = *((_QWORD *)p_ptr_to_free + 1);
  ptr_to_free = *(_QWORD *)p_ptr_to_free;
  result = (unsigned __int64)((unsigned __int128)((v2 - *(_QWORD *)p_ptr_to_free) * (__int128)0x2AAAAAAAAAAAAAABLL) >> 0x40) >> 0x3F;
  n2_1 = (v2 - *(_QWORD *)p_ptr_to_free) / 0x18;
  if ( n2 >= n2_1 )
  {
    if ( n2 > n2_1 )
    {
      v7 = *((_QWORD *)p_ptr_to_free + 2) - ptr_to_free;
      result = (unsigned __int64)((unsigned __int128)(v7 * (__int128)0x2AAAAAAAAAAAAAABLL) >> 0x40) >> 0x3F;
      if ( n2 <= v7 / 0x18 )
      {
        v8 = n2 - n2_1;
        if ( n2 != n2_1 )
        {
          result = 3 * v8;
          v2 += 0x18 * v8;
        }
        *((_QWORD *)p_ptr_to_free + 1) = v2;
      }
      else
      {
        return (unsigned __int64)std::vector<gte::Vector<3,double>>::_Resize_reallocate<std::_Value_init_tag>(
                                   p_ptr_to_free,
                                   n2);
      }
    }
  }
  else
  {
    result = 3 * n2;
    *((_QWORD *)p_ptr_to_free + 1) = ptr_to_free + 0x18 * n2;
  }
  return result;
}

// --- End Function: sub_142515FC0 (0x142515FC0) ---

// --- Function: sub_14310A420 (0x14310A420) ---
float sub_14310A420()
{
  return 1000.0;
}

// --- End Function: sub_14310A420 (0x14310A420) ---

// --- Function: sub_1465AEDF0 (0x1465AEDF0) ---
_QWORD *__fastcall sub_1465AEDF0(_QWORD *a1)
{
  _QWORD *v2; // rax
  char *v3; // rdx
  __int64 n0x3E9; // r9

  v2 = (_QWORD *)sub_1402A63D0(0x3EB0u);
  if ( v2 )
  {
    v3 = (char *)v2 + 0xC;
    n0x3E9 = 0x3E9;
    do
    {
      *(_QWORD *)(v3 + 0xFFFFFFF4) = 0;
      *(_QWORD *)(v3 + 0xFFFFFFFC) = 0;
      v3 += 0x10;
      --n0x3E9;
    }
    while ( n0x3E9 );
    v2[0x7D2] = 0;
    v2[0x7D3] = 0;
    v2[0x7D4] = 0;
    v2[0x7D5] = 0;
  }
  else
  {
    v2 = 0;
  }
  *a1 = v2;
  a1[4] = 0x200;
  a1[2] = allocWithProfilerInfo(0x3000u, 0);
  a1[5] = 0x200;
  a1[3] = allocWithProfilerInfo(0x3000u, 0);
  a1[8] = 0x200;
  a1[6] = allocWithProfilerInfo(0x6000u, 0);
  a1[9] = 0x200;
  a1[7] = allocWithProfilerInfo(0x6000u, 0);
  a1[0xB] = 0x200;
  a1[0xA] = allocWithProfilerInfo(0x800u, 0);
  a1[0xD] = 0x200;
  a1[0xC] = allocWithProfilerInfo(0x1B000u, 0);
  return a1;
}

// --- End Function: sub_1465AEDF0 (0x1465AEDF0) ---

// --- Function: sub_1465AF6A0 (0x1465AF6A0) ---
__int64 __fastcall sub_1465AF6A0(__int64 a1)
{
  __int64 result; // rax

  *(_QWORD *)(a1 + 0x7000) = 0;
  result = a1;
  *(_BYTE *)(a1 + 0x7008) = 0;
  return result;
}

// --- End Function: sub_1465AF6A0 (0x1465AF6A0) ---

// --- Function: sub_1465B1390 (0x1465B1390) ---
__int64 *__fastcall sub_1465B1390(__int64 *a1)
{
  unsigned __int64 allocSize; // rax
  _QWORD v4[3]; // [rsp+20h] [rbp-18h] BYREF
  __int64 v5; // [rsp+40h] [rbp+8h] BYREF
  char v6; // [rsp+48h] [rbp+10h] BYREF

  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  v5 = 0;
  v4[0] = &v5;
  v4[1] = &v6;
  allocSize = sub_14056EEB0((__int64)v4);
  a1[1] = allocSize;
  *a1 = allocWithProfilerInfo(allocSize, (struct _exception *)0x40);
  return a1;
}

// --- End Function: sub_1465B1390 (0x1465B1390) ---

// --- Function: sub_1465BB560 (0x1465BB560) ---
ULONG_PTR __fastcall sub_1465BB560(ULONG_PTR Parameter, char a2)
{
  sub_146771930();
  if ( (a2 & 1) != 0 )
  {
    if ( (a2 & 4) == 0 )
    {
      __debugbreak();
      return Parameter;
    }
    _StarEngineModule__(Parameter);
  }
  return Parameter;
}

// --- End Function: sub_1465BB560 (0x1465BB560) ---

// --- Function: sub_1465C09F0 (0x1465C09F0) ---
__int64 __fastcall sub_1465C09F0(__int64 a1, double *a2, double *a3, unsigned __int8 a4, int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  unsigned int v15; // esi
  int v19; // edi
  __int128 v23; // xmm0
  __int128 v26; // kr00_16
  int v28; // r13d
  __int64 v30; // rbx
  __int64 v31; // rdi
  double v32; // xmm8_8
  double v33; // xmm10_8
  double v34; // kr00_8
  double v36; // xmm13_8
  double v38; // xmm12_8
  double v39; // xmm11_8
  double v40; // xmm4_8
  double v41; // xmm6_8
  double v42; // xmm10_8
  double v43; // xmm8_8
  double v44; // xmm7_8
  double v45; // xmm5_8
  double v46; // xmm4_8
  double v47; // xmm9_8
  double v48; // xmm3_8
  double v49; // xmm6_8
  double v50; // xmm5_8
  float v51; // xmm2_4
  int n0xF; // eax
  __int64 v53; // rcx
  __m128 v81; // kr00_16
  float v83; // xmm1_4
  __int128 v85; // kr00_16
  float v86; // xmm1_4
  double v88; // xmm1_8
  __int128 v89; // xmm0
  double v90; // xmm1_8
  double v94; // xmm2_8
  __int64 v96; // rax
  __int64 v98; // rcx
  __int128 v105; // kr00_16
  __int128 v107; // kr00_16
  __int128 v109; // kr00_16
  int v121; // eax
  __int64 v124; // rdx
  __int64 v129; // r13
  __int64 v130; // rdi
  __int64 v131; // rbx
  __int64 v132; // rcx
  float v133; // xmm2_4
  float v134; // xmm1_4
  float v135; // xmm7_4
  float v136; // xmm3_4
  float v137; // xmm1_4
  float v138; // xmm5_4
  float v139; // xmm13_4
  float v140; // xmm11_4
  float v141; // xmm9_4
  float v142; // xmm6_4
  float v143; // xmm12_4
  float v144; // xmm10_4
  float v145; // xmm1_4
  float v146; // xmm7_4
  __int64 v147; // rax
  __int64 v148; // rcx
  float v149; // xmm15_4
  float v150; // xmm14_4
  __int128 v157; // xmm1
  __int128 v158; // kr00_16
  __int128 v159; // xmm0
  __int128 v160; // kr00_16
  __int128 v162; // kr00_16
  __int128 v164; // kr00_16
  __int128 v165; // kr00_16
  int v177; // eax
  __int64 v180; // rdx
  double v185; // rcx
  __int64 v186; // r13
  __int64 v187; // rbx
  __int64 v188; // rax
  __int64 v189; // rdx
  double v190; // xmm13_8
  double v191; // xmm12_8
  double v192; // xmm4_8
  double v193; // xmm7_8
  double v194; // xmm8_8
  double v195; // xmm10_8
  __int128 v196; // xmm9
  __int128 v197; // xmm5
  __int128 v198; // xmm4
  unsigned __int64 v199; // kr00_8
  double v200; // xmm1_8
  __int128 v201; // xmm2
  __int128 v202; // kr00_16
  __int128 v203; // xmm3
  double v204; // xmm0_8
  __int128 v205; // xmm8
  __int128 v206; // xmm6
  double v207; // xmm0_8
  double v208; // xmm10_8
  __int128 v209; // xmm7
  double v212; // xmm12_8
  double v215; // xmm13_8
  double v218; // xmm11_8
  __int128 v219; // xmm5
  __int128 v220; // xmm4
  __int128 v222; // xmm3
  __int64 v228; // rdx
  __int64 v229; // rcx
  __int128 v236; // xmm1
  __int128 v237; // kr00_16
  __int128 v238; // xmm0
  __int128 v239; // kr00_16
  __int128 v241; // kr00_16
  __int128 v243; // kr00_16
  __int128 v244; // kr00_16
  __int64 v258; // rdx
  __int64 v263; // r13
  float *v264; // rbx
  __int64 v265; // rax
  double v266; // r14
  float *v267; // rdi
  double v268; // xmm10_8
  double v269; // xmm9_8
  double v270; // xmm14_8
  double v271; // xmm13_8
  double v272; // xmm12_8
  double v273; // kr00_8
  double v274; // xmm7_8
  double v275; // xmm6_8
  double v276; // xmm4_8
  double v277; // xmm5_8
  double v278; // xmm4_8
  double v279; // xmm8_8
  double v280; // xmm3_8
  double v281; // xmm2_8
  double v282; // xmm10_8
  double v283; // xmm0_8
  double v284; // xmm9_8
  double v285; // xmm7_8
  double v286; // xmm6_8
  double v287; // xmm4_8
  double v288; // kr00_8
  __int64 v289; // rcx
  double v291; // [rsp+48h] [rbp-C0h] BYREF
  float v292; // [rsp+50h] [rbp-B8h]
  float v293; // [rsp+58h] [rbp-B0h]
  float v294; // [rsp+5Ch] [rbp-ACh]
  float v295; // [rsp+60h] [rbp-A8h] BYREF
  float v296; // [rsp+64h] [rbp-A4h]
  float v297; // [rsp+68h] [rbp-A0h]
  float v298; // [rsp+6Ch] [rbp-9Ch]
  float v299; // [rsp+70h] [rbp-98h]
  float v300; // [rsp+74h] [rbp-94h] BYREF
  float v301; // [rsp+78h] [rbp-90h]
  float v302; // [rsp+7Ch] [rbp-8Ch] BYREF
  __int64 v303; // [rsp+80h] [rbp-88h] BYREF
  float v304; // [rsp+88h] [rbp-80h]
  float v305; // [rsp+90h] [rbp-78h] BYREF
  float v306; // [rsp+94h] [rbp-74h]
  float v307; // [rsp+98h] [rbp-70h]
  double v308; // [rsp+A0h] [rbp-68h] BYREF
  double v309; // [rsp+A8h] [rbp-60h]
  double v310; // [rsp+B0h] [rbp-58h]
  unsigned __int8 *v311; // [rsp+B8h] [rbp-50h]
  __int64 v312; // [rsp+C0h] [rbp-48h] BYREF
  double v313; // [rsp+C8h] [rbp-40h] BYREF
  double v314; // [rsp+D0h] [rbp-38h]
  double v315; // [rsp+D8h] [rbp-30h]
  float *v316; // [rsp+E0h] [rbp-28h]
  double *v317; // [rsp+E8h] [rbp-20h]
  __int64 *v318; // [rsp+F0h] [rbp-18h]
  int *v319; // [rsp+F8h] [rbp-10h]
  float v320[4]; // [rsp+100h] [rbp-8h] BYREF
  float v321[6]; // [rsp+110h] [rbp+8h] BYREF
  __int128 v322; // [rsp+128h] [rbp+20h] BYREF
  double v323; // [rsp+138h] [rbp+30h]
  float v324; // [rsp+140h] [rbp+38h]
  float v325; // [rsp+144h] [rbp+3Ch]
  __int128 v326; // [rsp+148h] [rbp+40h]
  float v327; // [rsp+158h] [rbp+50h]
  float v328; // [rsp+15Ch] [rbp+54h]
  float v329; // [rsp+160h] [rbp+58h]
  float v330; // [rsp+164h] [rbp+5Ch]
  __int128 v331; // [rsp+168h] [rbp+60h]
  float v332; // [rsp+178h] [rbp+70h]
  float v333; // [rsp+17Ch] [rbp+74h]
  double v334; // [rsp+180h] [rbp+78h]
  int v336; // [rsp+198h] [rbp+90h]
  int v337; // [rsp+1A8h] [rbp+A0h] BYREF
  float v338; // [rsp+1B4h] [rbp+ACh]
  float v339; // [rsp+1B8h] [rbp+B0h]
  float v340; // [rsp+1BCh] [rbp+B4h]
  int v341; // [rsp+1D0h] [rbp+C8h] BYREF
  float v342; // [rsp+1DCh] [rbp+D4h]
  float v343; // [rsp+1E0h] [rbp+D8h]
  float v344; // [rsp+1E4h] [rbp+DCh]
  int v345; // [rsp+1F8h] [rbp+F0h] BYREF
  float v346; // [rsp+204h] [rbp+FCh]
  float v347; // [rsp+208h] [rbp+100h]
  float v348; // [rsp+20Ch] [rbp+104h]
  int n0x2800; // [rsp+228h] [rbp+120h] BYREF
  __int64 v350; // [rsp+22Ch] [rbp+124h]
  int v351; // [rsp+234h] [rbp+12Ch]
  __int64 v352; // [rsp+238h] [rbp+130h]
  unsigned __int64 v353; // [rsp+240h] [rbp+138h]
  __int64 v354; // [rsp+248h] [rbp+140h]
  __int64 v355; // [rsp+250h] [rbp+148h]
  double v356[4]; // [rsp+278h] [rbp+170h] BYREF
  _QWORD v357[2]; // [rsp+298h] [rbp+190h] BYREF
  float v358; // [rsp+2A8h] [rbp+1A0h]
  int v359; // [rsp+2ACh] [rbp+1A4h]
  __int128 v360; // [rsp+2C8h] [rbp+1C0h] BYREF
  double v361; // [rsp+2D8h] [rbp+1D0h]
  float v362; // [rsp+2E0h] [rbp+1D8h]
  float v363; // [rsp+2E4h] [rbp+1DCh]
  float v364; // [rsp+2E8h] [rbp+1E0h]
  double v365; // [rsp+2F0h] [rbp+1E8h]
  float v366; // [rsp+2F8h] [rbp+1F0h]
  __int64 (__fastcall **v367)(); // [rsp+300h] [rbp+1F8h]
  _QWORD *v368; // [rsp+308h] [rbp+200h]
  __int128 *v369; // [rsp+310h] [rbp+208h]
  __int128 v370; // [rsp+318h] [rbp+210h] BYREF
  double v371; // [rsp+328h] [rbp+220h]
  float v372; // [rsp+330h] [rbp+228h]
  float v373; // [rsp+334h] [rbp+22Ch]
  __int128 v374; // [rsp+338h] [rbp+230h]
  float v375; // [rsp+348h] [rbp+240h]
  float v376; // [rsp+34Ch] [rbp+244h]
  float v377; // [rsp+350h] [rbp+248h]
  float v378; // [rsp+354h] [rbp+24Ch]
  __int128 v379; // [rsp+358h] [rbp+250h]
  float v380; // [rsp+368h] [rbp+260h]
  float v381; // [rsp+36Ch] [rbp+264h]
  double v382; // [rsp+370h] [rbp+268h]
  int v384; // [rsp+388h] [rbp+280h]
  char v385; // [rsp+398h] [rbp+290h] BYREF
  __int128 v386; // [rsp+3B8h] [rbp+2B0h] BYREF
  double v387; // [rsp+3C8h] [rbp+2C0h]
  float v388; // [rsp+3D0h] [rbp+2C8h]
  float v389; // [rsp+3D4h] [rbp+2CCh]
  __m256 v390; // [rsp+3D8h] [rbp+2D0h]
  __int128 v391; // [rsp+3F8h] [rbp+2F0h]
  float v392; // [rsp+408h] [rbp+300h]
  float v393; // [rsp+40Ch] [rbp+304h]
  double v394; // [rsp+410h] [rbp+308h]
  int v396; // [rsp+428h] [rbp+320h]
  _DWORD v397[18]; // [rsp+438h] [rbp+330h] BYREF
  double v398; // [rsp+480h] [rbp+378h]
  __m256 v399; // [rsp+488h] [rbp+380h]
  double v400; // [rsp+4A8h] [rbp+3A0h]
  __int16 v401; // [rsp+4B0h] [rbp+3A8h]
  char v402; // [rsp+4B2h] [rbp+3AAh]
  int v403; // [rsp+4B3h] [rbp+3ABh]
  __int64 v404; // [rsp+4B8h] [rbp+3B0h]
  __int64 v405; // [rsp+4C4h] [rbp+3BCh]
  __int64 v406; // [rsp+4D0h] [rbp+3C8h]
  __int128 v407; // [rsp+4E8h] [rbp+3E0h]
  __int128 v408; // [rsp+4F8h] [rbp+3F0h]
  __int128 v409; // [rsp+508h] [rbp+400h]
  __int128 v410; // [rsp+518h] [rbp+410h]
  __int128 v411; // [rsp+528h] [rbp+420h]
  __int128 v412; // [rsp+538h] [rbp+430h]
  __int128 v413; // [rsp+548h] [rbp+440h]
  __int128 v414; // [rsp+558h] [rbp+450h]
  __int128 v415; // [rsp+568h] [rbp+460h]
  __int128 v416; // [rsp+578h] [rbp+470h]
  unsigned __int8 v417; // [rsp+5E0h] [rbp+4D8h] BYREF

  v417 = a4;
  v416 = v5;
  v415 = v6;
  v414 = v7;
  v413 = v8;
  v412 = v9;
  v411 = v10;
  v410 = v11;
  v409 = v12;
  v408 = v13;
  v407 = v14;
  v15 = 0;
  n0x2800 = 0x2800;
  v350 = 0;
  v351 = 0;
  v353 = 0;
  v19 = 1;
  v354 = 0;
  v355 = 0;
  v352 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( !v417 )
  {
    _XMM1 = COERCE_UNSIGNED_INT64(*a2 + *a3);
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    _XMM1 = COERCE_UNSIGNED_INT64(a2[1] + a3[1]);
    v23 = *((unsigned __int64 *)a2 + 2);
    v320[0] = *(float *)&_XMM2;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((_QWORD *)&v26 + 1) = *((_QWORD *)&v23 + 1);
    *(double *)&v26 = *(double *)&v23 + a3[2];
    _XMM1 = v26;
    v320[1] = *(float *)&_XMM2;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v320[2] = *(float *)&_XMM2;
    LOBYTE(v15) = (unsigned int)sub_1465CCF50(a1, v320) == 0;
    goto LABEL_83;
  }
  if ( !*(_DWORD *)(a1 + 0x1DC)
    || !*(_DWORD *)((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149A14210 + 0xF0LL))(qword_149A14210) + 0x2E0) )
  {
    _XMM0 = *(unsigned __int64 *)a2;
    _XMM1 = *((unsigned __int64 *)a2 + 1);
    _XMM4 = *((unsigned __int64 *)a2 + 2);
    __asm { vcvtsd2ss xmm7, xmm0, xmm0 }
    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)&_XMM0 + *a3);
    __asm { vcvtsd2ss xmm6, xmm1, xmm1 }
    _XMM1 = COERCE_UNSIGNED_INT64(*(double *)&_XMM1 + a3[1]);
    __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)&_XMM4 + a3[2]);
    __asm
    {
      vcvtsd2ss xmm2, xmm1, xmm1
      vcvtsd2ss xmm1, xmm0, xmm0
      vcvtsd2ss xmm5, xmm4, xmm4
      vminss  xmm8, xmm3, xmm7
      vminss  xmm9, xmm2, xmm6
      vmaxss  xmm11, xmm7, xmm3
      vminss  xmm10, xmm1, xmm5
      vmaxss  xmm7, xmm5, xmm1
      vmaxss  xmm6, xmm6, xmm2
    }
    v301 = *(float *)&_XMM10;
    v299 = *(float *)&_XMM7;
    v296 = *(float *)&_XMM8;
    v298 = *(float *)&_XMM9;
    v295 = *(float *)&_XMM11;
    v297 = *(float *)&_XMM6;
    sub_146646860(v357);
    *(float *)&v397[8] = 0.000001;
    *(float *)&v397[9] = 0.017453292;
    v399 = ymmword_148773180;
    v359 = 0;
    v357[0] = off_148ABFB00;
    v367 = off_148ABFA18;
    *(float *)&v397[0x11] = 1.0e10;
    v368 = v357;
    _XMM4 = 0;
    v331 = 0;
    __asm { vmovupd [rbp+4B0h+var_490], xmm0 }
    v358 = 1.0;
    *(float *)&v397[7] = 100.0;
    *(float *)&v397[0xA] = 0.0;
    *(float *)&v397[1] = 0.0;
    *(float *)&v397[2] = 0.0;
    *(float *)&v397[3] = 0.0;
    *(float *)&v397[0xE] = 0.0;
    *(float *)&v397[0xF] = 0.0;
    *(float *)&v397[0x10] = 1.0;
    *(float *)&v397[0xB] = 0.0;
    *(float *)&v397[0xC] = 0.0;
    *(float *)&v397[0xD] = 0.0;
    *(float *)&v397[4] = 0.0;
    *(float *)&v397[5] = 0.0;
    *(float *)&v397[6] = 0.0;
    v398 = 1.999999999998e12;
    v400 = 1.999999999998e12;
    v332 = 0.0;
    v333 = 0.0;
    v323 = 0.0;
    v324 = 1.0;
    v325 = 0.0;
    v369 = &v360;
    v312 = 0;
    v397[0] = 0;
    v406 = 0;
    v401 = 0;
    v403 = 0;
    v404 = 0;
    v405 = 0;
    _XMM3 = (__m128)*((unsigned __int64 *)a3 + 1);
    v326 = xmmword_148153550;
    _XMM0 = 0;
    __asm { vmovupd [rbp+4B0h+var_430], xmm0 }
    v391 = 0;
    __asm { vmovupd [rbp+4B0h+var_1A0], xmm0 }
    _XMM1 = 0;
    v390 = ymmword_148AC6F80;
    _XMM0 = *(unsigned __int64 *)a3;
    __asm
    {
      vmovupd [rbp+4B0h+var_200], xmm1
      vcvtsd2ss xmm5, xmm0, xmm0
    }
    _XMM0 = *((unsigned __int64 *)a3 + 2);
    __asm
    {
      vcvtsd2ss xmm13, xmm0, xmm0
      vcvtsd2ss xmm12, xmm3, xmm3
    }
    v81 = _XMM12;
    v81.m128_f32[0] = (float)((float)(_XMM12.m128_f32[0] * _XMM12.m128_f32[0])
                            + (float)(*(float *)&_XMM5 * *(float *)&_XMM5))
                    + (float)(*(float *)&_XMM13 * *(float *)&_XMM13);
    v327 = 0.0;
    v328 = 0.0;
    v329 = 1.0;
    v334 = 0.0;
    v330 = 1.0;
    v392 = 0.0;
    v393 = 0.0;
    v394 = 0.0;
    v387 = 0.0;
    v388 = 1.0;
    v389 = 0.0;
    v291 = *(double *)_XMM3.m128_u64;
    v336 = 0;
    v396 = 0;
    v402 = 0;
    if ( v81.m128_f32[0] <= 9.9999997e-21 )
    {
      _XMM2 = 0;
      v86 = 1.0;
    }
    else
    {
      _XMM0 = _mm_shuffle_ps(v81, v81, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      v83 = (float)(1.5 - (float)((float)((float)(v81.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
          * _XMM3.m128_f32[0];
      *(double *)_XMM3.m128_u64 = v291;
      v85 = _XMM5;
      *(float *)&v85 = *(float *)&_XMM5 * v83;
      _XMM2 = v85;
      v86 = *(float *)&_XMM13 * v83;
    }
    __asm { vunpcklps xmm0, xmm2, xmm0 }
    v366 = v86;
    v88 = a2[2];
    v365 = *(double *)&_XMM0;
    v89 = *(_OWORD *)a2;
    v361 = v88;
    v90 = *a3;
    v360 = v89;
    v362 = *(float *)&_XMM5;
    v363 = _XMM12.m128_f32[0];
    v364 = *(float *)&_XMM13;
    if ( v90 == 0.0 )
      _XMM2 = 0;
    else
      _XMM2 = COERCE_UNSIGNED_INT64(1.0 / v90);
    __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
    v294 = *(float *)&_XMM1;
    if ( *(double *)_XMM3.m128_u64 == 0.0 )
      _XMM1 = 0;
    else
      _XMM1 = COERCE_UNSIGNED_INT64(1.0 / *(double *)_XMM3.m128_u64);
    v94 = a3[2];
    __asm { vcvtsd2ss xmm1, xmm1, xmm1 }
    v293 = *(float *)&_XMM1;
    if ( v94 != 0.0 )
      _XMM4 = COERCE_UNSIGNED_INT64(1.0 / v94);
    v96 = *(int *)(a1 + 0x1D0);
    __asm { vcvtsd2ss xmm13, xmm4, xmm4 }
    v300 = *(float *)&_XMM13;
    if ( (_DWORD)v96 )
    {
      v98 = *(_QWORD *)(a1 + 0x28);
      if ( v98 )
      {
        __asm { vzeroupper }
        (*(void (__fastcall **)(__int64, int *))(*(_QWORD *)v98 + 8LL))(v98, &v337);
        _XMM12 = *(unsigned __int64 *)a2;
        _XMM15 = *((unsigned __int64 *)a2 + 1);
        _XMM3 = *((unsigned __int64 *)a2 + 2);
        __asm
        {
          vcvtpd2ps xmm3, xmm3
          vcvtpd2ps xmm12, xmm12
        }
        __asm { vcvtpd2ps xmm15, xmm15 }
        v105 = LODWORD(v338);
        *(float *)&v105 = (float)(v338 - *(float *)&_XMM12) * v294;
        _XMM4 = v105;
        v107 = LODWORD(v339);
        *(float *)&v107 = (float)(v339 - *(float *)&_XMM15) * v293;
        _XMM5 = v107;
        v109 = LODWORD(v340);
        *(float *)&v109 = (float)(v340 - *(float *)&_XMM3) * *(float *)&_XMM13;
        _XMM6 = v109;
        __asm
        {
          vminss  xmm0, xmm5, xmm7
          vmaxss  xmm2, xmm5, xmm7
        }
        v302 = *(float *)&_XMM3;
        __asm
        {
          vminss  xmm3, xmm4, xmm8
          vmaxss  xmm1, xmm0, xmm3
          vminss  xmm0, xmm6, xmm9
          vmaxss  xmm5, xmm1, xmm0
          vmaxss  xmm4, xmm4, xmm8
          vminss  xmm2, xmm2, xmm4
          vmaxss  xmm1, xmm6, xmm9
          vminss  xmm0, xmm2, xmm1
        }
        if ( *(float *)&_XMM5 > (float)(*(float *)&_XMM0 * 1.0000002) || (v121 = 1, *(float *)&_XMM5 >= 3.4028235e38) )
          v121 = 0;
        if ( v121 )
        {
          _XMM0 = *(unsigned __int64 *)a3;
          _XMM1 = *((unsigned __int64 *)a3 + 1);
          v124 = *(_QWORD *)(a1 + 0x28);
          v314 = COERCE_DOUBLE(&v322);
          __asm { vcvtpd2ps xmm0, xmm0 }
          *(float *)&v291 = *(float *)&_XMM0;
          _XMM0 = *((unsigned __int64 *)a3 + 2);
          __asm { vcvtpd2ps xmm0, xmm0 }
          v313 = *(double *)&a1;
          v315 = COERCE_DOUBLE(v357);
          v316 = (float *)&v386;
          v317 = (double *)v397;
          v318 = &v312;
          v319 = &a5;
          v292 = *(float *)&_XMM0;
          __asm { vcvtpd2ps xmm1, xmm1 }
          *((float *)&v291 + 1) = *(float *)&_XMM1;
          *(float *)&v303 = *(float *)&_XMM12;
          *((float *)&v303 + 1) = *(float *)&_XMM15;
          v304 = v302;
          v19 = sub_146580790(a1, v124, (__int64)&v337, (float *)&v303, (float *)&v291, (__int64)&v313);
          goto LABEL_81;
        }
LABEL_40:
        *(float *)&_XMM7 = v299;
        *(float *)&_XMM6 = v297;
        *(float *)&_XMM9 = v298;
        *(float *)&_XMM8 = v296;
      }
      else
      {
        v129 = v96;
        if ( (int)v96 > 0 )
        {
          v130 = 0;
          v131 = 0;
          while ( 1 )
          {
            v132 = *(_QWORD *)(a1 + 0x20);
            v133 = *(float *)(v131 + v132 + 0x38);
            v134 = *(float *)(v131 + v132 + 0x34);
            *(double *)&v322 = *(float *)(v131 + v132 + 0x30);
            v323 = v133;
            *((double *)&v322 + 1) = v134;
            v135 = *(float *)(v131 + v132 + 0x20);
            v136 = *(float *)(v131 + v132 + 0x24);
            v137 = *(float *)(v131 + v132 + 0x2C);
            v138 = *(float *)(v131 + v132 + 0x28);
            v139 = 1.0 - (float)((float)(v135 + v135) * v135);
            v140 = v137 * (float)(v135 + v135);
            v141 = v137 * (float)(v136 + v136);
            v142 = (float)(v136 + v136) * v135;
            v143 = (float)(v136 + v136) * v136;
            v144 = (float)(v138 + v138) * v136;
            v145 = v137 * (float)(v138 + v138);
            v146 = (float)(v138 + v138) * v135;
            v325 = v142 - v145;
            v324 = (float)(1.0 - v143) - (float)((float)(v138 + v138) * v138);
            *((float *)&v326 + 1) = v145 + v142;
            *((float *)&v326 + 2) = v139 - (float)((float)(v138 + v138) * v138);
            v327 = v146 - v141;
            *(float *)&v326 = v146 + v141;
            *((float *)&v326 + 3) = v144 - v140;
            v328 = v144 + v140;
            v329 = v139 - v143;
            v330 = *(float *)(v131 + v132 + 0x3C);
            __asm { vzeroupper }
            if ( (*(unsigned int (__fastcall **)(_QWORD, _QWORD *, __int128 *, __int128 *, _DWORD *, __int64 *, int))(**(_QWORD **)(v131 + v132) + 0x1E8LL))(
                   *(_QWORD *)(v131 + v132),
                   v357,
                   &v386,
                   &v322,
                   v397,
                   &v312,
                   a5) )
            {
              break;
            }
            ++v130;
            v131 += 0x48;
            if ( v130 >= v129 )
            {
              *(float *)&_XMM10 = v301;
              *(float *)&_XMM11 = v295;
              *(float *)&_XMM13 = v300;
              v19 = 1;
              goto LABEL_40;
            }
          }
LABEL_80:
          v19 = 1;
          goto LABEL_81;
        }
      }
    }
    v147 = *(int *)(a1 + 0x1D4);
    LODWORD(v303) = v147;
    if ( (_DWORD)v147 )
    {
      v148 = *(_QWORD *)(a1 + 0x80);
      if ( v148 )
      {
        __asm { vzeroupper }
        (*(void (__fastcall **)(__int64, int *))(*(_QWORD *)v148 + 8LL))(v148, &v341);
        v149 = v294;
        v150 = v293;
        _XMM9 = *(unsigned __int64 *)a2;
        _XMM10 = *((unsigned __int64 *)a2 + 1);
        _XMM12 = *((unsigned __int64 *)a2 + 2);
        __asm { vcvtpd2ps xmm9, xmm9 }
        __asm { vcvtpd2ps xmm10, xmm10 }
        __asm { vcvtpd2ps xmm12, xmm12 }
        v158 = LODWORD(v342);
        *(float *)&v158 = v342 - *(float *)&_XMM9;
        v157 = v158;
        v160 = LODWORD(v343);
        *(float *)&v160 = v343 - *(float *)&_XMM10;
        v159 = v160;
        v162 = v157;
        *(float *)&v162 = *(float *)&v157 * v294;
        _XMM5 = v162;
        v164 = v159;
        *(float *)&v164 = *(float *)&v159 * v293;
        _XMM4 = v164;
        v165 = LODWORD(v344);
        *(float *)&v165 = (float)(v344 - *(float *)&_XMM12) * *(float *)&_XMM13;
        _XMM2 = v165;
        __asm
        {
          vminss  xmm1, xmm2, xmm7
          vminss  xmm0, xmm4, xmm6
          vminss  xmm3, xmm5, xmm8
          vmaxss  xmm0, xmm0, xmm3
          vmaxss  xmm3, xmm1, xmm0
          vmaxss  xmm2, xmm2, xmm7
          vmaxss  xmm5, xmm5, xmm8
          vmaxss  xmm4, xmm4, xmm6
          vminss  xmm1, xmm5, xmm4
          vminss  xmm0, xmm2, xmm1
        }
        if ( *(float *)&_XMM3 > (float)(*(float *)&_XMM0 * 1.0000002) || (v177 = 1, *(float *)&_XMM3 >= 3.4028235e38) )
          v177 = 0;
        if ( v177 )
        {
          _XMM0 = *(unsigned __int64 *)a3;
          _XMM1 = *((unsigned __int64 *)a3 + 1);
          v180 = *(_QWORD *)(a1 + 0x80);
          v316 = &v302;
          __asm { vcvtpd2ps xmm0, xmm0 }
          *(float *)&v291 = *(float *)&_XMM0;
          _XMM0 = *((unsigned __int64 *)a3 + 2);
          v313 = *(double *)&a1;
          v317 = &v308;
          v314 = *(double *)&a2;
          v318 = (__int64 *)&v385;
          v315 = *(double *)&a3;
          __asm
          {
            vcvtpd2ps xmm1, xmm1
            vcvtpd2ps xmm0, xmm0
          }
          *((float *)&v291 + 1) = *(float *)&_XMM1;
          v292 = *(float *)&_XMM0;
          *(float *)&v303 = *(float *)&_XMM9;
          *((float *)&v303 + 1) = *(float *)&_XMM10;
          v304 = *(float *)&_XMM12;
          v19 = sub_146580C20(a1, v180, (__int64)&v341, (float *)&v303, (float *)&v291, (__int64)&v313);
          goto LABEL_81;
        }
        goto LABEL_61;
      }
      if ( v147 > 0 )
      {
        v185 = 0.0;
        v186 = 0;
        v291 = 0.0;
        v187 = 0;
        while ( 1 )
        {
          v188 = *(_QWORD *)(a1 + 0x88);
          v189 = *(_QWORD *)(a1 + 0x78);
          if ( *(float *)&_XMM11 >= *(float *)(v187 + v188)
            && *(float *)&_XMM8 <= *(float *)(v187 + v188 + 0xC)
            && *(float *)&_XMM6 >= *(float *)(v187 + v188 + 4)
            && *(float *)&_XMM9 <= *(float *)(v187 + v188 + 0x10)
            && *(float *)&_XMM7 >= *(float *)(v187 + v188 + 8)
            && *(float *)&_XMM10 <= *(float *)(v187 + v188 + 0x14) )
          {
            v190 = a2[2];
            v191 = a2[1];
            v192 = *(float *)(*(_QWORD *)&v185 + v189 + 0x2C);
            v193 = *(float *)(*(_QWORD *)&v185 + v189 + 0x20);
            v194 = *(float *)(*(_QWORD *)&v185 + v189 + 0x28);
            v195 = *(float *)(*(_QWORD *)&v185 + v189 + 0x24);
            v196 = COERCE_UNSIGNED_INT64(v195 * v190 - v194 * v191 + v192 * *a2);
            v197 = COERCE_UNSIGNED_INT64(v194 * *a2 - v193 * v190 + v192 * v191);
            *(double *)&v199 = v193 * v191 - v195 * *a2 + v192 * v190;
            v198 = v199;
            v200 = *(double *)&v199 * v193;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v196 + 1);
            *(double *)&v202 = *(double *)&v196 * v194;
            v201 = v202;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v198 + 1);
            *(double *)&v202 = *(double *)&v198 * v195;
            v203 = v202;
            LODWORD(v198) = *(_DWORD *)(*(_QWORD *)&v185 + v189 + 0x34);
            v204 = *(double *)&v197 * v194;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v201 + 1);
            *(double *)&v202 = *(double *)&v201 - v200;
            v205 = v202;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v203 + 1);
            *(double *)&v202 = *(double *)&v203 - v204;
            v206 = v202;
            v207 = *(double *)&v196 * v195;
            v208 = *a3;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v197 + 1);
            *(double *)&v202 = *(double *)&v197 * v193;
            LODWORD(v197) = *(_DWORD *)(*(_QWORD *)&v185 + v189 + 0x38);
            *(double *)&v202 = *(double *)&v202 - v207;
            v209 = v202;
            *(double *)&v196 = *(float *)(*(_QWORD *)&v185 + v189 + 0x3C);
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v206 + 1);
            *(double *)&v202 = (*(double *)&v206 + *a2 + *(double *)&v206) * *(double *)&v196
                             + *(float *)(*(_QWORD *)&v185 + v189 + 0x30);
            _XMM0 = v202;
            __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
            v321[0] = *(float *)&_XMM1;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v205 + 1);
            *(double *)&v202 = *(double *)&v205 + v191;
            v212 = a3[1];
            *(double *)&v202 = (*(double *)&v202 + *(double *)&v205) * *(double *)&v196 + *(float *)&v198;
            _XMM2 = v202;
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            v321[1] = *(float *)&_XMM0;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v209 + 1);
            *(double *)&v202 = *(double *)&v209 + v190;
            v215 = a3[2];
            *(double *)&v202 = (*(double *)&v202 + *(double *)&v209) * *(double *)&v196 + *(float *)&v197;
            _XMM1 = v202;
            __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
            v321[2] = *(float *)&_XMM2;
            *(double *)&v196 = *(float *)(*(_QWORD *)&v185 + v189 + 0x28);
            *(double *)&v198 = *(float *)(*(_QWORD *)&v185 + v189 + 0x2C);
            v218 = *(float *)(*(_QWORD *)&v185 + v189 + 0x24);
            *(double *)&v205 = v218 * v215 - *(double *)&v196 * v212 + *(double *)&v198 * v208;
            *(double *)&v209 = *(float *)(*(_QWORD *)&v185 + v189 + 0x20);
            *(double *)&v206 = *(double *)&v196 * v208 - *(double *)&v209 * v215 + *(double *)&v198 * v212;
            *(double *)&v198 = *(double *)&v209 * v212 - v218 * v208 + *(double *)&v198 * v215;
            v219 = COERCE_UNSIGNED_INT64(v218 * *(double *)&v198 - *(double *)&v196 * *(double *)&v206);
            v220 = COERCE_UNSIGNED_INT64(*(double *)&v196 * *(double *)&v205 - *(double *)&v209 * *(double *)&v198);
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v219 + 1);
            *(double *)&v202 = *(double *)&v219 + v208 + *(double *)&v219;
            _XMM2 = v202;
            *((_QWORD *)&v202 + 1) = 0;
            *(double *)&v202 = *(double *)&v209 * *(double *)&v206 - v218 * *(double *)&v205;
            v222 = v202;
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            v305 = *(float *)&_XMM0;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v220 + 1);
            *(double *)&v202 = *(double *)&v220 + v212 + *(double *)&v220;
            _XMM2 = v202;
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            v306 = *(float *)&_XMM0;
            *((_QWORD *)&v202 + 1) = *((_QWORD *)&v222 + 1);
            *(double *)&v202 = *(double *)&v222 + v215 + *(double *)&v222;
            _XMM2 = v202;
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            v307 = *(float *)&_XMM0;
            __asm { vzeroupper }
            if ( (*(unsigned __int8 (__fastcall **)(_QWORD, float *, float *))(**(_QWORD **)(*(_QWORD *)&v185 + v189)
                                                                             + 0xC8LL))(
                   *(_QWORD *)(*(_QWORD *)&v185 + v189),
                   v321,
                   &v305) )
            {
              goto LABEL_81;
            }
            *(float *)&_XMM11 = v295;
            v185 = v291;
          }
          *(_QWORD *)&v185 += 0x68LL;
          ++v186;
          v291 = v185;
          v187 += 0x18;
          if ( v186 >= (int)v303 )
            break;
          *(float *)&_XMM8 = v296;
          *(float *)&_XMM9 = v298;
          *(float *)&_XMM10 = v301;
          *(float *)&_XMM6 = v297;
          *(float *)&_XMM7 = v299;
        }
      }
    }
    v150 = v293;
    v149 = v294;
LABEL_61:
    v228 = *(int *)(a1 + 0x1D8);
    if ( !(_DWORD)v228 )
      goto LABEL_82;
    v229 = *(_QWORD *)(a1 + 0xD8);
    if ( !v229 )
    {
      if ( (int)v228 > 0 )
      {
        v263 = 0;
        v264 = *(float **)(a1 + 0xE0);
        v291 = *(double *)(a1 + 0xD0);
        v265 = v228;
        v266 = v291;
        v303 = v228;
        v267 = (float *)(*(_QWORD *)&v291 + 0x28LL);
        do
        {
          if ( *(float *)&_XMM11 >= *v264
            && v296 <= v264[3]
            && v297 >= v264[1]
            && v298 <= v264[4]
            && v299 >= v264[2]
            && v301 <= v264[5] )
          {
            v268 = a3[2];
            v269 = a3[1];
            v270 = v267[0xFFFFFFFF];
            v271 = *v267;
            v272 = v267[0xFFFFFFFE];
            v273 = v267[1];
            v274 = v268 * v270 - v269 * v271 + v273 * *a3;
            v275 = v271 * *a3 - v268 * v272 + v269 * v273;
            v276 = v269 * v272 - v270 * *a3 + v268 * v273;
            v277 = v270 * v276 - v271 * v275;
            v278 = v271 * v274 - v272 * v276;
            v279 = *a2;
            v308 = v277 + *a3 + v277;
            v280 = v272 * v275 - v270 * v274;
            v281 = v268 + v280;
            v282 = a2[2];
            v283 = v269 + v278;
            v284 = a2[1];
            v310 = v281 + v280;
            v309 = v283 + v278;
            v285 = v282 * v270 - v284 * v271 + v273 * v279;
            v286 = v271 * v279 - v282 * v272 + v284 * v273;
            v287 = v284 * v272 - v270 * v279 + v282 * v273;
            v288 = v267[5];
            v356[0] = (v270 * v287 - v271 * v286 + v279 + v270 * v287 - v271 * v286) * v288 + v267[2];
            v289 = **(_QWORD **)&v266;
            v356[1] = (v284 + v271 * v285 - v272 * v287 + v271 * v285 - v272 * v287) * v288 + v267[3];
            v356[2] = (v282 + v272 * v286 - v270 * v285 + v272 * v286 - v270 * v285) * v288 + v267[4];
            __asm { vzeroupper }
            if ( (unsigned int)sub_1465EF880(v289, v356, &v308, v417) )
              goto LABEL_80;
            *(float *)&_XMM11 = v295;
            v265 = v303;
          }
          ++v263;
          *(_QWORD *)&v266 += 0x68LL;
          v267 += 0x1A;
          v264 += 6;
        }
        while ( v263 < v265 );
      }
      goto LABEL_82;
    }
    __asm { vzeroupper }
    (*(void (__fastcall **)(__int64, int *))(*(_QWORD *)v229 + 8LL))(v229, &v345);
    _XMM10 = *(unsigned __int64 *)a2;
    _XMM11 = *((unsigned __int64 *)a2 + 1);
    _XMM12 = *((unsigned __int64 *)a2 + 2);
    __asm { vcvtpd2ps xmm10, xmm10 }
    __asm { vcvtpd2ps xmm11, xmm11 }
    __asm { vcvtpd2ps xmm12, xmm12 }
    v237 = LODWORD(v346);
    *(float *)&v237 = v346 - *(float *)&_XMM10;
    v236 = v237;
    v239 = LODWORD(v347);
    *(float *)&v239 = v347 - *(float *)&_XMM11;
    v238 = v239;
    v241 = v236;
    *(float *)&v241 = *(float *)&v236 * v149;
    _XMM4 = v241;
    v243 = v238;
    *(float *)&v243 = *(float *)&v238 * v150;
    _XMM5 = v243;
    v244 = LODWORD(v348);
    *(float *)&v244 = (float)(v348 - *(float *)&_XMM12) * v300;
    _XMM6 = v244;
    __asm
    {
      vminss  xmm0, xmm5, xmm7
      vmaxss  xmm2, xmm5, xmm7
      vminss  xmm3, xmm4, xmm8
      vmaxss  xmm1, xmm0, xmm3
      vminss  xmm0, xmm6, xmm9
      vmaxss  xmm5, xmm1, xmm0
      vmaxss  xmm4, xmm4, xmm8
      vminss  xmm2, xmm2, xmm4
      vmaxss  xmm1, xmm6, xmm9
      vminss  xmm0, xmm2, xmm1
    }
    if ( *(float *)&_XMM5 > (float)(*(float *)&_XMM0 * 1.0000002) || *(float *)&_XMM5 >= 3.4028235e38 )
      v19 = 0;
    if ( !v19 )
    {
LABEL_82:
      v367 = &off_148ABF6C8;
      __asm { vzeroupper }
      sub_146647D40(v357);
      goto LABEL_83;
    }
    _XMM0 = *(unsigned __int64 *)a3;
    _XMM1 = *((unsigned __int64 *)a3 + 1);
    v258 = *(_QWORD *)(a1 + 0xD8);
    __asm { vcvtpd2ps xmm0, xmm0 }
    v311 = &v417;
    v305 = *(float *)&_XMM0;
    _XMM0 = *((unsigned __int64 *)a3 + 2);
    v308 = *(double *)&a1;
    __asm
    {
      vcvtpd2ps xmm0, xmm0
      vcvtpd2ps xmm1, xmm1
    }
    v309 = *(double *)&a2;
    v310 = *(double *)&a3;
    v307 = *(float *)&_XMM0;
    v306 = *(float *)&_XMM1;
    *(float *)&v291 = *(float *)&_XMM10;
    *((float *)&v291 + 1) = *(float *)&_XMM11;
    v292 = *(float *)&_XMM12;
    v19 = sub_146580F70(a1, v258, (__int64)&v345, (float *)&v291, &v305, (__int64)&v308);
LABEL_81:
    v15 = v19;
    goto LABEL_82;
  }
  if ( *(_DWORD *)(a1 + 0x1E0) )
  {
    v28 = 0;
    v384 = 0;
    v379 = 0;
    __asm { vmovupd [rbp+4B0h+var_2A0], xmm0 }
    v374 = xmmword_148153550;
    _XMM0 = 0;
    __asm { vmovupd [rbp+4B0h+var_240], xmm0 }
    v380 = 0.0;
    v381 = 0.0;
    v371 = 0.0;
    v372 = 1.0;
    v373 = 0.0;
    v375 = 0.0;
    v376 = 0.0;
    v377 = 1.0;
    v382 = 0.0;
    v378 = 1.0;
    v295 = 0.0;
    v300 = 0.0;
    if ( *(int *)(a1 + 0x1DC) > 0 )
    {
      v30 = 0;
      while ( 1 )
      {
        v31 = *(_QWORD *)(a1 + 0x128);
        if ( *(_BYTE *)(v30 + v31 + 0xA8) )
        {
          v32 = a2[1];
          v33 = a2[2];
          v34 = (*(double *)(v30 + v31 + 0x58)
               - (*(float *)(v30 + v31 + 0x4C) * v32
                + *(float *)(v30 + v31 + 0x48) * *a2
                + *(float *)(v30 + v31 + 0x50) * v33))
              / (*(float *)(v30 + v31 + 0x4C) * a3[1]
               + *(float *)(v30 + v31 + 0x48) * *a3
               + *(float *)(v30 + v31 + 0x50) * a3[2]
               + 1.175494350822288e-38);
          if ( v34 >= 0.0 && v34 <= 1.0 )
          {
            _XMM1 = *(_OWORD *)a3;
            v36 = *a3 * v34 + *a2;
            __asm { vunpckhpd xmm1, xmm1, xmm1 }
            v38 = *(double *)&_XMM1 * v34 + v32;
            v39 = v34 * a3[2] + v33;
            v40 = *(float *)(v30 + v31 + 0x74);
            v41 = *(float *)(v30 + v31 + 0x68);
            v42 = *(float *)(v30 + v31 + 0x6C);
            v43 = *(float *)(v30 + v31 + 0x70);
            v44 = v42 * v39 - v43 * v38 + v40 * v36;
            v45 = v43 * v36 - v41 * v39 + v40 * v38;
            v46 = v41 * v38 - v42 * v36 + v40 * v39;
            *(double *)&_XMM1 = v41 * v46;
            v47 = v42 * v46 - v43 * v45;
            v48 = v41 * v45;
            v49 = *(float *)(v30 + v31 + 0x84);
            v50 = (v39 + v48 - v42 * v44 + v48 - v42 * v44) * v49 + *(float *)(v30 + v31 + 0x80);
            v51 = *(float *)(v30 + v31 + 0x78);
            v309 = (v38 + v43 * v44 - *(double *)&_XMM1 + v43 * v44 - *(double *)&_XMM1) * v49
                 + *(float *)(v30 + v31 + 0x7C);
            v310 = v50;
            v308 = (v36 + v47 + v47) * v49 + v51;
            n0xF = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v30 + v31 + 0x60) + 8LL))(*(_QWORD *)(v30 + v31 + 0x60));
            v53 = *(_QWORD *)(v30 + v31 + 0x60);
            if ( n0xF == 0xF )
              v53 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v53 + 0x260LL))(v53);
            (*(void (__fastcall **)(__int64, __int128 *, float *, float *, double *, double *, double *, int))(*(_QWORD *)v53 + 0x68LL))(
              v53,
              &v370,
              &v295,
              &v300,
              &v308,
              &v308,
              &v313,
              0xA);
            if ( (v309 - v314) * (v309 - v314) + (v308 - v313) * (v308 - v313) + (v310 - v315) * (v310 - v315) < 0.00002499999936844688 )
              break;
          }
        }
        ++v28;
        v30 += 0xB0;
        if ( v28 >= *(_DWORD *)(a1 + 0x1DC) )
          goto LABEL_83;
      }
      v15 = 1;
    }
  }
LABEL_83:
  v353 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v15;
}

// --- End Function: sub_1465C09F0 (0x1465C09F0) ---

// --- Function: sub_1465C1F80 (0x1465C1F80) ---
__int64 __fastcall sub_1465C1F80(__int64 a1, float *a2, unsigned __int64 *a3, unsigned int a4, __int64 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  __int64 v15; // r15
  unsigned __int64 *v16; // r14
  unsigned int v19; // esi
  int v20; // r13d
  int v21; // r12d
  __int64 v22; // rcx
  __int128 v23; // xmm3
  float v24; // xmm0_4
  float v25; // xmm2_4
  float v26; // xmm1_4
  __int128 v28; // kr00_16
  unsigned int v30; // xmm4_4
  __int128 v32; // kr00_16
  __int64 v64; // rax
  __int64 v65; // r15
  __int64 v66; // r14
  _QWORD *v67; // rax
  __int64 v68; // rax
  __int64 v70; // rdx
  __int64 v71; // rax
  __int64 v72; // rcx
  float v73; // xmm2_4
  float v74; // xmm1_4
  float v75; // xmm0_4
  float v76; // xmm0_4
  float v77; // xmm4_4
  float v78; // xmm3_4
  __int64 v79; // rdx
  __int64 v80; // r12
  __int64 v81; // r14
  __int64 v82; // r15
  float v83; // xmm13_4
  float v84; // xmm12_4
  float v85; // xmm10_4
  float v86; // xmm9_4
  float v87; // xmm4_4
  float v88; // xmm7_4
  float v89; // xmm8_4
  float v90; // xmm6_4
  float v91; // xmm4_4
  float v92; // xmm5_4
  float v93; // kr00_4
  float v94; // xmm6_4
  float v95; // xmm5_4
  float v96; // xmm4_4
  int v97; // ecx
  int v98; // ecx
  int v99; // ecx
  __int64 v100; // rax
  float v101; // xmm9_4
  __m128 v102; // xmm2
  float v103; // xmm4_4
  __m128 v104; // xmm3
  float v105; // xmm8_4
  float v106; // xmm1_4
  float v107; // xmm6_4
  float v108; // xmm5_4
  float v109; // xmm10_4
  float v110; // xmm11_4
  float v111; // xmm7_4
  __int128 v112; // xmm8
  __int128 v113; // kr00_16
  __m128 v114; // xmm6
  __m128 v115; // kr00_16
  float v116; // xmm1_4
  float v117; // xmm5_4
  __int128 v118; // kr00_16
  __m128 v121; // kr00_16
  __m128 v122; // xmm1
  __m256i *v123; // rax
  __int128 v124; // xmm7
  __int128 v125; // kr00_16
  float v126; // xmm5_4
  __int128 v127; // xmm0
  __int128 v128; // xmm3
  __int128 v129; // kr00_16
  __int128 v130; // kr00_16
  __int128 v132; // kr00_16
  __int128 v134; // kr00_16
  __m128 v136; // kr00_16
  __m128 v139; // xmm4
  __int64 v141; // rax
  int v142; // eax
  __int64 v143; // rax
  int v144; // eax
  __int64 v145; // rcx
  float v146; // xmm2_4
  float v147; // xmm1_4
  float v148; // xmm0_4
  float v149; // xmm0_4
  float v150; // xmm4_4
  float v151; // xmm3_4
  __int64 v152; // rdx
  __int64 v153; // r12
  __int64 v154; // r14
  __int64 v155; // rdx
  float v156; // xmm13_4
  float v157; // xmm12_4
  float v158; // xmm7_4
  float v159; // xmm10_4
  float v160; // xmm9_4
  float v161; // xmm4_4
  __int64 *v162; // rcx
  __int64 v163; // rax
  float v164; // xmm8_4
  float v165; // xmm6_4
  float v166; // xmm4_4
  float v167; // kr00_4
  float v168; // xmm1_4
  float v169; // xmm7_4
  __int64 v170; // rax
  __int64 v171; // rcx
  float v172; // xmm2_4
  float v173; // xmm1_4
  float v174; // xmm0_4
  float v175; // xmm0_4
  float v176; // xmm4_4
  float v177; // xmm3_4
  __int64 v178; // rdx
  __int64 v179; // r15
  __int64 v180; // r12
  __int64 v181; // r14
  __int64 v182; // rcx
  float v183; // xmm13_4
  float v184; // xmm12_4
  float v185; // xmm7_4
  float v186; // xmm8_4
  float v187; // xmm10_4
  float v188; // xmm4_4
  float v189; // xmm9_4
  float v190; // xmm5_4
  float v191; // kr00_4
  float v192; // xmm1_4
  float v193; // xmm4_4
  float v194; // xmm6_4
  float v195; // kr00_4
  float v196; // xmm5_4
  float v197; // xmm8_4
  float v198; // kr00_4
  float v199; // xmm9_4
  __int128 v201; // [rsp+38h] [rbp-D0h] BYREF
  __int64 v202; // [rsp+48h] [rbp-C0h] BYREF
  __int64 v203; // [rsp+50h] [rbp-B8h] BYREF
  float v204[4]; // [rsp+60h] [rbp-A8h] BYREF
  __int128 v205; // [rsp+70h] [rbp-98h] BYREF
  float v206[6]; // [rsp+80h] [rbp-88h] BYREF
  _QWORD v207[2]; // [rsp+98h] [rbp-70h] BYREF
  float v208[9]; // [rsp+A8h] [rbp-60h] BYREF
  float v209; // [rsp+CCh] [rbp-3Ch]
  float v210; // [rsp+D0h] [rbp-38h]
  float v211; // [rsp+D4h] [rbp-34h]
  float v212; // [rsp+E4h] [rbp-24h]
  float v213; // [rsp+E8h] [rbp-20h]
  float v214; // [rsp+F8h] [rbp-10h] BYREF
  float v215; // [rsp+FCh] [rbp-Ch]
  float v216; // [rsp+100h] [rbp-8h]
  float v217; // [rsp+104h] [rbp-4h]
  float v218; // [rsp+108h] [rbp+0h]
  float v219; // [rsp+10Ch] [rbp+4h]
  float v220; // [rsp+120h] [rbp+18h] BYREF
  float v221; // [rsp+124h] [rbp+1Ch]
  float v222; // [rsp+128h] [rbp+20h]
  float v223; // [rsp+12Ch] [rbp+24h]
  float v224; // [rsp+130h] [rbp+28h]
  float v225; // [rsp+134h] [rbp+2Ch]
  float v226; // [rsp+148h] [rbp+40h] BYREF
  float v227; // [rsp+14Ch] [rbp+44h]
  float v228; // [rsp+150h] [rbp+48h]
  float v229; // [rsp+154h] [rbp+4Ch]
  float v230; // [rsp+158h] [rbp+50h]
  float v231; // [rsp+15Ch] [rbp+54h]
  int n0x2800; // [rsp+178h] [rbp+70h] BYREF
  __int64 v233; // [rsp+17Ch] [rbp+74h]
  int v234; // [rsp+184h] [rbp+7Ch]
  __int64 v235; // [rsp+188h] [rbp+80h]
  unsigned __int64 v236; // [rsp+190h] [rbp+88h]
  __int64 v237; // [rsp+198h] [rbp+90h]
  __int64 v238; // [rsp+1A0h] [rbp+98h]
  _QWORD v239[2]; // [rsp+1C8h] [rbp+C0h] BYREF
  _QWORD v240[10]; // [rsp+1D8h] [rbp+D0h] BYREF
  __int128 v241; // [rsp+228h] [rbp+120h] BYREF
  double v242; // [rsp+238h] [rbp+130h]
  float v243; // [rsp+240h] [rbp+138h]
  float v244; // [rsp+244h] [rbp+13Ch]
  __int128 v245; // [rsp+248h] [rbp+140h]
  float v246; // [rsp+258h] [rbp+150h]
  float v247; // [rsp+25Ch] [rbp+154h]
  float v248; // [rsp+260h] [rbp+158h]
  float v249; // [rsp+264h] [rbp+15Ch]
  __int128 v250; // [rsp+268h] [rbp+160h]
  float v251; // [rsp+278h] [rbp+170h]
  float v252; // [rsp+27Ch] [rbp+174h]
  double v253; // [rsp+280h] [rbp+178h]
  int v255; // [rsp+298h] [rbp+190h]
  _BYTE v256[48]; // [rsp+2A8h] [rbp+1A0h] BYREF
  __int128 v257; // [rsp+2D8h] [rbp+1D0h]
  __int128 v258; // [rsp+2E8h] [rbp+1E0h]
  __int128 v259; // [rsp+2F8h] [rbp+1F0h]
  __int128 v260; // [rsp+308h] [rbp+200h]
  __int128 v261; // [rsp+318h] [rbp+210h]
  __int128 v262; // [rsp+328h] [rbp+220h]
  __int128 v263; // [rsp+338h] [rbp+230h]
  __int128 v264; // [rsp+348h] [rbp+240h]
  __int128 v265; // [rsp+358h] [rbp+250h]
  __int128 v266; // [rsp+368h] [rbp+260h]
  __int64 v267; // [rsp+3B8h] [rbp+2B0h] BYREF
  unsigned __int64 *v268; // [rsp+3C8h] [rbp+2C0h]
  unsigned int v269; // [rsp+3D0h] [rbp+2C8h] BYREF

  v269 = a4;
  v268 = a3;
  v266 = v5;
  v265 = v6;
  v15 = 0;
  v264 = v7;
  v16 = a3;
  v263 = v8;
  v262 = v9;
  v261 = v10;
  v260 = v11;
  v259 = v12;
  v19 = 1;
  v258 = v13;
  v257 = v14;
  n0x2800 = 0x2800;
  v233 = 0;
  v234 = 0;
  v236 = 0;
  v237 = 0;
  v238 = 0;
  v235 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v20 = 0;
  if ( *(_DWORD *)(a1 + 0x1DC) )
  {
    if ( v269 != 0xFFFFFFFF )
    {
      v21 = *(_DWORD *)((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149A14210 + 0xF0LL))(qword_149A14210)
                      + 0x2E0);
      if ( v21 > 0 )
      {
        if ( !*(_DWORD *)(a1 + 0x1E0) && (v21 == 1 || *(_BYTE *)(a1 + 0x200)) )
          goto LABEL_19;
        v22 = *(_QWORD *)(a1 + 0x140);
        if ( v22 )
        {
          v23 = *((unsigned int *)a2 + 3);
          v24 = *a2;
          v25 = a2[2];
          v26 = a2[1];
          v203 = 0;
          v28 = v23;
          *(float *)&v28 = *(float *)&v23 + v24;
          _XMM11 = v28;
          _XMM0 = *v16;
          *(float *)&v30 = *(float *)&v23 + v25;
          v32 = v23;
          *(float *)&v32 = *(float *)&v23 + v26;
          _XMM14 = v32;
          _XMM2 = v16[2];
          _XMM1 = v16[1];
          __asm { vcvtpd2ps xmm0, xmm0 }
          __asm { vcvtpd2ps xmm1, xmm1 }
          __asm { vcvtpd2ps xmm2, xmm2 }
          *(float *)&v267 = *(float *)&v30;
          __asm
          {
            vminss  xmm0, xmm11, xmm4
            vminss  xmm1, xmm0, xmm9
            vminss  xmm2, xmm1, xmm6
            vminss  xmm3, xmm2, xmm5
          }
          v206[0] = *(float *)&_XMM3;
          __asm
          {
            vminss  xmm0, xmm14, xmm4
            vminss  xmm1, xmm0, xmm13
          }
          _XMM0 = v30;
          __asm { vminss  xmm0, xmm0, xmm4 }
          __asm
          {
            vminss  xmm2, xmm1, xmm8
            vminss  xmm1, xmm0, xmm15
            vminss  xmm3, xmm2, xmm7
            vminss  xmm2, xmm1, xmm12
          }
          v206[1] = *(float *)&_XMM3;
          __asm { vminss  xmm3, xmm2, xmm10 }
          v206[2] = *(float *)&_XMM3;
          __asm
          {
            vmaxss  xmm0, xmm11, xmm4
            vmaxss  xmm1, xmm0, xmm9
            vmaxss  xmm2, xmm1, xmm6
            vmaxss  xmm3, xmm2, xmm5
            vmaxss  xmm0, xmm14, xmm4
            vmaxss  xmm1, xmm0, xmm13
          }
          _XMM0 = v30;
          __asm { vmaxss  xmm2, xmm1, xmm8 }
          v206[3] = *(float *)&_XMM3;
          __asm
          {
            vmaxss  xmm3, xmm2, xmm7
            vmaxss  xmm0, xmm0, xmm4
            vmaxss  xmm1, xmm0, xmm15
            vmaxss  xmm2, xmm1, xmm12
          }
          v206[4] = *(float *)&_XMM3;
          __asm { vmaxss  xmm3, xmm2, xmm10 }
          v206[5] = *(float *)&_XMM3;
          if ( a5 && qword_149D3B6D8 == a5 )
          {
            v64 = sub_1402AD6B0(a1 + 0x190, (__int64)v207, (unsigned __int8 *)&a5);
            v65 = *(_QWORD *)v64;
            if ( !*(_QWORD *)(*(_QWORD *)v64 + 0x18LL) )
            {
              v66 = sub_1402A63D0(0x48u);
              if ( v66 )
              {
                *(_DWORD *)v66 = 0;
                *(_QWORD *)(v66 + 8) = 0;
                *(_QWORD *)(v66 + 0x10) = 0;
                v67 = (_QWORD *)sub_1402A63D0(0x78u);
                *v67 = v67;
                v67[1] = v67;
                *(_QWORD *)(v66 + 8) = v67;
                *(_QWORD *)(v66 + 0x18) = 0;
                *(_QWORD *)(v66 + 0x20) = 0;
                *(_QWORD *)(v66 + 0x28) = 0;
                *(_QWORD *)(v66 + 0x30) = 7;
                *(_QWORD *)(v66 + 0x38) = 8;
                *(_DWORD *)v66 = 0x3F800000;
                std::_Hash_vec<std::allocator<std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<vraudio::Node::Output<vraudio::AudioBuffer const *> * const,std::shared_ptr<vraudio::Node>>>>>>>::_Assign_grow(
                  (unsigned __int64 **)(v66 + 0x18),
                  0x10u,
                  *(_QWORD *)(v66 + 8));
                *(_DWORD *)(v66 + 0x40) = 0;
              }
              else
              {
                v66 = 0;
              }
              *(_QWORD *)(v65 + 0x18) = v66;
              v16 = v268;
            }
            *(_DWORD *)(*(_QWORD *)(v65 + 0x18) + 0x40LL) = *(_DWORD *)(qword_149A14210 + 0x84A00);
            v68 = *(_QWORD *)(v65 + 0x18);
            v15 = 0;
            v22 = *(_QWORD *)(a1 + 0x140);
            v203 = v68;
          }
          v250 = 0;
          __asm { vmovupd [rbp+2A0h+var_180], xmm0 }
          v245 = xmmword_148153550;
          _XMM0 = 0;
          __asm { vmovupd [rbp+2A0h+var_120], xmm0 }
          v251 = 0.0;
          v252 = 0.0;
          v242 = 0.0;
          v243 = 1.0;
          v244 = 0.0;
          v246 = 0.0;
          v247 = 0.0;
          v248 = 1.0;
          v253 = 0.0;
          v249 = 1.0;
          v255 = 0;
          LODWORD(v267) = 0;
          LODWORD(v202) = 0;
          (*(void (__fastcall **)(__int64, _BYTE *))(*(_QWORD *)v22 + 8LL))(v22, v256);
          v70 = *(_QWORD *)(a1 + 0x140);
          v240[1] = &v203;
          v240[0] = a1;
          v240[4] = &v269;
          v240[2] = a2;
          v240[5] = &v241;
          v240[3] = v16;
          v240[6] = &v267;
          v240[7] = &v202;
          v240[8] = v208;
          if ( (unsigned int)sub_14657E9C0(a1, v70, (__int64)v256, v206, (__int64)v240) )
          {
            v19 = v269 ^ 1;
            goto LABEL_96;
          }
          if ( v21 == 1 || *(_BYTE *)(a1 + 0x200) )
          {
LABEL_19:
            v19 = v269;
            goto LABEL_96;
          }
        }
      }
    }
  }
  v71 = *(int *)(a1 + 0x1D0);
  if ( !(_DWORD)v71 )
    goto LABEL_55;
  v72 = *(_QWORD *)(a1 + 0x28);
  if ( !v72 )
  {
    v201 = *(_OWORD *)a2;
    if ( (int)v71 <= 0 )
      goto LABEL_55;
    v267 = v71;
    v80 = 0;
    v81 = 0;
    while ( 1 )
    {
      v82 = *(_QWORD *)(a1 + 0x20);
      v83 = a2[2];
      v84 = a2[1];
      v85 = *(float *)(v81 + v82 + 0x24);
      v86 = *(float *)(v81 + v82 + 0x28);
      v87 = *(float *)(v81 + v82 + 0x2C);
      v88 = *(float *)(v81 + v82 + 0x20);
      v89 = (float)((float)(v85 * v83) - (float)(v86 * v84)) + (float)(v87 * *a2);
      v90 = (float)((float)(v86 * *a2) - (float)(v88 * v83)) + (float)(v87 * v84);
      v91 = (float)((float)(v88 * v84) - (float)(v85 * *a2)) + (float)(v87 * v83);
      v92 = (float)(v91 * v85) - (float)(v90 * v86);
      v93 = v90 * v88;
      v94 = *(float *)(v81 + v82 + 0x3C);
      v95 = (float)((float)((float)(v92 + *a2) + v92) * v94) + *(float *)(v81 + v82 + 0x30);
      v96 = (float)((float)((float)((float)((float)(v89 * v86) - (float)(v91 * v88)) + v84)
                          + (float)((float)(v89 * v86) - (float)(v91 * v88)))
                  * v94)
          + *(float *)(v81 + v82 + 0x34);
      *((float *)&v201 + 2) = (float)((float)((float)((float)(v93 - (float)(v89 * v85)) + v83)
                                            + (float)(v93 - (float)(v89 * v85)))
                                    * v94)
                            + *(float *)(v81 + v82 + 0x38);
      *(float *)&v201 = v95;
      *((float *)&v201 + 1) = v96;
      v97 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v81 + v82) + 8LL))(*(_QWORD *)(v81 + v82));
      if ( v97 )
      {
        v98 = v97 - 4;
        if ( v98 )
        {
          v99 = v98 - 1;
          if ( v99 )
          {
            if ( v99 == 1 )
            {
              v100 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v81 + v82) + 0x110LL))(*(_QWORD *)(v81 + v82));
              v101 = *(float *)(v100 + 0x1C);
              v102 = (__m128)*(unsigned __int64 *)(v100 + 0xC);
              v103 = *(float *)(v100 + 4);
              v104 = v102;
              v105 = *(float *)v100 - (float)(v102.m128_f32[0] * v101);
              v106 = _mm_shuffle_ps(v102, v102, 0x55).m128_f32[0];
              v102.m128_i32[0] = *(_DWORD *)(v100 + 8);
              v107 = v103 - (float)(v106 * v101);
              v108 = v102.m128_f32[0] - (float)(v101 * *(float *)(v100 + 0x14));
              v109 = (float)((float)(v101 * *(float *)(v100 + 0x14)) + v102.m128_f32[0]) - v108;
              v110 = (float)((float)(_mm_shuffle_ps(v104, v104, 0x55).m128_f32[0] * v101) + v103) - v107;
              v111 = (float)((float)(v104.m128_f32[0] * v101) + *(float *)v100) - v105;
              v113 = (unsigned int)v201;
              *(float *)&v113 = *(float *)&v201 - v105;
              v112 = v113;
              v115 = (__m128)DWORD1(v201);
              v115.m128_f32[0] = *((float *)&v201 + 1) - v107;
              v114 = v115;
              v116 = v115.m128_f32[0] * v110;
              v117 = *((float *)&v201 + 2) - v108;
              v118 = v112;
              *(float *)&v118 = (float)((float)((float)(*(float *)&v112 * v111) + v116) + (float)(v117 * v109))
                              / (float)((float)((float)(v111 * v111) + (float)(v110 * v110)) + (float)(v109 * v109));
              _XMM1 = v118;
              if ( *(float *)&v118 >= 0.0 )
                __asm { vminss  xmm4, xmm1, xmm15 }
              else
                LODWORD(_XMM4) = 0;
              v121 = v114;
              v121.m128_f32[0] = (float)((float)((float)(v114.m128_f32[0] - (float)(*(float *)&_XMM4 * v110))
                                               * (float)(v114.m128_f32[0] - (float)(*(float *)&_XMM4 * v110)))
                                       + (float)((float)(*(float *)&v112 - (float)(*(float *)&_XMM4 * v111))
                                               * (float)(*(float *)&v112 - (float)(*(float *)&_XMM4 * v111))))
                               + (float)((float)(v117 - (float)(*(float *)&_XMM4 * v109))
                                       * (float)(v117 - (float)(*(float *)&_XMM4 * v109)));
              v122 = _mm_sqrt_ps(_mm_shuffle_ps(v121, v121, 0));
              if ( (float)(_mm_shuffle_ps(v122, v122, 0xFF).m128_f32[0] - *(float *)(v100 + 0x18)) < *((float *)&v201 + 3) )
                goto LABEL_96;
            }
          }
          else
          {
            v123 = (__m256i *)(*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v81 + v82) + 0x110LL))(*(_QWORD *)(v81 + v82));
            sub_1465AD140((__int64)v208, v123);
            v125 = DWORD1(v201);
            *(float *)&v125 = *((float *)&v201 + 1) - v210;
            v124 = v125;
            v126 = (float)((float)((float)(*((float *)&v201 + 1) - v210) * v208[1])
                         + (float)((float)(*(float *)&v201 - v209) * v208[0]))
                 + (float)((float)(*((float *)&v201 + 2) - v211) * v208[2]);
            *(float *)&v125 = (float)((float)((float)(*((float *)&v201 + 1) - v210) * v208[7])
                                    + (float)((float)(*(float *)&v201 - v209) * v208[6]))
                            + (float)((float)(*((float *)&v201 + 2) - v211) * v208[8]);
            *(float *)&v125 = (float)(*(float *)&v125 * *(float *)&v125) + (float)(v126 * v126);
            v127 = v125;
            v129 = v124;
            *(float *)&v129 = *(float *)&v124 * v208[4];
            v128 = v129;
            v130 = v127;
            *(float *)&v130 = fsqrt(*(float *)&v127) - v212;
            _XMM6 = v130;
            v132 = v128;
            *(float *)&v132 = (float)(*(float *)&v128 + (float)((float)(*(float *)&v201 - v209) * v208[3]))
                            + (float)((float)(*((float *)&v201 + 2) - v211) * v208[5]);
            v134 = v132 & xmmword_1480DCEE0;
            *(float *)&v134 = *(float *)&v134 - v213;
            _XMM5 = v134;
            __asm { vmaxss  xmm0, xmm5, xmm14 }
            v136 = _XMM0;
            __asm { vmaxss  xmm3, xmm6, xmm14 }
            v136.m128_f32[0] = (float)(_XMM0.m128_f32[0] * _XMM0.m128_f32[0])
                             + (float)(*(float *)&_XMM3 * *(float *)&_XMM3);
            __asm { vmaxss  xmm0, xmm5, xmm6 }
            v139 = _mm_sqrt_ps(_mm_shuffle_ps(v136, v136, 0));
            __asm { vminss  xmm1, xmm0, xmm14 }
            if ( (float)(*(float *)&_XMM1 + _mm_shuffle_ps(v139, v139, 0xFF).m128_f32[0]) < *((float *)&v201 + 3) )
              goto LABEL_96;
          }
          goto LABEL_53;
        }
        v141 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v81 + v82) + 0x110LL))(*(_QWORD *)(v81 + v82));
        v142 = sub_1466E1230(&v201, v141, 0, 0);
      }
      else
      {
        v143 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(v81 + v82) + 0x110LL))(*(_QWORD *)(v81 + v82));
        v142 = sub_1466E0E40(&v201, v143, 0, 0);
      }
      if ( v142 )
        goto LABEL_96;
LABEL_53:
      ++v80;
      v81 += 0x48;
      if ( v80 >= v267 )
      {
        v15 = 0;
        goto LABEL_55;
      }
    }
  }
  (*(void (__fastcall **)(__int64, float *))(*(_QWORD *)v72 + 8LL))(v72, &v214);
  v73 = *a2;
  v74 = a2[3];
  if ( *a2 > v214 && v73 < v217 && (v75 = a2[1], v75 > v215) && v75 < v218 && (v76 = a2[2], v76 > v216) && v76 < v219
    || (float)(v74 + v73) >= v214
    && (v77 = a2[1], (float)(v74 + v77) >= v215)
    && (v78 = a2[2], (float)(v74 + v78) >= v216)
    && (float)(v73 - v74) <= v217
    && (float)(v77 - v74) <= v218
    && (float)(v78 - v74) <= v219 )
  {
    v79 = *(_QWORD *)(a1 + 0x28);
    *(_QWORD *)&v201 = a1;
    *((_QWORD *)&v201 + 1) = a2;
    v20 = sub_14657EB90(a1, v79, (__int64)&v214, a2, (__int64)&v201);
    if ( v20 )
      goto LABEL_96;
  }
LABEL_55:
  v144 = *(_DWORD *)(a1 + 0x1D4);
  if ( v144 )
  {
    v145 = *(_QWORD *)(a1 + 0x80);
    if ( v145 )
    {
      (*(void (__fastcall **)(__int64, float *))(*(_QWORD *)v145 + 8LL))(v145, &v220);
      v146 = *a2;
      v147 = a2[3];
      if ( *a2 > v220
        && v146 < v223
        && (v148 = a2[1], v148 > v221)
        && v148 < v224
        && (v149 = a2[2], v149 > v222)
        && v149 < v225
        || (float)(v147 + v146) >= v220
        && (v150 = a2[1], (float)(v147 + v150) >= v221)
        && (v151 = a2[2], (float)(v147 + v151) >= v222)
        && (float)(v146 - v147) <= v223
        && (float)(v150 - v147) <= v224
        && (float)(v151 - v147) <= v225 )
      {
        v152 = *(_QWORD *)(a1 + 0x80);
        v239[0] = a1;
        v239[1] = a2;
        v20 |= sub_14657EDB0(a1, v152, (__int64)&v220, a2, v239);
      }
    }
    else if ( v144 > 0 )
    {
      v153 = *(int *)(a1 + 0x1D4);
      v154 = 0;
      do
      {
        v155 = *(_QWORD *)(a1 + 0x78);
        v156 = a2[2];
        v157 = a2[1];
        v158 = *(float *)(v154 + v155 + 0x20);
        v159 = *(float *)(v154 + v155 + 0x24);
        v160 = *(float *)(v154 + v155 + 0x28);
        v161 = *(float *)(v154 + v155 + 0x2C);
        v162 = *(__int64 **)(v154 + v155);
        v163 = *v162;
        v164 = (float)((float)(v159 * v156) - (float)(v160 * v157)) + (float)(v161 * *a2);
        v165 = (float)((float)(v160 * *a2) - (float)(v158 * v156)) + (float)(v161 * v157);
        v166 = (float)((float)(v158 * v157) - (float)(v159 * *a2)) + (float)(v161 * v156);
        v167 = v158 * v165;
        v168 = v158 * v166;
        v169 = *(float *)(v154 + v155 + 0x3C);
        v204[0] = (float)((float)((float)((float)((float)(v159 * v166) - (float)(v160 * v165)) + *a2)
                                + (float)((float)(v159 * v166) - (float)(v160 * v165)))
                        * v169)
                + *(float *)(v154 + v155 + 0x30);
        v204[1] = (float)((float)((float)((float)((float)(v160 * v164) - v168) + v157)
                                + (float)((float)(v160 * v164) - v168))
                        * v169)
                + *(float *)(v154 + v155 + 0x34);
        v204[2] = (float)((float)((float)((float)(v167 - (float)(v159 * v164)) + v156)
                                + (float)(v167 - (float)(v159 * v164)))
                        * v169)
                + *(float *)(v154 + v155 + 0x38);
        if ( (*(float (__fastcall **)(__int64 *, float *, _QWORD))(v163 + 0x48))(v162, v204, 0) <= a2[3] )
          goto LABEL_96;
        ++v15;
        v154 += 0x68;
      }
      while ( v15 < v153 );
    }
    if ( v20 )
      goto LABEL_96;
  }
  v170 = *(int *)(a1 + 0x1D8);
  if ( !(_DWORD)v170 )
    goto LABEL_95;
  v171 = *(_QWORD *)(a1 + 0xD8);
  if ( v171 )
  {
    (*(void (__fastcall **)(__int64, float *))(*(_QWORD *)v171 + 8LL))(v171, &v226);
    v172 = *a2;
    v173 = a2[3];
    if ( *a2 > v226
      && v172 < v229
      && (v174 = a2[1], v174 > v227)
      && v174 < v230
      && (v175 = a2[2], v175 > v228)
      && v175 < v231
      || (float)(v173 + v172) >= v226
      && (v176 = a2[1], (float)(v173 + v176) >= v227)
      && (v177 = a2[2], (float)(v173 + v177) >= v228)
      && (float)(v172 - v173) <= v229
      && (float)(v176 - v173) <= v230
      && (float)(v177 - v173) <= v231 )
    {
      v178 = *(_QWORD *)(a1 + 0xD8);
      v207[0] = a1;
      v207[1] = a2;
      v20 |= sub_14657F150(a1, v178, (__int64)&v226, a2, v207);
    }
LABEL_94:
    if ( v20 )
      goto LABEL_96;
LABEL_95:
    v19 = 0;
    goto LABEL_96;
  }
  v205 = *(_OWORD *)a2;
  if ( (int)v170 <= 0 )
    goto LABEL_94;
  v179 = 0;
  v180 = v170;
  v181 = 0;
  while ( 1 )
  {
    v182 = *(_QWORD *)(a1 + 0xD0);
    v183 = a2[2];
    v184 = a2[1];
    v185 = *(float *)(v181 + v182 + 0x28);
    v186 = *(float *)(v181 + v182 + 0x20);
    v187 = *(float *)(v181 + v182 + 0x24);
    v188 = *(float *)(v181 + v182 + 0x2C);
    v189 = (float)((float)(v187 * v183) - (float)(v185 * v184)) + (float)(v188 * *a2);
    v190 = (float)((float)(v185 * *a2) - (float)(v186 * v183)) + (float)(v188 * v184);
    v191 = (float)((float)(v186 * v184) - (float)(v187 * *a2)) + (float)(v188 * v183);
    v192 = v191 * v186;
    v193 = *(float *)(v181 + v182 + 0x34);
    v194 = (float)(v191 * v187) - (float)(v190 * v185);
    v195 = v190 * v186;
    v196 = *(float *)(v181 + v182 + 0x38);
    v197 = v195 - (float)(v189 * v187);
    v198 = v189 * v185;
    v199 = *(float *)(v181 + v182 + 0x3C);
    *(float *)&v205 = (float)((float)((float)(v194 + *a2) + v194) * v199) + *(float *)(v181 + v182 + 0x30);
    *((float *)&v205 + 1) = (float)((float)((float)((float)(v198 - v192) + v184) + (float)(v198 - v192)) * v199) + v193;
    *((float *)&v205 + 2) = (float)((float)((float)(v197 + v183) + v197) * v199) + v196;
    if ( (unsigned int)sub_1465EF1D0(*(_QWORD *)(v181 + v182), &v205) )
      break;
    ++v179;
    v181 += 0x68;
    if ( v179 >= v180 )
      goto LABEL_94;
  }
LABEL_96:
  v236 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v19;
}

// --- End Function: sub_1465C1F80 (0x1465C1F80) ---

// --- Function: sub_1465CD790 (0x1465CD790) ---
__int64 __fastcall sub_1465CD790(__int64 a1)
{
  unsigned __int64 v2; // rax
  unsigned int v3; // r14d
  __int64 v4; // rsi
  float v5; // xmm4_4
  float v6; // xmm5_4
  float v7; // xmm3_4
  double v9; // xmm12_8
  double v10; // xmm10_8
  double v11; // xmm9_8
  double v12; // xmm14_8
  double v13; // kr00_8
  double v15; // xmm15_8
  double v16; // xmm6_8
  double v17; // xmm5_8
  double v18; // xmm4_8
  double v19; // xmm2_8
  double v20; // xmm12_8
  double v21; // xmm10_8
  double v22; // xmm7_8
  double v23; // xmm9_8
  double v24; // xmm13_8
  double v25; // xmm15_8
  double v26; // kr00_8
  double v27; // xmm4_8
  double v29; // xmm6_8
  double v31; // xmm4_8
  double v32; // xmm3_8
  double v33; // kr00_8
  __int64 v34; // rax
  _DWORD v36[4]; // [rsp+30h] [rbp-D0h] BYREF
  float v37[4]; // [rsp+40h] [rbp-C0h] BYREF
  double v38; // [rsp+50h] [rbp-B0h]
  double v39; // [rsp+58h] [rbp-A8h]
  double v40; // [rsp+60h] [rbp-A0h]
  double v41; // [rsp+68h] [rbp-98h]
  double v42; // [rsp+70h] [rbp-90h]
  int n0x2800; // [rsp+80h] [rbp-80h] BYREF
  __int64 v44; // [rsp+84h] [rbp-7Ch]
  int v45; // [rsp+8Ch] [rbp-74h]
  __int64 v46; // [rsp+90h] [rbp-70h]
  unsigned __int64 v47; // [rsp+98h] [rbp-68h]
  __int64 v48; // [rsp+A0h] [rbp-60h]
  __int64 v49; // [rsp+A8h] [rbp-58h]
  double v50; // [rsp+1F0h] [rbp+F0h]
  double v51; // [rsp+1F8h] [rbp+F8h]

  n0x2800 = 0x2800;
  v44 = 0;
  v45 = 0;
  v47 = 0;
  v48 = 0;
  v49 = 0;
  v46 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v2 = *(_QWORD *)(a1 + 0x7000);
  v3 = 0;
  if ( v2 )
  {
    v4 = 0;
    do
    {
      (*(void (__fastcall **)(_QWORD, float *, _DWORD *))(**(_QWORD **)((v4 << 6) + a1) + 0xE8LL))(
        *(_QWORD *)((v4 << 6) + a1),
        v37,
        v36);
      v5 = *(float *)v36;
      v6 = *(float *)&v36[2];
      v7 = *(float *)&v36[1];
      *(float *)(a1 + 4 * v4 + 0x6400) = v37[0];
      *(float *)(a1 + 4 * v4 + 0x6C00) = v7;
      *(float *)(a1 + 4 * v4 + 0x6A00) = v5;
      *(float *)(a1 + 4 * v4 + 0x6E00) = v6;
      *(float *)(a1 + 4 * v4 + 0x6600) = v37[1];
      *(float *)(a1 + 4 * v4 + 0x2000) = (float)((float)(v6 + v5) * v7) + (float)(v6 * v5);
      *(float *)(a1 + 4 * v4 + 0x6800) = v37[2];
      *(_DWORD *)(a1 + 4 * v4 + 0x2200) = v3;
      _XMM11 = *(_OWORD *)((v4 << 6) + a1 + 8);
      v9 = *(double *)((v4 << 6) + a1 + 0x18);
      v10 = 1.0 / *(float *)((v4 << 6) + a1 + 0x30);
      v11 = *(float *)((v4 << 6) + a1 + 0x20);
      v12 = *(float *)((v4 << 6) + a1 + 0x28);
      v13 = *(float *)((v4 << 6) + a1 + 0x24);
      __asm { vunpckhpd xmm8, xmm11, xmm11 }
      v15 = *(float *)((v4 << 6) + a1 + 0x2C);
      v16 = -v13 * v9 - -v12 * *(double *)&_XMM8 + *(double *)&_XMM11 * v15;
      v17 = -v12 * *(double *)&_XMM11 - v9 * -v11 + *(double *)&_XMM8 * v15;
      v18 = *(double *)&_XMM8 * -v11 - -v13 * *(double *)&_XMM11 + v9 * v15;
      v38 = v12 * v17 - v18 * v13;
      v40 = v16 * v13 - v11 * v17;
      v39 = v11 * v18 - v12 * v16;
      v51 = v11;
      v50 = v10;
      v19 = v13 * v13;
      *(double *)&_XMM8 = v11 * v13;
      *(double *)&_XMM11 = v11 * v12;
      v20 = v12 * v13;
      v21 = -(v11 * v15);
      v22 = v12 * v12 + v12 * v12;
      v23 = v11 * v11 + v11 * v11;
      v24 = -(v13 * v15);
      v41 = (1.0 - (v22 + v19 + v19)) * v50;
      v42 = (-(v12 * v15) - v12 * v15 + *(double *)&_XMM8 + *(double *)&_XMM8) * v50;
      v25 = (*(double *)&_XMM8 - -(v12 * v15) + *(double *)&_XMM8 - -(v12 * v15)) * v50;
      v26 = v21 + v21;
      v27 = v20 - v21;
      _XMM10 = *(_OWORD *)((v4 << 6) + a1 + 8);
      *(double *)&_XMM8 = (v26 + v20 + v20) * v50;
      v29 = (v27 + v27) * v50;
      __asm { vunpckhpd xmm0, xmm10, xmm10 }
      v31 = (*(double *)&_XMM10 + v38 + v38) * COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL);
      v32 = (*(double *)&_XMM0 + v39 + v39) * COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL);
      v33 = (v40 + *(double *)((v4 << 6) + a1 + 0x18) + v40) * COERCE_DOUBLE(*(_QWORD *)&v50 ^ 0x8000000000000000uLL);
      v34 = a1 + ((v4 + 0x48) << 7);
      *(double *)v34 = v41;
      *(double *)(v34 + 8) = v42;
      *(double *)(v34 + 0x10) = (*(double *)&_XMM11 - v24 + *(double *)&_XMM11 - v24) * v50;
      *(double *)(v34 + 0x20) = v25;
      *(double *)(v34 + 0x28) = (1.0 - (v23 + v22)) * v50;
      *(double *)(v34 + 0x30) = *(double *)&_XMM8;
      *(double *)(v34 + 0x40) = (v51 * v12 + v51 * v12 + v24 + v24) * v50;
      *(double *)(v34 + 0x48) = v29;
      *(double *)(v34 + 0x50) = (1.0 - (v23 + v19 + v19)) * v50;
      *(double *)(v34 + 0x60) = v31;
      *(double *)(v34 + 0x68) = v32;
      *(double *)(v34 + 0x70) = v33;
      *(_QWORD *)(v34 + 0x18) = 0;
      *(_QWORD *)(v34 + 0x38) = 0;
      *(_QWORD *)(v34 + 0x58) = 0;
      *(_QWORD *)(v34 + 0x78) = 0x3FF0000000000000LL;
      v2 = *(_QWORD *)(a1 + 0x7000);
      v4 = ++v3;
    }
    while ( v3 < v2 );
  }
  sub_146586DC0(
    (unsigned int *)(a1 + 0x2200),
    (unsigned int *)(a1 + 4 * (v2 + 0x880)),
    (__int64)(4 * (v2 + 0x880) - 0x2200) >> 2,
    a1);
  *(_BYTE *)(a1 + 0x7008) = 1;
  v47 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_1465CD790 (0x1465CD790) ---

// --- Function: sub_1465D2350 (0x1465D2350) ---
__int64 __fastcall sub_1465D2350(__int64 a1, int *a2, float *a3, float *a4, float a5, _QWORD *a6, __int64 a7, char a8)
{
  int n0x2800; // [rsp+50h] [rbp-98h] BYREF
  __int64 v14; // [rsp+54h] [rbp-94h]
  int v15; // [rsp+5Ch] [rbp-8Ch]
  __int64 v16; // [rsp+60h] [rbp-88h]
  unsigned __int64 v17; // [rsp+68h] [rbp-80h]
  __int64 v18; // [rsp+70h] [rbp-78h]
  __int64 v19; // [rsp+78h] [rbp-70h]
  int v20[10]; // [rsp+A0h] [rbp-48h] BYREF
  __int64 v21; // [rsp+C8h] [rbp-20h]
  __int64 v22; // [rsp+D0h] [rbp-18h]
  __int64 v23; // [rsp+D8h] [rbp-10h]

  n0x2800 = 0x2800;
  v14 = 0;
  v15 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v16 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  sub_1465B1520((__int64)v20, *a2, a2[1], a2[2]);
  sub_14659FB80(v20, a1, a3, a4, a5, a6, a7, 0, a8);
  sub_1402A63C0(v23);
  sub_1402A63C0(v22);
  sub_1402A63C0(v21);
  v17 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_1465D2350 (0x1465D2350) ---

// --- Function: sub_1465E5B30 (0x1465E5B30) ---
__int64 __fastcall sub_1465E5B30(_QWORD *a1, unsigned __int64 a2)
{
  unsigned __int64 v4; // rdx
  __int64 *v5; // rax
  unsigned __int64 v7; // [rsp+38h] [rbp+10h] BYREF

  v7 = a2;
  if ( a2 > a1[1] )
  {
    v4 = (a2 + 0xFFF) & 0xFFFFFFFFFFFFF000uLL;
    a1[1] = v4;
    *a1 = sub_14753C650(*a1, v4, 0x40, (unsigned int)dword_1497E7C00);
  }
  v5 = (__int64 *)&v7;
  if ( a2 < a1[2] )
    v5 = a1 + 2;
  a1[2] = *v5;
  return *a1;
}

// --- End Function: sub_1465E5B30 (0x1465E5B30) ---

// --- Function: sub_1465ED1F0 (0x1465ED1F0) ---
__int64 __fastcall sub_1465ED1F0(int a1, __int64 a2, __int64 a3)
{
  __int64 result; // rax

  result = (unsigned int)(*(_DWORD *)(a2 + 8) * *(_DWORD *)(a2 + 0xC));
  if ( (_DWORD)result )
    return sub_1465EDE50(a1, *(_QWORD *)a2, (int)a2 + 8, (int)a2 + 0x10, a3);
  return result;
}

// --- End Function: sub_1465ED1F0 (0x1465ED1F0) ---

// --- Function: map_get_value_by_id (0x1465FC620) ---
// Searches for a specific integer ID (`target_id`) within a sorted array of `(ID,
// Value)` pairs (or similar structure) and returns the associated integer value.
// It employs a fast path using SIMD instructions (`vpcmpeqd`) for arrays up to
// 0x40 elements, and a binary search-like algorithm for larger arrays. An optional
// output pointer (`pp_found_entry`) can return the address of the found entry.
__int64 __fastcall map_get_value_by_id(__int64 a1, int n10102016, char **a3)
{
  unsigned int n0x40; // edx
  __int64 v8; // rax
  int v10; // r8d
  _QWORD *v11; // r10
  int v12; // r9d
  __int64 v15; // rdi
  __int64 v16; // rbp
  int n8; // r14d
  __int64 v18; // r11
  int n3; // ecx
  int n3_1; // ecx
  int n3_2; // ecx
  int n3_3; // ecx
  _QWORD *v31; // r11
  _QWORD *v32; // rdi
  __int64 v33; // rax
  __int64 v34; // rcx
  char *v35; // rcx
  char **v36; // r9
  _QWORD *v37; // r8
  char *v38; // r11
  char *v39; // r9
  char *v40; // rcx
  __int64 v41; // rcx

  if ( (*(_DWORD *)(a1 + 0x184) & 4) != 0 )
    return (*(__int64 (**)(void))(a1 + 0x190))();
  n0x40 = *(_DWORD *)(a1 + 0x170);
  if ( n0x40 )
  {
    if ( n0x40 == 1 )
      return **(_DWORD **)(a1 + 0x30) != n10102016;
    LODWORD(v8) = *(_DWORD *)(a1 + 0x170);
    if ( (int)n0x40 <= 0x40 )
    {
      _XMM2 = xmmword_148AC6ED0;
      v10 = 0;
      v11 = (_QWORD *)(a1 + 0x40);
      v12 = 0;
      __asm
      {
        vpinsrd xmm2, xmm2, ebx, 0
        vpunpcklqdq xmm2, xmm2, xmm2
      }
      if ( (int)(n0x40 & 0xFFFFFFF8) <= 0 )
      {
LABEL_18:
        v31 = v11;
        v32 = v11;
        switch ( n0x40 & 7 )
        {
          case 1u:
            goto LABEL_39;
          case 2u:
            goto LABEL_37;
          case 3u:
            goto LABEL_35;
          case 4u:
            goto LABEL_33;
          case 5u:
            goto LABEL_31;
          case 6u:
            goto LABEL_29;
          case 7u:
            v33 = *v11;
            v34 = v12;
            if ( *(_DWORD *)(*v11 + 8LL * v12) == n10102016 )
              goto LABEL_40;
            v10 = 1;
            v31 = (_QWORD *)(a1 + 0x40);
LABEL_29:
            v32 = v31;
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
LABEL_31:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
            v11 = v32;
LABEL_33:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
LABEL_35:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
LABEL_37:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
              goto LABEL_40;
            ++v10;
LABEL_39:
            v34 = v10 + v12;
            v33 = *v11;
            if ( *(_DWORD *)(*v11 + 8 * v34) == n10102016 )
LABEL_40:
              n0x40 = *(_DWORD *)(v33 + 8 * v34 + 4);
            break;
          default:
            return n0x40;
        }
      }
      else
      {
        v15 = *v11;
        v16 = 0;
        n8 = 8;
        v18 = *v11 + 0x20LL;
        while ( 1 )
        {
          _mm_prefetch((const char *)(v15 + 8LL * n8), 1);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11-20h]
            vmovmskps ecx, xmm1
          }
          n3 = _ECX - 1;
          if ( !n3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 4);
          if ( n3 == 3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0xC);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11-10h]
            vmovmskps ecx, xmm1
          }
          n3_1 = _ECX - 1;
          if ( !n3_1 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x14);
          if ( n3_1 == 3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x1C);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11]
            vmovmskps ecx, xmm1
          }
          n3_2 = _ECX - 1;
          if ( !n3_2 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x24);
          if ( n3_2 == 3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x2C);
          __asm
          {
            vpcmpeqd xmm1, xmm2, xmmword ptr [r11+10h]
            vmovmskps ecx, xmm1
          }
          n3_3 = _ECX - 1;
          if ( !n3_3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x34);
          if ( n3_3 == 3 )
            return *(unsigned int *)(v15 + 8LL * v12 + 0x3C);
          v12 += 8;
          n8 += 8;
          v16 += 8;
          v18 += 0x40;
          if ( v16 >= (int)(n0x40 & 0xFFFFFFF8) )
            goto LABEL_18;
        }
      }
      return n0x40;
    }
    if ( a3 )
    {
      v35 = *a3;
      v36 = (char **)(a1 + 0x40);
      *a3 = 0;
      v37 = (_QWORD *)(a1 + 0x40);
      v8 = *(int *)(a1 + 0x170);
      if ( v35 )
      {
        v38 = *v36;
        if ( *(_DWORD *)v35 >= n10102016 )
        {
          v39 = *v36;
          v37 = (_QWORD *)(a1 + 0x40);
          v40 = v35 + 8;
        }
        else
        {
          v39 = v35;
          v37 = (_QWORD *)(a1 + 0x40);
          v40 = &v38[8 * v8];
        }
        goto LABEL_48;
      }
    }
    else
    {
      v36 = (char **)(a1 + 0x40);
      v37 = (_QWORD *)(a1 + 0x40);
    }
    v39 = *v36;
    v40 = &v39[8 * (int)v8];
LABEL_48:
    v41 = (v40 - v39) >> 3;
    if ( v41 > 0 )
    {
      do
      {
        if ( *(_DWORD *)&v39[8 * ((unsigned __int64)v41 >> 1)] >= n10102016 )
        {
          v41 = (unsigned __int64)v41 >> 1;
        }
        else
        {
          v39 += 8 * ((unsigned __int64)v41 >> 1) + 8;
          v41 += 0xFFFFFFFFFFFFFFFFuLL - ((unsigned __int64)v41 >> 1);
        }
      }
      while ( v41 > 0 );
      v37 = (_QWORD *)(a1 + 0x40);
    }
    if ( v39 != (char *)(*v37 + 8LL * *(int *)(a1 + 0x170)) && *(_DWORD *)v39 == n10102016 )
    {
      if ( a3 )
        *a3 = v39;
      return *((unsigned int *)v39 + 1);
    }
  }
  return n0x40;
}

// --- End Function: map_get_value_by_id (0x1465FC620) ---

// --- Function: sub_1465FEB70 (0x1465FEB70) ---
const char *sub_1465FEB70()
{
  __int64 v0; // rdi
  __int64 v1; // rbx
  __int64 v2; // rsi
  __int64 v3; // r9
  const char *result; // rax

  if ( *(_QWORD *)NtCurrentTeb_w() )
  {
    v0 = *(_QWORD *)(NtCurrentTeb_w() + 0x10);
    v1 = *(_QWORD *)(v0 + 0x10);
    if ( !v1 )
    {
      v2 = sub_146601F10();
      v3 = allocWithProfilerInfo_w(0xE1A0u, (struct _exception *)0x20);
      if ( v3 )
        v1 = sub_1465B0AA0(v3, v2 / 0x40, v2 % 0x40);
      else
        v1 = 0;
      *(_QWORD *)(v1 + 0x138) = sub_1466284C0(qword_14A043B40, v2);
      *(_QWORD *)(v0 + 0x10) = v1;
    }
    return (const char *)v1;
  }
  else
  {
    result = *(const char **)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x3E8LL);
    _mm_prefetch(result, 1);
  }
  return result;
}

// --- End Function: sub_1465FEB70 (0x1465FEB70) ---

// --- Function: sub_14660C430 (0x14660C430) ---
__int64 __fastcall sub_14660C430(__int64 a1, __int64 a2, unsigned int a3)
{
  unsigned __int8 v4; // bp
  unsigned int v5; // esi
  int v7; // edi
  __int64 v8; // rcx
  char v9; // di
  unsigned __int8 v10; // al
  __int64 v11; // rcx

  v4 = 0;
  v5 = a3;
  v7 = *(_DWORD *)(*(_QWORD *)(a1 + 0x78) + 0x184LL);
  v8 = *(_QWORD *)(a1 + 0x78);
  if ( !v8 || *(int *)(v8 + 0x188) <= 1 )
  {
    if ( (a3 & v7 & 0x40) == 0 )
    {
LABEL_8:
      sub_14660C4F0(*(_QWORD *)(a1 + 0x78), a2, v5, *(unsigned int *)(a1 + 0x6C));
      goto LABEL_9;
    }
    v10 = sub_146637190(a1);
LABEL_7:
    v4 = v10;
    goto LABEL_8;
  }
  v9 = a3 & v7;
  sub_14660C4F0(v8, a2, a3 & 0xFFFFFFBF, 0xFFFFFFFFLL);
  if ( (v9 & 0x40) != 0 )
  {
    v10 = sub_146637190(a1);
    v5 |= 0x40u;
    goto LABEL_7;
  }
LABEL_9:
  v11 = *(_QWORD *)(a1 + 0x78);
  *(_DWORD *)(a1 + 0x68) = *(_DWORD *)(v11 + 0x170);
  *(_DWORD *)(a1 + 0x70) = *(_DWORD *)(v11 + 0x17C);
  return v4;
}

// --- End Function: sub_14660C430 (0x14660C430) ---

// --- Function: sub_146615C30 (0x146615C30) ---
char __fastcall sub_146615C30(__int64 a1)
{
  __int64 v1; // rax

  v1 = *(_QWORD *)(a1 + 0x78);
  if ( v1 && *(int *)(v1 + 0x188) > 1 )
    LOBYTE(v1) = sub_1465F0D80(a1);
  return v1;
}

// --- End Function: sub_146615C30 (0x146615C30) ---

// --- Function: sub_14662E360 (0x14662E360) ---
__int64 __fastcall sub_14662E360(__int64 a1, int a2, __int64 a3)
{
  __int64 v3; // rax
  __int64 v5; // rsi
  __int64 v7; // rbx
  __int64 v8; // rcx
  __int64 result; // rax
  __int64 v10; // rdx

  v3 = *(_QWORD *)(a1 + 0x78);
  v5 = a2;
  if ( v3 && *(int *)(v3 + 0x188) > 1 )
    sub_1465F0D80(a1);
  v7 = *(_QWORD *)(a1 + 0x78);
  v8 = *(_QWORD *)v7 + 0x20 * v5;
  *(_DWORD *)v8 = *(_DWORD *)a3;
  *(_DWORD *)(v8 + 4) = *(_DWORD *)(a3 + 4);
  *(_DWORD *)(v8 + 8) = *(_DWORD *)(a3 + 8);
  *(_DWORD *)(v8 + 0xC) = *(_DWORD *)(a3 + 0xC);
  *(double *)(v8 + 0x10) = *(double *)(a3 + 0x10);
  *(_DWORD *)(v8 + 0x18) = *(_DWORD *)(a3 + 0x18);
  result = *(unsigned int *)(a3 + 0x1C);
  *(_DWORD *)(v8 + 0x1C) = result;
  _InterlockedOr((volatile signed __int32 *)(v7 + 0x184), 1u);
  v10 = *(_QWORD *)(v7 + 0x70) + (v5 << 6) + 0x28;
  if ( *(_QWORD *)v10 || *(_DWORD *)(v10 + 8) )
  {
    result = sub_1465FC5B0((_QWORD *)v7, (__int64 *)v10);
    if ( result && *(_DWORD *)(result + 0x94) )
    {
      result = *(_DWORD *)result & 0xFFA00000;
      if ( (_DWORD)result == 0xFFA00000 )
        _InterlockedOr((volatile signed __int32 *)(v7 + 0x184), 8u);
    }
  }
  return result;
}

// --- End Function: sub_14662E360 (0x14662E360) ---

// --- Function: sub_146646860 (0x146646860) ---
__int64 __fastcall sub_146646860(__int64 a1)
{
  __int64 result; // rax

  *(_QWORD *)a1 = &off_148AC7630;
  _InterlockedIncrement(&dword_1513C40E0);
  *(_DWORD *)(a1 + 0x14) = 0x7FFFFFFF;
  *(_QWORD *)a1 = &off_148AC7858;
  *(_DWORD *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0;
  *(_DWORD *)(a1 + 0x28) = 0;
  *(_DWORD *)(a1 + 0xC) = 1;
  *(_DWORD *)(a1 + 0x10) = 0;
  result = a1;
  *(_DWORD *)(a1 + 8) = 0xFFFFFFFF;
  return result;
}

// --- End Function: sub_146646860 (0x146646860) ---

// --- Function: sub_146647D40 (0x146647D40) ---
__int64 (__fastcall **__fastcall sub_146647D40(__int64 a1))()
{
  bool v1; // zf
  __int64 v3; // rcx
  __int64 (__fastcall **result)(); // rax

  v1 = *(_DWORD *)(a1 + 0x28) == 1;
  *(_QWORD *)a1 = &off_148AC7858;
  if ( v1 )
  {
    v3 = *(_QWORD *)(a1 + 0x20);
    if ( v3 )
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v3 + 8LL))(v3);
  }
  _InterlockedDecrement(&dword_1513C40E0);
  result = &off_148AC7630;
  *(_QWORD *)a1 = &off_148AC7630;
  return result;
}

// --- End Function: sub_146647D40 (0x146647D40) ---

// --- Function: sub_146666E30 (0x146666E30) ---
__int64 __fastcall sub_146666E30(__int64 a1)
{
  __int64 result; // rax

  sub_1466B2A70(a1 + 0x38);
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)(a1 + 0x38) + 0x20LL))(a1 + 0x38, a1);
  result = a1;
  *(float *)(a1 + 0x10) = (float)((float)(*(float *)(a1 + 0x80) + *(float *)(a1 + 0x7C)) + *(float *)(a1 + 0x84))
                        * 0.000099999997;
  return result;
}

// --- End Function: sub_146666E30 (0x146666E30) ---

// --- Function: sub_146667200 (0x146667200) ---
__int64 __fastcall sub_146667200(__int64 a1, __int64 a2)
{
  float v3; // xmm10_4
  float v4; // xmm6_4
  __m128 v5; // kr00_16
  __int64 result; // rax
  unsigned __int64 v9; // [rsp+28h] [rbp-79h]
  float v10; // [rsp+30h] [rbp-71h]

  *(double *)(a1 + 0x34) = *(double *)a2;
  *(_DWORD *)(a1 + 0x3C) = *(_DWORD *)(a2 + 8);
  *(double *)(a1 + 0x40) = *(double *)(a2 + 0xC);
  *(_DWORD *)(a1 + 0x48) = *(_DWORD *)(a2 + 0x14);
  *(float *)(a1 + 0x50) = *(float *)(a2 + 0x1C);
  *(float *)(a1 + 0x4C) = *(float *)(a2 + 0x18);
  v3 = *(float *)(a1 + 0x44);
  v4 = *(float *)(a1 + 0x48);
  if ( (float)((float)((float)((float)((float)(v3 * v3) + (float)(*(float *)(a1 + 0x40) * *(float *)(a1 + 0x40)))
                             + (float)(v4 * v4))
                     * 0.80999994)
             - (float)(*(float *)(a1 + 0x40) * *(float *)(a1 + 0x40))) >= 0.0 )
  {
    LODWORD(v10) = LODWORD(v3) ^ 0x80000000;
    *(float *)&v9 = 0.0;
    HIDWORD(v9) = *(_DWORD *)(a1 + 0x48);
  }
  else
  {
    LODWORD(v9) = LODWORD(v4) ^ 0x80000000;
    *((float *)&v9 + 1) = 0.0;
    v10 = *(float *)(a1 + 0x40);
  }
  v5 = (__m128)v9;
  v5.m128_f32[0] = (float)((float)(v5.m128_f32[0] * v5.m128_f32[0]) + (float)(*((float *)&v9 + 1) * *((float *)&v9 + 1)))
                 + (float)(v10 * v10);
  if ( v5.m128_f32[0] > 9.9999997e-21 )
  {
    _XMM0 = _mm_shuffle_ps(v5, v5, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _mm_shuffle_ps(_XMM3, _XMM3, 0xFF);
  }
  sub_1466B2A70(a1 + 0x58);
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)(a1 + 0x58) + 0x20LL))(a1 + 0x58, a1);
  result = a1;
  *(float *)(a1 + 0x10) = (float)(*(float *)(a1 + 0x50) + *(float *)(a1 + 0x4C)) * 0.000099999997;
  return result;
}

// --- End Function: sub_146667200 (0x146667200) ---

// --- Function: sub_146670E80 (0x146670E80) ---
__int64 __fastcall sub_146670E80(__int64 a1, __int64 *a2, double *a3, int a4, unsigned int a5)
{
  __int64 v9; // rax
  __int64 result; // rax
  __int64 v11; // r13
  __int64 v12; // r12
  volatile signed __int32 *v13; // rdi
  __int64 v14; // rax
  float *v15; // [rsp+40h] [rbp-48h]
  float v16; // [rsp+48h] [rbp-40h] BYREF
  float v17; // [rsp+4Ch] [rbp-3Ch]
  float v18; // [rsp+50h] [rbp-38h]

  if ( a4 )
  {
    v11 = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    v12 = 0x3D0DD * v11;
    v13 = &dword_14A287AFC[0x7A1BA * v11];
    if ( _InterlockedCompareExchange(v13, 0x10000, 0) )
      sub_1403A4CA0(v13, 0, 0x10000);
    HIDWORD(qword_14A138420[v12 + 0x25A9E]) = 0;
    LODWORD(qword_14A138420[v12 + 0xD000]) = 0;
    HIDWORD(qword_14A138420[v12 + 0xD008]) = 0;
    HIDWORD(qword_14A138420[v12 + 0xD01D]) = 0;
    LODWORD(qword_14A138420[v12 + 0xD00D]) = 0;
    v14 = *(_QWORD *)(a1 + 0x38);
    v16 = 0.0;
    v17 = 0.0;
    v18 = 0.0;
    (*(void (__fastcall **)(__int64, double *, float *))(v14 + 0x48))(a1 + 0x38, a3 + 3, &v16);
    sub_14666EAC0((__int64)a2, a5, a3, (__int64 *)(a1 + 0x38), v15, a4 - 1, 0, v11);
    result = (unsigned int)(_InterlockedExchangeAdd(v13, 0xFFFF0000) - 0x10000);
    if ( byte_1499FF3E5 )
      return qword_1499FF3F0(v13);
  }
  else
  {
    v9 = *a2;
    v16 = 0.0;
    v17 = 0.0;
    v18 = 0.0;
    return (*(__int64 (__fastcall **)(__int64 *, __int64, double *, _QWORD, _DWORD, float *, _BYTE))(v9 + 0x20))(
             a2,
             a1,
             a3,
             a5,
             0,
             &v16,
             0);
  }
  return result;
}

// --- End Function: sub_146670E80 (0x146670E80) ---

// --- Function: sub_146683520 (0x146683520) ---
__int64 __fastcall sub_146683520(__int64 a1)
{
  volatile signed __int32 *v2; // rbx
  __m256i *v3; // rax
  __int64 v4; // rdi

  v2 = (volatile signed __int32 *)(a1 + 0x100);
  if ( _InterlockedCompareExchange((volatile signed __int32 *)(a1 + 0x100), 0x10000, 0) )
    sub_1403A4CA0((volatile signed __int32 *)(a1 + 0x100), 0, 0x10000);
  if ( !*(_QWORD *)(a1 + 0xF8) )
  {
    v3 = (__m256i *)sub_1402A63D0(0x60u);
    if ( v3 )
    {
      *v3 = (__m256i)0LL;
      v3[1] = (__m256i)0LL;
      v3[2] = (__m256i)0LL;
      v3[1].m256i_i64[0] = 0;
      v3[1].m256i_i64[1] = 0;
      v3[1].m256i_i64[2] = 0;
      v3[1].m256i_i64[3] = 0;
      v3[2].m256i_i64[0] = 0;
      v3[2].m256i_i64[1] = 0;
      v3[2].m256i_i64[2] = 0;
      v3[2].m256i_i64[3] = 0;
    }
    else
    {
      v3 = 0;
    }
    *(_QWORD *)(a1 + 0xF8) = v3;
    __asm { vzeroupper }
    sub_1466C64A0(a1 + 0x38, v3);
  }
  v4 = *(_QWORD *)(a1 + 0xF8);
  _InterlockedExchangeAdd(v2, 0xFFFF0000);
  if ( byte_1499FF3E5 )
    qword_1499FF3F0(v2);
  return v4;
}

// --- End Function: sub_146683520 (0x146683520) ---

// --- Function: sub_1466919E0 (0x1466919E0) ---
__int64 __fastcall sub_1466919E0(__int64 a1, __int64 a2, __int64 a3, __int64 a4, __int64 a5, __int64 a6, int a7)
{
  volatile signed __int32 *v9; // rbx
  __int64 result; // rax
  unsigned int v13; // edi

  v9 = &dword_14A287AFC[0x7A1BA * a7];
  if ( _InterlockedCompareExchange(v9, 0x10000, 0) )
    sub_1403A4CA0(v9, 0, 0x10000);
  result = (*(__int64 (__fastcall **)(__int64, __int64, __int64, __int64, __int64, __int64, int))(*(_QWORD *)a1 + 0x1E8LL))(
             a1,
             a2,
             a3,
             a4,
             a5,
             a6,
             a7);
  v13 = result;
  _InterlockedExchangeAdd(v9, 0xFFFF0000);
  if ( byte_1499FF3E5 )
  {
    qword_1499FF3F0(v9);
    return v13;
  }
  return result;
}

// --- End Function: sub_1466919E0 (0x1466919E0) ---

// --- Function: sub_1466DE670 (0x1466DE670) ---
_BOOL8 __fastcall sub_1466DE670(__int64 a1, __int64 a2, __int64 a3)
{
  int v3; // r10d
  int v4; // r11d
  float v5; // xmm9_4
  float v6; // xmm0_4
  float v7; // xmm1_4
  float v8; // xmm2_4
  float v9; // xmm3_4
  float v10; // xmm4_4
  float v11; // xmm5_4
  float v12; // xmm6_4
  float v13; // xmm14_4
  float v14; // xmm7_4
  float v15; // xmm4_4
  float v16; // xmm8_4
  float v17; // xmm6_4
  float v18; // xmm15_4
  float v19; // xmm2_4
  float v20; // xmm3_4
  float v21; // xmm4_4
  float v22; // xmm5_4
  float v23; // xmm13_4
  float v24; // xmm1_4
  float v25; // xmm6_4
  float v26; // xmm12_4
  float v27; // xmm11_4
  float v28; // kr00_4
  float v29; // xmm3_4
  float v30; // xmm0_4
  float v31; // xmm6_4
  float v32; // xmm4_4
  float v33; // xmm10_4
  float v34; // xmm1_4
  float v35; // xmm5_4
  float v36; // xmm9_4
  float v37; // xmm8_4
  float v38; // xmm7_4
  float v39; // xmm1_4
  float v40; // kr00_4
  float v41; // xmm7_4
  float v42; // xmm6_4
  float v43; // xmm5_4
  float v44; // xmm4_4
  float v45; // xmm3_4
  float v46; // xmm2_4
  float v47; // xmm0_4
  float v48; // xmm9_4
  float v49; // xmm12_4
  float v50; // xmm11_4
  float v51; // xmm13_4
  float v52; // xmm5_4
  float v53; // kr00_4
  float v54; // xmm6_4
  float v55; // xmm7_4
  float v56; // xmm10_4
  float v57; // xmm15_4
  float v58; // xmm14_4
  float v59; // xmm5_4
  float v60; // xmm6_4
  float v61; // xmm9_4
  float v63; // [rsp+B0h] [rbp+8h]
  float v64; // [rsp+B0h] [rbp+8h]

  v3 = *(_DWORD *)(a2 + 0x24);
  v4 = *(_DWORD *)(a1 + 0x24);
  if ( (v4 | (v3 << 0x10)) == *(_DWORD *)a3 )
  {
    v48 = *(float *)(a3 + 0x28);
  }
  else
  {
    if ( v4 )
    {
      if ( v3 )
      {
        v14 = *(float *)(a2 + 4);
        v15 = *(float *)(a1 + 4);
        v16 = *(float *)(a2 + 8);
        v17 = *(float *)(a1 + 8);
        v18 = *(float *)(a2 + 0x10);
        v63 = (float)((float)(v15 * v14) + (float)(*(float *)a1 * *(float *)a2)) + (float)(v17 * v16);
        v19 = (float)(v15 * v18) + (float)(*(float *)a1 * *(float *)(a2 + 0xC));
        v20 = v15 * *(float *)(a2 + 0x1C);
        v21 = *(float *)(a1 + 0xC);
        v22 = *(float *)(a1 + 0x14);
        v23 = v19 + (float)(v17 * *(float *)(a2 + 0x14));
        v24 = v17 * *(float *)(a2 + 0x20);
        v25 = *(float *)(a1 + 0x10);
        v26 = (float)(v20 + (float)(*(float *)a1 * *(float *)(a2 + 0x18))) + v24;
        v27 = (float)((float)(v25 * v14) + (float)(v21 * *(float *)a2)) + (float)(v22 * v16);
        v28 = (float)(v25 * v18) + (float)(v21 * *(float *)(a2 + 0xC));
        v29 = v25 * *(float *)(a2 + 0x1C);
        v30 = v21 * *(float *)(a2 + 0x18);
        v31 = *(float *)(a1 + 0x1C);
        v32 = *(float *)(a1 + 0x18);
        v33 = v28 + (float)(v22 * *(float *)(a2 + 0x14));
        v34 = v22 * *(float *)(a2 + 0x20);
        v35 = *(float *)(a1 + 0x20);
        v36 = (float)(v29 + v30) + v34;
        v37 = (float)((float)(v31 * v14) + (float)(v32 * *(float *)a2)) + (float)(v35 * v16);
        v38 = (float)((float)(v31 * v18) + (float)(v32 * *(float *)(a2 + 0xC))) + (float)(v35 * *(float *)(a2 + 0x14));
        v39 = v35 * *(float *)(a2 + 0x20);
        v40 = (float)(v31 * *(float *)(a2 + 0x1C)) + (float)(v32 * *(float *)(a2 + 0x18));
        *(float *)(a3 + 0x18) = v36;
        *(float *)(a3 + 0x1C) = v37;
        *(float *)(a3 + 4) = v63;
        v5 = v63;
        *(float *)(a3 + 8) = v23;
        *(float *)(a3 + 0xC) = v26;
        *(float *)(a3 + 0x10) = v27;
        *(float *)(a3 + 0x14) = v33;
        *(float *)(a3 + 0x20) = v38;
        v13 = v40 + v39;
      }
      else
      {
        v5 = *(float *)a1;
        *(float *)(a3 + 4) = *(float *)a1;
        *(_DWORD *)(a3 + 8) = *(_DWORD *)(a1 + 4);
        *(_DWORD *)(a3 + 0xC) = *(_DWORD *)(a1 + 8);
        *(_DWORD *)(a3 + 0x10) = *(_DWORD *)(a1 + 0xC);
        *(_DWORD *)(a3 + 0x14) = *(_DWORD *)(a1 + 0x10);
        *(_DWORD *)(a3 + 0x18) = *(_DWORD *)(a1 + 0x14);
        *(_DWORD *)(a3 + 0x1C) = *(_DWORD *)(a1 + 0x18);
        *(_DWORD *)(a3 + 0x20) = *(_DWORD *)(a1 + 0x1C);
        v13 = *(float *)(a1 + 0x20);
      }
    }
    else
    {
      v5 = *(float *)a2;
      v6 = *(float *)(a2 + 0xC);
      v7 = *(float *)(a2 + 0x18);
      v8 = *(float *)(a2 + 4);
      v9 = *(float *)(a2 + 0x10);
      v10 = *(float *)(a2 + 0x1C);
      v11 = *(float *)(a2 + 8);
      v12 = *(float *)(a2 + 0x14);
      v13 = *(float *)(a2 + 0x20);
      *(float *)(a3 + 4) = *(float *)a2;
      *(float *)(a3 + 8) = v6;
      *(float *)(a3 + 0xC) = v7;
      *(float *)(a3 + 0x10) = v8;
      *(float *)(a3 + 0x14) = v9;
      *(float *)(a3 + 0x18) = v10;
      *(float *)(a3 + 0x1C) = v11;
      *(float *)(a3 + 0x20) = v12;
    }
    *(float *)(a3 + 0x24) = v13;
    *(float *)(a3 + 0x28) = v5;
    v41 = *(float *)(a3 + 8);
    *(float *)(a3 + 0x2C) = v41;
    v42 = *(float *)(a3 + 0xC);
    *(float *)(a3 + 0x30) = v42;
    v43 = *(float *)(a3 + 0x10);
    *(float *)(a3 + 0x34) = v43;
    v44 = *(float *)(a3 + 0x14);
    *(float *)(a3 + 0x38) = v44;
    v45 = *(float *)(a3 + 0x18);
    *(float *)(a3 + 0x3C) = v45;
    v46 = *(float *)(a3 + 0x1C);
    *(float *)(a3 + 0x40) = v46;
    v47 = *(float *)(a3 + 0x20);
    *(float *)(a3 + 0x44) = v47;
    *(float *)(a3 + 0x48) = COERCE_FLOAT(*(_DWORD *)(a3 + 0x24) & 0x7FFFFFFF);
    LODWORD(v48) = LODWORD(v5) & 0x7FFFFFFF;
    *(float *)(a3 + 0x28) = v48;
    *(float *)(a3 + 0x2C) = COERCE_FLOAT(LODWORD(v41) & 0x7FFFFFFF);
    *(float *)(a3 + 0x30) = COERCE_FLOAT(LODWORD(v42) & 0x7FFFFFFF);
    *(float *)(a3 + 0x34) = COERCE_FLOAT(LODWORD(v43) & 0x7FFFFFFF);
    *(float *)(a3 + 0x38) = COERCE_FLOAT(LODWORD(v44) & 0x7FFFFFFF);
    *(float *)(a3 + 0x3C) = COERCE_FLOAT(LODWORD(v45) & 0x7FFFFFFF);
    *(float *)(a3 + 0x40) = COERCE_FLOAT(LODWORD(v46) & 0x7FFFFFFF);
    *(float *)(a3 + 0x44) = COERCE_FLOAT(LODWORD(v47) & 0x7FFFFFFF);
    *(_DWORD *)a3 = *(_DWORD *)(a1 + 0x24) | (*(_DWORD *)(a2 + 0x24) << 0x10);
  }
  v49 = *(float *)(a1 + 0x38);
  v50 = *(float *)(a1 + 0x34);
  v51 = *(float *)(a1 + 0x3C);
  v52 = *(float *)(a2 + 0x2C) - *(float *)(a1 + 0x2C);
  v64 = (float)((float)(v50 + v49) + v51) * 0.000099999997;
  v53 = *(float *)(a2 + 0x28) - *(float *)(a1 + 0x28);
  v54 = *(float *)(a2 + 0x30) - *(float *)(a1 + 0x30);
  v55 = v53;
  v56 = v52;
  if ( *(_DWORD *)(a1 + 0x24) )
  {
    v55 = (float)((float)(v53 * *(float *)a1) + (float)(v52 * *(float *)(a1 + 4))) + (float)(v54 * *(float *)(a1 + 8));
    v56 = (float)((float)(v52 * *(float *)(a1 + 0x10)) + (float)(v53 * *(float *)(a1 + 0xC)))
        + (float)(v54 * *(float *)(a1 + 0x14));
    v54 = (float)((float)(v52 * *(float *)(a1 + 0x1C)) + (float)(v53 * *(float *)(a1 + 0x18)))
        + (float)(v54 * *(float *)(a1 + 0x20));
  }
  v57 = *(float *)(a2 + 0x38);
  v58 = *(float *)(a2 + 0x34);
  v59 = *(float *)(a2 + 0x3C);
  if ( COERCE_FLOAT(LODWORD(v55) & 0x7FFFFFFF) > (float)((float)((float)(v48 * v58)
                                                               + (float)(v57 * *(float *)(a3 + 0x2C)))
                                                       + (float)((float)(v59 * *(float *)(a3 + 0x30)) + v50)) )
    return 0;
  if ( COERCE_FLOAT(LODWORD(v56) & 0x7FFFFFFF) > (float)((float)((float)(v58 * *(float *)(a3 + 0x34))
                                                               + (float)(v57 * *(float *)(a3 + 0x38)))
                                                       + (float)((float)(v59 * *(float *)(a3 + 0x3C)) + v49)) )
    return 0;
  if ( COERCE_FLOAT(LODWORD(v54) & 0x7FFFFFFF) > (float)((float)((float)(v58 * *(float *)(a3 + 0x40))
                                                               + (float)(v57 * *(float *)(a3 + 0x44)))
                                                       + (float)((float)(v59 * *(float *)(a3 + 0x48)) + v51)) )
    return 0;
  if ( fabs(
         (float)((float)(v56 * *(float *)(a3 + 0x10)) + (float)(v55 * *(float *)(a3 + 4)))
       + (float)(v54 * *(float *)(a3 + 0x1C))) > (float)((float)((float)(v50 * v48)
                                                               + (float)(v49 * *(float *)(a3 + 0x34)))
                                                       + (float)((float)(v51 * *(float *)(a3 + 0x40)) + v58)) )
    return 0;
  if ( fabs(
         (float)((float)(v56 * *(float *)(a3 + 0x14)) + (float)(v55 * *(float *)(a3 + 8)))
       + (float)(v54 * *(float *)(a3 + 0x20))) > (float)((float)((float)(v49 * *(float *)(a3 + 0x38))
                                                               + (float)(v50 * *(float *)(a3 + 0x2C)))
                                                       + (float)((float)(v51 * *(float *)(a3 + 0x44)) + v57)) )
    return 0;
  if ( fabs(
         (float)((float)(v56 * *(float *)(a3 + 0x18)) + (float)(v55 * *(float *)(a3 + 0xC)))
       + (float)(v54 * *(float *)(a3 + 0x24))) > (float)((float)((float)(v49 * *(float *)(a3 + 0x3C))
                                                               + (float)(v50 * *(float *)(a3 + 0x30)))
                                                       + (float)((float)(v51 * *(float *)(a3 + 0x48))
                                                               + *(float *)(a2 + 0x3C))) )
    return 0;
  if ( fabs((float)(v54 * *(float *)(a3 + 0x10)) - (float)(v56 * *(float *)(a3 + 0x1C))) > (float)((float)((float)((float)(v49 * *(float *)(a3 + 0x40)) + (float)(v51 * *(float *)(a3 + 0x34))) + (float)((float)(v57 * *(float *)(a3 + 0x30)) + (float)(*(float *)(a2 + 0x3C) * *(float *)(a3 + 0x2C))))
                                                                                                 + v64) )
    return 0;
  if ( fabs((float)(v54 * *(float *)(a3 + 0x14)) - (float)(v56 * *(float *)(a3 + 0x20))) > (float)((float)((float)((float)(v48 * *(float *)(a2 + 0x3C)) + (float)(v58 * *(float *)(a3 + 0x30))) + (float)((float)(v49 * *(float *)(a3 + 0x44)) + (float)(v51 * *(float *)(a3 + 0x38))))
                                                                                                 + v64) )
    return 0;
  if ( fabs((float)(v54 * *(float *)(a3 + 0x18)) - (float)(v56 * *(float *)(a3 + 0x24))) > (float)((float)((float)((float)(v48 * v57) + (float)(v58 * *(float *)(a3 + 0x2C))) + (float)((float)(v49 * *(float *)(a3 + 0x48)) + (float)(v51 * *(float *)(a3 + 0x3C))))
                                                                                                 + v64) )
    return 0;
  if ( fabs((float)(v55 * *(float *)(a3 + 0x1C)) - (float)(v54 * *(float *)(a3 + 4))) > (float)((float)((float)((float)(v51 * v48) + (float)(v50 * *(float *)(a3 + 0x40))) + (float)((float)(*(float *)(a2 + 0x3C) * *(float *)(a3 + 0x38)) + (float)(v57 * *(float *)(a3 + 0x3C))))
                                                                                              + v64) )
    return 0;
  if ( fabs((float)(v55 * *(float *)(a3 + 0x20)) - (float)(v54 * *(float *)(a3 + 8))) > (float)((float)((float)((float)(v58 * *(float *)(a3 + 0x3C)) + (float)(*(float *)(a2 + 0x3C) * *(float *)(a3 + 0x34))) + (float)((float)(v50 * *(float *)(a3 + 0x44)) + (float)(v51 * *(float *)(a3 + 0x2C))))
                                                                                              + v64) )
    return 0;
  if ( fabs((float)(v55 * *(float *)(a3 + 0x24)) - (float)(v54 * *(float *)(a3 + 0xC))) > (float)((float)((float)((float)(v58 * *(float *)(a3 + 0x38)) + (float)(v57 * *(float *)(a3 + 0x34))) + (float)((float)(v50 * *(float *)(a3 + 0x48)) + (float)(v51 * *(float *)(a3 + 0x30))))
                                                                                                + v64) )
    return 0;
  v60 = *(float *)(a2 + 0x3C);
  if ( fabs((float)(v56 * *(float *)(a3 + 4)) - (float)(v55 * *(float *)(a3 + 0x10))) > (float)((float)((float)((float)(v60 * *(float *)(a3 + 0x44)) + (float)(v57 * *(float *)(a3 + 0x48))) + (float)((float)(v49 * v48) + (float)(v50 * *(float *)(a3 + 0x34))))
                                                                                              + v64) )
    return 0;
  v61 = *(float *)(a3 + 0x40);
  return fabs((float)(v56 * *(float *)(a3 + 8)) - (float)(v55 * *(float *)(a3 + 0x14))) <= (float)((float)((float)((float)(v58 * *(float *)(a3 + 0x48)) + (float)(v61 * v60)) + (float)((float)(v50 * *(float *)(a3 + 0x38)) + (float)(v49 * *(float *)(a3 + 0x2C))))
                                                                                                 + v64)
      && fabs((float)(v56 * *(float *)(a3 + 0xC)) - (float)(v55 * *(float *)(a3 + 0x18))) <= (float)((float)((float)((float)(v58 * *(float *)(a3 + 0x44)) + (float)(v61 * v57)) + (float)((float)(v50 * *(float *)(a3 + 0x3C)) + (float)(v49 * *(float *)(a3 + 0x30)))) + v64);
}

// --- End Function: sub_1466DE670 (0x1466DE670) ---

// --- Function: sub_1466E0CD0 (0x1466E0CD0) ---
_BOOL8 __fastcall sub_1466E0CD0(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  return sub_1466E09B0(a2, a1, a3, a4);
}

// --- End Function: sub_1466E0CD0 (0x1466E0CD0) ---

// --- Function: sub_146711430 (0x146711430) ---
__int64 __fastcall sub_146711430(__int64 a1, __int64 a2, int n0x1E)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  __int128 v13; // xmm0
  float v14; // eax
  __int64 v15; // r14
  double v16; // xmm1_8
  int v17; // esi
  char **v19; // rdi
  double v20; // r15
  int v22; // r13d
  volatile signed __int64 *v23; // rbx
  signed __int64 v24; // rdx
  signed __int32 v25; // ecx
  signed __int32 v26; // eax
  signed __int32 v27; // ecx
  int n8; // esi
  unsigned __int64 v29; // rdx
  __int64 v30; // rax
  float v31; // esi
  int v32; // r8d
  signed int v33; // r8d
  __int64 v34; // rax
  __int64 v35; // rdx
  __int64 v36; // r13
  unsigned __int64 v37; // r14
  __int64 v38; // r15
  unsigned __int64 v39; // rsi
  __int64 v40; // rbx
  __int64 v41; // rbx
  wchar_t *v42; // rcx
  const char *v43; // r9
  __int64 v44; // rcx
  __int64 v45; // rax
  char *v46; // rax
  bool v47; // zf
  int n8_2; // ecx
  int n8_1; // edx
  __int64 v50; // r15
  volatile signed __int64 *v51; // rsi
  __int64 v52; // rax
  signed __int64 v53; // rdx
  int n8_3; // r9d
  char *v55; // rax
  int v56; // eax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v58; // rdi
  float v59; // esi
  int v60; // ecx
  char **v61; // rax
  __m256i *v62; // rax
  __int64 n7; // rcx
  __int64 v64; // r8
  unsigned int v65; // ecx
  __int64 v66; // rdx
  __int64 v67; // rax
  __m256i v68; // ymm1
  __int64 v69; // rcx
  __m256i v70; // ymm0
  char **v71; // rax
  int v72; // ecx
  volatile signed __int64 *v73; // rcx
  __int64 v74; // rax
  __int64 v75; // rcx
  const char *p_Unknown; // rdx
  __m128 v78; // xmm11
  __m128 v79; // kr00_16
  float v84; // xmm1_4
  __int128 v86; // kr00_16
  float v91; // xmm1_4
  float v92; // xmm4_4
  __int128 v94; // kr00_16
  unsigned __int64 v98; // rax
  __int64 v99; // rcx
  bool v100; // dl
  __int64 v101; // rax
  __int64 v102; // r8
  __int64 v103; // r9
  const char *v104; // rbx
  __int64 *v105; // rax
  __int64 *v106; // rax
  unsigned __int64 n0x10000; // rdx
  _QWORD *v108; // rcx
  __int64 v109; // rax
  char *v110; // rcx
  char *v111; // rbx
  __int64 v112; // rax
  char *v113; // rcx
  unsigned __int64 v114; // rcx
  __int64 n0x400; // rax
  __int64 n0x400_2; // rdx
  char *v117; // rsi
  volatile signed __int64 *v118; // rsi
  signed __int64 v119; // rdx
  __int64 v120; // rax
  const char *v121; // rax
  int v122; // r9d
  int v123; // r10d
  int v124; // esi
  int v125; // r11d
  int v126; // ebx
  __int64 v127; // r8
  __int64 v128; // rdx
  __int64 v129; // rcx
  int v130; // r9d
  char **v131; // rcx
  __int64 v132; // rax
  __int64 v133; // rcx
  __m256i v134; // ymm2
  __m256i v135; // ymm3
  __m256i v136; // ymm4
  int n8_4; // ecx
  __int64 *v138; // rax
  float v140; // xmm11_4
  float v141; // xmm12_4
  __int64 v142; // rax
  float v143; // xmm13_4
  const char *Str2; // rdx
  unsigned int n8_5; // esi
  __int64 *v146; // rcx
  __int64 v147; // rax
  double v148; // xmm8_8
  double v151; // xmm14_8
  double v152; // xmm15_8
  double v153; // xmm12_8
  double v154; // xmm13_8
  double v155; // xmm7_8
  double v156; // xmm5_8
  double v157; // xmm4_8
  double v158; // xmm6_8
  double v159; // xmm2_8
  double v160; // xmm1_8
  double v161; // xmm9_8
  double v162; // xmm3_8
  double v163; // xmm5_8
  double v165; // xmm10_8
  double v166; // xmm8_8
  double v167; // xmm4_8
  double v169; // xmm4_8
  double v170; // kr00_8
  char *v171; // rsi
  __int64 v172; // rax
  __int64 v173; // rcx
  __int64 v174; // rax
  __int128 v175; // xmm0
  float v176; // xmm1_4
  char **v177; // rbx
  float v178; // xmm1_4
  float v179; // xmm0_4
  char *v180; // rsi
  __int64 v181; // rax
  __int64 v182; // rcx
  int v183; // eax
  __int64 v184; // rcx
  float v185; // xmm2_4
  float v186; // xmm0_4
  char **v187; // rcx
  volatile signed __int32 *v188; // rcx
  volatile signed __int64 *v189; // rcx
  unsigned __int64 n0x200000_1; // rax
  int v192; // [rsp+20h] [rbp-C28h]
  int v193; // [rsp+60h] [rbp-BE8h] BYREF
  float v194; // [rsp+64h] [rbp-BE4h]
  int v195; // [rsp+68h] [rbp-BE0h]
  double v196; // [rsp+70h] [rbp-BD8h] BYREF
  float v197; // [rsp+78h] [rbp-BD0h]
  int v198; // [rsp+80h] [rbp-BC8h]
  char *v199; // [rsp+88h] [rbp-BC0h]
  int n0x1E_1; // [rsp+90h] [rbp-BB8h]
  float v201; // [rsp+94h] [rbp-BB4h]
  double v202; // [rsp+98h] [rbp-BB0h]
  int v203; // [rsp+A0h] [rbp-BA8h]
  int v204; // [rsp+A4h] [rbp-BA4h]
  __int128 v205; // [rsp+A8h] [rbp-BA0h] BYREF
  double v206; // [rsp+B8h] [rbp-B90h]
  __int64 v207; // [rsp+C0h] [rbp-B88h] BYREF
  __int128 n0x10000_1; // [rsp+C8h] [rbp-B80h]
  double v209; // [rsp+D8h] [rbp-B70h]
  float v210; // [rsp+E0h] [rbp-B68h]
  __int64 v211; // [rsp+E8h] [rbp-B60h] BYREF
  volatile signed __int32 *v212; // [rsp+F0h] [rbp-B58h]
  volatile signed __int64 *v213; // [rsp+F8h] [rbp-B50h]
  double v214; // [rsp+100h] [rbp-B48h]
  float v215; // [rsp+108h] [rbp-B40h]
  double v217; // [rsp+120h] [rbp-B28h]
  int n0x2800_1; // [rsp+130h] [rbp-B18h] BYREF
  __int64 v219; // [rsp+134h] [rbp-B14h]
  int v220; // [rsp+13Ch] [rbp-B0Ch]
  __int64 v221; // [rsp+140h] [rbp-B08h]
  unsigned __int64 v222; // [rsp+148h] [rbp-B00h]
  __int64 v223; // [rsp+150h] [rbp-AF8h]
  __int64 v224; // [rsp+158h] [rbp-AF0h]
  int n0x2800; // [rsp+180h] [rbp-AC8h] BYREF
  __int64 v226; // [rsp+184h] [rbp-AC4h]
  int v227; // [rsp+18Ch] [rbp-ABCh]
  __int64 v228; // [rsp+190h] [rbp-AB8h]
  unsigned __int64 v229; // [rsp+198h] [rbp-AB0h]
  __int64 v230; // [rsp+1A0h] [rbp-AA8h]
  __int64 v231; // [rsp+1A8h] [rbp-AA0h]
  double v232[3]; // [rsp+1D0h] [rbp-A78h] BYREF
  double v233[3]; // [rsp+1E8h] [rbp-A60h] BYREF
  double v234[3]; // [rsp+200h] [rbp-A48h] BYREF
  double v235[3]; // [rsp+218h] [rbp-A30h] BYREF
  int v236; // [rsp+230h] [rbp-A18h] BYREF
  __int128 v237; // [rsp+238h] [rbp-A10h]
  double v238; // [rsp+248h] [rbp-A00h]
  __int128 v239; // [rsp+250h] [rbp-9F8h] BYREF
  double v240; // [rsp+260h] [rbp-9E8h]
  double v241; // [rsp+268h] [rbp-9E0h]
  float v242; // [rsp+270h] [rbp-9D8h]
  __int64 v243; // [rsp+278h] [rbp-9D0h]
  __int64 v244; // [rsp+280h] [rbp-9C8h]
  __int64 v245; // [rsp+288h] [rbp-9C0h]
  __int64 v246; // [rsp+290h] [rbp-9B8h]
  __int64 v247; // [rsp+2A0h] [rbp-9A8h]
  _BYTE *v248; // [rsp+2A8h] [rbp-9A0h]
  __int64 (__fastcall *p_sub_14670D1A0)(__int64, __int64, __int64, __int64); // [rsp+2B0h] [rbp-998h]
  _BYTE v250[120]; // [rsp+2C0h] [rbp-988h] BYREF
  __int128 v251; // [rsp+338h] [rbp-910h]
  double v252; // [rsp+348h] [rbp-900h]
  bool v253; // [rsp+42Ah] [rbp-81Eh]
  int v254; // [rsp+450h] [rbp-7F8h]
  __int64 v255; // [rsp+454h] [rbp-7F4h]
  int v256; // [rsp+45Ch] [rbp-7ECh]
  __int64 v257; // [rsp+468h] [rbp-7E0h]
  __int64 n0x400_1; // [rsp+470h] [rbp-7D8h]
  __int64 n0x400_3; // [rsp+478h] [rbp-7D0h]
  _BOOL8 v260; // [rsp+480h] [rbp-7C8h]
  __int64 v261; // [rsp+488h] [rbp-7C0h]
  __int64 v262; // [rsp+490h] [rbp-7B8h]
  __int64 v263; // [rsp+498h] [rbp-7B0h]
  __int64 v264; // [rsp+4A0h] [rbp-7A8h]
  __int64 v265; // [rsp+4B0h] [rbp-798h]
  _QWORD *v266; // [rsp+4B8h] [rbp-790h]
  int v267; // [rsp+4C0h] [rbp-788h]
  int v268; // [rsp+4C4h] [rbp-784h]
  int v269; // [rsp+4C8h] [rbp-780h]
  int n0x1E_2; // [rsp+4CCh] [rbp-77Ch]
  float v271; // [rsp+4D0h] [rbp-778h]
  char v272[48]; // [rsp+4D8h] [rbp-770h] BYREF
  __int128 v273; // [rsp+508h] [rbp-740h]
  double v274; // [rsp+518h] [rbp-730h]
  double v275; // [rsp+520h] [rbp-728h]
  float v276; // [rsp+528h] [rbp-720h]
  double v277; // [rsp+530h] [rbp-718h]
  float v278; // [rsp+538h] [rbp-710h]
  __int64 (__fastcall **v279)(); // [rsp+540h] [rbp-708h]
  char v280[48]; // [rsp+558h] [rbp-6F0h] BYREF
  __int128 v281; // [rsp+588h] [rbp-6C0h]
  double v282; // [rsp+598h] [rbp-6B0h]
  double v283; // [rsp+5A0h] [rbp-6A8h]
  float v284; // [rsp+5A8h] [rbp-6A0h]
  double v285; // [rsp+5B0h] [rbp-698h]
  float v286; // [rsp+5B8h] [rbp-690h]
  __int64 (__fastcall **v287)(); // [rsp+5C0h] [rbp-688h]
  int v288; // [rsp+5E0h] [rbp-668h]
  const char *v289; // [rsp+5E8h] [rbp-660h]
  int v290; // [rsp+5F0h] [rbp-658h]
  __int64 v291; // [rsp+5F8h] [rbp-650h]
  __int64 v292; // [rsp+600h] [rbp-648h]
  __int64 v293; // [rsp+608h] [rbp-640h]
  char v294; // [rsp+610h] [rbp-638h]
  char Destination[512]; // [rsp+620h] [rbp-628h] BYREF
  __m256 v296; // [rsp+820h] [rbp-428h] BYREF
  __m256 v297; // [rsp+840h] [rbp-408h]
  __int64 v298; // [rsp+860h] [rbp-3E8h] BYREF
  __m256 v299; // [rsp+868h] [rbp-3E0h]
  __int64 v300; // [rsp+888h] [rbp-3C0h]
  _BYTE v301[24]; // [rsp+8A0h] [rbp-3A8h]
  __int64 v302; // [rsp+8B8h] [rbp-390h]
  _BYTE v303[672]; // [rsp+8C0h] [rbp-388h] BYREF
  __int128 v304; // [rsp+B70h] [rbp-D8h]
  __int128 v305; // [rsp+B80h] [rbp-C8h]
  __int128 v306; // [rsp+B90h] [rbp-B8h]
  __int128 v307; // [rsp+BA0h] [rbp-A8h]
  __int128 v308; // [rsp+BB0h] [rbp-98h]
  __int128 v309; // [rsp+BC0h] [rbp-88h]
  __int128 v310; // [rsp+BD0h] [rbp-78h]
  __int128 v311; // [rsp+BE0h] [rbp-68h]
  __int128 v312; // [rsp+BF0h] [rbp-58h]
  __int128 v313; // [rsp+C00h] [rbp-48h]

  v13 = *(_OWORD *)(a2 + 0x18);
  v14 = *(float *)(a2 + 0x38);
  v15 = 0;
  v16 = *(double *)(a2 + 0x28);
  v17 = *(_DWORD *)(a2 + 0x3C);
  v19 = *(char ***)(a2 + 0x48);
  v20 = *(double *)&a2;
  n0x2800 = 0x2800;
  v197 = v14;
  v202 = *(double *)&a2;
  v205 = v13;
  *(_QWORD *)&v13 = *(_QWORD *)(a2 + 0x30);
  v22 = 1;
  n0x1E_1 = n0x1E;
  v198 = v17;
  v226 = 0;
  v227 = 0;
  v196 = *(double *)&v13;
  v206 = v16;
  v229 = 0;
  v230 = 0;
  v231 = 0;
  v228 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( !(unsigned int)sub_146714DE0(a1, *(_QWORD *)&v20) )
  {
LABEL_60:
    v59 = *(float *)&v15;
    goto LABEL_195;
  }
  if ( (*(_DWORD *)(*(_QWORD *)&v20 + 0x40LL) & 0x800LL) != 0 )
  {
    v23 = (volatile signed __int64 *)(a1 + 0x84B50);
    v24 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x84B50));
    if ( (v24 & 0x200000) != 0 )
      sub_1403CD0A0((volatile signed __int64 *)(a1 + 0x84B50), v24, (__int64)&Source, (__int64)&Source, 1);
    v25 = _InterlockedExchangeAdd((volatile signed __int32 *)(a1 + 0x83638), 1u);
    v26 = *(_DWORD *)(a1 + 0x8363C);
    v27 = v25 + 1;
    v195 = v27;
    n8 = 8;
    if ( v27 > v26 )
    {
      v29 = _InterlockedDecrement64(v23);
      if ( (v29 & 0x3FF) == 0 && (v29 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x84B50), v29);
      v30 = _InterlockedCompareExchange64(v23, 0x200000, 0);
      if ( v30 )
        sub_1403DE750(a1 + 0x84B50, v30, 0, (__int64)&Source, (__int64)&Source, 1);
      v31 = *(float *)(a1 + 0x8363C);
      v194 = v31;
      if ( v195 > SLODWORD(v31) )
      {
        v32 = 2 * *(_DWORD *)(a1 + 0x8363C);
        if ( (int)((v32 + 0xF) & 0xFFFFFFF0) < (int)((*(_DWORD *)(a1 + 0x83638) + 0xF) & 0xFFFFFFF0) )
          v32 = *(_DWORD *)(a1 + 0x83638);
        v33 = (v32 + 0xF) & 0xFFFFFFF0;
        *(_DWORD *)(a1 + 0x8363C) = v33;
        v34 = allocWithProfilerInfo(0x190LL * v33, (struct _exception *)0x40);
        v199 = (char *)v34;
        v35 = v34;
        if ( SLODWORD(v31) > 0 )
        {
          v36 = v34 + 0xA0;
          v37 = 0xFFFFFFFFFFFFFF60uLL - v34;
          v38 = LODWORD(v31);
          do
          {
            v39 = v36 + v37 + *(_QWORD *)(a1 + 0x83628);
            __asm { vzeroupper }
            memset((void *)(v36 - 0xA0), 0, 0xA8u);
            *(_DWORD *)(v36 - 0x64) = 0x11F;
            *(_QWORD *)(v36 - 0x60) = 0xF;
            sub_14670CD40((_QWORD *)(v36 + 0x10), (_QWORD *)(v39 + 0xB0));
            *(_OWORD *)(v36 - 0xA0) = *(_OWORD *)v39;
            *(_OWORD *)(v36 - 0x90) = *(_OWORD *)(v39 + 0x10);
            *(_OWORD *)(v36 - 0x80) = *(_OWORD *)(v39 + 0x20);
            *(_OWORD *)(v36 - 0x70) = *(_OWORD *)(v39 + 0x30);
            *(_OWORD *)(v36 - 0x60) = *(_OWORD *)(v39 + 0x40);
            *(_OWORD *)(v36 - 0x50) = *(_OWORD *)(v39 + 0x50);
            *(_OWORD *)(v36 - 0x40) = *(_OWORD *)(v39 + 0x60);
            *(_OWORD *)(v36 - 0x30) = *(_OWORD *)(v39 + 0x70);
            *(_OWORD *)(v36 - 0x20) = *(_OWORD *)(v39 + 0x80);
            *(_OWORD *)(v36 - 0x10) = *(_OWORD *)(v39 + 0x90);
            *(_QWORD *)v36 = *(_QWORD *)(v39 + 0xA0);
            *(__m256i *)(v36 + 0x70) = *(__m256i *)(v39 + 0x110);
            *(__m256i *)(v36 + 0x90) = *(__m256i *)(v39 + 0x130);
            *(__m256i *)(v36 + 0xB0) = *(__m256i *)(v39 + 0x150);
            *(__m256i *)(v36 + 0xD0) = *(__m256i *)(v39 + 0x170);
            *(_DWORD *)(v36 + 8) = *(_DWORD *)(v39 + 0xA8);
            *(_QWORD *)(v36 - 0x30) = v36 + 0x10;
            v36 += 0x190;
            --v38;
          }
          while ( v38 );
          v20 = v202;
          v31 = v194;
          v35 = (__int64)v199;
        }
        if ( SLODWORD(v31) < *(_DWORD *)(a1 + 0x8363C) )
        {
          v40 = v35 + 0x190LL * SLODWORD(v31) + 0x10C;
          do
          {
            *(_QWORD *)(v40 - 0x64) = 0;
            *(__m256i *)(v40 + 4) = (__m256i)0LL;
            *(__m256i *)(v40 + 0x24) = (__m256i)0LL;
            *(__m256i *)(v40 + 0x44) = (__m256i)0LL;
            *(__m256i *)(v40 + 0x64) = (__m256i)0LL;
            __asm { vzeroupper }
            memset((void *)(v40 - 0x10C), 0, 0xA8u);
            *(_DWORD *)(v40 - 0xD0) = 0x11F;
            ++LODWORD(v31);
            *(_QWORD *)(v40 - 0xCC) = 0xF;
            *(_QWORD *)(v40 - 0x5C) = 0;
            *(_QWORD *)(v40 - 0x54) = 0;
            *(_QWORD *)(v40 - 0x4C) = 0;
            *(_QWORD *)(v40 - 0x44) = 0;
            *(_QWORD *)(v40 - 0x3C) = 0;
            *(_QWORD *)(v40 - 0x34) = 0;
            *(_QWORD *)(v40 - 0x2C) = 0;
            *(_QWORD *)(v40 - 0x24) = 0;
            *(_QWORD *)(v40 - 0x1C) = 0;
            *(_DWORD *)(v40 - 0x14) = 0;
            *(_DWORD *)(v40 - 0x10) = 8;
            *(_QWORD *)(v40 - 0xC) = 0;
            *(_DWORD *)(v40 - 4) = 0xFFFFFFFF;
            *(_DWORD *)v40 = 0;
            v40 += 0x190;
          }
          while ( SLODWORD(v31) < *(_DWORD *)(a1 + 0x8363C) );
        }
        __asm { vzeroupper }
        sub_14753C530(*(const void **)(a1 + 0x83628));
        v23 = (volatile signed __int64 *)(a1 + 0x84B50);
        *(_QWORD *)(a1 + 0x83628) = v199;
      }
      sub_1403A5650(v23);
      v27 = v195;
      n8 = 8;
    }
    v41 = *(_QWORD *)(a1 + 0x83628) + 0x190LL * (v27 - 1);
    *(_QWORD *)v41 = **(_QWORD **)&v20;
    v42 = (wchar_t *)(v41 + 0x110);
    *(_DWORD *)(v41 + 8) = *(_DWORD *)(*(_QWORD *)&v20 + 8LL);
    *(_OWORD *)(v41 + 0x18) = *(_OWORD *)(*(_QWORD *)&v20 + 0x18LL);
    *(double *)(v41 + 0x28) = *(double *)(*(_QWORD *)&v20 + 0x28LL);
    *(double *)(v41 + 0x30) = *(double *)(*(_QWORD *)&v20 + 0x30LL);
    *(_DWORD *)(v41 + 0x38) = *(_DWORD *)(*(_QWORD *)&v20 + 0x38LL);
    *(_DWORD *)(v41 + 0x3C) = v198;
    *(_QWORD *)(v41 + 0x40) = *(_QWORD *)(*(_QWORD *)&v20 + 0x40LL) & 0xFFFFFFFFFFFFF7FFuLL;
    *(_QWORD *)(v41 + 0x68) = *(_QWORD *)(*(_QWORD *)&v20 + 0x68LL);
    *(_DWORD *)(v41 + 0xA8) = n0x1E_1;
    *(_QWORD *)(v41 + 0x10) = *(_QWORD *)(*(_QWORD *)&v20 + 0x10LL);
    *(_QWORD *)(v41 + 0x78) = *(_QWORD *)(*(_QWORD *)&v20 + 0x78LL);
    *(_DWORD *)(v41 + 0x54) = *(_DWORD *)(*(_QWORD *)&v20 + 0x54LL);
    v43 = *(const char **)(*(_QWORD *)&v20 + 0x88LL);
    if ( v43 )
      swprintf(v42, 0x80u, "RWI(queued) %s", v43);
    else
      swprintf(v42, 0x80u, "RWI(queued) unknown");
    *(_BYTE *)(v41 + 0x18F) = 0;
    *(_QWORD *)(v41 + 0x88) = 0;
    v44 = *(_QWORD *)(*(_QWORD *)&v20 + 0x80LL);
    *(_QWORD *)(v41 + 0x80) = v44;
    if ( v44 )
      InterlockedIncrement_w_3();
    v45 = *(_QWORD *)(*(_QWORD *)&v20 + 0x48LL);
    *(_QWORD *)(v41 + 0x48) = v45;
    if ( !v45 )
    {
      v46 = (char *)sub_14670C800((__int64)&off_149987DB0);
      v47 = *(_QWORD *)(*(_QWORD *)&v20 + 0x58LL) == 0;
      v199 = v46;
      if ( v47 || (n8_2 = *(_DWORD *)(*(_QWORD *)&v20 + 0x60LL)) == 0 )
      {
        *(_QWORD *)(v41 + 0x58) = 0;
        *(_DWORD *)(v41 + 0x60) = 0;
      }
      else
      {
        n8_1 = 8;
        if ( n8_2 < 8 )
          n8_1 = *(_DWORD *)(*(_QWORD *)&v20 + 0x60LL);
        *(_DWORD *)(v41 + 0x60) = n8_1;
        *(_QWORD *)(v41 + 0x58) = v46 + 0x300;
        memset(v46 + 0x300, 0, 8LL * n8_1);
        v46 = v199;
      }
      *(_QWORD *)(v41 + 0x48) = v46;
      *(_DWORD *)(v41 + 0xA8) |= 0x10000u;
    }
    if ( *(int *)(*(_QWORD *)&v20 + 0x50LL) < 8 )
      n8 = *(_DWORD *)(*(_QWORD *)&v20 + 0x50LL);
    *(_DWORD *)(v41 + 0x50) = n8;
    v50 = *(_QWORD *)(*(_QWORD *)&v20 + 0x70LL);
    if ( v50 )
    {
      v51 = (volatile signed __int64 *)(v41 + 0x100);
      v194 = *(float *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(v41 + 0x108) == LODWORD(v194) )
      {
        ++*(_DWORD *)(v41 + 0x10C);
      }
      else
      {
        v52 = _InterlockedCompareExchange64(v51, 0x200000, 0);
        if ( v52 )
          sub_1403DE750(v41 + 0x100, v52, 0, (__int64)&Source, (__int64)&Source, 0);
        *(float *)(v41 + 0x108) = v194;
      }
      if ( *(_DWORD *)(v50 + 0x58) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
      {
        ++*(_DWORD *)(v50 + 0x5C);
      }
      else
      {
        v53 = _InterlockedIncrement64((volatile signed __int64 *)(v50 + 0x50));
        if ( (v53 & 0x200000) != 0 )
          sub_1403CD0A0((volatile signed __int64 *)(v50 + 0x50), v53, (__int64)&Source, (__int64)&Source, 0);
      }
      n8_3 = *(_DWORD *)(v50 + 0x4C);
      v55 = (char *)v50;
      if ( n8_3 > 8 )
        v55 = *(char **)(v50 + 0x40);
      sub_1404A1180((char *)(v41 + 0xB0), v55, *(_DWORD *)(v50 + 0x48), n8_3);
      sub_1402D42F0(v50 + 0x50);
      if ( v41 != 0xFFFFFFFFFFFFFF00uLL )
      {
        v56 = *(_DWORD *)(v41 + 0x10C);
        if ( v56 )
        {
          *(_DWORD *)(v41 + 0x10C) = v56 - 1;
        }
        else
        {
          *(_DWORD *)(v41 + 0x108) = 0xFFFFFFFF;
          n0x200000 = _InterlockedCompareExchange64(v51, 0, 0x200000);
          if ( n0x200000 != 0x200000 )
            sub_1403DEBA0((volatile signed __int64 *)(v41 + 0x100), n0x200000);
        }
      }
      *(_QWORD *)(v41 + 0x70) = v41 + 0xB0;
    }
    v58 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x84B50));
    if ( (v58 & 0x3FF) == 0 && (v58 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x84B50), v58);
    LODWORD(v15) = 1;
    goto LABEL_60;
  }
  n0x2800_1 = 0x2800;
  v219 = 0;
  v220 = 0;
  v222 = 0;
  v223 = 0;
  v224 = 0;
  v221 = 1;
  qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
  sub_1403E4CF0();
  v60 = 0;
  if ( *(int *)(*(_QWORD *)&v20 + 0x50LL) > 0 )
  {
    v61 = v19 + 8;
    do
    {
      v61[0xFFFFFFF8] = 0;
      ++v60;
      v61[0xFFFFFFF9] = 0;
      *((_DWORD *)v61 + 0xFFFFFFF4) = 0x501502F9;
      *((_DWORD *)v61 + 0xFFFFFFFA) = 0;
      v61[0xFFFFFFFE] = 0;
      v61[0xFFFFFFFF] = 0;
      *v61 = 0;
      v61[1] = 0;
      *((_DWORD *)v61 + 4) = 0;
      v61 += 0xC;
    }
    while ( v60 < *(_DWORD *)(*(_QWORD *)&v20 + 0x50LL) );
  }
  if ( (*(_DWORD *)(*(_QWORD *)&v20 + 0x40LL) & 0x2000LL) != 0 )
  {
    LODWORD(v207) = 0;
    v299 = (__m256)0LL;
    v300 = 0;
    v302 = 0;
    v298 = 0;
    __asm { vzeroupper }
    memset(v303, 0, sizeof(v303));
    v62 = (__m256i *)v303;
    n7 = 7;
    do
    {
      v62[2].m256i_i64[3] = 0;
      v62 += 3;
      v62[0xFFFFFFFDLL] = (__m256i)0LL;
      *(_OWORD *)v62[0xFFFFFFFE].m256i_i8 = 0;
      --n7;
    }
    while ( n7 );
    v64 = *(_QWORD *)(*(_QWORD *)&v20 + 0x80LL);
    v299.m256_f32[2] = -1.0;
    v296 = (__m256)0LL;
    v297 = (__m256)0LL;
    __asm { vzeroupper }
    sub_146714620(
      a1,
      SLODWORD(v20),
      v64,
      (int)&v236,
      *(_QWORD *)&v20 + 0x18LL,
      *(_QWORD *)&v20 + 0x30LL,
      (__int64)&v296,
      (__int64)&v207,
      &v298,
      (__int64)&v193,
      n0x1E);
    v59 = *(float *)&v193;
    v194 = v299.m256_f32[2] + 0.5;
    v65 = (COERCE_UNSIGNED_INT(v299.m256_f32[2] + 0.5) >> 0x1F) & (v193 > 0);
    if ( (int)(*(_DWORD *)(*(_QWORD *)&v20 + 0x50LL) - v65) < v193 )
      LODWORD(v59) = *(_DWORD *)(*(_QWORD *)&v20 + 0x50LL) - v65;
    v66 = (int)(LODWORD(v59) + v65);
    if ( (int)(LODWORD(v59) + v65) > 0 )
    {
      do
      {
        v67 = *(_QWORD *)(*(_QWORD *)&v20 + 0x48LL);
        v68 = *(__m256i *)((char *)&v299 + v15 + 0x18);
        v69 = *(_QWORD *)(v15 + v67 + 0x58);
        *(__m256i *)(v15 + v67) = *(__m256i *)((char *)&v298 + v15);
        v70 = *(__m256i *)&v301[v15];
        *(__m256i *)(v15 + v67 + 0x20) = v68;
        *(__m256i *)(v15 + v67 + 0x40) = v70;
        v15 += 0x60;
        *(_QWORD *)(v15 + *(_QWORD *)(*(_QWORD *)&v20 + 0x48LL) - 8) = v69;
        --v66;
      }
      while ( v66 );
    }
  }
  else
  {
    sub_14670CE80((__int64)v250);
    v71 = *(char ***)(*(_QWORD *)&v20 + 0x68LL);
    v255 = 0;
    v199 = 0;
    v198 = 0;
    v195 = 0;
    if ( v71 )
    {
      v199 = *v71;
      v72 = *((_DWORD *)v71 + 2);
      v195 = *((_DWORD *)v71 + 3);
      v198 = v72;
    }
    LODWORD(v194) = sub_1466BDEA0(n0x1E);
    v73 = &qword_1513B3EC0[SLODWORD(v194)];
    v213 = v73;
    v74 = _InterlockedCompareExchange64(v73, 0x200000, 0);
    if ( v74 )
      sub_1403DE750(
        (__int64)v73,
        v74,
        0,
        (__int64)"CPhysicalWorld::RayWorldIntersection",
        (__int64)"s_lockCollision[iCallerCollision]",
        1);
    v75 = *(_QWORD *)(*(_QWORD *)&v20 + 0x80LL);
    v264 = v75;
    if ( !v75 )
    {
      p_Unknown = "Unknown";
      if ( *(_QWORD *)(*(_QWORD *)&v20 + 0x88LL) )
        p_Unknown = *(const char **)(*(_QWORD *)&v20 + 0x88LL);
      LogTraceConditional("RayWorldIntersection: requested by %s has no grid set, defaulting to global grid", p_Unknown);
      if ( *(_DWORD *)(a1 + 0x234) )
        __debugbreak();
      v75 = a1 + 0xB40;
      v264 = a1 + 0xB40;
    }
    if ( *(_QWORD *)(v75 + 0x1B8) )
    {
      v313 = v3;
      v312 = v4;
      v311 = v5;
      v310 = v6;
      v309 = v7;
      v308 = v8;
      v307 = v9;
      v306 = v10;
      v305 = v11;
      v304 = v12;
      InterlockedIncrement_w_3();
      _XMM8 = LODWORD(v196);
      v79 = (__m128)HIDWORD(v196);
      v79.m128_f32[0] = (float)((float)(v79.m128_f32[0] * v79.m128_f32[0]) + (float)(*(float *)&_XMM8 * *(float *)&_XMM8))
                      + (float)(v197 * v197);
      v78 = v79;
      _XMM7 = 0;
      _XMM14 = 0;
      v201 = 0.0;
      v273 = v205;
      v274 = v206;
      v276 = v197;
      __asm { vmovupd [rsp+0C48h+var_B38], xmm14 }
      if ( v79.m128_f32[0] <= 9.9999997e-21 )
      {
        __asm { vunpcklps xmm0, xmm7, xmm7 }
        v209 = *(double *)&_XMM0;
        v277 = *(double *)&_XMM0;
        __asm { vunpcklps xmm0, xmm8, xmm6 }
        *(_QWORD *)&_XMM10 = _XMM0;
        v196 = *(double *)&_XMM0;
        v275 = *(double *)&_XMM0;
        v202 = 0.0;
        v217 = 0.0;
        _XMM0 = 0;
        v210 = 1.0;
        v278 = 1.0;
        v92 = 1.0;
      }
      else
      {
        _XMM0 = _mm_shuffle_ps(v79, v79, 0);
        __asm { vrsqrtps xmm3, xmm0 }
        _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
        v84 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v79.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
            * _XMM3.m128_f32[0];
        v86 = LODWORD(v196);
        *(float *)&v86 = *(float *)&v196 * v84;
        _XMM0 = v86;
        __asm { vunpcklps xmm0, xmm0, xmm2 }
        v209 = *(double *)&_XMM0;
        v277 = *(double *)&_XMM0;
        v210 = v197 * v84;
        v278 = v197 * v84;
        __asm { vunpcklps xmm10, xmm8, xmm6 }
        _XMM0 = _mm_shuffle_ps(v78, v78, 0);
        __asm { vrsqrtps xmm3, xmm0 }
        _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
        v91 = (float)(1.5 - (float)((float)((float)(v78.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
            * _XMM3.m128_f32[0];
        v92 = v197 * v91;
        v94 = LODWORD(v196);
        *(float *)&v94 = *(float *)&v196 * v91;
        _XMM0 = v94;
        v202 = 0.0;
        v217 = 0.0;
        v196 = *(double *)&_XMM10;
        v275 = *(double *)&_XMM10;
      }
      __asm { vunpcklps xmm0, xmm0, xmm2 }
      v284 = v197;
      v98 = *(_QWORD *)(*(_QWORD *)&v20 + 0x90LL);
      v99 = v98 & 0xFFFFFFFFFFFFLL;
      v214 = *(double *)&_XMM0;
      v285 = *(double *)&_XMM0;
      v215 = v92;
      v286 = v92;
      v281 = 0;
      v282 = v217;
      v283 = *(double *)&_XMM10;
      v251 = v205;
      v252 = v206;
      if ( v98 )
        v100 = *(_QWORD *)((v98 & 0xFFFFFFFFFFFFLL) + 8) == HIWORD(v98);
      else
        v100 = 0;
      v101 = 0;
      v290 = *(_DWORD *)(*(_QWORD *)&v20 + 0x54LL);
      if ( v100 )
        v101 = v99;
      v293 = v101;
      v291 = *(_QWORD *)(*(_QWORD *)&v20 + 0x98LL);
      v294 = *(_BYTE *)(*(_QWORD *)&v20 + 0xA0LL);
      v289 = sub_1465FEB70();
      v104 = v289;
      if ( !*((_QWORD *)v289 + 0x23) )
      {
        v105 = (__int64 *)sub_1402A63D0(0x18u);
        if ( v105 )
          v106 = sub_1465B1390(v105);
        else
          v106 = 0;
        *((_QWORD *)v104 + 0x23) = v106;
        v104 = v289;
      }
      n0x10000 = 0x10000;
      v265 = *((_QWORD *)v104 + 6);
      v269 = *((_DWORD *)v104 + 0xE);
      n0x1E_2 = n0x1E_1;
      v271 = v194;
      v212 = &dword_14A287AFC[0x7A1BA * SLODWORD(v194)];
      if ( _InterlockedCompareExchange(v212, 0x10000, 0) )
        sub_1403A4CA0(&dword_14A287AFC[0x7A1BA * SLODWORD(v194)], 0, 0x10000);
      v108 = *(_QWORD **)(*(_QWORD *)&v20 + 0x58LL);
      v267 = 0;
      v266 = v108;
      if ( v108 )
      {
        v109 = *(int *)(*(_QWORD *)&v20 + 0x60LL);
        v268 = v109;
        if ( (_DWORD)v109 )
        {
          memset(v108, 0, 8 * v109);
          v110 = *(char **)v264;
          if ( *(_QWORD *)v264 )
          {
            v232[0] = *(float *)&v196;
            v232[2] = v197;
            v232[1] = *((float *)&v196 + 1);
            if ( (unsigned __int8)sub_1468C1E20(v110, &v205, v232, 0, LODWORD(v271)) )
            {
              v111 = *(char **)v264;
              if ( *(_QWORD *)v264 )
              {
                v112 = *(_QWORD *)v111;
                v113 = *(char **)v264;
                v211 = 0;
                (*(void (__fastcall **)(char *, __int64 *))(v112 + 0x160))(v113, &v211);
                *(_QWORD *)&n0x10000_1 = *((_QWORD *)v111 + 0x17);
                (*(void (__fastcall **)(char *, _QWORD))(*(_QWORD *)v111 + 0x168LL))(v111, 0);
              }
              else
              {
                *(_QWORD *)&n0x10000_1 = MEMORY[0xB8];
              }
              n0x10000 = n0x10000_1;
              v266[v267++] = n0x10000_1;
            }
          }
        }
      }
      if ( (v17 & 0x200) != 0 && *(_BYTE *)(a1 + 0x170) )
      {
        sub_146710990(
          a1,
          (double *)&v205,
          (float *)&v196,
          (__int64)v250,
          *(_DWORD *)(*(_QWORD *)&v20 + 0x40LL),
          *(_DWORD *)(*(_QWORD *)&v20 + 0x50LL),
          *(_QWORD *)(*(_QWORD *)&v20 + 0x48LL));
        if ( *(_DWORD *)(a1 + 0x518) )
          sub_146710F70(
            a1,
            (double *)&v205,
            (float *)&v196,
            (__int64)v250,
            *(_DWORD *)(*(_QWORD *)&v20 + 0x40LL),
            *(_DWORD *)(*(_QWORD *)&v20 + 0x50LL),
            *(_QWORD *)(*(_QWORD *)&v20 + 0x48LL));
        v17 |= 0x20u;
      }
      if ( (v17 & 0xFFFFFCFF) != 0 )
      {
        v114 = *(_QWORD *)(*(_QWORD *)&v20 + 0x40LL);
        v262 = *(_QWORD *)(*(_QWORD *)&v20 + 0x48LL);
        v263 = a1;
        v257 = v114 ^ 0x200;
        n0x400 = v114 >> 0x10;
        v256 = v17;
        if ( !(v114 >> 0x10) )
          n0x400 = 0x400;
        n0x400_1 = n0x400;
        if ( (v114 & 0x40) != 0 )
        {
          n0x400 |= 1uLL;
          n0x400_1 = n0x400;
        }
        if ( (v114 & 0x400) != 0 )
        {
          n0x400_2 = n0x400;
          n0x400_3 = n0x400;
          n0x400 = 0;
          n0x400_1 = 0;
        }
        else
        {
          n0x400_2 = 0x7FF;
          n0x400_3 = 0x7FF;
        }
        v260 = ((n0x400 | n0x400_2) & 0xFFFFFFFFFFFFFF04uLL) == 0;
        v261 = *(_QWORD *)(*(_QWORD *)&v20 + 0x78LL);
        v254 = *(_DWORD *)(*(_QWORD *)&v20 + 0x50LL);
        v292 = *(_QWORD *)(*(_QWORD *)&v20 + 0x70LL);
        v253 = (v114 & 0x8000) != 0;
        *(_DWORD *)(a1 + 4LL * n0x1E_1 + 0x813A8) = 0xFFFFFFFF;
        if ( (v17 & 0x100) != 0 && **(_DWORD **)(v264 + 0x1B8) == 1 )
        {
          v117 = *(char **)v264;
          if ( *(_QWORD *)v264 )
          {
            strncpy(Destination, *(const char **)(*(_QWORD *)&v20 + 0x88LL), 0x200u);
            v233[0] = *(float *)&v196;
            LOBYTE(v192) = 1;
            v233[2] = v197;
            v233[1] = *((float *)&v196 + 1);
            sub_14683D890(v117, &v205, v233, Destination, v192);
          }
        }
        v118 = (volatile signed __int64 *)(v264 + 0x198);
        v119 = _InterlockedIncrement64((volatile signed __int64 *)(v264 + 0x198));
        if ( (v119 & 0x200000) != 0 )
          sub_1403CD0A0(
            v118,
            v119,
            (__int64)"CPhysicalWorld::RayWorldIntersection",
            (__int64)"egc.pGrid->m_lockGrid",
            1);
        v242 = v197;
        v245 = *(_QWORD *)(*(_QWORD *)&v20 + 0x48LL);
        v246 = *(int *)(*(_QWORD *)&v20 + 0x50LL);
        v244 = *(_QWORD *)(*(_QWORD *)&v20 + 0x40LL);
        v243 = *(int *)(*(_QWORD *)&v20 + 0x3CLL);
        v248 = v250;
        p_sub_14670D1A0 = sub_14670D1A0;
        v120 = *(_QWORD *)(*(_QWORD *)&v20 + 0x70LL);
        v239 = v205;
        v247 = v120;
        v240 = v206;
        v241 = v196;
        v121 = sub_1465FEB70();
        sub_146626370(*(_QWORD *)(v264 + 0x1B8), &v239, (__int64)v121);
        n0x10000 = _InterlockedDecrement64(v118);
        if ( (n0x10000 & 0x3FF) == 0 && (n0x10000 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(v118, n0x10000);
        if ( (*(_DWORD *)(*(_QWORD *)&v20 + 0x40LL) & 0x200LL) != 0 )
        {
          v122 = v255;
          v123 = 1;
          v124 = HIDWORD(v255);
          v102 = *(unsigned int *)(*(_QWORD *)&v20 + 0x50LL);
          v203 = 1;
          v125 = v102 - 1;
          v204 = v102 - 1;
          if ( (int)v255 + HIDWORD(v255) > 0 )
          {
            v126 = 1;
            do
            {
              *(float *)&v193 = *(float *)&v19[0xC * v125 + 2] - *(float *)&v19[0xC * v123 + 2];
              v127 = ((v193 | (unsigned int)(v122 - v123)) >> 0x1F) & (((int)v102 - v125 - v124 - 1) >> 0x1F);
              v128 = *(&v203 + v127);
              v129 = 3 * v128;
              n0x10000 = (unsigned int)(v128 - 2 * v127 + 1);
              *(&v203 + v127) = n0x10000;
              v123 = v203;
              v125 = v204;
              LODWORD(v19[4 * v129 + 5]) = v126;
              v122 = v255;
              v124 = HIDWORD(v255);
              v102 = *(unsigned int *)(*(_QWORD *)&v20 + 0x50LL);
              ++v126;
            }
            while ( (int)v102 + v123 - v125 - 2 < (int)v255 + HIDWORD(v255) );
          }
          v130 = v122 + 1;
          if ( v130 < (int)v102 - v124 )
          {
            v131 = &v19[0xC * v130 + 5];
            do
            {
              ++v130;
              *(_DWORD *)v131 = v102 + 1;
              v131 += 0xC;
              v102 = *(unsigned int *)(*(_QWORD *)&v20 + 0x50LL);
            }
            while ( v130 < *(_DWORD *)(*(_QWORD *)&v20 + 0x50LL) - HIDWORD(v255) );
          }
          v103 = 1;
          if ( (int)v102 > 1 )
          {
            n0x10000 = (unsigned __int64)(v19 + 0xC);
            do
            {
              v132 = *(int *)(n0x10000 + 0x28);
              if ( (_DWORD)v132 == (_DWORD)v103 || (int)v132 >= (int)v102 )
              {
                v103 = (unsigned int)(v103 + 1);
                n0x10000 += 0x60LL;
              }
              else
              {
                v133 = 0xC * v132;
                v134 = *(__m256i *)&v19[0xC * v132];
                v135 = *(__m256i *)&v19[0xC * v132 + 4];
                v136 = *(__m256i *)&v19[0xC * v132 + 8];
                *(__m256i *)&v19[v133] = *(__m256i *)n0x10000;
                *(__m256i *)&v19[v133 + 4] = *(__m256i *)(n0x10000 + 0x20);
                *(__m256i *)&v19[v133 + 8] = *(__m256i *)(n0x10000 + 0x40);
                *(__m256i *)n0x10000 = v134;
                *(__m256i *)(n0x10000 + 0x20) = v135;
                *(__m256i *)(n0x10000 + 0x40) = v136;
              }
              v102 = *(unsigned int *)(*(_QWORD *)&v20 + 0x50LL);
            }
            while ( (int)v103 < (int)v102 );
          }
        }
      }
      v47 = (*(_BYTE *)(a1 + 0x118) & 0x40) == 0;
      *(float *)&v193 = 0.0;
      if ( !v47 && *(_QWORD *)(a1 + 0x538) )
      {
        if ( (*(_QWORD *)(a1 + 0x84B58) & 0x2003FFLL) != 0 || n0x1E_1 == 0x1E )
          n8_4 = 8;
        else
          n8_4 = 7;
        v138 = *(__int64 **)(*(_QWORD *)&v20 + 0x80LL);
        _XMM10 = 0;
        v140 = 0.0;
        v141 = 0.0;
        __asm { vmovupd [rsp+0C48h+var_B80], xmm10 }
        if ( v138 && (v142 = *v138) != 0 )
        {
          _XMM10 = *(_OWORD *)(v142 + 0x1C0);
          v140 = *(float *)(v142 + 0x1D8);
          v141 = *(float *)(v142 + 0x1DC);
          LODWORD(_XMM7) = *(_DWORD *)(v142 + 0x1E0);
          v143 = *(float *)(v142 + 0x1E4);
          v202 = *(double *)(v142 + 0x1D0);
          __asm { vmovupd [rsp+0C48h+var_B80], xmm10 }
          v238 = v202;
        }
        else
        {
          v143 = 1.0;
        }
        Str2 = *(const char **)(*(_QWORD *)&v20 + 0x88LL);
        n8_5 = 1;
        if ( *((float *)v19 + 4) > 1000000000.0 )
          n8_5 = n8_4;
        if ( Str2 )
        {
          __asm { vzeroupper }
          if ( !strncmp("SSignalPoint", Str2, 0xCu) )
            n8_5 = 9;
        }
        v146 = *(__int64 **)(a1 + 0x538);
        v147 = *v146;
        if ( *((float *)v19 + 4) <= 1000000000.0 )
        {
          _XMM6 = *((_OWORD *)v19 + 3);
          v148 = *((double *)v19 + 8);
          v237 = _XMM6;
          v238 = v148;
          __asm { vunpckhpd xmm9, xmm6, xmm6 }
        }
        else
        {
          v148 = *(float *)(*(_QWORD *)&v20 + 0x38LL) + *(double *)(*(_QWORD *)&v20 + 0x28LL);
          *(double *)&_XMM6 = *(float *)(*(_QWORD *)&v20 + 0x30LL) + *(double *)(*(_QWORD *)&v20 + 0x18LL);
          *(double *)&_XMM9 = *(float *)(*(_QWORD *)&v20 + 0x34LL) + *(double *)(*(_QWORD *)&v20 + 0x20LL);
        }
        v151 = *(float *)&_XMM7;
        v152 = v141;
        v153 = v143;
        v154 = v140;
        v155 = v152 * v148 - *(float *)&_XMM7 * *(double *)&_XMM9 + v153 * *(double *)&_XMM6;
        v156 = v151 * *(double *)&_XMM6 - v140 * v148 + v153 * *(double *)&_XMM9;
        v157 = v140 * *(double *)&_XMM9 - v152 * *(double *)&_XMM6 + v153 * v148;
        v158 = v152 * v157 - v151 * v156 + *(double *)&_XMM6 + v152 * v157 - v151 * v156;
        v159 = v151 * v155 - v140 * v157;
        v160 = *(double *)&_XMM9 + v159;
        v161 = *(double *)(*(_QWORD *)&v20 + 0x20LL);
        v162 = v140 * v156;
        v163 = *(double *)(*(_QWORD *)&v20 + 0x18LL);
        v234[2] = v162 - v152 * v155 + v148 + v162 - v152 * v155 + v202;
        v234[0] = *(double *)&_XMM10 + v158;
        __asm { vunpckhpd xmm11, xmm10, xmm10 }
        v165 = *(double *)(*(_QWORD *)&v20 + 0x28LL);
        v234[1] = *(double *)&_XMM11 + v159 + v160;
        v166 = v165 * v152 - v161 * v151 + v163 * v153;
        *(double *)&_XMM7 = v163 * v151 - v165 * v154 + v161 * v153;
        v167 = v161 * v154 - v163 * v152 + v165 * v153;
        __asm { vmovupd xmm0, [rsp+0C48h+var_B80] }
        v235[2] = v154 * *(double *)&_XMM7 - v152 * v166 + v165 + v154 * *(double *)&_XMM7 - v152 * v166 + v202;
        v235[0] = *(double *)&_XMM0
                + v152 * v167
                - v151 * *(double *)&_XMM7
                + v163
                + v152 * v167
                - v151 * *(double *)&_XMM7;
        v235[1] = *(double *)&_XMM11 + v151 * v166 - v154 * v167 + v161 + v151 * v166 - v154 * v167;
        __asm { vzeroupper }
        (*(void (__fastcall **)(__int64 *, double *, double *, _QWORD, int))(v147 + 0x40))(v146, v235, v234, n8_5, 1);
        *(float *)&_XMM7 = v201;
      }
      if ( *((float *)v19 + 4) <= 1000000000.0 )
      {
        v171 = *v19;
        if ( !*v19 || *((_DWORD *)v171 + 0x3D) == 5 || (v172 = *((int *)v19 + 5), (int)v172 >= *((_DWORD *)v171 + 0xA4)) )
        {
          *((_DWORD *)v19 + 6) = 0xFFFFFFFF;
          *((_DWORD *)v19 + 8) = 0xFFFFFFFF;
        }
        else
        {
          v173 = **(_QWORD **)(*((_QWORD *)v171 + 0x47) + 8 * v172);
          __asm { vzeroupper }
          *((_DWORD *)v19 + 8) = (*(__int64 (__fastcall **)(__int64, _QWORD, __int64, __int64))(*(_QWORD *)v173 + 0xB0LL))(
                                   v173,
                                   *((unsigned int *)v19 + 6),
                                   v102,
                                   v103);
          *((_DWORD *)v19 + 0xB) = *((_DWORD *)v19 + 6);
          v198 = *((_DWORD *)v19 + 5);
          v174 = *((_QWORD *)v171 + 0x4A);
          v199 = v171;
          *((_DWORD *)v19 + 6) = *(_DWORD *)(v174 + 4LL * v198);
          v195 = v288;
        }
        v19[1] = *(char **)v264;
        v175 = *(_OWORD *)(v19 + 7);
        v19[6] = v19[6];
        *(_OWORD *)(v19 + 7) = v175;
        v176 = *((float *)v19 + 0x14);
        LODWORD(v175) = *((_DWORD *)v19 + 0x13);
        *((_DWORD *)v19 + 0x12) = *((_DWORD *)v19 + 0x12);
        *((float *)v19 + 0x13) = *(float *)&v175;
        *((float *)v19 + 0x14) = v176;
        LODWORD(v59) = ++v193;
      }
      else
      {
        *((_DWORD *)v19 + 4) = 0xBF800000;
        v169 = v197 + v206;
        v170 = *((float *)&v196 + 1) + *((double *)&v205 + 1);
        *((double *)v19 + 6) = *(float *)&v196 + *(double *)&v205;
        *((double *)v19 + 7) = v170;
        *((double *)v19 + 8) = v169;
        v59 = *(float *)&v193;
      }
      if ( *(int *)(*(_QWORD *)&v20 + 0x50LL) > 1 )
      {
        v177 = v19 + 0x14;
        do
        {
          v178 = *((float *)v177 + 0xFFFFFFF4);
          if ( v178 > 1000000000.0 || (v179 = *((float *)v19 + 4), v179 > *(float *)&_XMM7) && v178 > v179 )
          {
            *((_DWORD *)v177 + 0xFFFFFFF4) = 0xBF800000;
          }
          else
          {
            v180 = v177[0xFFFFFFF8];
            if ( !v180
              || *((_DWORD *)v180 + 0x3D) == 5
              || (v181 = *((int *)v177 + 0xFFFFFFF5), (int)v181 >= *((_DWORD *)v180 + 0xA4)) )
            {
              *((_DWORD *)v177 + 0xFFFFFFF8) = 0xFFFFFFFF;
              n0x10000 = 0xFFFFFFFFLL;
            }
            else
            {
              v182 = **(_QWORD **)(*((_QWORD *)v180 + 0x47) + 8 * v181);
              __asm { vzeroupper }
              v183 = (*(__int64 (__fastcall **)(__int64, _QWORD, __int64, __int64))(*(_QWORD *)v182 + 0xB0LL))(
                       v182,
                       *((unsigned int *)v177 + 0xFFFFFFF6),
                       v102,
                       v103);
              v184 = *((int *)v177 + 0xFFFFFFF5);
              *((_DWORD *)v177 + 0xFFFFFFF8) = v183;
              *((_DWORD *)v177 + 0xFFFFFFFB) = *((_DWORD *)v177 + 0xFFFFFFF6);
              n0x10000 = *(unsigned int *)(*((_QWORD *)v180 + 0x4A) + 4 * v184);
            }
            *((_DWORD *)v177 + 0xFFFFFFF6) = n0x10000;
            v177[0xFFFFFFF9] = *(char **)v264;
            *(_OWORD *)(v177 + 0xFFFFFFFF) = *(_OWORD *)(v177 + 0xFFFFFFFF);
            v185 = *((float *)v177 + 4);
            v186 = *((float *)v177 + 3);
            *((_DWORD *)v177 + 2) = *((_DWORD *)v177 + 2);
            *((float *)v177 + 3) = v186;
            *((float *)v177 + 4) = v185;
            LODWORD(v59) = v193 + 1;
            *((_DWORD *)v177 + 0xFFFFFFFA) = 0;
            *(float *)&v193 = v59;
          }
          ++v22;
          v177 += 0xC;
        }
        while ( v22 < *(_DWORD *)(*(_QWORD *)&v20 + 0x50LL) );
      }
      v187 = *(char ***)(*(_QWORD *)&v20 + 0x68LL);
      if ( v187 && (*(_DWORD *)(*(_QWORD *)&v20 + 0x40LL) & 0x4000LL) != 0 )
      {
        *v187 = v199;
        *(_DWORD *)(*(_QWORD *)(*(_QWORD *)&v20 + 0x68LL) + 8LL) = v198;
        *(_DWORD *)(*(_QWORD *)(*(_QWORD *)&v20 + 0x68LL) + 0xCLL) = v195;
      }
      __asm { vzeroupper }
      sub_14693A450(v264, n0x10000, v102, v103);
      sub_1403E4CF0();
      sub_1466C9F80(SLODWORD(v194));
      v188 = v212;
      LODWORD(v201) = _InterlockedExchangeAdd(v212, 0xFFFF0000) - 0x10000;
      if ( byte_1499FF3E5 )
        qword_1499FF3F0(v188);
    }
    else
    {
      LogTraceConditional("calling RWI on an uninitialized grid - skipping");
      if ( *(_DWORD *)(a1 + 0x234) )
        __debugbreak();
      v59 = 0.0;
    }
    v189 = v213;
    if ( v213 )
    {
      n0x200000_1 = _InterlockedCompareExchange64(v213, 0, 0x200000);
      if ( n0x200000_1 != 0x200000 )
        sub_1403DEBA0(v189, n0x200000_1);
    }
    v287 = &off_148ABF6C8;
    sub_146647D40((__int64)v280);
    v279 = &off_148ABF6C8;
    sub_146647D40((__int64)v272);
  }
  v222 = __rdtsc();
  __asm { vzeroupper }
  qword_149A0FD88(&n0x2800_1);
LABEL_195:
  v229 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return LODWORD(v59);
}

// --- End Function: sub_146711430 (0x146711430) ---

// --- Function: sub_14671CFD0 (0x14671CFD0) ---
__int64 __fastcall sub_14671CFD0(__int64 a1)
{
  __int64 result; // rax

  *(_DWORD *)(a1 + 0x9C) = 0x3F800000;
  *(_QWORD *)(a1 + 0xB0) = 0;
  *(_QWORD *)(a1 + 0xA8) = 0;
  *(_QWORD *)(a1 + 0xA0) = 0;
  *(_QWORD *)(a1 + 0xC8) = 0;
  *(_QWORD *)(a1 + 0xC0) = 0;
  *(_QWORD *)(a1 + 0xB8) = 0;
  *(_QWORD *)(a1 + 0xE0) = 0;
  *(_QWORD *)(a1 + 0xD8) = 0;
  *(_QWORD *)(a1 + 0xD0) = 0;
  *(_QWORD *)(a1 + 0xEC) = 0;
  *(_DWORD *)(a1 + 0xE8) = 0;
  *(_QWORD *)(a1 + 0xF8) = 0;
  *(_DWORD *)(a1 + 0xF4) = 0;
  *(_QWORD *)(a1 + 0x90) = 0;
  *(_DWORD *)(a1 + 0x98) = 0;
  *(_QWORD *)(a1 + 0x88) = 0;
  *(_QWORD *)(a1 + 0x80) = 0;
  *(_QWORD *)(a1 + 0x78) = 0;
  *(__m256i *)(a1 + 0x174) = (__m256i)0LL;
  *(_OWORD *)(a1 + 0x194) = 0;
  *(_QWORD *)(a1 + 0x1A4) = 0;
  *(_DWORD *)(a1 + 0x1AC) = 0;
  result = a1;
  *(_DWORD *)(a1 + 0x170) |= 3u;
  *(_QWORD *)(a1 + 0x110) = 0;
  *(_QWORD *)(a1 + 0x108) = 0;
  *(_QWORD *)(a1 + 0x100) = 0;
  *(_QWORD *)a1 = 0;
  *(_QWORD *)(a1 + 8) = 0;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_QWORD *)(a1 + 0x18) = 0;
  *(_QWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)(a1 + 0x28) = 0;
  *(_QWORD *)(a1 + 0x30) = 0;
  *(_QWORD *)(a1 + 0x38) = 0;
  *(_QWORD *)(a1 + 0x40) = 0;
  *(_QWORD *)(a1 + 0x58) = 0;
  *(_QWORD *)(a1 + 0x50) = 0;
  *(_QWORD *)(a1 + 0x48) = 0;
  *(_QWORD *)(a1 + 0x70) = 0;
  *(_QWORD *)(a1 + 0x68) = 0;
  *(_QWORD *)(a1 + 0x60) = 0;
  *(_DWORD *)(a1 + 0x124) = 0x3F800000;
  *(_QWORD *)(a1 + 0x118) = 0;
  *(_DWORD *)(a1 + 0x120) = 0;
  *(_QWORD *)(a1 + 0x12C) = 0;
  *(_DWORD *)(a1 + 0x128) = 0;
  *(_QWORD *)(a1 + 0x148) = 0;
  *(_QWORD *)(a1 + 0x140) = 0;
  *(_QWORD *)(a1 + 0x138) = 0;
  *(_QWORD *)(a1 + 0x160) = 0;
  *(_QWORD *)(a1 + 0x158) = 0;
  *(_QWORD *)(a1 + 0x150) = 0;
  *(_QWORD *)(a1 + 0x168) = 0;
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_14671CFD0 (0x14671CFD0) ---

// --- Function: sub_146720100 (0x146720100) ---
void __fastcall sub_146720100(__int64 a1, double *a2, float *a3, float *a4, double a5, double a6)
{
  double v7; // xmm0_8
  float v8; // xmm5_4
  float v9; // xmm6_4
  float v10; // xmm8_4
  float v11; // xmm9_4
  float v12; // xmm10_4
  float v13; // xmm11_4
  float v14; // xmm13_4
  float v15; // xmm15_4
  float v16; // xmm14_4
  float v17; // xmm12_4
  float v18; // xmm7_4
  float v19; // xmm5_4
  float v20; // xmm11_4
  float v21; // xmm9_4
  float v22; // xmm13_4
  float v23; // xmm4_4
  float v24; // xmm6_4
  float v25; // xmm8_4
  float v26; // xmm7_4
  float v27; // xmm3_4
  float v28; // xmm10_4
  double v29; // xmm12_8
  double v30; // xmm14_8
  double v31; // xmm10_8
  double v32; // xmm11_8
  double v34; // xmm5_8
  double v35; // xmm3_8
  double v37; // xmm1_8
  double v40; // xmm0_8
  double v41; // xmm0_8
  double v42; // xmm11_8
  double v43; // xmm9_8
  double v44; // xmm10_8
  double v45; // xmm14_8
  double v46; // xmm15_8
  double v47; // xmm12_8
  double v48; // xmm8_8
  double v49; // xmm7_8
  double v50; // xmm5_8
  double v51; // xmm3_8
  double v52; // xmm0_8
  double v53; // xmm9_8
  double v54; // xmm10_8
  double v55; // xmm11_8
  double v56; // xmm8_8
  double v57; // xmm7_8
  double v58; // xmm6_8
  double v59; // xmm15_8
  double v60; // xmm12_8
  double v61; // xmm8_8
  double v62; // xmm7_8
  double v63; // xmm5_8
  double v64; // xmm1_8
  double v65; // xmm7_8
  float v66; // xmm13_4
  __int128 v67; // xmm15
  double v68; // xmm12_8
  double v69; // xmm9_8
  double v70; // xmm5_8
  double v71; // xmm8_8
  __int128 v72; // xmm10
  double v73; // xmm7_8
  double v74; // xmm6_8
  __int128 v77; // kr00_16
  int v82; // ecx
  __int64 v83; // rdi
  __int64 *v84; // rax
  __int64 v85; // rax
  __int64 *v86; // rax
  double v88; // xmm2_8
  double v89; // xmm0_8
  double v90; // xmm1_8
  int v91; // r9d
  int v92; // r8d
  int n2; // edx
  __int64 v94; // rax
  __int64 v95; // rax
  __int64 v96; // rax
  double v97; // xmm6_8
  double v98; // xmm9_8
  double v99; // xmm7_8
  double v100; // xmm12_8
  double v101; // xmm11_8
  double v102; // xmm13_8
  double v103; // xmm8_8
  double v104; // xmm14_8
  double v105; // xmm15_8
  double v106; // xmm4_8
  double v107; // xmm2_8
  double v108; // xmm3_8
  double v109; // xmm6_8
  double v110; // xmm1_8
  double v111; // xmm0_8
  double v112; // xmm7_8
  double v113; // xmm5_8
  double v114; // xmm0_8
  double v115; // xmm4_8
  double v116; // xmm0_8
  double v117; // xmm0_8
  unsigned __int128 v120; // xmm11
  unsigned __int64 v126; // kr00_8
  double v129; // xmm14_8
  unsigned __int64 v135; // kr00_8
  unsigned __int128 v138; // xmm8
  unsigned __int64 v144; // kr00_8
  double v145; // xmm10_8
  double v146; // xmm0_8
  double v147; // xmm2_8
  double v148; // xmm3_8
  double v149; // xmm3_8
  __int128 v150; // kr00_16
  double v156; // xmm3_8
  __int128 v158; // kr00_16
  __int128 v164; // kr00_16
  __int128 v174; // kr00_16
  __int128 v182; // xmm0
  __int128 v185; // kr00_16
  float v195; // xmm7_4
  float v196; // xmm4_4
  float v197; // xmm6_4
  float v198; // xmm5_4
  float v199; // xmm7_4
  float v200; // xmm8_4
  float v201; // xmm9_4
  float v202; // xmm11_4
  float v205; // xmm8_4
  __m128 v206; // xmm9
  float v207; // xmm6_4
  float v208; // xmm7_4
  __m128 v209; // kr00_16
  float v212; // xmm8_4
  __m128 v213; // xmm9
  float v214; // xmm6_4
  float v215; // xmm7_4
  __m128 v216; // kr00_16
  float v219; // [rsp+20h] [rbp-E0h]
  float v220; // [rsp+24h] [rbp-DCh]
  float v221; // [rsp+24h] [rbp-DCh]
  double v222; // [rsp+28h] [rbp-D8h]
  double v223; // [rsp+28h] [rbp-D8h]
  double v224; // [rsp+30h] [rbp-D0h]
  double v225; // [rsp+30h] [rbp-D0h]
  double v226; // [rsp+38h] [rbp-C8h]
  double v227; // [rsp+38h] [rbp-C8h]
  double v228; // [rsp+40h] [rbp-C0h] BYREF
  int n0x420; // [rsp+48h] [rbp-B8h]
  __int64 *v230; // [rsp+50h] [rbp-B0h]
  double v231; // [rsp+58h] [rbp-A8h]
  double v232; // [rsp+60h] [rbp-A0h]
  double v233; // [rsp+68h] [rbp-98h]
  double v234; // [rsp+70h] [rbp-90h]
  double v235; // [rsp+78h] [rbp-88h]
  double v236; // [rsp+80h] [rbp-80h]
  double v237; // [rsp+88h] [rbp-78h]
  double v238; // [rsp+90h] [rbp-70h]
  double v239; // [rsp+98h] [rbp-68h]
  double v240; // [rsp+A0h] [rbp-60h]
  _DWORD v241[2]; // [rsp+A8h] [rbp-58h] BYREF
  int n0x400; // [rsp+B0h] [rbp-50h]
  __int64 *v243; // [rsp+B8h] [rbp-48h]
  double v244; // [rsp+C0h] [rbp-40h]
  double v245; // [rsp+C8h] [rbp-38h]
  double v246; // [rsp+D0h] [rbp-30h]
  double v247; // [rsp+D8h] [rbp-28h]
  double v248; // [rsp+E0h] [rbp-20h]
  double v249; // [rsp+E8h] [rbp-18h]
  double v250; // [rsp+F0h] [rbp-10h]
  double v251; // [rsp+F8h] [rbp-8h]
  double v252; // [rsp+100h] [rbp+0h]
  double v253; // [rsp+108h] [rbp+8h]
  double v254; // [rsp+110h] [rbp+10h]
  double v255; // [rsp+118h] [rbp+18h]
  double v256; // [rsp+120h] [rbp+20h]
  double v257; // [rsp+128h] [rbp+28h]
  double v258; // [rsp+140h] [rbp+40h]
  __int128 v259; // [rsp+150h] [rbp+50h] BYREF
  double v260; // [rsp+160h] [rbp+60h]
  __int128 v261; // [rsp+168h] [rbp+68h]
  double v262; // [rsp+178h] [rbp+78h]
  __int128 v263; // [rsp+180h] [rbp+80h]
  double v264; // [rsp+190h] [rbp+90h]
  char v265; // [rsp+198h] [rbp+98h] BYREF
  double v266; // [rsp+1A0h] [rbp+A0h]
  double v267; // [rsp+1A8h] [rbp+A8h]
  double v268; // [rsp+1B0h] [rbp+B0h]
  double v269; // [rsp+1B8h] [rbp+B8h]
  double v270; // [rsp+1C0h] [rbp+C0h]
  double v271; // [rsp+1C8h] [rbp+C8h]
  double v272; // [rsp+1D0h] [rbp+D0h]
  double v273; // [rsp+1D8h] [rbp+D8h]
  double v274; // [rsp+1E0h] [rbp+E0h]
  double v275[10]; // [rsp+1F0h] [rbp+F0h] BYREF

  if ( a6 < 0.001000000047497451 )
    return;
  v7 = *(double *)(a1 + 0x100);
  v234 = v7 + a6;
  v222 = v7;
  if ( fabs(v7 + a6) < v7 * 0.00009999999747378752 )
  {
    *(_QWORD *)(a1 + 0x108) = 0;
    *(_QWORD *)(a1 + 0x100) = 0;
    *(_QWORD *)(a1 + 0x58) = 0;
    *(_QWORD *)(a1 + 0x50) = 0;
    *(_QWORD *)(a1 + 0x48) = 0;
    *(_QWORD *)(a1 + 0x70) = 0;
    *(_QWORD *)(a1 + 0x68) = 0;
    *(_QWORD *)(a1 + 0x60) = 0;
    *(_QWORD *)(a1 + 0xB0) = 0;
    *(_QWORD *)(a1 + 0xA8) = 0;
    *(_QWORD *)(a1 + 0xA0) = 0;
    *(_QWORD *)(a1 + 0xC8) = 0;
    *(_QWORD *)(a1 + 0xC0) = 0;
    *(_QWORD *)(a1 + 0xB8) = 0;
    *(_QWORD *)(a1 + 0xE0) = 0;
    *(_QWORD *)(a1 + 0xD8) = 0;
    *(_QWORD *)(a1 + 0xD0) = 0;
    *(_QWORD *)(a1 + 0xEC) = 0;
    *(_DWORD *)(a1 + 0xE8) = 0;
    *(_QWORD *)(a1 + 0xF8) = 0;
    *(_DWORD *)(a1 + 0xF4) = 0;
    return;
  }
  v8 = *a4;
  v233 = *a3 * (a6 / a5);
  v9 = a4[2];
  v224 = a3[1] * (a6 / a5);
  v10 = a4[1];
  v226 = a3[2] * (a6 / a5);
  v11 = a4[3];
  v12 = *(float *)(a1 + 0x9C);
  v13 = *(float *)(a1 + 0x94);
  v14 = *(float *)(a1 + 0x90);
  v15 = *(float *)(a1 + 0x98);
  v16 = (float)((float)(v8 * v14) + (float)(v15 * v9)) + (float)((float)(v12 * v11) + (float)(v13 * v10));
  v17 = (float)((float)((float)(v15 * v10) - (float)(v13 * v9)) + (float)(v12 * v8)) - (float)(v11 * v14);
  v18 = (float)((float)((float)(v14 * v9) - (float)(v8 * v15)) + (float)(v12 * v10)) - (float)(v11 * v13);
  v19 = (float)((float)((float)(v8 * v13) - (float)(v14 * v10)) + (float)(v12 * v9)) - (float)(v11 * v15);
  v20 = v18 * (float)(v18 + v18);
  v219 = 1.0;
  v21 = v18 * (float)(v19 + v19);
  v220 = v14;
  v22 = 1.0 - (float)(v17 * (float)(v17 + v17));
  v23 = v19 * (float)(v19 + v19);
  v24 = v17 * (float)(v18 + v18);
  v25 = v16 * (float)(v18 + v18);
  v26 = v17 * (float)(v19 + v19);
  v27 = v16 * (float)(v19 + v19);
  v232 = (float)((float)(1.0 - v20) - v23);
  v28 = v16 * (float)(v17 + v17);
  v231 = (float)(v24 - v27);
  v29 = (float)(v26 + v25);
  v30 = (float)(v22 - v23);
  v237 = (float)(v21 - v28);
  v238 = (float)(v26 - v25);
  v31 = (float)(v21 + v28);
  v236 = (float)(v27 + v24);
  v32 = (float)(v22 - v20);
  v246 = v232 * v233 * v236 + v231 * v224 * v30 + v29 * v226 * v237;
  _XMM4 = *(_OWORD *)a2;
  v34 = a2[2];
  v249 = v232 * v233 * v238 + v31 * (v231 * v224) + v29 * v226 * v32;
  v35 = *(double *)(a1 + 0x88);
  _XMM2 = *(_OWORD *)(a1 + 0x78);
  v253 = v236 * v233 * v238 + v31 * (v30 * v224) + v32 * (v226 * v237);
  v37 = *(double *)&_XMM2 * v7 + *(double *)&_XMM4 * a6;
  __asm { vunpckhpd xmm2, xmm2, xmm2 }
  v254 = v31;
  __asm { vunpckhpd xmm4, xmm4, xmm4 }
  v244 = *(double *)(a1 + 0x48);
  v40 = *(double *)(a1 + 0x50);
  v258 = v35;
  v252 = v40;
  v41 = *(double *)(a1 + 0x58);
  v245 = v29;
  v250 = v30;
  v228 = v32;
  v240 = v37 * (1.0 / v234);
  v235 = (*(double *)&_XMM2 * v222 + *(double *)&_XMM4 * a6) * (1.0 / v234);
  v258 = (v35 * v222 + v34 * a6) * (1.0 / v234);
  v42 = v258 - *(double *)(a1 + 0x88);
  v43 = v240 - *(double *)(a1 + 0x78);
  LODWORD(v29) = *(_DWORD *)(a1 + 0x9C);
  v255 = v41;
  v44 = v235 - *(double *)(a1 + 0x80);
  v239 = v240 - *(double *)(a1 + 0x78);
  v45 = v15;
  v46 = *(float *)(a1 + 0x94);
  v47 = *(float *)&v29;
  v48 = v45 * v44 - v46 * v42 + v47 * v43;
  v49 = v220 * v42 - v45 * v43 + v47 * v44;
  *(double *)&_XMM4 = v46 * v43 - v220 * v44 + v47 * v42;
  v50 = *(double *)&_XMM4 * v220 - v48 * v45;
  *(double *)&_XMM4 = v49 * v45 - *(double *)&_XMM4 * v46 + v43 + v49 * v45 - *(double *)&_XMM4 * v46;
  v51 = v50 + v44 + v50;
  v52 = v48 * v46 - v49 * v220 + v42 + v48 * v46 - v49 * v220;
  v53 = v240 - *a2;
  v54 = v235 - a2[1];
  v55 = v258 - a2[2];
  v256 = v52;
  v257 = v51 * v51;
  v248 = v51;
  v251 = *(double *)&_XMM4 * *(double *)&_XMM4;
  v247 = *(double *)&_XMM4 * v222;
  v56 = v54 * v45 - v55 * v46 + v53 * v47;
  v57 = v55 * v220 - v53 * v45 + v54 * v47;
  *(double *)&_XMM4 = v53 * v46 - v54 * v220 + v55 * v47;
  v58 = v57 * v45 - *(double *)&_XMM4 * v46;
  *(double *)&_XMM2 = v56 * v46 - v57 * v220;
  v59 = v233;
  v60 = v52;
  v61 = *(double *)&_XMM4 * v220 - v56 * v45 + v54 + *(double *)&_XMM4 * v220 - v56 * v45;
  *(double *)(a1 + 0x100) = v234;
  *(double *)(a1 + 0x110) = a5 + *(double *)(a1 + 0x110);
  *(double *)&_XMM4 = v58 + v53 + v58;
  v62 = *(double *)&_XMM2 + v55 + *(double *)&_XMM2;
  v232 = v59 * v232 * v232
       + v231 * v224 * v231
       + (v61 * v61 + v62 * v62) * a6
       + (v60 * v60 + v51 * v51) * v222
       + v244
       + v245 * v226 * v245;
  v233 = v246 - *(double *)&_XMM4 * a6 * v61 - v247 * v248;
  v63 = v224;
  v231 = v249 - *(double *)&_XMM4 * a6 * v62 - v52 * v247;
  v225 = v59 * v236 * v236
       + v224 * v250 * v250
       + (*(double *)&_XMM4 * *(double *)&_XMM4 + v62 * v62) * a6
       + (v60 * v60 + v251) * v222
       + v252
       + v226 * v237 * v237;
  v64 = v61 * a6 * v62;
  v65 = v222;
  v223 = v253 - v64 - v222 * v248 * v52;
  v227 = v59 * v238 * v238
       + v63 * v254 * v254
       + (*(double *)&_XMM4 * *(double *)&_XMM4 + v61 * v61) * a6
       + (v51 * v51 + v251) * v65
       + v255
       + v226 * v228 * v228;
  *(double *)(a1 + 0x108) = 1.0 / v234;
  LODWORD(v55) = *(_DWORD *)(a1 + 0x94);
  LODWORD(v65) = *(_DWORD *)(a1 + 0x11C);
  LODWORD(v54) = *(_DWORD *)(a1 + 0x118);
  LODWORD(_XMM4) = *(_DWORD *)(a1 + 0x120);
  LODWORD(v58) = *(_DWORD *)(a1 + 0x98);
  LODWORD(v45) = *(_DWORD *)(a1 + 0x9C);
  v66 = *(float *)(a1 + 0x124);
  v67 = COERCE_UNSIGNED_INT64(v235 - *(double *)(a1 + 0x80));
  v68 = (float)((float)((float)((float)(v220 * *(float *)&v65) - (float)(*(float *)&v55 * *(float *)&v54))
                      + (float)(*(float *)&v45 * *(float *)&_XMM4))
              + (float)(*(float *)&v58 * v66));
  v69 = (float)((float)((float)((float)(*(float *)&v58 * *(float *)&v54) - (float)(v220 * *(float *)&_XMM4))
                      + (float)(*(float *)&v45 * *(float *)&v65))
              + (float)(*(float *)&v55 * v66));
  v70 = (float)((float)(*(float *)&v45 * v66)
              - (float)((float)((float)(v220 * *(float *)&v54) + (float)(*(float *)&v55 * *(float *)&v65))
                      + (float)(*(float *)&v58 * *(float *)&_XMM4)));
  v228 = v258 - *(double *)(a1 + 0x88);
  v71 = v68 * *(double *)&v67 - v69 * v228 + v70 * v239;
  *(float *)&v64 = *(float *)&v45 * *(float *)&v54;
  v72 = *(unsigned __int64 *)&v228;
  v73 = (float)((float)((float)((float)(*(float *)&v55 * *(float *)&_XMM4) - (float)(*(float *)&v58 * *(float *)&v65))
                      + *(float *)&v64)
              + (float)(v66 * v220));
  v74 = v73 * v228 - v68 * v239 + *(double *)&v67 * v70;
  *(double *)&_XMM4 = v239 * v69 - *(double *)&v67 * v73 + v228 * v70;
  _XMM0 = COERCE_UNSIGNED_INT64(v239 + v68 * v74 - v69 * *(double *)&_XMM4 + v68 * v74 - v69 * *(double *)&_XMM4);
  __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
  *(float *)(a1 + 0x128) = *(float *)&_XMM2 + *(float *)(a1 + 0x128);
  *((_QWORD *)&v77 + 1) = *((_QWORD *)&v67 + 1);
  *(double *)&v77 = *(double *)&v67 + v73 * *(double *)&_XMM4 - v68 * v71 + v73 * *(double *)&_XMM4 - v68 * v71;
  _XMM1 = v77;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(float *)(a1 + 0x12C) = *(float *)&_XMM2 + *(float *)(a1 + 0x12C);
  *((_QWORD *)&v77 + 1) = *((_QWORD *)&v72 + 1);
  *(double *)&v77 = *(double *)&v72 + v69 * v71 - v73 * v74 + v69 * v71 - v73 * v74;
  _XMM1 = v77;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(float *)&v77 = *(float *)&_XMM2 + *(float *)(a1 + 0x130);
  *(double *)&_XMM1 = v231;
  v275[0] = v232;
  *(double *)&_XMM0 = v233;
  *(float *)(a1 + 0x130) = *(float *)&v77;
  v82 = dword_14A135740;
  v275[4] = v225;
  v275[1] = *(double *)&_XMM0;
  v275[3] = *(double *)&_XMM0;
  v83 = 0;
  v241[0] = 3;
  v241[1] = 3;
  v275[8] = v227;
  v275[2] = *(double *)&_XMM1;
  v275[5] = v223;
  v275[6] = *(double *)&_XMM1;
  v275[7] = v223;
  if ( &v259 == (__int128 *)0xFFFFFFFFLL )
  {
    if ( dword_14A135740 + 9 > dword_149986764 )
      v82 = 0;
    v85 = v82;
    v82 += 9;
    dword_14A135740 = v82;
    v84 = &qword_14A134740[v85];
  }
  else
  {
    v84 = (__int64 *)&v259;
  }
  v243 = v84;
  n0x400 = 0x400;
  *(_QWORD *)&v228 = 0x300000003LL;
  if ( v275 == (double *)0xFFFFFFFFLL )
  {
    if ( v82 + 9 > dword_149986764 )
      v82 = 0;
    dword_14A135740 = v82 + 9;
    v86 = &qword_14A134740[v82];
  }
  else
  {
    v86 = (__int64 *)v275;
  }
  n0x420 = 0x420;
  v230 = v86;
  LODWORD(_XMM13) = 0;
  sub_14660B600((__int64)&v228, (__int64)v241, (__int64 *)(a1 + 0x48), 0.0);
  if ( v230 && (n0x420 & 0x400) == 0 )
    sub_1402A63C0((__int64)v230);
  v88 = *(double *)(a1 + 0x48);
  v89 = *(double *)(a1 + 0x50);
  v90 = *(double *)(a1 + 0x58);
  v91 = (v88 >= v89) + (v88 >= v90);
  v92 = (v89 >= v90) + (v89 >= v88);
  n2 = (v90 >= v89) + (v90 >= v88);
  if ( (v91 || v92 != 1 || n2 != 2) && v91 + n2 + v92 == 3 )
  {
    v94 = (unsigned int)(3 * v91);
    *(_OWORD *)(&v266 + v94) = v259;
    *(&v268 + v94) = v260;
    v95 = (unsigned int)(3 * v92);
    *(_OWORD *)(&v266 + v95) = v261;
    *(&v268 + v95) = v262;
    v96 = (unsigned int)(3 * n2);
    *(_OWORD *)(&v266 + v96) = v263;
    *(&v268 + v96) = v264;
    v97 = v266;
    v98 = v270;
    v99 = v267;
    v100 = v271;
    v101 = v274;
    v102 = v272;
    v103 = v268;
    v104 = v269;
    v105 = v273;
    if ( v266 * v270 * v274
       + v267 * v271 * v272
       + v268 * v269 * v273
       - v268 * v270 * v272
       - v266 * v271 * v273
       - v269 * v267 * v274 < 0.0 )
    {
      *(_QWORD *)&v97 = *(_QWORD *)&v266 ^ 0x8000000000000000uLL;
      *(_QWORD *)&v99 = *(_QWORD *)&v267 ^ 0x8000000000000000uLL;
      *(_QWORD *)&v103 = *(_QWORD *)&v268 ^ 0x8000000000000000uLL;
      *(_QWORD *)&v266 ^= 0x8000000000000000uLL;
      *(_QWORD *)&v267 ^= 0x8000000000000000uLL;
      *(_QWORD *)&v268 ^= 0x8000000000000000uLL;
    }
    v106 = (v99 * v233 + v97 * v232 + v103 * v231) * v97;
    v107 = v97 * v233 + v99 * v225;
    v108 = v97 * v231;
    v109 = v233;
    v110 = v99 * v223;
    v111 = (v107 + v103 * v223) * v99;
    v112 = v231;
    v113 = v106 + v111;
    v114 = v269 * v232;
    *(double *)(a1 + 0x48) = v113 + (v108 + v110 + v103 * v227) * v103;
    v115 = (v98 * v109 + v114 + v100 * v112) * v104 + (v104 * v109 + v98 * v225 + v100 * v223) * v98;
    v116 = v102 * v232;
    *(double *)(a1 + 0x50) = v115 + (v104 * v112 + v98 * v223 + v100 * v227) * v100;
    *(double *)(a1 + 0x58) = (v105 * v109 + v116 + v101 * v112) * v102
                           + (v102 * v109 + v105 * v225 + v101 * v223) * v105
                           + (v102 * v112 + v105 * v223 + v101 * v227) * v101;
    do
    {
      v117 = *(double *)((char *)&v259 + v83);
      *(double *)((char *)&v259 + v83) = *(double *)((char *)&v266 + v83);
      *(double *)((char *)&v266 + v83) = v117;
      v83 += 8;
    }
    while ( (char *)&v259 + v83 != &v265 );
    LODWORD(_XMM13) = 0;
  }
  _XMM12 = *((unsigned __int64 *)&v259 + 1);
  _XMM5 = (unsigned __int64)v259;
  v120 = *(unsigned __int64 *)&v260;
  __asm
  {
    vmaxsd  xmm0, xmm12, xmm5
    vmaxsd  xmm2, xmm0, xmm11
    vminsd  xmm0, xmm12, xmm5
    vminsd  xmm1, xmm0, xmm11
  }
  if ( COERCE_DOUBLE(_XMM2 & 0x7FFFFFFFFFFFFFFFLL) < COERCE_DOUBLE(_XMM1 & 0x7FFFFFFFFFFFFFFFLL) )
  {
    v126 = v259 ^ 0x8000000000000000uLL;
    _XMM5 = (unsigned __int64)v259 ^ 0x8000000000000000uLL;
    __asm { vunpcklpd xmm5, xmm5, xmm2 }
    v120 = *(unsigned __int64 *)&v260 ^ (unsigned __int128)0x8000000000000000uLL;
    __asm
    {
      vmovupd [rbp+1F0h+var_1A0], xmm5
      vunpckhpd xmm12, xmm5, xmm5
    }
    v228 = *(double *)&v126;
    *(_QWORD *)&v260 ^= 0x8000000000000000uLL;
  }
  _XMM9 = *((unsigned __int64 *)&v261 + 1);
  _XMM6 = (unsigned __int64)v261;
  v129 = v262;
  __asm
  {
    vmaxsd  xmm0, xmm9, xmm6
    vmaxsd  xmm2, xmm0, xmm14
    vminsd  xmm0, xmm9, xmm6
    vminsd  xmm1, xmm0, xmm14
  }
  if ( COERCE_DOUBLE(_XMM2 & 0x7FFFFFFFFFFFFFFFLL) < COERCE_DOUBLE(_XMM1 & 0x7FFFFFFFFFFFFFFFLL) )
  {
    v135 = v261 ^ 0x8000000000000000uLL;
    _XMM6 = (unsigned __int64)v261 ^ 0x8000000000000000uLL;
    __asm { vunpcklpd xmm6, xmm6, xmm2 }
    *(_QWORD *)&v129 = *(_QWORD *)&v262 ^ 0x8000000000000000uLL;
    __asm
    {
      vmovupd [rbp+1F0h+var_188], xmm6
      vunpckhpd xmm9, xmm6, xmm6
    }
    v228 = *(double *)&v135;
    *(_QWORD *)&v262 ^= 0x8000000000000000uLL;
  }
  _XMM15 = *((unsigned __int64 *)&v263 + 1);
  _XMM7 = (unsigned __int64)v263;
  v138 = *(unsigned __int64 *)&v264;
  __asm
  {
    vmaxsd  xmm0, xmm15, xmm7
    vmaxsd  xmm2, xmm0, xmm8
    vminsd  xmm0, xmm15, xmm7
    vminsd  xmm1, xmm0, xmm8
  }
  if ( COERCE_DOUBLE(_XMM2 & 0x7FFFFFFFFFFFFFFFLL) < COERCE_DOUBLE(_XMM1 & 0x7FFFFFFFFFFFFFFFLL) )
  {
    v144 = v263 ^ 0x8000000000000000uLL;
    _XMM7 = (unsigned __int64)v263 ^ 0x8000000000000000uLL;
    __asm { vunpcklpd xmm7, xmm7, xmm2 }
    v138 = *(unsigned __int64 *)&v264 ^ (unsigned __int128)0x8000000000000000uLL;
    __asm
    {
      vmovupd [rbp+1F0h+var_170], xmm7
      vunpckhpd xmm15, xmm7, xmm7
    }
    v228 = *(double *)&v144;
    *(_QWORD *)&v264 ^= 0x8000000000000000uLL;
  }
  if ( *(double *)&_XMM9 * *(double *)&_XMM5 * *(double *)&v138
     + v129 * *(double *)&_XMM12 * *(double *)&_XMM7
     + *(double *)&_XMM6 * *(double *)&v120 * *(double *)&_XMM15
     - *(double *)&_XMM9 * *(double *)&v120 * *(double *)&_XMM7
     - v129 * *(double *)&_XMM5 * *(double *)&_XMM15
     - *(double *)&_XMM6 * *(double *)&_XMM12 * *(double *)&v138 < 0.0 )
  {
    v120 ^= 0x8000000000000000uLL;
    *(_QWORD *)&v259 = _XMM5 ^ 0x8000000000000000uLL;
    *((_QWORD *)&v259 + 1) = _XMM12 ^ 0x8000000000000000uLL;
    v260 = *(double *)&v120;
    _XMM5 ^= 0x8000000000000000uLL;
    *(_QWORD *)&_XMM12 = _XMM12 ^ 0x8000000000000000uLL;
  }
  v145 = *(double *)(a1 + 0x48);
  *(double *)(a1 + 0x60) = v145;
  v146 = *(double *)(a1 + 0x50);
  *(double *)(a1 + 0x68) = v146;
  v147 = *(double *)(a1 + 0x58);
  v148 = v145 * v146 * v147;
  *(double *)(a1 + 0x70) = v147;
  v228 = v145 * v146;
  if ( v148 != 0.0 )
  {
    v149 = 1.0 / v148;
    *(double *)(a1 + 0x60) = v147 * v146 * v149;
    *(double *)(a1 + 0x70) = v149 * v228;
    *(double *)(a1 + 0x68) = v147 * v145 * v149;
  }
  *((_QWORD *)&v150 + 1) = *((_QWORD *)&_XMM9 + 1);
  *(double *)&v150 = *(double *)&_XMM9 + *(double *)&_XMM5 + *(double *)&v138;
  LODWORD(_XMM10) = 0;
  v221 = 0.0;
  if ( *(double *)&v150 <= 0.0 )
  {
    if ( *(double *)&_XMM5 >= *(double *)&_XMM9 && *(double *)&_XMM5 >= *(double *)&v138 )
    {
      *((_QWORD *)&v164 + 1) = *((_QWORD *)&_XMM5 + 1);
      *(double *)&v164 = *(double *)&_XMM5 - *(double *)&_XMM9 - *(double *)&v138 + 1.0;
      _XMM2 = v164;
      __asm { vmovddup xmm3, xmm2 }
      *((_QWORD *)&v164 + 1) = *((_QWORD *)&_XMM15 + 1);
      __asm
      {
        vsqrtpd xmm4, xmm3
        vunpckhpd xmm4, xmm4, xmm4
      }
      *(double *)&v164 = (*(double *)&_XMM15 - v129) * (0.5 / *(double *)&_XMM4);
      _XMM1 = v164;
      *((_QWORD *)&v164 + 1) = *((_QWORD *)&_XMM4 + 1);
      *(double *)&v164 = *(double *)&_XMM4 * 0.5;
      _XMM2 = v164;
      *((_QWORD *)&v164 + 1) = *((_QWORD *)&_XMM6 + 1);
      __asm { vcvtsd2ss xmm15, xmm1, xmm1 }
      *(double *)&v164 = (*(double *)&_XMM6 + *(double *)&_XMM12) * (0.5 / *(double *)&_XMM4);
      _XMM1 = v164;
      __asm { vcvtsd2ss xmm13, xmm2, xmm2 }
      *((_QWORD *)&v164 + 1) = *((_QWORD *)&_XMM7 + 1);
      __asm { vcvtsd2ss xmm10, xmm1, xmm1 }
      *(double *)&v164 = (*(double *)&_XMM7 + *(double *)&v120) * (0.5 / *(double *)&_XMM4);
      _XMM0 = v164;
      v221 = *(float *)&_XMM10;
      __asm { vcvtsd2ss xmm14, xmm0, xmm0 }
      goto LABEL_49;
    }
    if ( *(double *)&_XMM9 < *(double *)&_XMM5 || *(double *)&_XMM9 < *(double *)&v138 )
    {
      if ( *(double *)&v138 < *(double *)&_XMM5 || *(double *)&v138 < *(double *)&_XMM9 )
      {
        LODWORD(_XMM14) = 0;
      }
      else
      {
        *((_QWORD *)&v185 + 1) = *((_QWORD *)&v138 + 1);
        *(double *)&v185 = *(double *)&v138 - *(double *)&_XMM5 - *(double *)&_XMM9 + 1.0;
        _XMM2 = v185;
        __asm
        {
          vmovddup xmm3, xmm2
          vsqrtpd xmm5, xmm3
          vunpckhpd xmm5, xmm5, xmm5
        }
        *((_QWORD *)&v185 + 1) = *((_QWORD *)&_XMM6 + 1);
        *(double *)&v185 = (*(double *)&_XMM6 - *(double *)&_XMM12) * (0.5 / *(double *)&_XMM5);
        _XMM1 = v185;
        __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
        *((_QWORD *)&v185 + 1) = *((_QWORD *)&_XMM7 + 1);
        v219 = *(float *)&_XMM0;
        *(double *)&v185 = (*(double *)&_XMM7 + *(double *)&v120) * (0.5 / *(double *)&_XMM5);
        _XMM0 = v185;
        *((_QWORD *)&v185 + 1) = *((_QWORD *)&_XMM15 + 1);
        *(double *)&v185 = (*(double *)&_XMM15 + v129) * (0.5 / *(double *)&_XMM5);
        _XMM2 = v185;
        __asm
        {
          vcvtsd2ss xmm13, xmm0, xmm0
          vcvtsd2ss xmm10, xmm2, xmm2
        }
        *((_QWORD *)&v185 + 1) = *((_QWORD *)&_XMM5 + 1);
        *(double *)&v185 = *(double *)&_XMM5 * 0.5;
        _XMM0 = v185;
        v221 = *(float *)&_XMM10;
        __asm { vcvtsd2ss xmm14, xmm0, xmm0 }
      }
    }
    else
    {
      *((_QWORD *)&v174 + 1) = *((_QWORD *)&_XMM9 + 1);
      *(double *)&v174 = *(double *)&_XMM9 - *(double *)&v138 - *(double *)&_XMM5 + 1.0;
      _XMM2 = v174;
      __asm
      {
        vmovddup xmm3, xmm2
        vsqrtpd xmm5, xmm3
        vunpckhpd xmm5, xmm5, xmm5
      }
      *((_QWORD *)&v174 + 1) = *((_QWORD *)&v120 + 1);
      *(double *)&v174 = (*(double *)&v120 - *(double *)&_XMM7) * (0.5 / *(double *)&_XMM5);
      _XMM1 = v174;
      __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
      *((_QWORD *)&v174 + 1) = *((_QWORD *)&_XMM6 + 1);
      v219 = *(float *)&_XMM0;
      *(double *)&v174 = (*(double *)&_XMM6 + *(double *)&_XMM12) * (0.5 / *(double *)&_XMM5);
      _XMM0 = v174;
      __asm { vcvtsd2ss xmm13, xmm0, xmm0 }
      *((_QWORD *)&v174 + 1) = *((_QWORD *)&_XMM15 + 1);
      *(double *)&v174 = *(double *)&_XMM15 + v129;
      v182 = v174;
      *((_QWORD *)&v174 + 1) = *((_QWORD *)&_XMM5 + 1);
      *(double *)&v174 = *(double *)&_XMM5 * 0.5;
      _XMM1 = v174;
      *((_QWORD *)&v174 + 1) = *((_QWORD *)&v182 + 1);
      *(double *)&v174 = *(double *)&v182 * (0.5 / *(double *)&_XMM5);
      _XMM2 = v174;
      __asm
      {
        vcvtsd2ss xmm10, xmm1, xmm1
        vcvtsd2ss xmm14, xmm2, xmm2
      }
      v221 = *(float *)&_XMM10;
    }
  }
  else
  {
    *(double *)&v150 = *(double *)&v150 + 1.0;
    _XMM0 = v150;
    __asm { vmovddup xmm1, xmm0 }
    __asm
    {
      vsqrtpd xmm2, xmm1
      vunpckhpd xmm2, xmm2, xmm2
    }
    v156 = 0.5 / *(double *)&_XMM2;
    *((_QWORD *)&v158 + 1) = *((_QWORD *)&_XMM2 + 1);
    *(double *)&v158 = *(double *)&_XMM2 * 0.5;
    _XMM0 = v158;
    __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
    *((_QWORD *)&v158 + 1) = *((_QWORD *)&_XMM15 + 1);
    *(double *)&v158 = (*(double *)&_XMM15 - v129) * (0.5 / *(double *)&_XMM2);
    _XMM2 = v158;
    v219 = *(float *)&_XMM0;
    *((_QWORD *)&v158 + 1) = *((_QWORD *)&v120 + 1);
    *(double *)&v158 = (*(double *)&v120 - *(double *)&_XMM7) * v156;
    _XMM1 = v158;
    __asm { vcvtsd2ss xmm13, xmm2, xmm2 }
    *((_QWORD *)&v158 + 1) = *((_QWORD *)&_XMM6 + 1);
    __asm { vcvtsd2ss xmm10, xmm1, xmm1 }
    *(double *)&v158 = (*(double *)&_XMM6 - *(double *)&_XMM12) * v156;
    _XMM0 = v158;
    v221 = *(float *)&_XMM10;
    __asm { vcvtsd2ss xmm14, xmm0, xmm0 }
  }
  *(float *)&_XMM15 = v219;
LABEL_49:
  v195 = *(float *)(a1 + 0x9C);
  v196 = *(float *)(a1 + 0x98);
  v197 = *(float *)(a1 + 0x94);
  *(float *)(a1 + 0x9C) = (float)((float)(*(float *)&_XMM13 * *(float *)(a1 + 0x90)) + (float)(v196 * *(float *)&_XMM14))
                        + (float)((float)(*(float *)&_XMM10 * v197) + (float)(*(float *)&_XMM15 * v195));
  v228 = *(double *)(a1 + 0x90);
  v198 = *(float *)&v228;
  *(float *)(a1 + 0x90) = (float)((float)(*(float *)&_XMM10 * v196) - (float)(v197 * *(float *)&_XMM14))
                        + (float)((float)(*(float *)&_XMM15 * *(float *)&v228) - (float)(*(float *)&_XMM13 * v195));
  *(float *)(a1 + 0x94) = (float)((float)(*(float *)&_XMM14 * v198) - (float)(*(float *)&_XMM13 * v196))
                        + (float)((float)(*(float *)&_XMM15 * *((float *)&v228 + 1)) - (float)(*(float *)&_XMM10 * v195));
  *(float *)(a1 + 0x98) = (float)((float)(*(float *)&_XMM13 * v197) - (float)(*(float *)&_XMM10 * v198))
                        + (float)((float)(*(float *)&_XMM15 * *(float *)(a1 + 0x98)) - (float)(*(float *)&_XMM14 * v195));
  v199 = *(float *)(a1 + 0x11C);
  v200 = *(float *)(a1 + 0x118);
  v201 = *(float *)(a1 + 0x120);
  v202 = *(float *)(a1 + 0x124);
  *(float *)(a1 + 0x118) = (float)((float)((float)(v221 * v201) - (float)(*(float *)&_XMM14 * v199))
                                 + (float)(*(float *)&_XMM15 * v200))
                         + (float)(*(float *)&_XMM13 * v202);
  *(float *)(a1 + 0x11C) = (float)((float)((float)(*(float *)&_XMM14 * v200) - (float)(*(float *)&_XMM13 * v201))
                                 + (float)(*(float *)&_XMM15 * v199))
                         + (float)(v221 * v202);
  *(float *)(a1 + 0x124) = (float)(*(float *)&_XMM15 * v202)
                         - (float)((float)((float)(*(float *)&_XMM13 * v200) + (float)(*(float *)&_XMM10 * v199))
                                 + (float)(*(float *)&_XMM14 * v201));
  _XMM0 = *(unsigned __int64 *)&v240;
  *(float *)(a1 + 0x120) = (float)((float)((float)(*(float *)&_XMM13 * v199) - (float)(v221 * v200))
                                 + (float)(*(float *)&_XMM15 * v201))
                         + (float)(*(float *)&_XMM14 * v202);
  __asm { vunpcklpd xmm0, xmm0, xmm2 }
  *(_OWORD *)(a1 + 0x78) = _XMM0;
  *(double *)(a1 + 0x88) = v258;
  v205 = *(float *)(a1 + 0x94);
  v206 = (__m128)*(unsigned int *)(a1 + 0x98);
  v207 = *(float *)(a1 + 0x9C);
  v208 = *(float *)(a1 + 0x90);
  v209 = v206;
  v209.m128_f32[0] = (float)((float)(v206.m128_f32[0] * v206.m128_f32[0]) + (float)(v205 * v205))
                   + (float)((float)(v208 * v208) + (float)(v207 * v207));
  _XMM3 = _mm_shuffle_ps(v209, v209, 0);
  __asm { vrsqrtps xmm5, xmm3 }
  _XMM5.m128_f32[0] = _mm_shuffle_ps(_XMM5, _XMM5, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM5.m128_f32[0] * v209.m128_f32[0]) * _XMM5.m128_f32[0]) * 0.5))
                    * _XMM5.m128_f32[0];
  *(float *)(a1 + 0x9C) = v207 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x90) = v208 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x94) = v205 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x98) = v206.m128_f32[0] * _XMM3.m128_f32[0];
  v212 = *(float *)(a1 + 0x11C);
  v213 = (__m128)*(unsigned int *)(a1 + 0x120);
  v214 = *(float *)(a1 + 0x124);
  v215 = *(float *)(a1 + 0x118);
  v216 = v213;
  v216.m128_f32[0] = (float)((float)(v213.m128_f32[0] * v213.m128_f32[0]) + (float)(v212 * v212))
                   + (float)((float)(v215 * v215) + (float)(v214 * v214));
  _XMM3 = _mm_shuffle_ps(v216, v216, 0);
  __asm { vrsqrtps xmm5, xmm3 }
  _XMM5.m128_f32[0] = _mm_shuffle_ps(_XMM5, _XMM5, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM5.m128_f32[0] * v216.m128_f32[0]) * _XMM5.m128_f32[0]) * 0.5))
                    * _XMM5.m128_f32[0];
  *(float *)(a1 + 0x124) = v214 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x118) = v215 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x11C) = v212 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x120) = v213.m128_f32[0] * _XMM3.m128_f32[0];
  sub_14673B940(a1);
  if ( v243 )
  {
    if ( (n0x400 & 0x400) == 0 )
      sub_1402A63C0((__int64)v243);
  }
}

// --- End Function: sub_146720100 (0x146720100) ---

// --- Function: sub_146721650 (0x146721650) ---
_UNKNOWN **__fastcall sub_146721650(Parameter **p_Parameter, double a2, double a3, double *a4, __int64 a5, __int64 a6)
{
  __int128 v6; // xmm6
  __int128 v7; // xmm7
  __int128 v8; // xmm8
  __int128 v9; // xmm9
  __int128 v10; // xmm10
  __int128 v11; // xmm11
  __int128 v12; // xmm12
  __int128 v13; // xmm13
  __int128 v14; // xmm14
  __int128 v15; // xmm15
  float v16; // xmm13_4
  float v17; // xmm11_4
  float v18; // xmm14_4
  float v19; // xmm12_4
  float v20; // xmm7_4
  float v21; // xmm6_4
  float v22; // xmm15_4
  float v23; // xmm4_4
  double v24; // xmm10_8
  double v25; // xmm9_8
  double v26; // xmm5_8
  double v27; // xmm8_8
  float v28; // xmm1_4
  double v29; // xmm14_8
  double v30; // kr00_8
  double v31; // xmm7_8
  double v32; // xmm6_8
  double v33; // xmm4_8
  double v40; // xmm13_8
  double v42; // xmm0_8
  double v44; // xmm11_8
  double v45; // xmm12_8
  double v46; // xmm10_8
  double v47; // xmm5_8
  double v48; // xmm4_8
  double v49; // kr00_8
  double v50; // xmm8_8
  double v51; // xmm7_8
  double v52; // xmm4_8
  double v53; // xmm6_8
  double v54; // kr00_8
  unsigned __int128 v55; // xmm10
  double v56; // xmm6_8
  double v57; // xmm7_8
  double v58; // xmm5_8
  double v59; // xmm8_8
  double v60; // xmm3_8
  double v61; // xmm4_8
  double v62; // xmm15_8
  double v63; // xmm13_8
  __int64 v64; // rcx
  double v65; // xmm9_8
  float v66; // xmm8_4
  float v67; // xmm2_4
  float v68; // xmm11_4
  float v69; // xmm1_4
  float v70; // xmm7_4
  float v71; // xmm12_4
  __int64 v72; // rax
  float v73; // xmm10_4
  float v74; // xmm9_4
  float v75; // xmm13_4
  float v76; // xmm6_4
  double v77; // xmm2_8
  float v78; // xmm5_4
  float v79; // xmm4_4
  float v80; // xmm3_4
  float v81; // xmm15_4
  float v82; // xmm7_4
  float v83; // xmm8_4
  float v84; // xmm11_4
  float v85; // xmm12_4
  float v86; // xmm6_4
  float v87; // xmm4_4
  float v88; // kr00_4
  float v89; // xmm14_4
  float v90; // xmm13_4
  float v91; // xmm5_4
  float v92; // xmm10_4
  float v93; // xmm6_4
  float v94; // xmm9_4
  float v95; // xmm8_4
  float v96; // xmm4_4
  float v97; // xmm3_4
  float v98; // xmm0_4
  double v99; // xmm14_8
  double v100; // xmm9_8
  double v101; // xmm10_8
  double v102; // xmm11_8
  double v103; // xmm8_8
  double v104; // xmm7_8
  double v105; // xmm4_8
  double v106; // xmm5_8
  double v107; // xmm4_8
  double v108; // xmm6_8
  double v109; // xmm7_8
  double v110; // xmm5_8
  double v111; // xmm8_8
  double v112; // xmm9_8
  double v113; // xmm10_8
  double v114; // xmm12_8
  double v115; // xmm2_8
  double v116; // xmm6_8
  double v117; // xmm5_8
  double v118; // xmm0_8
  double v119; // xmm1_8
  int v120; // ecx
  __int64 v121; // rbx
  __int64 *v122; // rax
  __int64 v123; // rax
  __int64 *v124; // rax
  double v125; // xmm2_8
  double v126; // xmm0_8
  double v127; // xmm1_8
  int v128; // r9d
  int v129; // r8d
  int n2; // edx
  __int64 v131; // rax
  __int64 v132; // rax
  __int64 v133; // rax
  double v135; // xmm9_8
  double v136; // xmm11_8
  double v138; // xmm12_8
  double v139; // xmm13_8
  double v140; // xmm7_8
  double v141; // xmm14_8
  double v143; // xmm4_8
  double v144; // xmm2_8
  double v145; // xmm3_8
  double v146; // xmm6_8
  double v147; // xmm0_8
  __int128 v150; // xmm8
  unsigned __int128 v156; // xmm11
  double v157; // xmm12_8
  unsigned __int128 v163; // xmm14
  __int128 v164; // xmm7
  double v170; // xmm4_8
  double v171; // xmm0_8
  double v172; // xmm2_8
  double v173; // xmm3_8
  __int128 v174; // kr00_16
  double v181; // xmm3_8
  __int128 v183; // kr00_16
  __int128 v189; // kr00_16
  __int128 v199; // kr00_16
  __int128 v206; // xmm0
  __int128 v210; // kr00_16
  float v220; // xmm7_4
  float v221; // xmm6_4
  float v222; // xmm4_4
  float v223; // xmm5_4
  float v224; // xmm7_4
  float v225; // xmm8_4
  float v226; // xmm9_4
  float v227; // xmm11_4
  double v228; // xmm1_8
  __int128 v229; // xmm0
  float v230; // xmm6_4
  float v231; // xmm7_4
  float v232; // xmm8_4
  __m128 v233; // xmm9
  __m128 v234; // kr00_16
  float v237; // xmm8_4
  __m128 v238; // xmm9
  float v239; // xmm6_4
  float v240; // xmm7_4
  __m128 v241; // kr00_16
  _UNKNOWN **result; // rax
  float v245; // [rsp+28h] [rbp-E0h]
  float v246; // [rsp+2Ch] [rbp-DCh]
  float v247; // [rsp+2Ch] [rbp-DCh]
  float v248; // [rsp+30h] [rbp-D8h]
  float v249; // [rsp+30h] [rbp-D8h]
  double v250; // [rsp+38h] [rbp-D0h]
  double v251; // [rsp+40h] [rbp-C8h]
  double v252; // [rsp+48h] [rbp-C0h]
  double v253; // [rsp+50h] [rbp-B8h]
  double v254; // [rsp+58h] [rbp-B0h]
  double v255; // [rsp+58h] [rbp-B0h]
  double v256; // [rsp+60h] [rbp-A8h]
  double v257; // [rsp+60h] [rbp-A8h]
  float v258; // [rsp+68h] [rbp-A0h]
  double v259; // [rsp+68h] [rbp-A0h]
  double v260; // [rsp+70h] [rbp-98h]
  double v261; // [rsp+78h] [rbp-90h]
  double v263; // [rsp+80h] [rbp-88h]
  double v265; // [rsp+88h] [rbp-80h]
  double v266; // [rsp+90h] [rbp-78h]
  double v267; // [rsp+98h] [rbp-70h]
  double v268; // [rsp+A0h] [rbp-68h]
  double v269; // [rsp+A8h] [rbp-60h] BYREF
  int n0x420; // [rsp+B0h] [rbp-58h]
  __int64 *v271; // [rsp+B8h] [rbp-50h]
  double v272; // [rsp+C0h] [rbp-48h]
  double v273; // [rsp+C8h] [rbp-40h]
  float v274; // [rsp+D0h] [rbp-38h]
  unsigned int v275; // [rsp+D4h] [rbp-34h]
  unsigned int v276; // [rsp+D8h] [rbp-30h]
  double v277; // [rsp+E0h] [rbp-28h]
  double v278; // [rsp+E8h] [rbp-20h]
  double v279; // [rsp+F0h] [rbp-18h]
  _DWORD v280[2]; // [rsp+F8h] [rbp-10h] BYREF
  int n0x400; // [rsp+100h] [rbp-8h]
  __int64 *v282; // [rsp+108h] [rbp+0h]
  double v283; // [rsp+110h] [rbp+8h]
  double v284; // [rsp+118h] [rbp+10h]
  double v285; // [rsp+120h] [rbp+18h]
  double v286; // [rsp+128h] [rbp+20h]
  double v287; // [rsp+130h] [rbp+28h]
  __int128 v288; // [rsp+138h] [rbp+30h] BYREF
  double v289; // [rsp+148h] [rbp+40h]
  __int128 v290; // [rsp+150h] [rbp+48h]
  double v291; // [rsp+160h] [rbp+58h]
  __int128 v292; // [rsp+168h] [rbp+60h]
  double v293; // [rsp+178h] [rbp+70h]
  char v294; // [rsp+180h] [rbp+78h] BYREF
  __int128 v295; // [rsp+188h] [rbp+80h]
  double v296; // [rsp+198h] [rbp+90h]
  double v297; // [rsp+1A0h] [rbp+98h]
  double v298; // [rsp+1A8h] [rbp+A0h]
  double v299; // [rsp+1B0h] [rbp+A8h]
  double v300; // [rsp+1B8h] [rbp+B0h]
  double v301; // [rsp+1C0h] [rbp+B8h]
  double v302; // [rsp+1C8h] [rbp+C0h]
  double v303[10]; // [rsp+1D8h] [rbp+D0h] BYREF
  __int128 v304; // [rsp+238h] [rbp+130h]
  __int128 v305; // [rsp+248h] [rbp+140h]
  __int128 v306; // [rsp+258h] [rbp+150h]
  __int128 v307; // [rsp+268h] [rbp+160h]
  __int128 v308; // [rsp+278h] [rbp+170h]
  __int128 v309; // [rsp+288h] [rbp+180h]
  __int128 v310; // [rsp+298h] [rbp+190h]
  __int128 v311; // [rsp+2A8h] [rbp+1A0h]
  __int128 v312; // [rsp+2B8h] [rbp+1B0h]
  __int128 v313; // [rsp+2C8h] [rbp+1C0h]

  v313 = v6;
  v312 = v7;
  v311 = v8;
  v310 = v9;
  v309 = v10;
  v308 = v11;
  v307 = v12;
  v306 = v13;
  v305 = v14;
  v304 = v15;
  v16 = *((float *)p_Parameter + 0x47);
  v17 = *((float *)p_Parameter + 0x25);
  v18 = *((float *)p_Parameter + 0x24);
  v19 = *((float *)p_Parameter + 0x46);
  v20 = *((float *)p_Parameter + 0x48);
  v21 = *((float *)p_Parameter + 0x26);
  v22 = *((float *)p_Parameter + 0x27);
  v23 = *((float *)p_Parameter + 0x49);
  v254 = a4[1] - *((double *)p_Parameter + 0x10);
  v256 = a4[2] - *((double *)p_Parameter + 0x11);
  v24 = (float)((float)((float)((float)(v18 * v16) - (float)(v19 * v17)) + (float)(v20 * v22)) + (float)(v21 * v23));
  v25 = (float)((float)((float)((float)(v21 * v19) - (float)(v20 * v18)) + (float)(v16 * v22)) + (float)(v17 * v23));
  v26 = (float)((float)(v22 * v23) - (float)((float)((float)(v19 * v18) + (float)(v17 * v16)) + (float)(v21 * v20)));
  v27 = v24 * v254 - v25 * v256 + (*a4 - *((double *)p_Parameter + 0xF)) * v26;
  v28 = v18 * v23;
  v29 = *a4;
  v30 = *a4 - *((double *)p_Parameter + 0xF);
  v31 = (float)((float)((float)((float)(v20 * v17) - (float)(v21 * v16)) + (float)(v19 * v22)) + v28);
  v32 = v256 * v31 - v30 * v24 + v254 * v26;
  v33 = v30 * v25 - v254 * v31 + v256 * v26;
  _XMM1 = COERCE_UNSIGNED_INT64(v30 + v32 * v24 - v33 * v25 + v32 * v24 - v33 * v25);
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *((float *)p_Parameter + 0x4A) = *(float *)&_XMM2 + *((float *)p_Parameter + 0x4A);
  _XMM1 = COERCE_UNSIGNED_INT64(v254 + v33 * v31 - v27 * v24 + v33 * v31 - v27 * v24);
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *((float *)p_Parameter + 0x4B) = *(float *)&_XMM2 + *((float *)p_Parameter + 0x4B);
  v40 = *((double *)p_Parameter + 0x20);
  _XMM1 = COERCE_UNSIGNED_INT64(v256 + v27 * v25 - v32 * v31 + v27 * v25 - v32 * v31);
  v42 = a4[1];
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(double *)&_XMM1 = a4[2];
  *((float *)p_Parameter + 0x4C) = *(float *)&_XMM2 + *((float *)p_Parameter + 0x4C);
  v44 = v42 - *((double *)p_Parameter + 0x10);
  v45 = *(double *)&_XMM1 - *((double *)p_Parameter + 0x11);
  v46 = v29 - *((double *)p_Parameter + 0xF);
  v47 = *((float *)p_Parameter + 0x26);
  v48 = *((float *)p_Parameter + 0x27);
  v49 = *((float *)p_Parameter + 0x25);
  v248 = *((float *)p_Parameter + 0x24);
  v50 = v47 * v44 - v49 * v45 + v48 * v46;
  v51 = v248 * v45 - v47 * v46 + v48 * v44;
  v52 = v49 * v46 - v248 * v44 + v48 * v45;
  v53 = v47 * v51 - v49 * v52;
  *(double *)&_XMM2 = v49 * v50 - v51 * v248;
  v54 = v53 + v46;
  v55 = 0x8000000000000000uLL;
  v56 = v54 + v53;
  v57 = v52 * v248 - v47 * v50 + v44 + v52 * v248 - v47 * v50;
  v58 = *(double *)&_XMM2 + v45 + *(double *)&_XMM2;
  v59 = (v57 * v57 + v58 * v58) * v40 + *((double *)p_Parameter + 9);
  v60 = (v56 * v56 + v58 * v58) * v40 + *((double *)p_Parameter + 0xA);
  v61 = (v56 * v56 + v57 * v57) * v40 + *((double *)p_Parameter + 0xB);
  v62 = -(v56 * v40 * v57);
  v266 = v62;
  v251 = v62;
  v279 = v248;
  v252 = v59;
  v250 = v60;
  v268 = v61;
  v260 = -(v56 * v40 * v58);
  v253 = v260;
  v63 = -(v57 * v40 * v58);
  *((double *)p_Parameter + 0x20) = a2;
  *((double *)p_Parameter + 0x22) = a3;
  *((double *)p_Parameter + 0x21) = 1.0 / a2;
  v64 = a6;
  v267 = v63;
  v261 = v63;
  v245 = 1.0;
  v65 = v63;
  if ( a6 )
  {
    v66 = *((float *)p_Parameter + 0x27);
    v67 = *((float *)p_Parameter + 0x25);
    LODWORD(v68) = LODWORD(v248) ^ 0x80000000;
    v69 = *((float *)p_Parameter + 0x26);
    LODWORD(v70) = LODWORD(v69) ^ 0x80000000;
    LODWORD(v71) = LODWORD(v67) ^ 0x80000000;
    v246 = v66 + v66;
    v283 = v69;
    v275 = LODWORD(v248) ^ 0x80000000;
    v276 = LODWORD(v67) ^ 0x80000000;
    LODWORD(v249) = LODWORD(v69) ^ 0x80000000;
    v274 = v66;
    v284 = v67;
    v285 = v66;
    v72 = a5 + 0x1C;
    do
    {
      v73 = *(float *)v72;
      v74 = *(float *)(v72 - 4);
      v75 = *(float *)(v72 + 4);
      v76 = *(float *)(v72 + 8);
      v77 = *(double *)(v72 + 0x24);
      v263 = *(float *)(v72 + 0xC) * v77;
      v277 = *(float *)(v72 + 0x10) * v77;
      v272 = *(float *)(v72 + 0x14) * v77;
      v78 = v68 * v76;
      v79 = v71 * v76;
      v258 = (float)(v66 * v76) - (float)((float)((float)(v73 * v71) + (float)(v68 * v74)) + (float)(v70 * v75));
      v80 = (float)(v71 * v75) - (float)(v73 * v70);
      v81 = (float)((float)(v66 * v74) + v80) + (float)(v68 * v76);
      v82 = (float)(v70 * v74) - (float)(v68 * v75);
      v83 = (float)((float)(v73 * v66) + v82) + (float)(v71 * v76);
      *(float *)&v77 = v73 * v68;
      v84 = v76 * v249;
      v85 = *(float *)&v77 - (float)(v71 * v74);
      v86 = (float)((float)(v74 * v246) + (float)(v78 + v78)) + (float)(v80 + v80);
      v87 = (float)((float)(v73 * v246) + (float)(v79 + v79)) + (float)(v82 + v82);
      v88 = (float)(v84 + v84) + (float)(v75 * v246);
      v89 = 1.0 - (float)(v86 * v81);
      v90 = v87 * v83;
      v91 = v88 + (float)(v85 + v85);
      v92 = v86 * v258;
      v93 = v87 * v81;
      v94 = v91 * v83;
      v95 = v87 * v258;
      v96 = (float)((float)((float)(*((float *)p_Parameter + 0x27) * *(float *)(v72 + 4)) + v85) + v84) * v91;
      v97 = v91 * v258;
      v287 = (float)((float)(1.0 - v90) - v96);
      v286 = (float)(v93 - (float)(v91 * v258));
      v259 = (float)(v89 - v96);
      v255 = (float)((float)(v91 * v81) - v95);
      v257 = (float)(v94 + v92);
      v278 = (float)(v94 - v92);
      v98 = v89 - v90;
      v99 = (float)((float)(v91 * v81) + v95) * v272;
      v265 = v98;
      v100 = *a4 - *(double *)(v72 - 0x1C);
      v101 = a4[1] - *(double *)(v72 - 0x14);
      v102 = a4[2] - *(double *)(v72 - 0xC);
      v269 = (float)((float)(v91 * v81) + v95);
      v103 = v101 * v283 - v284 * v102 + v100 * v285;
      v104 = v102 * v279 - v100 * v283 + v101 * v285;
      v105 = v284 * v100 - v101 * v279 + v102 * v285;
      v106 = v105 * v279 - v103 * v283;
      v273 = (float)(v97 + v93);
      v107 = v104 * v283 - v105 * v284 + v100 + v104 * v283 - v105 * v284;
      v108 = v103 * v284 - v104 * v279 + v102 + v103 * v284 - v104 * v279;
      v109 = v106 + v101 + v106;
      v110 = v107 * *(double *)(v72 + 0x1C);
      v111 = v287 * v263 * v273 + v286 * v277 * v259 + v99 * v278 - v109 * v110;
      v112 = v287 * v263 * v255 + v286 * v277 * v257 + v99 * v98 - v108 * v110;
      v113 = v108 * v108;
      v114 = v109 * v109;
      v72 += 0x48;
      v115 = v109 * *(double *)(v72 - 0x2C) * v108;
      v116 = *(double *)(v72 - 0x2C);
      v117 = v259 * v277 * v257 + v273 * v263 * v255 + v278 * v272 * v98 - v115;
      v62 = v111 + v266;
      v63 = v117 + v267;
      v252 = (v109 * v109 + v113) * v116 + v286 * v277 * v286 + v287 * v263 * v287 + v99 * v269 + v252;
      v260 = v112 + v260;
      v251 = v111 + v251;
      v66 = v274;
      v250 = (v107 * v107 + v113) * v116 + v277 * v259 * v259 + v272 * v278 * v278 + v263 * v273 * v273 + v250;
      v118 = v112 + v253;
      v65 = v117 + v261;
      v253 = v118;
      v70 = v249;
      v119 = v107 * v107 + v114;
      v68 = *(float *)&v275;
      v71 = *(float *)&v276;
      v61 = v272 * v265 * v265 + v263 * v255 * v255 + v277 * v257 * v257 + v119 * v116 + v268;
      v268 = v61;
      v266 = v62;
      v267 = v117 + v267;
      v261 = v117 + v261;
      --v64;
    }
    while ( v64 );
    v55 = 0x8000000000000000uLL;
    v59 = v252;
    v60 = v250;
  }
  v120 = dword_14A135740;
  v303[2] = v260;
  v121 = 0;
  v280[0] = 3;
  v280[1] = 3;
  v303[6] = v253;
  v303[0] = v59;
  v303[1] = v62;
  v303[3] = v251;
  v303[4] = v60;
  v303[5] = v63;
  v303[7] = v65;
  v303[8] = v61;
  if ( &v288 == (__int128 *)0xFFFFFFFFLL )
  {
    if ( dword_14A135740 + 9 > dword_149986764 )
      v120 = 0;
    v123 = v120;
    v120 += 9;
    dword_14A135740 = v120;
    v122 = &qword_14A134740[v123];
  }
  else
  {
    v122 = (__int64 *)&v288;
  }
  v282 = v122;
  n0x400 = 0x400;
  *(_QWORD *)&v269 = 0x300000003LL;
  if ( v303 == (double *)0xFFFFFFFFLL )
  {
    if ( v120 + 9 > dword_149986764 )
      v120 = 0;
    dword_14A135740 = v120 + 9;
    v124 = &qword_14A134740[v120];
  }
  else
  {
    v124 = (__int64 *)v303;
  }
  n0x420 = 0x420;
  v271 = v124;
  sub_14660B600((__int64)&v269, (__int64)v280, (__int64 *)p_Parameter + 9, 0.0);
  if ( v271 && (n0x420 & 0x400) == 0 )
    sub_1402A63C0((__int64)v271);
  v125 = *((double *)p_Parameter + 9);
  v126 = *((double *)p_Parameter + 0xA);
  v127 = *((double *)p_Parameter + 0xB);
  v128 = (v125 >= v126) + (v125 >= v127);
  v129 = (v126 >= v127) + (v126 >= v125);
  n2 = (v127 >= v126) + (v127 >= v125);
  if ( (v128 || v129 != 1 || n2 != 2) && v128 + n2 + v129 == 3 )
  {
    v131 = (unsigned int)(3 * v128);
    *(__int128 *)((char *)&v295 + 8 * v131) = v288;
    *(&v296 + v131) = v289;
    v132 = (unsigned int)(3 * v129);
    *(__int128 *)((char *)&v295 + 8 * v132) = v290;
    *(&v296 + v132) = v291;
    v133 = (unsigned int)(3 * n2);
    *(__int128 *)((char *)&v295 + 8 * v133) = v292;
    *(&v296 + v133) = v293;
    *(_QWORD *)&_XMM6 = v295;
    v135 = v298;
    v136 = v302;
    *(_QWORD *)&_XMM8 = *((_QWORD *)&v295 + 1);
    v138 = v299;
    v139 = v300;
    v140 = v296;
    v141 = v297;
    if ( *(double *)&v295 * v298 * v302
       + *((double *)&v295 + 1) * v299 * v300
       + v296 * v297 * v301
       - v296 * v298 * v300
       - *(double *)&v295 * v299 * v301
       - v297 * *((double *)&v295 + 1) * v302 < 0.0 )
    {
      _XMM1 = (unsigned __int64)v295 ^ v55;
      __asm { vunpcklpd xmm6, xmm1, xmm0 }
      *(_QWORD *)&v140 = *(_QWORD *)&v296 ^ v55;
      __asm
      {
        vmovupd [rbp+1E0h+var_160], xmm6
        vunpckhpd xmm8, xmm6, xmm6
      }
      *(_QWORD *)&v296 ^= v55;
    }
    v143 = (*(double *)&_XMM8 * v251 + *(double *)&_XMM6 * v252 + v140 * v253) * *(double *)&_XMM6;
    v144 = *(double *)&_XMM6 * v266 + *(double *)&_XMM8 * v250;
    v145 = *(double *)&_XMM6 * v260;
    v146 = v301;
    *((double *)p_Parameter + 9) = v143
                                 + (v144 + v140 * v261) * *(double *)&_XMM8
                                 + (v145 + *(double *)&_XMM8 * v267 + v140 * v268) * v140;
    *((double *)p_Parameter + 0xA) = (v135 * v251 + v141 * v252 + v138 * v253) * v141
                                   + (v141 * v266 + v135 * v250 + v138 * v261) * v135
                                   + (v141 * v260 + v135 * v267 + v138 * v268) * v138;
    *((double *)p_Parameter + 0xB) = (v139 * v266 + v146 * v250 + v136 * v261) * v146
                                   + (v146 * v251 + v139 * v252 + v136 * v253) * v139
                                   + (v146 * v267 + v139 * v260 + v136 * v268) * v136;
    do
    {
      v147 = *(double *)((char *)&v288 + v121);
      *(_QWORD *)((char *)&v288 + v121) = *(_QWORD *)((char *)&v295 + v121);
      *(double *)((char *)&v295 + v121) = v147;
      v121 += 8;
    }
    while ( (char *)&v288 + v121 != &v294 );
  }
  _XMM9 = *((unsigned __int64 *)&v288 + 1);
  _XMM5 = (unsigned __int64)v288;
  v150 = *(unsigned __int64 *)&v289;
  __asm
  {
    vmaxsd  xmm0, xmm9, xmm5
    vmaxsd  xmm2, xmm0, xmm8
    vminsd  xmm0, xmm9, xmm5
    vminsd  xmm1, xmm0, xmm8
  }
  if ( COERCE_DOUBLE(_XMM2 & 0x7FFFFFFFFFFFFFFFLL) < COERCE_DOUBLE(_XMM1 & 0x7FFFFFFFFFFFFFFFLL) )
  {
    _XMM5 = (unsigned __int64)v288 ^ v55;
    *(_QWORD *)&_XMM9 = *((_QWORD *)&v288 + 1) ^ v55;
    v150 = *(unsigned __int64 *)&v289 ^ v55;
    *(_QWORD *)&v288 = v288 ^ v55;
    *((_QWORD *)&v288 + 1) ^= v55;
    *(_QWORD *)&v289 ^= v55;
  }
  _XMM6 = *((unsigned __int64 *)&v290 + 1);
  v156 = (unsigned __int64)v290;
  v157 = v291;
  __asm
  {
    vmaxsd  xmm0, xmm6, xmm11
    vmaxsd  xmm2, xmm0, xmm12
    vminsd  xmm0, xmm6, xmm11
    vminsd  xmm1, xmm0, xmm12
  }
  if ( COERCE_DOUBLE(_XMM2 & 0x7FFFFFFFFFFFFFFFLL) < COERCE_DOUBLE(_XMM1 & 0x7FFFFFFFFFFFFFFFLL) )
  {
    v156 = (unsigned __int64)v290 ^ v55;
    _XMM6 = *((unsigned __int64 *)&v290 + 1) ^ v55;
    *(_QWORD *)&v157 = *(_QWORD *)&v291 ^ v55;
    *(_QWORD *)&v290 = v290 ^ v55;
    *((_QWORD *)&v290 + 1) ^= v55;
    *(_QWORD *)&v291 ^= v55;
  }
  _XMM13 = *((unsigned __int64 *)&v292 + 1);
  v163 = (unsigned __int64)v292;
  v164 = *(unsigned __int64 *)&v293;
  __asm
  {
    vmaxsd  xmm0, xmm13, xmm14
    vmaxsd  xmm2, xmm0, xmm7
    vminsd  xmm0, xmm13, xmm14
    vminsd  xmm1, xmm0, xmm7
  }
  if ( COERCE_DOUBLE(_XMM2 & 0x7FFFFFFFFFFFFFFFLL) < COERCE_DOUBLE(_XMM1 & 0x7FFFFFFFFFFFFFFFLL) )
  {
    v163 = (unsigned __int64)v292 ^ v55;
    _XMM13 = *((unsigned __int64 *)&v292 + 1) ^ v55;
    v164 = *(unsigned __int64 *)&v293 ^ v55;
    *(_QWORD *)&v292 = v292 ^ v55;
    *((_QWORD *)&v292 + 1) ^= v55;
    *(_QWORD *)&v293 ^= v55;
  }
  if ( *(double *)&_XMM6 * *(double *)&_XMM5 * *(double *)&v164
     + v157 * *(double *)&_XMM9 * *(double *)&v163
     + *(double *)&v156 * *(double *)&v150 * *(double *)&_XMM13
     - *(double *)&_XMM6 * *(double *)&v150 * *(double *)&v163
     - v157 * *(double *)&_XMM5 * *(double *)&_XMM13
     - *(double *)&v156 * *(double *)&_XMM9 * *(double *)&v164 < 0.0 )
  {
    _XMM1 = _XMM5 ^ v55;
    __asm { vunpcklpd xmm5, xmm1, xmm0 }
    v150 ^= v55;
    __asm
    {
      vmovupd [rbp+1E0h+var_1B0], xmm5
      vunpckhpd xmm9, xmm5, xmm5
    }
    v289 = *(double *)&v150;
  }
  v170 = *((double *)p_Parameter + 9);
  *((double *)p_Parameter + 0xC) = v170;
  v171 = *((double *)p_Parameter + 0xA);
  *((double *)p_Parameter + 0xD) = v171;
  v172 = *((double *)p_Parameter + 0xB);
  v173 = v172 * (v170 * v171);
  *((double *)p_Parameter + 0xE) = v172;
  if ( v173 != 0.0 )
  {
    *((double *)p_Parameter + 0xC) = v172 * v171 * (1.0 / v173);
    *((double *)p_Parameter + 0xE) = v170 * v171 * (1.0 / v173);
    *((double *)p_Parameter + 0xD) = v172 * v170 * (1.0 / v173);
  }
  *((_QWORD *)&v174 + 1) = *((_QWORD *)&_XMM6 + 1);
  *(double *)&v174 = *(double *)&_XMM6 + *(double *)&_XMM5 + *(double *)&v164;
  LODWORD(_XMM10) = 0;
  v247 = 0.0;
  LODWORD(_XMM15) = 0;
  if ( *(double *)&v174 <= 0.0 )
  {
    if ( *(double *)&_XMM5 < *(double *)&_XMM6 || *(double *)&_XMM5 < *(double *)&v164 )
    {
      if ( *(double *)&_XMM6 >= *(double *)&_XMM5 && *(double *)&_XMM6 >= *(double *)&v164 )
      {
        *((_QWORD *)&v199 + 1) = *((_QWORD *)&_XMM6 + 1);
        *(double *)&v199 = *(double *)&_XMM6 - *(double *)&v164 - *(double *)&_XMM5 + 1.0;
        _XMM2 = v199;
        __asm { vmovddup xmm3, xmm2 }
        *((_QWORD *)&v199 + 1) = *((_QWORD *)&v150 + 1);
        __asm
        {
          vsqrtpd xmm5, xmm3
          vunpckhpd xmm5, xmm5, xmm5
        }
        *(double *)&v199 = (*(double *)&v150 - *(double *)&v163) * (0.5 / *(double *)&_XMM5);
        _XMM1 = v199;
        *((_QWORD *)&v199 + 1) = *((_QWORD *)&v156 + 1);
        *(double *)&v199 = (*(double *)&v156 + *(double *)&_XMM9) * (0.5 / *(double *)&_XMM5);
        _XMM0 = v199;
        __asm { vcvtsd2ss xmm15, xmm0, xmm0 }
        *((_QWORD *)&v199 + 1) = *((_QWORD *)&_XMM13 + 1);
        *(double *)&v199 = *(double *)&_XMM13 + v157;
        v206 = v199;
        __asm { vcvtsd2ss xmm14, xmm1, xmm1 }
        *((_QWORD *)&v199 + 1) = *((_QWORD *)&_XMM5 + 1);
        *(double *)&v199 = *(double *)&_XMM5 * 0.5;
        _XMM1 = v199;
        *((_QWORD *)&v199 + 1) = *((_QWORD *)&v206 + 1);
        *(double *)&v199 = *(double *)&v206 * (0.5 / *(double *)&_XMM5);
        _XMM2 = v199;
        __asm
        {
          vcvtsd2ss xmm10, xmm1, xmm1
          vcvtsd2ss xmm13, xmm2, xmm2
        }
        v247 = *(float *)&_XMM10;
        goto LABEL_49;
      }
      if ( *(double *)&v164 < *(double *)&_XMM5 || *(double *)&v164 < *(double *)&_XMM6 )
      {
        LODWORD(_XMM13) = 0;
      }
      else
      {
        *((_QWORD *)&v210 + 1) = *((_QWORD *)&v164 + 1);
        *(double *)&v210 = *(double *)&v164 - *(double *)&_XMM5 - *(double *)&_XMM6 + 1.0;
        _XMM2 = v210;
        __asm
        {
          vmovddup xmm3, xmm2
          vsqrtpd xmm5, xmm3
          vunpckhpd xmm5, xmm5, xmm5
        }
        *((_QWORD *)&v210 + 1) = *((_QWORD *)&v156 + 1);
        *(double *)&v210 = (*(double *)&v156 - *(double *)&_XMM9) * (0.5 / *(double *)&_XMM5);
        _XMM1 = v210;
        __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
        *((_QWORD *)&v210 + 1) = *((_QWORD *)&v163 + 1);
        v245 = *(float *)&_XMM0;
        *(double *)&v210 = (*(double *)&v163 + *(double *)&v150) * (0.5 / *(double *)&_XMM5);
        _XMM0 = v210;
        *((_QWORD *)&v210 + 1) = *((_QWORD *)&_XMM13 + 1);
        *(double *)&v210 = (*(double *)&_XMM13 + v157) * (0.5 / *(double *)&_XMM5);
        _XMM2 = v210;
        __asm
        {
          vcvtsd2ss xmm15, xmm0, xmm0
          vcvtsd2ss xmm10, xmm2, xmm2
        }
        *((_QWORD *)&v210 + 1) = *((_QWORD *)&_XMM5 + 1);
        *(double *)&v210 = *(double *)&_XMM5 * 0.5;
        _XMM0 = v210;
        v247 = *(float *)&_XMM10;
        __asm { vcvtsd2ss xmm13, xmm0, xmm0 }
      }
    }
    else
    {
      *((_QWORD *)&v189 + 1) = *((_QWORD *)&_XMM5 + 1);
      *(double *)&v189 = *(double *)&_XMM5 - *(double *)&_XMM6 - *(double *)&v164 + 1.0;
      _XMM2 = v189;
      __asm { vmovddup xmm3, xmm2 }
      *((_QWORD *)&v189 + 1) = *((_QWORD *)&_XMM13 + 1);
      __asm
      {
        vsqrtpd xmm4, xmm3
        vunpckhpd xmm4, xmm4, xmm4
      }
      *(double *)&v189 = (*(double *)&_XMM13 - v157) * (0.5 / *(double *)&_XMM4);
      _XMM1 = v189;
      __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
      v245 = *(float *)&_XMM0;
      *((_QWORD *)&v189 + 1) = *((_QWORD *)&_XMM4 + 1);
      *(double *)&v189 = *(double *)&_XMM4 * 0.5;
      _XMM2 = v189;
      *((_QWORD *)&v189 + 1) = *((_QWORD *)&v156 + 1);
      *(double *)&v189 = (*(double *)&v156 + *(double *)&_XMM9) * (0.5 / *(double *)&_XMM4);
      _XMM1 = v189;
      __asm { vcvtsd2ss xmm15, xmm2, xmm2 }
      *((_QWORD *)&v189 + 1) = *((_QWORD *)&v163 + 1);
      __asm { vcvtsd2ss xmm10, xmm1, xmm1 }
      *(double *)&v189 = (*(double *)&v163 + *(double *)&v150) * (0.5 / *(double *)&_XMM4);
      _XMM0 = v189;
      v247 = *(float *)&_XMM10;
      __asm { vcvtsd2ss xmm13, xmm0, xmm0 }
    }
  }
  else
  {
    *(double *)&v174 = *(double *)&v174 + 1.0;
    _XMM0 = v174;
    __asm { vmovddup xmm1, xmm0 }
    __asm
    {
      vsqrtpd xmm2, xmm1
      vunpckhpd xmm2, xmm2, xmm2
    }
    v181 = 0.5 / *(double *)&_XMM2;
    *((_QWORD *)&v183 + 1) = *((_QWORD *)&_XMM2 + 1);
    *(double *)&v183 = *(double *)&_XMM2 * 0.5;
    _XMM0 = v183;
    __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
    *((_QWORD *)&v183 + 1) = *((_QWORD *)&_XMM13 + 1);
    *(double *)&v183 = (*(double *)&_XMM13 - v157) * (0.5 / *(double *)&_XMM2);
    _XMM2 = v183;
    v245 = *(float *)&_XMM0;
    *((_QWORD *)&v183 + 1) = *((_QWORD *)&v150 + 1);
    *(double *)&v183 = (*(double *)&v150 - *(double *)&v163) * v181;
    _XMM1 = v183;
    __asm { vcvtsd2ss xmm15, xmm2, xmm2 }
    *((_QWORD *)&v183 + 1) = *((_QWORD *)&v156 + 1);
    __asm { vcvtsd2ss xmm10, xmm1, xmm1 }
    *(double *)&v183 = (*(double *)&v156 - *(double *)&_XMM9) * v181;
    _XMM0 = v183;
    v247 = *(float *)&_XMM10;
    __asm { vcvtsd2ss xmm13, xmm0, xmm0 }
  }
  *(float *)&_XMM14 = v245;
LABEL_49:
  v220 = *((float *)p_Parameter + 0x27);
  v221 = *((float *)p_Parameter + 0x25);
  v222 = *((float *)p_Parameter + 0x26);
  *((float *)p_Parameter + 0x27) = (float)((float)(*(float *)&_XMM10 * v221) + (float)(*(float *)&_XMM14 * v220))
                                 + (float)((float)(v222 * *(float *)&_XMM13)
                                         + (float)(*(float *)&_XMM15 * *((float *)p_Parameter + 0x24)));
  v269 = *((double *)p_Parameter + 0x12);
  v223 = *(float *)&v269;
  *((float *)p_Parameter + 0x24) = (float)((float)(*(float *)&_XMM10 * v222) - (float)(v221 * *(float *)&_XMM13))
                                 + (float)((float)(*(float *)&_XMM14 * *(float *)&v269)
                                         - (float)(*(float *)&_XMM15 * v220));
  *((float *)p_Parameter + 0x25) = (float)((float)(*(float *)&_XMM13 * v223) - (float)(*(float *)&_XMM15 * v222))
                                 + (float)((float)(*(float *)&_XMM14 * *((float *)&v269 + 1))
                                         - (float)(*(float *)&_XMM10 * v220));
  *((float *)p_Parameter + 0x26) = (float)((float)(v221 * *(float *)&_XMM15) - (float)(*(float *)&_XMM10 * v223))
                                 + (float)((float)(*(float *)&_XMM14 * *((float *)p_Parameter + 0x26))
                                         - (float)(*(float *)&_XMM13 * v220));
  v224 = *((float *)p_Parameter + 0x47);
  v225 = *((float *)p_Parameter + 0x46);
  v226 = *((float *)p_Parameter + 0x48);
  v227 = *((float *)p_Parameter + 0x49);
  *((float *)p_Parameter + 0x49) = (float)(v227 * *(float *)&_XMM14)
                                 - (float)((float)((float)(v225 * *(float *)&_XMM15) + (float)(v224 * *(float *)&_XMM10))
                                         + (float)(v226 * *(float *)&_XMM13));
  *((float *)p_Parameter + 0x46) = (float)((float)((float)(v226 * v247) - (float)(v224 * *(float *)&_XMM13))
                                         + (float)(v225 * *(float *)&_XMM14))
                                 + (float)(v227 * *(float *)&_XMM15);
  *((float *)p_Parameter + 0x47) = (float)((float)((float)(v225 * *(float *)&_XMM13) - (float)(v226 * *(float *)&_XMM15))
                                         + (float)(v224 * *(float *)&_XMM14))
                                 + (float)(v227 * v247);
  v228 = a4[2];
  v229 = *(_OWORD *)a4;
  *((float *)p_Parameter + 0x48) = (float)((float)((float)(v224 * *(float *)&_XMM15) - (float)(v225 * v247))
                                         + (float)(v226 * *(float *)&_XMM14))
                                 + (float)(v227 * *(float *)&_XMM13);
  *(_OWORD *)(p_Parameter + 0xF) = v229;
  *((double *)p_Parameter + 0x11) = v228;
  v230 = *((float *)p_Parameter + 0x27);
  v231 = *((float *)p_Parameter + 0x24);
  v232 = *((float *)p_Parameter + 0x25);
  v233 = (__m128)*((unsigned int *)p_Parameter + 0x26);
  v234 = v233;
  v234.m128_f32[0] = (float)((float)(v233.m128_f32[0] * v233.m128_f32[0]) + (float)(v232 * v232))
                   + (float)((float)(v231 * v231) + (float)(v230 * v230));
  _XMM3 = _mm_shuffle_ps(v234, v234, 0);
  __asm { vrsqrtps xmm5, xmm3 }
  _XMM5.m128_f32[0] = _mm_shuffle_ps(_XMM5, _XMM5, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM5.m128_f32[0] * v234.m128_f32[0]) * _XMM5.m128_f32[0]) * 0.5))
                    * _XMM5.m128_f32[0];
  *((float *)p_Parameter + 0x27) = v230 * _XMM3.m128_f32[0];
  *((float *)p_Parameter + 0x24) = v231 * _XMM3.m128_f32[0];
  *((float *)p_Parameter + 0x25) = v232 * _XMM3.m128_f32[0];
  *((float *)p_Parameter + 0x26) = v233.m128_f32[0] * _XMM3.m128_f32[0];
  v237 = *((float *)p_Parameter + 0x47);
  v238 = (__m128)*((unsigned int *)p_Parameter + 0x48);
  v239 = *((float *)p_Parameter + 0x49);
  v240 = *((float *)p_Parameter + 0x46);
  v241 = v238;
  v241.m128_f32[0] = (float)((float)(v238.m128_f32[0] * v238.m128_f32[0]) + (float)(v237 * v237))
                   + (float)((float)(v240 * v240) + (float)(v239 * v239));
  _XMM3 = _mm_shuffle_ps(v241, v241, 0);
  __asm { vrsqrtps xmm5, xmm3 }
  _XMM5.m128_f32[0] = _mm_shuffle_ps(_XMM5, _XMM5, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM5.m128_f32[0] * v241.m128_f32[0]) * _XMM5.m128_f32[0]) * 0.5))
                    * _XMM5.m128_f32[0];
  *((float *)p_Parameter + 0x49) = v239 * _XMM3.m128_f32[0];
  *((float *)p_Parameter + 0x46) = v240 * _XMM3.m128_f32[0];
  *((float *)p_Parameter + 0x47) = v237 * _XMM3.m128_f32[0];
  *((float *)p_Parameter + 0x48) = v238.m128_f32[0] * _XMM3.m128_f32[0];
  result = sub_14673B940((__int64)p_Parameter);
  if ( v282 )
  {
    if ( (n0x400 & 0x400) == 0 )
      return (_UNKNOWN **)sub_1402A63C0((__int64)v282);
  }
  return result;
}

// --- End Function: sub_146721650 (0x146721650) ---

// --- Function: sub_146724480 (0x146724480) ---
__int64 __fastcall sub_146724480(
        __int64 a1,
        __int64 a2,
        float *a3,
        _DWORD *a4,
        double a5,
        double a6,
        float *a7,
        double *a8)
{
  double v9; // xmm3_8
  __int128 v12; // kr00_16
  bool v13; // cf
  __m128 v14; // xmm1
  float v15; // eax
  double v17; // kr00_8
  double v18; // xmm0_8
  double v19; // xmm2_8
  double v20; // xmm1_8
  float v21; // xmm11_4
  float v22; // xmm7_4
  float v23; // xmm12_4
  float v24; // xmm10_4
  float v25; // xmm5_4
  float v26; // xmm8_4
  __m128 v27; // kr00_16
  float v28; // xmm14_4
  float v29; // xmm13_4
  float v30; // xmm9_4
  float v31; // xmm6_4
  float v36; // xmm9_4
  float v37; // xmm10_4
  float v38; // xmm4_4
  float v43; // xmm7_4
  float v44; // xmm6_4
  float v45; // xmm4_4

  _XMM0 = *(unsigned __int64 *)&a6;
  v9 = 0.0;
  if ( a6 <= 0.0 )
  {
    *(_QWORD *)&_XMM0 = 0;
  }
  else
  {
    __asm { vmaxsd  xmm0, xmm0, cs:qword_1481EF440 }
    if ( *(double *)&_XMM0 > 0.0 )
    {
      *((_QWORD *)&v12 + 1) = *((_QWORD *)&_XMM0 + 1);
      *(double *)&v12 = *(double *)&_XMM0 / a5;
      _XMM2 = v12;
      goto LABEL_6;
    }
  }
  _XMM2 = 0;
LABEL_6:
  *(double *)(a1 + 0x100) = *(double *)&_XMM0;
  *(double *)(a1 + 0x110) = a5;
  *(_DWORD *)(a1 + 0x90) = *a4;
  *(_DWORD *)(a1 + 0x94) = a4[1];
  *(_DWORD *)(a1 + 0x98) = a4[2];
  *(_DWORD *)(a1 + 0x9C) = a4[3];
  v13 = *(double *)(a1 + 0x100) > 0.0;
  *(_OWORD *)(a1 + 0x78) = *(_OWORD *)a2;
  *(double *)(a1 + 0x88) = *(double *)(a2 + 0x10);
  if ( v13 )
  {
    v14 = (__m128)*(unsigned __int64 *)a3;
    v15 = a3[2];
    __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
    v17 = (float)(v14.m128_f32[0] * *(float *)&_XMM2);
    *(double *)(a1 + 0x50) = (float)(_mm_shuffle_ps(v14, v14, 0x55).m128_f32[0] * *(float *)&_XMM2);
    *(double *)(a1 + 0x48) = v17;
    *(double *)(a1 + 0x58) = (float)(v15 * *(float *)&_XMM2);
    *(double *)(a1 + 0x60) = v17;
    v18 = *(double *)(a1 + 0x50);
    *(double *)(a1 + 0x68) = v18;
    v19 = *(double *)(a1 + 0x58);
    v20 = v17 * v18 * v19;
    *(double *)(a1 + 0x70) = v19;
    if ( v20 != 0.0 )
    {
      *(double *)(a1 + 0x60) = v19 * v18 * (1.0 / v20);
      *(double *)(a1 + 0x70) = v17 * v18 * (1.0 / v20);
      *(double *)(a1 + 0x68) = v19 * v17 * (1.0 / v20);
    }
    v9 = 1.0 / *(double *)(a1 + 0x100);
  }
  else
  {
    *(_QWORD *)(a1 + 0x58) = 0;
    *(_QWORD *)(a1 + 0x50) = 0;
    *(_QWORD *)(a1 + 0x48) = 0;
    *(_QWORD *)(a1 + 0x60) = 0;
    *(_QWORD *)(a1 + 0x68) = 0;
    *(_QWORD *)(a1 + 0x70) = 0;
  }
  *(double *)(a1 + 0x108) = v9;
  v21 = *(float *)(a1 + 0x90);
  v22 = *(float *)(a1 + 0x94);
  v23 = *(float *)(a1 + 0x98);
  v24 = *(float *)(a1 + 0x9C);
  v25 = a7[2];
  v26 = a7[3];
  v27 = (__m128)*((unsigned int *)a7 + 1);
  v28 = (float)((float)(v27.m128_f32[0] * v22) + (float)(v26 * v24)) + (float)((float)(*a7 * v21) + (float)(v25 * v23));
  v29 = (float)((float)((float)(v27.m128_f32[0] * v23) - (float)(v22 * v25)) + (float)(*a7 * v24)) - (float)(v26 * v21);
  v30 = (float)((float)((float)(v25 * v21) - (float)(*a7 * v23)) + (float)(v27.m128_f32[0] * v24)) - (float)(v22 * v26);
  v31 = (float)((float)((float)(v22 * *a7) - (float)(v27.m128_f32[0] * v21)) + (float)(v25 * v24)) - (float)(v26 * v23);
  v27.m128_f32[0] = (float)((float)(v28 * v28) + (float)(v29 * v29)) + (float)((float)(v31 * v31) + (float)(v30 * v30));
  _XMM3 = _mm_shuffle_ps(v27, v27, 0);
  __asm { vrsqrtps xmm5, xmm3 }
  _XMM5.m128_f32[0] = _mm_shuffle_ps(_XMM5, _XMM5, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM5.m128_f32[0] * v27.m128_f32[0]) * _XMM5.m128_f32[0]) * 0.5))
                    * _XMM5.m128_f32[0];
  *(float *)(a1 + 0x118) = v29 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x124) = v28 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x11C) = v30 * _XMM3.m128_f32[0];
  *(float *)(a1 + 0x120) = v31 * _XMM3.m128_f32[0];
  _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x78) - *a8);
  _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x80) - a8[1]);
  v36 = a7[2];
  v37 = a7[1];
  v38 = a7[3];
  __asm { vcvtsd2ss xmm11, xmm0, xmm0 }
  _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x88) - a8[2]);
  __asm
  {
    vcvtsd2ss xmm13, xmm1, xmm1
    vcvtsd2ss xmm12, xmm2, xmm2
  }
  v43 = (float)((float)(v36 * *(float *)&_XMM12) - (float)(v37 * *(float *)&_XMM13)) + (float)(v38 * *(float *)&_XMM11);
  v44 = (float)((float)(*(float *)&_XMM13 * *a7) - (float)(v36 * *(float *)&_XMM11)) + (float)(v38 * *(float *)&_XMM12);
  v45 = (float)((float)(v37 * *(float *)&_XMM11) - (float)(*(float *)&_XMM12 * *a7)) + (float)(v38 * *(float *)&_XMM13);
  _XMM3.m128_f32[0] = (float)(v37 * v43) - (float)(v44 * *a7);
  *(float *)&_XMM1 = (float)(*(float *)&_XMM12 + (float)((float)(v45 * *a7) - (float)(v36 * v43)))
                   + (float)((float)(v45 * *a7) - (float)(v36 * v43));
  *(float *)(a1 + 0x128) = (float)(*(float *)&_XMM11 + (float)((float)(v36 * v44) - (float)(v37 * v45)))
                         + (float)((float)(v36 * v44) - (float)(v37 * v45));
  *(float *)(a1 + 0x130) = (float)(*(float *)&_XMM13 + _XMM3.m128_f32[0]) + _XMM3.m128_f32[0];
  *(float *)(a1 + 0x12C) = *(float *)&_XMM1;
  return sub_14673B940(a1);
}

// --- End Function: sub_146724480 (0x146724480) ---

// --- Function: sub_1467248B0 (0x1467248B0) ---
_UNKNOWN **__fastcall sub_1467248B0(double *a1, double *a2, double *a3)
{
  _UNKNOWN **result; // rax
  double v4; // xmm3_8
  double v5; // xmm5_8
  double v6; // xmm8_8
  double v7; // xmm11_8
  double v8; // xmm13_8
  double v9; // xmm4_8
  double v10; // xmm12_8
  double v11; // xmm10_8
  double v12; // xmm15_8
  double v13; // xmm4_8
  double v14; // xmm1_8
  double v15; // xmm8_8
  double v16; // xmm14_8
  double v17; // xmm7_8
  double v18; // xmm9_8
  double v19; // xmm5_8
  double v20; // xmm6_8
  double v21; // xmm1_8
  double v22; // xmm2_8
  double v23; // kr00_8
  double v24; // xmm3_8
  double v25; // [rsp+0h] [rbp-B8h]
  _UNKNOWN *retaddr; // [rsp+B8h] [rbp+0h] BYREF
  double v27; // [rsp+C0h] [rbp+8h]
  double v28; // [rsp+D0h] [rbp+18h]

  result = &retaddr;
  v4 = a1[7];
  v5 = a1[2];
  v25 = *a2;
  v6 = a1[4];
  v7 = a1[3];
  v28 = a2[1];
  v27 = a2[2];
  v8 = COERCE_DOUBLE(*(_QWORD *)&v27 ^ 0x8000000000000000uLL) * v7 + v28 * a1[6];
  v9 = a1[8];
  v10 = COERCE_DOUBLE(*(_QWORD *)&v27 ^ 0x8000000000000000uLL) * v6 + v28 * v4;
  v11 = COERCE_DOUBLE(*(_QWORD *)&v27 ^ 0x8000000000000000uLL) * a1[5] + v9 * v28;
  v12 = COERCE_DOUBLE(*(_QWORD *)a2 ^ 0x8000000000000000uLL) * a1[6] + v27 * *a1;
  v13 = v9 * COERCE_DOUBLE(*(_QWORD *)a2 ^ 0x8000000000000000uLL) + v5 * v27;
  v14 = v6 * *a2;
  v15 = *a2;
  v16 = v4 * COERCE_DOUBLE(*(_QWORD *)a2 ^ 0x8000000000000000uLL) + v27 * a1[1];
  v17 = COERCE_DOUBLE(*(_QWORD *)&v28 ^ 0x8000000000000000uLL) * a1[1] + v14;
  v18 = *a1 * COERCE_DOUBLE(*(_QWORD *)&v28 ^ 0x8000000000000000uLL) + v7 * *a2;
  v19 = COERCE_DOUBLE(*(_QWORD *)&v28 ^ 0x8000000000000000uLL) * v5 + *a2 * a1[5];
  v20 = *a3 - (COERCE_DOUBLE(*(_QWORD *)&v28 ^ 0x8000000000000000uLL) * v11 + v10 * v27);
  v21 = v10 * COERCE_DOUBLE(*(_QWORD *)a2 ^ 0x8000000000000000uLL);
  a3[1] = a3[1] - (v8 * COERCE_DOUBLE(*(_QWORD *)&v27 ^ 0x8000000000000000uLL) + v11 * *a2);
  a3[2] = a3[2] - (v21 + v8 * v28);
  v22 = a3[3] - (COERCE_DOUBLE(*(_QWORD *)&v28 ^ 0x8000000000000000uLL) * v13 + v16 * v27);
  *a3 = v20;
  a3[3] = v22;
  v23 = a3[4] - (v13 * v15 + v12 * COERCE_DOUBLE(*(_QWORD *)&v27 ^ 0x8000000000000000uLL));
  a3[5] = a3[5] - (v12 * v28 + v16 * COERCE_DOUBLE(*(_QWORD *)&v25 ^ 0x8000000000000000uLL));
  a3[4] = v23;
  a3[6] = a3[6] - (COERCE_DOUBLE(*(_QWORD *)&v28 ^ 0x8000000000000000uLL) * v19 + v17 * v27);
  a3[7] = a3[7] - (v19 * v15 + v18 * COERCE_DOUBLE(*(_QWORD *)&v27 ^ 0x8000000000000000uLL));
  v24 = a3[8] - (v18 * v28 + v17 * COERCE_DOUBLE(*(_QWORD *)&v25 ^ 0x8000000000000000uLL));
  a3[8] = v24;
  *a3 = v20 + a1[0x21];
  a3[4] = v23 + a1[0x21];
  a3[8] = v24 + a1[0x21];
  return result;
}

// --- End Function: sub_1467248B0 (0x1467248B0) ---

// --- Function: sub_146736230 (0x146736230) ---
void __fastcall sub_146736230(__int64 a1)
{
  _DWORD *v2; // rcx
  __int64 v3; // rsi
  double v4; // xmm0_8
  float v5; // xmm6_4
  double v6; // xmm0_8
  int v7; // edx
  int n2; // ecx
  __int64 v9; // rdx
  double v10; // xmm0_8
  __int64 v11; // r8
  int *v12; // rcx
  int n0x7FEF; // eax

  v2 = *(_DWORD **)(a1 + 0x18);
  v3 = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
  if ( !(v2[0x3A] | *(_DWORD *)(*(_QWORD *)(a1 + 0x20) + 0xE8LL)) )
  {
    if ( (*(_WORD *)(a1 + 0x102) & 0x4000) == 0 && (*(_DWORD *)(a1 + 0x94) & 0xE00) == 0
      || (v4 = (*(double (**)(void))(*(_QWORD *)v2 + 0x2C8LL))(),
          v5 = *(float *)&v4,
          v6 = (*(double (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 0x20) + 0x2C8LL))(*(_QWORD *)(a1 + 0x20)),
          (float)((float)(*(float *)&v6 * *(float *)&v6) + (float)(v5 * v5)) != 0.0) )
    {
      v7 = *(_DWORD *)(a1 + 0x94);
      if ( (v7 & 0x404000) == 0 )
        *(_QWORD *)(a1 + 0x38) = a1 + 0x104;
      if ( *(_QWORD *)(a1 + 0x30) - (_QWORD)qword_151458EE0 < 0x32A0u )
        *(_QWORD *)(a1 + 0x30) = &qword_151458EE0[0x36 * v3];
      if ( (v7 & 0xE00) == 0 )
      {
        n2 = 0;
        v9 = a1 + 0x28;
        while ( 1 )
        {
          v10 = *(double *)(*(_QWORD *)v9 + 0x100LL);
          if ( v10 > 10000.0 )
          {
            v11 = *(_QWORD *)(a1 + 8 * (n2 ^ 1LL) + 0x28);
            if ( *(double *)(v11 + 0x108) != 0.0 && v10 * 0.009999999776482582 > *(double *)(v11 + 0x100) )
              break;
          }
          ++n2;
          v9 += 8;
          if ( n2 >= 2 )
            goto LABEL_17;
        }
        *(_QWORD *)(a1 + 8LL * n2 + 0x28) = &qword_151458EE0[0x36 * v3];
      }
LABEL_17:
      *(_QWORD *)(qword_1513C9C10[v3] + 8LL * (int)(*(_DWORD *)qword_1513C9C10[v3])++ + 8) = a1;
      v12 = (int *)qword_1513C9C10[v3];
      n0x7FEF = *v12;
      if ( *v12 > 0x7FEF )
        n0x7FEF = 0x7FEF;
      *v12 = n0x7FEF;
    }
  }
}

// --- End Function: sub_146736230 (0x146736230) ---

// --- Function: sub_1467385F0 (0x1467385F0) ---
double *__fastcall sub_1467385F0(__int64 a1, float a2, char a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  float v11; // xmm8_4
  float v12; // xmm10_4
  float v13; // xmm4_4
  __m128 v14; // xmm5
  float v15; // xmm6_4
  __m128 v16; // kr00_16
  __m128 v17; // xmm0
  double v18; // xmm3_8
  double v19; // xmm5_8
  __int128 v20; // kr00_16
  double v22; // xmm4_8
  double v23; // xmm6_8
  double v26; // xmm12_8
  double v27; // xmm11_8
  double v28; // xmm9_8
  double v29; // xmm10_8
  double *v30; // rax
  double v31; // xmm6_8
  double v32; // xmm7_8
  double v33; // xmm8_8
  double v34; // xmm13_8
  double v35; // xmm14_8
  double v36; // xmm12_8
  double v37; // xmm11_8
  double v39; // xmm7_8
  double v40; // xmm6_8
  double v42; // xmm8_8
  double v43; // xmm9_8
  double v44; // xmm10_8
  double v45; // xmm7_8
  double v46; // xmm6_8
  double *v47; // rax
  double v48; // xmm6_8
  double v49; // xmm7_8
  double v50; // xmm8_8
  double v51; // xmm13_8
  double v52; // xmm14_8
  double v53; // xmm12_8
  double v55; // xmm11_8
  double v56; // xmm7_8
  double v57; // xmm6_8
  double v58; // kr00_8
  double v59; // xmm8_8
  double v60; // xmm10_8
  double v61; // xmm7_8
  double v62; // xmm6_8
  double v63; // xmm4_8
  double v64; // xmm15_8
  double *v65; // rax
  double v66; // xmm6_8
  double v67; // xmm8_8
  double v68; // xmm7_8
  double v69; // xmm13_8
  double v70; // xmm14_8
  double v72; // xmm12_8
  double v73; // xmm11_8
  double v74; // xmm7_8
  double v75; // xmm6_8
  double v76; // kr00_8
  double v77; // xmm8_8
  double v78; // xmm10_8
  double v79; // xmm7_8
  double v80; // kr00_8
  double v81; // xmm4_8
  double *result; // rax
  double v83; // xmm6_8
  double v84; // xmm7_8
  double v85; // xmm8_8
  double v86; // xmm11_8
  double v87; // xmm10_8
  double v88; // xmm5_8
  __int128 v98; // kr00_16
  double v100; // xmm15_8
  double v101; // xmm14_8
  double v102; // xmm11_8
  double v103; // xmm12_8
  double v104; // xmm6_8
  double v105; // xmm7_8
  double v106; // xmm8_8
  double v107; // xmm13_8
  double v108; // xmm10_8
  double v109; // xmm9_8
  double v110; // xmm5_8
  __int128 v115; // xmm2
  __int128 v118; // kr00_16
  float v121; // xmm10_4
  float v122; // xmm9_4
  float v123; // xmm6_4
  float v124; // xmm5_4
  double v125; // xmm14_8
  __int128 v126; // xmm12
  __int128 v127; // kr00_16
  double v128; // xmm11_8
  double v129; // xmm13_8
  double v130; // xmm6_8
  double v131; // xmm5_8
  double v136; // xmm9_8
  double v137; // xmm11_8
  double v138; // xmm6_8
  double v139; // xmm5_8
  double v140; // xmm4_8
  double v145; // xmm14_8
  __int128 v146; // xmm7
  __int128 v147; // xmm12
  double v148; // xmm15_8
  double v149; // xmm5_8
  __int128 v150; // xmm11
  double v151; // xmm10_8
  double v152; // xmm9_8
  double v153; // xmm4_8
  __int128 v154; // xmm8
  double v156; // xmm12_8
  double v157; // xmm6_8
  __m128 v166; // xmm2
  float v167; // xmm3_4
  double v168; // [rsp+28h] [rbp-E0h]
  double v169; // [rsp+28h] [rbp-E0h]
  double v170; // [rsp+30h] [rbp-D8h]
  double v171; // [rsp+30h] [rbp-D8h]
  double v172; // [rsp+38h] [rbp-D0h]
  double v173; // [rsp+38h] [rbp-D0h]
  double v174; // [rsp+40h] [rbp-C8h]
  double v175; // [rsp+48h] [rbp-C0h]
  double v176; // [rsp+48h] [rbp-C0h]
  double v177; // [rsp+50h] [rbp-B8h]
  double v178; // [rsp+50h] [rbp-B8h]
  double v179; // [rsp+58h] [rbp-B0h] BYREF
  double v180; // [rsp+60h] [rbp-A8h]
  double v181; // [rsp+68h] [rbp-A0h]
  double v182; // [rsp+70h] [rbp-98h]
  double v183; // [rsp+78h] [rbp-90h] BYREF
  double v184; // [rsp+80h] [rbp-88h]
  double v185; // [rsp+88h] [rbp-80h]
  __int128 v187; // [rsp+A8h] [rbp-60h]
  double v188; // [rsp+B8h] [rbp-50h]
  double v189; // [rsp+C0h] [rbp-48h] BYREF
  double v190; // [rsp+C8h] [rbp-40h]
  double v191; // [rsp+D0h] [rbp-38h]
  _BYTE v192[24]; // [rsp+D8h] [rbp-30h] BYREF
  __int128 v193; // [rsp+138h] [rbp+30h]
  __int128 v194; // [rsp+148h] [rbp+40h]
  __int128 v195; // [rsp+158h] [rbp+50h]
  __int128 v196; // [rsp+168h] [rbp+60h]
  __int128 v197; // [rsp+178h] [rbp+70h]
  __int128 v198; // [rsp+188h] [rbp+80h]
  double v199; // [rsp+1B8h] [rbp+B0h]
  double v200; // [rsp+1B8h] [rbp+B0h]
  float v201; // [rsp+1C0h] [rbp+B8h]
  double v202; // [rsp+1D0h] [rbp+C8h]

  v198 = v3;
  v197 = v4;
  v196 = v5;
  v195 = v6;
  v194 = v7;
  v193 = v8;
  sub_14673B940(a1);
  if ( *(_DWORD *)((*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149A14210 + 0xF0LL))(qword_149A14210) + 0x450) == 1
    && (*(_BYTE *)(a1 + 0x170) & 1) != 0 )
  {
    v11 = *(float *)(a1 + 0xEC);
    v12 = *(float *)(a1 + 0xF0);
    *(double *)(a1 + 0x78) = (float)((float)((float)(*(float *)(a1 + 0xDC) + *(float *)(a1 + 0xE8)) * 0.5) * a2)
                           + *(double *)(a1 + 0x78);
    *(double *)(a1 + 0x80) = (float)((float)((float)(v11 + *(float *)(a1 + 0xE0)) * 0.5) * a2) + *(double *)(a1 + 0x80);
    *(double *)(a1 + 0x88) = (float)((float)((float)(v12 + *(float *)(a1 + 0xE4)) * 0.5) * a2) + *(double *)(a1 + 0x88);
  }
  else
  {
    v183 = *(double *)(a1 + 0xDC);
    *(double *)(a1 + 0x78) = (float)(*(float *)&v183 * a2) + *(double *)(a1 + 0x78);
    *(double *)(a1 + 0x80) = (float)(*((float *)&v183 + 1) * a2) + *(double *)(a1 + 0x80);
    *(double *)(a1 + 0x88) = (float)(*(float *)(a1 + 0xE4) * a2) + *(double *)(a1 + 0x88);
  }
  *(_DWORD *)(a1 + 0xE8) = *(_DWORD *)(a1 + 0xDC);
  *(_DWORD *)(a1 + 0xEC) = *(_DWORD *)(a1 + 0xE0);
  *(_DWORD *)(a1 + 0xF0) = *(_DWORD *)(a1 + 0xE4);
  *(_DWORD *)(a1 + 0xF4) = *(_DWORD *)(a1 + 0xD0);
  *(_DWORD *)(a1 + 0xF8) = *(_DWORD *)(a1 + 0xD4);
  *(_DWORD *)(a1 + 0xFC) = *(_DWORD *)(a1 + 0xD8);
  v13 = *(float *)(a1 + 0xD4);
  v14 = (__m128)*(unsigned int *)(a1 + 0xD0);
  v15 = *(float *)(a1 + 0xD8);
  v16 = v14;
  v16.m128_f32[0] = (float)((float)(v14.m128_f32[0] * v14.m128_f32[0]) + (float)(v13 * v13)) + (float)(v15 * v15);
  v17 = _mm_sqrt_ps(_mm_shuffle_ps(v16, v16, 0));
  if ( (float)(_mm_shuffle_ps(v17, v17, 0xFF).m128_f32[0] * a2) <= 0.00000011920929 )
  {
    result = 0;
    *(_QWORD *)(a1 + 0xD4) = 0;
    *(_DWORD *)(a1 + 0xD0) = 0;
    *(_QWORD *)(a1 + 0xC8) = 0;
    *(_QWORD *)(a1 + 0xC0) = 0;
    *(_QWORD *)(a1 + 0xB8) = 0;
  }
  else
  {
    v18 = *(double *)(a1 + 0xC8);
    v187 = *(_OWORD *)(a1 + 0xB8);
    *((_QWORD *)&v20 + 1) = v14.m128_u64[1];
    v19 = v14.m128_f32[0];
    __asm
    {
      vunpckhpd xmm0, xmm0, xmm0
      vmovupd [rbp+0A0h+var_110], xmm0
    }
    v22 = v13;
    v23 = v15;
    *(double *)&v20 = v19 * *(double *)&v187 + v22 * *(double *)&_XMM0 + v23 * v18;
    _XMM1 = v20;
    __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
    v201 = *(float *)&_XMM0;
    v202 = v18;
    v175 = v22;
    v177 = v19;
    v182 = v23;
    v179 = v19;
    v180 = v22;
    v181 = v23;
    if ( a3 )
    {
      v26 = *(float *)(a1 + 0x9C);
      v27 = *(float *)(a1 + 0x90);
      v28 = *(float *)(a1 + 0x94);
      v29 = *(float *)(a1 + 0x98);
      v199 = v26;
      v168 = v27;
      v170 = v28;
      v172 = v29;
      v30 = (double *)sub_1467659C0(v192, &v179);
      v31 = v30[1];
      v32 = v30[2];
      v33 = v30[3];
      v34 = v33 * v26 - (v31 * v28 + *v30 * v27 + v32 * v29);
      v35 = v31 * v29 - v32 * v28 + v33 * v27 + *v30 * v26;
      v36 = v32 * v27 - *v30 * v29 + v33 * v28 + v31 * v26;
      v37 = *v30 * v28 - v31 * v27 + v33 * v29 + v32 * v199;
      __asm { vmovupd xmm4, [rbp+0A0h+var_110] }
      v39 = v37 * *(double *)&_XMM4 - v36 * v18 + v34 * *(double *)&v187;
      v40 = v35 * v18 - v37 * *(double *)&v187 + v34 * *(double *)&_XMM4;
      *(double *)&_XMM4 = v36 * *(double *)&v187 - v35 * *(double *)&_XMM4 + v34 * v18;
      __asm { vmovupd xmm2, [rbp+0A0h+var_110] }
      v42 = (v40 * v37 - *(double *)&_XMM4 * v36 + *(double *)&v187 + v40 * v37 - *(double *)&_XMM4 * v36)
          * *(double *)(a1 + 0x60);
      v43 = (*(double *)&_XMM4 * v35 - v39 * v37 + *(double *)&_XMM2 + *(double *)&_XMM4 * v35 - v39 * v37)
          * *(double *)(a1 + 0x68);
      v44 = (v39 * v36 - v40 * v35 + v18 + v39 * v36 - v40 * v35) * *(double *)(a1 + 0x70);
      v45 = v36 * v44 - v37 * v43 + v34 * v42;
      v46 = v37 * v42 - v35 * v44 + v34 * v43;
      *(double *)&_XMM4 = v35 * v43 - v36 * v42 + v34 * v44;
      v183 = v36 * *(double *)&_XMM4 - v37 * v46 + v42 + v36 * *(double *)&_XMM4 - v37 * v46;
      v184 = v37 * v45 - v35 * *(double *)&_XMM4 + v43 + v37 * v45 - v35 * *(double *)&_XMM4;
      v185 = v35 * v46 - v36 * v45 + v44 + v35 * v46 - v36 * v45;
      v47 = (double *)sub_1467659C0(v192, &v183);
      v48 = v47[1];
      v49 = v47[2];
      v50 = v47[3];
      v51 = v199 * v50 - (v168 * *v47 + v170 * v48 + v172 * v49);
      v52 = v172 * v48 - v170 * v49 + v168 * v50 + v199 * *v47;
      v53 = v168 * v49 - v172 * *v47 + v170 * v50 + v199 * v48;
      __asm { vmovupd xmm9, [rbp+0A0h+var_110] }
      v55 = v170 * *v47 - v168 * v48 + v172 * v50 + v199 * v49;
      v56 = *(double *)&_XMM9 * v55 - v18 * v53 + *(double *)&v187 * v51;
      v57 = v18 * v52 - *(double *)&v187 * v55 + *(double *)&_XMM9 * v51;
      v58 = *(double *)&v187 * v53 - *(double *)&_XMM9 * v52 + v18 * v51;
      v59 = (v57 * v55 - v58 * v53 + *(double *)&v187 + v57 * v55 - v58 * v53) * *(double *)(a1 + 0x60);
      *(double *)&_XMM9 = (v58 * v52 - v56 * v55 + *(double *)&_XMM9 + v58 * v52 - v56 * v55) * *(double *)(a1 + 0x68);
      v60 = (v56 * v53 - v57 * v52 + v18 + v56 * v53 - v57 * v52) * *(double *)(a1 + 0x70);
      v61 = v60 * v53 - *(double *)&_XMM9 * v55 + v59 * v51;
      v62 = v59 * v55 - v60 * v52 + *(double *)&_XMM9 * v51;
      v63 = *(double *)&_XMM9 * v52 - v59 * v53 + v60 * v51;
      v190 = v61 * v55 - v63 * v52 + *(double *)&_XMM9 + v61 * v55 - v63 * v52;
      v64 = v63 * v53 - v62 * v55 + v59 + v63 * v53 - v62 * v55;
      v191 = v62 * v52 - v61 * v53 + v60 + v62 * v52 - v61 * v53;
      v189 = v64;
      v65 = (double *)sub_1467659C0(v192, &v189);
      v66 = v65[1];
      v67 = v65[3];
      v68 = v65[2];
      v69 = v199 * v67 - (v168 * *v65 + v170 * v66 + v172 * v68);
      v70 = v172 * v66 - v170 * v68 + v168 * v67 + v199 * *v65;
      __asm { vmovupd xmm9, [rbp+0A0h+var_110] }
      v72 = v168 * v68 - v172 * *v65 + v170 * v67 + v199 * v66;
      v73 = v170 * *v65 - v168 * v66 + v172 * v67 + v68 * v199;
      v74 = v73 * *(double *)&_XMM9 - v72 * v18 + v69 * *(double *)&v187;
      v75 = v70 * v18 - v73 * *(double *)&v187 + v69 * *(double *)&_XMM9;
      v76 = v72 * *(double *)&v187 - v70 * *(double *)&_XMM9 + v69 * v18;
      v77 = (v75 * v73 - v76 * v72 + *(double *)&v187 + v75 * v73 - v76 * v72) * *(double *)(a1 + 0x60);
      *(double *)&_XMM9 = (v76 * v70 - v74 * v73 + *(double *)&_XMM9 + v76 * v70 - v74 * v73) * *(double *)(a1 + 0x68);
      v78 = (v74 * v72 - v75 * v70 + v18 + v74 * v72 - v75 * v70) * *(double *)(a1 + 0x70);
      v79 = v78 * v72 - *(double *)&_XMM9 * v73 + v77 * v69;
      v80 = v77 * v73 - v78 * v70 + *(double *)&_XMM9 * v69;
      v81 = *(double *)&_XMM9 * v70 - v77 * v72 + v78 * v69;
      v179 = (v77 + v81 * v72 - v80 * v73 + v81 * v72 - v80 * v73 + v177 + v64 + v64 + v183 + v183) * 0.1666666666666667;
      v180 = (*(double *)&_XMM9 + v79 * v73 - v81 * v70 + v79 * v73 - v81 * v70 + v175 + v190 + v190 + v184 + v184)
           * 0.1666666666666667;
      v181 = (v78 + v80 * v70 - v79 * v72 + v80 * v70 - v79 * v72 + v182 + v191 + v191 + v185 + v185)
           * 0.1666666666666667;
      result = (double *)sub_1467659C0(v192, &v179);
      v83 = result[1];
      v84 = result[2];
      v85 = result[3];
      v86 = v199 * v85 - (v168 * *result + v170 * v83 + v172 * v84);
      v87 = v172 * v83 - v170 * v84 + v168 * v85 + v199 * *result;
      *(double *)&_XMM9 = v168 * v84 - v172 * *result + v170 * v85 + v199 * v83;
      v88 = v170 * *result - v168 * v83 + v172 * v85 + v199 * v84;
      _XMM2 = COERCE_UNSIGNED_INT64(v87 * v87 + v86 * v86 + v88 * v88 + *(double *)&_XMM9 * *(double *)&_XMM9);
      __asm
      {
        vmovddup xmm3, xmm2
        vsqrtpd xmm0, xmm3
      }
      __asm { vunpckhpd xmm0, xmm0, xmm0 }
      *(double *)&_XMM2 = 1.0 / *(double *)&_XMM0;
      _XMM0 = COERCE_UNSIGNED_INT64(v86 * (1.0 / *(double *)&_XMM0));
      _XMM1 = COERCE_UNSIGNED_INT64(v87 * *(double *)&_XMM2);
      __asm
      {
        vcvtsd2ss xmm15, xmm0, xmm0
        vcvtsd2ss xmm3, xmm1, xmm1
      }
      *((_QWORD *)&v98 + 1) = 0;
      *(double *)&v98 = *(double *)&_XMM9 * *(double *)&_XMM2;
      _XMM0 = v98;
      *((_QWORD *)&v98 + 1) = 0;
      *(double *)&v98 = v88 * *(double *)&_XMM2;
      _XMM1 = v98;
    }
    else
    {
      v100 = *(float *)(a1 + 0x9C);
      v101 = *(float *)(a1 + 0x90);
      v102 = *(float *)(a1 + 0x94);
      v103 = *(float *)(a1 + 0x98);
      result = (double *)sub_1467659C0(v192, &v179);
      v104 = result[1];
      v105 = result[2];
      v106 = result[3];
      v107 = v106 * v100 - (v104 * v102 + *result * v101 + v105 * v103);
      v108 = v104 * v103 - v105 * v102 + v106 * v101 + *result * v100;
      v109 = v105 * v101 - *result * v103 + v106 * v102 + v104 * v100;
      v110 = *result * v102 - v104 * v101 + v106 * v103 + v105 * v100;
      _XMM2 = COERCE_UNSIGNED_INT64(v110 * v110 + v109 * v109 + v108 * v108 + v107 * v107);
      __asm
      {
        vmovddup xmm3, xmm2
        vsqrtpd xmm0, xmm3
        vunpckhpd xmm0, xmm0, xmm0
      }
      v115 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0);
      _XMM0 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0 * v107);
      *((_QWORD *)&v118 + 1) = *((_QWORD *)&v115 + 1);
      *(double *)&v118 = *(double *)&v115 * v108;
      _XMM1 = v118;
      __asm
      {
        vcvtsd2ss xmm15, xmm0, xmm0
        vcvtsd2ss xmm3, xmm1, xmm1
      }
      *((_QWORD *)&v118 + 1) = *((_QWORD *)&v115 + 1);
      *(double *)&v118 = *(double *)&v115 * v109;
      _XMM0 = v118;
      *((_QWORD *)&v118 + 1) = *((_QWORD *)&v115 + 1);
      *(double *)&v118 = *(double *)&v115 * v110;
      _XMM1 = v118;
    }
    *(float *)(a1 + 0x90) = *(float *)&_XMM3;
    __asm { vcvtsd2ss xmm13, xmm0, xmm0 }
    *(float *)(a1 + 0x94) = *(float *)&_XMM13;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(float *)(a1 + 0x98) = *(float *)&_XMM2;
    *(float *)(a1 + 0x9C) = *(float *)&_XMM15;
    if ( *(double *)(a1 + 0x108) <= 0.0 )
    {
      v152 = *(double *)&v187;
      v156 = v202;
      __asm { vmovupd xmm13, [rbp+0A0h+var_110] }
    }
    else
    {
      v121 = *(float *)&_XMM3;
      v122 = *(float *)&_XMM13 * (float)(*(float *)&_XMM13 + *(float *)&_XMM13);
      v123 = *(float *)&_XMM15 * (float)(*(float *)&_XMM13 + *(float *)&_XMM13);
      v124 = *(float *)&_XMM3 * (float)(*(float *)&_XMM2 + *(float *)&_XMM2);
      v125 = (float)(v124 + v123);
      v126 = COERCE_UNSIGNED_INT64((float)((float)(1.0 - v122)
                                         - (float)(*(float *)&_XMM2 * (float)(*(float *)&_XMM2 + *(float *)&_XMM2))));
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&_XMM3 + 1);
      v128 = (float)((float)(*(float *)&_XMM3 * (float)(*(float *)&_XMM13 + *(float *)&_XMM13))
                   + (float)(*(float *)&_XMM15 * (float)(*(float *)&_XMM2 + *(float *)&_XMM2)));
      v129 = (float)((float)(*(float *)&_XMM13 * (float)(*(float *)&_XMM2 + *(float *)&_XMM2))
                   - (float)(*(float *)&_XMM15 * (float)(v121 + v121)));
      v130 = (float)(v124 - v123);
      v131 = (float)((float)(1.0 - (float)(v121 * (float)(v121 + v121))) - v122);
      *(double *)&v127 = v128 * v128 + *(double *)&v126 * *(double *)&v126 + v130 * v130 + 2.225073858507201e-308;
      _XMM0 = v127;
      __asm
      {
        vmovddup xmm1, xmm0
        vsqrtpd xmm2, xmm1
        vunpckhpd xmm2, xmm2, xmm2
      }
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v126 + 1);
      v136 = *(double *)&v126 * (1.0 / *(double *)&_XMM2);
      *(double *)&v126 = v128 * (1.0 / *(double *)&_XMM2);
      v137 = v130 * (1.0 / *(double *)&_XMM2);
      v138 = v137 * v129 - *(double *)&v126 * v131;
      v139 = v136 * v131 - v125 * v137;
      v140 = v125 * *(double *)&v126 - v136 * v129;
      *(double *)&v127 = v139 * v139 + v138 * v138 + v140 * v140 + 2.225073858507201e-308;
      _XMM1 = v127;
      __asm
      {
        vmovddup xmm3, xmm1
        vsqrtpd xmm0, xmm3
        vunpckhpd xmm0, xmm0, xmm0
      }
      *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
      v200 = v137;
      v182 = v137 * (v138 * *(double *)&_XMM0) - v136 * (v140 * *(double *)&_XMM0);
      v173 = v136;
      v171 = *(double *)&v126;
      v176 = v138 * *(double *)&_XMM0;
      v169 = v139 * *(double *)&_XMM0;
      v174 = v140 * *(double *)&_XMM0;
      v188 = *(double *)&v126 * (v140 * *(double *)&_XMM0) - v137 * (v139 * *(double *)&_XMM0);
      *(double *)&_XMM3 = v136 * (v139 * *(double *)&_XMM0) - *(double *)&v126 * (v138 * *(double *)&_XMM0);
      *(_QWORD *)&_XMM2 = *(_QWORD *)(a1 + 0x60);
      *(_QWORD *)&_XMM1 = *(_QWORD *)(a1 + 0x68);
      *(_QWORD *)&_XMM0 = *(_QWORD *)(a1 + 0x70);
      v145 = *(double *)&_XMM0 * *(double *)&_XMM3;
      v146 = COERCE_UNSIGNED_INT64(*(double *)&_XMM2 * *(double *)&v126);
      v147 = COERCE_UNSIGNED_INT64(*(double *)&_XMM2 * v137);
      v178 = *(double *)&_XMM3;
      v183 = *(double *)&_XMM2 * v136 * v136 + *(double *)&_XMM1 * v176 * v176 + *(double *)&_XMM0 * v188 * v188;
      v148 = *(double *)&_XMM2 * v136 * v171 + *(double *)&_XMM1 * v176 * v169 + *(double *)&_XMM0 * v188 * v182;
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v146 + 1);
      v149 = *(double *)&_XMM2 * v136 * v137
           + *(double *)&_XMM1 * v176 * v174
           + *(double *)&_XMM0 * v188 * *(double *)&_XMM3;
      *(double *)&v127 = *(double *)&v146 * v136 + *(double *)&_XMM1 * v169 * v176 + *(double *)&_XMM0 * v182 * v188;
      v150 = v127;
      v151 = *(double *)&v146 * v171 + *(double *)&_XMM1 * v169 * v169 + *(double *)&_XMM0 * v182 * v182;
      v152 = *(double *)&v187;
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v147 + 1);
      v153 = *(double *)&v146 * v200 + *(double *)&_XMM1 * v169 * v174 + *(double *)&_XMM0 * v182 * *(double *)&_XMM3;
      *(double *)&v127 = *(double *)&v147 * v173
                       + *(double *)&_XMM1 * v174 * v176
                       + *(double *)&_XMM0 * *(double *)&_XMM3 * v188;
      v154 = v127;
      *(double *)&_XMM2 = *(double *)&v147 * v171 + *(double *)&_XMM1 * v174 * v169;
      *(double *)&_XMM3 = *(double *)&v147 * v200;
      __asm { vmovupd xmm13, [rbp+0A0h+var_110] }
      v156 = v202;
      *(double *)&v146 = *(double *)&_XMM2 + v145 * v182;
      v157 = *(double *)&_XMM3 + *(double *)&_XMM1 * v174 * v174 + v145 * v178;
      *(double *)&v127 = v183 * *(double *)&v187;
      *(double *)a1 = v183;
      _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v127 + v148 * *(double *)&_XMM13 + v149 * v202);
      *(double *)(a1 + 0x10) = v149;
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v150 + 1);
      __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
      *(double *)(a1 + 8) = v148;
      *(double *)(a1 + 0x18) = *(double *)&v150;
      *(double *)(a1 + 0x20) = v151;
      *(double *)(a1 + 0x28) = v153;
      *(double *)(a1 + 0x30) = *(double *)&v154;
      *(double *)(a1 + 0x38) = *(double *)&v146;
      *(double *)(a1 + 0x40) = v157;
      *(double *)&v127 = *(double *)&v150 * v152 + v151 * *(double *)&_XMM13 + v153 * v202;
      _XMM2 = v127;
      __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
      *((_QWORD *)&v127 + 1) = *((_QWORD *)&v154 + 1);
      *(double *)&v127 = *(double *)&v154 * v152 + *(double *)&v146 * *(double *)&_XMM13 + v157 * v202;
      _XMM2 = v127;
      __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
      *(float *)(a1 + 0xD8) = *(float *)&_XMM0;
      *(float *)(a1 + 0xD0) = *(float *)&_XMM5;
      *(float *)(a1 + 0xD4) = *(float *)&_XMM4;
    }
    if ( a3 )
    {
      _XMM2 = COERCE_UNSIGNED_INT64(*(float *)(a1 + 0xD4) * *(double *)&_XMM13 + *(float *)(a1 + 0xD0) * v152 + *(float *)(a1 + 0xD8) * v156);
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      if ( *(float *)&_XMM3 > 0.00000011920929 && fabs(v201 - *(float *)&_XMM3) > 0.00000011920929 )
      {
        v166 = (__m128)*(unsigned __int64 *)(a1 + 0xD0);
        v167 = v201 / *(float *)&_XMM3;
        *(float *)(a1 + 0xD0) = v166.m128_f32[0] * v167;
        *(float *)(a1 + 0xD4) = _mm_shuffle_ps(v166, v166, 0x55).m128_f32[0] * v167;
        *(float *)(a1 + 0xD8) = v167 * *(float *)(a1 + 0xD8);
      }
    }
  }
  return result;
}

// --- End Function: sub_1467385F0 (0x1467385F0) ---

// --- Function: sub_14673B940 (0x14673B940) ---
_UNKNOWN **__fastcall sub_14673B940(__int64 a1)
{
  _UNKNOWN **result; // rax
  float v2; // xmm3_4
  float v3; // xmm0_4
  float v4; // xmm8_4
  float v5; // xmm12_4
  float v6; // xmm5_4
  float v7; // xmm9_4
  __int128 n0x3F800000; // kr00_16
  __int128 n0x3F800000_1; // xmm13
  double v10; // xmm15_8
  double v11; // xmm10_8
  double v12; // xmm14_8
  double v13; // xmm6_8
  double v14; // xmm5_8
  __int128 n0x3F800000_2; // xmm0
  double v19; // xmm11_8
  double v20; // xmm9_8
  double v21; // xmm6_8
  double v22; // xmm5_8
  double v23; // xmm4_8
  __int128 n0x3F800000_3; // xmm1
  double v28; // xmm12_8
  double v29; // xmm14_8
  double v30; // xmm10_8
  double v31; // xmm11_8
  double v32; // xmm8_8
  double v33; // xmm14_8
  double v34; // xmm13_8
  double v35; // xmm12_8
  double v36; // xmm7_8
  double v37; // xmm4_8
  __int128 v38; // xmm5
  __int128 v41; // kr00_16
  double v49; // xmm11_8
  float v60; // xmm9_4
  float v61; // xmm8_4
  __int128 n0x3FC00000; // xmm12
  __m128 v69; // kr00_16
  float v72; // xmm1_4
  float v73; // xmm2_4
  float v74; // xmm5_4
  float v75; // xmm3_4
  __m128 v76; // xmm2
  __m128 v88; // kr00_16
  float v91; // xmm1_4
  float v92; // xmm2_4
  float v93; // xmm4_4
  float v94; // xmm3_4
  float v98; // xmm4_4
  float v99; // xmm13_4
  float v106; // xmm1_4
  __m128 v107; // kr00_16
  __int128 n0x3FC00000_1; // kr00_16
  float v111; // xmm2_4
  float v112; // xmm0_4
  __int128 n0x3F800000_4; // xmm3
  float v114; // xmm8_4
  float v115; // xmm9_4
  __int128 n0x3F800000_6; // xmm11
  __int128 n0x3F800000_5; // kr00_16
  float v118; // xmm14_4
  float v119; // xmm13_4
  float v120; // xmm15_4
  float v121; // xmm12_4
  float v122; // xmm7_4
  float v123; // xmm6_4
  __int128 v124; // kr00_16
  __int128 v125; // xmm2
  __int128 v126; // xmm3
  __int128 v127; // kr00_16
  __int128 v128; // xmm4
  __int128 v129; // kr00_16
  float v130; // xmm0_4
  __int128 v131; // xmm5
  __int128 v132; // kr00_16
  __int128 v133; // kr00_16
  __int128 v134; // xmm4
  float v141; // xmm7_4
  float v142; // xmm6_4
  __m128 v152; // kr00_16
  float v155; // kr00_4
  float v156; // xmm2_4
  double v157; // [rsp+0h] [rbp-F8h]
  double v158; // [rsp+8h] [rbp-F0h]
  double v159; // [rsp+10h] [rbp-E8h]
  double v160; // [rsp+18h] [rbp-E0h]
  double v161; // [rsp+28h] [rbp-D0h]
  double v162; // [rsp+30h] [rbp-C8h]
  _UNKNOWN *retaddr; // [rsp+F8h] [rbp+0h] BYREF
  float v164; // [rsp+100h] [rbp+8h]
  double v165; // [rsp+108h] [rbp+10h]
  float v166; // [rsp+108h] [rbp+10h]
  double v167; // [rsp+110h] [rbp+18h]
  float v168; // [rsp+110h] [rbp+18h]

  result = &retaddr;
  v2 = *(float *)(a1 + 0x9C);
  v3 = *(float *)(a1 + 0x98);
  v164 = 1.0;
  v4 = *(float *)(a1 + 0x94);
  v5 = *(float *)(a1 + 0x90);
  v6 = (float)(v4 + v4) * v2;
  v7 = (float)(v4 + v4) * v4;
  n0x3F800000 = 0x3F800000u;
  *(double *)&n0x3F800000 = (float)((float)(1.0 - v7) - (float)((float)(v3 + v3) * v3));
  n0x3F800000_1 = n0x3F800000;
  v10 = (float)((float)((float)(v3 + v3) * v5) + v6);
  v11 = (float)((float)((float)(v3 + v3) * v2) + (float)((float)(v4 + v4) * v5));
  v12 = (float)((float)((float)(v3 + v3) * v4) - (float)((float)(v5 + v5) * v2));
  v13 = (float)((float)((float)(v3 + v3) * v5) - v6);
  v14 = (float)((float)(1.0 - (float)((float)(v5 + v5) * v5)) - v7);
  *(double *)&n0x3F800000 = *(double *)&n0x3F800000_1 * *(double *)&n0x3F800000_1
                          + v11 * v11
                          + v13 * v13
                          + 2.225073858507201e-308;
  n0x3F800000_2 = n0x3F800000;
  __asm
  {
    vmovddup xmm1, xmm0
    vsqrtpd xmm2, xmm1
    vunpckhpd xmm2, xmm2, xmm2
  }
  v19 = v13 * (1.0 / *(double *)&_XMM2);
  *((_QWORD *)&n0x3F800000 + 1) = *((_QWORD *)&n0x3F800000_1 + 1);
  v20 = *(double *)&n0x3F800000_1 * (1.0 / *(double *)&_XMM2);
  *(double *)&n0x3F800000_1 = v11 * (1.0 / *(double *)&_XMM2);
  v21 = v19 * v12 - *(double *)&n0x3F800000_1 * v14;
  v22 = v20 * v14 - v10 * v19;
  v23 = *(double *)&n0x3F800000_1 * v10 - v20 * v12;
  *(double *)&n0x3F800000 = v22 * v22 + v21 * v21 + v23 * v23 + 2.225073858507201e-308;
  n0x3F800000_3 = n0x3F800000;
  __asm
  {
    vmovddup xmm3, xmm1
    vsqrtpd xmm0, xmm3
    vunpckhpd xmm0, xmm0, xmm0
  }
  *(double *)&_XMM0 = 1.0 / *(double *)&_XMM0;
  v28 = *(double *)&_XMM0 * v21;
  v160 = *(double *)&_XMM0 * v21;
  v165 = *(double *)&n0x3F800000_1;
  v167 = v19;
  v29 = *(double *)&_XMM0 * v23;
  v30 = *(double *)&n0x3F800000_1 * (*(double *)&_XMM0 * v23) - *(double *)&_XMM0 * v22 * v19;
  v157 = *(double *)&_XMM0 * v22;
  v31 = *(double *)&_XMM0 * v21 * v19 - v20 * (*(double *)&_XMM0 * v23);
  *(_QWORD *)&_XMM2 = *(_QWORD *)(a1 + 0x60);
  *(_QWORD *)&n0x3F800000_3 = *(_QWORD *)(a1 + 0x68);
  v32 = *(double *)&n0x3F800000_3 * (*(double *)&_XMM0 * v22);
  *(double *)&n0x3F800000_1 = v20 * (*(double *)&_XMM0 * v22) - *(double *)&n0x3F800000_1 * (*(double *)&_XMM0 * v21);
  *(_QWORD *)&_XMM0 = *(_QWORD *)(a1 + 0x70);
  v162 = *(double *)&_XMM0 * *(double *)&n0x3F800000_1;
  v161 = *(double *)&n0x3F800000_3 * v29;
  v158 = v29;
  v33 = v28 * (*(double *)&n0x3F800000_3 * v160) + v20 * *(double *)&_XMM2 * v20 + *(double *)&_XMM0 * v30 * v30;
  v159 = *(double *)&n0x3F800000_1;
  v34 = *(double *)&n0x3F800000_3 * v160 * v157 + v20 * *(double *)&_XMM2 * v165 + *(double *)&_XMM0 * v30 * v31;
  v35 = v20 * *(double *)&_XMM2 * v167 + *(double *)&n0x3F800000_3 * v160 * v158 + *(double *)&_XMM0 * v30 * v159;
  v36 = *(double *)&_XMM2 * v165 * v167 + v32 * v158 + *(double *)&_XMM0 * v31 * v159;
  v37 = *(double *)&_XMM2 * v167 * v167 + v161 * v158 + v162 * v159;
  *(double *)a1 = v33;
  *(double *)(a1 + 8) = v34;
  *(double *)(a1 + 0x10) = v35;
  *(double *)(a1 + 0x18) = v32 * v160 + *(double *)&_XMM2 * v165 * v20 + *(double *)&_XMM0 * v31 * v30;
  *(double *)(a1 + 0x20) = v32 * v157 + *(double *)&_XMM2 * v165 * v165 + *(double *)&_XMM0 * v31 * v31;
  *(double *)(a1 + 0x28) = v36;
  *(double *)(a1 + 0x30) = *(double *)&_XMM2 * v167 * v20 + v161 * v160 + v162 * v30;
  *(double *)(a1 + 0x38) = *(double *)&_XMM2 * v167 * v165 + v161 * v157 + v162 * v31;
  *(double *)(a1 + 0x40) = v37;
  v38 = *(unsigned __int64 *)(a1 + 0x108);
  if ( *(double *)&v38 > 0.0 )
  {
    _XMM2 = *(_OWORD *)(a1 + 0xA0);
    *((_QWORD *)&v41 + 1) = *(_QWORD *)(a1 + 0xA8);
    *(double *)&v41 = *(double *)&_XMM2 * *(double *)&v38;
    _XMM0 = v41;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(a1 + 0xDC) = *(float *)&_XMM1;
    __asm { vunpckhpd xmm2, xmm2, xmm2 }
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM2 + 1);
    *(double *)&v41 = *(double *)&_XMM2 * *(double *)&v38;
    _XMM0 = v41;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(a1 + 0xE0) = *(float *)&_XMM1;
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&v38 + 1);
    *(double *)&v41 = *(double *)&v38 * *(double *)(a1 + 0xB0);
    _XMM0 = v41;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(a1 + 0xE4) = *(float *)&_XMM1;
    _XMM10 = *(_OWORD *)(a1 + 0xB8);
    v49 = *(double *)(a1 + 0xC8);
    __asm { vunpckhpd xmm6, xmm10, xmm10 }
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM6 + 1);
    *(double *)&v41 = *(double *)&_XMM6 * v34 + *(double *)&_XMM10 * v33 + v49 * v35;
    _XMM1 = v41;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(float *)(a1 + 0xD0) = *(float *)&_XMM2;
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM6 + 1);
    *(double *)&v41 = *(double *)&_XMM6 * *(double *)(a1 + 0x20)
                    + *(double *)&_XMM10 * *(double *)(a1 + 0x18)
                    + v49 * v36;
    _XMM2 = v41;
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    *(float *)(a1 + 0xD4) = *(float *)&_XMM0;
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM10 + 1);
    *(double *)&v41 = *(double *)&_XMM10 * *(double *)(a1 + 0x30)
                    + *(double *)&_XMM6 * *(double *)(a1 + 0x38)
                    + v49 * v37;
    _XMM2 = v41;
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    *(float *)(a1 + 0xD8) = *(float *)&_XMM0;
    if ( (*(_BYTE *)(a1 + 0x170) & 2) != 0 )
    {
      _XMM4 = *(unsigned int *)(a1 + 0xE0);
      _XMM5 = *(unsigned int *)(a1 + 0xDC);
      _XMM12 = *(unsigned int *)(a1 + 0xE4);
      v60 = *(float *)(qword_149A14210 + 0x2B4);
      v61 = 0.0;
      if ( (float)((float)((float)(*(float *)&_XMM5 * *(float *)&_XMM5) + (float)(*(float *)&_XMM4 * *(float *)&_XMM4))
                 + (float)(*(float *)&_XMM12 * *(float *)&_XMM12)) <= (float)(v60 * v60) )
      {
        n0x3FC00000 = 0x3FC00000u;
      }
      else
      {
        __asm
        {
          vminss  xmm0, xmm5, xmm6
          vmaxss  xmm5, xmm0, xmm7
          vminss  xmm0, xmm12, xmm6
        }
        n0x3FC00000 = 0x3FC00000u;
        __asm
        {
          vminss  xmm1, xmm4, xmm6
          vmaxss  xmm4, xmm1, xmm7
          vmaxss  xmm13, xmm0, xmm7
        }
        v69 = _XMM5;
        v69.m128_f32[0] = (float)((float)(_XMM5.m128_f32[0] * _XMM5.m128_f32[0])
                                + (float)(*(float *)&_XMM4 * *(float *)&_XMM4))
                        + (float)(*(float *)&_XMM13 * *(float *)&_XMM13);
        if ( v69.m128_f32[0] <= 9.9999997e-21 )
        {
          v74 = 1.0;
          v73 = 0.0;
          v75 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v69, v69, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          v72 = (float)(1.5 - (float)((float)((float)(v69.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
              * _XMM3.m128_f32[0];
          v73 = v72 * _XMM5.m128_f32[0];
          v74 = v72 * *(float *)&_XMM13;
          v75 = v72 * *(float *)&_XMM4;
        }
        *(float *)(a1 + 0xDC) = v73 * v60;
        *(float *)(a1 + 0xE4) = v74 * v60;
        *(float *)(a1 + 0xE0) = v75 * v60;
        v76 = (__m128)*(unsigned __int64 *)(a1 + 0xDC);
        _XMM5 = *(unsigned __int64 *)(a1 + 0x100);
        __asm { vcvtpd2ps xmm5, xmm5 }
        *(double *)(a1 + 0xB0) = (float)(*(float *)(a1 + 0xE4) * *(float *)&_XMM5);
        *(double *)(a1 + 0xA0) = (float)(v76.m128_f32[0] * *(float *)&_XMM5);
        *(double *)(a1 + 0xA8) = (float)(_mm_shuffle_ps(v76, v76, 0x55).m128_f32[0] * *(float *)&_XMM5);
      }
      _XMM3 = *(unsigned int *)(a1 + 0xEC);
      _XMM4 = *(unsigned int *)(a1 + 0xE8);
      _XMM5 = *(unsigned int *)(a1 + 0xF0);
      if ( (float)((float)((float)(*(float *)&_XMM4 * *(float *)&_XMM4) + (float)(*(float *)&_XMM3 * *(float *)&_XMM3))
                 + (float)(*(float *)&_XMM5 * *(float *)&_XMM5)) > (float)(v60 * v60) )
      {
        __asm
        {
          vminss  xmm0, xmm4, xmm6
          vmaxss  xmm4, xmm0, xmm7
          vminss  xmm1, xmm3, xmm6
          vmaxss  xmm13, xmm1, xmm7
          vminss  xmm0, xmm5, xmm6
          vmaxss  xmm5, xmm0, xmm7
        }
        v88 = _XMM4;
        v88.m128_f32[0] = (float)((float)(_XMM4.m128_f32[0] * _XMM4.m128_f32[0])
                                + (float)(*(float *)&_XMM13 * *(float *)&_XMM13))
                        + (float)(*(float *)&_XMM5 * *(float *)&_XMM5);
        if ( v88.m128_f32[0] <= 9.9999997e-21 )
        {
          v93 = 1.0;
          v92 = 0.0;
          v94 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v88, v88, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          v91 = (float)(*(float *)&n0x3FC00000
                      - (float)((float)((float)(v88.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
              * _XMM3.m128_f32[0];
          v92 = v91 * _XMM4.m128_f32[0];
          v93 = v91 * *(float *)&_XMM5;
          v94 = v91 * *(float *)&_XMM13;
        }
        *(float *)(a1 + 0xE8) = v92 * v60;
        *(float *)(a1 + 0xF0) = v93 * v60;
        *(float *)(a1 + 0xEC) = v94 * v60;
      }
      result = (_UNKNOWN **)qword_149A14210;
      _XMM3 = *(unsigned int *)(a1 + 0xD4);
      _XMM5 = *(unsigned int *)(a1 + 0xD0);
      _XMM9 = *(unsigned int *)(a1 + 0xD8);
      v98 = *(float *)(qword_149A14210 + 0x2B8);
      v99 = v98 * v98;
      v166 = v98;
      v168 = v98 * v98;
      if ( (float)((float)((float)(*(float *)&_XMM5 * *(float *)&_XMM5) + (float)(*(float *)&_XMM3 * *(float *)&_XMM3))
                 + (float)(*(float *)&_XMM9 * *(float *)&_XMM9)) > (float)(v98 * v98) )
      {
        __asm
        {
          vminss  xmm0, xmm5, xmm6
          vmaxss  xmm5, xmm0, xmm7
          vminss  xmm1, xmm3, xmm6
          vmaxss  xmm13, xmm1, xmm7
          vminss  xmm0, xmm9, xmm6
          vmaxss  xmm6, xmm0, xmm7
        }
        v107 = _XMM5;
        v107.m128_f32[0] = (float)((float)(_XMM5.m128_f32[0] * _XMM5.m128_f32[0])
                                 + (float)(*(float *)&_XMM13 * *(float *)&_XMM13))
                         + (float)(*(float *)&_XMM6 * *(float *)&_XMM6);
        v106 = v107.m128_f32[0];
        if ( v107.m128_f32[0] <= 9.9999997e-21 )
        {
          n0x3F800000_4 = 0x3F800000u;
          v111 = 0.0;
          v112 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v107, v107, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          n0x3FC00000_1 = n0x3FC00000;
          *(float *)&n0x3FC00000_1 = (float)(*(float *)&n0x3FC00000
                                           - (float)((float)((float)(v106 * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                                   * _XMM3.m128_f32[0];
          v111 = *(float *)&n0x3FC00000_1 * _XMM5.m128_f32[0];
          v112 = *(float *)&n0x3FC00000_1 * *(float *)&_XMM13;
          *(float *)&n0x3FC00000_1 = *(float *)&n0x3FC00000_1 * *(float *)&_XMM6;
          n0x3F800000_4 = n0x3FC00000_1;
        }
        v114 = v111 * v98;
        v115 = v112 * v98;
        n0x3F800000_5 = n0x3F800000_4;
        *(float *)&n0x3F800000_5 = *(float *)&n0x3F800000_4 * v98;
        n0x3F800000_6 = n0x3F800000_5;
        *(float *)(a1 + 0xD0) = v111 * v98;
        *(float *)(a1 + 0xD4) = v112 * v98;
        *(float *)(a1 + 0xD8) = *(float *)&n0x3F800000_4 * v98;
        v118 = *(float *)(a1 + 0x94);
        v119 = *(float *)(a1 + 0x98);
        v120 = *(float *)(a1 + 0x90);
        v121 = *(float *)(a1 + 0x9C);
        v122 = (float)((float)(v119 * (float)(v112 * v98)) - (float)(v118 * (float)(*(float *)&n0x3F800000_4 * v98)))
             + (float)(v121 * (float)(v111 * v98));
        v123 = (float)((float)((float)(*(float *)&n0x3F800000_4 * v98) * v120) - (float)(v119 * (float)(v111 * v98)))
             + (float)(v121 * (float)(v112 * v98));
        v124 = LODWORD(v118);
        *(float *)&v124 = (float)(v118 * (float)(v111 * v98)) - (float)((float)(v112 * v98) * v120);
        v125 = v124;
        v127 = LODWORD(v119);
        *(float *)&v127 = v119 * v123;
        v126 = v127;
        v129 = v125;
        *(float *)&v129 = *(float *)&v125 + (float)(v121 * *(float *)&n0x3F800000_6);
        v128 = v129;
        v130 = *(float *)&v129 * v118;
        v132 = v126;
        *(float *)&v132 = *(float *)&v126 - v130;
        v131 = v132;
        v133 = v128;
        *(float *)&v133 = (float)(*(float *)&v128 * v120) - (float)(v119 * v122);
        v134 = v133;
        *((_QWORD *)&v133 + 1) = *((_QWORD *)&v131 + 1);
        *(double *)&v133 = (float)((float)(*(float *)&v131 + v114) + *(float *)&v131) * *(double *)(a1 + 0x48);
        _XMM3 = v133;
        __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
        *((_QWORD *)&v133 + 1) = *((_QWORD *)&v134 + 1);
        *(double *)&v133 = (float)((float)(*(float *)&v134 + v115) + *(float *)&v134) * *(double *)(a1 + 0x50);
        _XMM3 = v133;
        __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
        *((_QWORD *)&v133 + 1) = *((_QWORD *)&n0x3F800000_6 + 1);
        *(double *)&v133 = (float)((float)(*(float *)&n0x3F800000_6
                                         + (float)((float)(v118 * v122) - (float)(v123 * v120)))
                                 + (float)((float)(v118 * v122) - (float)(v123 * v120)))
                         * *(double *)(a1 + 0x58);
        _XMM3 = v133;
        __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
        v141 = (float)((float)(*(float *)&_XMM8 * v118) - (float)(*(float *)&_XMM9 * v119))
             + (float)(*(float *)&_XMM10 * v121);
        v142 = (float)((float)(*(float *)&_XMM10 * v119) - (float)(*(float *)&_XMM8 * v120))
             + (float)(*(float *)&_XMM9 * v121);
        *(float *)&v134 = (float)((float)(*(float *)&_XMM9 * v120) - (float)(*(float *)&_XMM10 * v118))
                        + (float)(*(float *)&_XMM8 * v121);
        *(float *)&v125 = (float)(*(float *)&_XMM10 + (float)((float)(v118 * *(float *)&v134) - (float)(v119 * v142)))
                        + (float)((float)(v118 * *(float *)&v134) - (float)(v119 * v142));
        *(double *)&_XMM3 = (float)((float)(*(float *)&_XMM9
                                          + (float)((float)(v119 * v141) - (float)(v120 * *(float *)&v134)))
                                  + (float)((float)(v119 * v141) - (float)(v120 * *(float *)&v134)));
        v98 = v166;
        v99 = v168;
        *(double *)(a1 + 0xC8) = (float)((float)(*(float *)&_XMM8 + (float)((float)(v120 * v142) - (float)(v118 * v141)))
                                       + (float)((float)(v120 * v142) - (float)(v118 * v141)));
        *(double *)(a1 + 0xB8) = *(float *)&v125;
        *(double *)(a1 + 0xC0) = *(double *)&_XMM3;
        v61 = 0.0;
      }
      _XMM3 = *(unsigned int *)(a1 + 0xF8);
      _XMM5 = *(unsigned int *)(a1 + 0xF4);
      _XMM9 = *(unsigned int *)(a1 + 0xFC);
      if ( (float)((float)((float)(*(float *)&_XMM5 * *(float *)&_XMM5) + (float)(*(float *)&_XMM3 * *(float *)&_XMM3))
                 + (float)(*(float *)&_XMM9 * *(float *)&_XMM9)) > v99 )
      {
        __asm
        {
          vminss  xmm0, xmm5, xmm6
          vminss  xmm1, xmm3, xmm6
          vmaxss  xmm12, xmm0, xmm7
          vminss  xmm0, xmm9, xmm6
          vmaxss  xmm13, xmm1, xmm7
          vmaxss  xmm6, xmm0, xmm7
        }
        v152 = _XMM13;
        v152.m128_f32[0] = (float)((float)(_XMM13.m128_f32[0] * _XMM13.m128_f32[0])
                                 + (float)(*(float *)&_XMM12 * *(float *)&_XMM12))
                         + (float)(*(float *)&_XMM6 * *(float *)&_XMM6);
        if ( v152.m128_f32[0] <= 9.9999997e-21 )
        {
          v156 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v152, v152, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          v155 = (float)(1.5 - (float)((float)((float)(v152.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
               * _XMM3.m128_f32[0];
          v164 = v155 * *(float *)&_XMM6;
          v61 = v155 * *(float *)&_XMM12;
          v156 = v155 * _XMM13.m128_f32[0];
        }
        *(float *)(a1 + 0xF4) = v61 * v98;
        *(float *)(a1 + 0xFC) = v98 * v164;
        *(float *)(a1 + 0xF8) = v156 * v98;
      }
    }
  }
  return result;
}

// --- End Function: sub_14673B940 (0x14673B940) ---

// --- Function: sub_146765B00 (0x146765B00) ---
__int64 __fastcall sub_146765B00(__int64 a1)
{
  __int64 result; // rax

  result = 0;
  *(_QWORD *)(a1 + 0x108) = 0;
  *(_QWORD *)(a1 + 0x100) = 0;
  *(_QWORD *)(a1 + 0x58) = 0;
  *(_QWORD *)(a1 + 0x50) = 0;
  *(_QWORD *)(a1 + 0x48) = 0;
  *(_QWORD *)(a1 + 0x70) = 0;
  *(_QWORD *)(a1 + 0x68) = 0;
  *(_QWORD *)(a1 + 0x60) = 0;
  *(_QWORD *)(a1 + 0xB0) = 0;
  *(_QWORD *)(a1 + 0xA8) = 0;
  *(_QWORD *)(a1 + 0xA0) = 0;
  *(_QWORD *)(a1 + 0xC8) = 0;
  *(_QWORD *)(a1 + 0xC0) = 0;
  *(_QWORD *)(a1 + 0xB8) = 0;
  *(_QWORD *)(a1 + 0xE0) = 0;
  *(_QWORD *)(a1 + 0xD8) = 0;
  *(_QWORD *)(a1 + 0xD0) = 0;
  *(_QWORD *)(a1 + 0xEC) = 0;
  *(_DWORD *)(a1 + 0xE8) = 0;
  *(_QWORD *)(a1 + 0xF8) = 0;
  *(_DWORD *)(a1 + 0xF4) = 0;
  return result;
}

// --- End Function: sub_146765B00 (0x146765B00) ---

// --- Function: sub_1467671B0 (0x1467671B0) ---
__int64 __fastcall sub_1467671B0(__int64 a1, int a2, __m256i *a3, __m256i **a4)
{
  __m256i **v4; // r14
  int v6; // edi
  __int64 v7; // rbx
  unsigned int v8; // r12d
  volatile signed __int64 *v9; // r14
  signed __int64 v10; // rdx
  __int64 v11; // rdi
  LARGE_INTEGER v12; // rbx
  unsigned __int64 v13; // rdx
  __m256i *v14; // rdi
  __int8 v15; // dl
  int v16; // eax
  __int64 n0x1E; // r14
  volatile signed __int64 *v18; // rbx
  bool v19; // zf
  signed __int64 v20; // r15
  bool v21; // r15
  __int64 v22; // rdx
  __m256i **v23; // rax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v25; // rsi
  int n0x2800_1; // [rsp+30h] [rbp-79h] BYREF
  __int64 v28; // [rsp+34h] [rbp-75h]
  int v29; // [rsp+3Ch] [rbp-6Dh]
  __int64 v30; // [rsp+40h] [rbp-69h]
  unsigned __int64 v31; // [rsp+48h] [rbp-61h]
  __int64 v32; // [rsp+50h] [rbp-59h]
  __int64 v33; // [rsp+58h] [rbp-51h]
  int n0x2800; // [rsp+80h] [rbp-29h] BYREF
  __int64 v35; // [rsp+84h] [rbp-25h]
  int v36; // [rsp+8Ch] [rbp-1Dh]
  __int64 v37; // [rsp+90h] [rbp-19h]
  unsigned __int64 v38; // [rsp+98h] [rbp-11h]
  __int64 v39; // [rsp+A0h] [rbp-9h]
  __int64 v40; // [rsp+A8h] [rbp-1h]

  n0x2800 = 0x2800;
  v4 = a4;
  v35 = 0;
  v36 = 0;
  v6 = a2;
  v38 = 0;
  v7 = a1;
  v39 = 0;
  v40 = 0;
  v37 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v8 = 0;
  if ( (v6 & 0x4000) != 0 )
  {
    n0x2800_1 = 0x2800;
    v28 = 0;
    v29 = 0;
    v31 = 0;
    v32 = 0;
    v33 = 0;
    v30 = 1;
    qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
    v9 = (volatile signed __int64 *)(v7 + 0x84B40);
    v10 = _InterlockedIncrement64((volatile signed __int64 *)(v7 + 0x84B40));
    if ( (v10 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)(v7 + 0x84B40),
        v10,
        (__int64)"CPhysicalWorld::SignalEvent",
        (__int64)"m_lockEventClients",
        1);
    v11 = *(_QWORD *)(v7 + 0x83058);
    if ( v11 )
    {
      do
      {
        v12 = sub_1403E4CF0();
        v8 += (*(__int64 (__fastcall **)(__m256i *))v11)(a3);
        *(_QWORD *)(v11 + 0x10) += *(_QWORD *)&sub_1403E4CF0() - v12.QuadPart;
        v11 = *(_QWORD *)(v11 + 8);
      }
      while ( v11 );
      v7 = a1;
    }
    v13 = _InterlockedDecrement64(v9);
    if ( (v13 & 0x3FF) == 0 && (v13 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(v9, v13);
    v31 = __rdtsc();
    qword_149A0FD88(&n0x2800_1);
    v6 = a2;
    v4 = a4;
  }
  if ( (v6 & 0x4000000) != 0 )
  {
    v14 = (__m256i *)sub_146916200(v7, 3, 0x40);
    v15 = v14->m256i_i8[0xC];
    *v14 = *a3;
    v14[1] = a3[1];
    v14->m256i_i8[0xC] = v15;
    v14->m256i_i64[0] = 0;
    __asm { vzeroupper }
    v16 = InterlockedIncrement_w_0(3);
    v14->m256i_i32[3] = (unsigned __int8)v14->m256i_i32[3];
    v14->m256i_i32[3] |= v16 << 8;
    if ( v4 )
      *v4 = v14;
    n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    v18 = (volatile signed __int64 *)(v7 + 8 * n0x1E + 0x83358);
    v19 = (_DWORD)n0x1E == 0x1E;
    if ( (_DWORD)n0x1E != 0x1E )
    {
      v20 = _InterlockedIncrement64(v18);
      if ( (v20 & 0x200000) != 0 )
      {
        sub_1403CD0A0(v18, v20, (__int64)"CPhysicalWorld::OnEvent", (__int64)"m_lockEventsQueue[iCaller]", 1);
        v21 = 0;
LABEL_21:
        v23 = *(__m256i ***)(a1 + 8 * n0x1E + 0x82F30);
        if ( !v23 )
          v23 = (__m256i **)(a1 + 0x82E38 + 8 * n0x1E);
        *v23 = v14;
        *(_QWORD *)(a1 + 8 * n0x1E + 0x82F30) = v14;
        if ( v18 )
        {
          if ( v21 )
          {
            n0x200000 = _InterlockedCompareExchange64(v18, 0, 0x200000);
            if ( n0x200000 != 0x200000 )
              sub_1403DEBA0(v18, n0x200000);
          }
        }
        if ( (_DWORD)n0x1E != 0x1E )
        {
          v25 = _InterlockedDecrement64(v18);
          if ( (v25 & 0x3FF) == 0 && (v25 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0(v18, v25);
        }
        goto LABEL_31;
      }
      v19 = (_DWORD)n0x1E == 0x1E;
    }
    v21 = v19;
    if ( v19 )
    {
      v22 = _InterlockedCompareExchange64(v18, 0x200000, 0);
      if ( v22 )
        sub_1403DE750(
          (__int64)v18,
          v22,
          0,
          (__int64)"CPhysicalWorld::OnEvent",
          (__int64)"m_lockEventsQueue[iCaller]",
          1);
    }
    goto LABEL_21;
  }
LABEL_31:
  v38 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v8;
}

// --- End Function: sub_1467671B0 (0x1467671B0) ---

// --- Function: sub_146767820 (0x146767820) ---
__int64 __fastcall sub_146767820(__int64 a1, char a2, __int64 a3, __int64 *a4)
{
  __int64 *v4; // r15
  char v6; // di
  __int64 v7; // rbx
  unsigned int v8; // r12d
  volatile signed __int64 *v9; // r15
  signed __int64 v10; // rdx
  __int64 v11; // rdi
  LARGE_INTEGER v12; // rbx
  unsigned __int64 v13; // rdx
  __int64 v14; // rdi
  char v15; // cl
  int v16; // eax
  __int64 n0x1E; // r15
  volatile signed __int64 *v18; // rbx
  bool v19; // zf
  signed __int64 v20; // r14
  bool v21; // r14
  __int64 v22; // rdx
  __int64 *v23; // rax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v25; // rsi
  int n0x2800_1; // [rsp+30h] [rbp-79h] BYREF
  __int64 v28; // [rsp+34h] [rbp-75h]
  int v29; // [rsp+3Ch] [rbp-6Dh]
  __int64 v30; // [rsp+40h] [rbp-69h]
  unsigned __int64 v31; // [rsp+48h] [rbp-61h]
  __int64 v32; // [rsp+50h] [rbp-59h]
  __int64 v33; // [rsp+58h] [rbp-51h]
  int n0x2800; // [rsp+80h] [rbp-29h] BYREF
  __int64 v35; // [rsp+84h] [rbp-25h]
  int v36; // [rsp+8Ch] [rbp-1Dh]
  __int64 v37; // [rsp+90h] [rbp-19h]
  unsigned __int64 v38; // [rsp+98h] [rbp-11h]
  __int64 v39; // [rsp+A0h] [rbp-9h]
  __int64 v40; // [rsp+A8h] [rbp-1h]

  n0x2800 = 0x2800;
  v4 = a4;
  v35 = 0;
  v36 = 0;
  v6 = a2;
  v38 = 0;
  v7 = a1;
  v39 = 0;
  v40 = 0;
  v37 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v8 = 0;
  if ( (v6 & 1) != 0 )
  {
    n0x2800_1 = 0x2800;
    v28 = 0;
    v29 = 0;
    v31 = 0;
    v32 = 0;
    v33 = 0;
    v30 = 1;
    qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
    v9 = (volatile signed __int64 *)(v7 + 0x84B40);
    v10 = _InterlockedIncrement64((volatile signed __int64 *)(v7 + 0x84B40));
    if ( (v10 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)(v7 + 0x84B40),
        v10,
        (__int64)"CPhysicalWorld::SignalEvent",
        (__int64)"m_lockEventClients",
        1);
    v11 = *(_QWORD *)(v7 + 0x83038);
    if ( v11 )
    {
      do
      {
        v12 = sub_1403E4CF0();
        v8 += (*(__int64 (__fastcall **)(__int64))v11)(a3);
        *(_QWORD *)(v11 + 0x10) += *(_QWORD *)&sub_1403E4CF0() - v12.QuadPart;
        v11 = *(_QWORD *)(v11 + 8);
      }
      while ( v11 );
      v7 = a1;
    }
    v13 = _InterlockedDecrement64(v9);
    if ( (v13 & 0x3FF) == 0 && (v13 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(v9, v13);
    v31 = __rdtsc();
    qword_149A0FD88(&n0x2800_1);
    v6 = a2;
    v4 = a4;
  }
  if ( (v6 & 2) != 0 )
  {
    v14 = sub_146916200(v7, 1, 0x98);
    v15 = *(_BYTE *)(v14 + 0xC);
    *(__m256i *)v14 = *(__m256i *)a3;
    *(__m256i *)(v14 + 0x20) = *(__m256i *)(a3 + 0x20);
    *(__m256i *)(v14 + 0x40) = *(__m256i *)(a3 + 0x40);
    *(__m256i *)(v14 + 0x60) = *(__m256i *)(a3 + 0x60);
    *(_OWORD *)(v14 + 0x80) = *(_OWORD *)(a3 + 0x80);
    *(double *)(v14 + 0x90) = *(double *)(a3 + 0x90);
    *(_BYTE *)(v14 + 0xC) = v15;
    *(_QWORD *)v14 = 0;
    __asm { vzeroupper }
    v16 = InterlockedIncrement_w_0(1);
    *(_DWORD *)(v14 + 0xC) = (unsigned __int8)*(_DWORD *)(v14 + 0xC);
    *(_DWORD *)(v14 + 0xC) |= v16 << 8;
    if ( v4 )
      *v4 = v14;
    n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    v18 = (volatile signed __int64 *)(v7 + 8 * n0x1E + 0x83358);
    v19 = (_DWORD)n0x1E == 0x1E;
    if ( (_DWORD)n0x1E != 0x1E )
    {
      v20 = _InterlockedIncrement64(v18);
      if ( (v20 & 0x200000) != 0 )
      {
        sub_1403CD0A0(v18, v20, (__int64)"CPhysicalWorld::OnEvent", (__int64)"m_lockEventsQueue[iCaller]", 1);
        v21 = 0;
LABEL_21:
        v23 = *(__int64 **)(a1 + 8 * n0x1E + 0x82F30);
        if ( !v23 )
          v23 = (__int64 *)(a1 + 0x82E38 + 8 * n0x1E);
        *v23 = v14;
        *(_QWORD *)(a1 + 8 * n0x1E + 0x82F30) = v14;
        if ( v18 )
        {
          if ( v21 )
          {
            n0x200000 = _InterlockedCompareExchange64(v18, 0, 0x200000);
            if ( n0x200000 != 0x200000 )
              sub_1403DEBA0(v18, n0x200000);
          }
        }
        if ( (_DWORD)n0x1E != 0x1E )
        {
          v25 = _InterlockedDecrement64(v18);
          if ( (v25 & 0x3FF) == 0 && (v25 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0(v18, v25);
        }
        goto LABEL_31;
      }
      v19 = (_DWORD)n0x1E == 0x1E;
    }
    v21 = v19;
    if ( v19 )
    {
      v22 = _InterlockedCompareExchange64(v18, 0x200000, 0);
      if ( v22 )
        sub_1403DE750(
          (__int64)v18,
          v22,
          0,
          (__int64)"CPhysicalWorld::OnEvent",
          (__int64)"m_lockEventsQueue[iCaller]",
          1);
    }
    goto LABEL_21;
  }
LABEL_31:
  v38 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v8;
}

// --- End Function: sub_146767820 (0x146767820) ---

// --- Function: sub_14676E0B0 (0x14676E0B0) ---
bool __fastcall sub_14676E0B0(__int64 *a1, __int64 a2)
{
  __int64 v3; // rax

  v3 = sub_14753C650(*a1, 0x18 * a2, 0, (unsigned int)dword_1497E7C00);
  *a1 = v3;
  return v3 != 0;
}

// --- End Function: sub_14676E0B0 (0x14676E0B0) ---

// --- Function: sub_14676E0F0 (0x14676E0F0) ---
bool __fastcall sub_14676E0F0(const void **a1, __int64 n4)
{
  __int64 v3; // rax

  v3 = sub_14753C650(*a1, 0xD8 * n4, 0);
  *a1 = (const void *)v3;
  return v3 != 0;
}

// --- End Function: sub_14676E0F0 (0x14676E0F0) ---

// --- Function: sub_14676E130 (0x14676E130) ---
__int64 __fastcall sub_14676E130(__int64 a1, __int64 a2, __int64 a3, int *a4, int a5, __int64 a6, int a7, __int64 a8)
{
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v9; // rsi
  __int64 TlsIndex; // rdx
  __int64 v13; // rax
  unsigned int n7; // edx
  int n0x1E; // ebp
  int v16; // ecx
  __int16 n0x63; // r8
  bool v18; // al
  __int64 v19; // rbx
  int v20; // eax
  signed __int64 v22; // rdx
  signed __int64 v23; // rdx
  volatile signed __int64 *v24; // rdi
  __int64 v25; // rax
  int v26; // r9d
  __int64 v27; // r10
  int *i; // r8
  int v29; // edx
  int v30; // eax
  int v31; // ebp
  __int64 v32; // r8
  __int64 v33; // rcx
  __int64 v34; // rax
  int v35; // edx
  __int64 v36; // rcx
  __int64 v37; // r8
  __int64 v38; // rcx
  __int64 v39; // rax
  int v40; // edx
  __int64 v41; // rcx
  __int64 v42; // r8
  __int64 v43; // rcx
  __int64 v44; // rax
  int v45; // edx
  __int64 v46; // rcx
  int *v47; // rbp
  int v48; // edx
  int v49; // eax
  int v50; // esi
  char *v51; // rdx
  int Size; // esi
  __int64 v53; // r12
  __int64 v54; // rcx
  void *v55; // rdi
  __int64 v56; // rax
  int v57; // edx
  __int64 v58; // rcx
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v60; // r13
  bool v62; // [rsp+90h] [rbp+28h]

  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  *(_QWORD *)(a1 + 8) = a2;
  v9 = a2;
  TlsIndex = (unsigned int)::TlsIndex;
  *(_QWORD *)a1 = a3;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_QWORD *)(a1 + 0x18) = a4;
  v13 = ThreadLocalStoragePointer[TlsIndex];
  *(_DWORD *)(a1 + 0x20) = 0;
  *(_DWORD *)(a1 + 0x24) = 1;
  n7 = *(_DWORD *)(v9 + 0xF4);
  n0x1E = *(_DWORD *)(v13 + 0x800);
  if ( n7 == 0xFFFFFFFF && (*(_DWORD *)(v9 + 0xE8) & 0x3FFFFFFF) == 3 )
    v16 = ((a5 - 1) >> 0x1F) | a5;
  else
    v16 = a5;
  if ( v16 < 0 )
    goto LABEL_12;
  if ( n7 >= 7 || *(int *)(v9 + 0xE8) < 0 )
  {
    v18 = (unsigned int)(*a4 - 0x19) > 2 && *a4 != 5;
  }
  else
  {
    n0x63 = *(_WORD *)(v9 + 0xEC);
    v18 = n0x63 == 0x63;
    if ( *a4 != 7 )
    {
      if ( *a4 != 0x10 || n0x63 != 0x63 && *(_WORD *)(*((_QWORD *)a4 + 2) + 0xECLL) != 0x63 )
        goto LABEL_12;
LABEL_26:
      *(_DWORD *)(a1 + 0x20) = 1;
      *(_QWORD *)(a1 + 0x10) = &dword_151461634;
      return a1;
    }
  }
  if ( v18 )
    goto LABEL_26;
LABEL_12:
  v19 = a8;
  if ( a8 || (v20 = 0, n0x1E == 0x1E) )
    v20 = 1;
  if ( v16 <= 0 || v20 )
  {
    v62 = 0;
    if ( !a8 )
    {
      v62 = n0x1E == 0x1E;
      v19 = *((_QWORD *)sub_1465FEB70() + 0x1D);
      if ( n0x1E == 0x1E )
      {
        v62 = 1;
        if ( dword_149987C48 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
        {
          ++dword_149987C4C;
        }
        else
        {
          v22 = _InterlockedIncrement64(&qword_149987C40);
          if ( (v22 & 0x200000) != 0 )
          {
            sub_1403CD0A0(
              &qword_149987C40,
              v22,
              (__int64)"ChangeRequest<struct pe_action>::ChangeRequest",
              (__int64)"command_queue_t::command_queue_manager.m_tls_queue_lock",
              1);
            v62 = 1;
          }
        }
      }
      v9 = a2;
    }
    v23 = _InterlockedIncrement64(&qword_149987BE8);
    if ( (v23 & 0x200000) != 0 )
      sub_1403CD0A0(
        &qword_149987BE8,
        v23,
        (__int64)"ChangeRequest<struct pe_action>::ChangeRequest",
        (__int64)"command_queue_t::command_queue_manager.m_queue_swap_lock",
        1);
    v24 = (volatile signed __int64 *)(v19 + 0x50);
    v25 = _InterlockedCompareExchange64((volatile signed __int64 *)(v19 + 0x50), 0x200000, 0);
    if ( v25 )
      sub_1403DE750(
        v19 + 0x50,
        v25,
        0,
        (__int64)"ChangeRequest<struct pe_action>::ChangeRequest",
        (__int64)"queue->m_queueLock",
        1);
    _InterlockedExchangeAdd((volatile signed __int32 *)(v9 + 0xFC), 0x20000u);
    v26 = 0;
    v27 = *a4;
    for ( i = (int *)qword_151468000[v27]; i; i = (int *)*((_QWORD *)i + 2) )
    {
      if ( (unsigned __int64)(*(_QWORD *)((char *)a4 + *i) - 1LL) <= 0xFFFFFFFFFFFFFFFDuLL )
      {
        v29 = i[2];
        v30 = 0;
        if ( v29 > 0 )
          v30 = i[2];
        v26 += i[3] * (i[1] + ((-v29 >> 0x1F) & *(int *)((char *)a4 + v30)));
      }
    }
    v31 = v26 + dword_151467DB0[v27] + 0x10;
    sub_1465BBAD0(v19, v31);
    v32 = v19 + 0x58;
    if ( *(_DWORD *)(v19 + 0x34) != 2 )
      v32 = *(_QWORD *)(v19 + 0x20);
    v33 = *(_QWORD *)(v32 + 8LL * *(int *)(v19 + 0x30) - 8);
    if ( *(_QWORD *)(v33 + 0x1FF0) )
      v33 = *(_QWORD *)(v33 + 0x1FF0);
    *(_DWORD *)(*(int *)(v19 + 0x40) + v33) = 1;
    v34 = *(int *)(v19 + 0x30);
    v35 = *(_DWORD *)(v19 + 0x40) + 4;
    *(_DWORD *)(v19 + 0x40) = v35;
    v36 = *(_QWORD *)(v32 + 8 * v34 - 8);
    v37 = v19 + 0x58;
    if ( *(_QWORD *)(v36 + 0x1FF0) )
      v36 = *(_QWORD *)(v36 + 0x1FF0);
    *(_DWORD *)(v35 + v36) = 0xFFFFFFFF;
    if ( *(_DWORD *)(v19 + 0x34) != 2 )
      v37 = *(_QWORD *)(v19 + 0x20);
    v38 = *(_QWORD *)(v37 + 8LL * *(int *)(v19 + 0x30) - 8);
    if ( *(_QWORD *)(v38 + 0x1FF0) )
      v38 = *(_QWORD *)(v38 + 0x1FF0);
    *(_DWORD *)(*(int *)(v19 + 0x40) + v38) = v31;
    v39 = *(int *)(v19 + 0x30);
    v40 = *(_DWORD *)(v19 + 0x40) + 4;
    *(_DWORD *)(v19 + 0x40) = v40;
    v41 = *(_QWORD *)(v37 + 8 * v39 - 8);
    v42 = v19 + 0x58;
    if ( *(_QWORD *)(v41 + 0x1FF0) )
      v41 = *(_QWORD *)(v41 + 0x1FF0);
    *(_DWORD *)(v40 + v41) = 0xFFFFFFFF;
    if ( *(_DWORD *)(v19 + 0x34) != 2 )
      v42 = *(_QWORD *)(v19 + 0x20);
    v43 = *(_QWORD *)(v42 + 8LL * *(int *)(v19 + 0x30) - 8);
    if ( *(_QWORD *)(v43 + 0x1FF0) )
      v43 = *(_QWORD *)(v43 + 0x1FF0);
    *(_QWORD *)(*(int *)(v19 + 0x40) + v43) = v9;
    v44 = *(int *)(v19 + 0x30);
    v45 = *(_DWORD *)(v19 + 0x40) + 8;
    *(_DWORD *)(v19 + 0x40) = v45;
    v46 = *(_QWORD *)(v42 + 8 * v44 - 8);
    if ( *(_QWORD *)(v46 + 0x1FF0) )
      v46 = *(_QWORD *)(v46 + 0x1FF0);
    *(_DWORD *)(v45 + v46) = 0xFFFFFFFF;
    *(_QWORD *)(a1 + 0x10) = sub_1467D5E20(v19, a4, (unsigned int)dword_151467DB0[*a4]);
    v47 = (int *)qword_151468000[*a4];
    if ( v47 )
    {
      do
      {
        v48 = v47[2];
        v49 = 0;
        if ( v48 > 0 )
          v49 = v47[2];
        v50 = (-v48 >> 0x1F) & *(int *)((char *)a4 + v49);
        v51 = *(char **)((char *)a4 + *v47);
        Size = v47[3] * (v47[1] + v50);
        if ( (unsigned __int64)(v51 + 0xFFFFFFFF) <= 0xFFFFFFFFFFFFFFFDuLL && Size >= 0 )
        {
          v53 = v19 + 0x58;
          if ( *(_DWORD *)(v19 + 0x34) != 2 )
            v53 = *(_QWORD *)(v19 + 0x20);
          v54 = *(_QWORD *)(v53 + 8LL * *(int *)(v19 + 0x30) - 8);
          if ( *(_QWORD *)(v54 + 0x1FF0) )
            v54 = *(_QWORD *)(v54 + 0x1FF0);
          v55 = (void *)(v54 + *(int *)(v19 + 0x40));
          memcpy(v55, v51, Size);
          v56 = *(int *)(v19 + 0x30);
          v57 = Size + *(_DWORD *)(v19 + 0x40);
          *(_DWORD *)(v19 + 0x40) = v57;
          v58 = *(_QWORD *)(v53 + 8 * v56 - 8);
          if ( *(_QWORD *)(v58 + 0x1FF0) )
            v58 = *(_QWORD *)(v58 + 0x1FF0);
          *(_DWORD *)(v57 + v58) = 0xFFFFFFFF;
          *(_QWORD *)(*v47 + *(_QWORD *)(a1 + 0x10)) = v55;
        }
        v47 = (int *)*((_QWORD *)v47 + 2);
      }
      while ( v47 );
      LODWORD(v9) = a2;
      v24 = (volatile signed __int64 *)(v19 + 0x50);
    }
    sub_1467D0910(a1, (_DWORD)a4, v9, a6, a7, v19);
    *(_DWORD *)(a1 + 0x20) = 1;
    if ( v24 )
    {
      n0x200000 = _InterlockedCompareExchange64(v24, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v24, n0x200000);
    }
    v60 = _InterlockedDecrement64(&qword_149987BE8);
    if ( (v60 & 0x3FF) == 0 && (v60 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(&qword_149987BE8, v60);
    if ( v62 )
      sub_1402D42F0((__int64)&qword_149987C40);
  }
  return a1;
}

// --- End Function: sub_14676E130 (0x14676E130) ---

// --- Function: sub_14676E6D0 (0x14676E6D0) ---
__int64 __fastcall sub_14676E6D0(__int64 a1, __int64 a2, __int64 a3, int *a4, int a5, __int64 a6, int a7, __int64 a8)
{
  _QWORD *ThreadLocalStoragePointer; // rax
  volatile signed __int32 *v11; // rsi
  unsigned int n7; // ecx
  int n0x1E; // ebp
  int v14; // edi
  __int64 v16; // rcx
  signed int v17; // edx
  __int64 v18; // rbx
  int v19; // eax
  signed __int64 v20; // rdx
  signed __int64 v21; // rdx
  volatile signed __int64 *v22; // rdi
  __int64 v23; // rax
  int v24; // r9d
  __int64 v25; // r10
  int *i; // r8
  int v27; // edx
  int v28; // eax
  int v29; // ebp
  __int64 v30; // r8
  __int64 v31; // rcx
  __int64 v32; // rax
  int v33; // edx
  __int64 v34; // rcx
  __int64 v35; // r8
  __int64 v36; // rcx
  __int64 v37; // rax
  int v38; // edx
  __int64 v39; // rcx
  __int64 v40; // r8
  __int64 v41; // rcx
  __int64 v42; // rax
  int v43; // edx
  __int64 v44; // rcx
  __int64 v45; // r8
  __int64 v46; // rcx
  __int64 v47; // rax
  int v48; // edx
  __int64 v49; // rcx
  __int64 v50; // r8
  __int64 v51; // rcx
  __int64 v52; // rax
  int v53; // edx
  __int64 v54; // rcx
  int *v55; // rbp
  int v56; // edx
  int v57; // eax
  int v58; // esi
  char *v59; // rdx
  int Size; // esi
  __int64 v61; // r13
  __int64 v62; // rcx
  void *v63; // rdi
  __int64 v64; // rax
  int v65; // edx
  __int64 v66; // rcx
  int v67; // eax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v69; // r12
  bool v71; // [rsp+90h] [rbp+28h]

  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_DWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)a1 = a3;
  v11 = (volatile signed __int32 *)a2;
  *(_QWORD *)(a1 + 8) = a2;
  *(_QWORD *)(a1 + 0x18) = a4;
  *(_DWORD *)(a1 + 0x24) = 1;
  n7 = *(_DWORD *)(a2 + 0xF4);
  n0x1E = *(_DWORD *)(ThreadLocalStoragePointer[TlsIndex] + 0x800LL);
  if ( n7 == 0xFFFFFFFF && (*(_DWORD *)(a2 + 0xE8) & 0x3FFFFFFF) == 3 )
    v14 = ((a5 - 1) >> 0x1F) | a5;
  else
    v14 = a5;
  if ( v14 >= 0 && (*(_WORD *)(a2 + 0xEC) == 0x63 || n7 >= 7 || *(int *)(a2 + 0xE8) < 0) )
  {
    *(_DWORD *)(a1 + 0x20) = 1;
    *(_QWORD *)(a1 + 0x10) = &dword_151461634;
    return a1;
  }
  else
  {
    if ( n0x1E == 0x1E && !*((_QWORD *)a4 + 0x1B) )
    {
      v16 = *((_QWORD *)a4 + 0xD);
      if ( v16 )
      {
        v17 = a4[0x1C];
        if ( v17 > 0 )
        {
          *((_QWORD *)a4 + 0x1B) = sub_1466BDFB0(v16, v17, 1u);
          *((_QWORD *)a4 + 0xD) = 0;
        }
      }
    }
    v18 = a8;
    if ( a8 || (v19 = 0, n0x1E == 0x1E) )
      v19 = 1;
    if ( v14 <= 0 || v19 )
    {
      v71 = 0;
      if ( !a8 )
      {
        v71 = n0x1E == 0x1E;
        v18 = *((_QWORD *)sub_1465FEB70() + 0x1D);
        if ( n0x1E == 0x1E )
        {
          v71 = 1;
          if ( dword_149987C48 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
          {
            ++dword_149987C4C;
          }
          else
          {
            v20 = _InterlockedIncrement64(&qword_149987C40);
            if ( (v20 & 0x200000) != 0 )
            {
              sub_1403CD0A0(
                &qword_149987C40,
                v20,
                (__int64)"ChangeRequest<struct pe_geomparams>::ChangeRequest",
                (__int64)"command_queue_t::command_queue_manager.m_tls_queue_lock",
                1);
              v71 = 1;
            }
          }
        }
        v11 = (volatile signed __int32 *)a2;
      }
      v21 = _InterlockedIncrement64(&qword_149987BE8);
      if ( (v21 & 0x200000) != 0 )
        sub_1403CD0A0(
          &qword_149987BE8,
          v21,
          (__int64)"ChangeRequest<struct pe_geomparams>::ChangeRequest",
          (__int64)"command_queue_t::command_queue_manager.m_queue_swap_lock",
          1);
      v22 = (volatile signed __int64 *)(v18 + 0x50);
      v23 = _InterlockedCompareExchange64((volatile signed __int64 *)(v18 + 0x50), 0x200000, 0);
      if ( v23 )
        sub_1403DE750(
          v18 + 0x50,
          v23,
          0,
          (__int64)"ChangeRequest<struct pe_geomparams>::ChangeRequest",
          (__int64)"queue->m_queueLock",
          1);
      _InterlockedExchangeAdd(v11 + 0x3F, 0x20000u);
      v24 = 0;
      v25 = *a4;
      for ( i = (int *)*((_QWORD *)&xmmword_151468128 + v25); i; i = (int *)*((_QWORD *)i + 2) )
      {
        if ( (unsigned __int64)(*(_QWORD *)((char *)a4 + *i) - 1LL) <= 0xFFFFFFFFFFFFFFFDuLL )
        {
          v27 = i[2];
          v28 = 0;
          if ( v27 > 0 )
            v28 = i[2];
          v24 += i[3] * (i[1] + ((-v27 >> 0x1F) & *(int *)((char *)a4 + v28)));
        }
      }
      v29 = v24 + dword_151467E48[v25] + 0x1C;
      sub_1465BBAD0(v18, v29);
      v30 = v18 + 0x58;
      if ( *(_DWORD *)(v18 + 0x34) != 2 )
        v30 = *(_QWORD *)(v18 + 0x20);
      v31 = *(_QWORD *)(v30 + 8LL * *(int *)(v18 + 0x30) - 8);
      if ( *(_QWORD *)(v31 + 0x1FF0) )
        v31 = *(_QWORD *)(v31 + 0x1FF0);
      *(_DWORD *)(*(int *)(v18 + 0x40) + v31) = 2;
      v32 = *(int *)(v18 + 0x30);
      v33 = *(_DWORD *)(v18 + 0x40) + 4;
      *(_DWORD *)(v18 + 0x40) = v33;
      v34 = *(_QWORD *)(v30 + 8 * v32 - 8);
      v35 = v18 + 0x58;
      if ( *(_QWORD *)(v34 + 0x1FF0) )
        v34 = *(_QWORD *)(v34 + 0x1FF0);
      *(_DWORD *)(v33 + v34) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v18 + 0x34) != 2 )
        v35 = *(_QWORD *)(v18 + 0x20);
      v36 = *(_QWORD *)(v35 + 8LL * *(int *)(v18 + 0x30) - 8);
      if ( *(_QWORD *)(v36 + 0x1FF0) )
        v36 = *(_QWORD *)(v36 + 0x1FF0);
      *(_DWORD *)(*(int *)(v18 + 0x40) + v36) = v29;
      v37 = *(int *)(v18 + 0x30);
      v38 = *(_DWORD *)(v18 + 0x40) + 4;
      *(_DWORD *)(v18 + 0x40) = v38;
      v39 = *(_QWORD *)(v35 + 8 * v37 - 8);
      v40 = v18 + 0x58;
      if ( *(_QWORD *)(v39 + 0x1FF0) )
        v39 = *(_QWORD *)(v39 + 0x1FF0);
      *(_DWORD *)(v38 + v39) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v18 + 0x34) != 2 )
        v40 = *(_QWORD *)(v18 + 0x20);
      v41 = *(_QWORD *)(v40 + 8LL * *(int *)(v18 + 0x30) - 8);
      if ( *(_QWORD *)(v41 + 0x1FF0) )
        v41 = *(_QWORD *)(v41 + 0x1FF0);
      *(_QWORD *)(*(int *)(v18 + 0x40) + v41) = v11;
      v42 = *(int *)(v18 + 0x30);
      v43 = *(_DWORD *)(v18 + 0x40) + 8;
      *(_DWORD *)(v18 + 0x40) = v43;
      v44 = *(_QWORD *)(v40 + 8 * v42 - 8);
      v45 = v18 + 0x58;
      if ( *(_QWORD *)(v44 + 0x1FF0) )
        v44 = *(_QWORD *)(v44 + 0x1FF0);
      *(_DWORD *)(v43 + v44) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v18 + 0x34) != 2 )
        v45 = *(_QWORD *)(v18 + 0x20);
      v46 = *(_QWORD *)(v45 + 8LL * *(int *)(v18 + 0x30) - 8);
      if ( *(_QWORD *)(v46 + 0x1FF0) )
        v46 = *(_QWORD *)(v46 + 0x1FF0);
      *(_QWORD *)(v46 + *(int *)(v18 + 0x40)) = a6;
      v47 = *(int *)(v18 + 0x30);
      v48 = *(_DWORD *)(v18 + 0x40) + 8;
      *(_DWORD *)(v18 + 0x40) = v48;
      v49 = *(_QWORD *)(v45 + 8 * v47 - 8);
      v50 = v18 + 0x58;
      if ( *(_QWORD *)(v49 + 0x1FF0) )
        v49 = *(_QWORD *)(v49 + 0x1FF0);
      *(_DWORD *)(v48 + v49) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v18 + 0x34) != 2 )
        v50 = *(_QWORD *)(v18 + 0x20);
      v51 = *(_QWORD *)(v50 + 8LL * *(int *)(v18 + 0x30) - 8);
      if ( *(_QWORD *)(v51 + 0x1FF0) )
        v51 = *(_QWORD *)(v51 + 0x1FF0);
      *(_DWORD *)(v51 + *(int *)(v18 + 0x40)) = a7;
      v52 = *(int *)(v18 + 0x30);
      v53 = *(_DWORD *)(v18 + 0x40) + 4;
      *(_DWORD *)(v18 + 0x40) = v53;
      v54 = *(_QWORD *)(v50 + 8 * v52 - 8);
      if ( *(_QWORD *)(v54 + 0x1FF0) )
        v54 = *(_QWORD *)(v54 + 0x1FF0);
      *(_DWORD *)(v53 + v54) = 0xFFFFFFFF;
      *(_QWORD *)(a1 + 0x10) = sub_1467D5E20(v18, a4, (unsigned int)dword_151467E48[*a4]);
      v55 = (int *)*((_QWORD *)&xmmword_151468128 + *a4);
      if ( v55 )
      {
        do
        {
          v56 = v55[2];
          v57 = 0;
          if ( v56 > 0 )
            v57 = v55[2];
          v58 = (-v56 >> 0x1F) & *(int *)((char *)a4 + v57);
          v59 = *(char **)((char *)a4 + *v55);
          Size = v55[3] * (v55[1] + v58);
          if ( (unsigned __int64)(v59 + 0xFFFFFFFF) <= 0xFFFFFFFFFFFFFFFDuLL && Size >= 0 )
          {
            v61 = v18 + 0x58;
            if ( *(_DWORD *)(v18 + 0x34) != 2 )
              v61 = *(_QWORD *)(v18 + 0x20);
            v62 = *(_QWORD *)(v61 + 8LL * *(int *)(v18 + 0x30) - 8);
            if ( *(_QWORD *)(v62 + 0x1FF0) )
              v62 = *(_QWORD *)(v62 + 0x1FF0);
            v63 = (void *)(v62 + *(int *)(v18 + 0x40));
            memcpy(v63, v59, Size);
            v64 = *(int *)(v18 + 0x30);
            v65 = Size + *(_DWORD *)(v18 + 0x40);
            *(_DWORD *)(v18 + 0x40) = v65;
            v66 = *(_QWORD *)(v61 + 8 * v64 - 8);
            if ( *(_QWORD *)(v66 + 0x1FF0) )
              v66 = *(_QWORD *)(v66 + 0x1FF0);
            *(_DWORD *)(v65 + v66) = 0xFFFFFFFF;
            *(_QWORD *)(*v55 + *(_QWORD *)(a1 + 0x10)) = v63;
          }
          v55 = (int *)*((_QWORD *)v55 + 2);
        }
        while ( v55 );
        v11 = (volatile signed __int32 *)a2;
        v22 = (volatile signed __int64 *)(v18 + 0x50);
      }
      InterlockedIncrement_w_2(*(_QWORD *)a1 + 0x10LL, a6);
      v67 = (*(__int64 (__fastcall **)(volatile signed __int32 *, _QWORD, __int64))(*(_QWORD *)v11 + 0x50LL))(
              v11,
              (unsigned int)a7,
              1);
      if ( a7 < 0 )
        *(_DWORD *)(*(_QWORD *)(a1 + 0x10) - 4LL) = v67;
      *(_DWORD *)(a1 + 0x24) = v67;
      *(_DWORD *)(a1 + 0x20) = 1;
      if ( v22 )
      {
        n0x200000 = _InterlockedCompareExchange64(v22, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0(v22, n0x200000);
      }
      v69 = _InterlockedDecrement64(&qword_149987BE8);
      if ( (v69 & 0x3FF) == 0 && (v69 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(&qword_149987BE8, v69);
      if ( v71 )
        sub_1402D42F0((__int64)&qword_149987C40);
    }
    return a1;
  }
}

// --- End Function: sub_14676E6D0 (0x14676E6D0) ---

// --- Function: sub_14676ED20 (0x14676ED20) ---
__int64 __fastcall sub_14676ED20(__int64 a1, __int64 a2, __int64 a3, int *a4, int a5, int a6, int a7, __int64 a8)
{
  _QWORD *ThreadLocalStoragePointer; // rax
  volatile signed __int32 *v11; // rsi
  unsigned int n7; // ecx
  int n0x1E; // r13d
  int v14; // ebx
  int n0x6008912; // ecx
  __int64 v17; // rcx
  signed int v18; // edx
  __int64 v19; // rdi
  int v20; // eax
  signed __int64 v21; // rdx
  signed __int64 v22; // rdx
  volatile signed __int64 *v23; // rbx
  __int64 v24; // rax
  int v25; // r9d
  __int64 v26; // r10
  int *i; // r8
  int v28; // edx
  int v29; // eax
  int v30; // ebp
  __int64 v31; // r8
  __int64 v32; // rcx
  __int64 v33; // rax
  int v34; // edx
  __int64 v35; // rcx
  __int64 v36; // r8
  __int64 v37; // rcx
  __int64 v38; // rax
  int v39; // edx
  __int64 v40; // rcx
  __int64 v41; // r8
  __int64 v42; // rcx
  __int64 v43; // rax
  int v44; // edx
  __int64 v45; // rcx
  int *v46; // rbp
  int v47; // edx
  int v48; // eax
  int v49; // r15d
  char *v50; // rdx
  int Size; // r15d
  __int64 v52; // r13
  __int64 v53; // rcx
  void *v54; // rbx
  __int64 v55; // rax
  int v56; // edx
  __int64 v57; // rcx
  int n0xB; // eax
  int n0x23; // eax
  __int64 v60; // rcx
  unsigned int v61; // edx
  signed __int32 v62; // eax
  signed __int32 v63; // ett
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v65; // r15
  bool v67; // [rsp+A0h] [rbp+28h]

  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_DWORD *)(a1 + 0x20) = 0;
  *(_QWORD *)a1 = a3;
  v11 = (volatile signed __int32 *)a2;
  *(_QWORD *)(a1 + 8) = a2;
  *(_QWORD *)(a1 + 0x18) = a4;
  *(_DWORD *)(a1 + 0x24) = 1;
  n7 = *(_DWORD *)(a2 + 0xF4);
  n0x1E = *(_DWORD *)(ThreadLocalStoragePointer[TlsIndex] + 0x800LL);
  if ( n7 == 0xFFFFFFFF && (*(_DWORD *)(a2 + 0xE8) & 0x3FFFFFFF) == 3 )
    v14 = ((a5 - 1) >> 0x1F) | a5;
  else
    v14 = a5;
  if ( v14 < 0
    || n7 < 7 && *(int *)(a2 + 0xE8) >= 0
    || (unsigned int)*a4 <= 0x1A && (n0x6008912 = 0x6008912, _bittest(&n0x6008912, *a4)) )
  {
    if ( n0x1E == 0x1E && *a4 == 6 && !*((_QWORD *)a4 + 0x22) )
    {
      v17 = *((_QWORD *)a4 + 0x12);
      if ( (unsigned __int64)(v17 - 1) <= 0xFFFFFFFFFFFFFFFDuLL )
      {
        v18 = a4[0x26];
        if ( v18 >= 1 )
        {
          *((_QWORD *)a4 + 0x22) = sub_1466BDFB0(v17, v18, 1u);
          *((_QWORD *)a4 + 0x12) = 0xFFFFFFFFFFFFFFFFuLL;
        }
      }
    }
    v19 = a8;
    if ( a8 || (v20 = 0, n0x1E == 0x1E) )
      v20 = 1;
    if ( v14 <= 0 || v20 )
    {
      v67 = 0;
      if ( !a8 )
      {
        v67 = n0x1E == 0x1E;
        v19 = *((_QWORD *)sub_1465FEB70() + 0x1D);
        if ( n0x1E == 0x1E )
        {
          v67 = 1;
          if ( dword_149987C48 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
          {
            ++dword_149987C4C;
          }
          else
          {
            v21 = _InterlockedIncrement64(&qword_149987C40);
            if ( (v21 & 0x200000) != 0 )
            {
              sub_1403CD0A0(
                &qword_149987C40,
                v21,
                (__int64)"ChangeRequest<struct pe_params>::ChangeRequest",
                (__int64)"command_queue_t::command_queue_manager.m_tls_queue_lock",
                1);
              v67 = 1;
            }
          }
        }
      }
      v22 = _InterlockedIncrement64(&qword_149987BE8);
      if ( (v22 & 0x200000) != 0 )
        sub_1403CD0A0(
          &qword_149987BE8,
          v22,
          (__int64)"ChangeRequest<struct pe_params>::ChangeRequest",
          (__int64)"command_queue_t::command_queue_manager.m_queue_swap_lock",
          1);
      v23 = (volatile signed __int64 *)(v19 + 0x50);
      v24 = _InterlockedCompareExchange64((volatile signed __int64 *)(v19 + 0x50), 0x200000, 0);
      if ( v24 )
        sub_1403DE750(
          v19 + 0x50,
          v24,
          0,
          (__int64)"ChangeRequest<struct pe_params>::ChangeRequest",
          (__int64)"queue->m_queueLock",
          1);
      _InterlockedExchangeAdd(v11 + 0x3F, 0x20000u);
      v25 = 0;
      v26 = *a4;
      for ( i = (int *)qword_151467E60[v26]; i; i = (int *)*((_QWORD *)i + 2) )
      {
        if ( (unsigned __int64)(*(_QWORD *)((char *)a4 + *i) - 1LL) <= 0xFFFFFFFFFFFFFFFDuLL )
        {
          v28 = i[2];
          v29 = 0;
          if ( v28 > 0 )
            v29 = i[2];
          v25 += i[3] * (i[1] + ((-v28 >> 0x1F) & *(int *)((char *)a4 + v29)));
        }
      }
      v30 = v25 + dword_151467CE0[v26] + 0x10;
      sub_1465BBAD0(v19, v30);
      v31 = v19 + 0x58;
      if ( *(_DWORD *)(v19 + 0x34) != 2 )
        v31 = *(_QWORD *)(v19 + 0x20);
      v32 = *(_QWORD *)(v31 + 8LL * *(int *)(v19 + 0x30) - 8);
      if ( *(_QWORD *)(v32 + 0x1FF0) )
        v32 = *(_QWORD *)(v32 + 0x1FF0);
      *(_DWORD *)(*(int *)(v19 + 0x40) + v32) = 0;
      v33 = *(int *)(v19 + 0x30);
      v34 = *(_DWORD *)(v19 + 0x40) + 4;
      *(_DWORD *)(v19 + 0x40) = v34;
      v35 = *(_QWORD *)(v31 + 8 * v33 - 8);
      v36 = v19 + 0x58;
      if ( *(_QWORD *)(v35 + 0x1FF0) )
        v35 = *(_QWORD *)(v35 + 0x1FF0);
      *(_DWORD *)(v34 + v35) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v19 + 0x34) != 2 )
        v36 = *(_QWORD *)(v19 + 0x20);
      v37 = *(_QWORD *)(v36 + 8LL * *(int *)(v19 + 0x30) - 8);
      if ( *(_QWORD *)(v37 + 0x1FF0) )
        v37 = *(_QWORD *)(v37 + 0x1FF0);
      *(_DWORD *)(*(int *)(v19 + 0x40) + v37) = v30;
      v38 = *(int *)(v19 + 0x30);
      v39 = *(_DWORD *)(v19 + 0x40) + 4;
      *(_DWORD *)(v19 + 0x40) = v39;
      v40 = *(_QWORD *)(v36 + 8 * v38 - 8);
      v41 = v19 + 0x58;
      if ( *(_QWORD *)(v40 + 0x1FF0) )
        v40 = *(_QWORD *)(v40 + 0x1FF0);
      *(_DWORD *)(v39 + v40) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v19 + 0x34) != 2 )
        v41 = *(_QWORD *)(v19 + 0x20);
      v42 = *(_QWORD *)(v41 + 8LL * *(int *)(v19 + 0x30) - 8);
      if ( *(_QWORD *)(v42 + 0x1FF0) )
        v42 = *(_QWORD *)(v42 + 0x1FF0);
      *(_QWORD *)(*(int *)(v19 + 0x40) + v42) = v11;
      v43 = *(int *)(v19 + 0x30);
      v44 = *(_DWORD *)(v19 + 0x40) + 8;
      *(_DWORD *)(v19 + 0x40) = v44;
      v45 = *(_QWORD *)(v41 + 8 * v43 - 8);
      if ( *(_QWORD *)(v45 + 0x1FF0) )
        v45 = *(_QWORD *)(v45 + 0x1FF0);
      *(_DWORD *)(v44 + v45) = 0xFFFFFFFF;
      *(_QWORD *)(a1 + 0x10) = sub_1467D5E20(v19, a4, (unsigned int)dword_151467CE0[*a4]);
      v46 = (int *)qword_151467E60[*a4];
      if ( v46 )
      {
        do
        {
          v47 = v46[2];
          v48 = 0;
          if ( v47 > 0 )
            v48 = v46[2];
          v49 = (-v47 >> 0x1F) & *(int *)((char *)a4 + v48);
          v50 = *(char **)((char *)a4 + *v46);
          Size = v46[3] * (v46[1] + v49);
          if ( (unsigned __int64)(v50 + 0xFFFFFFFF) <= 0xFFFFFFFFFFFFFFFDuLL && Size >= 0 )
          {
            v52 = v19 + 0x58;
            if ( *(_DWORD *)(v19 + 0x34) != 2 )
              v52 = *(_QWORD *)(v19 + 0x20);
            v53 = *(_QWORD *)(v52 + 8LL * *(int *)(v19 + 0x30) - 8);
            if ( *(_QWORD *)(v53 + 0x1FF0) )
              v53 = *(_QWORD *)(v53 + 0x1FF0);
            v54 = (void *)(v53 + *(int *)(v19 + 0x40));
            memcpy(v54, v50, Size);
            v55 = *(int *)(v19 + 0x30);
            v56 = Size + *(_DWORD *)(v19 + 0x40);
            *(_DWORD *)(v19 + 0x40) = v56;
            v57 = *(_QWORD *)(v52 + 8 * v55 - 8);
            if ( *(_QWORD *)(v57 + 0x1FF0) )
              v57 = *(_QWORD *)(v57 + 0x1FF0);
            *(_DWORD *)(v56 + v57) = 0xFFFFFFFF;
            *(_QWORD *)(*v46 + *(_QWORD *)(a1 + 0x10)) = v54;
          }
          v46 = (int *)*((_QWORD *)v46 + 2);
        }
        while ( v46 );
        v11 = (volatile signed __int32 *)a2;
        v23 = (volatile signed __int64 *)(v19 + 0x50);
      }
      n0xB = (*(__int64 (__fastcall **)(volatile signed __int32 *))(*(_QWORD *)v11 + 8LL))(v11);
      if ( n0xB == 0xB || n0xB == 6 )
        *(_DWORD *)(a1 + 0x24) = (*((_DWORD *)v11 + 0x3F) >> 0x11) + 1;
      n0x23 = *a4;
      if ( *a4 == 0x31 )
      {
        v60 = *((_QWORD *)a4 + 4);
        if ( v60 )
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v60 + 0x10LL))(v60);
      }
      else if ( n0x23 == 0xF )
      {
        v61 = (-(a4[2] & 0x20) >> 0x1F) & 0x4000 | (-(~(unsigned __int16)a4[3] & 0x400) >> 0x1F) & 0x8000;
        _m_prefetchw((const void *)(v11 + 0x3F));
        _InterlockedOr(v11 + 0x3F, v61);
      }
      else if ( n0x23 == 0x23 )
      {
        _m_prefetchw((const void *)(v11 + 0x3F));
        v62 = *((_DWORD *)v11 + 0x3F);
        do
        {
          v63 = v62;
          v62 = _InterlockedCompareExchange(v11 + 0x3F, v62 | 0x2000, v62);
        }
        while ( v63 != v62 );
      }
      *(_DWORD *)(a1 + 0x20) = 1;
      if ( v23 )
      {
        n0x200000 = _InterlockedCompareExchange64(v23, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0(v23, n0x200000);
      }
      v65 = _InterlockedDecrement64(&qword_149987BE8);
      if ( (v65 & 0x3FF) == 0 && (v65 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(&qword_149987BE8, v65);
      if ( v67 )
        sub_1402D42F0((__int64)&qword_149987C40);
    }
    if ( !*a4
      && (HIDWORD(*((_QWORD *)a4 + 1)) & 0xFFF40000) != 0xFFF40000
      && (a4[0xE] & 0x10) == 0
      && (v11[0x3F] & 0x10000) == 0 )
    {
      _InterlockedExchangeAdd(v11 + 0x3F, 0x10000u);
    }
    return a1;
  }
  else
  {
    *(_DWORD *)(a1 + 0x20) = 1;
    *(_QWORD *)(a1 + 0x10) = &dword_151461634;
    return a1;
  }
}

// --- End Function: sub_14676ED20 (0x14676ED20) ---

// --- Function: sub_14676F3E0 (0x14676F3E0) ---
__int64 __fastcall sub_14676F3E0(
        __int64 a1,
        __int64 a2,
        __int64 a3,
        __int64 a4,
        int a5,
        __int64 a6,
        int a7,
        __int64 a8)
{
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 TlsIndex; // rdx
  __int64 v12; // rax
  unsigned int n7; // edx
  int n0x1E; // r12d
  int v15; // ecx
  __int64 v17; // rbx
  int v18; // eax
  bool v19; // r15
  signed __int64 v20; // rdx
  signed __int64 v21; // rdx
  __int64 v22; // rax
  __int64 v23; // r8
  __int64 v24; // rcx
  __int64 v25; // rax
  int v26; // edx
  __int64 v27; // rcx
  __int64 v28; // r8
  __int64 v29; // rcx
  __int64 v30; // rax
  int v31; // edx
  __int64 v32; // rcx
  __int64 v33; // r8
  __int64 v34; // rcx
  __int64 v35; // rax
  int v36; // edx
  __int64 v37; // rcx
  __int64 v38; // r8
  __int64 v39; // rdx
  __int64 v40; // rax
  int v41; // edx
  __int64 v42; // rcx
  __int64 v43; // r8
  __int64 v44; // rdx
  __int64 v45; // rax
  int v46; // edx
  __int64 v47; // rcx
  __int64 v48; // rcx
  __int64 v49; // rdx
  __int64 v50; // rcx
  __int64 v51; // rax
  __int64 v52; // rdx
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v54; // rsi

  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  *(_QWORD *)(a1 + 8) = a2;
  TlsIndex = (unsigned int)::TlsIndex;
  *(_QWORD *)a1 = a3;
  *(_QWORD *)(a1 + 0x10) = 0;
  *(_QWORD *)(a1 + 0x18) = a4;
  v12 = ThreadLocalStoragePointer[TlsIndex];
  *(_DWORD *)(a1 + 0x20) = 0;
  *(_DWORD *)(a1 + 0x24) = 1;
  n7 = *(_DWORD *)(a2 + 0xF4);
  n0x1E = *(_DWORD *)(v12 + 0x800);
  if ( n7 == 0xFFFFFFFF && (*(_DWORD *)(a2 + 0xE8) & 0x3FFFFFFF) == 3 )
    v15 = ((a5 - 1) >> 0x1F) | a5;
  else
    v15 = a5;
  if ( v15 >= 0 && (*(_WORD *)(a2 + 0xEC) == 0x63 || n7 >= 7 || *(int *)(a2 + 0xE8) < 0) )
  {
    *(_DWORD *)(a1 + 0x20) = 1;
    *(_QWORD *)(a1 + 0x10) = &dword_151461634;
    return a1;
  }
  else
  {
    v17 = a8;
    if ( a8 || (v18 = 0, n0x1E == 0x1E) )
      v18 = 1;
    if ( v15 <= 0 || v18 )
    {
      v19 = 0;
      if ( !a8 )
      {
        v19 = n0x1E == 0x1E;
        v17 = *((_QWORD *)sub_1465FEB70() + 0x1D);
        if ( n0x1E == 0x1E )
        {
          if ( dword_149987C48 == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
          {
            ++dword_149987C4C;
          }
          else
          {
            v20 = _InterlockedIncrement64(&qword_149987C40);
            if ( (v20 & 0x200000) != 0 )
              sub_1403CD0A0(
                &qword_149987C40,
                v20,
                (__int64)"ChangeRequest<void>::ChangeRequest",
                (__int64)"command_queue_t::command_queue_manager.m_tls_queue_lock",
                1);
          }
        }
      }
      v21 = _InterlockedIncrement64(&qword_149987BE8);
      if ( (v21 & 0x200000) != 0 )
        sub_1403CD0A0(
          &qword_149987BE8,
          v21,
          (__int64)"ChangeRequest<void>::ChangeRequest",
          (__int64)"command_queue_t::command_queue_manager.m_queue_swap_lock",
          1);
      v22 = _InterlockedCompareExchange64((volatile signed __int64 *)(v17 + 0x50), 0x200000, 0);
      if ( v22 )
        sub_1403DE750(
          v17 + 0x50,
          v22,
          0,
          (__int64)"ChangeRequest<void>::ChangeRequest",
          (__int64)"queue->m_queueLock",
          1);
      _InterlockedExchangeAdd((volatile signed __int32 *)(a2 + 0xFC), 0x20000u);
      sub_1465BBAD0(v17, 0x1C);
      v23 = v17 + 0x58;
      if ( *(_DWORD *)(v17 + 0x34) != 2 )
        v23 = *(_QWORD *)(v17 + 0x20);
      v24 = *(_QWORD *)(v23 + 8LL * *(int *)(v17 + 0x30) - 8);
      if ( *(_QWORD *)(v24 + 0x1FF0) )
        v24 = *(_QWORD *)(v24 + 0x1FF0);
      *(_DWORD *)(*(int *)(v17 + 0x40) + v24) = 3;
      v25 = *(int *)(v17 + 0x30);
      v26 = *(_DWORD *)(v17 + 0x40) + 4;
      *(_DWORD *)(v17 + 0x40) = v26;
      v27 = *(_QWORD *)(v23 + 8 * v25 - 8);
      v28 = v17 + 0x58;
      if ( *(_QWORD *)(v27 + 0x1FF0) )
        v27 = *(_QWORD *)(v27 + 0x1FF0);
      *(_DWORD *)(v26 + v27) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v17 + 0x34) != 2 )
        v28 = *(_QWORD *)(v17 + 0x20);
      v29 = *(_QWORD *)(v28 + 8LL * *(int *)(v17 + 0x30) - 8);
      if ( *(_QWORD *)(v29 + 0x1FF0) )
        v29 = *(_QWORD *)(v29 + 0x1FF0);
      *(_DWORD *)(*(int *)(v17 + 0x40) + v29) = 0x1C;
      v30 = *(int *)(v17 + 0x30);
      v31 = *(_DWORD *)(v17 + 0x40) + 4;
      *(_DWORD *)(v17 + 0x40) = v31;
      v32 = *(_QWORD *)(v28 + 8 * v30 - 8);
      v33 = v17 + 0x58;
      if ( *(_QWORD *)(v32 + 0x1FF0) )
        v32 = *(_QWORD *)(v32 + 0x1FF0);
      *(_DWORD *)(v31 + v32) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v17 + 0x34) != 2 )
        v33 = *(_QWORD *)(v17 + 0x20);
      v34 = *(_QWORD *)(v33 + 8LL * *(int *)(v17 + 0x30) - 8);
      if ( *(_QWORD *)(v34 + 0x1FF0) )
        v34 = *(_QWORD *)(v34 + 0x1FF0);
      *(_QWORD *)(*(int *)(v17 + 0x40) + v34) = a2;
      v35 = *(int *)(v17 + 0x30);
      v36 = *(_DWORD *)(v17 + 0x40) + 8;
      *(_DWORD *)(v17 + 0x40) = v36;
      v37 = *(_QWORD *)(v33 + 8 * v35 - 8);
      v38 = v17 + 0x58;
      if ( *(_QWORD *)(v37 + 0x1FF0) )
        v37 = *(_QWORD *)(v37 + 0x1FF0);
      *(_DWORD *)(v36 + v37) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v17 + 0x34) != 2 )
        v38 = *(_QWORD *)(v17 + 0x20);
      v39 = *(_QWORD *)(v38 + 8LL * *(int *)(v17 + 0x30) - 8);
      if ( *(_QWORD *)(v39 + 0x1FF0) )
        v39 = *(_QWORD *)(v39 + 0x1FF0);
      *(_QWORD *)(*(int *)(v17 + 0x40) + v39) = a6;
      v40 = *(int *)(v17 + 0x30);
      v41 = *(_DWORD *)(v17 + 0x40) + 8;
      *(_DWORD *)(v17 + 0x40) = v41;
      v42 = *(_QWORD *)(v38 + 8 * v40 - 8);
      v43 = v17 + 0x58;
      if ( *(_QWORD *)(v42 + 0x1FF0) )
        v42 = *(_QWORD *)(v42 + 0x1FF0);
      *(_DWORD *)(v41 + v42) = 0xFFFFFFFF;
      if ( *(_DWORD *)(v17 + 0x34) != 2 )
        v43 = *(_QWORD *)(v17 + 0x20);
      v44 = *(_QWORD *)(v43 + 8LL * *(int *)(v17 + 0x30) - 8);
      if ( *(_QWORD *)(v44 + 0x1FF0) )
        v44 = *(_QWORD *)(v44 + 0x1FF0);
      *(_DWORD *)(*(int *)(v17 + 0x40) + v44) = a7;
      v45 = *(int *)(v17 + 0x30);
      v46 = *(_DWORD *)(v17 + 0x40) + 4;
      *(_DWORD *)(v17 + 0x40) = v46;
      v47 = *(_QWORD *)(v43 + 8 * v45 - 8);
      if ( *(_QWORD *)(v47 + 0x1FF0) )
        v47 = *(_QWORD *)(v47 + 0x1FF0);
      *(_DWORD *)(v46 + v47) = 0xFFFFFFFF;
      v48 = v17 + 0x58;
      if ( *(_DWORD *)(v17 + 0x34) != 2 )
        v48 = *(_QWORD *)(v17 + 0x20);
      v49 = v48 + 8LL * *(int *)(v17 + 0x30);
      v50 = *(_QWORD *)(v49 - 8);
      if ( *(_QWORD *)(v50 + 0x1FF0) )
        v50 = *(_QWORD *)(v50 + 0x1FF0);
      v51 = *(int *)(v17 + 0x40);
      *(_DWORD *)(v17 + 0x40) = v51;
      v52 = *(_QWORD *)(v49 - 8);
      if ( *(_QWORD *)(v52 + 0x1FF0) )
        v52 = *(_QWORD *)(v52 + 0x1FF0);
      *(_DWORD *)(v52 + v51) = 0xFFFFFFFF;
      *(_QWORD *)(a1 + 0x10) = v50 + v51;
      *(_DWORD *)(a1 + 0x20) = 1;
      if ( v17 != 0xFFFFFFFFFFFFFFB0uLL )
      {
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(v17 + 0x50), 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(v17 + 0x50), n0x200000);
      }
      v54 = _InterlockedDecrement64(&qword_149987BE8);
      if ( (v54 & 0x3FF) == 0 && (v54 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(&qword_149987BE8, v54);
      if ( v19 )
        sub_1402D42F0((__int64)&qword_149987C40);
    }
    return a1;
  }
}

// --- End Function: sub_14676F3E0 (0x14676F3E0) ---

// --- Function: sub_146771930 (0x146771930) ---
__int64 __fastcall sub_146771930(__int64 a1)
{
  __int64 n0x40; // rdi
  __int64 *v3; // rbx
  __int64 n0x40_1; // rsi
  __int64 v5; // rcx
  __int64 v6; // rcx
  _QWORD *v7; // rbx
  __int64 v8; // rcx

  *(_QWORD *)a1 = &off_148ACDFA0;
  sub_146921CE0(*(_QWORD *)(a1 + 0x2C0), a1);
  n0x40 = 0x40;
  v3 = (__int64 *)(a1 + 0xB90);
  n0x40_1 = 0x40;
  do
  {
    v5 = v3[1];
    v3[1] = 0;
    if ( v5 )
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v5 + 0x168LL))(v5, 0);
    v6 = *v3;
    *v3 = 0;
    if ( v6 )
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v6 + 0x168LL))(v6, 0);
    v3 += 0x31;
    --n0x40_1;
  }
  while ( n0x40_1 );
  if ( (*(_BYTE *)(a1 + 0x208) & 8) != 0 )
  {
    sub_1469550B0(*(_QWORD *)(a1 + 0x2C0), a1);
    *(_DWORD *)(a1 + 0x208) &= ~8u;
  }
  CRigidEntity::Shutdown(a1);
  v7 = (_QWORD *)(a1 + 0x6D98);
  do
  {
    v7 += 0xFFFFFFCF;
    --n0x40;
    memset(v7 + 1, 0xFF, 0x108u);
    if ( *v7 )
      (*(void (__fastcall **)(_QWORD, _QWORD))(*(_QWORD *)*v7 + 0x168LL))(*v7, 0);
    v8 = v7[0xFFFFFFFF];
    if ( v8 )
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v8 + 0x168LL))(v8, 0);
  }
  while ( n0x40 );
  sub_146771A70(a1 + 0xA40);
  _InterlockedExchangeAdd(&dword_151452EC4, 0xFFFFFFFF);
  return sub_146771880((_QWORD *)a1);
}

// --- End Function: sub_146771930 (0x146771930) ---

// --- Function: sub_146771B90 (0x146771B90) ---
__int64 __fastcall sub_146771B90(__int64 *a1)
{
  int v2; // r8d
  __int128 v6; // kr00_16
  __int64 result; // rax
  __int64 v9; // rcx
  __int64 v10; // r10
  float v11; // kr00_4
  __int64 v12; // rax
  __int64 v13; // [rsp+20h] [rbp-48h] BYREF
  int n0x1B; // [rsp+28h] [rbp-40h]
  int n0x1E; // [rsp+2Ch] [rbp-3Ch]
  __int64 v16; // [rsp+30h] [rbp-38h]
  __int64 v17; // [rsp+38h] [rbp-30h]
  int v18; // [rsp+40h] [rbp-28h]
  int v19; // [rsp+44h] [rbp-24h]
  float v20; // [rsp+48h] [rbp-20h]
  int v21; // [rsp+4Ch] [rbp-1Ch]
  int v22; // [rsp+50h] [rbp-18h]

  sub_1403E4CF0();
  v2 = *(_DWORD *)(*(_QWORD *)(*a1 + 0x2C0) + 0x28CLL);
  if ( v2 < 1 )
    v2 = 1;
  _XMM0 = 0;
  __asm { vcvtsi2sd xmm0, xmm0, rax }
  *((_QWORD *)&v6 + 1) = *((_QWORD *)&_XMM0 + 1);
  *(double *)&v6 = *(double *)&_XMM0 * *(double *)&qword_151467CD0;
  _XMM1 = v6;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  result = (unsigned int)(v2 - 1);
  *(float *)(*a1 + 0x9D0) = (float)(*(float *)&_XMM2 * (float)(1.0 / (float)v2))
                          + (float)((float)((float)(int)result * (float)(1.0 / (float)v2)) * *(float *)(*a1 + 0x9D0));
  v9 = *a1;
  v10 = *(_QWORD *)(*a1 + 0x2C0);
  v11 = *(float *)(*a1 + 0x9D0) * 1000.0;
  if ( v11 > *(float *)(v10 + 0x290) )
  {
    v12 = 0;
    n0x1E = 0x1E;
    v13 = 0;
    n0x1B = 0x1B;
    if ( v9 )
      v12 = v9 | (*(_QWORD *)(v9 + 8) << 0x30);
    v16 = v12;
    v17 = *(_QWORD *)(v9 + 0xC0);
    v18 = *(__int16 *)(v9 + 0xEC);
    v19 = *(__int16 *)(v9 + 0xEE);
    v20 = v11;
    v21 = *(_DWORD *)(v9 + 0x148);
    v22 = *(_DWORD *)(v9 + 0x4E0);
    return sub_1467674E0(v10, 2, (__int64)&v13, 0);
  }
  return result;
}

// --- End Function: sub_146771B90 (0x146771B90) ---

// --- Function: sub_146771CF0 (0x146771CF0) ---
__int64 __fastcall sub_146771CF0(__int64 a1, Parameter **p_Parameter)
{
  int v3; // ecx

  *(_QWORD *)a1 = *p_Parameter;
  *(_QWORD *)(a1 + 8) = p_Parameter[1];
  *(_QWORD *)(a1 + 0x10) = p_Parameter[2];
  *(_QWORD *)(a1 + 0x18) = p_Parameter[3];
  *(_QWORD *)(a1 + 0x20) = p_Parameter[4];
  *(_QWORD *)(a1 + 0x28) = p_Parameter[5];
  *(_QWORD *)(a1 + 0x30) = p_Parameter[6];
  *(_QWORD *)(a1 + 0x38) = p_Parameter[7];
  *(_QWORD *)(a1 + 0x40) = p_Parameter[8];
  *(_QWORD *)(a1 + 0x48) = p_Parameter[9];
  *(_QWORD *)(a1 + 0x50) = p_Parameter[0xA];
  *(_QWORD *)(a1 + 0x58) = p_Parameter[0xB];
  *(_QWORD *)(a1 + 0x60) = p_Parameter[0xC];
  *(_QWORD *)(a1 + 0x68) = p_Parameter[0xD];
  *(_QWORD *)(a1 + 0x70) = p_Parameter[0xE];
  *(_OWORD *)(a1 + 0x78) = *(_OWORD *)(p_Parameter + 0xF);
  *(double *)(a1 + 0x88) = *((double *)p_Parameter + 0x11);
  *(_DWORD *)(a1 + 0x90) = *((_DWORD *)p_Parameter + 0x24);
  *(_DWORD *)(a1 + 0x94) = *((_DWORD *)p_Parameter + 0x25);
  *(_DWORD *)(a1 + 0x98) = *((_DWORD *)p_Parameter + 0x26);
  *(_DWORD *)(a1 + 0x9C) = *((_DWORD *)p_Parameter + 0x27);
  *(_QWORD *)(a1 + 0xA0) = p_Parameter[0x14];
  *(_QWORD *)(a1 + 0xA8) = p_Parameter[0x15];
  *(_QWORD *)(a1 + 0xB0) = p_Parameter[0x16];
  *(_QWORD *)(a1 + 0xB8) = p_Parameter[0x17];
  *(_QWORD *)(a1 + 0xC0) = p_Parameter[0x18];
  *(_QWORD *)(a1 + 0xC8) = p_Parameter[0x19];
  *(_DWORD *)(a1 + 0xD0) = *((_DWORD *)p_Parameter + 0x34);
  *(_DWORD *)(a1 + 0xD4) = *((_DWORD *)p_Parameter + 0x35);
  *(_DWORD *)(a1 + 0xD8) = *((_DWORD *)p_Parameter + 0x36);
  *(_DWORD *)(a1 + 0xDC) = *((_DWORD *)p_Parameter + 0x37);
  *(_DWORD *)(a1 + 0xE0) = *((_DWORD *)p_Parameter + 0x38);
  *(_DWORD *)(a1 + 0xE4) = *((_DWORD *)p_Parameter + 0x39);
  *(_DWORD *)(a1 + 0xE8) = *((_DWORD *)p_Parameter + 0x3A);
  *(_DWORD *)(a1 + 0xEC) = *((_DWORD *)p_Parameter + 0x3B);
  *(_DWORD *)(a1 + 0xF0) = *((_DWORD *)p_Parameter + 0x3C);
  *(_DWORD *)(a1 + 0xF4) = *((_DWORD *)p_Parameter + 0x3D);
  *(_DWORD *)(a1 + 0xF8) = *((_DWORD *)p_Parameter + 0x3E);
  *(_DWORD *)(a1 + 0xFC) = *((_DWORD *)p_Parameter + 0x3F);
  *(_QWORD *)(a1 + 0x100) = p_Parameter[0x20];
  *(_QWORD *)(a1 + 0x108) = p_Parameter[0x21];
  *(_QWORD *)(a1 + 0x110) = p_Parameter[0x22];
  *(_DWORD *)(a1 + 0x118) = *((_DWORD *)p_Parameter + 0x46);
  *(_DWORD *)(a1 + 0x11C) = *((_DWORD *)p_Parameter + 0x47);
  *(_DWORD *)(a1 + 0x120) = *((_DWORD *)p_Parameter + 0x48);
  *(_DWORD *)(a1 + 0x124) = *((_DWORD *)p_Parameter + 0x49);
  *(_DWORD *)(a1 + 0x128) = *((_DWORD *)p_Parameter + 0x4A);
  *(_DWORD *)(a1 + 0x12C) = *((_DWORD *)p_Parameter + 0x4B);
  *(_DWORD *)(a1 + 0x130) = *((_DWORD *)p_Parameter + 0x4C);
  *(_OWORD *)(a1 + 0x138) = *(_OWORD *)(p_Parameter + 0x27);
  *(double *)(a1 + 0x148) = *((double *)p_Parameter + 0x29);
  *(_OWORD *)(a1 + 0x150) = *((_OWORD *)p_Parameter + 0x15);
  *(double *)(a1 + 0x160) = *((double *)p_Parameter + 0x2C);
  *(_QWORD *)(a1 + 0x168) = p_Parameter[0x2D];
  v3 = *(_DWORD *)(a1 + 0x170) ^ (*((_DWORD *)p_Parameter + 0x5C) ^ *(_DWORD *)(a1 + 0x170)) & 1;
  *(_DWORD *)(a1 + 0x170) = v3;
  *(_DWORD *)(a1 + 0x170) = v3 ^ (*((_DWORD *)p_Parameter + 0x5C) ^ v3) & 2;
  *(_WORD *)(a1 + 0x174) = *((_WORD *)p_Parameter + 0xBA);
  *(_WORD *)(a1 + 0x176) = *((_WORD *)p_Parameter + 0xBB);
  *(_WORD *)(a1 + 0x178) = *((_WORD *)p_Parameter + 0xBC);
  *(_WORD *)(a1 + 0x17A) = *((_WORD *)p_Parameter + 0xBD);
  *(_WORD *)(a1 + 0x17C) = *((_WORD *)p_Parameter + 0xBE);
  *(_WORD *)(a1 + 0x17E) = *((_WORD *)p_Parameter + 0xBF);
  *(_WORD *)(a1 + 0x180) = *((_WORD *)p_Parameter + 0xC0);
  *(_WORD *)(a1 + 0x182) = *((_WORD *)p_Parameter + 0xC1);
  *(_WORD *)(a1 + 0x184) = *((_WORD *)p_Parameter + 0xC2);
  *(_WORD *)(a1 + 0x186) = *((_WORD *)p_Parameter + 0xC3);
  *(_WORD *)(a1 + 0x188) = *((_WORD *)p_Parameter + 0xC4);
  *(_WORD *)(a1 + 0x18A) = *((_WORD *)p_Parameter + 0xC5);
  *(_WORD *)(a1 + 0x18C) = *((_WORD *)p_Parameter + 0xC6);
  *(_WORD *)(a1 + 0x18E) = *((_WORD *)p_Parameter + 0xC7);
  *(_WORD *)(a1 + 0x190) = *((_WORD *)p_Parameter + 0xC8);
  *(_WORD *)(a1 + 0x192) = *((_WORD *)p_Parameter + 0xC9);
  *(_WORD *)(a1 + 0x194) = *((_WORD *)p_Parameter + 0xCA);
  *(_WORD *)(a1 + 0x196) = *((_WORD *)p_Parameter + 0xCB);
  *(_WORD *)(a1 + 0x198) = *((_WORD *)p_Parameter + 0xCC);
  *(_WORD *)(a1 + 0x19A) = *((_WORD *)p_Parameter + 0xCD);
  *(_WORD *)(a1 + 0x19C) = *((_WORD *)p_Parameter + 0xCE);
  *(_WORD *)(a1 + 0x19E) = *((_WORD *)p_Parameter + 0xCF);
  *(_WORD *)(a1 + 0x1A0) = *((_WORD *)p_Parameter + 0xD0);
  *(_WORD *)(a1 + 0x1A2) = *((_WORD *)p_Parameter + 0xD1);
  *(_WORD *)(a1 + 0x1A4) = *((_WORD *)p_Parameter + 0xD2);
  *(_WORD *)(a1 + 0x1A6) = *((_WORD *)p_Parameter + 0xD3);
  *(_WORD *)(a1 + 0x1A8) = *((_WORD *)p_Parameter + 0xD4);
  *(_WORD *)(a1 + 0x1AA) = *((_WORD *)p_Parameter + 0xD5);
  *(_WORD *)(a1 + 0x1AC) = *((_WORD *)p_Parameter + 0xD6);
  *(_WORD *)(a1 + 0x1AE) = *((_WORD *)p_Parameter + 0xD7);
  return a1;
}

// --- End Function: sub_146771CF0 (0x146771CF0) ---

// --- Function: sub_146773990 (0x146773990) ---
__m256i *__fastcall sub_146773990(Parameter *Parameter, float a2)
{
  __m256i *result; // rax
  char *v3; // rbx
  unsigned __int64 v4; // r11
  unsigned __int64 v6; // rdx
  float v7; // xmm2_4
  __int64 v8; // r8
  __int64 v9; // r9
  __int64 v10; // rcx
  float *v11; // r10
  float v12; // xmm5_4
  float v13; // xmm7_4
  float *v16; // rax
  __int128 v19; // xmm11
  __int128 v20; // kr00_16
  float v21; // xmm13_4
  float v22; // xmm14_4
  float v23; // xmm15_4
  float v24; // xmm12_4
  __m128 v25; // xmm1
  __m128 v26; // xmm8
  __m128 v27; // kr00_16
  __m128 v28; // xmm0
  __m128 v29; // xmm10
  __m128 v30; // kr00_16
  float v31; // xmm7_4
  float v32; // xmm6_4
  float v33; // xmm4_4
  float v40; // xmm5_4
  float v41; // xmm4_4
  float v42; // xmm5_4
  float v43; // eax
  float v44; // xmm5_4
  float v45; // xmm0_4
  __m256i v46; // ymm1
  __int64 v47; // r8
  unsigned __int64 v48; // rcx
  __int64 v49; // [rsp+20h] [rbp-D8h]
  __int64 v50; // [rsp+30h] [rbp-C8h]
  _UNKNOWN *retaddr; // [rsp+F8h] [rbp+0h] BYREF
  float v52; // [rsp+100h] [rbp+8h]
  float v53; // [rsp+108h] [rbp+10h] BYREF
  float v54; // [rsp+110h] [rbp+18h]

  result = (__m256i *)&retaddr;
  v53 = a2;
  v3 = (char *)Parameter + 0x980;
  v54 = a2;
  v4 = 0;
  v6 = (__int64)(*((_QWORD *)Parameter + 0x131) - *((_QWORD *)Parameter + 0x130)) >> 5;
  v7 = a2;
  if ( v6 )
  {
    v8 = 0;
    v9 = 0x20 * v6;
    do
    {
      v10 = *(_QWORD *)v3;
      v11 = (float *)(v8 + *(_QWORD *)v3 + 0x18LL);
      if ( *v11 > 0.0 )
      {
        v12 = *(float *)(v8 + v10 + 4);
        v13 = *(float *)(v8 + v10 + 8);
        _XMM8 = *((unsigned __int64 *)Parameter + 0xD6);
        __asm { vcvtpd2ps xmm8, xmm8 }
        v16 = &v53;
        if ( *v11 <= v7 )
          v16 = (float *)(v8 + *(_QWORD *)v3 + 0x18LL);
        _XMM0 = *(unsigned int *)v16;
        __asm { vmaxss  xmm9, xmm0, xmm1 }
        v52 = *(float *)&_XMM9;
        *((double *)Parameter + 0xEC) = (float)((float)(*(float *)&_XMM8 * *(float *)(v8 + v10)) * *(float *)&_XMM9)
                                      + *((double *)Parameter + 0xEC);
        *((double *)Parameter + 0xED) = (float)((float)(*(float *)&_XMM8 * v12) * *(float *)&_XMM9)
                                      + *((double *)Parameter + 0xED);
        *((double *)Parameter + 0xEE) = (float)((float)(*(float *)&_XMM8 * v13) * *(float *)&_XMM9)
                                      + *((double *)Parameter + 0xEE);
        v20 = _XMM9;
        *(float *)&v20 = *(float *)&_XMM9 * *(float *)(v8 + v10 + 0x14);
        v19 = v20;
        v21 = *((float *)Parameter + 0x192);
        v22 = *((float *)Parameter + 0x191);
        v23 = *((float *)Parameter + 0x190);
        v24 = *((float *)Parameter + 0x193);
        v25 = (__m128)*(unsigned __int64 *)(v8 + v10 + 0xC);
        v27 = v25;
        v27.m128_f32[0] = v25.m128_f32[0] * *(float *)&_XMM9;
        v26 = v27;
        v28 = _mm_shuffle_ps(v25, v25, 0x55);
        v30 = v28;
        v30.m128_f32[0] = v28.m128_f32[0] * *(float *)&_XMM9;
        v29 = v30;
        v31 = (float)((float)(v21 * (float)(v28.m128_f32[0] * *(float *)&_XMM9)) - (float)(*(float *)&v19 * v22))
            + (float)(v26.m128_f32[0] * v24);
        v32 = (float)((float)(v23 * *(float *)&v19) - (float)(v21 * v26.m128_f32[0]))
            + (float)((float)(v28.m128_f32[0] * *(float *)&_XMM9) * v24);
        v33 = (float)((float)(v26.m128_f32[0] * v22) - (float)(v23 * (float)(v28.m128_f32[0] * *(float *)&_XMM9)))
            + (float)(*(float *)&v19 * v24);
        v30.m128_u64[1] = v26.m128_u64[1];
        *(double *)v30.m128_u64 = (float)((float)(v26.m128_f32[0] + (float)((float)(v32 * v21) - (float)(v33 * v22)))
                                        + (float)((float)(v32 * v21) - (float)(v33 * v22)))
                                * *((double *)Parameter + 0xBF);
        _XMM3 = v30;
        __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
        v30.m128_u64[1] = v29.m128_u64[1];
        *(double *)v30.m128_u64 = (float)((float)(v29.m128_f32[0] + (float)((float)(v33 * v23) - (float)(v31 * v21)))
                                        + (float)((float)(v33 * v23) - (float)(v31 * v21)))
                                * *((double *)Parameter + 0xC0);
        _XMM3 = v30;
        v30.m128_u64[1] = *((_QWORD *)&v19 + 1);
        __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
        *(double *)v30.m128_u64 = (float)((float)(*(float *)&v19 + (float)((float)(v31 * v22) - (float)(v32 * v23)))
                                        + (float)((float)(v31 * v22) - (float)(v32 * v23)))
                                * *((double *)Parameter + 0xC1);
        _XMM3 = v30;
        __asm { vcvtsd2ss xmm11, xmm3, xmm3 }
        v26.m128_f32[0] = (float)((float)(*(float *)&_XMM11 * v22) - (float)(*(float *)&_XMM10 * v21))
                        + (float)(*(float *)&_XMM9 * v24);
        v40 = (float)((float)(*(float *)&_XMM9 * v21) - (float)(*(float *)&_XMM11 * v23))
            + (float)(*(float *)&_XMM10 * v24);
        v41 = (float)((float)(*(float *)&_XMM10 * v23) - (float)(*(float *)&_XMM9 * v22))
            + (float)(*(float *)&_XMM11 * v24);
        *((double *)Parameter + 0xEF) = (float)((float)(*(float *)&_XMM9
                                                      + (float)((float)(v22 * v41) - (float)(v21 * v40)))
                                              + (float)((float)(v22 * v41) - (float)(v21 * v40)))
                                      + *((double *)Parameter + 0xEF);
        *((double *)Parameter + 0xF0) = (float)((float)(*(float *)&_XMM10
                                                      + (float)((float)(v21 * v26.m128_f32[0]) - (float)(v23 * v41)))
                                              + (float)((float)(v21 * v26.m128_f32[0]) - (float)(v23 * v41)))
                                      + *((double *)Parameter + 0xF0);
        *((double *)Parameter + 0xF1) = (float)((float)(*(float *)&_XMM11
                                                      + (float)((float)(v23 * v40) - (float)(v22 * v26.m128_f32[0])))
                                              + (float)((float)(v23 * v40) - (float)(v22 * v26.m128_f32[0])))
                                      + *((double *)Parameter + 0xF1);
        v42 = v52 / *v11;
        v43 = *(float *)(v8 + v10 + 8);
        v49 = *(_QWORD *)(v8 + v10);
        *((float *)Parameter + 0x1F6) = (float)(*(float *)&v49 * v42) + *((float *)Parameter + 0x1F6);
        *((float *)Parameter + 0x1F7) = (float)(v42 * *((float *)&v49 + 1)) + *((float *)Parameter + 0x1F7);
        *((float *)Parameter + 0x1F8) = (float)(v43 * v42) + *((float *)Parameter + 0x1F8);
        v44 = v52 / *v11;
        result = (__m256i *)*(unsigned int *)(v8 + v10 + 0x14);
        v50 = *(_QWORD *)(v8 + v10 + 0xC);
        *((float *)Parameter + 0x1F9) = (float)(*(float *)&v50 * v44) + *((float *)Parameter + 0x1F9);
        *((float *)Parameter + 0x1FA) = (float)(v44 * *((float *)&v50 + 1)) + *((float *)Parameter + 0x1FA);
        *((float *)Parameter + 0x1FB) = (float)(*(float *)&result * v44) + *((float *)Parameter + 0x1FB);
        v7 = v54;
      }
      v45 = *v11;
      *v11 = *v11 - v7;
      if ( (float)(v45 - v7) > 0.0 )
      {
        ++v4;
        v8 += 0x20;
      }
      else
      {
        v46 = *(__m256i *)(v8 + v10);
        *(__m256i *)(v8 + v10) = *(__m256i *)(v9 + v10 - 0x20);
        --v6;
        *(__m256i *)(v9 + v10 - 0x20) = v46;
        v9 -= 0x20;
      }
    }
    while ( v4 < v6 );
  }
  v47 = *(_QWORD *)v3;
  v48 = (__int64)(*((_QWORD *)v3 + 1) - *(_QWORD *)v3) >> 5;
  if ( v6 < v48 )
  {
    *((_QWORD *)v3 + 1) = v47 + 0x20 * v6;
    __asm { vzeroupper }
    return result;
  }
  if ( v6 > v48 )
  {
    if ( v6 > (*((_QWORD *)v3 + 2) - v47) >> 5 )
    {
      __asm { vzeroupper }
      result = (__m256i *)sub_14676ACA0((__int64)v3, v6);
      __asm { vzeroupper }
      return result;
    }
    __asm { vzeroupper }
    result = sub_14676C780(*((__m256i **)v3 + 1), v6 - v48);
    *((_QWORD *)v3 + 1) = result;
  }
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_146773990 (0x146773990) ---

// --- Function: sub_1467795E0 (0x1467795E0) ---
__int64 __fastcall sub_1467795E0(__int64 a1, __int64 a2, unsigned int a3)
{
  __int64 v3; // r15
  unsigned int v7; // r12d
  int n3; // eax
  double v9; // xmm4_8
  __int128 v10; // xmm13
  __int128 v11; // xmm0
  double v12; // xmm8_8
  __int128 n0x4118_2; // xmm9
  double v14; // xmm10_8
  double v15; // kr00_8
  double v16; // xmm14_8
  double v17; // xmm15_8
  __int128 v18; // kr00_16
  double v19; // xmm3_8
  double v20; // xmm11_8
  double v21; // xmm12_8
  double v22; // xmm5_8
  double v23; // xmm10_8
  double v24; // xmm4_8
  double v25; // xmm7_8
  double v26; // xmm8_8
  double v27; // xmm6_8
  double v28; // xmm4_8
  double v29; // xmm9_8
  double v30; // xmm5_8
  double v31; // xmm0_8
  double v32; // xmm7_8
  double v33; // xmm6_8
  double v34; // xmm0_8
  double v35; // xmm4_8
  double v36; // xmm5_8
  __int128 v37; // kr00_16
  double *v38; // rax
  __int128 v39; // kr00_16
  __m128 v42; // xmm1
  __int128 v43; // kr00_16
  double v44; // xmm6_8
  double v45; // kr00_8
  double v46; // xmm4_8
  __m128 v49; // xmm1
  double v50; // xmm2_8
  double v51; // xmm1_8
  double v52; // xmm0_8
  double v53; // xmm2_8
  double v54; // xmm1_8
  __int128 v55; // xmm4
  __int128 v58; // kr00_16
  double v65; // xmm3_8
  double v66; // xmm6_8
  double v67; // xmm7_8
  double v74; // xmm2_8
  double v75; // xmm1_8
  double v76; // xmm2_8
  double v77; // kr00_8
  __int64 v78; // rax
  __int64 v79; // rax
  int *p_n0x2800; // rcx
  __int64 v81; // rax
  __int64 *v82; // rbx
  __int64 v83; // rax
  unsigned __int64 n0x200000; // rax
  int v85; // edx
  int n0x400; // ecx
  __int64 v87; // kr00_8
  int n0x4118_4; // eax
  __int64 n0x4118_3; // r10
  __int64 v90; // rax
  __int64 v91; // r9
  __int64 v96; // r8
  __int64 v97; // rcx
  __int64 v98; // rax
  float v99; // xmm9_4
  float v100; // xmm15_4
  float v101; // xmm12_4
  float v102; // xmm13_4
  float v103; // xmm14_4
  float v104; // xmm10_4
  float v105; // xmm8_4
  float v106; // xmm6_4
  float v107; // xmm10_4
  float v108; // xmm8_4
  float v109; // xmm5_4
  __int64 v110; // rdx
  __int64 v111; // rax
  float v112; // xmm13_4
  float v113; // xmm14_4
  float v114; // xmm11_4
  float v115; // xmm12_4
  float v116; // xmm0_4
  float v117; // xmm1_4
  float v118; // xmm10_4
  float v119; // xmm3_4
  float v120; // xmm8_4
  float v121; // xmm0_4
  float v122; // xmm5_4
  __int64 v123; // rax
  float v124; // xmm13_4
  float v125; // xmm14_4
  float v126; // xmm11_4
  float v127; // xmm12_4
  float v128; // xmm7_4
  float v129; // xmm6_4
  __int64 v130; // rcx
  _DWORD *v131; // rdx
  __int64 v132; // rcx
  _DWORD *v133; // rdx
  __int64 v134; // rax
  __int64 v135; // rax
  __int64 v136; // rcx
  __int64 v137; // rcx
  float v138; // xmm2_4
  __int64 v139; // rcx
  __int64 v140; // rcx
  __int64 v141; // rcx
  int v142; // r8d
  __int64 v143; // rdx
  int v144; // ecx
  volatile signed __int64 *v145; // xmm6_8
  int v146; // eax
  float v147; // xmm0_4
  __int64 v148; // rcx
  float v149; // xmm0_4
  float v150; // xmm0_4
  float v151; // xmm1_4
  int v152; // eax
  __int64 v153; // rcx
  __int64 v154; // r9
  float v155; // eax
  __int64 v156; // rdx
  __int64 v157; // rcx
  __int64 v158; // rdx
  __int64 v159; // rax
  __int64 v160; // r8
  unsigned int v161; // r8d
  __int64 v162; // rdx
  __int64 v163; // rcx
  __int64 v164; // rdx
  __int64 v165; // rcx
  __int64 v166; // rdx
  int v167; // eax
  __int64 v168; // rcx
  __int64 v169; // r8
  float v170; // eax
  __int64 v171; // r12
  __int64 v172; // rdx
  __int64 v173; // rcx
  __int64 v174; // rax
  float X; // xmm0_4
  float v176; // xmm0_4
  __int64 v177; // rcx
  __int64 v178; // rdx
  __int64 v179; // rcx
  __int64 v180; // rdx
  int v181; // eax
  float v182; // r8d
  __int64 v183; // rdx
  __int64 v184; // rax
  __int64 v185; // rcx
  __int64 v186; // rax
  __int64 v187; // r8
  __int64 v188; // rax
  volatile signed __int64 *v189; // rcx
  unsigned __int64 n0x200000_1; // rax
  int v191; // eax
  int v192; // eax
  __int64 v193; // rax
  int v194; // eax
  __int64 i; // rbx
  __int64 v196; // rcx
  __int64 v197; // rax
  __int64 v198; // rcx
  __int64 v199; // rdx
  __int64 v200; // rcx
  int n0x3F; // edx
  __int64 n0x3F00; // rbx
  unsigned __int64 v203; // r14
  __int64 n0x40F8; // r12
  __int64 v205; // rcx
  __int64 n0x40F8_1; // r12
  unsigned __int64 v207; // rcx
  __int64 n0x81F; // r9
  __int64 n0x2B5; // r11
  int n0x3F_4; // eax
  __int64 n0x4118; // r10
  __int64 n0x3F00_1; // rbx
  __int64 n0x40F8_3; // rdx
  __int64 n0x3F0; // r8
  __int64 n0x3F_5; // r13
  __int64 v216; // rdx
  float *v217; // r8
  double *v218; // r13
  int n2_1; // r10d
  double v220; // xmm13_8
  double v221; // xmm1_8
  double *v222; // rdx
  double v223; // xmm11_8
  double v224; // xmm12_8
  __int64 v225; // rdx
  double v226; // xmm5_8
  double v227; // xmm4_8
  double v228; // xmm10_8
  double v229; // xmm8_8
  double v230; // xmm9_8
  double v231; // xmm6_8
  double v232; // xmm4_8
  double v233; // xmm7_8
  double v234; // xmm5_8
  double v235; // xmm4_8
  double v236; // kr00_8
  double v237; // xmm1_8
  __int64 v238; // rcx
  __int64 v239; // rax
  __int64 v240; // rax
  __int128 v241; // xmm1
  double v242; // xmm0_8
  __int64 v243; // rax
  float v244; // xmm11_4
  float v245; // xmm12_4
  float v246; // xmm13_4
  float v247; // xmm14_4
  float *v248; // rdx
  float v249; // xmm9_4
  float v250; // xmm5_4
  float v251; // xmm10_4
  float v252; // xmm8_4
  float v253; // xmm7_4
  float v254; // xmm6_4
  float v255; // xmm0_4
  __int64 v256; // rdx
  __int64 v257; // rax
  float v258; // xmm6_4
  float v259; // xmm4_4
  float v260; // xmm5_4
  float v261; // xmm7_4
  __int64 v262; // rcx
  float v263; // xmm8_4
  float v264; // xmm9_4
  float v265; // xmm10_4
  float v266; // kr00_4
  __int64 v267; // r9
  __int64 v268; // rcx
  float v269; // xmm13_4
  __int64 v270; // rax
  float v271; // xmm12_4
  float v272; // xmm10_4
  float v273; // xmm11_4
  float v274; // xmm9_4
  float v275; // xmm4_4
  float v276; // xmm7_4
  float v277; // xmm8_4
  float v278; // xmm6_4
  float v279; // xmm4_4
  __int64 v280; // rcx
  __int64 v281; // rcx
  __int64 v282; // r8
  int v283; // ecx
  __int64 v284; // r13
  __int64 *v285; // rdx
  __int64 v286; // rax
  int v287; // eax
  char n0x3F_6; // dl
  __int64 v289; // rcx
  __int64 v290; // rax
  __int64 v291; // rcx
  __int64 v292; // rdx
  _DWORD *v293; // rcx
  __int64 v294; // rcx
  __int64 v295; // rcx
  __int64 v296; // rcx
  __int64 v297; // rcx
  __int64 v298; // rcx
  __int64 v299; // rcx
  unsigned __int64 n0x200000_4; // rax
  int v301; // eax
  double v302; // xmm0_8
  int v303; // eax
  float v304; // xmm2_4
  float v305; // xmm1_4
  __m128 v306; // xmm2
  float v309; // xmm7_4
  float v310; // xmm11_4
  float v311; // xmm12_4
  float v312; // xmm14_4
  float v313; // xmm13_4
  float v314; // xmm15_4
  float v315; // xmm9_4
  float v316; // xmm8_4
  float v317; // xmm6_4
  __int128 v318; // kr00_16
  __int128 v319; // xmm4
  unsigned __int128 v320; // kr00_16
  unsigned __int128 v321; // xmm7
  __int128 v322; // kr00_16
  float v323; // xmm1_4
  float v324; // xmm11_4
  __int128 v325; // xmm5
  __int128 v326; // kr00_16
  __int128 v327; // kr00_16
  __int128 v328; // xmm4
  __int128 v329; // xmm2
  float v336; // xmm8_4
  double v337; // xmm9_8
  double v338; // xmm2_8
  double v339; // xmm8_8
  double v340; // xmm3_8
  double v341; // xmm5_8
  __int128 v342; // xmm6
  float v346; // kr00_4
  __int128 v348; // kr00_16
  __m128 v351; // xmm2
  double v355; // xmm3_8
  volatile signed __int64 *v357; // rbx
  __int64 v358; // rax
  bool v359; // cl
  unsigned int v360; // eax
  float v386; // edx
  __int64 v390; // rax
  __int64 v391; // r8
  __m256 *v392; // rdx
  signed __int64 v393; // rdx
  int n0x40; // edx
  unsigned __int64 v395; // rbx
  __int64 v396; // r14
  __int64 v397; // rsi
  unsigned __int64 v398; // rax
  _DWORD *v399; // rcx
  unsigned __int64 v400; // r12
  unsigned __int64 n0x200000_3; // rax
  __int64 v402; // rax
  float v407; // xmm2_4
  unsigned int v408; // r12d
  float v409; // xmm12_4
  float v410; // xmm13_4
  float v411; // xmm14_4
  float v412; // xmm10_4
  float v413; // xmm11_4
  float v414; // xmm5_4
  __int128 v415; // xmm4
  float v416; // xmm8_4
  __int128 v417; // kr00_16
  float v418; // eax
  __int128 v419; // xmm6
  __m128 v420; // xmm5
  __m128 v421; // kr00_16
  float v422; // xmm7_4
  __int128 v423; // kr00_16
  float v424; // xmm11_4
  __int128 v426; // kr00_16
  __m128 v428; // kr00_16
  float v430; // xmm4_4
  __m128 v437; // kr00_16
  float v440; // xmm1_4
  float v441; // xmm3_4
  float v442; // xmm9_4
  __m128 v443; // kr00_16
  __m128 v444; // xmm1
  unsigned int v445; // eax
  __int128 v446; // xmm7
  float v447; // xmm10_4
  __int128 v448; // xmm11
  float v449; // xmm13_4
  float v450; // xmm12_4
  float v451; // xmm14_4
  float v452; // xmm15_4
  __int128 v453; // kr00_16
  float v454; // xmm8_4
  __int128 v455; // xmm6
  float v456; // xmm0_4
  __int128 v457; // kr00_16
  __int128 v458; // xmm4
  __int128 v459; // xmm7
  __int128 v460; // kr00_16
  __int128 v461; // xmm5
  __int128 v462; // kr00_16
  __int128 v463; // kr00_16
  __int128 v464; // xmm4
  __int128 v465; // xmm2
  float v472; // xmm8_4
  __int64 v473; // rcx
  double v474; // xmm13_8
  double v476; // xmm0_8
  float v481; // xmm1_4
  float v482; // xmm2_4
  float v483; // xmm12_4
  float v484; // xmm13_4
  float v485; // xmm11_4
  float v486; // xmm14_4
  double v487; // xmm12_8
  double v488; // xmm13_8
  double v489; // xmm11_8
  double v490; // kr00_8
  double *v491; // rax
  double v492; // xmm5_8
  double v493; // xmm7_8
  double v494; // xmm8_8
  __int128 v495; // xmm15
  __int128 v496; // xmm10
  __int128 v497; // xmm6
  double v498; // xmm0_8
  double v499; // xmm5_8
  __int128 v504; // xmm2
  __int128 v506; // kr00_16
  float v510; // xmm9_4
  float v511; // xmm8_4
  float v512; // xmm6_4
  float v513; // xmm7_4
  float v514; // xmm5_4
  float v515; // xmm4_4
  __int128 v516; // kr00_16
  __int128 v517; // xmm15
  float v518; // kr00_4
  float v519; // xmm5_4
  __int64 v520; // rax
  double v521; // xmm4_8
  double v523; // xmm6_8
  __int128 v524; // kr00_16
  double v525; // xmm7_8
  double v527; // xmm1_8
  __int128 v534; // xmm5
  __m128 v541; // kr00_16
  float v544; // xmm1_4
  float v545; // xmm0_4
  float v546; // xmm1_4
  __int128 v547; // kr00_16
  float v554; // xmm1_4
  __int128 v557; // kr00_16
  unsigned __int64 n0x200000_2; // rax
  unsigned __int64 v561; // rdx
  unsigned __int64 v562; // rcx
  __int64 v563; // rdx
  float *v565; // [rsp+60h] [rbp-7C8h]
  int v566; // [rsp+70h] [rbp-7B8h]
  unsigned int v567; // [rsp+70h] [rbp-7B8h]
  int n0x40_1; // [rsp+70h] [rbp-7B8h]
  float v569; // [rsp+70h] [rbp-7B8h]
  float v570; // [rsp+74h] [rbp-7B4h]
  int v571; // [rsp+74h] [rbp-7B4h]
  int n0x2000000; // [rsp+74h] [rbp-7B4h]
  char v573; // [rsp+78h] [rbp-7B0h]
  unsigned int v574; // [rsp+80h] [rbp-7A8h]
  int n0x3F_1; // [rsp+80h] [rbp-7A8h]
  unsigned int n0x3F_2; // [rsp+80h] [rbp-7A8h]
  unsigned int v577; // [rsp+88h] [rbp-7A0h]
  unsigned int v578; // [rsp+88h] [rbp-7A0h]
  __int64 *v579; // [rsp+90h] [rbp-798h]
  __int64 n0x40F8_2; // [rsp+90h] [rbp-798h]
  unsigned int n2; // [rsp+98h] [rbp-790h]
  int n0x400_1; // [rsp+9Ch] [rbp-78Ch]
  int n2_2; // [rsp+9Ch] [rbp-78Ch]
  double v584; // [rsp+A0h] [rbp-788h]
  __int64 v585; // [rsp+A0h] [rbp-788h]
  __int64 v586; // [rsp+A0h] [rbp-788h]
  unsigned __int64 v587; // [rsp+A0h] [rbp-788h]
  float v588; // [rsp+A8h] [rbp-780h] BYREF
  float v589; // [rsp+ACh] [rbp-77Ch]
  float v590; // [rsp+B0h] [rbp-778h]
  float v591; // [rsp+B4h] [rbp-774h]
  float v592; // [rsp+B8h] [rbp-770h]
  float v593; // [rsp+BCh] [rbp-76Ch]
  float v594; // [rsp+C0h] [rbp-768h]
  float v595; // [rsp+C4h] [rbp-764h]
  __int64 n0x4118_1; // [rsp+C8h] [rbp-760h]
  double v597; // [rsp+D0h] [rbp-758h]
  float v598; // [rsp+D8h] [rbp-750h]
  __int64 n0x2B5_1; // [rsp+E0h] [rbp-748h]
  double v600; // [rsp+E8h] [rbp-740h]
  __int64 v601; // [rsp+F0h] [rbp-738h] BYREF
  __int64 n0x3F_3; // [rsp+F8h] [rbp-730h]
  __int64 n0x81F_1; // [rsp+100h] [rbp-728h]
  __m256 v604; // [rsp+108h] [rbp-720h] BYREF
  __int128 v605; // [rsp+128h] [rbp-700h] BYREF
  __int64 v606; // [rsp+138h] [rbp-6F0h]
  __int128 v607; // [rsp+140h] [rbp-6E8h] BYREF
  __int64 v608; // [rsp+150h] [rbp-6D8h]
  double v609; // [rsp+158h] [rbp-6D0h]
  double v610; // [rsp+160h] [rbp-6C8h]
  float v611; // [rsp+168h] [rbp-6C0h]
  __int128 v612; // [rsp+170h] [rbp-6B8h]
  volatile signed __int64 *v613; // [rsp+180h] [rbp-6A8h] BYREF
  float v614; // [rsp+188h] [rbp-6A0h]
  volatile signed __int64 *v615; // [rsp+190h] [rbp-698h] BYREF
  float v616; // [rsp+198h] [rbp-690h]
  volatile signed __int64 *v617; // [rsp+1A0h] [rbp-688h] BYREF
  float v618; // [rsp+1A8h] [rbp-680h]
  volatile signed __int64 *v619; // [rsp+1B0h] [rbp-678h] BYREF
  float v620; // [rsp+1B8h] [rbp-670h]
  double v621; // [rsp+1C0h] [rbp-668h]
  double v622; // [rsp+1C8h] [rbp-660h]
  __int64 v623; // [rsp+1D0h] [rbp-658h]
  __int64 v624; // [rsp+1D8h] [rbp-650h]
  double v625; // [rsp+1E0h] [rbp-648h]
  int n0x2800_2; // [rsp+1F0h] [rbp-638h] BYREF
  __int64 v627; // [rsp+1F4h] [rbp-634h]
  int v628; // [rsp+1FCh] [rbp-62Ch]
  __int64 v629; // [rsp+200h] [rbp-628h]
  unsigned __int64 v630; // [rsp+208h] [rbp-620h]
  __int64 v631; // [rsp+210h] [rbp-618h]
  __int64 v632; // [rsp+218h] [rbp-610h]
  int n0x2800_1; // [rsp+240h] [rbp-5E8h] BYREF
  __int64 v634; // [rsp+244h] [rbp-5E4h]
  int v635; // [rsp+24Ch] [rbp-5DCh]
  __int64 v636; // [rsp+250h] [rbp-5D8h]
  unsigned __int64 v637; // [rsp+258h] [rbp-5D0h]
  __int64 v638; // [rsp+260h] [rbp-5C8h]
  __int64 v639; // [rsp+268h] [rbp-5C0h]
  int n0x2800_3; // [rsp+290h] [rbp-598h] BYREF
  __int64 v641; // [rsp+294h] [rbp-594h]
  int v642; // [rsp+29Ch] [rbp-58Ch]
  __int64 v643; // [rsp+2A0h] [rbp-588h]
  unsigned __int64 v644; // [rsp+2A8h] [rbp-580h]
  __int64 v645; // [rsp+2B0h] [rbp-578h]
  __int64 v646; // [rsp+2B8h] [rbp-570h]
  int n0x2800_4; // [rsp+2E0h] [rbp-548h] BYREF
  __int64 v648; // [rsp+2E4h] [rbp-544h]
  int v649; // [rsp+2ECh] [rbp-53Ch]
  __int64 v650; // [rsp+2F0h] [rbp-538h]
  unsigned __int64 v651; // [rsp+2F8h] [rbp-530h]
  __int64 v652; // [rsp+300h] [rbp-528h]
  __int64 v653; // [rsp+308h] [rbp-520h]
  int n0x2800_5; // [rsp+330h] [rbp-4F8h] BYREF
  __int64 v655; // [rsp+334h] [rbp-4F4h]
  int v656; // [rsp+33Ch] [rbp-4ECh]
  __int64 v657; // [rsp+340h] [rbp-4E8h]
  unsigned __int64 v658; // [rsp+348h] [rbp-4E0h]
  __int64 v659; // [rsp+350h] [rbp-4D8h]
  __int64 v660; // [rsp+358h] [rbp-4D0h]
  int n0x2800_6; // [rsp+380h] [rbp-4A8h] BYREF
  __int64 v662; // [rsp+384h] [rbp-4A4h]
  int v663; // [rsp+38Ch] [rbp-49Ch]
  __int64 v664; // [rsp+390h] [rbp-498h]
  unsigned __int64 v665; // [rsp+398h] [rbp-490h]
  __int64 v666; // [rsp+3A0h] [rbp-488h]
  __int64 v667; // [rsp+3A8h] [rbp-480h]
  int n0x2800_7; // [rsp+3D0h] [rbp-458h] BYREF
  __int64 v669; // [rsp+3D4h] [rbp-454h]
  int v670; // [rsp+3DCh] [rbp-44Ch]
  __int64 v671; // [rsp+3E0h] [rbp-448h]
  unsigned __int64 v672; // [rsp+3E8h] [rbp-440h]
  __int64 v673; // [rsp+3F0h] [rbp-438h]
  __int64 v674; // [rsp+3F8h] [rbp-430h]
  int n0x2800; // [rsp+420h] [rbp-408h] BYREF
  __int64 v676; // [rsp+424h] [rbp-404h]
  int v677; // [rsp+42Ch] [rbp-3FCh]
  __int64 v678; // [rsp+430h] [rbp-3F8h]
  unsigned __int64 v679; // [rsp+438h] [rbp-3F0h]
  __int64 v680; // [rsp+440h] [rbp-3E8h]
  __int64 v681; // [rsp+448h] [rbp-3E0h]
  double v682[3]; // [rsp+470h] [rbp-3B8h] BYREF
  double v683[3]; // [rsp+488h] [rbp-3A0h] BYREF
  __int128 v684; // [rsp+4A0h] [rbp-388h] BYREF
  __int64 v685; // [rsp+4B0h] [rbp-378h]
  __int128 v686; // [rsp+4C0h] [rbp-368h] BYREF
  __int64 v687; // [rsp+4D0h] [rbp-358h]
  __int128 v688; // [rsp+4E0h] [rbp-348h] BYREF
  __int64 v689; // [rsp+4F0h] [rbp-338h]
  __int128 v690; // [rsp+500h] [rbp-328h] BYREF
  __int64 v691; // [rsp+510h] [rbp-318h]
  __int128 v692; // [rsp+520h] [rbp-308h] BYREF
  __int64 v693; // [rsp+530h] [rbp-2F8h]
  __int128 v694; // [rsp+540h] [rbp-2E8h] BYREF
  __int64 v695; // [rsp+550h] [rbp-2D8h]
  __int128 v696; // [rsp+560h] [rbp-2C8h] BYREF
  __int64 v697; // [rsp+570h] [rbp-2B8h]
  __int128 v698; // [rsp+580h] [rbp-2A8h] BYREF
  __int64 v699; // [rsp+590h] [rbp-298h]
  __int128 v700; // [rsp+5A0h] [rbp-288h] BYREF
  double v701; // [rsp+5B0h] [rbp-278h]
  char v702[24]; // [rsp+5B8h] [rbp-270h] BYREF
  __int64 v703; // [rsp+5D0h] [rbp-258h]
  int v704; // [rsp+5D8h] [rbp-250h]
  unsigned int v705; // [rsp+5DCh] [rbp-24Ch]
  double v706; // [rsp+5F0h] [rbp-238h]
  char v707[24]; // [rsp+5F8h] [rbp-230h] BYREF
  char v708[32]; // [rsp+610h] [rbp-218h] BYREF
  _DWORD v709[68]; // [rsp+630h] [rbp-1F8h] BYREF

  n0x2800 = 0x2800;
  v3 = 0;
  v676 = 0;
  v677 = 0;
  v679 = 0;
  v680 = 0;
  v681 = 0;
  v678 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( !(*(unsigned __int8 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x368LL))(a1, a2, a3) )
  {
    v7 = 0;
    goto LABEL_392;
  }
  sub_14676E130((__int64)v702, a1, *(_QWORD *)(a1 + 0x2C0), (int *)a2, a3, 0, 0, 0);
  if ( v704 )
  {
    v7 = v705;
    goto LABEL_384;
  }
  n3 = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 == 1 )
  {
    n0x2800_1 = 0x2800;
    v634 = 0;
    v635 = 0;
    v637 = 0;
    v638 = 0;
    v639 = 0;
    v636 = 1;
    qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
    v9 = *(double *)(a1 + 0x6B8);
    v10 = 0;
    v584 = v9;
    if ( v9 > 0.0 )
    {
      v11 = *(unsigned int *)(a2 + 0x10);
      v566 = *(_DWORD *)(a2 + 0x10);
      v12 = *(float *)(a2 + 4);
      n0x4118_2 = COERCE_UNSIGNED_INT64(*(float *)(a2 + 8));
      v15 = *(float *)(a2 + 0xC);
      v14 = v15;
      v600 = v12;
      n0x4118_1 = *(__int64 *)&n0x4118_2;
      *(double *)&n0x2B5_1 = v15;
      v16 = 0.0;
      v17 = 0.0;
      if ( (v566 & 0xFFA00000) != 0xFFA00000 )
      {
        v16 = *(float *)(a2 + 0x14);
        v17 = *(float *)(a2 + 0x18);
        *((_QWORD *)&v18 + 1) = *((_QWORD *)&v11 + 1);
        *(double *)&v18 = *(float *)&v11;
        v10 = v18;
      }
      v19 = *(double *)(a2 + 0x20);
      v622 = v19;
      if ( (HIDWORD(v19) & 0xFFF40000) != 0xFFF40000 )
      {
        if ( *(_DWORD *)(a2 + 0x44) )
        {
          v20 = *(double *)(a2 + 0x30);
          v21 = *(double *)(a2 + 0x28);
          v22 = *(float *)(a1 + 0x1E0);
          v23 = *(float *)(a1 + 0x1DC);
          v24 = *(float *)(a1 + 0x1E4);
          v25 = *(float *)(a1 + 0x1D8);
          v26 = v20 * v23 - v21 * v22 + v19 * v24;
          v27 = v19 * v22 - v20 * v25 + v21 * v24;
          v28 = v21 * v25 - v23 * *(double *)(a2 + 0x20) + v20 * v24;
          v29 = v28 * v23 - v27 * v22;
          v30 = v26 * v22 - v28 * v25;
          v31 = v26 * v23;
          v12 = v600;
          v14 = *(double *)&n0x2B5_1;
          v32 = v20 + *(double *)(a1 + 0x1D0) + v27 * v25 - v31 + v27 * v25 - v31 - *(double *)(a1 + 0x638);
          v33 = v21 + *(double *)(a1 + 0x1C8) + v30 + v30 - *(double *)(a1 + 0x630);
          v34 = v29 + v29;
          n0x4118_2 = (unsigned __int64)n0x4118_1;
          v35 = (*(double *)(a2 + 0x20) + *(double *)(a1 + 0x1C0) + v34 - *(double *)(a1 + 0x628))
              * *(double *)&n0x4118_1
              - v33 * v600;
          v16 = v16
              + v32 * v600
              - (*(double *)(a2 + 0x20) + *(double *)(a1 + 0x1C0) + v34 - *(double *)(a1 + 0x628))
              * *(double *)&n0x2B5_1;
        }
        else
        {
          v36 = v19 - *(double *)(a1 + 0x628);
          v32 = *(double *)(a2 + 0x30) - *(double *)(a1 + 0x638);
          v33 = *(double *)(a2 + 0x28) - *(double *)(a1 + 0x630);
          v35 = v36 * *(double *)&n0x4118_2 - v33 * v12;
          v16 = v32 * v12 - v36 * v14 + v16;
        }
        v17 = v17 + v35;
        v9 = v584;
        *((_QWORD *)&v37 + 1) = *((_QWORD *)&v10 + 1);
        *(double *)&v37 = *(double *)&v10 + v33 * v14 - v32 * *(double *)&n0x4118_2;
        v10 = v37;
      }
      if ( *(_DWORD *)(a2 + 0x48) == 1 )
      {
        *((_QWORD *)&v39 + 1) = *((_QWORD *)&n0x4118_2 + 1);
        *(double *)&v39 = (*(double *)&n0x4118_2 * *(double *)&n0x4118_2 + v12 * v12 + v14 * v14) * (v9 * v9);
        _XMM2 = v39;
        __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
        if ( _XMM1.m128_f32[0] > 25.0 )
        {
          v42 = _mm_sqrt_ps(_mm_shuffle_ps(_XMM1, _XMM1, 0));
          *(double *)v42.m128_u64 = (float)(5.0 / _mm_shuffle_ps(v42, v42, 0xFF).m128_f32[0]);
          v12 = *(double *)v42.m128_u64 * v12;
          *(double *)&n0x4118_2 = *(double *)v42.m128_u64 * *(double *)&n0x4118_2;
          v14 = *(double *)v42.m128_u64 * v14;
        }
        v38 = (double *)(a1 + 0x5B0);
        *((_QWORD *)&v43 + 1) = *((_QWORD *)&v10 + 1);
        v44 = v16 * *(double *)(a1 + 0x5B8) + *(double *)&v10 * *(double *)(a1 + 0x5B0) + v17 * *(double *)(a1 + 0x5C0);
        v45 = *(double *)&v10 * *(double *)(a1 + 0x5C8) + v16 * *(double *)(a1 + 0x5D0) + v17 * *(double *)(a1 + 0x5D8);
        v46 = *(double *)&v10 * *(double *)(a1 + 0x5E0) + v16 * *(double *)(a1 + 0x5E8) + v17 * *(double *)(a1 + 0x5F0);
        *(double *)&v43 = v45 * v45 + v44 * v44 + v46 * v46;
        _XMM2 = v43;
        __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
        if ( _XMM0.m128_f32[0] > 25.0 )
        {
          v49 = _mm_sqrt_ps(_mm_shuffle_ps(_XMM0, _XMM0, 0));
          *(double *)v49.m128_u64 = (float)(5.0 / _mm_shuffle_ps(v49, v49, 0xFF).m128_f32[0]);
          *(double *)&v10 = *(double *)&v10 * *(double *)v49.m128_u64;
          v16 = v16 * *(double *)v49.m128_u64;
          v17 = v17 * *(double *)v49.m128_u64;
        }
      }
      else
      {
        (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 0);
        *(float *)(a1 + 0x368) = (float)(*(_DWORD *)(a2 + 0x48) > 0) * *(float *)(a1 + 0x368);
        v38 = (double *)(a1 + 0x5B0);
      }
      if ( *(_DWORD *)(a2 + 0x40) )
      {
        v74 = v14 + *(double *)(a1 + 0x770);
        v75 = *(double *)&n0x4118_2 + *(double *)(a1 + 0x768);
        *(double *)(a1 + 0x760) = v12 + *(double *)(a1 + 0x760);
        *(double *)(a1 + 0x768) = v75;
        *(double *)(a1 + 0x770) = v74;
        v76 = v17 + *(double *)(a1 + 0x788);
        v77 = v16 + *(double *)(a1 + 0x780);
        *(double *)(a1 + 0x778) = *(double *)&v10 + *(double *)(a1 + 0x778);
        *(double *)(a1 + 0x780) = v77;
        *(double *)(a1 + 0x788) = v76;
      }
      else
      {
        v50 = v14 + *(double *)(a1 + 0x660);
        v51 = *(double *)&n0x4118_2 + *(double *)(a1 + 0x658);
        *(double *)(a1 + 0x650) = v12 + *(double *)(a1 + 0x650);
        v52 = *(double *)&v10 + *(double *)(a1 + 0x668);
        *(double *)(a1 + 0x660) = v50;
        v53 = v17 + *(double *)(a1 + 0x678);
        *(double *)(a1 + 0x668) = v52;
        *(double *)(a1 + 0x658) = v51;
        v54 = v16 + *(double *)(a1 + 0x670);
        *(double *)(a1 + 0x678) = v53;
        *(double *)(a1 + 0x670) = v54;
        v55 = *(unsigned __int64 *)(a1 + 0x6B8);
        _XMM2 = *(_OWORD *)(a1 + 0x650);
        *((_QWORD *)&v58 + 1) = *(_QWORD *)(a1 + 0x658);
        *(double *)&v58 = *(double *)&_XMM2 * *(double *)&v55;
        _XMM0 = v58;
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
        *(float *)(a1 + 0x68C) = *(float *)&_XMM1;
        __asm { vunpckhpd xmm2, xmm2, xmm2 }
        *((_QWORD *)&v58 + 1) = *((_QWORD *)&_XMM2 + 1);
        *(double *)&v58 = *(double *)&_XMM2 * *(double *)&v55;
        _XMM0 = v58;
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
        *(float *)(a1 + 0x690) = *(float *)&_XMM1;
        *((_QWORD *)&v58 + 1) = *((_QWORD *)&v55 + 1);
        *(double *)&v58 = *(double *)&v55 * *(double *)(a1 + 0x660);
        _XMM0 = v58;
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
        *(float *)(a1 + 0x694) = *(float *)&_XMM1;
        v65 = *(double *)(a1 + 0x668);
        v66 = *(double *)(a1 + 0x670);
        v67 = *(double *)(a1 + 0x678);
        _XMM0 = COERCE_UNSIGNED_INT64(v66 * v38[1] + v65 * *v38 + v67 * v38[2]);
        __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
        _XMM0 = COERCE_UNSIGNED_INT64(v65 * v38[3] + v66 * v38[4] + v67 * v38[5]);
        __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
        _XMM0 = COERCE_UNSIGNED_INT64(v65 * v38[6] + v66 * v38[7] + v67 * v38[8]);
        __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
        *(float *)(a1 + 0x688) = *(float *)&_XMM3;
        *(float *)(a1 + 0x680) = *(float *)&_XMM5;
        *(float *)(a1 + 0x684) = *(float *)&_XMM4;
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A0LL))(a1);
      }
    }
    sub_1468B7240(a1, a2, 1);
    v637 = __rdtsc();
    qword_149A0FD88(&n0x2800_1);
    v7 = 1;
    goto LABEL_384;
  }
  if ( n3 == 3 )
  {
    n0x2800_2 = 0x2800;
    v627 = 0;
    v628 = 0;
    v630 = 0;
    v631 = 0;
    v632 = 0;
    v629 = 1;
    qword_149A0FD80(&n0x2800_2, 0, &Source, &Source, 0);
    *(_QWORD *)(a1 + 0x690) = 0;
    *(_QWORD *)(a1 + 0x688) = 0;
    *(_QWORD *)(a1 + 0x680) = 0;
    *(_QWORD *)(a1 + 0x660) = 0;
    *(_QWORD *)(a1 + 0x658) = 0;
    *(_QWORD *)(a1 + 0x650) = 0;
    *(_QWORD *)(a1 + 0x678) = 0;
    *(_QWORD *)(a1 + 0x670) = 0;
    *(_QWORD *)(a1 + 0x668) = 0;
    *(_QWORD *)(a1 + 0x69C) = 0;
    *(_DWORD *)(a1 + 0x698) = 0;
    *(_QWORD *)(a1 + 0x6A8) = 0;
    *(_DWORD *)(a1 + 0x6A4) = 0;
    *(_QWORD *)(a1 + 0x770) = 0;
    *(_QWORD *)(a1 + 0x768) = 0;
    *(_QWORD *)(a1 + 0x760) = 0;
    *(_QWORD *)(a1 + 0x788) = 0;
    *(_QWORD *)(a1 + 0x780) = 0;
    *(_QWORD *)(a1 + 0x778) = 0;
    *(_QWORD *)(a1 + 0x7DC) = 0;
    *(_DWORD *)(a1 + 0x7D8) = 0;
    *(_QWORD *)(a1 + 0x7E8) = 0;
    *(_DWORD *)(a1 + 0x7E4) = 0;
    *(_QWORD *)(a1 + 0x7F4) = 0;
    *(_DWORD *)(a1 + 0x7F0) = 0;
    *(_QWORD *)(a1 + 0x800) = 0;
    *(_DWORD *)(a1 + 0x7FC) = 0;
    v78 = *(_QWORD *)(a1 + 0x980);
    if ( v78 != *(_QWORD *)(a1 + 0x988) )
      *(_QWORD *)(a1 + 0x988) = v78;
    if ( *(_DWORD *)(a2 + 4) )
    {
      sub_14693D8B0(*(_QWORD *)(a1 + 0x2C0), a1, 0x80);
      v709[0] = 5;
      v709[3] = 0xFFFFFFFF;
      v709[1] = 0x80000000;
      v709[0x26] = 2;
      v79 = *(_QWORD *)a1;
      v709[7] = 0xFFF7FFFF;
      v709[0xD] = 0xFFF7FFFF;
      v709[0x15] = 0xFFBFFFFF;
      v709[0x19] = 0xFFBFFFFF;
      v709[0x1A] = 0xFFBFFFFF;
      v709[0x1B] = 0xFFBFFFFF;
      v709[0x1C] = 0xFFBFFFFF;
      v709[0x1D] = 0xFFBFFFFF;
      v709[0x1E] = 0xFFBFFFFF;
      v709[0x21] = 0xFFBFFFFF;
      v709[0x24] = 0xFFBFFFFF;
      v709[0x25] = 0xFFBFFFFF;
      v709[0x28] = 0xFFBFFFFF;
      v709[0x2B] = 0xFFBFFFFF;
      v709[0x2E] = 0xFFBFFFFF;
      v709[0x31] = 0xFFBFFFFF;
      v709[0x34] = 0xFFBFFFFF;
      v709[0x3A] = 0xFFBFFFFF;
      v709[0x3B] = 0xFFBFFFFF;
      v709[0x3E] = 0xFFBFFFFF;
      v709[2] = 0;
      v709[0x27] = 1;
      v709[4] = 1;
      (*(void (__fastcall **)(__int64, _DWORD *, __int64))(v79 + 0x30))(a1, v709, 1);
    }
    *(_QWORD *)(a1 + 0x86C) = 0;
    *(_DWORD *)(a1 + 0x868) = 0;
    *(_QWORD *)(a1 + 0x878) = 0;
    *(_DWORD *)(a1 + 0x874) = 0;
    *(_DWORD *)(a1 + 0x9F8) = 0xFFFFFFFF;
    *(_DWORD *)(a1 + 0x838) = 0xFFBFFFFF;
    *(_DWORD *)(a1 + 0x898) = 0xFFFFFFFE;
    *(_DWORD *)(a1 + 0x188) = 0xFFFFFFFE;
    *(_DWORD *)(a1 + 0x508) = 0;
    *(_DWORD *)(a1 + 0x4B0) = 0;
    *(_QWORD *)(a1 + 0x9D0) = 0;
    *(_QWORD *)(a1 + 0x9F0) = 0;
    *(_QWORD *)(a1 + 0x9E8) = 0;
    *(_DWORD *)(a1 + 0x9E4) = 0xFFFFFFFF;
    *(_QWORD *)(a1 + 0x9DC) = 0;
    *(_DWORD *)(a1 + 0x9D8) = 0;
    v7 = sub_1468B7240(a1, a2, 1);
    p_n0x2800 = &n0x2800_2;
    v630 = __rdtsc();
    goto LABEL_383;
  }
  if ( n3 == 4 )
  {
    n0x2800_3 = 0x2800;
    v641 = 0;
    v642 = 0;
    v644 = 0;
    v645 = 0;
    v646 = 0;
    v643 = 1;
    qword_149A0FD80(&n0x2800_3, 0, &Source, &Source, 0);
    v81 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v81 )
      sub_1403DE750(a1 + 0xC8, v81, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockUpdate", 1);
    v82 = *(__int64 **)(a2 + 8);
    v579 = v82;
    if ( v82 == (__int64 *)0xFFFFFFFFFFFFFFF6LL )
    {
      v82 = &qword_15145C180;
      v579 = &qword_15145C180;
    }
    else if ( !v82 )
    {
      goto LABEL_148;
    }
    if ( *((_DWORD *)v82 + 0x3D) <= 4u )
    {
      v591 = 1.0;
      v595 = 1.0;
      v623 = *(_QWORD *)(a2 + 0x10);
      n2 = 0;
      v588 = 0.0;
      v589 = 0.0;
      v590 = 0.0;
      v592 = 0.0;
      v593 = 0.0;
      v594 = 0.0;
      if ( (HIDWORD(v623) & 0xFFF40000) != 0xFFF40000 )
      {
        v7 = *(_DWORD *)(a2 + 4);
        v577 = v7;
        if ( v7 == 0x80000000 )
        {
          v83 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C0), 0x200000, 0);
          if ( v83 )
            sub_1403DE750(a1 + 0x8C0, v83, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockConstraintIdx", 1);
          v7 = *(_DWORD *)(a1 + 0x8B8);
          v577 = v7;
          *(_DWORD *)(a1 + 0x8B8) = v7 + 1;
          if ( a1 != 0xFFFFFFFFFFFFF740uLL )
          {
            n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C0), 0, 0x200000);
            if ( n0x200000 != 0x200000 )
              sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C0), n0x200000);
          }
        }
        if ( (unsigned int)sub_1467BEEC0(a1, a2, v82, &v601) )
        {
          v85 = *(_DWORD *)(a2 + 0x78);
          v574 = v85 & 0xFFFFFFF8;
          if ( (v85 & 0x400) != 0 )
          {
            n0x400 = 0x400;
          }
          else
          {
            n0x400 = 0x200;
            if ( (v85 & 0x800) != 0 )
              n0x400 = 0x800;
          }
          n0x400_1 = n0x400;
          if ( (v85 & 0x80000) != 0 && (*(_DWORD *)(a2 + 0xBC) & 0xFFA00000) != 0xFFA00000 )
            n0x400_1 = n0x400 | 0x2000000;
          sub_1467B3240(
            (unsigned int)&v607,
            (unsigned int)&v605,
            (unsigned int)&v588,
            a2,
            a1,
            (__int64)v82,
            (__int64)&v601);
          v87 = v601;
          n0x4118_4 = sub_1467D9640(
                        a1,
                        (unsigned int)&v607,
                        (unsigned int)&v605,
                        v601,
                        (__int64)v82,
                        HIDWORD(v601),
                        n0x400_1,
                        v574);
          if ( n0x4118_4 >= 0 )
          {
            n0x4118_3 = n0x4118_4;
            v90 = *(_QWORD *)(a1 + 0x4F0);
            v91 = n0x4118_3 << 8;
            n0x4118_1 = n0x4118_3;
            v585 = v91;
            *(_DWORD *)(v90 + v91 + 8) = v7;
            _XMM3 = *(unsigned int *)(a2 + 0x7C);
            _XMM0 = *(_DWORD *)(a2 + 0x7C) & 0xFFA00000;
            __asm
            {
              vpcmpeqd xmm2, xmm0, xmm1
              vblendvps xmm0, xmm3, xmm6, xmm2
            }
            *(float *)(v91 + *(_QWORD *)(a1 + 0x4F0) + 0x6C) = *(float *)&_XMM0;
            v570 = *(float *)&_XMM0;
            if ( (*(_DWORD *)(a2 + 0x80) & 0xFFA00000) != 0xFFA00000 )
              *(float *)(v91 + *(_QWORD *)(a1 + 0x4F0) + 0x70) = *(float *)(a2 + 0x80);
            if ( (*(_DWORD *)(a2 + 0x84) & 0xFFA00000) != 0xFFA00000 )
            {
              n2 = 1;
              *(float *)(v91 + *(_QWORD *)(a1 + 0x4F0) + 0x98) = *(float *)(a2 + 0x84);
            }
            if ( (*(_DWORD *)(a2 + 0x8C) & 0xFFA00000) != 0xFFA00000 )
            {
              n2 = 1;
              *(float *)(v91 + *(_QWORD *)(a1 + 0x4F0) + 0xA0) = *(float *)(a2 + 0x8C);
            }
            v96 = 0x108 * n0x4118_3 + *(_QWORD *)(a1 + 0x4E8);
            n0x2B5_1 = 0x108 * n0x4118_3;
            v97 = *(_QWORD *)(v96 + 0x20);
            v600 = *(double *)(*(_QWORD *)(v96 + 0x30) + 0x108LL) - *(double *)(*(_QWORD *)(v96 + 0x28) + 0x108LL);
            v98 = *(_QWORD *)(v96
                            + 8
                            * ((*(_QWORD *)&v600 >> 0x3F)
                             & ((*(int *)(v97 + 0xF4) - 3LL) >> 0x1F)
                             & ~(*(_DWORD *)(v97 + 0xF0) >> 0x1F))
                            + 0x28);
            v99 = *(float *)(v98 + 0x9C);
            LODWORD(v100) = *(_DWORD *)(v98 + 0x98) ^ 0x80000000;
            LODWORD(v101) = *(_DWORD *)(v98 + 0x90) ^ 0x80000000;
            LODWORD(v102) = *(_DWORD *)(v98 + 0x94) ^ 0x80000000;
            v103 = (float)((float)((float)(v589 * v101) - (float)(v588 * v102)) + (float)(v99 * v590))
                 + (float)(v591 * v100);
            v104 = (float)((float)((float)(v588 * v100) - (float)(v590 * v101)) + (float)(v99 * v589))
                 + (float)(v591 * v102);
            v105 = (float)((float)((float)(v590 * v102) - (float)(v589 * v100)) + (float)(v99 * v588))
                 + (float)(v591 * v101);
            v106 = (float)(v99 * v591)
                 - (float)((float)((float)(v588 * v101) + (float)(v589 * v102)) + (float)(v590 * v100));
            v598 = (float)((float)(v105 * v103) - (float)(v106 * v104))
                 + (float)((float)(v105 * v103) - (float)(v106 * v104));
            *(float *)&v597 = (float)((float)((float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v104)
                                            - (float)(v103 * v103))
                                    + 1.0)
                            + (float)((float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v104) - (float)(v103 * v103));
            *((float *)&v597 + 1) = (float)((float)(v106 * v103)
                                          - (float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v105))
                                  + (float)((float)(v106 * v103)
                                          - (float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v105));
            *(float *)(v96 + 0x84) = *(float *)&v597;
            *(float *)(v96 + 0x88) = (float)((float)(v106 * v103)
                                           - (float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v105))
                                   + (float)((float)(v106 * v103)
                                           - (float)(COERCE_FLOAT(LODWORD(v104) ^ 0x80000000) * v105));
            *(float *)(v96 + 0x8C) = (float)((float)(v105 * v103) - (float)(v106 * v104))
                                   + (float)((float)(v105 * v103) - (float)(v106 * v104));
            v107 = v588;
            v108 = v590;
            v109 = v589;
            v110 = *(_QWORD *)(a1 + 0x4E8);
            v111 = *(_QWORD *)(0x108 * n0x4118_3 + v110 + 0x28);
            v112 = *(float *)(v111 + 0x9C);
            LODWORD(v113) = *(_DWORD *)(v111 + 0x98) ^ 0x80000000;
            LODWORD(v114) = *(_DWORD *)(v111 + 0x90) ^ 0x80000000;
            LODWORD(v115) = *(_DWORD *)(v111 + 0x94) ^ 0x80000000;
            v590 = (float)((float)((float)(v114 * v589) - (float)(v115 * v588)) + (float)(v112 * v590))
                 + (float)(v591 * v113);
            v116 = v589 * v113;
            v589 = (float)((float)((float)(v588 * v113) - (float)(v114 * v108)) + (float)(v112 * v589))
                 + (float)(v115 * v591);
            v588 = (float)((float)((float)(v115 * v108) - v116) + (float)(v112 * v588)) + (float)(v114 * v591);
            v117 = v114 * v107;
            v118 = v592;
            v119 = v108 * v113;
            v120 = v594;
            v121 = (float)(v115 * v109) + v117;
            v122 = v593;
            v591 = (float)(v112 * v591) - (float)(v121 + v119);
            v123 = *(_QWORD *)(0x108 * n0x4118_3 + v110 + 0x30);
            v124 = *(float *)(v123 + 0x9C);
            LODWORD(v125) = *(_DWORD *)(v123 + 0x98) ^ 0x80000000;
            LODWORD(v126) = *(_DWORD *)(v123 + 0x90) ^ 0x80000000;
            LODWORD(v127) = *(_DWORD *)(v123 + 0x94) ^ 0x80000000;
            v128 = (float)((float)((float)(v126 * v593) - (float)(v127 * v592)) + (float)(v124 * v594))
                 + (float)(v125 * v595);
            v129 = (float)((float)((float)(v125 * v592) - (float)(v126 * v594)) + (float)(v124 * v593))
                 + (float)(v127 * v595);
            v130 = *(_QWORD *)(a1 + 0x4F0);
            v592 = (float)((float)((float)(v127 * v594) - (float)(v125 * v593)) + (float)(v124 * v592))
                 + (float)(v126 * v595);
            v593 = v129;
            v594 = v128;
            v595 = (float)(v124 * v595)
                 - (float)((float)((float)(v127 * v122) + (float)(v126 * v118)) + (float)(v125 * v120));
            v131 = *(_DWORD **)(0x108 * n0x4118_3 + v110 + 0x28);
            *(_DWORD *)(v91 + v130 + 0x78) = v131[0x24];
            *(_DWORD *)(v91 + v130 + 0x7C) = v131[0x25];
            *(_DWORD *)(v91 + v130 + 0x80) = v131[0x26];
            *(_DWORD *)(v91 + v130 + 0x84) = v131[0x27];
            v132 = *(_QWORD *)(a1 + 0x4F0);
            v133 = *(_DWORD **)(0x108 * n0x4118_3 + *(_QWORD *)(a1 + 0x4E8) + 0x30);
            *(_DWORD *)(v91 + v132 + 0x88) = v133[0x24];
            *(_DWORD *)(v91 + v132 + 0x8C) = v133[0x25];
            *(_DWORD *)(v91 + v132 + 0x90) = v133[0x26];
            *(_DWORD *)(v91 + v132 + 0x94) = v133[0x27];
            v134 = *(_QWORD *)(a1 + 0x4F0);
            *(float *)(v91 + v134 + 0xC) = v588;
            *(float *)(v91 + v134 + 0x10) = v589;
            *(float *)(v91 + v134 + 0x14) = v590;
            *(float *)(v91 + v134 + 0x18) = v591;
            v135 = *(_QWORD *)(a1 + 0x4F0);
            *(float *)(v91 + v135 + 0x1C) = v592;
            *(float *)(v91 + v135 + 0x20) = v593;
            *(float *)(v91 + v135 + 0x24) = v594;
            *(float *)(v91 + v135 + 0x28) = v595;
            v136 = *(_QWORD *)(a2 + 0xB0);
            if ( v136 == 0xFFFFFFFFFFFFFFFFuLL
              || (*(_QWORD *)(v91 + *(_QWORD *)(a1 + 0x4F0)) = v136, (v137 = *(_QWORD *)(a2 + 0xB0)) == 0) )
            {
              v138 = v570;
            }
            else if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v137 + 8LL))(v137) == 7
                   || (*(unsigned int (__fastcall **)(_QWORD))(**(_QWORD **)(a2 + 0xB0) + 8LL))(*(_QWORD *)(a2 + 0xB0)) == 4 )
            {
              v91 = v585;
              v138 = v570;
              LOBYTE(n0x4118_3) = n0x4118_1;
              *(_DWORD *)(n0x2B5_1 + *(_QWORD *)(a1 + 0x4E8) + 0x94) = 0;
              *(_DWORD *)(v585 + *(_QWORD *)(a1 + 0x4F0) + 0x68) = 4;
              *(float *)(v585 + *(_QWORD *)(a1 + 0x4F0) + 0x6C) = v570;
            }
            else
            {
              v138 = v570;
              v91 = v585;
              LOBYTE(n0x4118_3) = n0x4118_1;
            }
            if ( (*(_DWORD *)(a2 + 0x78) & 0x80000) != 0 )
            {
              if ( (*(_DWORD *)(a2 + 0xBC) & 0xFFA00000) != 0xFFA00000 )
              {
                v139 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v91 + v139 + 0xB4) = *(double *)(a2 + 0xBC);
                *(_DWORD *)(v91 + v139 + 0xBC) = *(_DWORD *)(a2 + 0xC4);
              }
              if ( (*(_DWORD *)(a2 + 0xC8) & 0xFFA00000) != 0xFFA00000 )
              {
                v140 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v91 + v140 + 0xC0) = *(double *)(a2 + 0xC8);
                *(_DWORD *)(v91 + v140 + 0xC8) = *(_DWORD *)(a2 + 0xD0);
              }
              if ( (*(_DWORD *)(a2 + 0xEC) & 0xFFA00000) != 0xFFA00000 )
              {
                v141 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v91 + v141 + 0xE4) = *(double *)(a2 + 0xEC);
                *(_DWORD *)(v91 + v141 + 0xEC) = *(_DWORD *)(a2 + 0xF4);
              }
            }
            if ( (*(_DWORD *)(a2 + 0x78) & 0x101000) == 0x1000 )
            {
              v142 = 0;
              if ( *(int *)(a1 + 0x148) > 0 )
              {
                v143 = 0;
                do
                {
                  v143 += 8;
                  ++v142;
                  *(_QWORD *)(v143 + *(_QWORD *)(a1 + 0x4C8) - 8) &= ~(1LL << n0x4118_3);
                }
                while ( v142 < *(_DWORD *)(a1 + 0x148) );
              }
              *(_QWORD *)(a1 + 0x500) &= ~(1LL << n0x4118_3);
            }
            v144 = *(_DWORD *)(a2 + 0x78);
            *(double *)&v145 = v597;
            if ( (v144 & 0x2000) != 0 )
            {
              v614 = v598;
              v684 = v605;
              v685 = v606;
              *(double *)&v613 = v597;
              v686 = v607;
              v687 = v608;
              v146 = sub_1467B43F0(
                       a1,
                       (unsigned int)&v686,
                       (unsigned int)&v684,
                       (unsigned int)&v601,
                       (__int64)v579,
                       0x200,
                       v574 & 0xFC0FFFFF,
                       (__int64)&v613,
                       (__int64)&v588,
                       v7,
                       LODWORD(v138),
                       a2);
              v147 = *(float *)(a2 + 0x88);
              if ( (LODWORD(v147) & 0xFFA00000) != 0xFFA00000 )
              {
                v148 = v146;
LABEL_132:
                *(float *)((v148 << 8) + *(_QWORD *)(a1 + 0x4F0) + 0x98) = v147;
                goto LABEL_133;
              }
              goto LABEL_133;
            }
            v149 = *(float *)(a2 + 0x68);
            if ( (LODWORD(v149) & 0xFFA00000) != 0xFFA00000
              && v149 >= *(float *)(a2 + 0x6C)
              && (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000
              && *(float *)(a2 + 0x70) >= *(float *)(a2 + 0x74)
              && (v144 & 0x3000000) == 0 )
            {
              if ( (v144 & 0x800000) != 0 )
              {
                v616 = v598;
                v688 = v605;
                v689 = v606;
                *(double *)&v615 = v597;
                v690 = v607;
                v691 = v608;
                sub_1467B43F0(
                  a1,
                  (unsigned int)&v690,
                  (unsigned int)&v688,
                  (unsigned int)&v601,
                  (__int64)v579,
                  0x200,
                  v574 & 0xFF8FFFFF,
                  (__int64)&v615,
                  (__int64)&v588,
                  v7,
                  LODWORD(v138),
                  a2);
              }
              goto LABEL_133;
            }
            if ( (LODWORD(v149) & 0xFFA00000) == 0xFFA00000 || v149 < *(float *)(a2 + 0x6C) )
            {
              if ( (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000 && *(float *)(a2 + 0x70) >= *(float *)(a2 + 0x74) )
              {
                v620 = v598;
                v696 = v605;
                v697 = v606;
                *(double *)&v619 = v597;
                v698 = v607;
                v699 = v608;
                sub_1467B43F0(
                  a1,
                  (unsigned int)&v698,
                  (unsigned int)&v696,
                  (unsigned int)&v601,
                  (__int64)v579,
                  0x400,
                  v574 & 0xFC0FFFFF,
                  (__int64)&v619,
                  (__int64)&v588,
                  v7,
                  LODWORD(v138),
                  a2);
              }
            }
            else
            {
              v618 = v598;
              v692 = v605;
              v693 = v606;
              *(double *)&v617 = v597;
              v694 = v607;
              v695 = v608;
              sub_1467B43F0(
                a1,
                (unsigned int)&v694,
                (unsigned int)&v692,
                (unsigned int)&v601,
                (__int64)v579,
                0x800,
                v574 & 0xFC0FFFFF,
                (__int64)&v617,
                (__int64)&v588,
                v7,
                LODWORD(v138),
                a2);
            }
            if ( (n0x400_1 & 0x200) == 0
              || (v150 = *(float *)(a2 + 0x68), (LODWORD(v150) & 0xFFA00000) == 0xFFA00000)
              || (v151 = *(float *)(a2 + 0x6C), v150 >= v151)
              || v150 < -3.1328661 && v151 > 3.1328661 )
            {
              v573 = 0;
              if ( (*(_DWORD *)(a2 + 0x78) & 0x2000000) == 0 )
              {
                v161 = v574;
                goto LABEL_115;
              }
            }
            else
            {
              v573 = 1;
            }
            v152 = sub_1467D9640(
                     a1,
                     (unsigned int)&v607,
                     (unsigned int)&v605,
                     v87,
                     (__int64)v579,
                     HIDWORD(v87),
                     0x100,
                     v574 & 0xFC0FFFFF);
            v153 = *(_QWORD *)(a1 + 0x4E8);
            v154 = v152;
            v155 = v598;
            v156 = 0x108 * v154;
            *(double *)(v156 + v153 + 0x84) = *(double *)&v145;
            *(float *)(v156 + v153 + 0x8C) = v155;
            v157 = *(_QWORD *)(a1 + 0x4F0);
            v158 = v154 << 8;
            *(float *)(v157 + v158 + 0xC) = v588;
            *(float *)(v157 + v158 + 0x10) = v589;
            *(float *)(v157 + v158 + 0x14) = v590;
            *(float *)(v157 + v158 + 0x18) = v591;
            v159 = *(_QWORD *)(a1 + 0x4F0);
            *(float *)(v159 + v158 + 0x1C) = v592;
            *(float *)(v159 + v158 + 0x20) = v593;
            *(float *)(v159 + v158 + 0x24) = v594;
            *(float *)(v159 + v158 + 0x28) = v595;
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v158 + 8) = v7;
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v158 + 0x68) = 0;
            if ( v573 )
            {
              v160 = v154 << 6;
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + 4 * v160 + 0x60) = *(_DWORD *)(a2 + 0x68);
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + 4 * v160 + 0x64) = *(_DWORD *)(a2 + 0x6C);
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v158 + 0x68) |= 1u;
            }
            v161 = v574;
            if ( (v574 & 0x80000) != 0 && (*(_DWORD *)(a2 + 0xD4) & 0xFFA00000) != 0xFFA00000
              || (*(_DWORD *)(a2 + 0x78) & 0x2000000) != 0 )
            {
              *(_DWORD *)(0x108 * v154 + *(_QWORD *)(a1 + 0x4E8) + 0x94) |= 0x2000800u;
              if ( (*(_DWORD *)(a2 + 0x78) & 0x2000000) != 0 )
              {
                v162 = v154 << 8;
                *(_DWORD *)(0x108 * v154 + *(_QWORD *)(a1 + 0x4E8) + 0x94) |= 0x4000000u;
                *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v162 + 0x68) |= 0x2000000u;
                v163 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v163 + v162 + 0xA8) = *(double *)(a2 + 0x9C);
                *(_DWORD *)(v163 + v162 + 0xB0) = *(_DWORD *)(a2 + 0xA4);
                if ( (*(_DWORD *)(a2 + 0xAC) & 0xFFA00000) != 0xFFA00000 && *(int *)(a2 + 0xAC) >= 0 )
                {
                  v164 = v154 << 8;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v164 + 0x68) |= 0x8000u;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v164 + 0x9C) = *(_DWORD *)(a2 + 0xAC);
                }
                if ( (*(_DWORD *)(a2 + 0x114) & 0xFFA00000) != 0xFFA00000 )
                {
                  v165 = *(_QWORD *)(a1 + 0x4F0);
                  v166 = v154 << 8;
                  *(double *)(v166 + v165 + 0xCC) = *(double *)(a2 + 0x114);
                  *(_DWORD *)(v166 + v165 + 0xD4) = *(_DWORD *)(a2 + 0x11C);
                }
              }
            }
            if ( (*(_DWORD *)(a2 + 0x88) & 0xFFA00000) != 0xFFA00000 )
            {
              n2 = 2;
              *(float *)((v154 << 8) + *(_QWORD *)(a1 + 0x4F0) + 0x98) = *(float *)(a2 + 0x88);
            }
LABEL_115:
            if ( (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000 && *(float *)(a2 + 0x70) < *(float *)(a2 + 0x74)
              || (*(_DWORD *)(a2 + 0x78) & 0x1000000) != 0 )
            {
              v167 = sub_1467D9640(
                       a1,
                       (unsigned int)&v607,
                       (unsigned int)&v605,
                       v87,
                       (__int64)v579,
                       HIDWORD(v87),
                       0x100,
                       v161);
              v168 = *(_QWORD *)(a1 + 0x4E8);
              v169 = v167;
              v170 = v598;
              v171 = v169 << 8;
              v172 = 0x108 * v169;
              v571 = v169;
              v586 = v172;
              *(double *)(v168 + v172 + 0x84) = *(double *)&v145;
              *(float *)(v168 + v172 + 0x8C) = v170;
              v173 = *(_QWORD *)(a1 + 0x4F0);
              *(float *)(v173 + v171 + 0xC) = v588;
              *(float *)(v173 + v171 + 0x10) = v589;
              *(float *)(v173 + v171 + 0x14) = v590;
              *(float *)(v173 + v171 + 0x18) = v591;
              v174 = *(_QWORD *)(a1 + 0x4F0);
              *(float *)(v174 + v171 + 0x1C) = v592;
              *(float *)(v174 + v171 + 0x20) = v593;
              *(float *)(v174 + v171 + 0x24) = v594;
              *(float *)(v174 + v171 + 0x28) = v595;
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x68) = 0;
              *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 8) = v577;
              if ( (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000 )
              {
                X = *(float *)(a2 + 0x74);
                if ( *(float *)(a2 + 0x70) < X )
                {
                  v176 = sinf(X);
                  v172 = v586;
                  LODWORD(v169) = v571;
                  *(float *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x60) = v176;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x64) = *(_DWORD *)(a2 + 0x74);
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x68) |= 2u;
                }
              }
              if ( (*(_DWORD *)(a2 + 0x78) & 0x1000000) != 0 )
              {
                *(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + v172 + 0x94) |= 0x4000000u;
                *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x68) |= 0x1000000u;
                v177 = *(_QWORD *)(a1 + 0x4F0);
                *(double *)(v177 + v171 + 0xA8) = *(double *)(a2 + 0x9C);
                *(_DWORD *)(v177 + v171 + 0xB0) = *(_DWORD *)(a2 + 0xA4);
                if ( (*(_BYTE *)(*(_QWORD *)(a1 + 0x4F0) + v171 + 0x68) & 2) == 0 )
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + v172 + 0x94) |= 0x400u;
                if ( (*(_DWORD *)(a2 + 0xAC) & 0xFFA00000) != 0xFFA00000 && *(int *)(a2 + 0xAC) >= 0 )
                {
                  v178 = (__int64)(int)v169 << 8;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v178 + 0x68) |= 0x8000u;
                  *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v178 + 0x9C) = *(_DWORD *)(a2 + 0xAC);
                }
                *(_DWORD *)(0x108LL * (int)v169 + *(_QWORD *)(a1 + 0x4E8) + 0x94) |= 0x2000000u;
                if ( (*(_DWORD *)(a2 + 0x114) & 0xFFA00000) != 0xFFA00000 )
                {
                  v179 = *(_QWORD *)(a1 + 0x4F0);
                  v180 = (__int64)(int)v169 << 8;
                  *(double *)(v180 + v179 + 0xCC) = *(double *)(a2 + 0x114);
                  *(_DWORD *)(v180 + v179 + 0xD4) = *(_DWORD *)(a2 + 0x11C);
                }
              }
              v147 = *(float *)(a2 + 0x88);
              v7 = v577;
              if ( (LODWORD(v147) & 0xFFA00000) != 0xFFA00000 && n2 < 2 )
              {
                v148 = (int)v169;
                n2 = 1;
                goto LABEL_132;
              }
            }
LABEL_133:
            if ( (n0x400_1 & 0x200) != 0 )
              goto LABEL_138;
            if ( (*(_DWORD *)(a2 + 0x68) & 0xFFA00000) == 0xFFA00000 )
              goto LABEL_138;
            if ( *(float *)(a2 + 0x68) >= *(float *)(a2 + 0x6C) )
              goto LABEL_138;
            v181 = sub_1467D9640(
                     a1,
                     (unsigned int)&v607,
                     (unsigned int)&v605,
                     v87,
                     (__int64)v579,
                     HIDWORD(v87),
                     0,
                     v574);
            v182 = v598;
            v183 = v181;
            v184 = *(_QWORD *)(a1 + 0x4E8);
            v185 = 0x108 * v183;
            *(double *)(v185 + v184 + 0x84) = *(double *)&v145;
            *(float *)(v185 + v184 + 0x8C) = v182;
            v186 = *(_QWORD *)(a1 + 0x4F0);
            v187 = v183 << 8;
            v183 <<= 6;
            *(float *)(v186 + v187 + 0xC) = v588;
            *(float *)(v186 + v187 + 0x10) = v589;
            *(float *)(v186 + v187 + 0x14) = v590;
            *(float *)(v186 + v187 + 0x18) = v591;
            v188 = *(_QWORD *)(a1 + 0x4F0);
            *(float *)(v188 + v187 + 0x1C) = v592;
            *(float *)(v188 + v187 + 0x20) = v593;
            *(float *)(v188 + v187 + 0x24) = v594;
            *(float *)(v188 + v187 + 0x28) = v595;
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + 4 * v183 + 0x60) = *(_DWORD *)(a2 + 0x68);
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + 4 * v183 + 0x64) = *(_DWORD *)(a2 + 0x6C);
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v187 + 0x68) = 1;
            *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v187 + 8) = v7;
            if ( (*(_DWORD *)(a2 + 0x84) & 0xFFA00000) == 0xFFA00000 )
            {
LABEL_138:
              if ( !n2 )
                goto LABEL_140;
            }
            else
            {
              *(float *)(*(_QWORD *)(a1 + 0x4F0) + v187 + 0x98) = *(float *)(a2 + 0x84);
            }
            (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x388LL))(a1);
LABEL_140:
            if ( !*(_DWORD *)(a2 + 0xB8) )
            {
              if ( (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 && *(int *)(a1 + 0xE8) >= 0 )
                (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 0);
              if ( *((int *)v579 + 0x3D) > 0 && (v579[0x41] & 0x20) == 0 && *((int *)v579 + 0x3A) >= 0 )
                (*(void (__fastcall **)(__int64 *, __int64, _QWORD))(*v579 + 0x268))(v579, 1, 0);
            }
            goto LABEL_149;
          }
        }
      }
    }
LABEL_148:
    v7 = 0;
LABEL_149:
    v189 = (volatile signed __int64 *)(a1 + 0xC8);
    if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
    {
      n0x200000_1 = _InterlockedCompareExchange64(v189, 0, 0x200000);
      if ( n0x200000_1 != 0x200000 )
        sub_1403DEBA0(v189, n0x200000_1);
    }
    p_n0x2800 = &n0x2800_3;
    v644 = __rdtsc();
    goto LABEL_383;
  }
  if ( n3 != 5 )
  {
    if ( n3 == 8 )
    {
      n0x2800_4 = 0x2800;
      v648 = 0;
      v649 = 0;
      v651 = 0;
      v652 = 0;
      v653 = 0;
      v650 = 1;
      qword_149A0FD80(&n0x2800_4, 0, &Source, &Source, 0);
      v301 = *(_DWORD *)(a1 + 0x694);
      *(double *)(a1 + 0x820) = *(double *)(a1 + 0x68C);
      v302 = *(double *)(a1 + 0x680);
      *(_DWORD *)(a1 + 0x828) = v301;
      v303 = *(_DWORD *)(a1 + 0x688);
      *(double *)(a1 + 0x82C) = v302;
      *(_DWORD *)(a1 + 0x834) = v303;
      if ( (*(int *)(a1 + 0x294) >> 0x1F) & *(_DWORD *)(a1 + 0x290)
         | *(_DWORD *)(a1 + 0x294) & ~(*(int *)(a1 + 0x294) >> 0x1F) )
      {
        if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1) == 2
          && *(_DWORD *)(a2 + 4) == 0xFFFFFFD6 )
        {
          if ( (*(_DWORD *)(a1 + 0x964) & 0xFFA00000) == 0xFFA00000
            && (*(_DWORD *)(a1 + 0x970) & 0xFFA00000) == 0xFFA00000 )
          {
            *(double *)(a1 + 0x964) = *(double *)(a2 + 0xC);
            *(_DWORD *)(a1 + 0x96C) = *(_DWORD *)(a2 + 0x14);
            *(double *)(a1 + 0x970) = *(double *)(a2 + 0x18);
            *(_DWORD *)(a1 + 0x978) = *(_DWORD *)(a2 + 0x20);
          }
        }
        else
        {
          v304 = *(float *)(a2 + 0xC);
          if ( (LODWORD(v304) & 0xFFA00000) != 0xFFA00000 )
          {
            v305 = *(float *)(a2 + 0x14);
            *(float *)(a1 + 0x690) = *(float *)(a2 + 0x10);
            *(float *)(a1 + 0x694) = v305;
            *(float *)(a1 + 0x68C) = v304;
            _XMM5 = *(unsigned __int64 *)(a1 + 0x6B0);
            __asm { vcvtpd2ps xmm5, xmm5 }
            v610 = *(double *)(a1 + 0x68C);
            v306 = (__m128)*(unsigned __int64 *)&v610;
            *(double *)(a1 + 0x660) = (float)(*(float *)&_XMM5 * *(float *)(a1 + 0x694));
            *(double *)(a1 + 0x650) = (float)(*(float *)&_XMM5 * v306.m128_f32[0]);
            *(double *)(a1 + 0x658) = (float)(*(float *)&_XMM5 * _mm_shuffle_ps(v306, v306, 0x55).m128_f32[0]);
          }
          v309 = *(float *)(a2 + 0x18);
          if ( (LODWORD(v309) & 0xFFA00000) != 0xFFA00000 )
          {
            v310 = *(float *)(a2 + 0x1C);
            v311 = *(float *)(a2 + 0x20);
            *(float *)(a1 + 0x680) = v309;
            *(float *)(a1 + 0x684) = v310;
            *(float *)(a1 + 0x688) = v311;
            v312 = *(float *)(a1 + 0x640);
            v313 = *(float *)(a1 + 0x64C);
            v314 = *(float *)(a1 + 0x648);
            LODWORD(v315) = *(_DWORD *)(a1 + 0x644) ^ 0x80000000;
            v316 = (float)((float)(v311 * v315) - (float)(v310 * COERCE_FLOAT(LODWORD(v314) ^ 0x80000000)))
                 + (float)(v309 * v313);
            v317 = (float)((float)(v311 * v312) + (float)(COERCE_FLOAT(LODWORD(v314) ^ 0x80000000) * v309))
                 + (float)(v313 * v310);
            v318 = LODWORD(v313);
            *(float *)&v318 = (float)(v313 * v311) - (float)((float)(v310 * v312) + (float)(v315 * v309));
            v319 = v318;
            v320 = *(unsigned int *)(a1 + 0x644) ^ (unsigned __int128)0x80000000;
            *(float *)&v320 = (float)((float)(v315 * *(float *)&v319)
                                    - (float)(COERCE_FLOAT(LODWORD(v314) ^ 0x80000000) * v317))
                            + (float)(v309
                                    + (float)((float)(v315 * *(float *)&v319)
                                            - (float)(COERCE_FLOAT(LODWORD(v314) ^ 0x80000000) * v317)));
            v321 = v320;
            v322 = v319;
            *(float *)&v322 = (float)(*(float *)&v319 * v312) + (float)(COERCE_FLOAT(LODWORD(v314) ^ 0x80000000) * v316);
            v323 = v310 + *(float *)&v322;
            v324 = *(float *)(a1 + 0x644);
            *(float *)&v322 = *(float *)&v322 + v323;
            v325 = v322;
            v326 = LODWORD(v312);
            *(float *)&v326 = v312 * v317;
            v327 = v326 ^ 0x80000000;
            *(float *)&v327 = (float)(*(float *)&v327 - (float)(v315 * v316))
                            + (float)(v311 + (float)(*(float *)&v327 - (float)(v315 * v316)));
            v328 = v327;
            *((_QWORD *)&v327 + 1) = *((_QWORD *)&v325 + 1);
            *(double *)&v327 = *(float *)&v325;
            v329 = v327;
            *((_QWORD *)&v327 + 1) = *((_QWORD *)&v328 + 1);
            *(double *)&v327 = *(float *)&v328 * *(double *)(a1 + 0x608);
            _XMM0 = v327;
            __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
            *((_QWORD *)&v327 + 1) = *((_QWORD *)&v329 + 1);
            *(double *)&v327 = *(double *)&v329 * *(double *)(a1 + 0x600);
            _XMM0 = v327;
            __asm { vcvtsd2ss xmm9, xmm0, xmm0 }
            *((_QWORD *)&v327 + 1) = *((_QWORD *)&v321 + 1);
            *(double *)&v327 = *(float *)&v321 * *(double *)(a1 + 0x5F8);
            _XMM2 = v327;
            __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
            v336 = (float)((float)(*(float *)&_XMM10 * v324) - (float)(*(float *)&_XMM9 * v314))
                 + (float)(*(float *)&_XMM5 * v313);
            *(float *)&v321 = (float)((float)(*(float *)&_XMM5 * v314) - (float)(*(float *)&_XMM10 * v312))
                            + (float)(*(float *)&_XMM9 * v313);
            *(float *)&v328 = (float)((float)(*(float *)&_XMM9 * v312) - (float)(*(float *)&_XMM5 * v324))
                            + (float)(*(float *)&_XMM10 * v313);
            *(double *)(a1 + 0x678) = (float)((float)((float)(v312 * *(float *)&v321) - (float)(v324 * v336))
                                            + (float)(*(float *)&_XMM10
                                                    + (float)((float)(v312 * *(float *)&v321) - (float)(v324 * v336))));
            *(double *)(a1 + 0x668) = (float)((float)((float)(v324 * *(float *)&v328) - (float)(v314 * *(float *)&v321))
                                            + (float)(*(float *)&_XMM5
                                                    + (float)((float)(v324 * *(float *)&v328)
                                                            - (float)(v314 * *(float *)&v321))));
            *(double *)(a1 + 0x670) = (float)((float)((float)(v314 * v336) - (float)(v312 * *(float *)&v328))
                                            + (float)(*(float *)&_XMM9
                                                    + (float)((float)(v314 * v336) - (float)(v312 * *(float *)&v328))));
            if ( *(_DWORD *)(a2 + 0x24) )
            {
              if ( (*(_DWORD *)(a2 + 0xC) & 0xFFA00000) == 0xFFA00000 )
              {
                *(_QWORD *)(a1 + 0x690) = 0;
                *(_DWORD *)(a1 + 0x68C) = 0;
              }
              v337 = *(double *)(a1 + 0x638) - *(double *)(a1 + 0x1D0);
              v338 = *(double *)(a1 + 0x628) - *(double *)(a1 + 0x1C0);
              v339 = *(double *)(a1 + 0x630) - *(double *)(a1 + 0x1C8);
              v340 = *(float *)(a1 + 0x680);
              v341 = *(float *)(a1 + 0x688);
              v342 = COERCE_UNSIGNED_INT64(*(float *)(a1 + 0x684));
              _XMM4 = COERCE_UNSIGNED_INT64(v340 * v339 - *(float *)(a1 + 0x684) * v338);
              _XMM1 = COERCE_UNSIGNED_INT64(v341 * v338 - v340 * v337);
              __asm { vcvtsd2ss xmm0, xmm4, xmm4 }
              v346 = *(float *)&_XMM0 + *(float *)(a1 + 0x694);
              *(float *)(a1 + 0x694) = v346;
              *(float *)(a1 + 0x6A0) = v346;
              __asm { vcvtsd2ss xmm1, xmm1, xmm1 }
              *(float *)&_XMM4 = *(float *)&_XMM1 + *(float *)(a1 + 0x690);
              *(float *)(a1 + 0x690) = *(float *)&_XMM4;
              *(float *)(a1 + 0x69C) = *(float *)&_XMM4;
              *((_QWORD *)&v348 + 1) = *((_QWORD *)&v342 + 1);
              *(double *)&v348 = *(double *)&v342 * v337 - v341 * v339;
              _XMM1 = v348;
              __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
              *(float *)&v340 = *(float *)&_XMM2 + *(float *)(a1 + 0x68C);
              *(float *)(a1 + 0x68C) = *(float *)&v340;
              *(float *)(a1 + 0x698) = *(float *)&v340;
              v351 = (__m128)*(unsigned __int64 *)(a1 + 0x68C);
              _XMM5 = *(unsigned __int64 *)(a1 + 0x6B0);
              __asm { vcvtpd2ps xmm5, xmm5 }
              _XMM1 = _mm_shuffle_ps(v351, v351, 0x55);
              v355 = (float)(_XMM1.m128_f32[0] * *(float *)&_XMM5);
              __asm { vinsertps xmm1, xmm1, xmm7, 0Eh }
              v610 = *(double *)(a1 + 0x68C);
              *(double *)(a1 + 0x660) = (float)(*(float *)&_XMM1 * *(float *)&_XMM5);
              *(double *)(a1 + 0x650) = (float)(v351.m128_f32[0] * *(float *)&_XMM5);
              *(double *)(a1 + 0x658) = v355;
            }
          }
          (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A0LL))(a1);
          if ( (*(_DWORD *)(a2 + 0xC) & 0xFFA00000) != 0xFFA00000 )
          {
            *(_DWORD *)(a1 + 0x698) = *(_DWORD *)(a1 + 0x68C);
            *(_DWORD *)(a1 + 0x69C) = *(_DWORD *)(a1 + 0x690);
            *(_DWORD *)(a1 + 0x6A0) = *(_DWORD *)(a1 + 0x694);
          }
          if ( (*(_DWORD *)(a2 + 0x18) & 0xFFA00000) != 0xFFA00000 )
          {
            *(_DWORD *)(a1 + 0x6A4) = *(_DWORD *)(a1 + 0x680);
            *(_DWORD *)(a1 + 0x6A8) = *(_DWORD *)(a1 + 0x684);
            *(_DWORD *)(a1 + 0x6AC) = *(_DWORD *)(a1 + 0x688);
          }
          if ( (float)((float)((float)((float)(*(float *)(a1 + 0x694) * *(float *)(a1 + 0x694))
                                     + (float)(*(float *)(a1 + 0x68C) * *(float *)(a1 + 0x68C)))
                             + (float)(*(float *)(a1 + 0x690) * *(float *)(a1 + 0x690)))
                     + (float)((float)((float)(*(float *)(a1 + 0x688) * *(float *)(a1 + 0x688))
                                     + (float)(*(float *)(a1 + 0x680) * *(float *)(a1 + 0x680)))
                             + (float)(*(float *)(a1 + 0x684) * *(float *)(a1 + 0x684)))) <= 0.0 )
          {
            if ( *(double *)(a1 + 0x6B8) == 0.0 )
              (*(void (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 0, 0);
          }
          else
          {
            if ( !*(_DWORD *)(a1 + 0x4AC) )
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 0);
            *(_DWORD *)(a1 + 0x368) = 0;
          }
        }
      }
      v651 = __rdtsc();
      qword_149A0FD88(&n0x2800_4);
      v7 = 1;
      goto LABEL_387;
    }
    if ( n3 != 9 )
    {
      if ( n3 == 6 && *(_DWORD *)(a1 + 0xF4) <= 6u )
      {
        n0x2800_5 = 0x2800;
        v655 = 0;
        v656 = 0;
        v658 = 0;
        v659 = 0;
        v660 = 0;
        v657 = 1;
        qword_149A0FD80(&n0x2800_5, 0, &Source, &Source, 0);
        (*(void (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, *(unsigned int *)(a2 + 4), 1);
        if ( (*(_DWORD *)(a2 + 8) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x52C) = *(float *)(a2 + 8);
        v658 = __rdtsc();
        qword_149A0FD88(&n0x2800_5);
        v7 = 1;
        goto LABEL_387;
      }
      if ( n3 == 0x14 )
      {
        n0x2800_6 = 0x2800;
        v662 = 0;
        v663 = 0;
        v665 = 0;
        v666 = 0;
        v667 = 0;
        v664 = 1;
        qword_149A0FD80(&n0x2800_6, 0, &Source, &Source, 0);
        v7 = sub_1468B7240(a1, a2, 1);
        v665 = __rdtsc();
        qword_149A0FD88(&n0x2800_6);
        goto LABEL_387;
      }
      if ( n3 != 0x1C )
      {
        v7 = sub_1468B7240(a1, a2, 1);
        goto LABEL_387;
      }
      n0x2800_7 = 0x2800;
      v669 = 0;
      v670 = 0;
      v672 = 0;
      v673 = 0;
      v674 = 0;
      v671 = 1;
      qword_149A0FD80(&n0x2800_7, 0, &Source, &Source, 0);
      v402 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v402 )
        sub_1403DE750(a1 + 0xC8, v402, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockUpdate", 1);
      if ( *(double *)(a1 + 0x6B0) > 0.0 )
        goto LABEL_378;
      _XMM4 = *(unsigned int *)(a2 + 0x48);
      _XMM0 = *(_DWORD *)(a2 + 0x48) & 0xFFA00000;
      __asm
      {
        vpcmpeqd xmm3, xmm0, xmm1
        vblendvps xmm15, xmm4, xmm2, xmm3
      }
      v569 = *(float *)&_XMM15;
      if ( *(float *)&_XMM15 < 0.000001 )
      {
LABEL_378:
        v7 = 0;
      }
      else
      {
        v407 = *(float *)(a2 + 0x2C);
        v408 = 0xFFFFFFFF;
        if ( (LODWORD(v407) & 0xFFA00000) != 0xFFA00000 )
        {
          v409 = *(float *)(a2 + 0x24);
          v410 = *(float *)(a1 + 0x1D8);
          v411 = *(float *)(a2 + 0x20);
          v412 = *(float *)(a2 + 0x28);
          v413 = *(float *)(a1 + 0x1E4);
          v414 = *(float *)(a1 + 0x1DC);
          v415 = *(unsigned int *)(a1 + 0x1E0);
          v416 = (float)((float)(COERCE_FLOAT(LODWORD(v414) ^ 0x80000000) * v411) + (float)(v410 * v409))
               + (float)((float)(COERCE_FLOAT(v415 ^ 0x80000000) * v407) + (float)(v413 * v412));
          v417 = v415 ^ xmmword_1480DD750;
          LODWORD(v418) = COERCE_UNSIGNED_INT(
                            (float)((float)(v411 * v410) + (float)(v409 * v414))
                          + (float)((float)(v407 * v413) + (float)(v412 * *(float *)&v415)))
                        & 0x80000000
                        | 0x3F800000;
          *(float *)&v417 = (float)((float)((float)((float)(COERCE_FLOAT(v415 ^ 0x80000000) * v409)
                                                  - (float)(v412 * COERCE_FLOAT(LODWORD(v414) ^ 0x80000000)))
                                          - (float)(v410 * v407))
                                  + (float)(v413 * v411))
                          * v418;
          v419 = v417;
          v421 = (__m128)LODWORD(v418);
          v421.m128_f32[0] = v418
                           * (float)((float)((float)(v407 * COERCE_FLOAT(LODWORD(v414) ^ 0x80000000))
                                           - (float)((float)(COERCE_FLOAT(v415 ^ 0x80000000) * v411)
                                                   + (float)(v412 * v410)))
                                   + (float)(v413 * v409));
          v420 = v421;
          v423 = LODWORD(v418);
          *(float *)&v423 = v418 * v416;
          v422 = v418 * v416;
          if ( (float)((float)((float)(v420.m128_f32[0] * v420.m128_f32[0]) + (float)(*(float *)&v419 * *(float *)&v419))
                     + (float)(v422 * v422)) <= 0.000000090000007 )
          {
            *(_QWORD *)(a1 + 0x9F0) = 0;
            v445 = 0xFFFFFFFF;
            *(_QWORD *)(a1 + 0x9E8) = 0;
          }
          else
          {
            v424 = 1.0;
            *(float *)&v423 = (float)(*(float *)&v423 + *(float *)&v423) * (float)(1.0 / *(float *)&_XMM15);
            _XMM8 = v423;
            v426 = v419;
            *(float *)&v426 = (float)(*(float *)&v419 + *(float *)&v419) * (float)(1.0 / *(float *)&_XMM15);
            _XMM10 = v426;
            v428 = v420;
            v428.m128_f32[0] = (float)(v420.m128_f32[0] + v420.m128_f32[0]) * (float)(1.0 / *(float *)&_XMM15);
            _XMM9 = v428;
            *(float *)(a1 + 0x9F4) = *(float *)&_XMM15;
            v430 = *(float *)(a1 + 0x580);
            if ( (float)((float)((float)(*(float *)&_XMM10 * *(float *)&_XMM10)
                               + (float)(_XMM9.m128_f32[0] * _XMM9.m128_f32[0]))
                       + (float)(*(float *)&_XMM8 * *(float *)&_XMM8)) > (float)(v430 * v430) )
            {
              __asm
              {
                vminss  xmm0, xmm8, xmm2
                vmaxss  xmm8, xmm0, xmm3
                vminss  xmm0, xmm10, xmm2
                vminss  xmm1, xmm9, xmm2
                vmaxss  xmm9, xmm1, xmm3
                vmaxss  xmm10, xmm0, xmm3
              }
              v437 = _XMM10;
              v437.m128_f32[0] = (float)((float)(_XMM10.m128_f32[0] * _XMM10.m128_f32[0])
                                       + (float)(*(float *)&_XMM9 * *(float *)&_XMM9))
                               + (float)(*(float *)&_XMM8 * *(float *)&_XMM8);
              if ( v437.m128_f32[0] <= 9.9999997e-21 )
              {
                v441 = 0.0;
                v442 = 0.0;
              }
              else
              {
                _XMM0 = _mm_shuffle_ps(v437, v437, 0);
                __asm { vrsqrtps xmm3, xmm0 }
                _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                v440 = (float)(1.5
                             - (float)((float)((float)(v437.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                     * _XMM3.m128_f32[0];
                v441 = _XMM10.m128_f32[0] * v440;
                v442 = *(float *)&_XMM9 * v440;
                v424 = *(float *)&_XMM8 * v440;
              }
              v443 = v420;
              v443.m128_f32[0] = (float)((float)(v420.m128_f32[0] * v420.m128_f32[0])
                                       + (float)(*(float *)&v419 * *(float *)&v419))
                               + (float)(v422 * v422);
              v444 = _mm_sqrt_ps(_mm_shuffle_ps(v443, v443, 0));
              v444.m128_f32[0] = _mm_shuffle_ps(v444, v444, 0xFF).m128_f32[0];
              *(float *)(a1 + 0x9F4) = (float)(v444.m128_f32[0] + v444.m128_f32[0]) / v430;
              *(float *)&_XMM8 = v424 * v430;
              _XMM9.m128_f32[0] = v442 * v430;
              *(float *)&_XMM10 = v441 * v430;
            }
            *(float *)(a1 + 0x9E8) = *(float *)&_XMM10;
            *(float *)(a1 + 0x9EC) = _XMM9.m128_f32[0];
            *(float *)(a1 + 0x9F0) = *(float *)&_XMM8;
            v445 = *(_DWORD *)(a2 + 0x4C);
          }
          *(_DWORD *)(a1 + 0x9F8) = v445;
          v446 = *(unsigned int *)(a1 + 0x9E8);
          v447 = *(float *)(a1 + 0x9EC);
          v448 = *(unsigned int *)(a1 + 0x9F0);
          *(float *)(a1 + 0x680) = *(float *)&v446;
          *(float *)(a1 + 0x684) = v447;
          *(float *)(a1 + 0x688) = *(float *)&v448;
          v449 = *(float *)(a1 + 0x640);
          v450 = *(float *)(a1 + 0x64C);
          v451 = *(float *)(a1 + 0x648);
          v452 = *(float *)(a1 + 0x644);
          v453 = v446;
          v454 = (float)((float)(*(float *)&v448 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000))
                       - (float)(v447 * COERCE_FLOAT(LODWORD(v451) ^ 0x80000000)))
               + (float)(*(float *)&v446 * v450);
          *(float *)&v453 = (float)((float)(*(float *)&v446 * COERCE_FLOAT(LODWORD(v451) ^ 0x80000000))
                                  + (float)(*(float *)&v448 * v449))
                          + (float)(v447 * v450);
          v455 = v453;
          v456 = COERCE_FLOAT(LODWORD(v451) ^ 0x80000000) * *(float *)&v453;
          v457 = v448;
          *(float *)&v457 = (float)(*(float *)&v448 * v450)
                          - (float)((float)(*(float *)&v446 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000))
                                  + (float)(v447 * v449));
          v458 = v457;
          *(float *)&v457 = (float)((float)(*(float *)&v457 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000)) - v456)
                          + (float)(*(float *)&v446
                                  + (float)((float)(*(float *)&v457 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000)) - v456));
          v459 = v457;
          v460 = v458;
          *(float *)&v460 = (float)((float)(*(float *)&v458 * v449)
                                  + (float)(COERCE_FLOAT(LODWORD(v451) ^ 0x80000000) * v454))
                          + (float)(v447
                                  + (float)((float)(*(float *)&v458 * v449)
                                          + (float)(COERCE_FLOAT(LODWORD(v451) ^ 0x80000000) * v454)));
          v461 = v460;
          v462 = v455;
          *(float *)&v462 = *(float *)&v455 * v449;
          v463 = v462 ^ xmmword_1480DD750;
          *(float *)&v463 = (float)(*(float *)&v463 - (float)(v454 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000)))
                          + (float)(*(float *)&v448
                                  + (float)(*(float *)&v463 - (float)(v454 * COERCE_FLOAT(LODWORD(v452) ^ 0x80000000))));
          v464 = v463;
          *((_QWORD *)&v463 + 1) = *((_QWORD *)&v461 + 1);
          *(double *)&v463 = *(float *)&v461;
          v465 = v463;
          *((_QWORD *)&v463 + 1) = *((_QWORD *)&v464 + 1);
          *(double *)&v463 = *(float *)&v464 * *(double *)(a1 + 0x608);
          _XMM0 = v463;
          __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
          *((_QWORD *)&v463 + 1) = *((_QWORD *)&v465 + 1);
          *(double *)&v463 = *(double *)&v465 * *(double *)(a1 + 0x600);
          _XMM0 = v463;
          __asm { vcvtsd2ss xmm9, xmm0, xmm0 }
          *((_QWORD *)&v463 + 1) = *((_QWORD *)&v459 + 1);
          *(double *)&v463 = *(float *)&v459 * *(double *)(a1 + 0x5F8);
          _XMM2 = v463;
          __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
          v472 = (float)((float)(*(float *)&_XMM10 * v452) - (float)(*(float *)&_XMM9 * v451))
               + (float)(v450 * *(float *)&_XMM5);
          *(float *)&v459 = (float)((float)(*(float *)&_XMM5 * v451) - (float)(*(float *)&_XMM10 * v449))
                          + (float)(v450 * *(float *)&_XMM9);
          *(float *)&v464 = (float)((float)(*(float *)&_XMM9 * v449) - (float)(*(float *)&_XMM5 * v452))
                          + (float)(v450 * *(float *)&_XMM10);
          *(double *)(a1 + 0x678) = (float)((float)((float)(v449 * *(float *)&v459) - (float)(v452 * v472))
                                          + (float)(*(float *)&_XMM10
                                                  + (float)((float)(v449 * *(float *)&v459) - (float)(v452 * v472))));
          *(double *)(a1 + 0x668) = (float)((float)((float)(v452 * *(float *)&v464) - (float)(v451 * *(float *)&v459))
                                          + (float)(*(float *)&_XMM5
                                                  + (float)((float)(v452 * *(float *)&v464)
                                                          - (float)(v451 * *(float *)&v459))));
          *(double *)(a1 + 0x670) = (float)((float)((float)(v451 * v472) - (float)(v449 * *(float *)&v464))
                                          + (float)(*(float *)&_XMM9
                                                  + (float)((float)(v451 * v472) - (float)(v449 * *(float *)&v464))));
          v407 = *(float *)(a2 + 0x2C);
        }
        v473 = a2 + 8;
        v621 = *(double *)(a2 + 8);
        v474 = v621;
        v597 = v621;
        if ( (HIDWORD(v621) & 0xFFF40000) != 0xFFF40000
          || *(_DWORD *)(a2 + 0x50) && (LODWORD(v407) & 0xFFA00000) != 0xFFA00000 )
        {
          _XMM14 = *(_OWORD *)(a1 + 0x628);
          v476 = *(double *)(a1 + 0x638);
          v612 = _XMM14;
          v706 = v476;
          if ( (LODWORD(v407) & 0xFFA00000) == 0xFFA00000 )
          {
            LODWORD(_XMM11) = *(_DWORD *)(a1 + 0x1D8);
            LODWORD(_XMM4) = *(_DWORD *)(a1 + 0x1E4);
            LODWORD(_XMM10) = *(_DWORD *)(a1 + 0x1DC);
            LODWORD(_XMM12) = *(_DWORD *)(a1 + 0x1E0);
          }
          else
          {
            v481 = *(float *)(a1 + 0x9EC);
            v482 = *(float *)(a1 + 0x9F4);
            v483 = *(float *)(a1 + 0x1E4);
            v484 = *(float *)(a1 + 0x1D8);
            v485 = *(float *)(a1 + 0x1DC);
            v486 = *(float *)(a1 + 0x1E0);
            v683[0] = *(float *)(a1 + 0x9E8);
            v683[2] = *(float *)(a1 + 0x9F0);
            v683[1] = v481;
            v487 = v483;
            v488 = v484;
            v489 = v485;
            v490 = v486;
            v491 = (double *)sub_1467659C0((__int64)v708, v683, v482);
            v473 = a2 + 8;
            v492 = v491[3];
            v493 = v491[1];
            v494 = v491[2];
            v495 = COERCE_UNSIGNED_INT64(*v491 * v489 - v493 * v488 + v492 * v486 + v494 * v487);
            v496 = COERCE_UNSIGNED_INT64(v494 * v488 - *v491 * v486 + v492 * v489 + v493 * v487);
            v497 = COERCE_UNSIGNED_INT64(v493 * v486 - v494 * v489 + v492 * v488 + *v491 * v487);
            v498 = *v491 * v488;
            v474 = v597;
            _XMM14 = v612;
            v499 = v492 * v487 - (v493 * v489 + v498 + v494 * v490);
            _XMM2 = COERCE_UNSIGNED_INT64(
                      v499 * v499
                    + *(double *)&v497 * *(double *)&v497
                    + *(double *)&v496 * *(double *)&v496
                    + *(double *)&v495 * *(double *)&v495);
            __asm
            {
              vmovddup xmm3, xmm2
              vsqrtpd xmm0, xmm3
              vunpckhpd xmm0, xmm0, xmm0
            }
            v504 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM0);
            *((_QWORD *)&v506 + 1) = *((_QWORD *)&v497 + 1);
            *(double *)&v506 = *(double *)&v497 * *(double *)&v504;
            _XMM0 = v506;
            *((_QWORD *)&v506 + 1) = *((_QWORD *)&v504 + 1);
            *(double *)&v506 = *(double *)&v504 * v499;
            _XMM1 = v506;
            __asm
            {
              vcvtsd2ss xmm11, xmm0, xmm0
              vcvtsd2ss xmm4, xmm1, xmm1
            }
            *((_QWORD *)&v506 + 1) = *((_QWORD *)&v496 + 1);
            *(double *)&v506 = *(double *)&v496 * *(double *)&v504;
            _XMM0 = v506;
            *((_QWORD *)&v506 + 1) = *((_QWORD *)&v495 + 1);
            *(double *)&v506 = *(double *)&v495 * *(double *)&v504;
            _XMM1 = v506;
            __asm
            {
              vcvtsd2ss xmm10, xmm0, xmm0
              vcvtsd2ss xmm12, xmm1, xmm1
            }
          }
          v510 = *(float *)(a1 + 0x6E0);
          v511 = *(float *)(a1 + 0x6DC);
          v512 = *(float *)(a1 + 0x6D8);
          v513 = (float)((float)(v510 * *(float *)&_XMM10) - (float)(*(float *)&_XMM12 * v511))
               + (float)(v512 * *(float *)&_XMM4);
          v514 = (float)((float)(*(float *)&_XMM12 * v512) - (float)(*(float *)&_XMM11 * v510))
               + (float)(v511 * *(float *)&_XMM4);
          v515 = (float)((float)(*(float *)&_XMM11 * v511) - (float)(v512 * *(float *)&_XMM10))
               + (float)(v510 * *(float *)&_XMM4);
          v516 = LODWORD(v512);
          *(float *)&v516 = (float)(v512 + (float)((float)(*(float *)&_XMM10 * v515) - (float)(*(float *)&_XMM12 * v514)))
                          + (float)((float)(*(float *)&_XMM10 * v515) - (float)(*(float *)&_XMM12 * v514));
          v517 = v516;
          v518 = (float)(v511 + (float)((float)(*(float *)&_XMM12 * v513) - (float)(*(float *)&_XMM11 * v515)))
               + (float)((float)(*(float *)&_XMM12 * v513) - (float)(*(float *)&_XMM11 * v515));
          v625 = v474;
          v519 = (float)(v510 + (float)((float)(*(float *)&_XMM11 * v514) - (float)(*(float *)&_XMM10 * v513)))
               + (float)((float)(*(float *)&_XMM11 * v514) - (float)(*(float *)&_XMM10 * v513));
          if ( (HIDWORD(v474) & 0xFFF40000) == 0xFFF40000 )
          {
            v473 = a1 + 0x1C0;
            v474 = *(double *)(a1 + 0x1C0);
          }
          v520 = *(_QWORD *)(a1 + 0x2C0);
          v521 = v519 + *(double *)(v473 + 0x10) - v706;
          __asm { vunpckhpd xmm0, xmm14, xmm14 }
          v523 = v518 + *(double *)(v473 + 8) - *(double *)&_XMM0;
          *((_QWORD *)&v524 + 1) = *((_QWORD *)&v517 + 1);
          v525 = *(float *)&v517 + v474 - *(double *)&_XMM14;
          *(double *)&v524 = v525 * v525 + v523 * v523 + v521 * v521;
          _XMM9 = v524;
          if ( *(double *)&v524 <= (float)(*(float *)(v520 + 0x13C) * *(float *)(v520 + 0x13C)) )
          {
            *(_QWORD *)(a1 + 0x9DC) = 0;
            *(_QWORD *)(a1 + 0x9D4) = 0;
          }
          else
          {
            v527 = 1.0 / v569;
            _XMM2 = COERCE_UNSIGNED_INT64(v527 * v523);
            _XMM0 = COERCE_UNSIGNED_INT64(v527 * v525);
            _XMM3 = COERCE_UNSIGNED_INT64(v527 * v521);
            __asm
            {
              vcvtsd2ss xmm4, xmm3, xmm3
              vcvtsd2ss xmm6, xmm0, xmm0
              vcvtsd2ss xmm7, xmm2, xmm2
            }
            *(float *)(a1 + 0x9E0) = v569;
            v534 = *(unsigned int *)(v520 + 0x2B4);
            v611 = *(float *)&_XMM4;
            if ( (float)((float)((float)(*(float *)&_XMM7 * *(float *)&_XMM7)
                               + (float)(*(float *)&_XMM6 * *(float *)&_XMM6))
                       + (float)(*(float *)&_XMM4 * *(float *)&_XMM4)) > (float)(*(float *)&v534 * *(float *)&v534) )
            {
              __asm
              {
                vminss  xmm0, xmm4, xmm2
                vmaxss  xmm8, xmm0, xmm3
                vminss  xmm0, xmm6, xmm2
                vminss  xmm1, xmm7, xmm2
                vmaxss  xmm7, xmm1, xmm3
              }
              v541 = _XMM7;
              __asm { vmaxss  xmm6, xmm0, xmm3 }
              v541.m128_f32[0] = (float)((float)(_XMM7.m128_f32[0] * _XMM7.m128_f32[0])
                                       + (float)(*(float *)&_XMM6 * *(float *)&_XMM6))
                               + (float)(*(float *)&_XMM8 * *(float *)&_XMM8);
              if ( v541.m128_f32[0] <= 9.9999997e-21 )
              {
                v546 = 1.0;
                v545 = 0.0;
              }
              else
              {
                _XMM0 = _mm_shuffle_ps(v541, v541, 0);
                __asm { vrsqrtps xmm3, xmm0 }
                _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                v544 = (float)(1.5
                             - (float)((float)((float)(v541.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                     * _XMM3.m128_f32[0];
                v545 = *(float *)&_XMM6 * v544;
                v546 = *(float *)&_XMM8 * v544;
              }
              *(float *)&_XMM4 = *(float *)&v534 * v546;
              v547 = v534;
              *(float *)&v547 = *(float *)&v534 * v545;
              _XMM6 = v547;
              __asm { vmovddup xmm0, xmm9 }
              __asm { vsqrtpd xmm2, xmm0 }
              __asm { vunpckhpd xmm2, xmm2, xmm2 }
              *((_QWORD *)&v547 + 1) = *((_QWORD *)&_XMM2 + 1);
              *(double *)&v547 = *(double *)&_XMM2 / *(float *)&v534;
              _XMM0 = v547;
              __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
              *(float *)(a1 + 0x9E0) = *(float *)&_XMM1;
              v611 = *(float *)&_XMM4;
            }
            __asm { vunpcklps xmm0, xmm6, xmm7 }
            *(double *)(a1 + 0x9D4) = *(double *)&_XMM0;
            *(float *)(a1 + 0x9DC) = *(float *)&_XMM4;
            v408 = *(_DWORD *)(a2 + 0x4C);
            v610 = *(double *)&_XMM0;
          }
          *(_DWORD *)(a1 + 0x9E4) = v408;
          v554 = *(float *)(a1 + 0x9D4);
          _XMM5 = *(unsigned __int64 *)(a1 + 0x6B0);
          *(float *)(a1 + 0x694) = *(float *)(a1 + 0x9DC);
          v557 = *(unsigned __int64 *)(a1 + 0x68C);
          *(float *)&v557 = v554;
          _XMM0 = v557;
          *(double *)(a1 + 0x68C) = *(double *)&v557;
          __asm { vinsertps xmm1, xmm0, dword ptr [rdi+9D8h], 10h }
          *(double *)(a1 + 0x68C) = *(double *)_XMM1.m128_u64;
          __asm { vcvtpd2ps xmm5, xmm5 }
          *(double *)&v612 = *(double *)_XMM1.m128_u64;
          *(double *)(a1 + 0x660) = (float)(*(float *)&_XMM5 * *(float *)(a1 + 0x694));
          *(double *)(a1 + 0x650) = (float)(*(float *)&_XMM5 * _XMM1.m128_f32[0]);
          *(double *)(a1 + 0x658) = (float)(*(float *)&_XMM5 * _mm_shuffle_ps(_XMM1, _XMM1, 0x55).m128_f32[0]);
        }
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A0LL))(a1);
        *(_QWORD *)&v612 = *(_QWORD *)(a2 + 8);
        if ( (DWORD1(v612) & 0xFFF40000) != 0xFFF40000 )
        {
          *(_DWORD *)(a1 + 0x698) = *(_DWORD *)(a1 + 0x68C);
          *(_DWORD *)(a1 + 0x69C) = *(_DWORD *)(a1 + 0x690);
          *(_DWORD *)(a1 + 0x6A0) = *(_DWORD *)(a1 + 0x694);
        }
        if ( (*(_DWORD *)(a2 + 0x2C) & 0xFFA00000) != 0xFFA00000 )
        {
          *(_DWORD *)(a1 + 0x6A4) = *(_DWORD *)(a1 + 0x680);
          *(_DWORD *)(a1 + 0x6A8) = *(_DWORD *)(a1 + 0x684);
          *(_DWORD *)(a1 + 0x6AC) = *(_DWORD *)(a1 + 0x688);
        }
        v7 = 1;
      }
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_2 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_2);
      }
      p_n0x2800 = &n0x2800_7;
      v672 = __rdtsc();
LABEL_383:
      qword_149A0FD88(p_n0x2800);
      goto LABEL_384;
    }
    v357 = (volatile signed __int64 *)(a1 + 0xC8);
    v358 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v358 )
      sub_1403DE750(a1 + 0xC8, v358, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockUpdate", 1);
    v359 = 0;
    *(_OWORD *)v604.m256_f32 = 0;
    v360 = *(_DWORD *)(a2 + 8) & 0xFFA00000;
    v604.m256_f32[7] = NAN;
    v604.m256_f32[4] = 0.0;
    v604.m256_f32[5] = 0.0;
    if ( v360 != 0xFFA00000 )
    {
      _XMM2 = *(unsigned __int64 *)(a2 + 8);
      _XMM3 = *(unsigned int *)(a2 + 0x10);
      _XMM0 = _XMM2 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm6, xmm2, xmm7, xmm1
      }
      _XMM2 = (unsigned int)HIDWORD(*(_QWORD *)(a2 + 8));
      _XMM0 = _XMM2 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm4, xmm2, xmm7, xmm1
      }
      _XMM0 = _XMM3 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm5, xmm3, xmm7, xmm1
      }
      v359 = (float)((float)((float)(*(float *)&_XMM4 * *(float *)&_XMM4) + (float)(*(float *)&_XMM6 * *(float *)&_XMM6))
                   + (float)(*(float *)&_XMM5 * *(float *)&_XMM5)) > 0.0;
      v604.m256_f32[1] = *(float *)&_XMM4;
      v604.m256_f32[0] = *(float *)&_XMM6;
      v604.m256_f32[2] = *(float *)&_XMM5;
    }
    if ( (*(_DWORD *)(a2 + 0x14) & 0xFFA00000) != 0xFFA00000 )
    {
      _XMM2 = *(unsigned __int64 *)(a2 + 0x14);
      _XMM3 = *(unsigned int *)(a2 + 0x1C);
      _XMM0 = _XMM2 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm6, xmm2, xmm7, xmm1
      }
      _XMM2 = (unsigned int)HIDWORD(*(_QWORD *)(a2 + 0x14));
      _XMM0 = _XMM2 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm4, xmm2, xmm7, xmm1
      }
      _XMM0 = _XMM3 & 0x7FFFFFFF;
      __asm
      {
        vcmpltss xmm1, xmm0, xmm9
        vblendvps xmm5, xmm3, xmm7, xmm1
      }
      if ( (float)((float)((float)(*(float *)&_XMM4 * *(float *)&_XMM4) + (float)(*(float *)&_XMM6 * *(float *)&_XMM6))
                 + (float)(*(float *)&_XMM5 * *(float *)&_XMM5)) > 0.0 )
        v359 = 1;
      v604.m256_f32[4] = *(float *)&_XMM4;
      v604.m256_f32[3] = *(float *)&_XMM6;
      v604.m256_f32[5] = *(float *)&_XMM5;
    }
    _XMM3 = *(unsigned int *)(a2 + 0x20);
    v386 = *(float *)(a2 + 4);
    _XMM0 = *(_DWORD *)(a2 + 0x20) & 0xFFA00000;
    __asm
    {
      vpcmpeqd xmm2, xmm0, xmm1
      vblendvps xmm0, xmm3, xmm10, xmm2
    }
    v604.m256_f32[6] = *(float *)&_XMM0;
    if ( LODWORD(v386) == 0x80000000
      || (v390 = *(_QWORD *)(a1 + 0x980), v391 = *(_QWORD *)(a1 + 0x988), v604.m256_f32[7] = v386, v390 == v391) )
    {
LABEL_309:
      if ( v359 )
      {
        v392 = *(__m256 **)(a1 + 0x988);
        if ( v392 == *(__m256 **)(a1 + 0x990) )
        {
          sub_140349020((__int64 *)(a1 + 0x980), v392, (__m256i *)&v604);
        }
        else
        {
          *v392 = v604;
          *(_QWORD *)(a1 + 0x988) += 0x20LL;
        }
LABEL_315:
        __asm { vzeroupper }
        (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 1);
        if ( (*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)a1 + 0x270LL))(a1, 0xFFFFFFFFLL) )
        {
          *(_QWORD *)&v597 = a1 + 0x8C8;
          v393 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
          if ( (v393 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0x8C8),
              v393,
              (__int64)"CRigidEntity::Action",
              (__int64)"m_lockContacts",
              1);
          n0x40 = 0;
          v395 = 1;
          n0x40_1 = 0;
          v396 = 0;
          v397 = 0;
          do
          {
            v398 = *(_QWORD *)(a1 + 0x500);
            if ( v395 > v398 )
              break;
            if ( (v395 & v398) != 0 && !*(_QWORD *)(v397 + *(_QWORD *)(a1 + 0x4F0)) )
            {
              v399 = *(_DWORD **)(*(_QWORD *)(a1 + 0x4E8) + v396 + 0x20);
              if ( v399 )
              {
                if ( v399[0x3D] < 7u )
                {
                  (*(void (__fastcall **)(_DWORD *, __int64, _QWORD))(*(_QWORD *)v399 + 0x268LL))(v399, 1, 0);
                  n0x40 = n0x40_1;
                }
              }
            }
            ++n0x40;
            v395 = __ROL8__(v395, 1);
            v397 += 0x100;
            n0x40_1 = n0x40;
            v396 += 0x108;
          }
          while ( n0x40 < 0x40 );
          v400 = _InterlockedDecrement64(*(volatile signed __int64 **)&v597);
          if ( (v400 & 0x3FF) == 0 && (v400 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0(*(volatile signed __int64 **)&v597, v400);
          v357 = (volatile signed __int64 *)(a1 + 0xC8);
        }
      }
    }
    else
    {
      while ( *(_DWORD *)(v390 + 0x1C) != LODWORD(v386) )
      {
        v390 += 0x20;
        if ( v390 == v391 )
          goto LABEL_309;
      }
      *(__m256 *)v390 = v604;
      if ( v359 )
        goto LABEL_315;
    }
    if ( v357 )
    {
      n0x200000_3 = _InterlockedCompareExchange64(v357, 0, 0x200000);
      if ( n0x200000_3 != 0x200000 )
      {
        __asm { vzeroupper }
        sub_1403DEBA0(v357, n0x200000_3);
      }
    }
    v7 = 1;
    goto LABEL_387;
  }
  v191 = *(_DWORD *)(a2 + 0xC);
  v567 = 0xFFFFFFFF;
  if ( (v191 & 0x80000) == 0 )
  {
    v567 = 0xFDFFFFFF;
    *(_DWORD *)(a2 + 0xC) = v191 | 0x80000;
  }
  v192 = *(_DWORD *)(a2 + 8);
  n0x2000000 = 0;
  if ( (v192 & 0x80000) != 0 )
  {
    n0x2000000 = 0x2000000;
    *(_DWORD *)(a2 + 8) = v192 & 0xFFF7FFFF;
  }
  *(_QWORD *)&v597 = a1 + 0xC8;
  v193 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
  if ( v193 )
    sub_1403DE750(a1 + 0xC8, v193, 0, (__int64)"CRigidEntity::Action", (__int64)"m_lockUpdate", 1);
  if ( *(_DWORD *)(a2 + 4) == 0x80000000 )
  {
    if ( *(_QWORD *)(a1 + 0x500)
      && !*(_DWORD *)(a2 + 0x9C)
      && (*(_BYTE *)(a1 + 0x208) & 0x20) == 0
      && *(int *)(a1 + 0xE8) >= 0 )
    {
      (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 0);
    }
    if ( *(_DWORD *)(a2 + 0x10) )
    {
      v194 = *(_DWORD *)(a1 + 0x148) - 1;
      for ( i = v194; i >= 0; --i )
      {
        v196 = *(_QWORD *)(a1 + 0x4C8);
        v197 = *(_QWORD *)(v196 + 8 * i);
        if ( v197 )
        {
          *(_QWORD *)(a1 + 0x500) &= ~v197;
          *(_QWORD *)(v196 + 8 * i) = 0;
          if ( !*(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8 * i) )
          {
            v198 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * i);
            if ( !(*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)v198 + 0x240LL))(v198, a1) )
            {
              v199 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * i);
              if ( v199 )
                sub_1467E0E20(a1, v199, 1, 1, 0);
            }
          }
          if ( !*(_DWORD *)(a2 + 0x9C) )
          {
            v200 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * i);
            if ( (*(_BYTE *)(v200 + 0x208) & 0x20) == 0 && *(int *)(v200 + 0xE8) >= 0 )
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v200 + 0x268LL))(v200, 1, 0);
          }
        }
      }
      (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x388LL))(a1);
      v7 = 1;
    }
    else
    {
      n0x3F = 0x3F;
      n0x3F_1 = 0x3F;
      n0x3F00 = 0x3F00;
      v203 = 0x8000000000000000uLL;
      n0x40F8 = 0x40F8;
      do
      {
        if ( (v203 & *(_QWORD *)(a1 + 0x500)) != 0 )
        {
          *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00 + 0x68) = *(_DWORD *)(a2 + 8)
                                                                | *(_DWORD *)(a2 + 0xC)
                                                                & *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00 + 0x68);
          *(_DWORD *)(n0x40F8 + *(_QWORD *)(a1 + 0x4E8) + 0x94) = n0x2000000
                                                                | *(_DWORD *)(n0x40F8 + *(_QWORD *)(a1 + 0x4E8) + 0x94)
                                                                & v567;
          if ( !*(_DWORD *)(a2 + 0x9C) )
          {
            v205 = *(_QWORD *)(n0x40F8 + *(_QWORD *)(a1 + 0x4E8) + 0x20);
            if ( (*(_BYTE *)(v205 + 0x208) & 0x20) == 0 && *(int *)(v205 + 0xE8) >= 0 )
            {
              (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v205 + 0x268LL))(v205, 1, 0);
              n0x3F = n0x3F_1;
            }
          }
        }
        --n0x3F;
        v203 = __ROR8__(v203, 1);
        n0x3F00 -= 0x100;
        n0x3F_1 = n0x3F;
        n0x40F8 -= 0x108;
      }
      while ( n0x3F >= 0 );
      v3 = 0;
      v7 = 1;
    }
    goto LABEL_268;
  }
  v578 = 0;
  n0x40F8_1 = 0x40F8;
  n0x3F_2 = 0x3F;
  n0x3F_3 = 0x3F;
  v207 = 0x8000000000000000uLL;
  n0x81F = 0x81F;
  v587 = 0x8000000000000000uLL;
  n0x2B5 = 0x2B5;
  n0x81F_1 = 0x81F;
  n0x3F_4 = 0x3F;
  *(_QWORD *)&v600 = 0x3F0;
  n0x4118 = 0x4118;
  n0x2B5_1 = 0x2B5;
  n0x3F00_1 = 0x3F00;
  n0x40F8_2 = 0x40F8;
  n0x4118_1 = 0x4118;
  n0x40F8_3 = 0x40F8;
  n0x3F0 = 0x3F0;
  n0x3F_5 = 0x3F;
  do
  {
    if ( (v207 & *(_QWORD *)(a1 + 0x500)) == 0 )
      goto LABEL_264;
    v216 = *(_QWORD *)(a1 + 0x4F0);
    if ( *(_DWORD *)(n0x3F00_1 + v216 + 8) != *(_DWORD *)(a2 + 4) )
    {
      n0x40F8_3 = n0x40F8_2;
      goto LABEL_263;
    }
    v217 = (float *)(a2 + 0x4C);
    v218 = (double *)(a2 + 0x18);
    n2_1 = 0;
    *(_DWORD *)(n0x3F00_1 + v216 + 0x68) = *(_DWORD *)(a2 + 8)
                                         | *(_DWORD *)(a2 + 0xC) & *(_DWORD *)(n0x3F00_1 + v216 + 0x68);
    n2_2 = 0;
    v565 = (float *)(a2 + 0x4C);
    *(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) = n0x2000000
                                                            | *(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94)
                                                            & v567;
    v624 = 0x18 - a2;
    do
    {
      v220 = *v218;
      v609 = *v218;
      if ( (HIDWORD(v609) & 0xFFF40000) != 0xFFF40000 )
      {
        if ( (*(_BYTE *)(a2 + 0x98) & 2) != 0 )
        {
          v221 = v218[2];
          v700 = *(_OWORD *)v218;
          v701 = v221;
          v222 = (double *)&v700;
        }
        else
        {
          v223 = v218[2];
          v224 = v218[1];
          v225 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * (v3 + n0x81F) + 0x18);
          v226 = *(float *)(v225 + 0x1E0);
          v227 = *(float *)(v225 + 0x1E4);
          v228 = *(float *)(v225 + 0x1DC);
          v229 = *(float *)(v225 + 0x1D8);
          v230 = v228 * v223 - v226 * v224 + v227 * v220;
          v231 = v226 * v220 - v229 * v223 + v227 * v224;
          v232 = v229 * v224 - v228 * v220 + v227 * v223;
          v233 = v232 * v228 - v231 * v226;
          v234 = v230 * v226 - v232 * v229;
          v235 = v223 + *(double *)(v225 + 0x1D0) + v231 * v229 - v230 * v228 + v231 * v229 - v230 * v228;
          v236 = v224 + *(double *)(v225 + 0x1C8) + v234 + v234;
          v682[0] = v233 + v233 + v220 + *(double *)(v225 + 0x1C0);
          v682[1] = v236;
          v682[2] = v235;
          v222 = v682;
        }
        v237 = v222[2];
        v238 = 3 * (v3 + n0x2B5);
        v239 = *(_QWORD *)(a1 + 0x4E8);
        *(_OWORD *)(v239 + 8 * v238 + 0x40) = *(_OWORD *)v222;
        *(double *)(v239 + 8 * v238 + 0x50) = v237;
        v240 = sub_1467CD840(v707, *(_QWORD *)(a1 + 0x4E8) + n0x40F8_2, (unsigned int)n2_1);
        v217 = v565;
        n2_1 = n2_2;
        n0x81F = n0x81F_1;
        v241 = *(_OWORD *)v240;
        v242 = *(double *)(v240 + 0x10);
        n0x2B5 = n0x2B5_1;
        v243 = v624 + n0x3F00_1 + *(_QWORD *)(a1 + 0x4F0);
        *(_OWORD *)((char *)v218 + v243) = v241;
        *(double *)((char *)v218 + v243 + 0x10) = v242;
      }
      v244 = v217[2];
      if ( (LODWORD(v244) & 0xFFA00000) != 0xFFA00000 )
      {
        v245 = v217[0xFFFFFFFF];
        v246 = *v217;
        v247 = v217[1];
        if ( (*(_BYTE *)(a2 + 0x98) & 1) != 0 )
        {
          v248 = *(float **)(*(_QWORD *)(a1 + 0x4E8) + 8 * (v3 + n0x81F) + 0x18);
          v249 = v248[0x76];
          v250 = v248[0x77];
          v251 = v248[0x79];
          v252 = v248[0x78];
          v253 = (float)((float)((float)(v246 * v249) - (float)(v245 * v250)) + (float)(v247 * v251))
               + (float)(v244 * v252);
          v254 = (float)((float)((float)(v245 * v252) - (float)(v247 * v249)) + (float)(v246 * v251))
               + (float)(v244 * v250);
          v255 = (float)(v246 * v250) + (float)(v245 * v249);
          v245 = (float)((float)((float)(v247 * v250) - (float)(v246 * v252)) + (float)(v245 * v251))
               + (float)(v244 * v249);
          v244 = (float)(v244 * v251) - (float)(v255 + (float)(v247 * v252));
          v246 = v254;
          v247 = v253;
        }
        v256 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * (v3 + n0x81F) + 0x28);
        v257 = *(_QWORD *)(a1 + 0x4F0);
        v258 = *(float *)(v256 + 0x90);
        v259 = *(float *)(v256 + 0x9C);
        LODWORD(v260) = *(_DWORD *)(v256 + 0x94) ^ 0x80000000;
        LODWORD(v261) = *(_DWORD *)(v256 + 0x98) ^ 0x80000000;
        v262 = 2 * (v3 + *(_QWORD *)&v600);
        v263 = (float)((float)(v247 * v259) - (float)((float)(v245 * v260) + (float)(v246 * v258)))
             + (float)(v244 * v261);
        *(float *)(v257 + 8 * v262 + 0x14) = v263;
        v264 = (float)((float)(v245 * v261) + (float)(v247 * v258))
             + (float)((float)(v244 * v260) + (float)(v246 * v259));
        *(float *)(v257 + 8 * v262 + 0x10) = v264;
        v265 = (float)((float)((float)(v247 * v260) - (float)(v246 * v261)) + (float)(v245 * v259))
             - (float)(v244 * v258);
        *(float *)(v257 + 8 * v262 + 0xC) = v265;
        v266 = (float)(v244 * v259)
             - (float)((float)((float)(v246 * v260) - (float)(v245 * v258)) + (float)(v247 * v261));
        *(float *)(v257 + 8 * v262 + 0x18) = v266;
        v267 = *(_QWORD *)(a1 + 0x4E8);
        if ( n2_1 == ((COERCE_UNSIGNED_INT64(
                         *(double *)(*(_QWORD *)(n0x40F8_1 + v267 + 0x30) + 0x108LL)
                       - *(double *)(*(_QWORD *)(n0x40F8_1 + v267 + 0x28) + 0x108LL)) >> 0x3F)
                    & ((*(_DWORD *)(*(_QWORD *)(n0x40F8_1 + v267 + 0x20) + 0xF4LL) - 3) >> 0x1F)
                    & (unsigned int)~(*(_DWORD *)(*(_QWORD *)(n0x40F8_1 + v267 + 0x20) + 0xF0LL) >> 0x1F)) )
        {
          *(float *)(n0x40F8_1 + v267 + 0x84) = (float)((float)((float)(COERCE_FLOAT(LODWORD(v264) ^ 0x80000000) * v264)
                                                              - (float)(v263 * v263))
                                                      + 1.0)
                                              + (float)((float)(COERCE_FLOAT(LODWORD(v264) ^ 0x80000000) * v264)
                                                      - (float)(v263 * v263));
          *(float *)(n0x40F8_1 + v267 + 0x88) = (float)((float)(v266 * v263)
                                                      - (float)(COERCE_FLOAT(LODWORD(v264) ^ 0x80000000) * v265))
                                              + (float)((float)(v266 * v263)
                                                      - (float)(COERCE_FLOAT(LODWORD(v264) ^ 0x80000000) * v265));
          *(float *)(n0x40F8_1 + v267 + 0x8C) = (float)((float)(v263 * v265) - (float)(v266 * v264))
                                              + (float)((float)(v263 * v265) - (float)(v266 * v264));
        }
      }
      n0x81F = n0x81F_1;
      ++n2_1;
      v217 += 4;
      n2_2 = n2_1;
      ++v3;
      v565 = v217;
      v218 += 3;
    }
    while ( n2_1 < 2 );
    v3 = 0;
    if ( (*(_DWORD *)(a2 + 0x78) & 0xFFA00000) != 0xFFA00000 )
    {
      v268 = *(_QWORD *)(a1 + 0x4E8);
      *(double *)(v268 + n0x40F8_1 + 0x9C) = *(double *)(a2 + 0x78);
      *(_DWORD *)(v268 + n0x40F8_1 + 0xA4) = *(_DWORD *)(a2 + 0x80);
    }
    if ( (*(_DWORD *)(a2 + 0x90) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) == 0 )
    {
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x9C) = *(float *)(a2 + 0x90);
    }
    v269 = *(float *)(a2 + 0x84);
    if ( (LODWORD(v269) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) != 0 )
    {
      v270 = *(_QWORD *)(a1 + 0x4F0);
      if ( (*(_DWORD *)(v270 + n0x3F00_1 + 0x68) & 0x3800000) != 0 )
      {
        v271 = *(float *)(a2 + 0x8C);
        v272 = *(float *)(v270 + n0x3F00_1 + 0x10);
        v273 = *(float *)(a2 + 0x88);
        v274 = *(float *)(v270 + n0x3F00_1 + 0x14);
        v275 = *(float *)(v270 + n0x3F00_1 + 0x18);
        v276 = *(float *)(v270 + n0x3F00_1 + 0xC);
        v277 = (float)((float)(v272 * v271) - (float)(v274 * v273)) + (float)(v275 * v269);
        v278 = (float)((float)(v274 * v269) - (float)(v271 * v276)) + (float)(v275 * v273);
        v279 = (float)((float)(v273 * v276) - (float)(v272 * v269)) + (float)(v275 * v271);
        *(float *)(v270 + n0x3F00_1 + 0xA8) = (float)((float)((float)(v279 * v272) - (float)(v278 * v274)) + v269)
                                            + (float)((float)(v279 * v272) - (float)(v278 * v274));
        *(float *)(v270 + n0x3F00_1 + 0xAC) = (float)((float)((float)(v274 * v277) - (float)(v279 * v276)) + v273)
                                            + (float)((float)(v274 * v277) - (float)(v279 * v276));
        *(float *)(v270 + n0x3F00_1 + 0xB0) = (float)((float)((float)(v278 * v276) - (float)(v277 * v272)) + v271)
                                            + (float)((float)(v278 * v276) - (float)(v277 * v272));
      }
    }
    if ( (*(_DWORD *)(a2 + 0x94) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) != 0 )
    {
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x9C) = *(float *)(a2 + 0x94);
    }
    if ( (*(_DWORD *)(a2 + 0x68) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) == 0 )
    {
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x98) = *(float *)(a2 + 0x68);
    }
    if ( (*(_DWORD *)(a2 + 0x6C) & 0xFFA00000) != 0xFFA00000
      && (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0xD00) == 0x100 )
    {
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x98) = *(float *)(a2 + 0x6C);
    }
    if ( (*(_DWORD *)(a2 + 0x74) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0xA0) = *(float *)(a2 + 0x74);
    if ( (*(_DWORD *)(a2 + 0x70) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00_1 + 0x6C) = *(float *)(a2 + 0x70);
    if ( !*(_DWORD *)(a2 + 0x9C) )
    {
      v280 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x4118_1 - 8);
      if ( (*(_BYTE *)(v280 + 0x208) & 0x20) == 0 && *(int *)(v280 + 0xE8) >= 0 )
        (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v280 + 0x268LL))(v280, 1);
      v281 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x4118_1);
      if ( (*(_BYTE *)(v281 + 0x208) & 0x20) == 0 && *(int *)(v281 + 0xE8) >= 0 )
        (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v281 + 0x268LL))(v281, 1);
    }
    if ( *(_DWORD *)(a2 + 0x10) )
    {
      v282 = *(unsigned int *)(a1 + 0x148);
      v283 = 0;
      v284 = 0;
      if ( (int)v282 > 0 )
      {
        n0x81F = n0x3F_2;
        v285 = *(__int64 **)(a1 + 0x4C8);
        do
        {
          v286 = *v285;
          if ( _bittest64(&v286, n0x3F_2) )
            break;
          ++v283;
          ++v284;
          ++v285;
        }
        while ( v283 < (int)v282 );
      }
      if ( v283 == (_DWORD)v282 )
      {
        v287 = 0;
      }
      else
      {
        n0x3F_6 = n0x3F_3;
        v289 = *(_QWORD *)(a1 + 0x4C8);
        *(_QWORD *)(a1 + 0x500) &= ~(1LL << n0x3F_3);
        v290 = *(_QWORD *)(v289 + 8 * v284) & ~(1LL << n0x3F_6);
        *(_QWORD *)(v289 + 8 * v284) = v290;
        if ( !v290 && !*(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8 * v284) )
        {
          v291 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * v284);
          if ( !(*(unsigned int (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)v291 + 0x240LL))(
                  v291,
                  a1,
                  v282,
                  n0x81F) )
          {
            v292 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * v284);
            if ( v292 )
              sub_1467E0E20(a1, v292, 1, 1, 0);
          }
        }
        v293 = *(_DWORD **)(n0x3F00_1 + *(_QWORD *)(a1 + 0x4F0));
        if ( v293 && v293[0x3D] < 7u )
          (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v293 + 0x268LL))(v293, 1);
        v287 = 1;
      }
      v578 += v287;
    }
    if ( (*(_DWORD *)(*(_QWORD *)(a1 + 0x4E8) + n0x40F8_1 + 0x94) & 0x100) != 0 )
    {
      if ( (*(_DWORD *)(a2 + 0xB8) & 0xFFA00000) != 0xFFA00000 )
      {
        v294 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v294 + n0x3F00_1 + 0xCC) = *(double *)(a2 + 0xB8);
        *(_DWORD *)(v294 + n0x3F00_1 + 0xD4) = *(_DWORD *)(a2 + 0xC0);
      }
      if ( (*(_DWORD *)(a2 + 0xC4) & 0xFFA00000) != 0xFFA00000 )
      {
        v295 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v295 + n0x3F00_1 + 0xD8) = *(double *)(a2 + 0xC4);
        *(_DWORD *)(v295 + n0x3F00_1 + 0xE0) = *(_DWORD *)(a2 + 0xCC);
      }
      n0x81F = n0x81F_1;
      n0x2B5 = n0x2B5_1;
      n0x40F8_3 = n0x40F8_2;
      *(double *)&n0x3F0 = v600;
      n0x4118 = n0x4118_1;
      n0x3F_5 = n0x3F_3;
      if ( (*(_DWORD *)(a2 + 0xE8) & 0xFFA00000) != 0xFFA00000 )
      {
        v296 = *(_QWORD *)(a1 + 0x4F0);
        *(_DWORD *)(v296 + n0x3F00_1 + 0xF0) = *(_DWORD *)(a2 + 0xDC);
        *(_DWORD *)(v296 + n0x3F00_1 + 0xF4) = *(_DWORD *)(a2 + 0xE0);
        *(_DWORD *)(v296 + n0x3F00_1 + 0xF8) = *(_DWORD *)(a2 + 0xE4);
        *(_DWORD *)(v296 + n0x3F00_1 + 0xFC) = *(_DWORD *)(a2 + 0xE8);
      }
    }
    else
    {
      if ( (*(_DWORD *)(a2 + 0xA0) & 0xFFA00000) != 0xFFA00000 )
      {
        v297 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v297 + n0x3F00_1 + 0xB4) = *(double *)(a2 + 0xA0);
        *(_DWORD *)(v297 + n0x3F00_1 + 0xBC) = *(_DWORD *)(a2 + 0xA8);
      }
      if ( (*(_DWORD *)(a2 + 0xAC) & 0xFFA00000) != 0xFFA00000 )
      {
        v298 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v298 + n0x3F00_1 + 0xC0) = *(double *)(a2 + 0xAC);
        *(_DWORD *)(v298 + n0x3F00_1 + 0xC8) = *(_DWORD *)(a2 + 0xB4);
      }
      n0x81F = n0x81F_1;
      n0x2B5 = n0x2B5_1;
      n0x40F8_3 = n0x40F8_2;
      *(double *)&n0x3F0 = v600;
      n0x4118 = n0x4118_1;
      n0x3F_5 = n0x3F_3;
      if ( (*(_DWORD *)(a2 + 0xD0) & 0xFFA00000) != 0xFFA00000 )
      {
        v299 = *(_QWORD *)(a1 + 0x4F0);
        *(double *)(v299 + n0x3F00_1 + 0xE4) = *(double *)(a2 + 0xD0);
        *(_DWORD *)(v299 + n0x3F00_1 + 0xEC) = *(_DWORD *)(a2 + 0xD8);
        v207 = v587;
        goto LABEL_263;
      }
    }
    v207 = v587;
LABEL_263:
    n0x3F_4 = n0x3F_2;
LABEL_264:
    --n0x3F_4;
    v207 = __ROR8__(v207, 1);
    --n0x3F_5;
    n0x3F_2 = n0x3F_4;
    n0x40F8_3 -= 0x108;
    n0x3F_3 = n0x3F_5;
    n0x2B5 -= 0xB;
    n0x40F8_2 = n0x40F8_3;
    n0x3F0 -= 0x10;
    v587 = v207;
    n0x81F -= 0x21;
    n0x2B5_1 = n0x2B5;
    n0x4118 -= 0x108;
    v600 = *(double *)&n0x3F0;
    n0x40F8_1 -= 0x108;
    n0x81F_1 = n0x81F;
    n0x3F00_1 -= 0x100;
    n0x4118_1 = n0x4118;
  }
  while ( n0x3F_4 >= 0 );
  if ( *(_DWORD *)(a2 + 0x10) )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x388LL))(a1);
  v7 = v578;
LABEL_268:
  if ( v597 != 0.0 )
  {
    n0x200000_4 = _InterlockedCompareExchange64(*(volatile signed __int64 **)&v597, 0, 0x200000);
    if ( n0x200000_4 != 0x200000 )
      sub_1403DEBA0(*(volatile signed __int64 **)&v597, n0x200000_4);
  }
LABEL_384:
  if ( !v704 )
  {
LABEL_387:
    if ( *(_DWORD *)v703 == 0x1B )
    {
      v561 = *(_QWORD *)(v703 + 8);
      v562 = HIWORD(v561);
      v563 = v561 & 0xFFFFFFFFFFFFLL;
      if ( (_WORD)v562 == *(_WORD *)(v563 + 0x40) )
        v3 = v563;
      if ( !*(_DWORD *)(v3 + 0x20) )
        _InterlockedIncrement((volatile signed __int32 *)(v3 + 0x20));
    }
  }
LABEL_392:
  v679 = __rdtsc();
  __asm { vzeroupper }
  qword_149A0FD88(&n0x2800);
  return v7;
}

// --- End Function: sub_1467795E0 (0x1467795E0) ---

// --- Function: sub_14677DF80 (0x14677DF80) ---
__int64 __fastcall sub_14677DF80(__int64 a1, __int64 a2, int a3)
{
  __int64 v3; // rsi
  int v7; // r12d
  unsigned int v8; // ebx
  float v9; // xmm4_4
  double v10; // xmm5_8
  double v11; // xmm7_8
  __int128 v12; // xmm12
  double v13; // xmm11_8
  __int128 v14; // kr00_16
  double v17; // xmm4_8
  float v18; // xmm8_4
  double v19; // xmm6_8
  double v20; // xmm6_8
  __int64 n3; // rax
  double v24; // xmm6_8
  __int128 v25; // xmm5
  __int128 v26; // kr00_16
  double v29; // xmm3_8
  __int128 v30; // kr00_16
  double v31; // xmm6_8
  double v32; // xmm2_8
  float v34; // xmm4_4
  double v35; // xmm7_8
  double v36; // xmm9_8
  double v38; // xmm6_8
  double v40; // xmm4_8
  __int128 v42; // kr00_16
  float v44; // xmm4_4
  double v45; // xmm7_8
  double v46; // xmm9_8
  double v48; // xmm6_8
  unsigned __int64 v50; // rdx
  unsigned __int64 v51; // rcx
  __int64 v52; // rdx
  double v54; // [rsp+48h] [rbp-B8h]
  double v55; // [rsp+58h] [rbp-A8h]
  double v56; // [rsp+60h] [rbp-A0h]
  double v57; // [rsp+68h] [rbp-98h]
  double v58; // [rsp+70h] [rbp-90h]
  double v59; // [rsp+78h] [rbp-88h]
  double v60; // [rsp+88h] [rbp-78h]
  int n0x2800; // [rsp+90h] [rbp-70h] BYREF
  __int64 v62; // [rsp+94h] [rbp-6Ch]
  int v63; // [rsp+9Ch] [rbp-64h]
  __int64 v64; // [rsp+A0h] [rbp-60h]
  unsigned __int64 v65; // [rsp+A8h] [rbp-58h]
  __int64 v66; // [rsp+B0h] [rbp-50h]
  __int64 v67; // [rsp+B8h] [rbp-48h]
  _BYTE v68[24]; // [rsp+E0h] [rbp-20h] BYREF
  __int64 v69; // [rsp+F8h] [rbp-8h]
  int v70; // [rsp+100h] [rbp+0h]
  unsigned int v71; // [rsp+104h] [rbp+4h]
  __int128 v72; // [rsp+108h] [rbp+8h]
  double v73; // [rsp+118h] [rbp+18h]
  __int128 v74; // [rsp+120h] [rbp+20h]
  double v75; // [rsp+130h] [rbp+30h]
  __int128 v76; // [rsp+138h] [rbp+38h]
  double v77; // [rsp+148h] [rbp+48h]
  float v78; // [rsp+220h] [rbp+120h]
  double v79; // [rsp+238h] [rbp+138h]

  v3 = 0;
  n0x2800 = 0x2800;
  v62 = 0;
  v63 = 0;
  v65 = 0;
  v66 = 0;
  v67 = 0;
  v64 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  sub_14676E130((__int64)v68, a1, *(_QWORD *)(a1 + 0x2C0), (int *)a2, a3, 0, 0, 0);
  v7 = v70;
  if ( v70 )
  {
    v8 = v71;
    goto LABEL_17;
  }
  if ( *(_DWORD *)a2 == 0x1C )
  {
    v9 = *(float *)(a2 + 0x48);
    if ( v9 == 0.0 )
    {
      v8 = 0;
    }
    else
    {
      v10 = *(double *)(a2 + 0x18) - *(double *)(a1 + 0x1D0);
      v11 = *(double *)(a2 + 0x10) - *(double *)(a1 + 0x1C8);
      v79 = *(double *)(a2 + 8) - *(double *)(a1 + 0x1C0);
      v78 = *(float *)(a1 + 0x68C);
      v12 = COERCE_UNSIGNED_INT64((float)(*(float *)(a2 + 0x30) - v78));
      v60 = *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x114LL);
      *((_QWORD *)&v14 + 1) = 0;
      v13 = v9;
      v56 = (float)(*(float *)(a2 + 0x34) - *(float *)(a1 + 0x690)) * 0.5;
      v54 = (float)(*(float *)(a2 + 0x38) - *(float *)(a1 + 0x694));
      *(double *)(a1 + 0x6D50) = v9;
      *(double *)&v14 = v13 * v13;
      _XMM10 = v14;
      *(double *)&v14 = 1.0 / (v13 * v13 * v13);
      v58 = v54 * 0.5;
      v55 = *(double *)&v12 * 0.5;
      v57 = v11;
      __asm { vcvtsd2ss xmm0, xmm10, xmm10 }
      v59 = v10;
      v17 = (float)((float)(1.0 / *(float *)&_XMM0) * *(float *)(a1 + 0x690))
          + v56 * (1.0 / *(double *)&_XMM10)
          - *(double *)&v14 * v11;
      v18 = v78;
      v19 = ((float)((float)(1.0 / *(float *)&_XMM0) * *(float *)(a1 + 0x694))
           + v54 * 0.5 * (1.0 / *(double *)&_XMM10)
           - *(double *)&v14 * v10)
          * 12.0;
      *(double *)(a1 + 0x6D38) = ((float)(v78 * (float)(1.0 / *(float *)&_XMM0))
                                + *(double *)&v12 * 0.5 * (1.0 / *(double *)&_XMM10)
                                - *(double *)&v14 * v79)
                               * 12.0;
      *(double *)(a1 + 0x6D40) = v17 * 12.0;
      *(double *)(a1 + 0x6D48) = v19;
      v20 = (v54 - *(double *)&_XMM10 * (v19 * 0.5)) * (1.0 / v13);
      *((_QWORD *)&v14 + 1) = *((_QWORD *)&v12 + 1);
      *(double *)&v14 = (*(double *)&v12 - 0.5 * *(double *)(a1 + 0x6D38) * *(double *)&_XMM10) * (1.0 / v13);
      _XMM0 = v14;
      __asm { vunpcklpd xmm0, xmm0, xmm5 }
      *(_OWORD *)(a1 + 0x6D20) = _XMM0;
      *(double *)(a1 + 0x6D30) = v20;
      v73 = v20;
      v72 = _XMM0;
      while ( 1 )
      {
        for ( n3 = 0; n3 < 3; ++n3 )
        {
          if ( *(double *)(a1 + 8 * n3 + 0x6D38) != 0.0 )
            break;
        }
        v24 = 0.1666666666666667 * *(double *)(a1 + 8 * n3 + 0x6D38);
        v25 = COERCE_UNSIGNED_INT64(0.5 * *(double *)(a1 + 8 * n3 + 0x6D20) + v24 * v13);
        *((_QWORD *)&v26 + 1) = 0;
        *(double *)&v26 = *(double *)&v25 * *(double *)&v25
                        - ((0.5 * *(double *)(a1 + 8 * n3 + 0x6D20) + v24 * v13) * v13
                         + *(float *)(a1 + 4 * n3 + 0x68C)
                         - *(float *)(a2 + 4 * n3 + 0x30))
                        * (v24
                         * 4.0);
        _XMM1 = v26;
        if ( *(double *)&v26 < 0.0 )
          break;
        __asm { vsqrtsd xmm4, xmm1, xmm1 }
        v29 = *(double *)(a1 + 0x6D50) - v60;
        *((_QWORD *)&v30 + 1) = *((_QWORD *)&_XMM4 + 1);
        v31 = 0.5 / v24;
        v13 = (*(double *)&_XMM4 - *(double *)&v25) * v31;
        v32 = fabs(v29);
        if ( COERCE__INT64(fabs(v29 - (v13 + v13)) - v32) >= 0 )
        {
          *((_QWORD *)&v42 + 1) = *((_QWORD *)&v25 + 1);
          v13 = (COERCE_DOUBLE(v25 ^ 0x8000000000000000uLL) - *(double *)&_XMM4) * v31;
          if ( COERCE__INT64(fabs(v29 - (v13 + v13)) - v32) >= 0 )
            break;
          *(double *)&v42 = (COERCE_DOUBLE(v25 ^ 0x8000000000000000uLL) - *(double *)&_XMM4)
                          * v31
                          * ((COERCE_DOUBLE(v25 ^ 0x8000000000000000uLL) - *(double *)&_XMM4)
                           * v31);
          _XMM10 = v42;
          *(double *)(a1 + 0x6D50) = v13;
          v44 = *(float *)(a1 + 0x690);
          v45 = 1.0 / (v13 * v13);
          v46 = 1.0 / (v13 * v13 * v13);
          __asm { vcvtsd2ss xmm0, xmm10, xmm10 }
          *(double *)(a1 + 0x6D38) = ((float)(v18 * (float)(1.0 / *(float *)&_XMM0)) + v45 * v55 - v46 * v79) * 12.0;
          *(double *)(a1 + 0x6D40) = ((float)(v44 * (float)(1.0 / *(float *)&_XMM0)) + v45 * v56 - v46 * v57) * 12.0;
          v48 = (v45 * v58 + (float)((float)(1.0 / *(float *)&_XMM0) * *(float *)(a1 + 0x694)) - v46 * v59) * 12.0;
          *(double *)(a1 + 0x6D48) = v48;
          _XMM5 = COERCE_UNSIGNED_INT64((*(double *)&v12 - 0.5 * *(double *)(a1 + 0x6D38) * (v13 * v13)) * (1.0 / v13));
          v40 = (v54 - v48 * 0.5 * (v13 * v13)) * (1.0 / v13);
          __asm { vunpcklpd xmm0, xmm5, xmm3 }
          v77 = v40;
          v76 = _XMM0;
        }
        else
        {
          *(double *)&v30 = (*(double *)&_XMM4 - *(double *)&v25) * v31 * ((*(double *)&_XMM4 - *(double *)&v25) * v31);
          _XMM10 = v30;
          *(double *)(a1 + 0x6D50) = v13;
          v34 = *(float *)(a1 + 0x690);
          v35 = 1.0 / (v13 * v13);
          v36 = 1.0 / (v13 * v13 * v13);
          __asm { vcvtsd2ss xmm0, xmm10, xmm10 }
          *(double *)(a1 + 0x6D38) = ((float)(v18 * (float)(1.0 / *(float *)&_XMM0)) + v35 * v55 - v36 * v79) * 12.0;
          *(double *)(a1 + 0x6D40) = ((float)(v34 * (float)(1.0 / *(float *)&_XMM0)) + v35 * v56 - v36 * v57) * 12.0;
          v38 = (v35 * v58 + (float)((float)(1.0 / *(float *)&_XMM0) * *(float *)(a1 + 0x694)) - v36 * v59) * 12.0;
          *(double *)(a1 + 0x6D48) = v38;
          _XMM5 = COERCE_UNSIGNED_INT64((*(double *)&v12 - 0.5 * *(double *)(a1 + 0x6D38) * *(double *)&v30) * (1.0 / v13));
          v40 = (v54 - v38 * 0.5 * *(double *)&v30) * (1.0 / v13);
          __asm { vunpcklpd xmm0, xmm5, xmm3 }
          v75 = v40;
          v74 = _XMM0;
        }
        v18 = v78;
        *(_OWORD *)(a1 + 0x6D20) = _XMM0;
        *(double *)(a1 + 0x6D30) = v40;
      }
      sub_146790090(a1, 1, 1);
      v8 = 1;
    }
LABEL_17:
    if ( v7 )
      goto LABEL_25;
    goto LABEL_20;
  }
  v8 = sub_1467795E0(a1, a2, 1u);
LABEL_20:
  if ( *(_DWORD *)v69 == 0x1B )
  {
    v50 = *(_QWORD *)(v69 + 8);
    v51 = HIWORD(v50);
    v52 = v50 & 0xFFFFFFFFFFFFLL;
    if ( (_WORD)v51 == *(_WORD *)(v52 + 0x40) )
      v3 = v52;
    if ( !*(_DWORD *)(v3 + 0x20) )
      _InterlockedIncrement((volatile signed __int32 *)(v3 + 0x20));
  }
LABEL_25:
  v65 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v8;
}

// --- End Function: sub_14677DF80 (0x14677DF80) ---

// --- Function: sub_14677F280 (0x14677F280) ---
__int64 __fastcall sub_14677F280(__int64 a1, float a2)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  __int128 v4; // xmm8
  __int128 v5; // xmm9
  __int128 v6; // xmm10
  __int128 v7; // xmm11
  __int128 v8; // xmm12
  __int128 v9; // xmm13
  __int128 v10; // xmm14
  __int128 v11; // xmm15
  float v13; // xmm7_4
  float v14; // xmm6_4
  float v15; // xmm11_4
  float v16; // xmm10_4
  float v17; // xmm9_4
  float v18; // xmm8_4
  float v19; // xmm5_4
  float v20; // xmm13_4
  __m128 v21; // kr00_16
  float v24; // xmm14_4
  float v25; // xmm15_4
  float v26; // xmm12_4
  __m128 v27; // xmm3
  float v28; // xmm6_4
  float v29; // xmm11_4
  __int128 v30; // kr00_16
  __int128 v31; // xmm9
  __m128 v32; // kr00_16
  float v33; // xmm10_4
  float v34; // xmm8_4
  __m128 v35; // kr00_16
  float v36; // xmm7_4
  float v37; // xmm5_4
  __m128 v38; // xmm6
  __int128 v39; // kr00_16
  __int128 n0x3F800000_9; // xmm12
  float v43; // xmm5_4
  float v44; // xmm6_4
  float v45; // xmm7_4
  __m128 v46; // kr00_16
  float v49; // kr00_4
  volatile signed __int64 *v52; // rsi
  __int64 *v56; // rdi
  float v58; // kr00_4
  int v59; // r12d
  __int64 n0x40; // r15
  float v61; // xmm11_4
  float v62; // xmm13_4
  float v63; // xmm14_4
  __int128 v64; // xmm6
  signed __int64 v65; // rdx
  unsigned __int64 v66; // rdx
  __int128 v67; // kr00_16
  __int64 v68; // rbx
  __int64 n0x40_2; // r14
  int v70; // r13d
  __int64 n0x40_1; // rax
  __int64 v72; // rdi
  signed __int64 v73; // rdx
  float v74; // xmm6_4
  float v75; // xmm7_4
  float v76; // eax
  int v77; // r15d
  __int64 *v78; // r12
  unsigned __int64 v79; // rdx
  __int64 v80; // rax
  __int64 v81; // rcx
  unsigned __int64 n0x200000_4; // rax
  float v83; // xmm9_4
  float v84; // xmm8_4
  float v85; // xmm5_4
  float v86; // xmm6_4
  float v87; // xmm10_4
  float v88; // xmm12_4
  float v89; // xmm0_4
  float v90; // xmm7_4
  float v91; // xmm11_4
  float v92; // xmm15_4
  float v93; // xmm14_4
  float v94; // xmm13_4
  float v95; // xmm5_4
  float v96; // xmm8_4
  float v97; // xmm7_4
  float v98; // xmm6_4
  float v99; // xmm4_4
  float v100; // xmm5_4
  float v101; // xmm0_4
  float v102; // xmm10_4
  float v103; // xmm2_4
  float v104; // xmm7_4
  float v105; // xmm4_4
  float v106; // xmm9_4
  float v107; // xmm2_4
  float v108; // xmm0_4
  float v109; // xmm4_4
  float v110; // xmm6_4
  float v111; // xmm5_4
  float v112; // xmm0_4
  __int128 v113; // kr00_16
  float v115; // xmm11_4
  _QWORD *v116; // r15
  double v117; // xmm3_8
  unsigned __int128 v118; // kr00_16
  float v119; // xmm7_4
  float v120; // xmm8_4
  __int64 v122; // rcx
  double v124; // rax
  int v126; // r13d
  float v127; // xmm6_4
  __int64 v128; // rax
  __int64 *v129; // r15
  float v131; // eax
  float v132; // xmm14_4
  int v134; // eax
  __int64 v135; // rax
  __int64 v136; // rcx
  __int64 v137; // rcx
  __int64 v138; // rax
  __int64 v139; // rcx
  __int64 v140; // rcx
  __int64 v141; // rcx
  __int64 v142; // rcx
  __int64 v143; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v145; // r8
  __int64 v146; // r9
  int v147; // eax
  int v148; // edx
  __int64 v149; // rax
  int v150; // edx
  __int64 v151; // rcx
  int v152; // eax
  float v153; // xmm0_4
  __int64 v154; // r8
  float v155; // xmm1_4
  float v156; // xmm0_4
  float v157; // xmm7_4
  float v158; // eax
  float v159; // xmm10_4
  float v160; // xmm9_4
  float v161; // xmm4_4
  float v162; // xmm8_4
  float v163; // xmm6_4
  float v164; // xmm4_4
  float v165; // kr00_4
  float *v166; // rcx
  float *v167; // rax
  float v168; // xmm4_4
  __m128 v169; // kr00_16
  __m128 v170; // xmm0
  __m128 v171; // xmm6
  __m128 v172; // kr00_16
  __int128 n0x3F800000; // kr00_16
  __int128 n0x3F800000_1; // xmm3
  __int128 v175; // xmm1
  __int128 v176; // kr00_16
  __int128 v178; // kr00_16
  __int128 v182; // xmm5
  __int128 v185; // kr00_16
  __int128 v186; // kr00_16
  __m128 v190; // kr00_16
  __int128 v193; // kr00_16
  float v195; // xmm3_4
  float v196; // xmm6_4
  float v197; // xmm5_4
  float v198; // xmm4_4
  float v199; // xmm12_4
  float v200; // xmm2_4
  float v201; // kr00_4
  float v202; // xmm13_4
  float v203; // xmm7_4
  float v204; // xmm6_4
  float v205; // xmm4_4
  float v206; // xmm9_4
  float v207; // xmm0_4
  float v208; // xmm14_4
  float v209; // xmm15_4
  float v210; // kr00_4
  float v211; // xmm6_4
  float v212; // xmm10_4
  float v213; // xmm11_4
  float v214; // xmm7_4
  float v215; // xmm8_4
  float v216; // xmm9_4
  float v217; // xmm4_4
  float v218; // xmm10_4
  float v219; // xmm11_4
  float v220; // xmm13_4
  __int64 v221; // rax
  __int128 v222; // kr00_16
  __int128 v223; // xmm0
  double v224; // xmm1_8
  int v225; // eax
  __int64 v226; // rcx
  __int64 v227; // rdx
  __int64 v228; // rax
  __int64 v229; // rdx
  __int64 v230; // rcx
  unsigned int v231; // r8d
  unsigned __int64 n0x200000_1; // rax
  __int64 v235; // rax
  volatile signed __int64 *v236; // rdx
  volatile signed __int64 *v237; // rcx
  unsigned __int64 n0x200000_2; // rax
  unsigned int v239; // edi
  __int64 v240; // rax
  unsigned __int64 n0x200000_3; // rax
  __m128 v242; // xmm13
  float v243; // xmm4_4
  float v244; // xmm14_4
  float v245; // xmm10_4
  __m128 v246; // kr00_16
  __int128 n0x3F800000_12; // xmm6
  float v248; // xmm9_4
  float v249; // xmm7_4
  __int128 n0x3F800000_5; // xmm15
  __int128 n0x3F800000_10; // xmm8
  double v252; // xmm5_8
  double v253; // xmm6_8
  float v256; // xmm1_4
  double v257; // xmm4_8
  __int128 v258; // kr00_16
  float v269; // xmm8_4
  float v270; // xmm3_4
  float v271; // xmm2_4
  float v272; // xmm0_4
  float v275; // xmm7_4
  volatile signed __int64 *v276; // rsi
  float *v277; // rdi
  signed __int64 v278; // rdx
  float v279; // xmm1_4
  float v280; // xmm6_4
  float v281; // r15d
  unsigned __int64 v282; // rdx
  float v283; // xmm9_4
  float v284; // xmm7_4
  float v285; // xmm8_4
  float v286; // xmm5_4
  float v287; // xmm10_4
  float v288; // xmm6_4
  float v289; // xmm12_4
  float v290; // xmm13_4
  float v291; // xmm15_4
  float v292; // xmm14_4
  float v293; // xmm11_4
  float v294; // xmm5_4
  float v295; // xmm9_4
  float v296; // xmm10_4
  float v297; // xmm8_4
  float v298; // xmm7_4
  float v299; // xmm6_4
  float v300; // xmm5_4
  float v301; // xmm11_4
  float v302; // xmm4_4
  float v303; // xmm2_4
  float v304; // xmm0_4
  float v305; // xmm4_4
  float v306; // xmm15_4
  float v307; // xmm1_4
  float v308; // xmm7_4
  float v309; // xmm14_4
  float v310; // xmm2_4
  float v311; // xmm10_4
  float v312; // xmm8_4
  float v313; // xmm6_4
  float v314; // xmm4_4
  float v315; // xmm14_4
  float v316; // xmm12_4
  float v317; // xmm9_4
  __int128 n0x3F800000_2; // kr00_16
  float v319; // xmm11_4
  float v320; // xmm10_4
  __int128 n0x3F800000_3; // xmm8
  __m128 v328; // kr00_16
  __m128 v329; // xmm4
  __int128 n0x3F800000_4; // kr00_16
  __m128 v331; // xmm0
  float v332; // kr00_4
  float v333; // xmm1_4
  float v336; // xmm2_4
  float v337; // xmm0_4
  __int128 n0x3F800000_6; // kr00_16
  __int128 n0x3F800000_13; // kr00_16
  __int128 n0x3F800000_11; // kr00_16
  __int128 v343; // kr00_16
  __int128 v350; // xmm2
  double v360; // xmm7_8
  __int128 v363; // xmm6
  double v366; // xmm3_8
  bool v371; // zf
  float v374; // xmm1_4
  __int128 n0x3F800000_7; // kr00_16
  __int128 n0x3F800000_8; // xmm3
  unsigned int v379; // [rsp+38h] [rbp-D0h]
  float v380; // [rsp+38h] [rbp-D0h]
  float v381; // [rsp+38h] [rbp-D0h]
  float v382; // [rsp+38h] [rbp-D0h]
  float v383; // [rsp+3Ch] [rbp-CCh]
  float v384; // [rsp+3Ch] [rbp-CCh]
  float v385; // [rsp+3Ch] [rbp-CCh]
  float v386; // [rsp+40h] [rbp-C8h]
  float v387; // [rsp+40h] [rbp-C8h]
  float v388; // [rsp+44h] [rbp-C4h]
  float v389; // [rsp+44h] [rbp-C4h]
  float v390; // [rsp+44h] [rbp-C4h]
  float v391; // [rsp+48h] [rbp-C0h]
  float v392; // [rsp+4Ch] [rbp-BCh]
  float v393; // [rsp+50h] [rbp-B8h]
  float v394; // [rsp+54h] [rbp-B4h]
  float v395; // [rsp+58h] [rbp-B0h]
  float v396; // [rsp+5Ch] [rbp-ACh]
  float v397; // [rsp+60h] [rbp-A8h]
  float v398; // [rsp+60h] [rbp-A8h]
  float v399; // [rsp+60h] [rbp-A8h]
  float v400; // [rsp+64h] [rbp-A4h]
  float v401; // [rsp+64h] [rbp-A4h]
  float v402; // [rsp+68h] [rbp-A0h]
  float v403; // [rsp+68h] [rbp-A0h]
  float v404; // [rsp+68h] [rbp-A0h]
  float v405; // [rsp+6Ch] [rbp-9Ch]
  float v406; // [rsp+6Ch] [rbp-9Ch]
  float v407; // [rsp+6Ch] [rbp-9Ch]
  float v408; // [rsp+70h] [rbp-98h]
  float v409; // [rsp+70h] [rbp-98h]
  float v410; // [rsp+74h] [rbp-94h]
  float v411; // [rsp+74h] [rbp-94h]
  float v412; // [rsp+74h] [rbp-94h]
  float v413; // [rsp+78h] [rbp-90h]
  float v414; // [rsp+78h] [rbp-90h]
  float v415; // [rsp+7Ch] [rbp-8Ch]
  float v416; // [rsp+7Ch] [rbp-8Ch]
  float v417; // [rsp+7Ch] [rbp-8Ch]
  float v418; // [rsp+7Ch] [rbp-8Ch]
  float v419; // [rsp+80h] [rbp-88h]
  float v420; // [rsp+84h] [rbp-84h]
  float v421; // [rsp+88h] [rbp-80h]
  float v422; // [rsp+8Ch] [rbp-7Ch]
  float v423; // [rsp+90h] [rbp-78h]
  float v424; // [rsp+94h] [rbp-74h]
  float v425; // [rsp+98h] [rbp-70h]
  float v426; // [rsp+9Ch] [rbp-6Ch]
  float v427; // [rsp+A0h] [rbp-68h]
  float v428; // [rsp+A4h] [rbp-64h]
  float v429; // [rsp+A8h] [rbp-60h]
  int v430; // [rsp+B0h] [rbp-58h]
  float v431; // [rsp+B0h] [rbp-58h]
  float v433; // [rsp+B4h] [rbp-54h]
  float v434; // [rsp+B8h] [rbp-50h]
  float v435; // [rsp+BCh] [rbp-4Ch]
  float v436; // [rsp+C0h] [rbp-48h]
  int v437; // [rsp+C4h] [rbp-44h]
  float v438; // [rsp+C8h] [rbp-40h]
  int v439; // [rsp+CCh] [rbp-3Ch]
  float v440; // [rsp+D0h] [rbp-38h]
  float v441; // [rsp+D4h] [rbp-34h]
  float v442; // [rsp+D4h] [rbp-34h]
  int n0x1E; // [rsp+D8h] [rbp-30h]
  float v444; // [rsp+D8h] [rbp-30h]
  int v445; // [rsp+DCh] [rbp-2Ch]
  float v446; // [rsp+DCh] [rbp-2Ch]
  float v447; // [rsp+E0h] [rbp-28h]
  float v448; // [rsp+E0h] [rbp-28h]
  __int64 v449; // [rsp+E8h] [rbp-20h]
  __int64 v450; // [rsp+E8h] [rbp-20h]
  __int64 v451; // [rsp+E8h] [rbp-20h]
  __int64 n0x40_3; // [rsp+F8h] [rbp-10h]
  float v454; // [rsp+100h] [rbp-8h] BYREF
  float v455; // [rsp+104h] [rbp-4h] BYREF
  float v456; // [rsp+108h] [rbp+0h] BYREF
  __int64 *v457; // [rsp+118h] [rbp+10h] BYREF
  float v458; // [rsp+128h] [rbp+20h]
  unsigned int v459; // [rsp+12Ch] [rbp+24h]
  __int16 v460; // [rsp+134h] [rbp+2Ch]
  __m256 v461; // [rsp+148h] [rbp+40h]
  float v462; // [rsp+168h] [rbp+60h]
  __int64 v463; // [rsp+178h] [rbp+70h] BYREF
  __int64 v464; // [rsp+180h] [rbp+78h] BYREF
  int n0x2800; // [rsp+188h] [rbp+80h] BYREF
  __int64 v466; // [rsp+18Ch] [rbp+84h]
  int v467; // [rsp+194h] [rbp+8Ch]
  __int64 v468; // [rsp+198h] [rbp+90h]
  unsigned __int64 v469; // [rsp+1A0h] [rbp+98h]
  __int64 v470; // [rsp+1A8h] [rbp+A0h]
  __int64 v471; // [rsp+1B0h] [rbp+A8h]
  _DWORD v472[8]; // [rsp+1D8h] [rbp+D0h] BYREF
  __int128 v473; // [rsp+1F8h] [rbp+F0h]
  double v474; // [rsp+208h] [rbp+100h]
  unsigned int v475; // [rsp+210h] [rbp+108h]
  unsigned int v476; // [rsp+214h] [rbp+10Ch]
  __int128 v477; // [rsp+218h] [rbp+110h]
  double v478; // [rsp+238h] [rbp+130h]
  double v479[21]; // [rsp+250h] [rbp+148h] BYREF
  _QWORD v480[8]; // [rsp+2F8h] [rbp+1F0h] BYREF
  const void *v481; // [rsp+338h] [rbp+230h]
  int v482; // [rsp+340h] [rbp+238h]
  int n8; // [rsp+344h] [rbp+23Ch]
  signed __int64 v484; // [rsp+348h] [rbp+240h] BYREF
  unsigned int v485; // [rsp+350h] [rbp+248h]
  int v486; // [rsp+354h] [rbp+24Ch]
  __int128 v487; // [rsp+368h] [rbp+260h]
  __int128 v488; // [rsp+378h] [rbp+270h]
  __int128 v489; // [rsp+388h] [rbp+280h]
  __int128 v490; // [rsp+398h] [rbp+290h]
  __int128 v491; // [rsp+3A8h] [rbp+2A0h]
  __int128 v492; // [rsp+3B8h] [rbp+2B0h]
  __int128 v493; // [rsp+3C8h] [rbp+2C0h]
  __int128 v494; // [rsp+3D8h] [rbp+2D0h]
  __int128 v495; // [rsp+3E8h] [rbp+2E0h]
  __int128 v496; // [rsp+3F8h] [rbp+2F0h]

  v496 = v2;
  v495 = v3;
  v494 = v4;
  v493 = v5;
  v492 = v6;
  v491 = v7;
  v490 = v8;
  v489 = v9;
  v488 = v10;
  v487 = v11;
  v466 = 0;
  v467 = 0;
  v469 = 0;
  v470 = 0;
  v471 = 0;
  n0x2800 = 0x2800;
  v468 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( *(_DWORD *)(a1 + 0xADC)
    && (*(float *)(a1 + 0x538) != 0.0 || *(float *)(a1 + 0x53C) != 0.0 || *(float *)(a1 + 0x540) != 0.0) )
  {
    sub_1467F26C0(a1);
  }
  v13 = *(float *)(a1 + 0x848);
  v14 = *(float *)(a1 + 0x850);
  v15 = *(float *)(a1 + 0x854);
  v16 = *(float *)(a1 + 0x84C);
  v17 = *(float *)(a1 + 0x6CC);
  v18 = *(float *)(a1 + 0x6C8);
  v19 = *(float *)(a1 + 0x6D0);
  v20 = *(float *)(a1 + 0x6D4);
  v391 = 0.0;
  v392 = 0.0;
  v393 = 0.0;
  v426 = 0.0;
  v427 = 0.0;
  v428 = 0.0;
  v423 = 0.0;
  v21 = (__m128)*(unsigned int *)(a1 + 0x538);
  v425 = 0.0;
  v424 = 0.0;
  v21.m128_f32[0] = (float)((float)(v21.m128_f32[0] * v21.m128_f32[0])
                          + (float)(*(float *)(a1 + 0x53C) * *(float *)(a1 + 0x53C)))
                  + (float)((float)(*(float *)(a1 + 0x540) * *(float *)(a1 + 0x540)) + 1.1754944e-38);
  _XMM1 = _mm_shuffle_ps(v21, v21, 0);
  __asm { vrsqrtps xmm3, xmm1 }
  _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
  *(float *)&v379 = (float)(1.5
                          - (float)((float)((float)(v21.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                  * _XMM3.m128_f32[0];
  v24 = (float)(v20 * v15) - (float)((float)((float)(v18 * v13) + (float)(v17 * v16)) + (float)(v19 * v14));
  v25 = (float)((float)((float)(v19 * v16) - (float)(v14 * v17)) + (float)(v18 * v15)) + (float)(v13 * v20);
  v26 = (float)((float)((float)(v14 * v18) - (float)(v19 * v13)) + (float)(v17 * v15)) + (float)(v16 * v20);
  v27 = (__m128)*(unsigned __int64 *)(a1 + 0x538);
  v28 = (float)((float)((float)(v13 * v17) - (float)(v18 * v16)) + (float)(v19 * v15)) + (float)(v14 * v20);
  v29 = -(float)(_mm_shuffle_ps(v27, v27, 0x55).m128_f32[0] * *(float *)&v379);
  n0x1E = *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
  v30 = v379;
  *(float *)&v30 = *(float *)&v379 * *(float *)(a1 + 0x540);
  v31 = v30 ^ 0x80000000;
  v32 = v27;
  v32.m128_f32[0] = v27.m128_f32[0] * *(float *)&v379;
  v33 = -(float)(v27.m128_f32[0] * *(float *)&v379);
  v34 = (float)((float)(v29 * v28) - (float)(*(float *)&v31 * v26)) + (float)(v33 * v24);
  v35 = (__m128)(*(_OWORD *)&v32 ^ 0x80000000);
  v36 = (float)((float)(*(float *)&v31 * v25) - (float)(v33 * v28)) + (float)(v29 * v24);
  v35.m128_f32[0] = (float)((float)(v33 * v26) - (float)(v29 * v25)) + (float)(*(float *)&v31 * v24);
  v37 = (float)(v36 * v28) - (float)(v35.m128_f32[0] * v26);
  v35.m128_f32[0] = (float)(v35.m128_f32[0] * v25) - (float)(v34 * v28);
  v38 = v35;
  v39 = v31;
  *(float *)&v39 = (float)(*(float *)&v31 + (float)((float)(v34 * v26) - (float)(v36 * v25)))
                 + (float)((float)(v34 * v26) - (float)(v36 * v25));
  _XMM4 = v39;
  v46 = v38;
  n0x3F800000_9 = 0;
  __asm { vmaxss  xmm3, xmm4, xmm12 }
  v43 = (float)((float)(v33 + v37) + v37) * *(float *)&_XMM3;
  v44 = (float)((float)(v38.m128_f32[0] + v29) + v38.m128_f32[0]) * *(float *)&_XMM3;
  v45 = (float)(*(float *)&_XMM4 * *(float *)&_XMM3) + (float)(1.0 - *(float *)&_XMM3);
  v46.m128_f32[0] = (float)((float)(v44 * v44) + (float)(v43 * v43)) + (float)(v45 * v45);
  if ( v46.m128_f32[0] <= 9.9999997e-21 )
  {
    v429 = 0.0;
    v420 = 0.0;
    v421 = 1.0;
  }
  else
  {
    _XMM0 = _mm_shuffle_ps(v46, v46, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v49 = (float)(1.5 - (float)((float)((float)(v46.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
        * _XMM3.m128_f32[0];
    v429 = v49 * v43;
    v420 = v49 * v44;
    v421 = v49 * v45;
  }
  _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x628) - *(double *)(a1 + 0x1C0));
  _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x630) - *(double *)(a1 + 0x1C8));
  v52 = (volatile signed __int64 *)(a1 + 0x6D58);
  __asm
  {
    vcvtsd2ss xmm10, xmm0, xmm0
    vcvtsd2ss xmm9, xmm1, xmm1
  }
  _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x638) - *(double *)(a1 + 0x1D0));
  v56 = (__int64 *)(a1 + 0xB20);
  __asm { vcvtsd2ss xmm8, xmm2, xmm2 }
  v422 = 0.0;
  v58 = (float)((float)((float)((float)(*(float *)&_XMM9 * *(float *)(a1 + 0x1DC))
                              - (float)(*(float *)&_XMM10 * *(float *)(a1 + 0x1D8)))
                      + (float)(*(float *)&_XMM8 * *(float *)(a1 + 0x1E4)))
              * *(float *)(a1 + 0x1D8))
      - (float)((float)((float)((float)(*(float *)&_XMM10 * *(float *)(a1 + 0x1E0))
                              - (float)(*(float *)&_XMM8 * *(float *)(a1 + 0x1DC)))
                      + (float)(*(float *)&_XMM9 * *(float *)(a1 + 0x1E4)))
              * *(float *)(a1 + 0x1E0));
  v59 = 0;
  n0x40 = 0;
  v61 = 0.0;
  v62 = 0.0;
  v63 = 0.0;
  v437 = 0;
  v439 = 0;
  v447 = (float)(*(float *)&_XMM10 + v58) + v58;
  v394 = 0.0;
  v396 = 0.0;
  v445 = (int)(*(_DWORD *)(*(_QWORD *)(a1 + 0x270) + 0x10LL) << 0xE) >> 0x16;
  v64 = 0;
  do
  {
    v65 = _InterlockedIncrement64(v52);
    if ( (v65 & 0x200000) != 0 )
      sub_1403CD0A0(v52, v65, (__int64)"CSpaceshipEntity::AddAdditionalImpulses", (__int64)"m_lockSpaceship", 1);
    v449 = *v56;
    v66 = _InterlockedDecrement64(v52);
    if ( (v66 & 0x3FF) == 0 && (v66 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(v52, v66);
    if ( (v449 & 0xFFA00000) == 0xFFA00000 )
      break;
    v67 = v64;
    *(float *)&v67 = *(float *)&v64 + *((float *)&v449 + 1);
    v64 = v67;
    ++n0x40;
    v56 += 0x31;
    ++v59;
  }
  while ( n0x40 < 0x40 );
  v68 = a1;
  n0x40_2 = 0;
  v430 = v59;
  v70 = 0;
  v413 = *(float *)&v64;
  if ( v59 )
    v413 = *(float *)&v64 / (float)v59;
  n0x40_1 = 0;
  *(_BYTE *)(a1 + 0x6D60) = 0;
  n0x40_3 = 0;
  do
  {
    v72 = 0x188 * n0x40_1;
    v73 = _InterlockedIncrement64(v52);
    if ( (v73 & 0x200000) != 0 )
      sub_1403CD0A0(v52, v73, (__int64)"CSpaceshipEntity::AddAdditionalImpulses", (__int64)"m_lockSpaceship", 1);
    v74 = *(float *)(v72 + v68 + 0xB40);
    v75 = *(float *)(v72 + v68 + 0xB44);
    v441 = v74;
    v408 = v75;
    if ( *(_BYTE *)(v68 + 0x6D61) )
      v400 = *(float *)(v72 + v68 + 0xB48);
    else
      v400 = *(float *)&n0x3F800000_9;
    v76 = *(float *)(v72 + v68 + 0xB28);
    v77 = *(_DWORD *)(v72 + v68 + 0xB84);
    v78 = *(__int64 **)(v72 + v68 + 0xB98);
    v397 = *(float *)(v72 + v68 + 0xB3C);
    v450 = *(_QWORD *)(v72 + v68 + 0xB20);
    v402 = *(float *)(v72 + v68 + 0xB2C);
    v383 = *(float *)(v72 + v68 + 0xB34);
    v388 = *(float *)(v72 + v68 + 0xB4C);
    v415 = *(float *)(v72 + v68 + 0xB50);
    v405 = *(float *)(v72 + v68 + 0xB30);
    v419 = *(float *)(v72 + v68 + 0xB54);
    v380 = *(float *)(v72 + v68 + 0xB38);
    v410 = v76;
    v79 = _InterlockedDecrement64(v52);
    if ( (v79 & 0x3FF) == 0 && (v79 & 0xFFFF0000FFC00000uLL) != 0 )
    {
      sub_1403CD3A0(v52, v79);
      v76 = v410;
    }
    if ( v74 < *(float *)&n0x3F800000_9 )
      break;
    if ( v77 )
    {
      v83 = *(float *)(v68 + 0x84C);
      v84 = *(float *)(v68 + 0x6CC);
      v85 = *(float *)(v68 + 0x848);
      v86 = *(float *)(v68 + 0x6C8);
      v87 = *(float *)(v68 + 0x850);
      v88 = *(float *)(v68 + 0x6D4);
      ++v439;
      v89 = v76 - v75;
      v90 = *(float *)(v68 + 0x6D0);
      v394 = *(float *)&v450 + v61;
      v91 = *(float *)(v68 + 0x854);
      v92 = (float)(v88 * v91) - (float)((float)((float)(v86 * v85) + (float)(v84 * v83)) + (float)(v90 * v87));
      v396 = v89 + v63;
      v93 = (float)((float)((float)(v90 * v83) - (float)(v87 * v84)) + (float)(v86 * v91)) + (float)(v85 * v88);
      v395 = v62 + *((float *)&v450 + 1);
      v94 = (float)((float)((float)(v87 * v86) - (float)(v90 * v85)) + (float)(v84 * v91)) + (float)(v83 * v88);
      v95 = (float)((float)((float)(v85 * v84) - (float)(v86 * v83)) + (float)(v90 * v91)) + (float)(v87 * v88);
      v438 = (float)(v380 * v92) - (float)((float)((float)(v93 * v402) + (float)(v94 * v405)) + (float)(v383 * v95));
      v435 = (float)((float)((float)(v94 * v383) - (float)(v95 * v405)) + (float)(v92 * v402)) + (float)(v93 * v380);
      v434 = (float)((float)((float)(v95 * v402) - (float)(v93 * v383)) + (float)(v92 * v405)) + (float)(v94 * v380);
      v96 = (float)((float)((float)(v93 * v405) - (float)(v94 * v402)) + (float)(v92 * v383)) + (float)(v95 * v380);
      v97 = (float)((float)(v434 * v421) - (float)(v96 * v420)) + (float)(v438 * v429);
      v98 = (float)((float)(v96 * v429) - (float)(v435 * v421)) + (float)(v438 * v420);
      v99 = (float)((float)(v435 * v420) - (float)(v434 * v429)) + (float)(v421 * v438);
      v100 = (float)(v99 * v434) - (float)(v98 * v96);
      v101 = v97 * v434;
      v102 = *(float *)(v68 + 0x1DC);
      v103 = v97 * v96;
      v104 = *(float *)(v68 + 0x1D8);
      v105 = v103 - (float)(v99 * v435);
      v106 = *(float *)(v68 + 0x1E0);
      v107 = (float)(v98 * v435) - v101;
      v386 = 0.0;
      v406 = (float)(v100 + v429) + v100;
      v108 = (float)(v105 + v420) + v105;
      v109 = *(float *)(v68 + 0x1E4);
      v403 = v108;
      v381 = (float)(v107 + v421) + v107;
      v384 = 0.0;
      v436 = v96;
      v110 = (float)((float)(*(float *)&v450 * v106) - (float)(v76 * v104)) + (float)(*((float *)&v450 + 1) * v109);
      v111 = (float)((float)((float)((float)(v104 * *((float *)&v450 + 1)) - (float)(*(float *)&v450 * v102))
                           + (float)(v76 * v109))
                   * v102)
           - (float)(v110 * v106);
      v112 = (float)((float)((float)(v76 * v102) - (float)(*((float *)&v450 + 1) * v106))
                   + (float)(*(float *)&v450 * v109))
           * v102;
      v113 = (unsigned int)v450;
      *(double *)&v113 = (float)((float)(*(float *)&v450 + v111) + v111) + *(double *)(v68 + 0x1C0);
      _XMM10 = v113;
      n0x3F800000_9 = 0;
      v115 = v441;
      v116 = *(_QWORD **)(v68 + 0xB0);
      memset(v480, 0, sizeof(v480));
      v481 = 0;
      v482 = 0;
      n8 = 8;
      v484 = 0;
      v485 = 0xFFFFFFFF;
      v486 = 0;
      v117 = (float)((float)(v76 + (float)((float)(v110 * v104) - v112)) + (float)((float)(v110 * v104) - v112))
           + *(double *)(v68 + 0x1D0);
      v118 = LODWORD(v441) ^ (unsigned __int128)xmmword_1480DD750;
      *(float *)&v118 = COERCE_FLOAT(LODWORD(v441) ^ 0x80000000) - 0.050000001;
      v119 = -(float)(v435 * *(float *)&v118);
      v478 = v117;
      v120 = (float)((float)((float)(v435 * v119) - (float)((float)(*(float *)&v118 * v434) * v434)) + *(float *)&v118)
           + (float)((float)(v435 * v119) - (float)((float)(*(float *)&v118 * v434) * v434));
      *(float *)&v118 = (float)((float)((float)(*(float *)&v118 * v438) * v434) - (float)(v119 * v436))
                      + (float)((float)((float)(*(float *)&v118 * v438) * v434) - (float)(v119 * v436));
      _XMM6 = v118;
      if ( !v116 )
      {
        sub_14132ED70((__int64)v480, v68 | (*(_QWORD *)(v68 + 8) << 0x30));
        v116 = v480;
      }
      memset(v479, 0, sizeof(v479));
      v122 = *(_QWORD *)(v68 + 0x2C0);
      *(_QWORD *)&v479[0x11] = "RayWorldIntersection(LandingGear)";
      v479[0xF] = *(double *)(v68 + 0x218);
      __asm { vunpcklpd xmm0, xmm10, xmm13 }
      *(_QWORD *)&v479[9] = &v457;
      v124 = *(double *)(v68 + 0xB8);
      *(_OWORD *)&v479[3] = _XMM0;
      __asm { vunpcklps xmm1, xmm6, xmm7 }
      v479[0x10] = v124;
      *(float *)&v479[7] = v120;
      v479[5] = v478;
      v479[6] = *(double *)&_XMM1;
      HIDWORD(v479[7]) = 7;
      *(_QWORD *)&v479[8] = 0x150F;
      LODWORD(v479[0xA]) = 1;
      *(_QWORD *)&v479[0xE] = v116;
      v126 = sub_146711430(v122, (__int64)v479, n0x1E);
      if ( v397 >= v441 )
      {
        v127 = 0.0;
      }
      else
      {
        v127 = v441 - v397;
        v386 = v441 - v397;
      }
      v128 = _InterlockedCompareExchange64(v52, 0x200000, 0);
      if ( v128 )
        sub_1403DE750(
          (__int64)v52,
          v128,
          0,
          (__int64)"CSpaceshipEntity::AddAdditionalImpulses",
          (__int64)"m_lockSpaceship",
          1);
      v129 = v457;
      if ( v126 && v457 && (_XMM0 = LODWORD(v458), v458 < v441) )
      {
        v131 = v462;
        v132 = v408;
        __asm { vmaxss  xmm13, xmm0, xmm14 }
        v384 = v441 - *(float *)&_XMM13;
        *(__m256 *)(v72 + v68 + 0xB58) = v461;
        *(float *)(v72 + v68 + 0xB78) = v131;
        v134 = v460;
        *(float *)(v72 + v68 + 0xB3C) = *(float *)&_XMM13;
        *(_DWORD *)(v72 + v68 + 0xB7C) = v134;
        v135 = *v129;
        v463 = 0;
        __asm { vzeroupper }
        (*(void (__fastcall **)(__int64 *, __int64 *))(v135 + 0x160))(v129, &v463);
        v136 = *(_QWORD *)(v72 + v68 + 0xB90);
        *(_QWORD *)(v72 + v68 + 0xB90) = v129;
        if ( v136 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v136 + 0x168LL))(v136, 0);
        v137 = *(_QWORD *)(v72 + v68 + 0xB98);
        *(_DWORD *)(v72 + v68 + 0xB80) = v459;
        if ( v137 && v137 != *(_QWORD *)(v72 + v68 + 0xB90) )
        {
          *(_QWORD *)(v72 + v68 + 0xB98) = 0;
          v78 = 0;
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v137 + 0x168LL))(v137, 0);
        }
        if ( v458 < v408 && !*(_QWORD *)(v72 + v68 + 0xB98) )
        {
          v78 = *(__int64 **)(v72 + v68 + 0xB90);
          if ( v78 )
          {
            v138 = *v78;
            v139 = *(_QWORD *)(v72 + v68 + 0xB90);
            v464 = 0;
            (*(void (__fastcall **)(__int64, __int64 *))(v138 + 0x160))(v139, &v464);
          }
          v140 = *(_QWORD *)(v72 + v68 + 0xB98);
          *(_QWORD *)(v72 + v68 + 0xB98) = v78;
          if ( v140 )
            (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v140 + 0x168LL))(v140, 0);
        }
        if ( v458 >= v408 )
        {
          v141 = *(_QWORD *)(v72 + v68 + 0xB98);
          if ( v141 )
          {
            *(_QWORD *)(v72 + v68 + 0xB98) = 0;
            v78 = 0;
            (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v141 + 0x168LL))(v141, 0);
          }
        }
        v129 = v457;
      }
      else
      {
        *(float *)(v72 + v68 + 0xB3C) = v441;
        *(_QWORD *)(v72 + v68 + 0xB58) = 0;
        *(_QWORD *)(v72 + v68 + 0xB60) = 0;
        *(_QWORD *)(v72 + v68 + 0xB68) = 0;
        *(_QWORD *)(v72 + v68 + 0xB70) = 0;
        *(_DWORD *)(v72 + v68 + 0xB78) = 0;
        *(_DWORD *)(v72 + v68 + 0xB7C) = 0xFFFFFFFF;
        v142 = *(_QWORD *)(v72 + v68 + 0xB90);
        *(_QWORD *)(v72 + v68 + 0xB90) = 0;
        _XMM13 = LODWORD(v441);
        if ( v142 )
        {
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v142 + 0x168LL))(v142, 0);
          v129 = v457;
        }
        v143 = *(_QWORD *)(v72 + v68 + 0xB98);
        *(_DWORD *)(v72 + v68 + 0xB80) = 0xFFFFFFFF;
        if ( v143 )
        {
          *(_QWORD *)(v72 + v68 + 0xB98) = 0;
          v78 = 0;
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v143 + 0x168LL))(v143, 0);
          v129 = v457;
        }
        v132 = v408;
      }
      *(_DWORD *)(v72 + v68 + 0xB88) = *(_DWORD *)(v72 + v68 + 0xB88) & 0xFFFFFFFE | (fabs(v127 - v384) <= 0.0099999998);
      if ( v52 )
      {
        n0x200000 = _InterlockedCompareExchange64(v52, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0(v52, n0x200000);
        v129 = v457;
      }
      v70 = v437;
      if ( *(float *)&_XMM13 < v441 )
      {
        v145 = *(_QWORD *)(v68 + 0x2C0);
        v70 = ++v437;
        v146 = *(_QWORD *)(v145 + 0x82D98);
        if ( v146 )
        {
          v147 = 0;
          v148 = *(_DWORD *)(v145 + 0x82D90) - 1;
          if ( (__int16)v445 > 0 )
            v147 = (__int16)v445;
          if ( v147 < v148 )
            v148 = v147;
          v149 = v148;
          v150 = *(_DWORD *)(v145 + 0x82D90) - 1;
          v151 = *(_QWORD *)(v146 + 8 * v149);
          v152 = 0;
          v153 = *(float *)(v151 + 4);
          if ( v460 > 0 )
            v152 = v460;
          if ( v152 < v150 )
            v150 = v152;
          v154 = *(_QWORD *)(v146 + 8LL * v150);
        }
        else
        {
          v154 = v145 + 0x82DA0;
          v153 = *(float *)(v154 + 4);
        }
        v155 = *(float *)(v154 + 4);
        if ( v153 == 0.0 || v155 == 0.0 )
          v156 = 0.0;
        else
          v156 = (float)(v155 + v153) * 0.5;
        v157 = *(float *)(v68 + 0x1D8);
        v158 = v410;
        v159 = *(float *)(v68 + 0x1DC);
        v160 = *(float *)(v68 + 0x1E0);
        v161 = *(float *)(v68 + 0x1E4);
        v409 = v156;
        v422 = v156 + v422;
        v162 = (float)((float)(v410 * v159) - (float)(v160 * *((float *)&v450 + 1))) + (float)(*(float *)&v450 * v161);
        v163 = (float)((float)(*(float *)&v450 * v160) - (float)(v410 * v157)) + (float)(v161 * *((float *)&v450 + 1));
        v164 = (float)((float)(v157 * *((float *)&v450 + 1)) - (float)(*(float *)&v450 * v159)) + (float)(v410 * v161);
        v411 = (float)((float)((float)((float)(v159 * v164) - (float)(v160 * v163)) + *(float *)&v450)
                     + (float)((float)(v159 * v164) - (float)(v160 * v163)))
             - (float)(*(float *)&_XMM13 * v406);
        v442 = (float)((float)(*((float *)&v450 + 1) + (float)((float)(v160 * v162) - (float)(v157 * v164)))
                     + (float)((float)(v160 * v162) - (float)(v157 * v164)))
             - (float)(*(float *)&_XMM13 * v403);
        v440 = (float)((float)(v158 + (float)((float)(v157 * v163) - (float)(v159 * v162)))
                     + (float)((float)(v157 * v163) - (float)(v159 * v162)))
             - (float)(*(float *)&_XMM13 * v381);
        if ( fabs(*((float *)&v450 + 1) - v413) <= 0.000001 )
        {
          v168 = 0.0;
        }
        else
        {
          v165 = (float)(v447 - v413) / (float)(*((float *)&v450 + 1) - v413);
          v166 = &v456;
          if ( v165 >= 0.0 )
            v166 = &v454;
          v167 = &v455;
          v455 = 1.0;
          if ( v165 <= 1.0 )
            v167 = v166;
          v456 = 0.0;
          v454 = (float)(v447 - v413) / (float)(*((float *)&v450 + 1) - v413);
          v168 = *v167;
        }
        v169 = (__m128)*(unsigned int *)(v68 + 0x538);
        v169.m128_f32[0] = (float)((float)(*(float *)(v68 + 0x538) * *(float *)(v68 + 0x538))
                                 + (float)(*(float *)(v68 + 0x53C) * *(float *)(v68 + 0x53C)))
                         + (float)(*(float *)(v68 + 0x540) * *(float *)(v68 + 0x540));
        v170 = _mm_sqrt_ps(_mm_shuffle_ps(v169, v169, 0));
        v172 = _mm_shuffle_ps(v170, v170, 0xFF);
        v172.m128_f32[0] = v172.m128_f32[0] * 0.10193679;
        v171 = v172;
        n0x3F800000 = 0x3F800000u;
        *(double *)&n0x3F800000 = (float)(1.0 - v168) * *(double *)(v68 + 0x6B0);
        n0x3F800000_1 = n0x3F800000;
        v176 = LODWORD(v384);
        *(float *)&v176 = v384 + v386;
        v175 = v176;
        *((_QWORD *)&v176 + 1) = *((_QWORD *)&n0x3F800000_1 + 1);
        *(double *)&v176 = *(double *)&n0x3F800000_1 * v171.m128_f32[0];
        _XMM0 = v176;
        v178 = v175;
        __asm { vcvtsd2ss xmm9, xmm0, xmm0 }
        *(float *)&v178 = (float)(*(float *)&v175 * 0.5) - 0.1;
        _XMM0 = v178;
        __asm { vmaxss  xmm15, xmm0, xmm12 }
        if ( v400 > 0.0 )
        {
          v182 = LODWORD(v419);
          if ( v419 == 1.0 )
          {
            _XMM0 = COERCE_UNSIGNED_INT64(9.800000000000001 / (float)((float)(v115 - v400) * (float)v430));
            __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
            v185 = _XMM1;
            *(float *)&v185 = *(float *)&_XMM1 / v388;
            v182 = v185;
            v419 = *(float *)&_XMM1 / v388;
          }
          if ( (float)(fabs(v384 - v386) / (float)(v115 - v132)) >= fsqrt(v171.m128_f32[0])
                                                                  * ((float)(a2 * 50.0)
                                                                   * 0.004999999999999999) )
            goto LABEL_107;
          v186 = _XMM13;
          *(float *)&v186 = (float)(*(float *)&_XMM13 - v400) / (float)(v115 - v400);
          _XMM2 = v186;
          if ( *(float *)&v186 >= -0.1 )
            __asm { vminss  xmm3, xmm2, cs:dword_1480EA6A0 }
          else
            LODWORD(_XMM3) = 0xBDCCCCCD;
          v190 = v171;
          v190.m128_f32[0] = v171.m128_f32[0] * 0.042857148;
          _XMM0 = v190;
          LODWORD(_XMM1) = 0x3C23D70A;
          if ( (float)(v171.m128_f32[0] * 0.042857148) >= 0.0099999998 )
            __asm { vminss  xmm1, xmm0, cs:dword_14816BD48 }
          v193 = v182;
          *(float *)&v193 = *(float *)&v182
                          * (float)((float)((float)(1.0 - *(float *)&_XMM3) * *(float *)&_XMM1)
                                  + (float)(1.0 - *(float *)&_XMM1));
          _XMM3 = v193;
          LODWORD(_XMM0) = 0x3D4CCCCD;
          if ( *(float *)&v193 >= 0.050000001 )
            __asm { vminss  xmm0, xmm3, cs:flt_1480EA700 }
          v419 = *(float *)&_XMM0;
          if ( (float)(fabs(*(float *)&_XMM0 - *(float *)&v182) / *(float *)&v182) > 0.0001 )
LABEL_107:
            *(_BYTE *)(v68 + 0x6D60) = 1;
        }
        v195 = (float)((float)((float)(v388 * v419) * *(float *)&_XMM9) * *(float *)&_XMM15) * a2;
        v196 = (float)((float)((float)(v195 * v421) * v434) - (float)((float)(v195 * v420) * v436))
             + (float)(v438 * (float)(v195 * v429));
        v197 = (float)((float)((float)(v195 * v429) * v436) - (float)((float)(v195 * v421) * v435))
             + (float)(v438 * (float)(v195 * v420));
        v198 = (float)((float)((float)(v195 * v420) * v435) - (float)((float)(v195 * v429) * v434))
             + (float)(v438 * (float)(v195 * v421));
        v199 = (float)(v196 * v436) - (float)(v198 * v435);
        v200 = (float)(*(float *)&_XMM9 * v415) * (float)(v384 - v386);
        v201 = (float)(v198 * v434) - (float)(v197 * v436);
        v202 = (float)(v197 * v435) - (float)(v196 * v434);
        v203 = (float)((float)((float)(v200 * v421) * v434) - (float)((float)(v200 * v420) * v436))
             + (float)((float)(v200 * v429) * v438);
        v204 = (float)((float)((float)(v200 * v429) * v436) - (float)((float)(v200 * v421) * v435))
             + (float)((float)(v200 * v420) * v438);
        v205 = (float)((float)((float)(v200 * v420) * v435) - (float)((float)(v200 * v429) * v434))
             + (float)((float)(v200 * v421) * v438);
        v389 = (float)((float)((float)(v199 + (float)(v195 * v420)) + v199) + (float)(v200 * v420))
             + (float)((float)((float)(v203 * v436) - (float)(v205 * v435))
                     + (float)((float)(v203 * v436) - (float)(v205 * v435)));
        v416 = (float)((float)((float)(v201 + (float)(v195 * v429)) + v201) + (float)(v200 * v429))
             + (float)((float)((float)(v434 * v205) - (float)(v204 * v436))
                     + (float)((float)(v434 * v205) - (float)(v204 * v436)));
        v206 = (float)((float)((float)(v202 + (float)(v195 * v421)) + v202) + (float)(v200 * v421))
             + (float)((float)((float)(v204 * v435) - (float)(v203 * v434))
                     + (float)((float)(v204 * v435) - (float)(v203 * v434)));
        v207 = (float)((float)(v389 * v461.m256_f32[7]) + (float)(v416 * v461.m256_f32[6])) + (float)(v206 * v462);
        v208 = v207 * v461.m256_f32[7];
        v209 = v207 * v462;
        v210 = v207 * v461.m256_f32[6];
        v211 = v416 - (float)(v207 * v461.m256_f32[6]);
        v212 = v389 - (float)(v207 * v461.m256_f32[7]);
        v213 = v206 - (float)(v207 * v462);
        v398 = v206;
        n0x3F800000_9 = 0;
        if ( (float)((float)((float)(v212 * v212) + (float)(v211 * v211)) + (float)(v213 * v213)) > (float)((float)((float)((float)(v208 * v208) + (float)(v210 * v210)) + (float)(v209 * v209)) * (float)(v409 * v409)) )
        {
          v213 = 0.0;
          v212 = 0.0;
          v211 = 0.0;
        }
        v214 = v210 + v391;
        v215 = v208 + v392;
        v216 = v209 + v393;
        v424 = v212 + v424;
        v217 = v208 + v212;
        v423 = v211 + v423;
        v218 = (float)((float)((float)(v209 + v213) * v442) - (float)((float)(v208 + v212) * v440)) + v426;
        v425 = v213 + v425;
        v219 = (float)((float)((float)(v210 + v211) * v440) - (float)((float)(v209 + v213) * v411)) + v427;
        v220 = (float)((float)(v217 * v411) - (float)((float)(v210 + v211) * v442)) + v428;
        if ( v129
          && *(double *)(v68 + 0x6B8) * 10.0 > *(double *)((*(__int64 (__fastcall **)(__int64 *, _QWORD, _QWORD))(*v129 + 0x2A0))(
                                                             v129,
                                                             v459,
                                                             0)
                                                         + 0x108) )
        {
          v473 = *(_OWORD *)v461.m256_f32;
          v477 = xmmword_1480F3CA0;
          v472[1] = LODWORD(v416) ^ 0x80000000;
          v474 = *(double *)&v461.m256_f32[4];
          v472[3] = LODWORD(v398) ^ 0x80000000;
          v472[2] = LODWORD(v389) ^ 0x80000000;
          v472[0] = 1;
          v472[4] = 0xFFBFFFFF;
          v475 = 0x80000000;
          v476 = v459;
          (*(void (__fastcall **)(__int64 *, _DWORD *, _QWORD))(*v457 + 0x30))(v457, v472, 0);
        }
        if ( v78 )
        {
          v221 = _InterlockedCompareExchange64(v52, 0x200000, 0);
          if ( v221 )
            sub_1403DE750(
              (__int64)v52,
              v221,
              0,
              (__int64)"CSpaceshipEntity::AddAdditionalImpulses",
              (__int64)"m_lockSpaceship",
              1);
          v222 = *(unsigned int *)(v72 + v68 + 0xB44);
          *(float *)&v222 = *(float *)(v72 + v68 + 0xB44) - v458;
          v223 = *(_OWORD *)(v72 + v68 + 0xB58);
          *(_DWORD *)(v72 + v68 + 0xC34) = 0;
          *(_OWORD *)(v72 + v68 + 0xBF8) = v223;
          v224 = *(double *)(v72 + v68 + 0xB68);
          *(double *)(v72 + v68 + 0xC08) = v224;
          *(_OWORD *)(v72 + v68 + 0xBE0) = *(_OWORD *)(v72 + v68 + 0xBF8);
          *(double *)(v72 + v68 + 0xBF0) = v224;
          v225 = *(_DWORD *)(v72 + v68 + 0xB78);
          *(double *)(v72 + v68 + 0xC10) = *(double *)(v72 + v68 + 0xB70);
          *(_DWORD *)(v72 + v68 + 0xC18) = v225;
          *(_QWORD *)(v72 + v68 + 0xBC8) = v68 + 0x5B0;
          v226 = *(_QWORD *)(v72 + v68 + 0xB98);
          v227 = *(unsigned int *)(v72 + v68 + 0xB80);
          *(float *)(v72 + v68 + 0xC30) = v409;
          *(float *)(v72 + v68 + 0xC98) = *(float *)&v222;
          v228 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v226 + 0x2A0LL))(v226, v227, 0);
          v229 = *(_QWORD *)(v72 + v68 + 0xB98);
          v230 = *(int *)(v72 + v68 + 0xB80);
          *(_QWORD *)(v72 + v68 + 0xBD0) = v228;
          *(_QWORD *)(v72 + v68 + 0xBC0) = v229;
          *(_QWORD *)(v72 + v68 + 0xBB8) = v68;
          *(_DWORD *)(v72 + v68 + 0xC1C) = (_DWORD)v230 << 0x10;
          v231 = **(_DWORD **)(v68 + 0x250) | *(_DWORD *)(v72 + v68 + 0xC20) & 0xFFFF0000;
          *(_DWORD *)(v72 + v68 + 0xC20) = v231;
          *(_DWORD *)(v72 + v68 + 0xC20) = (unsigned __int16)v231
                                         | (*(_DWORD *)(*(_QWORD *)(v229 + 0x250) + 4 * v230) << 0x10);
          *(float *)&v222 = (float)(*(float *)&v222 * *(float *)(*(_QWORD *)(v68 + 0x2C0) + 0x1E4LL)) * 5.0;
          _XMM3 = v222;
          __asm { vminss  xmm4, xmm3, xmm2 }
          *(float *)(v72 + v68 + 0xC3C) = *(float *)&_XMM4 * v406;
          *(float *)(v72 + v68 + 0xC40) = *(float *)&_XMM4 * v403;
          *(float *)(v72 + v68 + 0xC44) = *(float *)&_XMM4 * v381;
          *(_QWORD *)(v72 + v68 + 0xC50) = 0;
          *(_DWORD *)(v72 + v68 + 0xC58) = 0;
          *(_DWORD *)(v72 + v68 + 0xC5C) = 0x7F7FFFFF;
          *(_DWORD *)(v72 + v68 + 0xC60) = 0x7F7FFFFF;
          *(_DWORD *)(v72 + v68 + 0xC64) = 0x7F7FFFFF;
          if ( v52 )
          {
            n0x200000_1 = _InterlockedCompareExchange64(v52, 0, 0x200000);
            if ( n0x200000_1 != 0x200000 )
              sub_1403DEBA0(v52, n0x200000_1);
          }
        }
        v391 = v214;
        v392 = v208 + v392;
        v393 = v209 + v393;
        v426 = v218;
        v427 = v219;
        v428 = v220;
        if ( v400 > 0.0 )
        {
          v235 = _InterlockedCompareExchange64(v52, 0x200000, 0);
          v236 = v52;
          v237 = v52;
          if ( v235 )
          {
            sub_1403DE750(
              (__int64)v52,
              v235,
              0,
              (__int64)"CSpaceshipEntity::AddAdditionalImpulses",
              (__int64)"m_lockSpaceship",
              1);
            v236 = v52;
            v237 = v52;
          }
          *(float *)(v72 + v68 + 0xB54) = v419;
          v391 = v214;
          v392 = v215;
          v393 = v216;
          v426 = v218;
          v427 = v219;
          v428 = v220;
          if ( v236 )
          {
            n0x200000_2 = _InterlockedCompareExchange64(v237, 0, 0x200000);
            v391 = v214;
            v392 = v215;
            v393 = v216;
            v426 = v218;
            v427 = v219;
            v428 = v220;
            if ( n0x200000_2 != 0x200000 )
            {
              sub_1403DEBA0(v237, n0x200000_2);
              v391 = v214;
              v392 = v215;
              v393 = v216;
              v426 = v218;
              v427 = v219;
              v428 = v220;
            }
          }
        }
      }
      v239 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( v485 == v239 )
      {
        ++v486;
      }
      else
      {
        v240 = _InterlockedCompareExchange64(&v484, 0x200000, 0);
        if ( v240 )
          sub_1403DE750((__int64)&v484, v240, 0, (__int64)&Source, (__int64)&Source, 0);
        v485 = v239;
      }
      if ( v481 )
        sub_14753C530(v481);
      if ( !v486 )
      {
        v485 = 0xFFFFFFFF;
        n0x200000_3 = _InterlockedCompareExchange64(&v484, 0, 0x200000);
        if ( n0x200000_3 != 0x200000 )
          sub_1403DEBA0(&v484, n0x200000_3);
      }
      v61 = v394;
      v62 = v395;
      v63 = v396;
    }
    else if ( v78 )
    {
      v80 = _InterlockedCompareExchange64(v52, 0x200000, 0);
      if ( v80 )
        sub_1403DE750(
          (__int64)v52,
          v80,
          0,
          (__int64)"CSpaceshipEntity::AddAdditionalImpulses",
          (__int64)"m_lockSpaceship",
          1);
      v81 = *(_QWORD *)(v72 + v68 + 0xB98);
      *(_QWORD *)(v72 + v68 + 0xB98) = 0;
      if ( v81 )
        (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v81 + 0x168LL))(v81, 0);
      if ( v52 )
      {
        n0x200000_4 = _InterlockedCompareExchange64(v52, 0, 0x200000);
        if ( n0x200000_4 != 0x200000 )
          sub_1403DEBA0(v52, n0x200000_4);
      }
    }
    n0x40_1 = n0x40_3 + 1;
    n0x40_3 = n0x40_1;
  }
  while ( n0x40_1 < 0x40 );
  if ( v70 )
    v422 = v422 / (float)v70;
  v242 = (__m128)LODWORD(v392);
  v243 = v391;
  v244 = v393;
  v246 = v242;
  v246.m128_f32[0] = (float)((float)(v242.m128_f32[0] * v242.m128_f32[0]) + (float)(v243 * v243)) + (float)(v244 * v244);
  v245 = v246.m128_f32[0];
  n0x3F800000_12 = n0x3F800000_9;
  v407 = *(float *)&n0x3F800000_9;
  v387 = *(float *)&n0x3F800000_9;
  v414 = *(float *)&n0x3F800000_9;
  v248 = *(float *)&n0x3F800000_9;
  v249 = *(float *)&n0x3F800000_9;
  n0x3F800000_5 = n0x3F800000_9;
  n0x3F800000_10 = n0x3F800000_9;
  if ( v246.m128_f32[0] > 0.000099999997 )
  {
    v246.m128_f32[0] = v246.m128_f32[0] + 1.1754944e-38;
    v252 = *(double *)(v68 + 0x658);
    v253 = *(double *)(v68 + 0x660);
    _XMM0 = _mm_shuffle_ps(v246, v246, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v256 = (float)(1.5
                 - (float)((float)((float)((float)(v245 + 1.1754944e-38) * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
         * _XMM3.m128_f32[0];
    v257 = *(double *)(v68 + 0x650);
    v258 = LODWORD(v392);
    _XMM2 = COERCE_UNSIGNED_INT64(v257 * (float)(v391 * v256) + v252 * (float)(v392 * v256) + v253
                                                                                            * (float)(v393 * v256));
    __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
    _XMM2 = COERCE_UNSIGNED_INT64(v257 - (float)(*(float *)&_XMM3 * (float)(v391 * v256)));
    __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
    _XMM2 = COERCE_UNSIGNED_INT64(v252 - (float)(*(float *)&_XMM3 * (float)(v392 * v256)));
    __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
    _XMM2 = COERCE_UNSIGNED_INT64(v253 - (float)(*(float *)&_XMM3 * (float)(v393 * v256)));
    __asm { vcvtsd2ss xmm6, xmm2, xmm2 }
    *(double *)&v258 = (float)(v392 * v256) * *(double *)(v68 + 0x670)
                     + (float)(v391 * v256) * *(double *)(v68 + 0x668)
                     + (float)(v393 * v256) * *(double *)(v68 + 0x678);
    _XMM0 = v258;
    __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
    v401 = *(float *)&_XMM3 * (float)(v391 * v256);
    v390 = *(float *)&_XMM3 * (float)(v392 * v256);
    v269 = *(float *)&_XMM3 * (float)(v393 * v256);
    v270 = (float)((float)(*(float *)&_XMM5 * *(float *)&_XMM5) + (float)(*(float *)&_XMM4 * *(float *)&_XMM4))
         + (float)(*(float *)&_XMM6 * *(float *)&_XMM6);
    v385 = v269;
    if ( v270 > (float)((float)(v422 * v422) * v245) )
    {
      v271 = fsqrt(v245 / v270);
      *(float *)&_XMM4 = (float)(*(float *)&_XMM4 * v422) * v271;
      *(float *)&_XMM6 = (float)(*(float *)&_XMM6 * v422) * v271;
      *(float *)&_XMM5 = (float)(*(float *)&_XMM5 * v422) * v271;
    }
    LODWORD(v272) = _XMM5 ^ 0x80000000;
    _XMM5 = *(unsigned __int64 *)(v68 + 0x6B8);
    v431 = v272;
    __asm { vcvtpd2ps xmm5, xmm5 }
    LODWORD(v412) = _XMM6 ^ 0x80000000;
    v275 = *(float *)&n0x3F800000_9;
    v444 = (float)((float)((float)(*(float *)&_XMM5 * (float)(v391 * v256)) * v391)
                 + (float)((float)(*(float *)&_XMM5 * (float)(v392 * v256)) * v392))
         + (float)((float)(*(float *)&_XMM5 * (float)(v393 * v256)) * v393);
    LODWORD(v433) = _XMM4 ^ 0x80000000;
    v404 = *(float *)&n0x3F800000_9;
    v276 = (volatile signed __int64 *)(v68 + 0x6D58);
    v277 = (float *)(v68 + 0xB34);
    do
    {
      v278 = _InterlockedIncrement64(v276);
      if ( (v278 & 0x200000) != 0 )
        sub_1403CD0A0(
          (volatile signed __int64 *)(v68 + 0x6D58),
          v278,
          (__int64)"CSpaceshipEntity::AddAdditionalImpulses",
          (__int64)"m_lockSpaceship",
          1);
      v279 = v277[2];
      v280 = v277[3];
      v281 = v277[0xFFFFFFFD];
      v451 = *(_QWORD *)(v277 + 0xFFFFFFFB);
      v446 = v277[0xFFFFFFFE];
      v448 = v277[0xFFFFFFFF];
      v399 = *v277;
      v382 = v279;
      v417 = v277[1];
      v282 = _InterlockedDecrement64(v276);
      if ( (v282 & 0x3FF) == 0 && (v282 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0((volatile signed __int64 *)(v68 + 0x6D58), v282);
      if ( v280 < *(float *)&n0x3F800000_9 )
        break;
      if ( v279 < v280 )
      {
        v283 = *(float *)(v68 + 0x84C);
        v284 = *(float *)(v68 + 0x6CC);
        v285 = *(float *)(v68 + 0x6C8);
        v286 = *(float *)(v68 + 0x848);
        v287 = *(float *)(v68 + 0x850);
        v288 = *(float *)(v68 + 0x6D0);
        v289 = *(float *)(v68 + 0x854);
        v290 = *(float *)(v68 + 0x6D4);
        v291 = (float)(v290 * v289)
             - (float)((float)((float)(v286 * v285) + (float)(v284 * v283)) + (float)(v288 * v287));
        v292 = (float)((float)((float)(v288 * v283) - (float)(v287 * v284)) + (float)(v285 * v289))
             + (float)(v286 * v290);
        v293 = (float)((float)((float)(v287 * v285) - (float)(v288 * v286)) + (float)(v284 * v289))
             + (float)(v283 * v290);
        v294 = (float)((float)((float)(v286 * v284) - (float)(v285 * v283)) + (float)(v288 * v289))
             + (float)(v287 * v290);
        v295 = (float)(v417 * v291)
             - (float)((float)((float)(v448 * v293) + (float)(v446 * v292)) + (float)(v399 * v294));
        v296 = (float)((float)((float)(v399 * v293) - (float)(v448 * v294)) + (float)(v446 * v291))
             + (float)(v417 * v292);
        v297 = (float)((float)((float)(v446 * v294) - (float)(v399 * v292)) + (float)(v448 * v291))
             + (float)(v417 * v293);
        v298 = (float)((float)((float)(v448 * v292) - (float)(v446 * v293)) + (float)(v399 * v291))
             + (float)(v417 * v294);
        v299 = (float)((float)(v297 * v421) - (float)(v298 * v420)) + (float)(v295 * v429);
        v300 = (float)((float)(v298 * v429) - (float)(v296 * v421)) + (float)(v295 * v420);
        v301 = *(float *)(v68 + 0x1DC);
        v302 = (float)((float)(v296 * v420) - (float)(v297 * v429)) + (float)(v295 * v421);
        v303 = v297 * v302;
        v304 = v296 * v302;
        v305 = *(float *)(v68 + 0x1E4);
        v306 = (float)(v298 * v299) - v304;
        v307 = v298 * v300;
        v308 = *(float *)(v68 + 0x1D8);
        v309 = v303 - v307;
        v310 = v296 * v300;
        v311 = *(float *)(v68 + 0x1E0);
        v418 = v310 - (float)(v297 * v299);
        v312 = (float)((float)(v281 * v301) - (float)(v311 * *((float *)&v451 + 1))) + (float)(*(float *)&v451 * v305);
        v313 = (float)((float)(*(float *)&v451 * v311) - (float)(v281 * v308)) + (float)(v305 * *((float *)&v451 + 1));
        v314 = (float)((float)(v308 * *((float *)&v451 + 1)) - (float)(*(float *)&v451 * v301)) + (float)(v281 * v305);
        v315 = (float)((float)(*(float *)&v451 + (float)((float)(v301 * v314) - (float)(v311 * v313)))
                     + (float)((float)(v301 * v314) - (float)(v311 * v313)))
             - (float)((float)((float)(v309 + v429) + v309) * v382);
        v316 = (float)((float)(*((float *)&v451 + 1) + (float)((float)(v311 * v312) - (float)(v308 * v314)))
                     + (float)((float)(v311 * v312) - (float)(v308 * v314)))
             - (float)((float)((float)(v306 + v420) + v306) * v382);
        v317 = (float)((float)(v281 + (float)((float)(v308 * v313) - (float)(v301 * v312)))
                     + (float)((float)(v308 * v313) - (float)(v301 * v312)))
             - (float)((float)((float)(v418 + v421) + v418) * v382);
        n0x3F800000_2 = 0x3F800000u;
        *(float *)&n0x3F800000_2 = 1.0 / (float)v70;
        v319 = *(float *)&n0x3F800000_2 * v433;
        v320 = *(float *)&n0x3F800000_2 * v431;
        *(float *)&n0x3F800000_2 = *(float *)&n0x3F800000_2 * v412;
        n0x3F800000_3 = n0x3F800000_2;
        _XMM0 = COERCE_UNSIGNED_INT64(v390 * *(double *)(v68 + 0x5B8) + v401 * *(double *)(v68 + 0x5B0) + v385 * *(double *)(v68 + 0x5C0));
        __asm { vcvtsd2ss xmm7, xmm0, xmm0 }
        _XMM0 = COERCE_UNSIGNED_INT64(v401 * *(double *)(v68 + 0x5C8) + v390 * *(double *)(v68 + 0x5D0) + v385 * *(double *)(v68 + 0x5D8));
        __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
        _XMM0 = COERCE_UNSIGNED_INT64(v401 * *(double *)(v68 + 0x5E0) + v390 * *(double *)(v68 + 0x5E8) + v385 * *(double *)(v68 + 0x5F0));
        __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
        v328 = _XMM3;
        v328.m128_f32[0] = (float)((float)((float)((float)(_XMM3.m128_f32[0] * v315) - (float)(*(float *)&_XMM7 * v317))
                                         * (float)((float)(_XMM3.m128_f32[0] * v315) - (float)(*(float *)&_XMM7 * v317)))
                                 + (float)((float)((float)(*(float *)&_XMM5 * v317) - (float)(_XMM3.m128_f32[0] * v316))
                                         * (float)((float)(*(float *)&_XMM5 * v317) - (float)(_XMM3.m128_f32[0] * v316))))
                         + (float)((float)((float)(*(float *)&_XMM7 * v316) - (float)(*(float *)&_XMM5 * v315))
                                 * (float)((float)(*(float *)&_XMM7 * v316) - (float)(*(float *)&_XMM5 * v315)));
        v329 = v328;
        n0x3F800000_4 = n0x3F800000_3;
        v331 = _mm_sqrt_ps(_mm_shuffle_ps(v329, v329, 0));
        v275 = _mm_shuffle_ps(v331, v331, 0xFF).m128_f32[0] + v404;
        *(float *)&n0x3F800000_4 = (float)((float)(*(float *)&n0x3F800000_3 * v316) - (float)(v320 * v317)) + v407;
        n0x3F800000_5 = n0x3F800000_4;
        v387 = (float)((float)(v319 * v317) - (float)(*(float *)&n0x3F800000_3 * v315)) + v387;
        v414 = (float)((float)(v320 * v315) - (float)(v319 * v316)) + v414;
        v404 = v275;
        v407 = *(float *)&n0x3F800000_4;
        LODWORD(n0x3F800000_9) = 0;
      }
      ++n0x40_2;
      v277 += 0x62;
    }
    while ( n0x40_2 < 0x40 );
    v332 = v444 * v422;
    v333 = v275 / (float)v70;
    if ( v333 > (float)(v444 * v422) )
    {
      *(float *)&_XMM7 = (float)(v332 / v333) * v401;
      v336 = (float)(v332 / v333) * v390;
      v337 = (float)(v332 / v333) * v385;
    }
    else
    {
      _XMM7 = LODWORD(v401);
      __asm { vunpcklps xmm0, xmm7, xmm0 }
      LODWORD(v336) = _mm_shuffle_ps(_XMM0, _XMM0, 0x55).m128_u32[0];
      v337 = v385;
    }
    *(float *)&n0x3F800000_9 = v433;
    v248 = v431;
    v243 = v391;
    v242 = (__m128)LODWORD(v392);
    v244 = v393;
    n0x3F800000_6 = n0x3F800000_5;
    *(float *)&n0x3F800000_6 = *(float *)&n0x3F800000_5 - *(float *)&_XMM7;
    n0x3F800000_5 = n0x3F800000_6;
    v249 = v412;
    n0x3F800000_13 = LODWORD(v387);
    *(float *)&n0x3F800000_13 = v387 - v336;
    n0x3F800000_12 = n0x3F800000_13;
    n0x3F800000_11 = LODWORD(v414);
    *(float *)&n0x3F800000_11 = v414 - v337;
    n0x3F800000_10 = n0x3F800000_11;
  }
  if ( *(double *)(v68 + 0x6B8) > 0.0 )
  {
    _XMM2 = COERCE_UNSIGNED_INT64(v423 + v243 + *(float *)&n0x3F800000_9);
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&_XMM0 + 1);
    *(double *)&v343 = *(float *)&_XMM0 + *(double *)(v68 + 0x650);
    _XMM5 = v343;
    *((_QWORD *)&v343 + 1) = v242.m128_u64[1];
    *(double *)&v343 = v242.m128_f32[0] + v424 + v248;
    _XMM2 = v343;
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    __asm { vunpcklpd xmm5, xmm5, xmm4 }
    _XMM2 = COERCE_UNSIGNED_INT64(v425 + v244 + v249);
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    *(double *)(v68 + 0x660) = *(float *)&_XMM0 + *(double *)(v68 + 0x660);
    *(_OWORD *)(v68 + 0x650) = _XMM5;
    v350 = *(unsigned __int64 *)(v68 + 0x6B8);
    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)&v350 * *(double *)&_XMM5);
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(v68 + 0x68C) = *(float *)&_XMM1;
    __asm { vunpckhpd xmm5, xmm5, xmm5 }
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&v350 + 1);
    *(double *)&v343 = *(double *)&v350 * *(double *)&_XMM5;
    _XMM0 = v343;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(v68 + 0x690) = *(float *)&_XMM1;
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&v350 + 1);
    *(double *)&v343 = *(double *)&v350 * *(double *)(v68 + 0x660);
    _XMM0 = v343;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    *(float *)(v68 + 0x694) = *(float *)&_XMM1;
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&n0x3F800000_5 + 1);
    *(double *)&v343 = *(float *)&n0x3F800000_5 + v426;
    _XMM1 = v343;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v360 = *(float *)&_XMM2 + *(double *)(v68 + 0x668);
    *(double *)(v68 + 0x668) = v360;
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&n0x3F800000_12 + 1);
    *(double *)&v343 = *(float *)&n0x3F800000_12 + v427;
    _XMM1 = v343;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&_XMM2 + 1);
    *(double *)&v343 = *(float *)&_XMM2 + *(double *)(v68 + 0x670);
    v363 = v343;
    *(double *)(v68 + 0x670) = *(double *)&v343;
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&n0x3F800000_10 + 1);
    *(double *)&v343 = *(float *)&n0x3F800000_10 + v428;
    _XMM1 = v343;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v366 = *(float *)&_XMM2 + *(double *)(v68 + 0x678);
    *(double *)(v68 + 0x678) = v366;
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&v363 + 1);
    *(double *)&v343 = *(double *)&v363 * *(double *)(v68 + 0x5B8)
                     + v360 * *(double *)(v68 + 0x5B0)
                     + v366 * *(double *)(v68 + 0x5C0);
    _XMM0 = v343;
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&v363 + 1);
    __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
    *(double *)&v343 = *(double *)&v363 * *(double *)(v68 + 0x5D0)
                     + v360 * *(double *)(v68 + 0x5C8)
                     + v366 * *(double *)(v68 + 0x5D8);
    _XMM0 = v343;
    *((_QWORD *)&v343 + 1) = *((_QWORD *)&v363 + 1);
    __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
    v371 = (*(_BYTE *)(v68 + 0x208) & 8) == 0;
    *(double *)&v343 = *(double *)&v363 * *(double *)(v68 + 0x5E8)
                     + v360 * *(double *)(v68 + 0x5E0)
                     + v366 * *(double *)(v68 + 0x5F0);
    _XMM0 = v343;
    __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
    *(float *)(v68 + 0x688) = *(float *)&_XMM3;
    *(float *)(v68 + 0x680) = *(float *)&_XMM5;
    *(float *)(v68 + 0x684) = *(float *)&_XMM4;
    if ( v371 )
      sub_1467987E0(v68);
  }
  if ( v439 )
  {
    n0x3F800000_7 = 0x3F800000u;
    v374 = 1.0 / (float)v439;
    *(float *)&n0x3F800000_7 = v374 * v394;
    n0x3F800000_8 = n0x3F800000_7;
    __asm { vunpcklps xmm0, xmm3, xmm2 }
    *(double *)(v68 + 0x6D64) = *(double *)&_XMM0;
    *(float *)(v68 + 0x6D6C) = v374 * v396;
  }
  else
  {
    *(_DWORD *)(v68 + 0x6D64) = 0xFFBFFFFF;
  }
  v469 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_14677F280 (0x14677F280) ---

// --- Function: sub_146784B90 (0x146784B90) ---
// attributes: thunk
__int64 sub_146784B90()
{
  return sub_146784BA0();
}

// --- End Function: sub_146784B90 (0x146784B90) ---

// --- Function: sub_146784BA0 (0x146784BA0) ---
__int64 __fastcall sub_146784BA0(__int64 a1, char *a2)
{
  volatile signed __int64 *v2; // r14
  char *v5; // rdx
  __int64 v6; // r8
  volatile signed __int64 *v7; // rbx
  __int64 v8; // rax
  unsigned __int64 n0x200000; // rax
  _DWORD *v10; // rcx
  __int64 v11; // rdx
  volatile signed __int64 *v12; // r13
  __int64 v13; // rax
  volatile signed __int64 *v14; // r15
  __int64 v15; // rax
  volatile signed __int64 *v16; // r14
  unsigned __int64 n0x200000_1; // rax
  unsigned int v18; // r14d
  unsigned __int64 n0x200000_2; // rax
  unsigned __int64 n0x200000_3; // rax
  unsigned __int64 n0x200000_4; // rax
  __int64 v23; // rax
  __int64 v24; // r12
  volatile signed __int64 *v25; // r15
  __int64 v26; // rax
  volatile signed __int64 *v27; // rbx
  __int64 v28; // rax
  __int64 v29; // r13
  unsigned __int64 n0x200000_5; // rax
  unsigned __int64 n0x200000_6; // rax
  unsigned __int64 n0x200000_7; // rax
  __int64 v33; // [rsp+78h] [rbp+10h]
  unsigned int v34; // [rsp+78h] [rbp+10h]
  unsigned int v35; // [rsp+78h] [rbp+10h]
  __int64 v36; // [rsp+80h] [rbp+18h]

  v2 = (volatile signed __int64 *)(a1 + 0x8C8);
  if ( (*(unsigned __int8 (__fastcall **)(char *))(*(_QWORD *)a2 + 0x10LL))(a2) )
  {
    v5 = a2 + 0x8C8;
    v6 = (__int64)(*((_DWORD *)a2 + 0x3C) - *(_DWORD *)(a1 + 0xF0)) >> 0x1F;
    v36 = v6;
    v7 = (volatile signed __int64 *)((char *)v2 + (v6 & (a2 + 0x8C8 - (char *)v2)));
    while ( 1 )
    {
      v8 = _InterlockedCompareExchange64(v7, 0x200000, 0);
      if ( v8 )
      {
        sub_1403DE750(
          (__int64)v7,
          v8,
          0,
          (__int64)"CRigidEntity::AddColliderInternal",
          (__int64)"*(CIGRWLock_NonRecursive*)(plockR0+(plockR1-plockR0&maskR))",
          1);
        v6 = v36;
        v5 = a2 + 0x8C8;
      }
      if ( a2 == (char *)a1
        || !_InterlockedCompareExchange64((volatile signed __int64 *)&v5[v6 & ((char *)v2 - v5)], 0x200000, 0) )
      {
        break;
      }
      if ( v7 )
      {
        n0x200000 = _InterlockedCompareExchange64(v7, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
        {
          sub_1403DEBA0(v7, n0x200000);
          v6 = v36;
          v5 = a2 + 0x8C8;
        }
      }
    }
    v10 = a2 + 0x150;
    v33 = (__int64)(*((_DWORD *)a2 + 0x3C) - *(_DWORD *)(a1 + 0xF0)) >> 0x1F;
    v11 = v33;
    v12 = (volatile signed __int64 *)(a1 + 0x150 + (v33 & (unsigned __int64)&a2[-a1]));
    v13 = _InterlockedCompareExchange64(v12, 0x200000, 0);
    if ( v13 )
    {
      sub_1403DE750(
        (__int64)v12,
        v13,
        0,
        (__int64)"CRigidEntity::AddColliderInternal",
        (__int64)"*(CIGRWLock_NonRecursive*)(plock0+(plock1-plock0&mask))",
        1);
      v11 = v33;
      v10 = a2 + 0x150;
    }
    v14 = (volatile signed __int64 *)((char *)v10 + (v11 & (a1 + 0x150 - (_QWORD)v10)));
    if ( a2 == (char *)a1 )
    {
      v18 = sub_146784F70(a1, a2);
    }
    else
    {
      v15 = _InterlockedCompareExchange64(v14, 0x200000, 0);
      if ( v15 )
        sub_1403DE750(
          (__int64)v14,
          v15,
          0,
          (__int64)"CRigidEntity::AddColliderInternal",
          (__int64)"*(CIGRWLock_NonRecursive*)(plock1+(plock0-plock1&mask))",
          1);
      (*(void (__fastcall **)(char *, __int64, __int64))(*(_QWORD *)a2 + 0x210LL))(a2, a1, v6);
      v34 = sub_146784F70(a1, a2);
      v16 = (volatile signed __int64 *)&a2[(v36 & ((char *)v2 - (a2 + 0x8C8))) + 0x8C8];
      n0x200000_1 = _InterlockedCompareExchange64(v16, 0, 0x200000);
      if ( n0x200000_1 != 0x200000 )
        sub_1403DEBA0(v16, n0x200000_1);
      v18 = v34;
    }
    if ( v14 )
    {
      if ( a2 != (char *)a1 )
      {
        n0x200000_2 = _InterlockedCompareExchange64(v14, 0, 0x200000);
        if ( n0x200000_2 != 0x200000 )
          sub_1403DEBA0(v14, n0x200000_2);
      }
    }
    if ( v12 )
    {
      n0x200000_3 = _InterlockedCompareExchange64(v12, 0, 0x200000);
      if ( n0x200000_3 != 0x200000 )
        sub_1403DEBA0(v12, n0x200000_3);
    }
    if ( v7 )
    {
      n0x200000_4 = _InterlockedCompareExchange64(v7, 0, 0x200000);
      if ( n0x200000_4 != 0x200000 )
        sub_1403DEBA0(v7, n0x200000_4);
    }
    return v18;
  }
  v23 = _InterlockedCompareExchange64(v2, 0x200000, 0);
  if ( v23 )
    sub_1403DE750((__int64)v2, v23, 0, (__int64)"CRigidEntity::AddColliderInternal", (__int64)"m_lockContacts", 1);
  v24 = (__int64)(*((_DWORD *)a2 + 0x3C) - *(_DWORD *)(a1 + 0xF0)) >> 0x1F;
  v25 = (volatile signed __int64 *)(a1 + 0x150 + (v24 & (unsigned __int64)&a2[-a1]));
  v26 = _InterlockedCompareExchange64(v25, 0x200000, 0);
  if ( v26 )
    sub_1403DE750(
      a1 + 0x150 + (v24 & (unsigned __int64)&a2[-a1]),
      v26,
      0,
      (__int64)"CRigidEntity::AddColliderInternal",
      (__int64)"*(CIGRWLock_NonRecursive*)(plock0+(plock1-plock0&mask))",
      1);
  v27 = (volatile signed __int64 *)&a2[(v24 & (a1 - (_QWORD)a2)) + 0x150];
  if ( a2 == (char *)a1 || (v28 = _InterlockedCompareExchange64(v27, 0x200000, 0)) == 0 )
  {
    v29 = (__int64)&a2[(v24 & (a1 - (_QWORD)a2)) + 0x150];
    if ( a2 == (char *)a1 )
      goto LABEL_39;
  }
  else
  {
    sub_1403DE750(
      (__int64)v27,
      v28,
      0,
      (__int64)"CRigidEntity::AddColliderInternal",
      (__int64)"*(CIGRWLock_NonRecursive*)(plock1+(plock0-plock1&mask))",
      1);
  }
  (*(void (__fastcall **)(char *, __int64))(*(_QWORD *)a2 + 0x210LL))(a2, a1);
  v29 = (__int64)&a2[(v24 & (a1 - (_QWORD)a2)) + 0x150];
LABEL_39:
  v35 = sub_146784F70(a1, a2);
  if ( v29 )
  {
    if ( a2 != (char *)a1 )
    {
      n0x200000_5 = _InterlockedCompareExchange64(v27, 0, 0x200000);
      if ( n0x200000_5 != 0x200000 )
        sub_1403DEBA0(v27, n0x200000_5);
    }
  }
  if ( v25 )
  {
    n0x200000_6 = _InterlockedCompareExchange64(v25, 0, 0x200000);
    if ( n0x200000_6 != 0x200000 )
      sub_1403DEBA0(v25, n0x200000_6);
  }
  if ( v2 )
  {
    n0x200000_7 = _InterlockedCompareExchange64(v2, 0, 0x200000);
    if ( n0x200000_7 != 0x200000 )
      sub_1403DEBA0(v2, n0x200000_7);
  }
  return v35;
}

// --- End Function: sub_146784BA0 (0x146784BA0) ---

// --- Function: sub_146784F60 (0x146784F60) ---
// attributes: thunk
__int64 __fastcall sub_146784F60(__int64 a1, __int64 a2)
{
  return sub_146784F70(a1, a2);
}

// --- End Function: sub_146784F60 (0x146784F60) ---

// --- Function: sub_146784F70 (0x146784F70) ---
__int64 __fastcall sub_146784F70(__int64 a1, int a2, __int64 a3, int a4)
{
  int *v5; // rbx
  __int64 v6; // rdi
  const void **v7; // r14
  const void **v8; // r15
  _DWORD *v9; // rbp
  __int64 v10; // r13
  unsigned int v11; // r12d
  int v12; // ecx
  __int64 v13; // rax
  int v14; // ecx
  int v15; // eax
  _DWORD *v16; // r12
  int v17; // eax
  int v18; // ebx
  __int64 v19; // rax
  int v20; // ecx
  int v21; // ecx
  __int64 v22; // rax
  int v23; // ecx
  int v24; // r13d
  __int64 v25; // rdi
  __int64 result; // rax
  int v27; // [rsp+20h] [rbp-78h]
  const void **v28; // [rsp+20h] [rbp-78h]
  _DWORD *v29; // [rsp+28h] [rbp-70h]
  void *v30; // [rsp+30h] [rbp-68h]
  void *v31; // [rsp+30h] [rbp-68h]
  const void **v32; // [rsp+38h] [rbp-60h]
  __int64 v33; // [rsp+40h] [rbp-58h] BYREF
  __int64 v34; // [rsp+48h] [rbp-50h] BYREF
  __int64 v35; // [rsp+50h] [rbp-48h]
  char v36; // [rsp+A0h] [rbp+8h]
  int v37; // [rsp+B0h] [rbp+18h] BYREF
  unsigned int v38; // [rsp+B8h] [rbp+20h]

  v36 = 1;
  v33 = 0;
  v34 = 0;
  v5 = (int *)(a1 + 0x14C);
  v6 = *(int *)(a1 + 0x14C);
  v7 = (const void **)(a1 + 0x4C0);
  v8 = (const void **)(a1 + 0x4C8);
  if ( (_DWORD)v6 )
  {
    v29 = (_DWORD *)(a1 + 0x14C);
  }
  else
  {
    v36 = 0;
    *v7 = &v33;
    v29 = (_DWORD *)(a1 + 0x14C);
    *v8 = &v34;
  }
  v37 = 0;
  v9 = (_DWORD *)(a1 + 0x148);
  v10 = *(int *)(a1 + 0x148);
  v11 = sub_1468BCA90(a1, a2, (unsigned int)&v37, a4);
  v38 = v11;
  v27 = *v5;
  if ( *v5 > (int)v6 )
  {
    v12 = 1;
    if ( *v5 > 1 )
      v12 = *v5;
    v13 = sub_1402A63D0(saturated_mul(v12, 8u));
    v14 = 0;
    v30 = (void *)v13;
    v35 = 8 * v10;
    if ( v27 - (int)v10 > 0 )
      v14 = v27 - v10;
    memset((void *)(8 * v10 + v13), 0, 8LL * v14);
    v15 = v10;
    if ( v27 < (int)v10 )
      v15 = v27;
    memcpy(v30, *v7, 8LL * v15);
    v16 = (_DWORD *)(a1 + 0x14C);
    v28 = (const void **)(a1 + 0x4C0);
    v32 = (const void **)(a1 + 0x4C8);
    if ( v36 )
    {
      sub_1402A63C0((__int64)*v7);
      v16 = v29;
      v28 = (const void **)(a1 + 0x4C0);
      v32 = (const void **)(a1 + 0x4C8);
    }
    *v7 = v30;
    v17 = 1;
    v18 = *v5;
    if ( v18 > 1 )
      v17 = v18;
    v19 = sub_1402A63D0(saturated_mul(v17, 8u));
    v20 = 0;
    v31 = (void *)v19;
    if ( v18 - (int)v10 > 0 )
      v20 = v18 - v10;
    memset((void *)(v19 + v35), 0, 8LL * v20);
    v21 = v10;
    if ( v18 < (int)v10 )
      v21 = v18;
    memcpy(v31, *v8, 8LL * v21);
    if ( v36 )
    {
      sub_1402A63C0((__int64)*v8);
      v7 = v28;
      v8 = v32;
    }
    *(_QWORD *)(a1 + 0x4C8) = v31;
    if ( (int)v6 < *v16 )
    {
      v22 = 8 * v6;
      do
      {
        v22 += 8;
        LODWORD(v6) = v6 + 1;
        *(_QWORD *)((char *)*v7 + v22 - 8) = 0;
        *(_QWORD *)((char *)*v8 + v22 - 8) = 0;
      }
      while ( (int)v6 < *v16 );
      v9 = (_DWORD *)(a1 + 0x148);
      v7 = (const void **)(a1 + 0x4C0);
      v8 = (const void **)(a1 + 0x4C8);
    }
    v11 = v38;
  }
  v23 = v37;
  if ( v37 + *v9 > (int)v10 )
  {
    v24 = v10 - v11;
    v25 = 8LL * (int)v11;
    memmove((char *)*v7 + v25 + 8, (char *)*v7 + v25, 8LL * v24);
    memmove((char *)*v8 + v25 + 8, (char *)*v8 + v25, 8LL * v24);
    *(_QWORD *)((char *)*v7 + v25) = 0;
    *(_QWORD *)((char *)*v8 + v25) = 0;
    v23 = v37;
  }
  *(_DWORD *)(a1 + 0x4A4) &= 0xFFFFFE01;
  result = v11;
  *v9 += v23;
  return result;
}

// --- End Function: sub_146784F70 (0x146784F70) ---

// --- Function: CRigidEntity::AddGeometry (0x146787300) ---
__int64 __fastcall CRigidEntity::AddGeometry(__int64 a1, _QWORD *a2, __int64 a3, int a4, int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  int v15; // ebx
  unsigned int n0x40000000; // eax
  __int64 v20; // r12
  int n2; // r13d
  const char *p_non_positive_volume___non_manifold_geometry_or_data_core_para; // r15
  double v23; // xmm7_8
  double v24; // xmm8_8
  double v25; // xmm9_8
  int v26; // ebx
  int v27; // eax
  const char *v28; // rbx
  const char *p_unnamed; // r9
  int n10102016; // ebx
  signed __int64 v31; // rdx
  __int64 value_by_id; // r15
  unsigned __int64 v33; // rdx
  float v34; // xmm4_4
  __int64 v35; // rax
  float v36; // xmm11_4
  __int64 v37; // rsi
  __int64 v38; // rax
  float v39; // xmm12_4
  float v40; // xmm10_4
  float v41; // xmm9_4
  float v42; // xmm8_4
  float v43; // xmm1_4
  float v44; // xmm13_4
  float v45; // xmm14_4
  float v46; // xmm7_4
  float v47; // xmm6_4
  float v48; // xmm4_4
  float v49; // xmm5_4
  float v50; // xmm0_4
  float v51; // xmm12_4
  float v52; // kr00_4
  float v53; // xmm14_4
  float v54; // xmm8_4
  float v55; // xmm9_4
  float v56; // xmm10_4
  float v57; // xmm11_4
  float v58; // xmm15_4
  float v59; // xmm7_4
  float v60; // xmm6_4
  float v61; // xmm4_4
  float v62; // xmm5_4
  float v63; // xmm4_4
  float v64; // xmm0_4
  float v65; // xmm7_4
  float v66; // xmm6_4
  float v67; // xmm0_4
  float v68; // xmm8_4
  double v69; // xmm2_8
  float v70; // xmm0_4
  float v71; // xmm9_4
  float v72; // xmm1_4
  float v73; // xmm6_4
  float v74; // xmm5_4
  float v75; // xmm13_4
  float v76; // xmm11_4
  float v77; // xmm10_4
  float v78; // xmm0_4
  float v79; // xmm6_4
  float v80; // kr00_4
  float v81; // xmm7_4
  float v82; // xmm1_4
  float v83; // xmm8_4
  float v84; // xmm9_4
  __int64 v85; // rax
  float v88; // xmm0_4
  __m128 v89; // xmm3
  float v90; // xmm5_4
  float v91; // kr00_4
  float v92; // xmm0_4
  __m128 v93; // xmm3
  float v94; // xmm5_4
  float v95; // kr00_4
  _QWORD *v96; // rsi
  volatile signed __int64 *v97; // rsi
  __int64 v98; // rax
  unsigned __int64 n0x200000; // rax
  double v100; // xmm1_8
  float v103; // [rsp+58h] [rbp-B0h]
  float v104; // [rsp+5Ch] [rbp-ACh]
  float v105[6]; // [rsp+60h] [rbp-A8h] BYREF
  float v106[4]; // [rsp+78h] [rbp-90h] BYREF
  float v107[4]; // [rsp+88h] [rbp-80h] BYREF
  double v108[4]; // [rsp+98h] [rbp-70h] BYREF
  int n0x2800; // [rsp+B8h] [rbp-50h] BYREF
  __int64 v110; // [rsp+BCh] [rbp-4Ch]
  int v111; // [rsp+C4h] [rbp-44h]
  __int64 v112; // [rsp+C8h] [rbp-40h]
  unsigned __int64 v113; // [rsp+D0h] [rbp-38h]
  __int64 v114; // [rsp+D8h] [rbp-30h]
  __int64 v115; // [rsp+E0h] [rbp-28h]
  _BYTE v116[32]; // [rsp+118h] [rbp+10h] BYREF
  int v117; // [rsp+138h] [rbp+30h]
  int n10102016_1; // [rsp+13Ch] [rbp+34h]
  wchar_t String[1024]; // [rsp+148h] [rbp+40h] BYREF
  __int128 v120; // [rsp+958h] [rbp+850h]
  __int128 v121; // [rsp+968h] [rbp+860h]
  __int128 v122; // [rsp+978h] [rbp+870h]
  __int128 v123; // [rsp+988h] [rbp+880h]
  _OWORD v124[6]; // [rsp+998h] [rbp+890h]

  v124[5] = v5;
  v124[4] = v6;
  v124[3] = v7;
  v124[2] = v8;
  n0x2800 = 0x2800;
  v15 = a4;
  v110 = 0;
  v111 = 0;
  v113 = 0;
  v114 = 0;
  v115 = 0;
  v112 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( !a2 )
    goto LABEL_56;
  n0x40000000 = *((_DWORD *)a2 + 0x13);
  if ( (n0x40000000 & 0x10000000) == 0
    && n0x40000000 < 0x40000000
    && (n0x40000000 & 0x20000000) == 0
    && (*((float *)a2 + 0x10) <= 0.0 || *((float *)a2 + 6) < 0.0 || *((float *)a2 + 7) < 0.0 || *((float *)a2 + 8) < 0.0)
    && ((*(unsigned int (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 8LL))(*a2) != 1
     || (*(_DWORD *)((*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x110LL))(*a2) + 0x68) & 0x4000000) == 0) )
  {
    v20 = *(_QWORD *)(a1 + 0xC0);
    n2 = *(__int16 *)(a1 + 0xEC);
    if ( (*(_BYTE *)(a3 + 0x80) & 2) != 0 )
    {
      v20 = *(_QWORD *)(a3 + 0x78);
      n2 = 2;
    }
    p_non_positive_volume___non_manifold_geometry_or_data_core_para = "unknown";
    if ( *((float *)a2 + 0x10) > 0.0 )
    {
      if ( *((float *)a2 + 6) < 0.0 || *((float *)a2 + 7) < 0.0 || *((float *)a2 + 8) < 0.0 )
        p_non_positive_volume___non_manifold_geometry_or_data_core_para = "negative body inertia tensor - non-manifold geometry?";
    }
    else
    {
      p_non_positive_volume___non_manifold_geometry_or_data_core_para = "non-positive volume - non-manifold geometry or d"
                                                                        "ata core params error?";
    }
    v23 = *(double *)(a1 + 0x1D0);
    v24 = *(double *)(a1 + 0x1C8);
    v25 = *(double *)(a1 + 0x1C0);
    v26 = *(__int16 *)(a1 + 0xEE);
    v27 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
    v28 = (const char *)sub_1468FA8F0(v27, v20, n2, v26, 0, 0);
    if ( (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x1C8LL))(*a2) )
    {
      p_unnamed = (const char *)(*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x1C8LL))(*a2);
    }
    else
    {
      p_unnamed = "unnamed";
      if ( *(_QWORD *)(a3 + 0xC0) )
        p_unnamed = *(const char **)(a3 + 0xC0);
    }
    swprintf_2(
      String,
      0x800u,
      "CONTENT ERROR (assign to art please!): Physics - CRigidEntity::AddGeometry: Trying to add bad geometry '%s' [reaso"
      "n: %s] to %s at (%.1f,%.1f,%.1f)",
      p_unnamed,
      p_non_positive_volume___non_manifold_geometry_or_data_core_para,
      v28,
      v25,
      v24,
      v23);
    if ( (*(_DWORD *)(a3 + 8) & 0xFFA00000) != 0xFFA00000
      && *(float *)(a3 + 8) == 0.0
      && ((*(_DWORD *)(a3 + 4) & 0xFFA00000) == 0xFFA00000 || *(float *)(a3 + 4) > 0.0) )
    {
      goto LABEL_56;
    }
    v15 = a4;
  }
  if ( *(int *)(a1 + 0xE8) < 0 )
    goto LABEL_56;
  sub_14676E6D0((__int64)v116, a1, *(_QWORD *)(a1 + 0x2C0), (int *)a3, a5, (__int64)a2, v15, 0);
  if ( v117 )
  {
    n10102016 = n10102016_1;
    goto LABEL_57;
  }
  n10102016 = sub_1468BCCE0(a1, (_DWORD)a2, a3, v15, 1);
  if ( n10102016 < 0 )
    goto LABEL_57;
  v31 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
  if ( (v31 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0xC8),
      v31,
      (__int64)"CRigidEntity::AddGeometry",
      (__int64)"m_lockUpdate",
      1);
  value_by_id = (int)map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), n10102016, 0);
  v33 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0xC8));
  if ( (v33 & 0x3FF) == 0 && (v33 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v33);
  if ( (int)value_by_id >= *(_DWORD *)(a1 + 0x290) )
  {
LABEL_56:
    n10102016 = 0xFFFFFFFF;
    goto LABEL_57;
  }
  v34 = *(float *)(a3 + 0x24);
  v35 = *(_QWORD *)(a1 + 0x238);
  v124[1] = v9;
  v124[0] = v10;
  v36 = *(float *)(a3 + 0x28);
  v37 = *(_QWORD *)(v35 + 8 * value_by_id);
  v38 = *(_QWORD *)(a1 + 0x258);
  v123 = v11;
  v39 = *(float *)(a3 + 0x1C);
  v40 = *(float *)(v37 + 0x3C);
  v41 = *(float *)(v37 + 0x38);
  v42 = *(float *)(v37 + 0x34);
  v43 = v36 * *(float *)(v37 + 0x40);
  v122 = v12;
  v44 = *(float *)(a3 + 0x18);
  v121 = v13;
  v45 = *(float *)(a3 + 0x20);
  v103 = v43 * (float)(v36 * v36);
  v104 = *(float *)(v38 + 0x18 * value_by_id);
  v46 = (float)((float)(v39 * v40) - (float)(v45 * v41)) + (float)(v42 * v34);
  v47 = (float)((float)(v42 * v45) - (float)(v44 * v40)) + (float)(v34 * v41);
  v48 = (float)((float)(v44 * v41) - (float)(v42 * v39)) + (float)(v34 * v40);
  v49 = (float)(v39 * v48) - (float)(v45 * v47);
  v50 = v39 * v46;
  v51 = *(float *)(a1 + 0x1D8);
  v52 = v45 * v46;
  v53 = *(float *)(a1 + 0x1DC);
  v54 = (float)((float)((float)(v42 + v49) + v49) * v36) + *(float *)(a3 + 0xC);
  v55 = (float)((float)((float)(v41 + (float)(v52 - (float)(v44 * v48))) + (float)(v52 - (float)(v44 * v48))) * v36)
      + *(float *)(a3 + 0x10);
  v56 = (float)((float)((float)(v40 + (float)((float)(v44 * v47) - v50)) + (float)((float)(v44 * v47) - v50)) * v36)
      + *(float *)(a3 + 0x14);
  v57 = *(float *)(a1 + 0x1E0);
  v120 = v14;
  v58 = *(float *)(a1 + 0x1E4);
  v59 = (float)((float)(v53 * v56) - (float)(v57 * v55)) + (float)(v58 * v54);
  v60 = (float)((float)(v57 * v54) - (float)(v51 * v56)) + (float)(v58 * v55);
  v61 = (float)((float)(v51 * v55) - (float)(v53 * v54)) + (float)(v58 * v56);
  v62 = (float)(v53 * v61) - (float)(v57 * v60);
  v63 = (float)(v57 * v59) - (float)(v51 * v61);
  v64 = v53 * v59;
  v65 = *(float *)(a3 + 0x1C);
  v66 = (float)(v51 * v60) - v64;
  v67 = v62 + v54;
  v68 = *(float *)(a3 + 0x20);
  v69 = (float)(v67 + v62);
  v70 = v63 + v55;
  v71 = *(float *)(a3 + 0x24);
  v72 = (float)(v66 + v56) + v66;
  v73 = *(float *)(a3 + 0x18);
  v108[0] = v69 + *(double *)(a1 + 0x1C0);
  v108[1] = (float)(v70 + v63) + *(double *)(a1 + 0x1C8);
  v108[2] = v72 + *(double *)(a1 + 0x1D0);
  v74 = *(float *)(v37 + 0x24);
  v75 = (float)(v58 * v71) - (float)((float)((float)(v53 * v65) + (float)(v51 * v44)) + (float)(v57 * v68));
  v76 = (float)((float)((float)(v53 * v68) - (float)(v57 * v65)) + (float)(v58 * v73)) + (float)(v51 * v71);
  v77 = (float)((float)((float)(v73 * *(float *)(a1 + 0x1E0)) - (float)(v51 * v68)) + (float)(v58 * v65))
      + (float)(v53 * v71);
  v78 = v53 * v73;
  v79 = *(float *)(v37 + 0x2C);
  v80 = v51 * v65;
  v81 = *(float *)(v37 + 0x30);
  v82 = v58 * v68;
  v83 = *(float *)(v37 + 0x28);
  v84 = (float)((float)(v80 - v78) + v82) + (float)(v71 * *(float *)(a1 + 0x1E0));
  v105[3] = (float)(v81 * v75) - (float)((float)((float)(v83 * v77) + (float)(v74 * v76)) + (float)(v79 * v84));
  v105[0] = (float)((float)((float)(v77 * v79) - (float)(v84 * v83)) + (float)(v75 * v74)) + (float)(v76 * v81);
  v85 = *(_QWORD *)(a1 + 0x2C0);
  v105[1] = (float)((float)((float)(v84 * v74) - (float)(v76 * v79)) + (float)(v75 * v83)) + (float)(v77 * v81);
  v105[2] = (float)((float)((float)(v83 * v76) - (float)(v74 * v77)) + (float)(v79 * v75)) + (float)(v81 * v84);
  if ( !*(_DWORD *)(v85 + 0x82E34)
    || *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL) == 0x1E )
  {
    if ( v104 > 0.0 && (*(_DWORD *)(a1 + 0x208) & 0x20000000) == 0 )
    {
      sub_1467E3DB0(a1, 0);
      _XMM1 = *(unsigned __int64 *)(a1 + 0x6B0);
      __asm { vcvtsd2ss xmm7, xmm1, xmm1 }
      if ( *(double *)&_XMM1 == 0.0 || *(_DWORD *)(a1 + 0x290) == 1 )
      {
        v92 = *(float *)(a3 + 0x28);
        v93 = (__m128)*(unsigned __int64 *)(v37 + 0x18);
        v94 = v92 * v92;
        v107[0] = (float)(v93.m128_f32[0] * v94) * (float)(v92 * v94);
        v95 = (float)(v92 * v92) * *(float *)(v37 + 0x20);
        v107[1] = (float)(_mm_shuffle_ps(v93, v93, 0x55).m128_f32[0] * v94) * (float)(v92 * v94);
        v107[2] = v95 * (float)(v92 * (float)(v92 * v92));
        sub_146724480(a1 + 0x5B0, (__int64)v108, v107, v105, v103, v104, (float *)(a1 + 0x1D8), (double *)(a1 + 0x1C0));
      }
      else
      {
        v88 = *(float *)(a3 + 0x28);
        v89 = (__m128)*(unsigned __int64 *)(v37 + 0x18);
        v90 = v88 * v88;
        v106[0] = (float)(v89.m128_f32[0] * v90) * (float)(v88 * v90);
        v91 = (float)(v88 * v88) * *(float *)(v37 + 0x20);
        v106[1] = (float)(_mm_shuffle_ps(v89, v89, 0x55).m128_f32[0] * v90) * (float)(v88 * v90);
        v106[2] = v91 * (float)(v88 * (float)(v88 * v88));
        sub_146720100(a1 + 0x5B0, v108, v106, v105, v103, v104);
      }
      v96 = *(_QWORD **)(a1 + 0xB8);
      if ( v96 && *v96 )
      {
        v97 = v96 + 0x34;
        v98 = _InterlockedCompareExchange64(v97, 0x200000, 0);
        if ( v98 )
          sub_1403DE750(
            (__int64)v97,
            v98,
            0,
            (__int64)"CRigidEntity::AddGeometry",
            (__int64)"m_pGrid->m_lockPentList",
            1);
        sub_14693FC00(*(_QWORD *)(a1 + 0xB8), a1);
        if ( v97 )
        {
          n0x200000 = _InterlockedCompareExchange64(v97, 0, 0x200000);
          if ( n0x200000 != 0x200000 )
            sub_1403DEBA0(v97, n0x200000);
        }
      }
      sub_1467E3DB0(a1, 1);
    }
  }
  else
  {
    *(_WORD *)(a1 + 0x106) |= 4u;
    sub_14693A1E0(*(_QWORD *)(a1 + 0x2C0), a1);
  }
  v100 = *(double *)(a1 + 0x638);
  *(_OWORD *)(a1 + 0x7C0) = *(_OWORD *)(a1 + 0x628);
  *(double *)(a1 + 0x7D0) = v100;
  *(_DWORD *)(a1 + 0x848) = *(_DWORD *)(a1 + 0x640);
  *(_DWORD *)(a1 + 0x84C) = *(_DWORD *)(a1 + 0x644);
  *(_DWORD *)(a1 + 0x850) = *(_DWORD *)(a1 + 0x648);
  *(_DWORD *)(a1 + 0x854) = *(_DWORD *)(a1 + 0x64C);
LABEL_57:
  v113 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return (unsigned int)n10102016;
}

// --- End Function: CRigidEntity::AddGeometry (0x146787300) ---

// --- Function: sub_146789930 (0x146789930) ---
__int64 __fastcall sub_146789930(__int64 a1, int a2)
{
  int v2; // r15d
  int n0x40; // ebp
  __int64 v4; // rsi
  unsigned __int64 v7; // rdi
  unsigned __int64 v8; // rax
  _DWORD *v9; // rcx
  bool v10; // sf
  int v11; // edi
  __int64 result; // rax

  v2 = *(_DWORD *)(a1 + 0xF4);
  n0x40 = 0;
  v4 = 0;
  *(_DWORD *)(a1 + 0xF4) = 7;
  v7 = 1;
  do
  {
    v8 = *(_QWORD *)(a1 + 0x500);
    if ( v7 > v8 )
      break;
    if ( (v8 & v7) != 0 )
    {
      v9 = *(_DWORD **)(v4 + *(_QWORD *)(a1 + 0x4F0));
      if ( v9 )
      {
        if ( v9[0x3D] < 7u )
          (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v9 + 0x268LL))(v9, 1);
      }
    }
    ++n0x40;
    v7 = __ROL8__(v7, 1);
    v4 += 0x100;
  }
  while ( n0x40 < 0x40 );
  v10 = *(int *)(a1 + 0x188) < 0;
  v11 = *(_DWORD *)(a1 + 0x208);
  *(_DWORD *)(a1 + 0xF4) = v2;
  if ( v10 && *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) > 0.0 )
    *(_DWORD *)(a1 + 0x208) = v11 | 0x100000;
  sub_1468BDE50(a1, a2 | 0x10u);
  result = sub_1467B4760(a1);
  if ( *(_DWORD *)(a1 + 0xF4) == 7 || *(int *)(a1 + 0xE8) < 0 )
    *(_QWORD *)(a1 + 0x500) = 0;
  *(_DWORD *)(a1 + 0x208) = v11;
  return result;
}

// --- End Function: sub_146789930 (0x146789930) ---

// --- Function: sub_146789AE0 (0x146789AE0) ---
double __fastcall sub_146789AE0(__int64 Parameter, float a2, float *a3, __int64 a4, int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  __int64 n0x10; // r15
  __int64 v16; // r14
  __int64 v19; // rax
  float v20; // xmm2_4
  float v21; // xmm3_4
  int v22; // r13d
  __int64 v23; // rax
  __m128 v24; // kr00_16
  int v26; // ecx
  float v28; // xmm11_4
  float v29; // xmm15_4
  float v30; // xmm13_4
  float v31; // xmm4_4
  __int64 v32; // rbx
  volatile signed __int32 *v33; // rcx
  int v34; // eax
  float v35; // xmm2_4
  double v36; // xmm3_8
  double v37; // xmm6_8
  double v38; // xmm5_8
  __int128 v39; // xmm11
  double v40; // xmm10_8
  double v41; // xmm4_8
  float v42; // xmm9_4
  float v43; // xmm8_4
  __int128 v49; // kr00_16
  float v51; // xmm7_4
  unsigned int v52; // r14d
  float v53; // xmm2_4
  float v54; // xmm3_4
  float v55; // xmm0_4
  float v56; // xmm1_4
  __int64 v57; // rdx
  __int64 v58; // rdi
  float v59; // xmm11_4
  float v60; // xmm12_4
  float v61; // xmm14_4
  float v62; // xmm15_4
  float *v63; // rcx
  float v64; // xmm10_4
  float v65; // xmm9_4
  float v66; // xmm5_4
  float v67; // xmm13_4
  float v68; // xmm8_4
  float v69; // xmm7_4
  float v70; // xmm6_4
  float v71; // xmm3_4
  float v72; // xmm12_4
  float v73; // xmm10_4
  float v74; // xmm9_4
  float v75; // xmm1_4
  float v76; // xmm11_4
  float v77; // xmm8_4
  float v78; // xmm2_4
  float v79; // xmm7_4
  float v80; // xmm8_4
  float v81; // xmm12_4
  float v82; // xmm10_4
  float v83; // xmm9_4
  float v84; // xmm6_4
  float v85; // xmm7_4
  float v86; // xmm11_4
  __int64 v87; // rax
  float v88; // xmm5_4
  float v89; // xmm4_4
  float v90; // xmm8_4
  float v91; // xmm6_4
  float v92; // xmm0_4
  float v93; // xmm7_4
  double v94; // kr00_8
  double v95; // xmm3_8
  __int64 v96; // rax
  __m128 v97; // xmm7
  float v98; // xmm4_4
  __m128 v99; // kr00_16
  double v100; // xmm1_8
  __int64 v101; // rax
  __m128 v102; // xmm2
  double v103; // xmm4_8
  float *v104; // rcx
  float v105; // xmm6_4
  __m128 v106; // kr00_16
  float v107; // xmm4_4
  __m128 v108; // xmm11
  float v109; // xmm13_4
  __m128 v110; // xmm14
  __m128 v111; // kr00_16
  float v112; // xmm15_4
  float v113; // xmm10_4
  float v114; // xmm12_4
  __int64 v115; // rax
  float v116; // xmm4_4
  double v117; // xmm5_8
  float *v118; // rcx
  __int64 v119; // rax
  float v120; // xmm7_4
  __int128 v121; // kr00_16
  __int128 v122; // xmm0
  float v124; // xmm8_4
  __int64 v125; // rcx
  double v126; // xmm0_8
  __m128 v127; // xmm2
  float v128; // xmm3_4
  float v129; // xmm9_4
  __m128 v130; // xmm4
  __m128 v131; // kr00_16
  __int128 v132; // xmm5
  __int128 v133; // kr00_16
  double v134; // xmm6_8
  __m128 v135; // kr00_16
  double v136; // xmm8_8
  double v137; // xmm7_8
  double v138; // xmm3_8
  __m128 v141; // xmm2
  __m128 v144; // kr00_16
  __m128 v150; // xmm3
  float v151; // xmm4_4
  __m128 v152; // kr00_16
  double v153; // xmm9_8
  __m128 v154; // kr00_16
  __m128 v155; // xmm4
  __m128 v156; // xmm4
  __m128 v157; // xmm2
  __m128 v158; // xmm1
  __m128 v159; // kr00_16
  __m128 v162; // kr00_16
  __m128 v165; // kr00_16
  __m128 v166; // xmm0
  __m128 v167; // xmm0
  __m128 v170; // kr00_16
  float v173; // xmm5_4
  float v174; // xmm7_4
  float v175; // xmm3_4
  __int128 n0x3F800000; // kr00_16
  __int128 n0x3F800000_1; // xmm2
  __int64 v184; // rdi
  float v185; // xmm10_4
  double *v186; // rax
  double v187; // xmm6_8
  double v188; // xmm7_8
  double v189; // xmm8_8
  double *v190; // rax
  __int128 v196; // kr00_16
  double v206; // xmm4_8
  double v207; // kr00_8
  unsigned __int64 v208; // rax
  __int128 v209; // xmm9
  double v210; // kr00_8
  __int64 v211; // rbx
  float v212; // edx
  __int64 v213; // rax
  __int16 v214; // cx
  __int128 v217; // xmm1
  __int128 v219; // kr00_16
  __int128 v221; // kr00_16
  unsigned int *v222; // rcx
  __int64 v233; // rcx
  float v234; // xmm2_4
  float v235; // xmm3_4
  int v236; // eax
  double v237; // xmm6_8
  double v238; // xmm15_8
  __m128 v239; // kr00_16
  __int64 v249; // rcx
  double v250; // xmm8_8
  double v251; // xmm9_8
  double v252; // xmm7_8
  __int128 v254; // kr00_16
  float v256; // xmm3_4
  __m128 v259; // xmm5
  float v262; // xmm6_4
  double v263; // xmm4_8
  char v264; // di
  unsigned __int64 v271; // rax
  __int64 v272; // rcx
  float v273; // edx
  __int64 v274; // rax
  int v282; // edx
  volatile signed __int32 *v283; // r14
  int v284; // ebx
  __int64 v285; // rdi
  __int64 v286; // r14
  float v287; // xmm11_4
  float v288; // xmm12_4
  float v289; // xmm14_4
  float v290; // xmm15_4
  float *v291; // rcx
  float v292; // xmm10_4
  float v293; // xmm9_4
  float v294; // xmm5_4
  float v295; // xmm13_4
  float v296; // xmm8_4
  float v297; // xmm7_4
  float v298; // xmm6_4
  float v299; // xmm3_4
  float v300; // xmm12_4
  float v301; // xmm10_4
  float v302; // xmm9_4
  float v303; // xmm1_4
  float v304; // xmm11_4
  float v305; // xmm8_4
  float v306; // xmm2_4
  float v307; // xmm7_4
  float v308; // xmm8_4
  float v309; // xmm12_4
  float v310; // xmm10_4
  float v311; // xmm9_4
  float v312; // xmm6_4
  float v313; // xmm7_4
  float v314; // xmm11_4
  __int64 v315; // rax
  float v316; // xmm5_4
  float v317; // xmm4_4
  float v318; // xmm8_4
  float v319; // xmm6_4
  float v320; // xmm0_4
  float v321; // xmm7_4
  int v322; // r12d
  int v323; // r12d
  __int64 v324; // r14
  char v329; // bl
  int n2; // edi
  int v331; // eax
  __int64 v332; // rbx
  __int64 v333; // rdi
  float v334; // xmm3_4
  float v335; // xmm4_4
  float v336; // xmm6_4
  double v337; // kr00_8
  __int128 v338; // xmm2
  __int64 v339; // rax
  __int128 v340; // xmm8
  __int128 v341; // xmm7
  double v342; // xmm3_8
  __int128 v343; // kr00_16
  double v344; // xmm6_8
  double v346; // xmm4_8
  double v352; // xmm9_8
  double v353; // xmm8_8
  double v354; // xmm7_8
  __int64 v355; // rcx
  __int128 v358; // kr00_16
  float v363; // xmm6_4
  _DWORD *v364; // rax
  __m128 v365; // xmm5
  _QWORD **v366; // rax
  int v367; // eax
  __int16 v368; // ax
  __int64 v369; // rcx
  int v371; // [rsp+30h] [rbp-D8h]
  float v372; // [rsp+48h] [rbp-C0h]
  float v373; // [rsp+48h] [rbp-C0h]
  int v374; // [rsp+4Ch] [rbp-BCh]
  char v375; // [rsp+50h] [rbp-B8h]
  float v376; // [rsp+54h] [rbp-B4h]
  float v377; // [rsp+58h] [rbp-B0h]
  float v378; // [rsp+5Ch] [rbp-ACh]
  float v379; // [rsp+60h] [rbp-A8h]
  volatile signed __int32 *v380; // [rsp+68h] [rbp-A0h]
  volatile signed __int32 *v381; // [rsp+68h] [rbp-A0h]
  float v382; // [rsp+70h] [rbp-98h]
  int v384; // [rsp+74h] [rbp-94h]
  float v385; // [rsp+78h] [rbp-90h]
  float v386; // [rsp+7Ch] [rbp-8Ch]
  float v387; // [rsp+7Ch] [rbp-8Ch]
  __int64 v388; // [rsp+80h] [rbp-88h]
  double v389; // [rsp+80h] [rbp-88h]
  __int64 v390; // [rsp+80h] [rbp-88h]
  double v391; // [rsp+88h] [rbp-80h]
  double v392; // [rsp+88h] [rbp-80h]
  __int64 v393; // [rsp+88h] [rbp-80h]
  float v394; // [rsp+90h] [rbp-78h]
  int v395; // [rsp+94h] [rbp-74h]
  float v396; // [rsp+98h] [rbp-70h]
  float v397; // [rsp+98h] [rbp-70h]
  int v398; // [rsp+A8h] [rbp-60h] BYREF
  float v399; // [rsp+ACh] [rbp-5Ch] BYREF
  float v400; // [rsp+B0h] [rbp-58h]
  float v401; // [rsp+B4h] [rbp-54h]
  float v402; // [rsp+B8h] [rbp-50h] BYREF
  float v403; // [rsp+BCh] [rbp-4Ch]
  float v404; // [rsp+C0h] [rbp-48h]
  unsigned int v405; // [rsp+CCh] [rbp-3Ch]
  unsigned int v406; // [rsp+E0h] [rbp-28h]
  unsigned int v407; // [rsp+E4h] [rbp-24h]
  int v408; // [rsp+E8h] [rbp-20h]
  int v409; // [rsp+ECh] [rbp-1Ch]
  int v410; // [rsp+F0h] [rbp-18h]
  int v411; // [rsp+F4h] [rbp-14h]
  float v412; // [rsp+F8h] [rbp-10h]
  float v413; // [rsp+FCh] [rbp-Ch]
  float v414; // [rsp+100h] [rbp-8h]
  _BYTE v415[24]; // [rsp+108h] [rbp+0h] BYREF
  float v416; // [rsp+120h] [rbp+18h]
  float v417; // [rsp+124h] [rbp+1Ch]
  __int128 v418; // [rsp+128h] [rbp+20h]
  float v419; // [rsp+138h] [rbp+30h]
  float v420; // [rsp+13Ch] [rbp+34h]
  float v421; // [rsp+140h] [rbp+38h]
  float v422; // [rsp+144h] [rbp+3Ch]
  _BYTE v423[20]; // [rsp+148h] [rbp+40h]
  float v424; // [rsp+15Ch] [rbp+54h]
  _BYTE v425[24]; // [rsp+160h] [rbp+58h]
  int v426; // [rsp+178h] [rbp+70h]
  float v427; // [rsp+188h] [rbp+80h]
  float v428; // [rsp+18Ch] [rbp+84h]
  double v429; // [rsp+190h] [rbp+88h]
  __int128 v430; // [rsp+198h] [rbp+90h]
  __int64 v431; // [rsp+1A8h] [rbp+A0h] BYREF
  __int64 v432; // [rsp+1B0h] [rbp+A8h]
  float v433[2]; // [rsp+1B8h] [rbp+B0h] BYREF
  __int64 v434; // [rsp+1C0h] [rbp+B8h] BYREF
  __int64 v435; // [rsp+1C8h] [rbp+C0h] BYREF
  __int64 v436; // [rsp+1D0h] [rbp+C8h]
  __m256 v437; // [rsp+1E8h] [rbp+E0h]
  float v438; // [rsp+208h] [rbp+100h]
  int v439; // [rsp+20Ch] [rbp+104h]
  float v440; // [rsp+210h] [rbp+108h]
  float v441; // [rsp+214h] [rbp+10Ch]
  float v442; // [rsp+218h] [rbp+110h]
  float v443; // [rsp+21Ch] [rbp+114h]
  float v444; // [rsp+220h] [rbp+118h]
  float v445; // [rsp+224h] [rbp+11Ch]
  __m256 v446; // [rsp+228h] [rbp+120h]
  float v447; // [rsp+248h] [rbp+140h]
  int v448; // [rsp+24Ch] [rbp+144h]
  float v449; // [rsp+250h] [rbp+148h]
  float v450; // [rsp+254h] [rbp+14Ch]
  float v451; // [rsp+258h] [rbp+150h]
  float v452; // [rsp+25Ch] [rbp+154h]
  float v453; // [rsp+260h] [rbp+158h]
  float v454; // [rsp+264h] [rbp+15Ch]
  double v455[4]; // [rsp+268h] [rbp+160h] BYREF
  int n0x2800; // [rsp+288h] [rbp+180h] BYREF
  __int64 v457; // [rsp+28Ch] [rbp+184h]
  int v458; // [rsp+294h] [rbp+18Ch]
  __int64 v459; // [rsp+298h] [rbp+190h]
  unsigned __int64 v460; // [rsp+2A0h] [rbp+198h]
  __int64 v461; // [rsp+2A8h] [rbp+1A0h]
  __int64 v462; // [rsp+2B0h] [rbp+1A8h]
  double v463[4]; // [rsp+2D8h] [rbp+1D0h] BYREF
  __m128 v464; // [rsp+2F8h] [rbp+1F0h]
  __int128 v465; // [rsp+308h] [rbp+200h] BYREF
  _QWORD v466[2]; // [rsp+318h] [rbp+210h] BYREF
  float v467; // [rsp+328h] [rbp+220h]
  int n3; // [rsp+32Ch] [rbp+224h]
  int v469; // [rsp+330h] [rbp+228h]
  __int64 (__fastcall **v470)(); // [rsp+350h] [rbp+248h]
  _QWORD *v471; // [rsp+358h] [rbp+250h]
  __int64 v472; // [rsp+3A0h] [rbp+298h]
  _QWORD v473[2]; // [rsp+3A8h] [rbp+2A0h] BYREF
  float v474; // [rsp+3B8h] [rbp+2B0h]
  int n3_1; // [rsp+3BCh] [rbp+2B4h]
  int v476; // [rsp+3C0h] [rbp+2B8h]
  __int64 (__fastcall **v477)(); // [rsp+3E0h] [rbp+2D8h]
  _QWORD *v478; // [rsp+3E8h] [rbp+2E0h]
  __int64 v479; // [rsp+430h] [rbp+328h]
  char v480[64]; // [rsp+438h] [rbp+330h] BYREF
  __int128 v481; // [rsp+478h] [rbp+370h] BYREF
  unsigned __int64 v482; // [rsp+488h] [rbp+380h]
  unsigned __int64 v483; // [rsp+490h] [rbp+388h]
  __int64 v484; // [rsp+498h] [rbp+390h]
  __int64 v485; // [rsp+4A0h] [rbp+398h]
  int v486; // [rsp+4A8h] [rbp+3A0h]
  int v487; // [rsp+4ACh] [rbp+3A4h]
  int v488; // [rsp+4B0h] [rbp+3A8h]
  int v489; // [rsp+4B4h] [rbp+3ACh]
  unsigned int v490; // [rsp+4B8h] [rbp+3B0h]
  double v491; // [rsp+4C0h] [rbp+3B8h]
  double v492; // [rsp+4C8h] [rbp+3C0h]
  double v493; // [rsp+4D0h] [rbp+3C8h]
  double v494; // [rsp+4D8h] [rbp+3D0h]
  float v495; // [rsp+4E0h] [rbp+3D8h]
  __int64 v496; // [rsp+4E4h] [rbp+3DCh]
  float v497; // [rsp+4ECh] [rbp+3E4h]
  float v498; // [rsp+4F0h] [rbp+3E8h]
  float v499; // [rsp+4F4h] [rbp+3ECh]
  float v500; // [rsp+4F8h] [rbp+3F0h]
  float v501; // [rsp+4FCh] [rbp+3F4h]
  float v502; // [rsp+500h] [rbp+3F8h]
  int v503; // [rsp+504h] [rbp+3FCh]
  int v504; // [rsp+508h] [rbp+400h]
  __int16 v505; // [rsp+50Ch] [rbp+404h]
  __int16 v506; // [rsp+50Eh] [rbp+406h]
  unsigned int v507; // [rsp+510h] [rbp+408h]
  float v508; // [rsp+514h] [rbp+40Ch]
  float v509; // [rsp+518h] [rbp+410h]
  float v510; // [rsp+51Ch] [rbp+414h]
  __int64 v511; // [rsp+520h] [rbp+418h]
  char v512; // [rsp+528h] [rbp+420h]
  float v513; // [rsp+52Ch] [rbp+424h]
  __int64 v514; // [rsp+530h] [rbp+428h]
  __int64 v515; // [rsp+538h] [rbp+430h]
  _DWORD v516[18]; // [rsp+548h] [rbp+440h] BYREF
  double v517; // [rsp+590h] [rbp+488h]
  __m256 v518; // [rsp+598h] [rbp+490h]
  double v519; // [rsp+5B8h] [rbp+4B0h]
  __int16 v520; // [rsp+5C0h] [rbp+4B8h]
  char v521; // [rsp+5C2h] [rbp+4BAh]
  char v522; // [rsp+5C3h] [rbp+4BBh]
  __int16 v523; // [rsp+5C4h] [rbp+4BCh]
  char v524; // [rsp+5C6h] [rbp+4BEh]
  __int64 v525; // [rsp+5C8h] [rbp+4C0h]
  int v526; // [rsp+5D4h] [rbp+4CCh]
  int v527; // [rsp+5D8h] [rbp+4D0h]
  __int64 v528; // [rsp+5E0h] [rbp+4D8h]
  __int128 v529; // [rsp+5E8h] [rbp+4E0h] BYREF
  unsigned __int64 v530; // [rsp+5F8h] [rbp+4F0h]
  unsigned __int64 v531; // [rsp+600h] [rbp+4F8h]
  __int64 v532; // [rsp+608h] [rbp+500h]
  __int64 v533; // [rsp+610h] [rbp+508h]
  int v534; // [rsp+618h] [rbp+510h]
  int v535; // [rsp+61Ch] [rbp+514h]
  int v536; // [rsp+620h] [rbp+518h]
  int v537; // [rsp+624h] [rbp+51Ch]
  unsigned int v538; // [rsp+628h] [rbp+520h]
  double v539; // [rsp+630h] [rbp+528h]
  double v540; // [rsp+638h] [rbp+530h]
  double v541; // [rsp+640h] [rbp+538h]
  __int64 v542; // [rsp+648h] [rbp+540h]
  float v543; // [rsp+650h] [rbp+548h]
  double v544; // [rsp+654h] [rbp+54Ch]
  int v545; // [rsp+65Ch] [rbp+554h]
  float v546; // [rsp+660h] [rbp+558h]
  float v547; // [rsp+664h] [rbp+55Ch]
  float v548; // [rsp+668h] [rbp+560h]
  float v549; // [rsp+66Ch] [rbp+564h]
  float v550; // [rsp+670h] [rbp+568h]
  int v551; // [rsp+674h] [rbp+56Ch]
  int v552; // [rsp+678h] [rbp+570h]
  __int16 v553; // [rsp+67Eh] [rbp+576h]
  unsigned int v554; // [rsp+680h] [rbp+578h]
  float v555; // [rsp+684h] [rbp+57Ch]
  float v556; // [rsp+688h] [rbp+580h]
  __int64 v558; // [rsp+690h] [rbp+588h]
  char v559; // [rsp+698h] [rbp+590h]
  float v560; // [rsp+69Ch] [rbp+594h]
  __int64 v561; // [rsp+6A0h] [rbp+598h]
  __int64 v562; // [rsp+6A8h] [rbp+5A0h]
  __int128 v563; // [rsp+6C8h] [rbp+5C0h]
  __int128 v564; // [rsp+6D8h] [rbp+5D0h]
  __int128 v565; // [rsp+6E8h] [rbp+5E0h]
  __int128 v566; // [rsp+6F8h] [rbp+5F0h]
  __int128 v567; // [rsp+708h] [rbp+600h]
  __int128 v568; // [rsp+718h] [rbp+610h]
  __int128 v569; // [rsp+728h] [rbp+620h]
  __int128 v570; // [rsp+738h] [rbp+630h]
  __int128 v571; // [rsp+748h] [rbp+640h]
  __int128 v572; // [rsp+758h] [rbp+650h]

  v572 = v5;
  v571 = v6;
  v570 = v7;
  v569 = v8;
  v568 = v9;
  v567 = v10;
  v566 = v11;
  v565 = v12;
  v564 = v13;
  v563 = v14;
  n0x10 = 0;
  v432 = a4;
  v16 = a4;
  v457 = 0;
  v458 = 0;
  v460 = 0;
  v461 = 0;
  v462 = 0;
  n0x2800 = 0x2800;
  v459 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( *(float *)(Parameter + 0x8A4) == 0.0 || *(double *)(Parameter + 0x6B8) == 0.0 || a5 < 0 )
  {
LABEL_95:
    *(_DWORD *)(Parameter + 0x8B0) = 0;
    goto LABEL_96;
  }
  if ( !*(_BYTE *)(Parameter + 0x94D) && !*(_BYTE *)(Parameter + 0x94E) )
  {
    v19 = *(_QWORD *)(Parameter + 0x8E8);
    if ( v19 )
    {
      if ( *(_BYTE *)(v19 + 0xBD) )
        goto LABEL_96;
    }
  }
  v20 = a3[1];
  v21 = a3[2];
  v22 = 0xFFFFFFFF;
  v23 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex);
  v378 = 0.0;
  v436 = *(_QWORD *)(Parameter + 0x68C);
  v24 = (__m128)*(unsigned int *)a3;
  v24.m128_f32[0] = (float)((float)(*a3 * *a3) + (float)(v20 * v20)) + (float)(v21 * v21);
  v464 = _mm_sqrt_ps(_mm_shuffle_ps(v24, v24, 0));
  _XMM0 = 0;
  __asm { vmovupd [rbp+690h+var_690], xmm0 }
  v418 = xmmword_148153550;
  *(_OWORD *)v423 = 0;
  v26 = *(_DWORD *)(v23 + 0x800);
  *(_DWORD *)(Parameter + 0x4A4) &= ~0x4000000u;
  v395 = v26;
  v372 = *(float *)(Parameter + 0x694);
  v426 = 0;
  v398 = 1;
  v405 = 0xFFF7FFFF;
  v402 = NAN;
  v406 = 0x80000000;
  v407 = 0x80000000;
  v409 = 0;
  v411 = 1;
  v410 = 1;
  v408 = 0;
  v374 = 0;
  _XMM0 = 0;
  v28 = 0.0;
  v29 = 0.0;
  v30 = 0.0;
  v31 = 0.0;
  __asm { vmovupd [rbp+690h+var_638+8], xmm0 }
  v377 = 0.0;
  v382 = 0.0;
  v376 = 0.0;
  v379 = 0.0;
  *(float *)&v423[0x10] = 0.0;
  v424 = 0.0;
  *(double *)&v415[0x10] = 0.0;
  v416 = 1.0;
  v417 = 0.0;
  v419 = 0.0;
  v420 = 0.0;
  v421 = 1.0;
  *(double *)v425 = 0.0;
  v422 = 1.0;
  v399 = 0.0;
  v400 = 0.0;
  v401 = 0.0;
  if ( a5 <= 0 )
    goto LABEL_56;
  v380 = (volatile signed __int32 *)(v16 + 0x28);
  v32 = v16 + 0x1C;
  v33 = (volatile signed __int32 *)(v16 + 0x28);
  v34 = 0;
  do
  {
    if ( *(_DWORD *)(v32 + 0x58) >= 2u )
      goto LABEL_54;
    if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)Parameter + 8LL))(Parameter) == 0xA
      && *(_DWORD *)(v32 + 0x58) == 1 )
    {
      goto LABEL_53;
    }
    v35 = *(float *)(v32 - 0x18) * *(float *)(Parameter + 0x8A4);
    v427 = *(float *)(v32 - 0xC) * *(float *)(Parameter + 0x8A8);
    v428 = v35;
    if ( (float)((float)(v35 + v427) + *(float *)(v32 - 0x10)) == 0.0 )
      goto LABEL_53;
    v36 = *(double *)(Parameter + 0x420);
    v37 = *(double *)(Parameter + 0x440);
    v38 = *(double *)(Parameter + 0x428);
    v39 = *(unsigned __int64 *)(Parameter + 0x430);
    v40 = *(double *)(Parameter + 0x418);
    v41 = *(double *)(Parameter + 0x438);
    v42 = *(float *)(v32 + 0xC);
    v43 = *(float *)(v32 + 0x10);
    _XMM1 = COERCE_UNSIGNED_INT64(v41 - v36);
    __asm { vcvtsd2ss xmm1, xmm1, xmm1 }
    v386 = *(float *)&_XMM1;
    _XMM2 = COERCE_UNSIGNED_INT64(v37 - v38);
    __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
    v412 = *(float *)&_XMM2;
    *((_QWORD *)&v49 + 1) = *((_QWORD *)&v39 + 1);
    *(double *)&v49 = *(double *)&v39 - v40;
    _XMM0 = v49;
    __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
    v396 = *(float *)&_XMM0;
    v51 = *(float *)(v32 + 0x14);
    v394 = fabs((float)(0.5 * *(float *)&_XMM2) * v51)
         + (float)(fabs((float)(*(float *)&_XMM1 * 0.5) * v43) + fabs((float)(*(float *)&_XMM0 * 0.5) * v42));
    v391 = ((v40 + *(double *)&v39) * 0.5 - *(double *)(v32 + 0x1C)) * v42
         + v43 * ((v36 + v41) * 0.5 - *(double *)(v32 + 0x24))
         + v51 * ((v38 + v37) * 0.5 - *(double *)(v32 + 0x2C));
    if ( v391 > v394 && !*(_DWORD *)(v32 + 0x74)
      || (v52 = 0, v53 = 0.0, v54 = 0.0, v385 = 0.0, v413 = 0.0, *(int *)(Parameter + 0x290) <= 0) )
    {
      v28 = v377;
LABEL_53:
      v33 = v380;
      v34 = v374;
      v31 = v379;
      goto LABEL_54;
    }
    v55 = v377;
    v56 = v378;
    v57 = 0;
    v58 = 0;
    v388 = 0;
    do
    {
      if ( (*(_QWORD *)(v58 + *(_QWORD *)(Parameter + 0x240))
          & (((*(__int64 *)(v58 + *(_QWORD *)(Parameter + 0x240)) >> 0x12) & 1) - 1)
          & 0x100000000LL) != 0 )
      {
        v59 = *(float *)(Parameter + 0x3D8);
        v60 = *(float *)(Parameter + 0x3DC);
        v61 = *(float *)(Parameter + 0x3E4);
        v62 = *(float *)(Parameter + 0x3E0);
        v63 = *(float **)(v58 + *(_QWORD *)(Parameter + 0x280));
        v64 = v63[1];
        v65 = v63[2];
        v66 = v63[3];
        v67 = (float)((float)((float)(v59 * v64) - (float)(v60 * *v63)) + (float)(v61 * v65)) + (float)(v62 * v66);
        v68 = (float)((float)((float)(v62 * *v63) - (float)(v59 * v65)) + (float)(v61 * v64)) + (float)(v60 * v66);
        v69 = (float)((float)((float)(v60 * v65) - (float)(v62 * v64)) + (float)(v61 * *v63)) + (float)(v59 * v66);
        v70 = (float)(v68 + v68) * v69;
        v71 = (float)(v61 * v66) - (float)((float)((float)(v59 * *v63) + (float)(v60 * v64)) + (float)(v62 * v65));
        v72 = 1.0 - (float)((float)(v69 + v69) * v69);
        v73 = (float)(v69 + v69) * v71;
        v74 = (float)(v67 + v67) * v68;
        v75 = (float)(v67 + v67) * v71;
        v76 = (float)(v68 + v68) * v68;
        v77 = (float)(v68 + v68) * v71;
        v78 = (float)(v67 + v67) * v67;
        v79 = (float)(v67 + v67) * v69;
        *((float *)&v418 + 2) = v72 - v78;
        *((float *)&v418 + 3) = v74 - v73;
        v420 = v74 + v73;
        *((float *)&v418 + 1) = v75 + v70;
        v416 = (float)(1.0 - v76) - v78;
        v417 = v70 - v75;
        *(float *)&v418 = v79 + v77;
        v419 = v79 - v77;
        v80 = v72 - v76;
        v81 = *(float *)(Parameter + 0x3DC);
        v421 = v80;
        v82 = v63[6];
        v83 = v63[5];
        v84 = v63[4];
        v85 = (float)((float)(v82 * v81) - (float)(v83 * v62)) + (float)(v84 * v61);
        v86 = *(float *)(Parameter + 0x3D8);
        v87 = *(_QWORD *)Parameter;
        v88 = (float)((float)(v84 * v62) - (float)(v82 * v86)) + (float)(v83 * v61);
        v89 = (float)((float)(v83 * v86) - (float)(v84 * v81)) + (float)(v82 * v61);
        v90 = (float)((float)(v89 * v81) - (float)(v88 * v62))
            + (float)(v84 + (float)((float)(v89 * v81) - (float)(v88 * v62)));
        v91 = (float)((float)(v85 * v62) - (float)(v89 * v86))
            + (float)(v83 + (float)((float)(v85 * v62) - (float)(v89 * v86)));
        v92 = v85 * v81;
        v93 = *(float *)(Parameter + 0x200);
        v94 = (float)((float)((float)((float)(v88 * v86) - v92) + (float)(v82 + (float)((float)(v88 * v86) - v92))) * v93)
            + *(double *)(Parameter + 0x3D0);
        v95 = (float)(v91 * v93) + *(double *)(Parameter + 0x3C8);
        *(double *)v415 = (float)(v90 * v93) + *(double *)(Parameter + 0x3C0);
        *(double *)&v415[8] = v95;
        *(double *)&v415[0x10] = v94;
        v422 = v93 * v63[7];
        *(double *)&v96 = COERCE_DOUBLE((*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(v87 + 0x2A0))(Parameter, v52, 0));
        v97 = (__m128)LODWORD(v427);
        v429 = *(double *)&v96;
        v98 = *(float *)(v96 + 0xE4) - *(float *)(v32 + 4);
        v99 = (__m128)*(unsigned int *)(v96 + 0xDC);
        *(float *)&v95 = *(float *)(v96 + 0xE0) - *(float *)v32;
        *(float *)v423 = *(float *)(v96 + 0xDC) - *(float *)(v32 - 4);
        *(float *)&v423[4] = *(float *)&v95;
        *(float *)&v423[8] = v98;
        *(_QWORD *)&v423[0xC] = *(_QWORD *)(v96 + 0xD0);
        v424 = *(float *)(v96 + 0xD8);
        *(_OWORD *)v425 = *(_OWORD *)(v96 + 0x78);
        v100 = *(double *)(v96 + 0x88);
        v101 = *(_QWORD *)(Parameter + 0x230);
        *(double *)&v425[0x10] = v100;
        v99.m128_f32[0] = (float)((float)(*(float *)v423 * *(float *)v423) + (float)(*(float *)&v95 * *(float *)&v95))
                        + (float)(v98 * v98);
        v102 = _mm_sqrt_ps(_mm_shuffle_ps(v99, v99, 0));
        v103 = (float)((float)(*(float *)(v388 + v101 + 0x1C) * *(float *)(v388 + v101 + 0x1C))
                     * (float)(v427 * _mm_shuffle_ps(v102, v102, 0xFF).m128_f32[0]))
             * *(double *)(Parameter + 0x6B8);
        v104 = *(float **)(v58 + *(_QWORD *)(Parameter + 0x238));
        if ( (float)(v104[0x10] * v104[0x10]) * v103 * (v103 * v103) <= 0.0000009999999974752427 )
        {
          v105 = a2;
          v114 = 0.0;
          v108 = 0;
          v113 = 0.0;
          v112 = 0.0;
          v110 = 0;
          v109 = 0.0;
        }
        else
        {
          LOBYTE(v371) = *(_DWORD *)(v32 + 0x74) != 0;
          (*(void (__fastcall **)(_QWORD, volatile signed __int32 *, _BYTE *, float *, float *, int))(**(_QWORD **)v104 + 0x80LL))(
            *(_QWORD *)v104,
            v380,
            v415,
            &v399,
            &v402,
            v371);
          v105 = a2;
          v106 = v97;
          v107 = (float)-((*(_DWORD *)(v32 + 0x58) - 1) >> 0x1F);
          v378 = (float)(v107 * (float)(v97.m128_f32[0] * v401)) + v378;
          v382 = (float)(v107 * (float)(v97.m128_f32[0] * v400)) + v382;
          v106.m128_f32[0] = (float)(v97.m128_f32[0] * v400) * a2;
          v108 = v106;
          v109 = v402 * (float)(v97.m128_f32[0] * a2);
          v111 = (__m128)LODWORD(v403);
          v111.m128_f32[0] = v403 * (float)(v97.m128_f32[0] * a2);
          v110 = v111;
          v112 = v404 * (float)(v97.m128_f32[0] * a2);
          v377 = (float)(v107 * (float)(v97.m128_f32[0] * v399)) + v377;
          v22 += ((*(_DWORD *)(v32 + 0x58) - 1) >> 0x1F) & (v374 - v22);
          v113 = (float)(v97.m128_f32[0] * v399) * a2;
          v114 = (float)(v97.m128_f32[0] * v401) * a2;
        }
        v115 = *(_QWORD *)(Parameter + 0x238);
        v116 = v394;
        v117 = v391;
        v402 = v109;
        v403 = v110.m128_f32[0];
        v404 = v112;
        v399 = v113;
        v400 = v108.m128_f32[0];
        v401 = v114;
        v118 = *(float **)(v58 + v115);
        v121 = *(unsigned int *)(v388 + *(_QWORD *)(Parameter + 0x230) + 0x1C);
        v119 = *(_QWORD *)(Parameter + 0x2C0);
        *(float *)&v121 = (float)(*(float *)&v121 * v118[0x10]) * (float)(*(float *)&v121 * *(float *)&v121);
        v120 = *(float *)&v121;
        v414 = *(float *)&v121;
        if ( *(_DWORD *)(v119 + 0x51C) )
        {
          *((_QWORD *)&v122 + 1) = 0;
          if ( v391 <= COERCE_FLOAT(LODWORD(v394) ^ 0x80000000) || *(_DWORD *)(v32 + 0x74) )
          {
            v376 = *(float *)&v121;
            _XMM3 = v121;
          }
          else
          {
            *(double *)&v122 = (*(double (__fastcall **)(_QWORD, volatile signed __int32 *, _BYTE *, double *))(**(_QWORD **)v118 + 0x78LL))(
                                 *(_QWORD *)v118,
                                 v380,
                                 v415,
                                 v455);
            v112 = v404;
            v110 = (__m128)LODWORD(v403);
            v109 = v402;
            v114 = v401;
            v108 = (__m128)LODWORD(v400);
            v113 = v399;
            v116 = v394;
            v117 = v391;
            v22 += (v374 - v22) & ((*(_DWORD *)(v32 + 0x58) - 1) >> 0x1F);
            v376 = *(float *)&v122;
            _XMM3 = v122;
          }
        }
        else
        {
          _XMM3 = LODWORD(v376);
        }
        v124 = v428;
        if ( (float)(*(float *)&v121 * v428) * *(double *)(Parameter + 0x6B8) > 0.009999999776482582 )
        {
          if ( v117 <= COERCE_FLOAT(LODWORD(v116) ^ 0x80000000) || *(_DWORD *)(v32 + 0x74) )
          {
            _XMM0 = *(unsigned int *)(*(_QWORD *)(Parameter + 0x2C0) + 0x51CLL);
            __asm
            {
              vpcmpeqd xmm2, xmm0, xmm1
              vblendvps xmm0, xmm3, xmm7, xmm2
            }
            v150 = (__m128)*(unsigned __int64 *)a3;
            v376 = *(float *)&_XMM0;
            v414 = *(float *)&_XMM0;
            v151 = (float)(v428 * *(float *)&_XMM0) * v105;
            v152 = v108;
            v152.m128_f32[0] = v108.m128_f32[0] - (float)(_mm_shuffle_ps(v150, v150, 0x55).m128_f32[0] * v151);
            v108 = v152;
            v113 = v113 - (float)(v150.m128_f32[0] * v151);
            v114 = v114 - (float)(v151 * a3[2]);
            v399 = v113;
            v400 = v152.m128_f32[0];
            v401 = v114;
            *(double *)&v430 = *(double *)v150.m128_u64;
          }
          else
          {
            if ( !*(_DWORD *)(*(_QWORD *)(Parameter + 0x2C0) + 0x51CLL) )
            {
              v125 = **(_QWORD **)(v58 + *(_QWORD *)(Parameter + 0x238));
              v126 = (*(double (__fastcall **)(__int64, volatile signed __int32 *, _BYTE *, double *))(*(_QWORD *)v125 + 0x78LL))(
                       v125,
                       v380,
                       v415,
                       v455);
              v112 = v404;
              v110.m128_f32[0] = v403;
              v109 = v402;
              v114 = v401;
              v108.m128_f32[0] = v400;
              v113 = v399;
              v22 += (v374 - v22) & ((*(_DWORD *)(v32 + 0x58) - 1) >> 0x1F);
              v376 = *(float *)&v126;
              LODWORD(_XMM3) = LODWORD(v126);
            }
            v127 = (__m128)*(unsigned __int64 *)(v32 + 0xC);
            v128 = (float)((float)(v124 * v464.m128_f32[3]) * *(float *)&_XMM3) * v105;
            v129 = v127.m128_f32[0] * v128;
            v131 = _mm_shuffle_ps(v127, v127, 0x55);
            v131.m128_f32[0] = v131.m128_f32[0] * v128;
            v130 = v131;
            v133 = *(unsigned int *)(v32 + 0x14);
            *(float *)&v133 = *(float *)(v32 + 0x14) * v128;
            v132 = v133;
            *(_QWORD *)&v430 = *(_QWORD *)(v32 + 0xC);
            v134 = v130.m128_f32[0];
            v114 = *(float *)&v133 + v114;
            v401 = v114;
            v135 = v130;
            v135.m128_f32[0] = v130.m128_f32[0] + v108.m128_f32[0];
            v108 = v135;
            v400 = v135.m128_f32[0];
            v135.m128_u64[1] = *((_QWORD *)&v132 + 1);
            v113 = v113 + (float)(v127.m128_f32[0] * v128);
            v399 = v113;
            v136 = v455[2] - *(double *)(*(_QWORD *)&v429 + 0x88LL);
            v137 = v455[1] - *(double *)(*(_QWORD *)&v429 + 0x80LL);
            v138 = v455[0] - *(double *)(*(_QWORD *)&v429 + 0x78LL);
            _XMM4 = COERCE_UNSIGNED_INT64(v138 * v130.m128_f32[0] - v137 * v129);
            _XMM3 = COERCE_UNSIGNED_INT64(v136 * v129 - *(float *)&v132 * v138);
            *(double *)v135.m128_u64 = *(float *)&v132 * v137;
            v141 = v135;
            v120 = v414;
            __asm
            {
              vcvtsd2ss xmm1, xmm4, xmm4
              vcvtsd2ss xmm0, xmm3, xmm3
            }
            v112 = *(float *)&_XMM1 + v112;
            v144 = _XMM0;
            v144.m128_f32[0] = _XMM0.m128_f32[0] + v110.m128_f32[0];
            v110 = v144;
            v144.m128_u64[1] = v141.m128_u64[1];
            *(double *)v144.m128_u64 = *(double *)v141.m128_u64 - v136 * v134;
            _XMM0 = v144;
            __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
            v109 = v109 + *(float *)&_XMM2;
            v402 = v109;
            v403 = v110.m128_f32[0];
            v404 = v112;
          }
        }
        v153 = *(double *)(Parameter + 0x6B0);
        v154 = (__m128)*(unsigned int *)a3;
        v154.m128_f32[0] = (float)((float)(*a3 * *a3) + (float)(a3[1] * a3[1])) + (float)(a3[2] * a3[2]);
        v155 = _mm_sqrt_ps(_mm_shuffle_ps(v154, v154, 0));
        v156 = _mm_shuffle_ps(v155, v155, 0xFF);
        v154.m128_u64[1] = v156.m128_u64[1];
        *(double *)v154.m128_u64 = (float)(v156.m128_f32[0] * 10.0) * v153;
        v157 = v154;
        v159 = v108;
        v159.m128_f32[0] = v108.m128_f32[0] * v108.m128_f32[0];
        v158 = v159;
        v429 = a2;
        v159.m128_u64[1] = v157.m128_u64[1];
        *(double *)v159.m128_u64 = *(double *)v157.m128_u64 * a2;
        _XMM3 = v159;
        v162 = v158;
        __asm { vcvtsd2ss xmm6, xmm3, xmm3 }
        v162.m128_f32[0] = (float)(v158.m128_f32[0] + (float)(v113 * v113)) + (float)(v114 * v114);
        if ( v162.m128_f32[0] > (float)(*(float *)&_XMM6 * *(float *)&_XMM6) )
        {
          _XMM0 = _mm_shuffle_ps(v162, v162, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          _XMM3.m128_f32[0] = (float)((float)(1.5
                                            - (float)((float)((float)(v162.m128_f32[0] * _XMM3.m128_f32[0])
                                                            * _XMM3.m128_f32[0])
                                                    * 0.5))
                                    * _XMM3.m128_f32[0])
                            * *(float *)&_XMM6;
          v113 = v113 * _XMM3.m128_f32[0];
          v108.m128_f32[0] = v108.m128_f32[0] * _XMM3.m128_f32[0];
          v114 = v114 * _XMM3.m128_f32[0];
          v399 = v113;
          v400 = v108.m128_f32[0];
          v401 = v114;
        }
        v165 = (__m128)LODWORD(v396);
        v165.m128_f32[0] = (float)((float)((float)(v396 * v396) + (float)(v386 * v386)) + (float)(v412 * v412)) * 0.25;
        v166 = _mm_sqrt_ps(_mm_shuffle_ps(v165, v165, 0));
        v167 = _mm_shuffle_ps(v166, v166, 0xFF);
        v165.m128_u64[1] = v167.m128_u64[1];
        *(double *)v165.m128_u64 = v167.m128_f32[0] * v429 * (v156.m128_f32[0] * v153);
        _XMM0 = v165;
        __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
        v170 = v110;
        v170.m128_f32[0] = (float)((float)(v110.m128_f32[0] * v110.m128_f32[0]) + (float)(v109 * v109))
                         + (float)(v112 * v112);
        if ( v170.m128_f32[0] > (float)(*(float *)&_XMM5 * *(float *)&_XMM5) )
        {
          _XMM0 = _mm_shuffle_ps(v170, v170, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          _XMM3.m128_f32[0] = (float)((float)(1.5
                                            - (float)((float)((float)(_XMM3.m128_f32[0] * v170.m128_f32[0])
                                                            * _XMM3.m128_f32[0])
                                                    * 0.5))
                                    * _XMM3.m128_f32[0])
                            * *(float *)&_XMM5;
          v109 = v109 * _XMM3.m128_f32[0];
          v110.m128_f32[0] = v110.m128_f32[0] * _XMM3.m128_f32[0];
          v112 = v112 * _XMM3.m128_f32[0];
          v402 = v109;
          v403 = v110.m128_f32[0];
          v404 = v112;
        }
        v407 = v52;
        if ( (float)((float)((float)((float)(v112 * v112) + (float)(v109 * v109))
                           + (float)(v110.m128_f32[0] * v110.m128_f32[0]))
                   + (float)((float)((float)(v114 * v114) + (float)(v113 * v113))
                           + (float)(v108.m128_f32[0] * v108.m128_f32[0]))) > 0.0 )
          (*(void (__fastcall **)(__int64, int *, __int64))(*(_QWORD *)Parameter + 0x30LL))(Parameter, &v398, 1);
        v30 = v376;
        v54 = v376 + v413;
        v53 = v120 + v385;
        v55 = v377;
        v29 = v382;
        v56 = v378;
        v57 = v388;
        v413 = v376 + v413;
        v385 = v120 + v385;
      }
      v57 += 0x20;
      ++v52;
      v58 += 8;
      v388 = v57;
      v173 = v56;
      v174 = v55;
    }
    while ( (signed int)v52 < *(_DWORD *)(Parameter + 0x290) );
    v377 = v55;
    v28 = v55;
    v376 = v30;
    v382 = v29;
    v378 = v56;
    if ( (float)(v54 * v53) <= 0.0 )
      goto LABEL_53;
    v175 = v54 >= v53 ? 1.0 : v54 / v53;
    _XMM0 = *(unsigned int *)(v32 - 0x10);
    __asm { vmaxss  xmm1, xmm0, dword ptr [rsi+8A0h] }
    n0x3F800000 = 0x3F800000u;
    *(float *)&n0x3F800000 = (float)((float)(1.0 - v175) * *(float *)(Parameter + 0x570))
                           + (float)(v175 * *(float *)&_XMM1);
    n0x3F800000_1 = n0x3F800000;
    __asm { vmaxss  xmm0, xmm2, dword ptr [rsi+57Ch] }
    *(float *)(Parameter + 0x57C) = *(float *)&_XMM0;
    v376 = v30;
    v377 = v174;
    v382 = v29;
    v378 = v173;
    if ( *(_DWORD *)(v32 + 0x58) )
      goto LABEL_53;
    _XMM1 = LODWORD(v379);
    v34 = v374;
    v33 = v380;
    __asm
    {
      vcmpltss xmm0, xmm1, xmm3
      vblendvps xmm0, xmm1, xmm3, xmm0
    }
    v31 = *(float *)&_XMM0;
    v376 = v30;
    v377 = v174;
    v382 = v29;
    v378 = v173;
    v379 = *(float *)&_XMM0;
    if ( (float)(*(float *)(v32 - 0x18) * *(float *)(Parameter + 0x8A4)) * *(double *)(Parameter + 0x6C0) > *(double *)(Parameter + 0x6B0) )
    {
      *(_DWORD *)(Parameter + 0x4A4) |= 0x4000000u;
      v376 = v30;
      v377 = v174;
      v382 = v29;
      v378 = v173;
    }
LABEL_54:
    ++v34;
    v33 += 0x26;
    v32 += 0x98;
    v374 = v34;
    v380 = v33;
  }
  while ( v34 < a5 );
  v16 = v432;
LABEL_56:
  if ( v22 == 0xFFFFFFFF )
    goto LABEL_95;
  *(float *)(Parameter + 0x8B0) = v31;
  if ( COERCE_INT(fabs(1.0 - (float)(v31 + v31)) - 0.99800003) >= 0 )
    goto LABEL_96;
  v184 = *(_QWORD *)(Parameter + 0x2C0);
  v185 = *(float *)(v184 + 0x330);
  v186 = (double *)(*(__int64 (**)(void))(*(_QWORD *)qword_149A141F0 + 0x60LL))();
  v187 = v186[0xB];
  v188 = v186[7];
  v189 = v186[3];
  v190 = sub_1469264A0(*(_QWORD *)(Parameter + 0x2C0), (double *)v480, *(__int64 **)(Parameter + 0xB8), 1);
  sub_140339170(v463, v190, (double *)(Parameter + 0x628));
  _XMM5 = COERCE_UNSIGNED_INT64(v463[2] - v187);
  _XMM2 = COERCE_UNSIGNED_INT64(v463[0] - v189);
  __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
  _XMM3 = COERCE_UNSIGNED_INT64(v463[1] - v188);
  __asm { vcvtsd2ss xmm1, xmm3, xmm3 }
  v196 = _XMM1;
  __asm { vcvtsd2ss xmm5, xmm5, xmm5 }
  *(float *)&v196 = fsqrt(
                      (float)((float)(*(float *)&_XMM1 * *(float *)&_XMM1) + (float)(*(float *)&_XMM4 * *(float *)&_XMM4))
                    + (float)(*(float *)&_XMM5 * *(float *)&_XMM5));
  _XMM0 = v196;
  __asm { vmaxss  xmm4, xmm0, xmm9 }
  if ( !*(_QWORD *)(Parameter + 0x220) || v22 < 0 )
  {
    if ( *(_DWORD *)(*(_QWORD *)(Parameter + 0x2C0) + 0x324LL) * (v22 + 1) <= 0
      || (*(_DWORD *)(Parameter + 0x208) & 2) != 0
      || v185 <= *(float *)&_XMM4
      || (float)((float)((float)(*(float *)&v436 * *(float *)&v436)
                       + (float)(*((float *)&v436 + 1) * *((float *)&v436 + 1)))
               + (float)(v372 * v372)) <= (float)(*(float *)(v184 + 0x32C) * *(float *)(v184 + 0x32C)) )
    {
      goto LABEL_96;
    }
    *(float *)&v516[7] = 100.0;
    v518 = ymmword_148773180;
    *(float *)&v516[9] = 0.017453292;
    *(float *)&v516[0xA] = 0.0;
    *(float *)&v516[1] = 0.0;
    *(float *)&v516[2] = 0.0;
    *(float *)&v516[3] = 0.0;
    *(float *)&v516[0xE] = 0.0;
    *(float *)&v516[0xF] = 0.0;
    *(float *)&v516[0x10] = 1.0;
    *(float *)&v516[0xB] = 0.0;
    *(float *)&v516[0xC] = 0.0;
    *(float *)&v516[0xD] = 0.0;
    *(float *)&v516[4] = 0.0;
    *(float *)&v516[5] = 0.0;
    *(float *)&v516[6] = 0.0;
    v517 = 1.999999999998e12;
    v519 = 1.999999999998e12;
    *(float *)&v516[0x11] = 1.0e10;
    v516[0] = 0;
    v528 = 0;
    v520 = 0;
    v521 = 0;
    v523 = 0;
    v524 = 0;
    v525 = 0;
    v527 = 0;
    __asm { vzeroupper }
    sub_146646860((__int64)v466);
    v469 = 1;
    v466[0] = &off_148ABF7B0;
    _InterlockedIncrement(&dword_14A135B7C);
    v264 = 1;
    _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x438) - *(double *)(Parameter + 0x420));
    v513 = 1000.0;
    v446 = ymmword_148199FE0;
    _XMM4 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x440) - *(double *)(Parameter + 0x428));
    _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x430) - *(double *)(Parameter + 0x418));
    v472 = 1;
    v466[0] = &off_148ABFE50;
    __asm
    {
      vcvtsd2ss xmm1, xmm2, xmm2
      vcvtsd2ss xmm3, xmm3, xmm3
      vcvtsd2ss xmm0, xmm4, xmm4
    }
    v470 = &off_148ABFD68;
    v452 = *(float *)&_XMM1;
    v467 = 0.0;
    v447 = 1.0;
    v451 = 0.0;
    v450 = 0.0;
    v449 = 0.0;
    v453 = *(float *)&_XMM3;
    v454 = *(float *)&_XMM0;
    n3 = 3;
    v471 = v466;
    *(_QWORD *)&v481 = 0;
    *((_QWORD *)&v481 + 1) = 0x1E00000002LL;
    v511 = 0;
    v507 = 0xFFFFFFFF;
    v512 = 0;
    v514 = 0;
    v515 = 0;
    v375 = 1;
    v448 = 0;
    __asm { vzeroupper }
    sub_146666E30((__int64)v466);
    v271 = Parameter | (*(_QWORD *)(Parameter + 8) << 0x30);
    v522 = 1;
    v482 = v271;
    v484 = *(_QWORD *)(Parameter + 0xC0);
    v486 = *(__int16 *)(Parameter + 0xEC);
    v488 = *(__int16 *)(Parameter + 0xEE);
    v526 = 1;
    v483 = (unsigned __int64)&qword_15145C180 | (qword_15145C188 << 0x30);
    v272 = 0x98LL * v22;
    *(double *)v415 = 0.0;
    *(_OWORD *)&v415[8] = 0;
    *(float *)&v423[8] = 0.0;
    *(float *)&v423[4] = 0.0;
    *(_QWORD *)&_XMM0 = *(_QWORD *)(v272 + v16 + 0x28);
    *(float *)v423 = 0.0;
    v424 = 0.0;
    *(float *)&v423[0x10] = 0.0;
    *(float *)&v423[0xC] = 0.0;
    *(float *)&v516[8] = 1.0e10;
    v485 = 0;
    v487 = 0;
    v489 = 0;
    v490 = 0xFFFFFFFE;
    v273 = *(float *)(v272 + v16 + 0x30);
    v274 = *(_QWORD *)(Parameter + 0x2C0);
    v494 = *(double *)&_XMM0;
    LODWORD(_XMM0) = *(_DWORD *)(Parameter + 0x8B0);
    v500 = 0.0;
    v499 = 0.0;
    v498 = 0.0;
    v502 = 0.0;
    v495 = v273;
    v504 = 0;
    LOWORD(v272) = *(_WORD *)(v274 + 0x82E30);
    v508 = *(float *)&_XMM0;
    _XMM0 = *(unsigned __int64 *)(Parameter + 0x6B0);
    __asm { vcvtpd2ps xmm0, xmm0 }
    v509 = (float)((float)(v28 * *(float *)&v494) + (float)(v29 * *((float *)&v494 + 1))) + (float)(v273 * v378);
    _XMM1 = LODWORD(v452);
    v501 = *(float *)&_XMM0;
    __asm
    {
      vcmpltss xmm0, xmm1, xmm2
      vblendvps xmm4, xmm1, xmm2, xmm0
      vcmpltss xmm0, xmm4, xmm3
      vblendvps xmm1, xmm4, xmm3, xmm0
    }
    v506 = v272;
    v510 = *(float *)&_XMM1;
    if ( *(float *)&_XMM1 >= 0.5 )
    {
      v282 = v395;
      v283 = &dword_14A287AFC[0x7A1BA * v395];
      v381 = v283;
      if ( _InterlockedCompareExchange(v283, 0x10000, 0) )
      {
        sub_1403A4CA0(v283, 0, 0x10000);
        v282 = v395;
      }
      v284 = 0;
      v384 = 0;
      if ( *(int *)(Parameter + 0x290) > 0 )
      {
        v285 = 0;
        v393 = 0;
        v286 = 0;
        v390 = 0;
        while ( 1 )
        {
          if ( (*(_QWORD *)(v286 + *(_QWORD *)(Parameter + 0x240))
              & (((*(__int64 *)(v286 + *(_QWORD *)(Parameter + 0x240)) >> 0x12) & 1) - 1)
              & 0x100000000LL) != 0 )
          {
            v287 = *(float *)(Parameter + 0x3D8);
            v288 = *(float *)(Parameter + 0x3DC);
            v289 = *(float *)(Parameter + 0x3E4);
            v290 = *(float *)(Parameter + 0x3E0);
            v291 = *(float **)(v286 + *(_QWORD *)(Parameter + 0x280));
            v292 = v291[1];
            v293 = v291[2];
            v294 = v291[3];
            v295 = (float)((float)((float)(v287 * v292) - (float)(v288 * *v291)) + (float)(v289 * v293))
                 + (float)(v290 * v294);
            v296 = (float)((float)((float)(v290 * *v291) - (float)(v287 * v293)) + (float)(v289 * v292))
                 + (float)(v288 * v294);
            v297 = (float)((float)((float)(v288 * v293) - (float)(v290 * v292)) + (float)(v289 * *v291))
                 + (float)(v287 * v294);
            v298 = (float)(v296 + v296) * v297;
            v299 = (float)(v289 * v294)
                 - (float)((float)((float)(v287 * *v291) + (float)(v288 * v292)) + (float)(v290 * v293));
            v300 = 1.0 - (float)((float)(v297 + v297) * v297);
            v301 = (float)(v297 + v297) * v299;
            v302 = (float)(v295 + v295) * v296;
            v303 = (float)(v295 + v295) * v299;
            v304 = (float)(v296 + v296) * v296;
            v305 = (float)(v296 + v296) * v299;
            v306 = (float)(v295 + v295) * v295;
            v307 = (float)(v295 + v295) * v297;
            *((float *)&v418 + 2) = v300 - v306;
            *((float *)&v418 + 3) = v302 - v301;
            v420 = v302 + v301;
            *((float *)&v418 + 1) = v298 + v303;
            v416 = (float)(1.0 - v304) - v306;
            v417 = v298 - v303;
            *(float *)&v418 = v307 + v305;
            v419 = v307 - v305;
            v308 = v300 - v304;
            v309 = *(float *)(Parameter + 0x3DC);
            v421 = v308;
            v310 = v291[6];
            v311 = v291[5];
            v312 = v291[4];
            v313 = (float)((float)(v310 * v309) - (float)(v311 * v290)) + (float)(v312 * v289);
            v314 = *(float *)(Parameter + 0x3D8);
            v315 = *(_QWORD *)(Parameter + 0x238);
            v316 = (float)((float)(v312 * v290) - (float)(v310 * v314)) + (float)(v311 * v289);
            v317 = (float)((float)(v311 * v314) - (float)(v312 * v309)) + (float)(v310 * v289);
            v318 = (float)((float)(v309 * v317) - (float)(v290 * v316))
                 + (float)(v312 + (float)((float)(v309 * v317) - (float)(v290 * v316)));
            v319 = (float)((float)(v290 * v313) - (float)(v314 * v317))
                 + (float)(v311 + (float)((float)(v290 * v313) - (float)(v314 * v317)));
            v320 = v309 * v313;
            v321 = *(float *)(Parameter + 0x200);
            *(double *)&v415[0x10] = (float)(v321
                                           * (float)((float)((float)(v314 * v316) - v320)
                                                   + (float)(v310 + (float)((float)(v314 * v316) - v320))))
                                   + *(double *)(Parameter + 0x3D0);
            *(double *)&v415[8] = (float)(v321 * v319) + *(double *)(Parameter + 0x3C8);
            *(double *)v415 = (float)(v321 * v318) + *(double *)(Parameter + 0x3C0);
            v422 = v321 * v291[7];
            v322 = (*(__int64 (__fastcall **)(_QWORD, _QWORD *, _BYTE *, _QWORD, _DWORD *, __int64 *, int))(***(_QWORD ***)(v286 + v315) + 0x1E8LL))(
                     **(_QWORD **)(v286 + v315),
                     v466,
                     v415,
                     0,
                     v516,
                     &v431,
                     v282);
            if ( v322 )
            {
              v323 = v322 - 1;
              if ( v323 >= 0 )
                break;
            }
          }
LABEL_84:
          ++v284;
          v286 += 8;
          v285 += 4;
          v384 = v284;
          v390 = v286;
          v393 = v285;
          if ( v284 >= *(_DWORD *)(Parameter + 0x290) )
          {
            v264 = v375;
            v283 = &dword_14A287AFC[0x7A1BA * v395];
            goto LABEL_89;
          }
          v282 = v395;
        }
        v324 = 0xC0LL * v323;
        while ( 1 )
        {
          _XMM0 = *(unsigned __int64 *)(v431 + v324 + 0x48);
          __asm { vcvtpd2ps xmm0, xmm0 }
          v433[0] = *(float *)&_XMM0;
          _XMM1 = *(unsigned __int64 *)(v431 + v324 + 0x50);
          __asm { vcvtpd2ps xmm1, xmm1 }
          v433[1] = *(float *)&_XMM1;
          v329 = *(_BYTE *)(v431 + v324 + 0xB8);
          n2 = *(_DWORD *)(v431 + v324 + 0xB0);
          *(_QWORD *)&v430 = sub_146810940((unsigned __int64 *)(v431 + 0xC0LL * v323 + 8), n2);
          DWORD2(v430) = 0xC;
          v465 = v430;
          v331 = sub_1465C75B0((__int64 *)&v465, n2, v329, v433, &v434, &v435, 0.5) - 1;
          v332 = v331;
          if ( v331 >= 0 )
            break;
LABEL_82:
          v324 -= 0xC0;
          if ( --v323 < 0 )
          {
            v284 = v384;
            v285 = v393;
            v286 = v390;
            goto LABEL_84;
          }
        }
        v333 = *(_QWORD *)(Parameter + 0x2C0);
        v375 = 0;
        while ( 1 )
        {
          v334 = *(float *)(Parameter + 0x680);
          v335 = *(float *)(Parameter + 0x688);
          v336 = *(float *)(Parameter + 0x684);
          v337 = *(float *)(v434 + 8 * v332);
          v491 = v337;
          v338 = COERCE_UNSIGNED_INT64(v337 - *(double *)(Parameter + 0x628));
          v339 = *(_QWORD *)(Parameter + 0x250);
          v340 = COERCE_UNSIGNED_INT64(*(float *)(v434 + 8 * v332 + 4) - *(double *)(Parameter + 0x630));
          v492 = *(float *)(v434 + 8 * v332 + 4);
          v341 = COERCE_UNSIGNED_INT64(*(double *)(v431 + v324 + 0x58) - *(double *)(Parameter + 0x638));
          v493 = *(double *)(v431 + v324 + 0x58);
          v342 = v334;
          *((_QWORD *)&v343 + 1) = *((_QWORD *)&v340 + 1);
          v344 = v336;
          *(double *)&v343 = *(double *)&v340 * v342 - *(double *)&v338 * v344;
          _XMM9 = v343;
          v346 = v335;
          *((_QWORD *)&v343 + 1) = *((_QWORD *)&v338 + 1);
          *(double *)&v343 = *(double *)&v338 * v346 - *(double *)&v341 * v342;
          _XMM5 = v343;
          *((_QWORD *)&v343 + 1) = *((_QWORD *)&v341 + 1);
          *(double *)&v343 = *(double *)&v341 * v344 - *(double *)&v340 * v346;
          _XMM0 = v343;
          __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
          __asm { vcvtsd2ss xmm0, xmm5, xmm5 }
          *(float *)&v343 = *(float *)&_XMM0 + *(float *)(Parameter + 0x690);
          *(float *)&v496 = *(float *)&_XMM2 + *(float *)(Parameter + 0x68C);
          *((float *)&v496 + 1) = *(float *)&v343;
          __asm { vcvtsd2ss xmm2, xmm9, xmm9 }
          v497 = *(float *)&_XMM2 + *(float *)(Parameter + 0x694);
          v503 = *(_DWORD *)(v393 + v339);
          v505 = sub_14670D0F0(Parameter, *(_DWORD *)(v431 + v324 + 0x84), v384);
          v510 = *(float *)(v435 + 4 * v332);
          sub_146715FF0(v333, 0x2000000, &v481, 0);
          v333 = *(_QWORD *)(Parameter + 0x2C0);
          LODWORD(n0x10) = n0x10 + 1;
          if ( (_DWORD)n0x10 == *(_DWORD *)(v333 + 0x324) )
            break;
          if ( --v332 < 0 )
            goto LABEL_82;
        }
        _InterlockedExchangeAdd(v381, 0xFFFF0000);
        if ( byte_1499FF3E5 )
          qword_1499FF3F0(v381);
        goto LABEL_94;
      }
LABEL_89:
      _InterlockedExchangeAdd(v283, 0xFFFF0000);
      if ( byte_1499FF3E5 )
        qword_1499FF3F0(v283);
      if ( !v264 )
      {
LABEL_94:
        v470 = &off_148ABF6C8;
        _InterlockedDecrement(&dword_14A135B7C);
        sub_146647D40((__int64)v466);
        goto LABEL_96;
      }
      v16 = v432;
    }
    v352 = (*(double *)(Parameter + 0x418) + *(double *)(Parameter + 0x430)) * 0.5;
    v353 = (*(double *)(Parameter + 0x420) + *(double *)(Parameter + 0x438)) * 0.5;
    v354 = (*(double *)(Parameter + 0x428) + *(double *)(Parameter + 0x440)) * 0.5;
    v355 = 0x98LL * v22;
    _XMM5 = COERCE_UNSIGNED_INT64(v354 - *(double *)(v355 + v16 + 0x48));
    *((_QWORD *)&v358 + 1) = 0;
    *(double *)&v358 = v352 - *(double *)(v355 + v16 + 0x38);
    _XMM0 = v358;
    *((_QWORD *)&v358 + 1) = 0;
    *(double *)&v358 = v353 - *(double *)(v355 + v16 + 0x40);
    _XMM2 = v358;
    __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
    __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
    *(float *)&v358 = (float)(*(float *)&_XMM1 * *(float *)(v355 + v16 + 0x28))
                    + (float)(*(float *)&_XMM2 * *(float *)(v355 + v16 + 0x2C));
    __asm { vcvtsd2ss xmm1, xmm5, xmm5 }
    v363 = *(float *)&v358 + (float)(*(float *)&_XMM1 * *(float *)(v355 + v16 + 0x30));
    v497 = *(float *)(Parameter + 0x694);
    v364 = *(_DWORD **)(Parameter + 0x250);
    v365 = (__m128)*(unsigned __int64 *)(v355 + v16 + 0x28);
    v493 = v354 - (float)(v363 * *(float *)(v355 + v16 + 0x30));
    v496 = *(_QWORD *)(Parameter + 0x68C);
    v492 = v353 - (float)(v363 * _mm_shuffle_ps(v365, v365, 0x55).m128_f32[0]);
    v491 = v352 - (float)(v363 * v365.m128_f32[0]);
    LODWORD(v355) = *v364;
    v366 = *(_QWORD ***)(Parameter + 0x238);
    v503 = v355;
    v367 = (*(__int64 (__fastcall **)(_QWORD, _QWORD, _QWORD))(*(_QWORD *)**v366 + 0xA0LL))(**v366, 0, 0);
    v368 = sub_14670D0F0(Parameter, v367, 0);
    v369 = *(_QWORD *)(Parameter + 0x2C0);
    v505 = v368;
    sub_146715FF0(v369, 0x2000000, &v481, 0);
    goto LABEL_94;
  }
  *(_QWORD *)&v529 = 0;
  v560 = 1000.0;
  *((_QWORD *)&v529 + 1) = 0x1E00000002LL;
  v558 = 0;
  v554 = 0xFFFFFFFF;
  v559 = 0;
  v561 = 0;
  v562 = 0;
  sub_146646860((__int64)v473);
  v476 = 1;
  v473[0] = &off_148ABF7B0;
  _InterlockedIncrement(&dword_14A135B7C);
  _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x430) - *(double *)(Parameter + 0x418));
  v437 = ymmword_148199FE0;
  v438 = 1.0;
  _XMM4 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x440) - *(double *)(Parameter + 0x428));
  _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x438) - *(double *)(Parameter + 0x420));
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  v479 = 1;
  v473[0] = &off_148ABFE50;
  v443 = *(float *)&_XMM0;
  __asm
  {
    vcvtsd2ss xmm0, xmm4, xmm4
    vcvtsd2ss xmm1, xmm3, xmm3
  }
  v477 = &off_148ABFD68;
  v445 = *(float *)&_XMM0;
  v474 = 0.0;
  v442 = 0.0;
  v441 = 0.0;
  v440 = 0.0;
  v444 = *(float *)&_XMM1;
  n3_1 = 3;
  v478 = v473;
  v439 = 0;
  __asm { vzeroupper }
  sub_146666E30((__int64)v473);
  v206 = *(double *)(Parameter + 0x428) + *(double *)(Parameter + 0x440);
  *(double *)&_XMM3 = *(double *)(Parameter + 0x420) + *(double *)(Parameter + 0x438);
  v207 = *(double *)(Parameter + 0x430) + *(double *)(Parameter + 0x418);
  v208 = Parameter | (*(_QWORD *)(Parameter + 8) << 0x30);
  v533 = 0;
  v530 = v208;
  v532 = *(_QWORD *)(Parameter + 0xC0);
  v534 = *(__int16 *)(Parameter + 0xEC);
  v536 = *(__int16 *)(Parameter + 0xEE);
  v535 = 0;
  v210 = v207 * 0.5;
  v209 = *(unsigned __int64 *)&v210;
  v531 = (unsigned __int64)&qword_15145C180 | (qword_15145C188 << 0x30);
  v211 = 0x98LL * v22;
  v389 = *(double *)&_XMM3 * 0.5;
  *(double *)&v415[8] = *(double *)&_XMM3 * 0.5;
  v392 = v206 * 0.5;
  *(double *)v415 = v210;
  v212 = *(float *)(v211 + v16 + 0x30);
  v542 = *(_QWORD *)(v211 + v16 + 0x28);
  *(double *)&v415[0x10] = v206 * 0.5;
  *(float *)&v423[8] = 0.0;
  *(float *)&v423[4] = 0.0;
  *(float *)v423 = 0.0;
  v424 = 0.0;
  *(float *)&v423[0x10] = 0.0;
  *(float *)&v423[0xC] = 0.0;
  v537 = 0;
  v538 = 0xFFFFFFFE;
  LODWORD(_XMM0) = *(_DWORD *)(Parameter + 0x8B0);
  v213 = *(_QWORD *)(Parameter + 0x2C0);
  v548 = 0.0;
  v547 = 0.0;
  v546 = 0.0;
  v550 = 0.0;
  v543 = v212;
  v552 = 0;
  v214 = *(_WORD *)(v213 + 0x82E30);
  v555 = *(float *)&_XMM0;
  _XMM0 = *(unsigned __int64 *)(Parameter + 0x6B0);
  __asm { vcvtpd2ps xmm0, xmm0 }
  v549 = *(float *)&_XMM0;
  *(float *)&_XMM3 = v445 * *(float *)(v211 + v16 + 0x30);
  v556 = (float)((float)(v28 * *(float *)&v542) + (float)(v29 * *((float *)&v542 + 1))) + (float)(v212 * v378);
  v217 = *(unsigned int *)(Parameter + 0x1E8);
  v373 = (float)(fabs(v443 * *(float *)(v211 + v16 + 0x28)) + fabs(v444 * *(float *)(v211 + v16 + 0x2C)))
       + COERCE_FLOAT(_XMM3 & 0x7FFFFFFF);
  LODWORD(_XMM0) = *(_DWORD *)(Parameter + 0x1F4);
  v219 = v217;
  *(float *)&v219 = *(float *)&v217 - *(float *)&_XMM0;
  _XMM7 = v219;
  v221 = (unsigned int)_XMM0;
  *(float *)&v221 = *(float *)&_XMM0 + *(float *)&v217;
  _XMM8 = v221;
  v553 = v214;
  do
  {
    v222 = *(unsigned int **)(n0x10 + *(_QWORD *)(Parameter + 0x220));
    __asm { vminss  xmm4, xmm7, dword ptr [rcx+18h] }
    _XMM0 = v222[8];
    _XMM1 = v222[7];
    __asm { vminss  xmm11, xmm0, xmm11 }
    _XMM0 = v222[0xB];
    __asm
    {
      vmaxss  xmm13, xmm0, xmm13
      vmaxss  xmm0, xmm8, dword ptr [rcx+24h]
    }
    v397 = *(float *)&_XMM0;
    _XMM8 = _XMM0;
    __asm { vminss  xmm10, xmm1, xmm10 }
    _XMM1 = v222[0xA];
    __asm { vmaxss  xmm12, xmm1, xmm12 }
    *(float *)(Parameter + 0x1E8) = (float)(*(float *)&_XMM0 + *(float *)&_XMM4) * 0.5;
    _XMM7 = _XMM4;
    *(float *)(Parameter + 0x1EC) = (float)(*(float *)&_XMM10 + *(float *)&_XMM12) * 0.5;
    *(float *)(Parameter + 0x1F0) = (float)(*(float *)&_XMM11 + *(float *)&_XMM13) * 0.5;
    *(float *)(Parameter + 0x1F4) = (float)(*(float *)&_XMM0 - *(float *)&_XMM4) * 0.5;
    v387 = *(float *)&_XMM4;
    *(float *)(Parameter + 0x1F8) = (float)(*(float *)&_XMM12 - *(float *)&_XMM10) * 0.5;
    *(float *)(Parameter + 0x1FC) = (float)(*(float *)&_XMM13 - *(float *)&_XMM11) * 0.5;
    v233 = *(_QWORD *)(Parameter + 0x2A0);
    *(double *)(Parameter + 0x1E8) = *(double *)(v233 + 0x100);
    *(_DWORD *)(Parameter + 0x1F0) = *(_DWORD *)(v233 + 0x108);
    *(double *)(Parameter + 0x1F4) = *(double *)(v233 + 0x110);
    *(_QWORD *)&_XMM0 = *(_QWORD *)(Parameter + 0x68C);
    *(_DWORD *)(Parameter + 0x1FC) = *(_DWORD *)(v233 + 0x118);
    v234 = *(float *)(Parameter + 0x1F8);
    v235 = *(float *)(Parameter + 0x1FC);
    v236 = *(_DWORD *)(Parameter + 0x694);
    v237 = *(double *)(v211 + v16 + 0x48);
    v238 = *(double *)(v211 + v16 + 0x40);
    v544 = *(double *)&_XMM0;
    v239 = (__m128)*(unsigned int *)(Parameter + 0x1F4);
    v239.m128_f32[0] = (float)((float)(*(float *)(Parameter + 0x1F4) * *(float *)(Parameter + 0x1F4))
                             + (float)(v234 * v234))
                     + (float)(v235 * v235);
    _XMM1 = _mm_sqrt_ps(_mm_shuffle_ps(v239, v239, 0));
    _XMM5 = COERCE_UNSIGNED_INT64(v392 - v237);
    _XMM2 = COERCE_UNSIGNED_INT64(v389 - v238);
    v239.m128_u64[1] = *((_QWORD *)&v209 + 1);
    *(double *)v239.m128_u64 = *(double *)&v209 - *(double *)(v211 + v16 + 0x38);
    _XMM0 = v239;
    v545 = v236;
    __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
    LODWORD(v233) = **(_DWORD **)(Parameter + 0x250);
    __asm
    {
      vextractps [rbp+690h+var_10C], xmm1, 3
      vcvtsd2ss xmm1, xmm0, xmm0
    }
    v239.m128_u64[1] = *((_QWORD *)&_XMM1 + 1);
    v239.m128_f32[0] = *(float *)&_XMM1 * *(float *)(v211 + v16 + 0x28);
    __asm { vcvtsd2ss xmm1, xmm5, xmm5 }
    *(double *)v239.m128_u64 = (float)((float)(v239.m128_f32[0]
                                             + (float)(*(float *)&_XMM2 * *(float *)(v211 + v16 + 0x2C)))
                                     + (float)(*(float *)&_XMM1 * *(float *)(v211 + v16 + 0x30)));
    _XMM3 = v239;
    __asm { vcvtsd2ss xmm1, xmm3, xmm3 }
    v551 = v233;
    if ( COERCE_FLOAT(_XMM1 & 0x7FFFFFFF) < v373 )
    {
      v249 = *(_QWORD *)(Parameter + 0x2C0);
      v250 = (*(double *)(Parameter + 0x438) + *(double *)(Parameter + 0x420)) * 0.5;
      v251 = (*(double *)(Parameter + 0x418) + *(double *)(Parameter + 0x430)) * 0.5;
      v252 = (*(double *)(Parameter + 0x440) + *(double *)(Parameter + 0x428)) * 0.5;
      *((_QWORD *)&v254 + 1) = 0;
      *(double *)&v254 = v251 - *(double *)(v211 + v16 + 0x38);
      _XMM0 = v254;
      __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
      v256 = *(float *)&_XMM1 * *(float *)(v211 + v16 + 0x28);
      *((_QWORD *)&v254 + 1) = 0;
      *(double *)&v254 = v252 - v237;
      _XMM5 = v254;
      __asm { vcvtsd2ss xmm1, xmm5, xmm5 }
      v259 = (__m128)*(unsigned __int64 *)(v211 + v16 + 0x28);
      *((_QWORD *)&v254 + 1) = 0;
      *(double *)&v254 = v250 - v238;
      _XMM2 = v254;
      __asm { vcvtsd2ss xmm2, xmm2, xmm2 }
      v262 = (float)(v256 + (float)(*(float *)&_XMM2 * *(float *)(v211 + v16 + 0x2C)))
           + (float)(*(float *)&_XMM1 * *(float *)(v211 + v16 + 0x30));
      v263 = v252 - (float)(v262 * *(float *)(v211 + v16 + 0x30));
      v539 = v251 - (float)(v259.m128_f32[0] * v262);
      v540 = v250 - (float)(_mm_shuffle_ps(v259, v259, 0x55).m128_f32[0] * v262);
      v541 = v263;
      sub_146715FF0(v249, 0x2000000, &v529, 0);
      v209 = *(unsigned __int64 *)v415;
      _XMM7 = LODWORD(v387);
      _XMM8 = LODWORD(v397);
      v392 = *(double *)&v415[0x10];
      v389 = *(double *)&v415[8];
    }
    n0x10 += 8;
  }
  while ( n0x10 < 0x10 );
  v477 = &off_148ABF6C8;
  _InterlockedDecrement(&dword_14A135B7C);
  sub_146647D40((__int64)v473);
LABEL_96:
  v460 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_146789AE0 (0x146789AE0) ---

// --- Function: CRigidEntity::ApplyStateFromNetwork (0x14678C8E0) ---
unsigned __int64 __fastcall CRigidEntity::ApplyStateFromNetwork(_QWORD *a1, __int64 a2)
{
  float v2; // xmm1_4
  volatile signed __int64 *v4; // rdi
  __int64 v5; // rax
  unsigned __int64 n0x200000; // rax

  if ( (a1[0x41] & 0x40000000) != 0 )
  {
    if ( *((_BYTE *)a1 + 0x94E) || *((float *)a1 + 0x252) >= 0.0 )
    {
      *((float *)a1 + 0x252) = *((float *)a1 + 0x252) - v2;
    }
    else
    {
      LOBYTE(a2) = 1;
      (*(void (__fastcall **)(_QWORD *, __int64))(*a1 + 0xD8LL))(a1, a2);
    }
  }
  v4 = a1 + 0x11E;
  v5 = _InterlockedCompareExchange64(a1 + 0x11E, 0x200000, 0);
  if ( v5 )
    sub_1403DE750(
      (__int64)v4,
      v5,
      0,
      (__int64)"CRigidEntity::ApplyStateFromNetwork",
      (__int64)"m_netDesiredStateLock",
      1);
  n0x200000 = *((unsigned __int8 *)a1 + 0x94D);
  if ( !(_BYTE)n0x200000 )
  {
    n0x200000 = *((unsigned __int8 *)a1 + 0x94E);
    if ( !(_BYTE)n0x200000 )
    {
      if ( a1[0x11D] )
        n0x200000 = (*(__int64 (__fastcall **)(_QWORD *, _QWORD, _QWORD))(*a1 + 0x3B0LL))(a1, *a1, 0);
    }
  }
  if ( a1 != (_QWORD *)0xFFFFFFFFFFFFF710LL )
  {
    n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v4, n0x200000);
  }
  return n0x200000;
}

// --- End Function: CRigidEntity::ApplyStateFromNetwork (0x14678C8E0) ---

// --- Function: CRigidEntity::ApplyStateFromNetworkInternal (0x14678C9F0) ---
double __fastcall CRigidEntity::ApplyStateFromNetworkInternal(__int64 *Parameter, float a2, char a3)
{
  double result; // xmm0_8
  unsigned __int64 v6; // rdx
  unsigned __int64 v7; // r9
  int n0x40; // ecx
  __int64 v9; // r8
  __int64 v10; // rax
  __int64 v11; // rcx
  char v14; // si
  double v15; // xmm0_8
  float v16; // eax
  __int128 v19; // xmm11
  double v21; // xmm0_8
  float v22; // eax
  __m128 v23; // xmm7
  float v24; // xmm8_4
  float v25; // xmm9_4
  __m128 v26; // xmm13
  signed __int64 v27; // rdx
  __int64 v28; // rcx
  __m128 v29; // xmm1
  __m128 v30; // kr00_16
  float v31; // kr00_4
  __m128 v32; // kr00_16
  float v35; // xmm1_4
  float v36; // xmm8_4
  float v37; // xmm7_4
  float v38; // xmm9_4
  __int64 v39; // rax
  float v40; // xmm3_4
  float v41; // xmm10_4
  float v42; // kr00_4
  float v43; // xmm1_4
  float v44; // xmm0_4
  float v45; // xmm8_4
  float v46; // xmm9_4
  float v47; // xmm7_4
  __int64 v49; // rax
  float v50; // xmm8_4
  float v51; // xmm7_4
  float v52; // xmm5_4
  float v53; // xmm4_4
  const char *v54; // r9
  double *v55; // rax
  double v56; // xmm11_8
  double v57; // xmm9_8
  double v58; // xmm10_8
  double v64; // xmm0_8
  float v70; // xmm10_4
  float v71; // xmm6_4
  float v72; // xmm5_4
  __m128 v73; // kr00_16
  __int64 v76; // rcx
  __int64 v82; // rax
  __int128 v87; // kr00_16
  float v89; // xmm6_4
  float v90; // xmm7_4
  float v91; // xmm8_4
  __int64 v92; // rax
  float v93; // xmm10_4
  __int128 v97; // kr00_16
  double v99; // kr00_8
  float v100; // xmm9_4
  bool v101; // r14
  bool v102; // di
  float v103; // xmm8_4
  float v104; // xmm6_4
  float v105; // xmm7_4
  float v106; // xmm9_4
  float v107; // xmm10_4
  double v108; // xmm4_8
  double v109; // xmm5_8
  double v110; // xmm10_8
  double v115; // xmm0_8
  double v116; // xmm1_8
  double *v118; // rdx
  double *v119; // rax
  double *v120; // rcx
  double v121; // xmm2_8
  double v123; // xmm6_8
  double v124; // xmm7_8
  float v126; // xmm5_4
  double v129; // xmm6_8
  double v130; // xmm5_8
  __int128 v131; // kr00_16
  float v134; // xmm8_4
  float v139; // xmm7_4
  float v140; // kr00_4
  float v141; // xmm3_4
  float v142; // xmm8_4
  float v143; // xmm7_4
  __int64 v144; // rcx
  bool v145; // cl
  bool v146; // al
  __int128 v147; // kr00_16
  float v150; // xmm7_4
  __m128 v151; // xmm5
  float v152; // xmm6_4
  float *v153; // rax
  float v154; // xmm5_4
  float v155; // xmm0_4
  __m128 v156; // kr00_16
  float v159; // xmm1_4
  float X_1; // xmm4_4
  __m128 v161; // xmm7
  __m128 v162; // kr00_16
  float v163; // kr00_4
  float v164; // xmm0_4
  __m128 v165; // kr00_16
  float v168; // xmm1_4
  __m128 v169; // xmm0
  __m128 v170; // kr00_16
  float v171; // xmm2_4
  float v172; // xmm1_4
  float v173; // xmm3_4
  float v174; // xmm4_4
  float v175; // xmm5_4
  __m128 v176; // kr00_16
  float v179; // xmm1_4
  float v180; // xmm1_4
  float *v181; // rcx
  float *v182; // rax
  float *v183; // rdx
  float v184; // xmm6_4
  float v185; // xmm7_4
  double v186; // xmm0_8
  float v187; // ecx
  __int128 v189; // kr00_16
  float v190; // xmm2_4
  float v192; // xmm5_4
  float v193; // xmm6_4
  float v194; // kr00_4
  float v195; // xmm3_4
  float v196; // xmm2_4
  float v197; // xmm1_4
  float v198; // xmm3_4
  float v199; // xmm10_4
  __m128 v200; // kr00_16
  __int64 v201; // rcx
  bool v202; // cl
  bool v203; // al
  __int128 v204; // kr00_16
  float X_2; // xmm1_4
  float v208; // xmm9_4
  float v209; // xmm8_4
  float v210; // xmm6_4
  __m128 v211; // kr00_16
  float v212; // xmm7_4
  float v215; // xmm9_4
  float v216; // xmm10_4
  float v217; // xmm11_4
  float v218; // xmm12_4
  float Y_1; // xmm6_4
  double v220; // xmm0_8
  float v221; // xmm8_4
  __m128 v222; // kr00_16
  __m128 v223; // xmm4
  float v224; // xmm8_4
  float v225; // xmm9_4
  __int64 v226; // rcx
  float v227; // xmm1_4
  float v228; // xmm2_4
  __int64 v229; // rax
  float v230; // xmm12_4
  float v231; // xmm13_4
  float v232; // xmm14_4
  float v233; // xmm15_4
  __m128 v234; // kr00_16
  float v237; // xmm15_4
  __m128 v238; // kr00_16
  __int64 v241; // rax
  __int64 v242; // rax
  float v243; // xmm12_4
  __m128 v244; // kr00_16
  float v247; // xmm12_4
  __m128 v248; // kr00_16
  __m128 v249; // xmm1
  double v252; // kr00_8
  __int64 v253; // rdx
  __int128 v254; // kr00_16
  __int128 v255; // xmm2
  __int128 v256; // xmm1
  __int128 v257; // kr00_16
  __int128 v258; // xmm3
  __int128 v259; // kr00_16
  __int128 v260; // xmm2
  __int128 v261; // kr00_16
  __int128 v263; // kr00_16
  __int128 v265; // kr00_16
  float X; // xmm1_4
  float v269; // xmm9_4
  float v270; // xmm8_4
  __m128 v271; // kr00_16
  float v272; // xmm7_4
  float v273; // xmm6_4
  float v276; // xmm9_4
  float v277; // xmm10_4
  float v278; // xmm11_4
  float v279; // xmm12_4
  float Y; // xmm6_4
  double v281; // xmm0_8
  float v282; // xmm8_4
  __int64 v283; // rax
  double v284; // kr00_8
  __int64 v285; // rax
  __int64 v286; // rax
  unsigned int v287; // [rsp+30h] [rbp-D0h]
  float v288; // [rsp+30h] [rbp-D0h]
  float v289; // [rsp+30h] [rbp-D0h]
  float v290; // [rsp+34h] [rbp-CCh]
  float v291; // [rsp+34h] [rbp-CCh]
  float v292; // [rsp+38h] [rbp-C8h]
  float v293; // [rsp+38h] [rbp-C8h]
  float v294; // [rsp+38h] [rbp-C8h]
  float v295; // [rsp+38h] [rbp-C8h]
  float v296; // [rsp+3Ch] [rbp-C4h]
  float v297; // [rsp+3Ch] [rbp-C4h]
  float v298; // [rsp+40h] [rbp-C0h]
  float v299; // [rsp+44h] [rbp-BCh]
  float v300; // [rsp+48h] [rbp-B8h]
  float v301; // [rsp+48h] [rbp-B8h]
  float v302; // [rsp+4Ch] [rbp-B4h]
  float v303; // [rsp+4Ch] [rbp-B4h]
  float v304; // [rsp+50h] [rbp-B0h]
  float v305; // [rsp+50h] [rbp-B0h]
  float v306; // [rsp+54h] [rbp-ACh]
  float v307; // [rsp+54h] [rbp-ACh]
  float v308; // [rsp+54h] [rbp-ACh]
  float v309; // [rsp+54h] [rbp-ACh]
  float v310; // [rsp+58h] [rbp-A8h]
  float v311; // [rsp+5Ch] [rbp-A4h]
  float v312; // [rsp+5Ch] [rbp-A4h]
  float v313; // [rsp+60h] [rbp-A0h]
  float v314; // [rsp+60h] [rbp-A0h]
  float v315; // [rsp+68h] [rbp-98h] BYREF
  float v316; // [rsp+6Ch] [rbp-94h]
  float v317; // [rsp+70h] [rbp-90h]
  float v318; // [rsp+74h] [rbp-8Ch]
  float v319; // [rsp+78h] [rbp-88h]
  float v320; // [rsp+7Ch] [rbp-84h]
  float v321; // [rsp+80h] [rbp-80h]
  float v322; // [rsp+84h] [rbp-7Ch]
  float v323; // [rsp+88h] [rbp-78h]
  double v324; // [rsp+90h] [rbp-70h]
  float v325; // [rsp+98h] [rbp-68h]
  float v326; // [rsp+9Ch] [rbp-64h]
  float v327; // [rsp+A0h] [rbp-60h]
  float v328; // [rsp+A4h] [rbp-5Ch]
  float v329; // [rsp+A8h] [rbp-58h]
  float v330; // [rsp+ACh] [rbp-54h]
  __int128 v331; // [rsp+B0h] [rbp-50h] BYREF
  float v332; // [rsp+C0h] [rbp-40h]
  float v333; // [rsp+C4h] [rbp-3Ch]
  float v334; // [rsp+C8h] [rbp-38h]
  float v335; // [rsp+CCh] [rbp-34h]
  float v336; // [rsp+D0h] [rbp-30h]
  int v337; // [rsp+D4h] [rbp-2Ch]
  double v338; // [rsp+D8h] [rbp-28h]
  float v339; // [rsp+E0h] [rbp-20h]
  float v340; // [rsp+E8h] [rbp-18h]
  double v341; // [rsp+F0h] [rbp-10h]
  double v342; // [rsp+F8h] [rbp-8h]
  double v343; // [rsp+100h] [rbp+0h]
  float v344; // [rsp+108h] [rbp+8h]
  float v345; // [rsp+110h] [rbp+10h]
  float v346; // [rsp+114h] [rbp+14h]
  float v347; // [rsp+118h] [rbp+18h]
  float v348; // [rsp+11Ch] [rbp+1Ch]
  double v349; // [rsp+120h] [rbp+20h]
  double v350; // [rsp+128h] [rbp+28h]
  float v351; // [rsp+130h] [rbp+30h]
  float v352; // [rsp+134h] [rbp+34h]
  float v353; // [rsp+138h] [rbp+38h]
  double v354; // [rsp+140h] [rbp+40h]
  __int128 v355; // [rsp+148h] [rbp+48h] BYREF
  double v356; // [rsp+158h] [rbp+58h]
  int v357; // [rsp+160h] [rbp+60h] BYREF
  __int128 v358; // [rsp+168h] [rbp+68h]
  double v359; // [rsp+178h] [rbp+78h]
  float v360; // [rsp+180h] [rbp+80h]
  float v361; // [rsp+184h] [rbp+84h]
  float v362; // [rsp+188h] [rbp+88h]
  float v363; // [rsp+18Ch] [rbp+8Ch]
  unsigned int v364; // [rsp+190h] [rbp+90h]
  unsigned int v365; // [rsp+194h] [rbp+94h]
  int n0x300; // [rsp+198h] [rbp+98h]
  char v367; // [rsp+19Ch] [rbp+9Ch]
  __int64 v368; // [rsp+1A0h] [rbp+A0h]
  double v369; // [rsp+1B0h] [rbp+B0h]
  double v370; // [rsp+1B8h] [rbp+B8h]
  double v371; // [rsp+1C0h] [rbp+C0h]
  int n9; // [rsp+1C8h] [rbp+C8h] BYREF
  unsigned int v373; // [rsp+1CCh] [rbp+CCh]
  float v374; // [rsp+1D0h] [rbp+D0h]
  float v375; // [rsp+1D4h] [rbp+D4h]
  float v376; // [rsp+1D8h] [rbp+D8h]
  __int64 v377; // [rsp+1DCh] [rbp+DCh]
  float v378; // [rsp+1E4h] [rbp+E4h]
  float v379; // [rsp+1E8h] [rbp+E8h]
  unsigned int v380; // [rsp+1ECh] [rbp+ECh]
  unsigned int v381; // [rsp+1F0h] [rbp+F0h]
  double v382; // [rsp+1F8h] [rbp+F8h]
  double v383; // [rsp+200h] [rbp+100h]
  double v384; // [rsp+208h] [rbp+108h]
  float v385; // [rsp+210h] [rbp+110h]
  float v386[3]; // [rsp+214h] [rbp+114h] BYREF
  int v387; // [rsp+220h] [rbp+120h] BYREF
  unsigned __int64 v388; // [rsp+224h] [rbp+124h]
  int v389; // [rsp+22Ch] [rbp+12Ch]
  double v390; // [rsp+240h] [rbp+140h]
  double v391; // [rsp+248h] [rbp+148h]
  double v392; // [rsp+250h] [rbp+150h]
  float v393; // [rsp+258h] [rbp+158h]
  float v394; // [rsp+25Ch] [rbp+15Ch]
  float v395; // [rsp+260h] [rbp+160h]
  float v396; // [rsp+264h] [rbp+164h]
  unsigned int v397; // [rsp+268h] [rbp+168h]
  int v398; // [rsp+26Ch] [rbp+16Ch]
  unsigned __int64 v399; // [rsp+270h] [rbp+170h]
  float v400; // [rsp+278h] [rbp+178h]
  int v401; // [rsp+27Ch] [rbp+17Ch]
  float v402[4]; // [rsp+280h] [rbp+180h] BYREF
  __int128 v403; // [rsp+290h] [rbp+190h] BYREF
  double v404; // [rsp+2A0h] [rbp+1A0h]
  int n0x2800; // [rsp+2B0h] [rbp+1B0h] BYREF
  __int64 v406; // [rsp+2B4h] [rbp+1B4h]
  int v407; // [rsp+2BCh] [rbp+1BCh]
  __int64 v408; // [rsp+2C0h] [rbp+1C0h]
  unsigned __int64 v409; // [rsp+2C8h] [rbp+1C8h]
  __int64 v410; // [rsp+2D0h] [rbp+1D0h]
  __int64 v411; // [rsp+2D8h] [rbp+1D8h]
  double v412[3]; // [rsp+300h] [rbp+200h] BYREF
  double v413[3]; // [rsp+318h] [rbp+218h] BYREF
  int n8; // [rsp+330h] [rbp+230h] BYREF
  double v415; // [rsp+338h] [rbp+238h]
  __int128 v417; // [rsp+350h] [rbp+250h]
  __int128 v418; // [rsp+360h] [rbp+260h]
  __int128 v419; // [rsp+370h] [rbp+270h]
  __int128 v420; // [rsp+380h] [rbp+280h]
  __int128 v421; // [rsp+390h] [rbp+290h]
  __int128 v422; // [rsp+3A0h] [rbp+2A0h]
  float v423; // [rsp+3B0h] [rbp+2B0h]
  float v424; // [rsp+3B4h] [rbp+2B4h]
  float v425; // [rsp+3B8h] [rbp+2B8h]
  int v426; // [rsp+3BCh] [rbp+2BCh]
  __int128 v427; // [rsp+3C0h] [rbp+2C0h]
  int v428; // [rsp+3D0h] [rbp+2D0h]
  float v429; // [rsp+3D4h] [rbp+2D4h]
  unsigned int v430; // [rsp+3D8h] [rbp+2D8h]
  unsigned int v431; // [rsp+3DCh] [rbp+2DCh]
  char v432[16]; // [rsp+3E0h] [rbp+2E0h] BYREF
  double v433; // [rsp+3F0h] [rbp+2F0h]
  float v434; // [rsp+4E0h] [rbp+3E0h]
  float v435; // [rsp+4E0h] [rbp+3E0h]
  float v436; // [rsp+4E0h] [rbp+3E0h]
  float v437; // [rsp+4E0h] [rbp+3E0h]
  float v439; // [rsp+4F8h] [rbp+3F8h]

  n0x2800 = 0x2800;
  v406 = 0;
  v407 = 0;
  v409 = 0;
  v410 = 0;
  v411 = 0;
  v408 = 1;
  result = qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( !Parameter[0x11D] || !(unsigned __int8)sub_1468DA1E0(Parameter) )
    goto LABEL_185;
  v7 = Parameter[0xA0];
  LOBYTE(v6) = 0;
  n0x40 = 0;
  v9 = 0;
  do
  {
    if ( 1LL << n0x40 > v7 )
      break;
    if ( (v7 & (1LL << n0x40)) != 0 )
    {
      v6 = (unsigned __int8)v6;
      if ( (*(_DWORD *)(v9 + Parameter[0x9E] + 0x68) & 0x100) == 0 )
        v6 = 1;
    }
    ++n0x40;
    v9 += 0x100;
  }
  while ( n0x40 < 0x40 );
  v10 = Parameter[0x58];
  v11 = Parameter[0x11D];
  _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(v10 + 0x81928) - *(double *)(v11 + 0xC0));
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  if ( (_BYTE)v6 )
    *(_QWORD *)&result = 0x3F000000;
  else
    *(_QWORD *)&result = *(unsigned int *)(v10 + 0x188);
  if ( *(float *)&_XMM2 > *(float *)&result && *(_BYTE *)(v11 + 0x60) )
  {
    *(_BYTE *)(v11 + 0xBD) = 0;
    goto LABEL_185;
  }
  v14 = 0;
  v355 = *(_OWORD *)(v11 + 8);
  v356 = *(double *)(v11 + 0x18);
  v15 = *(double *)(v11 + 0x30);
  v16 = *(float *)(v11 + 0x38);
  LODWORD(_XMM14) = *(_DWORD *)(v11 + 0x2C);
  v318 = *(float *)&_XMM14;
  _XMM15.m128_i32[0] = *(_DWORD *)(v11 + 0x20);
  v315 = _XMM15.m128_f32[0];
  LODWORD(v19) = *(_DWORD *)(v11 + 0x24);
  v316 = *(float *)&v19;
  LODWORD(_XMM12) = *(_DWORD *)(v11 + 0x28);
  v317 = *(float *)&_XMM12;
  v338 = v15;
  v21 = *(double *)(v11 + 0x3C);
  v339 = v16;
  v22 = *(float *)(v11 + 0x44);
  v23.m128_i32[0] = 0;
  v24 = 0.0;
  v25 = 0.0;
  v343 = v21;
  v296 = 0.0;
  v290 = 0.0;
  v326 = 0.0;
  v344 = v22;
  v26.m128_i32[0] = 0;
  if ( *((_WORD *)Parameter + 0x472) || *((_WORD *)Parameter + 0x81) && *((char *)Parameter + 0x100) < 0 )
  {
    v47 = v339;
    v46 = *((float *)&v338 + 1);
    v41 = *(float *)&v338;
    v45 = *(float *)&v343;
    v299 = v344;
    v298 = *((float *)&v343 + 1);
    v434 = v339;
    v310 = *((float *)&v338 + 1);
    v319 = *(float *)&v338;
    v439 = *(float *)&v343;
  }
  else
  {
    v27 = _InterlockedIncrement64(Parameter + 0x119);
    if ( (v27 & 0x200000) != 0 )
      sub_1403CD0A0(
        Parameter + 0x119,
        v27,
        (__int64)"CRigidEntity::ApplyStateFromNetworkInternal",
        (__int64)"m_lockContacts",
        1);
    v28 = Parameter[0x9A];
    if ( (__int64 *)v28 == Parameter + 0x9A )
      goto LABEL_27;
    do
    {
      v29 = (__m128)*(unsigned int *)(v28 + 0xF8);
      v30 = v29;
      v30.m128_f32[0] = (float)(v29.m128_f32[0] * *(float *)(v28 + 0x70)) + v23.m128_f32[0];
      v23 = v30;
      v24 = (float)(v29.m128_f32[0] * *(float *)(v28 + 0x74)) + v24;
      v30.m128_f32[0] = v29.m128_f32[0] * *(float *)(v28 + 0x78);
      v28 = *(_QWORD *)v28;
      v14 |= v29.m128_f32[0] > 0.0099999998;
      v31 = v30.m128_f32[0] + v25;
      v25 = v31;
    }
    while ( (__int64 *)v28 != Parameter + 0x9A );
    v296 = v23.m128_f32[0];
    v290 = v24;
    v326 = v31;
    if ( !v14 )
    {
LABEL_27:
      v47 = v339;
      v46 = *((float *)&v338 + 1);
      v45 = *(float *)&v343;
      v41 = *(float *)&v338;
      v299 = v344;
      v44 = *((float *)&v343 + 1);
      v434 = v339;
      v310 = *((float *)&v338 + 1);
      v439 = *(float *)&v343;
    }
    else
    {
      v32 = v23;
      v32.m128_f32[0] = (float)((float)(v23.m128_f32[0] * v23.m128_f32[0]) + (float)(v24 * v24)) + (float)(v25 * v25);
      if ( v32.m128_f32[0] <= 9.9999997e-21 )
      {
        v290 = 0.0;
        v37 = 0.0;
        v36 = 0.0;
        v38 = 1.0;
      }
      else
      {
        _XMM0 = _mm_shuffle_ps(v32, v32, 0);
        __asm { vrsqrtps xmm3, xmm0 }
        _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
        v35 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v32.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
            * _XMM3.m128_f32[0];
        v36 = v24 * v35;
        v290 = v36;
        v37 = v23.m128_f32[0] * v35;
        v38 = v25 * v35;
      }
      v39 = Parameter[0x11D];
      v40 = (float)((float)(v36 * *((float *)&v338 + 1)) + (float)(v37 * *(float *)&v338)) + (float)(v38 * v339);
      v41 = *(float *)&v338 - (float)(v40 * v37);
      v310 = *((float *)&v338 + 1) - (float)(v40 * v36);
      v434 = v339 - (float)(v40 * v38);
      v42 = (float)((float)(v37 * *(float *)&v343) + (float)(v36 * *((float *)&v343 + 1))) + (float)(v38 * v344);
      v439 = v42 * v37;
      v43 = v42 * v38;
      v44 = v42 * v36;
      v45 = v42 * v37;
      v326 = v38;
      v46 = v310;
      v296 = v37;
      v47 = v434;
      v299 = v43;
      *(_BYTE *)(v39 + 0xBC) = 1;
    }
    v298 = v44;
    v319 = v41;
    v6 = _InterlockedDecrement64(Parameter + 0x119);
    if ( (v6 & 0x3FF) == 0 && (v6 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(Parameter + 0x119, v6);
    *(float *)&_XMM14 = v318;
    *(float *)&_XMM12 = v317;
    *(float *)&v19 = v316;
    _XMM15.m128_f32[0] = v315;
  }
  _XMM0 = 0;
  v387 = 1;
  v388 = 0xFFFFFFFFFFFFFFFFuLL;
  v367 = v367 & 0xF0 | 8;
  v49 = Parameter[0x17];
  v415 = 0.0;
  __asm { vmovupd [rbp+3D0h+var_190], xmm0 }
  v418 = 0;
  v420 = 0;
  v422 = 0;
  v427 = 0;
  *(_QWORD *)&result = 0x8000000000000008uLL;
  v368 = v49;
  v400 = 0.0;
  v423 = 0.0;
  v424 = 0.0;
  v425 = 0.0;
  v429 = 0.0;
  v389 = 0;
  v398 = 0;
  v401 = 0;
  v399 = 0xFFFFFFFFFFFFFFFFuLL;
  HIDWORD(v390) = 0xFFF7FFFF;
  v396 = NAN;
  v397 = 0xFFBFFFFF;
  v417 = 0;
  v419 = 0;
  v421 = 0;
  v426 = 0;
  v428 = 0;
  v430 = 0x80000000;
  v431 = 0x80000000;
  n8 = 8;
  v357 = 0;
  DWORD1(v358) = 0xFFF7FFFF;
  v364 = 0xFFBFFFFF;
  v363 = NAN;
  v365 = 0x80000000;
  v331 = xmmword_148325110;
  v334 = NAN;
  v337 = 0;
  n0x300 = 0x300;
  if ( *((_BYTE *)Parameter + 0x94C) || !*(_BYTE *)(Parameter[0x11D] + 0x60) && !a3 )
    goto LABEL_176;
  if ( !(*(unsigned int (__fastcall **)(__int64 *, int *, __int64))(*Parameter + 0x28))(Parameter, &n8, v9)
    || !(*(unsigned int (__fastcall **)(__int64 *, int *))(*Parameter + 0x28))(Parameter, &v387) )
  {
    *(float *)&_XMM14 = v318;
    *(float *)&_XMM12 = v317;
    *(float *)&v19 = v316;
    _XMM15.m128_f32[0] = v315;
LABEL_176:
    *((_BYTE *)Parameter + 0x94C) = 0;
    if ( !a3 || *(_BYTE *)(Parameter[0x11D] + 0x60) )
    {
      result = *(double *)&v355;
      v285 = *Parameter;
      v360 = _XMM15.m128_f32[0];
      v361 = *(float *)&v19;
      v362 = *(float *)&_XMM12;
      v363 = *(float *)&_XMM14;
      v358 = v355;
      v359 = v356;
      (*(void (__fastcall **)(__int64 *, int *, __int64))(v285 + 0x18))(Parameter, &v357, 1);
      if ( *(_BYTE *)(Parameter[0x11D] + 0x60) )
      {
        v286 = *Parameter;
        v335 = v298;
        *(_QWORD *)&result = LODWORD(v299);
        v336 = v299;
        *((float *)&v331 + 3) = v41;
        v332 = v46;
        v333 = v47;
        v334 = v45;
        (*(void (__fastcall **)(__int64 *, __int128 *, __int64))(v286 + 0x30))(Parameter, &v331, 1);
      }
      else
      {
        *((_WORD *)Parameter + 0x80) &= ~0x10u;
      }
      Parameter[0x123] = 0;
      Parameter[0x124] = 0;
      Parameter[0x125] = 0;
      Parameter[0x120] = 0;
      Parameter[0x121] = 0;
      Parameter[0x122] = 0;
      *(__int64 *)((char *)Parameter + 0x93C) = 0;
      *((_DWORD *)Parameter + 0x251) = 0;
      Parameter[0x126] = 0;
      *((_DWORD *)Parameter + 0x24E) = 0;
    }
    if ( !*((_DWORD *)Parameter + 0x12B) )
      (*(void (__fastcall **)(__int64 *, unsigned __int64, __int128 *, float *))(*Parameter + 0x320))(
        Parameter,
        v6,
        &v355,
        &v315);
    *(_BYTE *)(Parameter[0x11D] + 0xBD) = 0;
    goto LABEL_185;
  }
  v50 = v393;
  v369 = v390;
  v324 = v390;
  v347 = *(float *)&v417;
  v370 = v391;
  v341 = v391;
  v348 = *((float *)&v417 + 1);
  v371 = v392;
  v383 = v392;
  v328 = *((float *)&v417 + 2);
  v321 = v393;
  if ( (LODWORD(v393) & 0x7F800000) == 0x7F800000
    || (v51 = v394, v322 = v394, (LODWORD(v394) & 0x7F800000) == 0x7F800000)
    || (v52 = v395, v323 = v395, (LODWORD(v395) & 0x7F800000) == 0x7F800000)
    || (v53 = v396, v320 = v396, (LODWORD(v396) & 0x7F800000) == 0x7F800000)
    || fabs(
         1.0
       - (float)((float)((float)(v393 * v393) + (float)(v396 * v396))
               + (float)((float)(v395 * v395) + (float)(v394 * v394)))) >= 0.001 )
  {
    v54 = (const char *)Parameter[0x1A];
    v393 = 0.0;
    v394 = 0.0;
    v395 = 0.0;
    v396 = 1.0;
    sub_1405C22C0(0xEu, 2u, "Current rotation for entity %s was 0! Defaulting to identity.", v54);
    v53 = v396;
    v52 = v395;
    v51 = v394;
    v50 = v393;
    v371 = v392;
    v370 = v391;
    v369 = v390;
    v320 = v396;
    v323 = v395;
    v322 = v394;
    v321 = v393;
  }
  v351 = *((float *)&v417 + 3);
  v352 = *(float *)&v418;
  v353 = *((float *)&v418 + 1);
  v325 = v53;
  v304 = v50;
  v302 = v51;
  v300 = v52;
  if ( *(float *)&_XMM2 == 0.0 )
  {
    *(float *)&_XMM14 = v318;
    *(float *)&_XMM12 = v317;
    v19 = LODWORD(v316);
    _XMM15 = (__m128)LODWORD(v315);
    v350 = v356;
    v342 = *((double *)&v355 + 1);
    v64 = *(double *)&v355;
    v349 = *(double *)&v355;
  }
  else
  {
    v342 = (float)(v46 * *(float *)&_XMM2) + *((double *)&v355 + 1);
    *((double *)&v355 + 1) = v342;
    v412[0] = v439;
    v350 = (float)(*(float *)&_XMM2 * v434) + v356;
    v356 = v350;
    v412[2] = v299;
    *(double *)&v355 = (float)(v41 * *(float *)&_XMM2) + *(double *)&v355;
    v349 = *(double *)&v355;
    v412[1] = v298;
    v55 = (double *)sub_1467659C0((__int64)v432, v412, *(float *)&_XMM2);
    v56 = v55[3];
    v57 = v55[1];
    v58 = v55[2];
    _XMM0 = COERCE_UNSIGNED_INT64(v56 * v318 - (*v55 * v315 + v57 * v316 + v58 * v317));
    __asm { vcvtsd2ss xmm14, xmm0, xmm0 }
    _XMM2 = COERCE_UNSIGNED_INT64(v317 * v57 - v58 * v316 + v315 * v56 + *v55 * v318);
    __asm { vcvtsd2ss xmm15, xmm2, xmm2 }
    _XMM2 = COERCE_UNSIGNED_INT64(v58 * v315 - v317 * *v55 + v316 * v56 + v57 * v318);
    __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
    v287 = _XMM1;
    *(double *)&_XMM1 = v317 * v56;
    v19 = v287;
    _XMM2 = COERCE_UNSIGNED_INT64(*v55 * v316 - v315 * v57 + *(double *)&_XMM1 + v58 * v318);
    v64 = *(double *)&v355;
    __asm { vcvtsd2ss xmm12, xmm2, xmm2 }
    v317 = *(float *)&_XMM12;
    v315 = _XMM15.m128_f32[0];
    v316 = *(float *)&v287;
    v318 = *(float *)&_XMM14;
  }
  _XMM2 = COERCE_UNSIGNED_INT64((v342 - v341) * (v342 - v341) + (v64 - v324) * (v64 - v324) + (v350 - v383)
                                                                                            * (v350 - v383));
  __asm { vmovddup xmm0, xmm2 }
  __asm
  {
    vsqrtpd xmm3, xmm0
    vunpckhpd xmm3, xmm3, xmm3
    vcvtsd2ss xmm0, xmm3, xmm3
  }
  v311 = *(float *)&_XMM0;
  v70 = (float)(v325 * *(float *)&_XMM14)
      - (float)((float)((float)(_XMM15.m128_f32[0] * COERCE_FLOAT(LODWORD(v50) ^ 0x80000000))
                      + (float)(*(float *)&v19 * COERCE_FLOAT(LODWORD(v51) ^ 0x80000000)))
              + (float)(*(float *)&_XMM12 * COERCE_FLOAT(LODWORD(v300) ^ 0x80000000)));
  v71 = (float)((float)((float)(*(float *)&v19 * COERCE_FLOAT(LODWORD(v300) ^ 0x80000000))
                      - (float)(*(float *)&_XMM12 * COERCE_FLOAT(LODWORD(v51) ^ 0x80000000)))
              + (float)(COERCE_FLOAT(LODWORD(v50) ^ 0x80000000) * *(float *)&_XMM14))
      + (float)(_XMM15.m128_f32[0] * v325);
  v72 = (float)((float)((float)(*(float *)&_XMM12 * COERCE_FLOAT(LODWORD(v50) ^ 0x80000000))
                      - (float)(_XMM15.m128_f32[0] * COERCE_FLOAT(LODWORD(v300) ^ 0x80000000)))
              + (float)(COERCE_FLOAT(LODWORD(v51) ^ 0x80000000) * *(float *)&_XMM14))
      + (float)(*(float *)&v19 * v325);
  v73 = _XMM15;
  v73.m128_f32[0] = (float)((float)((float)(_XMM15.m128_f32[0] * COERCE_FLOAT(LODWORD(v51) ^ 0x80000000))
                                  - (float)(*(float *)&v19 * COERCE_FLOAT(LODWORD(v50) ^ 0x80000000)))
                          + (float)(*(float *)&_XMM14 * COERCE_FLOAT(LODWORD(v300) ^ 0x80000000)))
                  + (float)(*(float *)&_XMM12 * v325);
  v73.m128_f32[0] = (float)((float)(v73.m128_f32[0] * v73.m128_f32[0]) + (float)(v72 * v72))
                  + (float)((float)(v71 * v71) + (float)(v70 * v70));
  _XMM3 = _mm_shuffle_ps(v73, v73, 0);
  __asm { vrsqrtps xmm4, xmm3 }
  _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
  *(float *)&_XMM0 = acosf(
                       fabs(
                         (float)((float)(1.5
                                       - (float)((float)((float)(_XMM4.m128_f32[0] * v73.m128_f32[0]) * _XMM4.m128_f32[0])
                                               * 0.5))
                               * _XMM4.m128_f32[0])
                       * v70));
  v76 = Parameter[0x58];
  _XMM1 = *(unsigned int *)(v76 + 0x190);
  v345 = fabs(*(float *)&_XMM0 + *(float *)&_XMM0);
  _XMM0 = *(unsigned int *)(v76 + 0x18C);
  __asm { vmaxss  xmm0, xmm0, xmm5 }
  v313 = *(float *)&_XMM0;
  __asm { vmaxss  xmm0, xmm1, cs:dword_1480EA6A8 }
  _XMM1 = *(unsigned int *)(v76 + 0x198);
  v82 = Parameter[0x11D];
  v346 = *(float *)&_XMM0;
  _XMM0 = *(unsigned int *)(v76 + 0x194);
  __asm { vmaxss  xmm0, xmm0, xmm5 }
  v288 = *(float *)&_XMM0;
  __asm { vmaxss  xmm0, xmm1, xmm5 }
  v330 = *(float *)&_XMM0;
  v385 = *(float *)(v76 + 0x1A0);
  v87 = LODWORD(a2);
  *(float *)&v87 = a2 / v385;
  _XMM0 = v87;
  __asm { vminss  xmm4, xmm0, xmm5 }
  v340 = *(float *)&_XMM4;
  if ( *(_BYTE *)(v82 + 0xBC) )
  {
    *(_BYTE *)(v82 + 0xBC) = 0;
    *(_BYTE *)(Parameter[0x11D] + 0xBD) = 0;
    v76 = Parameter[0x58];
    v89 = v396;
    v90 = v395;
    v91 = v394;
    v92 = *(_QWORD *)(v76 + 0x81928);
    v93 = v393;
    *(float *)&_XMM14 = v318;
    *(float *)&_XMM12 = v317;
    v19 = LODWORD(v316);
    _XMM15.m128_f32[0] = v315;
    v350 = v356;
    v342 = *((double *)&v355 + 1);
    v349 = *(double *)&v355;
    v371 = v392;
    v370 = v391;
    v369 = v390;
    v320 = v396;
    v323 = v395;
    v322 = v394;
    v321 = v393;
    Parameter[0x11F] = v92;
  }
  else
  {
    v89 = v320;
    v90 = v323;
    v91 = v322;
    v93 = v321;
  }
  _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(v76 + 0x81928) - *((double *)Parameter + 0x11F));
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  v97 = _XMM2;
  *(float *)&v97 = *(float *)&_XMM2 / *(float *)(v76 + 0x1AC);
  _XMM0 = v97;
  if ( *(float *)&v97 >= 0.0 )
    __asm { vminss  xmm1, xmm0, xmm5 }
  else
    LODWORD(_XMM1) = 0;
  HIDWORD(v99) = 0;
  *(float *)&v99 = (float)(1.0 - *(float *)&_XMM1) * *(float *)(v76 + 0x1A8);
  result = v99;
  v100 = *(float *)&v99 + *(float *)&_XMM1;
  v327 = *(float *)&v99 + *(float *)&_XMM1;
  if ( !*(_DWORD *)(v76 + 0x1A4) || a2 <= 0.0 )
  {
    if ( v311 < v313 )
    {
      *(_QWORD *)&result = LODWORD(v345);
      if ( v345 < v346 )
      {
        v254 = LODWORD(v345);
        *(float *)&v254 = (float)((float)(v345 * v330) / v346) + 1.0;
        v255 = v254;
        v257 = LODWORD(v288);
        *(float *)&v257 = v288 * v311;
        v256 = v257;
        v259 = v255;
        *(float *)&v259 = *(float *)&v255 * v100;
        v258 = v259;
        v261 = v256;
        *(float *)&v261 = *(float *)&v256 / v313;
        v260 = v261;
        v263 = v258;
        *(float *)&v263 = *(float *)&v258 * *(float *)&_XMM4;
        _XMM0 = v263;
        __asm { vminss  xmm0, xmm0, xmm5 }
        v330 = *(float *)&_XMM0;
        v265 = v260;
        *(float *)&v265 = (float)((float)(*(float *)&v260 + 1.0) * v100) * *(float *)&_XMM4;
        _XMM1 = v265;
        __asm { vminss  xmm2, xmm1, xmm5 }
        *(double *)&v358 = (v349 - v369) * *(float *)&_XMM2 + v369;
        *((double *)&v358 + 1) = (v342 - v370) * *(float *)&_XMM2 + v370;
        v359 = (v350 - v371) * *(float *)&_XMM2 + v371;
        X = (float)((float)(v89 * *(float *)&_XMM14) + (float)(v90 * *(float *)&_XMM12))
          + (float)((float)(v93 * _XMM15.m128_f32[0]) + (float)(v91 * *(float *)&v19));
        if ( X < 0.0 )
        {
          X = -(float)((float)((float)(v89 * *(float *)&_XMM14) + (float)(v90 * *(float *)&_XMM12))
                     + (float)((float)(v93 * _XMM15.m128_f32[0]) + (float)(v91 * *(float *)&v19)));
          LODWORD(_XMM14) = _XMM14 ^ 0x80000000;
          _XMM15.m128_i32[0] ^= 0x80000000;
          LODWORD(v19) = v19 ^ 0x80000000;
          LODWORD(_XMM12) = _XMM12 ^ 0x80000000;
        }
        if ( X <= 0.99989998 )
        {
          v276 = *(float *)&_XMM14 - (float)(v89 * X);
          v277 = _XMM15.m128_f32[0] - (float)(v93 * X);
          v278 = *(float *)&v19 - (float)(v91 * X);
          v279 = *(float *)&_XMM12 - (float)(v90 * X);
          Y = fsqrt(
                (float)((float)(v278 * v278) + (float)(v277 * v277))
              + (float)((float)(v279 * v279) + (float)(v276 * v276)));
          atan2f(Y, X);
          v281 = _libm_sse2_sincosf_();
          v282 = _mm_shuffle_ps((__m128)*(unsigned __int64 *)&v281, (__m128)*(unsigned __int64 *)&v281, 1).m128_f32[0];
          v363 = (float)((float)(*(float *)&v281 * v276) * (float)(1.0 / Y)) + (float)(v282 * v320);
          v360 = (float)((float)(*(float *)&v281 * v277) * (float)(1.0 / Y)) + (float)(v282 * v321);
          v361 = (float)((float)(*(float *)&v281 * v278) * (float)(1.0 / Y)) + (float)(v282 * v322);
          v362 = (float)((float)(*(float *)&v281 * v279) * (float)(1.0 / Y)) + (float)(v282 * v323);
        }
        else
        {
          if ( (float)((float)((float)(v90 * *(float *)&_XMM12) + (float)(v89 * *(float *)&_XMM14))
                     + (float)((float)(v91 * *(float *)&v19) + (float)(v93 * _XMM15.m128_f32[0]))) < 0.0 )
          {
            LODWORD(_XMM14) = _XMM14 ^ 0x80000000;
            _XMM15.m128_i32[0] ^= 0x80000000;
            LODWORD(v19) = v19 ^ 0x80000000;
            LODWORD(_XMM12) = _XMM12 ^ 0x80000000;
          }
          v269 = (float)(v330 * _XMM15.m128_f32[0]) + (float)(v93 * (float)(1.0 - v330));
          v270 = (float)(v330 * *(float *)&v19) + (float)(v91 * (float)(1.0 - v330));
          v271 = (__m128)LODWORD(v330);
          v272 = (float)(v330 * *(float *)&_XMM12) + (float)(v90 * (float)(1.0 - v330));
          v273 = (float)(v89 * (float)(1.0 - v330)) + (float)(v330 * *(float *)&_XMM14);
          v271.m128_f32[0] = (float)((float)(v272 * v272) + (float)(v270 * v270))
                           + (float)((float)(v273 * v273) + (float)(v269 * v269));
          _XMM3 = _mm_shuffle_ps(v271, v271, 0);
          __asm { vrsqrtps xmm4, xmm3 }
          _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
          _XMM3.m128_f32[0] = (float)(1.5
                                    - (float)((float)((float)(_XMM4.m128_f32[0] * v271.m128_f32[0]) * _XMM4.m128_f32[0])
                                            * 0.5))
                            * _XMM4.m128_f32[0];
          v363 = v273 * _XMM3.m128_f32[0];
          v360 = v269 * _XMM3.m128_f32[0];
          v361 = v270 * _XMM3.m128_f32[0];
          v362 = v272 * _XMM3.m128_f32[0];
        }
        v283 = *Parameter;
        v333 = (float)((float)(v434 - v328) * v340) + v328;
        v332 = (float)((float)(v310 - v348) * v340) + v348;
        *((float *)&v331 + 3) = (float)((float)(v319 - v347) * v340) + v347;
        *(_QWORD *)&v284 = LODWORD(v299);
        *(float *)&v284 = (float)((float)(v299 - v353) * v340) + v353;
        result = v284;
        v336 = *(float *)&v284;
        v334 = (float)((float)(v439 - v351) * v340) + v351;
        v335 = (float)((float)(v298 - v352) * v340) + v352;
        (*(void (__fastcall **)(__int64 *, int *, __int64))(v283 + 0x18))(Parameter, &v357, 1);
        (*(void (__fastcall **)(__int64 *, __int128 *, __int64))(*Parameter + 0x30))(Parameter, &v331, 1);
        goto LABEL_172;
      }
    }
    v41 = v319;
    v46 = v310;
    v47 = v434;
    v45 = v439;
    goto LABEL_176;
  }
  v101 = v311 > (float)(v313 * 100.0);
  v102 = (float)(*(float *)&v99 + *(float *)&_XMM1) == 1.0 && v345 > v346;
  n9 = 9;
  v373 = 0x80000000;
  v374 = NAN;
  LODWORD(v377) = 0xFFBFFFFF;
  v379 = NAN;
  v380 = 0x80000000;
  v381 = 0x80000000;
  if ( v311 > (float)(v313 * 100.0) )
  {
    v103 = v319;
    v104 = v310;
    v105 = v434;
    v106 = v296;
    v107 = v290;
    v358 = v355;
    v359 = v356;
LABEL_85:
    *((float *)&v331 + 3) = v103;
    v332 = v104;
    v333 = v105;
    Parameter[0x123] = 0;
    Parameter[0x124] = 0;
    Parameter[0x125] = 0;
    Parameter[0x120] = 0;
    Parameter[0x121] = 0;
    Parameter[0x122] = 0;
    *(float *)&v341 = v105;
    *(float *)&v354 = v104;
    v329 = v103;
    goto LABEL_86;
  }
  v329 = *(float *)(v76 + 0x1B0);
  v292 = *(float *)(v76 + 0x1B4);
  v306 = *(float *)(v76 + 0x1B8);
  v108 = v324 - v349;
  v109 = v341 - v342;
  v110 = v383 - v350;
  _XMM0 = COERCE_UNSIGNED_INT64(v109 * v109 + v108 * v108 + v110 * v110);
  v433 = v383 - v350;
  if ( v109 * v109 + v108 * v108 + v110 * v110 <= 0.0 )
  {
    v343 = *(double *)&src__0;
    v382 = *((double *)&src__0 + 1);
    v115 = *(double *)&qword_1497E9030;
  }
  else
  {
    __asm
    {
      vmovddup xmm0, xmm0
      vsqrtpd xmm1, xmm0
      vunpckhpd xmm1, xmm1, xmm1
    }
    v343 = 1.0 / *(double *)&_XMM1 * v108;
    v382 = 1.0 / *(double *)&_XMM1 * v109;
    v115 = 1.0 / *(double *)&_XMM1 * v110;
  }
  v116 = *((double *)Parameter + 0x123);
  v384 = v115;
  v338 = v116;
  if ( v116 == 0.0 && *((double *)Parameter + 0x124) == 0.0 && *((double *)Parameter + 0x125) == 0.0 )
  {
    _XMM0 = 0;
    __asm { vmovupd [rbp+3D0h+var_240], xmm0 }
    v354 = a2;
    v404 = 0.0;
    v118 = (double *)&v403;
    v119 = (double *)(Parameter + 0x124);
    v120 = (double *)(Parameter + 0x125);
  }
  else
  {
    v121 = 1.0 / a2;
    v354 = a2;
    v413[0] = (v108 - v116) * v121;
    v119 = (double *)(Parameter + 0x124);
    v413[1] = (v109 - *((double *)Parameter + 0x124)) * v121;
    v120 = (double *)(Parameter + 0x125);
    v413[2] = (v110 - *((double *)Parameter + 0x125)) * v121;
    v116 = v338;
    v118 = v413;
  }
  _XMM8 = *(_OWORD *)v118;
  v123 = *v119;
  v124 = *v120;
  v404 = v118[2];
  *((double *)Parameter + 0x120) = (v108 + v116) * 0.5 * v354 + *((double *)Parameter + 0x120);
  *((double *)Parameter + 0x121) = (v341 - v342 + v123) * 0.5 * v354 + *((double *)Parameter + 0x121);
  *((double *)Parameter + 0x122) = (v110 + v124) * 0.5 * v354 + *((double *)Parameter + 0x122);
  _XMM4 = COERCE_UNSIGNED_INT64(v324 - v349);
  v126 = v329;
  __asm { vunpcklpd xmm0, xmm4, xmm0 }
  *(_OWORD *)(Parameter + 0x123) = _XMM0;
  *((double *)Parameter + 0x125) = v433;
  __asm { vunpckhpd xmm0, xmm8, xmm8 }
  v129 = (*(double *)&_XMM0 * v382 + *(double *)&_XMM8 * v343 + v404 * v384) * v306;
  v130 = v126;
  *((_QWORD *)&v131 + 1) = *((_QWORD *)&_XMM4 + 1);
  *(double *)&v131 = *(double *)&_XMM4 * v130 + v129 * v343 + v292 * *((double *)Parameter + 0x120);
  _XMM0 = v131 ^ 0x8000000000000000uLL;
  __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
  v134 = (float)(*(float *)&_XMM1 * v100) * a2;
  _XMM0 = COERCE_UNSIGNED_INT64((v341 - v342) * v130 + v129 * v382 + v292 * *((double *)Parameter + 0x121))
        ^ (unsigned __int128)0x8000000000000000uLL;
  __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
  *(double *)&_XMM1 = v292 * *((double *)Parameter + 0x122);
  *(float *)&v324 = (float)(*(float *)&_XMM3 * v100) * a2;
  _XMM0 = COERCE_UNSIGNED_INT64((v383 - v350) * v130 + v129 * v384 + *(double *)&_XMM1)
        ^ (unsigned __int128)0x8000000000000000uLL;
  __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
  v140 = (float)(*(float *)&_XMM3 * v100) * a2;
  v139 = v140;
  v293 = v140;
  v307 = v134;
  v107 = v290;
  v106 = v296;
  if ( v14 )
  {
    v141 = (float)((float)(v290 * *(float *)&v324) + (float)(v134 * v296)) + (float)(v140 * v326);
    v134 = v134 - (float)(v141 * v296);
    v139 = v140 - (float)(v141 * v326);
    v293 = v139;
    v307 = v134;
    *(float *)&v324 = *(float *)&v324 - (float)(v141 * v290);
  }
  v142 = (float)((float)((float)(v319 - v347) * v327) + v347) + v134;
  v143 = (float)((float)((float)(v434 - v328) * v327) + v328) + v139;
  v329 = v142;
  *(float *)&v354 = (float)((float)((float)(v310 - v348) * v327) + v348) + *(float *)&v324;
  *(float *)&v341 = v143;
  *((float *)&v331 + 3) = v142;
  v332 = *(float *)&v354;
  v333 = v143;
  v145 = 0;
  if ( (float)((float)((float)(v310 * v310) + (float)(v319 * v319)) + (float)(v434 * v434)) < 0.0099999998 )
  {
    v144 = Parameter[0x11D];
    if ( (*(_DWORD *)(v144 + 0x48) & 0xFFA00000) == 0xFFA00000
      || (float)((float)((float)(*(float *)(v144 + 0x4C) * *(float *)(v144 + 0x4C))
                       + (float)(*(float *)(v144 + 0x48) * *(float *)(v144 + 0x48)))
               + (float)(*(float *)(v144 + 0x50) * *(float *)(v144 + 0x50))) < 0.0099999998 )
    {
      v145 = 1;
    }
  }
  v146 = (LODWORD(v142) & 0x7F800000) != 0x7F800000
      && (COERCE_UNSIGNED_INT((float)((float)((float)(v310 - v348) * v327) + v348) + *(float *)&v324) & 0x7F800000) != 0x7F800000
      && (LODWORD(v143) & 0x7F800000) != 0x7F800000;
  if ( v145
    || (float)((float)((float)(v307 * v307) + (float)(*(float *)&v324 * *(float *)&v324)) + (float)(v293 * v293)) > (float)((float)((float)((float)(1.0 / a2) * (float)(1.0 / a2)) * 0.25) * (float)(v311 * v311))
    || !v146 )
  {
    v147 = LODWORD(v311);
    *(float *)&v147 = (float)((float)((float)((float)(v311 * v288) / v313) + 1.0) * v327) * v340;
    _XMM0 = v147;
    __asm { vminss  xmm1, xmm0, xmm5 }
    *(double *)&v358 = (v349 - v369) * *(float *)&_XMM1 + v369;
    *((double *)&v358 + 1) = (v342 - v370) * *(float *)&_XMM1 + v370;
    v359 = (v350 - v371) * *(float *)&_XMM1 + v371;
    v103 = (float)((float)(v319 - v347) * (float)(v327 * v340)) + v347;
    v104 = (float)((float)(v310 - v348) * (float)(v327 * v340)) + v348;
    v105 = (float)((float)(v434 - v328) * (float)(v327 * v340)) + v328;
    v101 = 1;
    goto LABEL_85;
  }
LABEL_86:
  if ( v102 )
  {
    v150 = v439;
    v151 = (__m128)LODWORD(v298);
    v152 = v299;
    v360 = _XMM15.m128_f32[0];
    v361 = *(float *)&v19;
    v362 = *(float *)&_XMM12;
    v363 = *(float *)&_XMM14;
LABEL_126:
    v334 = v150;
    v335 = v151.m128_f32[0];
    v336 = v152;
    *(__int64 *)((char *)Parameter + 0x93C) = 0;
    *((_DWORD *)Parameter + 0x251) = 0;
    Parameter[0x126] = 0;
    *((_DWORD *)Parameter + 0x24E) = 0;
    goto LABEL_127;
  }
  v153 = (float *)Parameter[0x58];
  v291 = v153[0x6F];
  v297 = v153[0x70];
  v328 = v153[0x71];
  v289 = (float)((float)((float)(COERCE_FLOAT(_XMM12 ^ 0x80000000) * v302)
                       - (float)(COERCE_FLOAT(v19 ^ 0x80000000) * v300))
               + (float)(COERCE_FLOAT(_XMM15.m128_i32[0] ^ 0x80000000) * v325))
       + (float)(*(float *)&_XMM14 * v304);
  v435 = (float)((float)((float)(COERCE_FLOAT(_XMM15.m128_i32[0] ^ 0x80000000) * v300)
                       - (float)(COERCE_FLOAT(_XMM12 ^ 0x80000000) * v304))
               + (float)(COERCE_FLOAT(v19 ^ 0x80000000) * v325))
       + (float)(*(float *)&_XMM14 * v302);
  v156 = (__m128)(v19 ^ 0x80000000);
  v154 = (float)(*(float *)&_XMM14 * v325)
       - (float)((float)((float)(COERCE_FLOAT(_XMM15.m128_i32[0] ^ 0x80000000) * v304)
                       + (float)(COERCE_FLOAT(v19 ^ 0x80000000) * v302))
               + (float)(COERCE_FLOAT(_XMM12 ^ 0x80000000) * v300));
  v155 = (float)((float)((float)(COERCE_FLOAT(v19 ^ 0x80000000) * v304)
                       - (float)(COERCE_FLOAT(_XMM15.m128_i32[0] ^ 0x80000000) * v302))
               + (float)(COERCE_FLOAT(_XMM12 ^ 0x80000000) * v325))
       + (float)(*(float *)&_XMM14 * v300);
  v308 = v155;
  *(float *)&v324 = *(float *)&dword_1497E7100;
  v303 = *((float *)&src_ + 1);
  v156.m128_f32[0] = (float)((float)(v155 * v155) + (float)(v435 * v435))
                   + (float)((float)(v289 * v289) + (float)(v154 * v154));
  v305 = *(float *)&src_;
  if ( v156.m128_f32[0] <= 0.0000000099999999 )
  {
    v436 = 0.0;
  }
  else
  {
    _XMM0 = _mm_shuffle_ps(v156, v156, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v159 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v156.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
         * _XMM3.m128_f32[0];
    X_1 = v154 * v159;
    v162 = (__m128)LODWORD(v289);
    v162.m128_f32[0] = v289 * v159;
    v161 = v162;
    v163 = v159 * v308;
    v309 = v159 * v308;
    v294 = v159 * v435;
    if ( (float)(v154 * v159) < 0.0 )
    {
      v294 = -(float)(v159 * v435);
      LODWORD(v309) = LODWORD(v163) ^ 0x80000000;
      X_1 = -(float)(v154 * v159);
      *(_OWORD *)&v161 ^= 0x80000000;
    }
    v164 = acosf(X_1);
    v165 = v161;
    v436 = v164 + v164;
    v165.m128_f32[0] = (float)((float)(v161.m128_f32[0] * v161.m128_f32[0]) + (float)(v294 * v294))
                     + (float)(v309 * v309);
    if ( v165.m128_f32[0] > 0.00000011920929 )
    {
      _XMM0 = _mm_shuffle_ps(v165, v165, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      v168 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v165.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
           * _XMM3.m128_f32[0];
      v170 = (__m128)LODWORD(v294);
      v170.m128_f32[0] = v294 * v168;
      v169 = v170;
      v171 = v309 * v168;
      v172 = v161.m128_f32[0] * v168;
      goto LABEL_95;
    }
  }
  v169 = (__m128)LODWORD(v303);
  v171 = *(float *)&v324;
  v172 = v305;
LABEL_95:
  v173 = v172 * v436;
  v314 = v172;
  v176 = v169;
  v174 = v169.m128_f32[0] * v436;
  v175 = v171 * v436;
  v312 = v169.m128_f32[0];
  v301 = v171;
  v176.m128_f32[0] = (float)((float)(v174 * v174) + (float)(v173 * v173)) + (float)(v175 * v175);
  if ( v176.m128_f32[0] > 0.00000011920929 )
  {
    _XMM0 = _mm_shuffle_ps(v176, v176, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v179 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v176.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
         * _XMM3.m128_f32[0];
    v173 = v436 * v314;
    v305 = v179 * (float)(v436 * v314);
    v303 = v179 * v174;
    *(float *)&v324 = v179 * v175;
  }
  v180 = *((float *)Parameter + 0x24F);
  if ( v180 == 0.0 && *((float *)Parameter + 0x250) == 0.0 && *((float *)Parameter + 0x251) == 0.0 )
  {
    v402[0] = 0.0;
    v402[1] = 0.0;
    v402[2] = 0.0;
    v181 = v402;
    v182 = (float *)(Parameter + 0x128);
    v183 = (float *)Parameter + 0x251;
  }
  else
  {
    v386[0] = (float)(v173 - v180) * (float)(1.0 / a2);
    v182 = (float *)(Parameter + 0x128);
    v386[1] = (float)(v174 - *((float *)Parameter + 0x250)) * (float)(1.0 / a2);
    v183 = (float *)Parameter + 0x251;
    v386[2] = (float)(v175 - *((float *)Parameter + 0x251)) * (float)(1.0 / a2);
    v181 = v386;
  }
  v184 = *v182;
  v185 = *v183;
  v186 = *(double *)v181;
  v187 = v181[2];
  v338 = v186;
  *((float *)Parameter + 0x24C) = (float)((float)((float)(v173 + v180) * 0.5) * a2) + *((float *)Parameter + 0x24C);
  *((float *)Parameter + 0x24D) = (float)((float)((float)((float)(v436 * v312) + v184) * 0.5) * a2)
                                + *((float *)Parameter + 0x24D);
  *((float *)Parameter + 0x24E) = (float)((float)((float)((float)(v436 * v171) + v185) * 0.5) * a2)
                                + *((float *)Parameter + 0x24E);
  v189 = LODWORD(v436);
  *(float *)&v189 = v436 * v314;
  _XMM6 = v189;
  v190 = *(float *)&v338 * v305;
  __asm { vunpcklps xmm0, xmm6, xmm7 }
  *(__int64 *)((char *)Parameter + 0x93C) = *(__int64 *)&_XMM0;
  *(float *)&v189 = *((float *)&v338 + 1) * v303;
  *((float *)Parameter + 0x251) = v436 * v301;
  v192 = (float)((float)(*(float *)&v189 + v190) + (float)(v187 * *(float *)&v324)) * v328;
  v193 = (float)((float)-(float)((float)((float)(v192 * v305) + (float)(*(float *)&_XMM6 * v291))
                               + (float)(v297 * *((float *)Parameter + 0x24C)))
               * v327)
       * a2;
  v194 = (float)((float)-(float)((float)((float)(v192 * v303) + (float)((float)(v436 * v312) * v291))
                               + (float)(v297 * *((float *)Parameter + 0x24D)))
               * v327)
       * a2;
  v195 = (float)((float)-(float)((float)((float)(v192 * *(float *)&v324) + (float)((float)(v436 * v301) * v291))
                               + (float)(v297 * *((float *)Parameter + 0x24E)))
               * v327)
       * a2;
  v437 = v195;
  v295 = v193;
  if ( v14 )
  {
    v196 = (float)(v194 * v107) + (float)(v106 * v193);
    v197 = v195 * v326;
    v198 = v196 + (float)(v195 * v326);
    v193 = (float)(v196 + v197) * v106;
    v199 = v198 * v107;
    v195 = v198 * v326;
    v437 = v195;
    v295 = v193;
  }
  else
  {
    v199 = v194;
  }
  v200 = (__m128)LODWORD(v298);
  v150 = (float)((float)((float)(v439 - v351) * v327) + v351) + v193;
  v200.m128_f32[0] = (float)((float)((float)(v298 - v352) * v327) + v352) + v199;
  v151 = v200;
  v152 = (float)((float)((float)(v299 - v353) * v327) + v353) + v195;
  v334 = v150;
  v335 = v200.m128_f32[0];
  v336 = v152;
  v202 = 0;
  if ( (float)((float)((float)(v298 * v298) + (float)(v439 * v439)) + (float)(v299 * v299)) < 0.0099999998 )
  {
    v201 = Parameter[0x11D];
    if ( (*(_DWORD *)(v201 + 0x54) & 0xFFA00000) == 0xFFA00000
      || (float)((float)((float)(*(float *)(v201 + 0x58) * *(float *)(v201 + 0x58))
                       + (float)(*(float *)(v201 + 0x54) * *(float *)(v201 + 0x54)))
               + (float)(*(float *)(v201 + 0x5C) * *(float *)(v201 + 0x5C))) < 0.0099999998 )
    {
      v202 = 1;
    }
  }
  v203 = (LODWORD(v150) & 0x7F800000) != 0x7F800000
      && (v200.m128_i32[0] & 0x7F800000) != 0x7F800000
      && (COERCE_UNSIGNED_INT((float)((float)((float)(v299 - v353) * v327) + v353) + v195) & 0x7F800000) != 0x7F800000;
  if ( v202
    || (float)((float)((float)(v199 * v199) + (float)(v295 * v295)) + (float)(v437 * v437)) > (float)((float)((float)((float)(1.0 / a2) * (float)(1.0 / a2)) * 0.25) * (float)(v345 * v345))
    || !v203 )
  {
    v204 = LODWORD(v345);
    *(float *)&v204 = (float)((float)((float)((float)(v345 * v330) / v346) + 1.0) * v327) * v340;
    _XMM0 = v204;
    __asm { vminss  xmm0, xmm0, xmm9 }
    X_2 = (float)((float)(v323 * *(float *)&_XMM12) + (float)(v320 * *(float *)&_XMM14))
        + (float)((float)(v322 * *(float *)&v19) + (float)(v321 * _XMM15.m128_f32[0]));
    v102 = 1;
    if ( X_2 < 0.0 )
    {
      X_2 = -(float)((float)((float)(v323 * *(float *)&_XMM12) + (float)(v320 * *(float *)&_XMM14))
                   + (float)((float)(v322 * *(float *)&v19) + (float)(v321 * _XMM15.m128_f32[0])));
      LODWORD(_XMM14) = _XMM14 ^ 0x80000000;
      _XMM15.m128_i32[0] ^= 0x80000000;
      LODWORD(v19) = v19 ^ 0x80000000;
      LODWORD(_XMM12) = _XMM12 ^ 0x80000000;
    }
    if ( X_2 <= 0.99989998 )
    {
      v215 = *(float *)&_XMM14 - (float)(v320 * X_2);
      v216 = _XMM15.m128_f32[0] - (float)(v321 * X_2);
      v217 = *(float *)&v19 - (float)(v322 * X_2);
      v218 = *(float *)&_XMM12 - (float)(v323 * X_2);
      Y_1 = fsqrt(
              (float)((float)(v217 * v217) + (float)(v216 * v216))
            + (float)((float)(v218 * v218) + (float)(v215 * v215)));
      atan2f(Y_1, X_2);
      v220 = _libm_sse2_sincosf_();
      v221 = _mm_shuffle_ps((__m128)*(unsigned __int64 *)&v220, (__m128)*(unsigned __int64 *)&v220, 1).m128_f32[0];
      v363 = (float)((float)(*(float *)&v220 * v215) * (float)(1.0 / Y_1)) + (float)(v221 * v320);
      v360 = (float)((float)(*(float *)&v220 * v216) * (float)(1.0 / Y_1)) + (float)(v221 * v321);
      v361 = (float)((float)(*(float *)&v220 * v217) * (float)(1.0 / Y_1)) + (float)(v221 * v322);
      v362 = (float)((float)(*(float *)&v220 * v218) * (float)(1.0 / Y_1)) + (float)(v221 * v323);
    }
    else
    {
      if ( (float)((float)((float)(v323 * *(float *)&_XMM12) + (float)(v320 * *(float *)&_XMM14))
                 + (float)((float)(v322 * *(float *)&v19) + (float)(v321 * _XMM15.m128_f32[0]))) < 0.0 )
      {
        LODWORD(_XMM14) = _XMM14 ^ 0x80000000;
        _XMM15.m128_i32[0] ^= 0x80000000;
        LODWORD(v19) = v19 ^ 0x80000000;
        LODWORD(_XMM12) = _XMM12 ^ 0x80000000;
      }
      v208 = (float)(*(float *)&_XMM0 * _XMM15.m128_f32[0]) + (float)(v321 * (float)(1.0 - *(float *)&_XMM0));
      v209 = (float)(*(float *)&_XMM0 * *(float *)&v19) + (float)(v322 * (float)(1.0 - *(float *)&_XMM0));
      v210 = (float)(*(float *)&_XMM14 * *(float *)&_XMM0) + (float)((float)(1.0 - *(float *)&_XMM0) * v320);
      v211 = (__m128)(unsigned int)_XMM0;
      v212 = (float)(*(float *)&_XMM0 * *(float *)&_XMM12) + (float)(v323 * (float)(1.0 - *(float *)&_XMM0));
      v211.m128_f32[0] = (float)((float)(v212 * v212) + (float)(v209 * v209))
                       + (float)((float)(v210 * v210) + (float)(v208 * v208));
      _XMM3 = _mm_shuffle_ps(v211, v211, 0);
      __asm { vrsqrtps xmm4, xmm3 }
      _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
      _XMM3.m128_f32[0] = (float)(1.5
                                - (float)((float)((float)(_XMM4.m128_f32[0] * v211.m128_f32[0]) * _XMM4.m128_f32[0])
                                        * 0.5))
                        * _XMM4.m128_f32[0];
      v363 = _XMM3.m128_f32[0] * v210;
      v360 = _XMM3.m128_f32[0] * v208;
      v361 = _XMM3.m128_f32[0] * v209;
      v362 = _XMM3.m128_f32[0] * v212;
    }
    v222 = (__m128)LODWORD(v298);
    v150 = (float)((float)(v439 - v351) * (float)(v327 * v340)) + v351;
    v222.m128_f32[0] = (float)((float)(v298 - v352) * (float)(v327 * v340)) + v352;
    v151 = v222;
    v152 = (float)((float)(v299 - v353) * (float)(v327 * v340)) + v353;
    goto LABEL_126;
  }
LABEL_127:
  if ( v101 || v102 )
  {
    (*(void (__fastcall **)(__int64 *, int *, __int64))(*Parameter + 0x18))(Parameter, &v357, 1);
    v151 = (__m128)LODWORD(v335);
    v223 = (__m128)LODWORD(v332);
    v152 = v336;
    v150 = v334;
    v224 = v333;
    v225 = *((float *)&v331 + 3);
  }
  else
  {
    v223 = (__m128)LODWORD(v354);
    v224 = *(float *)&v341;
    v225 = v329;
  }
  v226 = Parameter[0x11D];
  if ( (*(_DWORD *)(v226 + 0x48) & 0xFFA00000) != 0xFFA00000 )
  {
    if ( a3 )
    {
      v227 = 0.0;
      v228 = 0.0;
    }
    else
    {
      v26 = (__m128)(unsigned __int64)Parameter[0xA7];
      v228 = *((float *)Parameter + 0x150);
      LODWORD(v227) = _mm_shuffle_ps(v26, v26, 0x55).m128_u32[0];
    }
    v229 = Parameter[0x58];
    v230 = *(float *)(v226 + 0x48) - v26.m128_f32[0];
    v234 = (__m128)*(unsigned int *)(v226 + 0x4C);
    v231 = *(float *)(v226 + 0x4C) - v227;
    v232 = *(float *)(v226 + 0x50) - v228;
    v374 = v230;
    v375 = v231;
    v376 = v232;
    v233 = *(float *)(v229 + 0x2B4);
    v234.m128_f32[0] = (float)((float)(v231 * v231) + (float)(v230 * v230)) + (float)(v232 * v232);
    if ( v234.m128_f32[0] > (float)(v233 * v233) && v234.m128_f32[0] >= 9.9999994e-11 )
    {
      _XMM0 = _mm_shuffle_ps(v234, v234, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      _XMM3.m128_f32[0] = (float)((float)(1.5
                                        - (float)((float)((float)(_XMM3.m128_f32[0] * v234.m128_f32[0])
                                                        * _XMM3.m128_f32[0])
                                                * 0.5))
                                * _XMM3.m128_f32[0])
                        * v233;
      v374 = v230 * _XMM3.m128_f32[0];
      v375 = _XMM3.m128_f32[0] * v231;
      v376 = _XMM3.m128_f32[0] * v232;
    }
  }
  if ( (*(_DWORD *)(v226 + 0x54) & 0xFFA00000) != 0xFFA00000 )
  {
    v377 = *(_QWORD *)(v226 + 0x54);
    v378 = *(float *)(v226 + 0x5C);
    v238 = (__m128)(unsigned int)v377;
    v237 = *(float *)(Parameter[0x58] + 0x2B4);
    v238.m128_f32[0] = (float)((float)(v238.m128_f32[0] * v238.m128_f32[0])
                             + (float)(*((float *)&v377 + 1) * *((float *)&v377 + 1)))
                     + (float)(v378 * v378);
    if ( v238.m128_f32[0] > (float)(v237 * v237) && v238.m128_f32[0] >= 9.9999994e-11 )
    {
      _XMM0 = _mm_shuffle_ps(v238, v238, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      _XMM3.m128_f32[0] = (float)((float)(1.5
                                        - (float)((float)((float)(_XMM3.m128_f32[0] * v238.m128_f32[0])
                                                        * _XMM3.m128_f32[0])
                                                * 0.5))
                                * _XMM3.m128_f32[0])
                        * v237;
      *(float *)&v377 = *(float *)&v377 * _XMM3.m128_f32[0];
      *((float *)&v377 + 1) = *((float *)&v377 + 1) * _XMM3.m128_f32[0];
      v378 = v378 * _XMM3.m128_f32[0];
    }
  }
  if ( (*(_DWORD *)(v226 + 0x48) & 0xFFA00000) != 0xFFA00000 || (*(_DWORD *)(v226 + 0x54) & 0xFFA00000) != 0xFFA00000 )
  {
    v241 = *Parameter;
    v373 = 0;
    v379 = v385;
    (*(void (__fastcall **)(__int64 *, int *, __int64))(v241 + 0x30))(Parameter, &n9, 1);
    v151 = (__m128)LODWORD(v335);
    v223 = (__m128)LODWORD(v332);
    v152 = v336;
    v150 = v334;
    v224 = v333;
    v225 = *((float *)&v331 + 3);
  }
  v242 = Parameter[0x58];
  v244 = v223;
  v243 = *(float *)(v242 + 0x2B4);
  v244.m128_f32[0] = (float)((float)(v223.m128_f32[0] * v223.m128_f32[0]) + (float)(v225 * v225)) + (float)(v224 * v224);
  if ( v244.m128_f32[0] > (float)(v243 * v243) && v244.m128_f32[0] >= 9.9999994e-11 )
  {
    _XMM0 = _mm_shuffle_ps(v244, v244, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    _XMM3.m128_f32[0] = (float)((float)(1.5
                                      - (float)((float)((float)(_XMM3.m128_f32[0] * v244.m128_f32[0]) * _XMM3.m128_f32[0])
                                              * 0.5))
                              * _XMM3.m128_f32[0])
                      * v243;
    v225 = v225 * _XMM3.m128_f32[0];
    v223.m128_f32[0] = v223.m128_f32[0] * _XMM3.m128_f32[0];
    v224 = v224 * _XMM3.m128_f32[0];
    *((float *)&v331 + 3) = v225;
    v332 = v223.m128_f32[0];
    v333 = v224;
  }
  v247 = *(float *)(v242 + 0x2B4);
  v248 = v151;
  v248.m128_f32[0] = (float)((float)(v151.m128_f32[0] * v151.m128_f32[0]) + (float)(v150 * v150)) + (float)(v152 * v152);
  v249 = v248;
  v248.m128_i32[1] = 0;
  v248.m128_f32[0] = v247 * v247;
  result = *(double *)v248.m128_u64;
  if ( v249.m128_f32[0] > (float)(v247 * v247) && v249.m128_f32[0] >= 9.9999994e-11 )
  {
    _XMM0 = _mm_shuffle_ps(v249, v249, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    HIDWORD(v252) = 0;
    *(float *)&v252 = 1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v249.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5);
    result = v252;
    _XMM3.m128_f32[0] = (float)(*(float *)&v252 * _XMM3.m128_f32[0]) * v247;
    v150 = v150 * _XMM3.m128_f32[0];
    v151.m128_f32[0] = v151.m128_f32[0] * _XMM3.m128_f32[0];
    v152 = v152 * _XMM3.m128_f32[0];
    v334 = v150;
    v335 = v151.m128_f32[0];
    v336 = v152;
  }
  if ( (LODWORD(v225) & 0x7F800000) == 0x7F800000
    || (v223.m128_i32[0] & 0x7F800000) == 0x7F800000
    || (LODWORD(v224) & 0x7F800000) == 0x7F800000 )
  {
    HIDWORD(v331) = 0xFFBFFFFF;
  }
  if ( (LODWORD(v150) & 0x7F800000) == 0x7F800000
    || (v151.m128_i32[0] & 0x7F800000) == 0x7F800000
    || (LODWORD(v152) & 0x7F800000) == 0x7F800000 )
  {
    v334 = NAN;
  }
  (*(void (__fastcall **)(__int64 *, __int128 *, __int64))(*Parameter + 0x30))(Parameter, &v331, 1);
  if ( v101 || v102 )
  {
LABEL_172:
    if ( !*((_DWORD *)Parameter + 0x12B) )
      (*(void (__fastcall **)(__int64 *, __int64, __int64 *, __int64 *))(*Parameter + 0x320))(
        Parameter,
        v253,
        Parameter + 0x38,
        Parameter + 0x3B);
  }
LABEL_185:
  v409 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return result;
}

// --- End Function: CRigidEntity::ApplyStateFromNetworkInternal (0x14678C9F0) ---

// --- Function: sub_14678F320 (0x14678F320) ---
double __fastcall sub_14678F320(Parameter *Parameter, float a2)
{
  volatile signed __int64 *v2; // rbx
  char v4; // si
  signed __int64 v5; // rdx
  float *v6; // rax
  __int64 n0x40; // rcx
  unsigned __int64 v8; // rdx
  __int64 v9; // rax
  __int64 v10; // rax

  v2 = (volatile signed __int64 *)(Parameter + 0x6D58);
  v4 = 0;
  v5 = _InterlockedIncrement64((volatile signed __int64 *)(Parameter + 0x6D58));
  if ( (v5 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(Parameter + 0x6D58),
      v5,
      (__int64)"CSpaceshipEntity::ApplyStateFromNetworkInternal",
      (__int64)"m_lockSpaceship",
      1);
  v6 = (float *)(Parameter + 0xB98);
  n0x40 = 0;
  while ( v6[0xFFFFFFEA] >= 0.0 )
  {
    if ( *(_QWORD *)v6 || *((_QWORD *)v6 + 0xFFFFFFFF) )
    {
      v4 = 1;
      break;
    }
    ++n0x40;
    v6 += 0x62;
    if ( n0x40 >= 0x40 )
      break;
  }
  v8 = _InterlockedDecrement64(v2);
  if ( (v8 & 0x3FF) == 0 && (v8 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v2, v8);
  if ( v4 )
  {
    *(_BYTE *)(*(_QWORD *)(Parameter + 0x8E8) + 0xBCLL) = 0;
    v9 = *(_QWORD *)(Parameter + 0x8E8);
    *(_QWORD *)(v9 + 0x48) = 0;
    *(_DWORD *)(v9 + 0x50) = 0;
    v10 = *(_QWORD *)(Parameter + 0x8E8);
    *(_QWORD *)(v10 + 0x54) = 0;
    *(_DWORD *)(v10 + 0x5C) = 0;
  }
  return CRigidEntity::ApplyStateFromNetworkInternal((__int64 *)Parameter, a2, v4);
}

// --- End Function: sub_14678F320 (0x14678F320) ---

// --- Function: sub_146790090 (0x146790090) ---
__int64 __fastcall sub_146790090(__int64 a1, int a2, char a3)
{
  int n6; // eax
  double v8; // xmm0_8
  int v9; // esi
  __int64 v10; // rcx
  double v11; // xmm0_8
  __int64 v12; // rdi
  __int64 v13; // rcx

  n6 = *(_DWORD *)(a1 + 0xF4);
  if ( (unsigned int)n6 > 6 )
    return 0xFFFFFFFFLL;
  v8 = *(double *)(a1 + 0x6B8);
  if ( v8 == 0.0 && a2 && (a3 & 2) != 0 )
  {
    _InterlockedOr16((volatile signed __int16 *)(a1 + 0x100), 0x200u);
    sub_146939C90(*(_QWORD *)(a1 + 0x2C0), a1);
  }
  else if ( n6 > 2 )
  {
    *(_DWORD *)(a1 + 0x4AC) = a2;
  }
  else
  {
    if ( !*(_DWORD *)(a1 + 0x4AC) )
    {
      sub_1467E1BA0();
      v8 = *(double *)(a1 + 0x6B8);
    }
    v9 = 0;
    if ( (*(_DWORD *)(a1 + 0xF4) != a2 + 1 || *(_DWORD *)(a1 + 0x4AC) != a2 && (a3 & 4) != 0)
      && (v8 > 0.0
       || (float)((float)((float)((float)(*(float *)(a1 + 0x688) * *(float *)(a1 + 0x688))
                                + (float)(*(float *)(a1 + 0x680) * *(float *)(a1 + 0x680)))
                        + (float)(*(float *)(a1 + 0x684) * *(float *)(a1 + 0x684)))
                + (float)((float)((float)(*(float *)(a1 + 0x694) * *(float *)(a1 + 0x694))
                                + (float)(*(float *)(a1 + 0x68C) * *(float *)(a1 + 0x68C)))
                        + (float)(*(float *)(a1 + 0x690) * *(float *)(a1 + 0x690)))) > 0.0
       || !a2
       || (a3 & 0x21) != 0) )
    {
      *(_DWORD *)(a1 + 0x4A8) &= 0xFFFFFFE0;
      *(_DWORD *)(a1 + 0xF4) = a2 + 1;
      v10 = *(_QWORD *)(a1 + 0x2C0);
      *(_DWORD *)(a1 + 0x4A4) &= (a2 << 0x1C) | 0xEFFFFFFF;
      *(_DWORD *)(a1 + 0x4AC) = a2;
      sub_14693D8B0(v10, a1, 2);
      if ( a2 )
        *(_DWORD *)(a1 + 0x52C) = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x4B8LL);
      if ( !*(_DWORD *)(a1 + 0x4AC) )
      {
        *(_QWORD *)(a1 + 0x7FC) = 0;
        *(_DWORD *)(a1 + 0x804) = 0;
        v11 = *(double *)(a1 + 0x7FC);
        *(double *)(a1 + 0x7F0) = v11;
        *(double *)(a1 + 0x7E4) = v11;
        *(double *)(a1 + 0x7D8) = v11;
        *(_DWORD *)(a1 + 0x7F8) = 0;
        *(_DWORD *)(a1 + 0x7EC) = 0;
        *(_DWORD *)(a1 + 0x7E0) = 0;
      }
    }
    if ( *(double *)(a1 + 0x6B8) == 0.0 && a2 && *(int *)(a1 + 0x148) > 0 )
    {
      v12 = 0;
      do
      {
        v13 = *(_QWORD *)(v12 + *(_QWORD *)(a1 + 0x140));
        if ( v13 != a1 && (*(float (__fastcall **)(__int64))(*(_QWORD *)v13 + 0x2C8LL))(v13) > 0.0 )
          (*(void (__fastcall **)(_QWORD, __int64, __int64))(**(_QWORD **)(v12 + *(_QWORD *)(a1 + 0x140)) + 0x268LL))(
            *(_QWORD *)(v12 + *(_QWORD *)(a1 + 0x140)),
            1,
            0x10);
        ++v9;
        v12 += 8;
      }
      while ( v9 < *(_DWORD *)(a1 + 0x148) );
    }
  }
  return *(unsigned int *)(a1 + 0xF4);
}

// --- End Function: sub_146790090 (0x146790090) ---

// --- Function: sub_146791990 (0x146791990) ---
unsigned __int64 __fastcall sub_146791990(__int64 a1)
{
  int n0x40; // r15d
  int v3; // ebp
  __int64 v4; // rsi
  __int64 v5; // r12
  __int64 v6; // rdi
  __int64 v7; // rax
  unsigned __int64 v8; // rbp
  __int64 v9; // r12
  unsigned __int64 result; // rax
  __int64 v11; // rsi
  __int64 v12; // rbx
  __int64 v13; // rax

  n0x40 = 0;
  if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1) != 3 )
  {
    v3 = 0;
    if ( *(int *)(a1 + 0x290) > 0 )
    {
      v4 = 0;
      v5 = 0;
      do
      {
        if ( !*(_QWORD *)(v5 + *(_QWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x70LL)) && !*(_QWORD *)(a1 + 0x2E8) )
        {
          v6 = *(_QWORD *)(v4 + *(_QWORD *)(a1 + 0x240));
          sub_146615C30(a1 + 0x228);
          v7 = *(_QWORD *)(a1 + 0x2A0);
          _InterlockedOr((volatile signed __int32 *)(v7 + 0x184), 0x10u);
          *(_QWORD *)(v4 + *(_QWORD *)(v7 + 0x20)) = v6 & 0xFFFFFFBFFFFFFFFFuLL;
        }
        ++v3;
        v5 += 0x40;
        v4 += 8;
      }
      while ( v3 < *(_DWORD *)(a1 + 0x290) );
    }
  }
  v8 = 1;
  v9 = 0;
  do
  {
    result = *(_QWORD *)(a1 + 0x500);
    if ( v8 > result )
      break;
    if ( (result & v8) != 0 )
    {
      result = *(_QWORD *)(a1 + 0x4F0);
      if ( *(float *)(result + v9 + 0x98) > 0.0 || *(float *)(result + v9 + 0xA0) > 0.0 )
      {
        v11 = *(__int16 *)(0x108LL * n0x40 + *(_QWORD *)(a1 + 0x4E8) + 0x7C);
        v12 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8 * v11) | 0x4000000000LL;
        sub_146615C30(a1 + 0x228);
        v13 = *(_QWORD *)(a1 + 0x2A0);
        _InterlockedOr((volatile signed __int32 *)(v13 + 0x184), 0x10u);
        result = *(_QWORD *)(v13 + 0x20);
        *(_QWORD *)(result + 8 * v11) = v12;
      }
    }
    ++n0x40;
    v8 = __ROL8__(v8, 1);
    v9 += 0x100;
  }
  while ( n0x40 < 0x40 );
  return result;
}

// --- End Function: sub_146791990 (0x146791990) ---

// --- Function: CRigidEntity::CalcEnergy (0x146797910) ---
__m128 __fastcall CRigidEntity::CalcEnergy(__int64 a1, float a2)
{
  __int64 v3; // rax
  float v5; // xmm12_4
  float v6; // xmm13_4
  float v7; // xmm14_4
  __int128 v8; // xmm15
  int v9; // ecx
  __m128 result; // xmm0
  signed __int64 v11; // rdx
  float *i; // rcx
  float v13; // xmm7_4
  __int128 v14; // xmm6
  float v15; // xmm5_4
  __int128 v16; // kr00_16
  __int128 v22; // kr00_16
  __m128 v23; // xmm2
  unsigned __int64 v25; // rdx
  unsigned __int64 v26; // r11
  int n0x40; // r8d
  __int64 v28; // rdx
  __int64 v29; // r10
  __int64 v30; // r9
  int v31; // ecx
  __int64 v32; // rax
  __int128 v33; // kr00_16
  float v36; // xmm5_4
  float v37; // xmm6_4
  float v38; // xmm7_4
  __int128 v39; // kr00_16
  float v40; // xmm3_4
  __int128 v41; // kr00_16
  __m128 v44; // xmm1
  float v45; // xmm9_4
  __int128 v46; // kr00_16
  __int128 v51; // kr00_16

  v3 = *(_QWORD *)(a1 + 0x2C0);
  v5 = 0.0;
  v6 = 0.0;
  v7 = 0.0;
  v8 = 0;
  if ( a2 <= 0.0 )
  {
    v51 = *(unsigned int *)(a1 + 0x68C);
    *(double *)&v51 = (float)((float)((float)(*(float *)(a1 + 0x68C) * *(float *)(a1 + 0x68C))
                                    + (float)(*(float *)(a1 + 0x690) * *(float *)(a1 + 0x690)))
                            + (float)(*(float *)(a1 + 0x694) * *(float *)(a1 + 0x694)))
                    * *(double *)(a1 + 0x6B0)
                    + *(float *)(a1 + 0x688) * *(double *)(a1 + 0x678)
                    + *(float *)(a1 + 0x684) * *(double *)(a1 + 0x670)
                    + *(float *)(a1 + 0x680) * *(double *)(a1 + 0x668);
    _XMM3 = v51;
    __asm { vcvtsd2ss xmm0, xmm3, xmm3 }
  }
  else
  {
    v9 = *(_DWORD *)(a1 + 0x208);
    if ( ((unsigned __int8)v9 & (unsigned __int8)-*(_BYTE *)(v3 + 0x2D8) & 1) != 0 )
    {
      return (__m128)*(unsigned int *)(a1 + 0x858);
    }
    else
    {
      if ( (v9 & 1) == 0 )
      {
        v11 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v11 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x8C8),
            v11,
            (__int64)"CRigidEntity::CalcEnergy",
            (__int64)"m_lockContacts",
            1);
        for ( i = *(float **)(a1 + 0x4D0); i != (float *)(a1 + 0x4D0); i = *(float **)i )
        {
          v13 = i[0x1E];
          v14 = *((unsigned int *)i + 0x1D);
          v15 = i[0x1C];
          v16 = v14;
          _XMM0 = *((unsigned int *)i + 0x26);
          __asm { vmaxss  xmm0, xmm0, xmm8 }
          *(float *)&v16 = (float)((float)((float)(*(float *)&v14 * i[0x28]) + (float)(v15 * i[0x27]))
                                 + (float)(v13 * i[0x29]))
                         - *(float *)&_XMM0;
          _XMM1 = v16;
          __asm { vmaxss  xmm4, xmm1, xmm8 }
          v22 = _XMM4;
          *(float *)&v22 = *(float *)&_XMM4
                         - (float)((float)((float)(v5 * v15) + (float)(v6 * *(float *)&v14)) + (float)(v7 * v13));
          _XMM0 = v22;
          v23 = (__m128)*((unsigned __int64 *)i + 0xE);
          __asm { vmaxss  xmm3, xmm0, xmm8 }
          v5 = (float)(v23.m128_f32[0] * *(float *)&_XMM3) + v5;
          v6 = (float)(_mm_shuffle_ps(v23, v23, 0x55).m128_f32[0] * *(float *)&_XMM3) + v6;
          v7 = (float)(*(float *)&_XMM3 * v13) + v7;
        }
        v25 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v25 & 0x3FF) == 0 && (v25 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8C8), v25);
      }
      v26 = *(_QWORD *)(a1 + 0x500);
      n0x40 = 0;
      v28 = 0;
      v29 = 0;
      do
      {
        if ( 1LL << n0x40 > v26 )
          break;
        if ( (v26 & (1LL << n0x40)) != 0 )
        {
          v30 = *(_QWORD *)(a1 + 0x4E8);
          v31 = *(_DWORD *)(v30 + v28 + 0x94);
          if ( (v31 & 0x200) != 0 || (*(_BYTE *)(v29 + *(_QWORD *)(a1 + 0x4F0) + 0x68) & 4) != 0 )
          {
            v32 = *(_QWORD *)(v30 + v28 + 0x28);
            if ( (v31 & 0x2000100) == 0x2000000 )
            {
              v33 = *(unsigned int *)(v32 + 0xE4);
              *(double *)&v33 = (float)((float)((float)(*(float *)(v32 + 0xE4) * *(float *)(v32 + 0xE4))
                                              + (float)(*(float *)(v32 + 0xDC) * *(float *)(v32 + 0xDC)))
                                      + (float)((float)(*(float *)(v32 + 0xE0) * *(float *)(v32 + 0xE0))
                                              + (float)((float)((float)(*(float *)(v30 + v28 + 0x9C)
                                                                      * *(float *)(v30 + v28 + 0x9C))
                                                              + (float)(*(float *)(v30 + v28 + 0xA0)
                                                                      * *(float *)(v30 + v28 + 0xA0)))
                                                      + (float)(*(float *)(v30 + v28 + 0xA4)
                                                              * *(float *)(v30 + v28 + 0xA4)))))
                              * *(double *)(v32 + 0x100);
              _XMM4 = v33;
              __asm { vmaxsd  xmm2, xmm4, xmm1 }
              *((_QWORD *)&v33 + 1) = *((_QWORD *)&v8 + 1);
              *(double *)&v33 = *(double *)&v8 + *(double *)&_XMM2;
              v8 = v33;
            }
            else
            {
              v36 = *(float *)(v30 + v28 + 0x74);
              v37 = *(float *)(v30 + v28 + 0x70);
              v38 = *(float *)(v30 + v28 + 0x78);
              v39 = LODWORD(v36);
              v40 = fabs(
                      (float)((float)(v36 * *(float *)(v30 + v28 + 0xA0)) + (float)(v37 * *(float *)(v30 + v28 + 0x9C)))
                    + (float)(v38 * *(float *)(v30 + v28 + 0xA4)));
              *(float *)&v39 = (float)((float)(v36 * *(float *)(v32 + 0xE0)) + (float)(v37 * *(float *)(v32 + 0xDC)))
                             + (float)(v38 * *(float *)(v32 + 0xE4));
              v41 = v39 & 0x7FFFFFFF;
              *(double *)&v41 = (float)((float)(*(float *)&v41 + v40) * (float)(*(float *)&v41 + v40))
                              * *(double *)(v32 + 0x100);
              _XMM3 = v41;
              __asm { vmaxsd  xmm3, xmm3, xmm2 }
              *((_QWORD *)&v41 + 1) = *((_QWORD *)&v8 + 1);
              *(double *)&v41 = *(double *)&v8 + *(double *)&_XMM3;
              v8 = v41;
            }
          }
        }
        ++n0x40;
        v29 += 0x100;
        v28 += 0x108;
      }
      while ( n0x40 < 0x40 );
      v44 = (__m128)*(unsigned __int64 *)(a1 + 0x7F0);
      v45 = _mm_shuffle_ps(v44, v44, 0x55).m128_f32[0] * a2;
      v46 = *(unsigned int *)(a1 + 0x694);
      *(float *)&v46 = (float)((float)((float)(*(float *)(a1 + 0x694) * *(float *)(a1 + 0x694))
                                     + (float)(*(float *)(a1 + 0x68C) * *(float *)(a1 + 0x68C)))
                             + (float)(*(float *)(a1 + 0x690) * *(float *)(a1 + 0x690)))
                     + (float)((float)((float)(v7 * v7) + (float)(v5 * v5)) + (float)(v6 * v6));
      _XMM5 = v46;
      __asm { vmaxss  xmm0, xmm5, xmm2 }
      *((_QWORD *)&v46 + 1) = *((_QWORD *)&_XMM0 + 1);
      *(double *)&v46 = *(float *)&_XMM0 * *(double *)(a1 + 0x6B0)
                      + *(float *)(a1 + 0x688) * *(double *)(a1 + 0x678)
                      + *(float *)(a1 + 0x684) * *(double *)(a1 + 0x670)
                      + *(float *)(a1 + 0x680) * *(double *)(a1 + 0x668)
                      + *(double *)&v8
                      + (float)((float)((float)(v45 * v45)
                                      + (float)((float)(v44.m128_f32[0] * a2) * (float)(v44.m128_f32[0] * a2)))
                              + (float)((float)(a2 * *(float *)(a1 + 0x7F8)) * (float)(a2 * *(float *)(a1 + 0x7F8))));
      _XMM3 = v46;
      __asm
      {
        vminsd  xmm1, xmm3, [rsp+0E8h+arg_0]
        vcvtsd2ss xmm0, xmm1, xmm1
      }
    }
  }
  return result;
}

// --- End Function: CRigidEntity::CalcEnergy (0x146797910) ---

// --- Function: sub_1467987E0 (0x1467987E0) ---
unsigned __int64 __fastcall sub_1467987E0(__int64 a1, __int64 a2)
{
  __int128 n0x3F800000; // xmm12
  __m128 v6; // xmm8
  float v13; // xmm10_4
  __m128 v14; // kr00_16
  float v17; // xmm1_4
  float v18; // xmm2_4
  float v19; // xmm4_4
  float v20; // xmm3_4
  __m128 v21; // xmm2
  int v24; // eax
  unsigned __int64 result; // rax
  __int128 v29; // kr00_16
  float v38; // xmm4_4
  __m128 v39; // kr00_16
  __int128 n0x3FC00000; // kr00_16
  __int128 n0x3FC00000_1; // xmm1
  __m128 v44; // kr00_16
  __int128 n0x3FC00000_3; // xmm2
  __int128 n0x3FC00000_2; // kr00_16
  __int128 n0x3FC00000_4; // kr00_16
  __int128 n0x3FC00000_6; // xmm9
  __int128 n0x3FC00000_5; // kr00_16
  __m128 v50; // xmm8
  __m128 v51; // kr00_16
  __int128 n0x3F800000_2; // xmm11
  __int128 n0x3F800000_1; // kr00_16
  float v54; // xmm14_4
  float v55; // xmm13_4
  float v56; // xmm15_4
  float v57; // xmm12_4
  float v58; // xmm7_4
  float v59; // xmm6_4
  float v60; // xmm4_4
  __int128 n0x3F800000_3; // xmm3
  __int128 n0x3F800000_4; // xmm3
  __int128 n0x3F800000_5; // xmm3
  float v67; // xmm7_4
  float v68; // xmm6_4
  float v69; // xmm4_4
  float v70; // xmm5_4
  float v71; // xmm4_4
  float v72; // xmm6_4
  double v73; // xmm5_8
  float v74; // xmm2_4
  float v75; // xmm0_4
  float v76; // xmm6_4
  float v77; // xmm7_4
  float v79; // xmm3_4
  __m128 v80; // xmm2
  float v83; // xmm3_4
  __int128 v84; // kr00_16
  __int128 v85; // xmm1
  __m128 v86; // kr00_16
  __m128 v87; // xmm9
  __int128 v88; // xmm11
  __int128 v89; // kr00_16
  __m128 v90; // kr00_16
  float v91; // xmm8_4
  float v92; // xmm14_4
  float v93; // xmm13_4
  float v94; // xmm15_4
  float v95; // xmm12_4
  __m128 v96; // xmm7
  __int128 v97; // kr00_16
  __int128 v98; // xmm6
  __m128 v99; // kr00_16
  __m128 v100; // xmm2
  __int128 v101; // xmm3
  __int128 v102; // kr00_16
  __m128 v103; // xmm4
  __m128 v104; // kr00_16
  float v105; // xmm0_4
  __int128 v106; // xmm5
  __int128 v107; // kr00_16
  __m128 v108; // kr00_16
  __m128 v109; // xmm4
  __int128 v110; // xmm1
  __int128 v111; // kr00_16
  __m128 v112; // kr00_16
  __m128 v113; // xmm6

  _XMM5 = *(unsigned int *)(a2 + 0xE0);
  _XMM9 = *(unsigned int *)(a2 + 0xDC);
  _XMM10 = *(unsigned int *)(a2 + 0xE4);
  n0x3F800000 = 0x3F800000u;
  v6 = 0;
  if ( (float)((float)((float)(*(float *)&_XMM9 * *(float *)&_XMM9) + (float)(*(float *)&_XMM5 * *(float *)&_XMM5))
             + (float)(*(float *)&_XMM10 * *(float *)&_XMM10)) > (float)(*(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x2B4LL)
                                                                       * *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x2B4LL)) )
  {
    __asm
    {
      vminss  xmm0, xmm9, xmm6
      vmaxss  xmm4, xmm0, xmm7
      vminss  xmm0, xmm10, xmm6
      vmaxss  xmm9, xmm0, xmm7
      vminss  xmm1, xmm5, xmm6
      vmaxss  xmm5, xmm1, xmm7
    }
    v14 = _XMM4;
    *(float *)(a2 + 0xDC) = _XMM4.m128_f32[0];
    *(float *)(a2 + 0xE0) = *(float *)&_XMM5;
    *(float *)(a2 + 0xE4) = *(float *)&_XMM9;
    v13 = *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x2B4LL);
    v14.m128_f32[0] = (float)((float)(_XMM4.m128_f32[0] * _XMM4.m128_f32[0])
                            + (float)(*(float *)&_XMM5 * *(float *)&_XMM5))
                    + (float)(*(float *)&_XMM9 * *(float *)&_XMM9);
    if ( v14.m128_f32[0] <= 9.9999997e-21 )
    {
      v18 = 0.0;
      v20 = 0.0;
      v19 = 1.0;
    }
    else
    {
      _XMM0 = _mm_shuffle_ps(v14, v14, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      v17 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v14.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
          * _XMM3.m128_f32[0];
      v18 = _XMM4.m128_f32[0] * v17;
      v19 = *(float *)&_XMM9 * v17;
      v20 = *(float *)&_XMM5 * v17;
    }
    *(float *)(a2 + 0xDC) = v18 * v13;
    *(float *)(a2 + 0xE0) = v20 * v13;
    *(float *)(a2 + 0xE4) = v19 * v13;
    v21 = (__m128)*(unsigned __int64 *)(a2 + 0xDC);
    _XMM5 = *(unsigned __int64 *)(a2 + 0x100);
    __asm { vcvtpd2ps xmm5, xmm5 }
    *(double *)(a2 + 0xB0) = (float)(*(float *)(a2 + 0xE4) * *(float *)&_XMM5);
    *(double *)(a2 + 0xA0) = (float)(v21.m128_f32[0] * *(float *)&_XMM5);
    *(double *)(a2 + 0xA8) = (float)(_mm_shuffle_ps(v21, v21, 0x55).m128_f32[0] * *(float *)&_XMM5);
  }
  v24 = *(_DWORD *)(a1 + 0x4E0);
  _XMM5 = *(unsigned int *)(a2 + 0xD0);
  if ( v24 == 1 )
  {
    result = *(_QWORD *)(a1 + 0x4D0);
    v76 = *(float *)(a2 + 0xD4);
    v77 = *(float *)(a2 + 0xD8);
    _XMM4 = *(unsigned int *)(a1 + 0x580);
    v79 = (float)((float)(v76 * *(float *)(result + 0x74)) + (float)(*(float *)&_XMM5 * *(float *)(result + 0x70)))
        + (float)(v77 * *(float *)(result + 0x78));
    if ( fabs(v79) <= *(float *)&_XMM4 )
      return result;
    v80 = (__m128)*(unsigned __int64 *)(result + 0x70);
    __asm
    {
      vminss  xmm1, xmm4, xmm3
      vmaxss  xmm1, xmm1, xmm0
    }
    v84 = _XMM1;
    v83 = *(float *)&_XMM1 - v79;
    *(float *)&v84 = v83 * *(float *)(result + 0x78);
    v85 = v84;
    v86 = v80;
    v86.m128_f32[0] = (float)(v80.m128_f32[0] * v83) + *(float *)&_XMM5;
    v87 = v86;
    v89 = v85;
    *(float *)&v89 = *(float *)&v85 + v77;
    v88 = v89;
    v90 = _mm_shuffle_ps(v80, v80, 0x55);
    v90.m128_f32[0] = (float)(v90.m128_f32[0] * v83) + v76;
    v91 = v90.m128_f32[0];
    *(float *)(a2 + 0xD4) = v90.m128_f32[0];
    *(float *)(a2 + 0xD0) = v87.m128_f32[0];
    *(float *)(a2 + 0xD8) = *(float *)&v88;
    v92 = *(float *)(a2 + 0x94);
    v93 = *(float *)(a2 + 0x98);
    v94 = *(float *)(a2 + 0x90);
    v95 = *(float *)(a2 + 0x9C);
    v90.m128_f32[0] = (float)((float)(v90.m128_f32[0] * v93) - (float)(*(float *)&v88 * v92))
                    + (float)(v95 * v87.m128_f32[0]);
    v96 = v90;
    v97 = v88;
    *(float *)&v97 = (float)((float)(*(float *)&v88 * v94) - (float)(v87.m128_f32[0] * v93)) + (float)(v95 * v91);
    v98 = v97;
    v99 = v87;
    v99.m128_f32[0] = (float)(v87.m128_f32[0] * v92) - (float)(v91 * v94);
    v100 = v99;
    v102 = v98;
    *(float *)&v102 = *(float *)&v98 * v93;
    v101 = v102;
    v104 = v100;
    v104.m128_f32[0] = v100.m128_f32[0] + (float)(v95 * *(float *)&v88);
    v103 = v104;
    v105 = v104.m128_f32[0] * v92;
    v107 = v101;
    *(float *)&v107 = *(float *)&v101 - v105;
    v106 = v107;
    v108 = v103;
    v108.m128_f32[0] = (float)(v103.m128_f32[0] * v94) - (float)(v96.m128_f32[0] * v93);
    v109 = v108;
    v111 = v106;
    *(float *)&v111 = *(float *)&v106 + v87.m128_f32[0];
    v110 = v111;
    v112 = v96;
    v112.m128_f32[0] = (float)(v96.m128_f32[0] * v92) - (float)(*(float *)&v98 * v94);
    v113 = v112;
    v112.m128_u64[1] = *((_QWORD *)&v110 + 1);
    *(double *)v112.m128_u64 = (float)(*(float *)&v110 + *(float *)&v106) * *(double *)(a2 + 0x48);
    _XMM3 = v112;
    __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
    v112.m128_u64[1] = v109.m128_u64[1];
    *(double *)v112.m128_u64 = (float)((float)(v109.m128_f32[0] + v91) + v109.m128_f32[0]) * *(double *)(a2 + 0x50);
    _XMM3 = v112;
    __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
    v112.m128_u64[1] = v113.m128_u64[1];
    *(double *)v112.m128_u64 = (float)((float)(v113.m128_f32[0] + *(float *)&v88) + v113.m128_f32[0])
                             * *(double *)(a2 + 0x58);
    _XMM3 = v112;
    __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
    v96.m128_f32[0] = (float)((float)(v92 * *(float *)&_XMM8) - (float)(v93 * *(float *)&_XMM9))
                    + (float)(v95 * *(float *)&_XMM10);
    v113.m128_f32[0] = (float)((float)(v93 * *(float *)&_XMM10) - (float)(v94 * *(float *)&_XMM8))
                     + (float)(v95 * *(float *)&_XMM9);
    v109.m128_f32[0] = (float)((float)(v94 * *(float *)&_XMM9) - (float)(v92 * *(float *)&_XMM10))
                     + (float)(v95 * *(float *)&_XMM8);
    *(float *)&v106 = (float)(v92 * v109.m128_f32[0]) - (float)(v93 * v113.m128_f32[0]);
    v71 = (float)(v93 * v96.m128_f32[0]) - (float)(v94 * v109.m128_f32[0]);
    v72 = (float)(v94 * v113.m128_f32[0]) - (float)(v92 * v96.m128_f32[0]);
    v73 = (float)((float)(*(float *)&v106 + *(float *)&_XMM10) + *(float *)&v106);
    v74 = v72 + *(float *)&_XMM8;
    v75 = v71 + *(float *)&_XMM9;
  }
  else
  {
    _XMM4 = *(unsigned int *)(a2 + 0xD4);
    _XMM10 = *(unsigned int *)(a2 + 0xD8);
    result = v24 > 0;
    v29 = 0;
    *(float *)&v29 = (float)((float)(int)result * (float)(300.0 - *(float *)(a1 + 0x580))) + *(float *)(a1 + 0x580);
    _XMM2 = v29;
    __asm { vmaxss  xmm11, xmm2, xmm3 }
    if ( (float)((float)((float)(*(float *)&_XMM5 * *(float *)&_XMM5) + (float)(*(float *)&_XMM4 * *(float *)&_XMM4))
               + (float)(*(float *)&_XMM10 * *(float *)&_XMM10)) <= (float)(*(float *)&_XMM11 * *(float *)&_XMM11) )
      return result;
    __asm
    {
      vminss  xmm1, xmm4, xmm6
      vminss  xmm0, xmm5, xmm6
      vmaxss  xmm5, xmm0, xmm7
      vmaxss  xmm9, xmm1, xmm7
      vminss  xmm0, xmm10, xmm6
      vmaxss  xmm6, xmm0, xmm7
    }
    v39 = _XMM5;
    v39.m128_f32[0] = (float)((float)(_XMM5.m128_f32[0] * _XMM5.m128_f32[0])
                            + (float)(*(float *)&_XMM9 * *(float *)&_XMM9))
                    + (float)(*(float *)&_XMM6 * *(float *)&_XMM6);
    v38 = v39.m128_f32[0];
    if ( v39.m128_f32[0] <= 9.9999997e-21 )
    {
      n0x3FC00000_3 = 0;
    }
    else
    {
      _XMM0 = _mm_shuffle_ps(v39, v39, 0);
      __asm { vrsqrtps xmm3, xmm0 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      n0x3FC00000 = 0x3FC00000u;
      *(float *)&n0x3FC00000 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v38) * _XMM3.m128_f32[0]) * 0.5))
                             * _XMM3.m128_f32[0];
      n0x3FC00000_1 = n0x3FC00000;
      v44 = _XMM5;
      v44.m128_f32[0] = _XMM5.m128_f32[0] * *(float *)&n0x3FC00000_1;
      v6 = v44;
      n0x3FC00000_2 = n0x3FC00000_1;
      *(float *)&n0x3FC00000_2 = *(float *)&n0x3FC00000_1 * *(float *)&_XMM9;
      n0x3FC00000_3 = n0x3FC00000_2;
      n0x3FC00000_4 = n0x3FC00000_1;
      *(float *)&n0x3FC00000_4 = *(float *)&n0x3FC00000_1 * *(float *)&_XMM6;
      n0x3F800000 = n0x3FC00000_4;
    }
    n0x3FC00000_5 = n0x3FC00000_3;
    *(float *)&n0x3FC00000_5 = *(float *)&n0x3FC00000_3 * *(float *)&_XMM11;
    n0x3FC00000_6 = n0x3FC00000_5;
    *(float *)(a2 + 0xD4) = *(float *)&n0x3FC00000_3 * *(float *)&_XMM11;
    v51 = v6;
    v51.m128_f32[0] = v6.m128_f32[0] * *(float *)&_XMM11;
    v50 = v51;
    *(float *)(a2 + 0xD0) = v51.m128_f32[0];
    n0x3F800000_1 = n0x3F800000;
    *(float *)&n0x3F800000_1 = *(float *)&n0x3F800000 * *(float *)&_XMM11;
    n0x3F800000_2 = n0x3F800000_1;
    *(float *)(a2 + 0xD8) = *(float *)&n0x3F800000_1;
    v54 = *(float *)(a2 + 0x94);
    v55 = *(float *)(a2 + 0x98);
    v56 = *(float *)(a2 + 0x90);
    v57 = *(float *)(a2 + 0x9C);
    v58 = (float)((float)(*(float *)&n0x3FC00000_6 * v55) - (float)(*(float *)&n0x3F800000_1 * v54))
        + (float)(v57 * v50.m128_f32[0]);
    v59 = (float)((float)(v56 * *(float *)&n0x3F800000_1) - (float)(v50.m128_f32[0] * v55))
        + (float)(v57 * *(float *)&n0x3FC00000_6);
    v60 = (float)((float)(v50.m128_f32[0] * v54) - (float)(*(float *)&n0x3FC00000_6 * v56))
        + (float)(v57 * *(float *)&n0x3F800000_1);
    *((_QWORD *)&n0x3F800000_1 + 1) = v50.m128_u64[1];
    *(double *)&n0x3F800000_1 = (float)((float)(v50.m128_f32[0] + (float)((float)(v59 * v55) - (float)(v60 * v54)))
                                      + (float)((float)(v59 * v55) - (float)(v60 * v54)))
                              * *(double *)(a2 + 0x48);
    n0x3F800000_3 = n0x3F800000_1;
    __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
    *((_QWORD *)&n0x3F800000_1 + 1) = *((_QWORD *)&n0x3FC00000_6 + 1);
    *(double *)&n0x3F800000_1 = (float)((float)(*(float *)&n0x3FC00000_6
                                              + (float)((float)(v56 * v60) - (float)(v58 * v55)))
                                      + (float)((float)(v56 * v60) - (float)(v58 * v55)))
                              * *(double *)(a2 + 0x50);
    n0x3F800000_4 = n0x3F800000_1;
    __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
    *((_QWORD *)&n0x3F800000_1 + 1) = *((_QWORD *)&n0x3F800000_2 + 1);
    *(double *)&n0x3F800000_1 = (float)((float)(*(float *)&n0x3F800000_2
                                              + (float)((float)(v58 * v54) - (float)(v56 * v59)))
                                      + (float)((float)(v58 * v54) - (float)(v56 * v59)))
                              * *(double *)(a2 + 0x58);
    n0x3F800000_5 = n0x3F800000_1;
    __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
    v67 = (float)((float)(*(float *)&_XMM8 * v54) - (float)(*(float *)&_XMM9 * v55)) + (float)(*(float *)&_XMM10 * v57);
    v68 = (float)((float)(*(float *)&_XMM10 * v55) - (float)(*(float *)&_XMM8 * v56)) + (float)(*(float *)&_XMM9 * v57);
    v69 = (float)((float)(*(float *)&_XMM9 * v56) - (float)(*(float *)&_XMM10 * v54)) + (float)(*(float *)&_XMM8 * v57);
    v70 = (float)(v54 * v69) - (float)(v55 * v68);
    v71 = (float)(v55 * v67) - (float)(v56 * v69);
    v72 = (float)(v56 * v68) - (float)(v54 * v67);
    v73 = (float)((float)(*(float *)&_XMM10 + v70) + v70);
    v74 = *(float *)&_XMM8 + v72;
    v75 = *(float *)&_XMM9 + v71;
  }
  *(double *)(a2 + 0xC8) = (float)(v74 + v72);
  *(double *)(a2 + 0xC0) = (float)(v75 + v71);
  *(double *)(a2 + 0xB8) = v73;
  return result;
}

// --- End Function: sub_1467987E0 (0x1467987E0) ---

// --- Function: sub_146798E80 (0x146798E80) ---
unsigned __int64 __fastcall sub_146798E80(__int64 a1)
{
  unsigned __int64 result; // rax

  if ( (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
    return sub_1467987E0(a1, a1 + 0x5B0);
  return result;
}

// --- End Function: sub_146798E80 (0x146798E80) ---

// --- Function: sub_14679E530 (0x14679E530) ---
__int64 __fastcall sub_14679E530(Parameter *Parameter, __int64 a2, int n8, int a4)
{
  __int64 n8_5; // rax
  int n8_4; // r15d
  __int64 v8; // rbx
  __int64 v9; // rdx
  int n8_2; // ebp
  __int64 v11; // rdi
  _DWORD *v12; // r14
  __int64 v13; // r12
  __int64 v14; // rcx
  __int64 v15; // rdx
  float v20; // xmm3_4
  float v21; // xmm6_4
  float v22; // xmm7_4
  bool v23; // cc
  int n8_3; // eax
  float v25; // xmm7_4
  float v26; // xmm9_4
  float v27; // xmm10_4
  signed int v28; // r8d
  float v31; // xmm9_4
  float v32; // xmm5_4
  float v33; // xmm10_4
  float v34; // xmm12_4
  __int64 v35; // rcx
  float *v36; // rax
  float v37; // xmm8_4
  float v38; // xmm7_4
  float v39; // xmm13_4
  float v40; // xmm14_4
  float v41; // xmm15_4
  float v42; // xmm3_4
  float v43; // xmm1_4
  float v44; // xmm9_4
  float v45; // xmm11_4
  float v46; // xmm1_4
  float v47; // xmm12_4
  float v48; // xmm0_4
  float v49; // xmm10_4
  float v50; // xmm5_4
  float v51; // xmm8_4
  float v52; // xmm7_4
  float v53; // kr00_4
  float v54; // xmm1_4
  float v55; // xmm5_4
  float v56; // xmm6_4
  float v57; // xmm3_4
  float v58; // xmm1_4
  float v59; // xmm4_4
  float v60; // xmm5_4
  float v61; // xmm6_4
  double v62; // xmm7_8
  double v63; // xmm9_8
  double v64; // xmm10_8
  double v65; // xmm11_8
  double v66; // xmm12_8
  double v67; // xmm13_8
  double v68; // xmm11_8
  double v70; // xmm12_8
  double v72; // xmm13_8
  float v73; // xmm6_4
  float v74; // xmm7_4
  float v75; // xmm4_4
  float *v80; // rax
  __m128 v81; // xmm5
  float v82; // xmm10_4
  __m128 v83; // kr00_16
  float v86; // xmm2_4
  __int128 n0x3FC00000; // kr00_16
  __int128 n0x3FC00000_1; // xmm1
  __int128 n0x3FC00000_2; // xmm15
  float v90; // xmm9_4
  __int128 n0x3FC00000_4; // xmm14
  __int128 n0x3FC00000_3; // kr00_16
  float *v93; // rax
  __int64 v94; // rcx
  float v95; // xmm10_4
  double v96; // xmm7_8
  double v97; // xmm5_8
  double v98; // xmm6_8
  __int128 v99; // kr00_16
  float *v105; // rax
  __int64 v106; // rcx
  float v107; // xmm0_4
  __int128 v108; // xmm1
  __int128 v109; // kr00_16
  double v110; // xmm7_8
  double v111; // xmm6_8
  __int128 v112; // xmm5
  float *v121; // rax
  __int64 v122; // rcx
  double v123; // xmm7_8
  double v124; // xmm6_8
  double v125; // xmm5_8
  __int128 v126; // kr00_16
  double v129; // xmm0_8
  float *v134; // rax
  __int64 v135; // rcx
  __int128 v136; // xmm0
  float v137; // xmm1_4
  __int128 v138; // kr00_16
  double v139; // xmm6_8
  __int128 v140; // xmm5
  double v141; // xmm7_8
  __int128 v149; // kr00_16
  __int128 v150; // kr00_16
  float v153; // [rsp+20h] [rbp-1B8h]
  float v154; // [rsp+24h] [rbp-1B4h]
  float v155; // [rsp+28h] [rbp-1B0h]
  float v156; // [rsp+30h] [rbp-1A8h]
  float v157; // [rsp+38h] [rbp-1A0h]
  float v158; // [rsp+40h] [rbp-198h]
  double v159; // [rsp+40h] [rbp-198h]
  double v160; // [rsp+48h] [rbp-190h]
  float v161; // [rsp+48h] [rbp-190h]
  float v162; // [rsp+50h] [rbp-188h]
  float v163; // [rsp+54h] [rbp-184h]
  float v164; // [rsp+58h] [rbp-180h]
  double v165; // [rsp+60h] [rbp-178h]
  __int64 v166; // [rsp+68h] [rbp-170h]
  _DWORD v167[3]; // [rsp+70h] [rbp-168h] BYREF
  float v168[3]; // [rsp+7Ch] [rbp-15Ch] BYREF
  double v169; // [rsp+88h] [rbp-150h]
  double v170; // [rsp+98h] [rbp-140h]
  double v171; // [rsp+A8h] [rbp-130h]
  _DWORD v172[13]; // [rsp+B0h] [rbp-128h] BYREF
  float v173; // [rsp+E4h] [rbp-F4h]
  float v174; // [rsp+E8h] [rbp-F0h]
  float v175; // [rsp+ECh] [rbp-ECh]
  __int64 v176; // [rsp+F0h] [rbp-E8h]
  int n8_1; // [rsp+1F0h] [rbp+18h]
  int v178; // [rsp+1F8h] [rbp+20h]

  v178 = a4;
  n8_1 = n8;
  n8_5 = (unsigned int)(n8 - 1);
  n8_4 = 0;
  if ( n8 - 1 <= 0 )
    return n8_5;
  v8 = a2 + 0x20;
  v9 = 0;
  v166 = 0;
  do
  {
    n8_2 = n8_4 + 1;
    if ( n8_4 + 1 >= n8 )
      goto LABEL_42;
    v11 = v8 + 0xC0;
    v12 = (_DWORD *)(0x140000000LL + 8 * (v9 + 0x801LL * a4) + 0x113CBD6C);
    v13 = v9 + 0x801LL * a4;
    do
    {
      v14 = qword_1513C9D60[v13];
      v15 = *(_QWORD *)(v12 + 0xFFFFF7FF);
      if ( v14 == v15 && dword_1513CBD64[2 * v13] == *v12 || !(*(_DWORD *)(v14 + 0xF4) + *(_DWORD *)(v15 + 0xF4)) )
      {
        _XMM0 = *(unsigned int *)(v8 + 0x5C);
        _XMM1 = *(unsigned int *)(v11 + 0x5C);
        __asm
        {
          vmaxss  xmm2, xmm0, xmm8
          vmaxss  xmm0, xmm1, xmm8
        }
        if ( (float)(*(float *)&_XMM2 + *(float *)&_XMM0) <= 0.0 )
        {
          v20 = *(float *)(v8 + 0x50);
          v21 = *(float *)(v8 + 0x4C);
          v22 = *(float *)(v8 + 0x54);
          if ( (float)((float)((float)(v20 * *(float *)(v11 + 0x50)) + (float)(v21 * *(float *)(v11 + 0x4C)))
                     + (float)(v22 * *(float *)(v11 + 0x54))) < -0.85000002 )
          {
            if ( *(_DWORD *)(v14 + 0xF4) )
            {
              v23 = v20 * (*(double *)(v8 + 0x30) - *((double *)Parameter + 0xC6))
                  + v21 * (*(double *)(v8 + 0x28) - *((double *)Parameter + 0xC5))
                  + v22 * (*(double *)(v8 + 0x38) - *((double *)Parameter + 0xC7)) <= 0.0;
LABEL_12:
              n8_3 = n8_2;
              if ( !v23 )
                n8_3 = n8_4;
              *(_QWORD *)(0xC0LL * n8_3 + a2) = 0xBFF0000000000000uLL;
              goto LABEL_40;
            }
            v25 = 0.0;
            v26 = 0.0;
            v27 = 0.0;
            if ( *((_DWORD *)Parameter + 0xA4) == 1 )
            {
              (*(void (__fastcall **)(_QWORD, _DWORD *))(****((_QWORD ****)Parameter + 0x47) + 0x30LL))(
                ***((_QWORD ***)Parameter + 0x47),
                v172);
              v155 = v175 - *(&v173 + (COERCE_UNSIGNED_INT(v174 - v173) >> 0x1F));
              v28 = ((COERCE_UNSIGNED_INT(v174 - v173) >> 0x1F) | (2 * (LODWORD(v155) >> 0x1F)))
                  & ((int)(((COERCE_UNSIGNED_INT(v174 - v173) >> 0x1F) | (2 * (LODWORD(v155) >> 0x1F))) ^ 2 | 4) >> 1);
              _XMM0 = *((unsigned int *)&v173 + dword_149987970[v28]);
              __asm { vmaxss  xmm1, xmm0, [rsp+rax*4+1D8h+var_F4] }
              if ( (float)(*(float *)&_XMM1 * 0.1) > *(&v173 + v28) )
              {
                v31 = *((float *)Parameter + 0x77);
                v32 = *((float *)Parameter + 0x76);
                v33 = *((float *)Parameter + 0x78);
                v34 = *((float *)Parameter + 0x79);
                v35 = 3 * v28;
                v36 = (float *)*((_QWORD *)Parameter + 0x46);
                v37 = v36[1];
                v38 = v36[2];
                v39 = v36[3];
                v40 = (float)(v39 * v34)
                    - (float)((float)((float)(*v36 * v32) + (float)(v37 * v31)) + (float)(v38 * v33));
                v41 = (float)((float)((float)(v38 * v31) - (float)(v33 * v37)) + (float)(*v36 * v34))
                    + (float)(v32 * v39);
                v42 = (float)(v32 * v37) - (float)(*v36 * v31);
                v43 = v31 * v39;
                v44 = *(float *)&v172[v35];
                v45 = (float)((float)((float)(v33 * *v36) - (float)(v38 * v32)) + (float)(v37 * v34)) + v43;
                v46 = v38 * v34;
                v47 = *(float *)&v172[v35 + 2];
                v48 = v33 * v39;
                v49 = *(float *)&v172[v35 + 1];
                v50 = (float)(v42 + v46) + v48;
                v51 = (float)((float)(v45 * v47) - (float)(v50 * v49)) + (float)(v40 * v44);
                v52 = (float)((float)(v50 * v44) - (float)(v41 * v47)) + (float)(v40 * v49);
                v53 = (float)((float)(v41 * v49) - (float)(v45 * v44)) + (float)(v40 * v47);
                v54 = v52 * v50;
                v55 = (float)(v51 * v50) - (float)(v53 * v41);
                v56 = (float)(v53 * v45) - v54;
                v57 = (float)(v52 * v41) - (float)(v51 * v45);
                v58 = v55 + v49;
                v25 = (float)(v56 + v44) + v56;
                v27 = (float)(v57 + v47) + v57;
                v26 = v58 + v55;
              }
              n8 = n8_1;
            }
            v59 = *(float *)(v8 + 0x44);
            v60 = *(float *)(v8 + 0x40);
            v61 = *(float *)(v8 + 0x48);
            if ( fabs((float)((float)(v59 * v26) + (float)(v25 * v60)) + (float)(v61 * v27)) > 0.94
              || (v62 = *(double *)(v8 + 0x28),
                  v63 = *(double *)(v11 + 0x28),
                  v64 = *(double *)(v8 + 0x30),
                  v65 = *(double *)(v11 + 0x30),
                  v66 = *(double *)(v8 + 0x38),
                  v67 = *(double *)(v11 + 0x38),
                  (v62 - v63) * v60 + (v64 - v65) * v59 + (v66 - v67) * v61 < 0.0)
              && *(float *)(v11 + 0x40) * (v63 - v62)
               + (v65 - v64) * *(float *)(v11 + 0x44)
               + (v67 - v66) * *(float *)(v11 + 0x48) < 0.0 )
            {
              v68 = *(double *)(v8 + 0x28);
              _XMM0 = COERCE_UNSIGNED_INT64(v68 - *((double *)Parameter + 0xC5));
              v70 = *(double *)(v8 + 0x30);
              _XMM1 = COERCE_UNSIGNED_INT64(v70 - *((double *)Parameter + 0xC6));
              v72 = *(double *)(v8 + 0x38);
              v73 = *(float *)(v8 + 0x50);
              v74 = *(float *)(v8 + 0x4C);
              v75 = *(float *)(v8 + 0x54);
              __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
              v163 = *(float *)&_XMM0;
              __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
              v162 = *(float *)&_XMM0;
              _XMM0 = COERCE_UNSIGNED_INT64(v72 - *((double *)Parameter + 0xC7));
              __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
              v164 = *(float *)&_XMM0;
              if ( (float)((float)((float)((float)((float)(v73 * v73) + (float)(v74 * v74)) + (float)(v75 * v75))
                                 * 0.80999994)
                         - (float)(v74 * v74)) >= 0.0 )
              {
                LODWORD(v168[2]) = LODWORD(v73) ^ 0x80000000;
                v168[0] = 0.0;
                v168[1] = v75;
                v80 = v168;
              }
              else
              {
                v167[0] = LODWORD(v75) ^ 0x80000000;
                *(float *)&v167[1] = 0.0;
                *(float *)&v167[2] = v74;
                v80 = (float *)v167;
              }
              v81 = (__m128)*(unsigned __int64 *)v80;
              v82 = v80[2];
              v83 = v81;
              v176 = *(_QWORD *)v80;
              v83.m128_f32[0] = (float)((float)(v81.m128_f32[0] * v81.m128_f32[0])
                                      + (float)(*((float *)&v176 + 1) * *((float *)&v176 + 1)))
                              + (float)(v82 * v82);
              if ( v83.m128_f32[0] <= 9.9999997e-21 )
              {
                v90 = 1.0;
                n0x3FC00000_4 = 0;
                n0x3FC00000_2 = 0;
              }
              else
              {
                _XMM0 = _mm_shuffle_ps(v83, v83, 0);
                __asm { vrsqrtps xmm3, xmm0 }
                _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
                v86 = (float)((float)(v83.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5;
                n0x3FC00000 = 0x3FC00000u;
                *(float *)&n0x3FC00000 = (float)(1.5 - v86) * _XMM3.m128_f32[0];
                n0x3FC00000_1 = n0x3FC00000;
                *(float *)&n0x3FC00000 = *(float *)&n0x3FC00000 * *((float *)&v176 + 1);
                n0x3FC00000_2 = n0x3FC00000;
                v90 = *(float *)&n0x3FC00000_1 * v82;
                n0x3FC00000_3 = n0x3FC00000_1;
                *(float *)&n0x3FC00000_3 = *(float *)&n0x3FC00000_1 * v81.m128_f32[0];
                n0x3FC00000_4 = n0x3FC00000_3;
              }
              v93 = *(float **)(v8 - 0x18);
              v94 = *(int *)(v8 + 0x90);
              v95 = (float)(v90 * v73) - (float)(*(float *)&n0x3FC00000_2 * v75);
              v158 = (float)(*(float *)&n0x3FC00000_4 * v75) - (float)(v90 * v74);
              v154 = (float)(*(float *)&n0x3FC00000_2 * v74) - (float)(*(float *)&n0x3FC00000_4 * v73);
              v96 = v93[2] + *(double *)v8 - v72;
              v97 = v93[1] + *(double *)(v8 - 8) - v70;
              v98 = *v93 + *(double *)(v8 - 0x10) - v68;
              *((_QWORD *)&v99 + 1) = *((_QWORD *)&n0x3FC00000_4 + 1);
              *(double *)&v99 = *(float *)&n0x3FC00000_4 * v98 + *(float *)&n0x3FC00000_2 * v97 + v90 * v96;
              _XMM2 = v99;
              __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
              v160 = v95;
              *((_QWORD *)&v99 + 1) = 0;
              *(double *)&v99 = v97 * v158 + v98 * v95 + v96 * v154;
              _XMM0 = v99;
              __asm
              {
                vcvtsd2ss xmm0, xmm0, xmm0
                vunpcklps xmm2, xmm3, xmm0
              }
              v169 = *(double *)&_XMM2;
              v157 = v90;
              v153 = v95;
              v156 = *(float *)&_XMM0;
              if ( v94 <= 1 )
              {
                v161 = *((float *)&v169 + 1);
              }
              else
              {
                v105 = v93 + 5;
                v106 = v94 - 1;
                do
                {
                  v107 = v105[0xFFFFFFFE];
                  v108 = *((unsigned int *)v105 + 0xFFFFFFFF);
                  v105 += 3;
                  *((_QWORD *)&v109 + 1) = *((_QWORD *)&v108 + 1);
                  v110 = v105[0xFFFFFFFD] + *(double *)v8 - v72;
                  v111 = v107 + *(double *)(v8 - 0x10) - v68;
                  *(double *)&v109 = *(float *)&v108 + *(double *)(v8 - 8) - v70;
                  v112 = v109;
                  *((_QWORD *)&v109 + 1) = *((_QWORD *)&n0x3FC00000_2 + 1);
                  *(double *)&v109 = *(float *)&n0x3FC00000_2 * *(double *)&v112
                                   + *(float *)&n0x3FC00000_4 * v111
                                   + v90 * v110;
                  _XMM2 = v109;
                  *((_QWORD *)&v109 + 1) = *((_QWORD *)&v112 + 1);
                  __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
                  *(double *)&v109 = *(double *)&v112 * v158 + v111 * v160 + v110 * v154;
                  _XMM0 = v109;
                  __asm
                  {
                    vcvtsd2ss xmm3, xmm0, xmm0
                    vmaxss  xmm0, xmm4, [rsp+1D8h+var_1A4]
                  }
                  __asm { vmaxss  xmm0, xmm3, [rsp+1D8h+var_1A8] }
                  v156 = *(float *)&_XMM0;
                  __asm
                  {
                    vminss  xmm8, xmm4, xmm8
                    vminss  xmm10, xmm3, xmm10
                  }
                  --v106;
                }
                while ( v106 );
                v161 = *(float *)&_XMM10;
                v95 = v153;
              }
              v121 = *(float **)(v11 - 0x18);
              v122 = *(int *)(v11 + 0x90);
              v123 = v121[2] + *(double *)v11 - v72;
              v124 = *v121 + *(double *)(v11 - 0x10) - v68;
              v125 = v121[1] + *(double *)(v11 - 8) - v70;
              *((_QWORD *)&v126 + 1) = *((_QWORD *)&n0x3FC00000_4 + 1);
              *(double *)&v126 = *(float *)&n0x3FC00000_4 * v124 + *(float *)&n0x3FC00000_2 * v125 + v90 * v123;
              _XMM2 = v126;
              __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
              *((_QWORD *)&v126 + 1) = 0;
              v129 = v124 * v95;
              _XMM6 = (unsigned int)_XMM3;
              *(double *)&v126 = v125 * v158 + v129 + v123 * v154;
              _XMM2 = v126;
              __asm
              {
                vcvtsd2ss xmm5, xmm2, xmm2
                vunpcklps xmm1, xmm6, xmm5
              }
              v170 = *(double *)&_XMM1;
              if ( v122 <= 1 )
              {
                LODWORD(_XMM9) = HIDWORD(v170);
              }
              else
              {
                v159 = v158;
                v165 = v95;
                v134 = v121 + 5;
                v171 = v154;
                v135 = v122 - 1;
                do
                {
                  v136 = *((unsigned int *)v134 + 0xFFFFFFFE);
                  v137 = v134[0xFFFFFFFF];
                  v134 += 3;
                  *((_QWORD *)&v138 + 1) = *((_QWORD *)&v136 + 1);
                  v139 = v137 + *(double *)(v11 - 8) - v70;
                  *(double *)&v138 = *(float *)&v136 + *(double *)(v11 - 0x10) - v68;
                  v140 = v138;
                  v141 = v134[0xFFFFFFFD] + *(double *)v11 - v72;
                  *((_QWORD *)&v138 + 1) = *((_QWORD *)&n0x3FC00000_4 + 1);
                  *(double *)&v136 = v139 * v159;
                  *(double *)&v138 = *(float *)&n0x3FC00000_4 * *(double *)&v140
                                   + *(float *)&n0x3FC00000_2 * v139
                                   + v157 * v141;
                  _XMM2 = v138;
                  *((_QWORD *)&v138 + 1) = *((_QWORD *)&v140 + 1);
                  __asm
                  {
                    vcvtsd2ss xmm4, xmm2, xmm2
                    vmaxss  xmm6, xmm4, [rsp+1D8h+var_1B8]
                  }
                  *(double *)&v138 = *(double *)&v140 * v165 + *(double *)&v136 + v141 * v171;
                  _XMM0 = v138;
                  __asm
                  {
                    vcvtsd2ss xmm3, xmm0, xmm0
                    vmaxss  xmm5, xmm3, [rsp+1D8h+var_1B4]
                  }
                  __asm
                  {
                    vminss  xmm10, xmm4, xmm10
                    vminss  xmm9, xmm3, xmm9
                  }
                  --v135;
                }
                while ( v135 );
              }
              v149 = LODWORD(v156);
              *(float *)&v149 = (float)((float)(v156 + v161) * 0.5)
                              - (float)((float)(*(float *)&_XMM9 + *(float *)&_XMM5) * 0.5);
              v150 = v149 & 0x7FFFFFFF;
              *(float *)&v150 = (float)(*(float *)&v150 - (float)((float)(v156 - v161) * 0.5))
                              - (float)((float)(*(float *)&_XMM5 - *(float *)&_XMM9) * 0.5);
              _XMM5 = v150;
              __asm { vmaxss  xmm3, xmm5, xmm1 }
              if ( *(float *)&_XMM3 < 0.0 )
              {
                v23 = (float)((float)((float)(v162 * *(float *)(v8 + 0x50)) + (float)(v163 * *(float *)(v8 + 0x4C)))
                            + (float)(v164 * *(float *)(v8 + 0x54))) <= 0.0;
                goto LABEL_12;
              }
            }
          }
        }
      }
LABEL_40:
      ++n8_2;
      v12 += 2;
      v11 += 0xC0;
    }
    while ( n8_2 < n8 );
    v9 = v166;
    n8_5 = (unsigned int)(n8 - 1);
    a4 = v178;
LABEL_42:
    ++v9;
    ++n8_4;
    v8 += 0xC0;
    v166 = v9;
  }
  while ( n8_4 < (int)n8_5 );
  return n8_5;
}

// --- End Function: sub_14679E530 (0x14679E530) ---

// --- Function: sub_1467A19A0 (0x1467A19A0) ---
__int64 __fastcall sub_1467A19A0(
        _QWORD *Parameter,
        __int128 *a2,
        __int64 a3,
        unsigned int *a4,
        __int64 a5,
        int n4_2,
        int a7)
{
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int64 v13; // rsi
  signed __int64 v16; // rdx
  __int64 v17; // rcx
  bool v18; // r10
  int v19; // r9d
  int v20; // r8d
  __int64 v21; // rax
  __int64 v22; // r12
  int v23; // eax
  int v24; // r9d
  __int64 *v25; // r9
  int n0x400_1; // eax
  signed __int64 n4; // rbx
  const char *v28; // rdi
  __int64 *v29; // rax
  __int64 *v30; // rax
  __int64 n4_1; // rsi
  __int64 v32; // rax
  __m128 *v33; // rdi
  signed __int64 n4_4; // rbx
  float *v35; // rsi
  volatile signed __int64 *v36; // rcx
  signed __int64 v37; // rdx
  double *v38; // rcx
  double v39; // xmm6_8
  double v40; // xmm2_8
  double v41; // xmm3_8
  __int128 v42; // kr00_16
  volatile signed __int64 *v45; // rcx
  unsigned __int64 v46; // rdx
  __int64 n0x400; // rdx
  __int64 v48; // rcx
  __m128 v49; // xmm1
  __int128 v50; // xmm2
  __int128 v52; // kr00_16
  double v53; // xmm4_8
  double v54; // xmm8_8
  unsigned int v55; // eax
  __m128 v57; // kr00_16
  __m128 v59; // kr00_16
  __int64 v61; // rax
  double v65; // xmm6_8
  double v68; // xmm4_8
  double v71; // xmm9_8
  double v72; // xmm4_8
  double v74; // xmm7_8
  __m128 v81; // xmm2
  int n4_5; // edi
  float v83; // xmm8_4
  _QWORD *v84; // rcx
  __int64 v85; // rcx
  unsigned __int64 v86; // rdi
  int v87; // r15d
  volatile signed __int32 *v88; // rsi
  __int64 v89; // rax
  int n4_6; // edi
  __int64 v91; // r12
  __int64 v92; // r9
  __int64 *v93; // rcx
  __int64 v94; // rcx
  int v95; // esi
  int v96; // eax
  unsigned __int64 v97; // rax
  double v98; // xmm0_8
  int v99; // eax
  double v100; // xmm0_8
  double v101; // xmm0_8
  unsigned int v102; // r15d
  volatile signed __int64 *v103; // rcx
  unsigned __int64 v104; // rax
  signed __int64 n4a; // [rsp+48h] [rbp-C0h]
  unsigned __int8 v107; // [rsp+68h] [rbp-A0h]
  __int64 *v108; // [rsp+70h] [rbp-98h] BYREF
  int v109[2]; // [rsp+78h] [rbp-90h]
  __int128 *v110; // [rsp+80h] [rbp-88h]
  double v111; // [rsp+88h] [rbp-80h]
  __int64 v112; // [rsp+98h] [rbp-70h]
  unsigned int *v113; // [rsp+A0h] [rbp-68h]
  signed __int64 n4_3; // [rsp+A8h] [rbp-60h]
  unsigned __int64 v115; // [rsp+B0h] [rbp-58h]
  __int64 v116; // [rsp+B8h] [rbp-50h]
  volatile signed __int64 *v117; // [rsp+C0h] [rbp-48h]
  double v118; // [rsp+C8h] [rbp-40h] BYREF
  int v119; // [rsp+D0h] [rbp-38h]
  double v120; // [rsp+D8h] [rbp-30h] BYREF
  int v121; // [rsp+E0h] [rbp-28h]
  double v122; // [rsp+E8h] [rbp-20h] BYREF
  int v123; // [rsp+F0h] [rbp-18h]
  int n0x2800_1; // [rsp+F8h] [rbp-10h] BYREF
  __int64 v125; // [rsp+FCh] [rbp-Ch]
  int v126; // [rsp+104h] [rbp-4h]
  __int64 v127; // [rsp+108h] [rbp+0h]
  unsigned __int64 v128; // [rsp+110h] [rbp+8h]
  __int64 v129; // [rsp+118h] [rbp+10h]
  __int64 v130; // [rsp+120h] [rbp+18h]
  int n0x2800; // [rsp+148h] [rbp+40h] BYREF
  __int64 v132; // [rsp+14Ch] [rbp+44h]
  int v133; // [rsp+154h] [rbp+4Ch]
  __int64 v134; // [rsp+158h] [rbp+50h]
  unsigned __int64 v135; // [rsp+160h] [rbp+58h]
  __int64 v136; // [rsp+168h] [rbp+60h]
  __int64 v137; // [rsp+170h] [rbp+68h]
  double v138[3]; // [rsp+198h] [rbp+90h] BYREF
  __int128 v139; // [rsp+1B0h] [rbp+A8h]
  double v140; // [rsp+1C0h] [rbp+B8h]
  __int128 v141; // [rsp+1C8h] [rbp+C0h]
  double v142; // [rsp+1D8h] [rbp+D0h]
  __int64 v143; // [rsp+1E8h] [rbp+E0h] BYREF
  __m256 v144; // [rsp+1F0h] [rbp+E8h]
  __int128 v145; // [rsp+210h] [rbp+108h]
  __int64 v146; // [rsp+220h] [rbp+118h]
  int v147; // [rsp+5A8h] [rbp+4A0h]
  __int128 v148; // [rsp+5C8h] [rbp+4C0h]
  __int128 v149; // [rsp+5D8h] [rbp+4D0h]
  __int128 v150; // [rsp+5E8h] [rbp+4E0h]
  __int128 v151; // [rsp+5F8h] [rbp+4F0h]
  __int128 v152; // [rsp+608h] [rbp+500h]

  v13 = 0;
  v110 = a2;
  v113 = a4;
  v112 = a5;
  n0x2800 = 0x2800;
  v132 = 0;
  v133 = 0;
  v135 = 0;
  v136 = 0;
  v137 = 0;
  v134 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v117 = Parameter + 0x19;
  v16 = _InterlockedIncrement64(Parameter + 0x19);
  if ( (v16 & 0x200000) != 0 )
    sub_1403CD0A0(Parameter + 0x19, v16, (__int64)"CRigidEntity::CheckForNewContacts", (__int64)"m_lockUpdate", 1);
  v18 = 0;
  if ( (Parameter[0x41] & 8) != 0 )
  {
    v17 = *(_QWORD *)Parameter[0x17];
    if ( !v17 || (*(_BYTE *)(v17 + 0x208) & 0x10) != 0 )
      v18 = 1;
  }
  v19 = *((_DWORD *)Parameter + 0xA4);
  v20 = a7;
  v146 = 0;
  v21 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex);
  v143 = 0;
  v22 = *(int *)(v21 + 0x800);
  v23 = *((_DWORD *)Parameter + 0xA5);
  v147 = 0;
  v144 = (__m256)0LL;
  if ( a7 < 0 )
    v20 = 0;
  v109[0] = v22;
  v116 = v22;
  v115 = 0x1E86E8 * v22;
  v24 = v20 | (a7 >> 0x1F) & (v23 & ~(v23 >> 0x1F) | (v23 >> 0x1F) & v19);
  v109[1] = v24;
  LODWORD(qword_14A2EFB70[0x3D0DD * v22 + 0x61F2]) = 0;
  *(_BYTE *)(a3 + 0x79) = 0;
  *a4 = 0xFFFFFFFF;
  v145 = 0;
  if ( v24 <= 0 )
    goto LABEL_78;
  v25 = &v143;
  if ( !v18 )
    v25 = 0;
  __asm { vzeroupper }
  n0x400_1 = (*(__int64 (__fastcall **)(_QWORD *, __int64 **, _QWORD, __int64 *))(*Parameter + 0x390LL))(
               Parameter,
               &v108,
               *(_QWORD *)(*Parameter + 0x390LL),
               v25);
  n4 = n0x400_1;
  if ( n0x400_1 <= 0x400 )
  {
    if ( !n0x400_1 )
    {
LABEL_78:
      v102 = 0;
      HIDWORD(qword_1513CBD68[0x801 * v116 + 0x3FF]) = 0;
      goto LABEL_79;
    }
  }
  else
  {
    n0x2800_1 = 0x2800;
    v125 = 0;
    v126 = 0;
    v128 = 0;
    v129 = 0;
    v130 = 0;
    v127 = 1;
    qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
    v28 = sub_1465FEB70();
    v29 = (__int64 *)*((_QWORD *)v28 + 0x1F);
    if ( !v29 )
    {
      v30 = (__int64 *)sub_1402A63D0(0x18u);
      if ( v30 )
        v29 = sub_1465B1390(v30);
      else
        v29 = 0;
      *((_QWORD *)v28 + 0x1F) = v29;
    }
    n4_1 = n4;
    n4_3 = n4;
    n4 *= 0x10LL;
    v111 = *(double *)&n4;
    v32 = sub_1465E5B30(v29, n4);
    v33 = (__m128 *)v32;
    if ( n4_1 > 0 )
    {
      n4_4 = 0;
      v35 = (float *)(v32 + 0xC);
      do
      {
        v36 = (volatile signed __int64 *)(v108[n4_4] + 0xC8);
        v37 = _InterlockedIncrement64(v36);
        if ( (v37 & 0x200000) != 0 )
          sub_1403CD0A0(v36, v37, (__int64)&Source, (__int64)&Source, 1);
        *(_QWORD *)(v35 + 0xFFFFFFFD) = v108[n4_4];
        v38 = (double *)v108[n4_4];
        v39 = v38[7] - v38[4];
        v40 = v38[5] - v38[2];
        v41 = v38[6] - v38[3];
        *((_QWORD *)&v42 + 1) = 0;
        *(double *)&v42 = v41 * v39 + v40 * v41 + v41 * v39 + v40 * v39 + v40 * v39 + v40 * v41;
        _XMM0 = v42;
        __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
        v35[0xFFFFFFFF] = *(float *)&_XMM3;
        *v35 = (*(float (__fastcall **)(__int64))(*(_QWORD *)v108[n4_4] + 0x2C8LL))(v108[n4_4]);
        v45 = (volatile signed __int64 *)(v108[n4_4] + 0xC8);
        v46 = _InterlockedDecrement64(v45);
        if ( (v46 & 0x3FF) == 0 && (v46 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(v45, v46);
        ++n4_4;
        v35 += 4;
      }
      while ( n4_4 < n4_3 );
      LODWORD(v22) = v109[0];
      n4 = *(_QWORD *)&v111;
    }
    sub_1415FDEE0(v33->m128_f32, (__m128 *)((char *)v33 + n4), n4 >> 4, v107);
    LODWORD(n4) = 0x400;
    sub_14676BDA0(v33->m128_f32, v33 + 0x400, 0x400, v107);
    v13 = 0;
    for ( n0x400 = 0; n0x400 < 0x400; ++n0x400 )
    {
      v48 = v33->m128_u64[0];
      ++v33;
      v108[n0x400] = v48;
    }
    v128 = __rdtsc();
    qword_149A0FD88(&n0x2800_1);
  }
  if ( *(_DWORD *)(Parameter[0x58] + 0x420LL) )
  {
    if ( (*(unsigned int (__fastcall **)(_QWORD *))(*Parameter + 8LL))(Parameter) == 0xA )
    {
      v49 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
      v50 = *((unsigned int *)Parameter + 0x148);
      v52 = v50;
      *(float *)&v52 = *(float *)&v50 * *((float *)Parameter + 0x1A5);
      _XMM3 = v52;
      v53 = *((double *)Parameter + 0x85);
      v54 = *((double *)Parameter + 0x88);
      v55 = *((_DWORD *)Parameter + 0x62);
      v57 = _mm_shuffle_ps(v49, v49, 0x55);
      v57.m128_f32[0] = v57.m128_f32[0] * *(float *)&v50;
      _XMM5 = v57;
      v111 = *(double *)((char *)Parameter + 0x68C);
      v152 = v7;
      v151 = v8;
      v150 = v9;
      v59 = v49;
      v59.m128_f32[0] = v49.m128_f32[0] * *(float *)&v50;
      _XMM11 = v59;
      __asm { vminss  xmm2, xmm5, xmm10 }
      v140 = v53;
      v59.m128_f32[0] = (float)(v55 >> 0x1F);
      v61 = Parameter[0x58];
      v149 = v10;
      _XMM12 = *(_OWORD *)(Parameter + 0x83);
      v148 = v11;
      _XMM13 = *((_OWORD *)Parameter + 0x43);
      __asm { vminss  xmm0, xmm3, xmm10 }
      v65 = *(float *)&_XMM0 + v53;
      __asm
      {
        vmaxss  xmm1, xmm3, xmm10
        vunpckhpd xmm0, xmm12, xmm12
      }
      v68 = *(float *)&_XMM2 + *(double *)&_XMM0;
      __asm { vmaxss  xmm2, xmm5, xmm10 }
      *(double *)_XMM5.m128_u64 = *(float *)&_XMM1 + v54;
      __asm { vunpckhpd xmm1, xmm13, xmm13 }
      *(double *)&_XMM3 = *(float *)&_XMM2 + *(double *)&_XMM1;
      *(double *)v59.m128_u64 = (float)((float)(v59.m128_f32[0] * *(float *)(v61 + 0x13C)) * 4.0);
      v71 = v68 - *(double *)v59.m128_u64;
      v72 = *(double *)v59.m128_u64 + *(double *)_XMM5.m128_u64;
      __asm { vminss  xmm0, xmm11, xmm10 }
      v74 = *(float *)&_XMM0 + *(double *)&_XMM12 - *(double *)v59.m128_u64;
      __asm { vmaxss  xmm0, xmm11, xmm10 }
      *(double *)_XMM5.m128_u64 = *(float *)&_XMM0 + *(double *)&_XMM13 + *(double *)v59.m128_u64;
      v142 = v54;
      v59.m128_u64[1] = 0;
      v138[0] = (*(double *)_XMM5.m128_u64 + v74) * 0.5;
      v138[1] = (*(double *)v59.m128_u64 + *(double *)&_XMM3 + v71) * 0.5;
      v138[2] = (v72 + v65 - *(double *)v59.m128_u64) * 0.5;
      *(double *)v59.m128_u64 = ((*(double *)v59.m128_u64 + *(double *)&_XMM3 - v71)
                               * (*(double *)v59.m128_u64 + *(double *)&_XMM3 - v71)
                               + (*(double *)_XMM5.m128_u64 - v74) * (*(double *)_XMM5.m128_u64 - v74)
                               + (v72 - (v65 - *(double *)v59.m128_u64)) * (v72 - (v65 - *(double *)v59.m128_u64)))
                              * 0.25;
      _XMM0 = v59;
      __asm
      {
        vmovddup xmm1, xmm0
        vsqrtpd xmm2, xmm1
        vunpckhpd xmm2, xmm2, xmm2
        vcvtsd2ss xmm7, xmm2, xmm2
      }
      v81 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x1F4);
      v139 = _XMM12;
      v141 = _XMM13;
      n4_5 = 0;
      v111 = *(double *)v81.m128_u64;
      v83 = (float)((float)(v81.m128_f32[0] * 2.0) * (float)(_mm_shuffle_ps(v81, v81, 0x55).m128_f32[0] * 2.0))
          * (float)(2.0 * *((float *)Parameter + 0x7F));
      if ( (int)n4 > 0 )
      {
        do
        {
          v84 = (_QWORD *)v108[v13];
          if ( v84[0x44]
            && (*(int (__fastcall **)(_QWORD *))(*v84 + 8LL))(v84) <= 2
            && (v85 = v108[v13],
                v111 = *(double *)(v85 + 0x1F4),
                (float)((float)((float)(*(float *)&v111 * 2.0)
                              * (float)(_mm_shuffle_ps(
                                          (__m128)*(unsigned __int64 *)&v111,
                                          (__m128)*(unsigned __int64 *)&v111,
                                          0x55).m128_f32[0]
                                      * 2.0))
                      * (float)(2.0 * *(float *)(v85 + 0x1FC))) > v83)
            && sub_1468C3DF0(v85, v138).m128_f32[0] >= *(float *)&_XMM7 )
          {
            LODWORD(n4) = n4 - 1;
            memmove(&v108[n4_5], &v108[n4_5 + 1], 8LL * ((int)n4 - n4_5));
          }
          else
          {
            ++n4_5;
            ++v13;
          }
        }
        while ( n4_5 < (int)n4 );
        if ( !(_DWORD)n4 )
          goto LABEL_78;
      }
    }
  }
  v86 = v115;
  v87 = 0;
  v88 = &dword_14A287AFC[v115 / 4];
  *(_QWORD *)&v111 = &dword_14A287AFC[v115 / 4];
  if ( _InterlockedCompareExchange(&dword_14A287AFC[v115 / 4], 0x10000, 0) )
    sub_1403A4CA0(v88, 0, 0x10000);
  *(_DWORD *)((char *)&qword_14A2EFB70[0x61F2] + v86) = 0;
  if ( !*(_BYTE *)(a3 + 0x78) )
  {
    if ( *(_DWORD *)(Parameter[0x58] + 0x3E4LL) )
    {
      v89 = Parameter[0x44];
      if ( v89 )
      {
        if ( *(_BYTE *)(*(_QWORD *)v89 + 0x61LL) )
        {
          if ( ((1 << (*(__int64 (__fastcall **)(_QWORD *))(*Parameter + 8LL))(Parameter))
              & *(_DWORD *)(Parameter[0x58] + 0x3E8LL)) != 0 )
          {
            n4_6 = 0;
            if ( (int)n4 > 0 )
            {
              v91 = 0;
              while ( 1 )
              {
                v92 = v108[v91];
                if ( ((*(int *)(v92 + 0x294) >> 0x1F) & *(_DWORD *)(v92 + 0x290)
                    | *(_DWORD *)(v92 + 0x294) & ~(*(int *)(v92 + 0x294) >> 0x1F)) <= 0
                  || (v93 = *(__int64 **)(v92 + 0x220)) == 0
                  || (v94 = *v93, !*(_BYTE *)(v94 + 0x61))
                  || *(_QWORD *)v94 == *(_QWORD *)(v94 + 8) )
                {
                  ++n4_6;
                  goto LABEL_67;
                }
                v95 = 0;
                switch ( *(_DWORD *)(Parameter[0x58] + 0x3E4LL) )
                {
                  case 1:
                    v96 = sub_1467AE5D0((Parameter *)Parameter, v110, a3, v92, v109[0], 1);
                    break;
                  case 2:
                    v96 = sub_1467ACDB0((Parameter *)Parameter, (__int64)v110, a3, v92, v109[0]);
                    break;
                  case 3:
                    v96 = sub_1467AB720((Parameter *)Parameter, (__int64)v110, a3, v92, v109[0]);
                    break;
                  default:
                    goto LABEL_63;
                }
                v95 = v96;
                v87 += v96;
LABEL_63:
                if ( v95 <= 0 )
                {
                  ++n4_6;
LABEL_67:
                  ++v91;
                  goto LABEL_68;
                }
                LODWORD(n4) = n4 - 1;
                memmove(&v108[n4_6], &v108[n4_6 + 1], 8LL * ((int)n4 - n4_6));
                v97 = v115;
                *(_BYTE *)(a3 + 0x79) = 1;
                *(_DWORD *)((char *)&qword_14A2EFB70[0x61F2] + v97) += v95;
LABEL_68:
                if ( n4_6 >= (int)n4 )
                {
                  LODWORD(v22) = v109[0];
                  v88 = *(volatile signed __int32 **)&v111;
                  break;
                }
              }
            }
          }
        }
      }
    }
  }
  if ( v109[1] == 1 )
  {
    v98 = *(double *)v112;
    v119 = *(_DWORD *)(v112 + 8);
    LODWORD(n4a) = n4;
    v118 = v98;
    v99 = sub_1467A8E10(
            (unsigned __int64)Parameter,
            (__int64)v110,
            a3,
            (__int64)v113,
            (__int64)&v118,
            n4_2,
            1,
            (__int64)v108,
            n4a,
            (__int64)&v143,
            v22);
  }
  else if ( v109[1] > 4 || (int)n4 > 4 )
  {
    v101 = *(double *)v112;
    v123 = *(_DWORD *)(v112 + 8);
    LODWORD(n4a) = n4;
    v122 = v101;
    v99 = sub_1467A2510(
            (Parameter *)Parameter,
            (__int64)v110,
            a3,
            v113,
            (float *)&v122,
            n4_2,
            v109[1],
            v108,
            n4a,
            (__int64)&v143,
            v22);
  }
  else
  {
    v100 = *(double *)v112;
    v121 = *(_DWORD *)(v112 + 8);
    LODWORD(n4a) = n4;
    v120 = v100;
    v99 = sub_1467A64F0(
            (unsigned __int64)Parameter,
            (__int64)v110,
            a3,
            (signed int *)v113,
            COERCE_DOUBLE(&v120),
            n4_2,
            v109[1],
            (__int64)v108,
            n4a,
            (__int64)&v143,
            v22);
  }
  v102 = v99 + v87;
  v109[1] = _InterlockedExchangeAdd(v88, 0xFFFF0000) - 0x10000;
  if ( byte_1499FF3E5 )
    qword_1499FF3F0(v88);
LABEL_79:
  v103 = v117;
  v104 = _InterlockedDecrement64(v117);
  if ( (v104 & 0x3FF) == 0 && (v104 & 0xFFFF0000FFC00000uLL) != 0 )
  {
    __asm { vzeroupper }
    sub_1403CD3A0(v103, v104);
  }
  v135 = __rdtsc();
  __asm { vzeroupper }
  qword_149A0FD88(&n0x2800);
  return v102;
}

// --- End Function: sub_1467A19A0 (0x1467A19A0) ---

// --- Function: sub_1467B0A90 (0x1467B0A90) ---
__int64 __fastcall sub_1467B0A90(Parameter *Parameter, int a2)
{
  __int64 result; // rax
  __int64 v3; // r15
  int v4; // ebx
  int *v5; // rsi
  __int64 v6; // rdi
  __int64 v7; // r14
  __int64 v8; // rbp
  __int64 v9; // rax

  result = a2;
  v3 = 0x801LL * a2;
  v4 = 0;
  if ( SHIDWORD(qword_1513C9D60[v3 + 0x800]) > 0 )
  {
    v5 = (int *)&qword_1513C9D60[v3];
    do
    {
      v6 = *(_QWORD *)v5;
      v7 = 8LL * v5[0x801];
      v8 = *(_QWORD *)(v7 + *(_QWORD *)(*(_QWORD *)v5 + 0x240LL));
      result = v8 & 0x18000000000LL;
      if ( (v8 & 0x18000000000LL) == 0x18000000000LL )
      {
        sub_146615C30(v6 + 0x228);
        v9 = *(_QWORD *)(v6 + 0x2A0);
        _InterlockedOr((volatile signed __int32 *)(v9 + 0x184), 0x10u);
        result = *(_QWORD *)(v9 + 0x20);
        *(_QWORD *)(v7 + result) = v8 & 0xFFFFFEFFFFFFFFFFuLL;
      }
      ++v4;
      v5 += 2;
    }
    while ( v4 < SHIDWORD(qword_1513C9D60[v3 + 0x800]) );
  }
  return result;
}

// --- End Function: sub_1467B0A90 (0x1467B0A90) ---

// --- Function: sub_1467B2AD0 (0x1467B2AD0) ---
unsigned __int64 __fastcall sub_1467B2AD0(Parameter *Parameter)
{
  volatile signed __int64 *v2; // rdi
  __int64 v3; // rax
  int v4; // r8d
  int v5; // r8d
  unsigned __int64 n0x200000; // rax

  v2 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  v3 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x19, 0x200000, 0);
  if ( v3 )
    sub_1403DE750((__int64)Parameter + 0xC8, v3, 0, (__int64)"CRigidEntity::ComputeBBoxRE", (__int64)"m_lockUpdate", 1);
  v4 = *((_DWORD *)Parameter + 0xA4);
  if ( *((_DWORD *)Parameter + 0x112) < v4 )
    v4 = *((_DWORD *)Parameter + 0x112);
  v5 = (v4 - 3) >> 0x1F;
  if ( (*((_BYTE *)Parameter + 0x384) & 0x20) != 0 )
    LOBYTE(v5) = 0;
  n0x200000 = (*(__int64 (__fastcall **)(Parameter *, char *, _QWORD))(*(_QWORD *)Parameter + 0x130LL))(
                Parameter,
                (char *)Parameter + 0x418,
                v5 & 1 | 2u);
  _XMM5 = *((unsigned __int64 *)Parameter + 0x7F);
  _XMM1 = *(_OWORD *)((char *)Parameter + 0x3E8);
  __asm { vminpd  xmm1, xmm1, xmmword ptr [rsi+418h] }
  *((_OWORD *)Parameter + 1) = _XMM1;
  __asm { vminsd  xmm0, xmm5, qword ptr [rsi+428h] }
  *((double *)Parameter + 4) = *(double *)&_XMM0;
  _XMM1 = *((_OWORD *)Parameter + 0x40);
  _XMM5 = *((unsigned __int64 *)Parameter + 0x82);
  __asm { vmaxpd  xmm1, xmm1, xmmword ptr [rsi+430h] }
  *(_OWORD *)((char *)Parameter + 0x28) = _XMM1;
  __asm { vmaxsd  xmm0, xmm5, qword ptr [rsi+440h] }
  *((double *)Parameter + 7) = *(double *)&_XMM0;
  if ( v2 )
  {
    n0x200000 = _InterlockedCompareExchange64(v2, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v2, n0x200000);
  }
  return n0x200000;
}

// --- End Function: sub_1467B2AD0 (0x1467B2AD0) ---

// --- Function: sub_1467B4760 (0x1467B4760) ---
__int64 __fastcall sub_1467B4760(__int64 a1)
{
  char v2; // r15
  volatile signed __int64 *v3; // r14
  _QWORD **v4; // rsi
  __int64 v5; // rax
  _QWORD *v6; // rdx
  _QWORD *v7; // rdi
  char v8; // bp
  int v9; // eax
  __int64 v10; // rdi
  __int64 v11; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v13; // rax
  unsigned __int64 n0x200000_1; // rax
  int n0x2800; // [rsp+30h] [rbp-78h] BYREF
  __int64 v17; // [rsp+34h] [rbp-74h]
  int v18; // [rsp+3Ch] [rbp-6Ch]
  __int64 v19; // [rsp+40h] [rbp-68h]
  unsigned __int64 v20; // [rsp+48h] [rbp-60h]
  __int64 v21; // [rsp+50h] [rbp-58h]
  __int64 v22; // [rsp+58h] [rbp-50h]

  n0x2800 = 0x2800;
  v17 = 0;
  v18 = 0;
  v20 = 0;
  v21 = 0;
  v22 = 0;
  v19 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v2 = 0;
  v3 = (volatile signed __int64 *)(a1 + 0x8C8);
  v4 = (_QWORD **)(a1 + 0x4D0);
  while ( 1 )
  {
    v5 = _InterlockedCompareExchange64(v3, 0x200000, 0);
    if ( v5 )
      sub_1403DE750(a1 + 0x8C8, v5, 0, (__int64)"CRigidEntity::DetachAllContacts", (__int64)"m_lockContacts", 1);
    v6 = *v4;
    if ( *v4 != v4 )
    {
      do
      {
        v7 = (_QWORD *)*v6;
        sub_1469222F0(*(_QWORD *)(a1 + 0x2C0));
        v6 = v7;
      }
      while ( v7 != v4 );
    }
    *(_DWORD *)(a1 + 0x4A4) &= ~0x20000000u;
    v8 = 0;
    v9 = *(_DWORD *)(a1 + 0x148) - 1;
    *(_DWORD *)(a1 + 0x4E0) = 0;
    v10 = v9;
    *(_QWORD *)(a1 + 0x4D8) = v4;
    *v4 = v4;
    for ( *(_QWORD *)(a1 + 0x5A8) = 0; v10 >= 0; --v10 )
    {
      *(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8 * v10) = 0;
      if ( !*(_QWORD *)(*(_QWORD *)(a1 + 0x4C8) + 8 * v10) )
      {
        v11 = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * v10);
        if ( !(*(unsigned int (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)v11 + 0x258LL))(v11, a1, 0)
          && (unsigned int)sub_1467E0E20(a1, *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + 8 * v10), 1, 0, 1) == 0xFFFFFFFE )
        {
          v8 = 1;
        }
      }
    }
    if ( a1 != 0xFFFFFFFFFFFFF738uLL )
    {
      n0x200000 = _InterlockedCompareExchange64(v3, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C8), n0x200000);
    }
    if ( !v8 )
      break;
    if ( !v2 )
    {
      v13 = _InterlockedCompareExchange64(&qword_151445E78, 0x200000, 0);
      if ( v13 )
        sub_1403DE750((__int64)&qword_151445E78, v13, 0, (__int64)&Source, (__int64)&Source, 1);
      v2 = 1;
    }
  }
  if ( v2 )
  {
    n0x200000_1 = _InterlockedCompareExchange64(&qword_151445E78, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0(&qword_151445E78, n0x200000_1);
  }
  v20 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_1467B4760 (0x1467B4760) ---

// --- Function: sub_1467B49B0 (0x1467B49B0) ---
unsigned __int64 __fastcall sub_1467B49B0(__int64 a1, unsigned __int64 *a2, int a3, int a4, int a5)
{
  int v5; // esi
  volatile signed __int64 *v6; // rbp
  __int64 v9; // r8
  __int64 v12; // r15
  __int64 n0x200000; // r9
  __int64 v14; // rax
  unsigned __int64 *v15; // rax
  volatile signed __int64 *v16; // r12
  signed __int64 v17; // rdx
  int v18; // ecx
  _QWORD *v19; // rax
  __int64 v20; // rdx
  int v21; // ecx
  __int64 v22; // rbx
  unsigned __int64 n0x200000_1; // rax
  __int64 v25; // rdi
  int v26; // ebx
  __int64 v27; // rsi
  int v28; // eax
  const char *p_Unknown; // r13
  __int64 v30; // rdi
  int v31; // ebx
  __int64 v32; // rsi
  int v33; // eax
  const char *v34; // rax
  unsigned __int64 v35; // rdx
  unsigned int v36; // [rsp+70h] [rbp+18h]

  v5 = a5;
  v6 = (volatile signed __int64 *)(a1 + 0x8C8);
  v9 = 0;
  v12 = 0;
  n0x200000 = 0x200000;
  if ( a5 )
  {
    v14 = _InterlockedCompareExchange64(v6, 0x200000, 0);
    if ( v14 )
    {
      sub_1403DE750(a1 + 0x8C8, v14, 0, (__int64)"CRigidEntity::DetachContact", (__int64)"m_lockContacts", 1);
      v9 = 0;
      n0x200000 = 0x200000;
    }
  }
  v15 = *(unsigned __int64 **)(a1 + 0x5A8);
  v16 = (volatile signed __int64 *)(a1 + 0x150);
  if ( v15 == a2 )
    v15 = 0;
  *(_QWORD *)(a1 + 0x5A8) = v15;
  *(_QWORD *)a2[1] = *a2;
  *(_QWORD *)(*a2 + 8) = a2[1];
  v36 = (unsigned int)a3 >> 0x1F;
  if ( a3 < 0 )
  {
    v17 = _InterlockedIncrement64(v16);
    if ( (v17 & 0x200000) != 0 )
    {
      sub_1403CD0A0(
        (volatile signed __int64 *)(a1 + 0x150),
        v17,
        (__int64)"CRigidEntity::DetachContact",
        (__int64)"m_lockColliders",
        1);
      v9 = 0;
    }
  }
  if ( a3 < 0 )
  {
    v18 = *(_DWORD *)(a1 + 0x148);
    a3 = 0;
    if ( v18 > 0 )
    {
      v19 = *(_QWORD **)(a1 + 0x140);
      do
      {
        if ( *v19 == a2[4] )
          break;
        ++a3;
        ++v19;
      }
      while ( a3 < v18 );
    }
  }
  v20 = *(_QWORD *)(a1 + 0x4C0);
  v21 = *((_DWORD *)a2 + 0x25) & 0x80000;
  v22 = 8LL * a3;
  if ( *(unsigned __int64 **)(v20 + v22) == a2 )
  {
    n0x200000_1 = 0;
    if ( !v21 )
      n0x200000_1 = *a2;
    *(_QWORD *)(v20 + v22) = n0x200000_1;
    if ( a4 )
    {
      n0x200000_1 = *(_QWORD *)(a1 + 0x140);
      v20 = *(_QWORD *)(v22 + n0x200000_1);
      if ( a2[4] == v20 )
      {
        n0x200000_1 = (*(__int64 (__fastcall **)(__int64, __int64, _QWORD, __int64))(*(_QWORD *)a1 + 0x240LL))(
                        a1,
                        v20,
                        0,
                        n0x200000);
        if ( !(_DWORD)n0x200000_1 )
        {
          n0x200000_1 = (*(__int64 (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v22 + *(_QWORD *)(a1 + 0x140))
                                                                   + 0x240LL))(
                          *(_QWORD *)(v22 + *(_QWORD *)(a1 + 0x140)),
                          a1);
          if ( !(_DWORD)n0x200000_1 )
          {
            n0x200000_1 = *(_QWORD *)(a1 + 0x140);
            v12 = *(_QWORD *)(v22 + n0x200000_1);
          }
        }
      }
    }
  }
  else
  {
    n0x200000_1 = a2[1];
    *(_DWORD *)(n0x200000_1 + 0x94) |= v21;
  }
  if ( --*(_DWORD *)(a1 + 0x4E0) < 0 )
  {
    if ( v12 )
    {
      v25 = *(_QWORD *)(v12 + 0xD0);
      v26 = *(_DWORD *)(v12 + 0xEC);
      v27 = *(_QWORD *)(v12 + 0xC0);
      v28 = (*(__int64 (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)v12 + 8LL))(
              v12,
              v20,
              v9,
              n0x200000);
      p_Unknown = (const char *)sub_1468FA8F0(v28, v27, (__int16)v26, v26 >> 0x10, v25, 0);
    }
    else
    {
      p_Unknown = "Unknown";
    }
    v30 = *(_QWORD *)(a1 + 0xD0);
    v31 = *(_DWORD *)(a1 + 0xEC);
    v32 = *(_QWORD *)(a1 + 0xC0);
    v33 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
    v34 = (const char *)sub_1468FA8F0(v33, v32, (__int16)v31, v31 >> 0x10, v30, 0);
    n0x200000_1 = (unsigned __int64)LogFatalError(
                                      "DetachContact removed a non-existing contact. Entity: %s. Collider: %s",
                                      v34,
                                      p_Unknown);
    v5 = a5;
  }
  if ( (_BYTE)v36 )
  {
    v35 = _InterlockedDecrement64(v16);
    if ( (v35 & 0x3FF) == 0 )
    {
      n0x200000_1 = 0xFFFF0000FFC00000uLL;
      if ( (v35 & 0xFFFF0000FFC00000uLL) != 0 )
        n0x200000_1 = sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x150), v35);
    }
  }
  if ( v6 )
  {
    if ( v5 )
    {
      n0x200000_1 = _InterlockedCompareExchange64(v6, 0, 0x200000);
      if ( n0x200000_1 != 0x200000 )
        n0x200000_1 = sub_1403DEBA0(v6, n0x200000_1);
    }
  }
  if ( v12 )
  {
    LOBYTE(v9) = 1;
    return sub_1467E0E20(a1, v12, v9, v5, 0);
  }
  return n0x200000_1;
}

// --- End Function: sub_1467B49B0 (0x1467B49B0) ---

// --- Function: CRigidEntity::DetachPartContacts (0x1467B4CA0) ---
__int64 __fastcall CRigidEntity::DetachPartContacts(__int64 a1, int a2, int a3, __int64 a4, int a5, int a6)
{
  volatile signed __int64 *v6; // rsi
  __int64 n0x200000; // rax
  unsigned __int64 v11; // rbx
  int v12; // r12d
  unsigned __int64 v13; // rdi
  volatile signed __int64 *v14; // [rsp+70h] [rbp+8h]
  int v15; // [rsp+78h] [rbp+10h]

  v15 = a2;
  v6 = (volatile signed __int64 *)(a1 + 0x8C8);
  v14 = (volatile signed __int64 *)(a1 + 0x8C8);
  n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C8), 0x200000, 0);
  if ( n0x200000 )
  {
    n0x200000 = sub_1403DE750(
                  a1 + 0x8C8,
                  n0x200000,
                  0,
                  (__int64)"CRigidEntity::DetachPartContacts",
                  (__int64)"m_lockContacts",
                  1);
    a2 = v15;
  }
  v11 = *(_QWORD *)(a1 + 0x4D0);
  if ( v11 != a1 + 0x4D0 )
  {
    v12 = -a3;
    do
    {
      n0x200000 = (unsigned int)*(__int16 *)(v11 + 0x7C);
      v13 = *(_QWORD *)v11;
      if ( (_DWORD)n0x200000 + (v12 & (*(__int16 *)(v11 + 0x7E) - (_DWORD)n0x200000)) == a2
        && *(_QWORD *)(v11 + 8LL * a5 + 0x18) == a4 )
      {
        sub_1467B49B0(a1, (unsigned __int64 *)v11, 0xFFFFFFFF, a6, 0);
        n0x200000 = sub_1469222F0(*(_QWORD *)(a1 + 0x2C0));
        a2 = v15;
      }
      v11 = v13;
    }
    while ( v13 != a1 + 0x4D0 );
    v6 = v14;
  }
  if ( v6 )
  {
    n0x200000 = _InterlockedCompareExchange64(v6, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v6, n0x200000);
  }
  return n0x200000;
}

// --- End Function: CRigidEntity::DetachPartContacts (0x1467B4CA0) ---

// --- Function: CRigidEntity::DisablePhysicsSync (0x1467B4DE0) ---
void __fastcall CRigidEntity::DisablePhysicsSync(__int64 a1, char a2)
{
  volatile signed __int64 *v4; // rdi
  __int64 v5; // rax
  __int64 v6; // rcx
  unsigned __int64 n0x200000; // rax

  if ( *(_BYTE *)(a1 + 0x94E) != a2 )
  {
    v4 = (volatile signed __int64 *)(a1 + 0x8F0);
    v5 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0x200000, 0);
    if ( v5 )
      sub_1403DE750(a1 + 0x8F0, v5, 0, (__int64)"CRigidEntity::DisablePhysicsSync", (__int64)"m_netDesiredStateLock", 1);
    *(_BYTE *)(a1 + 0x94E) = a2;
    if ( a2 || !*(_DWORD *)(a1 + 0x4AC) )
    {
      *(_BYTE *)(a1 + 0x94C) = 1;
      if ( a2 )
      {
        v6 = *(_QWORD *)(a1 + 0x8E8);
        if ( v6 )
        {
          sub_1402A63C0(v6);
          *(_QWORD *)(a1 + 0x8E8) = 0;
        }
        *(_BYTE *)(a1 + 0x960) = 1;
      }
    }
    else
    {
      *(_BYTE *)(a1 + 0x94C) = 0;
    }
    if ( v4 )
    {
      n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v4, n0x200000);
    }
  }
}

// --- End Function: CRigidEntity::DisablePhysicsSync (0x1467B4DE0) ---

// --- Function: sub_1467B4ED0 (0x1467B4ED0) ---
__int64 __fastcall sub_1467B4ED0(__int64 a1)
{
  return (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x180LL))(a1);
}

// --- End Function: sub_1467B4ED0 (0x1467B4ED0) ---

// --- Function: sub_1467B62E0 (0x1467B62E0) ---
__int64 __fastcall sub_1467B62E0(__int64 a1, unsigned __int64 *a2, float a3)
{
  __int64 result; // rax
  __int64 v7; // r9
  __int64 v8; // rcx
  double *v9; // rax
  double v10; // xmm14_8
  __int64 v11; // rax
  double v12; // xmm12_8
  double v13; // xmm15_8
  double v14; // xmm11_8
  double v16; // xmm7_8
  __int64 v17; // rax
  __int64 v18; // rax
  __m128 v19; // xmm1
  __int64 v21; // r12
  __int64 v22; // rsi
  __int64 v23; // rcx
  unsigned __int64 v24; // rdi
  unsigned __int64 v25; // r8
  float v27; // xmm10_4
  float v28; // xmm3_4
  int v29; // edx
  float v30; // xmm4_4
  int v31; // r15d
  float v32; // xmm13_4
  int v34; // xmm1_4
  float v35; // eax
  int v36; // xmm3_4
  int v37; // r9d
  float v38; // xmm7_4
  float v39; // xmm8_4
  float v40; // xmm6_4
  __int64 v41; // rax
  __int64 v42; // rcx
  __int128 v43; // xmm0
  __int128 v44; // kr00_16
  int v47; // r10d
  float v48; // xmm12_4
  float v49; // xmm11_4
  float v50; // xmm15_4
  __int128 v52; // xmm14
  __int64 v53; // r9
  __int64 v54; // rdx
  __int64 v55; // rax
  double v56; // xmm9_8
  double v57; // xmm10_8
  __int128 v58; // kr00_16
  float v61; // xmm1_4
  float v62; // xmm2_4
  double v63; // xmm10_8
  double v64; // xmm9_8
  __int64 v69; // rcx
  unsigned __int64 v70; // rax
  __int128 v71; // xmm0
  __int128 v72; // kr00_16
  double v77; // xmm10_8
  __int64 v78; // rax
  double v80; // xmm7_8
  double v81; // xmm5_8
  double v82; // xmm4_8
  double v83; // xmm0_8
  double v84; // xmm1_8
  double v85; // xmm0_8
  double v86; // xmm2_8
  double v87; // xmm10_8
  double v88; // xmm9_8
  double v89; // xmm8_8
  double v90; // xmm7_8
  double v91; // kr00_8
  double v92; // xmm4_8
  double v93; // xmm5_8
  double v94; // xmm4_8
  double v95; // xmm11_8
  double v96; // xmm8_8
  double v97; // xmm12_8
  double v98; // xmm13_8
  double v99; // xmm9_8
  double v100; // xmm10_8
  double v101; // xmm7_8
  double v102; // xmm5_8
  double v103; // xmm4_8
  __int64 v104; // rax
  int v105; // r8d
  __int64 v106; // rcx
  __int64 v107; // rdx
  double v108; // xmm3_8
  double v109; // xmm5_8
  float v110; // xmm2_4
  float v111; // xmm0_4
  float v112; // xmm4_4
  float v113; // xmm1_4
  float v114; // xmm2_4
  unsigned __int64 v115; // rbx
  double v116; // xmm10_8
  double v117; // xmm9_8
  double v118; // xmm8_8
  double v119; // xmm7_8
  double v120; // kr00_8
  double v121; // xmm4_8
  double v122; // xmm5_8
  double v123; // xmm3_8
  double v124; // xmm4_8
  double v125; // kr00_8
  double v126; // xmm8_8
  double v127; // xmm11_8
  double v128; // xmm3_8
  double v129; // kr00_8
  double v130; // xmm9_8
  double v131; // xmm12_8
  double v132; // kr00_8
  double v133; // xmm10_8
  double v134; // xmm7_8
  double v135; // xmm5_8
  double v136; // xmm4_8
  __int64 v137; // rax
  double v138; // xmm11_8
  double v139; // xmm12_8
  double v140; // xmm13_8
  unsigned __int64 v141; // rsi
  double v142; // xmm10_8
  double v143; // xmm8_8
  double v144; // xmm7_8
  double v145; // xmm6_8
  double v146; // xmm4_8
  double v147; // xmm5_8
  double v148; // xmm4_8
  double v149; // xmm1_8
  double v150; // xmm8_8
  double v151; // xmm3_8
  double v152; // xmm2_8
  double v153; // xmm2_8
  double v154; // xmm10_8
  __int64 v155; // rbx
  double v156; // xmm9_8
  double v157; // xmm7_8
  double v158; // xmm6_8
  double v159; // xmm4_8
  double v160; // xmm7_8
  double v161; // xmm6_8
  double v162; // xmm4_8
  double v163; // xmm10_8
  double v164; // xmm9_8
  double v165; // xmm8_8
  double v166; // xmm7_8
  double v167; // xmm6_8
  double v168; // xmm4_8
  float v169; // [rsp+40h] [rbp-C0h] BYREF
  double v170; // [rsp+48h] [rbp-B8h] BYREF
  double v171; // [rsp+50h] [rbp-B0h]
  double v172; // [rsp+58h] [rbp-A8h]
  double v173; // [rsp+60h] [rbp-A0h]
  double v174; // [rsp+68h] [rbp-98h] BYREF
  double v175; // [rsp+70h] [rbp-90h]
  double v176; // [rsp+78h] [rbp-88h]
  __int128 v177; // [rsp+80h] [rbp-80h] BYREF
  double v178; // [rsp+90h] [rbp-70h]
  float v179; // [rsp+98h] [rbp-68h]
  float v180; // [rsp+9Ch] [rbp-64h]
  double v181; // [rsp+A0h] [rbp-60h]
  double v182; // [rsp+A8h] [rbp-58h] BYREF
  double v183; // [rsp+B0h] [rbp-50h]
  double v184; // [rsp+B8h] [rbp-48h]
  __int128 v185; // [rsp+C0h] [rbp-40h]
  double v186; // [rsp+D0h] [rbp-30h]
  double v187; // [rsp+D8h] [rbp-28h]
  double v188[6]; // [rsp+E0h] [rbp-20h] BYREF
  double v189; // [rsp+110h] [rbp+10h]
  double v190; // [rsp+118h] [rbp+18h] BYREF
  __m256 v191; // [rsp+120h] [rbp+20h]
  __int128 v192; // [rsp+140h] [rbp+40h]
  double v193; // [rsp+150h] [rbp+50h]
  _BYTE v194[72]; // [rsp+158h] [rbp+58h] BYREF
  double v195; // [rsp+1A0h] [rbp+A0h]
  double v196; // [rsp+1A8h] [rbp+A8h] BYREF
  double v197[3070]; // [rsp+1B0h] [rbp+B0h]
  double v198; // [rsp+61A0h] [rbp+60A0h]
  double v199; // [rsp+61A8h] [rbp+60A8h]
  double v200[3070]; // [rsp+61B0h] [rbp+60B0h]
  __int128 v201; // [rsp+C210h] [rbp+C110h]

  v201 = _XMM9;
  result = *(_QWORD *)(a1 + 0x2C0);
  *(float *)&_XMM9 = a3;
  if ( (*(_QWORD *)(result + 0x118) & 0x300000000LL) == 0 )
    return result;
  if ( is_valid_handle_typeB((unsigned __int64 *)(*(_QWORD *)(a1 + 0xB8) + 0x178LL)) )
  {
    v8 = *(_QWORD *)(*(_QWORD *)(a1 + 0xB8) + 0x178LL) & 0xFFFFFFFFFFFFLL;
    v9 = (double *)(*(__int64 (__fastcall **)(__int64, _BYTE *, _QWORD, _QWORD, _BYTE))(*(_QWORD *)v8 + 0x1E8LL))(
                     v8,
                     v194,
                     0,
                     0,
                     0);
    v10 = *v9;
  }
  else
  {
    LOBYTE(v7) = 1;
    v11 = sub_1469264A0(*(_QWORD *)(a1 + 0x2C0), v188, *(_QWORD *)(a1 + 0xB8), v7);
    v10 = *(double *)v11;
    v191 = *(__m256 *)(v11 + 8);
    v192 = *(_OWORD *)(v11 + 0x28);
    v193 = 1.0;
    v190 = v10;
    v9 = &v190;
  }
  v12 = v9[3];
  v13 = v9[1];
  v14 = v9[2];
  _XMM6 = *((_OWORD *)v9 + 2);
  v16 = v9[6];
  v186 = v10;
  v172 = v12;
  v187 = v13;
  v17 = *(_QWORD *)qword_149A142E8;
  v171 = v14;
  v173 = v16;
  v177 = _XMM6;
  __asm { vzeroupper }
  v18 = (*(__int64 (**)(void))(v17 + 0x590))();
  v19 = (__m128)*(unsigned __int64 *)((char *)a2 + 0x6C);
  _XMM5 = *a2;
  v21 = v18;
  v22 = 0;
  v23 = *(_QWORD *)(a1 + 0x2C0);
  v24 = 0;
  v25 = a2[5];
  __asm { vcvtsd2ss xmm2, xmm5, xmm5 }
  result = (unsigned int)(*((int *)a2 + 0x27) >> 0x1F);
  v27 = *(float *)(v23 + 0x13C);
  v28 = _mm_shuffle_ps(v19, v19, 0x55).m128_f32[0] * *(float *)&_XMM2;
  v29 = result & (*((int *)a2 + 0x28) >> 0x1F);
  v30 = *((float *)a2 + 0x1D) * *(float *)&_XMM2;
  v31 = -v29;
  v32 = v19.m128_f32[0] * *(float *)&_XMM2;
  __asm { vunpckhpd xmm0, xmm6, xmm6 }
  v181 = *(double *)a2;
  v169 = v19.m128_f32[0] * *(float *)&_XMM2;
  v179 = v28;
  v180 = v30;
  *(float *)&v170 = v27;
  v182 = *(double *)v19.m128_u64;
  v189 = v16;
  __asm { vmovupd [rbp+0C180h+var_C1C0], xmm0 }
  if ( v25 && *(int *)(v25 + 4) >= 2 )
  {
    result = 0x200000000LL;
    if ( (*(_QWORD *)(v23 + 0x118) & 0x200000000LL) != 0 )
    {
      v34 = *((_DWORD *)a2 + 0x1C);
      v35 = *(float *)(v25 + 0x38);
      v36 = *((_DWORD *)a2 + 0x1D);
      v182 = *(double *)(v25 + 0x30);
      *((float *)a2 + 0x18) = COERCE_FLOAT(*((_DWORD *)a2 + 0x1B) ^ 0x80000000);
      *((float *)a2 + 0x19) = COERCE_FLOAT(v34 ^ 0x80000000);
      *((float *)a2 + 0x1A) = COERCE_FLOAT(v36 ^ 0x80000000);
      v37 = *(_DWORD *)(v25 + 4);
      v38 = *((float *)&v182 + 1);
      v39 = *(float *)&v182;
      v40 = v35;
      if ( v37 > 0 )
      {
        v41 = *(_QWORD *)(v25 + 0x3C);
        v42 = (unsigned int)v37;
        do
        {
          v43 = *(unsigned int *)(v41 + 4);
          v41 += 0xC;
          *((_QWORD *)&v44 + 1) = *((_QWORD *)&v43 + 1);
          *(double *)&v44 = (*(float *)&v43 + *(double *)(v25 + 0x4C) - *((double *)a2 + 7)) * *((float *)&v182 + 1)
                          + (*(float *)(v41 - 0xC) + *(double *)(v25 + 0x44) - *((double *)a2 + 6)) * *(float *)&v182
                          + (*(float *)(v41 - 4) + *(double *)(v25 + 0x54) - *((double *)a2 + 8)) * v40;
          _XMM2 = v44;
          __asm
          {
            vcvtsd2ss xmm3, xmm2, xmm2
            vminss  xmm9, xmm3, xmm9
          }
          --v42;
        }
        while ( v42 );
        v32 = v169;
        _XMM5 = *(unsigned __int64 *)&v181;
        v27 = *(float *)&v170;
      }
      v47 = 0;
      if ( (v29 & v37) > 0 )
      {
        v48 = v179;
        v49 = v180;
        v169 = v27 * -0.5;
        v50 = v27 * -0.5;
        __asm { vcvtsd2ss xmm0, xmm5, xmm5 }
        v181 = *(float *)&_XMM0;
        v52 = COERCE_UNSIGNED_INT64(*(float *)&_XMM0);
        v53 = 0;
        v170 = *(float *)&_XMM9;
        v54 = 0;
        do
        {
          v55 = *(_QWORD *)(v25 + 0x3C);
          v56 = *(float *)(v53 + v55 + 4) + *(double *)(v25 + 0x4C);
          v57 = *(float *)(v53 + v55 + 8) + *(double *)(v25 + 0x54);
          *((_QWORD *)&v58 + 1) = *((_QWORD *)&v52 + 1);
          *(double *)&v58 = *(double *)&v52
                          - ((v56 - *((double *)a2 + 7)) * v38
                           + (*(float *)(v53 + v55) + *(double *)(v25 + 0x44) - *((double *)a2 + 6)) * v39
                           + (v57 - *((double *)a2 + 8)) * v40)
                          + v170;
          _XMM1 = v58;
          __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
          if ( *(float *)&_XMM0 > v50 )
          {
            *(double *)((char *)&v195 + v54 * 8) = *(float *)(v53 + v55) + *(double *)(v25 + 0x44) - v32;
            v197[v54 - 1] = v56 - v48;
            v197[v54] = v57 - v49;
            v61 = *((float *)a2 + 0x1C);
            v62 = *((float *)a2 + 0x1D);
            *(double *)((char *)&v198 + v54 * 8) = *((float *)a2 + 0x1B);
            v200[v54 - 1] = v61;
            ++v24;
            v200[v54] = v62;
            v54 += 3;
          }
          ++v47;
          v53 += 0xC;
        }
        while ( v47 < (-v31 & *(_DWORD *)(a2[5] + 4)) );
        v10 = v186;
        v13 = v187;
        v14 = v171;
        v12 = v172;
      }
      v63 = *((double *)a2 + 7);
      v64 = *((double *)a2 + 6);
      _XMM0 = 0;
      __asm { vcvtsi2sd xmm0, xmm0, eax }
      _XMM1 = COERCE_UNSIGNED_INT64(
                ((*((double *)a2 + 0xA) - v63) * v38
               + (*((double *)a2 + 9) - v64) * v39
               + (*((double *)a2 + 0xB) - *((double *)a2 + 8)) * v40)
              * *(double *)&_XMM0);
      __asm { vcvtsd2ss xmm13, xmm1, xmm1 }
      v69 = (_DWORD)a2[0x16] & (unsigned int)(v31 - 1);
      if ( ((_DWORD)a2[0x16] & (v31 - 1)) > 0 )
      {
        v70 = a2[1];
        do
        {
          v71 = *(unsigned int *)(v70 + 4);
          v70 += 0xCLL;
          *((_QWORD *)&v72 + 1) = *((_QWORD *)&v71 + 1);
          *(double *)&v72 = (*(float *)&v71 + *((double *)a2 + 3) - v63) * v38
                          + (*(float *)(v70 - 0xC) + *((double *)a2 + 2) - v64) * v39
                          + (*(float *)(v70 - 4) + *((double *)a2 + 4) - *((double *)a2 + 8)) * v40;
          _XMM2 = v72;
          __asm
          {
            vcvtsd2ss xmm3, xmm2, xmm2
            vminss  xmm13, xmm3, xmm13
          }
          --v69;
        }
        while ( v69 );
      }
      _XMM9 = *(_OWORD *)(a2 + 9);
      v77 = *((double *)a2 + 0xB);
      v78 = *(_QWORD *)v21;
      __asm { vunpckhpd xmm8, xmm9, xmm9 }
      v80 = v77 * v13 - *(double *)&_XMM8 * v14 + *(double *)&_XMM9 * v12;
      v81 = *(double *)&_XMM9 * v14 - v77 * v10 + *(double *)&_XMM8 * v12;
      v82 = *(double *)&_XMM8 * v10 - *(double *)&_XMM9 * v13 + v77 * v12;
      v188[5] = v80 * v14 - v82 * v10 + *(double *)&_XMM8 + *(double *)&v185 + v80 * v14 - v82 * v10;
      v188[4] = v82 * v13 - v81 * v14 + *(double *)&_XMM9 + *(double *)&v177 + v82 * v13 - v81 * v14;
      LODWORD(v170) = 0xFF0000FF;
      v188[0] = v10;
      v188[1] = v13;
      v188[2] = v14;
      v188[3] = v12;
      v189 = v81 * v10 - v80 * v13 + v77 + v173 + v81 * v10 - v80 * v13;
      result = (*(__int64 (__fastcall **)(__int64, double *, unsigned __int64, __int64, double *, int, unsigned int))(v78 + 0x68))(
                 v21,
                 v188,
                 v25,
                 0x10,
                 &v170,
                 0x3DCCCCCD,
                 0xFFFFFFFF);
    }
  }
  else
  {
    if ( !v29 )
      goto LABEL_25;
    v83 = *((double *)a2 + 7);
    v195 = *((double *)a2 + 6) - (float)(v19.m128_f32[0] * *(float *)&_XMM2);
    v84 = v83 - v28;
    v85 = *((double *)a2 + 8);
    v196 = v84;
    v86 = v85 - v30;
    LODWORD(v85) = *((_DWORD *)a2 + 0x1C);
    v198 = *((float *)a2 + 0x1B);
    v200[0] = *((float *)a2 + 0x1D);
    v197[0] = v86;
    v199 = *(float *)&v85;
    v24 = 1;
  }
  if ( !v31 )
  {
LABEL_25:
    v87 = *((double *)a2 + 0xB);
    v88 = *((double *)a2 + 0xA);
    v89 = *((double *)a2 + 9);
    v90 = v87 * v13 - v88 * v14 + v89 * v12;
    v91 = v89 * v14 - v87 * v10 + v88 * v12;
    v92 = v88 * v10 - v89 * v13 + v87 * v12;
    v93 = v92 * v13 - v91 * v14;
    v94 = v90 * v14 - v92 * v10;
    v95 = v93 + v89 + *(double *)&v177 + v93;
    v96 = *((float *)a2 + 0x1B);
    v97 = v94 + v88 + *(double *)&v185 + v94;
    v98 = v91 * v10 - v90 * v13 + v87 + v173 + v91 * v10 - v90 * v13;
    v99 = *((float *)a2 + 0x1C);
    v100 = *((float *)a2 + 0x1D);
    v101 = v100 * v13 - v99 * v171 + v96 * v172;
    v102 = v96 * v171 - v100 * v10 + v99 * v172;
    v103 = v99 * v10 - v96 * v13 + v100 * v172;
    v182 = (v103 * v13 - v102 * v171 + v96 + v103 * v13 - v102 * v171) * 0.1500000059604645 + v95;
    v174 = v95;
    v175 = v97;
    v176 = v98;
    LODWORD(v170) = 0xFF0000FF;
    v104 = *(_QWORD *)v21;
    v183 = (v101 * v171 - v103 * v10 + v99 + v101 * v171 - v103 * v10) * 0.1500000059604645 + v97;
    v169 = -1.708058e38;
    v184 = (v102 * v10 - v101 * v13 + v100 + v102 * v10 - v101 * v13) * 0.1500000059604645 + v98;
    result = (*(__int64 (__fastcall **)(__int64, double *, float *, double *, double *, int, unsigned int))(v104 + 0x30))(
               v21,
               &v174,
               &v169,
               &v182,
               &v170,
               0x3FC00000,
               0xFFFFFFFF);
    if ( *((int *)a2 + 0x2C) > 1 )
    {
      result = *(_QWORD *)(a1 + 0x2C0);
      if ( (*(_QWORD *)(result + 0x118) & 0x100000000LL) != 0 )
      {
        v105 = 0;
        v106 = 3 * v24;
        v107 = 0;
        do
        {
          result = a2[1];
          v106 += 3;
          v108 = *((double *)a2 + 3);
          v109 = *((double *)a2 + 4);
          ++v24;
          ++v105;
          v110 = *(float *)(v107 + result + 4);
          v111 = *(float *)(v107 + result);
          v112 = *(float *)(v107 + result + 8);
          v107 += 0xC;
          *(double *)&v194[v106 * 8 + 0x30] = v111 + *((double *)a2 + 2);
          *(double *)&v194[v106 * 8 + 0x38] = v110 + v108;
          *(double *)&v194[v106 * 8 + 0x40] = v112 + v109;
          v113 = *((float *)a2 + 0x1C);
          v114 = *((float *)a2 + 0x1D);
          v197[v106 + 0xBFB] = *((float *)a2 + 0x1B);
          v197[v106 + 0xBFC] = v113;
          v197[v106 + 0xBFD] = v114;
        }
        while ( v105 < *((_DWORD *)a2 + 0x2C) );
      }
    }
    v14 = v171;
    v12 = v172;
  }
  if ( v24 )
  {
    v115 = v24;
    do
    {
      v116 = v197[v22];
      v117 = v197[v22 - 1];
      v118 = *(double *)((char *)&v195 + v22 * 8);
      v119 = v116 * v13 - v117 * v14 + v118 * v12;
      v120 = v118 * v14 - v116 * v10 + v117 * v12;
      v121 = v117 * v10 - v118 * v13 + v116 * v12;
      v122 = v121 * v13 - v120 * v14;
      v123 = v120 * v10;
      v124 = v119 * v14 - v121 * v10;
      v125 = v122 + v118 + *(double *)&v177;
      v126 = *(double *)((char *)&v198 + v22 * 8);
      v127 = v125 + v122;
      v128 = v123 - v119 * v13;
      v129 = v124 + v117 + *(double *)&v185;
      v130 = v200[v22 - 1];
      v131 = v129 + v124;
      v132 = v128 + v116 + v173;
      v133 = v200[v22];
      v134 = v133 * v13 - v130 * v171 + v126 * v172;
      v135 = v126 * v171 - v133 * v10 + v130 * v172;
      v136 = v130 * v10 - v126 * v13 + v133 * v172;
      v174 = (v136 * v13 - v135 * v171 + v126 + v136 * v13 - v135 * v171) * 0.1500000059604645 + v127;
      v175 = (v134 * v171 - v136 * v10 + v130 + v134 * v171 - v136 * v10) * 0.1500000059604645 + v131;
      v182 = v127;
      v183 = v131;
      v184 = v132 + v128;
      v169 = -1.7014636e38;
      v137 = *(_QWORD *)v21;
      LODWORD(v170) = 0xFF008000;
      v176 = (v135 * v10 - v134 * v13 + v133 + v135 * v10 - v134 * v13) * 0.1500000059604645 + v132 + v128;
      result = (*(__int64 (__fastcall **)(__int64, double *, double *, double *, float *, int, unsigned int))(v137 + 0x30))(
                 v21,
                 &v182,
                 &v170,
                 &v174,
                 &v169,
                 0x3FC00000,
                 0xFFFFFFFF);
      v22 += 3;
      v14 = v171;
      v12 = v172;
      --v115;
    }
    while ( v115 );
  }
  v138 = v171;
  v139 = v172;
  v140 = *(double *)&v177;
  if ( v24 > 1 )
  {
    result = (__int64)&v196;
    v141 = v24 - 1;
    do
    {
      v142 = *(double *)(result + 8);
      v143 = *(double *)(result - 8);
      v144 = v142 * v13 - *(double *)result * v138 + v143 * v139;
      v145 = v143 * v138 - v142 * v10 + *(double *)result * v139;
      v146 = *(double *)result * v10 - v143 * v13 + v142 * v139;
      v147 = v13 * v146 - v145 * v138;
      v148 = v144 * v138 - v10 * v146;
      v149 = v143 + v147;
      v150 = *(double *)(result + 0x10);
      v151 = v145 * v10 - v144 * v13;
      v152 = *(double *)result + v148 + *(double *)&v185;
      *(double *)&v177 = v149 + v140 + v147;
      *((double *)&v177 + 1) = v152 + v148;
      v153 = v142 + v151 + v173;
      v154 = *(double *)(result + 0x20);
      v178 = v153 + v151;
      v155 = result + 0x18;
      v169 = -1.7014636e38;
      v156 = *(double *)(result + 0x18);
      v157 = v154 * v13 - v156 * v138 + v150 * v139;
      v158 = v150 * v138 - v154 * v10 + v156 * v139;
      v159 = v156 * v10 - v150 * v13 + v154 * v139;
      v174 = v150 + v13 * v159 - v138 * v158 + v140 + v13 * v159 - v138 * v158;
      v175 = v156 + v138 * v157 - v10 * v159 + *(double *)&v185 + v138 * v157 - v10 * v159;
      v176 = v154 + v10 * v158 - v13 * v157 + v173 + v10 * v158 - v13 * v157;
      LODWORD(v170) = 0xFF008000;
      (*(void (__fastcall **)(__int64, __int128 *, double *, double *, float *, int, unsigned int))(*(_QWORD *)v21
                                                                                                  + 0x30LL))(
        v21,
        &v177,
        &v170,
        &v174,
        &v169,
        0x3FC00000,
        0xFFFFFFFF);
      result = v155;
      --v141;
    }
    while ( v141 );
  }
  if ( v24 )
  {
    v160 = v197[0] * v13 - v196 * v138 + v195 * v139;
    v161 = v195 * v138 - v197[0] * v10 + v196 * v139;
    v162 = v196 * v10 - v195 * v13 + v197[0] * v139;
    v174 = v162 * v13 - v161 * v138 + v195 + v140 + v162 * v13 - v161 * v138;
    v175 = v138 * v160 - v162 * v10 + v196 + *(double *)&v185 + v138 * v160 - v162 * v10;
    v176 = v161 * v10 - v13 * v160 + v197[0] + v173 + v161 * v10 - v13 * v160;
    v169 = -1.7014636e38;
    v163 = *(double *)&v194[0x18 * v24 + 0x40];
    v164 = *(double *)&v194[0x18 * v24 + 0x38];
    v165 = *(double *)&v194[0x18 * v24 + 0x30];
    v166 = v13 * v163 - v138 * v164 + v139 * v165;
    v167 = v138 * v165 - v10 * v163 + v139 * v164;
    v168 = v10 * v164 - v13 * v165 + v139 * v163;
    *(double *)&v177 = v168 * v13 - v167 * v138 + v165 + v140 + v168 * v13 - v167 * v138;
    *((double *)&v177 + 1) = v166 * v138 - v168 * v10 + v164 + *(double *)&v185 + v166 * v138 - v168 * v10;
    v178 = v167 * v10 - v166 * v13 + v163 + v173 + v167 * v10 - v166 * v13;
    LODWORD(v170) = 0xFF008000;
    return (*(__int64 (__fastcall **)(__int64, __int128 *, double *, double *, float *, int, unsigned int))(*(_QWORD *)v21 + 0x30LL))(
             v21,
             &v177,
             &v170,
             &v174,
             &v169,
             0x3FC00000,
             0xFFFFFFFF);
  }
  return result;
}

// --- End Function: sub_1467B62E0 (0x1467B62E0) ---

// --- Function: sub_1467BB2F0 (0x1467BB2F0) ---
unsigned __int64 __fastcall sub_1467BB2F0(Parameter *Parameter, __int64 *a2, _QWORD *a3, double *a4)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  __int128 v13; // xmm15
  _QWORD *v14; // rbx
  __int64 *v18; // rdi
  unsigned __int64 n0x40; // rax
  __int64 v20; // rbx
  double v21; // xmm11_8
  double v22; // xmm8_8
  double v23; // xmm10_8
  double v24; // xmm7_8
  double v25; // xmm14_8
  double v26; // xmm12_8
  double v27; // xmm13_8
  __int128 v30; // xmm3
  __int128 v35; // kr00_16
  float v38; // xmm1_4
  int v39; // eax
  int v40; // eax
  unsigned __int8 v41; // al
  volatile signed __int64 *v42; // r12
  signed __int64 v43; // rdx
  double *v44; // r15
  __int64 v45; // rax
  float v46; // xmm5_4
  float v47; // kr00_4
  unsigned __int64 v48; // rdx
  __int64 v49; // r15
  __int64 v50; // rdx
  unsigned __int64 n0x40_1; // rcx
  __int64 v52; // rdx
  __int64 v53; // r8
  int v54; // ebx
  __int64 v55; // r12
  int v56; // eax
  __int64 v57; // rax
  double v58; // xmm9_8
  double v59; // xmm14_8
  double v60; // xmm15_8
  double v61; // xmm13_8
  double v62; // xmm7_8
  double v63; // xmm5_8
  double v64; // xmm6_8
  double v65; // xmm8_8
  double v66; // xmm12_8
  double v67; // xmm11_8
  double v68; // xmm10_8
  double v69; // xmm9_8
  __int128 v70; // xmm6
  __int128 v71; // xmm5
  double v72; // xmm7_8
  double v73; // xmm8_8
  __int128 v78; // kr00_16
  __int64 v79; // rcx
  double v82; // xmm10_8
  double v83; // xmm9_8
  double v86; // xmm7_8
  double v87; // xmm8_8
  double v88; // xmm12_8
  double v89; // xmm11_8
  double v90; // xmm10_8
  __int128 v91; // xmm9
  __int128 v92; // xmm5
  double v93; // xmm7_8
  double v94; // xmm8_8
  float v103; // xmm5_4
  __int128 v105; // xmm4
  float v111; // xmm5_4
  __int128 v112; // kr00_16
  float v113; // xmm14_4
  float v114; // xmm7_4
  __int128 v115; // xmm15
  __int64 v116; // rax
  __int64 v117; // rax
  float v118; // xmm1_4
  double v119; // xmm8_8
  __int128 v120; // xmm3
  __int128 v121; // xmm1
  __int128 v122; // xmm5
  __int64 v123; // rax
  __int128 v125; // xmm4
  __int128 v126; // kr00_16
  double v127; // xmm12_8
  __int128 v128; // xmm6
  double v129; // xmm15_8
  __int128 v130; // xmm7
  double v131; // xmm14_8
  __int128 v132; // xmm10
  __int128 v133; // xmm13
  __int128 v134; // xmm3
  __m128 v153; // xmm0
  float v154; // xmm4_4
  float v155; // xmm11_4
  float v156; // xmm13_4
  float v157; // xmm14_4
  float v158; // xmm12_4
  float v159; // xmm3_4
  float v160; // xmm1_4
  float v161; // xmm2_4
  float v162; // xmm3_4
  float v163; // xmm8_4
  __int64 v164; // rbx
  double v166; // xmm6_8
  float v167; // xmm11_4
  __int64 v168; // rax
  float v170; // xmm12_4
  float v171; // xmm10_4
  float v172; // xmm7_4
  float v173; // xmm4_4
  float v174; // xmm9_4
  float v175; // xmm2_4
  __int64 v176; // rax
  float v177; // xmm6_4
  __int64 v178; // r12
  float v179; // xmm0_4
  float v180; // kr00_4
  float v181; // xmm8_4
  float v182; // xmm11_4
  float v183; // xmm9_4
  float v184; // xmm10_4
  float v185; // xmm5_4
  float *v186; // rax
  __m128 v187; // xmm4
  float v188; // eax
  __m128 v189; // kr00_16
  float v192; // xmm1_4
  float v193; // xmm2_4
  float v194; // xmm4_4
  float v195; // xmm12_4
  __int128 v196; // kr00_16
  float v197; // xmm14_4
  __int128 v198; // xmm15
  __int64 n0x18; // rbx
  __int64 v200; // rax
  float v201; // xmm8_4
  float v202; // xmm7_4
  float v203; // xmm6_4
  float v204; // xmm5_4
  __int128 v205; // kr00_16
  __int128 v206; // xmm9
  __int64 v207; // rax
  signed __int32 v208; // eax
  __int64 v209; // rbx
  double *v210; // rax
  double *v211; // rax
  __int64 v212; // rax
  __int64 v213; // r8
  __int64 v214; // rax
  __int64 v215; // r8
  __int64 v216; // rax
  __int64 v217; // rax
  __int64 v218; // r8
  __int64 v219; // rax
  __int64 v220; // r8
  __int64 v221; // rax
  __int64 v222; // rax
  __int64 v223; // rax
  __int64 v224; // rax
  __int64 v225; // rax
  __int64 v226; // rax
  __int64 v227; // rax
  __int64 v228; // rax
  __int64 v229; // [rsp+28h] [rbp-E0h]
  int v230; // [rsp+28h] [rbp-E0h]
  int v231; // [rsp+28h] [rbp-E0h]
  int v232; // [rsp+28h] [rbp-E0h]
  __int64 v233; // [rsp+30h] [rbp-D8h]
  int v234; // [rsp+30h] [rbp-D8h]
  int v235; // [rsp+30h] [rbp-D8h]
  int v236; // [rsp+30h] [rbp-D8h]
  int v237; // [rsp+30h] [rbp-D8h]
  int v238; // [rsp+38h] [rbp-D0h]
  float v239; // [rsp+58h] [rbp-B0h]
  float v240; // [rsp+58h] [rbp-B0h]
  float v241; // [rsp+5Ch] [rbp-ACh]
  float v242; // [rsp+5Ch] [rbp-ACh]
  float v243; // [rsp+5Ch] [rbp-ACh]
  float v244; // [rsp+60h] [rbp-A8h] BYREF
  float v245; // [rsp+64h] [rbp-A4h]
  float v246; // [rsp+68h] [rbp-A0h]
  float v247; // [rsp+70h] [rbp-98h]
  signed __int32 v248; // [rsp+74h] [rbp-94h]
  __int64 v249; // [rsp+78h] [rbp-90h]
  unsigned int v250; // [rsp+80h] [rbp-88h] BYREF
  unsigned int v251; // [rsp+84h] [rbp-84h] BYREF
  unsigned int v252; // [rsp+88h] [rbp-80h] BYREF
  unsigned int v253; // [rsp+8Ch] [rbp-7Ch] BYREF
  unsigned int v254; // [rsp+90h] [rbp-78h] BYREF
  unsigned int v255; // [rsp+94h] [rbp-74h] BYREF
  unsigned int v256; // [rsp+98h] [rbp-70h] BYREF
  unsigned int v257; // [rsp+9Ch] [rbp-6Ch] BYREF
  unsigned int v258; // [rsp+A0h] [rbp-68h] BYREF
  unsigned int v259; // [rsp+A4h] [rbp-64h] BYREF
  unsigned int v260; // [rsp+A8h] [rbp-60h] BYREF
  unsigned int v261; // [rsp+ACh] [rbp-5Ch] BYREF
  unsigned int v262; // [rsp+B0h] [rbp-58h] BYREF
  unsigned int v263; // [rsp+B4h] [rbp-54h] BYREF
  unsigned int v264; // [rsp+B8h] [rbp-50h] BYREF
  unsigned int v265; // [rsp+BCh] [rbp-4Ch] BYREF
  unsigned int v266; // [rsp+C0h] [rbp-48h] BYREF
  unsigned int v267; // [rsp+C4h] [rbp-44h] BYREF
  unsigned int v268; // [rsp+C8h] [rbp-40h] BYREF
  unsigned int v269; // [rsp+CCh] [rbp-3Ch] BYREF
  unsigned int v270; // [rsp+D0h] [rbp-38h] BYREF
  unsigned int v271; // [rsp+D4h] [rbp-34h] BYREF
  float v272; // [rsp+D8h] [rbp-30h] BYREF
  float v273; // [rsp+DCh] [rbp-2Ch]
  float v274; // [rsp+E0h] [rbp-28h]
  float v275; // [rsp+E8h] [rbp-20h] BYREF
  float v276; // [rsp+ECh] [rbp-1Ch]
  float v277; // [rsp+F0h] [rbp-18h]
  int n0x40_2; // [rsp+F8h] [rbp-10h]
  float v279; // [rsp+FCh] [rbp-Ch]
  float v280; // [rsp+100h] [rbp-8h]
  float v281; // [rsp+104h] [rbp-4h]
  float v282; // [rsp+108h] [rbp+0h]
  __int128 v283; // [rsp+118h] [rbp+10h] BYREF
  double v284; // [rsp+128h] [rbp+20h]
  __int128 v285; // [rsp+138h] [rbp+30h] BYREF
  double v286; // [rsp+148h] [rbp+40h]
  __int128 v287; // [rsp+158h] [rbp+50h] BYREF
  double v288; // [rsp+168h] [rbp+60h]
  float v289; // [rsp+178h] [rbp+70h] BYREF
  float v290; // [rsp+17Ch] [rbp+74h]
  float v291; // [rsp+180h] [rbp+78h]
  _QWORD *v292; // [rsp+188h] [rbp+80h]
  float v293; // [rsp+190h] [rbp+88h] BYREF
  float v294; // [rsp+194h] [rbp+8Ch]
  float v295; // [rsp+198h] [rbp+90h]
  float v296; // [rsp+1A0h] [rbp+98h] BYREF
  float v297; // [rsp+1A4h] [rbp+9Ch]
  float v298; // [rsp+1A8h] [rbp+A0h]
  __int64 n0x40_3; // [rsp+1B0h] [rbp+A8h]
  double v300[4]; // [rsp+1B8h] [rbp+B0h] BYREF
  double *v301; // [rsp+1D8h] [rbp+D0h]
  _DWORD v302[3]; // [rsp+1E0h] [rbp+D8h] BYREF
  float v303[3]; // [rsp+1ECh] [rbp+E4h] BYREF
  float v304[4]; // [rsp+1F8h] [rbp+F0h] BYREF
  float v305[4]; // [rsp+208h] [rbp+100h] BYREF
  double v306[3]; // [rsp+218h] [rbp+110h] BYREF
  double *v307; // [rsp+230h] [rbp+128h]
  __int128 v308; // [rsp+248h] [rbp+140h] BYREF
  double v309; // [rsp+258h] [rbp+150h]
  float v310; // [rsp+260h] [rbp+158h]
  float v311; // [rsp+264h] [rbp+15Ch]
  float v312; // [rsp+268h] [rbp+160h]
  float v313; // [rsp+26Ch] [rbp+164h]
  float v314; // [rsp+270h] [rbp+168h]
  float v315; // [rsp+274h] [rbp+16Ch]
  float v316; // [rsp+278h] [rbp+170h]
  float v317; // [rsp+27Ch] [rbp+174h]
  float v318; // [rsp+280h] [rbp+178h]
  float v319; // [rsp+284h] [rbp+17Ch]
  __int128 v320; // [rsp+288h] [rbp+180h]
  float v321; // [rsp+298h] [rbp+190h]
  float v322; // [rsp+29Ch] [rbp+194h]
  double v323; // [rsp+2A0h] [rbp+198h]
  int v325; // [rsp+2B8h] [rbp+1B0h]
  __int128 v326; // [rsp+2C8h] [rbp+1C0h]
  __int128 v327; // [rsp+2D8h] [rbp+1D0h]
  __int128 v328; // [rsp+2E8h] [rbp+1E0h]
  __int128 v329; // [rsp+2F8h] [rbp+1F0h]
  double v330; // [rsp+308h] [rbp+200h]
  double v331[4]; // [rsp+318h] [rbp+210h] BYREF
  __int128 v332; // [rsp+338h] [rbp+230h] BYREF
  __int64 v333; // [rsp+348h] [rbp+240h]
  float v334; // [rsp+350h] [rbp+248h]
  float v335; // [rsp+354h] [rbp+24Ch]
  float v336; // [rsp+358h] [rbp+250h]
  float v337; // [rsp+35Ch] [rbp+254h]
  float v338; // [rsp+360h] [rbp+258h]
  float v339; // [rsp+364h] [rbp+25Ch]
  float v340; // [rsp+368h] [rbp+260h]
  float v341; // [rsp+36Ch] [rbp+264h]
  float v342; // [rsp+370h] [rbp+268h]
  float v343; // [rsp+374h] [rbp+26Ch]
  __int128 v344; // [rsp+378h] [rbp+270h]
  float v345; // [rsp+388h] [rbp+280h]
  float v346; // [rsp+38Ch] [rbp+284h]
  double v347; // [rsp+390h] [rbp+288h]
  int v349; // [rsp+3A8h] [rbp+2A0h]
  __m256 v350; // [rsp+3B8h] [rbp+2B0h]
  float v351; // [rsp+3D8h] [rbp+2D0h]
  int v352; // [rsp+3DCh] [rbp+2D4h]
  __int64 v353; // [rsp+3E0h] [rbp+2D8h]
  int v354; // [rsp+3E8h] [rbp+2E0h]
  __int64 v355; // [rsp+3ECh] [rbp+2E4h]
  int v356; // [rsp+3F4h] [rbp+2ECh]
  __int128 v357; // [rsp+3F8h] [rbp+2F0h] BYREF
  __int64 v358; // [rsp+408h] [rbp+300h]
  _QWORD v359[2]; // [rsp+418h] [rbp+310h] BYREF
  float v360; // [rsp+428h] [rbp+320h]
  int n3; // [rsp+42Ch] [rbp+324h]
  int v362; // [rsp+430h] [rbp+328h]
  __int64 (__fastcall **v363)(); // [rsp+450h] [rbp+348h]
  _QWORD *v364; // [rsp+458h] [rbp+350h]
  __int64 v365; // [rsp+4A0h] [rbp+398h]
  double v366[3]; // [rsp+4A8h] [rbp+3A0h] BYREF
  double v367[3]; // [rsp+4C0h] [rbp+3B8h] BYREF
  _BYTE v368[32]; // [rsp+4D8h] [rbp+3D0h] BYREF
  __int64 v369[84]; // [rsp+4F8h] [rbp+3F0h] BYREF
  float v370; // [rsp+798h] [rbp+690h] BYREF
  float v371; // [rsp+79Ch] [rbp+694h]
  float v372; // [rsp+7A0h] [rbp+698h]
  float v373; // [rsp+7A4h] [rbp+69Ch]
  float v374; // [rsp+7A8h] [rbp+6A0h]
  float v375; // [rsp+7ACh] [rbp+6A4h]
  float v376; // [rsp+7B0h] [rbp+6A8h]
  float v377; // [rsp+7B4h] [rbp+6ACh]
  float v378; // [rsp+7B8h] [rbp+6B0h]
  float v379; // [rsp+7BCh] [rbp+6B4h]
  float v380; // [rsp+7C0h] [rbp+6B8h]
  float v381; // [rsp+7C4h] [rbp+6BCh]
  float v382; // [rsp+7C8h] [rbp+6C0h]
  float v383; // [rsp+7CCh] [rbp+6C4h]
  float v384; // [rsp+7D0h] [rbp+6C8h]
  float v385; // [rsp+7D4h] [rbp+6CCh]
  float v386; // [rsp+7D8h] [rbp+6D0h]
  float v387; // [rsp+7DCh] [rbp+6D4h]
  float v388; // [rsp+7E0h] [rbp+6D8h]
  float v389; // [rsp+7E4h] [rbp+6DCh]
  float v390; // [rsp+7E8h] [rbp+6E0h]
  float v391; // [rsp+7ECh] [rbp+6E4h]
  float v392; // [rsp+7F0h] [rbp+6E8h]
  float v393; // [rsp+7F4h] [rbp+6ECh]
  __int128 v394; // [rsp+808h] [rbp+700h]
  __int128 v395; // [rsp+818h] [rbp+710h]
  __int128 v396; // [rsp+828h] [rbp+720h]
  __int128 v397; // [rsp+838h] [rbp+730h]
  __int128 v398; // [rsp+848h] [rbp+740h]
  __int128 v399; // [rsp+858h] [rbp+750h]
  __int128 v400; // [rsp+868h] [rbp+760h]
  __int128 v401; // [rsp+878h] [rbp+770h]
  __int128 v402; // [rsp+888h] [rbp+780h]
  __int128 v403; // [rsp+898h] [rbp+790h]

  v403 = v4;
  v402 = v5;
  v401 = v6;
  v400 = v7;
  v399 = v8;
  v398 = v9;
  v397 = v10;
  v396 = v11;
  v395 = v12;
  v394 = v13;
  v14 = a3;
  v292 = a3;
  sub_1468C4290();
  v18 = (__int64 *)(*(__int64 (__fastcall **)(_LocaleUpdate *))(*(_QWORD *)qword_149A142E8 + 0x590LL))(qword_149A142E8);
  n0x40 = 0x4000000000LL;
  if ( (*v14 & 0x4000000000LL) != 0 )
  {
    v20 = *(_QWORD *)(Parameter + 0x8E8);
    if ( v20 )
    {
      sub_140339170((double *)&v357, a4, (double *)(v20 + 8));
      v21 = a4[1];
      v22 = a4[3];
      v23 = a4[2];
      v24 = *(float *)(v20 + 0x2C);
      v25 = *(float *)(v20 + 0x24);
      v26 = *(float *)(v20 + 0x20);
      v27 = *(float *)(v20 + 0x28);
      _XMM9 = COERCE_UNSIGNED_INT64(v25 * *a4 - v26 * v21 + v22 * v27 + v23 * v24);
      _XMM6 = COERCE_UNSIGNED_INT64(v26 * v23 - *a4 * v27 + v25 * v22 + v21 * v24);
      v30 = COERCE_UNSIGNED_INT64(v22 * v24);
      _XMM5 = COERCE_UNSIGNED_INT64(v21 * v27 - v25 * v23 + v26 * v22 + *a4 * v24);
      __asm
      {
        vcvtsd2ss xmm7, xmm5, xmm5
        vcvtsd2ss xmm4, xmm6, xmm6
      }
      *((_QWORD *)&v35 + 1) = *((_QWORD *)&v30 + 1);
      *(double *)&v35 = *(double *)&v30 - (v25 * v21 + v26 * *a4 + v23 * v27);
      _XMM0 = v35;
      __asm { vcvtsd2ss xmm13, xmm0, xmm0 }
      *(float *)&_XMM6 = (float)(*(float *)&_XMM4 + *(float *)&_XMM4) * *(float *)&_XMM7;
      *(float *)&v21 = (float)(*(float *)&_XMM4 + *(float *)&_XMM4) * *(float *)&_XMM4;
      *(float *)&v22 = (float)(*(float *)&_XMM4 + *(float *)&_XMM4) * *(float *)&_XMM13;
      __asm { vcvtsd2ss xmm5, xmm9, xmm9 }
      *(float *)&v23 = (float)(*(float *)&_XMM7 + *(float *)&_XMM7) * *(float *)&_XMM13;
      *(float *)&_XMM9 = (float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM4;
      v347 = 0.0;
      v344 = 0;
      __asm { vmovupd [rbp+7E0h+var_550], xmm0 }
      *(float *)&v26 = 1.0 - (float)((float)(*(float *)&_XMM7 + *(float *)&_XMM7) * *(float *)&_XMM7);
      *(float *)&_XMM7 = (float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM7;
      v38 = (float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM13;
      v345 = 0.0;
      v346 = 0.0;
      v334 = (float)(1.0 - *(float *)&v21) - (float)((float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM5);
      v349 = 0;
      v39 = *(_DWORD *)(Parameter + 0x1F0);
      v337 = v38 + *(float *)&_XMM6;
      v332 = v357;
      v353 = *(_QWORD *)(Parameter + 0x1E8);
      v355 = *(_QWORD *)(Parameter + 0x1F4);
      v338 = *(float *)&v26 - (float)((float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM5);
      v354 = v39;
      v40 = *(_DWORD *)(Parameter + 0x1FC);
      v350 = ymmword_148199FE0;
      v335 = *(float *)&_XMM6 - v38;
      v336 = *(float *)&_XMM7 + *(float *)&v22;
      v339 = *(float *)&_XMM9 - *(float *)&v23;
      v340 = *(float *)&_XMM7 - *(float *)&v22;
      v341 = *(float *)&_XMM9 + *(float *)&v23;
      v342 = *(float *)&v26 - *(float *)&v21;
      v343 = 1.0;
      v351 = 1.0;
      v333 = v358;
      v356 = v40;
      v352 = 0;
      __asm { vzeroupper }
      sub_146646860((__int64)v359);
      v362 = 1;
      _InterlockedIncrement(&dword_14A135B7C);
      v365 = 1;
      v359[0] = &off_148ABFE50;
      v363 = &off_148ABFD68;
      v364 = v359;
      v360 = 0.0;
      n3 = 3;
      sub_146666E30((__int64)v359);
      v41 = sub_1468DA1E0((Parameter *)Parameter);
      sub_146670E80((__int64)v359, a2, (double *)&v332, 0, (v41 ^ 1) + 0x18);
      v363 = &off_148ABF6C8;
      v248 = _InterlockedDecrement(&dword_14A135B7C);
      n0x40 = (unsigned __int64)sub_146647D40((__int64)v359);
    }
    v14 = v292;
  }
  if ( (*(_BYTE *)v14 & 1) != 0 )
  {
    v42 = (volatile signed __int64 *)(Parameter + 0x8C8);
    v43 = _InterlockedIncrement64((volatile signed __int64 *)(Parameter + 0x8C8));
    if ( (v43 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)(Parameter + 0x8C8),
        v43,
        (__int64)"CRigidEntity::DrawHelperInformation",
        (__int64)"m_lockContacts",
        1);
    n0x40 = Parameter + 0x4D0;
    v44 = *(double **)(Parameter + 0x4D0);
    if ( v44 != (double *)(Parameter + 0x4D0) )
    {
      do
      {
        sub_140339170(v367, a4, v44 + 8);
        v45 = *(_QWORD *)(Parameter + 0x2C0);
        v307 = (double *)*((_QWORD *)v44 + 0xE);
        v46 = *(float *)(v45 + 0x13C);
        v47 = v46 * *((float *)v44 + 0x1E);
        v331[0] = (float)((float)(*(float *)&v307 * v46) * 30.0) + v44[8];
        v331[1] = (float)((float)(_mm_shuffle_ps((__m128)(unsigned __int64)v307, (__m128)(unsigned __int64)v307, 0x55).m128_f32[0]
                                * v46)
                        * 30.0)
                + v44[9];
        v331[2] = (float)(v47 * 30.0) + v44[0xA];
        sub_140339170(v366, a4, v331);
        n0x40 = (*(__int64 (__fastcall **)(__int64 *, double *, double *, _QWORD, _DWORD))(*a2 + 0x40))(
                  a2,
                  v367,
                  v366,
                  *(unsigned int *)(Parameter + 0xF4),
                  0);
        v44 = *(double **)v44;
      }
      while ( v44 != (double *)(Parameter + 0x4D0) );
      v14 = v292;
      v42 = (volatile signed __int64 *)(Parameter + 0x8C8);
    }
    v48 = _InterlockedDecrement64(v42);
    if ( (v48 & 0x3FF) == 0 )
    {
      n0x40 = 0xFFFF0000FFC00000uLL;
      if ( (v48 & 0xFFFF0000FFC00000uLL) != 0 )
        n0x40 = sub_1403CD3A0(v42, v48);
    }
  }
  if ( (*(_BYTE *)v14 & 0x10) != 0 )
  {
    LOBYTE(n0x40) = 0;
    v248 = 0;
    n0x40_2 = 0;
    v49 = 0;
    v249 = 0;
    v50 = 0;
    while ( 1 )
    {
      n0x40 = 1LL << n0x40;
      n0x40_1 = *(_QWORD *)(Parameter + 0x500);
      if ( n0x40 > n0x40_1 )
        return n0x40;
      if ( (n0x40_1 & n0x40) != 0 )
        break;
LABEL_48:
      v50 += 0x108;
      n0x40 = (unsigned int)(n0x40_2 + 1);
      v249 = v50;
      v49 += 0x100;
      n0x40_2 = n0x40;
      if ( (int)n0x40 >= 0x40 )
        return n0x40;
    }
    v52 = *(_QWORD *)(Parameter + 0x4F0);
    if ( (*(_DWORD *)(v49 + v52 + 0x68) & 0x100) != 0 )
    {
LABEL_47:
      v50 = v249;
      goto LABEL_48;
    }
    v53 = *(_QWORD *)(Parameter + 0x4E8);
    v54 = *(_DWORD *)(v49 + v52 + 0x68) & 1;
    v55 = v249;
    if ( (*(_DWORD *)(v249 + v53 + 0x94) & 0x2000100) == 0 && !v54
      || (v56 = *((_DWORD *)v292 + 2), v56 >= 1) && *(_DWORD *)(v49 + v52 + 8) != v56 )
    {
      v50 = v249;
      goto LABEL_48;
    }
    v57 = *(_QWORD *)(v249 + v53 + 0x28);
    v58 = a4[1];
    v59 = *a4;
    v60 = a4[2];
    v61 = a4[3];
    v62 = *(float *)(v57 + 0x94);
    v63 = *(float *)(v57 + 0x90);
    v64 = *(float *)(v57 + 0x98);
    v65 = *(float *)(v57 + 0x9C);
    v66 = v65 * v61 - (v63 * *a4 + v62 * v58 + v64 * v60);
    v67 = v64 * v58 - v62 * v60 + v63 * v61 + v65 * *a4;
    v68 = v63 * v60 - v64 * *a4 + v62 * v61 + v65 * v58;
    v69 = v62 * *a4 - v63 * v58 + v64 * v61 + v65 * v60;
    v70 = COERCE_UNSIGNED_INT64(*(float *)(v49 + v52 + 0xC));
    v71 = COERCE_UNSIGNED_INT64(*(float *)(v49 + v52 + 0x10));
    v72 = *(float *)(v49 + v52 + 0x14);
    v73 = *(float *)(v49 + v52 + 0x18);
    _XMM0 = COERCE_UNSIGNED_INT64(v73 * v66 - (*(double *)&v71 * v68 + *(double *)&v70 * v67 + v72 * v69));
    __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
    v279 = *(float *)&_XMM4;
    _XMM2 = COERCE_UNSIGNED_INT64(v72 * v68 - *(double *)&v71 * v69 + *(double *)&v70 * v66 + v73 * v67);
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    v247 = *(float *)&_XMM0;
    *((_QWORD *)&v78 + 1) = *((_QWORD *)&v70 + 1);
    v301 = (double *)(v57 + 0x78);
    v79 = *(_QWORD *)(v249 + v53 + 0x30);
    *(double *)&v78 = *(double *)&v70 * v69 - v72 * v67 + *(double *)&v71 * v66 + v73 * v68;
    _XMM2 = v78;
    __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
    v239 = *(float *)&_XMM1;
    v307 = (double *)(v79 + 0x78);
    *(double *)&_XMM0 = *(double *)&v70 * v68;
    v82 = a4[3];
    *((_QWORD *)&v78 + 1) = *((_QWORD *)&v71 + 1);
    *(double *)&v78 = *(double *)&v71 * v67 - *(double *)&_XMM0;
    *(double *)&_XMM0 = v73 * v69;
    v83 = a4[1];
    *(double *)&v78 = *(double *)&v78 + v72 * v66 + *(double *)&_XMM0;
    _XMM2 = v78;
    __asm { vcvtsd2ss xmm13, xmm2, xmm2 }
    *(double *)&v78 = *(float *)(v79 + 0x94);
    *(double *)&v70 = *(float *)(v79 + 0x90);
    v86 = *(float *)(v79 + 0x98);
    v87 = *(float *)(v79 + 0x9C);
    v88 = v87 * v82 - (*(double *)&v70 * v59 + *(double *)&v78 * v83 + v86 * v60);
    v89 = v86 * v83 - *(double *)&v78 * v60 + *(double *)&v70 * v82 + v87 * v59;
    v90 = *(double *)&v70 * v60 - v86 * v59 + *(double *)&v78 * v82 + v87 * v83;
    v91 = COERCE_UNSIGNED_INT64(*(double *)&v78 * v59 - *(double *)&v70 * v83 + v86 * a4[3] + v87 * v60);
    v92 = COERCE_UNSIGNED_INT64(*(float *)(v49 + v52 + 0x20));
    *(double *)&v70 = *(float *)(v49 + v52 + 0x1C);
    v93 = *(float *)(v49 + v52 + 0x24);
    v94 = *(float *)(v49 + v52 + 0x28);
    _XMM0 = COERCE_UNSIGNED_INT64(v94 * v88 - (v90 * *(double *)&v92 + *(double *)&v70 * v89 + *(double *)&v91 * v93));
    __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
    v241 = *(float *)&_XMM4;
    _XMM2 = COERCE_UNSIGNED_INT64(v93 * v90 - *(double *)&v91 * *(double *)&v92 + *(double *)&v70 * v88 + v94 * v89);
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    v281 = *(float *)&_XMM0;
    *((_QWORD *)&v78 + 1) = *((_QWORD *)&v91 + 1);
    *(double *)&v78 = *(double *)&v91 * *(double *)&v70 - v93 * v89 + *(double *)&v92 * v88 + v90 * v94;
    _XMM2 = v78;
    __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
    v280 = *(float *)&_XMM13;
    v282 = *(float *)&_XMM1;
    *((_QWORD *)&v78 + 1) = *((_QWORD *)&v92 + 1);
    *(double *)&_XMM0 = v90 * *(double *)&v70;
    *(float *)&v70 = v247;
    *(double *)&v78 = *(double *)&v92 * v89 - *(double *)&_XMM0 + v93 * v88 + *(double *)&v91 * v94;
    _XMM2 = v78;
    *(float *)&v92 = (float)(v239 + v239) * v247;
    *(float *)&v59 = 1.0 - (float)((float)(*(float *)&v70 + *(float *)&v70) * *(float *)&v70);
    *(float *)&v88 = (float)(*(float *)&v70 + *(float *)&v70) * v279;
    *(float *)&v91 = (float)(v239 + v239) * v279;
    n0x40_3 = n0x40_2;
    __asm { vcvtsd2ss xmm15, xmm2, xmm2 }
    *(float *)&_XMM2 = *(float *)&_XMM13 + *(float *)&_XMM13;
    *(float *)&_XMM1 = (float)(*(float *)&_XMM13 + *(float *)&_XMM13) * v279;
    *(float *)&_XMM13 = (float)(v239 + v239) * v239;
    *(_QWORD *)&v287 = 0x108LL * n0x40_2;
    v289 = (float)(1.0 - *(float *)&_XMM13) - (float)(*(float *)&_XMM2 * v280);
    v290 = *(float *)&_XMM1 + *(float *)&v92;
    v291 = (float)(*(float *)&_XMM2 * v247) - *(float *)&v91;
    v293 = *(float *)&v92 - *(float *)&_XMM1;
    v294 = *(float *)&v59 - (float)(*(float *)&_XMM2 * v280);
    v295 = (float)(*(float *)&_XMM2 * v239) + *(float *)&v88;
    v296 = (float)(*(float *)&_XMM2 * v247) + *(float *)&v91;
    v297 = (float)(*(float *)&_XMM2 * v239) - *(float *)&v88;
    v298 = *(float *)&v59 - *(float *)&_XMM13;
    sub_140339170((double *)&v285, a4, (double *)(v287 + 0x40 + v53));
    *(float *)&v94 = v281;
    v103 = v282;
    _XMM1 = COERCE_UNSIGNED_INT64(*v301 - *(double *)&v285);
    v105 = *((unsigned __int64 *)v301 + 2);
    _XMM0 = COERCE_UNSIGNED_INT64(v301[1] - *((double *)&v285 + 1));
    __asm
    {
      vcvtsd2ss xmm2, xmm1, xmm1
      vcvtsd2ss xmm1, xmm0, xmm0
    }
    v304[0] = *(float *)&_XMM2;
    *((_QWORD *)&v78 + 1) = *((_QWORD *)&v105 + 1);
    *(double *)&v78 = *(double *)&v105 - v286;
    _XMM2 = v78;
    __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
    v304[2] = *(float *)&_XMM0;
    v304[1] = *(float *)&_XMM1;
    *(float *)&v88 = 1.0 - (float)(*(float *)&v94 * (float)(*(float *)&v94 + *(float *)&v94));
    *(float *)&v91 = v241 * (float)(*(float *)&v94 + *(float *)&v94);
    *(float *)&v70 = v241 * (float)(v103 + v103);
    *(float *)&v89 = v103 * (float)(v103 + v103);
    *(float *)&v105 = v281 * (float)(v103 + v103);
    *(float *)&v93 = v282 * (float)(*(float *)&_XMM15 + *(float *)&_XMM15);
    *(float *)&_XMM1 = v241 * (float)(*(float *)&_XMM15 + *(float *)&_XMM15);
    v112 = LODWORD(v281);
    v111 = v281 * (float)(*(float *)&_XMM15 + *(float *)&_XMM15);
    *(float *)&_XMM2 = *(float *)&_XMM15 * (float)(*(float *)&_XMM15 + *(float *)&_XMM15);
    *(float *)&v94 = *(float *)&v105 - *(float *)&_XMM1;
    v113 = (float)(1.0 - *(float *)&v89) - *(float *)&_XMM2;
    v242 = *(float *)&_XMM1 + *(float *)&v105;
    *(float *)&_XMM0 = *(float *)&v93 + *(float *)&v91;
    *(float *)&v105 = *(float *)&v93 - *(float *)&v91;
    v114 = v242;
    *(float *)&v112 = v111 - *(float *)&v70;
    v115 = v112;
    v245 = v242;
    v244 = v113;
    v246 = v111 - *(float *)&v70;
    v272 = *(float *)&v94;
    v273 = *(float *)&v88 - *(float *)&_XMM2;
    v274 = *(float *)&_XMM0;
    v275 = v111 + *(float *)&v70;
    v276 = *(float *)&v105;
    v277 = *(float *)&v88 - *(float *)&v89;
    if ( v54 )
    {
      v116 = *v18;
      LOBYTE(v233) = 1;
      v250 = 0xFF5C5CCD;
      *(float *)&v229 = 1.0;
      (*(void (__fastcall **)(__int64 *, __int128 *, float *, unsigned int *, __int64, __int64, unsigned int))(v116 + 0x108))(
        v18,
        &v285,
        &v289,
        &v250,
        v229,
        v233,
        0xFFFFFFFF);
      v117 = *(_QWORD *)(Parameter + 0x4F0);
      v118 = *(float *)(v117 + v49 + 0x64);
      v247 = *(float *)(v117 + v49 + 0x60);
      v240 = v118;
      if ( v118 > v247 )
      {
        sub_146647180((__int64)v369);
        v119 = *a4;
        v120 = *((unsigned __int64 *)a4 + 1);
        v121 = *((unsigned __int64 *)a4 + 3);
        v122 = *((unsigned __int64 *)a4 + 2);
        v123 = *(_QWORD *)(Parameter + 0x4E8);
        _XMM0 = 0;
        v321 = 0.0;
        v322 = 0.0;
        v309 = 0.0;
        v323 = 0.0;
        v320 = 0;
        __asm
        {
          vmovupd [rbp+7E0h+var_6A0], xmm0
          vmovupd [rbp+7E0h+var_640], xmm0
        }
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v120 + 1);
        *(double *)&v126 = *(double *)&v120 + *(double *)&v120;
        v125 = v126;
        v127 = *(double *)&v121 * (*(double *)&v120 + *(double *)&v120);
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v122 + 1);
        *(double *)&v126 = *(double *)&v122 + *(double *)&v122;
        v128 = v126;
        v129 = *(double *)&v125 * *(double *)&v120;
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v125 + 1);
        *(double *)&v126 = *(double *)&v125 * v119;
        v130 = v126;
        v131 = *(double *)&v121 * (v119 + v119);
        v300[0] = 1.0 - (v119 + v119) * v119;
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v128 + 1);
        *(double *)&v126 = *(double *)&v128 * v119;
        v132 = v126;
        v319 = 1.0;
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v128 + 1);
        *(double *)&v126 = *(double *)&v128 * *(double *)&v120;
        v133 = v126;
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v121 + 1);
        *(double *)&v126 = *(double *)&v121 * *(double *)&v128;
        v134 = v126;
        _XMM1 = COERCE_UNSIGNED_INT64(1.0 - v129 - *(double *)&v128 * *(double *)&v122);
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v130 + 1);
        *(double *)&v126 = *(double *)&v130 - *(double *)&v134;
        _XMM2 = v126;
        __asm
        {
          vcvtsd2ss xmm11, xmm1, xmm1
          vcvtsd2ss xmm9, xmm2, xmm2
        }
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v134 + 1);
        *(double *)&v126 = *(double *)&v134 + *(double *)&v130;
        _XMM1 = v126;
        __asm { vcvtsd2ss xmm7, xmm1, xmm1 }
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v132 + 1);
        *(double *)&v126 = *(double *)&v132 + v127;
        _XMM0 = v126;
        __asm { vcvtsd2ss xmm8, xmm0, xmm0 }
        _XMM0 = COERCE_UNSIGNED_INT64(v300[0] - *(double *)&v128 * *(double *)&v122);
        __asm { vcvtsd2ss xmm6, xmm0, xmm0 }
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v132 + 1);
        *(double *)&v126 = *(double *)&v132 - v127;
        _XMM0 = v126;
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v133 + 1);
        *(double *)&v126 = *(double *)&v133 - v131;
        _XMM1 = v126;
        __asm
        {
          vcvtsd2ss xmm4, xmm0, xmm0
          vcvtsd2ss xmm5, xmm1, xmm1
        }
        _XMM0 = COERCE_UNSIGNED_INT64(v300[0] - v129);
        *((_QWORD *)&v126 + 1) = *((_QWORD *)&v133 + 1);
        *(double *)&v126 = *(double *)&v133 + v131;
        _XMM1 = v126;
        __asm
        {
          vcvtsd2ss xmm2, xmm0, xmm0
          vcvtsd2ss xmm3, xmm1, xmm1
        }
        v318 = *(float *)&_XMM2;
        v310 = *(float *)&_XMM11;
        v311 = *(float *)&_XMM9;
        v312 = *(float *)&_XMM8;
        v313 = *(float *)&_XMM7;
        v314 = *(float *)&_XMM6;
        v315 = *(float *)&_XMM5;
        v316 = *(float *)&_XMM4;
        v317 = *(float *)&_XMM3;
        v325 = 0;
        if ( (*(_DWORD *)(v55 + v123 + 0x94) & 0x100) != 0 )
        {
          v308 = v285;
          v153 = (__m128)LODWORD(v240);
          v309 = v286;
          *(double *)v153.m128_u64 = _libm_sse2_sincosf4_();
          v154 = _mm_shuffle_ps(v153, v153, 1).m128_f32[0];
          v155 = _mm_shuffle_ps(v153, v153, 0xE).m128_f32[0];
          v156 = (float)(v154 * v273) + (float)(v153.m128_f32[0] * v276);
          v157 = (float)(v154 * v272) + (float)(v153.m128_f32[0] * v275);
          v158 = (float)(v154 * v274) + (float)(v153.m128_f32[0] * v277);
          v159 = _mm_shuffle_ps(v153, v153, 0xAB).m128_f32[0];
          v160 = v159 * v272;
          v161 = v159 * v273;
          v162 = v159 * v274;
          v163 = v160 + (float)(v155 * v275);
          v370 = v163 - (float)(0.5 * v244);
          v372 = (float)(v162 + (float)(v155 * v277)) - (float)(0.5 * v246);
          v374 = -0.5 * v245;
          v371 = (float)(v161 + (float)(v155 * v276)) - (float)(0.5 * v245);
          v373 = -0.5 * v244;
          v375 = -0.5 * v246;
          v377 = v156 - (float)(0.5 * v245);
          v376 = v157 - (float)(0.5 * v244);
          v378 = v158 - (float)(0.5 * v246);
          v380 = (float)(0.5 * v245) + (float)(v161 + (float)(v155 * v276));
          v379 = (float)(0.5 * v244) + v163;
          DWORD2(v326) = 2;
          *(_QWORD *)&v326 = qword_148ACCD20;
          v385 = (float)(0.5 * v244) + v157;
          v381 = (float)(0.5 * v246) + (float)(v162 + (float)(v155 * v277));
          *(_QWORD *)&v327 = &v370;
          DWORD2(v327) = 0xC;
          v387 = (float)(0.5 * v246) + v158;
          v386 = (float)(0.5 * v245) + v156;
          *(_OWORD *)v300 = v326;
          v382 = 0.5 * v244;
          v383 = 0.5 * v245;
          v384 = 0.5 * v246;
          v283 = v327;
          sub_14666B1D0(v369, (char **)&v283, (__int64)v300, 0, 0, 8, 0x20080, 4, 4, 1.0);
          v164 = v287;
        }
        else
        {
          v164 = v287;
          sub_140339170((double *)&v283, a4, (double *)(v123 + v287 + 0x58));
          _XMM8 = (unsigned __int64)v283;
          v166 = v284;
          v167 = v247;
          v168 = *v18;
          *(double *)&v287 = (float)(v244 * v240) + *(double *)&v283;
          *((double *)&v287 + 1) = (float)(v245 * v240) + *((double *)&v283 + 1);
          v288 = (float)(v246 * v240) + v284;
          *(double *)&v283 = (float)(v244 * v247) + *(double *)&v283;
          *((double *)&v283 + 1) = (float)(v245 * v247) + *((double *)&v283 + 1);
          v251 = 0xFF5C5CCD;
          v252 = 0xFF5C5CCD;
          v284 = (float)(v246 * v247) + v284;
          (*(void (__fastcall **)(__int64 *, __int128 *, unsigned int *, __int128 *, unsigned int *, int, unsigned int))(v168 + 0x30))(
            v18,
            &v283,
            &v252,
            &v287,
            &v251,
            0x3F800000,
            0xFFFFFFFF);
          __asm { vunpcklpd xmm0, xmm8, xmm7 }
          v308 = _XMM0;
          v247 = v240 * v245;
          v370 = (float)((float)(0.5 * v272) + (float)(0.5 * v275)) + (float)(v167 * v244);
          v282 = 0.5 * v275;
          v280 = 0.5 * v276;
          v281 = 0.5 * v273;
          *(float *)v300 = 0.5 * v274;
          v279 = v240 * v244;
          v309 = v166;
          v170 = (float)(0.5 * v273) + (float)(0.5 * v276);
          v372 = (float)((float)(0.5 * v274) + (float)(0.5 * v277)) + (float)(v167 * v246);
          v171 = (float)(0.5 * v274) - (float)(0.5 * v277);
          v373 = (float)(v167 * v244) + (float)((float)(0.5 * v275) - (float)(0.5 * v272));
          *(float *)&v166 = (float)(0.5 * v276) - (float)(0.5 * v273);
          v371 = v170 + (float)(v167 * v245);
          v172 = (float)(0.5 * v277) - (float)(0.5 * v274);
          v173 = (float)-(float)(0.5 * v274) - (float)(0.5 * v277);
          v174 = (float)-(float)(0.5 * v273) - (float)(0.5 * v276);
          v374 = (float)(v167 * v245) + *(float *)&v166;
          *(float *)&_XMM8 = (float)-(float)(0.5 * v272) - (float)(0.5 * v275);
          v376 = (float)(v167 * v244) + *(float *)&_XMM8;
          v375 = (float)(v167 * v246) + v172;
          v377 = (float)(v167 * v245) + v174;
          v175 = (float)(0.5 * v272) - (float)(0.5 * v275);
          v379 = (float)(v167 * v244) + v175;
          v378 = (float)(v167 * v246) + v173;
          v380 = (float)(v167 * v245) + (float)((float)(0.5 * v273) - (float)(0.5 * v276));
          v382 = (float)((float)(0.5 * v272) + (float)(0.5 * v275)) + (float)(v240 * v244);
          v381 = (float)(v167 * v246) + v171;
          v383 = v170 + (float)(v240 * v245);
          v384 = (float)((float)(0.5 * v274) + (float)(0.5 * v277)) + (float)(v240 * v246);
          v385 = (float)((float)(0.5 * v275) - (float)(0.5 * v272)) + (float)(v240 * v244);
          v386 = *(float *)&v166 + (float)(v240 * v245);
          v388 = *(float *)&_XMM8 + (float)(v240 * v244);
          v387 = v172 + (float)(v240 * v246);
          v389 = v174 + (float)(v240 * v245);
          *(_QWORD *)&v328 = qword_148ACCD50;
          v390 = v173 + (float)(v240 * v246);
          v391 = (float)(v240 * v244) + v175;
          DWORD2(v328) = 2;
          *(_QWORD *)&v329 = &v370;
          DWORD2(v329) = 0xC;
          v392 = (float)(v240 * v245) + (float)((float)(0.5 * v273) - (float)(0.5 * v276));
          v393 = (float)(v240 * v246) + v171;
          v287 = v329;
          v283 = v328;
          sub_14666B1D0(v369, (char **)&v287, (__int64)&v283, 0, 0, 8, 0x20080, 4, 4, 1.0);
        }
        v176 = *a2;
        v177 = 0.0;
        LOBYTE(v238) = 0;
        v305[0] = 0.0;
        v305[1] = 0.0;
        v305[2] = 0.0;
        (*(void (__fastcall **)(__int64 *, __int64 *, __int128 *, __int64, _DWORD, float *, int))(v176 + 0x20))(
          a2,
          v369,
          &v308,
          0xA,
          0,
          v305,
          v238);
        sub_146647ED0((__int64)v369);
        v115 = LODWORD(v246);
        v114 = v245;
        v113 = v244;
LABEL_31:
        v178 = *(_QWORD *)(Parameter + 0x4F0);
        if ( (*(_BYTE *)(v49 + v178 + 0x68) & 2) != 0 )
        {
          v179 = sinf(*(float *)(v49 + v178 + 0x64));
          if ( v179 != 0.0 && v179 < 1.0 )
          {
            v180 = COERCE_FLOAT(LODWORD(v179) & 0x7FFFFFFF) / fsqrt(1.0 - (float)(v179 * v179));
            if ( v180 >= 1.0 )
            {
              v182 = 1.0;
              v181 = 1.0 / v180;
            }
            else
            {
              v181 = 1.0;
              v182 = v180;
            }
            if ( v179 < 0.0 )
            {
              LODWORD(v113) ^= 0x80000000;
              LODWORD(v114) ^= 0x80000000;
              v115 ^= 0x80000000;
            }
            v183 = v113 * 0.1305262;
            v184 = v114 * 0.1305262;
            v185 = *(float *)&v115 * 0.1305262;
            *(float *)&v287 = v113 * 0.1305262;
            *(float *)v300 = v114 * 0.1305262;
            v243 = *(float *)&v115 * 0.1305262;
            if ( (float)((float)((float)((float)((float)(v114 * v114) + (float)(v113 * v113))
                                       + (float)(*(float *)&v115 * *(float *)&v115))
                               * 0.80999994)
                       - (float)(v113 * v113)) >= 0.0 )
            {
              LODWORD(v303[2]) = LODWORD(v114) ^ 0x80000000;
              v303[0] = 0.0;
              v303[1] = *(float *)&v115;
              v186 = v303;
            }
            else
            {
              v302[0] = v115 ^ 0x80000000;
              *(float *)&v302[1] = 0.0;
              *(float *)&v302[2] = v113;
              v186 = (float *)v302;
            }
            v187 = (__m128)*(unsigned __int64 *)v186;
            v188 = v186[2];
            v189 = v187;
            v330 = *(double *)v187.m128_u64;
            v189.m128_f32[0] = (float)((float)(v187.m128_f32[0] * v187.m128_f32[0])
                                     + (float)(*((float *)&v330 + 1) * *((float *)&v330 + 1)))
                             + (float)(v188 * v188);
            if ( v189.m128_f32[0] <= 9.9999997e-21 )
            {
              v193 = 0.0;
              v194 = 1.0;
            }
            else
            {
              _XMM0 = _mm_shuffle_ps(v189, v189, 0);
              __asm { vrsqrtps xmm3, xmm0 }
              _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
              v192 = (float)(1.5
                           - (float)((float)((float)(v189.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                   * _XMM3.m128_f32[0];
              v193 = v192 * v187.m128_f32[0];
              v194 = v192 * v188;
              v177 = v192 * *((float *)&v330 + 1);
            }
            v195 = (float)(v113 * v181) + (float)(v182 * v193);
            v196 = v115;
            v197 = (float)(v114 * v181) + (float)(v182 * v177);
            *(float *)&v196 = (float)(*(float *)&v115 * v181) + (float)(v182 * v194);
            v198 = v196;
            n0x18 = 0x18;
            do
            {
              v200 = *v18;
              v201 = (float)((float)(*(float *)&v198 * v184) - (float)(v197 * v185)) + (float)(v195 * 0.99144489);
              v202 = (float)((float)(v195 * v185) - (float)(*(float *)&v198 * v183)) + (float)(v197 * 0.99144489);
              v203 = (float)((float)((float)((float)(v197 * v183) - (float)(v195 * v184))
                                   + (float)(*(float *)&v198 * 0.99144489))
                           * v184)
                   - (float)(v202 * v185);
              v204 = (float)(v201 * v185)
                   - (float)((float)((float)((float)(v197 * v183) - (float)(v195 * v184))
                                   + (float)(*(float *)&v198 * 0.99144489))
                           * v183);
              v205 = v198;
              *(float *)&v205 = (float)(*(float *)&v198 + (float)((float)(v202 * v183) - (float)(v201 * v184)))
                              + (float)((float)(v202 * v183) - (float)(v201 * v184));
              v206 = v205;
              *(double *)&v283 = v195 + *(double *)&v285;
              *((double *)&v283 + 1) = v197 + *((double *)&v285 + 1);
              v253 = 0xFF5C5CCD;
              v254 = 0xFF008000;
              v284 = *(float *)&v198 + v286;
              *(float *)&v205 = (float)(v204 + v197) + v204;
              (*(void (__fastcall **)(__int64 *, __int128 *, unsigned int *, __int128 *, unsigned int *, int, unsigned int))(v200 + 0x30))(
                v18,
                &v285,
                &v254,
                &v283,
                &v253,
                0x3F800000,
                0xFFFFFFFF);
              v207 = *v18;
              *(double *)&v283 = (float)((float)(v203 + v195) + v203) + *(double *)&v285;
              *((double *)&v283 + 1) = *(float *)&v205 + *((double *)&v285 + 1);
              v284 = *(float *)&v206 + v286;
              v306[0] = v195 + *(double *)&v285;
              v255 = 0xFF5C5CCD;
              v256 = 0xFF008000;
              v306[2] = *(float *)&v198 + v286;
              v306[1] = v197 + *((double *)&v285 + 1);
              (*(void (__fastcall **)(__int64 *, double *, unsigned int *, __int128 *, unsigned int *, int, unsigned int))(v207 + 0x30))(
                v18,
                v306,
                &v256,
                &v283,
                &v255,
                0x3F800000,
                0xFFFFFFFF);
              v195 = (float)(v203 + v195) + v203;
              v197 = *(float *)&v205;
              v184 = *(float *)v300;
              v185 = v243;
              v198 = v206;
              v183 = *(float *)&v287;
              --n0x18;
            }
            while ( n0x18 );
          }
        }
        else
        {
          v208 = *(_DWORD *)(v49 + v178 + 8);
          if ( v208 != v248 )
          {
            v209 = *(_QWORD *)(Parameter + 0x4E8) + v164;
            n0x40_3 <<= 8;
            v248 = v208;
            v210 = (double *)sub_1467CE650(v368, v209, v178 + n0x40_3 + 0x30, 0);
            sub_140339170((double *)&v283, a4, v210);
            v211 = (double *)sub_1467CE650(v368, v209, v178 + n0x40_3 + 0x48, 1);
            sub_140339170(v306, a4, v211);
            v212 = *v18;
            v257 = 0xFF9F9E5F;
            LOBYTE(v229) = 1;
            (*(void (__fastcall **)(__int64 *, __int128 *, __int64, unsigned int *, _DWORD, unsigned int))(v212 + 0xE0))(
              v18,
              &v283,
              v213,
              &v257,
              v229,
              0xFFFFFFFF);
            v214 = *v18;
            v271 = 0xFF00A4FF;
            LOBYTE(v230) = 1;
            (*(void (__fastcall **)(__int64 *, double *, __int64, unsigned int *, int, unsigned int))(v214 + 0xE0))(
              v18,
              v306,
              v215,
              &v271,
              v230,
              0xFFFFFFFF);
            v216 = *v18;
            v258 = 0xFF00A4FF;
            v259 = 0xFF9F9E5F;
            (*(void (__fastcall **)(__int64 *, __int128 *, unsigned int *, double *, unsigned int *, int, unsigned int))(v216 + 0x30))(
              v18,
              &v283,
              &v259,
              v306,
              &v258,
              0x3F800000,
              0xFFFFFFFF);
            sub_140339170(v300, a4, v301);
            sub_140339170((double *)&v287, a4, v307);
            v217 = *v18;
            v260 = 0xFFFF0000;
            LOBYTE(v231) = 1;
            (*(void (__fastcall **)(__int64 *, double *, __int64, unsigned int *, int, unsigned int))(v217 + 0xE0))(
              v18,
              v300,
              v218,
              &v260,
              v231,
              0xFFFFFFFF);
            v219 = *v18;
            LOBYTE(v232) = 1;
            v261 = 0xFF00FFFF;
            (*(void (__fastcall **)(__int64 *, __int128 *, __int64, unsigned int *, int, unsigned int))(v219 + 0xE0))(
              v18,
              &v287,
              v220,
              &v261,
              v232,
              0xFFFFFFFF);
            v221 = *v18;
            v262 = 0xFF00FFFF;
            v263 = 0xFFFF0000;
            (*(void (__fastcall **)(__int64 *, double *, unsigned int *, __int128 *, unsigned int *, int, unsigned int))(v221 + 0x30))(
              v18,
              v300,
              &v263,
              &v287,
              &v262,
              0x3F800000,
              0xFFFFFFFF);
            v222 = *v18;
            LOBYTE(v234) = 1;
            v264 = 0xFF0000FF;
            (*(void (__fastcall **)(__int64 *, __int128 *, float *, unsigned int *, int, int, unsigned int))(v222 + 0x108))(
              v18,
              &v285,
              &v289,
              &v264,
              0x3F800000,
              v234,
              0xFFFFFFFF);
            v223 = *v18;
            LOBYTE(v235) = 1;
            v265 = 0xFF008000;
            (*(void (__fastcall **)(__int64 *, __int128 *, float *, unsigned int *, int, int, unsigned int))(v223 + 0x108))(
              v18,
              &v285,
              &v293,
              &v265,
              0x3F800000,
              v235,
              0xFFFFFFFF);
            v224 = *v18;
            LOBYTE(v236) = 1;
            v266 = 0xFFFF0000;
            (*(void (__fastcall **)(__int64 *, __int128 *, float *, unsigned int *, int, int, unsigned int))(v224 + 0x108))(
              v18,
              &v285,
              &v296,
              &v266,
              0x3F800000,
              v236,
              0xFFFFFFFF);
            v225 = *v18;
            LOBYTE(v237) = 1;
            v267 = 0xFFFF00FF;
            (*(void (__fastcall **)(__int64 *, __int128 *, float *, unsigned int *, int, int, unsigned int))(v225 + 0x108))(
              v18,
              &v285,
              v304,
              &v267,
              0x3F800000,
              v237,
              0xFFFFFFFF);
            if ( (float)((float)((float)(v245 * v290) + (float)(v244 * v289)) + (float)(v246 * v291)) < 0.99900001 )
            {
              v226 = *v18;
              LOBYTE(v233) = 1;
              v268 = 0xFF000080;
              (*(void (__fastcall **)(__int64 *, __int128 *, float *, unsigned int *, int, _DWORD, unsigned int))(v226 + 0x108))(
                v18,
                &v285,
                &v244,
                &v268,
                0x3F800000,
                v233,
                0xFFFFFFFF);
            }
            if ( (float)((float)((float)(v273 * v294) + (float)(v272 * v293)) + (float)(v274 * v295)) < 0.99900001 )
            {
              v227 = *v18;
              LOBYTE(v233) = 1;
              v269 = 0xFF006300;
              (*(void (__fastcall **)(__int64 *, __int128 *, float *, unsigned int *, int, _DWORD, unsigned int))(v227 + 0x108))(
                v18,
                &v285,
                &v272,
                &v269,
                0x3F800000,
                v233,
                0xFFFFFFFF);
            }
            if ( (float)((float)((float)(v276 * v297) + (float)(v275 * v296)) + (float)(v277 * v298)) < 0.99900001 )
            {
              v228 = *v18;
              LOBYTE(v233) = 1;
              v270 = 0xFF8A3C47;
              (*(void (__fastcall **)(__int64 *, __int128 *, float *, unsigned int *, int, _DWORD, unsigned int))(v228 + 0x108))(
                v18,
                &v285,
                &v275,
                &v270,
                0x3F800000,
                v233,
                0xFFFFFFFF);
            }
          }
        }
        goto LABEL_47;
      }
      v115 = LODWORD(v246);
      v114 = v245;
      v113 = v244;
    }
    v164 = v287;
    v177 = 0.0;
    goto LABEL_31;
  }
  return n0x40;
}

// --- End Function: sub_1467BB2F0 (0x1467BB2F0) ---

// --- Function: sub_1467BCEC0 (0x1467BCEC0) ---
__int64 __fastcall sub_1467BCEC0(Parameter *Parameter, __int64 *a2, _QWORD *a3, double *a4)
{
  __int64 result; // rax
  double v9; // xmm8_8
  double v10; // xmm9_8
  double v11; // xmm10_8
  double v12; // xmm13_8
  double v13; // xmm7_8
  double v14; // xmm11_8
  double v15; // xmm12_8
  __int128 v19; // kr00_16
  double v24; // xmm7_8
  double v26; // xmm8_8
  double v27; // xmm14_8
  double v28; // xmm12_8
  double v29; // xmm11_8
  __int64 v30; // rax
  __int64 v31; // rax
  double v32; // xmm7_8
  double v33; // xmm4_8
  double v34; // xmm5_8
  __int64 v35; // rax
  double v36; // xmm4_8
  double *v37; // rax
  int v38; // r13d
  volatile signed __int64 *v39; // rdi
  __int64 n0x40; // r14
  __int128 v41; // xmm6
  __int128 v42; // xmm7
  __int128 v43; // xmm8
  __int64 v44; // rbx
  signed __int64 v45; // rdx
  float v46; // xmm1_4
  int v47; // r15d
  float v48; // r12d
  float v49; // xmm0_4
  unsigned __int64 v50; // rdx
  __int128 v51; // kr00_16
  __int128 v52; // kr00_16
  __int128 v53; // kr00_16
  float v54; // kr00_4
  float v55; // xmm7_4
  float v56; // xmm5_4
  float v57; // xmm13_4
  float v58; // xmm4_4
  float v59; // xmm9_4
  float v60; // xmm8_4
  float v61; // xmm6_4
  float v62; // xmm4_4
  float v63; // xmm13_4
  float v64; // xmm15_4
  __int64 v65; // rax
  __int64 v66; // rax
  __int64 n6; // r9
  void (__fastcall *v69)(__int64 *, _QWORD *, __int128 *, __int64, _DWORD, float *, int); // r10
  float v70; // xmm1_4
  float v71; // xmm9_4
  float v72; // xmm10_4
  __int128 v73; // kr00_16
  float v74; // xmm8_4
  float v76; // xmm13_4
  float v77; // xmm7_4
  float v78; // xmm6_4
  float v79; // xmm12_4
  float v80; // xmm4_4
  float v81; // xmm3_4
  float v82; // xmm1_4
  float v83; // xmm8_4
  float v85; // xmm7_4
  float v86; // xmm6_4
  float v87; // xmm4_4
  __int64 v88; // rax
  int v89; // [rsp+30h] [rbp-D0h]
  int v90; // [rsp+30h] [rbp-D0h]
  float v91; // [rsp+40h] [rbp-C0h]
  float v92; // [rsp+44h] [rbp-BCh]
  float v93; // [rsp+48h] [rbp-B8h]
  float v94; // [rsp+50h] [rbp-B0h]
  float v95; // [rsp+58h] [rbp-A8h]
  float v96; // [rsp+5Ch] [rbp-A4h]
  double v97; // [rsp+60h] [rbp-A0h]
  float v98; // [rsp+60h] [rbp-A0h]
  double v99; // [rsp+68h] [rbp-98h]
  float v100; // [rsp+68h] [rbp-98h]
  double v101; // [rsp+70h] [rbp-90h]
  __int128 v102; // [rsp+78h] [rbp-88h] BYREF
  double v103; // [rsp+88h] [rbp-78h]
  float v104; // [rsp+90h] [rbp-70h] BYREF
  float v105; // [rsp+94h] [rbp-6Ch]
  float v106; // [rsp+98h] [rbp-68h]
  float v107; // [rsp+9Ch] [rbp-64h]
  float v108; // [rsp+A0h] [rbp-60h]
  float v109; // [rsp+A4h] [rbp-5Ch]
  float v110; // [rsp+A8h] [rbp-58h]
  float v111; // [rsp+ACh] [rbp-54h]
  double v112; // [rsp+B0h] [rbp-50h] BYREF
  double v113; // [rsp+B8h] [rbp-48h]
  double v114; // [rsp+C0h] [rbp-40h]
  double v115; // [rsp+C8h] [rbp-38h] BYREF
  double v116; // [rsp+D0h] [rbp-30h]
  double v117; // [rsp+D8h] [rbp-28h]
  __int128 v118; // [rsp+E0h] [rbp-20h] BYREF
  double v119; // [rsp+F0h] [rbp-10h]
  float v120[4]; // [rsp+F8h] [rbp-8h]
  float v121[3]; // [rsp+108h] [rbp+8h] BYREF
  float v122[3]; // [rsp+114h] [rbp+14h] BYREF
  double v123[3]; // [rsp+120h] [rbp+20h] BYREF
  double v124[3]; // [rsp+138h] [rbp+38h] BYREF
  __int128 v125; // [rsp+150h] [rbp+50h] BYREF
  double v126; // [rsp+160h] [rbp+60h]
  float v127; // [rsp+168h] [rbp+68h]
  float v128; // [rsp+16Ch] [rbp+6Ch]
  __int128 v129; // [rsp+170h] [rbp+70h]
  float v130; // [rsp+180h] [rbp+80h]
  float v131; // [rsp+184h] [rbp+84h]
  float v132; // [rsp+188h] [rbp+88h]
  float v133; // [rsp+18Ch] [rbp+8Ch]
  __int128 v134; // [rsp+190h] [rbp+90h]
  float v135; // [rsp+1A0h] [rbp+A0h]
  float v136; // [rsp+1A4h] [rbp+A4h]
  double v137; // [rsp+1A8h] [rbp+A8h]
  int v139; // [rsp+1C0h] [rbp+C0h]
  _QWORD v140[2]; // [rsp+1D0h] [rbp+D0h] BYREF
  float v141; // [rsp+1E0h] [rbp+E0h]
  int n3_1; // [rsp+1E4h] [rbp+E4h]
  int v143; // [rsp+1E8h] [rbp+E8h]
  int n0x12_1; // [rsp+224h] [rbp+124h]
  __int64 (__fastcall **v145)(); // [rsp+228h] [rbp+128h]
  __int64 v146; // [rsp+278h] [rbp+178h]
  _QWORD v147[2]; // [rsp+280h] [rbp+180h] BYREF
  float v148; // [rsp+290h] [rbp+190h]
  int n3; // [rsp+294h] [rbp+194h]
  int v150; // [rsp+298h] [rbp+198h]
  int n0x12; // [rsp+2D4h] [rbp+1D4h]
  __int64 (__fastcall **v152)(); // [rsp+2D8h] [rbp+1D8h]
  __int64 v153; // [rsp+328h] [rbp+228h]
  float v154; // [rsp+410h] [rbp+310h]

  sub_1467BB2F0((Parameter *)Parameter, a2, a3, a4);
  result = 0x2000000002LL;
  if ( (*a3 & 0x2000000002LL) != 0 )
  {
    sub_140339170((double *)&v102, a4, (double *)(Parameter + 0x628));
    v9 = a4[3];
    v10 = a4[2];
    v11 = a4[1];
    v12 = *(float *)(Parameter + 0x1DC);
    v13 = *(float *)(Parameter + 0x1E4);
    v14 = *(float *)(Parameter + 0x1D8);
    v15 = *(float *)(Parameter + 0x1E0);
    _XMM15 = COERCE_UNSIGNED_INT64(v12 * *a4 - v14 * v11 + v15 * v9 + v13 * v10);
    _XMM6 = COERCE_UNSIGNED_INT64(v14 * v10 - v15 * *a4 + v12 * v9 + v13 * v11);
    *((_QWORD *)&v19 + 1) = 0;
    *(double *)&v19 = v15 * v11 - v12 * v10 + v14 * v9 + v13 * *a4;
    _XMM5 = v19;
    *((_QWORD *)&v19 + 1) = 0;
    *(double *)&v19 = v13 * v9 - (v12 * v11 + v14 * *a4 + v15 * v10);
    _XMM0 = v19;
    __asm
    {
      vcvtsd2ss xmm2, xmm0, xmm0
      vcvtsd2ss xmm1, xmm5, xmm5
      vcvtsd2ss xmm0, xmm6, xmm6
    }
    v24 = *(float *)&_XMM2;
    __asm { vcvtsd2ss xmm3, xmm15, xmm15 }
    *(double *)&_XMM5 = *(float *)&_XMM3;
    v93 = *(float *)&_XMM0;
    v91 = *(float *)&_XMM1;
    v92 = *(float *)&_XMM2;
    *(double *)&_XMM2 = -*(float *)&_XMM1;
    v97 = *(float *)&_XMM1;
    v154 = *(float *)&_XMM3;
    *(double *)&_XMM3 = *(float *)&_XMM1 * *(double *)&_XMM2 - *(float *)&_XMM0 * *(float *)&_XMM0;
    v99 = *(double *)&_XMM5;
    v101 = *(float *)&_XMM1 * v24;
    v26 = *(float *)&_XMM0 * v24;
    v27 = v103;
    v28 = *((double *)&v102 + 1);
    v29 = *(double *)&v102;
    v30 = *a2;
    *(double *)&_XMM2 = v26 - *(double *)&_XMM2 * *(double *)&_XMM5;
    *(double *)&_XMM5 = (*(float *)&_XMM0 * *(double *)&_XMM5 - v101) * 10.0;
    *(double *)&v19 = (*(double *)&_XMM3 + 1.0 + *(double *)&_XMM3) * 5.0;
    v117 = *(double *)&v19 + v103;
    v115 = *(double *)&_XMM2 * 10.0 + *(double *)&v102;
    v116 = *(double *)&_XMM5 + *((double *)&v102 + 1);
    v114 = v103 - *(double *)&v19;
    v112 = *(double *)&v102 - *(double *)&_XMM2 * 10.0;
    v113 = *((double *)&v102 + 1) - *(double *)&_XMM5;
    (*(void (__fastcall **)(__int64 *, double *, double *, __int64, _DWORD))(v30 + 0x40))(a2, &v115, &v112, 6, 0);
    v31 = *a2;
    *(double *)&_XMM6 = (*(float *)&_XMM0 * -*(float *)&_XMM0
                       - v99 * v99
                       + 1.0
                       + *(float *)&_XMM0 * -*(float *)&_XMM0
                       - v99 * v99)
                      * 5.0;
    v32 = v99 * v24;
    *(double *)&_XMM1 = v32 - -*(float *)&_XMM0 * *(float *)&_XMM1;
    v33 = (v99 * v97 - v26) * 10.0;
    v116 = *(double *)&_XMM1 * 10.0 + v28;
    v115 = *(double *)&_XMM6 + v29;
    v113 = v28 - *(double *)&_XMM1 * 10.0;
    v117 = v33 + v27;
    v112 = v29 - *(double *)&_XMM6;
    v114 = v27 - v33;
    (*(void (__fastcall **)(__int64 *, double *, double *, __int64, _DWORD))(v31 + 0x40))(a2, &v115, &v112, 6, 0);
    v34 = (COERCE_DOUBLE(*(_QWORD *)&v99 ^ 0x8000000000000000uLL) * v99
         - v97 * v97
         + 1.0
         + COERCE_DOUBLE(*(_QWORD *)&v99 ^ 0x8000000000000000uLL) * v99
         - v97 * v97)
        * 5.0;
    v35 = *a2;
    v36 = (v101 - COERCE_DOUBLE(*(_QWORD *)&v99 ^ 0x8000000000000000uLL) * *(float *)&_XMM0) * 10.0;
    v115 = (v97 * *(float *)&_XMM0 - v32) * 10.0 + v29;
    v116 = v34 + v28;
    v112 = v29 - (v97 * *(float *)&_XMM0 - v32) * 10.0;
    v117 = v36 + v27;
    v113 = v28 - v34;
    v114 = v27 - v36;
    (*(void (__fastcall **)(__int64 *, double *, double *, __int64, _DWORD))(v35 + 0x40))(a2, &v115, &v112, 6, 0);
    v37 = sub_140339170(v123, a4, (double *)(Parameter + 0x1C0));
    v38 = 0;
    v39 = (volatile signed __int64 *)(Parameter + 0x6D58);
    n0x40 = 0;
    *(double *)&_XMM1 = v37[2];
    v102 = *(_OWORD *)v37;
    v103 = *(double *)&_XMM1;
    v41 = 0;
    v42 = 0;
    v43 = 0;
    v44 = Parameter + 0xB20;
    do
    {
      v45 = _InterlockedIncrement64(v39);
      if ( (v45 & 0x200000) != 0 )
        sub_1403CD0A0(v39, v45, (__int64)"CSpaceshipEntity::DrawHelperInformation", (__int64)"m_lockSpaceship", 1);
      v46 = *(float *)(v44 + 0x24);
      v47 = *(_DWORD *)(v44 + 0x64);
      v48 = *(float *)(v44 + 8);
      *(_QWORD *)v120 = *(_QWORD *)v44;
      v94 = *(float *)(v44 + 0x1C);
      v49 = *(float *)(v44 + 0x20);
      v95 = v49;
      v50 = _InterlockedDecrement64(v39);
      if ( (v50 & 0x3FF) == 0 && (v50 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(v39, v50);
      result = LODWORD(v120[0]) & 0xFFA00000;
      if ( (_DWORD)result == 0xFFA00000 )
        break;
      v51 = v43;
      *(float *)&v51 = *(float *)&v43 + v48;
      v43 = v51;
      v52 = v42;
      *(float *)&v52 = *(float *)&v42 + v120[1];
      v42 = v52;
      v53 = v41;
      *(float *)&v53 = *(float *)&v41 + v120[0];
      v41 = v53;
      v100 = *(float *)&v43;
      v98 = *(float *)&v42;
      v96 = *(float *)&v53;
      if ( v47 && v49 >= 0.0 )
      {
        v54 = (float)(v49 * 1.5) + v48;
        v55 = (float)((float)(v54 * v93) - (float)(v154 * v120[1])) + (float)(v92 * v120[0]);
        v56 = (float)((float)(v154 * v120[0]) - (float)(v54 * v91)) + (float)(v92 * v120[1]);
        v57 = (float)(v91 * v120[1]) - (float)(v93 * v120[0]);
        v58 = (float)(v54 * v92) + v57;
        v119 = (float)((float)((float)(v56 * v91) - (float)(v55 * v93))
                     + (float)((float)((float)(v56 * v91) - (float)(v55 * v93)) + v54))
             + v103;
        *((double *)&v118 + 1) = (float)((float)((float)(v55 * v154) - (float)(v58 * v91))
                                       + (float)((float)((float)(v55 * v154) - (float)(v58 * v91)) + v120[1]))
                               + *((double *)&v102 + 1);
        *(double *)&v118 = (float)((float)((float)(v58 * v93) - (float)(v56 * v154))
                                 + (float)((float)((float)(v58 * v93) - (float)(v56 * v154)) + v120[0]))
                         + *(double *)&v102;
        v59 = v54 - (float)((float)((float)(v49 * 1.5) * 1.5) + v49);
        v60 = (float)((float)(v59 * v93) - (float)(v154 * v120[1])) + (float)(v120[0] * v92);
        v61 = (float)((float)(v154 * v120[0]) - (float)(v59 * v91)) + (float)(v120[1] * v92);
        v62 = (float)(v59 * v92) + v57;
        v63 = v93;
        v64 = v91;
        v65 = *a2;
        v124[0] = (float)((float)((float)(v62 * v93) - (float)(v61 * v154))
                        + (float)((float)((float)(v62 * v93) - (float)(v61 * v154)) + v120[0]))
                + *(double *)&v102;
        v124[1] = (float)((float)((float)(v60 * v154) - (float)(v62 * v91))
                        + (float)((float)((float)(v60 * v154) - (float)(v62 * v91)) + v120[1]))
                + *((double *)&v102 + 1);
        v124[2] = (float)((float)((float)(v61 * v91) - (float)(v60 * v93))
                        + (float)((float)((float)(v61 * v91) - (float)(v60 * v93)) + v59))
                + v103;
        (*(void (__fastcall **)(__int64 *, __int128 *, double *, __int64, _DWORD))(v65 + 0x40))(a2, &v118, v124, 2, 0);
        v110 = 0.07;
        v109 = (float)((float)(COERCE_FLOAT(LODWORD(v64) ^ 0x80000000) * v64) - (float)(v63 * v63))
             + (float)((float)((float)(COERCE_FLOAT(LODWORD(v64) ^ 0x80000000) * v64) - (float)(v63 * v63)) + 1.0);
        v106 = 0.0;
        v105 = 0.0;
        v104 = 0.0;
        v111 = v49 - v46;
        v107 = (float)((float)(v63 * v92) - (float)(COERCE_FLOAT(LODWORD(v64) ^ 0x80000000) * v154))
             + (float)((float)(v63 * v92) - (float)(COERCE_FLOAT(LODWORD(v64) ^ 0x80000000) * v154));
        v108 = (float)((float)(v63 * v154) - (float)(v64 * v92)) + (float)((float)(v63 * v154) - (float)(v64 * v92));
        sub_146646860((__int64)v147);
        v150 = 1;
        _InterlockedIncrement(&dword_1513C4130);
        v153 = 1;
        v147[0] = off_148AC8C90;
        v152 = &off_148ABFD68;
        v148 = 0.0;
        n3 = 3;
        n0x12 = 0x12;
        sub_146667200((__int64)v147, (__int64)&v104);
        v66 = *a2;
        v134 = 0;
        v129 = xmmword_148153550;
        _XMM0 = 0;
        v137 = 0.0;
        __asm { vmovupd [rbp+2F0h+var_240], xmm0 }
        v125 = v118;
        v126 = v119;
        n6 = 6;
        LOBYTE(v89) = 0;
        v139 = 0;
        if ( v94 > v46 + 0.03 )
          n6 = 8;
        v135 = 0.0;
        v136 = 0.0;
        v127 = 1.0;
        v128 = 0.0;
        v130 = 0.0;
        v131 = 0.0;
        v132 = 1.0;
        v133 = 1.0;
        v121[0] = 0.0;
        v121[1] = 0.0;
        v121[2] = 0.0;
        (*(void (__fastcall **)(__int64 *, _QWORD *, __int128 *, __int64, _DWORD, float *, int))(v66 + 0x20))(
          a2,
          v147,
          &v125,
          n6,
          0,
          v121,
          v89);
        v106 = 0.0;
        v105 = 0.0;
        v104 = 0.0;
        if ( v94 < 0.0 )
          v111 = v95 - v46;
        else
          v111 = v94 - v46;
        v110 = 0.15000001;
        sub_146646860((__int64)v140);
        v143 = 1;
        _InterlockedIncrement(&dword_1513C4130);
        v146 = 1;
        v140[0] = off_148AC8C90;
        v145 = &off_148ABFD68;
        v141 = 0.0;
        n3_1 = 3;
        n0x12_1 = 0x12;
        sub_146667200((__int64)v140, (__int64)&v104);
        v69 = *(void (__fastcall **)(__int64 *, _QWORD *, __int128 *, __int64, _DWORD, float *, int))(*a2 + 0x20);
        *(double *)&v125 = *(double *)&v118 - (float)((float)(v95 - v94) * v107);
        *((double *)&v125 + 1) = *((double *)&v118 + 1) - (float)((float)(v95 - v94) * v108);
        v126 = v119 - (float)((float)(v95 - v94) * v109);
        LOBYTE(v90) = v111 == 0.0;
        v122[0] = 0.0;
        v122[1] = 0.0;
        v122[2] = 0.0;
        v69(a2, v140, &v125, 4, 0, v122, v90);
        v145 = &off_148ABF6C8;
        _InterlockedDecrement(&dword_1513C4130);
        sub_146647D40((__int64)v140);
        v152 = &off_148ABF6C8;
        _InterlockedDecrement(&dword_1513C4130);
        result = (__int64)sub_146647D40((__int64)v147);
        v41 = LODWORD(v96);
        v42 = LODWORD(v98);
        v43 = LODWORD(v100);
      }
      ++n0x40;
      v44 += 0x188;
      ++v38;
    }
    while ( n0x40 < 0x40 );
    if ( v38 )
    {
      v70 = 1.0 / (float)v38;
      v71 = *(float *)&v41 * v70;
      v73 = v42;
      v72 = *(float *)&v42 * v70;
      v74 = (float)(*(float *)&v43 * v70) + 5.0;
      *(float *)&v73 = (float)(*(float *)&v42 * v70) * v154;
      _XMM15 = v73;
      v76 = (float)(*(float *)&v41 * v70) * v154;
      v77 = (float)((float)(v74 * v93) - *(float *)&v73) + (float)((float)(*(float *)&v41 * v70) * v92);
      v78 = (float)(v76 - (float)(v74 * v91)) + (float)(v72 * v92);
      v79 = (float)(v72 * v91) - (float)(v71 * v93);
      v80 = (float)(v74 * v92) + v79;
      v81 = (float)(v78 * v91) - (float)(v77 * v93);
      v123[0] = (float)((float)(v71 + (float)((float)(v80 * v93) - (float)(v78 * v154)))
                      + (float)((float)(v80 * v93) - (float)(v78 * v154)))
              + *(double *)&v102;
      v123[1] = (float)((float)(v72 + (float)((float)(v77 * v154) - (float)(v80 * v91)))
                      + (float)((float)(v77 * v154) - (float)(v80 * v91)))
              + *((double *)&v102 + 1);
      v82 = v74 + v81;
      v83 = v74 - 10.0;
      v123[2] = (float)(v82 + v81) + v103;
      __asm { vinsertps xmm15, xmm15, xmm9, 0Eh }
      v85 = (float)((float)(v83 * v93) - *(float *)&v73) + (float)(*(float *)&_XMM15 * v92);
      v86 = (float)(v76 - (float)(v83 * v91)) + (float)(v72 * v92);
      v87 = (float)(v85 * v154) - (float)((float)((float)(v83 * v92) + v79) * v91);
      *(double *)&v102 = (float)((float)((float)((float)((float)((float)(v83 * v92) + v79) * v93) - (float)(v86 * v154))
                                       + *(float *)&_XMM15)
                               + (float)((float)((float)((float)(v83 * v92) + v79) * v93) - (float)(v86 * v154)))
                       + *(double *)&v102;
      v88 = *a2;
      *((double *)&v102 + 1) = (float)((float)(v87 + v72) + v87) + *((double *)&v102 + 1);
      v103 = (float)((float)((float)((float)(v86 * v91) - (float)(v85 * v93)) + v83)
                   + (float)((float)(v86 * v91) - (float)(v85 * v93)))
           + v103;
      return (*(__int64 (__fastcall **)(__int64 *, double *, __int128 *, __int64, _DWORD))(v88 + 0x40))(
               a2,
               v123,
               &v102,
               2,
               0);
    }
  }
  return result;
}

// --- End Function: sub_1467BCEC0 (0x1467BCEC0) ---

// --- Function: sub_1467BF110 (0x1467BF110) ---
__int64 __fastcall sub_1467BF110(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  float v4; // xmm1_4
  __int128 v5; // xmm0
  float v6; // xmm1_4
  double v7; // xmm1_8
  double v9[4]; // [rsp+30h] [rbp-48h] BYREF
  __int128 v10; // [rsp+50h] [rbp-28h]
  double v11; // [rsp+60h] [rbp-18h]
  double v12; // [rsp+68h] [rbp-10h]

  v4 = *(float *)(a1 + 0x1DC);
  v9[0] = *(float *)(a1 + 0x1D8);
  v9[2] = *(float *)(a1 + 0x1E0);
  v5 = *(_OWORD *)(a1 + 0x1C0);
  v9[1] = v4;
  v6 = *(float *)(a1 + 0x1E4);
  v10 = v5;
  LODWORD(v5) = *(_DWORD *)(a1 + 0x200);
  v9[3] = v6;
  v7 = *(double *)(a1 + 0x1D0);
  v12 = *(float *)&v5;
  v11 = v7;
  return (*(__int64 (__fastcall **)(__int64, double *, __int64, __int64, __int64))(*(_QWORD *)a1 + 0x150LL))(
           a1,
           v9,
           a2,
           a3,
           a4);
}

// --- End Function: sub_1467BF110 (0x1467BF110) ---

// --- Function: sub_1467BF1B0 (0x1467BF1B0) ---
__int64 __fastcall sub_1467BF1B0(_QWORD *a1, int n0x40, __int64 a3, int *p_n4)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  __int128 v13; // xmm15
  unsigned int v16; // esi
  __int64 n0x40_1; // rbp
  __int64 v18; // rax
  __int64 n0x40_2; // r12
  __int64 v20; // r15
  __int64 v21; // r14
  double *v22; // rax
  double *v23; // rax
  __int64 v24; // r8
  __int64 v25; // rax
  __int64 v26; // rcx
  float *v27; // rax
  __int64 v28; // r12
  float v29; // xmm12_4
  float v30; // xmm7_4
  float v31; // xmm13_4
  float v32; // xmm10_4
  float v33; // xmm8_4
  float v34; // xmm9_4
  float v35; // xmm15_4
  float v36; // xmm14_4
  __int64 v37; // rdx
  float v38; // xmm10_4
  float *v39; // rcx
  float v40; // xmm8_4
  float v41; // xmm9_4
  float v42; // xmm15_4
  float v43; // xmm12_4
  float v44; // xmm7_4
  float v45; // xmm13_4
  float v46; // xmm14_4
  float v47; // xmm0_4
  int v48; // edx
  __int64 v49; // rcx
  float v50; // xmm0_4
  __int64 v51; // rax
  int n0x40_3; // ebp
  __int64 v53; // rax
  __int64 v54; // r9
  __int64 v55; // r8
  __int64 v56; // r14
  __int64 v57; // r15
  __int64 v58; // r10
  unsigned __int64 v59; // rcx
  __int64 v60; // rcx
  __int64 v61; // r11
  __int64 v62; // rax
  int v63; // edx
  float v64; // xmm10_4
  float v65; // xmm8_4
  float v66; // xmm9_4
  float v67; // xmm15_4
  float *v68; // rax
  float v69; // xmm12_4
  float v70; // xmm7_4
  float v71; // xmm13_4
  float v72; // xmm14_4
  __int64 v73; // rdx
  float v74; // xmm10_4
  float *v75; // rcx
  float v76; // xmm8_4
  float v77; // xmm9_4
  float v78; // xmm15_4
  float v79; // xmm12_4
  float v80; // xmm7_4
  float v81; // xmm13_4
  float v82; // xmm14_4
  int v83; // edx
  __int64 v84; // rax
  __int64 v85; // rax
  __int64 v86; // rcx
  __int64 v87; // rax
  float v88; // xmm10_4
  float v89; // xmm8_4
  float v90; // xmm13_4
  float v91; // xmm12_4
  float v92; // xmm4_4
  float v93; // xmm9_4
  float v94; // xmm11_4
  float v95; // xmm7_4
  float v96; // xmm6_4
  float v97; // xmm4_4
  int v100; // edx
  float v101; // xmm0_4
  __int64 v102; // rax
  float v103; // xmm10_4
  float v104; // xmm8_4
  float v105; // xmm13_4
  float v106; // xmm12_4
  float v107; // xmm4_4
  float v108; // xmm9_4
  float v109; // xmm11_4
  float v110; // xmm7_4
  float v111; // xmm6_4
  float v112; // xmm4_4
  __int64 v113; // rdx
  float v114; // xmm0_4
  __int64 v115; // rax
  float v116; // xmm10_4
  float v117; // xmm8_4
  float v118; // xmm13_4
  float v119; // xmm12_4
  float v120; // xmm4_4
  float v121; // xmm9_4
  float v122; // xmm11_4
  float v123; // kr00_4
  float v124; // xmm6_4
  float v125; // xmm4_4
  double v127[4]; // [rsp+20h] [rbp-D8h] BYREF
  __int128 v128; // [rsp+40h] [rbp-B8h]
  __int128 v129; // [rsp+50h] [rbp-A8h]
  __int128 v130; // [rsp+60h] [rbp-98h]
  __int128 v131; // [rsp+70h] [rbp-88h]
  __int128 v132; // [rsp+80h] [rbp-78h]
  __int128 v133; // [rsp+90h] [rbp-68h]
  __int128 v134; // [rsp+A0h] [rbp-58h]
  __int128 v135; // [rsp+B0h] [rbp-48h]
  __int128 v136; // [rsp+C0h] [rbp-38h]
  __int128 v137; // [rsp+D0h] [rbp-28h]

  v137 = v4;
  v136 = v5;
  v135 = v6;
  v16 = 1;
  v134 = v7;
  v133 = v8;
  n0x40_1 = n0x40;
  v132 = v9;
  v18 = a1[0x9D];
  n0x40_2 = n0x40;
  v131 = v10;
  v130 = v11;
  v20 = 0x108LL * n0x40;
  v129 = v12;
  v128 = v13;
  v21 = (__int64)n0x40 << 8;
  *((_QWORD *)p_n4 + 1) = *(_QWORD *)(v20 + v18 + 0x20);
  v22 = sub_1467CE650(v127, v20 + a1[0x9D], (double *)(v21 + a1[0x9E] + 0x30LL), 0);
  *((_OWORD *)p_n4 + 1) = *(_OWORD *)v22;
  *((double *)p_n4 + 4) = v22[2];
  v23 = sub_1467CE650(v127, v20 + a1[0x9D], (double *)(v21 + a1[0x9E] + 0x48LL), 1);
  v24 = 0x21 * n0x40_1;
  *(_OWORD *)(p_n4 + 0xA) = *(_OWORD *)v23;
  *((double *)p_n4 + 7) = v23[2];
  v25 = a1[0x9D];
  if ( (*(_DWORD *)(v20 + v25 + 0x94) & 0x2000000) != 0 )
  {
    v26 = a1[0x9E];
    v27 = *(float **)(v25 + 0x108 * n0x40_1 + 0x28);
    v28 = 0x10 * n0x40_2;
    v29 = v27[0x25];
    v30 = v27[0x24];
    v31 = v27[0x26];
    v32 = *(float *)(v26 + 0x10 * v28 + 0x10);
    v33 = *(float *)(v26 + 0x10 * v28 + 0xC);
    v34 = *(float *)(v26 + 0x10 * v28 + 0x14);
    v35 = *(float *)(v26 + 0x10 * v28 + 0x18);
    v36 = v27[0x27];
    *((float *)p_n4 + 0x15) = (float)(v35 * v36)
                            - (float)((float)((float)(v33 * v30) + (float)(v32 * v29)) + (float)(v34 * v31));
    *((float *)p_n4 + 0x12) = (float)((float)((float)(v34 * v29) - (float)(v31 * v32)) + (float)(v33 * v36))
                            + (float)(v30 * v35);
    *((float *)p_n4 + 0x13) = (float)((float)((float)(v31 * v33) - (float)(v34 * v30)) + (float)(v32 * v36))
                            + (float)(v29 * v35);
    *((float *)p_n4 + 0x14) = (float)((float)((float)(v30 * v32) - (float)(v33 * v29)) + (float)(v34 * v36))
                            + (float)(v31 * v35);
    v37 = a1[0x9E];
    v28 *= 2;
    v38 = *(float *)(v37 + 8 * v28 + 0x20);
    v39 = *(float **)(a1[0x9D] + 0x108 * n0x40_1 + 0x30);
    v40 = *(float *)(v37 + 8 * v28 + 0x1C);
    v41 = *(float *)(v37 + 8 * v28 + 0x24);
    v42 = *(float *)(v37 + 8 * v28 + 0x28);
    v43 = v39[0x25];
    v44 = v39[0x24];
    v45 = v39[0x26];
    v46 = v39[0x27];
    *((float *)p_n4 + 0x16) = (float)((float)((float)(v41 * v43) - (float)(v45 * v38)) + (float)(v40 * v46))
                            + (float)(v44 * v42);
    *((float *)p_n4 + 0x17) = (float)((float)((float)(v45 * v40) - (float)(v41 * v44)) + (float)(v38 * v46))
                            + (float)(v43 * v42);
    *((float *)p_n4 + 0x18) = (float)((float)((float)(v44 * v38) - (float)(v40 * v43)) + (float)(v41 * v46))
                            + (float)(v45 * v42);
    *((float *)p_n4 + 0x19) = (float)(v42 * v46)
                            - (float)((float)((float)(v40 * v44) + (float)(v38 * v43)) + (float)(v41 * v45));
  }
  p_n4[1] = *(_DWORD *)(v21 + a1[0x9E] + 8);
  v47 = *(float *)(v21 + a1[0x9E] + 0x98);
  if ( v47 > 0.0 )
    *((float *)p_n4 + 0x21) = v47;
  p_n4[0x1F] = *(_DWORD *)(v21 + a1[0x9E] + 0x6C);
  v48 = *(_DWORD *)(v21 + a1[0x9E] + 0x68) | 2;
  p_n4[0x1E] = v48;
  p_n4[0x20] = *(_DWORD *)(v21 + a1[0x9E] + 0x70);
  v49 = a1[0x9E];
  v50 = *(float *)(v21 + v49 + 0xA0);
  if ( v50 > 0.0 )
  {
    *((float *)p_n4 + 0x23) = v50;
    v49 = a1[0x9E];
  }
  if ( (*(_DWORD *)(v20 + a1[0x9D] + 0x94) & 0x2000000) != 0 )
  {
    *(double *)(p_n4 + 0x2F) = *(double *)(v49 + v21 + 0xB4);
    p_n4[0x31] = *(_DWORD *)(v49 + v21 + 0xBC);
    p_n4[0x1E] = v48 | 0x80000;
  }
  else
  {
    p_n4[0x2F] = 0xFFBFFFFF;
  }
  v51 = a1[0x9E];
  n0x40_3 = n0x40_1 + 1;
  *((double *)p_n4 + 0x19) = *(double *)(v21 + v51 + 0xC0);
  p_n4[0x34] = *(_DWORD *)(v21 + v51 + 0xC8);
  v53 = a1[0x9E];
  *(double *)(p_n4 + 0x3B) = *(double *)(v21 + v53 + 0xE4);
  p_n4[0x3D] = *(_DWORD *)(v21 + v53 + 0xEC);
  p_n4[0x10] = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1[0x9D] + 8 * v24 + 0x18) + 0x250LL)
                         + 4LL * *(__int16 *)(v20 + a1[0x9D] + 0x7C));
  p_n4[0x11] = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1[0x9D] + 8 * v24 + 0x20) + 0x250LL)
                         + 4LL * *(__int16 *)(v20 + a1[0x9D] + 0x7E));
  if ( n0x40_3 < 0x40 )
  {
    v54 = 0x108LL * n0x40_3;
    v55 = (__int64)n0x40_3 << 8;
    v56 = v55;
    v57 = v54 + 0x30;
    v58 = v55 + 0x64;
    do
    {
      v59 = a1[0xA0];
      if ( 1LL << n0x40_3 > v59 )
        break;
      if ( (v59 & (1LL << n0x40_3)) != 0 )
      {
        v60 = a1[0x9E];
        if ( *(_DWORD *)(v55 + v60 + 8) == p_n4[1] )
        {
          v61 = a1[0x9D];
          v62 = v55 + v60;
          v63 = *(_DWORD *)(v54 + v61 + 0x94);
          if ( (v63 & 0xE00) == 0 || (*(_BYTE *)(v62 + 0x68) & 3) != 0 )
          {
            v100 = *(_DWORD *)(v62 + 0x68);
            if ( (v100 & 1) != 0 )
            {
              p_n4[0x1A] = *(_DWORD *)(v60 + v58 - 4);
              p_n4[0x1B] = *(_DWORD *)(v58 + a1[0x9E]);
              v101 = *(float *)(v55 + a1[0x9E] + 0x98);
              if ( v101 > 0.0 )
                *((float *)p_n4 + 0x22) = v101;
              v102 = a1[0x9E];
              if ( (*(_DWORD *)(v55 + v102 + 0x68) & 0x3800000) != 0 )
              {
                v103 = *(float *)(v55 + v102 + 0x10);
                v104 = *(float *)(v55 + v102 + 0x14);
                v105 = *(float *)(v55 + v102 + 0xB0);
                v106 = *(float *)(v55 + v102 + 0xAC);
                v107 = *(float *)(v55 + v102 + 0x18);
                v108 = *(float *)(v55 + v102 + 0xA8);
                v109 = *(float *)(v55 + v102 + 0xC);
                v110 = (float)((float)(v106 * v104) - (float)(v105 * v103)) + (float)(v108 * v107);
                v111 = (float)((float)(v105 * v109) - (float)(v108 * v104)) + (float)(v106 * v107);
                v112 = (float)((float)(v108 * v103) - (float)(v106 * v109)) + (float)(v105 * v107);
                *((float *)p_n4 + 0x27) = (float)((float)((float)(v104 * v111) - (float)(v112 * v103)) + v108)
                                        + (float)((float)(v104 * v111) - (float)(v112 * v103));
                *((float *)p_n4 + 0x28) = (float)((float)((float)(v112 * v109) - (float)(v104 * v110)) + v106)
                                        + (float)((float)(v112 * v109) - (float)(v104 * v110));
                *((float *)p_n4 + 0x29) = (float)((float)((float)(v103 * v110) - (float)(v109 * v111)) + v105)
                                        + (float)((float)(v103 * v110) - (float)(v109 * v111));
                p_n4[0x2B] = *(_DWORD *)(v55 + a1[0x9E] + 0x9C);
              }
              ++v16;
            }
            else if ( (v100 & 2) != 0 )
            {
              p_n4[0x1C] = 0;
              v113 = (__int64)n0x40_3 << 8;
              p_n4[0x1D] = *(_DWORD *)(a1[0x9E] + v113 + 0x64);
              v114 = *(float *)(a1[0x9E] + v113 + 0x98);
              if ( v114 > 0.0 )
                *((float *)p_n4 + 0x22) = v114;
              v115 = a1[0x9E];
              if ( (*(_DWORD *)(v115 + v113 + 0x68) & 0x3800000) != 0 )
              {
                v116 = *(float *)(v115 + v113 + 0x10);
                v117 = *(float *)(v115 + v113 + 0x14);
                v118 = *(float *)(v115 + v113 + 0xB0);
                v119 = *(float *)(v115 + v113 + 0xAC);
                v120 = *(float *)(v115 + v113 + 0x18);
                v121 = *(float *)(v115 + v113 + 0xA8);
                v122 = *(float *)(v115 + v113 + 0xC);
                v123 = (float)((float)(v119 * v117) - (float)(v118 * v116)) + (float)(v121 * v120);
                v124 = (float)((float)(v118 * v122) - (float)(v121 * v117)) + (float)(v119 * v120);
                v125 = (float)((float)(v121 * v116) - (float)(v119 * v122)) + (float)(v118 * v120);
                *((float *)p_n4 + 0x27) = (float)((float)((float)(v124 * v117) - (float)(v125 * v116)) + v121)
                                        + (float)((float)(v124 * v117) - (float)(v125 * v116));
                *((float *)p_n4 + 0x28) = (float)((float)((float)(v125 * v122) - (float)(v123 * v117)) + v119)
                                        + (float)((float)(v125 * v122) - (float)(v123 * v117));
                *((float *)p_n4 + 0x29) = (float)((float)((float)(v123 * v116) - (float)(v124 * v122)) + v118)
                                        + (float)((float)(v123 * v116) - (float)(v124 * v122));
                p_n4[0x2B] = *(_DWORD *)(a1[0x9E] + v113 + 0x9C);
              }
              return v16 + 1;
            }
          }
          else
          {
            if ( (v63 & 0x2000000) == 0 )
            {
              v64 = *(float *)(v60 + v56 + 0x10);
              v65 = *(float *)(v60 + v56 + 0xC);
              v66 = *(float *)(v60 + v56 + 0x14);
              v67 = *(float *)(v60 + v56 + 0x18);
              v68 = *(float **)(v61 + v57 - 8);
              v69 = v68[0x25];
              v70 = v68[0x24];
              v71 = v68[0x26];
              v72 = v68[0x27];
              *((float *)p_n4 + 0x15) = (float)(v67 * v72)
                                      - (float)((float)((float)(v65 * v70) + (float)(v64 * v69)) + (float)(v66 * v71));
              *((float *)p_n4 + 0x12) = (float)((float)((float)(v66 * v69) - (float)(v71 * v64)) + (float)(v65 * v72))
                                      + (float)(v70 * v67);
              *((float *)p_n4 + 0x13) = (float)((float)((float)(v71 * v65) - (float)(v66 * v70)) + (float)(v64 * v72))
                                      + (float)(v69 * v67);
              *((float *)p_n4 + 0x14) = (float)((float)((float)(v70 * v64) - (float)(v65 * v69)) + (float)(v66 * v72))
                                      + (float)(v71 * v67);
              v73 = a1[0x9E];
              v74 = *(float *)(v56 + v73 + 0x20);
              v75 = *(float **)(a1[0x9D] + v57);
              v76 = *(float *)(v56 + v73 + 0x1C);
              v77 = *(float *)(v56 + v73 + 0x24);
              v78 = *(float *)(v56 + v73 + 0x28);
              v79 = v75[0x25];
              v80 = v75[0x24];
              v81 = v75[0x26];
              v82 = v75[0x27];
              *((float *)p_n4 + 0x16) = (float)((float)((float)(v77 * v79) - (float)(v81 * v74)) + (float)(v76 * v82))
                                      + (float)(v80 * v78);
              *((float *)p_n4 + 0x17) = (float)((float)((float)(v81 * v76) - (float)(v77 * v80)) + (float)(v74 * v82))
                                      + (float)(v79 * v78);
              *((float *)p_n4 + 0x18) = (float)((float)((float)(v80 * v74) - (float)(v76 * v79)) + (float)(v77 * v82))
                                      + (float)(v81 * v78);
              *((float *)p_n4 + 0x19) = (float)(v78 * v82)
                                      - (float)((float)((float)(v76 * v80) + (float)(v74 * v79)) + (float)(v77 * v81));
              v60 = a1[0x9E];
            }
            v83 = *(_DWORD *)(v54 + a1[0x9D] + 0x94);
            if ( (v83 & 0x200) == 0 || (*(_DWORD *)(v55 + v60 + 0x68) & 0x3800000) != 0 )
            {
              if ( (v83 & 0x800) != 0 )
                *((_QWORD *)p_n4 + 0xD) = 0;
              else
                *((_QWORD *)p_n4 + 0xE) = 0;
            }
            else
            {
              p_n4[0x1E] |= 0x2000u;
            }
            if ( (*(_DWORD *)(v54 + a1[0x9D] + 0x94) & 0x2000000) != 0 )
            {
              v84 = a1[0x9E];
              *(double *)(p_n4 + 0x35) = *(double *)(v55 + v84 + 0xCC);
              LODWORD(v84) = *(_DWORD *)(v55 + v84 + 0xD4);
              p_n4[0x1E] |= 0x80000u;
              p_n4[0x37] = v84;
              v85 = a1[0x9E];
              *((double *)p_n4 + 0x1C) = *(double *)(v55 + v85 + 0xD8);
              p_n4[0x3A] = *(_DWORD *)(v55 + v85 + 0xE0);
              v86 = a1[0x9E];
              p_n4[0x3E] = *(_DWORD *)(v55 + v86 + 0xF0);
              p_n4[0x3F] = *(_DWORD *)(v55 + v86 + 0xF4);
              p_n4[0x40] = *(_DWORD *)(v55 + v86 + 0xF8);
              p_n4[0x41] = *(_DWORD *)(v55 + v86 + 0xFC);
            }
            else
            {
              p_n4[0x35] = 0xFFBFFFFF;
              p_n4[0x38] = 0xFFBFFFFF;
              p_n4[0x41] = 0xFFBFFFFF;
            }
            v87 = a1[0x9E];
            if ( (*(_DWORD *)(v55 + v87 + 0x68) & 0x3800000) != 0 )
            {
              v88 = *(float *)(v55 + v87 + 0x10);
              v89 = *(float *)(v55 + v87 + 0x14);
              v90 = *(float *)(v55 + v87 + 0xB0);
              v91 = *(float *)(v55 + v87 + 0xAC);
              v92 = *(float *)(v55 + v87 + 0x18);
              v93 = *(float *)(v55 + v87 + 0xA8);
              v94 = *(float *)(v55 + v87 + 0xC);
              v95 = (float)((float)(v89 * v91) - (float)(v90 * v88)) + (float)(v93 * v92);
              v96 = (float)((float)(v90 * v94) - (float)(v93 * v89)) + (float)(v91 * v92);
              v97 = (float)((float)(v93 * v88) - (float)(v94 * v91)) + (float)(v90 * v92);
              *((float *)p_n4 + 0x27) = (float)(v93 + (float)((float)(v89 * v96) - (float)(v88 * v97)))
                                      + (float)((float)(v89 * v96) - (float)(v88 * v97));
              *((float *)p_n4 + 0x28) = (float)(v91 + (float)((float)(v94 * v97) - (float)(v89 * v95)))
                                      + (float)((float)(v94 * v97) - (float)(v89 * v95));
              *((float *)p_n4 + 0x29) = (float)(v90 + (float)((float)(v88 * v95) - (float)(v94 * v96)))
                                      + (float)((float)(v88 * v95) - (float)(v94 * v96));
              p_n4[0x2B] = *(_DWORD *)(v55 + a1[0x9E] + 0x9C);
            }
            ++v16;
            _XMM0 = *(unsigned int *)(v55 + a1[0x9E] + 0x6C);
            __asm { vmaxss  xmm1, xmm0, dword ptr [rbx+7Ch] }
            p_n4[0x1F] = _XMM1;
          }
        }
      }
      ++n0x40_3;
      v56 += 0x100;
      v57 += 0x108;
      v54 += 0x108;
      v58 += 0x100;
      v55 += 0x100;
    }
    while ( n0x40_3 < 0x40 );
  }
  return v16;
}

// --- End Function: sub_1467BF1B0 (0x1467BF1B0) ---

// --- Function: sub_1467C0FF0 (0x1467C0FF0) ---
__int64 __fastcall sub_1467C0FF0(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x510);
}

// --- End Function: sub_1467C0FF0 (0x1467C0FF0) ---

// --- Function: CRigidEntity::GetContactCount (0x1467C1000) ---
__int64 __fastcall CRigidEntity::GetContactCount(__int64 a1, int a2)
{
  volatile signed __int64 *v5; // rbp
  signed __int64 v6; // rdx
  __int64 v7; // r10
  int i; // eax
  unsigned int v9; // edi
  __int64 **v10; // r9
  __int64 *v11; // r8
  int v12; // ecx
  unsigned __int64 v13; // rdx

  if ( (*(_BYTE *)(a1 + 0x208) & 1) != 0 )
    return 0;
  v5 = (volatile signed __int64 *)(a1 + 0x8C8);
  v6 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
  if ( (v6 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x8C8),
      v6,
      (__int64)"CRigidEntity::GetContactCount",
      (__int64)"m_lockContacts",
      1);
  v7 = *(int *)(a1 + 0x148);
  i = 0;
  v9 = 0;
  if ( v7 > 0 )
  {
    v10 = *(__int64 ***)(a1 + 0x4C0);
    do
    {
      v11 = *v10;
      if ( *v10 )
      {
        for ( i = (~*((_DWORD *)v11 + 0x25) >> 7) & 1;
              (*((_DWORD *)v11 + 0x25) & 0x80000) == 0;
              i += (~*((_DWORD *)v11 + 0x25) >> 7) & 1 )
        {
          v11 = (__int64 *)*v11;
        }
      }
      ++v10;
      v12 = i;
      if ( a2 < i )
        v12 = a2;
      v9 += v12;
      --v7;
    }
    while ( v7 );
  }
  v13 = _InterlockedDecrement64(v5);
  if ( (v13 & 0x3FF) == 0 && (v13 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v5, v13);
  return v9;
}

// --- End Function: CRigidEntity::GetContactCount (0x1467C1000) ---

// --- Function: sub_1467C11A0 (0x1467C11A0) ---
_UNKNOWN **__fastcall sub_1467C11A0(__int64 a1, __int64 a2, unsigned int a3, double *a4)
{
  __int64 v6; // rax
  __m128 v8; // [rsp+20h] [rbp-28h] BYREF
  double v9; // [rsp+30h] [rbp-18h]

  v6 = (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x2A0LL))(a1, a3, 0);
  v8 = _mm_sub_pd(*(__m128 *)a2, *(__m128 *)(v6 + 0x78));
  v9 = *(double *)(a2 + 0x10) - *(double *)(v6 + 0x88);
  return sub_1467248B0((double *)v6, (double *)v8.m128_u64, a4);
}

// --- End Function: sub_1467C11A0 (0x1467C11A0) ---

// --- Function: sub_1467C1250 (0x1467C1250) ---
__m128 __fastcall sub_1467C1250(__int64 a1, float a2)
{
  __int128 n0x3F800000_1; // xmm0
  __int128 n0x3F800000; // kr00_16
  __m128 result; // xmm0

  _XMM6 = *(unsigned int *)(a1 + 0x57C);
  __asm { vmaxss  xmm0, xmm6, xmm0 }
  n0x3F800000 = 0x3F800000u;
  *(float *)&n0x3F800000 = 1.0 - (float)(*(float *)&_XMM0 * a2);
  n0x3F800000_1 = n0x3F800000;
  __asm { vmaxss  xmm0, xmm0, xmm4 }
  return result;
}

// --- End Function: sub_1467C1250 (0x1467C1250) ---

// --- Function: sub_1467C1620 (0x1467C1620) ---
__int64 __fastcall sub_1467C1620(__int64 a1, int a2)
{
  if ( *(__int16 *)(a1 + 0xEC) == a2 )
    return *(_QWORD *)(a1 + 0xC0);
  else
    return 0;
}

// --- End Function: sub_1467C1620 (0x1467C1620) ---

// --- Function: sub_1467C1640 (0x1467C1640) ---
__m128 __fastcall sub_1467C1640(__int64 a1, int a2, int a3, int a4)
{
  __int64 v4; // rbx
  __int64 v5; // rax
  int v7; // r9d
  int v8; // r10d
  int v9; // eax
  int v10; // eax
  __int128 v11; // xmm1
  float v12; // xmm2_4
  __m128 result; // xmm0
  __int128 v14; // kr00_16
  __int128 v16; // kr00_16

  v4 = *(_QWORD *)(a1 + 0x82D98);
  v5 = a1 + 0x82DA0;
  if ( v4 )
  {
    v7 = 0;
    v8 = *(_DWORD *)(a1 + 0x82D90) - 1;
    v9 = 0;
    if ( a2 > 0 )
      v9 = a2;
    if ( v9 < v8 )
      v8 = v9;
    v10 = *(_DWORD *)(a1 + 0x82D90) - 1;
    v11 = *(unsigned int *)(*(_QWORD *)(v4 + 8LL * v8) + 4LL);
    if ( a3 > 0 )
      v7 = a3;
    if ( v7 < v10 )
      v10 = v7;
    v5 = *(_QWORD *)(v4 + 8LL * v10);
  }
  else
  {
    v11 = *(unsigned int *)(a1 + 0x82DA4);
  }
  v12 = *(float *)(v5 + 4);
  result = 0;
  if ( *(float *)&v11 != 0.0 && v12 != 0.0 )
  {
    if ( a4 )
    {
      v14 = *(unsigned int *)(v5 + 4);
      *(double *)&v14 = (float)(v12 + *(float *)&v11) * 0.3333333333333333;
      _XMM1 = v14;
      __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
    }
    else
    {
      v16 = v11;
      *(float *)&v16 = (float)(*(float *)&v11 + v12) * 0.5;
      return (__m128)v16;
    }
  }
  return result;
}

// --- End Function: sub_1467C1640 (0x1467C1640) ---

// --- Function: sub_1467C1700 (0x1467C1700) ---
float __fastcall sub_1467C1700(__int64 a1)
{
  return *(float *)(a1 + 0x528);
}

// --- End Function: sub_1467C1700 (0x1467C1700) ---

// --- Function: sub_1467C1BD0 (0x1467C1BD0) ---
float *__fastcall sub_1467C1BD0(__int64 a1, unsigned int a2, double *a3, __int64 a4, float *a5, float a6)
{
  float *v8; // rbx
  float v9; // xmm8_4
  float v10; // xmm10_4
  float v11; // xmm11_4
  float v12; // xmm15_4
  float v13; // xmm14_4
  float v14; // xmm12_4
  float v15; // xmm13_4
  float v16; // xmm7_4
  float v17; // xmm5_4
  float v18; // xmm2_4
  float *result; // rax
  float v20; // xmm10_4
  float v21; // xmm9_4
  float v22; // xmm8_4
  float v23; // xmm7_4
  float v24; // xmm6_4
  float v25; // xmm4_4
  float v26; // xmm2_4
  float v27; // xmm5_4
  float v28; // xmm0_4
  double v29; // xmm7_8
  float v30; // xmm6_4
  float v31; // kr00_4
  double v32; // xmm0_8
  double v33; // xmm2_8
  double v34; // xmm3_8
  double v35; // xmm2_8
  double v36; // xmm0_8
  __int128 v37; // [rsp+30h] [rbp-118h] BYREF
  float v38; // [rsp+40h] [rbp-108h] BYREF
  float v39; // [rsp+44h] [rbp-104h]
  float v40; // [rsp+48h] [rbp-100h]
  float v41; // [rsp+4Ch] [rbp-FCh]
  double v42; // [rsp+50h] [rbp-F8h]
  double v43; // [rsp+58h] [rbp-F0h]
  double v44; // [rsp+60h] [rbp-E8h]
  double v45; // [rsp+68h] [rbp-E0h]
  double v46; // [rsp+70h] [rbp-D8h]
  double v47; // [rsp+78h] [rbp-D0h]
  double v48; // [rsp+80h] [rbp-C8h]
  double v49; // [rsp+88h] [rbp-C0h]
  double v50; // [rsp+90h] [rbp-B8h]
  double v51; // [rsp+150h] [rbp+8h]

  if ( a2 >= *(_DWORD *)(a1 + 0x290) )
  {
    *(_DWORD *)(a4 + 0xC) = 0x3F800000;
    *(_QWORD *)a4 = 0;
    *(_DWORD *)(a4 + 8) = 0;
    a3[2] = 0.0;
    a3[1] = 0.0;
    *a3 = 0.0;
    result = a5;
    *a5 = 0x3F800000;
  }
  else
  {
    v51 = *(double *)(a1 + 0x468);
    v42 = *(double *)(a1 + 0x450);
    v45 = *(double *)(a1 + 0x470);
    v46 = *(double *)(a1 + 0x458);
    v48 = *(double *)(a1 + 0x478);
    v49 = *(double *)(a1 + 0x460);
    v43 = a6;
    v44 = *(double *)(a1 + 0x1C0);
    v47 = *(double *)(a1 + 0x1C8);
    v8 = (float *)(*(_QWORD *)(a1 + 0x230) + 0x20LL * (int)a2);
    v50 = *(double *)(a1 + 0x1D0);
    v37 = *(_OWORD *)(a1 + 0x490);
    sub_146810C50((unsigned int)&v38, a1 + 0x1D8, a1 + 0x480, (unsigned int)&v37, LODWORD(a6));
    v9 = v8[1];
    v10 = v8[2];
    v11 = v8[3];
    v12 = v38;
    v13 = v39;
    v14 = v40;
    v15 = v41;
    v16 = (float)(v11 * v41) - (float)((float)((float)(*v8 * v38) + (float)(v9 * v39)) + (float)(v10 * v40));
    v17 = (float)((float)((float)(*v8 * v40) - (float)(v10 * v38)) + (float)(v9 * v41)) + (float)(v11 * v39);
    v18 = (float)((float)((float)(v9 * v38) - (float)(*v8 * v39)) + (float)(v10 * v41)) + (float)(v11 * v40);
    *(float *)a4 = (float)((float)((float)(v10 * v39) - (float)(v9 * v40)) + (float)(*v8 * v41)) + (float)(v11 * v38);
    *(float *)(a4 + 4) = v17;
    result = a5;
    *(float *)(a4 + 8) = v18;
    *(float *)(a4 + 0xC) = v16;
    v20 = v8[6];
    v21 = v8[5];
    v22 = v8[4];
    v23 = (float)((float)(v20 * v13) - (float)(v21 * v14)) + (float)(v22 * v15);
    v24 = (float)((float)(v22 * v14) - (float)(v20 * v12)) + (float)(v21 * v15);
    v25 = (float)((float)(v21 * v12) - (float)(v22 * v13)) + (float)(v20 * v15);
    v26 = v14 * v23;
    v27 = (float)(v13 * v25) - (float)(v14 * v24);
    v28 = v13 * v23;
    v29 = v43;
    v30 = (float)(v12 * v24) - v28;
    v31 = v26 - (float)(v12 * v25);
    v32 = v45 - v46;
    v33 = v47;
    *a3 = v44 - (v51 - v42) * v43 + (float)((float)(v22 + v27) + v27);
    v34 = v33 - v32 * v29;
    v35 = v50;
    v36 = v48 - v49;
    a3[1] = v34 + (float)((float)(v21 + v31) + v31);
    a3[2] = v35 - v36 * v29 + (float)((float)(v20 + v30) + v30);
    *a5 = v8[7];
  }
  return result;
}

// --- End Function: sub_1467C1BD0 (0x1467C1BD0) ---

// --- Function: sub_1467C1FB0 (0x1467C1FB0) ---
float __fastcall sub_1467C1FB0(__int64 a1, int a2)
{
  return *(float *)(*(_QWORD *)(a1 + 0x258) + 0x18LL * a2);
}

// --- End Function: sub_1467C1FB0 (0x1467C1FB0) ---

// --- Function: sub_1467C1FD0 (0x1467C1FD0) ---
__m128 __fastcall sub_1467C1FD0(__int64 a1)
{
  __m128 result; // xmm0

  if ( (*(_BYTE *)(a1 + 0x208) & 2) != 0 )
  {
    _XMM0 = 0;
    __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
  }
  else
  {
    _XMM0 = *(unsigned __int64 *)(a1 + 0x6B8);
    __asm { vcvtpd2ps xmm0, xmm0 }
  }
  return result;
}

// --- End Function: sub_1467C1FD0 (0x1467C1FD0) ---

// --- Function: sub_1467C2030 (0x1467C2030) ---
__m128 __fastcall sub_1467C2030(__int64 a1)
{
  __m128 result; // xmm0

  if ( (*(_BYTE *)(a1 + 0x208) & 8) != 0 )
  {
    return (__m128)0x417312D000000000uLL;
  }
  else
  {
    _XMM0 = 0;
    __asm { vcmpltsd xmm2, xmm0, qword ptr [rcx+6B0h] }
    _XMM0 = 0x40F86A0000000000uLL;
    __asm { vblendvpd xmm0, xmm0, xmm1, xmm2 }
  }
  return result;
}

// --- End Function: sub_1467C2030 (0x1467C2030) ---

// --- Function: sub_1467C2070 (0x1467C2070) ---
float __fastcall sub_1467C2070(__int64 a1)
{
  return *(float *)(a1 + 0x588);
}

// --- End Function: sub_1467C2070 (0x1467C2070) ---

// --- Function: CRigidEntity::GetMaxTimeStep (0x1467C2090) ---
// local variable allocation has failed, the output may be wrong!
__m128 __fastcall CRigidEntity::GetMaxTimeStep(Parameter *Parameter, double a2)
{
  __int128 v2; // xmm11
  __int128 v3; // xmm15
  __int64 v4; // rax
  float v6; // xmm0_4
  float v7; // xmm15_4
  int v8; // esi
  __int64 v9; // r15
  signed int v10; // r9d
  __int64 n4_2; // r10
  int n4; // r8d
  signed int v13; // ebx
  __int64 n4_1; // r13
  __int64 v16; // r12
  __int64 v17; // r14
  __int64 v18; // rdx
  unsigned __int64 v19; // r11
  __int64 v20; // r8
  signed int v21; // eax
  __int64 v28; // rdx
  __int64 v29; // rcx
  signed int v30; // eax
  bool v31; // cc
  signed __int64 v32; // rdx
  __int64 v33; // r9
  int v34; // eax
  __int64 v35; // rdx
  __int64 v36; // r8
  unsigned __int64 v37; // rdx
  __int64 v38; // rdx
  float v39; // xmm4_4
  float v40; // xmm5_4
  float v41; // xmm6_4
  int v42; // esi
  __int64 v43; // rcx
  float v44; // eax
  float v47; // xmm13_4
  float v48; // xmm12_4
  float v49; // xmm10_4
  float v50; // xmm8_4
  float v51; // xmm7_4
  float v52; // xmm9_4
  float v53; // xmm4_4
  float v54; // xmm6_4
  float v55; // xmm5_4
  float v56; // xmm4_4
  float v57; // xmm10_4
  float v58; // xmm4_4
  float v59; // xmm5_4
  float v60; // xmm7_4
  float v61; // xmm6_4
  float v62; // xmm5_4
  __m128 v63; // xmm1
  float v64; // xmm2_4
  float v65; // kr00_4
  float v66; // xmm4_4
  __int64 v67; // rax
  float v68; // xmm0_4
  __int64 v69; // rcx
  float v70; // xmm2_4
  float v71; // xmm4_4
  double v74; // xmm1_8
  __m128 v75; // xmm1
  float v76; // xmm5_4
  float v77; // xmm6_4
  float v78; // kr00_4
  unsigned __int64 v80; // rbx
  double v81; // rsi
  double v88; // kr00_8
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v90; // r9
  __int64 v91; // rsi
  __int64 v92; // r8
  Parameter *Parameter_1; // rax
  int v94; // r14d
  __int64 v95; // rbx
  __int64 v96; // r12
  __int64 v97; // rcx
  float v98; // xmm12_4
  float v99; // xmm10_4
  float v100; // xmm8_4
  __int64 v101; // rax
  float v102; // xmm4_4
  float v103; // xmm13_4
  float v104; // xmm11_4
  float v105; // xmm6_4
  float v106; // xmm9_4
  float v107; // xmm5_4
  float v108; // xmm4_4
  float v109; // xmm7_4
  float v110; // xmm6_4
  float v111; // xmm3_4
  float v112; // xmm5_4
  double v113; // xmm4_8
  double v114; // xmm3_8
  __int64 v115; // rcx
  __int64 v116; // rax
  float v117; // xmm11_4
  float v118; // xmm12_4
  float v119; // xmm6_4
  float v120; // xmm14_4
  float v121; // xmm10_4
  float v122; // xmm13_4
  float v123; // xmm5_4
  float v124; // xmm9_4
  float v125; // xmm15_4
  float v126; // xmm8_4
  float v127; // xmm7_4
  float v128; // xmm6_4
  float v129; // xmm1_4
  float v130; // xmm11_4
  float v131; // xmm10_4
  float v132; // xmm12_4
  float v133; // xmm9_4
  float v134; // xmm8_4
  float v135; // xmm7_4
  __int128 n0x3FD9999A; // kr00_16
  __int128 n0x3FD9999A_1; // xmm1
  __int128 v140; // kr00_16
  __m128 result; // xmm0
  char v143; // [rsp+50h] [rbp-B0h]
  int v144; // [rsp+58h] [rbp-A8h]
  __int64 v145; // [rsp+58h] [rbp-A8h]
  float v146; // [rsp+60h] [rbp-A0h]
  float v147; // [rsp+64h] [rbp-9Ch]
  __int64 v148; // [rsp+68h] [rbp-98h]
  float v149; // [rsp+70h] [rbp-90h]
  float v150; // [rsp+78h] [rbp-88h]
  __int64 v151; // [rsp+80h] [rbp-80h] BYREF
  double v152; // [rsp+88h] [rbp-78h]
  float v153[2]; // [rsp+98h] [rbp-68h]
  float v154; // [rsp+A0h] [rbp-60h]
  float v155[4]; // [rsp+A8h] [rbp-58h]
  char v156[8]; // [rsp+B8h] [rbp-48h] BYREF
  __int128 v157; // [rsp+C0h] [rbp-40h] BYREF
  double v158; // [rsp+D0h] [rbp-30h]
  __int128 v159; // [rsp+D8h] [rbp-28h] BYREF
  __int64 v160; // [rsp+E8h] [rbp-18h]
  __int128 v161; // [rsp+F0h] [rbp-10h] BYREF
  double v162; // [rsp+100h] [rbp+0h]
  float v163; // [rsp+108h] [rbp+8h]
  float v164; // [rsp+10Ch] [rbp+Ch]
  __int128 v165; // [rsp+110h] [rbp+10h]
  float v166; // [rsp+120h] [rbp+20h]
  float v167; // [rsp+124h] [rbp+24h]
  float v168; // [rsp+128h] [rbp+28h]
  float v169; // [rsp+12Ch] [rbp+2Ch]
  __int128 v170; // [rsp+130h] [rbp+30h]
  float v171; // [rsp+140h] [rbp+40h]
  float v172; // [rsp+144h] [rbp+44h]
  double v173; // [rsp+148h] [rbp+48h]
  int v175; // [rsp+160h] [rbp+60h]
  __m128 v176; // [rsp+170h] [rbp+70h] BYREF
  double v177; // [rsp+180h] [rbp+80h]
  float v178; // [rsp+188h] [rbp+88h]
  float v179; // [rsp+18Ch] [rbp+8Ch]
  __int128 v180; // [rsp+190h] [rbp+90h]
  float v181; // [rsp+1A0h] [rbp+A0h]
  float v182; // [rsp+1A4h] [rbp+A4h]
  float v183; // [rsp+1A8h] [rbp+A8h]
  float v184; // [rsp+1ACh] [rbp+ACh]
  __int128 v185; // [rsp+1B0h] [rbp+B0h]
  float v186; // [rsp+1C0h] [rbp+C0h]
  float v187; // [rsp+1C4h] [rbp+C4h]
  double v188; // [rsp+1C8h] [rbp+C8h]
  int v190; // [rsp+1E0h] [rbp+E0h]
  __m256 v191; // [rsp+1F0h] [rbp+F0h]
  float v192; // [rsp+210h] [rbp+110h]
  float v193; // [rsp+218h] [rbp+118h]
  float v194; // [rsp+21Ch] [rbp+11Ch]
  float v195; // [rsp+220h] [rbp+120h]
  float v196; // [rsp+224h] [rbp+124h]
  float v197; // [rsp+228h] [rbp+128h]
  float v198; // [rsp+22Ch] [rbp+12Ch]
  _QWORD v199[2]; // [rsp+230h] [rbp+130h] BYREF
  float v200; // [rsp+240h] [rbp+140h]
  int n3; // [rsp+244h] [rbp+144h]
  int v202; // [rsp+248h] [rbp+148h]
  __int64 (__fastcall **v203)(); // [rsp+268h] [rbp+168h]
  _QWORD *v204; // [rsp+270h] [rbp+170h]
  __int64 v205; // [rsp+2B8h] [rbp+1B8h]
  _DWORD v206[18]; // [rsp+2C0h] [rbp+1C0h] BYREF
  double v207; // [rsp+308h] [rbp+208h]
  __m256 v208; // [rsp+310h] [rbp+210h]
  double v209; // [rsp+330h] [rbp+230h]
  __int16 v210; // [rsp+338h] [rbp+238h]
  char v211; // [rsp+33Ah] [rbp+23Ah]
  int v212; // [rsp+33Bh] [rbp+23Bh]
  __int64 v213; // [rsp+340h] [rbp+240h]
  __int64 v214; // [rsp+34Ch] [rbp+24Ch]
  __int64 v215; // [rsp+358h] [rbp+258h]
  __int128 v216; // [rsp+370h] [rbp+270h]
  __int128 v217; // [rsp+3B0h] [rbp+2B0h]

  v217 = v2;
  v216 = v3;
  v4 = *(_QWORD *)(Parameter + 0x2C0);
  v6 = *(float *)(Parameter + 0x520);
  v150 = *(float *)&a2;
  v7 = *(float *)&a2;
  if ( (float)(v6 - *(float *)(v4 + 0x114)) >= *(float *)(Parameter + 0x524) )
  {
    v8 = 0;
    v9 = 0;
    v10 = 0;
    n4_2 = 0;
    n4 = *(_DWORD *)(Parameter + 0x294) & ~(*(int *)(Parameter + 0x294) >> 0x1F)
       | (*(int *)(Parameter + 0x294) >> 0x1F) & *(_DWORD *)(Parameter + 0x290);
    v13 = 0xFFFFFFFF;
    n4_1 = n4;
    _XMM5 = 0;
    v144 = *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    if ( n4 >= 4LL )
    {
      v16 = *(_QWORD *)(Parameter + 0x240);
      v17 = 0xFFFFFFFFFFFFFFF0uLL - v16;
      v18 = 0;
      v19 = ((unsigned __int64)(n4 - 4LL) >> 2) + 1;
      v20 = v16 + 0x10;
      n4_2 = 4 * v19;
      do
      {
        if ( (*(_DWORD *)(v20 - 0x10) & 0x7FFLL) != 0 )
        {
          v21 = v10;
          if ( (float)((float)((float)(*(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0x3C)
                                     * *(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0x34))
                             * *(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0x38))
                     * (float)((float)(*(float *)(Parameter + 0x200) * *(float *)(Parameter + 0x200))
                             * *(float *)(Parameter + 0x200))) <= *(float *)&_XMM5 )
            v21 = v13;
          v13 = v21;
          __asm { vmaxss  xmm5, xmm5, xmm1 }
          v9 |= *(_QWORD *)(v17 + *(_QWORD *)(Parameter + 0x248) + v20);
        }
        if ( (*(_DWORD *)(v20 - 8) & 0x7FFLL) != 0 )
        {
          if ( (float)((float)((float)(*(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0x7C)
                                     * *(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0x74))
                             * *(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0x78))
                     * (float)((float)(*(float *)(Parameter + 0x200) * *(float *)(Parameter + 0x200))
                             * *(float *)(Parameter + 0x200))) > *(float *)&_XMM5 )
            v13 = v10 + 1;
          __asm
          {
            vcmpltss xmm0, xmm5, xmm1
            vblendvps xmm0, xmm5, xmm1, xmm0
          }
          _XMM5 = _XMM0;
          v9 |= *(_QWORD *)(v17 + *(_QWORD *)(Parameter + 0x248) + v20 + 8);
        }
        if ( (*(_DWORD *)v20 & 0x7FFLL) != 0 )
        {
          if ( (float)((float)((float)(*(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0xBC)
                                     * *(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0xB4))
                             * *(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0xB8))
                     * (float)((float)(*(float *)(Parameter + 0x200) * *(float *)(Parameter + 0x200))
                             * *(float *)(Parameter + 0x200))) > *(float *)&_XMM5 )
            v13 = v10 + 2;
          __asm
          {
            vcmpltss xmm0, xmm5, xmm1
            vblendvps xmm0, xmm5, xmm1, xmm0
          }
          _XMM5 = _XMM0;
          v9 |= *(_QWORD *)(*(_QWORD *)(Parameter + 0x248) - v16 + v20);
        }
        if ( (*(_QWORD *)(v20 + 8) & 0x7FFLL) != 0 )
        {
          if ( (float)((float)((float)(*(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0xFC)
                                     * *(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0xF4))
                             * *(float *)(*(_QWORD *)(Parameter + 0x260) + v18 + 0xF8))
                     * (float)((float)(*(float *)(Parameter + 0x200) * *(float *)(Parameter + 0x200))
                             * *(float *)(Parameter + 0x200))) > *(float *)&_XMM5 )
            v13 = v10 + 3;
          __asm
          {
            vcmpltss xmm0, xmm5, xmm1
            vblendvps xmm0, xmm5, xmm1, xmm0
          }
          _XMM5 = _XMM0;
          v9 |= *(_QWORD *)(8 - v16 + *(_QWORD *)(Parameter + 0x248) + v20);
        }
        v10 += 4;
        v20 += 0x20;
        v18 += 0x100;
        --v19;
      }
      while ( v19 );
      v8 = 0;
    }
    if ( n4_2 < n4_1 )
    {
      v28 = *(_QWORD *)(Parameter + 0x240);
      v29 = n4_2 << 6;
      do
      {
        if ( (*(_QWORD *)(v28 + 8 * n4_2) & 0x7FFLL) != 0 )
        {
          v30 = v10;
          v31 = (float)((float)((float)(*(float *)(*(_QWORD *)(Parameter + 0x260) + v29 + 0x3C)
                                      * *(float *)(*(_QWORD *)(Parameter + 0x260) + v29 + 0x34))
                              * *(float *)(*(_QWORD *)(Parameter + 0x260) + v29 + 0x38))
                      * (float)((float)(*(float *)(Parameter + 0x200) * *(float *)(Parameter + 0x200))
                              * *(float *)(Parameter + 0x200))) <= *(float *)&_XMM5;
          __asm { vmaxss  xmm5, xmm5, xmm1 }
          if ( v31 )
            v30 = v13;
          v13 = v30;
          v9 |= *(_QWORD *)(*(_QWORD *)(Parameter + 0x248) + 8 * n4_2);
        }
        ++v10;
        ++n4_2;
        v29 += 0x40;
      }
      while ( n4_2 < n4_1 );
    }
    if ( v13 != 0xFFFFFFFF )
    {
      v32 = _InterlockedIncrement64((volatile signed __int64 *)(Parameter + 0x8C8));
      if ( (v32 & 0x200000) != 0 )
        sub_1403CD0A0(
          (volatile signed __int64 *)(Parameter + 0x8C8),
          v32,
          (__int64)"CRigidEntity::GetMaxTimeStep",
          (__int64)"m_lockContacts",
          1);
      v33 = *(_QWORD *)(Parameter + 0x4C0);
      if ( v33 )
      {
        v34 = *(_DWORD *)(Parameter + 0x148);
        if ( v34 > 0 )
        {
          v35 = 0;
          v36 = (unsigned int)v34;
          do
          {
            if ( *(_QWORD *)(v33 + v35) )
              v8 |= *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(Parameter + 0x140) + v35) + 0xF4LL) - 1;
            v35 += 8;
            --v36;
          }
          while ( v36 );
        }
      }
      v37 = _InterlockedDecrement64((volatile signed __int64 *)(Parameter + 0x8C8));
      if ( (v37 & 0x3FF) == 0 && (v37 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0((volatile signed __int64 *)(Parameter + 0x8C8), v37);
      v38 = *(_QWORD *)(Parameter + 0x2C0);
      v39 = *(float *)(Parameter + 0x884);
      v40 = *(float *)(Parameter + 0x880);
      v41 = *(float *)(Parameter + 0x888);
      v42 = -(COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x6B0) - (float)(*(float *)(v38 + 0x48LL * v144 + 0x836F8)
                                                                           * 0.001)) >> 0x3F)
          & v8;
      v43 = *(_QWORD *)(Parameter + 0x260) + ((__int64)v13 << 6);
      v44 = *(float *)(Parameter + 0x694);
      v148 = *(_QWORD *)(Parameter + 0x68C);
      v149 = v44;
      if ( (float)((float)((float)(v40 * v40) + (float)(v39 * v39)) + (float)(v41 * v41)) <= 0.0 )
      {
        v47 = v149;
        v48 = *((float *)&v148 + 1);
        v49 = *(float *)&v148;
      }
      else
      {
        _XMM0 = *(unsigned int *)(v38 + 0x114);
        __asm { vmaxss  xmm1, xmm0, xmm15 }
        v47 = (float)(v41 * (float)(1.0 / *(float *)&_XMM1)) + v149;
        v48 = (float)(v39 * (float)(1.0 / *(float *)&_XMM1)) + *((float *)&v148 + 1);
        v49 = (float)(v40 * (float)(1.0 / *(float *)&_XMM1)) + *(float *)&v148;
      }
      v50 = *(float *)(Parameter + 0x1E0);
      v51 = *(float *)(Parameter + 0x1D8);
      v52 = *(float *)(Parameter + 0x1DC);
      v53 = *(float *)(Parameter + 0x1E4);
      v54 = (float)((float)(v50 * v48) - (float)(v52 * v47)) + (float)(v53 * v49);
      v55 = (float)((float)(v51 * v47) - (float)(v50 * v49)) + (float)(v53 * v48);
      v56 = (float)((float)(v52 * v49) - (float)(v51 * v48)) + (float)(v53 * v47);
      v57 = (float)((float)(v50 * v55) - (float)(v52 * v56))
          + (float)((float)((float)(v50 * v55) - (float)(v52 * v56)) + v49);
      v58 = (float)((float)(v51 * v56) - (float)(v50 * v54))
          + (float)((float)((float)(v51 * v56) - (float)(v50 * v54)) + v48);
      v59 = (float)((float)(v52 * v54) - (float)(v51 * v55))
          + (float)((float)((float)(v52 * v54) - (float)(v51 * v55)) + v47);
      v60 = (float)((float)(v58 * *(float *)(v43 + 4)) + (float)(v57 * *(float *)v43))
          + (float)(v59 * *(float *)(v43 + 8));
      v61 = (float)((float)(v58 * *(float *)(v43 + 0x10)) + (float)(v57 * *(float *)(v43 + 0xC)))
          + (float)(v59 * *(float *)(v43 + 0x14));
      v62 = (float)((float)(v58 * *(float *)(v43 + 0x1C)) + (float)(v57 * *(float *)(v43 + 0x18)))
          + (float)(v59 * *(float *)(v43 + 0x20));
      v63 = (__m128)*(unsigned __int64 *)(v43 + 0x34);
      v64 = *(float *)(Parameter + 0x200);
      v65 = v63.m128_f32[0] * v64;
      v66 = _mm_shuffle_ps(v63, v63, 0x55).m128_f32[0] * v64;
      v152 = *(double *)(v43 + 0x34);
      v63.m128_f32[0] = v64 * *(float *)(v43 + 0x3C);
      v149 = v62;
      v155[2] = v63.m128_f32[0];
      *((float *)&v148 + 1) = v61;
      *(float *)&v148 = v60;
      v153[0] = (float)(v66 * COERCE_FLOAT(LODWORD(v60) & 0x7FFFFFFF)) * v63.m128_f32[0];
      v67 = COERCE_UNSIGNED_INT(v153[0] - (float)((float)(v65 * COERCE_FLOAT(LODWORD(v61) & 0x7FFFFFFF))
                                                * v63.m128_f32[0])) >> 0x1F;
      v153[1] = (float)(v65 * COERCE_FLOAT(LODWORD(v61) & 0x7FFFFFFF)) * v63.m128_f32[0];
      v154 = (float)(v65 * COERCE_FLOAT(LODWORD(v62) & 0x7FFFFFFF)) * v66;
      v155[0] = v65;
      v68 = v153[v67];
      v155[1] = v66;
      v143 = 0;
      v69 = ((unsigned int)v67 | (2 * (COERCE_UNSIGNED_INT(v68 - v154) >> 0x1F)))
          & ((((unsigned int)v67 | (2 * (COERCE_UNSIGNED_INT(v68 - v154) >> 0x1F))) ^ 2 | 4) >> 1);
      v70 = *((float *)&v148 + v69);
      v71 = v155[v69];
      *(float *)(Parameter + 0x518) = COERCE_FLOAT(LODWORD(v70) & 0x7FFFFFFF);
      v147 = v70;
      v146 = v71;
      *(float *)(Parameter + 0x51C) = v71;
      if ( v42 >= 0 )
      {
        if ( (*(_DWORD *)(Parameter + 0x4A4) & 0x20000) != 0 )
        {
LABEL_63:
          v140 = *(unsigned int *)(Parameter + 0x520);
          *(float *)&v140 = *(float *)(Parameter + 0x520) - *(float *)(Parameter + 0x524);
          _XMM1 = v140;
          __asm { vminss  xmm2, xmm1, dword ptr [rdi+554h] }
          __asm { vminss  xmm0, xmm2, xmm15 }
          return result;
        }
        _XMM3 = *(unsigned int *)(Parameter + 0x554);
        __asm { vminss  xmm0, xmm3, xmm15 }
        if ( (float)(COERCE_FLOAT(LODWORD(v70) & 0x7FFFFFFF) * *(float *)&_XMM0) > (float)(v71 * 0.69999999) )
        {
          v74 = *(double *)(Parameter + 0x20);
          v157 = *(_OWORD *)(Parameter + 0x10);
          v159 = *(_OWORD *)(Parameter + 0x28);
          v158 = v74;
          v160 = *(_QWORD *)(Parameter + 0x38);
          v75 = (__m128)*(unsigned __int64 *)(Parameter + 0x68C);
          v76 = _mm_shuffle_ps(v75, v75, 0x55).m128_f32[0] * *(float *)&_XMM3;
          v77 = *(float *)(Parameter + 0x694) * *(float *)&_XMM3;
          *(float *)&v206[9] = 0.017453292;
          v208 = ymmword_148773180;
          v78 = v75.m128_f32[0] * *(float *)&_XMM3;
          *(float *)&v206[0x11] = 1.0e10;
          v185 = 0;
          __asm { vmovupd [rbp+330h+var_260], xmm0 }
          v170 = 0;
          __asm { vmovupd [rbp+330h+var_340], xmm0 }
          v165 = xmmword_148153550;
          _XMM0 = 0;
          v152 = *(double *)v75.m128_u64;
          __asm { vmovupd [rbp+330h+var_2E0], xmm0 }
          *(float *)&v206[8] = 0.000001;
          *(float *)&v206[7] = *(float *)&_XMM3;
          v188 = 0.0;
          v162 = 0.0;
          v206[0] = 0;
          v173 = 0.0;
          *(double *)v75.m128_u64 = (float)(v75.m128_f32[0] * *(float *)&_XMM3)
                                  + *((double *)&v157
                                    + 3
                                    * ((unsigned __int64)COERCE_UNSIGNED_INT(-(float)(v75.m128_f32[0] * *(float *)&_XMM3)) >> 0x1F));
          *(float *)&v206[0xA] = 0.0;
          *(float *)&v206[1] = 0.0;
          *(float *)&v206[2] = 0.0;
          *(float *)&v206[3] = 0.0;
          *(float *)&v206[0xE] = 0.0;
          *(float *)&v206[0xF] = 0.0;
          *(float *)&v206[0x10] = 1.0;
          *(float *)&v206[0xB] = 0.0;
          *(float *)&v206[0xC] = 0.0;
          *(float *)&v206[0xD] = 0.0;
          *(float *)&v206[4] = 0.0;
          *(float *)&v206[5] = 0.0;
          *(float *)&v206[6] = 0.0;
          v207 = 1.999999999998e12;
          v209 = 1.999999999998e12;
          v186 = 0.0;
          v187 = 0.0;
          v184 = 1.0;
          v171 = 0.0;
          v172 = 0.0;
          v163 = 1.0;
          v164 = 0.0;
          v166 = 0.0;
          v167 = 0.0;
          v168 = 1.0;
          v169 = 1.0;
          v215 = 0;
          v210 = 0;
          v212 = 0;
          v213 = 0;
          v214 = 1;
          v190 = 0;
          v175 = 0;
          v211 = 1;
          *((double *)&v157 + 3 * ((unsigned __int64)(LODWORD(v78) ^ 0x80000000) >> 0x1F)) = *(double *)v75.m128_u64;
          *((double *)&v157 + 3 * ((unsigned __int64)(LODWORD(v76) ^ 0x80000000) >> 0x1F) + 1) = v76
                                                                                               + *((double *)&v157
                                                                                                 + 3
                                                                                                 * ((unsigned __int64)(LODWORD(v76) ^ 0x80000000) >> 0x1F)
                                                                                                 + 1);
          *(&v158 + 3 * ((unsigned __int64)(LODWORD(v77) ^ 0x80000000) >> 0x1F)) = v77
                                                                                 + *(&v158
                                                                                   + 3
                                                                                   * ((unsigned __int64)(LODWORD(v77) ^ 0x80000000) >> 0x1F));
          __asm { vzeroupper }
          v80 = sub_1467CE8D0((Parameter *)Parameter, v144, 0);
          *(_QWORD *)&v81 = (int)sub_146922A80(
                                   *(_QWORD *)(Parameter + 0x2C0),
                                   (double *)&v157,
                                   (double *)&v159,
                                   (__int64)&v151,
                                   *(_DWORD *)(Parameter + 0x510) & 0x107,
                                   Parameter,
                                   v144,
                                   0,
                                   0);
          sub_146807D10((Parameter *)Parameter, v80, v144);
          sub_146646860((__int64)v199);
          v202 = 1;
          v199[0] = &off_148ABF7B0;
          _InterlockedIncrement(&dword_14A135B7C);
          v191 = ymmword_148199FE0;
          _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x38) - *(double *)(Parameter + 0x20));
          _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x30) - *(double *)(Parameter + 0x18));
          __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
          _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(Parameter + 0x28) - *(double *)(Parameter + 0x10));
          __asm
          {
            vcvtsd2ss xmm5, xmm2, xmm2
            vcvtsd2ss xmm2, xmm1, xmm1
          }
          v199[0] = &off_148ABFE50;
          v205 = 1;
          v196 = *(float *)&_XMM2 * 0.5;
          v203 = &off_148ABFD68;
          v198 = *(float *)&_XMM5 * 0.5;
          v200 = 0.0;
          v192 = 1.0;
          v195 = 0.0;
          v194 = 0.0;
          v193 = 0.0;
          v197 = *(float *)&_XMM4 * 0.5;
          n3 = 3;
          v204 = v199;
          __asm { vzeroupper }
          sub_146666E30((__int64)v199);
          DWORD2(v185) = *(_DWORD *)(Parameter + 0x694);
          v88 = *(double *)(Parameter + 0x38) + *(double *)(Parameter + 0x20);
          v176 = _mm_mul_pd(
                   _mm_add_pd(*(__m128 *)(Parameter + 0x10), *(__m128 *)(Parameter + 0x28)),
                   (__m128)xmmword_1480F3D00);
          v180 = xmmword_148153550;
          *(_QWORD *)&_XMM0 = *(_QWORD *)(Parameter + 0x68C);
          v177 = v88 * 0.5;
          v178 = 1.0;
          v179 = 0.0;
          v181 = 0.0;
          v182 = 0.0;
          v183 = 1.0;
          *(double *)&v185 = *(double *)&_XMM0;
          if ( SLODWORD(v81) > 0 )
          {
            ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
            v90 = v151;
            v152 = v81;
            v91 = 0;
            v92 = ThreadLocalStoragePointer[TlsIndex];
            v145 = v92;
            do
            {
              Parameter_1 = *(_QWORD *)(v90 + 8 * v91);
              if ( Parameter_1 != Parameter )
              {
                v94 = 0;
                if ( (*(_DWORD *)(Parameter_1 + 0x294) & ~(*(int *)(Parameter_1 + 0x294) >> 0x1F)
                    | (*(int *)(Parameter_1 + 0x294) >> 0x1F) & *(_DWORD *)(Parameter_1 + 0x290)) > 0 )
                {
                  v95 = 0;
                  v96 = 0;
                  do
                  {
                    v97 = *(_QWORD *)(v90 + 8 * v91);
                    if ( (v9 & *(_QWORD *)(v95 + *(_QWORD *)(v97 + 0x240))) != 0 )
                    {
                      v98 = *(float *)(v97 + 0x1DC);
                      v99 = *(float *)(v97 + 0x1E0);
                      v100 = *(float *)(v97 + 0x1D8);
                      v101 = *(_QWORD *)(v97 + 0x230);
                      v102 = *(float *)(v97 + 0x1E4);
                      v103 = *(float *)(v101 + v96 + 0x18);
                      v104 = *(float *)(v101 + v96 + 0x14);
                      v105 = *(float *)(v101 + v96 + 0x10);
                      v106 = (float)((float)(v98 * v103) - (float)(v99 * v104)) + (float)(v105 * v102);
                      v107 = (float)((float)(v105 * v99) - (float)(v100 * v103)) + (float)(v102 * v104);
                      v108 = (float)((float)(v100 * v104) - (float)(v105 * v98)) + (float)(v102 * v103);
                      v109 = (float)((float)(v108 * v98) - (float)(v107 * v99))
                           + (float)((float)((float)(v108 * v98) - (float)(v107 * v99)) + v105);
                      v110 = (float)((float)(v106 * v99) - (float)(v108 * v100))
                           + (float)((float)((float)(v106 * v99) - (float)(v108 * v100)) + v104);
                      v111 = v107 * v100;
                      v112 = *(float *)(v97 + 0x200);
                      v113 = (float)((float)((float)(v111 - (float)(v106 * v98))
                                           + (float)((float)(v111 - (float)(v106 * v98)) + v103))
                                   * v112)
                           + *(double *)(v97 + 0x1D0);
                      v114 = (float)(v110 * v112) + *(double *)(v97 + 0x1C8);
                      *(double *)&v161 = (float)(v109 * v112) + *(double *)(v97 + 0x1C0);
                      *((double *)&v161 + 1) = v114;
                      v162 = v113;
                      v115 = *(_QWORD *)(v90 + 8 * v91);
                      v116 = *(_QWORD *)(v115 + 0x230);
                      v117 = *(float *)(v115 + 0x1D8);
                      v118 = *(float *)(v115 + 0x1DC);
                      v119 = *(float *)(v115 + 0x1E4);
                      v120 = *(float *)(v96 + v116 + 4);
                      v121 = *(float *)(v96 + v116);
                      v122 = *(float *)(v96 + v116 + 8);
                      v123 = *(float *)(v96 + v116 + 0xC);
                      v124 = *(float *)(v115 + 0x1E0);
                      v125 = (float)((float)((float)(v117 * v120) - (float)(v121 * v118)) + (float)(v119 * v122))
                           + (float)(v124 * v123);
                      v126 = (float)((float)((float)(v124 * v121) - (float)(v122 * v117)) + (float)(v119 * v120))
                           + (float)(v123 * v118);
                      v127 = (float)((float)((float)(v122 * v118) - (float)(v124 * v120)) + (float)(v119 * v121))
                           + (float)(v123 * v117);
                      *(float *)&v114 = v123 * v119;
                      v128 = (float)(v126 + v126) * v127;
                      v129 = v121 * v117;
                      v130 = (float)(v126 + v126) * v126;
                      *(float *)&v114 = *(float *)&v114
                                      - (float)((float)(v129 + (float)(v118 * v120)) + (float)(v124 * v122));
                      v131 = (float)(v127 + v127) * *(float *)&v114;
                      v132 = 1.0 - (float)((float)(v127 + v127) * v127);
                      v133 = (float)(v125 + v125) * v126;
                      v134 = (float)(v126 + v126) * *(float *)&v114;
                      v164 = v128 - (float)((float)(v125 + v125) * *(float *)&v114);
                      v135 = (float)(v125 + v125) * v127;
                      *(float *)&v165 = v135 + v134;
                      v163 = (float)(1.0 - v130) - (float)((float)(v125 + v125) * v125);
                      *((float *)&v165 + 1) = (float)((float)(v125 + v125) * *(float *)&v114) + v128;
                      *((float *)&v165 + 2) = v132 - (float)((float)(v125 + v125) * v125);
                      v166 = v135 - v134;
                      *((float *)&v165 + 3) = v133 - v131;
                      v167 = v133 + v131;
                      v168 = v132 - v130;
                      v169 = *(float *)(*(_QWORD *)(*(_QWORD *)(v90 + 8 * v91) + 0x230LL) + v96 + 0x1C)
                           * *(float *)(*(_QWORD *)(v90 + 8 * v91) + 0x200LL);
                      LOBYTE(v210) = 1;
                      if ( (unsigned int)sub_1466919E0(
                                           (__int64)v199,
                                           **(_QWORD **)(v95 + *(_QWORD *)(*(_QWORD *)(v90 + 8 * v91) + 0x238LL)),
                                           (__int64)&v176,
                                           (__int64)&v161,
                                           (__int64)v206,
                                           (__int64)v156,
                                           *(_DWORD *)(v92 + 0x800)) )
                        goto LABEL_59;
                      LOBYTE(v210) = 0;
                      if ( (unsigned int)sub_1466919E0(
                                           (__int64)v199,
                                           **(_QWORD **)(v95 + *(_QWORD *)(*(_QWORD *)(v151 + 8 * v91) + 0x238LL)),
                                           (__int64)&v176,
                                           (__int64)&v161,
                                           (__int64)v206,
                                           (__int64)v156,
                                           *(_DWORD *)(v145 + 0x800)) )
                        goto LABEL_59;
                      v90 = v151;
                    }
                    ++v94;
                    v96 += 0x20;
                    v95 += 8;
                    v92 = v145;
                  }
                  while ( v94 < (*(_DWORD *)(*(_QWORD *)(v90 + 8 * v91) + 0x294LL)
                               & ~(*(int *)(*(_QWORD *)(v90 + 8 * v91) + 0x294LL) >> 0x1F)
                               | (*(int *)(*(_QWORD *)(v90 + 8 * v91) + 0x294LL) >> 0x1F)
                               & *(_DWORD *)(*(_QWORD *)(v90 + 8 * v91) + 0x290LL)) );
                }
              }
              ++v91;
            }
            while ( v91 < *(__int64 *)&v152 );
          }
          v143 = 1;
LABEL_59:
          v203 = &off_148ABF6C8;
          _InterlockedDecrement(&dword_14A135B7C);
          sub_146647D40((__int64)v199);
          v7 = v150;
          if ( v143 )
            goto LABEL_63;
          v70 = v147;
          v71 = v146;
        }
      }
      if ( (float)(COERCE_FLOAT(LODWORD(v70) & 0x7FFFFFFF) * v7) > (float)(v71 * 0.69999999) )
      {
        n0x3FD9999A = 0x3FD9999Au;
        *(float *)&n0x3FD9999A = (float)(1.7 / COERCE_FLOAT(LODWORD(v70) & 0x7FFFFFFF)) * v71;
        n0x3FD9999A_1 = n0x3FD9999A;
        __asm { vmaxss  xmm15, xmm1, cs:dword_1481532BC }
      }
      goto LABEL_63;
    }
  }
  return *(__m128 *)&a2;
}

// --- End Function: CRigidEntity::GetMaxTimeStep (0x1467C2090) ---

// --- Function: sub_1467C3270 (0x1467C3270) ---
__int64 __fastcall sub_1467C3270(int *a1)
{
  __int64 v2; // rbx
  int n2; // eax
  __int64 v4; // r8

  v2 = sub_1468D5250();
  n2 = (*(__int64 (__fastcall **)(int *))(*(_QWORD *)a1 + 8LL))(a1);
  v4 = v2 + 0xA40;
  if ( n2 != 2 )
    v4 = v2;
  return 0x208LL * a1[0x13E] + v4 + 0x108LL * a1[0x138] + 0x10LL * a1[0x53];
}

// --- End Function: sub_1467C3270 (0x1467C3270) ---

// --- Function: sub_1467C32E0 (0x1467C32E0) ---
__int64 __fastcall sub_1467C32E0(int *a1)
{
  return sub_1467C3270(a1) + 0x6208;
}

// --- End Function: sub_1467C32E0 (0x1467C32E0) ---

// --- Function: sub_1467C3DE0 (0x1467C3DE0) ---
__int64 __fastcall sub_1467C3DE0(__int64 a1, int *a2)
{
  int n0xC; // eax
  float v6; // xmm1_4
  float *v7; // rax
  double v8; // xmm0_8
  int v9; // eax
  float v10; // xmm1_4
  float *v11; // rax
  double v12; // xmm0_8
  int v13; // eax
  double v14; // xmm1_8
  float v19; // xmm1_4
  float v20; // xmm2_4
  __int64 v21; // rcx
  _DWORD v22[3]; // [rsp+20h] [rbp-38h] BYREF
  float v23[3]; // [rsp+2Ch] [rbp-2Ch] BYREF
  _DWORD v24[3]; // [rsp+38h] [rbp-20h] BYREF
  float v25[5]; // [rsp+44h] [rbp-14h] BYREF

  n0xC = *a2;
  if ( *a2 == 0x21 )
  {
    if ( *(_BYTE *)(a1 + 0x94E) )
    {
      return 0;
    }
    else
    {
      sub_1468D54E0();
      *(_OWORD *)(a2 + 2) = *(_OWORD *)(a1 + 0x1C0);
      *((double *)a2 + 3) = *(double *)(a1 + 0x1D0);
      a2[8] = *(_DWORD *)(a1 + 0x1D8);
      a2[9] = *(_DWORD *)(a1 + 0x1DC);
      a2[0xA] = *(_DWORD *)(a1 + 0x1E0);
      a2[0xB] = *(_DWORD *)(a1 + 0x1E4);
      if ( *(_DWORD *)(a1 + 0x4AC) )
      {
        v6 = *(float *)(a1 + 0x690);
        v22[0] = *(_DWORD *)(a1 + 0x68C);
        v22[2] = *(_DWORD *)(a1 + 0x694);
        *(float *)&v22[1] = v6;
        v7 = (float *)v22;
      }
      else
      {
        v23[0] = 0.0;
        v23[1] = 0.0;
        v23[2] = 0.0;
        v7 = v23;
      }
      v8 = *(double *)v7;
      v9 = *((_DWORD *)v7 + 2);
      *((double *)a2 + 6) = v8;
      a2[0xE] = v9;
      if ( *(_DWORD *)(a1 + 0x4AC) )
      {
        v10 = *(float *)(a1 + 0x684);
        v24[0] = *(_DWORD *)(a1 + 0x680);
        v24[2] = *(_DWORD *)(a1 + 0x688);
        *(float *)&v24[1] = v10;
        v11 = (float *)v24;
      }
      else
      {
        v25[0] = 0.0;
        v25[1] = 0.0;
        v25[2] = 0.0;
        v11 = v25;
      }
      v12 = *(double *)v11;
      v13 = *((_DWORD *)v11 + 2);
      *(double *)(a2 + 0xF) = v12;
      a2[0x11] = v13;
      *((_BYTE *)a2 + 0x60) = *(_DWORD *)(a1 + 0x4AC) != 0;
      return 1;
    }
  }
  else if ( n0xC == 0xA )
  {
    *((double *)a2 + 3) = *(double *)(a1 + 0x538);
    a2[8] = *(_DWORD *)(a1 + 0x540);
    a2[2] = *(_DWORD *)(a1 + 0x554);
    a2[3] = *(_DWORD *)(a1 + 0x550);
    a2[5] = *(_DWORD *)(a1 + 0x570);
    a2[9] = *(_DWORD *)(a1 + 0x574);
    a2[0xA] = *(_DWORD *)(a1 + 0x578);
    *(double *)(a2 + 0xB) = *(double *)(a1 + 0x544);
    a2[0xD] = *(_DWORD *)(a1 + 0x54C);
    a2[0xE] = *(_DWORD *)(a1 + 0x580);
    a2[1] = *(_DWORD *)(a1 + 0xF4);
    v14 = *(double *)(a1 + 0x6C0);
    _XMM0 = 0;
    if ( v14 > 0.0 )
      _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x6B0) / v14);
    __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
    a2[0x10] = _XMM0;
    a2[0x11] = (*(_DWORD *)(a1 + 0x4A8) >> 0xA) & 1;
    a2[0x12] = (*(_DWORD *)(a1 + 0x4A8) >> 0xB) & 1;
    _XMM0 = *(unsigned __int64 *)(a1 + 0x6B0);
    __asm { vcvtpd2ps xmm0, xmm0 }
    a2[0xF] = _XMM0;
    a2[0x13] = *(_DWORD *)(a1 + 0x4B4);
    a2[0x14] = (*(_DWORD *)(a1 + 0x4A4) >> 0x1B) & 1;
    a2[0x15] = *(_DWORD *)(a1 + 0x588);
    a2[0x16] = *(_DWORD *)(a1 + 0x510);
    a2[0x18] = *(_DWORD *)(a1 + 0x844);
    a2[0x17] = *(_BYTE *)(a1 + 0x384) & 1;
    return 1;
  }
  else if ( n0xC == 0xC )
  {
    v19 = 1000.0;
    v20 = 1000.0;
    v21 = *(_QWORD *)(*(_QWORD *)(a1 + 0xB8) + 0x48LL);
    if ( v21 && (HIDWORD(*(_QWORD *)(v21 + 0x610)) & 0xFFF40000) != 0xFFF40000 )
    {
      v19 = *(float *)(v21 + 0x5DC);
      v20 = *(float *)(v21 + 0x5E8);
    }
    *((float *)a2 + 1) = v19 * *(float *)(a1 + 0x8A4);
    a2[2] = *(_DWORD *)(a1 + 0x8A4);
    *((float *)a2 + 4) = v20 * *(float *)(a1 + 0x8A8);
    a2[5] = *(_DWORD *)(a1 + 0x8A8);
    a2[3] = *(_DWORD *)(a1 + 0x8A0);
    a2[0x1C] = *(_DWORD *)(a1 + 0x8AC);
    return 1;
  }
  else
  {
    return sub_1468D54E0();
  }
}

// --- End Function: sub_1467C3DE0 (0x1467C3DE0) ---

// --- Function: sub_1467C4110 (0x1467C4110) ---
__int64 __fastcall sub_1467C4110(__int64 a1, __int64 a2)
{
  unsigned int n0x3F; // eax
  volatile signed __int64 *v5; // rsi
  signed __int64 v6; // rdx
  __int64 v7; // rcx
  __int64 v8; // rcx
  unsigned __int64 v9; // rdx
  __int64 result; // rax

  if ( *(_DWORD *)a2 == 0x1F )
  {
    n0x3F = *(_DWORD *)(a2 + 4);
    if ( n0x3F == 0x80000000 || n0x3F > 0x3F )
    {
      result = 0;
      __asm { vzeroupper }
    }
    else
    {
      v5 = (volatile signed __int64 *)(a1 + 0x6D58);
      v6 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x6D58));
      if ( (v6 & 0x200000) != 0 )
        sub_1403CD0A0(
          (volatile signed __int64 *)(a1 + 0x6D58),
          v6,
          (__int64)"CSpaceshipEntity::GetParams",
          (__int64)"m_lockSpaceship",
          1);
      v7 = 0x188LL * *(int *)(a2 + 4);
      *(double *)(a2 + 0x10) = *(double *)(v7 + a1 + 0xB20);
      *(_DWORD *)(a2 + 0x18) = *(_DWORD *)(v7 + a1 + 0xB28);
      *(_DWORD *)(a2 + 0x1C) = *(_DWORD *)(v7 + a1 + 0xB2C);
      *(_DWORD *)(a2 + 0x20) = *(_DWORD *)(v7 + a1 + 0xB30);
      *(_DWORD *)(a2 + 0x24) = *(_DWORD *)(v7 + a1 + 0xB34);
      *(_DWORD *)(a2 + 0x28) = *(_DWORD *)(v7 + a1 + 0xB38);
      v8 = 0x188LL * *(int *)(a2 + 4);
      *(_DWORD *)(a2 + 0x2C) = *(_DWORD *)(v8 + a1 + 0xB40);
      *(_DWORD *)(a2 + 0x30) = *(_DWORD *)(v8 + a1 + 0xB44);
      *(_DWORD *)(a2 + 0x34) = *(_DWORD *)(v8 + a1 + 0xB48);
      *(_DWORD *)(a2 + 0x38) = *(_DWORD *)(v8 + a1 + 0xB4C);
      *(_DWORD *)(a2 + 0x3C) = *(_DWORD *)(v8 + a1 + 0xB50);
      *(_DWORD *)(a2 + 8) = *(_DWORD *)(v8 + a1 + 0xB84);
      v9 = _InterlockedDecrement64(v5);
      if ( (v9 & 0x3FF) == 0 && (v9 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(v5, v9);
      result = 1;
      __asm { vzeroupper }
    }
  }
  else if ( *(_DWORD *)a2 == 0x2D )
  {
    *(_QWORD *)(a2 + 0x48) = *(_QWORD *)(a1 + 0xA80);
    *(_QWORD *)(a2 + 0x50) = *(_QWORD *)(a1 + 0xA88);
    *(_QWORD *)(a2 + 0x58) = *(_QWORD *)(a1 + 0xA90);
    *(_QWORD *)(a2 + 0x60) = *(_QWORD *)(a1 + 0xA98);
    *(_OWORD *)(a2 + 0x68) = *(_OWORD *)(a1 + 0xAA0);
    *(double *)(a2 + 0x78) = *(double *)(a1 + 0xAB0);
    *(__m256i *)(a2 + 0xA0) = *(__m256i *)(a1 + 0xAF8);
    *(_DWORD *)(a2 + 0xC0) = *(unsigned __int8 *)(a1 + 0xB18);
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 0xADC);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(a1 + 0xA40);
    *(_DWORD *)(a2 + 0xC) = *(_DWORD *)(a1 + 0xA44);
    *(_DWORD *)(a2 + 0x10) = *(_DWORD *)(a1 + 0xA48);
    *(_DWORD *)(a2 + 0x14) = *(_DWORD *)(a1 + 0xA4C);
    *(_DWORD *)(a2 + 0x80) = *(_DWORD *)(a1 + 0xAD0);
    *(_DWORD *)(a2 + 0x84) = *(_DWORD *)(a1 + 0xAD4);
    *(_DWORD *)(a2 + 0x88) = *(_DWORD *)(a1 + 0xAD8);
    *(double *)(a2 + 0x18) = *(double *)(a1 + 0xA50);
    *(_DWORD *)(a2 + 0x20) = *(_DWORD *)(a1 + 0xA58);
    *(double *)(a2 + 0x24) = *(double *)(a1 + 0xA5C);
    *(_DWORD *)(a2 + 0x2C) = *(_DWORD *)(a1 + 0xA64);
    *(double *)(a2 + 0x30) = *(double *)(a1 + 0xA68);
    *(_DWORD *)(a2 + 0x38) = *(_DWORD *)(a1 + 0xA70);
    *(double *)(a2 + 0x3C) = *(double *)(a1 + 0xA74);
    *(_DWORD *)(a2 + 0x44) = *(_DWORD *)(a1 + 0xA7C);
    *(_DWORD *)(a2 + 0x8C) = *(unsigned __int8 *)(a1 + 0xAF4);
    *(_QWORD *)(a2 + 0x90) = *(_QWORD *)(a1 + 0xAB8);
    *(_DWORD *)(a2 + 0x98) = (__int64)(*(_QWORD *)(a1 + 0xAC0) - *(_QWORD *)(a1 + 0xAB8)) >> 2;
    result = 1;
    __asm { vzeroupper }
  }
  else
  {
    result = sub_1467C3DE0();
    __asm { vzeroupper }
  }
  return result;
}

// --- End Function: sub_1467C4110 (0x1467C4110) ---

// --- Function: sub_1467C4DD0 (0x1467C4DD0) ---
__int64 __fastcall sub_1467C4DD0(Parameter *Parameter, __int64 *a2, int a3, __int64 a4)
{
  float v4; // xmm2_4

  return sub_1467C4DF0(Parameter, a2, v4, 0, a4);
}

// --- End Function: sub_1467C4DD0 (0x1467C4DD0) ---

// --- Function: sub_1467C4DF0 (0x1467C4DF0) ---
__int64 __fastcall sub_1467C4DF0(Parameter *Parameter, __int64 *a2, float a3, char a4, __int64 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  __int64 v16; // r15
  const char *v20; // rbx
  __int64 *v21; // rax
  __int64 *v22; // rax
  volatile signed __int64 *v23; // r10
  signed __int64 v24; // rdx
  unsigned __int64 v25; // rax
  __m128 v26; // xmm1
  __int128 v27; // xmm2
  __int128 v29; // kr00_16
  __int64 TlsIndex; // rcx
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v34; // rax
  __int64 v35; // rcx
  __m128 v37; // kr00_16
  __m128 v39; // kr00_16
  int v41; // edx
  double v43; // xmm9_8
  double v45; // xmm10_8
  double v47; // xmm8_8
  double v50; // xmm7_8
  int v53; // eax
  _QWORD *v54; // rcx
  Parameter **v55; // r13
  int v56; // r12d
  int v57; // r13d
  __int64 v58; // rsi
  int n3; // ebx
  __int64 v60; // rcx
  __int64 v61; // r11
  int v62; // r10d
  int v63; // eax
  unsigned int v64; // edx
  int v65; // r12d
  unsigned __int64 v66; // rax
  unsigned __int64 v67; // rbx
  unsigned __int64 v68; // r11
  __int64 v69; // rcx
  unsigned __int64 v70; // rdx
  unsigned int v71; // r8d
  __int64 v72; // rsi
  __int64 v73; // r12
  bool v74; // zf
  _DWORD *v75; // rcx
  unsigned int n2; // eax
  float v77; // xmm6_4
  float v78; // xmm7_4
  float v79; // xmm8_4
  float *v80; // rcx
  char v81; // r12
  Parameter *Parameter_2; // rcx
  __int64 v83; // rcx
  int n3_1; // eax
  double v85; // xmm5_8
  double v86; // xmm2_8
  double v87; // xmm4_8
  Parameter *Parameter_1; // r12
  int v99; // r8d
  int v100; // ecx
  __int16 v101; // ax
  __int64 v102; // r9
  __int128 v103; // kr00_16
  __int64 v106; // rdx
  __int64 v107; // rcx
  bool v108; // sf
  int v109; // r10d
  __int64 v110; // r9
  unsigned int v111; // edx
  signed __int32 v112; // eax
  unsigned __int64 v113; // r12
  __int64 v114; // rbx
  _BYTE v116[4]; // [rsp+78h] [rbp+0h] BYREF
  __int128 v117; // [rsp+178h] [rbp+100h]
  __int128 v118; // [rsp+188h] [rbp+110h]
  __int128 v119; // [rsp+198h] [rbp+120h]
  __int128 v120; // [rsp+1A8h] [rbp+130h]
  __int128 v121; // [rsp+1B8h] [rbp+140h]
  __int128 v122; // [rsp+1C8h] [rbp+150h]
  __int128 v123; // [rsp+1D8h] [rbp+160h]
  __int128 v124; // [rsp+1E8h] [rbp+170h]
  __int128 v125; // [rsp+1F8h] [rbp+180h]
  __int128 v126; // [rsp+208h] [rbp+190h]

  v126 = v5;
  v125 = v6;
  v124 = v7;
  v123 = v8;
  v122 = v9;
  v121 = v10;
  v120 = v11;
  v119 = v12;
  v118 = v13;
  v117 = v14;
  _RBP = (unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL;
  v16 = 0;
  *(_DWORD *)(_RBP + 0x90) = 0x2800;
  *(_QWORD *)(_RBP + 0x94) = 0;
  *(_DWORD *)(_RBP + 0x9C) = 0;
  *(_QWORD *)(_RBP + 0xA8) = 0;
  *(_QWORD *)(_RBP + 0xB0) = 0;
  *(_QWORD *)(_RBP + 0xB8) = 0;
  *(_QWORD *)(_RBP + 0xA0) = 1;
  qword_149A0FD80(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x90, 0, &Source, &Source, 0);
  v20 = sub_1465FEB70();
  if ( !*((_QWORD *)v20 + 0x1F) )
  {
    v21 = (__int64 *)sub_1402A63D0(0x18u);
    if ( v21 )
      v22 = sub_1465B1390(v21);
    else
      v22 = 0;
    *((_QWORD *)v20 + 0x1F) = v22;
  }
  *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x38) = 6;
  v23 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x40) = 0xFFBFFFFF;
  *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x3C) = 1;
  v24 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x2A);
  if ( (v24 & 0x200000) != 0 )
  {
    sub_1403CD0A0(
      (volatile signed __int64 *)Parameter + 0x2A,
      v24,
      (__int64)"CRigidEntity::GetPotentialCollidersInternal",
      (__int64)"m_lockColliders",
      1);
    v23 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  }
  if ( (*((_DWORD *)Parameter + 0x82) & 0x40000000) != 0
    && (float)((float)((float)(*((float *)Parameter + 0x1A3) * *((float *)Parameter + 0x1A3))
                     + (float)(*((float *)Parameter + 0x1A4) * *((float *)Parameter + 0x1A4)))
             + (float)(*((float *)Parameter + 0x1A5) * *((float *)Parameter + 0x1A5))) < 0.0000099999997
    || (float)((float)((float)(*((float *)Parameter + 0x1A3) * *((float *)Parameter + 0x1A3))
                     + (float)(*((float *)Parameter + 0x1A4) * *((float *)Parameter + 0x1A4)))
             + (float)(*((float *)Parameter + 0x1A5) * *((float *)Parameter + 0x1A5)))
     + *((double *)Parameter + 0xD7)
     + (float)((float)((float)(*((float *)Parameter + 0x1A0) * *((float *)Parameter + 0x1A0))
                     + (float)(*((float *)Parameter + 0x1A1) * *((float *)Parameter + 0x1A1)))
             + (float)(*((float *)Parameter + 0x1A2) * *((float *)Parameter + 0x1A2))) <= 0.0 )
  {
    v25 = _InterlockedDecrement64(v23);
    if ( (v25 & 0x3FF) == 0 && (v25 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(v23, v25);
    goto LABEL_85;
  }
  v26 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
  v27 = *((unsigned int *)Parameter + 0x148);
  v29 = v27;
  *(float *)&v29 = *(float *)&v27 * *((float *)Parameter + 0x1A5);
  _XMM4 = v29;
  _XMM6 = *(_OWORD *)((char *)Parameter + 0x418);
  _XMM13 = *((_OWORD *)Parameter + 0x43);
  TlsIndex = (unsigned int)::TlsIndex;
  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x58) = *((double *)Parameter + 0x85);
  v34 = ThreadLocalStoragePointer[TlsIndex];
  v35 = *((_QWORD *)Parameter + 0x58);
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x70) = *((double *)Parameter + 0x88);
  v37 = v26;
  v37.m128_f32[0] = v26.m128_f32[0] * *(float *)&v27;
  _XMM12 = v37;
  v39 = _mm_shuffle_ps(v26, v26, 0x55);
  v39.m128_f32[0] = v39.m128_f32[0] * *(float *)&v27;
  _XMM5 = v39;
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x78) = *(double *)v26.m128_u64;
  *(_OWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x48) = _XMM6;
  *(_OWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x60) = _XMM13;
  __asm { vunpckhpd xmm2, xmm6, xmm6 }
  v41 = *(_DWORD *)(v34 + 0x800);
  __asm { vminss  xmm1, xmm5, xmm14 }
  v43 = *(float *)&_XMM1 + *(double *)&_XMM2;
  LODWORD(v34) = *((_DWORD *)Parameter + 0x144) | 0x20040;
  __asm { vminss  xmm0, xmm4, xmm14 }
  v45 = *(float *)&_XMM0 + *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x58);
  __asm { vminss  xmm0, xmm12, xmm14 }
  v47 = *(double *)&_XMM6 + *(float *)&_XMM0;
  __asm { vmaxss  xmm1, xmm5, xmm14 }
  __asm { vmaxss  xmm0, xmm4, xmm14 }
  *(double *)&_XMM4 = (float)((float)((float)(*((_DWORD *)Parameter + 0x62) >> 0x1F) * *(float *)(v35 + 0x13C)) * 4.0);
  v50 = *(float *)&_XMM0 + *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x70);
  __asm { vmaxss  xmm0, xmm12, xmm14 }
  __asm { vunpckhpd xmm2, xmm13, xmm13 }
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x50) = v43 - *(double *)&_XMM4;
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x48) = v47 - *(double *)&_XMM4;
  *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18) = v41;
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x68) = *(float *)&_XMM1
                                                                       + *(double *)&_XMM2
                                                                       + *(double *)&_XMM4;
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x58) = v45 - *(double *)&_XMM4;
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x60) = *(double *)&_XMM4
                                                                       + *(double *)&_XMM13
                                                                       + *(float *)&_XMM0;
  *(double *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x70) = v50 + *(double *)&_XMM4;
  v53 = sub_146922A80(
          v35,
          (double *)(_RBP + 0x48),
          (double *)(_RBP + 0x60),
          (__int64)a2,
          v34,
          (__int64)Parameter,
          v41,
          0,
          a5);
  v54 = (_QWORD *)*((_QWORD *)v20 + 0x1F);
  *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x28) = v53;
  v55 = (Parameter **)sub_1465E5B30(v54, 8LL * v53);
  *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x30) = v55;
  if ( (*((_BYTE *)Parameter + 0x208) & 1) != 0 )
  {
    v56 = 0;
    if ( *((int *)Parameter + 0x52) > 0 )
    {
      v57 = *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18);
      v58 = 0;
      do
      {
        n3 = 0;
        v60 = *(_QWORD *)(v58 + *((_QWORD *)Parameter + 0x98));
        if ( v60 )
        {
          while ( n3 < 3 && (*(_DWORD *)(v60 + 0x94) & 0x80000) == 0 )
            ++n3;
        }
        v61 = *(_QWORD *)(v58 + *((_QWORD *)Parameter + 0x28));
        v62 = *(_DWORD *)(***(_QWORD ***)(v61 + 0x238) + 0x18LL)
            + *(_DWORD *)(***((_QWORD ***)Parameter + 0x47) + 0x18LL)
            - 2;
        v63 = (*((_DWORD *)Parameter + 0xA4) & (*((int *)Parameter + 0xA5) >> 0x1F)
             | *((_DWORD *)Parameter + 0xA5) & ~(*((int *)Parameter + 0xA5) >> 0x1F))
            + 2
            * ((*(int *)(v61 + 0x294) >> 0x1F) & *(_DWORD *)(v61 + 0x290)
             | *(_DWORD *)(v61 + 0x294) & ~(*(int *)(v61 + 0x294) >> 0x1F))
            - 3;
        v64 = (*(_DWORD *)(*((_QWORD *)Parameter + 0x58) + 0x2D4LL)
             & ((unsigned int)(3 - n3) >> 0x1F)
             & -((v62 ^ (v62 - 1)) >> 0x1F)
             & -((v63 ^ (v63 - 1)) >> 0x1F)) << v57;
        ++v56;
        *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10) = v64
                                                                             + _InterlockedExchangeAdd(
                                                                                 (volatile signed __int32 *)(v61 + 0xF8),
                                                                                 v64);
        v58 += 8;
      }
      while ( v56 < *((_DWORD *)Parameter + 0x52) );
      v55 = *(Parameter ***)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x30);
    }
  }
  v65 = *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18);
  v66 = sub_1467CE8D0(Parameter, v65, 1u);
  v67 = *((_QWORD *)Parameter + 0x43);
  v68 = v66;
  v69 = *((_QWORD *)Parameter + 0x58);
  v70 = HIDWORD(v67);
  *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x78) = v66;
  *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10) = v67;
  if ( !*(_DWORD *)(v69 + 0x16C) )
  {
    v70 = HIDWORD(v67) | 1u;
    *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x14) = v70;
    v67 = *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10);
  }
  *((_DWORD *)Parameter + 0x129) &= 0xFC03FFFF;
  *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10) = 0;
  v71 = __ROL4__(1, v65);
  v72 = 0;
  *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 8) = v71;
  if ( *(__int64 *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x28) > 0 )
  {
    *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x20) = 0;
    while ( 1 )
    {
      v73 = 8 * v72;
      if ( *((double *)Parameter + 0xD7) <= 0.0 )
      {
        __asm { vzeroupper }
        if ( (*(float (__fastcall **)(_QWORD, unsigned __int64))(**(_QWORD **)(v73 + *a2) + 0x2C8LL))(
               *(_QWORD *)(v73 + *a2),
               v70) <= 0.0 )
          goto LABEL_69;
        v71 = *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 8);
      }
      v70 = *(_DWORD *)(*(_QWORD *)(v73 + *a2) + 0xF8LL) & v71
          | *(_QWORD *)(*(_QWORD *)(v73 + *a2) + 0x218LL) & __ROR8__(v67, 0x20);
      if ( !v70 )
      {
        v74 = (*((_DWORD *)Parameter + 0x129) & 0x10000000) == 0;
        *(_BYTE *)_RBP = 0;
        if ( v74 )
        {
          v81 = 0;
        }
        else
        {
          if ( a3 <= 0.0 )
            goto LABEL_40;
          v75 = *(_DWORD **)(v73 + *a2);
          n2 = v75[0x3D];
          if ( n2 > 2 && n2 != 4 )
            goto LABEL_40;
          v77 = 0.0;
          v78 = 0.0;
          v79 = 0.0;
          __asm { vzeroupper }
          if ( (*(unsigned __int8 (__fastcall **)(_DWORD *))(*(_QWORD *)v75 + 0x10LL))(v75) && !a5 )
          {
            v80 = *(float **)(*a2 + 8 * v72);
            v79 = v80[0x1A3];
            v78 = v80[0x1A4];
            v77 = v80[0x1A5];
          }
          if ( (float)((float)((float)((float)(*((float *)Parameter + 0x1A3) - v79)
                                     * (float)(*((float *)Parameter + 0x1A3) - v79))
                             + (float)((float)(*((float *)Parameter + 0x1A4) - v78)
                                     * (float)(*((float *)Parameter + 0x1A4) - v78)))
                     + (float)((float)(*((float *)Parameter + 0x1A5) - v77)
                             * (float)(*((float *)Parameter + 0x1A5) - v77))) > 10000.0 )
          {
            sub_1467BFD70((__int64)Parameter, *(_QWORD *)(*a2 + 8 * v72), a3, 1);
            v81 = 1;
          }
          else
          {
LABEL_40:
            v81 = *(_BYTE *)_RBP;
          }
        }
        Parameter_2 = *(Parameter **)(*a2 + 8 * v72);
        if ( *((int *)Parameter_2 + 0x3D) > 2 )
        {
          __asm { vzeroupper }
          if ( (*(unsigned int (__fastcall **)(Parameter *))(*(_QWORD *)Parameter_2 + 8LL))(Parameter_2) == 6 )
          {
            if ( a3 > 0.0 && !v81 )
              sub_1467BFD70((__int64)Parameter, *(_QWORD *)(*a2 + 8 * v72), a3, 0);
          }
          else
          {
            LODWORD(v16) = v16 + 1;
            *v55++ = *(Parameter **)(*a2 + 8 * v72);
            v83 = *((_QWORD *)Parameter + 0x58);
            if ( !*(_DWORD *)(v83 + 0x250)
              || (v70 = *(_QWORD *)(*a2 + 8 * v72), n3_1 = *(_DWORD *)(v70 + 0xF4), n3_1 != 3) && n3_1 != 6 )
            {
              sub_146941CC0(v83, *(_QWORD *)(*a2 + 8 * v72), *((float *)Parameter + 0x14A));
              *((_DWORD *)Parameter + 0x129) ^= (*((_DWORD *)Parameter + 0x129)
                                               ^ (*((_DWORD *)Parameter + 0x129) + 0x40000))
                                              & 0x3FC0000;
            }
          }
          goto LABEL_69;
        }
        if ( *((double *)Parameter + 0xD7) > 0.0 )
        {
          v85 = *((double *)Parameter_2 + 7) - *((double *)Parameter_2 + 4);
          v86 = *((double *)Parameter_2 + 5) - *((double *)Parameter_2 + 2);
          v87 = *((double *)Parameter_2 + 6) - *((double *)Parameter_2 + 3);
          if ( v86 * v86 + v87 * v87 + v85 * v85 != 0.0
            && *((_QWORD *)Parameter_2 + 0x17) == *((_QWORD *)Parameter + 0x17) )
          {
            _YMM1 = (__m256i)ymmword_148AC6EE0;
            __asm
            {
              vmaskmovpd ymm0, ymm1, [rbp+1C0h+var_178+18h]
              vmaskmovpd ymm3, ymm1, ymmword ptr [rcx+28h]
              vmaskmovpd ymm2, ymm1, ymmword ptr [rcx+10h]
              vmaskmovpd ymm1, ymm1, [rbp+1C0h+var_178]
              vcmpnge_uqpd ymm2, ymm0, ymm2
              vcmpnle_uqpd ymm0, ymm1, ymm3
            }
            _YMM0 = (__m256i)(unsigned __int128)(*(_OWORD *)_YMM0.m256i_i8 | *(_OWORD *)_YMM2.m256i_i8);
            __asm
            {
              vmovupd [rbp+1C0h+var_E0], ymm0
              vzeroupper
              vmovupd ymm0, [rbp+1C0h+var_E0]
              vmovmskpd eax, ymm0
            }
            if ( (_EAX & 7) != 0 )
              goto LABEL_69;
          }
          Parameter_1 = *(_QWORD *)(*a2 + 8 * v72);
          if ( (Parameter *)Parameter_1 == Parameter )
            goto LABEL_69;
          v99 = *(_DWORD *)(Parameter_1 + 0x370);
          v100 = (v99 - *((_DWORD *)Parameter + 0xDC)) ^ (v99 - *((_DWORD *)Parameter + 0xDC) - 1);
          v101 = *(_WORD *)(Parameter_1 + 0x382) << 9;
          *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 4) = v100 >> 0x1F;
          if ( ((v101 >> 9) & -(v100 >> 0x1F)) == 0 && v99 != 0xFFFFFFFF )
          {
            __asm { vzeroupper }
            if ( (*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)Parameter_1 + 0x270LL))(
                   Parameter_1,
                   0xFFFFFFFFLL)
               | *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 4)
               & (*((_DWORD *)Parameter + 0x82) | *(_DWORD *)(Parameter_1 + 0x208))
               & 1 )
            {
              v102 = *(_QWORD *)(*((_QWORD *)Parameter + 0x58) + 0xAD0LL);
              v70 = *(unsigned int *)(v102 + 4LL * *((int *)Parameter + 0xDC));
              if ( *(_DWORD *)(v102 + 4LL * *(int *)(Parameter_1 + 0x370)) >= (int)v70 )
                goto LABEL_69;
              if ( !(*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)Parameter_1 + 0x10LL))(Parameter_1) )
                goto LABEL_69;
              v103 = *((unsigned int *)Parameter + 0x1A3);
              *(float *)&v103 = (float)((float)(*((float *)Parameter + 0x1A3) * *((float *)Parameter + 0x1A3))
                                      + (float)(*((float *)Parameter + 0x1A4) * *((float *)Parameter + 0x1A4)))
                              + (float)(*((float *)Parameter + 0x1A5) * *((float *)Parameter + 0x1A5));
              _XMM4 = v103;
              __asm { vmaxss  xmm3, xmm4, xmm2 }
              if ( (float)((float)(a3 * a3) * *(float *)&_XMM3) >= (float)((float)(*(float *)(*((_QWORD *)Parameter
                                                                                              + 0x58)
                                                                                            + 0x13CLL)
                                                                                 * *(float *)(*((_QWORD *)Parameter
                                                                                              + 0x58)
                                                                                            + 0x13CLL))
                                                                         * 25.0)
                && !(unsigned int)sub_1468FBF30(*(_QWORD *)(*a2 + 8 * v72), 0) )
              {
                goto LABEL_69;
              }
            }
          }
          v106 = *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x20);
          v107 = *a2;
          ++*(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10);
          *(_QWORD *)(v106 + v107) = *(_QWORD *)(v107 + 8 * v72);
          v70 = v106 + 8;
          v108 = *((int *)Parameter + 0x62) < 0;
          *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x20) = v70;
          if ( !v108 && *((float *)Parameter + 0x154) != 0.0 )
            goto LABEL_69;
          Parameter_2 = *(Parameter **)(*a2 + 8 * v72);
LABEL_68:
          LODWORD(v16) = v16 + 1;
          *v55++ = Parameter_2;
          goto LABEL_69;
        }
        if ( Parameter_2 != Parameter )
          goto LABEL_68;
      }
LABEL_69:
      v71 = *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 8);
      if ( ++v72 >= *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x28) )
      {
        v55 = *(Parameter ***)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x30);
        v68 = *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x78);
        *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 4) = v16;
        v16 = 0;
        LODWORD(v72) = *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 4);
        break;
      }
    }
  }
  if ( (*((_BYTE *)Parameter + 0x208) & 1) != 0 )
  {
    v109 = 0;
    if ( *((int *)Parameter + 0x52) > 0 )
    {
      v110 = 0;
      do
      {
        v111 = -(v71 & *(_DWORD *)(*(_QWORD *)(v110 + *((_QWORD *)Parameter + 0x28)) + 0xF8LL));
        v112 = _InterlockedExchangeAdd(
                 (volatile signed __int32 *)(*(_QWORD *)(v110 + *((_QWORD *)Parameter + 0x28)) + 0xF8LL),
                 v111);
        v110 += 8;
        *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 8) = v111 + v112;
        ++v109;
      }
      while ( v109 < *((_DWORD *)Parameter + 0x52) );
    }
  }
  __asm { vzeroupper }
  sub_146807D10(Parameter, v68, *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18));
  v113 = _InterlockedDecrement64((volatile signed __int64 *)Parameter + 0x2A);
  if ( (v113 & 0x3FF) == 0 && (v113 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0((volatile signed __int64 *)Parameter + 0x2A, v113);
  if ( (int)v72 > 0 )
  {
    if ( a4 )
    {
      v114 = (unsigned int)v72;
      do
      {
        (*(void (__fastcall **)(Parameter *, unsigned __int64, _QWORD))(*(_QWORD *)*v55 + 0x30LL))(*v55, _RBP + 0x38, 0);
        ++v55;
        --v114;
      }
      while ( v114 );
    }
    else
    {
      do
      {
        (*(void (__fastcall **)(Parameter *, __int64, __int64))(*(_QWORD *)v55[v16] + 0x268LL))(v55[v16], 1, 2);
        ++v16;
      }
      while ( v16 < (int)v72 );
    }
  }
  LODWORD(v16) = *(_DWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10);
LABEL_85:
  *(_QWORD *)(((unsigned __int64)v116 & 0xFFFFFFFFFFFFFFE0uLL) + 0xA8) = __rdtsc();
  qword_149A0FD88(_RBP + 0x90);
  return (unsigned int)v16;
}

// --- End Function: sub_1467C4DF0 (0x1467C4DF0) ---

// --- Function: sub_1467C59F0 (0x1467C59F0) ---
__int64 __fastcall sub_1467C59F0(__int64 a1, int a2)
{
  __int64 v2; // r9

  if ( *(_DWORD *)(a1 + 0x844)
    && a2 >= 0
    && a2 < *(_DWORD *)(a1 + 0x290)
    && (*(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * a2) & 0x4000000000000LL) != 0
    && (v2 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x70LL) + ((__int64)a2 << 6),
        *(_DWORD *)(v2 + 0x3C) == *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x84A04LL)) )
  {
    return *(_QWORD *)(v2 + 0x10);
  }
  else
  {
    return a1 + 0x5B0;
  }
}

// --- End Function: sub_1467C59F0 (0x1467C59F0) ---

// --- Function: sub_1467C61D0 (0x1467C61D0) ---
__int64 __fastcall sub_1467C61D0(__int64 a1, __int64 a2, unsigned int a3)
{
  return (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x2A0LL))(a1, a3, 0);
}

// --- End Function: sub_1467C61D0 (0x1467C61D0) ---

// --- Function: sub_1467C6250 (0x1467C6250) ---
__int64 __fastcall sub_1467C6250(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int64 result; // rax

  *(double *)a3 = *(double *)(a1 + 0x58C);
  *(_DWORD *)(a3 + 8) = *(_DWORD *)(a1 + 0x594);
  *(double *)a4 = *(double *)(a1 + 0x598);
  result = *(unsigned int *)(a1 + 0x5A0);
  *(_DWORD *)(a4 + 8) = result;
  return result;
}

// --- End Function: sub_1467C6250 (0x1467C6250) ---

// --- Function: sub_1467C6280 (0x1467C6280) ---
__int64 __fastcall sub_1467C6280(__int64 a1)
{
  __int128 n0x44800000_1; // xmm3
  __int128 n0x44800000; // kr00_16
  __int128 n0x44800000_3; // xmm5
  __int128 n0x44800000_2; // kr00_16
  __int128 n0x44800000_5; // xmm6
  __int128 n0x44800000_4; // kr00_16
  __int128 n0x44800000_7; // xmm7
  __int128 n0x44800000_6; // kr00_16
  __int128 n0x44800000_9; // xmm8
  __int128 n0x44800000_8; // kr00_16
  __int128 n0x44800000_11; // xmm9
  __int128 n0x44800000_10; // kr00_16
  __int128 n0x44800000_13; // xmm10
  __int128 n0x44800000_12; // kr00_16
  __int128 n0x44800000_15; // xmm11
  __int128 n0x44800000_14; // kr00_16
  __int128 n0x44800000_17; // xmm2
  __int128 n0x44800000_16; // kr00_16
  int v25; // edx
  int v27; // edx
  int v29; // edx
  int v31; // edx
  int v33; // edx
  int v35; // edx
  int v37; // edx
  int v39; // edx
  int v41; // eax

  n0x44800000 = 0x44800000u;
  *(float *)&n0x44800000 = 1024.0 * *(float *)(a1 + 0x684);
  n0x44800000_1 = n0x44800000;
  n0x44800000_2 = 0x44800000u;
  *(float *)&n0x44800000_2 = 1024.0 * *(float *)(a1 + 0x680);
  n0x44800000_3 = n0x44800000_2;
  n0x44800000_4 = 0x44800000u;
  *(float *)&n0x44800000_4 = 1024.0 * *(float *)(a1 + 0x694);
  n0x44800000_5 = n0x44800000_4;
  n0x44800000_6 = 0x44800000u;
  *(float *)&n0x44800000_6 = 1024.0 * *(float *)(a1 + 0x690);
  n0x44800000_7 = n0x44800000_6;
  n0x44800000_8 = 0x44800000u;
  *(float *)&n0x44800000_8 = 1024.0 * *(float *)(a1 + 0x68C);
  n0x44800000_9 = n0x44800000_8;
  n0x44800000_10 = 0x44800000u;
  *(float *)&n0x44800000_10 = 1024.0 * *(float *)(a1 + 0x1E0);
  n0x44800000_11 = n0x44800000_10;
  n0x44800000_12 = 0x44800000u;
  *(float *)&n0x44800000_12 = 1024.0 * *(float *)(a1 + 0x1DC);
  n0x44800000_13 = n0x44800000_12;
  n0x44800000_14 = 0x44800000u;
  *(float *)&n0x44800000_14 = 1024.0 * *(float *)(a1 + 0x1D8);
  n0x44800000_15 = n0x44800000_14;
  _XMM14 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x1C0) * 1024.0);
  _XMM13 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x1C8) * 1024.0);
  _XMM12 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x1D0) * 1024.0);
  n0x44800000_16 = 0x44800000u;
  *(float *)&n0x44800000_16 = 1024.0 * *(float *)(a1 + 0x688);
  n0x44800000_17 = n0x44800000_16;
  __asm { vcvtsd2si ecx, xmm13 }
  __asm
  {
    vcvtss2si eax, xmm3
    vcvtss2si edx, xmm2
  }
  v25 = _EAX ^ _EDX;
  __asm { vcvtss2si eax, xmm5 }
  v27 = _EAX ^ v25;
  __asm { vcvtss2si eax, xmm6 }
  v29 = _EAX ^ v27;
  __asm { vcvtss2si eax, xmm7 }
  v31 = _EAX ^ v29;
  __asm { vcvtss2si eax, xmm8 }
  v33 = _EAX ^ v31;
  __asm { vcvtss2si eax, xmm9 }
  v35 = _EAX ^ v33;
  __asm { vcvtss2si eax, xmm10 }
  v37 = _EAX ^ v35;
  __asm { vcvtss2si eax, xmm11 }
  v39 = _EAX ^ v37;
  __asm { vcvtsd2si eax, xmm12 }
  v41 = _ECX ^ v39 ^ _EAX;
  __asm { vcvtsd2si ecx, xmm14 }
  return _ECX ^ (unsigned int)v41;
}

// --- End Function: sub_1467C6280 (0x1467C6280) ---

// --- Function: sub_1467C6580 (0x1467C6580) ---
__int64 __fastcall sub_1467C6580(__int64 a1, _QWORD *a2, __int64 a3, unsigned int a4)
{
  __int128 v4; // xmm6
  _QWORD *v8; // rax
  __int64 v9; // r8
  int v10; // eax
  float **v11; // rdx
  char v12; // r8
  float v13; // xmm1_4
  float v14; // xmm0_4
  float v15; // xmm1_4
  float v16; // xmm0_4
  float *v17; // rax
  float *v18; // rcx
  double v19; // xmm1_8
  double v20; // xmm0_8
  int v21; // eax
  double v22; // xmm0_8
  int v23; // eax
  __int128 v24; // xmm0
  _QWORD *v25; // rax
  __int64 v26; // r8
  int n0x40; // ebx
  unsigned __int64 v28; // r8
  __int64 v29; // rcx
  __int64 v30; // rax
  __int64 v31; // r8
  int n0x40_1; // r15d
  unsigned __int64 v33; // rcx
  __int64 v34; // rbx
  __int64 v35; // rax
  __int64 v36; // r8
  __int64 v37; // rdi
  size_t Size; // rax
  size_t Size_1; // rax
  __int64 v40; // rcx
  __int64 v41; // rcx
  __int64 v42; // rcx
  __int64 v43; // rcx
  __int64 v44; // rcx
  __int64 v45; // rcx
  _BYTE v47[4]; // [rsp+40h] [rbp-C0h] BYREF
  float v48; // [rsp+44h] [rbp-BCh]
  int v49; // [rsp+48h] [rbp-B8h] BYREF
  float v50; // [rsp+4Ch] [rbp-B4h] BYREF
  float v51; // [rsp+50h] [rbp-B0h]
  float v52; // [rsp+54h] [rbp-ACh]
  float v53; // [rsp+58h] [rbp-A8h] BYREF
  float v54; // [rsp+5Ch] [rbp-A4h]
  float v55; // [rsp+60h] [rbp-A0h]
  __int128 v56; // [rsp+68h] [rbp-98h] BYREF
  void *v57; // [rsp+78h] [rbp-88h] BYREF
  double v58; // [rsp+80h] [rbp-80h] BYREF
  int v59; // [rsp+88h] [rbp-78h]
  double v60; // [rsp+90h] [rbp-70h] BYREF
  int v61; // [rsp+98h] [rbp-68h]
  __int128 v62; // [rsp+A0h] [rbp-60h] BYREF
  double v63; // [rsp+B0h] [rbp-50h]
  _BYTE v64[80]; // [rsp+C0h] [rbp-40h] BYREF
  int p_n4; // [rsp+110h] [rbp+10h] BYREF
  unsigned int v66; // [rsp+114h] [rbp+14h] BYREF
  __int64 v67; // [rsp+118h] [rbp+18h]
  _BYTE v68[4]; // [rsp+120h] [rbp+20h] BYREF
  unsigned int v69; // [rsp+124h] [rbp+24h]
  _BYTE v70[4]; // [rsp+138h] [rbp+38h] BYREF
  unsigned int v71; // [rsp+13Ch] [rbp+3Ch]
  unsigned int v72; // [rsp+150h] [rbp+50h] BYREF
  unsigned int v73; // [rsp+154h] [rbp+54h] BYREF
  _BYTE v74[12]; // [rsp+158h] [rbp+58h] BYREF
  float v75; // [rsp+164h] [rbp+64h]
  _BYTE v76[12]; // [rsp+168h] [rbp+68h] BYREF
  float v77; // [rsp+174h] [rbp+74h]
  float v78; // [rsp+178h] [rbp+78h] BYREF
  _BYTE v79[4]; // [rsp+17Ch] [rbp+7Ch] BYREF
  float v80; // [rsp+180h] [rbp+80h] BYREF
  _BYTE v81[4]; // [rsp+184h] [rbp+84h] BYREF
  int n2; // [rsp+188h] [rbp+88h] BYREF
  unsigned int v83; // [rsp+18Ch] [rbp+8Ch] BYREF
  unsigned int v84; // [rsp+190h] [rbp+90h] BYREF
  float v85; // [rsp+194h] [rbp+94h] BYREF
  float v86; // [rsp+198h] [rbp+98h] BYREF
  unsigned int v87; // [rsp+19Ch] [rbp+9Ch]
  unsigned int v88; // [rsp+1A0h] [rbp+A0h]
  unsigned int v89; // [rsp+1ACh] [rbp+ACh]
  unsigned int v90; // [rsp+1B8h] [rbp+B8h]
  unsigned int v91; // [rsp+1BCh] [rbp+BCh]
  unsigned __int64 v92; // [rsp+1C0h] [rbp+C0h]
  int v93; // [rsp+1C8h] [rbp+C8h]
  unsigned int v94; // [rsp+1CCh] [rbp+CCh]
  unsigned int v95; // [rsp+1D8h] [rbp+D8h]
  unsigned int v96; // [rsp+1E4h] [rbp+E4h]
  unsigned int v97; // [rsp+1F0h] [rbp+F0h]
  unsigned int v98; // [rsp+1FCh] [rbp+FCh]
  unsigned int v99; // [rsp+214h] [rbp+114h]
  unsigned int v100; // [rsp+218h] [rbp+118h]
  unsigned int v101; // [rsp+224h] [rbp+124h]
  __int128 v102; // [rsp+240h] [rbp+140h]

  v102 = v4;
  v8 = (_QWORD *)sub_14035C590((__int64)&v62, (__int64)a2);
  sub_1468D6DD0(a1, v8, v9, a4);
  v10 = *(_DWORD *)(a1 + 0x4AC);
  v11 = *(float ***)(a1 + 0xB8);
  v12 = v10 != 0;
  if ( v10 )
  {
    v13 = *(float *)(a1 + 0x684);
    v50 = *(float *)(a1 + 0x680);
    v52 = *(float *)(a1 + 0x688);
    v14 = *(float *)(a1 + 0x68C);
    v51 = v13;
    v15 = *(float *)(a1 + 0x690);
    v53 = v14;
    v16 = *(float *)(a1 + 0x694);
    v54 = v15;
    v17 = &v50;
    v18 = &v53;
  }
  else
  {
    v16 = 0.0;
    v53 = 0.0;
    v54 = 0.0;
    v50 = 0.0;
    v51 = 0.0;
    v52 = 0.0;
    v17 = &v53;
    v18 = &v50;
  }
  v19 = *(double *)(a1 + 0x1D0);
  v55 = v16;
  v56 = *(_OWORD *)(a1 + 0x1D8);
  v20 = *(double *)v17;
  v21 = *((_DWORD *)v17 + 2);
  v58 = v20;
  v22 = *(double *)v18;
  v59 = v21;
  v23 = *((_DWORD *)v18 + 2);
  v60 = v22;
  v24 = *(_OWORD *)(a1 + 0x1C0);
  v61 = v23;
  v62 = v24;
  v63 = v19;
  sub_146770F50((__int64)v64, (double *)&v62, (float *)&v56, (__int64)&v60, (__int64)&v58, v12, v11);
  v25 = (_QWORD *)sub_14035C590((__int64)&v62, (__int64)a2);
  sub_1467E40D0((__int64)v64, v25);
  LOBYTE(v26) = *(_QWORD *)(a1 + 0x500) != 0;
  if ( (*(unsigned __int8 (__fastcall **)(_QWORD, const char *, __int64))(*(_QWORD *)*a2 + 0x30LL))(
         *a2,
         "constraints",
         v26) )
  {
    v49 = 0;
    n0x40 = 0;
    do
    {
      v28 = *(_QWORD *)(a1 + 0x500);
      if ( 1LL << n0x40 > v28 )
        break;
      if ( ((1LL << n0x40) & v28) == 0
        || (v29 = *(_QWORD *)(a1 + 0x4F0), v30 = (__int64)n0x40 << 8, (*(_BYTE *)(v30 + v29 + 0x68) & 4) != 0) )
      {
        ++n0x40;
      }
      else
      {
        p_n4 = 4;
        v67 = 0;
        n2 = 2;
        v93 = 0;
        v69 = 0xFFF7FFFF;
        v71 = 0xFFF7FFFF;
        v72 = 0x80000000;
        v73 = 0x80000000;
        v75 = NAN;
        v77 = NAN;
        v78 = NAN;
        v80 = NAN;
        v92 = 0xFFFFFFFFFFFFFFFFuLL;
        v83 = 0xFFBFFFFF;
        v84 = 0xFFBFFFFF;
        v85 = NAN;
        v86 = NAN;
        v88 = 0xFFBFFFFF;
        v89 = 0xFFBFFFFF;
        v90 = 0xFFBFFFFF;
        v91 = 0xFFBFFFFF;
        v87 = 0xFFBFFFFF;
        v94 = 0xFFBFFFFF;
        v95 = 0xFFBFFFFF;
        v96 = 0xFFBFFFFF;
        v97 = 0xFFBFFFFF;
        v98 = 0xFFBFFFFF;
        v99 = 0xFFBFFFFF;
        v100 = 0xFFBFFFFF;
        v101 = 0xFFBFFFFF;
        v66 = *(_DWORD *)(v30 + v29 + 8);
        n0x40 += sub_1467BF1B0((_QWORD *)a1, n0x40, v28, &p_n4);
        ++v49;
      }
    }
    while ( n0x40 < 0x40 );
    (*(void (__fastcall **)(_QWORD, const char *, int *))(*(_QWORD *)*a2 + 0xA8LL))(*a2, "count", &v49);
    n0x40_1 = 0;
    do
    {
      v33 = *(_QWORD *)(a1 + 0x500);
      if ( 1LL << n0x40_1 > v33 )
        break;
      if ( ((1LL << n0x40_1) & v33) == 0
        || (v34 = (__int64)n0x40_1 << 8, (*(_BYTE *)(v34 + *(_QWORD *)(a1 + 0x4F0) + 0x68) & 4) != 0) )
      {
        ++n0x40_1;
      }
      else
      {
        LOBYTE(v31) = 1;
        (*(void (__fastcall **)(_QWORD, const char *, __int64))(*(_QWORD *)*a2 + 0x30LL))(*a2, "constraint", v31);
        v35 = *(_QWORD *)(a1 + 0x4F0);
        v36 = *(_QWORD *)(a1 + 0x500);
        v66 = 0x80000000;
        p_n4 = 4;
        v67 = 0;
        n2 = 2;
        v93 = 0;
        v69 = 0xFFF7FFFF;
        v71 = 0xFFF7FFFF;
        v72 = 0x80000000;
        v73 = 0x80000000;
        v75 = NAN;
        v77 = NAN;
        v78 = NAN;
        v80 = NAN;
        v92 = 0xFFFFFFFFFFFFFFFFuLL;
        v83 = 0xFFBFFFFF;
        v84 = 0xFFBFFFFF;
        v85 = NAN;
        v86 = NAN;
        v88 = 0xFFBFFFFF;
        v89 = 0xFFBFFFFF;
        v90 = 0xFFBFFFFF;
        v91 = 0xFFBFFFFF;
        v87 = 0xFFBFFFFF;
        v94 = 0xFFBFFFFF;
        v95 = 0xFFBFFFFF;
        v96 = 0xFFBFFFFF;
        v97 = 0xFFBFFFFF;
        v98 = 0xFFBFFFFF;
        v99 = 0xFFBFFFFF;
        v100 = 0xFFBFFFFF;
        v101 = 0xFFBFFFFF;
        v66 = *(_DWORD *)(v35 + v34 + 8);
        n0x40_1 += sub_1467BF1B0((_QWORD *)a1, n0x40_1, v36, &p_n4);
        (*(void (__fastcall **)(_QWORD, __int16 *, unsigned int *))(*(_QWORD *)*a2 + 0xA8LL))(
          *a2,
          &word_1480DE8A4,
          &v66);
        v37 = *(_QWORD *)(a1 + 0x2C0);
        *(_QWORD *)&v56 = *a2;
        sub_14035CC10((_QWORD *)&v56 + 1);
        Size = sub_1403E9040(a2 + 1);
        sub_1403E3CD0((void **)&v56 + 1, (void *)a2[1], Size);
        sub_14035CC10(&v57);
        Size_1 = sub_1403E9040(a2 + 2);
        sub_1403E3CD0(&v57, (void *)a2[2], Size_1);
        sub_146941B30(v37, &v56, v67);
        (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0x60LL))(*a2, "pt0", v68);
        (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0x60LL))(*a2, "pt1", v70);
        (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xA8LL))(*a2, "partid0", &v72);
        (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xA8LL))(*a2, "partid1", &v73);
        v40 = *a2;
        v48 = v75;
        if ( (LODWORD(v75) & 0xFFA00000) == 0xFFA00000 )
        {
          v47[0] = 0;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v40 + 0xE8LL))(v40, "qf0used", v47);
        }
        else
        {
          v47[0] = 1;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v40 + 0xE8LL))(v40, "qf0used", v47);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xC8LL))(*a2, "qframe0", v74);
        }
        v41 = *a2;
        v48 = v77;
        if ( (LODWORD(v77) & 0xFFA00000) == 0xFFA00000 )
        {
          v47[0] = 0;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v41 + 0xE8LL))(v41, "qf1used", v47);
        }
        else
        {
          v47[0] = 1;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v41 + 0xE8LL))(v41, "qf1used", v47);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xC8LL))(*a2, "qframe1", v76);
        }
        v42 = *a2;
        v48 = v78;
        if ( (LODWORD(v78) & 0xFFA00000) == 0xFFA00000 )
        {
          v47[0] = 0;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v42 + 0xE8LL))(v42, "xlim", v47);
        }
        else
        {
          v47[0] = 1;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v42 + 0xE8LL))(v42, "xlim", v47);
          (*(void (__fastcall **)(_QWORD, const char *, float *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "xlim0", &v78);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "xlim1", v79);
        }
        v43 = *a2;
        v48 = v80;
        if ( (LODWORD(v80) & 0xFFA00000) == 0xFFA00000 )
        {
          v47[0] = 0;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v43 + 0xE8LL))(v43, "yzlim", v47);
        }
        else
        {
          v47[0] = 1;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v43 + 0xE8LL))(v43, "yzlim", v47);
          (*(void (__fastcall **)(_QWORD, const char *, float *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "yzlim0", &v80);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "yzlim1", v81);
        }
        (*(void (__fastcall **)(_QWORD, const char *, int *))(*(_QWORD *)*a2 + 0x88LL))(*a2, "flags", &n2);
        (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "damping", &v83);
        (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "radius", &v84);
        v44 = *a2;
        v48 = v85;
        if ( (LODWORD(v85) & 0xFFA00000) == 0xFFA00000 )
        {
          v47[0] = 0;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v44 + 0xE8LL))(v44, "breakableLin", v47);
        }
        else
        {
          v47[0] = 1;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v44 + 0xE8LL))(v44, "breakableLin", v47);
          (*(void (__fastcall **)(_QWORD, const char *, float *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "maxPullForce", &v85);
        }
        v45 = *a2;
        v48 = v86;
        if ( (LODWORD(v86) & 0xFFA00000) == 0xFFA00000 )
        {
          v47[0] = 0;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v45 + 0xE8LL))(v45, "breakableAng", v47);
        }
        else
        {
          v47[0] = 1;
          (*(void (__fastcall **)(__int64, const char *, _BYTE *))(*(_QWORD *)v45 + 0xE8LL))(v45, "breakableAng", v47);
          (*(void (__fastcall **)(_QWORD, const char *, float *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "maxBendTorque", &v86);
        }
        (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x38LL))(*a2);
      }
    }
    while ( n0x40_1 < 0x40 );
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x38LL))(*a2);
  }
  sub_1403727A0(a2 + 2);
  sub_1403727A0(a2 + 1);
  return 1;
}

// --- End Function: sub_1467C6580 (0x1467C6580) ---

// --- Function: sub_1467C6EA0 (0x1467C6EA0) ---
__int64 __fastcall sub_1467C6EA0(__int64 a1, __int64 a2, __int64 a3, unsigned int a4)
{
  __int128 v4; // xmm6
  _QWORD *v8; // rax
  __int64 v9; // r8
  _BYTE v11[32]; // [rsp+20h] [rbp-38h] BYREF
  __int128 v12; // [rsp+40h] [rbp-18h]

  v12 = v4;
  v8 = (_QWORD *)sub_14035C590((__int64)v11, a2);
  LODWORD(a1) = sub_1467C6580(a1, v8, v9, a4);
  sub_1403727A0((_QWORD *)(a2 + 0x10));
  sub_1403727A0((_QWORD *)(a2 + 8));
  return (unsigned int)a1;
}

// --- End Function: sub_1467C6EA0 (0x1467C6EA0) ---

// --- Function: sub_1467C8200 (0x1467C8200) ---
__int64 __fastcall sub_1467C8200(__int64 a1, __int64 a2, __int64 a3)
{
  unsigned int v5; // esi
  __int64 result; // rax
  int v7; // ecx
  float v8; // xmm9_4
  float v9; // xmm7_4
  float v10; // xmm8_4
  float v11; // xmm5_4
  float v12; // xmm10_4
  float v13; // xmm6_4
  float v14; // xmm11_4
  float v15; // xmm12_4
  float v16; // xmm14_4
  float v17; // xmm15_4
  float v18; // xmm13_4
  float v19; // xmm7_4
  float v20; // xmm11_4
  float v21; // xmm10_4
  float v22; // xmm9_4
  float v23; // xmm8_4
  float v24; // xmm5_4
  float v25; // xmm4_4
  float v26; // xmm6_4
  float v27; // kr00_4
  double v28; // xmm5_8
  float v29; // xmm1_4
  double v30; // xmm4_8
  int n0x40; // esi
  unsigned __int64 v32; // rbp
  __int64 n0x40_1; // rdx
  unsigned __int64 v34; // r9
  __int64 v35; // r8
  int v36; // r15d
  int v37; // edx
  int n0x40_2; // ecx
  __int64 v39; // r10
  __int64 v40; // r8
  unsigned __int64 v41; // r11
  __int64 v42; // r9
  __int64 v43; // rax
  int v44; // r9d
  float v45; // xmm0_4
  int v46; // edx
  __int64 v47; // r8
  double v48; // xmm11_8
  double v49; // xmm13_8
  double v50; // xmm12_8
  double v51; // xmm4_8
  double v52; // xmm9_8
  double v53; // xmm10_8
  double v54; // xmm8_8
  double v55; // xmm7_8
  double v56; // xmm6_8
  double v57; // xmm4_8
  double v58; // xmm11_8
  double v59; // xmm13_8
  double v60; // xmm12_8
  double v61; // xmm9_8
  double v62; // xmm4_8
  double v63; // xmm10_8
  double v64; // xmm8_8
  double v65; // xmm7_8
  double v66; // xmm6_8
  double v67; // xmm4_8
  float v68; // xmm14_4
  float v69; // xmm15_4
  float v70; // xmm14_4
  float v71; // xmm15_4
  signed __int64 v72; // rdx
  unsigned __int64 v73; // rdx
  signed __int64 v74; // rdx
  Parameter **p_Parameter; // r14
  float *v76; // rax
  float v77; // xmm5_4
  float v78; // xmm6_4
  float v79; // xmm0_4
  __int128 v80; // xmm3
  __int128 v83; // kr00_16
  double v90; // xmm11_8
  double v91; // xmm10_8
  __int128 v92; // xmm9
  double v93; // xmm7_8
  double v94; // xmm4_8
  double v95; // xmm8_8
  double v96; // xmm5_8
  double v97; // xmm6_8
  float v104; // xmm0_4
  float v105; // xmm10_4
  float v106; // xmm11_4
  float v107; // xmm12_4
  double v108; // xmm8_8
  double v109; // xmm5_8
  double v110; // xmm7_8
  double v111; // xmm9_8
  __int128 v118; // xmm12
  double v119; // xmm14_8
  double v120; // kr00_8
  double v121; // xmm13_8
  double v122; // xmm10_8
  double v123; // xmm5_8
  double v124; // xmm6_8
  double v125; // xmm7_8
  double v126; // xmm8_8
  double v127; // xmm9_8
  __int128 v130; // kr00_16
  float v135; // xmm6_4
  float v136; // xmm9_4
  float v137; // xmm4_4
  float v138; // xmm7_4
  float v139; // xmm14_4
  __int128 v140; // xmm13
  float v141; // xmm12_4
  float v142; // xmm15_4
  float v143; // xmm9_4
  float v144; // xmm8_4
  float v145; // xmm11_4
  __int128 v146; // kr00_16
  __int128 v147; // xmm7
  float v148; // xmm6_4
  __int128 v149; // kr00_16
  float v150; // xmm4_4
  __int128 v151; // xmm5
  __int128 v152; // kr00_16
  __int128 v153; // xmm4
  __int128 v154; // xmm1
  __int128 v155; // kr00_16
  __int128 v156; // kr00_16
  __int128 v157; // xmm6
  __int128 v164; // xmm7
  __int128 v165; // xmm4
  double v166; // xmm2_8
  double v167; // xmm0_8
  __int128 v168; // xmm2
  __int128 v169; // xmm9
  __int128 v170; // xmm8
  unsigned int value_by_id_1; // r8d
  bool v180; // zf
  double *v181; // rax
  double *v182; // rax
  unsigned __int64 v183; // r15
  signed __int64 v184; // rbp
  unsigned int v185; // esi
  float v186; // xmm9_4
  float v187; // xmm7_4
  float v188; // xmm8_4
  float v189; // xmm5_4
  float v190; // xmm10_4
  float v191; // xmm6_4
  float v192; // xmm11_4
  float v193; // xmm12_4
  float v194; // xmm15_4
  float v195; // xmm14_4
  float v196; // xmm13_4
  float v197; // xmm12_4
  float v198; // xmm10_4
  float v199; // xmm11_4
  float v200; // xmm6_4
  float v201; // xmm8_4
  float v202; // xmm7_4
  float v203; // xmm5_4
  float v204; // xmm9_4
  float v205; // xmm3_4
  float v206; // xmm1_4
  float v207; // xmm10_4
  float v208; // xmm9_4
  float v209; // xmm8_4
  float v210; // xmm7_4
  float v211; // xmm6_4
  float v212; // xmm1_4
  double v213; // xmm15_8
  float v214; // xmm4_4
  float v215; // xmm5_4
  float v216; // xmm2_4
  double v217; // xmm13_8
  float v218; // xmm4_4
  float v219; // xmm6_4
  float v220; // xmm0_4
  double v221; // xmm9_8
  double v222; // xmm14_8
  double v223; // xmm10_8
  double v224; // xmm7_8
  double v225; // xmm6_8
  double v226; // xmm5_8
  double v227; // xmm4_8
  double v228; // xmm11_8
  double v229; // xmm12_8
  double v230; // kr00_8
  double v231; // xmm0_8
  double v232; // xmm6_8
  double v233; // xmm15_8
  int v234; // r15d
  double *v235; // r14
  double v236; // xmm8_8
  double v237; // xmm9_8
  double v238; // xmm13_8
  __int64 v239; // rbp
  double v240; // xmm5_8
  __int128 v241; // xmm4
  double v242; // xmm6_8
  __int64 v243; // rax
  __int128 v246; // kr00_16
  __int64 v251; // rcx
  __int64 v252; // rax
  __int64 v253; // rcx
  __int64 v254; // rax
  __int64 v255; // rcx
  unsigned __int64 v260; // r15
  float v267; // kr00_4
  signed __int64 v268; // rbp
  unsigned int v269; // ebx
  unsigned __int64 v270; // r15
  float v271; // [rsp+60h] [rbp-3D8h]
  double v272; // [rsp+60h] [rbp-3D8h]
  double v273; // [rsp+60h] [rbp-3D8h]
  signed int value_by_id; // [rsp+68h] [rbp-3D0h]
  float v275; // [rsp+68h] [rbp-3D0h]
  double v276; // [rsp+68h] [rbp-3D0h]
  double v277; // [rsp+68h] [rbp-3D0h]
  float v278; // [rsp+70h] [rbp-3C8h]
  double v279; // [rsp+70h] [rbp-3C8h]
  double v280; // [rsp+70h] [rbp-3C8h]
  float v281; // [rsp+78h] [rbp-3C0h]
  double v282; // [rsp+78h] [rbp-3C0h]
  float v283; // [rsp+80h] [rbp-3B8h]
  double v284; // [rsp+80h] [rbp-3B8h]
  double v285; // [rsp+88h] [rbp-3B0h]
  double v286; // [rsp+88h] [rbp-3B0h]
  double v287; // [rsp+90h] [rbp-3A8h]
  double v288; // [rsp+90h] [rbp-3A8h]
  double v289; // [rsp+98h] [rbp-3A0h]
  double v290; // [rsp+98h] [rbp-3A0h]
  double v291; // [rsp+A0h] [rbp-398h]
  double v292; // [rsp+A0h] [rbp-398h]
  double v293; // [rsp+A8h] [rbp-390h]
  double v294; // [rsp+A8h] [rbp-390h]
  double v295; // [rsp+B0h] [rbp-388h]
  double v296; // [rsp+B0h] [rbp-388h]
  float v297[4]; // [rsp+B8h] [rbp-380h] BYREF
  float v298; // [rsp+C8h] [rbp-370h] BYREF
  int v299; // [rsp+CCh] [rbp-36Ch] BYREF
  double v300; // [rsp+D0h] [rbp-368h]
  double v301; // [rsp+D8h] [rbp-360h]
  double v302; // [rsp+E0h] [rbp-358h]
  _QWORD v303[4]; // [rsp+E8h] [rbp-350h] BYREF
  double v304; // [rsp+108h] [rbp-330h]
  double v305[9]; // [rsp+110h] [rbp-328h] BYREF
  double v306[9]; // [rsp+158h] [rbp-2E0h] BYREF
  ULONG_PTR Parameter[54]; // [rsp+1A0h] [rbp-298h] BYREF

  if ( *(_DWORD *)a2 != 7 )
  {
    result = CPhysicalEntity::GetStatus((__int64 *)a1, (int *)a2);
    v7 = *(_DWORD *)a2;
    if ( (_DWORD)result )
    {
      if ( v7 == 1 && (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 && *(float *)(a2 + 0x58) > 0.0 )
      {
        v8 = *(float *)(a1 + 0x84C);
        v9 = *(float *)(a1 + 0x6CC);
        v10 = *(float *)(a1 + 0x6C8);
        v11 = *(float *)(a1 + 0x848);
        v12 = *(float *)(a1 + 0x850);
        v13 = *(float *)(a1 + 0x6D0);
        v14 = *(float *)(a1 + 0x854);
        v15 = *(float *)(a1 + 0x6D4);
        v16 = (float)(v15 * v14) - (float)((float)((float)(v11 * v10) + (float)(v9 * v8)) + (float)(v13 * v12));
        *(float *)(a2 + 0x44) = v16;
        v17 = (float)((float)((float)(v13 * v8) - (float)(v12 * v9)) + (float)(v10 * v14)) + (float)(v11 * v15);
        *(float *)(a2 + 0x38) = v17;
        v18 = (float)((float)((float)(v12 * v10) - (float)(v13 * v11)) + (float)(v9 * v14)) + (float)(v8 * v15);
        *(float *)(a2 + 0x3C) = v18;
        v19 = (float)((float)((float)(v11 * v9) - (float)(v10 * v8)) + (float)(v13 * v14)) + (float)(v12 * v15);
        *(float *)(a2 + 0x40) = v19;
        v20 = *(float *)(a1 + 0x6E0);
        v21 = *(float *)(a1 + 0x6DC);
        v22 = *(float *)(a1 + 0x6D8);
        v23 = (float)((float)(v18 * v20) - (float)(v19 * v21)) + (float)(v16 * v22);
        v24 = (float)((float)(v19 * v22) - (float)(v17 * v20)) + (float)(v16 * v21);
        v25 = (float)((float)(v17 * v21) - (float)(v18 * v22)) + (float)(v16 * v20);
        v26 = (float)(v18 * v25) - (float)(v19 * v24);
        v27 = v17 * v24;
        v28 = *(double *)(a1 + 0x7D0);
        v29 = v25 * v17;
        v30 = *(double *)(a1 + 0x7C8);
        *(double *)(a2 + 0x20) = *(double *)(a1 + 0x7C0) - (float)((float)(v26 + v22) + v26);
        *(double *)(a2 + 0x28) = v30
                               - (float)((float)((float)((float)(v19 * v23) - v29) + v21)
                                       + (float)((float)(v19 * v23) - v29));
        *(double *)(a2 + 0x30) = v28
                               - (float)((float)((float)(v27 - (float)(v18 * v23)) + v20)
                                       + (float)(v27 - (float)(v18 * v23)));
      }
      return result;
    }
    switch ( v7 )
    {
      case 0x33:
        if ( *(_QWORD *)(a1 + 0x500) )
        {
          if ( *(_DWORD *)(a2 + 4) )
          {
            n0x40 = 0;
            v32 = 1;
            do
            {
              if ( v32 > *(_QWORD *)(a1 + 0x500) )
                break;
              sub_14676D0F0(
                a2 + 8,
                (__int64)v303,
                (unsigned __int8 *)(((__int64)n0x40++ << 8) + *(_QWORD *)(a1 + 0x4F0) + 8LL));
              v32 = __ROL8__(v32, 1);
            }
            while ( n0x40 < 0x40 );
          }
          return 0x40;
        }
        break;
      case 0x1A:
        n0x40_1 = *(int *)(a2 + 8);
        v34 = *(_QWORD *)(a1 + 0x500);
        if ( (int)n0x40_1 < 0 )
        {
          LODWORD(n0x40_1) = 0;
          v35 = 0;
          while ( 1LL << n0x40_1 <= v34 )
          {
            if ( (v34 & (1LL << n0x40_1)) != 0 && *(_DWORD *)(v35 + *(_QWORD *)(a1 + 0x4F0) + 8) == *(_DWORD *)(a2 + 4) )
            {
              *(_DWORD *)(a2 + 8) = n0x40_1;
              goto LABEL_32;
            }
            LODWORD(n0x40_1) = n0x40_1 + 1;
            v35 += 0x100;
            if ( (int)n0x40_1 >= 0x40 )
              return 0;
          }
        }
        else if ( _bittest64((const __int64 *)&v34, (unsigned int)n0x40_1) )
        {
          *(_DWORD *)(a2 + 4) = *(_DWORD *)((n0x40_1 << 8) + *(_QWORD *)(a1 + 0x4F0) + 8);
LABEL_32:
          v36 = sub_1467BF1B0((_QWORD *)a1, n0x40_1, *(_QWORD *)(a1 + 0x500), (int *)(a2 + 0x38));
          v37 = 0;
          n0x40_2 = 0;
          v39 = 0;
          v40 = 0;
          do
          {
            v41 = *(_QWORD *)(a1 + 0x500);
            if ( 1LL << n0x40_2 > v41 || v37 >= v36 )
              break;
            if ( ((1LL << n0x40_2) & v41) != 0 )
            {
              v42 = *(_QWORD *)(a1 + 0x4F0);
              if ( *(_DWORD *)(v39 + v42 + 8) == *(_DWORD *)(a2 + 4) )
              {
                v43 = *(_QWORD *)(a1 + 0x4E8);
                ++v37;
                if ( (*(_DWORD *)(v43 + v40 + 0x94) & 0x100) != 0 )
                {
                  *(_DWORD *)(a2 + 0x1C) = *(_DWORD *)(v43 + v40 + 0xA8);
                  *(_QWORD *)(a2 + 0x20) = 0;
                }
                else
                {
                  v44 = *(_DWORD *)(v39 + v42 + 0x68);
                  if ( (v44 & 1) != 0 )
                  {
                    *(_DWORD *)(a2 + 0x28) = *(_DWORD *)(v43 + v40 + 0xA8);
                    *(_QWORD *)(a2 + 0x2C) = 0;
                  }
                  else
                  {
                    v45 = *(float *)(v43 + v40 + 0xA8);
                    if ( (v44 & 2) != 0 )
                    {
                      *(_DWORD *)(a2 + 0x28) = 0;
                      *(float *)(a2 + 0x2C) = v45;
                      *(_DWORD *)(a2 + 0x30) = 0;
                    }
                    else
                    {
                      *(float *)(a2 + 0x10) = v45;
                      *(_QWORD *)(a2 + 0x14) = 0;
                    }
                  }
                }
              }
            }
            ++n0x40_2;
            v40 += 0x108;
            v39 += 0x100;
          }
          while ( n0x40_2 < 0x40 );
          v46 = *(_DWORD *)(a2 + 0xC);
          if ( v46 != 0x80000000 && (v46 & 3) != 0 )
          {
            v47 = *(_QWORD *)(0x108LL * *(int *)(a2 + 8) + *(_QWORD *)(a1 + 0x4E8) + 0x20);
            if ( (v46 & 1) != 0 && (*(_BYTE *)(a2 + 0xB0) & 2) != 0 )
            {
              v48 = *(double *)(a2 + 0x48) - *(double *)(a1 + 0x1C0);
              v49 = *(double *)(a2 + 0x58) - *(double *)(a1 + 0x1D0);
              v50 = *(double *)(a2 + 0x50) - *(double *)(a1 + 0x1C8);
              v51 = *(float *)(a1 + 0x1E4);
              v52 = *(float *)(a1 + 0x1E0);
              v53 = *(float *)(a1 + 0x1DC);
              v54 = *(float *)(a1 + 0x1D8);
              v55 = v52 * v50 - v53 * v49 + v51 * v48;
              v56 = v54 * v49 - v52 * v48 + v51 * v50;
              v57 = v53 * v48 - v54 * v50 + v51 * v49;
              *(double *)(a2 + 0x48) = v56 * v52 - v57 * v53 + v48 + v56 * v52 - v57 * v53;
              *(double *)(a2 + 0x50) = v57 * v54 - v55 * v52 + v50 + v57 * v54 - v55 * v52;
              *(double *)(a2 + 0x58) = v55 * v53 - v56 * v54 + v49 + v55 * v53 - v56 * v54;
              v58 = *(double *)(a2 + 0x60) - *(double *)(v47 + 0x1C0);
              v59 = *(double *)(a2 + 0x70) - *(double *)(v47 + 0x1D0);
              v60 = *(double *)(a2 + 0x68) - *(double *)(v47 + 0x1C8);
              v61 = *(float *)(v47 + 0x1E0);
              v62 = *(float *)(v47 + 0x1E4);
              v63 = *(float *)(v47 + 0x1DC);
              v64 = *(float *)(v47 + 0x1D8);
              v65 = v61 * v60 - v63 * v59 + v62 * v58;
              v66 = v64 * v59 - v61 * v58 + v62 * v60;
              v67 = v63 * v58 - v64 * v60 + v62 * v59;
              *(double *)(a2 + 0x60) = v66 * v61 - v67 * v63 + v58 + v66 * v61 - v67 * v63;
              *(double *)(a2 + 0x68) = v67 * v64 - v65 * v61 + v60 + v67 * v64 - v65 * v61;
              *(double *)(a2 + 0x70) = v65 * v63 - v66 * v64 + v59 + v65 * v63 - v66 * v64;
              LODWORD(v60) = *(_DWORD *)(a1 + 0x1DC);
              LODWORD(v59) = *(_DWORD *)(a1 + 0x1E4);
              LODWORD(v58) = *(_DWORD *)(a2 + 0x8C);
              LODWORD(v63) = *(_DWORD *)(a2 + 0x84);
              v68 = *(float *)(a1 + 0x1D8);
              v69 = *(float *)(a1 + 0x1E0);
              LODWORD(v65) = *(_DWORD *)(a2 + 0x80);
              LODWORD(v64) = *(_DWORD *)(a2 + 0x88);
              *(float *)(a2 + 0x8C) = (float)((float)(*(float *)&v59 * *(float *)&v58)
                                            + (float)(*(float *)&v63 * *(float *)&v60))
                                    + (float)((float)(v69 * *(float *)&v64) + (float)(*(float *)&v65 * v68));
              *(float *)(a2 + 0x80) = (float)((float)((float)(v69 * *(float *)&v63)
                                                    - (float)(*(float *)&v64 * *(float *)&v60))
                                            + (float)(*(float *)&v59 * *(float *)&v65))
                                    - (float)(*(float *)&v58 * v68);
              *(float *)(a2 + 0x84) = (float)((float)((float)(*(float *)&v64 * v68) - (float)(v69 * *(float *)&v65))
                                            + (float)(*(float *)&v59 * *(float *)&v63))
                                    - (float)(*(float *)&v58 * *(float *)&v60);
              *(float *)(a2 + 0x88) = (float)((float)((float)(*(float *)&v65 * *(float *)&v60)
                                                    - (float)(*(float *)&v63 * v68))
                                            + (float)(*(float *)&v59 * *(float *)&v64))
                                    - (float)(v69 * *(float *)&v58);
              v70 = *(float *)(v47 + 0x1D8);
              v71 = *(float *)(v47 + 0x1E0);
              LODWORD(v65) = *(_DWORD *)(a2 + 0x90);
              LODWORD(v64) = *(_DWORD *)(a2 + 0x98);
              LODWORD(v60) = *(_DWORD *)(v47 + 0x1DC);
              LODWORD(v59) = *(_DWORD *)(v47 + 0x1E4);
              LODWORD(v58) = *(_DWORD *)(a2 + 0x9C);
              LODWORD(v63) = *(_DWORD *)(a2 + 0x94);
              *(float *)(a2 + 0x90) = (float)((float)((float)(v71 * *(float *)&v63)
                                                    - (float)(*(float *)&v60 * *(float *)&v64))
                                            + (float)(*(float *)&v59 * *(float *)&v65))
                                    - (float)(*(float *)&v58 * v70);
              *(float *)(a2 + 0x94) = (float)((float)((float)(v70 * *(float *)&v64) - (float)(v71 * *(float *)&v65))
                                            + (float)(*(float *)&v59 * *(float *)&v63))
                                    - (float)(*(float *)&v58 * *(float *)&v60);
              *(float *)(a2 + 0x9C) = (float)((float)(v71 * *(float *)&v64) + (float)(v70 * *(float *)&v65))
                                    + (float)((float)(*(float *)&v60 * *(float *)&v63)
                                            + (float)(*(float *)&v59 * *(float *)&v58));
              *(float *)(a2 + 0x98) = (float)((float)((float)(*(float *)&v60 * *(float *)&v65)
                                                    - (float)(v70 * *(float *)&v63))
                                            + (float)(*(float *)&v59 * *(float *)&v64))
                                    - (float)(*(float *)&v58 * v71);
              *(_DWORD *)(a2 + 0xB0) &= ~2u;
              *(_DWORD *)(a2 + 0xB0) |= 1u;
            }
          }
          if ( *(__int64 **)(a2 + 0x40) == &qword_15145C180 )
            *(_QWORD *)(a2 + 0x40) = 0xFFFFFFFFFFFFFFF6uLL;
          *(_DWORD *)(a2 + 0xC) = *(_DWORD *)(a2 + 0xB0);
          return 1;
        }
        break;
      case 8:
        if ( *(_DWORD *)(a2 + 0xA8) == 0x80000000 )
        {
          value_by_id = *(_DWORD *)(a2 + 0xAC);
        }
        else
        {
          v72 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v72 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0xC8),
              v72,
              (__int64)"CRigidEntity::GetStatus",
              (__int64)"m_lockUpdate",
              1);
          value_by_id = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(a2 + 0xA8), 0);
          v73 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0xC8));
          if ( (v73 & 0x3FF) == 0 && (v73 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v73);
        }
        v74 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8D0));
        if ( (v74 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x8D0),
            v74,
            (__int64)"CRigidEntity::GetStatus",
            (__int64)"m_lockBody",
            1);
        sub_14671CFD0((__int64)Parameter);
        p_Parameter = (ULONG_PTR *)(a1 + 0x5B0);
        if ( *(_DWORD *)(a1 + 0x4AC) || *(double *)(a1 + 0x6B8) <= 0.0 )
        {
          *(double *)(a2 + 0x20) = *(double *)(a1 + 0x68C);
          *(_DWORD *)(a2 + 0x28) = *(_DWORD *)(a1 + 0x694);
          *(double *)(a2 + 0x2C) = *(double *)(a1 + 0x680);
          *(_DWORD *)(a2 + 0x34) = *(_DWORD *)(a1 + 0x688);
          v80 = *(unsigned __int64 *)(a1 + 0x6B8);
          _XMM2 = *(_OWORD *)(a1 + 0x6E8);
          v304 = *(double *)(a1 + 0x6F8);
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&_XMM2 + 1);
          *(double *)&v83 = *(double *)&_XMM2 * *(double *)&v80;
          _XMM0 = v83;
          __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
          *(float *)(a2 + 0x50) = *(float *)&_XMM1;
          __asm { vunpckhpd xmm2, xmm2, xmm2 }
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&_XMM2 + 1);
          *(double *)&v83 = *(double *)&_XMM2 * *(double *)&v80;
          _XMM0 = v83;
          __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
          *(float *)(a2 + 0x54) = *(float *)&_XMM1;
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&v80 + 1);
          *(double *)&v83 = *(double *)&v80 * v304;
          _XMM1 = v83;
          __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
          *(float *)(a2 + 0x58) = *(float *)&_XMM2;
          v90 = *(double *)(a1 + 0x708);
          v91 = *(double *)(a1 + 0x710);
          v92 = *(unsigned __int64 *)(a1 + 0x700);
          v93 = *(double *)(a1 + 0x5D0);
          *(_QWORD *)&v80 = *(_QWORD *)(a1 + 0x5C8);
          v94 = *(double *)(a1 + 0x5D8);
          v95 = *(double *)(a1 + 0x5E8);
          v96 = *(double *)(a1 + 0x5E0);
          v97 = *(double *)(a1 + 0x5F0);
          _XMM2 = COERCE_UNSIGNED_INT64(
                    *(double *)&v92 * *(double *)(a1 + 0x5B0)
                  + v90 * *(double *)(a1 + 0x5B8)
                  + v91 * *(double *)(a1 + 0x5C0));
          __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
          *(float *)(a2 + 0x5C) = *(float *)&_XMM0;
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&v92 + 1);
          *(double *)&v83 = *(double *)&v92 * *(double *)&v80 + v90 * v93 + v91 * v94;
          _XMM2 = v83;
          __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
          *(float *)(a2 + 0x60) = *(float *)&_XMM0;
          *((_QWORD *)&v83 + 1) = *((_QWORD *)&v92 + 1);
          *(double *)&v83 = *(double *)&v92 * v96 + v90 * v95 + v91 * v97;
          _XMM2 = v83;
          __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
          *(float *)(a2 + 0x64) = *(float *)&_XMM0;
          v104 = *(float *)(a1 + 0x524);
          v278 = v104;
          v281 = 0.0;
          v271 = 0.0;
          v283 = 0.0;
          v105 = 0.0;
          v106 = 0.0;
          v107 = 0.0;
          if ( v104 > 0.00000011920929 )
          {
            v108 = *(double *)(a1 + 0x6B8);
            v109 = *(double *)(a1 + 0x798);
            v110 = *(double *)(a1 + 0x7A0);
            v111 = 1.0 / v104;
            _XMM1 = COERCE_UNSIGNED_INT64(v111 * *(double *)(a1 + 0x790) * v108);
            __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
            *(float *)(a2 + 0x50) = *(float *)&_XMM2 + *(float *)(a2 + 0x50);
            _XMM1 = COERCE_UNSIGNED_INT64(v111 * v109 * v108);
            __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
            *(float *)(a2 + 0x54) = *(float *)&_XMM2 + *(float *)(a2 + 0x54);
            _XMM1 = COERCE_UNSIGNED_INT64(v111 * v110 * v108);
            __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
            *(float *)(a2 + 0x58) = *(float *)&_XMM2 + *(float *)(a2 + 0x58);
            v118 = COERCE_UNSIGNED_INT64(v111 * *(double *)(a1 + 0x7B0));
            v120 = v111 * *(double *)(a1 + 0x7A8);
            v119 = v120;
            v121 = v111 * *(double *)(a1 + 0x7B8);
            v122 = *(double *)(a1 + 0x5F0);
            v123 = *(double *)(a1 + 0x5D0);
            v124 = *(double *)(a1 + 0x5C8);
            v125 = *(double *)(a1 + 0x5D8);
            v126 = *(double *)(a1 + 0x5E8);
            v127 = *(double *)(a1 + 0x5E0);
            _XMM0 = COERCE_UNSIGNED_INT64(
                      v120 * *(double *)(a1 + 0x5B0)
                    + *(double *)&v118 * *(double *)(a1 + 0x5B8)
                    + v121 * *(double *)(a1 + 0x5C0));
            __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
            *(float *)(a2 + 0x5C) = *(float *)&_XMM2 + *(float *)(a2 + 0x5C);
            *((_QWORD *)&v130 + 1) = *((_QWORD *)&v118 + 1);
            *(double *)&v130 = *(double *)&v118 * v123 + v120 * v124 + v121 * v125;
            _XMM2 = v130;
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            *((_QWORD *)&v130 + 1) = *((_QWORD *)&v118 + 1);
            *(float *)(a2 + 0x60) = *(float *)&_XMM0 + *(float *)(a2 + 0x60);
            *(double *)&v130 = *(double *)&v118 * v126 + v119 * v127 + v121 * v122;
            _XMM2 = v130;
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            *(float *)(a2 + 0x64) = *(float *)&_XMM0 + *(float *)(a2 + 0x64);
            v271 = 0.0;
            v283 = 0.0;
            v281 = 0.0;
            v105 = 0.0;
            v106 = 0.0;
            v107 = 0.0;
            if ( *(double *)(a1 + 0x6B8) <= 0.0 )
            {
              v106 = (float)(*(float *)(a1 + 0x694) - *(float *)(a1 + 0x828)) * (float)(1.0 / v278);
              v105 = (float)(*(float *)(a1 + 0x690) - *(float *)(a1 + 0x824)) * (float)(1.0 / v278);
              v271 = (float)(*(float *)(a1 + 0x680) - *(float *)(a1 + 0x82C)) * (float)(1.0 / v278);
              v107 = (float)(*(float *)(a1 + 0x68C) - *(float *)(a1 + 0x820)) * (float)(1.0 / v278);
              v283 = (float)(*(float *)(a1 + 0x684) - *(float *)(a1 + 0x830)) * (float)(1.0 / v278);
              v281 = (float)(*(float *)(a1 + 0x688) - *(float *)(a1 + 0x834)) * (float)(1.0 / v278);
            }
          }
          v135 = *(float *)(a1 + 0x53C);
          v136 = *(float *)(a1 + 0x540);
          v137 = *(float *)(a1 + 0x7F4);
          v138 = *(float *)(a1 + 0x7F8);
          *(float *)(a2 + 0x38) = (float)((float)(*(float *)(a2 + 0x50) + *(float *)(a1 + 0x538)) + v107)
                                + *(float *)(a1 + 0x7F0);
          *(float *)(a2 + 0x3C) = (float)((float)(v135 + *(float *)(a2 + 0x54)) + v105) + v137;
          *(float *)(a2 + 0x40) = (float)((float)(v136 + *(float *)(a2 + 0x58)) + v106) + v138;
          v139 = *(float *)(a1 + 0x644);
          v140 = *(unsigned int *)(a1 + 0x648);
          v141 = *(float *)(a1 + 0x64C);
          v142 = *(float *)(a1 + 0x640);
          v143 = *(float *)(a2 + 0x30);
          v144 = *(float *)(a2 + 0x2C);
          v145 = *(float *)(a2 + 0x34);
          v146 = v140;
          *(float *)&v146 = (float)((float)(*(float *)&v140 * v143) - (float)(v139 * v145)) + (float)(v141 * v144);
          v147 = v146;
          v148 = (float)((float)(v142 * v145) - (float)(*(float *)&v140 * v144)) + (float)(v141 * v143);
          v149 = v140;
          v150 = (float)((float)(v139 * v144) - (float)(v142 * v143)) + (float)(v141 * v145);
          *(float *)&v149 = (float)(*(float *)&v140 * v148) - (float)(v150 * v139);
          v151 = v149;
          v152 = LODWORD(v142);
          *(float *)&v152 = (float)(v142 * v150) - (float)(*(float *)&v147 * *(float *)&v140);
          v153 = v152;
          v155 = v151;
          *(float *)&v155 = *(float *)&v151 + v144;
          v154 = v155;
          v156 = v147;
          *(float *)&v156 = (float)(*(float *)&v147 * v139) - (float)(v142 * v148);
          v157 = v156;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v154 + 1);
          *(double *)&v156 = (float)(*(float *)&v154 + *(float *)&v151) * *(double *)(a1 + 0x5F8);
          _XMM3 = v156;
          __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v153 + 1);
          *(double *)&v156 = (float)((float)(*(float *)&v153 + v143) + *(float *)&v153) * *(double *)(a1 + 0x600);
          _XMM3 = v156;
          __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v157 + 1);
          *(double *)&v156 = (float)((float)(*(float *)&v157 + v145) + *(float *)&v157) * *(double *)(a1 + 0x608);
          _XMM3 = v156;
          __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
          *(float *)&v147 = (float)((float)(*(float *)&_XMM8 * v139) - (float)(*(float *)&_XMM9 * *(float *)&v140))
                          + (float)(*(float *)&_XMM10 * v141);
          *(float *)&v157 = (float)((float)(*(float *)&_XMM10 * *(float *)&v140) - (float)(*(float *)&_XMM8 * v142))
                          + (float)(*(float *)&_XMM9 * v141);
          *(float *)&v153 = (float)((float)(*(float *)&_XMM9 * v142) - (float)(*(float *)&_XMM10 * v139))
                          + (float)(*(float *)&_XMM8 * v141);
          *(float *)&v151 = (float)(v139 * *(float *)&v153) - (float)(*(float *)&v140 * *(float *)&v157);
          *(float *)&v153 = (float)(*(float *)&v140 * *(float *)&v147) - (float)(v142 * *(float *)&v153);
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&_XMM10 + 1);
          *(float *)&_XMM3 = (float)(v142 * *(float *)&v157) - (float)(v139 * *(float *)&v147);
          *(double *)&v156 = (float)((float)(*(float *)&_XMM10 + *(float *)&v151) + *(float *)&v151);
          v164 = v156;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&_XMM8 + 1);
          *(double *)&v157 = (float)((float)(*(float *)&_XMM9 + *(float *)&v153) + *(float *)&v153);
          *(double *)&v156 = (float)((float)(*(float *)&_XMM8 + *(float *)&_XMM3) + *(float *)&_XMM3);
          v165 = v156;
          v166 = *(float *)(a1 + 0x688);
          v167 = *(double *)&v157 * v166;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v164 + 1);
          *(double *)&v156 = *(double *)&v164 * v166;
          v168 = v156;
          *(double *)&_XMM3 = *(float *)(a1 + 0x680);
          *(double *)&v151 = *(float *)(a1 + 0x684);
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v165 + 1);
          *(double *)&v156 = *(double *)&v165 * *(double *)&v151 - v167;
          v169 = v156;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v168 + 1);
          *(double *)&v156 = *(double *)&v168 - *(double *)&v165 * *(double *)&_XMM3;
          v170 = v156;
          *(double *)&v165 = *(double *)&v157 * *(double *)&_XMM3 - *(double *)&v164 * *(double *)&v151;
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v169 + 1);
          *(double *)&v156 = *(double *)&v169 * *(double *)(a1 + 0x5E0)
                           + *(double *)&v156 * *(double *)(a1 + 0x5E8)
                           + *(double *)&v165 * *(double *)(a1 + 0x5F0);
          _XMM0 = v156;
          __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
          v77 = (float)((float)(*(float *)(a2 + 0x64) - *(float *)&_XMM3) + v281) + *(float *)(a1 + 0x804);
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v170 + 1);
          *(double *)&v156 = *(double *)&v170 * *(double *)(a1 + 0x5D0)
                           + *(double *)&v169 * *(double *)(a1 + 0x5C8)
                           + *(double *)&v165 * *(double *)(a1 + 0x5D8);
          _XMM2 = v156;
          __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
          v78 = (float)((float)(*(float *)(a2 + 0x60) - *(float *)&_XMM3) + v283) + *(float *)(a1 + 0x800);
          *((_QWORD *)&v156 + 1) = *((_QWORD *)&v169 + 1);
          *(double *)&v156 = *(double *)&v169 * *(double *)(a1 + 0x5B0)
                           + *(double *)&v170 * *(double *)(a1 + 0x5B8)
                           + *(double *)&v165 * *(double *)(a1 + 0x5C0);
          _XMM2 = v156;
          __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
          v79 = (float)((float)(*(float *)(a2 + 0x5C) - *(float *)&_XMM3) + v271) + *(float *)(a1 + 0x7FC);
          v76 = (float *)(a2 + 0x44);
        }
        else
        {
          v76 = (float *)(a2 + 0x44);
          *(_QWORD *)(a2 + 0x24) = 0;
          *(_DWORD *)(a2 + 0x20) = 0;
          *(_QWORD *)(a2 + 0x30) = 0;
          *(_DWORD *)(a2 + 0x2C) = 0;
          *(_QWORD *)(a2 + 0x3C) = 0;
          *(_DWORD *)(a2 + 0x38) = 0;
          v77 = 0.0;
          v78 = 0.0;
          v79 = 0.0;
        }
        *v76 = v79;
        v76[1] = v78;
        v76[2] = v77;
        *(_DWORD *)(a2 + 0x80) = *(_DWORD *)(a1 + 0x8B0);
        *(double *)(a2 + 0x68) = *(double *)(a1 + 0x538);
        *(_DWORD *)(a2 + 0x70) = *(_DWORD *)(a1 + 0x540);
        *(_DWORD *)(a2 + 0x8C) = *(_DWORD *)(a1 + 0x4E0);
        value_by_id_1 = *(_DWORD *)(a1 + 0x290);
        if ( value_by_id < value_by_id_1 )
        {
          *(_DWORD *)(a2 + 0x84) = *(_DWORD *)(*(_QWORD *)(a1 + 0x258) + 0x18LL * value_by_id);
          *(_DWORD *)(a2 + 0xA4) = *(_DWORD *)(*(_QWORD *)(a1 + 0x258) + 0x18LL * value_by_id + 4);
        }
        else
        {
          if ( *(int *)(a2 + 0x90) > 1 || *(_DWORD *)(a2 + 0x90) == 1 && *(double *)(a1 + 0x6B8) <= 0.0 )
          {
            sub_146788EF0(a1, 0, value_by_id_1, (Parameter **)Parameter);
            p_Parameter = Parameter;
          }
          _XMM0 = p_Parameter[0x20];
          __asm { vcvtpd2ps xmm0, xmm0 }
          *(float *)(a2 + 0x84) = *(float *)&_XMM0;
        }
        *(_OWORD *)(a2 + 8) = *(_OWORD *)(p_Parameter + 0xF);
        *(double *)(a2 + 0x18) = *((double *)p_Parameter + 0x11);
        *(double *)(a2 + 0x74) = *((double *)p_Parameter + 0x25);
        *(_DWORD *)(a2 + 0x7C) = *((_DWORD *)p_Parameter + 0x4C);
        *(_DWORD *)(a2 + 0xA0) = (*(unsigned __int8 *)(a1 + 0x384) >> 4) & 1;
        *(_DWORD *)(a2 + 0x98) = (*(_DWORD *)(a1 + 0x4A8) >> 0xA) & 1;
        v180 = *(_DWORD *)(a2 + 0x94) == 0;
        *(_DWORD *)(a2 + 0x9C) = (*(_DWORD *)(a1 + 0x4A8) >> 0xB) & 1;
        if ( !v180 )
        {
          v181 = sub_146735E90((Parameter **)p_Parameter, v305);
          *(double *)(a2 + 0xB0) = *v181;
          *(double *)(a2 + 0xB8) = v181[1];
          *(double *)(a2 + 0xC0) = v181[2];
          *(double *)(a2 + 0xC8) = v181[3];
          *(double *)(a2 + 0xD0) = v181[4];
          *(double *)(a2 + 0xD8) = v181[5];
          *(double *)(a2 + 0xE0) = v181[6];
          *(double *)(a2 + 0xE8) = v181[7];
          *(double *)(a2 + 0xF0) = v181[8];
          v182 = sub_146735AF0((Parameter **)p_Parameter, v306);
          *(double *)(a2 + 0x140) = *v182;
          *(double *)(a2 + 0x148) = v182[1];
          *(double *)(a2 + 0x150) = v182[2];
          *(double *)(a2 + 0x158) = v182[3];
          *(double *)(a2 + 0x160) = v182[4];
          *(double *)(a2 + 0x168) = v182[5];
          *(double *)(a2 + 0x170) = v182[6];
          *(double *)(a2 + 0x178) = v182[7];
          *(double *)(a2 + 0x180) = v182[8];
          *(_QWORD *)(a2 + 0xF8) = *p_Parameter;
          *(_QWORD *)(a2 + 0x100) = p_Parameter[1];
          *(_QWORD *)(a2 + 0x108) = p_Parameter[2];
          *(_QWORD *)(a2 + 0x110) = p_Parameter[3];
          *(_QWORD *)(a2 + 0x118) = p_Parameter[4];
          *(_QWORD *)(a2 + 0x120) = p_Parameter[5];
          *(_QWORD *)(a2 + 0x128) = p_Parameter[6];
          *(_QWORD *)(a2 + 0x130) = p_Parameter[7];
          *(_QWORD *)(a2 + 0x138) = p_Parameter[8];
          *(_DWORD *)(a2 + 0x188) = *((_DWORD *)p_Parameter + 0x46);
          *(_DWORD *)(a2 + 0x18C) = *((_DWORD *)p_Parameter + 0x47);
          *(_DWORD *)(a2 + 0x190) = *((_DWORD *)p_Parameter + 0x48);
          *(_DWORD *)(a2 + 0x194) = *((_DWORD *)p_Parameter + 0x49);
          *(_DWORD *)(a2 + 0x198) = *((_DWORD *)p_Parameter + 0x24);
          *(_DWORD *)(a2 + 0x19C) = *((_DWORD *)p_Parameter + 0x25);
          *(_DWORD *)(a2 + 0x1A0) = *((_DWORD *)p_Parameter + 0x26);
          *(_DWORD *)(a2 + 0x1A4) = *((_DWORD *)p_Parameter + 0x27);
          *(_DWORD *)(a2 + 0x1C0) = *(_DWORD *)(a1 + 0x528);
          *(_DWORD *)(a2 + 0x1C4) = *(_DWORD *)(a1 + 0x520);
          *(_DWORD *)(a2 + 0x1C8) = *(_DWORD *)(a1 + 0x534);
          *(_OWORD *)(a2 + 0x1D0) = *(_OWORD *)(a1 + 0x7C0);
          *(double *)(a2 + 0x1E0) = *(double *)(a1 + 0x7D0);
        }
        _StarEngineModule__((ULONG_PTR)Parameter);
        v183 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8D0));
        if ( (v183 & 0x3FF) == 0 && (v183 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8D0), v183);
        return 1;
      case 9:
        v184 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v184 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x8C8),
            v184,
            (__int64)"CRigidEntity::GetStatus",
            (__int64)"m_lockContacts",
            1);
        v185 = 0;
        if ( (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 && *(_QWORD *)(a2 + 8) )
        {
          v186 = *(float *)(a1 + 0x84C);
          v187 = *(float *)(a1 + 0x6CC);
          v188 = *(float *)(a1 + 0x6C8);
          v189 = *(float *)(a1 + 0x848);
          v190 = *(float *)(a1 + 0x850);
          v191 = *(float *)(a1 + 0x6D0);
          v192 = *(float *)(a1 + 0x854);
          v193 = *(float *)(a1 + 0x6D4);
          v194 = (float)(v193 * v192)
               - (float)((float)((float)(v189 * v188) + (float)(v187 * v186)) + (float)(v191 * v190));
          v275 = (float)((float)((float)(v191 * v186) - (float)(v190 * v187)) + (float)(v188 * v192))
               + (float)(v189 * v193);
          v195 = (float)((float)((float)(v190 * v188) - (float)(v191 * v189)) + (float)(v187 * v192))
               + (float)(v186 * v193);
          v196 = (float)((float)((float)(v189 * v187) - (float)(v188 * v186)) + (float)(v191 * v192))
               + (float)(v190 * v193);
          v197 = 1.0 - (float)(v275 * (float)(v275 + v275));
          v198 = v194 * (float)(v275 + v275);
          v199 = (float)(v195 + v195) * v195;
          v200 = v275 * (float)(v195 + v195);
          v201 = v194 * (float)(v195 + v195);
          v202 = v275 * (float)(v196 + v196);
          v203 = (float)(v196 + v196) * v196;
          v204 = (float)(v196 + v196) * v195;
          v279 = (float)((float)(1.0 - v199) - v203);
          v205 = v194 * (float)(v196 + v196);
          v287 = (float)(v200 - v205);
          v272 = (float)(v202 + v201);
          v284 = (float)(v205 + v200);
          v289 = (float)(v197 - v203);
          v282 = (float)(v204 - v198);
          v206 = v204 + v198;
          v207 = *(float *)(a1 + 0x6E0);
          v291 = (float)(v202 - v201);
          v293 = v206;
          v285 = (float)(v197 - v199);
          v208 = *(float *)(a1 + 0x6DC);
          v209 = *(float *)(a1 + 0x6D8);
          v210 = (float)((float)(v207 * v195) - (float)(v208 * v196)) + (float)(v194 * v209);
          v211 = (float)((float)(v209 * v196) - (float)(v275 * v207)) + (float)(v194 * v208);
          v212 = v194 * v207;
          v213 = v293;
          v214 = (float)((float)(v275 * v208) - (float)(v209 * v195)) + v212;
          v215 = (float)(v214 * v195) - (float)(v211 * v196);
          v216 = v210 * v196;
          v217 = v293 * v284;
          v218 = v216 - (float)(v275 * v214);
          v219 = (float)(v275 * v211) - (float)(v210 * v195);
          v276 = *(double *)(a1 + 0x7C0) - (float)((float)(v209 + v215) + v215);
          v220 = v208 + v218;
          v221 = v293 * v279;
          v295 = *(double *)(a1 + 0x7C8) - (float)(v220 + v218);
          v222 = *(double *)(a1 + 0x7D0) - (float)((float)(v207 + v219) + v219);
          v223 = v289 * v279;
          v224 = v287 * v284;
          v225 = v285 * v289 - v293 * v282;
          v226 = v293 * v272 - v285 * v287;
          v227 = v287 * v282 - v289 * v272;
          v228 = v291 * v289;
          v229 = v291 * v287;
          v230 = 1.0 / (v226 * v284 + v225 * v279 + v291 * v227);
          v231 = v230 * v225;
          v232 = v295;
          v294 = v231;
          v300 = v230 * v226;
          v301 = v230 * v227;
          v296 = (v222 * v272 * v289
                + v295 * v285 * v287
                + v282 * v276 * v213
                - (v282 * v222 * v287
                 + v285 * v276 * v289
                 + v295 * v272 * v213))
               * v230;
          v290 = (v291 * v282 - v285 * v284) * v230;
          v288 = (v285 * v279 - v291 * v272) * v230;
          v233 = v276;
          v302 = (v272 * v284 - v282 * v279) * v230;
          v292 = (v276 * v285 * v284
                + v222 * v282 * v279
                + v232 * v272 * v291
                - (v222 * v272 * v284
                 + v232 * v285 * v279
                 + v276 * v282 * v291))
               * v230;
          v286 = (v217 - v228) * v230;
          v280 = (v229 - v221) * v230;
          v277 = (v223 - v224) * v230;
          v234 = 0;
          v235 = *(double **)(a1 + 0x4D0);
          v273 = (v221 * v232 + v228 * v233 + v224 * v222 - (v229 * v232 + v217 * v233 + v223 * v222)) * v230;
          if ( v235 != (double *)(a1 + 0x4D0) )
          {
            v236 = v300;
            v237 = v301;
            v238 = v302;
            v239 = 0;
            do
            {
              if ( v234 >= *(_DWORD *)(a2 + 0x10) )
                break;
              v240 = v235[9];
              v241 = *((unsigned __int64 *)v235 + 8);
              v242 = v235[0xA];
              v243 = *(_QWORD *)(a2 + 8);
              _XMM0 = COERCE_UNSIGNED_INT64(*(double *)&v241 * v294 + v240 * v236 + v242 * v237 + v296);
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              *(float *)(v243 + v239) = *(float *)&_XMM3;
              *((_QWORD *)&v246 + 1) = *((_QWORD *)&v241 + 1);
              *(double *)&v246 = *(double *)&v241 * v290 + v240 * v288 + v242 * v238 + v292;
              _XMM0 = v246;
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              *(float *)(v243 + v239 + 4) = *(float *)&_XMM3;
              *((_QWORD *)&v246 + 1) = *((_QWORD *)&v241 + 1);
              *(double *)&v246 = *(double *)&v241 * v286 + v240 * v280 + v242 * v277 + v273;
              _XMM0 = v246;
              __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
              *(float *)(v243 + v239 + 8) = *(float *)&_XMM3;
              v251 = *(_QWORD *)(a2 + 8);
              *(double *)(v251 + v239 + 0xC) = v235[0xE];
              *(_DWORD *)(v251 + v239 + 0x14) = *((_DWORD *)v235 + 0x1E);
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x40) = *((__int16 *)v235 + 0x3E);
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x44) = *((__int16 *)v235 + 0x3F);
              v252 = *((_QWORD *)v235 + 5);
              v253 = *(_QWORD *)(a2 + 8);
              *(double *)(v253 + v239 + 0x18) = *(double *)(v252 + 0xDC);
              *(_DWORD *)(v253 + v239 + 0x20) = *(_DWORD *)(v252 + 0xE4);
              v254 = *((_QWORD *)v235 + 6);
              v255 = *(_QWORD *)(a2 + 8);
              *(double *)(v255 + v239 + 0x24) = *(double *)(v254 + 0xDC);
              *(_DWORD *)(v255 + v239 + 0x2C) = *(_DWORD *)(v254 + 0xE4);
              _XMM0 = *(unsigned __int64 *)(*((_QWORD *)v235 + 5) + 0x100LL);
              __asm { vcvtpd2ps xmm0, xmm0 }
              *(float *)(*(_QWORD *)(a2 + 8) + v239 + 0x30) = *(float *)&_XMM0;
              _XMM1 = *(unsigned __int64 *)(*((_QWORD *)v235 + 6) + 0x100LL);
              __asm { vcvtpd2ps xmm1, xmm1 }
              *(float *)(*(_QWORD *)(a2 + 8) + v239 + 0x34) = *(float *)&_XMM1;
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x38) = 0;
              ++v234;
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x3C) = sub_146924BE0(
                                                                 *(_QWORD *)(a1 + 0x2C0),
                                                                 *((_QWORD *)v235 + 4));
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x4C) = 0;
              *(_DWORD *)(*(_QWORD *)(a2 + 8) + v239 + 0x48) = 0;
              v239 += 0x50;
              v235 = *(double **)v235;
            }
            while ( v235 != (double *)(a1 + 0x4D0) );
          }
          *(_DWORD *)(a2 + 0x10) = v234;
        }
        LOBYTE(v185) = *(_QWORD *)(a1 + 0x4D0) != a1 + 0x4D0;
        v260 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v260 & 0x3FF) == 0 && (v260 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8C8), v260);
        return v185;
      case 0x13:
        _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x28) - *(double *)(a1 + 0x10));
        __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
        _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x30) - *(double *)(a1 + 0x18));
        __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
        _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x38) - *(double *)(a1 + 0x20));
        __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
        v267 = (float)((float)(*(float *)&_XMM3 + *(float *)&_XMM4) + *(float *)&_XMM2) * 0.1;
        v297[0] = *(float *)&_XMM4;
        v297[1] = *(float *)&_XMM3;
        v297[2] = *(float *)&_XMM2;
        v268 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v268 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x8C8),
            v268,
            (__int64)"CRigidEntity::GetStatus",
            (__int64)"m_lockContacts",
            1);
        v269 = sub_1467B1940(
                 a1,
                 *(double **)(a1 + 0x4D0),
                 0,
                 v267,
                 0,
                 &v299,
                 v303,
                 v297,
                 &v298,
                 (double *)(a2 + 8),
                 (float *)(a2 + 0x20));
        v270 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v270 & 0x3FF) == 0 && (v270 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8C8), v270);
        return v269;
    }
    return 0;
  }
  if ( *(_DWORD *)(a2 + 4) )
  {
    if ( *(int *)(a1 + 0x188) < 0 )
      return 1;
    v5 = 0;
    if ( *(_DWORD *)(a1 + 0x4AC)
       | (*(_DWORD *)(a1 + 0x188) >= *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x84A00LL) - *(_DWORD *)(a2 + 4)) )
    {
      return 1;
    }
  }
  else
  {
    return *(unsigned int *)(a1 + 0x4AC);
  }
  return v5;
}

// --- End Function: sub_1467C8200 (0x1467C8200) ---

// --- Function: sub_1467C9F00 (0x1467C9F00) ---
__int64 __fastcall sub_1467C9F00(__int64 a1, int *a2)
{
  int n0x28; // eax
  unsigned int n0x3F; // eax
  volatile signed __int64 *v7; // rbp
  signed __int64 v8; // rdx
  __int64 v9; // rcx
  float v10; // xmm0_4
  float v11; // xmm1_4
  float v12; // xmm2_4
  __int64 n0x40_2; // rdi
  signed __int64 v14; // rdx
  float *v15; // rsi
  int v16; // eax
  int v17; // eax
  int v18; // eax
  unsigned __int64 v19; // r15
  __int64 n0x40; // rdi
  unsigned int v24; // r12d
  unsigned int v25; // ecx
  float v26; // xmm5_4
  float v27; // xmm6_4
  float v28; // xmm7_4
  float v29; // xmm8_4
  float v30; // xmm9_4
  float v31; // xmm10_4
  float v32; // xmm11_4
  float v33; // xmm12_4
  float v34; // xmm15_4
  float v35; // xmm14_4
  float v36; // xmm13_4
  float v37; // xmm12_4
  float v38; // xmm6_4
  float v39; // xmm7_4
  float v40; // xmm5_4
  float v41; // xmm11_4
  float v42; // xmm9_4
  float v43; // xmm3_4
  float v44; // xmm8_4
  float v45; // xmm0_4
  float v46; // xmm8_4
  float v47; // xmm1_4
  float v48; // xmm10_4
  float v49; // xmm9_4
  double v50; // xmm12_8
  float v51; // xmm7_4
  float v52; // xmm6_4
  float v53; // xmm1_4
  double v54; // xmm15_8
  float v55; // xmm4_4
  float v56; // xmm5_4
  float v57; // xmm2_4
  double v58; // xmm13_8
  float v59; // xmm4_4
  float v60; // xmm6_4
  float v61; // xmm0_4
  double v62; // xmm9_8
  double v63; // xmm14_8
  double v64; // xmm10_8
  double v65; // xmm7_8
  double v66; // xmm6_8
  double v67; // xmm5_8
  double v68; // xmm4_8
  double v69; // xmm11_8
  double v70; // xmm12_8
  double v71; // xmm8_8
  double v72; // kr00_8
  double v73; // xmm4_8
  double v74; // kr00_8
  volatile signed __int64 *v75; // r12
  double v76; // xmm15_8
  int *v77; // r14
  __int64 v78; // rbp
  signed __int64 v79; // rdx
  float v80; // xmm7_4
  __int64 v81; // r10
  float v82; // r8d
  int v83; // eax
  int v84; // r9d
  double v86; // xmm8_8
  unsigned __int64 v87; // rdx
  __int64 v88; // rax
  __int128 v90; // kr00_16
  __int128 v93; // xmm3
  __int128 v94; // xmm1
  __int64 v99; // rax
  int v100; // ebp
  signed __int64 v101; // r13
  __int64 v102; // rax
  float v103; // xmm1_4
  float v104; // xmm1_4
  float v105; // xmm1_4
  float v106; // xmm1_4
  unsigned __int64 v107; // r15
  double v108; // [rsp+30h] [rbp-188h]
  float v109; // [rsp+30h] [rbp-188h]
  double v110; // [rsp+38h] [rbp-180h]
  int v111; // [rsp+38h] [rbp-180h]
  double v112; // [rsp+40h] [rbp-178h]
  int v113; // [rsp+40h] [rbp-178h]
  double v114; // [rsp+48h] [rbp-170h]
  double v115; // [rsp+48h] [rbp-170h]
  double v116; // [rsp+50h] [rbp-168h]
  __int64 v117; // [rsp+50h] [rbp-168h]
  double v118; // [rsp+58h] [rbp-160h]
  double v119; // [rsp+58h] [rbp-160h]
  unsigned int v120; // [rsp+60h] [rbp-158h]
  double v121; // [rsp+68h] [rbp-150h]
  double v122; // [rsp+68h] [rbp-150h]
  double v123; // [rsp+70h] [rbp-148h]
  __int64 n0x40_1; // [rsp+70h] [rbp-148h]
  double v125; // [rsp+78h] [rbp-140h]
  double v126; // [rsp+78h] [rbp-140h]
  double v127; // [rsp+80h] [rbp-138h]
  double v128; // [rsp+80h] [rbp-138h]
  double v129; // [rsp+88h] [rbp-130h]
  __int64 v130; // [rsp+88h] [rbp-130h]
  double v131; // [rsp+90h] [rbp-128h]
  double v132; // [rsp+98h] [rbp-120h]
  double v133; // [rsp+A0h] [rbp-118h]
  double v134; // [rsp+A8h] [rbp-110h]
  double v135; // [rsp+B0h] [rbp-108h]
  double v136; // [rsp+B8h] [rbp-100h]
  double v137; // [rsp+D0h] [rbp-E8h]
  unsigned int v138; // [rsp+1C8h] [rbp+10h]
  float v139; // [rsp+1D0h] [rbp+18h]
  double v140; // [rsp+1D0h] [rbp+18h]
  int v141; // [rsp+1D0h] [rbp+18h]
  int v142; // [rsp+1D8h] [rbp+20h]

  n0x28 = *a2;
  if ( *a2 == 0x26 )
  {
    a2[2] = *(_DWORD *)(a1 + 0xADC);
    a2[1] = *(_DWORD *)(a1 + 0xAF0);
    a2[7] = *(_DWORD *)(a1 + 0xB1C);
    a2[3] = *(_DWORD *)(a1 + 0xAE0);
    a2[4] = *(_DWORD *)(a1 + 0xAE4);
    a2[5] = *(_DWORD *)(a1 + 0xAE8);
    a2[6] = *(_DWORD *)(a1 + 0xAEC);
    return 1;
  }
  if ( n0x28 != 0x1C )
  {
    if ( n0x28 == 0x28 )
    {
      _XMM1 = *(unsigned __int64 *)(a1 + 0x6D50);
      __asm
      {
        vmaxsd  xmm0, xmm1, xmm0
        vcvtsd2ss xmm1, xmm0, xmm0
      }
      a2[1] = _XMM1;
      return 1;
    }
    n0x40 = 0;
    v142 = 0;
    if ( n0x28 == 9 && *((_QWORD *)a2 + 1) )
      v142 = a2[4];
    v24 = sub_1467C8200();
    v120 = v24;
    if ( *a2 != 9 )
    {
      if ( *a2 == 8 )
      {
        v100 = a2[0x23];
        v101 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x6D58));
        if ( (v101 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x6D58),
            v101,
            (__int64)"CSpaceshipEntity::GetStatus",
            (__int64)"m_lockSpaceship",
            1);
        v102 = a1 + 0xB84;
        do
        {
          v103 = *(float *)(v102 - 0x44);
          if ( v103 < 0.0 )
            break;
          if ( *(_DWORD *)v102 && (v103 > *(float *)(v102 - 0x48) || *(_QWORD *)(v102 + 0xC)) )
            ++v100;
          v104 = *(float *)(v102 + 0x144);
          if ( v104 < 0.0 )
            break;
          if ( *(_DWORD *)(v102 + 0x188) && (v104 > *(float *)(v102 + 0x140) || *(_QWORD *)(v102 + 0x194)) )
            ++v100;
          v105 = *(float *)(v102 + 0x2CC);
          if ( v105 < 0.0 )
            break;
          if ( *(_DWORD *)(v102 + 0x310) && (v105 > *(float *)(v102 + 0x2C8) || *(_QWORD *)(v102 + 0x31C)) )
            ++v100;
          v106 = *(float *)(v102 + 0x454);
          if ( v106 < 0.0 )
            break;
          if ( *(_DWORD *)(v102 + 0x498) && (v106 > *(float *)(v102 + 0x450) || *(_QWORD *)(v102 + 0x4A4)) )
            ++v100;
          n0x40 += 4;
          v102 += 0x620;
        }
        while ( n0x40 < 0x40 );
        v107 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x6D58));
        if ( (v107 & 0x3FF) == 0 && (v107 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x6D58), v107);
        a2[0x23] = v100;
      }
      return v24;
    }
    v25 = 0;
    v138 = 0;
    if ( (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 )
    {
      v26 = *(float *)(a1 + 0x848);
      v27 = *(float *)(a1 + 0x6C8);
      v28 = *(float *)(a1 + 0x6D0);
      v29 = *(float *)(a1 + 0x6CC);
      v30 = *(float *)(a1 + 0x84C);
      v31 = *(float *)(a1 + 0x850);
      v32 = *(float *)(a1 + 0x854);
      v33 = *(float *)(a1 + 0x6D4);
      v34 = (float)(v33 * v32) - (float)((float)((float)(v27 * v26) + (float)(v29 * v30)) + (float)(v28 * v31));
      v139 = (float)((float)((float)(v28 * v30) - (float)(v31 * v29)) + (float)(v27 * v32)) + (float)(v26 * v33);
      v35 = (float)((float)((float)(v31 * v27) - (float)(v28 * v26)) + (float)(v29 * v32)) + (float)(v30 * v33);
      v36 = (float)((float)((float)(v26 * v29) - (float)(v27 * v30)) + (float)(v28 * v32)) + (float)(v31 * v33);
      v37 = 1.0 - (float)((float)(v139 + v139) * v139);
      v38 = (float)(v35 + v35) * v139;
      v39 = (float)(v36 + v36) * v139;
      v40 = (float)(v36 + v36) * v36;
      v41 = (float)(v35 + v35) * v35;
      v110 = (float)((float)(1.0 - v41) - v40);
      v42 = (float)(v36 + v36) * v35;
      v43 = (float)(v36 + v36) * v34;
      v44 = (float)(v35 + v35) * v34;
      v121 = (float)(v38 - v43);
      v112 = (float)(v39 + v44);
      v114 = (float)(v43 + v38);
      v108 = (float)(v42 - (float)((float)(v139 + v139) * v34));
      v125 = (float)(v37 - v40);
      v45 = v39 - v44;
      v46 = *(float *)(a1 + 0x6D8);
      v116 = v45;
      v47 = v42 + (float)((float)(v139 + v139) * v34);
      v48 = *(float *)(a1 + 0x6E0);
      v49 = *(float *)(a1 + 0x6DC);
      v127 = v47;
      v50 = (float)(v37 - v41);
      v51 = (float)((float)(v35 * v48) - (float)(v36 * v49)) + (float)(v46 * v34);
      v52 = (float)((float)(v36 * v46) - (float)(v139 * v48)) + (float)(v49 * v34);
      v53 = v48 * v34;
      v54 = v127;
      v55 = (float)((float)(v139 * v49) - (float)(v35 * v46)) + v53;
      v56 = (float)(v55 * v35) - (float)(v52 * v36);
      v57 = v51 * v36;
      v58 = v127 * v114;
      v59 = v57 - (float)(v55 * v139);
      v60 = (float)(v52 * v139) - (float)(v51 * v35);
      v123 = *(double *)(a1 + 0x7C0) - (float)((float)(v56 + v46) + v56);
      v61 = v59 + v49;
      v62 = v127 * v110;
      v140 = *(double *)(a1 + 0x7C8) - (float)(v61 + v59);
      v63 = *(double *)(a1 + 0x7D0) - (float)((float)(v60 + v48) + v60);
      v64 = v125 * v110;
      v65 = v121 * v114;
      v66 = v50 * v125 - v127 * v108;
      v67 = v127 * v112 - v50 * v121;
      v68 = v121 * v108 - v125 * v112;
      v69 = v116 * v125;
      v118 = v50;
      v70 = v116 * v121;
      v72 = 1.0 / (v67 * v114 + v66 * v110 + v68 * v116);
      v71 = v72;
      v128 = v72 * v66;
      v131 = v72 * v67;
      v132 = v72 * v68;
      v126 = (v140 * v118 * v121
            + v63 * v112 * v125
            + v123 * v108 * v54
            - (v123 * v118 * v125
             + v63 * v108 * v121
             + v140 * v112 * v54))
           * v72;
      v122 = (v116 * v108 - v118 * v114) * v72;
      v129 = (v118 * v110 - v116 * v112) * v72;
      v133 = (v112 * v114 - v108 * v110) * v72;
      v119 = (v123 * v118 * v114
            + v63 * v108 * v110
            + v140 * v112 * v116
            - (v63 * v112 * v114
             + v140 * v118 * v110
             + v123 * v108 * v116))
           * v72;
      v134 = (v58 - v69) * v72;
      v115 = (v70 - v62) * v72;
      v135 = (v64 - v65) * v72;
      v73 = v62 * v140 + v69 * v123 + v65 * v63;
      v74 = v70 * v140;
      v75 = (volatile signed __int64 *)(a1 + 0x6D58);
      v76 = v129;
      v141 = a2[4];
      v136 = (v73 - (v74 + v58 * v123 + v64 * v63)) * v71;
      v117 = v141;
      v77 = (int *)(a1 + 0xB84);
      n0x40_1 = 0;
      v78 = 0x50LL * v141;
      do
      {
        v79 = _InterlockedIncrement64(v75);
        if ( (v79 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(a1 + 0x6D58),
            v79,
            (__int64)"CSpaceshipEntity::GetStatus",
            (__int64)"m_lockSpaceship",
            1);
        v80 = *((float *)v77 + 0xFFFFFFEF);
        v81 = *(_QWORD *)(v77 + 3);
        v83 = 0;
        v82 = *(float *)v77;
        LOBYTE(v83) = v80 > *((float *)v77 + 0xFFFFFFEE);
        v84 = v77[0xFFFFFFFD];
        _XMM6 = *(_OWORD *)(v77 + 0xFFFFFFF5);
        v86 = *(double *)(v77 + 0xFFFFFFFB);
        v113 = (unsigned __int8)v83;
        v109 = *(float *)v77;
        v137 = *(double *)(v77 + 0xFFFFFFF9);
        v111 = v84;
        v130 = v81;
        v87 = _InterlockedDecrement64(v75);
        if ( (v87 & 0x3FF) == 0 && (v87 & 0xFFFF0000FFC00000uLL) != 0 )
        {
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x6D58), v87);
          v83 = v113;
          v82 = v109;
          v84 = v111;
          v81 = v130;
        }
        if ( v80 < 0.0 )
          break;
        if ( v82 != 0.0 )
        {
          if ( v83 )
          {
            ++v138;
            v88 = *((_QWORD *)a2 + 1);
            if ( v88 )
            {
              if ( v117 < v142 )
              {
                __asm { vunpckhpd xmm5, xmm6, xmm6 }
                *((_QWORD *)&v90 + 1) = *((_QWORD *)&_XMM5 + 1);
                *(double *)&v90 = *(double *)&_XMM5 * v131 + *(double *)&_XMM6 * v128 + v137 * v132 + v126;
                _XMM2 = v90;
                __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
                *(float *)(v88 + v78) = *(float *)&_XMM3;
                *((_QWORD *)&v90 + 1) = *((_QWORD *)&_XMM5 + 1);
                *(double *)&v90 = *(double *)&_XMM5 * v76 + *(double *)&_XMM6 * v122;
                v93 = v90;
                *((_QWORD *)&v90 + 1) = *((_QWORD *)&_XMM5 + 1);
                *(double *)&v90 = *(double *)&_XMM5 * v115;
                v94 = v90;
                *((_QWORD *)&v90 + 1) = *((_QWORD *)&v93 + 1);
                *(double *)&v90 = *(double *)&v93 + v137 * v133 + v119;
                _XMM0 = v90;
                __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
                *(float *)(v88 + v78 + 4) = *(float *)&_XMM3;
                *((_QWORD *)&v90 + 1) = *((_QWORD *)&v94 + 1);
                *(double *)&v90 = *(double *)&v94 + *(double *)&_XMM6 * v134 + v137 * v135 + v136;
                _XMM0 = v90;
                __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
                *(float *)(v88 + v78 + 8) = *(float *)&_XMM3;
                v99 = *((_QWORD *)a2 + 1);
                *(double *)(v99 + v78 + 0xC) = v86;
                *(_DWORD *)(v99 + v78 + 0x14) = v84;
                *(_DWORD *)(*((_QWORD *)a2 + 1) + v78 + 0x38) = 0;
                ++v141;
                ++v117;
                *(_DWORD *)(*((_QWORD *)a2 + 1) + v78 + 0x3C) = sub_146924BE0(*(_QWORD *)(a1 + 0x2C0), v81);
                *(_DWORD *)(*((_QWORD *)a2 + 1) + v78 + 0x4C) = 0;
                *(_DWORD *)(*((_QWORD *)a2 + 1) + v78 + 0x48) = 0;
                v78 += 0x50;
              }
            }
          }
        }
        v77 += 0x62;
        ++n0x40_1;
      }
      while ( n0x40_1 < 0x40 );
      v25 = v138;
      v24 = v120;
      if ( !*((_QWORD *)a2 + 1) )
        goto LABEL_50;
      a2[4] = v141;
    }
    if ( *((_QWORD *)a2 + 1) )
      return (unsigned int)a2[4];
LABEL_50:
    if ( v25 )
      return v25;
    return v24;
  }
  n0x3F = a2[1];
  if ( n0x3F == 0x80000000 )
  {
    if ( a2[2] == 0x80000000 )
    {
      n0x40_2 = 0;
      v7 = (volatile signed __int64 *)(a1 + 0x6D58);
      a2[2] = 0;
      v14 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x6D58));
      if ( (v14 & 0x200000) != 0 )
        sub_1403CD0A0(
          (volatile signed __int64 *)(a1 + 0x6D58),
          v14,
          (__int64)"CSpaceshipEntity::GetStatus",
          (__int64)"m_lockSpaceship",
          1);
      v15 = (float *)(a1 + 0xCC8);
      do
      {
        if ( v15[0xFFFFFF9E] < 0.0 )
          break;
        v16 = a2[2] + 1;
        a2[2] = v16;
        if ( *v15 < 0.0 )
          break;
        v17 = v16 + 1;
        a2[2] = v17;
        if ( v15[0x62] < 0.0 )
          break;
        v18 = v17 + 1;
        a2[2] = v18;
        if ( v15[0xC4] < 0.0 )
          break;
        n0x40_2 += 4;
        v15 += 0x188;
        a2[2] = v18 + 1;
      }
      while ( n0x40_2 < 0x40 );
      goto LABEL_21;
    }
    return 0;
  }
  if ( n0x3F > 0x3F )
    return 0;
  v7 = (volatile signed __int64 *)(a1 + 0x6D58);
  v8 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x6D58));
  if ( (v8 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x6D58),
      v8,
      (__int64)"CSpaceshipEntity::GetStatus",
      (__int64)"m_lockSpaceship",
      1);
  v9 = 0x188LL * a2[1];
  a2[0xA] = *(float *)(v9 + a1 + 0xB3C) < *(float *)(v9 + a1 + 0xB40);
  a2[0xB] = *(_DWORD *)(v9 + a1 + 0xB84);
  a2[0xC] = (int)(*(_DWORD *)(v9 + a1 + 0xB88) << 0x1F) >> 0x1F;
  *(_OWORD *)(a2 + 0xE) = *(_OWORD *)(v9 + a1 + 0xB58);
  *((double *)a2 + 9) = *(double *)(v9 + a1 + 0xB68);
  *((double *)a2 + 0xA) = *(double *)(v9 + a1 + 0xB70);
  a2[0x16] = *(_DWORD *)(v9 + a1 + 0xB78);
  a2[0x17] = *(_DWORD *)(v9 + a1 + 0xB7C);
  a2[0x18] = *(_DWORD *)(v9 + a1 + 0xB3C);
  v10 = *(float *)(v9 + a1 + 0xB40);
  v11 = *(float *)(v9 + a1 + 0xB44);
  if ( v10 == v11 )
    v12 = 1.0;
  else
    v12 = v10 - v11;
  *((float *)a2 + 0x19) = 1.0 - (float)((float)(*(float *)(v9 + a1 + 0xB3C) - v11) / v12);
  *((_QWORD *)a2 + 0xD) = *(_QWORD *)(v9 + a1 + 0xB90);
  *(double *)(a2 + 3) = *(double *)(v9 + a1 + 0xB20);
  a2[5] = *(_DWORD *)(v9 + a1 + 0xB28);
  a2[6] = *(_DWORD *)(v9 + a1 + 0xB2C);
  a2[7] = *(_DWORD *)(v9 + a1 + 0xB30);
  a2[8] = *(_DWORD *)(v9 + a1 + 0xB34);
  a2[9] = *(_DWORD *)(v9 + a1 + 0xB38);
LABEL_21:
  v19 = _InterlockedDecrement64(v7);
  if ( (v19 & 0x3FF) == 0 && (v19 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v7, v19);
  return 1;
}

// --- End Function: sub_1467C9F00 (0x1467C9F00) ---

// --- Function: sub_1467CBFA0 (0x1467CBFA0) ---
double *__fastcall sub_1467CBFA0(__int64 a1, double *a2)
{
  float v2; // xmm4_4
  float v3; // xmm6_4
  float v4; // xmm3_4
  float v5; // xmm7_4
  float v6; // xmm11_4
  float v7; // xmm4_4
  float v8; // xmm9_4
  float v9; // xmm5_4
  float v10; // xmm10_4
  float v11; // xmm0_4
  float v12; // xmm8_4
  float v13; // xmm1_4
  float v14; // xmm6_4
  float v15; // xmm2_4
  float v16; // xmm3_4
  float v17; // xmm0_4
  float v18; // xmm1_4
  float v19; // xmm0_4
  float v20; // xmm6_4
  float v21; // xmm2_4
  float v22; // xmm11_4
  float v23; // xmm0_4
  float v24; // xmm9_4
  float v25; // xmm7_4
  float v26; // xmm10_4
  float v27; // xmm5_4
  float v28; // xmm8_4
  float v29; // xmm3_4
  float v30; // xmm1_4
  float v31; // xmm4_4
  float v32; // xmm2_4
  float v33; // xmm6_4
  float v34; // xmm15_4
  float v35; // xmm14_4
  float v36; // xmm0_4
  __m128 v37; // xmm1
  float v38; // xmm0_4
  float v39; // xmm8_4
  float v40; // xmm9_4
  float v41; // xmm0_4
  float v42; // xmm10_4
  float v43; // xmm11_4
  float v44; // xmm13_4
  __m128 v45; // kr00_16
  __m128 v46; // xmm5
  float v47; // xmm4_4
  float v48; // xmm12_4
  float v49; // xmm7_4
  float v50; // xmm4_4
  float v51; // xmm6_4
  float v52; // xmm0_4
  float v53; // xmm3_4
  float v54; // xmm10_4
  float v55; // xmm8_4
  double v56; // xmm7_8
  float v57; // xmm6_4
  float v58; // xmm8_4
  float v59; // xmm9_4
  float v60; // xmm6_4
  float v61; // xmm10_4
  float v62; // xmm4_4
  float v63; // xmm12_4
  float v64; // xmm11_4
  float v65; // xmm13_4
  float v66; // xmm14_4
  float v67; // xmm15_4
  float v68; // xmm4_4
  float v69; // xmm8_4
  float v70; // xmm3_4
  double v71; // xmm6_8
  float v72; // xmm9_4
  float v73; // xmm10_4
  float v74; // xmm4_4
  __int128 v75; // xmm11
  __int128 v76; // xmm13
  float v77; // xmm12_4
  float v78; // xmm14_4
  float v79; // xmm15_4
  __int128 v80; // xmm3
  __int128 v81; // kr00_16
  __int128 v82; // kr00_16
  __int128 v83; // xmm8
  __int128 v84; // kr00_16
  __int128 v85; // xmm5
  __int128 v86; // kr00_16
  __int128 v87; // xmm6
  __int128 v88; // xmm3
  __int128 v89; // kr00_16
  double v90; // xmm7_8
  __int128 v91; // xmm2
  __int128 v92; // kr00_16
  __int128 v93; // xmm8
  __int128 v94; // kr00_16
  __int128 v95; // xmm9
  __int128 v96; // kr00_16
  float v103; // xmm10_4
  float v104; // xmm4_4
  float v105; // xmm12_4
  float v106; // xmm14_4
  float v107; // xmm15_4
  float v108; // xmm4_4
  float v109; // xmm0_4
  float v110; // xmm0_4
  float v111; // xmm10_4
  double *result; // rax
  __int128 v114; // xmm4
  __int128 v116; // xmm2
  __int128 v117; // kr00_16
  float v122; // [rsp+0h] [rbp-F8h]
  int v123; // [rsp+4h] [rbp-F4h]
  float v124; // [rsp+8h] [rbp-F0h]
  float v125; // [rsp+Ch] [rbp-ECh]
  int v126; // [rsp+10h] [rbp-E8h]
  float v127; // [rsp+14h] [rbp-E4h]
  float v128; // [rsp+18h] [rbp-E0h]
  float v129; // [rsp+1Ch] [rbp-DCh]
  float v130; // [rsp+20h] [rbp-D8h]
  float v131; // [rsp+24h] [rbp-D4h]
  int v132; // [rsp+28h] [rbp-D0h]
  float v133; // [rsp+2Ch] [rbp-CCh]
  int v134; // [rsp+30h] [rbp-C8h]
  float v135; // [rsp+34h] [rbp-C4h]
  int v136; // [rsp+38h] [rbp-C0h]
  double v137; // [rsp+40h] [rbp-B8h]
  float v138; // [rsp+100h] [rbp+8h]
  float v139; // [rsp+100h] [rbp+8h]
  float v140; // [rsp+108h] [rbp+10h]
  float v141; // [rsp+110h] [rbp+18h]
  float v142; // [rsp+118h] [rbp+20h]

  v2 = *(float *)(a1 + 0x1E0);
  v3 = *(float *)(a1 + 0x1DC);
  v4 = v2 + v2;
  v5 = (float)(v2 + v2) * v3;
  v6 = *(float *)(a1 + 0x1D8);
  v7 = (float)(v2 + v2) * v2;
  v8 = (float)(v3 + v3) * v3;
  v9 = (float)(v3 + v3) * v6;
  v10 = 1.0 - (float)((float)(v6 + v6) * v6);
  v11 = *(float *)(a1 + 0x1E4);
  v12 = (float)(v6 + v6) * v11;
  v13 = v4 * v11;
  v14 = (float)(v3 + v3) * v11;
  v15 = v4 * v6;
  v16 = *(float *)(a1 + 0x9B4);
  v140 = fabs((float)(1.0 - v8) - v7);
  v138 = fabs(v9 - v13);
  v141 = fabs(v15 + v14);
  v17 = v13 + v9;
  v18 = *(float *)(a1 + 0x9B8);
  v123 = LODWORD(v17) & 0x7FFFFFFF;
  v142 = fabs(v10 - v7);
  v124 = fabs(v5 - v12);
  v19 = v15 - v14;
  v20 = *(float *)(a1 + 0x9B0);
  v126 = LODWORD(v19) & 0x7FFFFFFF;
  v125 = fabs(v5 + v12);
  v127 = fabs(v10 - v8);
  v21 = v18 + v18;
  v22 = 1.0 - (float)((float)(v20 + v20) * v20);
  v23 = *(float *)(a1 + 0x9BC);
  v24 = (float)(v20 + v20) * v23;
  v25 = (float)(v16 + v16) * v23;
  v26 = (float)(v16 + v16) * v16;
  v27 = (float)(v16 + v16) * v20;
  v28 = (float)(v18 + v18) * v16;
  v29 = (float)(v18 + v18) * v18;
  v30 = (float)(v18 + v18) * v23;
  v129 = fabs((float)(1.0 - v26) - v29);
  v128 = fabs(v27 - v30);
  v31 = v21 * v20;
  v32 = *(float *)(a1 + 0x520);
  v33 = *(float *)(a1 + 0x1D8);
  v34 = *(float *)(a1 + 0x1F8);
  v35 = *(float *)(a1 + 0x1FC);
  v130 = fabs(v31 + v25);
  v36 = v30 + v27;
  v37 = (__m128)*(unsigned __int64 *)(a1 + 0x9C0);
  v132 = LODWORD(v36) & 0x7FFFFFFF;
  v131 = fabs(v22 - v29);
  v133 = fabs(v28 - v24);
  v135 = fabs(v31 - v25);
  v38 = v28 + v24;
  v39 = *(float *)(a1 + 0x1E0);
  v40 = *(float *)(a1 + 0x1E8);
  v134 = LODWORD(v38) & 0x7FFFFFFF;
  v41 = v22 - v26;
  v42 = *(float *)(a1 + 0x1DC);
  v43 = *(float *)(a1 + 0x1EC);
  v44 = *(float *)(a1 + 0x1F0);
  v136 = LODWORD(v41) & 0x7FFFFFFF;
  v45 = _mm_shuffle_ps(v37, v37, 0x55);
  v45.m128_f32[0] = (float)((float)((float)(v45.m128_f32[0] * v32) * (float)(v45.m128_f32[0] * v32))
                          + (float)((float)(v37.m128_f32[0] * v32) * (float)(v37.m128_f32[0] * v32)))
                  + (float)((float)(v32 * *(float *)(a1 + 0x9C8)) * (float)(v32 * *(float *)(a1 + 0x9C8)));
  v46 = _mm_sqrt_ps(_mm_shuffle_ps(v45, v45, 0));
  v47 = *(float *)(a1 + 0x1E4);
  v48 = (float)((float)((float)(*(_DWORD *)(a1 + 0x188) >> 0x1F) * *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x13CLL)) * 4.0)
      + _mm_shuffle_ps(v46, v46, 0xFF).m128_f32[0];
  v49 = (float)((float)(v44 * v42) - (float)(v43 * v39)) + (float)(v40 * v47);
  v46.m128_f32[0] = (float)((float)(v40 * v39) - (float)(v44 * v33)) + (float)(v43 * v47);
  v50 = (float)((float)(v43 * v33) - (float)(v40 * v42)) + (float)(v44 * v47);
  v51 = (float)(v50 * v42) - (float)(v46.m128_f32[0] * v39);
  v52 = *(float *)(a1 + 0x1D8);
  v53 = v46.m128_f32[0] * v52;
  v46.m128_u64[0] = *(_QWORD *)(a1 + 0x1C8);
  v54 = v53 - (float)(v49 * v42);
  v55 = (float)(v49 * v39) - (float)(v50 * v52);
  v56 = *(double *)(a1 + 0x1D0);
  v37.m128_f32[0] = (float)(v51 + v40) + v51;
  v57 = *(float *)(a1 + 0x1F4);
  v137 = v48;
  *a2 = v37.m128_f32[0]
      + *(double *)(a1 + 0x1C0)
      - (float)((float)((float)(v34 * v138) + (float)(v57 * v140)) + (float)(v35 * v141))
      - v48;
  a2[1] = (float)((float)(v55 + v43) + v55)
        + *(double *)v46.m128_u64
        - (float)((float)((float)(v34 * v142) + (float)(v57 * *(float *)&v123)) + (float)(v35 * v124))
        - v48;
  a2[2] = (float)((float)(v54 + v44) + v54)
        + v56
        - (float)((float)((float)(v34 * v125) + (float)(v57 * *(float *)&v126)) + (float)(v35 * v127))
        - v48;
  v58 = *(float *)(a1 + 0x1F0);
  v59 = *(float *)(a1 + 0x1E0);
  v60 = *(float *)(a1 + 0x1D8);
  v61 = *(float *)(a1 + 0x1DC);
  v62 = *(float *)(a1 + 0x1E4);
  v63 = *(float *)(a1 + 0x1EC);
  v64 = *(float *)(a1 + 0x1E8);
  v65 = *(float *)(a1 + 0x1F8);
  v66 = *(float *)(a1 + 0x1F4);
  v67 = *(float *)(a1 + 0x1FC);
  *(float *)&v56 = (float)((float)(v58 * v61) - (float)(v63 * v59)) + (float)(v64 * v62);
  v46.m128_f32[0] = (float)((float)(v64 * v59) - (float)(v60 * v58)) + (float)(v62 * v63);
  v68 = (float)((float)(v60 * v63) - (float)(v64 * v61)) + (float)(v62 * v58);
  v37.m128_f32[0] = v68 * v60;
  v122 = v58;
  v69 = (float)(v68 * v61) - (float)(v46.m128_f32[0] * v59);
  v70 = v46.m128_f32[0] * v60;
  v46.m128_u64[0] = *(_QWORD *)(a1 + 0x1C8);
  v71 = *(double *)(a1 + 0x1D0);
  a2[3] = (float)((float)((float)(v65 * v138) + (float)(v66 * v140)) + (float)(v67 * v141))
        + v137
        + (float)((float)(v69 + v64) + v69)
        + *(double *)(a1 + 0x1C0);
  a2[4] = (float)((float)((float)(v65 * v142) + (float)(v66 * *(float *)&v123)) + (float)(v67 * v124))
        + v137
        + (float)((float)((float)((float)(*(float *)&v56 * v59) - v37.m128_f32[0]) + v63)
                + (float)((float)(*(float *)&v56 * v59) - v37.m128_f32[0]))
        + *(double *)v46.m128_u64;
  a2[5] = (float)((float)((float)(v65 * v125) + (float)(v66 * *(float *)&v126)) + (float)(v67 * v127))
        + v137
        + (float)((float)((float)(v70 - (float)(*(float *)&v56 * v61)) + v122)
                + (float)(v70 - (float)(*(float *)&v56 * v61)))
        + v71;
  v72 = *(float *)(a1 + 0x9B8);
  LODWORD(v56) = *(_DWORD *)(a1 + 0x9B0);
  v73 = *(float *)(a1 + 0x9B4);
  v74 = *(float *)(a1 + 0x9BC);
  v75 = *(unsigned int *)(a1 + 0x1E8);
  v76 = *(unsigned int *)(a1 + 0x1F0);
  v77 = *(float *)(a1 + 0x1EC);
  v78 = *(float *)(a1 + 0x1F8);
  v79 = *(float *)(a1 + 0x1F4);
  v81 = v75;
  *(float *)&v81 = *(float *)&v75 * v72;
  v80 = v81;
  v82 = v76;
  *(float *)&v82 = (float)((float)(*(float *)&v76 * v73) - (float)(v77 * v72)) + (float)(*(float *)&v75 * v74);
  v83 = v82;
  v84 = v80;
  *(float *)&v84 = (float)(*(float *)&v80 - (float)(*(float *)&v56 * *(float *)&v76)) + (float)(v74 * v77);
  v85 = v84;
  v86 = LODWORD(v56);
  *(float *)&v86 = (float)((float)(*(float *)&v56 * v77) - (float)(*(float *)&v75 * v73))
                 + (float)(v74 * *(float *)&v76);
  v37.m128_f32[0] = *(float *)&v86 * *(float *)&v56;
  *(float *)&v86 = (float)(*(float *)&v86 * v73) - (float)(*(float *)&v85 * v72);
  v87 = v86;
  v89 = v85;
  *(float *)&v89 = *(float *)&v85 * *(float *)&v56;
  v88 = v89;
  *(_QWORD *)&v85 = *(_QWORD *)(a1 + 0x9A0);
  v90 = *(double *)(a1 + 0x9A8);
  v92 = v83;
  *(float *)&v92 = *(float *)&v83 * v72;
  v91 = v92;
  v94 = v88;
  *(float *)&v94 = *(float *)&v88 - (float)(*(float *)&v83 * v73);
  v93 = v94;
  v96 = v91;
  *(float *)&v96 = *(float *)&v91 - v37.m128_f32[0];
  v95 = v96;
  *((_QWORD *)&v96 + 1) = *((_QWORD *)&v87 + 1);
  *(double *)&v96 = (float)((float)(*(float *)&v87 + *(float *)&v75) + *(float *)&v87) + *(double *)(a1 + 0x998);
  LODWORD(v87) = *(_DWORD *)(a1 + 0x1FC);
  *(double *)&v96 = *(double *)&v96
                  - (float)((float)((float)(v78 * v128) + (float)(v79 * v129)) + (float)(*(float *)&v87 * v130))
                  - v137;
  _XMM1 = v96;
  __asm { vminsd  xmm2, xmm1, qword ptr [rdx] }
  *a2 = *(double *)&_XMM2;
  *((_QWORD *)&v96 + 1) = *((_QWORD *)&v95 + 1);
  *(double *)&v96 = (float)((float)(*(float *)&v95 + v77) + *(float *)&v95)
                  + *(double *)&v85
                  - (float)((float)((float)(v78 * v131) + (float)(v79 * *(float *)&v132))
                          + (float)(*(float *)&v87 * v133))
                  - v137;
  _XMM1 = v96;
  __asm { vminsd  xmm2, xmm1, qword ptr [rdx+8] }
  a2[1] = *(double *)&_XMM2;
  *((_QWORD *)&v96 + 1) = *((_QWORD *)&v93 + 1);
  *(double *)&v96 = (float)((float)(*(float *)&v93 + *(float *)&v76) + *(float *)&v93)
                  + v90
                  - (float)((float)((float)(v78 * *(float *)&v134) + (float)(v79 * v135))
                          + (float)(*(float *)&v87 * *(float *)&v136))
                  - v137;
  _XMM1 = v96;
  __asm { vminsd  xmm2, xmm1, qword ptr [rdx+10h] }
  a2[2] = *(double *)&_XMM2;
  v103 = *(float *)(a1 + 0x9B4);
  LODWORD(v90) = *(_DWORD *)(a1 + 0x1F0);
  LODWORD(v95) = *(_DWORD *)(a1 + 0x9B8);
  v104 = *(float *)(a1 + 0x9BC);
  LODWORD(v87) = *(_DWORD *)(a1 + 0x9B0);
  v105 = *(float *)(a1 + 0x1EC);
  LODWORD(v75) = *(_DWORD *)(a1 + 0x1E8);
  LODWORD(v76) = *(_DWORD *)(a1 + 0x1F8);
  v106 = *(float *)(a1 + 0x1F4);
  v107 = *(float *)(a1 + 0x1FC);
  *(float *)&v93 = (float)((float)(*(float *)&v90 * v103) - (float)(v105 * *(float *)&v95))
                 + (float)(*(float *)&v75 * v104);
  *(float *)&v85 = (float)((float)(*(float *)&v75 * *(float *)&v95) - (float)(*(float *)&v87 * *(float *)&v90))
                 + (float)(v104 * v105);
  v108 = (float)((float)(*(float *)&v87 * v105) - (float)(*(float *)&v75 * v103)) + (float)(v104 * *(float *)&v90);
  v109 = *(float *)&v85 * *(float *)&v95;
  *(float *)&v95 = (float)(*(float *)&v93 * *(float *)&v95) - (float)(v108 * *(float *)&v87);
  *((_QWORD *)&v96 + 1) = 0;
  v139 = *(float *)&v90;
  *(float *)&v90 = (float)(v108 * v103) - v109;
  v110 = *(float *)&v93 * v103;
  *(_QWORD *)&v93 = *(_QWORD *)(a1 + 0x9A8);
  v111 = (float)(*(float *)&v85 * *(float *)&v87) - v110;
  result = a2;
  *(double *)&v96 = (float)((float)((float)(*(float *)&v76 * v128) + (float)(v106 * v129)) + (float)(v107 * v130))
                  + v137
                  + (float)((float)(*(float *)&v90 + *(float *)&v75) + *(float *)&v90)
                  + *(double *)(a1 + 0x998);
  _XMM6 = v96;
  *((_QWORD *)&v96 + 1) = 0;
  *(double *)&v96 = (float)((float)((float)(*(float *)&v76 * v131) + (float)(v106 * *(float *)&v132))
                          + (float)(v107 * v133))
                  + v137;
  v114 = v96;
  *(double *)&v88 = (float)((float)(*(float *)&v95 + v105) + *(float *)&v95) + *(double *)(a1 + 0x9A0);
  __asm { vmaxsd  xmm0, xmm6, qword ptr [rdx+18h] }
  v117 = (unsigned int)v76;
  *(float *)&v117 = *(float *)&v76 * *(float *)&v134;
  v116 = v117;
  a2[3] = *(double *)&_XMM0;
  *((_QWORD *)&v117 + 1) = *((_QWORD *)&v114 + 1);
  *(double *)&v117 = *(double *)&v114 + *(double *)&v88;
  _XMM5 = v117;
  __asm { vmaxsd  xmm1, xmm5, qword ptr [rdx+20h] }
  a2[4] = *(double *)&_XMM1;
  *((_QWORD *)&v117 + 1) = *((_QWORD *)&v116 + 1);
  *(double *)&v117 = (float)((float)(*(float *)&v116 + (float)(v106 * v135)) + (float)(v107 * *(float *)&v136))
                   + *(double *)&v93
                   + (float)((float)(v111 + v139) + v111)
                   + v137;
  _XMM1 = v117;
  __asm { vmaxsd  xmm2, xmm1, qword ptr [rdx+28h] }
  a2[5] = *(double *)&_XMM2;
  return result;
}

// --- End Function: sub_1467CBFA0 (0x1467CBFA0) ---

// --- Function: sub_1467CC930 (0x1467CC930) ---
__int64 __fastcall sub_1467CC930(__int64 a1, __int64 a2)
{
  volatile signed __int64 *v4; // rsi
  signed __int64 v5; // rdx
  __int64 n0x40; // rcx
  __int64 v7; // rax
  float v8; // xmm9_4
  float v9; // xmm7_4
  float v10; // xmm8_4
  float v11; // xmm5_4
  float v12; // xmm10_4
  float v13; // xmm6_4
  float v14; // xmm11_4
  float v15; // xmm12_4
  float v16; // xmm15_4
  __int128 v17; // kr00_16
  __int128 v18; // xmm14
  float v19; // xmm4_4
  float v20; // xmm0_4
  float v21; // xmm8_4
  float v22; // xmm13_4
  __int128 v23; // kr00_16
  float v24; // xmm5_4
  float v25; // xmm1_4
  float v26; // xmm6_4
  float v27; // xmm11_4
  float v28; // xmm0_4
  float v29; // xmm10_4
  float v30; // xmm12_4
  float v31; // xmm9_4
  unsigned int v32; // xmm4_4
  __int128 v33; // xmm3
  __int128 v34; // xmm2
  __int128 v35; // kr00_16
  float v36; // xmm7_4
  __int128 v37; // xmm4
  __int128 v38; // kr00_16
  __int128 v39; // xmm3
  __int128 v40; // kr00_16
  float v41; // xmm0_4
  __int128 v42; // xmm15
  __int128 v43; // kr00_16
  __int128 v44; // kr00_16
  float v45; // xmm13_4
  float v46; // xmm9_4
  float v47; // xmm8_4
  float v48; // xmm6_4
  double v49; // xmm11_8
  double v50; // xmm10_8
  float v51; // xmm9_4
  double v52; // xmm12_8
  float v53; // xmm7_4
  __int128 v54; // xmm2
  __int128 v55; // kr00_16
  __int128 v56; // xmm6
  __int128 v57; // kr00_16
  __int128 v58; // xmm7
  unsigned __int64 v92; // rdx
  float v94; // [rsp+30h] [rbp-C8h]
  float v95; // [rsp+100h] [rbp+8h]
  unsigned int v96; // [rsp+108h] [rbp+10h]
  float v97; // [rsp+110h] [rbp+18h]
  float v98; // [rsp+118h] [rbp+20h]

  sub_1467CBFA0();
  v4 = (volatile signed __int64 *)(a1 + 0x6D58);
  v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x6D58));
  if ( (v5 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x6D58),
      v5,
      (__int64)"CSpaceshipEntity::GetStepBounds",
      (__int64)"m_lockSpaceship",
      1);
  n0x40 = 0;
  *(_QWORD *)(a1 + 0x6D80) = 0x5F138D352E5096AFLL;
  *(_QWORD *)(a1 + 0x6D88) = 0x5F138D352E5096AFLL;
  *(_QWORD *)(a1 + 0x6D90) = 0x5F138D352E5096AFLL;
  *(_QWORD *)(a1 + 0x6D98) = 0xDF138D352E5096AFuLL;
  *(_QWORD *)(a1 + 0x6DA0) = 0xDF138D352E5096AFuLL;
  *(_QWORD *)(a1 + 0x6DA8) = 0xDF138D352E5096AFuLL;
  v7 = a1 + 0xB30;
  do
  {
    if ( *(float *)(v7 + 0x10) < 0.0 )
      break;
    if ( !*(_DWORD *)(v7 + 0x54) )
      break;
    v8 = *(float *)(a1 + 0x644);
    v9 = *(float *)(a1 + 0x6CC);
    v10 = *(float *)(a1 + 0x6C8);
    v11 = *(float *)(a1 + 0x640);
    v12 = *(float *)(a1 + 0x648);
    v13 = *(float *)(a1 + 0x6D0);
    v14 = *(float *)(a1 + 0x64C);
    v15 = *(float *)(a1 + 0x6D4);
    v16 = (float)(v15 * v14) - (float)((float)((float)(v11 * v10) + (float)(v9 * v8)) + (float)(v13 * v12));
    v17 = LODWORD(v13);
    *(float *)&v17 = (float)((float)((float)(v13 * v8) - (float)(v12 * v9)) + (float)(v10 * v14)) + (float)(v11 * v15);
    v18 = v17;
    v19 = (float)((float)(v12 * v10) - (float)(v13 * v11)) + (float)(v9 * v14);
    v20 = v10 * v8;
    v21 = *(float *)(v7 + 4);
    v22 = v19 + (float)(v8 * v15);
    v23 = LODWORD(v11);
    *(float *)&v23 = v11 * v9;
    v24 = *(float *)(v7 - 4);
    v25 = v13 * v14;
    v26 = *(float *)(v7 + 8);
    v27 = *(float *)(a1 + 0x9B4);
    *(float *)&v23 = (float)(*(float *)&v23 - v20) + v25;
    v28 = v12 * v15;
    v29 = *(float *)(v7 - 0x10);
    v30 = *(float *)(v7 - 0xC);
    v31 = *(float *)&v23 + v28;
    *(float *)&v32 = (float)((float)((float)(v22 * v21) - (float)((float)(*(float *)&v23 + v28) * *(float *)v7))
                           + (float)(v24 * v16))
                   + (float)(*(float *)&v18 * v26);
    *(float *)&v23 = (float)((float)(*(float *)&v23 + v28) * v24) - (float)(*(float *)&v18 * v21);
    v33 = v23;
    v35 = v18;
    *(float *)&v35 = *(float *)&v18 * *(float *)v7;
    v34 = v35;
    v36 = *(float *)(a1 + 0x9B0);
    v96 = v32;
    v38 = v33;
    *(float *)&v38 = *(float *)&v33 + (float)(v16 * *(float *)v7);
    v37 = v38;
    v40 = v34;
    *(float *)&v40 = *(float *)&v34 - (float)(v22 * v24);
    v39 = v40;
    v41 = v31 * v26;
    v95 = v16;
    v43 = v37;
    *(float *)&v43 = *(float *)&v37 + (float)(v22 * v26);
    v42 = v43;
    v44 = v39;
    v98 = v22;
    v45 = *(float *)(v7 - 8);
    v94 = v31;
    v46 = *(float *)(a1 + 0x9B8);
    v97 = *(float *)&v18;
    *(float *)&v18 = (float)(*(float *)&v39 + (float)(v21 * v95)) + v41;
    LODWORD(v37) = *(_DWORD *)(a1 + 0x9BC);
    v47 = (float)((float)(v45 * v27) - (float)(v30 * v46)) + (float)(v29 * *(float *)&v37);
    v48 = (float)((float)(v29 * v46) - (float)(v45 * v36)) + (float)(v30 * *(float *)&v37);
    *(float *)&v37 = (float)((float)(v30 * v36) - (float)(v29 * v27)) + (float)(v45 * *(float *)&v37);
    *(float *)&v39 = (float)(v36 * v48) - (float)(v27 * v47);
    v49 = (float)((float)(v29 + (float)((float)(v27 * *(float *)&v37) - (float)(v46 * v48)))
                + (float)((float)(v27 * *(float *)&v37) - (float)(v46 * v48)))
        + *(double *)(a1 + 0x998);
    v50 = (float)((float)(v30 + (float)((float)(v46 * v47) - (float)(v36 * *(float *)&v37)))
                + (float)((float)(v46 * v47) - (float)(v36 * *(float *)&v37)))
        + *(double *)(a1 + 0x9A0);
    v51 = COERCE_FLOAT(*(_DWORD *)(v7 + 0x10) ^ 0x80000000) - 0.050000001;
    v52 = (float)((float)(v45 + *(float *)&v39) + *(float *)&v39) + *(double *)(a1 + 0x9A8);
    v53 = -(float)(*(float *)&v96 * v51);
    *(float *)&v37 = (float)((float)(v95 * *(float *)(v7 + 8))
                           - (float)((float)((float)(v97 * v24) + (float)(v98 * *(float *)v7))
                                   + (float)(v94 * *(float *)(v7 + 4))))
                   * v51;
    *(float *)&v44 = (float)((float)(*(float *)&v18 * (float)(*(float *)&v42 * v51))
                           - (float)(*(float *)&v96 * *(float *)&v37))
                   + (float)((float)(*(float *)&v18 * (float)(*(float *)&v42 * v51))
                           - (float)(*(float *)&v96 * *(float *)&v37));
    v54 = v44;
    v55 = v42;
    *(float *)&v55 = (float)(*(float *)&v42 * *(float *)&v37) - (float)(*(float *)&v18 * v53);
    v56 = v55;
    v57 = v96;
    *(float *)&v57 = (float)(*(float *)&v96 * v53) - (float)(*(float *)&v42 * (float)(*(float *)&v42 * v51));
    v58 = v57;
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&v54 + 1);
    *(double *)&v57 = *(float *)&v54;
    _XMM8 = v57;
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&v56 + 1);
    *(double *)&v57 = (float)(*(float *)&v56 + *(float *)&v56);
    _XMM6 = v57;
    __asm { vminsd  xmm0, xmm6, xmm13 }
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&_XMM0 + 1);
    *(double *)&v57 = *(double *)&_XMM0 + v49;
    _XMM3 = v57;
    __asm { vminsd  xmm0, xmm3, qword ptr [rbx+6D80h] }
    *(double *)(a1 + 0x6D80) = *(double *)&_XMM0;
    __asm { vminsd  xmm1, xmm8, xmm13 }
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&_XMM1 + 1);
    *(double *)&v57 = *(double *)&_XMM1 + v50;
    _XMM2 = v57;
    __asm { vminsd  xmm1, xmm2, qword ptr [rbx+6D88h] }
    *(double *)(a1 + 0x6D88) = *(double *)&_XMM1;
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&v58 + 1);
    *(double *)&v57 = (float)((float)(*(float *)&v58 + v51) + *(float *)&v58);
    _XMM5 = v57;
    __asm { vminsd  xmm0, xmm5, xmm13 }
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&_XMM0 + 1);
    *(double *)&v57 = *(double *)&_XMM0 + v52;
    _XMM1 = v57;
    __asm
    {
      vminsd  xmm2, xmm1, qword ptr [rbx+6D90h]
      vmaxsd  xmm0, xmm6, xmm13
    }
    *(double *)(a1 + 0x6D90) = *(double *)&_XMM2;
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&_XMM0 + 1);
    *(double *)&v57 = *(double *)&_XMM0 + v49;
    _XMM3 = v57;
    __asm
    {
      vmaxsd  xmm0, xmm3, qword ptr [rbx+6D98h]
      vmaxsd  xmm1, xmm8, xmm13
    }
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&_XMM1 + 1);
    *(double *)&v57 = *(double *)&_XMM1 + v50;
    _XMM2 = v57;
    *(double *)(a1 + 0x6D98) = *(double *)&_XMM0;
    __asm { vmaxsd  xmm1, xmm2, qword ptr [rbx+6DA0h] }
    *(double *)(a1 + 0x6DA0) = *(double *)&_XMM1;
    __asm { vmaxsd  xmm0, xmm5, xmm13 }
    *((_QWORD *)&v57 + 1) = *((_QWORD *)&_XMM0 + 1);
    *(double *)&v57 = *(double *)&_XMM0 + v52;
    _XMM1 = v57;
    __asm { vmaxsd  xmm2, xmm1, qword ptr [rbx+6DA8h] }
    ++n0x40;
    v7 += 0x188;
    *(double *)(a1 + 0x6DA8) = *(double *)&_XMM2;
  }
  while ( n0x40 < 0x40 );
  _XMM0 = *(unsigned __int64 *)(a1 + 0x6D80);
  __asm { vminsd  xmm1, xmm0, qword ptr [rdi] }
  *(double *)a2 = *(double *)&_XMM1;
  _XMM0 = *(unsigned __int64 *)(a2 + 8);
  __asm { vminsd  xmm1, xmm0, qword ptr [rbx+6D88h] }
  *(double *)(a2 + 8) = *(double *)&_XMM1;
  _XMM0 = *(unsigned __int64 *)(a1 + 0x6D90);
  __asm { vminsd  xmm1, xmm0, qword ptr [rdi+10h] }
  *(double *)(a2 + 0x10) = *(double *)&_XMM1;
  _XMM0 = *(unsigned __int64 *)(a1 + 0x6D98);
  __asm { vmaxsd  xmm1, xmm0, qword ptr [rdi+18h] }
  *(double *)(a2 + 0x18) = *(double *)&_XMM1;
  _XMM0 = *(unsigned __int64 *)(a1 + 0x6DA0);
  __asm { vmaxsd  xmm1, xmm0, qword ptr [rdi+20h] }
  *(double *)(a2 + 0x20) = *(double *)&_XMM1;
  _XMM0 = *(unsigned __int64 *)(a2 + 0x28);
  __asm { vmaxsd  xmm1, xmm0, qword ptr [rbx+6DA8h] }
  *(double *)(a2 + 0x28) = *(double *)&_XMM1;
  v92 = _InterlockedDecrement64(v4);
  if ( (v92 & 0x3FF) == 0 && (v92 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v4, v92);
  return a2;
}

// --- End Function: sub_1467CC930 (0x1467CC930) ---

// --- Function: sub_1467CD4D0 (0x1467CD4D0) ---
__int64 __fastcall sub_1467CD4D0(__int64 a1)
{
  return a1 + 0xFC;
}

// --- End Function: sub_1467CD4D0 (0x1467CD4D0) ---

// --- Function: sub_1467CD5F0 (0x1467CD5F0) ---
__int64 __fastcall sub_1467CD5F0(__int64 a1, double *a2, float *a3, _DWORD *a4, float a5)
{
  double v5; // xmm4_8
  double v6; // xmm6_8
  double v7; // xmm7_8
  double v8; // xmm8_8
  float v9; // xmm5_4
  float v10; // xmm10_4
  float v11; // xmm12_4
  float v12; // xmm13_4
  float v13; // xmm6_4
  float v14; // xmm7_4
  float v15; // xmm8_4
  float v16; // xmm9_4
  __m128 n0x3F800000; // kr00_16
  float v18; // xmm9_4
  float v19; // xmm8_4
  float v20; // xmm7_4
  float v21; // xmm6_4
  __int64 result; // rax

  v5 = *(double *)(a1 + 0x470);
  v6 = *(double *)(a1 + 0x458);
  v7 = *(double *)(a1 + 0x478);
  v8 = *(double *)(a1 + 0x460);
  *a2 = (*(double *)(a1 + 0x468) - *(double *)(a1 + 0x450)) * a5 + *(double *)(a1 + 0x450);
  a2[1] = (v5 - v6) * a5 + v6;
  a2[2] = (v7 - v8) * a5 + v8;
  v9 = *(float *)(a1 + 0x49C);
  v10 = *(float *)(a1 + 0x498);
  v11 = *(float *)(a1 + 0x488);
  v12 = *(float *)(a1 + 0x48C);
  v13 = *(float *)(a1 + 0x490);
  v14 = *(float *)(a1 + 0x494);
  v15 = *(float *)(a1 + 0x484);
  v16 = *(float *)(a1 + 0x480);
  if ( (float)((float)((float)(v11 * v10) + (float)(v12 * v9)) + (float)((float)(v15 * v14) + (float)(v16 * v13))) < 0.0 )
  {
    LODWORD(v9) ^= 0x80000000;
    LODWORD(v13) ^= 0x80000000;
    LODWORD(v14) ^= 0x80000000;
    LODWORD(v10) ^= 0x80000000;
  }
  n0x3F800000 = (__m128)0x3F800000u;
  v18 = (float)((float)(1.0 - a5) * v16) + (float)(v13 * a5);
  v19 = (float)((float)(1.0 - a5) * v15) + (float)(v14 * a5);
  v20 = (float)((float)(1.0 - a5) * v11) + (float)(v10 * a5);
  v21 = (float)((float)(1.0 - a5) * v12) + (float)(v9 * a5);
  n0x3F800000.m128_f32[0] = (float)((float)(v20 * v20) + (float)(v19 * v19))
                          + (float)((float)(v21 * v21) + (float)(v18 * v18));
  _XMM3 = _mm_shuffle_ps(n0x3F800000, n0x3F800000, 0);
  __asm { vrsqrtps xmm4, xmm3 }
  _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM4.m128_f32[0] * n0x3F800000.m128_f32[0]) * _XMM4.m128_f32[0])
                                    * 0.5))
                    * _XMM4.m128_f32[0];
  *a3 = _XMM3.m128_f32[0] * v18;
  a3[1] = _XMM3.m128_f32[0] * v19;
  a3[2] = _XMM3.m128_f32[0] * v20;
  a3[3] = _XMM3.m128_f32[0] * v21;
  result = *(unsigned int *)(a1 + 0x200);
  *a4 = result;
  return result;
}

// --- End Function: sub_1467CD5F0 (0x1467CD5F0) ---

// --- Function: sub_1467CD830 (0x1467CD830) ---
__int64 __fastcall sub_1467CD830(__int64 a1)
{
  return (unsigned int)*(__int16 *)(a1 + 0xEC);
}

// --- End Function: sub_1467CD830 (0x1467CD830) ---

// --- Function: sub_1467CDAE0 (0x1467CDAE0) ---
__int64 __fastcall sub_1467CDAE0(__int64 a1)
{
  return ~((unsigned int)(((*(_DWORD *)(a1 + 0x208) & 0x10) - 1LL) >> 0x3F)
         | (unsigned int)(*(__int64 *)(a1 + 0x2D8) >> 0x3F) ^ (unsigned int)((*(_QWORD *)(a1 + 0x2D8) - 1LL) >> 0x3F));
}

// --- End Function: sub_1467CDAE0 (0x1467CDAE0) ---

// --- Function: sub_1467CDB10 (0x1467CDB10) ---
__int64 __fastcall sub_1467CDB10(__int64 a1, __int64 a2)
{
  unsigned int v2; // r11d
  int v3; // r10d
  __int64 v4; // r9
  _QWORD *v5; // r8

  v2 = 0;
  v3 = 0;
  if ( *(int *)(a1 + 0x148) > 0 )
  {
    v4 = 0;
    v5 = *(_QWORD **)(a1 + 0x140);
    do
    {
      if ( *v5 == a2 )
        break;
      ++v3;
      ++v4;
      ++v5;
    }
    while ( v4 < *(int *)(a1 + 0x148) );
    if ( v3 < *(_DWORD *)(a1 + 0x148) )
      LOBYTE(v2) = *(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8LL * v3) != 0;
  }
  return v2;
}

// --- End Function: sub_1467CDB10 (0x1467CDB10) ---

// --- Function: sub_1467CDB70 (0x1467CDB70) ---
__int64 __fastcall sub_1467CDB70(__int64 a1, __int64 a2, int a3)
{
  int n0x40; // r9d
  __int64 v5; // rcx
  int v7; // r11d
  _QWORD *v8; // rax
  __int64 i; // r10
  __int64 v10; // r8
  __int64 v11; // rcx
  unsigned __int64 v13; // r8
  __int64 v14; // rdx

  n0x40 = 0;
  v5 = *(int *)(a1 + 0x148);
  v7 = 0;
  if ( (int)v5 > 0 )
  {
    v8 = *(_QWORD **)(a1 + 0x140);
    for ( i = 0; i < v5; ++i )
    {
      if ( *v8 == a2 )
        break;
      ++v7;
      ++v8;
    }
  }
  if ( v7 < (int)v5 )
  {
    v10 = 8LL * v7;
    if ( *(_QWORD *)(v10 + *(_QWORD *)(a1 + 0x140)) == a2 )
    {
      v11 = *(_QWORD *)(a1 + 0x4C8);
      if ( !a3 )
      {
        LOBYTE(n0x40) = *(_QWORD *)(v10 + v11) != 0;
        return (unsigned int)n0x40;
      }
      v13 = *(_QWORD *)(v10 + v11);
      v14 = 0;
      while ( 1LL << n0x40 <= v13 )
      {
        if ( ((1LL << n0x40) & v13) != 0 && (a3 & *(_DWORD *)(v14 + *(_QWORD *)(a1 + 0x4F0) + 0x68)) == 0 )
          return 1;
        ++n0x40;
        v14 += 0x100;
        if ( n0x40 >= 0x40 )
          return 0;
      }
    }
  }
  return 0;
}

// --- End Function: sub_1467CDB70 (0x1467CDB70) ---

// --- Function: sub_1467CDCC0 (0x1467CDCC0) ---
__int64 __fastcall sub_1467CDCC0(__int64 a1, __int64 a2)
{
  volatile signed __int64 *v3; // rsi
  signed __int64 v5; // rdx
  unsigned int v6; // edi
  float *v7; // rax
  __int64 n0x40; // rcx
  unsigned __int64 v9; // rdx
  __int64 v10; // r9
  int v11; // edx
  _QWORD *v12; // rax
  __int64 i; // rcx
  unsigned __int64 v15; // rdx

  v3 = (volatile signed __int64 *)(a1 + 0x6D58);
  v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x6D58));
  if ( (v5 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x6D58),
      v5,
      (__int64)"CSpaceshipEntity::HasContactsWith",
      (__int64)"m_lockSpaceship",
      1);
  v6 = 0;
  v7 = (float *)(a1 + 0xB90);
  n0x40 = 0;
  while ( 1 )
  {
    if ( v7[0xFFFFFFEC] < 0.0 )
    {
LABEL_8:
      v9 = _InterlockedDecrement64(v3);
      if ( (v9 & 0x3FF) == 0 && (v9 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(v3, v9);
      v10 = *(int *)(a1 + 0x148);
      v11 = 0;
      if ( (int)v10 > 0 )
      {
        v12 = *(_QWORD **)(a1 + 0x140);
        for ( i = 0; i < v10; ++i )
        {
          if ( *v12 == a2 )
            break;
          ++v11;
          ++v12;
        }
      }
      if ( v11 < (int)v10
        && (*(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8LL * v11) || *(_QWORD *)(*(_QWORD *)(a1 + 0x4C8) + 8LL * v11)) )
      {
        return 1;
      }
      return v6;
    }
    if ( *(_QWORD *)v7 == a2 || *((_QWORD *)v7 + 1) == a2 )
      break;
    ++n0x40;
    v7 += 0x62;
    if ( n0x40 >= 0x40 )
      goto LABEL_8;
  }
  v15 = _InterlockedDecrement64(v3);
  if ( (v15 & 0x3FF) == 0 && (v15 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v3, v15);
  return 1;
}

// --- End Function: sub_1467CDCC0 (0x1467CDCC0) ---

// --- Function: CRigidEntity::HasPartContactsWith (0x1467CDEE0) ---
__int64 __fastcall CRigidEntity::HasPartContactsWith(__int64 a1, __int64 a2, int a3, int a4)
{
  volatile signed __int64 *v5; // r12
  signed __int64 v9; // rdx
  volatile signed __int64 *v10; // r14
  signed __int64 v11; // rdx
  __int64 v12; // r9
  unsigned int v13; // edi
  int v14; // edx
  _QWORD *v15; // rax
  __int64 i; // rcx
  int v17; // r8d
  __int64 v18; // r11
  unsigned __int64 v19; // r9
  unsigned int v20; // ecx
  __int64 *v21; // rdx
  int v22; // ebp
  unsigned __int64 v23; // rdx
  unsigned __int64 v24; // rbx

  v5 = (volatile signed __int64 *)(a1 + 0x150);
  v9 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x150));
  if ( (v9 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x150),
      v9,
      (__int64)"CRigidEntity::HasPartContactsWith",
      (__int64)"m_lockColliders",
      1);
  v10 = (volatile signed __int64 *)(a1 + 0x8C8);
  v11 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
  if ( (v11 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x8C8),
      v11,
      (__int64)"CRigidEntity::HasPartContactsWith",
      (__int64)"m_lockContacts",
      1);
  v12 = *(int *)(a1 + 0x148);
  v13 = 0;
  v14 = 0;
  if ( (int)v12 > 0 )
  {
    v15 = *(_QWORD **)(a1 + 0x140);
    for ( i = 0; i < v12; ++i )
    {
      if ( *v15 == a2 )
        break;
      ++v14;
      ++v15;
    }
  }
  if ( v14 < (int)v12 )
  {
    v17 = 0;
    v18 = 8LL * v14;
    v19 = *(_QWORD *)(v18 + *(_QWORD *)(a1 + 0x4C8));
    while ( 1LL << v17 <= v19 )
    {
      if ( ((1LL << v17) & v19) != 0 )
      {
        v20 = a3 - *(__int16 *)(0x108LL * v14 + *(_QWORD *)(a1 + 0x4E8) + 0x7E);
        if ( -((int)(v20 ^ (v20 - 1)) >> 0x1F) | -a4 & (v20 >> 0x1F) )
          goto LABEL_19;
      }
      if ( ++v17 >= 0x40 )
        break;
    }
    v21 = *(__int64 **)(v18 + *(_QWORD *)(a1 + 0x4C0));
    if ( !v21 )
      goto LABEL_20;
    v22 = -a4;
    if ( v22 & ((unsigned int)(a3 - *((__int16 *)v21 + 0x3F)) >> 0x1F)
       | -(((a3 - *((__int16 *)v21 + 0x3F)) ^ (a3 - *((__int16 *)v21 + 0x3F) - 1)) >> 0x1F) )
    {
LABEL_19:
      v13 = 1;
      goto LABEL_20;
    }
    while ( (*((_DWORD *)v21 + 0x25) & 0x80000) == 0 )
    {
      v21 = (__int64 *)*v21;
      if ( v22 & ((unsigned int)(a3 - *((__int16 *)v21 + 0x3F)) >> 0x1F)
         | -(((a3 - *((__int16 *)v21 + 0x3F)) ^ (a3 - *((__int16 *)v21 + 0x3F) - 1)) >> 0x1F) )
      {
        goto LABEL_19;
      }
    }
  }
LABEL_20:
  v23 = _InterlockedDecrement64(v10);
  if ( (v23 & 0x3FF) == 0 && (v23 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v10, v23);
  v24 = _InterlockedDecrement64(v5);
  if ( (v24 & 0x3FF) == 0 && (v24 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v5, v24);
  return v13;
}

// --- End Function: CRigidEntity::HasPartContactsWith (0x1467CDEE0) ---

// --- Function: sub_1467CE100 (0x1467CE100) ---
__int64 __fastcall sub_1467CE100(__int64 a1, __int64 a2, int a3, int a4)
{
  volatile signed __int64 *v5; // rdi
  signed __int64 v9; // rdx
  __int64 n0x40; // r9
  float *v11; // r8
  unsigned __int64 v12; // rdx
  unsigned __int64 v14; // rdx

  v5 = (volatile signed __int64 *)(a1 + 0x6D58);
  v9 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x6D58));
  if ( (v9 & 0x200000) != 0 )
    sub_1403CD0A0(v5, v9, (__int64)"CSpaceshipEntity::HasPartContactsWith", (__int64)"m_lockSpaceship", 1);
  n0x40 = 0;
  v11 = (float *)(a1 + 0xB90);
  while ( 1 )
  {
    if ( v11[0xFFFFFFEC] < 0.0 )
    {
LABEL_9:
      v12 = _InterlockedDecrement64(v5);
      if ( (v12 & 0x3FF) == 0 && (v12 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0(v5, v12);
      return CRigidEntity::HasPartContactsWith(a1, a2, a3, a4);
    }
    if ( (*(_QWORD *)v11 == a2 || *((_QWORD *)v11 + 1) == a2)
      && -(((a3 - *((_DWORD *)v11 + 0xFFFFFFFC)) ^ (a3 - *((_DWORD *)v11 + 0xFFFFFFFC) - 1)) >> 0x1F)
       | -a4 & ((unsigned int)(a3 - *((_DWORD *)v11 + 0xFFFFFFFC)) >> 0x1F) )
    {
      break;
    }
    ++n0x40;
    v11 += 0x62;
    if ( n0x40 >= 0x40 )
      goto LABEL_9;
  }
  v14 = _InterlockedDecrement64(v5);
  if ( (v14 & 0x3FF) == 0 && (v14 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v5, v14);
  return 1;
}

// --- End Function: sub_1467CE100 (0x1467CE100) ---

// --- Function: CRigidEntity::IgnoreCollisionsWith (0x1467CE2F0) ---
char __fastcall CRigidEntity::IgnoreCollisionsWith(Parameter *Parameter, Parameter *Parameter_1, int a3)
{
  unsigned __int64 v7; // r9
  int v8; // esi
  int n0x40; // ecx
  __int64 v10; // rdx
  __int64 v11; // r8
  volatile signed __int64 *v12; // rbp
  signed __int64 v13; // r10
  __int64 v14; // rdi
  Parameter *Parameter_2; // rcx
  unsigned __int64 v16; // rdx
  unsigned __int64 v17; // rdx

  if ( !*((_QWORD *)Parameter + 0x99) )
    return 0;
  v7 = *((_QWORD *)Parameter + 0xA0);
  v8 = 0;
  n0x40 = 0;
  v10 = 0;
  v11 = 0;
  while ( 1LL << n0x40 <= v7 )
  {
    if ( ((1LL << n0x40) & v7) != 0
      && (*(_DWORD *)(v11 + *((_QWORD *)Parameter + 0x9E) + 0x68) & 0x200) != 0
      && *(Parameter **)(v10 + *((_QWORD *)Parameter + 0x9D) + 0x20) == Parameter_1 )
    {
      return 1;
    }
    ++n0x40;
    v11 += 0x100;
    v10 += 0x108;
    if ( n0x40 >= 0x40 )
      break;
  }
  if ( !a3 )
    return sub_1467CE520(Parameter, (unsigned __int64)Parameter_1);
  v12 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  v13 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x2A);
  if ( (v13 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)Parameter + 0x2A,
      v13,
      (__int64)"CRigidEntity::IgnoreCollisionsWith",
      (__int64)"m_lockColliders",
      1);
  if ( *((int *)Parameter + 0x52) <= 0 )
  {
LABEL_19:
    v16 = _InterlockedDecrement64(v12);
    if ( (v16 & 0x3FF) == 0 && (v16 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0((volatile signed __int64 *)Parameter + 0x2A, v16);
    return sub_1467CE520(Parameter, (unsigned __int64)Parameter_1);
  }
  v14 = 0;
  while ( 1 )
  {
    Parameter_2 = *(Parameter **)(v14 + *((_QWORD *)Parameter + 0x28));
    if ( Parameter_2 == Parameter_1
      && (*(_QWORD *)(v14 + *((_QWORD *)Parameter + 0x99))
       || (*(unsigned int (__fastcall **)(Parameter *, Parameter *, _QWORD))(*(_QWORD *)Parameter_2 + 0x258LL))(
            Parameter_2,
            Parameter,
            0)) )
    {
      if ( (*(unsigned __int8 (__fastcall **)(_QWORD, Parameter *, _QWORD))(**(_QWORD **)(v14
                                                                                        + *((_QWORD *)Parameter + 0x28))
                                                                          + 0x1F8LL))(
             *(_QWORD *)(v14 + *((_QWORD *)Parameter + 0x28)),
             Parameter,
             0) )
      {
        break;
      }
    }
    ++v8;
    v14 += 8;
    if ( v8 >= *((_DWORD *)Parameter + 0x52) )
      goto LABEL_19;
  }
  v17 = _InterlockedDecrement64(v12);
  if ( (v17 & 0x3FF) == 0 && (v17 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0((volatile signed __int64 *)Parameter + 0x2A, v17);
  return 1;
}

// --- End Function: CRigidEntity::IgnoreCollisionsWith (0x1467CE2F0) ---

// --- Function: sub_1467CE510 (0x1467CE510) ---
__int64 __fastcall sub_1467CE510(__int64 a1)
{
  return *(unsigned int *)(a1 + 0x4AC);
}

// --- End Function: sub_1467CE510 (0x1467CE510) ---

// --- Function: sub_1467CE520 (0x1467CE520) ---
char __fastcall sub_1467CE520(Parameter *Parameter, unsigned __int64 a2)
{
  __int64 v2; // rdi
  unsigned __int64 v3; // rbx
  volatile signed __int64 *v4; // rsi
  signed __int64 v5; // rdx
  __int64 v6; // rax
  __int64 v7; // rcx
  __int64 v8; // rax

  v2 = *((_QWORD *)Parameter + 0x16);
  if ( !v2 || !a2 )
    return 0;
  v3 = a2 | (*(_QWORD *)(a2 + 8) << 0x30);
  if ( *(_QWORD *)((a2 & 0xFFFFFFFFFFFFLL) + 8) != HIWORD(v3) )
    return 0;
  v4 = (volatile signed __int64 *)(v2 + 0x50);
  if ( *(_DWORD *)(v2 + 0x58) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(v2 + 0x5C);
  }
  else
  {
    v5 = _InterlockedIncrement64(v4);
    if ( (v5 & 0x200000) != 0 )
      sub_1403CD0A0((volatile signed __int64 *)(v2 + 0x50), v5, (__int64)&Source, (__int64)&Source, 0);
  }
  v6 = *(int *)(v2 + 0x48);
  if ( (int)v6 <= 0 )
  {
LABEL_15:
    sub_1402D42F0((__int64)v4);
    return 0;
  }
  if ( *(int *)(v2 + 0x4C) > 8 )
    v2 = *(_QWORD *)(v2 + 0x40);
  v7 = v6;
  v8 = 0;
  while ( *(_QWORD *)(v2 + 8 * v8) != v3 )
  {
    if ( ++v8 >= v7 )
      goto LABEL_15;
  }
  sub_1402D42F0((__int64)v4);
  return 1;
}

// --- End Function: sub_1467CE520 (0x1467CE520) ---

// --- Function: sub_1467CE620 (0x1467CE620) ---
// attributes: thunk
__int64 sub_1467CE620()
{
  return sub_1468DE980();
}

// --- End Function: sub_1467CE620 (0x1467CE620) ---

// --- Function: sub_1467CE630 (0x1467CE630) ---
char __fastcall sub_1467CE630(__int64 a1)
{
  if ( (*(_DWORD *)(a1 + 0x208) & 0x40000000) != 0 )
    return *(_BYTE *)(a1 + 0x94E);
  else
    return 0;
}

// --- End Function: sub_1467CE630 (0x1467CE630) ---

// --- Function: sub_1467CE8D0 (0x1467CE8D0) ---
unsigned __int64 __fastcall sub_1467CE8D0(Parameter *Parameter, char a2, unsigned __int8 a3)
{
  int n0x40; // ebp
  int v7; // esi
  __int64 v8; // rdi
  Parameter *Parameter_1; // rcx
  unsigned __int64 v10; // rdi
  __int64 v11; // rsi
  __int64 i; // r14
  unsigned __int64 result; // rax
  Parameter *Parameter_2; // rcx
  __int64 v15; // rdx

  n0x40 = 0;
  v7 = 0;
  if ( *((int *)Parameter + 0x52) > 0 )
  {
    v8 = 0;
    do
    {
      Parameter_1 = *(Parameter **)(v8 + *((_QWORD *)Parameter + 0x28));
      if ( Parameter_1 != Parameter
        && (*(unsigned __int8 (__fastcall **)(Parameter *, Parameter *, _QWORD))(*(_QWORD *)Parameter_1 + 0x1F8LL))(
             Parameter_1,
             Parameter,
             0)
        && (*(_DWORD *)(*(_QWORD *)(v8 + *((_QWORD *)Parameter + 0x28)) + 0xF8LL) & (1 << a2)) == 0 )
      {
        _InterlockedExchangeAdd(
          (volatile signed __int32 *)(*(_QWORD *)(v8 + *((_QWORD *)Parameter + 0x28)) + 0xF8LL),
          1 << a2);
      }
      ++v7;
      v8 += 8;
    }
    while ( v7 < *((_DWORD *)Parameter + 0x52) );
  }
  v10 = 1;
  v11 = 0;
  for ( i = 0; ; i += 0x100 )
  {
    result = *((_QWORD *)Parameter + 0xA0);
    if ( v10 > result )
      break;
    if ( (result & v10) != 0
      && (*(_DWORD *)(*((_QWORD *)Parameter + 0x9E) + i + 0x68) & 0x200) != 0
      && (*(_DWORD *)(*(_QWORD *)(*((_QWORD *)Parameter + 0x9D) + v11 + 0x20) + 0xF8LL) & (1 << a2)) == 0 )
    {
      Parameter_2 = *(_QWORD *)(*((_QWORD *)Parameter + 0x9D) + v11 + 0x20);
      if ( (Parameter *)Parameter_2 != Parameter )
      {
        _InterlockedExchangeAdd((volatile signed __int32 *)(Parameter_2 + 0xF8), 1 << a2);
        v15 = *(_QWORD *)(*((_QWORD *)Parameter + 0x9D) + v11 + 0x20);
        if ( ((2 - *(_DWORD *)(v15 + 0xF4) < 0) & a3) != 0 )
          sub_146941CC0(*((_QWORD *)Parameter + 0x58), v15, *((float *)Parameter + 0x14A));
      }
    }
    ++n0x40;
    v10 = __ROL8__(v10, 1);
    v11 += 0x108;
    if ( n0x40 >= 0x40 )
      return *((_QWORD *)Parameter + 0xA0);
  }
  return result;
}

// --- End Function: sub_1467CE8D0 (0x1467CE8D0) ---

// --- Function: sub_1467CEE90 (0x1467CEE90) ---
__int64 __fastcall sub_1467CEE90(__int64 a1, __int64 a2, unsigned int a3, unsigned int a4)
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int64 v14; // rcx
  __int64 v15; // r12
  __int64 v16; // rax
  float v17; // xmm1_4
  float v18; // xmm9_4
  float X; // xmm10_4
  float v22; // xmm2_4
  float v23; // xmm3_4
  float v24; // xmm7_4
  float v25; // xmm8_4
  float v26; // xmm5_4
  float v27; // xmm4_4
  float v28; // kr00_4
  float v29; // xmm6_4
  __m128 v30; // xmm7
  float v31; // xmm0_4
  float v32; // xmm8_4
  float v33; // xmm12_4
  float v34; // xmm5_4
  float v35; // xmm14_4
  __m128 v36; // kr00_16
  float v39; // xmm1_4
  float v40; // xmm0_4
  __int64 v41; // rbx
  int n0x40; // r14d
  __int64 v43; // r15
  __int64 n0x20; // rsi
  unsigned __int64 v45; // rcx
  __int64 v46; // rcx
  __int64 v47; // rax
  __int64 v48; // r8
  __int64 v49; // rcx
  __int64 v50; // r9
  __int64 v51; // rax
  __int64 v52; // rcx
  __int64 v53; // rax
  __int64 v54; // rcx
  _QWORD v58[2]; // [rsp+38h] [rbp-D0h] BYREF
  __int64 v59; // [rsp+48h] [rbp-C0h]
  __int64 v60; // [rsp+50h] [rbp-B8h]
  __int128 v61; // [rsp+58h] [rbp-B0h]
  __int128 v62; // [rsp+68h] [rbp-A0h]
  int v63; // [rsp+78h] [rbp-90h]
  int v64; // [rsp+7Ch] [rbp-8Ch]
  __int128 v65; // [rsp+88h] [rbp-80h]
  __int64 v66; // [rsp+98h] [rbp-70h]
  __int64 v67; // [rsp+A0h] [rbp-68h]
  int v68; // [rsp+A8h] [rbp-60h]
  int v69; // [rsp+ACh] [rbp-5Ch]
  int v70; // [rsp+B0h] [rbp-58h]
  unsigned __int64 v71; // [rsp+B4h] [rbp-54h]
  __int64 v72; // [rsp+C0h] [rbp-48h]
  __int64 v73; // [rsp+C8h] [rbp-40h]
  __int128 v74; // [rsp+E8h] [rbp-20h]
  __int128 v75; // [rsp+F8h] [rbp-10h]
  __int128 v76; // [rsp+108h] [rbp+0h]
  __int128 v77; // [rsp+118h] [rbp+10h]
  __int128 v78; // [rsp+128h] [rbp+20h]
  __int128 v79; // [rsp+138h] [rbp+30h]
  _OWORD v80[2]; // [rsp+148h] [rbp+40h]

  if ( !a3 && (*(_WORD *)(a2 + 0x102) & 0x4000) != 0 )
  {
    v14 = *(_QWORD *)(a1 + 0x4F0);
    v15 = (*(_WORD *)(a2 + 0x102) & 0x3FFF) - 1LL;
    v16 = v15 << 8;
    if ( (*(_DWORD *)((v15 << 8) + v14 + 0x68) & 0x8000) == 0 )
    {
      v17 = *(float *)(v16 + v14 + 0x98);
      v78 = v7;
      v18 = 0.0;
      v77 = v8;
      if ( v17 > 0.0 )
      {
        _XMM0 = *(unsigned int *)(a1 + 0x528);
        __asm { vmaxss  xmm0, xmm0, cs:dword_1480EA688 }
        if ( (float)(*(float *)&_XMM0 * v17) < *(float *)(a2 + 0xA8) )
          goto LABEL_11;
      }
      X = *(float *)(v16 + v14 + 0xA0);
      if ( X > 0.0 )
      {
        v22 = *(float *)(a1 + 0x1E0);
        v23 = *(float *)(a1 + 0x1E4);
        v80[1] = v4;
        v80[0] = v5;
        v24 = *(float *)(a1 + 0x1D8);
        v79 = v6;
        v25 = *(float *)(a1 + 0x1DC);
        v26 = (float)(v23 * v25) - (float)(COERCE_FLOAT(LODWORD(v24) ^ 0x80000000) * v22);
        v27 = (float)(v22 * v25) - (float)(v23 * v24);
        v28 = COERCE_FLOAT(LODWORD(v24) ^ 0x80000000) * v24;
        v29 = *(float *)(a1 + 0x53C);
        v30 = (__m128)*(unsigned int *)(a1 + 0x538);
        v76 = v9;
        v31 = v25 * v25;
        v32 = *(float *)(a1 + 0x540);
        v75 = v10;
        v33 = v26 + v26;
        v34 = 1.0;
        v74 = v11;
        v35 = (float)((float)(v28 - v31) + 1.0) + (float)(v28 - v31);
        v36 = v30;
        v36.m128_f32[0] = (float)((float)(v30.m128_f32[0] * v30.m128_f32[0]) + (float)(v29 * v29)) + (float)(v32 * v32);
        if ( v36.m128_f32[0] <= 9.9999997e-21 )
        {
          v40 = 0.0;
        }
        else
        {
          _XMM0 = _mm_shuffle_ps(v36, v36, 0);
          __asm { vrsqrtps xmm3, xmm0 }
          _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
          v39 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v36.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
              * _XMM3.m128_f32[0];
          v18 = v29 * v39;
          v34 = v32 * v39;
          v40 = v30.m128_f32[0] * v39;
        }
        if ( (float)-(float)((float)((float)(v33 * v40) + (float)(v18 * (float)(v27 + v27))) + (float)(v34 * v35)) < cosf(X) )
        {
LABEL_11:
          v41 = 0;
          n0x40 = 0;
          v43 = 0;
          n0x20 = 0x20;
          do
          {
            v45 = *(_QWORD *)(a1 + 0x500);
            if ( 1LL << n0x40 > v45 )
              break;
            if ( (v45 & (1LL << n0x40)) != 0 )
            {
              v46 = *(_QWORD *)(a1 + 0x4F0);
              if ( *(_DWORD *)(v46 + v41 + 8) == *(_DWORD *)((v15 << 8) + v46 + 8) )
              {
                *(_DWORD *)(v46 + v41 + 0x68) |= 0x10100u;
                *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v41 + 0x68) &= ~0x200u;
                v47 = *(_QWORD *)(a1 + 0x4F0);
                if ( (*(_BYTE *)(v47 + v41 + 0x68) & 4) == 0 )
                {
                  v48 = *(_QWORD *)(a1 + 0x4E8);
                  v62 = xmmword_148480BE0;
                  v58[0] = 0;
                  v59 = 0;
                  v60 = 0;
                  v58[1] = 0x1E00000001LL;
                  v61 = 0;
                  v63 = *(_DWORD *)(v47 + v41 + 8);
                  v64 = 0;
                  v73 = 0;
                  v72 = 0;
                  v49 = *(_QWORD *)(v48 + n0x20 - 8);
                  v50 = 0x108LL * n0x40;
                  if ( v49 )
                    v51 = v49 | (*(_QWORD *)(v49 + 8) << 0x30);
                  else
                    v51 = 0;
                  v59 = v51;
                  *(_QWORD *)&v61 = *(_QWORD *)(*(_QWORD *)(v48 + n0x20 - 8) + 0xC0LL);
                  LODWORD(v62) = *(__int16 *)(*(_QWORD *)(v48 + n0x20 - 8) + 0xECLL);
                  DWORD2(v62) = *(__int16 *)(*(_QWORD *)(v48 + n0x20 - 8) + 0xEELL);
                  v69 = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(v48 + n0x20 - 8) + 0x250LL)
                                  + 4LL * *(__int16 *)(v50 + v48 + 0x7C));
                  v52 = *(_QWORD *)(n0x20 + v48);
                  if ( v52 )
                    v53 = v52 | (*(_QWORD *)(v52 + 8) << 0x30);
                  else
                    v53 = 0;
                  v60 = v53;
                  *((_QWORD *)&v61 + 1) = *(_QWORD *)(*(_QWORD *)(n0x20 + v48) + 0xC0LL);
                  DWORD1(v62) = *(__int16 *)(*(_QWORD *)(n0x20 + v48) + 0xECLL);
                  HIDWORD(v62) = *(__int16 *)(*(_QWORD *)(n0x20 + v48) + 0xEELL);
                  v54 = *(_QWORD *)(a1 + 0x2C0);
                  v70 = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(n0x20 + v48) + 0x250LL)
                                  + 4LL * *(__int16 *)(v50 + v48 + 0x7E));
                  v65 = *(_OWORD *)(v48 + v43 + 0x40);
                  v66 = *(_QWORD *)(v48 + v43 + 0x50);
                  v67 = *(_QWORD *)(v48 + v43 + 0x70);
                  v68 = *(_DWORD *)(v48 + v43 + 0x78);
                  v71 = 0xFFFFFFFFFFFFFFFFuLL;
                  sub_146767820(v54, 2, (__int64)v58, 0);
                }
              }
            }
            ++n0x40;
            v41 += 0x100;
            n0x20 += 0x108;
            v43 += 0x108;
          }
          while ( n0x40 < 0x40 );
          (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x388LL))(a1);
        }
      }
    }
  }
  return sub_1468DD150(a1, a2, a3, a4);
}

// --- End Function: sub_1467CEE90 (0x1467CEE90) ---

// --- Function: sub_1467CF3A0 (0x1467CF3A0) ---
// attributes: thunk
__int64 __fastcall sub_1467CF3A0(__int64 a1, __int64 a2, unsigned int a3, unsigned int a4)
{
  return sub_1467CEE90(a1, a2, a3, a4);
}

// --- End Function: sub_1467CF3A0 (0x1467CF3A0) ---

// --- Function: sub_1467CF410 (0x1467CF410) ---
void __fastcall sub_1467CF410(__int64 a1, __int64 a2, _QWORD *a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  _QWORD *v13; // r15
  __int64 v14; // r10
  float v16; // xmm1_4
  __int64 v17; // rax
  __int64 v18; // r13
  int n0x40; // esi
  unsigned __int64 v20; // rcx
  __int64 v21; // rcx
  __int64 n0x40_5; // r12
  __int64 v23; // rbx
  __int64 v24; // rax
  __int64 v25; // r14
  __int64 v26; // r8
  __int64 v27; // rax
  __int64 v28; // rcx
  __int64 v29; // r14
  int n0x40_1; // edx
  __int64 v31; // r10
  __int64 v32; // r8
  int v33; // r9d
  int v34; // edx
  __int64 v35; // r8
  _QWORD *v36; // rax
  __int64 v37; // rcx
  char *v38; // rdx
  __int64 v39; // rbx
  int v40; // eax
  bool v41; // cc
  __int64 v42; // r14
  __int64 v43; // r13
  __int64 v44; // rbx
  __int64 v45; // rcx
  __int64 v46; // rdx
  float *v47; // rcx
  __int64 v48; // rax
  __int64 v49; // rcx
  double v50; // xmm11_8
  double v51; // xmm12_8
  double v52; // xmm13_8
  __int64 v53; // rdx
  double v54; // xmm4_8
  double v55; // xmm9_8
  double v56; // xmm10_8
  double v57; // xmm8_8
  double v58; // xmm7_8
  double v59; // xmm6_8
  double v60; // xmm4_8
  __int64 v61; // r8
  double v62; // xmm11_8
  __int64 v63; // rax
  double v64; // xmm12_8
  double v65; // xmm4_8
  double v66; // xmm13_8
  double v67; // xmm9_8
  double v68; // xmm10_8
  double v69; // xmm8_8
  double v70; // xmm7_8
  double v71; // xmm5_8
  double v72; // xmm4_8
  double v73; // xmm3_8
  __int64 v74; // rdx
  _DWORD *v75; // rcx
  float v76; // xmm15_4
  float v77; // xmm14_4
  float v78; // xmm1_4
  float v79; // kr00_4
  float v80; // xmm1_4
  int *v81; // rdx
  int v82; // r8d
  int n0x40_4; // r15d
  __int64 v84; // r12
  unsigned __int64 v85; // r9
  __int64 v86; // r11
  __int64 v87; // rdx
  __int64 v88; // rbx
  BOOL v89; // esi
  int n0x40_2; // r14d
  _DWORD *v91; // rdx
  int v92; // eax
  _BOOL8 v93; // r13
  unsigned int v94; // r11d
  __int64 v95; // rcx
  __int64 v96; // rsi
  float v97; // xmm14_4
  float v98; // xmm15_4
  __int64 v99; // rbx
  __int64 v100; // r14
  int v101; // r8d
  __int64 v102; // r13
  unsigned int v103; // r9d
  __int64 v104; // rdx
  __int64 v105; // r8
  double v106; // xmm11_8
  double v107; // xmm12_8
  double v108; // xmm13_8
  double v109; // xmm4_8
  double v110; // xmm9_8
  double v111; // xmm10_8
  double v112; // xmm8_8
  double v113; // xmm7_8
  double v114; // xmm6_8
  double v115; // xmm4_8
  __int64 v116; // rax
  __int64 v117; // rcx
  double v118; // xmm11_8
  double v119; // xmm12_8
  double v120; // xmm4_8
  double v121; // xmm13_8
  double v122; // xmm10_8
  double v123; // xmm8_8
  double v124; // xmm9_8
  double v125; // xmm7_8
  double v126; // xmm5_8
  double v127; // xmm4_8
  double v128; // xmm3_8
  __int64 v129; // rcx
  __int64 v130; // rdx
  _DWORD *v131; // rcx
  float v132; // xmm15_4
  float v133; // xmm14_4
  float v134; // xmm1_4
  float v135; // kr00_4
  float v136; // xmm1_4
  float v137; // xmm2_4
  float v138; // xmm1_4
  __int64 v139; // r8
  float v140; // xmm10_4
  float v141; // xmm9_4
  float v142; // xmm8_4
  float *v143; // rax
  float v144; // xmm7_4
  float v145; // xmm6_4
  float v146; // xmm4_4
  float v147; // xmm5_4
  float v148; // xmm4_4
  float v149; // kr00_4
  float v150; // xmm8_4
  float v151; // xmm11_4
  float v152; // xmm2_4
  float v153; // kr00_4
  float v154; // xmm10_4
  float v155; // xmm13_4
  float v156; // kr00_4
  float v157; // xmm9_4
  float v158; // xmm12_4
  float v159; // xmm4_4
  float v160; // xmm7_4
  float v161; // xmm6_4
  float v162; // xmm4_4
  int n0x3F; // esi
  unsigned __int64 v164; // rbx
  __int64 n0x40F8; // r14
  __int64 n0x3F00; // r12
  __int64 v167; // rax
  int v168; // edx
  __int64 v169; // rax
  __int64 v170; // rcx
  int v171; // [rsp+38h] [rbp-D0h]
  int v172; // [rsp+38h] [rbp-D0h]
  int n0x40_3; // [rsp+38h] [rbp-D0h]
  float v174; // [rsp+3Ch] [rbp-CCh]
  float v175; // [rsp+3Ch] [rbp-CCh]
  float v176; // [rsp+40h] [rbp-C8h]
  int v177; // [rsp+40h] [rbp-C8h]
  float v178; // [rsp+44h] [rbp-C4h]
  float v179; // [rsp+44h] [rbp-C4h]
  float v180; // [rsp+48h] [rbp-C0h]
  float v181; // [rsp+48h] [rbp-C0h]
  float v182; // [rsp+4Ch] [rbp-BCh]
  __int64 v184; // [rsp+58h] [rbp-B0h]
  __int64 v185; // [rsp+60h] [rbp-A8h]
  int v186; // [rsp+6Ch] [rbp-9Ch]
  int v187; // [rsp+70h] [rbp-98h]
  __int64 v188; // [rsp+78h] [rbp-90h]
  _BOOL8 v189; // [rsp+80h] [rbp-88h]
  __m256i v191; // [rsp+98h] [rbp-70h] BYREF
  int v192; // [rsp+B8h] [rbp-50h]
  int v193; // [rsp+BCh] [rbp-4Ch]
  int v194; // [rsp+C0h] [rbp-48h]
  __int64 v195; // [rsp+C8h] [rbp-40h]
  _QWORD *v196; // [rsp+D0h] [rbp-38h]
  int n5; // [rsp+D8h] [rbp-30h] BYREF
  unsigned int v198; // [rsp+DCh] [rbp-2Ch]
  int v199; // [rsp+E0h] [rbp-28h]
  unsigned int v200; // [rsp+E4h] [rbp-24h]
  int v201; // [rsp+E8h] [rbp-20h]
  unsigned int v202; // [rsp+F4h] [rbp-14h]
  unsigned int v203; // [rsp+10Ch] [rbp+4h]
  unsigned int v204; // [rsp+12Ch] [rbp+24h]
  unsigned int v205; // [rsp+13Ch] [rbp+34h]
  unsigned int v206; // [rsp+140h] [rbp+38h]
  unsigned int v207; // [rsp+144h] [rbp+3Ch]
  unsigned int v208; // [rsp+148h] [rbp+40h]
  unsigned int v209; // [rsp+14Ch] [rbp+44h]
  unsigned int v210; // [rsp+150h] [rbp+48h]
  unsigned int v211; // [rsp+15Ch] [rbp+54h]
  unsigned int v212; // [rsp+168h] [rbp+60h]
  unsigned int v213; // [rsp+16Ch] [rbp+64h]
  __int64 n2; // [rsp+170h] [rbp+68h]
  unsigned int v215; // [rsp+178h] [rbp+70h]
  unsigned int v216; // [rsp+184h] [rbp+7Ch]
  unsigned int v217; // [rsp+190h] [rbp+88h]
  unsigned int v218; // [rsp+19Ch] [rbp+94h]
  unsigned int v219; // [rsp+1A8h] [rbp+A0h]
  unsigned int v220; // [rsp+1C0h] [rbp+B8h]
  unsigned int v221; // [rsp+1C4h] [rbp+BCh]
  unsigned int v222; // [rsp+1D0h] [rbp+C8h]
  int p_n4[22]; // [rsp+1E8h] [rbp+E0h] BYREF
  __int64 v224; // [rsp+240h] [rbp+138h]
  int v225; // [rsp+248h] [rbp+140h]
  float v226; // [rsp+24Ch] [rbp+144h]
  float v227; // [rsp+250h] [rbp+148h]
  float v228; // [rsp+254h] [rbp+14Ch]
  unsigned int v229; // [rsp+258h] [rbp+150h]
  int v230; // [rsp+25Ch] [rbp+154h]
  float v231; // [rsp+260h] [rbp+158h]
  float v232; // [rsp+264h] [rbp+15Ch]
  float v233; // [rsp+268h] [rbp+160h]
  __int64 v234; // [rsp+270h] [rbp+168h]
  int v235; // [rsp+278h] [rbp+170h]
  int v236; // [rsp+2A0h] [rbp+198h]
  __int64 v237; // [rsp+308h] [rbp+200h] BYREF
  int v238; // [rsp+310h] [rbp+208h]
  int n0x1E; // [rsp+314h] [rbp+20Ch]
  __int64 v240; // [rsp+318h] [rbp+210h]
  __int64 v241; // [rsp+320h] [rbp+218h]
  __int128 v242; // [rsp+328h] [rbp+220h]
  __int128 v243; // [rsp+338h] [rbp+230h]
  __int128 v244; // [rsp+3B8h] [rbp+2B0h]
  __int128 v245; // [rsp+3C8h] [rbp+2C0h]
  __int128 v246; // [rsp+3D8h] [rbp+2D0h]
  __int128 v247; // [rsp+3E8h] [rbp+2E0h]
  __int128 v248; // [rsp+3F8h] [rbp+2F0h]
  __int128 v249; // [rsp+408h] [rbp+300h]
  __int128 v250; // [rsp+418h] [rbp+310h]
  __int128 v251; // [rsp+428h] [rbp+320h]
  __int128 v252; // [rsp+438h] [rbp+330h]
  __int128 v253; // [rsp+448h] [rbp+340h]

  if ( (_QWORD *)a1 != a3 )
  {
    v13 = a3;
    v14 = a2;
    v245 = v11;
    if ( a1 == a2 && a3 )
    {
      v16 = *(float *)(a1 + 0x8A4);
      v226 = 0.0;
      v227 = 0.0;
      v228 = 0.0;
      v231 = 0.0;
      v232 = 0.0;
      v233 = 0.0;
      p_n4[0] = 0xC;
      v230 = 0;
      p_n4[1] = 0xFFBFFFFF;
      v17 = *a3;
      *(float *)&p_n4[2] = v16 - (float)((float)-((COERCE_INT(fabs(v16 - 1.0)) - 1) >> 0x1F) * 0.001);
      p_n4[3] = 0xFFBFFFFF;
      p_n4[0xA] = 0xFFBFFFFF;
      p_n4[0xF] = 0xFFF7FFFF;
      p_n4[0x14] = 0xFFBFFFFF;
      v229 = 0xFFBFFFFF;
      p_n4[4] = 0xFFBFFFFF;
      p_n4[5] = 0xFFBFFFFF;
      p_n4[6] = 0xFFBFFFFF;
      p_n4[9] = 0xFFBFFFFF;
      v224 = 0;
      v225 = 0;
      v234 = 0;
      v235 = 0;
      (*(void (__fastcall **)(_QWORD *, int *, __int64))(v17 + 0x18))(a3, p_n4, 1);
      v14 = a2;
    }
    v253 = v3;
    v18 = 0;
    v252 = v4;
    v251 = v5;
    v250 = v6;
    v249 = v7;
    v248 = v8;
    v247 = v9;
    v246 = v10;
    v244 = v12;
    v184 = 0;
    v237 = 0;
    n0x1E = 0x1E;
    v240 = 0;
    v241 = 0;
    v238 = 1;
    n5 = 5;
    v198 = 0x80000000;
    v202 = 0xFFF7FFFF;
    v203 = 0xFFF7FFFF;
    v204 = 0xFFBFFFFF;
    v205 = 0xFFBFFFFF;
    v206 = 0xFFBFFFFF;
    v207 = 0xFFBFFFFF;
    v208 = 0xFFBFFFFF;
    v209 = 0xFFBFFFFF;
    v210 = 0xFFBFFFFF;
    v211 = 0xFFBFFFFF;
    v212 = 0xFFBFFFFF;
    v213 = 0xFFBFFFFF;
    v215 = 0xFFBFFFFF;
    v216 = 0xFFBFFFFF;
    v217 = 0xFFBFFFFF;
    v218 = 0xFFBFFFFF;
    v219 = 0xFFBFFFFF;
    v220 = 0xFFBFFFFF;
    v221 = 0xFFBFFFFF;
    v222 = 0xFFBFFFFF;
    v199 = 0;
    v200 = 0xFFFFFFFF;
    n2 = 2;
    v201 = 1;
    v242 = 0;
    v243 = xmmword_148480BE0;
    if ( v13 )
    {
      n0x40 = 0;
      while ( 1 )
      {
        v20 = *(_QWORD *)(a1 + 0x500);
        if ( 1LL << n0x40 > v20 )
          goto LABEL_67;
        if ( (v20 & (1LL << n0x40)) == 0
          || (v21 = *(_QWORD *)(a1 + 0x4F0),
              n0x40_5 = n0x40,
              v23 = (__int64)n0x40 << 8,
              (*(_BYTE *)(v23 + v21 + 0x68) & 4) != 0) )
        {
          ++n0x40;
          goto LABEL_42;
        }
        v24 = *(_QWORD *)(a1 + 0x4E8);
        v25 = 0x108LL * n0x40;
        if ( *(_QWORD *)(v25 + v24 + 0x18) == v14 )
        {
          v171 = sub_1468E9610((__int64)v13, (__int128 *)(v25 + v24 + 0x40), *(float *)(v23 + v21 + 0x70));
          if ( v171 >= 0 )
          {
            *(_QWORD *)(sub_1467E3BE0(a1, (__int64)&v237, n0x40) + 0x88) = v13;
            sub_146767820(*(_QWORD *)(a1 + 0x2C0), 2, (__int64)&v237, 0);
            sub_142138C80((__int64)p_n4);
            v26 = *(_QWORD *)(a1 + 0x500);
            _bittestandset64(&v18, n0x40);
            v184 = v18;
            v236 = 1;
            n0x40 += sub_1467BF1B0((_QWORD *)a1, n0x40, v26, p_n4);
            v27 = *v13;
            p_n4[0x10] = *(_DWORD *)(v13[0x4A] + 4LL * v171);
            (*(void (__fastcall **)(_QWORD *, int *, __int64))(v27 + 0x30))(v13, p_n4, 1);
            *((_DWORD *)v13 + 0x82) |= *(_DWORD *)(a1 + 0x208) & 0x4004000;
            goto LABEL_42;
          }
          v14 = a2;
        }
        v28 = *(_QWORD *)(a1 + 0x4E8);
        if ( *(_QWORD *)(v25 + v28 + 0x20) == v14
          && (v172 = sub_1468E9610(
                       (__int64)v13,
                       (__int128 *)(v25 + v28 + 0x58),
                       *(float *)(*(_QWORD *)(a1 + 0x4F0) + v23 + 0x70)),
              v172 >= 0) )
        {
          *(_QWORD *)(sub_1467E3BE0(a1, (__int64)&v237, n0x40) + 0x90) = v13;
          sub_146767820(*(_QWORD *)(a1 + 0x2C0), 2, (__int64)&v237, 0);
          v29 = 0;
          n0x40_1 = n0x40;
          if ( n0x40 < 0x40 )
          {
            v32 = (__int64)n0x40 << 8;
            do
            {
              v31 = *(_QWORD *)(a1 + 0x500);
              if ( !_bittest64(&v31, (unsigned int)n0x40_1) )
                break;
              if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v32 + 8) != *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0)
                                                                               + ((__int64)n0x40 << 8)
                                                                               + 8) )
                break;
              v32 += 0x100;
              v29 |= 1LL << n0x40_1++;
            }
            while ( n0x40_1 < 0x40 );
          }
          v33 = *(_DWORD *)(a1 + 0x148);
          v34 = 0;
          v35 = 0;
          if ( v33 > 0 )
          {
            v36 = *(_QWORD **)(a1 + 0x140);
            do
            {
              if ( *v36 == *(_QWORD *)(0x108LL * n0x40 + *(_QWORD *)(a1 + 0x4E8) + 0x20) )
                break;
              ++v34;
              ++v35;
              ++v36;
            }
            while ( v34 < v33 );
          }
          *(_QWORD *)(*(_QWORD *)(a1 + 0x4C8) + 8 * v35) &= ~v29;
          *(_QWORD *)(a1 + 0x500) &= ~v29;
          if ( !*(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8 * v35) && !*(_QWORD *)(*(_QWORD *)(a1 + 0x4C8) + 8 * v35) )
          {
            v37 = *(_QWORD *)(0x108LL * n0x40 + *(_QWORD *)(a1 + 0x4E8) + 0x20);
            if ( !(*(unsigned int (__fastcall **)(__int64, __int64))(*(_QWORD *)v37 + 0x240LL))(v37, a1) )
            {
              v38 = *(char **)(0x108LL * n0x40 + *(_QWORD *)(a1 + 0x4E8) + 0x20);
              if ( v38 )
                sub_1467E0E20((char *)a1, v38, 1u, 1, 0);
            }
          }
          v39 = *(_QWORD *)(a1 + 0x4C8);
          v40 = (*(__int64 (__fastcall **)(__int64, _QWORD *, _QWORD))(*(_QWORD *)a1 + 0x208LL))(a1, v13, 0);
          *(_QWORD *)(v39 + 8LL * v40) |= v29;
          *(_QWORD *)(a1 + 0x500) |= v29;
          v41 = n0x40 < 0x40;
          if ( n0x40 >= 0x40 )
            goto LABEL_43;
          v42 = __ROL8__(1, n0x40);
          v43 = 0x108LL * n0x40;
          v44 = (__int64)n0x40 << 8;
          do
          {
            if ( (v42 & *(_QWORD *)(a1 + 0x500)) == 0 )
              break;
            if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + v44 + 8) != *(_DWORD *)((n0x40_5 << 8)
                                                                             + *(_QWORD *)(a1 + 0x4F0)
                                                                             + 8) )
              break;
            *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + v43 + 0x20) = v13;
            v45 = *(_QWORD *)(a1 + 0x4E8);
            v46 = 0x108LL * n0x40;
            *(_DWORD *)(v46 + v45 + 0x7C) = (unsigned __int16)*(_DWORD *)(v46 + v45 + 0x7C);
            *(_DWORD *)(v46 + v45 + 0x7C) |= v172 << 0x10;
            v47 = *(float **)(*(_QWORD *)(a1 + 0x4E8) + v43 + 0x30);
            v180 = v47[0x27];
            v174 = v47[0x24];
            v178 = v47[0x25];
            v176 = v47[0x26];
            *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + v43 + 0x30) = (*(__int64 (__fastcall **)(_QWORD *, _QWORD, _QWORD))(*v13 + 0x2A0LL))(
                                                                  v13,
                                                                  (unsigned int)v172,
                                                                  (unsigned int)-(((*(_DWORD *)(*(_QWORD *)(a1 + 0x4F0)
                                                                                              + v44
                                                                                              + 0x68)
                                                                                  & 0x100)
                                                                                 - 1) >> 0x1F));
            v48 = *(_QWORD *)(a1 + 0x4E8);
            v49 = *(_QWORD *)(v48 + v43 + 0x20);
            v50 = *(double *)(v48 + v43 + 0x58) - *(double *)(v49 + 0x1C0);
            v51 = *(double *)(v48 + v43 + 0x60) - *(double *)(v49 + 0x1C8);
            v52 = *(double *)(v48 + v43 + 0x68) - *(double *)(v49 + 0x1D0);
            v53 = *(_QWORD *)(v49 + 0x230);
            v54 = *(float *)(v49 + 0x1E4);
            v55 = *(float *)(v49 + 0x1E0);
            v56 = *(float *)(v49 + 0x1DC);
            v57 = *(float *)(v49 + 0x1D8);
            v58 = v55 * v51 - v56 * v52 + v54 * v50;
            v59 = v57 * v52 - v55 * v50 + v54 * v51;
            v60 = v56 * v50 - v57 * v51 + v54 * v52;
            v61 = 0x20 * ((__int64)*(int *)(v48 + v43 + 0x7C) >> 0x10);
            v62 = v59 * v55 - v60 * v56 + v50 + v59 * v55 - v60 * v56 - *(float *)(v61 + v53 + 0x10);
            v63 = *(_QWORD *)(a1 + 0x4F0);
            v64 = v60 * v57 - v58 * v55 + v51 + v60 * v57 - v58 * v55 - *(float *)(v61 + v53 + 0x14);
            v65 = *(float *)(v61 + v53 + 0xC);
            v66 = v58 * v56 - v59 * v57 + v52 + v58 * v56 - v59 * v57 - *(float *)(v61 + v53 + 0x18);
            v67 = *(float *)(v61 + v53 + 8);
            v68 = *(float *)(v61 + v53 + 4);
            v69 = *(float *)(v61 + v53);
            v70 = v67 * v64 - v68 * v66 + v65 * v62;
            v71 = v69 * v66 - v67 * v62 + v65 * v64;
            v72 = v68 * v62 - v69 * v64 + v65 * v66;
            v73 = (float)(1.0 / *(float *)(v61 + v53 + 0x1C));
            *(double *)(v63 + v44 + 0x48) = (v71 * v67 - v72 * v68 + v62 + v71 * v67 - v72 * v68) * v73;
            *(double *)(v63 + v44 + 0x50) = (v72 * v69 - v70 * v67 + v64 + v72 * v69 - v70 * v67) * v73;
            *(double *)(v63 + v44 + 0x58) = (v70 * v68 - v71 * v69 + v66 + v70 * v68 - v71 * v69) * v73;
            v74 = *(_QWORD *)(a1 + 0x4F0);
            v75 = *(_DWORD **)(*(_QWORD *)(a1 + 0x4E8) + v43 + 0x30);
            LODWORD(v71) = v75[0x25];
            LODWORD(v59) = v75[0x27];
            LODWORD(v70) = v75[0x24];
            LODWORD(v69) = v75[0x26];
            v76 = (float)((float)(v180 * *(float *)&v59) + (float)(v178 * *(float *)&v71))
                + (float)((float)(v176 * *(float *)&v69) + (float)(*(float *)&v70 * v174));
            v77 = (float)((float)((float)(*(float *)&v69 * v178) - (float)(v176 * *(float *)&v71))
                        + (float)(v174 * *(float *)&v59))
                - (float)(v180 * *(float *)&v70);
            *(float *)&v66 = (float)((float)((float)(v176 * *(float *)&v70) - (float)(*(float *)&v69 * v174))
                                   + (float)(v178 * *(float *)&v59))
                           - (float)(v180 * *(float *)&v71);
            v78 = *(float *)&v70 * v178;
            LODWORD(v70) = *(_DWORD *)(v74 + v44 + 0x20);
            LODWORD(v62) = *(_DWORD *)(v74 + v44 + 0x28);
            LODWORD(v67) = *(_DWORD *)(v74 + v44 + 0x24);
            v79 = (float)((float)(v174 * *(float *)&v71) - v78) + (float)(v176 * *(float *)&v59);
            v80 = v180 * *(float *)&v69;
            LODWORD(v69) = *(_DWORD *)(v74 + v44 + 0x1C);
            *(float *)(v74 + v44 + 0x24) = (float)((float)((float)(v77 * *(float *)&v70)
                                                         - (float)(*(float *)&v66 * *(float *)&v69))
                                                 + (float)(v76 * *(float *)&v67))
                                         + (float)((float)(v79 - v80) * *(float *)&v62);
            *(float *)(v74 + v44 + 0x1C) = (float)((float)((float)(*(float *)&v66 * *(float *)&v67)
                                                         - (float)((float)(v79 - v80) * *(float *)&v70))
                                                 + (float)(v76 * *(float *)&v69))
                                         + (float)(v77 * *(float *)&v62);
            *(float *)(v74 + v44 + 0x20) = (float)((float)((float)((float)(v79 - v80) * *(float *)&v69)
                                                         - (float)(v77 * *(float *)&v67))
                                                 + (float)(v76 * *(float *)&v70))
                                         + (float)(*(float *)&v66 * *(float *)&v62);
            *(float *)(v74 + v44 + 0x28) = (float)(v76 * *(float *)&v62)
                                         - (float)((float)((float)(v77 * *(float *)&v69)
                                                         + (float)(*(float *)&v66 * *(float *)&v70))
                                                 + (float)((float)(v79 - v80) * *(float *)&v67));
            v44 += 0x100;
            v42 = __ROL8__(v42, 1);
            ++n0x40;
            v43 += 0x108;
          }
          while ( n0x40 < 0x40 );
          v18 = v184;
        }
        else
        {
          v81 = (int *)(v23 + *(_QWORD *)(a1 + 0x4F0) + 8LL);
          v82 = *v81;
          if ( n0x40 >= 0x40 )
            goto LABEL_67;
          while ( (unsigned __int64)(1LL << n0x40) <= *(_QWORD *)(a1 + 0x500) && *v81 == v82 )
          {
            ++n0x40;
            v81 += 0x40;
            if ( n0x40 >= 0x40 )
              goto LABEL_67;
          }
        }
LABEL_42:
        v41 = n0x40 < 0x40;
LABEL_43:
        v14 = a2;
        if ( !v41 )
          goto LABEL_67;
      }
    }
    n0x40_4 = 0;
    v84 = 0;
    while ( 1 )
    {
      v85 = *(_QWORD *)(a1 + 0x500);
      if ( 1LL << n0x40_4 > v85 )
        break;
      if ( (v85 & (1LL << n0x40_4)) != 0 )
      {
        v86 = *(_QWORD *)(a1 + 0x4F0);
        if ( (*(_BYTE *)(v86 + (v84 << 8) + 0x68) & 4) == 0 )
        {
          v87 = 0x108 * v84 + *(_QWORD *)(a1 + 0x4E8);
          if ( *(_QWORD *)(v87 + 0x18) == v14 || *(_QWORD *)(v87 + 0x20) == v14 )
          {
            v88 = v84;
            v89 = *(_QWORD *)(v87 + 0x20) == v14;
            v177 = v89;
            n0x40_2 = n0x40_4;
            v91 = (_DWORD *)(v86 + (v84 << 8) + 8);
            do
            {
              if ( 1LL << n0x40_2 > v85 )
                break;
              if ( *v91 != *(_DWORD *)(v86 + (v84 << 8) + 8) )
                break;
              ++n0x40_2;
              ++v88;
              v91 += 0x40;
            }
            while ( n0x40_2 < 0x40 );
            v188 = v88;
            n0x40_3 = n0x40_2;
            v92 = sub_1468E9610(
                    a2,
                    (__int128 *)(0x108LL * n0x40_4 + *(_QWORD *)(a1 + 0x4E8) + 0x40LL),
                    *(float *)((v84 << 8) + v86 + 0x70));
            v93 = v89;
            v94 = v92;
            v189 = v89;
            v187 = v92;
            if ( v92 < 0 )
            {
              *(_QWORD *)(sub_1467E3BE0(a1, (__int64)&v237, n0x40_4) + 8LL * v89 + 0x88) = 0;
              sub_146767820(*(_QWORD *)(a1 + 0x2C0), 2, (__int64)&v237, 0);
              v18 = v184;
              _bittestandset64(&v18, n0x40_4);
              v184 = v18;
            }
            else
            {
              v95 = *(_QWORD *)(a1 + 0x4F0);
              v96 = 0x10 * (v89 + 0x10 * v84);
              v97 = *(float *)(v95 + v96 + 0x78);
              v98 = *(float *)(v95 + v96 + 0x7C);
              v181 = *(float *)(v95 + v96 + 0x84);
              v182 = v97;
              v175 = v98;
              v179 = *(float *)(v95 + v96 + 0x80);
              if ( v84 < v88 )
              {
                v99 = 0x108 * v84;
                v100 = v84 << 8;
                v101 = v92 + (-v177 & (0xFFFF * v92));
                v186 = v101;
                v102 = 8 * (v93 + 0x21 * v84) + 0x28;
                v103 = -v177 ^ 0xFFFF0000;
                v185 = v188 - v84;
                do
                {
                  *(_DWORD *)(0x108LL * n0x40_4 + *(_QWORD *)(a1 + 0x4E8) + 0x7C) = v101
                                                                                  | *(_DWORD *)(0x108LL * n0x40_4
                                                                                              + *(_QWORD *)(a1 + 0x4E8)
                                                                                              + 0x7C)
                                                                                  & v103;
                  *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + v102) = (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a2 + 0x2A0LL))(
                                                                  a2,
                                                                  v94,
                                                                  (unsigned int)-(((*(_DWORD *)(*(_QWORD *)(a1 + 0x4F0)
                                                                                              + v100
                                                                                              + 0x68)
                                                                                  & 0x100)
                                                                                 - 1) >> 0x1F));
                  v104 = v99 + *(_QWORD *)(a1 + 0x4E8);
                  v105 = *(_QWORD *)(v104 + 8 * v189 + 0x18);
                  v106 = *(double *)(v104 + 0x18 * v189 + 0x40) - *(double *)(v105 + 0x1C0);
                  v107 = *(double *)(v104 + 0x18 * v189 + 0x48) - *(double *)(v105 + 0x1C8);
                  v108 = *(double *)(v104 + 0x18 * v189 + 0x50) - *(double *)(v105 + 0x1D0);
                  v109 = *(float *)(v105 + 0x1E4);
                  v110 = *(float *)(v105 + 0x1E0);
                  v111 = *(float *)(v105 + 0x1DC);
                  v112 = *(float *)(v105 + 0x1D8);
                  v113 = v110 * v107 - v111 * v108 + v109 * v106;
                  v114 = v112 * v108 - v110 * v106 + v109 * v107;
                  v115 = v111 * v106 - v112 * v107 + v109 * v108;
                  v116 = *(_QWORD *)(v105 + 0x230);
                  v117 = 0x20LL
                       * (*(__int16 *)(v104 + 0x7C) + (-v177 & (*(__int16 *)(v104 + 0x7E) - *(__int16 *)(v104 + 0x7C))));
                  v118 = v114 * v110 - v115 * v111 + v106 + v114 * v110 - v115 * v111 - *(float *)(v117 + v116 + 0x10);
                  v119 = v115 * v112 - v113 * v110 + v107 + v115 * v112 - v113 * v110 - *(float *)(v117 + v116 + 0x14);
                  v120 = *(float *)(v117 + v116 + 0xC);
                  v121 = v113 * v111 - v114 * v112 + v108 + v113 * v111 - v114 * v112 - *(float *)(v117 + v116 + 0x18);
                  v122 = *(float *)(v117 + v116 + 4);
                  v123 = *(float *)(v117 + v116);
                  v124 = *(float *)(v117 + v116 + 8);
                  v125 = v119 * v124 - v121 * v122 + v118 * v120;
                  v126 = v121 * v123 - v118 * v124 + v119 * v120;
                  v127 = v118 * v122 - v119 * v123 + v121 * v120;
                  v128 = (float)(1.0 / *(float *)(v117 + v116 + 0x1C));
                  v129 = *(_QWORD *)(a1 + 0x4F0) + 0x18 * (v189 + 2);
                  *(double *)(v129 + v100) = (v126 * v124 - v127 * v122 + v118 + v126 * v124 - v127 * v122) * v128;
                  *(double *)(v129 + v100 + 8) = (v127 * v123 - v125 * v124 + v119 + v127 * v123 - v125 * v124) * v128;
                  *(double *)(v129 + v100 + 0x10) = (v125 * v122 - v126 * v123 + v121 + v125 * v122 - v126 * v123)
                                                  * v128;
                  v130 = *(_QWORD *)(a1 + 0x4F0);
                  v131 = *(_DWORD **)(*(_QWORD *)(a1 + 0x4E8) + v102);
                  LODWORD(v125) = v131[0x24];
                  LODWORD(v126) = v131[0x25];
                  LODWORD(v114) = v131[0x27];
                  LODWORD(v123) = v131[0x26];
                  v132 = (float)((float)(v98 * *(float *)&v126) + (float)(v181 * *(float *)&v114))
                       + (float)((float)(*(float *)&v125 * v97) + (float)(*(float *)&v123 * v179));
                  v133 = (float)((float)((float)(v175 * *(float *)&v123) - (float)(*(float *)&v126 * v179))
                               + (float)(v97 * *(float *)&v114))
                       - (float)(*(float *)&v125 * v181);
                  LODWORD(v124) = *(_DWORD *)(v130 + v96 + 0x14);
                  *(float *)&v121 = (float)((float)((float)(v179 * *(float *)&v125) - (float)(*(float *)&v123 * v182))
                                          + (float)(v175 * *(float *)&v114))
                                  - (float)(*(float *)&v126 * v181);
                  v134 = v175 * *(float *)&v125;
                  LODWORD(v125) = *(_DWORD *)(v130 + v96 + 0x10);
                  LODWORD(v118) = *(_DWORD *)(v130 + v96 + 0x18);
                  v135 = (float)((float)(*(float *)&v126 * v182) - v134) + (float)(v179 * *(float *)&v114);
                  v136 = *(float *)&v123 * v181;
                  LODWORD(v123) = *(_DWORD *)(v130 + v96 + 0xC);
                  *(float *)&v119 = v135 - v136;
                  *(float *)(v130 + v96 + 0x18) = (float)(v132 * *(float *)&v118)
                                                - (float)((float)((float)(v133 * *(float *)&v123)
                                                                + (float)(*(float *)&v125 * *(float *)&v121))
                                                        + (float)(*(float *)&v124 * (float)(v135 - v136)));
                  *(float *)(v130 + v96 + 0xC) = (float)((float)((float)(*(float *)&v124 * *(float *)&v121)
                                                               - (float)(*(float *)&v125 * (float)(v135 - v136)))
                                                       + (float)(v132 * *(float *)&v123))
                                               + (float)(v133 * *(float *)&v118);
                  *(float *)&v127 = (float)((float)(*(float *)&v123 * (float)(v135 - v136))
                                          - (float)(v133 * *(float *)&v124))
                                  + (float)(v132 * *(float *)&v125);
                  v137 = v133 * *(float *)&v125;
                  v97 = v182;
                  *(float *)(v130 + v96 + 0x10) = *(float *)&v127 + (float)(*(float *)&v118 * *(float *)&v121);
                  v138 = v132 * *(float *)&v124;
                  v98 = v175;
                  *(float *)(v130 + v96 + 0x14) = (float)((float)(v137 - (float)(*(float *)&v123 * *(float *)&v121))
                                                        + v138)
                                                + (float)(*(float *)&v118 * *(float *)&v119);
                  v139 = *(_QWORD *)(a1 + 0x4E8);
                  if ( v177 == ((COERCE_UNSIGNED_INT64(
                                   *(double *)(*(_QWORD *)(v139 + v99 + 0x30) + 0x108LL)
                                 - *(double *)(*(_QWORD *)(v139 + v99 + 0x28) + 0x108LL)) >> 0x3F)
                              & ((*(_DWORD *)(*(_QWORD *)(v139 + v99 + 0x20) + 0xF4LL) - 3) >> 0x1F)
                              & (unsigned int)~(*(_DWORD *)(*(_QWORD *)(v139 + v99 + 0x20) + 0xF0LL) >> 0x1F)) )
                  {
                    v140 = *(float *)(v139 + v99 + 0x8C);
                    v141 = *(float *)(v139 + v99 + 0x88);
                    v142 = *(float *)(v139 + v99 + 0x84);
                    v143 = *(float **)(v139 + v102);
                    v144 = (float)((float)(v175 * v140) - (float)(v179 * v141)) + (float)(v181 * v142);
                    v145 = (float)((float)(v179 * v142) - (float)(v182 * v140)) + (float)(v181 * v141);
                    v146 = (float)((float)(v182 * v141) - (float)(v175 * v142)) + (float)(v181 * v140);
                    v147 = (float)(v175 * v146) - (float)(v179 * v145);
                    v148 = (float)(v144 * v179) - (float)(v182 * v146);
                    v149 = v142 + v147;
                    v150 = v143[0x26];
                    v151 = v149 + v147;
                    v152 = (float)(v182 * v145) - (float)(v144 * v175);
                    v153 = v140 + v152;
                    v154 = v143[0x24];
                    v155 = v153 + v152;
                    v156 = v141 + v148;
                    v157 = v143[0x25];
                    v158 = v156 + v148;
                    v159 = v143[0x27];
                    v160 = (float)((float)(v158 * v150) - (float)(v155 * v157)) + (float)(v151 * v159);
                    v161 = (float)((float)(v155 * v154) - (float)(v150 * v151)) + (float)(v158 * v159);
                    v162 = (float)((float)(v157 * v151) - (float)(v158 * v154)) + (float)(v155 * v159);
                    *(float *)(v139 + v99 + 0x84) = (float)(v151 + (float)((float)(v161 * v150) - (float)(v162 * v157)))
                                                  + (float)((float)(v161 * v150) - (float)(v162 * v157));
                    *(float *)(v139 + v99 + 0x88) = (float)(v158 + (float)((float)(v162 * v154) - (float)(v160 * v150)))
                                                  + (float)((float)(v162 * v154) - (float)(v160 * v150));
                    *(float *)(v139 + v99 + 0x8C) = (float)(v155 + (float)((float)(v160 * v157) - (float)(v161 * v154)))
                                                  + (float)((float)(v160 * v157) - (float)(v161 * v154));
                  }
                  v101 = v186;
                  ++n0x40_4;
                  v94 = v187;
                  v100 += 0x100;
                  v103 = -v177 ^ 0xFFFF0000;
                  v96 += 0x100;
                  v102 += 0x108;
                  v99 += 0x108;
                  --v185;
                }
                while ( v185 );
                n0x40_2 = n0x40_3;
                v88 = v188;
              }
              v18 = v184;
            }
            v84 = v88 - 1;
            n0x40_4 = n0x40_2 - 1;
          }
        }
      }
      ++n0x40_4;
      ++v84;
      if ( n0x40_4 >= 0x40 )
        break;
      v14 = a2;
    }
    v13 = a3;
LABEL_67:
    n0x3F = 0x3F;
    v164 = 0x8000000000000000uLL;
    n0x40F8 = 0x40F8;
    n0x3F00 = 0x3F00;
    do
    {
      if ( (v164 & v18) != 0 )
      {
        v167 = *(_QWORD *)(a1 + 0x4E8);
        v198 = *(_DWORD *)(*(_QWORD *)(a1 + 0x4F0) + n0x3F00 + 8);
        (*(void (__fastcall **)(_QWORD, int *, __int64))(**(_QWORD **)(v167 + n0x40F8 + 0x18) + 0x30LL))(
          *(_QWORD *)(v167 + n0x40F8 + 0x18),
          &n5,
          1);
      }
      v164 = __ROR8__(v164, 1);
      n0x3F00 -= 0x100;
      n0x40F8 -= 0x108;
      --n0x3F;
    }
    while ( n0x3F >= 0 );
    if ( v13 )
      (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 4);
    v168 = *(_DWORD *)(a1 + 0x208);
    v169 = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
    v191.m256i_i64[0] = 0;
    v191.m256i_i64[2] = v169;
    v191.m256i_i64[3] = *(_QWORD *)(a1 + 0xC0);
    v192 = *(__int16 *)(a1 + 0xEC);
    v193 = *(__int16 *)(a1 + 0xEE);
    v194 = 0;
    v170 = *(_QWORD *)(a1 + 0x2C0);
    v195 = a2;
    v191.m256i_i64[1] = 0x1E00000003LL;
    v196 = v13;
    sub_1467671B0(v170, v168, &v191, 0);
  }
}

// --- End Function: sub_1467CF410 (0x1467CF410) ---

// --- Function: CRigidEntity::PostSetStateFromSnapshot (0x1467D19C0) ---
__int64 __fastcall CRigidEntity::PostSetStateFromSnapshot(__int64 a1)
{
  __int128 v1; // xmm6
  __int128 v2; // xmm7
  __int128 v3; // xmm8
  __int128 v4; // xmm9
  __int128 v5; // xmm10
  __int128 v6; // xmm11
  __int128 v7; // xmm12
  __int128 v8; // xmm13
  __int128 v9; // xmm14
  __int128 v10; // xmm15
  unsigned int v12; // ecx
  volatile signed __int64 *v13; // r15
  __int64 v14; // rax
  int v15; // ebp
  unsigned __int64 v16; // rdi
  unsigned __int64 v17; // rsi
  _DWORD *v18; // rax
  unsigned int v19; // r10d
  unsigned int v20; // edx
  float v21; // xmm13_4
  float v22; // xmm12_4
  float v23; // xmm10_4
  float *v24; // rcx
  float v25; // xmm11_4
  float v26; // xmm9_4
  float v27; // xmm4_4
  float v28; // xmm7_4
  float v29; // xmm8_4
  float v30; // xmm6_4
  float v31; // xmm4_4
  __int128 n0x41200000_1; // xmm0
  __int128 n0x41200000; // kr00_16
  unsigned __int64 n0x200000; // rax
  __int64 v36; // rax
  int v37; // esi
  _QWORD *v38; // r14
  __int64 v39; // rdi
  __int64 v40; // rax
  _QWORD *v41; // r9
  int v42; // eax
  int v43; // r8d
  __int64 v44; // rdx
  unsigned __int64 n0x200000_1; // rax
  __int64 v46; // rdi
  float v48[4]; // [rsp+30h] [rbp-F8h]
  int n0xA; // [rsp+40h] [rbp-E8h] BYREF
  unsigned __int64 v50; // [rsp+44h] [rbp-E4h]
  int v51; // [rsp+54h] [rbp-D4h]
  __int128 v52; // [rsp+60h] [rbp-C8h]
  __int128 v53; // [rsp+70h] [rbp-B8h]
  __int128 v54; // [rsp+80h] [rbp-A8h]
  __int128 v55; // [rsp+90h] [rbp-98h]
  __int128 v56; // [rsp+A0h] [rbp-88h]
  __int128 v57; // [rsp+B0h] [rbp-78h]
  __int128 v58; // [rsp+C0h] [rbp-68h]
  __int128 v59; // [rsp+D0h] [rbp-58h]
  __int128 v60; // [rsp+E0h] [rbp-48h]
  __int128 v61; // [rsp+F0h] [rbp-38h]

  v12 = *(_DWORD *)(a1 + 0x4A4);
  if ( !(unsigned __int8)(v12 >> 1) )
    return 1;
  v13 = (volatile signed __int64 *)(a1 + 0x8C8);
  n0xA = 0xA;
  v50 = 0xFFFFFFFFFFFFFFFFuLL;
  *(_DWORD *)(a1 + 0x148) = (unsigned __int8)(v12 >> 1);
  *(_DWORD *)(a1 + 0x4A4) = v12 & 0xFFFFFE01;
  v14 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C8), 0x200000, 0);
  if ( v14 )
    sub_1403DE750(a1 + 0x8C8, v14, 0, (__int64)"CRigidEntity::PostSetStateFromSnapshot", (__int64)"m_lockContacts", 1);
  v15 = 0;
  v16 = *(_QWORD *)(a1 + 0x4D0);
  if ( v16 != a1 + 0x4D0 )
  {
    v53 = v9;
    v52 = v10;
    v61 = v1;
    v60 = v2;
    v59 = v3;
    v58 = v4;
    v57 = v5;
    v56 = v6;
    v55 = v7;
    v54 = v8;
    do
    {
      v17 = *(_QWORD *)v16;
      v18 = (_DWORD *)sub_146924B00(*(_QWORD *)(a1 + 0x2C0), *(unsigned int *)(v16 + 0x20));
      *(_QWORD *)(v16 + 0x20) = v18;
      if ( v18
        && (v19 = *(__int16 *)(v16 + 0x7E),
            (unsigned int)*(__int16 *)(v16 + 0x7C) < *(_DWORD *)(*(_QWORD *)(v16 + 0x18) + 0x290LL))
        && v19 < v18[0xA4]
        && (*(_QWORD *)(v16 + 0x30) = (*(__int64 (__fastcall **)(_DWORD *, _QWORD, __int64))(*(_QWORD *)v18 + 0x2A0LL))(
                                        v18,
                                        v19,
                                        1),
            LODWORD(v50) = *(__int16 *)(v16 + 0x7E),
            (*(unsigned int (__fastcall **)(_QWORD, int *))(**(_QWORD **)(v16 + 0x20) + 0x28LL))(
              *(_QWORD *)(v16 + 0x20),
              &n0xA)) )
      {
        v20 = *(_DWORD *)(v16 + 0xFC) & 0x1FFFF | (v51 << 0x11);
        *(_DWORD *)(v16 + 0xFC) = v20;
        v21 = *(float *)(v16 + 0x8C);
        v22 = *(float *)(v16 + 0x88);
        v23 = *(float *)(v16 + 0x84);
        v24 = *(float **)(v16 + 8LL * (v20 & 3) + 0x28);
        v25 = v24[0x25];
        v26 = v24[0x26];
        v27 = v24[0x27];
        v28 = v24[0x24];
        v29 = (float)((float)(v21 * v25) - (float)(v22 * v26)) + (float)(v23 * v27);
        v30 = (float)((float)(v23 * v26) - (float)(v28 * v21)) + (float)(v27 * v22);
        v31 = (float)((float)(v28 * v22) - (float)(v23 * v25)) + (float)(v27 * v21);
        *(float *)(v16 + 0x70) = (float)(v23 + (float)((float)(v25 * v31) - (float)(v26 * v30)))
                               + (float)((float)(v25 * v31) - (float)(v26 * v30));
        *(float *)(v16 + 0x74) = (float)(v22 + (float)((float)(v26 * v29) - (float)(v28 * v31)))
                               + (float)((float)(v26 * v29) - (float)(v28 * v31));
        *(float *)(v16 + 0x78) = (float)(v21 + (float)((float)(v28 * v30) - (float)(v25 * v29)))
                               + (float)((float)(v28 * v30) - (float)(v25 * v29));
        n0x41200000 = 0x41200000u;
        *(float *)&n0x41200000 = 10.0 * *(float *)(v16 + 0xF8);
        n0x41200000_1 = n0x41200000;
        *(_QWORD *)v48 = *(_QWORD *)(v16 + 0x70);
        __asm { vminss  xmm3, xmm0, xmm15 }
        *(float *)(v16 + 0x9C) = v48[0] * *(float *)&_XMM3;
        *(float *)(v16 + 0xA0) = *(float *)&_XMM3 * v48[1];
        *(float *)(v16 + 0xA4) = *(float *)&_XMM3 * *(float *)(v16 + 0x78);
        *(_DWORD *)(v16 + 0x98) = 0;
        *(float *)(v16 + 0x90) = sub_1467C1640(*(_QWORD *)(a1 + 0x2C0), (v20 >> 2) & 0x7FFF, v20 >> 0x11, 0).m128_f32[0];
      }
      else
      {
        sub_1467B49B0(a1, (unsigned __int64 *)v16, 0xFFFFFFFF, 0, 0);
        sub_1469222F0(*(_QWORD *)(a1 + 0x2C0));
      }
      v16 = v17;
    }
    while ( v17 != a1 + 0x4D0 );
  }
  if ( a1 != 0xFFFFFFFFFFFFF738uLL )
  {
    n0x200000 = _InterlockedCompareExchange64(v13, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C8), n0x200000);
  }
  v36 = _InterlockedCompareExchange64(v13, 0x200000, 0);
  if ( v36 )
    sub_1403DE750(a1 + 0x8C8, v36, 0, (__int64)"CRigidEntity::PostSetStateFromSnapshot", (__int64)"m_lockContacts", 1);
  v37 = *(_DWORD *)(a1 + 0x148) - 1;
  if ( v37 >= 0 )
  {
    v38 = (_QWORD *)(a1 + 0x4C0);
    v39 = 8LL * v37;
    do
    {
      v40 = sub_146924B00(*(_QWORD *)(a1 + 0x2C0), *(unsigned int *)(*(_QWORD *)(a1 + 0x140) + v39));
      v41 = v38;
      *(_QWORD *)(v39 + *(_QWORD *)(a1 + 0x140)) = v40;
      if ( !v40
        || (v41 = (_QWORD *)(a1 + 0x4C0), v38 = (_QWORD *)(a1 + 0x4C0), !*(_QWORD *)(v39 + *(_QWORD *)(a1 + 0x4C0)))
        && !*(_QWORD *)(v39 + *(_QWORD *)(a1 + 0x4C8)) )
      {
        v42 = *(_DWORD *)(a1 + 0x148);
        v43 = v37;
        if ( v37 < v42 )
        {
          v44 = v39;
          do
          {
            v44 += 8;
            ++v43;
            *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + v44 - 8) = *(_QWORD *)(*(_QWORD *)(a1 + 0x140) + v44);
            *(_QWORD *)(*v41 + v44 - 8) = *(_QWORD *)(*v41 + v44);
            *(_QWORD *)(v44 + *(_QWORD *)(a1 + 0x4C8) - 8) = *(_QWORD *)(v44 + *(_QWORD *)(a1 + 0x4C8));
            v42 = *(_DWORD *)(a1 + 0x148);
          }
          while ( v43 < v42 );
        }
        v38 = (_QWORD *)(a1 + 0x4C0);
        *(_DWORD *)(a1 + 0x148) = v42 - 1;
      }
      v39 -= 8;
      --v37;
    }
    while ( v37 >= 0 );
  }
  if ( a1 != 0xFFFFFFFFFFFFF738uLL )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v13, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C8), n0x200000_1);
  }
  if ( *(int *)(a1 + 0x148) > 0 )
  {
    v46 = 0;
    do
    {
      sub_1468BDE30(*(_QWORD *)(*(_QWORD *)(a1 + 0x140) + v46));
      ++v15;
      v46 += 8;
    }
    while ( v15 < *(_DWORD *)(a1 + 0x148) );
  }
  return 1;
}

// --- End Function: CRigidEntity::PostSetStateFromSnapshot (0x1467D19C0) ---

// --- Function: sub_1467D1F00 (0x1467D1F00) ---
__int64 __fastcall sub_1467D1F00(__int64 *a1, float *a2, int a3, int a4)
{
  float v4; // xmm1_4
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  double v12; // xmm0_8
  unsigned int v13; // edi
  double v16; // rdx
  double v17; // rax
  float v18; // xmm14_4
  float v19; // xmm9_4
  float v20; // xmm10_4
  _QWORD *v22; // rax
  float *v23; // r8
  __m128 v24; // kr00_16
  float *v25; // rcx
  float *v26; // r9
  __m128 v27; // xmm6
  float *v28; // r10
  __m128 v29; // kr00_16
  float v32; // xmm7_4
  float v35; // xmm6_4
  float v36; // xmm4_4
  float v37; // xmm2_4
  __m128 v39; // xmm0
  float v40; // xmm2_4
  __m128 v41; // kr00_16
  float v44; // xmm4_4
  __m128 v45; // kr00_16
  float v46; // eax
  float v49; // xmm4_4
  float v51; // xmm7_4
  double v53; // rax
  double v54; // [rsp+40h] [rbp-C0h] BYREF
  float v55; // [rsp+48h] [rbp-B8h]
  double v56; // [rsp+50h] [rbp-B0h]
  _DWORD v57[16]; // [rsp+60h] [rbp-A0h] BYREF
  __int128 v58; // [rsp+A0h] [rbp-60h]
  unsigned __int64 v59; // [rsp+B0h] [rbp-50h]
  unsigned int v60; // [rsp+B8h] [rbp-48h]
  unsigned int v61; // [rsp+BCh] [rbp-44h]
  unsigned int v62; // [rsp+C0h] [rbp-40h]
  unsigned int v63; // [rsp+C4h] [rbp-3Ch]
  unsigned int v64; // [rsp+C8h] [rbp-38h]
  unsigned int v65; // [rsp+CCh] [rbp-34h]
  __m256 v66; // [rsp+D0h] [rbp-30h]
  __int128 v67; // [rsp+F0h] [rbp-10h]
  unsigned int v68; // [rsp+100h] [rbp+0h]
  unsigned int v69; // [rsp+104h] [rbp+4h]
  unsigned int v70; // [rsp+108h] [rbp+8h]
  __m256 v71; // [rsp+110h] [rbp+10h]
  __int128 v72; // [rsp+150h] [rbp+50h]
  __int128 v73; // [rsp+160h] [rbp+60h]
  __int128 v74; // [rsp+170h] [rbp+70h]
  __int128 v75; // [rsp+180h] [rbp+80h]
  __int128 v76; // [rsp+190h] [rbp+90h]
  __int128 v77; // [rsp+1B0h] [rbp+B0h]
  __int128 v78; // [rsp+1C0h] [rbp+C0h]

  v12 = *((double *)a1 + 0xD6);
  v72 = v11;
  v13 = 0;
  if ( v12 <= 0.0 && a4 > 0 )
    return sub_1467D1F00(a1, a2, 0, 0);
  if ( v4 > 0.0 && (v12 > 0.0 || *((_DWORD *)a1 + 0x273) != *(_DWORD *)(a1[0x58] + 0x84A00)) )
  {
    v13 = sub_146881850(
            a1[0x58],
            (_DWORD)a1,
            (unsigned int)&v54,
            a3,
            a4,
            (__int64)a1 + 0x68C,
            *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL),
            0);
    if ( v13 )
    {
      if ( (LODWORD(v54) & 0xFFA00000) != 0xFFA00000 )
      {
        v16 = *(double *)a1;
        v78 = v5;
        v77 = v6;
        if ( (*(unsigned int (__fastcall **)(__int64 *))(*(_QWORD *)&v16 + 8LL))(a1) == 3 )
        {
          v17 = *(double *)a1;
          v58 = xmmword_14872B590;
          v76 = v7;
          v66 = ymmword_148992BC0;
          v75 = v8;
          v67 = xmmword_1483D3A70;
          v74 = v9;
          v71 = ymmword_148ACECA0;
          v73 = v10;
          v57[0] = 2;
          v57[4] = 0xFFBFFFFF;
          v57[1] = 0xFFBFFFFF;
          v57[2] = 0xFFBFFFFF;
          v57[3] = 0xFFBFFFFF;
          v57[6] = 0xFFBFFFFF;
          v57[7] = 0xFFBFFFFF;
          v57[8] = 0xFFBFFFFF;
          v57[5] = 0xFFBFFFFF;
          v57[0xD] = 0xFFBFFFFF;
          v57[0xE] = 0xFFBFFFFF;
          v57[0xF] = 0xFFBFFFFF;
          v59 = 0xFFFFFFFFFFFFFFFFuLL;
          v57[0xB] = 0xFFBFFFFF;
          v62 = 0xFFBFFFFF;
          v63 = 0xFFBFFFFF;
          v64 = 0xFFBFFFFF;
          v57[9] = 0xFFBFFFFF;
          v57[0xA] = 0xFFBFFFFF;
          v65 = 0xFFBFFFFF;
          v60 = 0x80000000;
          v61 = 0x80000000;
          v68 = 0xFFBFFFFF;
          v69 = 0xFFBFFFFF;
          v70 = 0x80000000;
          __asm { vzeroupper }
          (*(void (__fastcall **)(__int64 *, _DWORD *))(*(_QWORD *)&v17 + 0x20LL))(a1, v57);
          v18 = v71.m256_f32[7];
          v19 = v55;
          v20 = *((float *)&v54 + 1);
          _XMM11 = LODWORD(v54);
          v22 = (__int64 *)((char *)a1 + 0x544);
          if ( v71.m256_f32[7] <= 0.0 )
          {
            a2 = (float *)(a1 + 0xA9);
            v23 = (float *)a1 + 0x153;
            if ( (float)((float)((float)((float)(*((float *)a1 + 0x152) - *((float *)&v54 + 1))
                                       * (float)(*((float *)a1 + 0x152) - *((float *)&v54 + 1)))
                               + (float)((float)(*(float *)v22 - *(float *)&v54)
                                       * (float)(*(float *)v22 - *(float *)&v54)))
                       + (float)((float)(*((float *)a1 + 0x153) - v55) * (float)(*((float *)a1 + 0x153) - v55))) > 0.001 )
              goto LABEL_15;
          }
          v24 = (__m128)*(unsigned int *)v22;
          a2 = (float *)(a1 + 0xA9);
          v25 = (float *)a1 + 0x151;
          v23 = (float *)a1 + 0x153;
          v26 = (float *)(a1 + 0xA9);
          v24.m128_f32[0] = (float)((float)(*(float *)v22 * *(float *)v22)
                                  + (float)(*((float *)a1 + 0x152) * *((float *)a1 + 0x152)))
                          + (float)(*((float *)a1 + 0x153) * *((float *)a1 + 0x153));
          v27 = v24;
          v28 = (float *)a1 + 0x153;
          if ( v24.m128_f32[0] > 0.001 )
          {
            v29 = (__m128)LODWORD(v54);
            v29.m128_f32[0] = (float)((float)(*(float *)&v54 * *(float *)&v54)
                                    + (float)(*((float *)&v54 + 1) * *((float *)&v54 + 1)))
                            + (float)(v55 * v55);
            if ( v29.m128_f32[0] > 0.001 )
            {
              _XMM0 = _mm_shuffle_ps(v29, v29, 0);
              __asm { vrsqrtps xmm3, xmm0 }
              _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
              v32 = (float)(1.5
                          - (float)((float)((float)(_XMM3.m128_f32[0] * v29.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                  * _XMM3.m128_f32[0];
              _XMM1 = _mm_shuffle_ps(v27, v27, 0);
              __asm { vrsqrtps xmm3, xmm1 }
              _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
              v35 = (float)(1.5
                          - (float)((float)((float)(_XMM3.m128_f32[0] * v27.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                  * _XMM3.m128_f32[0];
              v36 = (float)((float)(*((float *)&v54 + 1) * v32)
                          * (float)(_mm_shuffle_ps((__m128)(unsigned __int64)*v22, (__m128)(unsigned __int64)*v22, 0x55).m128_f32[0]
                                  * v35))
                  + (float)((float)(v32 * *(float *)&v54) * (float)(COERCE_FLOAT(*v22) * v35));
              v37 = (float)(v55 * v32) * (float)(v35 * *((float *)a1 + 0x153));
              v56 = *(double *)v22;
              if ( (float)(v36 + v37) < 0.98299998 )
              {
LABEL_15:
                *((_DWORD *)a1 + 0x14B) = 0x3E4CCCCD;
                v25 = (float *)a1 + 0x151;
                v26 = a2;
                v28 = v23;
              }
            }
          }
          __asm { vunpcklps xmm1, xmm11, xmm10 }
          *(double *)v25 = *(double *)&_XMM1;
          a1[0xA7] = *(__int64 *)&_XMM1;
          v25[2] = v19;
          *((float *)a1 + 0x150) = v19;
          v39 = (__m128)*((unsigned int *)a1 + 0x14E);
          v40 = *((float *)a1 + 0x14F);
          v54 = *(double *)&_XMM1;
          v41 = v39;
          v41.m128_f32[0] = (float)((float)(v39.m128_f32[0] * v39.m128_f32[0]) + (float)(v40 * v40))
                          + (float)(v19 * v19);
          if ( v41.m128_f32[0] > 0.001 && v71.m256_f32[6] > 0.0 )
          {
            v41.m128_f32[0] = v41.m128_f32[0] + 1.1754944e-38;
            _XMM0 = _mm_shuffle_ps(v41, v41, 0);
            __asm { vrsqrtps xmm3, xmm0 }
            _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
            _XMM3.m128_f32[0] = (float)((float)(1.5
                                              - (float)((float)((float)(_XMM3.m128_f32[0] * v41.m128_f32[0])
                                                              * _XMM3.m128_f32[0])
                                                      * 0.5))
                                      * _XMM3.m128_f32[0])
                              * v71.m256_f32[6];
            *((float *)a1 + 0x14E) = *(float *)&_XMM11 * _XMM3.m128_f32[0];
            *((float *)a1 + 0x14F) = v20 * _XMM3.m128_f32[0];
            *((float *)a1 + 0x150) = v19 * _XMM3.m128_f32[0];
          }
          v45 = (__m128)*(unsigned int *)v25;
          v45.m128_f32[0] = (float)((float)(*v25 * *v25) + (float)(*v26 * *v26)) + (float)(*v28 * *v28);
          v44 = v45.m128_f32[0];
          if ( v45.m128_f32[0] > 0.001 && v18 > 0.0 )
          {
            v46 = v25[2];
            v45.m128_f32[0] = v45.m128_f32[0] + 1.1754944e-38;
            _XMM0 = _mm_shuffle_ps(v45, v45, 0);
            __asm { vrsqrtps xmm3, xmm0 }
            _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
            v56 = *(double *)v25;
            v49 = (float)((float)(1.5
                                - (float)((float)((float)(_XMM3.m128_f32[0] * (float)(v44 + 1.1754944e-38))
                                                * _XMM3.m128_f32[0])
                                        * 0.5))
                        * _XMM3.m128_f32[0])
                * v18;
            *v25 = *(float *)&v56 * v49;
            *v26 = v49 * *((float *)&v56 + 1);
            *v28 = v46 * v49;
          }
        }
        else
        {
          _XMM5 = LODWORD(v54);
          v51 = v55;
          if ( (float)((float)((float)((float)(*((float *)a1 + 0x152) - *((float *)&v54 + 1))
                                     * (float)(*((float *)a1 + 0x152) - *((float *)&v54 + 1)))
                             + (float)((float)(*((float *)a1 + 0x151) - *(float *)&v54)
                                     * (float)(*((float *)a1 + 0x151) - *(float *)&v54)))
                     + (float)((float)(*((float *)a1 + 0x153) - v55) * (float)(*((float *)a1 + 0x153) - v55))) != 0.0 )
            *((_DWORD *)a1 + 0x14B) = 0x3E4CCCCD;
          __asm { vunpcklps xmm1, xmm5, xmm6 }
          *(__int64 *)((char *)a1 + 0x544) = *(__int64 *)&_XMM1;
          a1[0xA7] = *(__int64 *)&_XMM1;
          *((float *)a1 + 0x153) = v51;
          *((float *)a1 + 0x150) = v51;
          v54 = *(double *)&_XMM1;
        }
      }
    }
  }
  v53 = *(double *)a1;
  *((_DWORD *)a1 + 0x273) = *(_DWORD *)(a1[0x58] + 0x84A00);
  (*(void (__fastcall **)(__int64 *, float *, __int64 *, __int64 *))(*(_QWORD *)&v53 + 0x320LL))(
    a1,
    a2,
    a1 + 0x78,
    a1 + 0x7B);
  return v13;
}

// --- End Function: sub_1467D1F00 (0x1467D1F00) ---

// --- Function: sub_1467D2D90 (0x1467D2D90) ---
__int64 __fastcall sub_1467D2D90(__int64 Parameter, __int64 a2, int a3, float a4, int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  __int64 v15; // rax
  int v17; // r12d
  __int64 v18; // r13
  float v20; // xmm3_4
  __m128 v21; // kr00_16
  float v22; // xmm0_4
  __int64 v23; // rdi
  __int64 v24; // rbx
  __m128 v25; // xmm15
  __int64 v26; // rcx
  __int64 v27; // rdx
  float *v28; // rcx
  __int128 v29; // xmm10
  float v30; // xmm9_4
  float v31; // xmm4_4
  float v32; // xmm13_4
  float v33; // xmm12_4
  float v34; // xmm11_4
  float v35; // xmm7_4
  float v36; // xmm14_4
  __int128 v37; // kr00_16
  __int128 v38; // xmm8
  __int128 v39; // kr00_16
  __int128 v40; // xmm6
  __int128 v41; // kr00_16
  float v42; // xmm4_4
  __int128 v43; // xmm5
  float v44; // xmm0_4
  __int128 v45; // kr00_16
  float v46; // xmm9_4
  __int128 v47; // xmm4
  __int128 v48; // kr00_16
  __int128 v49; // xmm3
  __int128 v50; // kr00_16
  __int128 v51; // xmm11
  __int128 v52; // kr00_16
  __int128 v53; // xmm12
  __int128 v54; // kr00_16
  __int128 v55; // xmm13
  float v56; // xmm7_4
  __int128 v59; // xmm12
  __int64 v64; // rdi
  double v65; // xmm9_8
  double v66; // xmm7_8
  __int64 v67; // rsi
  __int128 v68; // xmm9
  float v69; // xmm13_4
  float v72; // xmm15_4
  __m128 v76; // xmm0
  __m128 v77; // kr00_16
  __int128 v78; // kr00_16
  __int128 v84; // xmm14
  double v91; // xmm6_8
  double v92; // xmm7_8
  __int64 v93; // rbx
  double v94; // xmm4_8
  int v95; // r12d
  __int64 v96; // rsi
  int v97; // xmm2_4
  int v98; // xmm3_4
  __int64 v99; // rax
  int v100; // ecx
  int v101; // edx
  int v102; // r8d
  float v103; // xmm2_4
  int v104; // r9d
  double v105; // xmm0_8
  double v106; // kr00_8
  __int64 *v107; // rax
  float v108; // xmm1_4
  float v109; // xmm12_4
  __m128 v110; // kr00_16
  __m128 v111; // xmm1
  __m128 v112; // xmm1
  __m128 v113; // xmm2
  double v121; // xmm7_8
  double v129; // xmm0_8
  __int128 v130; // kr00_16
  bool v132; // zf
  __int64 result; // rax
  __int64 v136; // rdx
  unsigned __int64 v137; // rax
  __m256 v138; // ymm0
  __int64 v139; // rcx
  int v140; // eax
  _QWORD *v143; // r8
  double v144; // xmm8_8
  __int128 v145; // xmm7
  __int128 v146; // xmm4
  __int128 v147; // xmm6
  double v148; // xmm9_8
  double v149; // xmm5_8
  __int128 v150; // kr00_16
  __int128 v151; // xmm1
  __int128 v152; // xmm4
  float v155; // xmm3_4
  __int128 v156; // xmm1
  __int128 v157; // xmm6
  float v160; // xmm3_4
  __int64 v163; // rcx
  float v167; // [rsp+70h] [rbp-98h]
  double v168; // [rsp+78h] [rbp-90h] BYREF
  float v169; // [rsp+80h] [rbp-88h]
  float v170; // [rsp+88h] [rbp-80h]
  double v171; // [rsp+90h] [rbp-78h]
  __int64 v172; // [rsp+98h] [rbp-70h]
  double v173; // [rsp+A0h] [rbp-68h]
  double v174[2]; // [rsp+A8h] [rbp-60h] BYREF
  double v175; // [rsp+B8h] [rbp-50h]
  char v176[52]; // [rsp+C8h] [rbp-40h] BYREF
  float v177; // [rsp+FCh] [rbp-Ch]
  float v178; // [rsp+100h] [rbp-8h]
  float v179; // [rsp+104h] [rbp-4h]
  __int128 v180; // [rsp+108h] [rbp+0h] BYREF
  unsigned __int64 v181; // [rsp+118h] [rbp+10h]
  __int64 v182; // [rsp+120h] [rbp+18h]
  __int64 v183; // [rsp+128h] [rbp+20h]
  __int64 v184; // [rsp+130h] [rbp+28h]
  int v185; // [rsp+138h] [rbp+30h]
  int v186; // [rsp+13Ch] [rbp+34h]
  int v187; // [rsp+140h] [rbp+38h]
  int v188; // [rsp+144h] [rbp+3Ch]
  int v189; // [rsp+148h] [rbp+40h]
  __m256 v190; // [rsp+150h] [rbp+48h]
  int v191; // [rsp+170h] [rbp+68h]
  float v192; // [rsp+174h] [rbp+6Ch]
  float v193; // [rsp+178h] [rbp+70h]
  float v194; // [rsp+17Ch] [rbp+74h]
  float v195; // [rsp+180h] [rbp+78h]
  float v196; // [rsp+184h] [rbp+7Ch]
  float v197; // [rsp+188h] [rbp+80h]
  float v198; // [rsp+18Ch] [rbp+84h]
  float v199; // [rsp+190h] [rbp+88h]
  int v200; // [rsp+194h] [rbp+8Ch]
  int v201; // [rsp+198h] [rbp+90h]
  __int16 v202; // [rsp+19Ch] [rbp+94h]
  __int16 v203; // [rsp+19Eh] [rbp+96h]
  unsigned int v204; // [rsp+1A0h] [rbp+98h]
  float v205; // [rsp+1A4h] [rbp+9Ch]
  float v206; // [rsp+1A8h] [rbp+A0h]
  float v207; // [rsp+1ACh] [rbp+A4h]
  __int64 v208; // [rsp+1B0h] [rbp+A8h]
  char v209; // [rsp+1B8h] [rbp+B0h]
  float v210; // [rsp+1BCh] [rbp+B4h]
  __int64 v211; // [rsp+1C0h] [rbp+B8h]
  __int64 v212; // [rsp+1C8h] [rbp+C0h]
  __int128 v213; // [rsp+1E8h] [rbp+E0h]
  __int128 v214; // [rsp+1F8h] [rbp+F0h]
  __int128 v215; // [rsp+208h] [rbp+100h]
  __int128 v216; // [rsp+218h] [rbp+110h]
  __int128 v217; // [rsp+228h] [rbp+120h]
  __int128 v218; // [rsp+238h] [rbp+130h]
  __int128 v219; // [rsp+248h] [rbp+140h]
  __int128 v220; // [rsp+258h] [rbp+150h]
  __int128 v221; // [rsp+268h] [rbp+160h]
  __int128 v222; // [rsp+278h] [rbp+170h]

  v222 = v5;
  v221 = v6;
  v220 = v7;
  v219 = v8;
  v218 = v9;
  v217 = v10;
  v216 = v11;
  v215 = v12;
  v214 = v13;
  v213 = v14;
  v15 = *(_QWORD *)(Parameter + 0x2C0);
  v17 = a5;
  v18 = a3;
  v20 = *(float *)(v15 + 0x214);
  v21 = (__m128)*(unsigned int *)(v15 + 0x20C);
  v21.m128_f32[0] = *(float *)(v15 + 0x20C) * *(float *)(v15 + 0x20C);
  v22 = *(float *)(v15 + 0x210) * *(float *)(v15 + 0x210);
  v172 = a3 + 0x801LL * a5;
  v23 = SLODWORD(qword_1513C9D60[v172 + 0x400]);
  v21.m128_f32[0] = (float)(v21.m128_f32[0] + v22) + (float)(v20 * v20);
  v24 = 8 * v23;
  v25 = _mm_sqrt_ps(_mm_shuffle_ps(v21, v21, 0));
  v26 = **(_QWORD **)(8 * v23 + *(_QWORD *)(Parameter + 0x238));
  (*(void (__fastcall **)(__int64, char *))(*(_QWORD *)v26 + 0x30LL))(v26, v176);
  v27 = *(_QWORD *)(Parameter + 0x230);
  v23 *= 0x20;
  v28 = *(float **)(v24 + *(_QWORD *)(Parameter + 0x238));
  v29 = *(unsigned int *)(v27 + v23 + 4);
  v30 = *(float *)(v27 + v23 + 8);
  v31 = *(float *)(v27 + v23 + 0xC);
  v32 = v28[0xF];
  v33 = v28[0xE];
  v34 = v28[0xD];
  v35 = *(float *)(v27 + v23);
  v36 = *(float *)(v27 + v23 + 0x1C);
  v37 = v29;
  *(float *)&v37 = (float)((float)(*(float *)&v29 * v32) - (float)(v30 * v33)) + (float)(v34 * v31);
  v38 = v37;
  v39 = LODWORD(v34);
  *(float *)&v39 = (float)((float)(v34 * v30) - (float)(v35 * v32)) + (float)(v31 * v33);
  v40 = v39;
  v41 = LODWORD(v35);
  v42 = (float)((float)(v35 * v33) - (float)(v34 * *(float *)&v29)) + (float)(v31 * v32);
  *(float *)&v41 = (float)(v42 * *(float *)&v29) - (float)(*(float *)&v40 * v30);
  v43 = v41;
  v44 = *(float *)&v38 * *(float *)&v29;
  LODWORD(v29) = *(_DWORD *)(Parameter + 0x3DC);
  v45 = v38;
  *(float *)&v45 = *(float *)&v38 * v30;
  v46 = *(float *)(Parameter + 0x3E0);
  *(float *)&v45 = *(float *)&v45 - (float)(v42 * v35);
  v47 = v45;
  v48 = v40;
  *(float *)&v48 = (float)(*(float *)&v40 * v35) - v44;
  v49 = v48;
  v50 = v43;
  *(float *)&v50 = (float)((float)((float)(*(float *)&v43 + v34) + *(float *)&v43) * v36) + *(float *)(v27 + v23 + 0x10);
  v51 = v50;
  v52 = v47;
  *(float *)&v52 = (float)(*(float *)&v47 + v33) + *(float *)&v47;
  LODWORD(v47) = *(_DWORD *)(Parameter + 0x3E4);
  *(float *)&v52 = (float)(*(float *)&v52 * v36) + *(float *)(v27 + v23 + 0x14);
  v53 = v52;
  v54 = v49;
  *(float *)&v54 = (float)((float)((float)(*(float *)&v49 + v32) + *(float *)&v49) * v36) + *(float *)(v27 + v23 + 0x18);
  v55 = v54;
  v56 = *(float *)(Parameter + 0x3D8);
  *(float *)&v38 = (float)((float)(*(float *)&v54 * *(float *)&v29) - (float)(*(float *)&v53 * v46))
                 + (float)(*(float *)&v51 * *(float *)&v47);
  *(float *)&v40 = (float)((float)(*(float *)&v51 * v46) - (float)(*(float *)&v54 * v56))
                 + (float)(*(float *)&v53 * *(float *)&v47);
  *(float *)&v47 = (float)((float)(*(float *)&v53 * v56) - (float)(*(float *)&v51 * *(float *)&v29))
                 + (float)(*(float *)&v54 * *(float *)&v47);
  *(float *)&v43 = (float)(*(float *)&v29 * *(float *)&v47) - (float)(v46 * *(float *)&v40);
  *((_QWORD *)&v54 + 1) = *((_QWORD *)&v51 + 1);
  *(float *)&v47 = (float)(v46 * *(float *)&v38) - (float)(v56 * *(float *)&v47);
  *(double *)&v54 = (float)((float)(*(float *)&v51 + *(float *)&v43) + *(float *)&v43)
                  + *(double *)(Parameter + 0x3C0)
                  - *(double *)(Parameter + 0x628);
  _XMM0 = v54;
  __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
  v173 = *(float *)&_XMM1;
  *((_QWORD *)&v54 + 1) = *((_QWORD *)&v53 + 1);
  *(float *)&v54 = *(float *)&v53 + *(float *)&v47;
  v59 = COERCE_UNSIGNED_INT64(*(float *)&_XMM1);
  *(double *)&v54 = (float)(*(float *)&v54 + *(float *)&v47)
                  + *(double *)(Parameter + 0x3C8)
                  - *(double *)(Parameter + 0x630);
  _XMM2 = v54;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  *((_QWORD *)&v54 + 1) = *((_QWORD *)&v55 + 1);
  *(double *)&v54 = (float)((float)(*(float *)&v55
                                  + (float)((float)(v56 * *(float *)&v40) - (float)(*(float *)&v29 * *(float *)&v38)))
                          + (float)((float)(v56 * *(float *)&v40) - (float)(*(float *)&v29 * *(float *)&v38)))
                  + *(double *)(Parameter + 0x3D0)
                  - *(double *)(Parameter + 0x638);
  _XMM1 = v54;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  v64 = 0xC0 * v18;
  v171 = *(float *)&_XMM0;
  v168 = *(float *)&_XMM2;
  *(double *)&v51 = *(float *)(0xC0 * v18 + a2 + 0x74);
  v65 = *(float *)(0xC0 * v18 + a2 + 0x70);
  *(double *)&v38 = *(double *)&v51 * *(float *)&_XMM0 - v65 * *(float *)&_XMM2;
  *(double *)&v54 = *(float *)(0xC0 * v18 + a2 + 0x6C);
  *(double *)&v47 = *(double *)&v54 * *(float *)&_XMM2 - *(double *)&v51 * *(double *)&v59;
  *(double *)&v43 = v65 * *(double *)&v59 - *(double *)&v54 * *(float *)&_XMM0;
  v66 = *(double *)&v47 * *(double *)(Parameter + 0x5B8)
      + *(double *)&v38 * *(double *)(Parameter + 0x5B0)
      + *(double *)&v43 * *(double *)(Parameter + 0x5C0);
  *(double *)&v40 = *(double *)&v47 * *(double *)(Parameter + 0x5D0)
                  + *(double *)&v38 * *(double *)(Parameter + 0x5C8)
                  + *(double *)&v43 * *(double *)(Parameter + 0x5D8);
  v67 = v172;
  *(double *)&v43 = *(double *)&v47 * *(double *)(Parameter + 0x5E8)
                  + *(double *)&v38 * *(double *)(Parameter + 0x5E0)
                  + *(double *)&v43 * *(double *)(Parameter + 0x5F0);
  *(double *)&v47 = (*(double *)&v43 * *(double *)&v59 - v66 * *(float *)&_XMM2) * v65;
  v68 = COERCE_UNSIGNED_INT64(*(float *)&_XMM0);
  v69 = v178;
  v167 = v179;
  _XMM0 = COERCE_UNSIGNED_INT64(
            1.0
          / (*(double *)&v47
           + (*(double *)&v40 * *(float *)&_XMM2 - *(double *)&v43 * *(double *)&v68) * *(double *)&v54
           + (v66 * *(double *)&v68 - *(double *)&v40 * *(double *)&v59) * *(double *)&v51
           + *(double *)(Parameter + 0x6B8)));
  __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
  *((_QWORD *)&v54 + 1) = _XMM10.m128_u64[1];
  *(float *)&v54 = (float)(_XMM10.m128_f32[0]
                         * *(float *)(*(_QWORD *)(Parameter + 0x258)
                                    + 0x18LL * SLODWORD(qword_1513C9D60[v172 + 0x400])
                                    + 0xC))
                 * _mm_shuffle_ps(v25, v25, 0xFF).m128_f32[0];
  v72 = v177;
  v170 = *(float *)&v54 / (float)((float)((float)(v178 + v177) + v179) * v36);
  *(double *)&v54 = v170 * *(double *)(0xC0 * v18 + a2);
  _XMM0 = v54;
  v174[0] = *(double *)(0xC0 * v18 + a2 + 0x6C);
  __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
  _XMM8 = COERCE_UNSIGNED_INT64((float)(*(float *)v174 * *(float *)&_XMM3));
  v77 = _mm_shuffle_ps((__m128)*(unsigned __int64 *)&v174[0], (__m128)*(unsigned __int64 *)&v174[0], 0x55);
  v77.m128_f32[0] = v77.m128_f32[0] * *(float *)&_XMM3;
  v76 = v77;
  v78 = *(unsigned int *)(0xC0 * v18 + a2 + 0x74);
  *(double *)&v78 = (float)(*(float *)(0xC0 * v18 + a2 + 0x74) * *(float *)&_XMM3);
  _XMM6 = v78;
  *((_QWORD *)&v78 + 1) = v76.m128_u64[1];
  *(double *)&v78 = v76.m128_f32[0];
  _XMM7 = v78;
  __asm { vcvtsd2ss xmm0, xmm8, xmm8 }
  *(float *)(Parameter + 0x868) = *(float *)&_XMM0 + *(float *)(Parameter + 0x868);
  __asm { vcvtsd2ss xmm2, xmm7, xmm7 }
  *(float *)(Parameter + 0x86C) = *(float *)&_XMM2 + *(float *)(Parameter + 0x86C);
  __asm { vcvtsd2ss xmm1, xmm6, xmm6 }
  *(float *)(Parameter + 0x870) = *(float *)&_XMM1 + *(float *)(Parameter + 0x870);
  v84 = *(unsigned __int64 *)&v168;
  *((_QWORD *)&v78 + 1) = *((_QWORD *)&v68 + 1);
  *(double *)&v78 = *(double *)&v68 * *(double *)&_XMM6 - v168 * *(double *)&_XMM7;
  _XMM1 = v78;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(float *)(Parameter + 0x874) = *(float *)&_XMM2 + *(float *)(Parameter + 0x874);
  *((_QWORD *)&v78 + 1) = *((_QWORD *)&v84 + 1);
  *(double *)&v78 = *(double *)&v84 * *(double *)&_XMM8 - *(double *)&v59 * *(double *)&_XMM6;
  _XMM1 = v78;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(float *)(Parameter + 0x878) = *(float *)&_XMM2 + *(float *)(Parameter + 0x878);
  *((_QWORD *)&v78 + 1) = *((_QWORD *)&v59 + 1);
  *(double *)&v78 = *(double *)&v59 * *(double *)&_XMM7 - *(double *)&v68 * *(double *)&_XMM8;
  _XMM1 = v78;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *(float *)(Parameter + 0x87C) = *(float *)&_XMM2 + *(float *)(Parameter + 0x87C);
  *(double *)&v43 = *(float *)(Parameter + 0x684);
  *(double *)&v47 = *(float *)(Parameter + 0x680);
  v91 = *(double *)&v43 * *(double *)&v84
      - *(float *)(Parameter + 0x688) * *(double *)&v68
      + *(float *)(Parameter + 0x68C);
  v92 = *(float *)(Parameter + 0x688) * *(double *)&v59
      - *(double *)&v47 * *(double *)&v84
      + *(float *)(Parameter + 0x690);
  v93 = 0;
  v94 = *(double *)&v47 * *(double *)&v68 - *(double *)&v43 * *(double *)&v59 + *(float *)(Parameter + 0x694);
  if ( *(float *)(Parameter + 0x860) <= 3.0 )
  {
    v109 = a4;
    v110 = _XMM10;
    v110.m128_f32[0] = _XMM10.m128_f32[0] * v170;
    v111 = _mm_sqrt_ps(_mm_shuffle_ps(v110, v110, 0));
    v112 = _mm_shuffle_ps(v111, v111, 0xFF);
    v110.m128_u64[1] = v112.m128_u64[1];
    *(double *)v110.m128_u64 = (float)((float)(v112.m128_f32[0] * -2.0) * a4);
    v113 = v110;
    *(double *)v110.m128_u64 = *(double *)v110.m128_u64 * v92;
    _XMM9 = v110;
    v110.m128_u64[1] = v113.m128_u64[1];
    *(double *)v110.m128_u64 = *(double *)v113.m128_u64 * v94;
    _XMM8 = v110;
    v110.m128_u64[1] = v113.m128_u64[1];
    *(double *)v110.m128_u64 = *(double *)v113.m128_u64 * v91;
    _XMM10 = v110;
    __asm { vcvtsd2ss xmm0, xmm10, xmm10 }
    *(double *)(Parameter + 0x760) = *(float *)&_XMM0 + *(double *)(Parameter + 0x760);
    __asm { vcvtsd2ss xmm0, xmm9, xmm9 }
    *(double *)(Parameter + 0x768) = *(float *)&_XMM0 + *(double *)(Parameter + 0x768);
    __asm { vcvtsd2ss xmm0, xmm8, xmm8 }
    v110.m128_u64[1] = _XMM8.m128_u64[1];
    *(double *)v110.m128_u64 = *(double *)_XMM8.m128_u64 * v171;
    *(double *)(Parameter + 0x770) = *(float *)&_XMM0 + *(double *)(Parameter + 0x770);
    _XMM5 = *(_OWORD *)(Parameter + 0x668);
    v121 = (float)(a4 * 3.5);
    v175 = *(double *)(Parameter + 0x678);
    *(double *)v110.m128_u64 = *(double *)v110.m128_u64
                             - *(double *)&v84 * *(double *)_XMM9.m128_u64
                             - *(double *)&_XMM5 * v121;
    _XMM1 = v110;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(double *)_XMM1.m128_u64 = *(double *)_XMM8.m128_u64 * v173;
    *(double *)(Parameter + 0x778) = *(float *)&_XMM2 + *(double *)(Parameter + 0x778);
    v110.m128_u64[1] = *((_QWORD *)&v84 + 1);
    __asm { vunpckhpd xmm5, xmm5, xmm5 }
    *(double *)v110.m128_u64 = *(double *)&v84 * *(double *)_XMM10.m128_u64
                             - *(double *)_XMM1.m128_u64
                             - *(double *)&_XMM5 * v121;
    _XMM1 = v110;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *(double *)_XMM1.m128_u64 = *(double *)_XMM10.m128_u64 * v171;
    v110.m128_u64[1] = _XMM9.m128_u64[1];
    *(double *)v110.m128_u64 = *(double *)_XMM9.m128_u64 * v173;
    *(double *)(Parameter + 0x780) = *(float *)&_XMM2 + *(double *)(Parameter + 0x780);
    *(double *)v110.m128_u64 = *(double *)v110.m128_u64 - *(double *)_XMM1.m128_u64 - v121 * v175;
    _XMM1 = v110;
    __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
    *(double *)(Parameter + 0x788) = *(float *)&_XMM3 + *(double *)(Parameter + 0x788);
    v108 = v167;
  }
  else
  {
    v95 = 0;
    if ( *(int *)(v64 + a2 + 0xB0) <= 0 )
    {
      v108 = v167;
    }
    else
    {
      v96 = 0;
      do
      {
        v97 = *(_DWORD *)(v64 + a2 + 0x70);
        v98 = *(_DWORD *)(v64 + a2 + 0x74);
        *(float *)(v64 + a2 + 0x60) = COERCE_FLOAT(*(_DWORD *)(v64 + a2 + 0x6C) ^ 0x80000000);
        *(float *)(v64 + a2 + 0x64) = COERCE_FLOAT(v97 ^ 0x80000000);
        *(float *)(v64 + a2 + 0x68) = COERCE_FLOAT(v98 ^ 0x80000000);
        v99 = *(_QWORD *)(v64 + a2 + 8);
        v100 = *(_DWORD *)(v64 + a2 + 0x98);
        v101 = *(_DWORD *)(v64 + a2 + 0x90);
        v102 = *(_DWORD *)(v64 + a2 + 0x94);
        v103 = *(float *)(v96 + v99 + 4);
        v104 = *(_DWORD *)(v64 + a2 + 0x8C);
        v174[0] = *(float *)(v96 + v99) + *(double *)(v64 + a2 + 0x10);
        v105 = v103 + *(double *)(v64 + a2 + 0x18);
        v106 = *(float *)(v96 + v99 + 8) + *(double *)(v64 + a2 + 0x20);
        v168 = 0.0;
        v169 = 0.0;
        v174[1] = v105;
        v175 = v106;
        v107 = sub_1467D9C50(Parameter, v18, (__int64)v174, a2, v104, v102, v101, v100, 0x40, 0.001, a5, (__int64)&v168);
        if ( v107 )
        {
          v107[0x11] = 0;
          *((_DWORD *)v107 + 0x21) = 0;
        }
        ++v95;
        *(_QWORD *)(Parameter + 0x86C) = 0;
        v96 += 0xC;
        *(_DWORD *)(Parameter + 0x868) = 0;
        *(_QWORD *)(Parameter + 0x878) = 0;
        *(_DWORD *)(Parameter + 0x874) = 0;
      }
      while ( v95 < *(_DWORD *)(v64 + a2 + 0xB0) );
      v108 = v179;
      v69 = v178;
      v72 = v177;
      v67 = v172;
    }
    v17 = a5;
    v109 = a4;
  }
  v129 = *(double *)(v64 + a2);
  *(_BYTE *)(Parameter + 0x864) |= 1u;
  v168 = v129 - (float)((float)((float)(v69 + v72) + v108) * 0.02);
  v130 = 0;
  *(float *)&v130 = (float)((float)(int)((*(__int64 *)&v168 >> 0x3F) + 1 + ((*(_QWORD *)&v168 - 1LL) >> 0x3F)) * v109)
                  + *(float *)(Parameter + 0x860);
  _XMM2 = v130;
  v132 = (*(_DWORD *)(Parameter + 0x208) & 0x2000000) == 0;
  __asm
  {
    vmaxss  xmm3, xmm2, xmm11
    vminss  xmm1, xmm3, xmm0
  }
  *(float *)(Parameter + 0x860) = *(float *)&_XMM1;
  if ( !v132 && *(_DWORD *)(Parameter + 0x4B4)
    || (result = *(_QWORD *)(Parameter + 0x240),
        (*(_QWORD *)(result + 8LL * SLODWORD(qword_1513C9D60[v67 + 0x400])) & 0x2000000000LL) != 0) )
  {
    v136 = qword_1513C9D60[v67];
    v137 = Parameter | (*(_QWORD *)(Parameter + 8) << 0x30);
    *(_QWORD *)&v180 = 0;
    *((_QWORD *)&v180 + 1) = 0x1E00000002LL;
    v208 = 0;
    v204 = 0xFFFFFFFF;
    v209 = 0;
    v211 = 0;
    v212 = 0;
    v181 = v137;
    v210 = 1000.0;
    if ( v136 )
      v93 = v136 | (*(_QWORD *)(v136 + 8) << 0x30);
    v138 = *(__m256 *)(v64 + a2 + 0x48);
    v139 = *(_QWORD *)(Parameter + 0x2C0);
    v183 = *(_QWORD *)(Parameter + 0xC0);
    v185 = *(__int16 *)(Parameter + 0xEC);
    v187 = *(__int16 *)(Parameter + 0xEE);
    v182 = v93;
    v184 = *(_QWORD *)(v136 + 0xC0);
    v186 = *(__int16 *)(v136 + 0xEC);
    v188 = *(__int16 *)(v136 + 0xEE);
    v191 = *(_DWORD *)(v64 + a2 + 0x68);
    v190 = v138;
    __asm { vzeroupper }
    v140 = sub_146924BE0(v139, v136);
    _XMM0 = *(unsigned __int64 *)(Parameter + 0x6B0);
    v189 = v140;
    __asm { vcvtpd2ps xmm0, xmm0 }
    v200 = *(_DWORD *)(*(_QWORD *)(Parameter + 0x250) + 4LL * SLODWORD(qword_1513C9D60[v67 + 0x400]));
    v143 = (_QWORD *)qword_1513C9D60[v67];
    v201 = *(_DWORD *)(v143[0x4A] + 4LL * SHIDWORD(qword_1513C9D60[0x801 * v17 + 0x400 + v18]));
    v198 = *(float *)&_XMM0;
    v202 = *(_WORD *)(0xC0 * v18 + a2 + 0x84);
    v203 = *(_WORD *)(0xC0 * v18 + a2 + 0x88);
    *(float *)&_XMM0 = (*(float (__fastcall **)(_QWORD *))(*v143 + 0x2B0LL))(v143);
    v144 = *(double *)(v64 + a2 + 0x50) - *(double *)(Parameter + 0x630);
    v145 = *(unsigned int *)(Parameter + 0x684);
    v146 = *(unsigned int *)(Parameter + 0x688);
    v147 = *(unsigned int *)(Parameter + 0x680);
    v199 = *(float *)&_XMM0;
    v148 = *(double *)(v64 + a2 + 0x48) - *(double *)(Parameter + 0x628);
    v149 = *(double *)(v64 + a2 + 0x58) - *(double *)(Parameter + 0x638);
    *((_QWORD *)&v150 + 1) = *((_QWORD *)&v145 + 1);
    *(double *)&v145 = *(float *)&v145;
    *(double *)&v150 = *(double *)&v145 * v149;
    v151 = v150;
    *((_QWORD *)&v150 + 1) = *((_QWORD *)&v146 + 1);
    *(double *)&v150 = *(float *)&v146;
    v152 = v150;
    *((_QWORD *)&v150 + 1) = *((_QWORD *)&v151 + 1);
    *(double *)&v150 = *(double *)&v151 - *(double *)&v150 * v144;
    _XMM1 = v150;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v155 = *(float *)&_XMM2 + *(float *)(Parameter + 0x68C);
    *((_QWORD *)&v150 + 1) = *((_QWORD *)&v152 + 1);
    *(double *)&v150 = *(double *)&v152 * v148;
    v156 = v150;
    *((_QWORD *)&v150 + 1) = *((_QWORD *)&v147 + 1);
    *(double *)&v150 = *(float *)&v147;
    v157 = v150;
    *((_QWORD *)&v150 + 1) = *((_QWORD *)&v156 + 1);
    *(double *)&v150 = *(double *)&v156 - *(double *)&v150 * v149;
    _XMM1 = v150;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((_QWORD *)&v150 + 1) = *((_QWORD *)&v157 + 1);
    v192 = v155;
    v160 = *(float *)&_XMM2 + *(float *)(Parameter + 0x690);
    *(double *)&v150 = *(double *)&v157 * v144 - *(double *)&v145 * v148;
    _XMM1 = v150;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v193 = v160;
    v194 = *(float *)&_XMM2 + *(float *)(Parameter + 0x694);
    v163 = *(_QWORD *)(Parameter + 0x2C0);
    v197 = 0.0;
    v196 = 0.0;
    _XMM0 = *(unsigned __int64 *)(0xC0 * v18 + a2);
    __asm { vcvtpd2ps xmm0, xmm0 }
    v205 = *(float *)&_XMM0;
    v195 = 0.0;
    v206 = 0.0;
    v207 = 0.0;
    return sub_146715FF0(v163, 0x2000000, &v180, 0);
  }
  return result;
}

// --- End Function: sub_1467D2D90 (0x1467D2D90) ---

// --- Function: CRigidEntity::RecomputeMassDistribution (0x1467D8030) ---
double __fastcall CRigidEntity::RecomputeMassDistribution(__int64 a1)
{
  __int128 v2; // xmm0
  float v3; // xmm6_4
  float v4; // xmm7_4
  float v5; // xmm8_4
  __m128 v6; // xmm9
  __m128 v7; // kr00_16
  int v10; // r8d
  int v11; // edi
  __int64 v12; // rdx
  __int64 v13; // rcx
  float *v14; // rdx
  __int64 *v15; // rax
  float *v16; // rcx
  __int64 v17; // rdx
  __m128 v18; // xmm2
  float v19; // eax
  float v20; // xmm3_4
  float v21; // xmm14_4
  float v22; // xmm10_4
  float v23; // xmm11_4
  float v24; // xmm9_4
  float v25; // xmm12_4
  float v26; // xmm13_4
  float v27; // xmm4_4
  float v28; // xmm6_4
  float v29; // xmm7_4
  float v30; // xmm5_4
  float v31; // xmm4_4
  float v32; // xmm8_4
  float v33; // xmm10_4
  float v34; // xmm9_4
  float v35; // xmm8_4
  float v36; // xmm7_4
  float v37; // xmm6_4
  float v38; // xmm4_4
  float v39; // xmm5_4
  float v40; // xmm7_4
  float v41; // xmm8_4
  float v42; // xmm15_4
  __m128 v43; // kr00_16
  __m128 v44; // xmm13
  float v45; // xmm6_4
  float v46; // xmm11_4
  float v47; // xmm1_4
  float v48; // xmm7_4
  float v49; // xmm5_4
  float v50; // xmm0_4
  float v51; // xmm8_4
  float v52; // xmm9_4
  float v53; // xmm14_4
  __int64 v54; // rax
  float v55; // xmm12_4
  __m128 v56; // kr00_16
  float v57; // xmm10_4
  float v58; // xmm6_4
  int v61; // edi
  const char *v62; // rsi
  __int64 *v63; // rcx
  __int64 *v64; // rax
  __int64 v65; // rax
  __int64 v66; // rsi
  __int64 v67; // r11
  double v68; // xmm3_8
  double v69; // xmm5_8
  double v70; // xmm2_8
  __int64 v71; // r10
  __int64 v72; // r14
  __int64 v73; // r9
  __int64 v74; // r8
  __int64 v75; // rcx
  float v76; // xmm3_4
  __int64 v77; // rax
  float v78; // xmm13_4
  float v79; // xmm12_4
  float v80; // xmm10_4
  float v81; // xmm14_4
  float v82; // xmm11_4
  float v83; // xmm9_4
  float v84; // xmm7_4
  float v85; // xmm4_4
  float v86; // edx
  float v87; // xmm1_4
  float v88; // xmm8_4
  float v89; // xmm6_4
  float v90; // xmm4_4
  float v91; // xmm5_4
  float v92; // xmm0_4
  float v93; // xmm4_4
  float v94; // xmm8_4
  float v95; // xmm9_4
  float v96; // xmm10_4
  float v97; // xmm7_4
  float v98; // xmm6_4
  float v99; // xmm4_4
  double v100; // xmm5_8
  float v101; // xmm6_4
  float v102; // xmm7_4
  float v103; // xmm8_4
  float v104; // xmm15_4
  __m128 v105; // kr00_16
  __m128 v106; // xmm13
  float v107; // xmm4_4
  float v108; // xmm0_4
  float v109; // xmm6_4
  float v110; // xmm3_4
  float v111; // xmm0_4
  float v112; // xmm1_4
  float v113; // xmm8_4
  float v114; // xmm11_4
  float v115; // xmm1_4
  float v116; // xmm7_4
  float v117; // xmm9_4
  float v118; // xmm14_4
  float v119; // xmm12_4
  float v120; // xmm10_4
  __m128 v121; // kr00_16
  float v122; // xmm15_4
  float v124; // xmm6_4
  float v127; // xmm1_4
  float v128; // xmm8_4
  float v129; // xmm11_4
  float v130; // xmm14_4
  float v131; // xmm9_4
  double v132; // xmm12_8
  float v133; // xmm7_4
  double v134; // xmm10_8
  __m128 v135; // xmm1
  __int128 v137; // kr00_16
  volatile signed __int64 *v142; // rdi
  __int64 v143; // rax
  double v149; // xmm7_8
  float v150; // xmm14_4
  __int64 v151; // rcx
  float v152; // xmm11_4
  float v153; // xmm9_4
  float v154; // xmm7_4
  float v155; // xmm13_4
  float v156; // xmm12_4
  float v157; // xmm10_4
  float v158; // xmm4_4
  float v159; // xmm8_4
  float v160; // xmm6_4
  float v161; // xmm4_4
  float v162; // xmm5_4
  float v163; // xmm0_4
  float v164; // xmm4_4
  float v165; // xmm8_4
  float v166; // xmm9_4
  float v167; // xmm10_4
  float v168; // xmm7_4
  float v169; // xmm6_4
  float v170; // xmm4_4
  double v171; // xmm5_8
  float v172; // xmm7_4
  float v173; // xmm8_4
  float v174; // xmm15_4
  float v175; // xmm13_4
  float v176; // xmm4_4
  float v177; // xmm6_4
  float v178; // kr00_4
  float v179; // xmm0_4
  float v180; // xmm1_4
  float v181; // xmm8_4
  float v182; // xmm11_4
  float v183; // xmm1_4
  float v184; // xmm7_4
  float v185; // xmm10_4
  float v186; // xmm14_4
  __m128 v187; // kr00_16
  float v188; // xmm12_4
  float v189; // xmm9_4
  float v190; // xmm6_4
  __m128 v193; // xmm3
  float v194; // xmm4_4
  __int128 v195; // xmm13
  float v196; // xmm5_4
  float v198; // xmm7_4
  float v199; // xmm6_4
  float v200; // xmm4_4
  float v201; // xmm4_4
  float v202; // xmm5_4
  float v203; // xmm6_4
  __int128 v205; // kr00_16
  float v211; // xmm8_4
  float v212; // xmm7_4
  float v213; // xmm4_4
  float v214; // xmm0_4
  float v215; // xmm1_4
  double v216; // xmm8_8
  double v217; // xmm1_8
  unsigned __int64 n0x200000; // rax
  _QWORD *v219; // rdi
  volatile signed __int64 *v220; // rdi
  __int64 v221; // rax
  unsigned __int64 n0x200000_1; // rax
  float v224; // [rsp+40h] [rbp-C0h] BYREF
  float v225; // [rsp+44h] [rbp-BCh]
  float v226; // [rsp+48h] [rbp-B8h]
  float v227; // [rsp+4Ch] [rbp-B4h]
  float v228; // [rsp+50h] [rbp-B0h]
  float v229; // [rsp+54h] [rbp-ACh]
  float v230; // [rsp+58h] [rbp-A8h] BYREF
  float v231; // [rsp+5Ch] [rbp-A4h]
  float v232; // [rsp+60h] [rbp-A0h]
  float v233; // [rsp+64h] [rbp-9Ch]
  float v234; // [rsp+68h] [rbp-98h] BYREF
  float v235; // [rsp+6Ch] [rbp-94h]
  float v236; // [rsp+70h] [rbp-90h]
  double v237; // [rsp+78h] [rbp-88h]
  __int128 v238; // [rsp+80h] [rbp-80h] BYREF
  double v239; // [rsp+90h] [rbp-70h]
  float v240; // [rsp+98h] [rbp-68h]
  double v241; // [rsp+A0h] [rbp-60h]
  double v242; // [rsp+A8h] [rbp-58h]
  double v243; // [rsp+B0h] [rbp-50h]
  double v244; // [rsp+C0h] [rbp-40h]
  double v245; // [rsp+D0h] [rbp-30h]
  double v246; // [rsp+E0h] [rbp-20h]
  double v247; // [rsp+E8h] [rbp-18h]
  double v248; // [rsp+F0h] [rbp-10h]
  int n0x2800_1; // [rsp+100h] [rbp+0h] BYREF
  __int64 v250; // [rsp+104h] [rbp+4h]
  int v251; // [rsp+10Ch] [rbp+Ch]
  __int64 v252; // [rsp+110h] [rbp+10h]
  unsigned __int64 v253; // [rsp+118h] [rbp+18h]
  __int64 v254; // [rsp+120h] [rbp+20h]
  __int64 v255; // [rsp+128h] [rbp+28h]
  int n0x2800; // [rsp+150h] [rbp+50h] BYREF
  __int64 v257; // [rsp+154h] [rbp+54h]
  int v258; // [rsp+15Ch] [rbp+5Ch]
  __int64 v259; // [rsp+160h] [rbp+60h]
  unsigned __int64 v260; // [rsp+168h] [rbp+68h]
  __int64 v261; // [rsp+170h] [rbp+70h]
  __int64 v262; // [rsp+178h] [rbp+78h]
  double v263[4]; // [rsp+1A0h] [rbp+A0h] BYREF
  __int128 v264; // [rsp+1C0h] [rbp+C0h]
  double v265; // [rsp+1D0h] [rbp+D0h]
  double v266; // [rsp+1E8h] [rbp+E8h]
  float v267; // [rsp+1F0h] [rbp+F0h]
  ULONG_PTR Parameter[9]; // [rsp+210h] [rbp+110h] BYREF
  __int128 v269; // [rsp+258h] [rbp+158h]
  __int128 v270; // [rsp+268h] [rbp+168h]
  __int128 v271; // [rsp+278h] [rbp+178h]
  double v272; // [rsp+288h] [rbp+188h]
  double v273; // [rsp+290h] [rbp+190h]
  double v274; // [rsp+298h] [rbp+198h]
  float v275; // [rsp+2A0h] [rbp+1A0h]
  float v276; // [rsp+2A4h] [rbp+1A4h]
  float v277; // [rsp+2A8h] [rbp+1A8h]
  float v278; // [rsp+2ACh] [rbp+1ACh]
  double v279; // [rsp+2B0h] [rbp+1B0h]
  double v280; // [rsp+2B8h] [rbp+1B8h]
  double v281; // [rsp+2C0h] [rbp+1C0h]
  double v282; // [rsp+2C8h] [rbp+1C8h]
  double v283; // [rsp+2D0h] [rbp+1D0h]
  double v284; // [rsp+2D8h] [rbp+1D8h]
  double v285; // [rsp+2E0h] [rbp+1E0h]
  float v286; // [rsp+2E8h] [rbp+1E8h]
  double v287; // [rsp+2ECh] [rbp+1ECh]
  float v288; // [rsp+2F4h] [rbp+1F4h]
  __int128 v289; // [rsp+2F8h] [rbp+1F8h]
  float v290; // [rsp+308h] [rbp+208h]
  float v291; // [rsp+30Ch] [rbp+20Ch]
  double v292; // [rsp+310h] [rbp+210h]
  double v293; // [rsp+318h] [rbp+218h]
  double v294; // [rsp+320h] [rbp+220h]
  unsigned int v295; // [rsp+380h] [rbp+280h]

  n0x2800 = 0x2800;
  v257 = 0;
  v258 = 0;
  v260 = 0;
  v261 = 0;
  v262 = 0;
  v259 = 1;
  *(double *)&v2 = qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( (*(_DWORD *)(a1 + 0x208) & 0x20000000) == 0 && *(_DWORD *)(a1 + 0x290) )
  {
    v3 = *(float *)(a1 + 0x1E4);
    v4 = *(float *)(a1 + 0x1D8);
    v5 = *(float *)(a1 + 0x1DC);
    v6 = (__m128)*(unsigned int *)(a1 + 0x1E0);
    v7 = v6;
    v7.m128_f32[0] = (float)((float)(v6.m128_f32[0] * v6.m128_f32[0]) + (float)(v5 * v5))
                   + (float)((float)(v4 * v4) + (float)(v3 * v3));
    _XMM3 = _mm_shuffle_ps(v7, v7, 0);
    __asm { vrsqrtps xmm5, xmm3 }
    _XMM5.m128_f32[0] = _mm_shuffle_ps(_XMM5, _XMM5, 0xFF).m128_f32[0];
    _XMM3.m128_f32[0] = (float)(1.5
                              - (float)((float)((float)(_XMM5.m128_f32[0] * v7.m128_f32[0]) * _XMM5.m128_f32[0]) * 0.5))
                      * _XMM5.m128_f32[0];
    v227 = _XMM3.m128_f32[0] * v3;
    v224 = _XMM3.m128_f32[0] * v4;
    v225 = _XMM3.m128_f32[0] * v5;
    v226 = _XMM3.m128_f32[0] * v6.m128_f32[0];
    sub_1467E3DB0(a1, 0);
    sub_14671CFD0((__int64)Parameter);
    n0x2800_1 = 0x2800;
    v250 = 0;
    v251 = 0;
    v253 = 0;
    v254 = 0;
    v255 = 0;
    v252 = 1;
    qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
    v10 = *(_DWORD *)(a1 + 0x290);
    v11 = 0;
    if ( v10 > 0 )
    {
      v12 = *(_QWORD *)(a1 + 0x238);
      v13 = 0;
      do
      {
        if ( *(float *)(*(_QWORD *)v12 + 0x40LL) > 0.00000011920929
          && *(float *)(v13 + *(_QWORD *)(a1 + 0x258)) > 0.00000011920929 )
        {
          break;
        }
        ++v11;
        v12 += 8;
        v13 += 0x18;
      }
      while ( v11 < v10 );
    }
    v14 = *(float **)(a1 + 0x230);
    v15 = *(__int64 **)(a1 + 0x238);
    if ( v11 == v10 )
    {
      v150 = v14[7];
      v151 = *v15;
      v152 = v14[1];
      v153 = v14[2];
      v154 = *v14;
      v155 = *(float *)(*v15 + 0x3C);
      v156 = *(float *)(*v15 + 0x38);
      v157 = *(float *)(*v15 + 0x34);
      v158 = v14[3];
      v229 = (float)(v150 * *(float *)(*v15 + 0x40)) * (float)(v150 * v150);
      v159 = (float)((float)(v152 * v155) - (float)(v153 * v156)) + (float)(v158 * v157);
      v160 = (float)((float)(v153 * v157) - (float)(v154 * v155)) + (float)(v158 * v156);
      v161 = (float)((float)(v154 * v156) - (float)(v152 * v157)) + (float)(v158 * v155);
      v162 = (float)(v161 * v152) - (float)(v160 * v153);
      v163 = v159 * v152;
      v164 = (float)(v159 * v153) - (float)(v161 * v154);
      v165 = (float)((float)((float)(v162 + v157) + v162) * v150) + v14[4];
      v166 = (float)((float)((float)(v164 + v156) + v164) * v150) + v14[5];
      v167 = (float)((float)((float)((float)((float)(v160 * v154) - v163) + v155) + (float)((float)(v160 * v154) - v163))
                   * v150)
           + v14[6];
      v168 = (float)((float)(v167 * v225) - (float)(v166 * v226)) + (float)(v165 * v227);
      v169 = (float)((float)(v165 * v226) - (float)(v167 * v224)) + (float)(v166 * v227);
      v170 = (float)((float)(v166 * v224) - (float)(v165 * v225)) + (float)(v167 * v227);
      v171 = (float)((float)(v165 + (float)((float)(v225 * v170) - (float)(v226 * v169)))
                   + (float)((float)(v225 * v170) - (float)(v226 * v169)))
           + *(double *)(a1 + 0x1C0);
      *((double *)&v238 + 1) = (float)((float)(v166 + (float)((float)(v168 * v226) - (float)(v224 * v170)))
                                     + (float)((float)(v168 * v226) - (float)(v224 * v170)))
                             + *(double *)(a1 + 0x1C8);
      v239 = (float)((float)(v167 + (float)((float)(v224 * v169) - (float)(v168 * v225)))
                   + (float)((float)(v224 * v169) - (float)(v168 * v225)))
           + *(double *)(a1 + 0x1D0);
      *(double *)&v238 = v171;
      *(float *)&v171 = v14[1];
      v172 = v14[2];
      v173 = v14[3];
      v174 = (float)(v227 * v173)
           - (float)((float)((float)(v224 * *v14) + (float)(v225 * *(float *)&v171)) + (float)(v226 * v172));
      v175 = (float)((float)((float)(v225 * v172) - (float)(v226 * *(float *)&v171)) + (float)(v227 * *v14))
           + (float)(v224 * v173);
      v176 = (float)((float)(*v14 * v226) - (float)(v224 * v172)) + (float)(v227 * *(float *)&v171);
      v177 = *(float *)(v151 + 0x24);
      v178 = v224 * *(float *)&v171;
      LODWORD(v171) = *(_DWORD *)(v151 + 0x28);
      v179 = v173 * v226;
      v180 = v225 * v173;
      v181 = *(float *)(v151 + 0x30);
      v182 = v176 + v180;
      v183 = v227 * v172;
      v184 = *(float *)(v151 + 0x2C);
      v185 = (float)((float)(v178 - (float)(*v14 * v225)) + v183) + v179;
      v186 = (float)(v181 * v174)
           - (float)((float)((float)(*(float *)&v171 * v182) + (float)(v177 * v175)) + (float)(v184 * v185));
      v187 = (__m128)LODWORD(v177);
      v188 = (float)((float)((float)(v184 * v182) - (float)(*(float *)&v171 * v185)) + (float)(v177 * v174))
           + (float)(v181 * v175);
      v189 = (float)((float)((float)(v177 * v185) - (float)(v184 * v175)) + (float)(*(float *)&v171 * v174))
           + (float)(v181 * v182);
      v190 = (float)((float)((float)(*(float *)&v171 * v175) - (float)(v177 * v182)) + (float)(v184 * v174))
           + (float)(v181 * v185);
      v187.m128_f32[0] = (float)((float)(v189 * v189) + (float)(v188 * v188))
                       + (float)((float)(v190 * v190) + (float)(v186 * v186));
      _XMM2 = _mm_shuffle_ps(v187, v187, 0);
      __asm { vrsqrtps xmm3, xmm2 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      _XMM3.m128_f32[0] = (float)(1.5
                                - (float)((float)((float)(_XMM3.m128_f32[0] * v187.m128_f32[0]) * _XMM3.m128_f32[0])
                                        * 0.5))
                        * _XMM3.m128_f32[0];
      v230 = v188 * _XMM3.m128_f32[0];
      v232 = v190 * _XMM3.m128_f32[0];
      v231 = v189 * _XMM3.m128_f32[0];
      v233 = v186 * _XMM3.m128_f32[0];
      v193 = (__m128)*(unsigned __int64 *)(v151 + 0x18);
      v194 = (float)((float)(v14[7] * v14[7]) * v14[7]) * (float)(v14[7] * v14[7]);
      _XMM2.m128_f32[0] = v194 * *(float *)(v151 + 0x20);
      v234 = v193.m128_f32[0] * v194;
      v235 = _mm_shuffle_ps(v193, v193, 0x55).m128_f32[0] * v194;
      _XMM6 = 0;
      v236 = _XMM2.m128_f32[0];
      v244 = *(double *)v193.m128_u64;
      sub_146724480((__int64)Parameter, (__int64)&v238, &v234, &v230, v229, 0.0, &v224, (double *)(a1 + 0x1C0));
    }
    else
    {
      v16 = &v14[8 * v11];
      v17 = v15[v11];
      v18 = (__m128)*(unsigned __int64 *)(v17 + 0x18);
      v19 = *(float *)(v17 + 0x20);
      v20 = (float)(v16[7] * (float)(v16[7] * v16[7])) * (float)(v16[7] * v16[7]);
      v234 = v18.m128_f32[0] * v20;
      v235 = _mm_shuffle_ps(v18, v18, 0x55).m128_f32[0] * v20;
      v244 = *(double *)v18.m128_u64;
      v236 = v19 * v20;
      v21 = v16[7];
      v22 = v16[1];
      v23 = *(float *)(v17 + 0x3C);
      v24 = v16[2];
      v25 = *(float *)(v17 + 0x38);
      v26 = *(float *)(v17 + 0x34);
      v27 = v16[3];
      v28 = *v16;
      v228 = (float)(v21 * *(float *)(v17 + 0x40)) * (float)(v21 * v21);
      v29 = (float)((float)(v23 * v22) - (float)(v25 * v24)) + (float)(v26 * v27);
      v30 = (float)((float)(v26 * v24) - (float)(v28 * v23)) + (float)(v25 * v27);
      v31 = (float)((float)(v25 * v28) - (float)(v26 * v22)) + (float)(v23 * v27);
      v32 = (float)(v22 * v31) - (float)(v24 * v30);
      v33 = (float)((float)((float)(v23 + (float)((float)(v28 * v30) - (float)(v22 * v29)))
                          + (float)((float)(v28 * v30) - (float)(v22 * v29)))
                  * v21)
          + v16[6];
      v34 = (float)((float)((float)(v25 + (float)((float)(v24 * v29) - (float)(v28 * v31)))
                          + (float)((float)(v24 * v29) - (float)(v28 * v31)))
                  * v21)
          + v16[5];
      v35 = (float)((float)((float)(v26 + v32) + v32) * v21) + v16[4];
      v36 = (float)((float)(v33 * v225) - (float)(v34 * v226)) + (float)(v35 * v227);
      v37 = (float)((float)(v35 * v226) - (float)(v33 * v224)) + (float)(v34 * v227);
      v38 = (float)((float)(v34 * v224) - (float)(v35 * v225)) + (float)(v33 * v227);
      *(double *)&v238 = (float)((float)(v35 + (float)((float)(v225 * v38) - (float)(v226 * v37)))
                               + (float)((float)(v225 * v38) - (float)(v226 * v37)))
                       + *(double *)(a1 + 0x1C0);
      *((double *)&v238 + 1) = (float)((float)(v34 + (float)((float)(v226 * v36) - (float)(v224 * v38)))
                                     + (float)((float)(v226 * v36) - (float)(v224 * v38)))
                             + *(double *)(a1 + 0x1C8);
      v239 = (float)((float)(v33 + (float)((float)(v224 * v37) - (float)(v225 * v36)))
                   + (float)((float)(v224 * v37) - (float)(v225 * v36)))
           + *(double *)(a1 + 0x1D0);
      v39 = v16[1];
      v40 = v16[2];
      v41 = v16[3];
      v42 = (float)(v227 * v41) - (float)((float)((float)(v224 * *v16) + (float)(v225 * v39)) + (float)(v226 * v40));
      v43 = (__m128)LODWORD(v225);
      v43.m128_f32[0] = (float)((float)((float)(v225 * v40) - (float)(v226 * v39)) + (float)(v227 * *v16))
                      + (float)(v224 * v41);
      v44 = v43;
      v45 = *(float *)(v17 + 0x24);
      v46 = (float)((float)((float)(*v16 * v226) - (float)(v224 * v40)) + (float)(v227 * v39)) + (float)(v225 * v41);
      v47 = v227 * v40;
      v48 = *(float *)(v17 + 0x2C);
      v43.m128_f32[0] = v224 * v39;
      v49 = *(float *)(v17 + 0x28);
      v50 = v41 * v226;
      v51 = *(float *)(v17 + 0x30);
      v52 = (float)((float)(v43.m128_f32[0] - (float)(*v16 * v225)) + v47) + v50;
      v53 = (float)(v42 * v51)
          - (float)((float)((float)(v46 * v49) + (float)(v44.m128_f32[0] * v45)) + (float)(v52 * v48));
      v54 = *(_QWORD *)(a1 + 0x258);
      v55 = (float)((float)((float)(v46 * v48) - (float)(v52 * v49)) + (float)(v42 * v45))
          + (float)(v44.m128_f32[0] * v51);
      v56 = v44;
      v57 = (float)((float)((float)(v52 * v45) - (float)(v44.m128_f32[0] * v48)) + (float)(v42 * v49))
          + (float)(v46 * v51);
      v58 = (float)((float)((float)(v44.m128_f32[0] * v49) - (float)(v46 * v45)) + (float)(v42 * v48))
          + (float)(v52 * v51);
      v56.m128_f32[0] = (float)((float)(v58 * v58) + (float)(v57 * v57))
                      + (float)((float)(v55 * v55) + (float)(v53 * v53));
      _XMM2 = _mm_shuffle_ps(v56, v56, 0);
      __asm { vrsqrtps xmm3, xmm2 }
      _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
      v56.m128_f32[0] = (float)(1.5
                              - (float)((float)((float)(_XMM3.m128_f32[0] * v56.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                      * _XMM3.m128_f32[0];
      v233 = v56.m128_f32[0] * v53;
      v230 = v56.m128_f32[0] * v55;
      v231 = v56.m128_f32[0] * v57;
      v232 = v56.m128_f32[0] * v58;
      sub_146724480(
        (__int64)Parameter,
        (__int64)&v238,
        &v234,
        &v230,
        v228,
        *(float *)(v54 + 0x18LL * v11),
        &v224,
        (double *)(a1 + 0x1C0));
      v61 = v11 + 1;
      v62 = sub_1465FEB70();
      v63 = (__int64 *)*((_QWORD *)v62 + 0x1F);
      if ( !v63 )
      {
        v64 = (__int64 *)sub_1402A63D0(0x18u);
        if ( v64 )
          v63 = sub_1465B1390(v64);
        else
          v63 = 0;
        *((_QWORD *)v62 + 0x1F) = v63;
      }
      v65 = sub_1465E5B30(v63, 0x48LL * (*(_DWORD *)(a1 + 0x290) - v61));
      v66 = v65;
      v67 = 0;
      v68 = v292 * v273;
      v69 = v292 * v274;
      v242 = v294;
      v70 = v292 * v272;
      v246 = v292 * v272;
      v241 = v292;
      v237 = v292 * v273;
      v247 = v292 * v274;
      if ( v61 < *(_DWORD *)(a1 + 0x290) )
      {
        v71 = 0x20LL * v61;
        v72 = v65;
        v73 = 0x18LL * v61;
        v74 = 8LL * v61;
        do
        {
          if ( (*(_DWORD *)(v74 + *(_QWORD *)(a1 + 0x240)) & 0x40000) == 0 )
          {
            v75 = *(_QWORD *)(v74 + *(_QWORD *)(a1 + 0x238));
            v76 = *(float *)(v75 + 0x40);
            if ( v76 <= 0.00000011920929 || (v228 = *(float *)(v73 + *(_QWORD *)(a1 + 0x258)), v228 < 0.00000011920929) )
            {
              v68 = v237;
            }
            else
            {
              v77 = *(_QWORD *)(a1 + 0x230);
              v78 = *(float *)(v75 + 0x3C);
              v79 = *(float *)(v75 + 0x38);
              v80 = *(float *)(v75 + 0x34);
              v81 = *(float *)(v71 + v77 + 0x1C);
              v82 = *(float *)(v71 + v77 + 4);
              v83 = *(float *)(v71 + v77 + 8);
              v84 = *(float *)(v71 + v77);
              v85 = *(float *)(v71 + v77 + 0xC);
              v86 = *(float *)(v75 + 0x20);
              v87 = (float)(v81 * v81) * v81;
              v240 = v87 * v76;
              v229 = v87 * (float)(v81 * v81);
              v243 = *(double *)(v75 + 0x18);
              v88 = (float)((float)(v82 * v78) - (float)(v83 * v79)) + (float)(v85 * v80);
              v89 = (float)((float)(v83 * v80) - (float)(v84 * v78)) + (float)(v85 * v79);
              v90 = (float)((float)(v84 * v79) - (float)(v82 * v80)) + (float)(v85 * v78);
              v91 = (float)(v90 * v82) - (float)(v89 * v83);
              v92 = v88 * v82;
              v93 = (float)(v88 * v83) - (float)(v90 * v84);
              v94 = (float)((float)((float)(v91 + v80) + v91) * v81) + *(float *)(v71 + v77 + 0x10);
              v95 = (float)((float)((float)(v93 + v79) + v93) * v81) + *(float *)(v71 + v77 + 0x14);
              v96 = (float)((float)((float)((float)((float)(v89 * v84) - v92) + v78) + (float)((float)(v89 * v84) - v92))
                          * v81)
                  + *(float *)(v71 + v77 + 0x18);
              v97 = (float)((float)(v225 * v96) - (float)(v226 * v95)) + (float)(v227 * v94);
              v98 = (float)((float)(v226 * v94) - (float)(v224 * v96)) + (float)(v227 * v95);
              v99 = (float)((float)(v224 * v95) - (float)(v225 * v94)) + (float)(v227 * v96);
              v100 = (float)((float)((float)((float)(v99 * v225) - (float)(v98 * v226)) + v94)
                           + (float)((float)(v99 * v225) - (float)(v98 * v226)))
                   + *(double *)(a1 + 0x1C0);
              *((double *)&v238 + 1) = (float)((float)((float)((float)(v97 * v226) - (float)(v99 * v224)) + v95)
                                             + (float)((float)(v97 * v226) - (float)(v99 * v224)))
                                     + *(double *)(a1 + 0x1C8);
              v239 = (float)((float)((float)((float)(v98 * v224) - (float)(v97 * v225)) + v96)
                           + (float)((float)(v98 * v224) - (float)(v97 * v225)))
                   + *(double *)(a1 + 0x1D0);
              v244 = v239;
              *(double *)&v238 = v100;
              v101 = *(float *)(v71 + v77);
              v102 = *(float *)(v71 + v77 + 8);
              v103 = *(float *)(v71 + v77 + 0xC);
              v248 = *((double *)&v238 + 1);
              v245 = v100;
              LODWORD(v100) = *(_DWORD *)(v71 + v77 + 4);
              v104 = (float)(v103 * v227)
                   - (float)((float)((float)(v224 * v101) + (float)(v225 * *(float *)&v100)) + (float)(v226 * v102));
              v105 = (__m128)LODWORD(v225);
              v105.m128_f32[0] = (float)((float)((float)(v225 * v102) - (float)(v226 * *(float *)&v100))
                                       + (float)(v101 * v227))
                               + (float)(v224 * v103);
              v106 = v105;
              v107 = (float)((float)(v101 * v226) - (float)(v224 * v102)) + (float)(*(float *)&v100 * v227);
              v108 = v101 * v225;
              v109 = *(float *)(v75 + 0x24);
              v105.m128_f32[0] = v224 * *(float *)&v100;
              LODWORD(v100) = *(_DWORD *)(v75 + 0x28);
              v110 = v105.m128_f32[0] - v108;
              v111 = v103 * v226;
              v112 = v225 * v103;
              v113 = *(float *)(v75 + 0x30);
              v114 = v107 + v112;
              v115 = v102 * v227;
              v116 = *(float *)(v75 + 0x2C);
              v117 = (float)(v110 + v115) + v111;
              v118 = (float)(v104 * v113)
                   - (float)((float)((float)(v114 * *(float *)&v100) + (float)(v106.m128_f32[0] * v109))
                           + (float)(v117 * v116));
              v119 = (float)((float)((float)(v114 * v116) - (float)(v117 * *(float *)&v100)) + (float)(v104 * v109))
                   + (float)(v106.m128_f32[0] * v113);
              v120 = (float)((float)((float)(v117 * v109) - (float)(v106.m128_f32[0] * v116))
                           + (float)(v104 * *(float *)&v100))
                   + (float)(v114 * v113);
              v121 = v106;
              v121.m128_f32[0] = (float)((float)(v106.m128_f32[0] * *(float *)&v100) - (float)(v114 * v109))
                               + (float)(v104 * v116);
              v122 = v228;
              _XMM13 = *(unsigned __int64 *)&v245;
              ++v67;
              v124 = v121.m128_f32[0] + (float)(v117 * v113);
              v121.m128_f32[0] = (float)((float)(v124 * v124) + (float)(v120 * v120))
                               + (float)((float)(v118 * v118) + (float)(v119 * v119));
              _XMM2 = _mm_shuffle_ps(v121, v121, 0);
              __asm { vrsqrtps xmm3, xmm2 }
              _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
              *(float *)&v100 = v229;
              *(double *)_XMM2.m128_u64 = v239;
              v127 = (float)(1.5
                           - (float)((float)((float)(v121.m128_f32[0] * _XMM3.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
                   * _XMM3.m128_f32[0];
              v128 = v120 * v127;
              v231 = v120 * v127;
              v129 = v118 * v127;
              v130 = v240;
              v233 = v129;
              v131 = v119 * v127;
              v132 = *((double *)&v238 + 1);
              v230 = v131;
              v133 = v124 * v127;
              v232 = v124 * v127;
              v134 = v228;
              v241 = v228 + v241;
              v242 = v240 + v242;
              v135 = (__m128)*(unsigned __int64 *)&v243;
              v137 = *(unsigned __int64 *)&v243;
              *(float *)&v137 = *(float *)&v243 * v229;
              _XMM4 = v137;
              _mm_shuffle_ps(v135, v135, 0x55);
              __asm { vunpcklpd xmm6, xmm13, xmm12 }
              v238 = _XMM6;
              *(_OWORD *)v72 = _XMM6;
              *(double *)(v72 + 0x10) = *(double *)_XMM2.m128_u64;
              *(float *)(v72 + 0x18) = v131;
              *(float *)(v72 + 0x1C) = v128;
              *(float *)(v72 + 0x20) = v133;
              *(float *)(v72 + 0x24) = v129;
              v243 = *(double *)v135.m128_u64;
              __asm { vunpcklps xmm0, xmm4, xmm3 }
              *(double *)(v72 + 0x28) = *(double *)&_XMM0;
              v266 = *(double *)&_XMM0;
              v265 = *(double *)_XMM2.m128_u64;
              v70 = v134 * *(double *)&_XMM13 + v246;
              *(double *)&_XMM0 = v134 * v244;
              *(double *)(v72 + 0x40) = (float)(v122 / v130);
              v68 = v134 * v132 + v237;
              v267 = v86 * *(float *)&v100;
              *(float *)(v72 + 0x30) = v86 * *(float *)&v100;
              v69 = *(double *)&_XMM0 + v247;
              v247 = *(double *)&_XMM0 + v247;
              *(double *)(v72 + 0x38) = v134;
              v246 = v70;
              v237 = v68;
              v72 += 0x48;
              v264 = _XMM6;
            }
          }
          ++v61;
          v74 += 8;
          v73 += 0x18;
          v71 += 0x20;
        }
        while ( v61 < *(_DWORD *)(a1 + 0x290) );
        if ( v67 )
        {
          v263[0] = v70 * (1.0 / v241);
          v263[2] = v69 * (1.0 / v241);
          v263[1] = v68 * (1.0 / v241);
          sub_146721650((__int64)Parameter, v241, v242, v263, v66, v67);
        }
      }
      _XMM6 = 0;
    }
    __asm { vmovddup xmm6, xmm6 }
    v253 = __rdtsc();
    qword_149A0FD88(&n0x2800_1);
    v142 = (volatile signed __int64 *)(a1 + 0x8D0);
    v143 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8D0), 0x200000, 0);
    if ( v143 )
      sub_1403DE750(
        (__int64)v142,
        v143,
        0,
        (__int64)"CRigidEntity::RecomputeMassDistribution",
        (__int64)"m_lockBody",
        1);
    _XMM4 = *(unsigned __int64 *)&v292;
    v243 = *(double *)(a1 + 0x68C);
    v245 = *(double *)(a1 + 0x680);
    _XMM0 = *((unsigned __int64 *)&v270 + 1);
    __asm
    {
      vminsd  xmm1, xmm0, xmm4
      vminsd  xmm2, xmm1, qword ptr [rbp+390h+var_218]
      vminsd  xmm3, xmm2, qword ptr [rbp+390h+var_218+8]
    }
    v244 = v292;
    if ( *(double *)&_XMM3 >= *(double *)&_XMM6 )
    {
      v195 = *(unsigned int *)(a1 + 0x688);
      v196 = *(float *)(a1 + 0x694);
      v287 = v243;
      __asm { vcvtsd2ss xmm2, xmm4, xmm4 }
      v281 = (float)(v196 * *(float *)&_XMM2);
      v280 = (float)(*((float *)&v243 + 1) * *(float *)&_XMM2);
      v198 = (float)((float)(*(float *)&v195 * COERCE_FLOAT(LODWORD(v276) ^ 0x80000000))
                   - (float)(*((float *)&v245 + 1) * COERCE_FLOAT(LODWORD(v277) ^ 0x80000000)))
           + (float)(v278 * *(float *)&v245);
      v199 = (float)((float)(*(float *)&v245 * COERCE_FLOAT(LODWORD(v277) ^ 0x80000000))
                   - (float)(*(float *)&v195 * COERCE_FLOAT(LODWORD(v275) ^ 0x80000000)))
           + (float)(v278 * *((float *)&v245 + 1));
      v279 = (float)(*(float *)&v243 * *(float *)&_XMM2);
      v200 = (float)((float)(*((float *)&v245 + 1) * COERCE_FLOAT(LODWORD(v275) ^ 0x80000000))
                   - (float)(*(float *)&v245 * COERCE_FLOAT(LODWORD(v276) ^ 0x80000000)))
           + (float)(v278 * *(float *)&v195);
      *(float *)&_XMM2 = v200 * COERCE_FLOAT(LODWORD(v276) ^ 0x80000000);
      v201 = (float)(v198 * COERCE_FLOAT(LODWORD(v277) ^ 0x80000000))
           - (float)(v200 * COERCE_FLOAT(LODWORD(v275) ^ 0x80000000));
      v288 = v196;
      v202 = *(float *)&_XMM2 - (float)(COERCE_FLOAT(LODWORD(v277) ^ 0x80000000) * v199);
      v203 = (float)(COERCE_FLOAT(LODWORD(v275) ^ 0x80000000) * v199)
           - (float)(v198 * COERCE_FLOAT(LODWORD(v276) ^ 0x80000000));
      _XMM3 = COERCE_UNSIGNED_INT64((float)((float)(*(float *)&v245 + v202) + v202) * *(double *)&v269);
      *((_QWORD *)&v205 + 1) = *((_QWORD *)&v195 + 1);
      v285 = v245;
      __asm { vcvtsd2ss xmm11, xmm3, xmm3 }
      _XMM3 = COERCE_UNSIGNED_INT64((float)((float)(*((float *)&v245 + 1) + v201) + v201) * *((double *)&v269 + 1));
      __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
      *(double *)&v205 = (float)((float)(*(float *)&v195 + v203) + v203) * *(double *)&v270;
      _XMM3 = v205;
      __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
      v211 = (float)((float)(v276 * *(float *)&_XMM9) - (float)(v277 * *(float *)&_XMM10))
           + (float)(v278 * *(float *)&_XMM11);
      v286 = *(float *)&v195;
      v212 = (float)((float)(v277 * *(float *)&_XMM11) - (float)(v275 * *(float *)&_XMM9))
           + (float)(v278 * *(float *)&_XMM10);
      v213 = (float)((float)(v275 * *(float *)&_XMM10) - (float)(v276 * *(float *)&_XMM11))
           + (float)(v278 * *(float *)&_XMM9);
      *(float *)&_XMM2 = (float)((float)((float)(v276 * v213) - (float)(v277 * v212)) + *(float *)&_XMM11)
                       + (float)((float)(v276 * v213) - (float)(v277 * v212));
      *(float *)&v205 = (float)((float)((float)(v275 * v212) - (float)(v276 * v211)) + *(float *)&_XMM9)
                      + (float)((float)(v275 * v212) - (float)(v276 * v211));
      v149 = v244;
      v289 = *(_OWORD *)(a1 + 0x698);
      v214 = *(float *)(a1 + 0x6A8);
      v284 = *(float *)&v205;
      v215 = *(float *)(a1 + 0x6AC);
      v290 = v214;
      v282 = *(float *)&_XMM2;
      v283 = (float)((float)((float)((float)(v277 * v211) - (float)(v275 * v213)) + *(float *)&_XMM10)
                   + (float)((float)(v277 * v211) - (float)(v275 * v213)));
      v291 = v215;
      *(_QWORD *)&_XMM6 = 0;
    }
    else
    {
      v149 = 0.0;
      v292 = 0.0;
      v293 = *(double *)&_XMM6;
      v271 = _XMM6;
      v270 = _XMM6;
      v269 = _XMM6;
    }
    v216 = *(double *)(a1 + 0x6B0);
    v295 = v295 & 0xFFFFFFFD | *(_DWORD *)(a1 + 0x720) & 2;
    sub_146771CF0(a1 + 0x5B0, (__int64)Parameter);
    v2 = *(_OWORD *)(a1 + 0x628);
    v217 = *(double *)(a1 + 0x638);
    *(_OWORD *)(a1 + 0x7C0) = v2;
    *(double *)(a1 + 0x7D0) = v217;
    *(_DWORD *)(a1 + 0x848) = *(_DWORD *)(a1 + 0x640);
    *(_DWORD *)(a1 + 0x84C) = *(_DWORD *)(a1 + 0x644);
    *(_DWORD *)(a1 + 0x850) = *(_DWORD *)(a1 + 0x648);
    *(_DWORD *)(a1 + 0x854) = *(_DWORD *)(a1 + 0x64C);
    sub_1467E3DB0(a1, 1);
    if ( a1 != 0xFFFFFFFFFFFFF730uLL )
    {
      n0x200000 = _InterlockedCompareExchange64(v142, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v142, n0x200000);
    }
    v219 = *(_QWORD **)(a1 + 0xB8);
    if ( v219 )
    {
      if ( *v219 )
      {
        *(_QWORD *)&v2 = fabs(v149 - v216);
        if ( *(double *)&v2 > *(double *)&_XMM6 )
        {
          v220 = v219 + 0x34;
          v221 = _InterlockedCompareExchange64(v220, 0x200000, 0);
          if ( v221 )
            sub_1403DE750(
              (__int64)v220,
              v221,
              0,
              (__int64)"CRigidEntity::RecomputeMassDistribution",
              (__int64)"m_pGrid->m_lockPentList",
              1);
          sub_14693FC00(*(_QWORD *)(a1 + 0xB8), a1);
          if ( v220 )
          {
            n0x200000_1 = _InterlockedCompareExchange64(v220, 0, 0x200000);
            if ( n0x200000_1 != 0x200000 )
              sub_1403DEBA0(v220, n0x200000_1);
          }
        }
      }
    }
    _StarEngineModule__((ULONG_PTR)Parameter);
  }
  v260 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return *(double *)&v2;
}

// --- End Function: CRigidEntity::RecomputeMassDistribution (0x1467D8030) ---

// --- Function: sub_1467D9C50 (0x1467D9C50) ---
__int64 *__fastcall sub_1467D9C50(
        __int64 a1,
        int a2,
        __int64 a3,
        __int64 a4,
        int a5,
        char a6,
        int a7,
        char a8,
        int a9,
        float a10,
        int a11,
        __int64 a12)
{
  __int128 v12; // xmm6
  __int128 v13; // xmm7
  __int128 v14; // xmm8
  __int128 v15; // xmm9
  __int128 v16; // xmm10
  __int128 v17; // xmm11
  __int128 v18; // xmm12
  __int128 v19; // xmm13
  __int128 v20; // xmm14
  __int128 v21; // xmm15
  __int64 *v22; // r14
  __int64 v25; // rbx
  __int64 v26; // rdi
  __int64 v27; // r13
  __int64 v28; // rax
  __int64 v29; // r11
  __int64 v30; // r8
  __int64 v31; // r10
  float v34; // xmm7_4
  volatile signed __int64 *v43; // rbx
  __int64 v44; // rax
  __int64 *v45; // rcx
  __int64 *v46; // r8
  __int64 *v47; // rsi
  __int64 v48; // rdx
  double v49; // xmm2_8
  double v50; // xmm4_8
  int v51; // eax
  float v52; // xmm7_4
  unsigned __int64 n0x200000; // rax
  float v54; // xmm0_4
  unsigned __int64 n0x200000_1; // rax
  double v56; // xmm1_8
  __int64 v57; // rdi
  int v58; // xmm2_4
  unsigned int v59; // eax
  unsigned int v60; // edx
  unsigned int v61; // r9d
  __int64 v62; // rax
  __int16 v63; // cx
  __int16 v64; // dx
  double v67; // xmm2_8
  double v68; // xmm11_8
  double v69; // xmm1_8
  double v70; // xmm10_8
  double v71; // xmm15_8
  __int128 v72; // xmm8
  __int128 v73; // xmm5
  __int128 v74; // xmm14
  __int128 v75; // xmm9
  __int128 v76; // xmm7
  __int128 v77; // xmm13
  double v78; // xmm6_8
  double v79; // xmm12_8
  __int128 v80; // xmm5
  __int128 v81; // kr00_16
  float v84; // xmm4_4
  __int128 v85; // xmm9
  __int128 v86; // xmm7
  float v89; // xmm3_4
  __int128 v92; // xmm1
  __int128 v93; // xmm13
  float v95; // xmm4_4
  float v99; // xmm4_4
  int v102; // ecx
  float v103; // xmm0_4
  __int64 v104; // r9
  __int64 v109; // rdi
  __int64 v110; // rbx
  char v111; // al
  __int64 v112; // rcx
  char v113; // al
  __int64 v114; // rcx
  bool v115; // zf
  int v116; // edx
  __int64 v117; // rax
  __int64 v118; // r8
  int v119; // edx
  int v121; // r12d
  __int64 v122; // r11
  int v123; // ebx
  double v124; // xmm5_8
  double v125; // xmm6_8
  __int128 v126; // xmm7
  __int64 v127; // r9
  __int64 n4; // r8
  __int64 n4_1; // r10
  __int64 v130; // rax
  __int64 v131; // rcx
  __int64 v132; // rax
  unsigned __int64 v133; // rdx
  __int128 v134; // xmm0
  float v135; // xmm2_4
  __int128 v136; // kr00_16
  float *v137; // rdx
  __int64 v138; // r8
  __int128 v139; // xmm0
  __int128 v140; // kr00_16
  int v141; // eax
  __int64 v142; // r11
  double v145; // xmm9_8
  __int64 v146; // r9
  __int128 v148; // kr00_16
  double v149; // xmm8_8
  __int64 n4_2; // r8
  __int64 n4_3; // r10
  __int64 v152; // rax
  double v153; // xmm10_8
  double v154; // xmm12_8
  double v155; // xmm13_8
  float *v156; // rcx
  float *v157; // rax
  unsigned __int64 v158; // rdx
  double v159; // kr00_8
  double v160; // xmm5_8
  __int128 v166; // kr00_16
  double v169; // xmm5_8
  double v177; // xmm5_8
  double v178; // xmm4_8
  __int128 v186; // xmm3
  double v187; // xmm4_8
  double v188; // xmm5_8
  float *v195; // rdx
  __int64 v196; // r8
  __int128 v197; // xmm0
  float v198; // xmm2_4
  __int128 v199; // kr00_16
  double v200; // xmm4_8
  double v207; // xmm1_8
  __int64 v209; // rdi
  double v212; // xmm2_8
  int v213; // r9d
  __int64 v214; // rdx
  __int64 v215; // r8
  __int64 v216; // rcx
  __m128 v217; // xmm2
  __m128 v220; // xmm2
  __int64 v221; // rcx
  __m128 v222; // xmm2
  float v223; // xmm6_4
  float v224; // xmm10_4
  __int64 v225; // rcx
  float v226; // xmm5_4
  __int64 v227; // rax
  __int128 v228; // xmm7
  float v231; // xmm5_4
  __int128 v234; // kr00_16
  float v237; // xmm10_4
  __int128 v238; // kr00_16
  __m128 v241; // xmm1
  __int64 v242; // rax
  float v243; // kr00_4
  __int128 v244; // xmm0
  int v245; // ecx
  __int64 v246; // rax
  __int64 v247; // rdx
  _QWORD *v248; // rcx
  float v254; // kr00_4
  __int64 v256; // rax
  __int128 v258; // kr00_16
  __int128 v261; // kr00_16
  unsigned int v263; // eax
  float v264; // xmm12_4
  float v265; // xmm13_4
  float v266; // xmm11_4
  float *v267; // rcx
  float v268; // xmm9_4
  float v269; // xmm10_4
  float v270; // xmm4_4
  float v271; // xmm8_4
  float v272; // kr00_4
  float v273; // xmm6_4
  float v274; // xmm4_4
  char *v275; // rbx
  int v276; // eax
  char v278; // [rsp+38h] [rbp-D0h]
  __int64 v279; // [rsp+48h] [rbp-C0h]
  __int64 v280; // [rsp+50h] [rbp-B8h]
  int v281; // [rsp+58h] [rbp-B0h]
  __int64 v282; // [rsp+60h] [rbp-A8h]
  __int64 v283; // [rsp+60h] [rbp-A8h]
  __m128 v284; // [rsp+70h] [rbp-98h] BYREF
  double v285; // [rsp+80h] [rbp-88h]
  int v286; // [rsp+88h] [rbp-80h] BYREF
  float v287; // [rsp+8Ch] [rbp-7Ch]
  float v288; // [rsp+90h] [rbp-78h]
  float v289; // [rsp+94h] [rbp-74h]
  unsigned int v290; // [rsp+98h] [rbp-70h]
  __int128 v291; // [rsp+A8h] [rbp-60h]
  __int64 v292; // [rsp+B8h] [rbp-50h]
  int v293; // [rsp+C0h] [rbp-48h]
  unsigned int v294; // [rsp+C4h] [rbp-44h]
  int v295; // [rsp+C8h] [rbp-40h]
  int v296; // [rsp+CCh] [rbp-3Ch]
  int n4_4; // [rsp+D0h] [rbp-38h]
  int v298; // [rsp+D4h] [rbp-34h]
  double v299; // [rsp+D8h] [rbp-30h]
  __int128 v300; // [rsp+E8h] [rbp-20h] BYREF
  __int128 v301; // [rsp+F8h] [rbp-10h]
  __int128 v302; // [rsp+108h] [rbp+0h]
  __int128 v303; // [rsp+118h] [rbp+10h]
  double v304; // [rsp+128h] [rbp+20h]
  int n0x2800; // [rsp+138h] [rbp+30h] BYREF
  __int64 v306; // [rsp+13Ch] [rbp+34h]
  int v307; // [rsp+144h] [rbp+3Ch]
  __int64 v308; // [rsp+148h] [rbp+40h]
  unsigned __int64 v309; // [rsp+150h] [rbp+48h]
  __int64 v310; // [rsp+158h] [rbp+50h]
  __int64 v311; // [rsp+160h] [rbp+58h]
  __m128 v312; // [rsp+188h] [rbp+80h] BYREF
  double v313; // [rsp+198h] [rbp+90h]
  _QWORD v314[3]; // [rsp+1A0h] [rbp+98h]
  __int128 v315; // [rsp+1B8h] [rbp+B0h]
  __int128 v316; // [rsp+1C8h] [rbp+C0h]
  __int128 v317; // [rsp+1D8h] [rbp+D0h]
  __int128 v318; // [rsp+1E8h] [rbp+E0h]
  __int128 v319; // [rsp+1F8h] [rbp+F0h]
  __int128 v320; // [rsp+208h] [rbp+100h]
  __int128 v321; // [rsp+218h] [rbp+110h]
  __int128 v322; // [rsp+228h] [rbp+120h]
  __int128 v323; // [rsp+238h] [rbp+130h]
  char v324; // [rsp+288h] [rbp+180h]

  v323 = v12;
  v322 = v13;
  v22 = 0;
  v321 = v14;
  v320 = v15;
  v319 = v16;
  v318 = v17;
  v317 = v18;
  v316 = v19;
  v315 = v20;
  v25 = a2;
  v281 = 1;
  v308 = 1;
  n0x2800 = 0x2800;
  v306 = 0;
  v307 = 0;
  v309 = 0;
  v310 = 0;
  v311 = 0;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v26 = v25;
  v279 = v25;
  v282 = 0x801LL * a11;
  v324 = 0;
  v278 = 0;
  v27 = v25 + v282;
  v28 = (*(__int64 (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)qword_1513C9D60[v27] + 0x2A0LL))(
          qword_1513C9D60[v27],
          HIDWORD(qword_1513C9D60[v27 + 0x400]),
          1);
  v29 = qword_1513C9D60[v25 + v282];
  v30 = SHIDWORD(qword_1513C9D60[v25 + 0x400 + v282]);
  v280 = v28;
  v31 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * SLODWORD(qword_1513C9D60[v25 + 0x400 + v282]));
  if ( ((*(_QWORD *)(*(_QWORD *)(v29 + 0x240) + 8 * v30) | v31) & 0x10000000000LL) != 0 )
  {
    v52 = a10;
    v324 = 1;
    v47 = &qword_151445E80[0x21 * a11];
LABEL_38:
    *(_OWORD *)(v47 + 0xB) = *(_OWORD *)a3;
    v56 = *(double *)(a3 + 0x10);
    *((double *)v47 + 0xD) = v56;
    *((_OWORD *)v47 + 4) = *(_OWORD *)(v47 + 0xB);
    *((double *)v47 + 0xA) = v56;
    *(_OWORD *)&v314[1] = v21;
    v57 = 0xC0 * v26;
    LODWORD(v56) = *(_DWORD *)(v57 + a4 + 0x64);
    v58 = *(_DWORD *)(v57 + a4 + 0x68);
    *((float *)v47 + 0x1C) = COERCE_FLOAT(*(_DWORD *)(v57 + a4 + 0x60) ^ 0x80000000);
    *((float *)v47 + 0x1D) = COERCE_FLOAT(LODWORD(v56) ^ 0x80000000);
    *((float *)v47 + 0x1E) = COERCE_FLOAT(v58 ^ 0x80000000);
    v47[3] = a1;
    v47[4] = qword_1513C9D60[v27];
    v59 = LODWORD(qword_1513C9D60[v27 + 0x400]) | *((_DWORD *)v47 + 0x1F) & 0xFFFF0000;
    *((_DWORD *)v47 + 0x1F) = v59;
    *((_DWORD *)v47 + 0x1F) = (HIDWORD(qword_1513C9D60[v27 + 0x400]) << 0x10) | (unsigned __int16)v59;
    if ( (__int64 *)qword_1513C9D60[v27] == &qword_15145C180 )
      v60 = 0xFFFFFFFF;
    else
      v60 = *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4LL * SLODWORD(qword_1513C9D60[v27 + 0x400]));
    v61 = v60 | v47[0x10] & 0xFFFF0000;
    *((_DWORD *)v47 + 0x20) = v61;
    *((_DWORD *)v47 + 0x20) = (unsigned __int16)v61
                            | (*(_DWORD *)(*(_QWORD *)(qword_1513C9D60[v27] + 0x250)
                                         + 4LL * SHIDWORD(qword_1513C9D60[v27 + 0x400])) << 0x10);
    v62 = (*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x2A0LL))(
            a1,
            LODWORD(qword_1513C9D60[v27 + 0x400]),
            0);
    v63 = *((_WORD *)v47 + 0x81);
    v47[5] = v62;
    v47[6] = v280;
    v64 = *(_WORD *)(v57 + a4 + 0x90) ^ v63;
    *((float *)v47 + 0x3E) = v52;
    *((_WORD *)v47 + 0x81) = (v63 ^ v64 & 0x3FFF) & 0xBFFF;
    _XMM0 = *(unsigned int *)(v57 + a4 + 0x80);
    __asm { vmaxss  xmm0, xmm0, xmm6 }
    *((float *)v47 + 0x2B) = *(float *)&_XMM0;
    v67 = *((double *)v47 + 8);
    v68 = v67 - *(double *)(v62 + 0x78);
    v69 = *((double *)v47 + 9);
    v70 = v69 - *(double *)(v62 + 0x80);
    v71 = v69 - *(double *)(v280 + 0x80);
    v72 = *(unsigned int *)(v62 + 0xD4);
    v73 = *(unsigned int *)(v62 + 0xD8);
    v74 = *(unsigned int *)(v280 + 0xD4);
    v75 = *(unsigned int *)(v280 + 0xD8);
    v76 = *(unsigned int *)(v62 + 0xD0);
    v77 = *(unsigned int *)(v280 + 0xD0);
    v299 = v67 - *(double *)(v280 + 0x78);
    *(_QWORD *)&_XMM0 = v47[0xA];
    v78 = *(double *)&_XMM0 - *(double *)(v62 + 0x88);
    v79 = *(double *)&_XMM0 - *(double *)(v280 + 0x88);
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v73 + 1);
    *(double *)&v81 = *(float *)&v73;
    v80 = v81;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v72 + 1);
    *(double *)&v72 = *(float *)&v72;
    *(double *)&v81 = *(double *)&v72 * v78 - *(double *)&v81 * v70;
    _XMM1 = v81;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v84 = (float)(*(float *)&_XMM2 + *(float *)(v62 + 0xDC)) - *(float *)(v280 + 0xDC);
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v75 + 1);
    *(double *)&v81 = *(float *)&v75;
    v85 = v81;
    *(double *)&_XMM0 = *(double *)&v81 * v71;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v76 + 1);
    *(double *)&v81 = *(float *)&v76;
    v86 = v81;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v74 + 1);
    *(double *)&v74 = *(float *)&v74;
    *(double *)&v81 = *(double *)&v74 * v79 - *(double *)&_XMM0;
    _XMM1 = v81;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v89 = v84 - *(float *)&_XMM2;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v80 + 1);
    *(double *)&v81 = *(double *)&v80 * v68 - *(double *)&v86 * v78;
    _XMM1 = v81;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v85 + 1);
    *(double *)&v81 = *(double *)&v85 * v299;
    v92 = v81;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v77 + 1);
    *(double *)&v81 = *(float *)&v77;
    v93 = v81;
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v92 + 1);
    *(double *)&v81 = *(double *)&v92 - *(double *)&v81 * v79;
    _XMM1 = v81;
    v95 = (float)(*(float *)&_XMM2 + *(float *)(v62 + 0xE0)) - *(float *)(v280 + 0xE0);
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v86 + 1);
    *(double *)&v81 = *(double *)&v86 * v70 - *(double *)&v72 * v68;
    _XMM1 = v81;
    *(float *)&v80 = v95 - *(float *)&_XMM2;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    v99 = (float)(*(float *)&_XMM2 + *(float *)(v62 + 0xE4)) - *(float *)(v280 + 0xE4);
    LODWORD(v62) = *((_DWORD *)v47 + 0x3F);
    *((_QWORD *)&v81 + 1) = *((_QWORD *)&v93 + 1);
    *(double *)&v81 = *(double *)&v93 * v71 - *(double *)&v74 * v299;
    _XMM1 = v81;
    __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
    *((float *)v47 + 0x26) = (float)((float)(v89 * *((float *)v47 + 0x1C))
                                   + (float)(*(float *)&v80 * *((float *)v47 + 0x1D)))
                           + (float)((float)(v99 - *(float *)&_XMM2) * *((float *)v47 + 0x1E));
    v102 = v62 ^ (v62 ^ (4 * *(_DWORD *)(v57 + a4 + 0x84))) & 0x1FFFC;
    *((_DWORD *)v47 + 0x3F) = v102;
    *((_DWORD *)v47 + 0x3F) = (*(_DWORD *)(v57 + a4 + 0x88) << 0x11) | v102 & 0x1FFFF;
    v103 = sub_1467C1640(
             *(_QWORD *)(a1 + 0x2C0),
             *(_DWORD *)(v57 + a4 + 0x84),
             *(_DWORD *)(v57 + a4 + 0x88),
             (float)((float)((float)(v89 * v89) + (float)(*(float *)&v80 * *(float *)&v80))
                   + (float)((float)(v99 - *(float *)&_XMM2) * (float)(v99 - *(float *)&_XMM2))) > (float)((float)(*(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x13CLL) * *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x13CLL)) * 25.0)).m128_f32[0];
    v104 = v47[4];
    *((float *)v47 + 0x24) = v103;
    *(float *)&v81 = (float)-(((*(_DWORD *)(*(_QWORD *)(v104 + 0x240) + 8LL * *((__int16 *)v47 + 0x3F)) & 0x800) - 1LL) >> 0x3F);
    *((float *)v47 + 0x24) = *(float *)&v81 * v103;
    _XMM1 = *(unsigned int *)(a1 + 0x584);
    __asm { vmaxss  xmm3, xmm1, xmm2 }
    *((float *)v47 + 0x24) = *(float *)&_XMM3;
    _XMM0 = *(unsigned int *)(*(_QWORD *)(a1 + 0x2C0) + 0x48LL * a11 + 0x836FC);
    *((_DWORD *)v47 + 0x25) = *((_DWORD *)v47 + 0x25) & 0xFFDFFFFF | a9 & 0xFFF7FFFF;
    __asm { vminss  xmm1, xmm0, xmm3 }
    *((float *)v47 + 0x24) = *(float *)&_XMM1;
    v109 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * SLODWORD(qword_1513C9D60[v27 + 0x400]));
    v110 = *(_QWORD *)(*(_QWORD *)(qword_1513C9D60[v27] + 0x240) + 8LL * SHIDWORD(qword_1513C9D60[v27 + 0x400]));
    v111 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)a1 + 0x338LL))(a1, v104);
    v112 = 0;
    if ( !v111 )
      v112 = 0x1000000000000LL;
    v284.m128_u64[1] = v110 | v112;
    v113 = (*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)v47[4] + 0x338LL))(v47[4], a1);
    v114 = 0;
    v115 = v113 == 0;
    v116 = 0;
    v117 = 0;
    if ( v115 )
      v114 = 0x1000000000000LL;
    v284.m128_u64[0] = v109 | v114;
    while ( (v284.m128_u64[v117] & 0x1000000000000LL) == 0 )
    {
      ++v116;
      if ( ++v117 >= 2 )
      {
        v118 = a11;
        goto LABEL_50;
      }
    }
    v118 = a11;
    v47[v116 + 5] = (__int64)&qword_151458EE0[0x36 * a11];
LABEL_50:
    if ( v324 )
    {
      if ( (a9 & 0x80000) == 0
        || a2 != HIDWORD(qword_1513C9D60[0x801 * v118 + 0x800]) - 1
        && qword_1513C9D60[v27] == qword_1513C9D60[v279 + 1 + v282]
        && HIDWORD(qword_1513C9D60[v27 + 0x400]) == HIDWORD(qword_1513C9D60[v279 + 0x401 + v282]) )
      {
        v119 = 0;
        v281 = 0;
      }
      else
      {
        v119 = 1;
      }
      _XMM11 = 0;
      v121 = qword_1513C9D60[0x801 * v118 + 0x800];
      if ( v121 < 0 )
      {
        v121 = a2;
        LODWORD(qword_1513C9D60[0x801 * v118 + 0x800]) = a2;
      }
      if ( v119 )
      {
        v122 = v121;
        v123 = 0;
        v124 = 0.0;
        v125 = 0.0;
        v126 = 0;
        if ( v121 <= v279 )
        {
          v127 = 0xC0LL * v121 + a4 + 0x20;
          do
          {
            n4 = *(int *)(v127 + 0x90);
            n4_1 = 0;
            if ( n4 >= 4 )
            {
              v130 = *(_QWORD *)(v127 - 0x18);
              v131 = v130 + 8;
              v132 = v130 + 0x14;
              v133 = ((unsigned __int64)(n4 - 4) >> 2) + 1;
              n4_1 = 4 * v133;
              do
              {
                v134 = *(unsigned int *)(v131 - 8);
                v135 = *(float *)(v131 + 4);
                v131 += 0x30;
                v132 += 0x30;
                *((_QWORD *)&v136 + 1) = *((_QWORD *)&v134 + 1);
                *(double *)&v136 = *(float *)&v134
                                 + *(double *)(v127 - 0x10)
                                 + *(double *)&v126
                                 + v135
                                 + *(double *)(v127 - 0x10)
                                 + *(float *)(v131 - 0x20)
                                 + *(double *)(v127 - 0x10)
                                 + *(float *)(v131 - 0x14)
                                 + *(double *)(v127 - 0x10);
                v126 = v136;
                v125 = *(float *)(v131 - 0x34)
                     + *(double *)(v127 - 8)
                     + v125
                     + *(float *)(v132 - 0x34)
                     + *(double *)(v127 - 8)
                     + *(float *)(v132 - 0x28)
                     + *(double *)(v127 - 8)
                     + *(float *)(v132 - 0x1C)
                     + *(double *)(v127 - 8);
                v124 = *(float *)(v131 - 0x30)
                     + *(double *)v127
                     + v124
                     + *(float *)(v132 - 0x30)
                     + *(double *)v127
                     + *(float *)(v132 - 0x24)
                     + *(double *)v127
                     + *(float *)(v132 - 0x18)
                     + *(double *)v127;
                --v133;
              }
              while ( v133 );
            }
            if ( n4_1 < n4 )
            {
              v137 = (float *)(*(_QWORD *)(v127 - 0x18) + 0xC * n4_1);
              v138 = n4 - n4_1;
              do
              {
                v139 = *(unsigned int *)v137;
                v137 += 3;
                *((_QWORD *)&v140 + 1) = *((_QWORD *)&v139 + 1);
                *(double *)&v140 = *(float *)&v139 + *(double *)(v127 - 0x10) + *(double *)&v126;
                v126 = v140;
                v125 = v137[0xFFFFFFFE] + *(double *)(v127 - 8) + v125;
                v124 = v137[0xFFFFFFFF] + *(double *)v127 + v124;
                --v138;
              }
              while ( v138 );
            }
            v141 = *(_DWORD *)(v127 + 0x90);
            ++v122;
            v127 += 0xC0;
            v123 += v141;
          }
          while ( v122 <= v279 );
          if ( v123 )
          {
            v142 = v121;
            _XMM1 = 0;
            __asm { vcvtsi2sd xmm1, xmm1, ebx }
            v145 = v124 * (1.0 / *(double *)&_XMM1);
            v146 = a4 + 0xC0LL * v121 + 0x20;
            v285 = v145;
            *((_QWORD *)&v148 + 1) = *((_QWORD *)&v126 + 1);
            *(double *)&v148 = *(double *)&v126 * (1.0 / *(double *)&_XMM1);
            _XMM7 = v148;
            v149 = v125 * (1.0 / *(double *)&_XMM1);
            do
            {
              n4_2 = *(int *)(v146 + 0x90);
              n4_3 = 0;
              if ( n4_2 >= 4 )
              {
                v152 = *(_QWORD *)(v146 - 0x18);
                v153 = *(double *)(v146 - 0x10);
                v154 = *(double *)(v146 - 8);
                v155 = *(double *)v146;
                v156 = (float *)(v152 + 8);
                v157 = (float *)(v152 + 0x14);
                v158 = ((unsigned __int64)(n4_2 - 4) >> 2) + 1;
                n4_3 = 4 * v158;
                do
                {
                  v159 = v156[0xFFFFFFFE] + v153 - *(double *)&_XMM7;
                  v160 = v156[0xFFFFFFFF] + v154 - v149;
                  _XMM2 = COERCE_UNSIGNED_INT64(v159 * v159 + v160 * v160 + (*v156 + v155 - v145)
                                                                          * (*v156 + v155 - v145));
                  __asm { vmovddup xmm0, xmm2 }
                  __asm { vsqrtpd xmm3, xmm0 }
                  __asm { vunpckhpd xmm3, xmm3, xmm3 }
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&_XMM11 + 1);
                  *(double *)&v166 = *(float *)&_XMM11;
                  _XMM1 = v166;
                  __asm
                  {
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm6, xmm0, xmm0
                  }
                  *(double *)&v166 = v156[1] + v153 - *(double *)&_XMM7;
                  v169 = v157[0xFFFFFFFF] + v154 - v149;
                  _XMM2 = COERCE_UNSIGNED_INT64(
                            *(double *)&v166 * *(double *)&v166
                          + v169 * v169
                          + (*v157 + v155 - v145) * (*v157 + v155 - v145));
                  __asm { vmovddup xmm0, xmm2 }
                  __asm { vsqrtpd xmm3, xmm0 }
                  __asm { vunpckhpd xmm3, xmm3, xmm3 }
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&_XMM6 + 1);
                  *(double *)&v166 = *(float *)&_XMM6;
                  _XMM1 = v166;
                  __asm
                  {
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm6, xmm0, xmm0
                  }
                  *(double *)&v166 = v156[4] + v153 - *(double *)&_XMM7;
                  v177 = v157[2] + v154 - v149;
                  v178 = v157[3] + v155 - v145;
                  _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v166 * *(double *)&v166 + v177 * v177 + v178 * v178);
                  __asm { vmovddup xmm0, xmm2 }
                  __asm { vsqrtpd xmm3, xmm0 }
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&_XMM6 + 1);
                  *(double *)&v166 = *(float *)&_XMM6;
                  _XMM1 = v166;
                  __asm
                  {
                    vunpckhpd xmm3, xmm3, xmm3
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm6, xmm0, xmm0
                  }
                  v186 = COERCE_UNSIGNED_INT64(v156[7] + v153 - *(double *)&_XMM7);
                  v187 = v157[6] + v155 - v145;
                  v188 = v157[5] + v154 - v149;
                  v156 += 0xC;
                  v157 += 0xC;
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&v186 + 1);
                  *(double *)&v166 = *(double *)&v186 * *(double *)&v186 + v188 * v188 + v187 * v187;
                  _XMM2 = v166;
                  __asm
                  {
                    vmovddup xmm0, xmm2
                    vsqrtpd xmm3, xmm0
                    vunpckhpd xmm3, xmm3, xmm3
                  }
                  *((_QWORD *)&v166 + 1) = *((_QWORD *)&_XMM6 + 1);
                  *(double *)&v166 = *(float *)&_XMM6;
                  _XMM1 = v166;
                  __asm
                  {
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm11, xmm0, xmm0
                  }
                  --v158;
                }
                while ( v158 );
              }
              if ( n4_3 < n4_2 )
              {
                v195 = (float *)(*(_QWORD *)(v146 - 0x18) + 0xC * n4_3);
                v196 = n4_2 - n4_3;
                do
                {
                  v197 = *(unsigned int *)v195;
                  v198 = v195[1];
                  v195 += 3;
                  *((_QWORD *)&v199 + 1) = *((_QWORD *)&v197 + 1);
                  v200 = v195[0xFFFFFFFF] + *(double *)v146 - v145;
                  *(double *)&v199 = (*(float *)&v197 + *(double *)(v146 - 0x10) - *(double *)&_XMM7)
                                   * (*(float *)&v197 + *(double *)(v146 - 0x10) - *(double *)&_XMM7)
                                   + (v198 + *(double *)(v146 - 8) - v149) * (v198 + *(double *)(v146 - 8) - v149)
                                   + v200 * v200;
                  _XMM2 = v199;
                  __asm
                  {
                    vmovddup xmm0, xmm2
                    vsqrtpd xmm3, xmm0
                  }
                  *((_QWORD *)&v199 + 1) = *((_QWORD *)&_XMM11 + 1);
                  *(double *)&v199 = *(float *)&_XMM11;
                  _XMM1 = v199;
                  __asm
                  {
                    vunpckhpd xmm3, xmm3, xmm3
                    vmaxsd  xmm0, xmm1, xmm3
                    vcvtsd2ss xmm11, xmm0, xmm0
                  }
                  --v196;
                }
                while ( v196 );
              }
              ++v142;
              v146 += 0xC0;
            }
            while ( v142 <= v279 );
            v207 = v285;
            __asm { vunpcklpd xmm2, xmm7, xmm8 }
            *(_OWORD *)(v47 + 0xB) = _XMM2;
            *((_OWORD *)v47 + 4) = _XMM2;
            *((double *)v47 + 0xD) = v207;
            *((double *)v47 + 0xA) = v207;
          }
          v119 = v281;
        }
        LODWORD(qword_1513C9D60[0x801 * a11 + 0x800]) = 0xFFFFFFFF;
      }
      sub_14678F700(a1, (__int64)v47, 0.0, v119, *(float *)&_XMM11);
      goto LABEL_101;
    }
    *((_DWORD *)v47 + 0x2A) = 0;
    v47[0x16] = 0;
    *((_DWORD *)v47 + 0x2E) = 0;
    *((_DWORD *)v47 + 0x2F) = 0x7F7FFFFF;
    *((_DWORD *)v47 + 0x30) = 0x7F7FFFFF;
    *((_DWORD *)v47 + 0x31) = 0x7F7FFFFF;
    v209 = *(_QWORD *)(a1 + 0x2C0);
    _XMM0 = sub_1467C0F70(v209, *(_DWORD *)(0xC0LL * a2 + a4 + 0x84), *(_DWORD *)(0xC0LL * a2 + a4 + 0x88));
    if ( _XMM0.m128_f32[0] >= 0.0 )
      __asm { vminss  xmm12, xmm0, xmm13 }
    else
      LODWORD(_XMM12) = 0;
    v212 = *(double *)(a1 + 0x6B0);
    if ( v212 < 2.0
      && *(float *)&_XMM12 > 0.0
      && COERCE_FLOAT(*(_DWORD *)(v209 + 0x1D8) ^ 0x80000000) > *((float *)v47 + 0x26) )
    {
      v213 = a11;
      v214 = *((__int16 *)v47 + 0x3F);
      v215 = qword_1513C9D60[0x801 * a11 + a2];
      if ( *(float *)(*(_QWORD *)(v215 + 0x258) + 0x18 * v214) <= v212
        && (*(_QWORD *)(*(_QWORD *)(v215 + 0x240) + 8 * v214) & 0x4000000000LL) != 0 )
      {
        goto LABEL_93;
      }
      v216 = v47[5];
      v217 = *(__m128 *)a3;
      _XMM0 = 0;
      v304 = 0.0;
      __asm
      {
        vmovupd [rbp+170h+var_190], xmm0
        vmovupd [rbp+170h+var_170], xmm0
      }
      *(_QWORD *)&_XMM0 = *(_QWORD *)(a3 + 0x10);
      _XMM1 = 0;
      v287 = 0.0;
      DWORD1(v291) = 0xFFF7FFFF;
      v290 = 0xFFBFFFFF;
      v286 = 1;
      v294 = 0x80000000;
      v296 = 0;
      v298 = 1;
      __asm
      {
        vmovupd [rbp+170h+var_180], xmm1
        vmovupd [rbp+170h+var_160], xmm1
      }
      v220 = _mm_sub_pd(v217, *(__m128 *)(v216 + 0x78));
      v285 = *(double *)&_XMM0 - *(double *)(v216 + 0x88);
      v284 = v220;
      sub_1467248B0((double *)v216, (double *)v284.m128_u64, (double *)&v300);
      v221 = v47[6];
      v222 = _mm_sub_pd(*(__m128 *)a3, *(__m128 *)(v221 + 0x78));
      v313 = *(double *)(a3 + 0x10) - *(double *)(v221 + 0x88);
      v312 = v222;
      sub_1467248B0((double *)v221, (double *)v312.m128_u64, (double *)&v300);
      v223 = *((float *)v47 + 0x1D);
      v224 = *((float *)v47 + 0x1E);
      v225 = v47[5];
      v226 = *((float *)v47 + 0x1C);
      v227 = v47[6];
      v228 = COERCE_UNSIGNED_INT64(v226);
      _XMM2 = COERCE_UNSIGNED_INT64(v226 * *(double *)&v300 + v223 * *((double *)&v301 + 1) + v224 * *(double *)&v303);
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      v231 = *(float *)&_XMM3 * v226;
      _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v228 * *((double *)&v300 + 1) + v223 * *(double *)&v302 + v224 * *((double *)&v303 + 1));
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      *(float *)&_XMM0 = *(float *)&_XMM3 * v223;
      *((_QWORD *)&v234 + 1) = *((_QWORD *)&v228 + 1);
      *(double *)&v234 = *(double *)&v228 * *(double *)&v301 + v223 * *((double *)&v302 + 1) + v224 * v304;
      _XMM2 = v234;
      __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
      v237 = (float)(-1.0 / (float)((float)(v231 + *(float *)&_XMM0) + (float)(*(float *)&_XMM3 * v224)))
           * (float)((float)(*(float *)&_XMM12 + 1.0) * *((float *)v47 + 0x26));
      v287 = v237;
      v238 = *(unsigned int *)(v227 + 0xDC);
      *(float *)&v238 = (float)((float)(*(float *)(v227 + 0xDC) * *(float *)(v227 + 0xDC))
                              + (float)(*(float *)(v227 + 0xE0) * *(float *)(v227 + 0xE0)))
                      + (float)(*(float *)(v227 + 0xE4) * *(float *)(v227 + 0xE4));
      _XMM5 = v238;
      __asm { vmaxss  xmm5, xmm5, xmm3 }
      if ( v237 * *(double *)(v225 + 0x108) * (v237 * *(double *)(v225 + 0x108)) < (float)(*(float *)&_XMM5
                                                                                         * (float)((float)(*(float *)&_XMM12 + 1.1)
                                                                                                 * (float)(*(float *)&_XMM12 + 1.1))) )
      {
        sub_14678F700(a1, (__int64)v47, v237, 1, 0.0);
        v241 = (__m128)(unsigned __int64)v47[0xE];
        v242 = *(_QWORD *)(a1 + 0x250);
        v289 = v287 * *((float *)v47 + 0x1E);
        v243 = v287 * _mm_shuffle_ps(v241, v241, 0x55).m128_f32[0];
        v244 = *((_OWORD *)v47 + 4);
        v292 = v47[0xA];
        v287 = v287 * v241.m128_f32[0];
        v288 = v243;
        v291 = v244;
        v245 = *(_DWORD *)(v242 + 4LL * *((__int16 *)v47 + 0x3E));
        v246 = *(_QWORD *)a1;
        v293 = v245;
        v295 = 0;
        n4_4 = 4;
        (*(void (__fastcall **)(__int64, int *, __int64))(v246 + 0x30))(a1, &v286, 1);
        v247 = *((__int16 *)v47 + 0x3F);
        LODWORD(v287) ^= 0x80000000;
        LODWORD(v288) ^= 0x80000000;
        LODWORD(v289) ^= 0x80000000;
        v248 = (_QWORD *)qword_1513C9D60[0x801 * a11 + a2];
        v293 = *(_DWORD *)(v248[0x4A] + 4 * v247);
        (*(void (__fastcall **)(_QWORD *, int *, __int64))(*v248 + 0x30LL))(v248, &v286, 1);
      }
    }
    v213 = a11;
LABEL_93:
    if ( a10 <= 0.0 )
    {
      v263 = ((a6 & 0xE0u) < (a8 & 0xE0u)) | *((_DWORD *)v47 + 0x3F) & 0xFFFFFFFC;
      *((_DWORD *)v47 + 0x3F) = v263;
      v264 = *((float *)v47 + 0x1D);
      v265 = *((float *)v47 + 0x1E);
      v266 = *((float *)v47 + 0x1C);
      v267 = (float *)v47[(v263 & 3) + 5];
      v268 = v267[0x26];
      v269 = v267[0x25];
      v270 = v267[0x27];
      v271 = v267[0x24];
      v272 = (float)((float)(v268 * v264) - (float)(v269 * v265)) + (float)(v266 * v270);
      v273 = (float)((float)(v271 * v265) - (float)(v266 * v268)) + (float)(v270 * v264);
      v274 = (float)((float)(v266 * v269) - (float)(v271 * v264)) + (float)(v270 * v265);
      *((float *)v47 + 0x21) = (float)((float)((float)(v273 * v268) - (float)(v274 * v269)) + v266)
                             + (float)((float)(v273 * v268) - (float)(v274 * v269));
      *((float *)v47 + 0x22) = (float)((float)((float)(v274 * v271) - (float)(v272 * v268)) + v264)
                             + (float)((float)(v274 * v271) - (float)(v272 * v268));
      *((float *)v47 + 0x23) = (float)((float)((float)(v272 * v269) - (float)(v273 * v271)) + v265)
                             + (float)((float)(v272 * v269) - (float)(v273 * v271));
      v47[0x14] = 0;
      *((_DWORD *)v47 + 0x27) = 0;
    }
    else
    {
      _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x30) - *(double *)(a1 + 0x18));
      _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x28) - *(double *)(a1 + 0x10));
      __asm
      {
        vcvtsd2ss xmm3, xmm1, xmm1
        vcvtsd2ss xmm1, xmm0, xmm0
      }
      _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x38) - *(double *)(a1 + 0x20));
      v254 = *(float *)&_XMM3 + *(float *)&_XMM1;
      __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
      if ( a10 > (float)((float)(v254 + *(float *)&_XMM1) * 0.059999999) )
      {
        v47[0xE] = *(__int64 *)(0xC0LL * a2 + a4 + 0x6C);
        *((_DWORD *)v47 + 0x1E) = *(_DWORD *)(0xC0LL * a2 + a4 + 0x74);
      }
      v256 = *(_QWORD *)(a1 + 0x2C0);
      v258 = LODWORD(a10);
      *(float *)&v258 = a10 - *(float *)(v256 + 0x13C);
      _XMM0 = v258;
      __asm { vmaxss  xmm0, xmm0, xmm14 }
      v261 = _XMM0;
      *(float *)&v261 = *(float *)&_XMM0 * *(float *)(v256 + 0x1E4);
      _XMM1 = v261;
      __asm { vminss  xmm3, xmm1, dword ptr [rax+1E8h] }
      v283 = v47[0xE];
      *((float *)v47 + 0x27) = *(float *)&v283 * *(float *)&_XMM3;
      *((float *)v47 + 0x28) = *(float *)&_XMM3 * *((float *)&v283 + 1);
      *((float *)v47 + 0x29) = *(float *)&_XMM3 * *((float *)v47 + 0x1E);
      *(__int64 *)((char *)v47 + 0x84) = *(__int64 *)a12;
      *((_DWORD *)v47 + 0x23) = *(_DWORD *)(a12 + 8);
    }
    if ( v278 )
    {
      v275 = (char *)qword_1513C9D60[0x801 * v213 + a2];
      v276 = sub_146784BA0(a1, v275);
      sub_14678FEB0(a1, (__int64)v47, v276, (__int64)v275, 1);
      *((_DWORD *)v47 + 0x25) = a9 & 0xFFF7FFFF | *((_DWORD *)v47 + 0x25) & 0xFFDFFFFF;
    }
    v22 = v47;
    goto LABEL_101;
  }
  if ( (v31 & 0x1000000000LL) != 0 )
  {
    _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x28) - *(double *)(a1 + 0x10));
    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x30) - *(double *)(a1 + 0x18));
    __asm
    {
      vcvtsd2ss xmm3, xmm1, xmm1
      vcvtsd2ss xmm1, xmm0, xmm0
    }
    _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x38) - *(double *)(a1 + 0x20));
    __asm
    {
      vminss  xmm4, xmm1, xmm3
      vcvtsd2ss xmm1, xmm0, xmm0
      vminss  xmm3, xmm4, xmm1
    }
    v34 = (float)(*(float *)&_XMM3 * *(float *)&_XMM3) * 0.022500001;
  }
  else
  {
    _XMM0 = *(unsigned int *)(*(_QWORD *)(v29 + 0x258) + 0x18 * v30 + 0xC);
    __asm { vminss  xmm1, xmm0, dword ptr [rax+rdx*8+0Ch] }
    v34 = *(float *)&_XMM1 * *(float *)&_XMM1;
  }
  v43 = (volatile signed __int64 *)(a1 + 0x8C8);
  v44 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C8), 0x200000, 0);
  if ( v44 )
    sub_1403DE750(a1 + 0x8C8, v44, 0, (__int64)"CRigidEntity::RegisterContactPoint", (__int64)"m_lockContacts", 1);
  v45 = (__int64 *)(a1 + 0x4D0);
  v46 = *(__int64 **)(a1 + 0x4D0);
  v47 = v46;
  if ( v46 != (__int64 *)(a1 + 0x4D0) )
  {
    v48 = v26 + 0x801LL * a11;
    do
    {
      if ( ((*((_BYTE *)v47 + 0x94) & 0x40) != 0 || *((float *)v47 + 0x3E) == 0.0)
        && v47[4] == qword_1513C9D60[v48]
        && *((__int16 *)v47 + 0x3F) == HIDWORD(qword_1513C9D60[v48 + 0x400]) )
      {
        v49 = *((double *)v47 + 9) - *(double *)(a3 + 8);
        v50 = *((double *)v47 + 0xA) - *(double *)(a3 + 0x10);
        if ( v49 * v49 + (*((double *)v47 + 8) - *(double *)a3) * (*((double *)v47 + 8) - *(double *)a3) + v50 * v50 < v34 )
          break;
      }
      v47 = (__int64 *)*v47;
    }
    while ( v47 != v45 );
    v26 = v279;
  }
  if ( v47 == v45 )
  {
    v47 = *(__int64 **)(a1 + 0x4D0);
    v51 = 0;
    if ( v46 != v45 )
    {
      do
      {
        if ( (*((_BYTE *)v47 + 0x94) & 0x40) == 0 && *((float *)v47 + 0x3E) != 0.0 )
          break;
        v47 = (__int64 *)*v47;
        ++v51;
      }
      while ( v47 != v45 );
    }
    if ( v47 != v45 )
    {
      sub_1467B49B0(a1, (unsigned __int64 *)v47, 0xFFFFFFFF, 1, 0);
LABEL_25:
      v278 = 1;
LABEL_26:
      v52 = a10;
      goto LABEL_27;
    }
    if ( v51 < *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x2E0LL) )
    {
      v47 = (__int64 *)sub_1469161D0();
      goto LABEL_25;
    }
  }
  else
  {
    v54 = *((float *)v47 + 0x3E);
    if ( v54 != 0.0 && (*((_BYTE *)v47 + 0x94) & 0x40) == 0 )
      goto LABEL_26;
    v52 = a10;
    if ( v54 < a10 && (a9 & 0x80u) == 0 )
    {
LABEL_27:
      if ( a1 != 0xFFFFFFFFFFFFF738uLL )
      {
        n0x200000 = _InterlockedCompareExchange64(v43, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C8), n0x200000);
      }
      goto LABEL_38;
    }
  }
  if ( a1 != 0xFFFFFFFFFFFFF738uLL )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v43, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8C8), n0x200000_1);
  }
LABEL_101:
  v309 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v22;
}

// --- End Function: sub_1467D9C50 (0x1467D9C50) ---

// --- Function: sub_1467DDF00 (0x1467DDF00) ---
__int64 __fastcall sub_1467DDF00(unsigned __int64 a1, __int64 a2, unsigned int n3, __int64 a4)
{
  double v4; // xmm1_8
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int64 v14; // r15
  unsigned int n3_1; // r14d
  __int64 v16; // r13
  unsigned __int64 v17; // rbx
  double v18; // xmm10_8
  int v23; // eax
  int v24; // eax
  __int64 v29; // rax
  __int64 v30; // rdx
  __int64 v31; // rsi
  unsigned int v32; // r13d
  int v33; // r14d
  int v35; // edi
  signed __int64 v36; // rdx
  __int64 v37; // rax
  int v38; // r12d
  int v39; // ebx
  __int64 *v40; // r8
  __int64 *v41; // rax
  __int64 *v42; // rcx
  __int64 *v43; // r11
  __int64 *v44; // r9
  __int64 *i; // rdx
  int v46; // r10d
  int v47; // edx
  int v48; // ecx
  double *v50; // rdx
  _OWORD *v51; // rdi
  double *v52; // rcx
  __int128 v62; // kr00_16
  int v64; // eax
  _QWORD *v65; // r8
  __int64 *v66; // r12
  int v67; // r13d
  char *v69; // r14
  char *v70; // rax
  __int64 v71; // rdx
  __int64 v72; // rax
  __int64 v73; // rcx
  __int64 v74; // rcx
  __int64 v75; // rax
  __int128 v77; // kr00_16
  __int128 v80; // kr00_16
  __m128 v82; // xmm2
  float v83; // xmm0_4
  float v84; // xmm1_4
  float *v85; // rax
  double v86; // xmm0_8
  int v87; // eax
  double *v88; // rcx
  double v89; // xmm1_8
  unsigned __int64 v90; // rdx
  int v91; // eax
  __int64 v92; // r13
  char *v93; // r12
  __int64 v94; // rdi
  int v95; // esi
  __int64 v96; // r14
  int n0x40; // r14d
  unsigned __int64 v98; // rdi
  __int64 v99; // rsi
  __int64 v100; // r12
  unsigned __int64 v101; // rcx
  __int64 v102; // rax
  float v103; // kr00_4
  __int64 v104; // rsi
  __int64 v105; // rdi
  __int64 v106; // rdx
  __int64 v108; // [rsp+68h] [rbp-A0h]
  int v109; // [rsp+70h] [rbp-98h] BYREF
  int v110; // [rsp+74h] [rbp-94h]
  int v111; // [rsp+78h] [rbp-90h]
  int v112; // [rsp+7Ch] [rbp-8Ch]
  float v113; // [rsp+80h] [rbp-88h]
  __int64 *v114; // [rsp+88h] [rbp-80h]
  __int64 v115; // [rsp+90h] [rbp-78h] BYREF
  float v116; // [rsp+98h] [rbp-70h] BYREF
  char *v117; // [rsp+A0h] [rbp-68h]
  __int64 v118; // [rsp+A8h] [rbp-60h]
  float v119[3]; // [rsp+B0h] [rbp-58h] BYREF
  float v120[3]; // [rsp+BCh] [rbp-4Ch] BYREF
  int n0x2800; // [rsp+C8h] [rbp-40h] BYREF
  __int64 v122; // [rsp+CCh] [rbp-3Ch]
  int v123; // [rsp+D4h] [rbp-34h]
  __int64 v124; // [rsp+D8h] [rbp-30h]
  unsigned __int64 v125; // [rsp+E0h] [rbp-28h]
  __int64 v126; // [rsp+E8h] [rbp-20h]
  __int64 v127; // [rsp+F0h] [rbp-18h]
  __int64 v128; // [rsp+118h] [rbp+10h]
  float v129[6]; // [rsp+128h] [rbp+20h] BYREF
  __int128 v130; // [rsp+148h] [rbp+40h]
  __int128 v131; // [rsp+158h] [rbp+50h]
  _OWORD v132[7]; // [rsp+168h] [rbp+60h]

  v14 = 0;
  v132[4] = v7;
  v132[2] = v9;
  n3_1 = n3;
  v16 = a4;
  v132[1] = v10;
  v17 = a1;
  n0x2800 = 0x2800;
  v122 = 0;
  v123 = 0;
  v125 = 0;
  v18 = v4;
  v126 = 0;
  v127 = 0;
  v124 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  _XMM1 = COERCE_UNSIGNED_INT64(*(double *)(v17 + 0x28) - *(double *)(v17 + 0x10));
  _XMM0 = COERCE_UNSIGNED_INT64(*(double *)(v17 + 0x30) - *(double *)(v17 + 0x18));
  __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
  _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(v17 + 0x38) - *(double *)(v17 + 0x20));
  *(_QWORD *)(v17 + 0x6F8) = 0;
  *(_QWORD *)(v17 + 0x6F0) = 0;
  *(_QWORD *)(v17 + 0x6E8) = 0;
  *(_QWORD *)(v17 + 0x710) = 0;
  *(_QWORD *)(v17 + 0x708) = 0;
  *(_QWORD *)(v17 + 0x700) = 0;
  v23 = *(_DWORD *)(v17 + 0x208) & 1;
  v114 = 0;
  v118 = 0;
  v117 = 0;
  *(_DWORD *)(v17 + 0x4A4) &= ((unsigned __int16)(-v23 >> 0x1F) << 9) | 0xFFFFF9FF;
  v24 = *(_DWORD *)(v17 + 0x148);
  __asm
  {
    vcvtsd2ss xmm3, xmm0, xmm0
    vcvtsd2ss xmm0, xmm2, xmm2
    vminss  xmm3, xmm3, xmm0
    vminss  xmm11, xmm3, xmm4
  }
  if ( *(_DWORD *)(v17 + 0x50C) != v24 )
    *(_DWORD *)(v17 + 0x508) = 0;
  *(_DWORD *)(v17 + 0x50C) = v24;
  sub_14680B610(v17, v18, v16);
  v29 = *(_QWORD *)(v17 + 0x2C0);
  v112 = 0;
  v111 = *(_DWORD *)(v29 + 0x468);
  if ( *(int *)(v17 + 0x148) > 0 )
  {
    v30 = 0;
    v132[5] = v6;
    v132[3] = v8;
    v132[0] = v11;
    v131 = v12;
    v130 = v13;
    v132[6] = v5;
    v108 = 0;
    do
    {
      if ( (*(_BYTE *)(v17 + 0x208) & 1) == 0 && *(_QWORD *)(v30 + *(_QWORD *)(v17 + 0x4C0)) && !v16 )
      {
        v31 = 0;
        v110 = 0;
        v32 = 0;
        v33 = 0;
        _XMM7 = 0;
        v35 = 0xFFFFFFFF;
        v36 = _InterlockedIncrement64((volatile signed __int64 *)(v17 + 0x8C8));
        if ( (v36 & 0x200000) != 0 )
          sub_1403CD0A0(
            (volatile signed __int64 *)(v17 + 0x8C8),
            v36,
            (__int64)"CRigidEntity::RegisterContacts",
            (__int64)"m_lockContacts",
            1);
        v37 = *(_QWORD *)(v17 + 0x4C0);
        v38 = 1;
        v39 = v111;
        v109 = 1;
        v40 = *(__int64 **)(v108 + v37);
        v41 = v40;
        v42 = v40;
        v43 = v40;
        v44 = v40;
        for ( i = v40; ; i = v41 )
        {
          v46 = *((_DWORD *)v44 + 0x25);
          if ( (v46 & 0x80u) == 0 )
          {
            v114 = v41;
            if ( v31 )
            {
              v114 = v42;
              if ( i[6] != v31 )
              {
                v33 = 1;
                v114 = v43;
              }
            }
            v47 = *((__int16 *)v40 + 0x3F);
            v31 = v40[6];
            *((_DWORD *)v44 + 0x25) = v46 & 0xFFFFBFFF;
            v48 = ((v35 >> 0x1F) + 1) ^ -(((v35 - v47) ^ (v35 - v47 - 1)) >> 0x1F);
            v35 = v47;
            v33 |= v48;
            if ( v39 )
              *((_DWORD *)v40 + 0x24) = 0;
            _XMM0 = *((unsigned int *)v40 + 0x3E);
            __asm { vmaxss  xmm7, xmm0, xmm7 }
          }
          v41 = (__int64 *)*v40;
          v40[2] = *v40;
          if ( (*((_DWORD *)v44 + 0x25) & 0x80000) != 0 )
            break;
          v40 = v41;
          v44 = v41;
          ++v38;
          v42 = v41;
          v43 = v41;
        }
        v17 = a1;
        v109 = v38;
        v50 = *(double **)(v108 + *(_QWORD *)(a1 + 0x4C0));
        v115 = (__int64)v50;
        if ( !v33 )
        {
          v51 = (_OWORD *)(a1 + 0x628);
          v52 = *(double **)(v108 + *(_QWORD *)(a1 + 0x140));
          _XMM1 = COERCE_UNSIGNED_INT64(v52[7] - v52[4]);
          _XMM0 = COERCE_UNSIGNED_INT64(v52[6] - v52[3]);
          __asm
          {
            vcvtsd2ss xmm3, xmm1, xmm1
            vcvtsd2ss xmm1, xmm0, xmm0
          }
          _XMM0 = COERCE_UNSIGNED_INT64(v52[5] - v52[2]);
          __asm
          {
            vminss  xmm4, xmm3, xmm1
            vcvtsd2ss xmm1, xmm0, xmm0
            vminss  xmm3, xmm4, xmm1
          }
          v113 = *(float *)&_XMM3;
          v62 = _XMM3;
          *(float *)&v62 = *(float *)&_XMM3
                         - (float)((float)((int)((_XMM3 & 0x7FFFFFFF) - 1) >> 0x1F) * *(float *)&_XMM11);
          _XMM6 = v62;
          __asm { vminss  xmm0, xmm6, xmm11 }
          v64 = sub_1467B1940(
                  a1,
                  v50,
                  0x80000,
                  *(float *)&_XMM0 * 0.15000001,
                  n3,
                  &v109,
                  &v115,
                  v129,
                  &v116,
                  (double *)(a1 + 0x628),
                  (float *)(a1 + 0x538));
          v66 = v114;
          v67 = v64;
          if ( (((*((_DWORD *)v114 + 0x25) & 0x1000000) != 0) & (unsigned __int8)v64) == 0 )
            goto LABEL_34;
          __asm { vminss  xmm0, xmm6, xmm11 }
          if ( v116 >= (float)(*(float *)&_XMM0 * 0.050000001) )
            goto LABEL_34;
          v69 = (char *)sub_146723470();
          v118 = (__int64)v69;
          v70 = (char *)sub_146723470();
          v117 = v70;
          v65 = v70;
          if ( v69 )
          {
            v71 = v108;
            if ( v70 )
            {
              *((_QWORD *)v70 + 3) = a1;
              *((_QWORD *)v69 + 3) = a1;
              v72 = *(_QWORD *)(a1 + 0x140);
              v110 = 1;
              v73 = *(_QWORD *)(v108 + v72);
              v65[4] = v73;
              *((_QWORD *)v69 + 4) = v73;
              v74 = v115;
              v65[5] = a1 + 0x5B0;
              *((_QWORD *)v69 + 5) = a1 + 0x5B0;
              v65[6] = v31;
              *((_QWORD *)v69 + 6) = v31;
              LODWORD(v72) = *(_DWORD *)(v74 + 0x7C);
              *((_DWORD *)v65 + 0x1F) = v72;
              *((_DWORD *)v69 + 0x1F) = v72;
              LODWORD(v72) = *(_DWORD *)(v74 + 0x80);
              *((_DWORD *)v65 + 0x20) = v72;
              *((_DWORD *)v69 + 0x20) = v72;
              v65[7] = v69 + 0x104;
              *((_DWORD *)v65 + 0x25) = 0x4503;
              *((_DWORD *)v69 + 0x25) = 1;
              if ( v111 )
                *((_DWORD *)v69 + 0x24) = 0;
              *((_OWORD *)v69 + 4) = *v51;
              *((double *)v69 + 0xA) = *(double *)(a1 + 0x638);
              *((double *)v65 + 0xE) = *((double *)v66 + 0xE);
              *((_DWORD *)v65 + 0x1E) = *((_DWORD *)v66 + 0x1E);
              *((double *)v69 + 0xE) = *((double *)v66 + 0xE);
              *((_DWORD *)v69 + 0x1E) = *((_DWORD *)v66 + 0x1E);
              v75 = *(_QWORD *)(a1 + 0x2C0);
              v77 = _XMM7;
              *(float *)&v77 = *(float *)&_XMM7 - *(float *)(v75 + 0x13C);
              _XMM0 = v77;
              __asm { vmaxss  xmm0, xmm0, xmm8 }
              v80 = _XMM0;
              *(float *)&v80 = *(float *)&_XMM0 * *(float *)(v75 + 0x1E4);
              _XMM1 = v80;
              __asm { vminss  xmm3, xmm1, dword ptr [rax+1E8h] }
              LODWORD(v75) = *((_DWORD *)v66 + 0x1E);
              v128 = v66[0xE];
              *((float *)v69 + 0x27) = *(float *)&v128 * *(float *)&_XMM3;
              *((float *)v69 + 0x28) = *(float *)&_XMM3 * *((float *)&v128 + 1);
              *((float *)v69 + 0x29) = *(float *)&v75 * *(float *)&_XMM3;
              if ( *((float *)v66 + 0x3E) <= 0.0 )
              {
                v120[0] = 0.0;
                v120[1] = 0.0;
                v120[2] = 0.0;
                v85 = v120;
              }
              else
              {
                v82 = (__m128)*(unsigned __int64 *)((char *)v66 + 0x84);
                v83 = v82.m128_f32[0] * 10.0;
                v84 = _mm_shuffle_ps(v82, v82, 0x55).m128_f32[0];
                v82.m128_f32[0] = 10.0 * *((float *)v66 + 0x23);
                v119[0] = v83;
                v119[1] = v84 * 10.0;
                v119[2] = v82.m128_f32[0];
                v85 = v119;
              }
              v86 = *(double *)v85;
              v87 = *((_DWORD *)v85 + 2);
              *(double *)((char *)v65 + 0x9C) = v86;
              *((_DWORD *)v65 + 0x29) = v87;
              v88 = *(double **)(v108 + *(_QWORD *)(a1 + 0x140));
              if ( (*(double *)(a1 + 0x28) - *(double *)(a1 + 0x10))
                 * (*(double *)(a1 + 0x30) - *(double *)(a1 + 0x18))
                 * (*(double *)(a1 + 0x38) - *(double *)(a1 + 0x20)) <= (v88[6] - v88[3])
                                                                      * (v88[5] - v88[2])
                                                                      * ((v88[7] - v88[4])
                                                                       * 0.1000000014901161) )
              {
                *(_OWORD *)(v69 + 0x58) = *v51;
                v89 = *(double *)(a1 + 0x638);
              }
              else
              {
                *(_OWORD *)(v69 + 0x58) = *(_OWORD *)(v31 + 0x78);
                v89 = *(double *)(v31 + 0x88);
              }
              *((double *)v69 + 0xD) = v89;
              *(_QWORD *)(a1 + 0x5A8) = v66;
            }
          }
          else
          {
LABEL_34:
            v71 = v108;
          }
          v32 = (v67
               & ((*(__int64 (__fastcall **)(_QWORD, __int64, _QWORD *))(**(_QWORD **)(v71 + *(_QWORD *)(a1 + 0x140))
                                                                       + 0x270LL))(
                    *(_QWORD *)(v71 + *(_QWORD *)(a1 + 0x140)),
                    0xFFFFFFFFLL,
                    v65)
                ^ 1))
              + v67;
        }
        v90 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8C8));
        if ( (v90 & 0x3FF) == 0 && (v90 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8C8), v90);
        if ( ((*(_DWORD *)(a1 + 0x4A4) >> 9) & 3u) >= v32 )
          LOWORD(v32) = (*(_DWORD *)(a1 + 0x4A4) >> 9) & 3;
        v91 = v109;
        *(_DWORD *)(a1 + 0x4A4) ^= ((unsigned __int16)*(_DWORD *)(a1 + 0x4A4)
                                  ^ (unsigned __int16)((_WORD)v32 << 9))
                                 & 0x600;
        v92 = (__int64)v117;
        if ( v91 > 0 )
        {
          v93 = v117 + 0x104;
          v94 = v115;
          v95 = -v110 & 0x4000;
          v96 = (unsigned int)v91;
          do
          {
            *(_QWORD *)(v94 + 0x38) = v93;
            *(_DWORD *)(v94 + 0x94) |= v95;
            sub_146736230(v94);
            sub_14678F700(a1, v94, 0.0, 1, 0.0);
            v94 = *(_QWORD *)(v94 + 0x10);
            --v96;
          }
          while ( v96 );
          v115 = v94;
        }
        if ( v110 )
        {
          sub_146736230(v92);
          sub_146736230(v118);
        }
        v30 = v108;
        v16 = a4;
      }
      n0x40 = 0;
      v98 = 1;
      v99 = 0;
      v100 = 0;
      do
      {
        v101 = *(_QWORD *)(v30 + *(_QWORD *)(v17 + 0x4C8));
        if ( v98 > v101 )
          break;
        if ( (v101 & v98) != 0 )
        {
          if ( *(_DWORD *)(*(_QWORD *)(v17 + 0x4F0) + v100 + 0x74) )
          {
            if ( !v16
              || (v102 = *(_QWORD *)(v17 + 0x4E8), *(_QWORD *)(v102 + v99 + 0x18) == v16)
              || *(_QWORD *)(v102 + v99 + 0x20) == v16 )
            {
              sub_146736230(*(_QWORD *)(v17 + 0x4E8) + 0x108LL * n0x40);
              v30 = v108;
            }
          }
        }
        ++n0x40;
        v98 = __ROL8__(v98, 1);
        v100 += 0x100;
        v99 += 0x108;
      }
      while ( n0x40 < 0x40 );
      v30 += 8;
      v108 = v30;
      ++v112;
    }
    while ( v112 < *(_DWORD *)(v17 + 0x148) );
    n3_1 = n3;
  }
  v103 = (float)((*(_DWORD *)(v17 + 0x4A4) >> 0x1B) & 1);
  if ( (float)(v103 + *(float *)(v17 + 0x8B0)) > 0.0 )
    sub_146724880();
  v104 = *(int *)(v17 + 0x148);
  v105 = *(_QWORD *)(v17 + 0x140);
  if ( v104 > 0 )
  {
    do
    {
      if ( (*(float (__fastcall **)(_QWORD))(**(_QWORD **)(v105 + 8 * v14) + 0x2C8LL))(*(_QWORD *)(v105 + 8 * v14)) == 0.0
        && (*(unsigned int (__fastcall **)(_QWORD, unsigned __int64, _QWORD))(**(_QWORD **)(v105 + 8 * v14) + 0x258LL))(
             *(_QWORD *)(v105 + 8 * v14),
             v17,
             0) )
      {
        (*(void (__fastcall **)(_QWORD, __int64, _QWORD, unsigned __int64))(**(_QWORD **)(v105 + 8 * v14) + 0x1D0LL))(
          *(_QWORD *)(v105 + 8 * v14),
          v106,
          n3_1,
          v17);
      }
      ++v14;
    }
    while ( v14 < v104 );
  }
  v125 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return 1;
}

// --- End Function: sub_1467DDF00 (0x1467DDF00) ---

// --- Function: CSpaceshipEntity::RegisterContacts (0x1467DE870) ---
__int64 __fastcall CSpaceshipEntity::RegisterContacts(__int64 a1, double a2, int n3, __int64 a4)
{
  volatile signed __int64 *v4; // rbp
  signed __int64 v8; // rdx
  __int64 n0x40; // rdi
  float *v10; // rbx
  signed __int64 v11; // rdx

  v4 = (volatile signed __int64 *)(a1 + 0x6D58);
  v8 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x6D58));
  if ( (v8 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x6D58),
      v8,
      (__int64)"CSpaceshipEntity::RegisterContacts",
      (__int64)"m_lockSpaceship",
      1);
  n0x40 = 0;
  v10 = (float *)(a1 + 0xB98);
  do
  {
    if ( v10[0xFFFFFFEA] < 0.0 )
      break;
    if ( *(_QWORD *)v10 && (!a4 || *(_QWORD *)v10 == a4) )
      sub_146736230((__int64)(v10 + 2));
    ++n0x40;
    v10 += 0x62;
  }
  while ( n0x40 < 0x40 );
  v11 = _InterlockedDecrement64(v4);
  if ( (v11 & 0x3FF) == 0 && (v11 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v4, v11);
  return sub_1467DDF00(a1, v11, n3, a4);
}

// --- End Function: CSpaceshipEntity::RegisterContacts (0x1467DE870) ---

// --- Function: sub_1467E0D60 (0x1467E0D60) ---
__int64 __fastcall sub_1467E0D60(__int64 a1)
{
  __int64 result; // rax
  unsigned int v3; // esi
  __int64 *v4; // rbx
  __int64 n0x40; // rdi
  __int64 v6; // rcx
  __int64 v7; // rcx

  result = sub_1468DEFA0();
  v3 = result;
  if ( (int)result <= 0 )
  {
    v4 = (__int64 *)(a1 + 0xB90);
    n0x40 = 0x40;
    do
    {
      v6 = v4[1];
      v4[1] = 0;
      if ( v6 )
        (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v6 + 0x168LL))(v6, 0);
      v7 = *v4;
      *v4 = 0;
      if ( v7 )
        (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v7 + 0x168LL))(v7, 0);
      v4 += 0x31;
      --n0x40;
    }
    while ( n0x40 );
    return v3;
  }
  return result;
}

// --- End Function: sub_1467E0D60 (0x1467E0D60) ---

// --- Function: sub_1467E0DF0 (0x1467E0DF0) ---
__int64 __fastcall sub_1467E0DF0(int a1, __int64 a2, int a3)
{
  if ( a2 )
    return sub_1467E0E20(a1, a2, a3, 1, 0);
  else
    return 0xFFFFFFFFLL;
}

// --- End Function: sub_1467E0DF0 (0x1467E0DF0) ---

// --- Function: sub_1467E0E20 (0x1467E0E20) ---
__int64 __fastcall sub_1467E0E20(char *a1, char *a2, unsigned __int8 a3, int a4, int a5)
{
  volatile signed __int64 *v5; // rbx
  __int64 v7; // r12
  char *v9; // rsi
  __int64 v10; // r13
  __int64 v11; // rax
  volatile signed __int64 *v12; // r15
  __int64 v13; // rax
  unsigned __int8 v14; // r12
  volatile signed __int64 *v15; // rsi
  unsigned __int64 n0x200000_7; // rax
  unsigned __int64 n0x200000_3; // rax
  volatile signed __int64 *v19; // rsi
  unsigned __int64 n0x200000_4; // rax
  unsigned __int64 n0x200000_5; // rax
  unsigned __int64 n0x200000_6; // rax
  volatile signed __int64 *v23; // r15
  volatile signed __int64 *v24; // rbx
  __int64 v25; // rcx
  volatile signed __int64 *v26; // r13
  __int64 v27; // rax
  volatile signed __int64 *v28; // rsi
  __int64 v29; // rax
  __int64 v30; // rax
  __int64 v31; // rax
  unsigned __int8 v32; // r12
  unsigned __int64 n0x200000_8; // rax
  unsigned __int64 n0x200000_9; // rax
  unsigned __int64 n0x200000_10; // rax
  unsigned __int64 n0x200000_11; // rax
  __int64 v37; // rax
  __int64 v38; // r12
  volatile signed __int64 *v39; // r15
  __int64 v40; // rax
  volatile signed __int64 *v41; // rsi
  __int64 v42; // rax
  __int64 v43; // r13
  unsigned __int8 v44; // r12
  unsigned __int64 n0x200000; // rax
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 n0x200000_2; // rax
  char v48; // [rsp+30h] [rbp-58h]
  char v49; // [rsp+30h] [rbp-58h]
  unsigned int v50; // [rsp+34h] [rbp-54h]
  __int64 v51; // [rsp+38h] [rbp-50h]
  __int64 v52; // [rsp+38h] [rbp-50h]
  volatile signed __int64 *v53; // [rsp+40h] [rbp-48h]
  __int64 v54; // [rsp+40h] [rbp-48h]
  char v55; // [rsp+98h] [rbp+10h]
  char v56; // [rsp+98h] [rbp+10h]
  unsigned int v57; // [rsp+98h] [rbp+10h]

  v5 = (volatile signed __int64 *)(a1 + 0x8C8);
  v7 = a4;
  if ( !(*(unsigned __int8 (__fastcall **)(char *))(*(_QWORD *)a2 + 0x10LL))(a2) )
  {
    if ( (_DWORD)v7 )
    {
      v37 = _InterlockedCompareExchange64(v5, 0x200000, 0);
      if ( v37 )
        sub_1403DE750(
          (__int64)v5,
          v37,
          0,
          (__int64)"CRigidEntity::RemoveColliderInternal",
          (__int64)"m_lockContacts",
          1);
    }
    v38 = (__int64)(*((_DWORD *)a2 + 0x3C) - *((_DWORD *)a1 + 0x3C)) >> 0x1F;
    v39 = (volatile signed __int64 *)&a1[(v38 & (a2 - a1)) + 0x150];
    v40 = _InterlockedCompareExchange64(v39, 0x200000, 0);
    if ( v40 )
      sub_1403DE750(
        (__int64)&a1[(v38 & (a2 - a1)) + 0x150],
        v40,
        0,
        (__int64)"CRigidEntity::RemoveColliderInternal",
        (__int64)"*(CIGRWLock_NonRecursive*)(plock0+(plock1-plock0&mask))",
        1);
    v41 = (volatile signed __int64 *)&a2[(v38 & (a1 - a2)) + 0x150];
    if ( a2 == a1 || (v42 = _InterlockedCompareExchange64(v41, 0x200000, 0)) == 0 )
    {
      v43 = (__int64)&a2[(v38 & (a1 - a2)) + 0x150];
      if ( a2 == a1 )
      {
        v44 = a3;
LABEL_78:
        v57 = (*(__int64 (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a1 + 0x3A8LL))(a1, a2, v44);
        if ( v43 )
        {
          if ( a2 != a1 )
          {
            n0x200000 = _InterlockedCompareExchange64(v41, 0, 0x200000);
            if ( n0x200000 != 0x200000 )
              sub_1403DEBA0(v41, n0x200000);
          }
        }
        if ( v39 )
        {
          n0x200000_1 = _InterlockedCompareExchange64(v39, 0, 0x200000);
          if ( n0x200000_1 != 0x200000 )
            sub_1403DEBA0(v39, n0x200000_1);
        }
        if ( v5 )
        {
          if ( a4 )
          {
            n0x200000_2 = _InterlockedCompareExchange64(v5, 0, 0x200000);
            if ( n0x200000_2 != 0x200000 )
              sub_1403DEBA0(v5, n0x200000_2);
          }
        }
        return v57;
      }
    }
    else
    {
      sub_1403DE750(
        (__int64)v41,
        v42,
        0,
        (__int64)"CRigidEntity::RemoveColliderInternal",
        (__int64)"*(CIGRWLock_NonRecursive*)(plock1+(plock0-plock1&mask))",
        1);
    }
    v44 = a3;
    (*(void (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a2 + 0x220LL))(a2, a1, a3);
    v43 = (__int64)v41;
    goto LABEL_78;
  }
  v55 = 0;
  v9 = a2 + 0x8C8;
  v48 = 0;
  v10 = ((*((_DWORD *)a2 + 0x3C) - *((_DWORD *)a1 + 0x3C)) | v7 ^ ((int)v7 - 1)) >> 0x1F;
  if ( a5 )
  {
    if ( a2 == a1 && !(_DWORD)v7 )
      goto LABEL_10;
    if ( !_InterlockedCompareExchange64(
            (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5))),
            0x200000,
            0) )
    {
      v55 = 1;
      if ( a2 == a1 )
        goto LABEL_10;
      v55 = 1;
      if ( !(_DWORD)v7 )
        goto LABEL_10;
      if ( !_InterlockedCompareExchange64((volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)], 0x200000, 0) )
      {
        v48 = 1;
        v55 = 1;
LABEL_10:
        v51 = (__int64)(*((_DWORD *)a2 + 0x3C) - *((_DWORD *)a1 + 0x3C)) >> 0x1F;
        v53 = (volatile signed __int64 *)&a1[((a2 - a1) & v51) + 0x150];
        v11 = _InterlockedCompareExchange64(v53, 0x200000, 0);
        if ( v11 )
          sub_1403DE750(
            (__int64)&a1[((a2 - a1) & v51) + 0x150],
            v11,
            0,
            (__int64)"CRigidEntity::RemoveColliderInternal",
            (__int64)"*(CIGRWLock_NonRecursive*)(plock0+(plock1-plock0&mask))",
            1);
        v12 = (volatile signed __int64 *)&a2[(v51 & (a1 - a2)) + 0x150];
        if ( a2 == a1 )
        {
          v14 = a3;
        }
        else
        {
          v13 = _InterlockedCompareExchange64(v12, 0x200000, 0);
          if ( v13 )
            sub_1403DE750(
              (__int64)v12,
              v13,
              0,
              (__int64)"CRigidEntity::RemoveColliderInternal",
              (__int64)"*(CIGRWLock_NonRecursive*)(plock1+(plock0-plock1&mask))",
              1);
          v14 = a3;
          (*(void (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a2 + 0x220LL))(a2, a1, a3);
        }
        v50 = (*(__int64 (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a1 + 0x3A8LL))(a1, a2, v14);
        if ( v48 )
        {
          n0x200000_3 = _InterlockedCompareExchange64(
                          (volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)],
                          0,
                          0x200000);
          if ( n0x200000_3 != 0x200000 )
            sub_1403DEBA0((volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)], n0x200000_3);
        }
        if ( v55 )
        {
          v19 = (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5)));
          n0x200000_4 = _InterlockedCompareExchange64(v19, 0, 0x200000);
          if ( n0x200000_4 != 0x200000 )
            sub_1403DEBA0(v19, n0x200000_4);
        }
        if ( v12 )
        {
          if ( a2 != a1 )
          {
            n0x200000_5 = _InterlockedCompareExchange64(v12, 0, 0x200000);
            if ( n0x200000_5 != 0x200000 )
              sub_1403DEBA0(v12, n0x200000_5);
          }
        }
        if ( v53 )
        {
          n0x200000_6 = _InterlockedCompareExchange64(v53, 0, 0x200000);
          if ( n0x200000_6 != 0x200000 )
            sub_1403DEBA0(v53, n0x200000_6);
        }
        return v50;
      }
      v15 = (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5)));
      n0x200000_7 = _InterlockedCompareExchange64(v15, 0, 0x200000);
      if ( n0x200000_7 != 0x200000 )
        sub_1403DEBA0(v15, n0x200000_7);
    }
    return 0xFFFFFFFELL;
  }
  if ( a2 == a1 && !(_DWORD)v7 )
  {
    v56 = 0;
    v23 = (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5)));
LABEL_37:
    v49 = 0;
    v24 = (volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)];
    goto LABEL_38;
  }
  v56 = 1;
  v23 = (volatile signed __int64 *)((char *)v5 + (v10 & (v9 - (char *)v5)));
  v30 = _InterlockedCompareExchange64(v23, 0x200000, 0);
  if ( v30 )
  {
    sub_1403DE750(
      (__int64)v5 + (v10 & (v9 - (char *)v5)),
      v30,
      0,
      (__int64)"CRigidEntity::RemoveColliderInternal",
      (__int64)"*(CIGRWLock_NonRecursive*)(plockR0+(plockR1-plockR0&maskR))",
      1);
    v56 = 1;
  }
  if ( a2 == a1 || !(_DWORD)v7 )
    goto LABEL_37;
  v49 = 1;
  v24 = (volatile signed __int64 *)&v9[v10 & ((char *)v5 - v9)];
  v31 = _InterlockedCompareExchange64(v24, 0x200000, 0);
  v56 = 1;
  if ( v31 )
  {
    sub_1403DE750(
      (__int64)v24,
      v31,
      0,
      (__int64)"CRigidEntity::RemoveColliderInternal",
      (__int64)"*(CIGRWLock_NonRecursive*)(plockR1+(plockR0-plockR1&maskR))",
      1);
    v56 = 1;
    v49 = 1;
  }
LABEL_38:
  v54 = (__int64)(*((_DWORD *)a2 + 0x3C) - *((_DWORD *)a1 + 0x3C)) >> 0x1F;
  v25 = v54;
  v26 = (volatile signed __int64 *)&a1[(v54 & (a2 - a1)) + 0x150];
  v27 = _InterlockedCompareExchange64(v26, 0x200000, 0);
  if ( v27 )
  {
    sub_1403DE750(
      (__int64)v26,
      v27,
      0,
      (__int64)"CRigidEntity::RemoveColliderInternal",
      (__int64)"*(CIGRWLock_NonRecursive*)(plock0+(plock1-plock0&mask))",
      1);
    v25 = v54;
  }
  v28 = (volatile signed __int64 *)&a2[(v25 & (a1 - a2)) + 0x150];
  if ( a2 != a1 )
  {
    v29 = _InterlockedCompareExchange64(v28, 0x200000, 0);
    if ( v29 )
    {
      sub_1403DE750(
        (__int64)v28,
        v29,
        0,
        (__int64)"CRigidEntity::RemoveColliderInternal",
        (__int64)"*(CIGRWLock_NonRecursive*)(plock1+(plock0-plock1&mask))",
        1);
LABEL_50:
      v32 = a3;
      (*(void (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a2 + 0x220LL))(a2, a1, a3);
      v52 = (__int64)v28;
      goto LABEL_52;
    }
  }
  v52 = (__int64)&a2[(v25 & (a1 - a2)) + 0x150];
  if ( a2 != a1 )
    goto LABEL_50;
  v32 = a3;
LABEL_52:
  v50 = (*(__int64 (__fastcall **)(char *, char *, _QWORD))(*(_QWORD *)a1 + 0x3A8LL))(a1, a2, v32);
  if ( v52 )
  {
    if ( a2 != a1 )
    {
      n0x200000_8 = _InterlockedCompareExchange64(v28, 0, 0x200000);
      if ( n0x200000_8 != 0x200000 )
        sub_1403DEBA0(v28, n0x200000_8);
    }
  }
  if ( v26 )
  {
    n0x200000_9 = _InterlockedCompareExchange64(v26, 0, 0x200000);
    if ( n0x200000_9 != 0x200000 )
      sub_1403DEBA0(v26, n0x200000_9);
  }
  if ( v24 )
  {
    if ( v49 )
    {
      n0x200000_10 = _InterlockedCompareExchange64(v24, 0, 0x200000);
      if ( n0x200000_10 != 0x200000 )
        sub_1403DEBA0(v24, n0x200000_10);
    }
  }
  if ( !v23 )
    return v50;
  if ( !v56 )
    return v50;
  n0x200000_11 = _InterlockedCompareExchange64(v23, 0, 0x200000);
  if ( n0x200000_11 == 0x200000 )
    return v50;
  sub_1403DEBA0(v23, n0x200000_11);
  return v50;
}

// --- End Function: sub_1467E0E20 (0x1467E0E20) ---

// --- Function: CRigidEntity::RemoveColliderMono (0x1467E14D0) ---
__int64 __fastcall CRigidEntity::RemoveColliderMono(volatile signed __int64 *a1, __int64 a2, unsigned __int8 a3)
{
  volatile signed __int64 *v4; // rbx
  __int64 v7; // rax
  volatile signed __int64 *v8; // rdi
  __int64 v9; // rax
  unsigned int v10; // esi
  unsigned __int64 n0x200000; // rax
  unsigned __int64 n0x200000_1; // rax

  v4 = a1 + 0x119;
  v7 = _InterlockedCompareExchange64(a1 + 0x119, 0x200000, 0);
  if ( v7 )
    sub_1403DE750(
      (__int64)(a1 + 0x119),
      v7,
      0,
      (__int64)"CRigidEntity::RemoveColliderMono",
      (__int64)"m_lockContacts",
      1);
  v8 = a1 + 0x2A;
  v9 = _InterlockedCompareExchange64(a1 + 0x2A, 0x200000, 0);
  if ( v9 )
    sub_1403DE750(
      (__int64)(a1 + 0x2A),
      v9,
      0,
      (__int64)"CRigidEntity::RemoveColliderMono",
      (__int64)"m_lockColliders",
      1);
  v10 = (*(__int64 (__fastcall **)(volatile signed __int64 *, __int64, _QWORD))(*a1 + 0x220))(a1, a2, a3);
  if ( v8 )
  {
    n0x200000 = _InterlockedCompareExchange64(v8, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v8, n0x200000);
  }
  if ( v4 )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v4, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0(v4, n0x200000_1);
  }
  return v10;
}

// --- End Function: CRigidEntity::RemoveColliderMono (0x1467E14D0) ---

// --- Function: sub_1467E15D0 (0x1467E15D0) ---
__int64 __fastcall sub_1467E15D0(__int64 a1)
{
  return (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A8LL))(a1);
}

// --- End Function: sub_1467E15D0 (0x1467E15D0) ---

// --- Function: sub_1467E15E0 (0x1467E15E0) ---
__int64 __fastcall sub_1467E15E0(__int64 a1, __int64 a2, unsigned __int8 a3)
{
  int v5; // r9d
  __int64 result; // rax
  _QWORD *v7; // rcx
  __int64 v8; // r8
  int v9; // eax
  __int64 v10; // rbp
  _QWORD *v11; // rbx
  __int64 v12; // r12
  unsigned __int64 v13; // rdi
  int v14; // ebx
  unsigned __int64 v15; // r14
  int v16; // eax

  if ( a3 )
    goto LABEL_10;
  v5 = *(_DWORD *)(a1 + 0x148);
  result = 0;
  if ( v5 <= 0 )
    goto LABEL_10;
  v7 = *(_QWORD **)(a1 + 0x140);
  while ( *v7 != a2 )
  {
    result = (unsigned int)(result + 1);
    ++v7;
    if ( (int)result >= v5 )
      goto LABEL_10;
  }
  if ( (int)result >= v5
    || (v8 = 8LL * (int)result, !*(_QWORD *)(v8 + *(_QWORD *)(a1 + 0x4C0)))
    && !*(_QWORD *)(v8 + *(_QWORD *)(a1 + 0x4C8)) )
  {
LABEL_10:
    v9 = sub_1468DF6E0(a1, a2, a3);
    v10 = v9;
    if ( v9 >= 0 )
    {
      v11 = (_QWORD *)(a1 + 0x4C0);
      v12 = 8LL * v9;
      v13 = *(_QWORD *)(v12 + *(_QWORD *)(a1 + 0x4C0));
      if ( v13 )
      {
        while ( 1 )
        {
          v14 = *(_DWORD *)(v13 + 0x94);
          v15 = *(_QWORD *)v13;
          sub_1467B49B0(a1, (unsigned __int64 *)v13, v10, 0, 0);
          sub_1469222F0(*(_QWORD *)(a1 + 0x2C0));
          if ( (v14 & 0x80000) != 0 )
            break;
          v13 = v15;
        }
        v11 = (_QWORD *)(a1 + 0x4C0);
      }
      v16 = *(_DWORD *)(a1 + 0x148);
      *(_QWORD *)(a1 + 0x500) &= ~*(_QWORD *)(*(_QWORD *)(a1 + 0x4C8) + 8 * v10);
      memmove(
        (void *)(v12 + *(_QWORD *)(a1 + 0x4C0)),
        (const void *)(v12 + *(_QWORD *)(a1 + 0x4C0) + 8),
        8LL * (v16 - (int)v10));
      memmove(
        (void *)(*(_QWORD *)(a1 + 0x4C8) + 8 * v10),
        (const void *)(*(_QWORD *)(a1 + 0x4C8) + 8 * v10 + 8),
        8LL * (*(_DWORD *)(a1 + 0x148) - (int)v10));
      *(_QWORD *)(*v11 + 8LL * *(int *)(a1 + 0x148)) = 0;
      *(_QWORD *)(*(_QWORD *)(a1 + 0x4C8) + 8LL * *(int *)(a1 + 0x148)) = 0;
    }
    return (unsigned int)v10;
  }
  return result;
}

// --- End Function: sub_1467E15E0 (0x1467E15E0) ---

// --- Function: sub_1467E17A0 (0x1467E17A0) ---
__int64 __fastcall sub_1467E17A0(__int64 a1, __int64 a2, unsigned __int8 a3)
{
  volatile signed __int64 *v6; // rbp
  __int64 v7; // rax
  float *v8; // rbx
  __int64 n0x40; // rdi
  __int64 v10; // rcx
  __int64 v11; // rcx
  unsigned __int64 n0x200000; // rax

  if ( !a2 )
    return sub_1467E15E0(a1, a2, a3);
  v6 = (volatile signed __int64 *)(a1 + 0x6D58);
  v7 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x6D58), 0x200000, 0);
  if ( v7 )
    sub_1403DE750(
      a1 + 0x6D58,
      v7,
      0,
      (__int64)"CSpaceshipEntity::RemoveColliderNoLockInternal",
      (__int64)"m_lockSpaceship",
      1);
  v8 = (float *)(a1 + 0xB90);
  n0x40 = 0;
  while ( v8[0xFFFFFFEC] >= 0.0 )
  {
    v10 = *((_QWORD *)v8 + 1);
    if ( v10 == a2 )
    {
      *((_QWORD *)v8 + 1) = 0;
      if ( v10 )
        (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v10 + 0x168LL))(v10, 0);
      v11 = *(_QWORD *)v8;
      *(_QWORD *)v8 = 0;
      if ( !v11 )
        goto LABEL_14;
    }
    else
    {
      v11 = *(_QWORD *)v8;
      if ( *(_QWORD *)v8 != a2 )
        goto LABEL_14;
      *(_QWORD *)v8 = 0;
      if ( !v11 )
        goto LABEL_14;
    }
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v11 + 0x168LL))(v11, 0);
LABEL_14:
    ++n0x40;
    v8 += 0x62;
    if ( n0x40 >= 0x40 )
      break;
  }
  if ( v6 )
  {
    n0x200000 = _InterlockedCompareExchange64(v6, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v6, n0x200000);
  }
  return sub_1467E15E0(a1, a2, a3);
}

// --- End Function: sub_1467E17A0 (0x1467E17A0) ---

// --- Function: CRigidEntity::RemoveContactPoint (0x1467E19B0) ---
__int64 __fastcall CRigidEntity::RemoveContactPoint(__int64 a1, __int64 a2, float *a3, float a4)
{
  __int64 v4; // r10
  int v7; // esi
  _QWORD *v8; // rax
  __int64 i; // r9
  volatile signed __int64 *v10; // rdi
  __int64 v11; // rax
  unsigned __int64 v12; // rbx
  unsigned __int64 n0x200000; // rax
  unsigned __int64 n0x200000_1; // rax

  v4 = *(int *)(a1 + 0x148);
  v7 = 0;
  if ( (int)v4 > 0 )
  {
    v8 = *(_QWORD **)(a1 + 0x140);
    for ( i = 0; i < v4; ++i )
    {
      if ( *v8 == a2 )
        break;
      ++v7;
      ++v8;
    }
  }
  if ( v7 >= (int)v4 )
    return 0;
  v10 = (volatile signed __int64 *)(a1 + 0x8C8);
  v11 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8C8), 0x200000, 0);
  if ( v11 )
    sub_1403DE750(a1 + 0x8C8, v11, 0, (__int64)"CRigidEntity::RemoveContactPoint", (__int64)"m_lockContacts", 1);
  v12 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4C0) + 8LL * v7);
  if ( !v12 )
  {
LABEL_12:
    if ( v10 )
    {
      n0x200000 = _InterlockedCompareExchange64(v10, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v10, n0x200000);
    }
    return 0;
  }
  while ( (*(double *)(v12 + 0x48) - a3[1]) * (*(double *)(v12 + 0x48) - a3[1])
        + (*(double *)(v12 + 0x40) - *a3) * (*(double *)(v12 + 0x40) - *a3)
        + (*(double *)(v12 + 0x50) - a3[2]) * (*(double *)(v12 + 0x50) - a3[2]) > a4 )
  {
    if ( (*(_DWORD *)(v12 + 0x94) & 0x80000) == 0 )
    {
      v12 = *(_QWORD *)v12;
      if ( v12 )
        continue;
    }
    goto LABEL_12;
  }
  if ( (*(_BYTE *)(a1 + 0x208) & 1) == 0 )
  {
    sub_1467B49B0(a1, (unsigned __int64 *)v12, v7, 1, 0);
    sub_1469222F0(*(_QWORD *)(a1 + 0x2C0));
  }
  if ( v10 )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v10, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0(v10, n0x200000_1);
  }
  return 1;
}

// --- End Function: CRigidEntity::RemoveContactPoint (0x1467E19B0) ---

// --- Function: sub_1467E1BA0 (0x1467E1BA0) ---
__int64 __fastcall sub_1467E1BA0(Parameter *Parameter, __int64 TlsIndex, LONGLONG QuadPart)
{
  _BYTE *p_Src; // r14
  unsigned __int64 v4; // rsi
  volatile signed __int64 *v5; // rbp
  unsigned __int64 n0x100; // r12
  __int64 v8; // rax
  volatile signed __int64 *v9; // r13
  __int64 v10; // rax
  int v11; // eax
  __int64 v12; // rbx
  unsigned __int64 n0x100_1; // rbp
  __int64 v14; // rcx
  _BYTE *p_Src_1; // r15
  _BYTE *p_Src_3; // rax
  const void *p_Src_2; // rdx
  unsigned __int64 i; // rbx
  unsigned __int64 n0x200000; // rax
  unsigned __int64 n0x200000_1; // rax
  _BYTE Src[2048]; // [rsp+30h] [rbp-838h] BYREF

  p_Src = Src;
  v4 = 0;
  v5 = (volatile signed __int64 *)((char *)Parameter + 0x8C8);
  n0x100 = 0x100;
  v8 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x119, 0x200000, 0);
  if ( v8 )
    sub_1403DE750(
      (__int64)Parameter + 0x8C8,
      v8,
      0,
      (__int64)"CRigidEntity::RemoveDeadColliders",
      (__int64)"m_lockContacts",
      1);
  v9 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  v10 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x2A, 0x200000, 0);
  if ( v10 )
    sub_1403DE750(
      (__int64)Parameter + 0x150,
      v10,
      0,
      (__int64)"CRigidEntity::RemoveDeadColliders",
      (__int64)"m_lockColliders",
      1);
  v11 = *((_DWORD *)Parameter + 0x52) - 1;
  v12 = v11;
  if ( v11 >= 0 )
  {
    n0x100_1 = 1;
    do
    {
      v14 = *(_QWORD *)(*((_QWORD *)Parameter + 0x28) + 8 * v12);
      if ( *(_DWORD *)(v14 + 0xE8) || *(_DWORD *)(v14 + 0xF4) == 7 )
      {
        if ( n0x100_1 >= n0x100 )
        {
          n0x100 *= 2LL;
          p_Src_1 = p_Src;
          p_Src_3 = (_BYTE *)sub_1402A63D0(saturated_mul(n0x100, 8u));
          p_Src_2 = p_Src;
          p_Src = p_Src_3;
          memcpy(p_Src_3, p_Src_2, 8 * v4);
          if ( p_Src_1 != Src )
            sub_1402A63C0((__int64)p_Src_1);
        }
        *(_QWORD *)&p_Src[8 * v4++] = *(_QWORD *)(*((_QWORD *)Parameter + 0x28) + 8 * v12);
        ++n0x100_1;
      }
      --v12;
    }
    while ( v12 >= 0 );
    v9 = (volatile signed __int64 *)((char *)Parameter + 0x150);
    v5 = (volatile signed __int64 *)((char *)Parameter + 0x8C8);
  }
  for ( i = 0; i < v4; ++i )
  {
    LOBYTE(QuadPart) = 1;
    (*(void (__fastcall **)(Parameter *, _QWORD, LONGLONG))(*(_QWORD *)Parameter + 0x220LL))(
      Parameter,
      *(_QWORD *)&p_Src[8 * i],
      QuadPart);
  }
  if ( v9 )
  {
    n0x200000 = _InterlockedCompareExchange64(v9, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v9, n0x200000);
  }
  if ( v5 )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v5, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0(v5, n0x200000_1);
  }
  if ( p_Src != Src )
    sub_1402A63C0((__int64)p_Src);
  return 0;
}

// --- End Function: sub_1467E1BA0 (0x1467E1BA0) ---

// --- Function: CRigidEntity::RemoveGeometry (0x1467E3460) ---
double __fastcall CRigidEntity::RemoveGeometry(__int64 a1, unsigned int n10102016, int a3)
{
  int n0x40; // ebp
  unsigned __int64 v7; // rdi
  double result; // xmm0_8
  volatile signed __int64 *v9; // r15
  __int64 v10; // rax
  int value_by_id; // eax
  __int64 value_by_id_1; // rsi
  __int64 v13; // rdi
  __int64 v14; // rcx
  unsigned __int64 n0x200000; // rax
  signed __int64 v16; // rdx
  __int64 value_by_id_2; // rbx
  unsigned __int64 v18; // rdx
  int value_by_id_3; // edx
  int v20; // esi
  unsigned __int64 v21; // rax
  __int64 v22; // rdx
  _BYTE v23[32]; // [rsp+40h] [rbp-A8h] BYREF
  int v24; // [rsp+60h] [rbp-88h]
  int n0x2800; // [rsp+70h] [rbp-78h] BYREF
  __int64 v26; // [rsp+74h] [rbp-74h]
  int v27; // [rsp+7Ch] [rbp-6Ch]
  __int64 v28; // [rsp+80h] [rbp-68h]
  unsigned __int64 v29; // [rsp+88h] [rbp-60h]
  __int64 v30; // [rsp+90h] [rbp-58h]
  __int64 v31; // [rsp+98h] [rbp-50h]

  n0x40 = 0;
  n0x2800 = 0x2800;
  v26 = 0;
  v27 = 0;
  v29 = 0;
  v7 = 1;
  v30 = 0;
  v31 = 0;
  v28 = 1;
  result = qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  sub_14676F3E0((__int64)v23, a1, *(_QWORD *)(a1 + 0x2C0), 0, a3, 0, n10102016, 0);
  v9 = (volatile signed __int64 *)(a1 + 0xC8);
  if ( v24 )
  {
    v10 = _InterlockedCompareExchange64(v9, 0x200000, 0);
    if ( v10 )
      sub_1403DE750(a1 + 0xC8, v10, 0, (__int64)"CRigidEntity::RemoveGeometry", (__int64)"m_lockUpdate", 1);
    value_by_id = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), n10102016, 0);
    if ( value_by_id < *(_DWORD *)(a1 + 0x290) )
    {
      value_by_id_1 = value_by_id;
      v13 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * value_by_id);
      sub_146615C30(a1 + 0x228);
      v14 = *(_QWORD *)(a1 + 0x2A0);
      _InterlockedOr((volatile signed __int32 *)(v14 + 0x184), 0x10u);
      *(_QWORD *)(*(_QWORD *)(v14 + 0x20) + 8 * value_by_id_1) = v13 | 0x400000000000LL;
    }
    if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
    {
      n0x200000 = _InterlockedCompareExchange64(v9, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000);
    }
  }
  else
  {
    v16 = _InterlockedIncrement64(v9);
    if ( (v16 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)(a1 + 0xC8),
        v16,
        (__int64)"CRigidEntity::RemoveGeometry",
        (__int64)"m_lockUpdate",
        1);
    value_by_id_2 = (int)map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), n10102016, 0);
    v18 = _InterlockedDecrement64(v9);
    if ( (v18 & 0x3FF) == 0 && (v18 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v18);
    value_by_id_3 = *(_DWORD *)(a1 + 0x290);
    if ( (int)value_by_id_2 < value_by_id_3 )
    {
      result = 0.0;
      v20 = 0;
      if ( *(float *)(*(_QWORD *)(a1 + 0x258) + 0x18 * value_by_id_2) > 0.0
        && (*(_DWORD *)(a1 + 0x208) & 0x20000000) == 0 )
      {
        if ( value_by_id_3 <= 1 )
          sub_146765B00(a1 + 0x5B0);
        else
          v20 = 1;
      }
      sub_14693D8B0(*(_QWORD *)(a1 + 0x2C0), a1, 0x80);
      sub_1468DF870(a1, n10102016, 1);
      if ( v20 )
      {
        if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
        {
          *(_WORD *)(a1 + 0x106) |= 4u;
          sub_14693A1E0(*(_QWORD *)(a1 + 0x2C0), a1);
        }
        else
        {
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x348LL))(a1, 0xFFFFFFFFLL, 1);
        }
      }
      do
      {
        v21 = *(_QWORD *)(a1 + 0x500);
        if ( v7 > v21 )
          break;
        if ( (v21 & v7) != 0 )
        {
          v22 = *(_QWORD *)(a1 + 0x4E8);
          *(_DWORD *)(0x108LL * n0x40 + v22 + 0x7C) = *(_DWORD *)(0x108LL * n0x40 + v22 + 0x7C) & 0xFFFF0000
                                                    | (*(__int16 *)(0x108LL * n0x40 + v22 + 0x7C)
                                                     - ((unsigned int)(value_by_id_2
                                                                     - *(__int16 *)(0x108LL * n0x40 + v22 + 0x7C)) >> 0x1F));
        }
        ++n0x40;
        v7 = __ROL8__(v7, 1);
      }
      while ( n0x40 < 0x40 );
    }
  }
  v29 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return result;
}

// --- End Function: CRigidEntity::RemoveGeometry (0x1467E3460) ---

// --- Function: sub_1467E3BE0 (0x1467E3BE0) ---
__int64 __fastcall sub_1467E3BE0(__int64 a1, __int64 a2, int n0x40)
{
  __int64 v4; // rbx
  __int64 v5; // r9
  __int64 v6; // r8
  __int64 v7; // rcx
  __int64 v8; // rax
  __int64 v9; // rcx
  __int64 v10; // rax
  __int64 v11; // rax
  __int64 result; // rax

  v4 = 0x108LL * n0x40;
  v5 = 0x21LL * n0x40;
  *(_DWORD *)(a2 + 0x40) = *(_DWORD *)(((__int64)n0x40 << 8) + *(_QWORD *)(a1 + 0x4F0) + 8);
  v6 = 0;
  *(_DWORD *)(a2 + 0x44) = 0;
  *(_QWORD *)(a2 + 0x88) = 0xFFFFFFFFFFFFFFFFuLL;
  *(_QWORD *)(a2 + 0x90) = 0xFFFFFFFFFFFFFFFFuLL;
  v7 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x18);
  if ( v7 )
    v8 = v7 | (*(_QWORD *)(v7 + 8) << 0x30);
  else
    v8 = 0;
  *(_QWORD *)(a2 + 0x10) = v8;
  *(_QWORD *)(a2 + 0x20) = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x18) + 0xC0LL);
  *(_DWORD *)(a2 + 0x30) = *(__int16 *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x18) + 0xECLL);
  *(_DWORD *)(a2 + 0x38) = *(__int16 *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x18) + 0xEELL);
  *(_DWORD *)(a2 + 0x74) = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x18) + 0x250LL)
                                     + 4LL * *(__int16 *)(v4 + *(_QWORD *)(a1 + 0x4E8) + 0x7C));
  v9 = *(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x20);
  if ( v9 )
    v6 = v9 | (*(_QWORD *)(v9 + 8) << 0x30);
  *(_QWORD *)(a2 + 0x18) = v6;
  *(_QWORD *)(a2 + 0x28) = *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x20) + 0xC0LL);
  *(_DWORD *)(a2 + 0x34) = *(__int16 *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x20) + 0xECLL);
  *(_DWORD *)(a2 + 0x3C) = *(__int16 *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x20) + 0xEELL);
  *(_DWORD *)(a2 + 0x78) = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x4E8) + 8 * v5 + 0x20) + 0x250LL)
                                     + 4LL * *(__int16 *)(v4 + *(_QWORD *)(a1 + 0x4E8) + 0x7E));
  v10 = *(_QWORD *)(a1 + 0x4E8);
  *(_OWORD *)(a2 + 0x50) = *(_OWORD *)(v4 + v10 + 0x40);
  *(double *)(a2 + 0x60) = *(double *)(v4 + v10 + 0x50);
  v11 = *(_QWORD *)(a1 + 0x4E8);
  *(double *)(a2 + 0x68) = *(double *)(v4 + v11 + 0x70);
  *(_DWORD *)(a2 + 0x70) = *(_DWORD *)(v4 + v11 + 0x78);
  result = a2;
  *(_QWORD *)(a2 + 0x7C) = 0xFFFFFFFFFFFFFFFFuLL;
  return result;
}

// --- End Function: sub_1467E3BE0 (0x1467E3BE0) ---

// --- Function: sub_1467E3D90 (0x1467E3D90) ---
bool __fastcall sub_1467E3D90(__int64 a1)
{
  return (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)a1 + 0xE0LL))(a1) == 0;
}

// --- End Function: sub_1467E3D90 (0x1467E3D90) ---

// --- Function: sub_1467E3DB0 (0x1467E3DB0) ---
unsigned __int64 __fastcall sub_1467E3DB0(_QWORD *a1, int a2)
{
  unsigned __int64 v2; // r8
  int n0x40; // r10d
  __int64 v5; // r9
  __int64 v6; // r11
  float v7; // xmm2_4
  unsigned __int64 result; // rax
  __int64 v9; // rcx
  __int64 v10; // rdi
  float v11; // xmm14_4
  float v12; // xmm15_4
  float v13; // xmm12_4
  float v14; // xmm13_4
  __int64 v15; // rax
  float v16; // xmm7_4
  float v17; // xmm8_4
  float v18; // xmm9_4
  float v19; // xmm11_4
  float v20; // xmm10_4
  float v21; // xmm9_4
  float v22; // xmm8_4
  float v23; // xmm7_4
  float v24; // xmm6_4
  float v25; // xmm4_4
  double v26; // [rsp+C0h] [rbp+18h]

  v2 = 1;
  n0x40 = 0;
  v5 = 0;
  v6 = 0;
  v7 = (float)(1 - 2 * a2);
  do
  {
    result = a1[0xA0];
    if ( v2 > result )
      break;
    if ( (result & v2) != 0 )
    {
      v9 = a1[0x9D];
      v10 = *(_QWORD *)(v5 + v9 + 0x28);
      v26 = *(double *)(*(_QWORD *)(v5 + v9 + 0x30) + 0x108LL) - *(double *)(v10 + 0x108);
      result = *(_QWORD *)&v26 >> 0x3F;
      if ( ((unsigned __int8)(((*(_DWORD *)(*(_QWORD *)(v5 + v9 + 0x20) + 0xF4LL) - 3) >> 0x1F)
                            & ~(*(_DWORD *)(*(_QWORD *)(v5 + v9 + 0x20) + 0xF0LL) >> 0x1F))
          & (v26 < 0.0)) == 0 )
      {
        v11 = v7 * *(float *)(v10 + 0x94);
        v12 = v7 * *(float *)(v10 + 0x90);
        v13 = v7 * *(float *)(v10 + 0x98);
        v14 = *(float *)(v10 + 0x9C);
        v15 = a1[0x9E];
        v16 = *(float *)(v15 + v6 + 0x10);
        v17 = *(float *)(v15 + v6 + 0xC);
        v18 = *(float *)(v15 + v6 + 0x14);
        v19 = *(float *)(v15 + v6 + 0x18);
        *(float *)(v15 + v6 + 0x18) = (float)(v19 * v14)
                                    - (float)((float)((float)(v12 * v17) + (float)(v11 * v16)) + (float)(v13 * v18));
        *(float *)(v15 + v6 + 0xC) = (float)((float)((float)(v11 * v18) - (float)(v13 * v16)) + (float)(v17 * v14))
                                   + (float)(v12 * v19);
        *(float *)(v15 + v6 + 0x10) = (float)((float)((float)(v13 * v17) - (float)(v12 * v18)) + (float)(v16 * v14))
                                    + (float)(v11 * v19);
        *(float *)(v15 + v6 + 0x14) = (float)((float)((float)(v12 * v16) - (float)(v11 * v17)) + (float)(v18 * v14))
                                    + (float)(v13 * v19);
        result = a1[0x9D];
        v20 = *(float *)(result + v5 + 0x8C);
        v21 = *(float *)(result + v5 + 0x88);
        v22 = *(float *)(result + v5 + 0x84);
        v23 = (float)((float)(v20 * v11) - (float)(v21 * v13)) + (float)(v22 * v14);
        v24 = (float)((float)(v22 * v13) - (float)(v20 * v12)) + (float)(v21 * v14);
        v25 = (float)((float)(v21 * v12) - (float)(v22 * v11)) + (float)(v20 * v14);
        *(float *)(result + v5 + 0x84) = (float)(v22 + (float)((float)(v25 * v11) - (float)(v24 * v13)))
                                       + (float)((float)(v25 * v11) - (float)(v24 * v13));
        v7 = (float)(1 - 2 * a2);
        *(float *)(result + v5 + 0x88) = (float)(v21 + (float)((float)(v23 * v13) - (float)(v25 * v12)))
                                       + (float)((float)(v23 * v13) - (float)(v25 * v12));
        *(float *)(result + v5 + 0x8C) = (float)(v20 + (float)((float)(v12 * v24) - (float)(v23 * v11)))
                                       + (float)((float)(v12 * v24) - (float)(v23 * v11));
      }
    }
    ++n0x40;
    v2 = __ROL8__(v2, 1);
    v6 += 0x100;
    v5 += 0x108;
  }
  while ( n0x40 < 0x40 );
  return result;
}

// --- End Function: sub_1467E3DB0 (0x1467E3DB0) ---

// --- Function: CRigidEntity::SetNetworkAuthority (0x1467E5070) ---
void __fastcall CRigidEntity::SetNetworkAuthority(__int64 a1, char a2)
{
  volatile signed __int64 *v4; // rdi
  __int64 v5; // rax
  char v6; // al
  __int64 v7; // rcx
  unsigned __int64 n0x200000; // rax

  if ( *(_BYTE *)(a1 + 0x94D) != a2 )
  {
    v4 = (volatile signed __int64 *)(a1 + 0x8F0);
    v5 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0x200000, 0);
    if ( v5 )
      sub_1403DE750(
        a1 + 0x8F0,
        v5,
        0,
        (__int64)"CRigidEntity::SetNetworkAuthority",
        (__int64)"m_netDesiredStateLock",
        1);
    *(_BYTE *)(a1 + 0x94D) = a2;
    v6 = *(_BYTE *)(a1 + 0x94D);
    *(_BYTE *)(a1 + 0x94C) = 1;
    if ( v6 )
    {
      v7 = *(_QWORD *)(a1 + 0x8E8);
      if ( v7 )
      {
        sub_1402A63C0(v7);
        *(_QWORD *)(a1 + 0x8E8) = 0;
      }
      *(_BYTE *)(a1 + 0x960) = 1;
    }
    if ( v4 )
    {
      n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v4, n0x200000);
    }
  }
}

// --- End Function: CRigidEntity::SetNetworkAuthority (0x1467E5070) ---

// --- Function: sub_1467EC4C0 (0x1467EC4C0) ---
__int64 __fastcall sub_1467EC4C0(__int64 a1, __int64 a2, int a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  int n0x40_1; // r14d
  __int64 v15; // r15
  unsigned int v17; // ebx
  double v18; // xmm1_8
  __int64 v19; // r12
  int v20; // ebx
  double v21; // xmm0_8
  double v22; // xmm1_8
  unsigned int v23; // r13d
  int n0xF; // eax
  unsigned __int64 v25; // rdx
  int v26; // edi
  __int128 v27; // xmm1
  float v28; // xmm14_4
  float v29; // xmm15_4
  float v30; // xmm6_4
  float v31; // xmm12_4
  float v32; // xmm13_4
  float v33; // xmm10_4
  float v34; // xmm11_4
  float v35; // xmm4_4
  float v36; // xmm8_4
  float v37; // xmm9_4
  float v38; // xmm5_4
  float v39; // xmm4_4
  float v40; // xmm15_4
  float v41; // xmm11_4
  float v42; // xmm12_4
  float v43; // xmm9_4
  float v44; // xmm10_4
  float v45; // xmm6_4
  float v46; // xmm4_4
  float v47; // xmm8_4
  float v48; // xmm5_4
  float v49; // xmm4_4
  float v50; // xmm12_4
  float v51; // xmm11_4
  float v52; // xmm10_4
  float v53; // xmm7_4
  float v54; // xmm9_4
  float v55; // xmm14_4
  float v56; // xmm13_4
  float v57; // xmm8_4
  float v58; // xmm6_4
  float v59; // xmm5_4
  float v60; // xmm2_4
  float v61; // xmm1_4
  int v62; // xmm7_4
  int v63; // xmm8_4
  float v64; // xmm10_4
  float v65; // xmm12_4
  float v66; // xmm11_4
  float v67; // xmm9_4
  float v68; // xmm6_4
  float v69; // xmm5_4
  double v70; // xmm4_8
  double v73; // xmm4_8
  int v76; // ecx
  int v77; // edi
  __int64 v78; // rbx
  __int64 v79; // rbx
  __int64 v80; // rcx
  float v81; // xmm12_4
  float v82; // xmm7_4
  float v83; // xmm9_4
  float v84; // xmm11_4
  float v85; // xmm10_4
  float v86; // xmm13_4
  float v87; // xmm8_4
  float v88; // xmm6_4
  float v89; // xmm5_4
  float *v97; // rdx
  double v98; // xmm1_8
  __int64 v99; // rcx
  float v100; // xmm14_4
  float v101; // xmm11_4
  float v102; // xmm12_4
  float v103; // xmm9_4
  float v104; // xmm10_4
  float v105; // xmm6_4
  float v106; // xmm4_4
  float v107; // xmm8_4
  float v108; // xmm5_4
  float v109; // xmm4_4
  float v110; // xmm13_4
  float v111; // xmm10_4
  float v112; // xmm11_4
  float v113; // xmm8_4
  float v114; // xmm7_4
  float v115; // xmm12_4
  float v116; // xmm9_4
  double *v117; // rax
  double *v124; // rax
  double v125; // xmm14_8
  double v126; // xmm13_8
  double v127; // xmm12_8
  double v131; // xmm11_8
  __m128 v135; // xmm2
  double v138; // xmm10_8
  double v139; // xmm9_8
  double v140; // xmm8_8
  __int128 v141; // kr00_16
  __int128 v142; // xmm7
  double v143; // xmm4_8
  double v150; // xmm10_8
  double v151; // xmm9_8
  double v152; // xmm8_8
  __int128 v153; // xmm7
  __int128 v158; // xmm4
  __int128 v161; // xmm13
  __int128 v162; // xmm14
  __int128 v163; // kr00_16
  __int128 v164; // xmm6
  __int128 v165; // kr00_16
  __int128 v166; // xmm7
  __int128 v167; // kr00_16
  __int128 v168; // xmm5
  __int128 v169; // kr00_16
  __int128 v170; // kr00_16
  __int64 *v177; // rax
  __int64 v178; // rdx
  unsigned __int64 v179; // rcx
  unsigned __int64 size; // rcx
  void *v181; // rsp
  void *v182; // rsp
  __int64 *v183; // r12
  unsigned __int64 v184; // rcx
  unsigned __int64 size_1; // rcx
  void *v186; // rsp
  void *v187; // rsp
  int v188; // ebx
  signed __int64 v189; // rdx
  unsigned __int64 v190; // rdi
  __int64 v191; // r15
  __int64 v192; // r12
  __int64 v193; // rax
  int n0x40; // ecx
  unsigned __int64 v195; // rdx
  __int64 v196; // r8
  __int64 v197; // rax
  __int64 v198; // rcx
  double v199; // xmm15_8
  double v200; // xmm14_8
  double v201; // xmm13_8
  double v202; // xmm12_8
  double v203; // xmm11_8
  double v204; // xmm6_8
  double v205; // xmm10_8
  _QWORD *v206; // r8
  unsigned int v207; // ebx
  double v208; // xmm2_8
  double *v209; // rcx
  double v210; // xmm9_8
  double v211; // xmm5_8
  double v212; // xmm4_8
  double v213; // xmm8_8
  double v214; // xmm5_8
  double v215; // xmm1_8
  double v216; // xmm4_8
  double v217; // xmm10_8
  double v218; // xmm9_8
  double v219; // xmm11_8
  double v220; // xmm7_8
  double v221; // xmm8_8
  double *v222; // rax
  __int64 v223; // rax
  __int64 v224; // rdi
  unsigned __int64 *v225; // rbx
  __int64 v226; // r15
  int v237; // eax
  float v238; // xmm9_4
  float v239; // xmm7_4
  float v240; // xmm13_4
  __int128 v241; // xmm1
  __int128 v243; // xmm4
  __int128 v246; // kr00_16
  float v251; // xmm0_4
  __int64 v252; // r8
  __int64 TlsIndex; // rdi
  _DWORD *v254; // rcx
  __int64 v255; // r9
  int v256; // eax
  __int64 v257; // rcx
  int v258; // eax
  __int64 i; // rbx
  __int64 v260; // rcx
  __int64 v261; // r10
  __int128 v262; // kr00_16
  __int64 v265; // rax
  int v266; // edx
  __int128 v267; // kr00_16
  int v270; // eax
  __int64 j; // rbx
  __int64 v272; // rcx
  double v273; // xmm1_8
  double v274; // xmm1_8
  float v275; // xmm3_4
  float v276; // xmm2_4
  float v277; // xmm0_4
  double v278; // xmm1_8
  double v279; // xmm1_8
  __int64 v280; // rdx
  signed __int32 *v281; // roff
  signed __int32 v282; // eax
  signed __int32 v283; // ett
  int v285; // eax
  int v286; // eax
  int v287; // eax
  int v288; // eax
  int v289; // ebx
  __int64 v290; // rdi
  _DWORD *v291; // rcx
  unsigned __int64 v292; // rbx
  __int64 v293; // rdi
  unsigned __int64 v294; // rax
  _DWORD *v295; // rcx
  __int64 v296; // rax
  int n0xC; // eax
  int v298; // ecx
  int v299; // eax
  unsigned int v300; // eax
  int v301; // eax
  char v302; // cl
  float v303; // xmm0_4
  float v304; // xmm0_4
  float v305; // xmm0_4
  float v306; // xmm0_4
  float v307; // xmm0_4
  float v308; // xmm0_4
  float v309; // xmm0_4
  float v310; // xmm0_4
  float v311; // xmm0_4
  volatile signed __int64 *v312; // rdi
  __int64 v313; // rax
  double v314; // xmm1_8
  int v315; // eax
  __int128 v316; // xmm2
  __int64 v317; // r8
  __int64 *v318; // rdx
  float *v319; // rcx
  __int64 v320; // rax
  float v321; // xmm0_4
  __int128 v322; // kr00_16
  int v325; // ebx
  __int64 v326; // rdi
  __int64 v327; // rax
  unsigned __int64 n0x200000_1; // rax
  int v329; // eax
  int v330; // ecx
  int v331; // ebx
  int *ThreadLogContextSlot; // rax
  __int64 v333; // rax
  int n0x40_2; // r12d
  unsigned __int64 v335; // rbx
  __int64 v336; // rdi
  unsigned __int64 v337; // rax
  _DWORD *v338; // rcx
  __int64 v339; // rax
  unsigned __int64 n0x200000_2; // rax
  int v341; // ecx
  unsigned int v342; // eax
  __int64 v343; // rcx
  int v344; // eax
  __int64 v345; // rcx
  int n0x80_1; // ecx
  unsigned int n0x80; // eax
  unsigned __int64 allocSize; // rax
  unsigned __int64 n0x80_2; // kr00_8
  int v350; // ecx
  float v351; // xmm0_4
  int v352; // eax
  int v353; // eax
  int v354; // eax
  int v355; // eax
  int v356; // eax
  float v357; // xmm1_4
  float v358; // xmm2_4
  __int64 v359; // rcx
  float v360; // xmm0_4
  float v361; // xmm0_4
  float v362; // xmm0_4
  float v363; // xmm0_4
  float v364; // xmm0_4
  float v365; // xmm0_4
  __int64 v366; // rax
  __int64 v367; // rbx
  void *v368; // rax
  unsigned __int64 n0x200000; // rax
  __int64 v370; // [rsp+50h] [rbp+0h] BYREF
  char v371; // [rsp+58h] [rbp+8h]
  unsigned int v372; // [rsp+5Ch] [rbp+Ch]
  int n0x40_3; // [rsp+60h] [rbp+10h]
  unsigned int v374; // [rsp+64h] [rbp+14h]
  __int64 v375; // [rsp+68h] [rbp+18h] BYREF
  __int64 v376; // [rsp+70h] [rbp+20h] BYREF
  double v377; // [rsp+78h] [rbp+28h] BYREF
  float v378; // [rsp+80h] [rbp+30h]
  float v379; // [rsp+84h] [rbp+34h]
  double v380; // [rsp+88h] [rbp+38h]
  float v381; // [rsp+90h] [rbp+40h]
  __int128 v382; // [rsp+A0h] [rbp+50h] BYREF
  _QWORD *v383; // [rsp+B0h] [rbp+60h]
  double v384; // [rsp+B8h] [rbp+68h]
  unsigned __int64 v385; // [rsp+C8h] [rbp+78h]
  __int128 v386; // [rsp+D0h] [rbp+80h] BYREF
  __int64 v387; // [rsp+E0h] [rbp+90h]
  float v388[3]; // [rsp+E8h] [rbp+98h] BYREF
  float v389[3]; // [rsp+F4h] [rbp+A4h] BYREF
  __m128 v390; // [rsp+100h] [rbp+B0h] BYREF
  double v391; // [rsp+110h] [rbp+C0h]
  __int64 v392; // [rsp+118h] [rbp+C8h]
  __int128 v393; // [rsp+120h] [rbp+D0h] BYREF
  int v394; // [rsp+130h] [rbp+E0h] BYREF
  __int128 v395; // [rsp+138h] [rbp+E8h]
  unsigned __int64 v396; // [rsp+148h] [rbp+F8h]
  float v397; // [rsp+150h] [rbp+100h]
  float v398; // [rsp+154h] [rbp+104h]
  float v399; // [rsp+158h] [rbp+108h]
  float v400; // [rsp+15Ch] [rbp+10Ch]
  unsigned int v401; // [rsp+160h] [rbp+110h]
  unsigned int v402; // [rsp+164h] [rbp+114h]
  int n0x300; // [rsp+168h] [rbp+118h]
  char v404; // [rsp+16Ch] [rbp+11Ch]
  __int64 v405; // [rsp+170h] [rbp+120h]
  __m128 v406; // [rsp+180h] [rbp+130h]
  double v407; // [rsp+190h] [rbp+140h]
  __m128 v408; // [rsp+198h] [rbp+148h]
  double v409; // [rsp+1A8h] [rbp+158h]
  int n0x2800_1; // [rsp+1B0h] [rbp+160h] BYREF
  __int64 v411; // [rsp+1B4h] [rbp+164h]
  int v412; // [rsp+1BCh] [rbp+16Ch]
  __int64 v413; // [rsp+1C0h] [rbp+170h]
  unsigned __int64 v414; // [rsp+1C8h] [rbp+178h]
  __int64 v415; // [rsp+1D0h] [rbp+180h]
  __int64 v416; // [rsp+1D8h] [rbp+188h]
  int n0x2800_5; // [rsp+200h] [rbp+1B0h] BYREF
  __int64 v418; // [rsp+204h] [rbp+1B4h]
  int v419; // [rsp+20Ch] [rbp+1BCh]
  __int64 v420; // [rsp+210h] [rbp+1C0h]
  unsigned __int64 v421; // [rsp+218h] [rbp+1C8h]
  __int64 v422; // [rsp+220h] [rbp+1D0h]
  __int64 v423; // [rsp+228h] [rbp+1D8h]
  int n0x2800_4; // [rsp+250h] [rbp+200h] BYREF
  __int64 v425; // [rsp+254h] [rbp+204h]
  int v426; // [rsp+25Ch] [rbp+20Ch]
  __int64 v427; // [rsp+260h] [rbp+210h]
  unsigned __int64 v428; // [rsp+268h] [rbp+218h]
  __int64 v429; // [rsp+270h] [rbp+220h]
  __int64 v430; // [rsp+278h] [rbp+228h]
  int n0x2800_2; // [rsp+2A0h] [rbp+250h] BYREF
  __int64 v432; // [rsp+2A4h] [rbp+254h]
  int v433; // [rsp+2ACh] [rbp+25Ch]
  __int64 v434; // [rsp+2B0h] [rbp+260h]
  unsigned __int64 v435; // [rsp+2B8h] [rbp+268h]
  __int64 v436; // [rsp+2C0h] [rbp+270h]
  __int64 v437; // [rsp+2C8h] [rbp+278h]
  int n0x2800_3; // [rsp+2F0h] [rbp+2A0h] BYREF
  __int64 v439; // [rsp+2F4h] [rbp+2A4h]
  int v440; // [rsp+2FCh] [rbp+2ACh]
  __int64 v441; // [rsp+300h] [rbp+2B0h]
  unsigned __int64 v442; // [rsp+308h] [rbp+2B8h]
  __int64 v443; // [rsp+310h] [rbp+2C0h]
  __int64 v444; // [rsp+318h] [rbp+2C8h]
  int n0x2800; // [rsp+340h] [rbp+2F0h] BYREF
  __int64 v446; // [rsp+344h] [rbp+2F4h]
  int v447; // [rsp+34Ch] [rbp+2FCh]
  __int64 v448; // [rsp+350h] [rbp+300h]
  unsigned __int64 v449; // [rsp+358h] [rbp+308h]
  __int64 v450; // [rsp+360h] [rbp+310h]
  __int64 v451; // [rsp+368h] [rbp+318h]
  int v452; // [rsp+390h] [rbp+340h] BYREF
  unsigned __int64 v453; // [rsp+394h] [rbp+344h]
  int v454; // [rsp+39Ch] [rbp+34Ch]
  double v455; // [rsp+3B0h] [rbp+360h]
  double v456; // [rsp+3B8h] [rbp+368h]
  double v457; // [rsp+3C0h] [rbp+370h]
  float v458; // [rsp+3C8h] [rbp+378h]
  float v459; // [rsp+3CCh] [rbp+37Ch]
  float v460; // [rsp+3D0h] [rbp+380h]
  float v461; // [rsp+3D4h] [rbp+384h]
  unsigned int v462; // [rsp+3D8h] [rbp+388h]
  int v463; // [rsp+3DCh] [rbp+38Ch]
  unsigned __int64 v464; // [rsp+3E0h] [rbp+390h]
  float v465; // [rsp+3E8h] [rbp+398h]
  int v466; // [rsp+3ECh] [rbp+39Ch]
  _QWORD v467[2]; // [rsp+3F0h] [rbp+3A0h] BYREF
  _QWORD v468[2]; // [rsp+400h] [rbp+3B0h] BYREF
  __m128 v469; // [rsp+410h] [rbp+3C0h] BYREF
  double v470; // [rsp+420h] [rbp+3D0h]
  char v471[8]; // [rsp+428h] [rbp+3D8h] BYREF
  __int64 v472; // [rsp+430h] [rbp+3E0h]
  _DWORD *v473; // [rsp+440h] [rbp+3F0h]
  int v474; // [rsp+448h] [rbp+3F8h]
  unsigned int v475; // [rsp+44Ch] [rbp+3FCh]
  double v476; // [rsp+450h] [rbp+400h] BYREF
  double v477; // [rsp+458h] [rbp+408h]
  double v478; // [rsp+460h] [rbp+410h]
  double v479; // [rsp+468h] [rbp+418h]
  double v480; // [rsp+470h] [rbp+420h]
  double v481; // [rsp+478h] [rbp+428h]
  double v482; // [rsp+480h] [rbp+430h]
  double v483[7]; // [rsp+488h] [rbp+438h] BYREF
  __int128 v484; // [rsp+4C0h] [rbp+470h] BYREF
  double v485; // [rsp+4D0h] [rbp+480h]
  __int128 v486; // [rsp+4E0h] [rbp+490h] BYREF
  double v487; // [rsp+4F0h] [rbp+4A0h]
  double v488[3]; // [rsp+500h] [rbp+4B0h] BYREF
  double v489[3]; // [rsp+518h] [rbp+4C8h] BYREF
  char v490[8]; // [rsp+530h] [rbp+4E0h] BYREF
  int v491; // [rsp+538h] [rbp+4E8h]
  float v492; // [rsp+590h] [rbp+540h]
  _BYTE v493[48]; // [rsp+650h] [rbp+600h] BYREF
  int v494; // [rsp+680h] [rbp+630h]
  _BYTE v495[100]; // [rsp+770h] [rbp+720h] BYREF
  int v496; // [rsp+7D4h] [rbp+784h]
  _BYTE v497[100]; // [rsp+890h] [rbp+840h] BYREF
  float v498; // [rsp+8F4h] [rbp+8A4h]
  _BYTE v499[16]; // [rsp+9B0h] [rbp+960h] BYREF
  int v500; // [rsp+9C0h] [rbp+970h]
  int v501; // [rsp+A4Ch] [rbp+9FCh]
  __int128 v502; // [rsp+AD0h] [rbp+A80h]
  __int128 v503; // [rsp+AE0h] [rbp+A90h]
  __int128 v504; // [rsp+AF0h] [rbp+AA0h]
  __int128 v505; // [rsp+B00h] [rbp+AB0h]
  __int128 v506; // [rsp+B10h] [rbp+AC0h]
  __int128 v507; // [rsp+B20h] [rbp+AD0h]
  __int128 v508; // [rsp+B30h] [rbp+AE0h]
  __int128 v509; // [rsp+B40h] [rbp+AF0h]
  __int128 v510; // [rsp+B50h] [rbp+B00h]
  __int128 v511; // [rsp+B60h] [rbp+B10h]

  v511 = v3;
  v510 = v4;
  v509 = v5;
  v508 = v6;
  v507 = v7;
  v506 = v8;
  v505 = v9;
  v504 = v10;
  v503 = v11;
  v502 = v12;
  n0x40_1 = 0;
  v377 = *(double *)&a2;
  v446 = 0;
  v15 = a2;
  v447 = 0;
  v449 = 0;
  v450 = 0;
  v451 = 0;
  n0x2800 = 0x2800;
  v448 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  sub_14676ED20((__int64)v471, a1, *(_QWORD *)(a1 + 0x2C0), (int *)v15, a3, 0, 0, 0);
  if ( v474 )
  {
    v17 = v475;
    goto LABEL_111;
  }
  v18 = *(double *)(a1 + 0x20);
  v19 = *(_QWORD *)(a1 + 0xB8);
  v20 = *(_DWORD *)(a1 + 0x208);
  v406 = *(__m128 *)(a1 + 0x10);
  v408 = *(__m128 *)(a1 + 0x28);
  v393 = *(_OWORD *)(a1 + 0x1C0);
  v21 = *(double *)(a1 + 0x1D0);
  v407 = v18;
  v22 = *(double *)(a1 + 0x38);
  v376 = v19;
  v380 = v21;
  v409 = v22;
  v374 = sub_1468E0DA0(a1, v15, 1);
  v23 = v374;
  if ( !v374 )
    goto LABEL_163;
  n0xF = *(_DWORD *)v15;
  if ( !*(_DWORD *)v15 )
  {
    n0x2800_1 = 0x2800;
    v411 = 0;
    v412 = 0;
    v414 = 0;
    v415 = 0;
    v416 = 0;
    v413 = 1;
    qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
    v26 = 0;
    *(float *)&v372 = 0.0;
    v27 = *(_OWORD *)(a1 + 0x628);
    v28 = *(float *)(a1 + 0x64C);
    v29 = *(float *)(a1 + 0x640);
    v391 = *(double *)(a1 + 0x638);
    LODWORD(v375) = *(_DWORD *)(a1 + 0x644);
    LODWORD(v370) = *(_DWORD *)(a1 + 0x648);
    *(float *)&v383 = v28;
    *(float *)&v382 = v29;
    v386 = v27;
    if ( *(_DWORD *)(a1 + 0x290) )
      v381 = *(float *)(*(_QWORD *)(a1 + 0x230) + 0x1CLL);
    else
      v381 = 1.0;
    v392 = *(_QWORD *)(v15 + 8);
    if ( (HIDWORD(v392) & 0xFFF40000) != 0xFFF40000 )
    {
      v30 = *(float *)(a1 + 0x6D8);
      v31 = *(float *)(a1 + 0x1DC);
      v32 = *(float *)(a1 + 0x6E0);
      v33 = *(float *)(a1 + 0x1E0);
      v34 = *(float *)(a1 + 0x6DC);
      v35 = *(float *)(a1 + 0x1E4);
      v36 = *(float *)(a1 + 0x1D8);
      v37 = (float)((float)(v32 * v31) - (float)(v34 * v33)) + (float)(v30 * v35);
      v38 = (float)((float)(v30 * v33) - (float)(v36 * v32)) + (float)(v35 * v34);
      v39 = (float)((float)(v36 * v34) - (float)(v30 * v31)) + (float)(v35 * v32);
      *(double *)(a1 + 0x628) = (float)((float)((float)(v31 * v39) - (float)(v33 * v38))
                                      + (float)(v30 + (float)((float)(v31 * v39) - (float)(v33 * v38))))
                              + *(double *)(a1 + 0x1C0);
      *(double *)(a1 + 0x630) = (float)((float)((float)(v33 * v37) - (float)(v36 * v39))
                                      + (float)(v34 + (float)((float)(v33 * v37) - (float)(v36 * v39))))
                              + *(double *)(a1 + 0x1C8);
      v26 = 1;
      *(double *)(a1 + 0x638) = (float)((float)((float)(v36 * v38) - (float)(v31 * v37))
                                      + (float)(v32 + (float)((float)(v36 * v38) - (float)(v31 * v37))))
                              + *(double *)(a1 + 0x1D0);
      v372 = 1;
    }
    n0x40_3 = *(_DWORD *)(v15 + 0x2C);
    if ( (n0x40_3 & 0xFFA00000) != 0xFFA00000 )
    {
      v40 = *(float *)(a1 + 0x1D8);
      v41 = *(float *)(a1 + 0x1DC);
      v42 = *(float *)(a1 + 0x6E0);
      v43 = *(float *)(a1 + 0x1E0);
      v44 = *(float *)(a1 + 0x6DC);
      v45 = *(float *)(a1 + 0x6D8);
      v46 = *(float *)(a1 + 0x1E4);
      v47 = (float)((float)(v42 * v41) - (float)(v44 * v43)) + (float)(v45 * v46);
      v48 = (float)((float)(v45 * v43) - (float)(v40 * v42)) + (float)(v46 * v44);
      v49 = (float)((float)(v40 * v44) - (float)(v45 * v41)) + (float)(v46 * v42);
      *(double *)(a1 + 0x628) = (float)((float)((float)(v49 * v41) - (float)(v48 * v43))
                                      + (float)((float)((float)(v49 * v41) - (float)(v48 * v43)) + v45))
                              + *(double *)(a1 + 0x1C0);
      *(double *)(a1 + 0x630) = (float)((float)((float)(v47 * v43) - (float)(v49 * v40))
                                      + (float)((float)((float)(v47 * v43) - (float)(v49 * v40)) + v44))
                              + *(double *)(a1 + 0x1C8);
      *(double *)(a1 + 0x638) = (float)((float)((float)(v48 * v40) - (float)(v47 * v41))
                                      + (float)((float)((float)(v48 * v40) - (float)(v47 * v41)) + v42))
                              + *(double *)(a1 + 0x1D0);
      v50 = *(float *)(a1 + 0x6C8);
      v51 = *(float *)(a1 + 0x1DC);
      v52 = *(float *)(a1 + 0x6D4);
      v53 = *(float *)(a1 + 0x1E4);
      v54 = *(float *)(a1 + 0x1E0);
      LODWORD(v55) = *(_DWORD *)(a1 + 0x6D0) ^ 0x80000000;
      LODWORD(v56) = *(_DWORD *)(a1 + 0x6CC) ^ 0x80000000;
      v57 = (float)((float)(v50 * v51) + (float)(v40 * v56)) + (float)((float)(v52 * v54) + (float)(v55 * v53));
      v58 = (float)((float)(v56 * v53) - (float)((float)(v54 * v50) + (float)(v40 * v55))) + (float)(v52 * v51);
      v59 = (float)((float)((float)(v51 * v55) - (float)(v54 * v56)) - (float)(v50 * v53)) + (float)(v52 * v40);
      v60 = (float)(v56 * v51) - (float)(v50 * v40);
      v61 = v54 * v55;
      v28 = *(float *)&v383;
      v29 = *(float *)&v382;
      v26 = 1;
      *(float *)(a1 + 0x64C) = (float)(v52 * v53) - (float)(v60 + v61);
      *(float *)(a1 + 0x640) = v59;
      *(float *)(a1 + 0x644) = v58;
      *(float *)(a1 + 0x648) = v57;
      v372 = 1;
    }
    v62 = v375;
    v63 = v370;
    v64 = *(float *)(a1 + 0x64C);
    v65 = *(float *)(a1 + 0x644);
    v66 = *(float *)(a1 + 0x648);
    LODWORD(v67) = *(_DWORD *)(a1 + 0x640) ^ 0x80000000;
    v68 = (float)((float)((float)(COERCE_FLOAT(LODWORD(v65) ^ 0x80000000) * v29) - (float)(v67 * *(float *)&v375))
                + (float)(COERCE_FLOAT(LODWORD(v66) ^ 0x80000000) * v28))
        + (float)(v64 * *(float *)&v370);
    v69 = (float)((float)((float)(*(float *)&v370 * v67) - (float)(COERCE_FLOAT(LODWORD(v66) ^ 0x80000000) * v29))
                + (float)(COERCE_FLOAT(LODWORD(v65) ^ 0x80000000) * v28))
        + (float)(v64 * *(float *)&v375);
    *(float *)&v370 = v69 * v69;
    v70 = v391 - *(double *)(a1 + 0x638);
    _XMM0 = v386;
    __asm { vunpckhpd xmm1, xmm0, xmm0 }
    *(double *)&_XMM0 = *(double *)&v386 - *(double *)(a1 + 0x628);
    __asm { vmovupd [rbp+0B50h+var_B00], xmm1 }
    *(double *)&_XMM1 = *(double *)&_XMM1 - *(double *)(a1 + 0x630);
    *(float *)&v375 = v68 * v68;
    v73 = *(double *)&_XMM0 * *(double *)&_XMM0 + *(double *)&_XMM1 * *(double *)&_XMM1 + v70 * v70;
    _XMM2 = COERCE_UNSIGNED_INT64(0.000009000000318337698 - v73);
    __asm { vminsd  xmm1, xmm2, xmm0 }
    v384 = *(double *)&_XMM1;
    v385 = (unsigned __int64)_XMM1 >> 0x3F;
    if ( (__int64)_XMM1 >= 0
      || (v76 = *(_DWORD *)(v15 + 0x38), (v76 & 0x20) != 0)
      || (*(_BYTE *)(a1 + 0x208) & 0x20) != 0 )
    {
      _XMM2 = COERCE_UNSIGNED_INT64(0.000000009999999051046871 - v73);
      __asm { vminsd  xmm1, xmm2, xmm0 }
      v377 = *(double *)&_XMM1;
      if ( (__int64)_XMM1 >= 0 )
        goto LABEL_77;
      v237 = *(_DWORD *)(v15 + 0x38);
      if ( (v237 & 0x20) != 0
        || (*(_BYTE *)(a1 + 0x208) & 0x20) != 0
        || (v237 & 2) != 0
        || *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) <= 0.0 )
      {
        goto LABEL_77;
      }
      LODWORD(v238) = v63 ^ 0x80000000;
      LODWORD(v239) = v62 ^ 0x80000000;
      v240 = *(float *)(a1 + 0x640);
      v87 = (float)((float)(v239 * v240) + (float)(v65 * v29))
          + (float)((float)(v66 * v28) + (float)(v64 * COERCE_FLOAT(v63 ^ 0x80000000)));
      v88 = (float)((float)(v64 * v239) - (float)((float)(v238 * v240) + (float)(v29 * v66))) + (float)(v65 * v28);
      v89 = (float)((float)((float)(v65 * v238) - (float)(v239 * v66)) - (float)(v64 * v29)) + (float)(v240 * v28);
      v241 = *(unsigned __int64 *)(a1 + 0x630);
      __asm { vmovupd xmm2, [rbp+0B50h+var_B00] }
      v243 = *(unsigned __int64 *)(a1 + 0x628);
      v379 = (float)(v64 * v28) - (float)((float)((float)(v239 * v65) - (float)(v29 * v240)) + (float)(v238 * v66));
      _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x638) - v391);
      *((_QWORD *)&v246 + 1) = *((_QWORD *)&v241 + 1);
      *(double *)&v246 = *(double *)&v241 - *(double *)&_XMM2;
      _XMM2 = v246;
      *((_QWORD *)&v246 + 1) = *((_QWORD *)&v243 + 1);
      *(double *)&v246 = *(double *)&v243 - *(double *)&v386;
      _XMM0 = v246;
      __asm
      {
        vcvtsd2ss xmm1, xmm0, xmm0
        vcvtsd2ss xmm0, xmm3, xmm3
        vcvtsd2ss xmm2, xmm2, xmm2
      }
      v389[2] = *(float *)&_XMM0;
      v389[0] = *(float *)&_XMM1;
      v389[1] = *(float *)&_XMM2;
      v97 = v389;
    }
    else
    {
      if ( *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) > 0.0 )
      {
        if ( (v76 & 0x1000) == 0 )
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, 1, 8);
        v77 = 0;
        if ( *(int *)(a1 + 0x148) > 0 )
        {
          v78 = 0;
          do
          {
            if ( !(*(unsigned int (__fastcall **)(_QWORD, __int64, _QWORD))(**(_QWORD **)(v78 + *(_QWORD *)(a1 + 0x140))
                                                                          + 0x258LL))(
                    *(_QWORD *)(v78 + *(_QWORD *)(a1 + 0x140)),
                    a1,
                    0) )
              (*(void (__fastcall **)(_QWORD, __int64, __int64))(**(_QWORD **)(v78 + *(_QWORD *)(a1 + 0x140)) + 0x268LL))(
                *(_QWORD *)(v78 + *(_QWORD *)(a1 + 0x140)),
                1,
                8);
            ++v77;
            v78 += 8;
          }
          while ( v77 < *(_DWORD *)(a1 + 0x148) );
        }
        v26 = v372;
      }
      v79 = *(_QWORD *)(a1 + 0xB8);
      v80 = *(_QWORD *)(a1 + 0x2C0);
      v375 = v79;
      if ( v19 == v79 )
        sub_14693D8B0(v80, a1, 0x80);
      else
        sub_146939DC0(v80, a1);
      if ( (*(_BYTE *)(v15 + 0x38) & 2) != 0 )
      {
        if ( v19 != v79 )
        {
          v98 = *(double *)(a1 + 0x1D0);
          v99 = *(_QWORD *)(a1 + 0x2C0);
          v484 = *(_OWORD *)(a1 + 0x1C0);
          v485 = v98;
          v486 = v393;
          v487 = v380;
          sub_1469253C0(v99, (unsigned int)v483, v19, (unsigned int)&v486, v79, (__int64)&v484, 1);
          if ( !v26 )
          {
            v100 = *(float *)(a1 + 0x1D8);
            v101 = *(float *)(a1 + 0x1DC);
            v102 = *(float *)(a1 + 0x6E0);
            v103 = *(float *)(a1 + 0x1E0);
            v104 = *(float *)(a1 + 0x6DC);
            v105 = *(float *)(a1 + 0x6D8);
            v106 = *(float *)(a1 + 0x1E4);
            v107 = (float)((float)(v102 * v101) - (float)(v104 * v103)) + (float)(v105 * v106);
            v108 = (float)((float)(v105 * v103) - (float)(v100 * v102)) + (float)(v106 * v104);
            v109 = (float)((float)(v100 * v104) - (float)(v105 * v101)) + (float)(v106 * v102);
            *(double *)(a1 + 0x628) = (float)((float)((float)(v101 * v109) - (float)(v103 * v108))
                                            + (float)(v105 + (float)((float)(v101 * v109) - (float)(v103 * v108))))
                                    + *(double *)(a1 + 0x1C0);
            *(double *)(a1 + 0x630) = (float)((float)((float)(v103 * v107) - (float)(v100 * v109))
                                            + (float)(v104 + (float)((float)(v103 * v107) - (float)(v100 * v109))))
                                    + *(double *)(a1 + 0x1C8);
            *(double *)(a1 + 0x638) = (float)((float)((float)(v100 * v108) - (float)(v101 * v107))
                                            + (float)(v102 + (float)((float)(v100 * v108) - (float)(v101 * v107))))
                                    + *(double *)(a1 + 0x1D0);
            v110 = *(float *)(a1 + 0x6CC);
            v111 = *(float *)(a1 + 0x1DC);
            v112 = *(float *)(a1 + 0x6C8);
            v113 = *(float *)(a1 + 0x1E4);
            v114 = *(float *)(a1 + 0x6D4);
            v115 = *(float *)(a1 + 0x6D0);
            v116 = *(float *)(a1 + 0x1E0);
            *(float *)(a1 + 0x640) = (float)((float)((float)(v115 * v111) - (float)(v110 * v116)) + (float)(v112 * v113))
                                   + (float)(v114 * v100);
            *(float *)(a1 + 0x644) = (float)((float)((float)(v112 * v116) - (float)(v115 * v100)) + (float)(v110 * v113))
                                   + (float)(v114 * v111);
            *(float *)(a1 + 0x648) = (float)((float)((float)(v110 * v100) - (float)(v112 * v111)) + (float)(v115 * v113))
                                   + (float)(v114 * v116);
            *(float *)(a1 + 0x64C) = (float)(v114 * v113)
                                   - (float)((float)((float)(v110 * v111) + (float)(v112 * v100)) + (float)(v115 * v116));
          }
          if ( *(double *)(a1 + 0x6B0) > 0.0 )
          {
            v117 = sub_146765B90(v488, v483, (float *)(a1 + 0x68C));
            _XMM0 = *(unsigned __int64 *)v117;
            _XMM1 = *((unsigned __int64 *)v117 + 1);
            _XMM2 = *((unsigned __int64 *)v117 + 2);
            __asm
            {
              vcvtpd2ps xmm0, xmm0
              vcvtpd2ps xmm1, xmm1
              vcvtpd2ps xmm2, xmm2
            }
            *(float *)(a1 + 0x68C) = *(float *)&_XMM0;
            *(float *)(a1 + 0x690) = *(float *)&_XMM1;
            *(float *)(a1 + 0x694) = *(float *)&_XMM2;
            v124 = sub_146765B90(v489, v483, (float *)(a1 + 0x698));
            v125 = v483[1];
            v126 = v483[2];
            v127 = v483[0];
            _XMM0 = *(unsigned __int64 *)v124;
            _XMM1 = *((unsigned __int64 *)v124 + 1);
            _XMM2 = *((unsigned __int64 *)v124 + 2);
            v131 = v483[3];
            __asm { vcvtpd2ps xmm0, xmm0 }
            *(float *)(a1 + 0x698) = *(float *)&_XMM0;
            __asm { vcvtpd2ps xmm1, xmm1 }
            *(float *)(a1 + 0x69C) = *(float *)&_XMM1;
            __asm { vcvtpd2ps xmm2, xmm2 }
            *(float *)(a1 + 0x6A0) = *(float *)&_XMM2;
            _XMM5 = *(unsigned __int64 *)(a1 + 0x6B0);
            v384 = *(double *)(a1 + 0x68C);
            v135 = (__m128)*(unsigned __int64 *)&v384;
            __asm { vcvtpd2ps xmm5, xmm5 }
            *(double *)(a1 + 0x660) = (float)(*(float *)(a1 + 0x694) * *(float *)&_XMM5);
            *(double *)(a1 + 0x658) = (float)(_mm_shuffle_ps(v135, v135, 0x55).m128_f32[0] * *(float *)&_XMM5);
            *(double *)(a1 + 0x650) = (float)(v135.m128_f32[0] * *(float *)&_XMM5);
            *(double *)&_XMM5 = *(float *)(a1 + 0x680);
            v138 = *(float *)(a1 + 0x688);
            v139 = *(float *)(a1 + 0x684);
            v140 = v138 * v125 - v139 * v126 + *(double *)&_XMM5 * v131;
            *((_QWORD *)&v141 + 1) = 0;
            *(double *)&v141 = *(double *)&_XMM5 * v126 - v138 * v127 + v139 * v131;
            v142 = v141;
            v143 = v139 * v127 - *(double *)&_XMM5 * v125 + v138 * v131;
            _XMM6 = COERCE_UNSIGNED_INT64(v143 * v125 - *(double *)&v142 * v126 + v143 * v125
                                                                                - *(double *)&v142 * v126
                                                                                + *(double *)&_XMM5);
            *((_QWORD *)&v141 + 1) = 0;
            *(double *)&v141 = v140 * v126 - v143 * v127 + v140 * v126 - v143 * v127 + v139;
            _XMM5 = v141;
            *((_QWORD *)&v141 + 1) = *((_QWORD *)&v142 + 1);
            *(double *)&v141 = *(double *)&v142 * v127 - v140 * v125 + *(double *)&v142 * v127 - v140 * v125 + v138;
            _XMM4 = v141;
            __asm { vcvtsd2ss xmm1, xmm4, xmm4 }
            *(float *)(a1 + 0x688) = *(float *)&_XMM1;
            v372 = _XMM1;
            __asm
            {
              vcvtsd2ss xmm15, xmm6, xmm6
              vcvtsd2ss xmm0, xmm5, xmm5
            }
            *(float *)(a1 + 0x684) = *(float *)&_XMM0;
            *(float *)&v370 = *(float *)&_XMM0;
            *(float *)(a1 + 0x680) = *(float *)&_XMM15;
            *(double *)&_XMM5 = *(float *)(a1 + 0x6A4);
            v150 = *(float *)(a1 + 0x6AC);
            v151 = *(float *)(a1 + 0x6A8);
            v152 = v150 * v125 - v151 * v126 + *(double *)&_XMM5 * v131;
            *((_QWORD *)&v141 + 1) = 0;
            *(double *)&v141 = *(double *)&_XMM5 * v126 - v150 * v127 + v151 * v131;
            v153 = v141;
            *(double *)&_XMM4 = v151 * v127 - *(double *)&_XMM5 * v125 + v150 * v131;
            _XMM6 = COERCE_UNSIGNED_INT64(
                      *(double *)&_XMM4 * v125
                    - *(double *)&v153 * v126
                    + *(double *)&_XMM5
                    + *(double *)&_XMM4 * v125
                    - *(double *)&v153 * v126);
            *((_QWORD *)&v141 + 1) = 0;
            *(double *)&v141 = v152 * v126 - *(double *)&_XMM4 * v127 + v151 + v152 * v126 - *(double *)&_XMM4 * v127;
            _XMM5 = v141;
            *((_QWORD *)&v141 + 1) = *((_QWORD *)&v153 + 1);
            *(double *)&v141 = *(double *)&v153 * v127 - v152 * v125;
            *(double *)&_XMM1 = v150 + *(double *)&v141;
            LODWORD(v150) = v370;
            *(double *)&v141 = *(double *)&v141 + *(double *)&_XMM1;
            _XMM4 = v141;
            __asm { vcvtsd2ss xmm1, xmm4, xmm4 }
            v158 = v372;
            *(float *)(a1 + 0x6AC) = *(float *)&_XMM1;
            __asm { vcvtsd2ss xmm0, xmm6, xmm6 }
            *(float *)(a1 + 0x6A4) = *(float *)&_XMM0;
            __asm { vcvtsd2ss xmm3, xmm5, xmm5 }
            *(float *)(a1 + 0x6A8) = *(float *)&_XMM3;
            LODWORD(v131) = *(_DWORD *)(a1 + 0x64C);
            LODWORD(v127) = *(_DWORD *)(a1 + 0x640);
            v161 = *(unsigned int *)(a1 + 0x648);
            v162 = *(unsigned int *)(a1 + 0x644);
            v163 = v158;
            *(float *)&v152 = (float)((float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&v158)
                                    - (float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&v150))
                            + (float)(*(float *)&v131 * *(float *)&_XMM15);
            *(float *)&v163 = (float)((float)(*(float *)&v158 * *(float *)&v127)
                                    + (float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&_XMM15))
                            + (float)(*(float *)&v131 * *(float *)&v150);
            v164 = v163;
            *(float *)&v158 = (float)(*(float *)&v131 * *(float *)&v158)
                            - (float)((float)(*(float *)&v150 * *(float *)&v127)
                                    + (float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&_XMM15));
            v165 = v162 ^ xmmword_1480DD750;
            *(float *)&v165 = (float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&v158)
                            - (float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&v164);
            *(float *)&v165 = *(float *)&v165 + (float)(*(float *)&v165 + *(float *)&_XMM15);
            v166 = v165;
            v167 = v161 ^ xmmword_1480DD750;
            *(float *)&v167 = (float)((float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&v152)
                                    + (float)(*(float *)&v158 * *(float *)&v127))
                            + (float)((float)((float)(COERCE_FLOAT(v161 ^ 0x80000000) * *(float *)&v152)
                                            + (float)(*(float *)&v158 * *(float *)&v127))
                                    + *(float *)&v150);
            v168 = v167;
            v169 = v164;
            *(float *)&v169 = *(float *)&v164 * *(float *)&v127;
            v170 = v169 ^ xmmword_1480DD750;
            *(double *)&v170 = (float)((float)(*(float *)&v170
                                             - (float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&v152))
                                     + (float)((float)(*(float *)&v170
                                                     - (float)(COERCE_FLOAT(v162 ^ 0x80000000) * *(float *)&v152))
                                             + *(float *)&v372))
                             * *(double *)(a1 + 0x608);
            _XMM0 = v170;
            __asm { vcvtsd2ss xmm10, xmm0, xmm0 }
            *((_QWORD *)&v170 + 1) = *((_QWORD *)&v168 + 1);
            *(double *)&v170 = *(float *)&v168 * *(double *)(a1 + 0x600);
            _XMM0 = v170;
            __asm { vcvtsd2ss xmm9, xmm0, xmm0 }
            *((_QWORD *)&v170 + 1) = *((_QWORD *)&v166 + 1);
            *(double *)&v170 = *(float *)&v166 * *(double *)(a1 + 0x5F8);
            _XMM2 = v170;
            __asm { vcvtsd2ss xmm5, xmm2, xmm2 }
            *(float *)&v152 = (float)((float)(*(float *)&_XMM10 * *(float *)&v162)
                                    - (float)(*(float *)&_XMM9 * *(float *)&v161))
                            + (float)(*(float *)&v131 * *(float *)&_XMM5);
            *(float *)&v166 = (float)((float)(*(float *)&_XMM5 * *(float *)&v161)
                                    - (float)(*(float *)&_XMM10 * *(float *)&v127))
                            + (float)(*(float *)&v131 * *(float *)&_XMM9);
            *(float *)&v158 = (float)((float)(*(float *)&_XMM9 * *(float *)&v127)
                                    - (float)(*(float *)&_XMM5 * *(float *)&v162))
                            + (float)(*(float *)&v131 * *(float *)&_XMM10);
            *(double *)(a1 + 0x678) = (float)((float)((float)(*(float *)&v127 * *(float *)&v166)
                                                    - (float)(*(float *)&v162 * *(float *)&v152))
                                            + (float)(*(float *)&_XMM10
                                                    + (float)((float)(*(float *)&v127 * *(float *)&v166)
                                                            - (float)(*(float *)&v162 * *(float *)&v152))));
            *(double *)(a1 + 0x668) = (float)((float)((float)(*(float *)&v162 * *(float *)&v158)
                                                    - (float)(*(float *)&v161 * *(float *)&v166))
                                            + (float)(*(float *)&_XMM5
                                                    + (float)((float)(*(float *)&v162 * *(float *)&v158)
                                                            - (float)(*(float *)&v161 * *(float *)&v166))));
            *(double *)(a1 + 0x670) = (float)((float)((float)(*(float *)&v161 * *(float *)&v152)
                                                    - (float)(*(float *)&v127 * *(float *)&v158))
                                            + (float)(*(float *)&_XMM9
                                                    + (float)((float)(*(float *)&v161 * *(float *)&v152)
                                                            - (float)(*(float *)&v127 * *(float *)&v158))));
          }
          (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x3A0LL))(a1);
          v177 = (__int64 *)(a1 + 0x148);
          if ( *(int *)(a1 + 0x148) > 0x40 )
            v177 = &qword_148ACBC20;
          v178 = *(int *)v177;
          v179 = 8 * v178 + 0xF;
          if ( v179 <= 8 * v178 )
            v179 = 0xFFFFFFFFFFFFFF0LL;
          size = v179 & 0xFFFFFFFFFFFFFFF0uLL;
          v181 = alloca(size);
          v182 = alloca(size);
          v183 = &v370;
          *(_QWORD *)&v382 = &v370;
          v184 = 0x38 * v178 + 0xF;
          if ( v184 <= 0x38 * v178 )
            v184 = 0xFFFFFFFFFFFFFF0LL;
          size_1 = v184 & 0xFFFFFFFFFFFFFFF0uLL;
          v186 = alloca(size_1);
          v187 = alloca(size_1);
          *(float *)&v188 = 0.0;
          *(float *)&v372 = 0.0;
          v384 = COERCE_DOUBLE(&v370);
          v189 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x8C8));
          if ( (v189 & 0x200000) != 0 )
            sub_1403CD0A0(
              (volatile signed __int64 *)(a1 + 0x8C8),
              v189,
              (__int64)"CRigidEntity::SetParams",
              (__int64)"m_lockContacts",
              1);
          if ( *(_QWORD *)(a1 + 0x500) )
          {
            sub_146924DF0(*(_QWORD *)(a1 + 0x2C0), (unsigned int)&v476, v376, v375, 0x3F800000, 1);
            v190 = 1;
            v191 = v382;
            *(_QWORD *)&v380 = *(_QWORD *)&v384 + 0x30LL;
            v192 = 0;
            v193 = 0;
            n0x40_3 = 0;
            v370 = 0;
            n0x40 = 0;
            v383 = (_QWORD *)v382;
            do
            {
              v195 = *(_QWORD *)(a1 + 0x500);
              if ( v190 > v195 )
                break;
              if ( (v195 & v190) != 0 )
              {
                if ( *(_QWORD *)(v370 + *(_QWORD *)(a1 + 0x4F0))
                  || (v196 = *(_QWORD *)(v192 + *(_QWORD *)(a1 + 0x4E8) + 0x20)) == 0
                  || *(_DWORD *)(v196 + 0xF4) >= 7u )
                {
                  v193 = v370;
                }
                else
                {
                  if ( unknown_libname_247(v191, v191 + 8LL * v188, v196) != v191 + 8LL * v188 )
                    goto LABEL_57;
                  v197 = *(_QWORD *)(a1 + 0x4E8);
                  v452 = 1;
                  v453 = 0xFFFFFFFFFFFFFFFFuLL;
                  v454 = 0;
                  v463 = 0;
                  v466 = 0;
                  v464 = 0xFFFFFFFFFFFFFFFFuLL;
                  HIDWORD(v455) = 0xFFF7FFFF;
                  v461 = NAN;
                  v462 = 0xFFBFFFFF;
                  v465 = 0.0;
                  if ( !(*(unsigned int (__fastcall **)(_QWORD, int *))(**(_QWORD **)(v192 + v197 + 0x20) + 0x28LL))(
                          *(_QWORD *)(v192 + v197 + 0x20),
                          &v452) )
                    goto LABEL_57;
                  v198 = *(_QWORD *)(v192 + *(_QWORD *)(a1 + 0x4E8) + 0x20);
                  if ( *(_QWORD *)(v198 + 0xB8) != v375 )
                  {
                    v199 = v477;
                    v200 = v478;
                    v201 = v479;
                    v202 = v476;
                    v203 = v457;
                    v204 = v456;
                    v205 = v455;
                    v206 = v383;
                    v207 = v372;
                    v208 = v477 * v457 - v478 * v456;
                    *v383 = v198;
                    v188 = v207 + 1;
                    v209 = *(double **)&v380;
                    v210 = v208 + v201 * v205;
                    v211 = v200 * v205 - v202 * v203 + v201 * v204;
                    v212 = v202 * v204 - v199 * v205 + v201 * v203;
                    v213 = v212 * v199 - v211 * v200;
                    v214 = v211 * v202 - v210 * v199;
                    v215 = v210 * v200 - v212 * v202 + v204 + v481 + v210 * v200 - v212 * v202;
                    v216 = v214 + v203 + v482;
                    *(double *)(*(_QWORD *)&v380 - 0x10LL) = v213 + v205 + v480 + v213;
                    v209[0xFFFFFFFF] = v215;
                    *v209 = v214 + v216;
                    v217 = v459;
                    v218 = v458;
                    v219 = v460;
                    v220 = v461;
                    v221 = v459 * v202 - v458 * v199 + v460 * v201 + v461 * v200;
                    v222 = v209 + 0xFFFFFFFA;
                    v372 = v188;
                    v383 = v206 + 1;
                    *(_QWORD *)&v380 = v209 + 7;
                    v222[3] = v461 * v201 - (v458 * v202 + v459 * v199 + v460 * v200);
                    *v222 = v219 * v199 - v217 * v200 + v218 * v201 + v220 * v202;
                    v222[1] = v218 * v200 - v219 * v202 + v217 * v201 + v220 * v199;
                    v222[2] = v221;
                  }
                  else
                  {
LABEL_57:
                    v188 = v372;
                  }
                  v193 = v370;
                }
                n0x40 = n0x40_3;
              }
              ++n0x40;
              v190 = __ROL8__(v190, 1);
              v193 += 0x100;
              n0x40_3 = n0x40;
              v192 += 0x108;
              v370 = v193;
            }
            while ( n0x40 < 0x40 );
            v15 = *(_QWORD *)&v377;
            v183 = (__int64 *)v382;
          }
          v25 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x8C8));
          if ( (v25 & 0x3FF) == 0 && (v25 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x8C8), v25);
          v394 = 0;
          DWORD1(v395) = 0xFFF7FFFF;
          v404 = v404 & 0xF0 | 8;
          v405 = v375;
          v223 = v188;
          v401 = 0xFFBFFFFF;
          v402 = 0x80000000;
          n0x300 = 0x300;
          if ( v188 > 0 )
          {
            v224 = 0;
            v225 = (unsigned __int64 *)(*(_QWORD *)&v384 + 0x18LL);
            v226 = v223;
            do
            {
              v395 = *(_OWORD *)(v225 + 1);
              v396 = v225[3];
              _XMM3 = *v225;
              _XMM0 = v225[0xFFFFFFFD];
              _XMM1 = v225[0xFFFFFFFE];
              _XMM2 = v225[0xFFFFFFFF];
              __asm { vcvtpd2ps xmm3, xmm3 }
              v400 = *(float *)&_XMM3;
              __asm { vcvtpd2ps xmm0, xmm0 }
              v397 = *(float *)&_XMM0;
              __asm { vcvtpd2ps xmm1, xmm1 }
              v398 = *(float *)&_XMM1;
              __asm { vcvtpd2ps xmm2, xmm2 }
              v399 = *(float *)&_XMM2;
              (*(void (__fastcall **)(__int64, int *, __int64))(*(_QWORD *)v183[v224] + 0x18LL))(v183[v224], &v394, 1);
              ++v224;
              v225 += 7;
            }
            while ( v224 < v226 );
            v15 = *(_QWORD *)&v377;
          }
          v19 = v376;
        }
        goto LABEL_77;
      }
      if ( *(double *)(a1 + 0x6B0) > 0.0 )
      {
        *(_QWORD *)(a1 + 0x690) = 0;
        *(_QWORD *)(a1 + 0x688) = 0;
        *(_QWORD *)(a1 + 0x680) = 0;
        *(_QWORD *)(a1 + 0x660) = 0;
        *(_QWORD *)(a1 + 0x658) = 0;
        *(_QWORD *)(a1 + 0x650) = 0;
        *(_QWORD *)(a1 + 0x678) = 0;
        *(_QWORD *)(a1 + 0x670) = 0;
        *(_QWORD *)(a1 + 0x668) = 0;
        *(_QWORD *)(a1 + 0x69C) = 0;
        *(_DWORD *)(a1 + 0x698) = 0;
        *(_QWORD *)(a1 + 0x6A8) = 0;
        *(_DWORD *)(a1 + 0x6A4) = 0;
      }
      if ( *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) <= 0.0 )
      {
LABEL_77:
        if ( (unsigned int)(*(_DWORD *)(v15 + 0x34) + 0x7FFFFFFF) <= 0x80000001 )
          *(_DWORD *)(a1 + 0x4AC) = (unsigned int)(1 - *(_DWORD *)(a1 + 0xF4)) >> 0x1F;
        v251 = *(float *)(v15 + 0x30);
        *(float *)&v370 = v251;
        if ( (LODWORD(v251) & 0xFFA00000) != 0xFFA00000 && *(_DWORD *)(a1 + 0x290) && fabs(v251 - v381) > 0.001 )
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x348LL))(a1, 0xFFFFFFFFLL, 1);
        v252 = *(unsigned int *)(a1 + 0x290);
        if ( (_DWORD)v252
          && *(float *)(*(_QWORD *)(a1 + 0x2C0) + 0x300LL) > 0.0
          && (*(_BYTE *)(a1 + 0x208) & 0x20) == 0
          && (*(_BYTE *)(v15 + 0x38) & 0x20) == 0
          && *(int *)(a1 + 0xF4) <= 2 )
        {
          TlsIndex = (unsigned int)::TlsIndex;
          if ( *(double *)(a1 + 0x6B8) == 0.0 )
          {
            v25 = 0;
            if ( (int)v252 > 0 )
            {
              v254 = *(_DWORD **)(a1 + 0x248);
              v255 = *(_QWORD *)(a1 + 0x240) - (_QWORD)v254;
              do
              {
                v256 = *v254 | *(_DWORD *)((char *)v254 + v255);
                v254 += 2;
                v25 = v256 | (unsigned int)v25;
                --v252;
              }
              while ( v252 );
              if ( (v25 & 1) != 0 )
              {
                v257 = *(_QWORD *)(a1 + 0x2C0);
                if ( *(_DWORD *)(v257 + 0x82E34) )
                {
                  sub_14693D8B0(v257, a1, (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10);
                }
                else
                {
                  v258 = sub_146922A80(
                           v257,
                           (int)a1 + 0x10,
                           (int)a1 + 0x28,
                           (unsigned int)&v376,
                           *(_DWORD *)(a1 + 0x510) & 0x1A | 0x40u,
                           a1,
                           *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)::TlsIndex)
                                     + 0x800LL),
                           0,
                           0)
                       - 1;
                  for ( i = v258; i >= 0; --i )
                  {
                    v260 = *(_QWORD *)(v376 + 8 * i);
                    if ( v260 != a1 )
                      (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v260 + 0x268LL))(v260, 1);
                  }
                }
              }
            }
          }
          if ( *(int *)(a1 + 0x188) < 0 && (_DWORD)v385 )
          {
            v261 = *(_QWORD *)(a1 + 0x2C0);
            if ( *(_DWORD *)(v261 + 0x82E34) )
            {
              sub_14693D8B0(*(_QWORD *)(a1 + 0x2C0), a1, (((*(_DWORD *)(a1 + 0x208) & 0x20000) - 1) >> 0x1F) & 0x10);
            }
            else
            {
              v262 = *(unsigned int *)(v261 + 0x13C);
              *(double *)&v262 = (float)(*(float *)(v261 + 0x13C) * 4.0);
              _XMM3 = v262;
              __asm { vmovddup xmm3, xmm3 }
              v265 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + TlsIndex);
              v391 = *(double *)_XMM3.m128_u64 + v409;
              v266 = *(_DWORD *)(v265 + 0x800);
              LODWORD(v265) = *(_DWORD *)(a1 + 0x510);
              v390 = _mm_add_pd(_XMM3, v408);
              v267 = *(unsigned int *)(v261 + 0x13C);
              *(double *)&v267 = (float)(*(float *)(v261 + 0x13C) * 4.0);
              _XMM2 = v267;
              __asm { vmovddup xmm2, xmm2 }
              v470 = v407 - *(double *)_XMM2.m128_u64;
              v469 = _mm_sub_pd(v406, _XMM2);
              v270 = sub_146922A80(
                       v261,
                       (unsigned int)&v469,
                       (unsigned int)&v390,
                       (unsigned int)&v376,
                       v265 & 0x1A,
                       a1,
                       v266,
                       v19,
                       0)
                   - 1;
              for ( j = v270; j >= 0; --j )
              {
                v272 = *(_QWORD *)(v376 + 8 * j);
                if ( v272 != a1 )
                  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v272 + 0x268LL))(v272, 1);
              }
            }
          }
        }
        v273 = *(double *)(a1 + 0x638);
        *(_OWORD *)(a1 + 0x7C0) = *(_OWORD *)(a1 + 0x628);
        *(double *)(a1 + 0x7D0) = v273;
        *(_DWORD *)(a1 + 0x848) = *(_DWORD *)(a1 + 0x640);
        *(_DWORD *)(a1 + 0x84C) = *(_DWORD *)(a1 + 0x644);
        *(_DWORD *)(a1 + 0x850) = *(_DWORD *)(a1 + 0x648);
        *(_DWORD *)(a1 + 0x854) = *(_DWORD *)(a1 + 0x64C);
        if ( (*(_BYTE *)(v15 + 0x38) & 0x40) != 0 && (*(_BYTE *)(a1 + 0x208) & 0x20) == 0 )
          sub_1467D1F00((__int64 *)a1, (float *)v25, 0, 0);
        *(_OWORD *)(a1 + 0x468) = *(_OWORD *)(a1 + 0x1C0);
        v274 = *(double *)(a1 + 0x1D0);
        *(double *)(a1 + 0x478) = v274;
        *(_OWORD *)(a1 + 0x450) = *(_OWORD *)(a1 + 0x468);
        *(double *)(a1 + 0x460) = v274;
        v275 = *(float *)(a1 + 0x1D8);
        *(float *)(a1 + 0x490) = v275;
        v276 = *(float *)(a1 + 0x1DC);
        *(float *)(a1 + 0x494) = v276;
        LODWORD(v274) = *(_DWORD *)(a1 + 0x1E0);
        *(float *)(a1 + 0x498) = *(float *)&v274;
        v277 = *(float *)(a1 + 0x1E4);
        *(float *)(a1 + 0x488) = *(float *)&v274;
        *(float *)(a1 + 0x49C) = v277;
        *(float *)(a1 + 0x48C) = v277;
        *(float *)(a1 + 0x480) = v275;
        *(float *)(a1 + 0x484) = v276;
        *(_OWORD *)(a1 + 0x418) = *(_OWORD *)(a1 + 0x1C0);
        v278 = *(double *)(a1 + 0x1D0);
        *(double *)(a1 + 0x428) = v278;
        *(_OWORD *)(a1 + 0x3E8) = *(_OWORD *)(a1 + 0x418);
        *(double *)(a1 + 0x3F8) = v278;
        *(_OWORD *)(a1 + 0x430) = *(_OWORD *)(a1 + 0x1C0);
        v279 = *(double *)(a1 + 0x1D0);
        *(double *)(a1 + 0x440) = v279;
        *(_OWORD *)(a1 + 0x400) = *(_OWORD *)(a1 + 0x430);
        *(double *)(a1 + 0x410) = v279;
        v414 = __rdtsc();
        qword_149A0FD88(&n0x2800_1);
        v17 = v374;
LABEL_111:
        if ( v474 )
          goto LABEL_131;
        goto LABEL_127;
      }
      LODWORD(v81) = v62 ^ 0x80000000;
      v82 = *(float *)(a1 + 0x64C);
      v83 = *(float *)(a1 + 0x648);
      v84 = *(float *)(a1 + 0x640);
      v85 = *(float *)(a1 + 0x644);
      LODWORD(v86) = v63 ^ 0x80000000;
      v87 = (float)((float)(v83 * v28) + (float)(v82 * COERCE_FLOAT(v63 ^ 0x80000000)))
          + (float)((float)(v84 * v81) + (float)(v85 * v29));
      v88 = (float)((float)(v81 * v82) - (float)((float)(v84 * v86) + (float)(v29 * v83))) + (float)(v85 * v28);
      v89 = (float)((float)((float)(v85 * v86) - (float)(v81 * v83)) - (float)(v82 * v29)) + (float)(v84 * v28);
      __asm { vmovupd xmm2, [rbp+0B50h+var_B00] }
      _XMM3 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x630) - *(double *)&_XMM2);
      v379 = (float)(v82 * v28) - (float)((float)((float)(v85 * v81) - (float)(v84 * v29)) + (float)(v86 * v83));
      _XMM4 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x638) - v391);
      _XMM2 = COERCE_UNSIGNED_INT64(*(double *)(a1 + 0x628) - *(double *)&v386);
      __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
      v388[0] = *(float *)&_XMM1;
      __asm
      {
        vcvtsd2ss xmm1, xmm4, xmm4
        vcvtsd2ss xmm0, xmm3, xmm3
      }
      v388[2] = *(float *)&_XMM1;
      v388[1] = *(float *)&_XMM0;
      v97 = v388;
    }
    *(float *)&v377 = v89;
    *((float *)&v377 + 1) = v88;
    v378 = v87;
    sub_1467CEA60(a1, v97, (float *)&v377);
    goto LABEL_77;
  }
  if ( n0xF != 6 )
  {
    if ( n0xF == 0xF )
    {
      v285 = *(_DWORD *)(v15 + 4);
      if ( v285 != 0x80000000 && (v285 & 0x100) != 0
        || (v286 = *(_DWORD *)(v15 + 8), v286 != 0x80000000) && (v286 & 0x100) != 0 )
      {
        *(_DWORD *)(a1 + 0x4A4) |= 0x10000000u;
      }
      if ( (v20 & 0x10000) != 0
        && (*(_DWORD *)(a1 + 0x208) & 0x10000) == 0
        && *(float *)(a1 + 0x36C) < *(float *)(a1 + 0x368)
        && *(float *)(a1 + 0x8B0) > 0.0
        && !*(_DWORD *)(a1 + 0x4AC) )
      {
        (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)a1 + 0x268LL))(a1, 1);
      }
      v287 = *(_DWORD *)(v15 + 4);
      if ( v287 != 0x80000000 && (v287 & 0x20) != 0
        || (v288 = *(_DWORD *)(v15 + 8), v288 != 0x80000000) && (v288 & 0x20) != 0 )
      {
        v289 = 0;
        if ( *(int *)(a1 + 0x148) > 0 )
        {
          v290 = 0;
          do
          {
            v291 = *(_DWORD **)(v290 + *(_QWORD *)(a1 + 0x140));
            if ( v291 && v291[0x3D] < 7u )
              (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v291 + 0x268LL))(v291, 1);
            ++v289;
            v290 += 8;
          }
          while ( v289 < *(_DWORD *)(a1 + 0x148) );
        }
        v292 = 1;
        v293 = 0;
        do
        {
          v294 = *(_QWORD *)(a1 + 0x500);
          if ( v292 > v294 )
            break;
          if ( (v294 & v292) != 0 )
          {
            v295 = *(_DWORD **)(v293 + *(_QWORD *)(a1 + 0x4F0));
            if ( v295 )
            {
              if ( v295[0x3D] < 7u )
                (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v295 + 0x268LL))(v295, 1);
            }
          }
          ++n0x40_1;
          v292 = __ROL8__(v292, 1);
          v293 += 0x100;
        }
        while ( n0x40_1 < 0x40 );
        sub_142138D90((__int64)v499);
        v296 = *(_QWORD *)a1;
        v501 = 1;
        v500 = 1;
        (*(void (__fastcall **)(__int64, _BYTE *, __int64))(v296 + 0x30))(a1, v499, 1);
        sub_1467B4760(a1);
        if ( *(_DWORD *)(a1 + 0x4AC) )
          (*(void (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)a1 + 0x268LL))(a1, 0, 0);
      }
      goto LABEL_126;
    }
LABEL_163:
    n0xC = *(_DWORD *)v15;
    if ( *(_DWORD *)v15 != 0xA )
    {
      if ( n0xC == 0xC )
      {
        n0x2800_2 = 0x2800;
        v432 = 0;
        v433 = 0;
        v435 = 0;
        v436 = 0;
        v437 = 0;
        v434 = 1;
        qword_149A0FD80(&n0x2800_2, 0, &Source, &Source, 0);
        v357 = 1000.0;
        v358 = 1000.0;
        v359 = *(_QWORD *)(*(_QWORD *)(a1 + 0xB8) + 0x48LL);
        if ( v359 )
        {
          v385 = *(_QWORD *)(v359 + 0x610);
          if ( (HIDWORD(v385) & 0xFFF40000) != 0xFFF40000 )
          {
            v357 = *(float *)(v359 + 0x5DC);
            v358 = *(float *)(v359 + 0x5E8);
          }
        }
        v360 = *(float *)(v15 + 4);
        *(float *)&v370 = v360;
        if ( (LODWORD(v360) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A4) = v360 / v357;
        v361 = *(float *)(v15 + 8);
        *(float *)&v370 = v361;
        if ( (LODWORD(v361) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A4) = v361;
        v362 = *(float *)(v15 + 0x10);
        *(float *)&v370 = v362;
        if ( (LODWORD(v362) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A8) = v362 / v358;
        v363 = *(float *)(v15 + 0x14);
        *(float *)&v370 = v363;
        if ( (LODWORD(v363) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A8) = v363;
        v364 = *(float *)(v15 + 0x70);
        *(float *)&v370 = v364;
        if ( (LODWORD(v364) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8AC) = v364;
        v365 = *(float *)(v15 + 0xC);
        *(float *)&v370 = v365;
        if ( (LODWORD(v365) & 0xFFA00000) != 0xFFA00000 )
          *(float *)(a1 + 0x8A0) = v365;
        v435 = __rdtsc();
        qword_149A0FD88(&n0x2800_2);
        v17 = 1;
        goto LABEL_127;
      }
      if ( n0xC == 0x21 )
      {
        n0x2800_3 = 0x2800;
        v439 = 0;
        v440 = 0;
        v442 = 0;
        v443 = 0;
        v444 = 0;
        v441 = 1;
        qword_149A0FD80(&n0x2800_3, 0, &Source, &Source, 0);
        v366 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0x200000, 0);
        if ( v366 )
          sub_1403DE750(a1 + 0x8F0, v366, 0, (__int64)"CRigidEntity::SetParams", (__int64)"m_netDesiredStateLock", 1);
        v367 = *(_QWORD *)(a1 + 0x8E8);
        if ( !v367 )
        {
          v368 = (void *)sub_1402A63D0(0xC8u);
          v367 = (__int64)v368;
          if ( v368 )
          {
            memset(v368, 0, 0xC0u);
            *(_DWORD *)v367 = 0x21;
            *(_DWORD *)(v367 + 0x48) = 0xFFBFFFFF;
            *(_DWORD *)(v367 + 0x54) = 0xFFBFFFFF;
            *(_BYTE *)(v367 + 0xBD) = 1;
            *(_QWORD *)(v367 + 0xC0) = 0;
          }
          else
          {
            v367 = 0;
          }
          *(_QWORD *)(a1 + 0x8E8) = v367;
        }
        sub_146772540(v367, v15);
        *(_BYTE *)(*(_QWORD *)(a1 + 0x8E8) + 0xBDLL) = 1;
        *(double *)(*(_QWORD *)(a1 + 0x8E8) + 0xC0LL) = *(double *)(*(_QWORD *)(a1 + 0x2C0) + 0x81928LL)
                                                      - *(double *)(*(_QWORD *)(a1 + 0x8E8) + 0xB0LL);
        sub_146939EF0(*(_QWORD *)(a1 + 0x2C0), a1);
        if ( a1 != 0xFFFFFFFFFFFFF710uLL )
        {
          n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0, 0x200000);
          if ( n0x200000 != 0x200000 )
            sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8F0), n0x200000);
        }
        v442 = __rdtsc();
        qword_149A0FD88(&n0x2800_3);
        v17 = 1;
        goto LABEL_127;
      }
      goto LABEL_126;
    }
    n0x2800_4 = 0x2800;
    v425 = 0;
    v426 = 0;
    v428 = 0;
    v429 = 0;
    v430 = 0;
    v427 = 1;
    qword_149A0FD80(&n0x2800_4, 0, &Source, &Source, 0);
    v298 = *(_DWORD *)(v15 + 0x64);
    v371 = 0;
    if ( v298 != 0x80000000 )
    {
      v299 = *(_DWORD *)(a1 + 0x208);
      if ( v298 <= 0 )
        v300 = v299 & 0xBFFFFFFF;
      else
        v300 = v299 | 0x40000000;
      *(_DWORD *)(a1 + 0x208) = v300;
    }
    v301 = *(_DWORD *)(v15 + 0x68);
    if ( v301 != 0x80000000 )
    {
      v302 = *(_BYTE *)(a1 + 0x384);
      if ( v301 > 0 != ((v302 & 0x10) != 0) )
      {
        *(_BYTE *)(a1 + 0x384) = (0x10 * (v301 > 0)) | v302 & 0xEF;
        sub_1403721C0((__int64)v493);
        v494 = 1;
        sub_146631960(a1 + 0x228, (__int64)v493);
      }
    }
    LODWORD(v370) = *(_DWORD *)(v15 + 0x18);
    if ( (v370 & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(a1 + 0x538) = *(double *)(v15 + 0x18);
      *(_DWORD *)(a1 + 0x540) = *(_DWORD *)(v15 + 0x20);
      LODWORD(v370) = *(_DWORD *)(v15 + 0x2C);
      if ( (v370 & 0xFFA00000) == 0xFFA00000 )
      {
        *(double *)(a1 + 0x544) = *(double *)(v15 + 0x18);
        *(_DWORD *)(a1 + 0x54C) = *(_DWORD *)(v15 + 0x20);
      }
    }
    v303 = *(float *)(v15 + 8);
    *(float *)&v370 = v303;
    if ( (LODWORD(v303) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x554) = v303;
    v304 = *(float *)(v15 + 0xC);
    *(float *)&v370 = v304;
    if ( (LODWORD(v304) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x550) = v304;
    v305 = *(float *)(v15 + 0x10);
    *(float *)&v370 = v305;
    if ( (LODWORD(v305) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x8AC) = v305;
    v306 = *(float *)(v15 + 0x14);
    *(float *)&v370 = v306;
    if ( (LODWORD(v306) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x570) = v306;
    LODWORD(v370) = *(_DWORD *)(v15 + 0x2C);
    if ( (v370 & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(a1 + 0x544) = *(double *)(v15 + 0x2C);
      *(_DWORD *)(a1 + 0x54C) = *(_DWORD *)(v15 + 0x34);
    }
    v307 = *(float *)(v15 + 0x24);
    *(float *)&v370 = v307;
    if ( (LODWORD(v307) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x574) = v307;
    v308 = *(float *)(v15 + 0x28);
    *(float *)&v370 = v308;
    if ( (LODWORD(v308) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x578) = v308;
    v309 = *(float *)(v15 + 0x38);
    *(float *)&v370 = v309;
    if ( (LODWORD(v309) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x580) = v309;
    v310 = *(float *)(v15 + 0x40);
    *(float *)&v370 = v310;
    if ( (LODWORD(v310) & 0xFFA00000) != 0xFFA00000 && v310 >= 0.0 && *(int *)(a1 + 0x290) > 0 )
    {
      sub_1403721C0((__int64)v495);
      v496 = *(_DWORD *)(v15 + 0x40);
      sub_146631960(a1 + 0x228, (__int64)v495);
      v371 = 1;
    }
    v311 = *(float *)(v15 + 0x3C);
    *(float *)&v370 = v311;
    if ( (LODWORD(v311) & 0xFFA00000) != 0xFFA00000 && v311 >= 0.0 && *(int *)(a1 + 0x290) > 0 )
    {
      v312 = (volatile signed __int64 *)(a1 + 0xC8);
      v313 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v313 )
        sub_1403DE750(a1 + 0xC8, v313, 0, (__int64)"CRigidEntity::SetParams", (__int64)"m_lockUpdate", 1);
      v314 = *(double *)(a1 + 0x6B0);
      if ( v314 == 0.0 )
      {
        sub_1403721C0((__int64)v497);
        v315 = *(_DWORD *)(a1 + 0x290);
        v316 = 0;
        if ( v315 > 0 )
        {
          v317 = (unsigned int)v315;
          v318 = *(__int64 **)(a1 + 0x238);
          v319 = (float *)(*(_QWORD *)(a1 + 0x230) + 0x1CLL);
          do
          {
            v320 = *v318++;
            v321 = *v319;
            v319 += 8;
            v322 = v316;
            *(float *)&v322 = *(float *)&v316 + (float)((float)(v321 * *(float *)(v320 + 0x40)) * (float)(v321 * v321));
            v316 = v322;
            --v317;
          }
          while ( v317 );
          if ( *(float *)&v322 > 0.0 )
          {
            v498 = *(float *)(v15 + 0x3C) / *(float *)&v322;
            sub_146631960(a1 + 0x228, (__int64)v497);
          }
        }
      }
      else
      {
        _XMM1 = COERCE_UNSIGNED_INT64(*(float *)(v15 + 0x3C) / v314);
        __asm { vcvtsd2ss xmm6, xmm1, xmm1 }
        sub_1403721C0((__int64)v490);
        v325 = 0;
        if ( *(int *)(a1 + 0x290) > 0 )
        {
          v326 = 0;
          do
          {
            v327 = *(_QWORD *)(a1 + 0x258);
            v491 = v325;
            v492 = *(float *)&_XMM6 * *(float *)(v326 + v327);
            sub_146631960(a1 + 0x228, (__int64)v490);
            ++v325;
            v326 += 0x18;
          }
          while ( v325 < *(_DWORD *)(a1 + 0x290) );
          v312 = (volatile signed __int64 *)(a1 + 0xC8);
        }
      }
      v371 = 1;
      if ( v312 )
      {
        n0x200000_1 = _InterlockedCompareExchange64(v312, 0, 0x200000);
        if ( n0x200000_1 != 0x200000 )
          sub_1403DEBA0(v312, n0x200000_1);
      }
    }
    v329 = *(_DWORD *)(v15 + 0x60);
    if ( v329 != 0x80000000 )
    {
      v330 = 0;
      if ( v329 > 0 && !*(_DWORD *)(a1 + 0x844) )
      {
        if ( (*(_DWORD *)(a1 + 0x208) & 0x20000000) != 0 )
        {
          LogTraceConditional(
            "[WARNING] physics : flag ref_no_recompute_mass already present on non-kinematic entity %s.The flag will get "
            "removed when re-enabling simulation",
            *(const char **)(a1 + 0xD0));
          v375 = 0x6A000000D0LL;
          v467[0] = &v375;
          v467[1] = &v376;
          v331 = invokeGlobalCallbackAndMaskStatusBits(
                   5,
                   (__int64)v467,
                   (__int64)"CRigidEntity::SetParams",
                   "[WARNING] physics : flag ref_no_recompute_mass already present on non-kinematic entity [$$]. The flag"
                   " will get removed when re-enabling simulation");
          if ( (v331 & 0xFFFFF) != 0 )
          {
            *((_QWORD *)&v386 + 1) = *(_QWORD *)(a1 + 0xD0);
            *(_QWORD *)&v386 = 0;
            v387 = 0;
            ThreadLogContextSlot = getThreadLogContextSlot();
            *(_QWORD *)&v382 = 0x6A000000D0LL;
            v468[0] = &v382;
            v468[1] = (char *)&v382 + 8;
            v393 = 0;
            sub_140445140(
              5,
              (__int64)v468,
              "CRigidEntity::SetParams",
              (__int64)"[WARNING] physics : flag ref_no_recompute_mass already present on non-kinematic entity [$$]. The "
                       "flag will get removed when re-enabling simulation",
              1,
              v331,
              &v393,
              0,
              (__int64)ThreadLogContextSlot,
              &v386);
            sub_1402A63C0(v387);
          }
        }
        *(_QWORD *)(a1 + 0x5B0) = 0;
        *(_QWORD *)(a1 + 0x5B8) = 0;
        *(_QWORD *)(a1 + 0x5C0) = 0;
        *(_QWORD *)(a1 + 0x5C8) = 0;
        *(_QWORD *)(a1 + 0x5D0) = 0;
        *(_QWORD *)(a1 + 0x5D8) = 0;
        *(_QWORD *)(a1 + 0x5E0) = 0;
        *(_QWORD *)(a1 + 0x5E8) = 0;
        *(_QWORD *)(a1 + 0x5F0) = 0;
        *(_QWORD *)(a1 + 0x608) = 0;
        *(_QWORD *)(a1 + 0x600) = 0;
        *(_QWORD *)(a1 + 0x5F8) = 0;
        *(_QWORD *)(a1 + 0x620) = 0;
        *(_QWORD *)(a1 + 0x618) = 0;
        *(_QWORD *)(a1 + 0x610) = 0;
        *(_DWORD *)(a1 + 0x208) |= 0x20000000u;
        *(_DWORD *)(a1 + 0x844) = 1;
        *(_QWORD *)(a1 + 0x690) = 0;
        *(_QWORD *)(a1 + 0x688) = 0;
        *(_QWORD *)(a1 + 0x680) = 0;
        *(_QWORD *)(a1 + 0x660) = 0;
        *(_QWORD *)(a1 + 0x658) = 0;
        *(_QWORD *)(a1 + 0x650) = 0;
        *(_QWORD *)(a1 + 0x678) = 0;
        *(_QWORD *)(a1 + 0x670) = 0;
        *(_QWORD *)(a1 + 0x668) = 0;
        *(_QWORD *)(a1 + 0x69C) = 0;
        *(_DWORD *)(a1 + 0x698) = 0;
        *(_QWORD *)(a1 + 0x6A8) = 0;
        *(_DWORD *)(a1 + 0x6A4) = 0;
        *(_QWORD *)(a1 + 0x770) = 0;
        *(_QWORD *)(a1 + 0x768) = 0;
        *(_QWORD *)(a1 + 0x760) = 0;
        *(_QWORD *)(a1 + 0x788) = 0;
        *(_QWORD *)(a1 + 0x780) = 0;
        *(_QWORD *)(a1 + 0x778) = 0;
        *(_QWORD *)(a1 + 0x7DC) = 0;
        *(_DWORD *)(a1 + 0x7D8) = 0;
        *(_QWORD *)(a1 + 0x7E8) = 0;
        *(_DWORD *)(a1 + 0x7E4) = 0;
        *(_QWORD *)(a1 + 0x7F4) = 0;
        *(_DWORD *)(a1 + 0x7F0) = 0;
        *(_QWORD *)(a1 + 0x800) = 0;
        *(_DWORD *)(a1 + 0x7FC) = 0;
        *(_QWORD *)(a1 + 0x6B8) = 0;
        *(_QWORD *)(a1 + 0x6B0) = 0;
        v333 = *(_QWORD *)(a1 + 0x980);
        v371 = 0;
        if ( v333 != *(_QWORD *)(a1 + 0x988) )
          *(_QWORD *)(a1 + 0x988) = v333;
        v330 = 1;
      }
      if ( !*(_DWORD *)(v15 + 0x60) && *(_DWORD *)(a1 + 0x844) == 1 )
      {
        *(_DWORD *)(a1 + 0x208) &= ~0x20000000u;
        *(_DWORD *)(a1 + 0x844) = 0;
        v371 = 1;
        goto LABEL_226;
      }
      if ( v330 )
      {
LABEL_226:
        n0x40_2 = 0;
        v335 = 1;
        v336 = 0;
        do
        {
          v337 = *(_QWORD *)(a1 + 0x500);
          if ( v335 > v337 )
            break;
          if ( (v337 & v335) != 0 )
          {
            v338 = *(_DWORD **)(v336 + *(_QWORD *)(a1 + 0x4F0));
            if ( v338 )
            {
              if ( v338[0x3D] < 7u )
                (*(void (__fastcall **)(_DWORD *, __int64))(*(_QWORD *)v338 + 0x268LL))(v338, 1);
            }
          }
          ++n0x40_2;
          v335 = __ROL8__(v335, 1);
          v336 += 0x100;
        }
        while ( n0x40_2 < 0x40 );
      }
    }
    if ( v371 )
    {
      v339 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v339 )
        sub_1403DE750(a1 + 0xC8, v339, 0, (__int64)"CRigidEntity::SetParams", (__int64)"m_lockUpdate", 1);
      (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x348LL))(a1, 0xFFFFFFFFLL, 1);
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000_2 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_2);
      }
    }
    v341 = *(_DWORD *)(v15 + 4);
    if ( v341 != 0x80000000 )
    {
      *(_DWORD *)(a1 + 0xF4) = v341;
      v342 = 1 - v341;
      v343 = *(_QWORD *)(a1 + 0x2C0);
      *(_DWORD *)(a1 + 0x4AC) = v342 >> 0x1F;
      sub_14693D8B0(v343, a1, 2);
    }
    v344 = *(_DWORD *)(v15 + 0x4C);
    if ( v344 != 0x80000000 && v344 != *(_DWORD *)(a1 + 0x4B4) )
    {
      v345 = *(_QWORD *)(a1 + 0x890);
      if ( v345 )
      {
        sub_1402A63C0(v345);
        *(_QWORD *)(a1 + 0x890) = 0;
      }
      n0x80_1 = *(_DWORD *)(v15 + 0x4C);
      if ( n0x80_1 >= 0 )
      {
        n0x80 = 0x80;
        if ( n0x80_1 < 0x80 )
          n0x80 = *(_DWORD *)(v15 + 0x4C);
        *(_DWORD *)(a1 + 0x4B4) = n0x80;
        if ( n0x80 )
        {
          n0x80_2 = n0x80;
          allocSize = 8LL * n0x80;
          if ( !is_mul_ok(n0x80_2, 8u) )
            allocSize = 0xFFFFFFFFFFFFFFFFuLL;
          *(_QWORD *)(a1 + 0x890) = sub_1402A63D0(allocSize);
        }
      }
      else
      {
        *(_DWORD *)(a1 + 0x4B4) = 0;
      }
      *(_QWORD *)(a1 + 0x4B8) = *(unsigned int *)(a1 + 0x4B4);
      *(_DWORD *)(a1 + 0x4B0) = 0;
      *(_DWORD *)(a1 + 0x89C) = 0x501502F9;
    }
    v350 = *(_DWORD *)(v15 + 0x50);
    if ( v350 != 0x80000000 )
      *(_DWORD *)(a1 + 0x4A4) ^= (*(_DWORD *)(a1 + 0x4A4) ^ (v350 << 0x1B)) & 0x8000000;
    v351 = *(float *)(v15 + 0x54);
    *(float *)&v370 = v351;
    if ( (LODWORD(v351) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0x588) = v351;
    v352 = *(_DWORD *)(v15 + 0x58);
    if ( v352 != 0x80000000 )
      *(_DWORD *)(a1 + 0x510) = v352;
    v353 = *(_DWORD *)(v15 + 0x5C);
    if ( v353 != 0x80000000 )
      *(_BYTE *)(a1 + 0x384) = *(_BYTE *)(a1 + 0x384) & 0xFE | (v353 != 0);
    v354 = *(_DWORD *)(v15 + 0x44);
    if ( v354 != 0x80000000 )
      *(_DWORD *)(a1 + 0x4A8) = *(_DWORD *)(a1 + 0x4A8) & 0xFFFFFBFF | (v354 != 0 ? 0x400 : 0);
    v355 = *(_DWORD *)(v15 + 0x48);
    if ( v355 != 0x80000000 )
      *(_DWORD *)(a1 + 0x4A8) = *(_DWORD *)(a1 + 0x4A8) & 0xFFFFF7FF | (v355 != 0 ? 0x800 : 0);
    v356 = *(_DWORD *)(v15 + 0x6C);
    if ( v356 != 0x80000000 )
      *(_BYTE *)(a1 + 0x514) = v356 != 0;
    v428 = __rdtsc();
    qword_149A0FD88(&n0x2800_4);
    v17 = 1;
    goto LABEL_127;
  }
  n0x2800_5 = 0x2800;
  v418 = 0;
  v419 = 0;
  v421 = 0;
  v422 = 0;
  v423 = 0;
  v420 = 1;
  qword_149A0FD80(&n0x2800_5, 0, &Source, &Source, 0);
  if ( *(_QWORD *)(v15 + 0x70) != 0xFFFFFFFFFFFFFFFFuLL )
  {
    sub_14693D8B0(*(_QWORD *)(a1 + 0x2C0), a1, 0x80);
    goto LABEL_121;
  }
  LODWORD(v370) = *(_DWORD *)(v15 + 0x60);
  if ( (v370 & 0xFFA00000) != 0xFFA00000
    || (LODWORD(v370) = *(_DWORD *)(v15 + 0x64), (v370 & 0xFFA00000) != 0xFFA00000)
    || (LODWORD(v370) = *(_DWORD *)(v15 + 0x10), (v370 & 0xFFA00000) != 0xFFA00000)
    || (LODWORD(v370) = *(_DWORD *)(v15 + 0x28), (v370 & 0xFFA00000) != 0xFFA00000)
    || (LODWORD(v370) = *(_DWORD *)(v15 + 0x34), (v370 & 0xFFA00000) != 0xFFA00000) )
  {
LABEL_121:
    if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1) != 6 )
    {
      if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
      {
        *(_WORD *)(a1 + 0x106) |= 4u;
        sub_14693A1E0(*(_QWORD *)(a1 + 0x2C0), a1);
      }
      else
      {
        (*(void (__fastcall **)(__int64, unsigned __int64, __int64))(*(_QWORD *)a1 + 0x348LL))(
          a1,
          0xFFFFFFFFFFFFFFFFuLL,
          1);
      }
    }
  }
  v421 = __rdtsc();
  qword_149A0FD88(&n0x2800_5);
LABEL_126:
  v17 = v23;
LABEL_127:
  if ( *v473 == 0x23 )
  {
    v280 = v472;
    v281 = (signed __int32 *)(v472 + 0xFC);
    _m_prefetchw((const void *)(v472 + 0xFC));
    v282 = *v281;
    do
    {
      v283 = v282;
      v282 = _InterlockedCompareExchange((volatile signed __int32 *)(v280 + 0xFC), v282 & 0xFFFFDFFF, v282);
    }
    while ( v283 != v282 );
    LODWORD(v370) = v282;
  }
LABEL_131:
  v449 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v17;
}

// --- End Function: sub_1467EC4C0 (0x1467EC4C0) ---

// --- Function: sub_1467EF210 (0x1467EF210) ---
__int64 __fastcall sub_1467EF210(__int64 a1, __int64 a2, int a3)
{
  unsigned int v3; // r14d
  int v7; // r15d
  bool v8; // r12
  int v9; // r9d
  int v10; // eax
  int v11; // edx
  int v12; // r8d
  char v13; // cl
  int v14; // r9d
  char v15; // al
  int n0x10000020; // r8d
  __int64 v17; // rbx
  volatile signed __int64 *v18; // rbx
  __int64 v19; // rax
  unsigned __int64 n0x200000; // rax
  __int64 v21; // rax
  _DWORD *v22; // rcx
  __int64 v23; // rbx
  __int64 v24; // rax
  _QWORD *v25; // rax
  int v26; // eax
  __int64 i; // rbx
  char *v28; // rdx
  unsigned int v29; // edx
  __int64 v30; // rbx
  volatile signed __int64 *v31; // rbx
  __int64 v32; // rax
  unsigned __int64 n0x200000_1; // rax
  __int64 v34; // rax
  __int64 v35; // rax
  _DWORD *v36; // rcx
  bool v37; // zf
  unsigned int v38; // eax
  int n0xF; // ecx
  unsigned int v40; // ebx
  unsigned int n0x3F; // eax
  __int64 v42; // rax
  bool v43; // cl
  __int64 v44; // rbx
  float v45; // xmm0_4
  float v46; // xmm2_4
  float v47; // xmm0_4
  float v48; // xmm2_4
  float v49; // xmm3_4
  float v50; // xmm4_4
  __int128 v51; // kr00_16
  float v53; // xmm2_4
  int v56; // eax
  int v57; // eax
  BOOL v58; // ecx
  __int64 v59; // rcx
  __int64 v60; // rcx
  unsigned __int64 n0x200000_2; // rax
  __int64 v62; // rax
  int v63; // eax
  int v64; // eax
  int v65; // eax
  const void *v66; // r12
  __int64 v67; // rax
  size_t Size; // r13
  __int64 v69; // rax
  _QWORD *v70; // rbx
  char *v71; // rsi
  __int64 *v72; // rdi
  __int64 v73; // rcx
  __int128 v74; // xmm0
  char *v75; // rax
  __int64 v76; // rdx
  signed __int32 *v77; // roff
  signed __int32 v78; // eax
  signed __int32 v79; // ett
  __int128 v81; // [rsp+40h] [rbp-C0h] BYREF
  int n0x2800_1; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v83; // [rsp+64h] [rbp-9Ch]
  int v84; // [rsp+6Ch] [rbp-94h]
  __int64 v85; // [rsp+70h] [rbp-90h]
  unsigned __int64 v86; // [rsp+78h] [rbp-88h]
  __int64 v87; // [rsp+80h] [rbp-80h]
  __int64 v88; // [rsp+88h] [rbp-78h]
  int n0x2800; // [rsp+B0h] [rbp-50h] BYREF
  __int64 v90; // [rsp+B4h] [rbp-4Ch]
  int v91; // [rsp+BCh] [rbp-44h]
  __int64 v92; // [rsp+C0h] [rbp-40h]
  unsigned __int64 v93; // [rsp+C8h] [rbp-38h]
  __int64 v94; // [rsp+D0h] [rbp-30h]
  __int64 v95; // [rsp+D8h] [rbp-28h]
  char v96[8]; // [rsp+100h] [rbp+0h] BYREF
  __int64 v97; // [rsp+108h] [rbp+8h]
  _DWORD *v98; // [rsp+118h] [rbp+18h]
  int v99; // [rsp+120h] [rbp+20h]
  unsigned int v100; // [rsp+124h] [rbp+24h]

  v3 = 0;
  n0x2800 = 0x2800;
  v90 = 0;
  v91 = 0;
  v93 = 0;
  v7 = 1;
  v94 = 0;
  v95 = 0;
  v92 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  sub_14676ED20((__int64)v96, a1, *(_QWORD *)(a1 + 0x2C0), (int *)a2, a3, 0, 0, 0);
  if ( v99 )
  {
    v3 = v100;
    goto LABEL_60;
  }
  v8 = 0;
  if ( *(_DWORD *)a2 == 0xF )
  {
    if ( *(int *)(a1 + 0xE8) < 0 )
      goto LABEL_60;
    v9 = *(_DWORD *)(a1 + 0x208);
    v10 = *(_DWORD *)(a2 + 4);
    v11 = *(_DWORD *)(a2 + 0xC);
    v12 = *(_DWORD *)(a2 + 8);
    v8 = (v9 & 8) != 0;
    if ( v10 == 0x80000000 )
      v10 = *(_DWORD *)(a1 + 0x208);
    v13 = v11 & v10;
    if ( v11 == 0x80000000 )
      v13 = v10;
    v14 = v9 & 8;
    v15 = v13 | v12;
    if ( v12 == 0x80000000 )
      v15 = v13;
    if ( (v15 & 8) != 0 )
    {
      if ( v14 )
        goto LABEL_44;
      if ( v12 == 0x80000000 )
        n0x10000020 = 0x10000020;
      else
        n0x10000020 = v12 | 0x10000020;
      *(_DWORD *)(a2 + 8) = n0x10000020;
      sub_14693A110(*(_QWORD *)(a1 + 0x2C0), a1);
      v17 = *(_QWORD *)(a1 + 0xB8);
      if ( v17 )
      {
        v18 = (volatile signed __int64 *)(v17 + 0x198);
        v19 = _InterlockedCompareExchange64(v18, 0x200000, 0);
        if ( v19 )
          sub_1403DE750((__int64)v18, v19, 0, (__int64)"CSpaceshipEntity::SetParams", (__int64)"m_pGrid->m_lockGrid", 1);
        sub_14691FB20(*(_QWORD *)(a1 + 0x2C0), a1);
        if ( v18 )
        {
          n0x200000 = _InterlockedCompareExchange64(v18, 0, 0x200000);
          if ( n0x200000 != 0x200000 )
            sub_1403DEBA0(v18, n0x200000);
        }
      }
      v21 = *(_QWORD *)(a1 + 0xB8);
      if ( v21 && (v22 = *(_DWORD **)(v21 + 0x1B8)) != 0 )
      {
        v23 = *(_QWORD *)(a1 + 0x2C0);
        if ( *v22 == 5 )
        {
          v24 = sub_146924C70(*(_QWORD *)(a1 + 0x2C0), a1);
          sub_1468E0B30(a1, v24, 0);
LABEL_28:
          v26 = *(_DWORD *)(a1 + 0x148) - 1;
          for ( i = v26; i >= 0; --i )
          {
            v28 = *(char **)(*(_QWORD *)(a1 + 0x140) + 8 * i);
            if ( v28 )
              sub_1467E0E20((char *)a1, v28, 1u, 1, 0);
          }
          *(_DWORD *)(a1 + 0x720) &= ~2u;
          goto LABEL_44;
        }
      }
      else
      {
        v23 = *(_QWORD *)(a1 + 0x2C0);
      }
      v25 = (_QWORD *)sub_146926410(v23, a1);
      sub_146941DA0(v23, a1, *v25);
      goto LABEL_28;
    }
    if ( v14 )
    {
      if ( v11 == 0x80000000 )
        v29 = 0xEFFFFFDF;
      else
        v29 = v11 & 0xEFFFFFDF;
      *(_DWORD *)(a2 + 0xC) = v29;
      sub_1469550B0(*(_QWORD *)(a1 + 0x2C0), a1);
      v30 = *(_QWORD *)(a1 + 0xB8);
      if ( v30 )
      {
        v31 = (volatile signed __int64 *)(v30 + 0x198);
        v32 = _InterlockedCompareExchange64(v31, 0x200000, 0);
        if ( v32 )
          sub_1403DE750((__int64)v31, v32, 0, (__int64)"CSpaceshipEntity::SetParams", (__int64)"m_pGrid->m_lockGrid", 1);
        sub_14691FB20(*(_QWORD *)(a1 + 0x2C0), a1);
        if ( v31 )
        {
          n0x200000_1 = _InterlockedCompareExchange64(v31, 0, 0x200000);
          if ( n0x200000_1 != 0x200000 )
            sub_1403DEBA0(v31, n0x200000_1);
        }
      }
      v34 = sub_146926410(*(_QWORD *)(a1 + 0x2C0), a1);
      sub_1468E0B30(a1, v34, 0);
      *(_DWORD *)(a1 + 0x720) |= 2u;
      *(_QWORD *)(a1 + 0x6D50) = 0xBFF0000000000000uLL;
    }
  }
LABEL_44:
  if ( !*(_DWORD *)a2 )
  {
    v35 = *(_QWORD *)(a2 + 0x40);
    if ( v35 != 0xFFFFFFFFFFFFFFFFuLL && (*(_BYTE *)(a1 + 0x208) & 8) != 0 && v35 )
    {
      v36 = *(_DWORD **)(v35 + 0x1B8);
      if ( v36 )
      {
        v37 = *v36 == 6;
      }
      else
      {
        v36 = *(_DWORD **)(v35 + 0x1B8);
        v37 = v36 == 0;
      }
      if ( !v37 && *v36 == 5 )
        *(_QWORD *)(a2 + 0x40) = sub_146924C70(*(_QWORD *)(a1 + 0x2C0), a1);
    }
  }
  v38 = sub_1467EC4C0(a1, a2, 1);
  n0xF = *(_DWORD *)a2;
  v40 = v38;
  if ( v38 )
  {
    if ( n0xF == 0xF && v8 && (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
    {
      sub_1467987E0(a1, a1 + 0x5B0);
      *(_DWORD *)(a1 + 0x698) = *(_DWORD *)(a1 + 0x68C);
      *(_DWORD *)(a1 + 0x69C) = *(_DWORD *)(a1 + 0x690);
      *(_DWORD *)(a1 + 0x6A0) = *(_DWORD *)(a1 + 0x694);
      *(_DWORD *)(a1 + 0x6A4) = *(_DWORD *)(a1 + 0x680);
      *(_DWORD *)(a1 + 0x6A8) = *(_DWORD *)(a1 + 0x684);
      *(_DWORD *)(a1 + 0x6AC) = *(_DWORD *)(a1 + 0x688);
    }
    v3 = v40;
LABEL_60:
    if ( v99 )
      goto LABEL_172;
    goto LABEL_169;
  }
  if ( n0xF != 0x1F )
  {
    if ( n0xF != 0x2D )
      goto LABEL_169;
    if ( *(int *)(a1 + 0xE8) < 0 )
    {
      v7 = 0;
      goto LABEL_168;
    }
    *(_QWORD *)(a1 + 0xA80) = *(_QWORD *)(a2 + 0x48);
    *(_QWORD *)(a1 + 0xA88) = *(_QWORD *)(a2 + 0x50);
    *(_QWORD *)(a1 + 0xA90) = *(_QWORD *)(a2 + 0x58);
    *(_QWORD *)(a1 + 0xA98) = *(_QWORD *)(a2 + 0x60);
    *(_OWORD *)(a1 + 0xAA0) = *(_OWORD *)(a2 + 0x68);
    *(double *)(a1 + 0xAB0) = *(double *)(a2 + 0x78);
    *(__m256i *)(a1 + 0xAF8) = *(__m256i *)(a2 + 0xA0);
    v63 = *(_DWORD *)(a2 + 0xC0);
    if ( v63 != 0x80000000 )
      *(_BYTE *)(a1 + 0xB18) = v63 != 0;
    v64 = *(_DWORD *)(a2 + 4);
    if ( v64 != 0x80000000 )
      *(_DWORD *)(a1 + 0xADC) = v64;
    if ( (*(_DWORD *)(a2 + 8) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0xA40) = *(float *)(a2 + 8);
    if ( (*(_DWORD *)(a2 + 0xC) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0xA44) = *(float *)(a2 + 0xC);
    if ( (*(_DWORD *)(a2 + 0x10) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0xA48) = *(float *)(a2 + 0x10);
    if ( (*(_DWORD *)(a2 + 0x14) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0xA4C) = *(float *)(a2 + 0x14);
    if ( (*(_DWORD *)(a2 + 0x80) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0xAD0) = *(float *)(a2 + 0x80);
    if ( (*(_DWORD *)(a2 + 0x84) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0xAD4) = *(float *)(a2 + 0x84);
    if ( (*(_DWORD *)(a2 + 0x88) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(a1 + 0xAD8) = *(float *)(a2 + 0x88);
    if ( (*(_DWORD *)(a2 + 0x18) & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(a1 + 0xA50) = *(double *)(a2 + 0x18);
      *(_DWORD *)(a1 + 0xA58) = *(_DWORD *)(a2 + 0x20);
    }
    if ( (*(_DWORD *)(a2 + 0x24) & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(a1 + 0xA5C) = *(double *)(a2 + 0x24);
      *(_DWORD *)(a1 + 0xA64) = *(_DWORD *)(a2 + 0x2C);
    }
    if ( (*(_DWORD *)(a2 + 0x30) & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(a1 + 0xA68) = *(double *)(a2 + 0x30);
      *(_DWORD *)(a1 + 0xA70) = *(_DWORD *)(a2 + 0x38);
    }
    if ( (*(_DWORD *)(a2 + 0x3C) & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(a1 + 0xA74) = *(double *)(a2 + 0x3C);
      *(_DWORD *)(a1 + 0xA7C) = *(_DWORD *)(a2 + 0x44);
    }
    v65 = *(_DWORD *)(a2 + 0x8C);
    if ( v65 != 0x80000000 )
      *(_BYTE *)(a1 + 0xAF4) = v65 != 0;
    v66 = *(const void **)(a2 + 0x90);
    if ( !v66 )
      goto LABEL_168;
    v67 = *(int *)(a2 + 0x98);
    if ( (int)v67 <= 0 )
      goto LABEL_168;
    Size = 4 * v67;
    v81 = 0;
    if ( (unsigned __int64)(4 * v67) < 0x1000 )
    {
      if ( Size )
      {
        __asm { vzeroupper }
        v70 = (_QWORD *)sub_1402A63D0(4 * v67);
      }
      else
      {
        v70 = 0;
      }
    }
    else
    {
      __asm { vzeroupper }
      if ( Size + 0x27 < Size )
        sub_1402E2610();
      v69 = sub_1402A63D0(Size + 0x27);
      if ( !v69 )
        goto LABEL_166;
      v70 = (_QWORD *)((v69 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
      v70[0xFFFFFFFF] = v69;
    }
    *(_QWORD *)&v81 = v70;
    v71 = (char *)v70 + Size;
    __asm { vzeroupper }
    memmove(v70, v66, Size);
    *((_QWORD *)&v81 + 1) = (char *)v70 + Size;
    v72 = (__int64 *)(a1 + 0xAB8);
    if ( v72 != (__int64 *)&v81 )
    {
      v73 = *v72;
      if ( *v72 )
      {
        if ( (unsigned __int64)(4 * ((v72[2] - v73) >> 2)) >= 0x1000 )
        {
          if ( (unsigned __int64)(v73 - *(_QWORD *)(v73 - 8) - 8) > 0x1F )
            goto LABEL_166;
          v73 = *(_QWORD *)(v73 - 8);
        }
        sub_1402A63C0(v73);
        v72[1] = 0;
      }
      v74 = v81;
      v72[2] = (__int64)v71;
      v70 = 0;
      *(_OWORD *)v72 = v74;
      v71 = 0;
    }
    if ( !v70 )
      goto LABEL_168;
    v75 = (char *)v70;
    if ( (unsigned __int64)(4 * ((v71 - (char *)v70) >> 2)) < 0x1000
      || (v70 = (_QWORD *)v70[0xFFFFFFFF], (unsigned __int64)(v75 - (char *)v70 - 8) <= 0x1F) )
    {
      sub_1402A63C0((__int64)v70);
      goto LABEL_168;
    }
LABEL_166:
    invalid_parameter_noinfo_noreturn();
  }
  n0x2800_1 = 0x2800;
  v83 = 0;
  v84 = 0;
  v86 = 0;
  v87 = 0;
  v88 = 0;
  v85 = 1;
  qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
  n0x3F = *(_DWORD *)(a2 + 4);
  if ( n0x3F != 0x80000000 && n0x3F <= 0x3F )
  {
    v42 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x6D58), 0x200000, 0);
    if ( v42 )
      sub_1403DE750(a1 + 0x6D58, v42, 0, (__int64)"CSpaceshipEntity::SetParams", (__int64)"m_lockSpaceship", 1);
    v43 = 0;
    v44 = 0x188LL * *(int *)(a2 + 4);
    if ( (*(_DWORD *)(a2 + 0x10) & 0xFFA00000) != 0xFFA00000 )
    {
      *(double *)(v44 + a1 + 0xB20) = *(double *)(a2 + 0x10);
      *(_DWORD *)(v44 + a1 + 0xB28) = *(_DWORD *)(a2 + 0x18);
    }
    if ( (*(_DWORD *)(a2 + 0x28) & 0xFFA00000) != 0xFFA00000 )
    {
      *(_DWORD *)(v44 + a1 + 0xB2C) = *(_DWORD *)(a2 + 0x1C);
      *(_DWORD *)(v44 + a1 + 0xB30) = *(_DWORD *)(a2 + 0x20);
      *(_DWORD *)(v44 + a1 + 0xB34) = *(_DWORD *)(a2 + 0x24);
      *(_DWORD *)(v44 + a1 + 0xB38) = *(_DWORD *)(a2 + 0x28);
    }
    v45 = *(float *)(a2 + 0x2C);
    if ( (LODWORD(v45) & 0xFFA00000) != 0xFFA00000 )
    {
      v46 = *(float *)(v44 + a1 + 0xB3C);
      *(float *)(v44 + a1 + 0xB40) = v45;
      if ( v46 < 0.0 || v46 > v45 )
        *(float *)(v44 + a1 + 0xB3C) = v45;
      v43 = *(float *)(v44 + a1 + 0xB48) > 0.0;
    }
    v47 = *(float *)(a2 + 0x30);
    if ( (LODWORD(v47) & 0xFFA00000) != 0xFFA00000 )
    {
      v48 = *(float *)(v44 + a1 + 0xB3C);
      *(float *)(v44 + a1 + 0xB44) = v47;
      if ( v48 > 0.0 && v48 < v47 )
        *(float *)(v44 + a1 + 0xB3C) = v47;
      v43 = *(float *)(v44 + a1 + 0xB48) > 0.0;
    }
    if ( (*(_DWORD *)(a2 + 0x34) & 0xFFA00000) == 0xFFA00000 )
    {
      if ( !v43 )
        goto LABEL_89;
    }
    else
    {
      *(float *)(v44 + a1 + 0xB48) = *(float *)(a2 + 0x34);
    }
    v49 = *(float *)(v44 + a1 + 0xB44);
    if ( v49 > 0.0 )
    {
      v50 = *(float *)(v44 + a1 + 0xB40);
      if ( v50 > 0.0 )
      {
        v51 = *(unsigned int *)(v44 + a1 + 0xB40);
        *(float *)&v51 = v50 - v49;
        _XMM0 = v51;
        __asm { vmaxss  xmm1, xmm0, xmm1 }
        v53 = *(float *)&_XMM1 * 0.1;
        _XMM1 = *(unsigned int *)(v44 + a1 + 0xB48);
        *(float *)&_XMM0 = v49 + v53;
        if ( *(float *)&_XMM1 >= (float)(v49 + v53) )
          __asm { vminss  xmm0, xmm1, xmm5 }
        *(float *)(v44 + a1 + 0xB48) = *(float *)&_XMM0;
        *(_DWORD *)(v44 + a1 + 0xB54) = 0x3F800000;
      }
    }
LABEL_89:
    if ( (*(_DWORD *)(a2 + 0x38) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(v44 + a1 + 0xB4C) = *(float *)(a2 + 0x38);
    if ( (*(_DWORD *)(a2 + 0x3C) & 0xFFA00000) != 0xFFA00000 )
      *(float *)(v44 + a1 + 0xB50) = *(float *)(a2 + 0x3C);
    v56 = *(_DWORD *)(a2 + 0xC);
    if ( v56 != 0x80000000 )
      *(_BYTE *)(a1 + 0x6D61) = v56 != 0;
    v57 = *(_DWORD *)(v44 + a1 + 0xB84);
    v58 = *(_DWORD *)(a2 + 8) != 0;
    *(_DWORD *)(v44 + a1 + 0xB84) = v58;
    if ( v57 )
    {
      if ( !v58 )
      {
        v59 = *(_QWORD *)(v44 + a1 + 0xB98);
        *(_QWORD *)(v44 + a1 + 0xB98) = 0;
        if ( v59 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v59 + 0x168LL))(v59, 0);
        v60 = *(_QWORD *)(v44 + a1 + 0xB90);
        *(_QWORD *)(v44 + a1 + 0xB90) = 0;
        if ( v60 )
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v60 + 0x168LL))(v60, 0);
      }
    }
    else if ( v58 )
    {
      *(_DWORD *)(v44 + a1 + 0xB3C) = *(_DWORD *)(v44 + a1 + 0xB40);
    }
    if ( !*(_DWORD *)(a1 + 0x4AC) )
      *(_DWORD *)(v44 + a1 + 0xB88) |= 1u;
    if ( a1 == 0xFFFFFFFFFFFF92A8uLL )
      goto LABEL_115;
    n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x6D58), 0, 0x200000);
    if ( n0x200000_2 == 0x200000 )
      goto LABEL_115;
    goto LABEL_107;
  }
  if ( *(_DWORD *)(a2 + 0xC) == 0x80000000 )
  {
    v7 = 0;
    goto LABEL_115;
  }
  v62 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x6D58), 0x200000, 0);
  if ( v62 )
    sub_1403DE750(a1 + 0x6D58, v62, 0, (__int64)"CSpaceshipEntity::SetParams", (__int64)"m_lockSpaceship", 1);
  *(_BYTE *)(a1 + 0x6D61) = *(_DWORD *)(a2 + 0xC) != 0;
  if ( a1 == 0xFFFFFFFFFFFF92A8uLL )
    goto LABEL_115;
  n0x200000_2 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x6D58), 0, 0x200000);
  if ( n0x200000_2 == 0x200000 )
    goto LABEL_115;
LABEL_107:
  sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x6D58), n0x200000_2);
LABEL_115:
  v86 = __rdtsc();
  qword_149A0FD88(&n0x2800_1);
LABEL_168:
  v3 = v7;
LABEL_169:
  if ( *v98 == 0x23 )
  {
    v76 = v97;
    v77 = (signed __int32 *)(v97 + 0xFC);
    _m_prefetchw((const void *)(v97 + 0xFC));
    v78 = *v77;
    do
    {
      v79 = v78;
      v78 = _InterlockedCompareExchange((volatile signed __int32 *)(v76 + 0xFC), v78 & 0xFFFFDFFF, v78);
    }
    while ( v79 != v78 );
  }
LABEL_172:
  v93 = __rdtsc();
  __asm { vzeroupper }
  qword_149A0FD88(&n0x2800);
  return v3;
}

// --- End Function: sub_1467EF210 (0x1467EF210) ---

// --- Function: sub_1467F1480 (0x1467F1480) ---
__int64 __fastcall sub_1467F1480(_DWORD *a1, _QWORD *a2, unsigned int a3)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  __int64 v16; // rax
  float v17; // eax
  bool v18; // zf
  bool v19; // sf
  bool v20; // of
  double v21; // xmm1_8
  double v22; // xmm0_8
  int v23; // eax
  double v24; // xmm0_8
  _QWORD *v25; // rax
  __int64 v26; // r8
  float **v27; // rbx
  float **v28; // rbx
  double *v29; // rax
  float *v30; // rax
  float v31; // xmm10_4
  float v32; // xmm12_4
  float v33; // xmm9_4
  float v34; // xmm8_4
  float v35; // xmm13_4
  float v36; // xmm14_4
  float v37; // xmm0_4
  float v38; // xmm2_4
  __int64 v39; // rax
  float **v40; // rax
  float *v41; // rcx
  float v42; // xmm4_4
  float v43; // xmm12_4
  float v44; // xmm10_4
  float v45; // xmm14_4
  float v46; // xmm7_4
  float v47; // xmm6_4
  float v48; // xmm4_4
  __int128 v49; // kr00_16
  float *v54; // rcx
  float v55; // xmm4_4
  float v56; // xmm12_4
  float v57; // xmm10_4
  float v58; // xmm14_4
  float v59; // xmm7_4
  float v60; // xmm6_4
  float v61; // xmm3_4
  __int128 v62; // kr00_16
  float v64; // xmm5_4
  __int64 v65; // rax
  int n0x3F; // edi
  __int64 n0x3F_1; // rbx
  __int64 v69; // rax
  __int64 v70; // rdx
  __int64 v71; // rcx
  int v72; // eax
  __int64 v73; // rcx
  __int64 v74; // r8
  __int64 v75; // rcx
  __int64 v76; // rdi
  size_t Size; // rax
  size_t Size_1; // rax
  float **v80; // [rsp+30h] [rbp-D0h]
  _BYTE v81[4]; // [rsp+40h] [rbp-C0h] BYREF
  float v82[3]; // [rsp+44h] [rbp-BCh] BYREF
  double v83; // [rsp+50h] [rbp-B0h] BYREF
  float v84; // [rsp+58h] [rbp-A8h]
  _BYTE v85[20]; // [rsp+60h] [rbp-A0h] BYREF
  float v86; // [rsp+74h] [rbp-8Ch]
  double v87; // [rsp+78h] [rbp-88h]
  float v88; // [rsp+80h] [rbp-80h]
  int v89; // [rsp+84h] [rbp-7Ch]
  double v90[3]; // [rsp+90h] [rbp-70h] BYREF
  float v91; // [rsp+A8h] [rbp-58h]
  float v92; // [rsp+ACh] [rbp-54h]
  float v93; // [rsp+B0h] [rbp-50h]
  char v94; // [rsp+B8h] [rbp-48h]
  float v95; // [rsp+BCh] [rbp-44h]
  float v96; // [rsp+C0h] [rbp-40h]
  float v97; // [rsp+C4h] [rbp-3Ch]
  float v98; // [rsp+C8h] [rbp-38h]
  float v99; // [rsp+CCh] [rbp-34h]
  float v100; // [rsp+D0h] [rbp-30h]
  float v101; // [rsp+D4h] [rbp-2Ch]
  double v102; // [rsp+E0h] [rbp-20h] BYREF
  int v103; // [rsp+E8h] [rbp-18h]
  __int128 v104; // [rsp+F0h] [rbp-10h] BYREF
  double v105; // [rsp+100h] [rbp+0h]
  int v106; // [rsp+110h] [rbp+10h] BYREF
  __int128 v107; // [rsp+118h] [rbp+18h]
  __int64 v108; // [rsp+128h] [rbp+28h]
  float v109; // [rsp+130h] [rbp+30h]
  float v110; // [rsp+134h] [rbp+34h]
  float v111; // [rsp+138h] [rbp+38h]
  float v112; // [rsp+13Ch] [rbp+3Ch]
  unsigned int v113; // [rsp+140h] [rbp+40h]
  int v114; // [rsp+144h] [rbp+44h]
  int n0x70; // [rsp+148h] [rbp+48h]
  char v116; // [rsp+14Ch] [rbp+4Ch]
  unsigned __int64 v117; // [rsp+150h] [rbp+50h]
  int n4; // [rsp+160h] [rbp+60h] BYREF
  unsigned int v119; // [rsp+164h] [rbp+64h] BYREF
  __int64 v120; // [rsp+168h] [rbp+68h]
  char v121[4]; // [rsp+170h] [rbp+70h] BYREF
  unsigned int v122; // [rsp+174h] [rbp+74h]
  char v123[4]; // [rsp+188h] [rbp+88h] BYREF
  unsigned int v124; // [rsp+18Ch] [rbp+8Ch]
  unsigned int v125; // [rsp+1A0h] [rbp+A0h] BYREF
  unsigned int v126; // [rsp+1A4h] [rbp+A4h] BYREF
  char v127[12]; // [rsp+1A8h] [rbp+A8h] BYREF
  unsigned int v128; // [rsp+1B4h] [rbp+B4h]
  char v129[12]; // [rsp+1B8h] [rbp+B8h] BYREF
  unsigned int v130; // [rsp+1C4h] [rbp+C4h]
  unsigned int v131; // [rsp+1C8h] [rbp+C8h] BYREF
  char v132[4]; // [rsp+1CCh] [rbp+CCh] BYREF
  unsigned int v133; // [rsp+1D0h] [rbp+D0h] BYREF
  char v134[4]; // [rsp+1D4h] [rbp+D4h] BYREF
  int n2; // [rsp+1D8h] [rbp+D8h] BYREF
  unsigned int v136; // [rsp+1DCh] [rbp+DCh] BYREF
  unsigned int v137; // [rsp+1E0h] [rbp+E0h] BYREF
  unsigned int v138; // [rsp+1E4h] [rbp+E4h] BYREF
  _DWORD v139[10]; // [rsp+1E8h] [rbp+E8h] BYREF
  unsigned __int64 v140; // [rsp+210h] [rbp+110h]
  int v141; // [rsp+218h] [rbp+118h]
  unsigned int v142; // [rsp+21Ch] [rbp+11Ch]
  unsigned int v143; // [rsp+228h] [rbp+128h]
  unsigned int v144; // [rsp+234h] [rbp+134h]
  unsigned int v145; // [rsp+240h] [rbp+140h]
  unsigned int v146; // [rsp+24Ch] [rbp+14Ch]
  unsigned int v147; // [rsp+264h] [rbp+164h]
  unsigned int v148; // [rsp+268h] [rbp+168h]
  unsigned int v149; // [rsp+274h] [rbp+174h]
  _BYTE v150[4]; // [rsp+280h] [rbp+180h] BYREF
  int v151; // [rsp+284h] [rbp+184h]
  int v152; // [rsp+290h] [rbp+190h]
  int v153; // [rsp+31Ch] [rbp+21Ch]
  __int128 v154; // [rsp+3A0h] [rbp+2A0h]
  __int128 v155; // [rsp+3B0h] [rbp+2B0h]
  __int128 v156; // [rsp+3C0h] [rbp+2C0h]
  __int128 v157; // [rsp+3D0h] [rbp+2D0h]
  __int128 v158; // [rsp+3E0h] [rbp+2E0h]
  __int128 v159; // [rsp+3F0h] [rbp+2F0h]
  __int128 v160; // [rsp+400h] [rbp+300h]
  __int128 v161; // [rsp+410h] [rbp+310h]
  __int128 v162; // [rsp+420h] [rbp+320h]
  __int128 v163; // [rsp+430h] [rbp+330h]

  v163 = v3;
  v16 = sub_14035C590((__int64)&v104, (__int64)a2);
  sub_1468E8690(a1, v16, a3);
  v17 = *((float *)a1 + 0x1A2);
  v20 = __OFSUB__(a1[0x3D], 1);
  v18 = a1[0x3D] == 1;
  v19 = a1[0x3D] - 1 < 0;
  v21 = *((double *)a1 + 0x3A);
  *(_OWORD *)v85 = *(_OWORD *)(a1 + 0x76);
  v22 = *((double *)a1 + 0xD0);
  v84 = v17;
  v23 = a1[0x1A5];
  v83 = v22;
  v24 = *(double *)(a1 + 0x1A3);
  v103 = v23;
  v80 = (float **)*((_QWORD *)a1 + 0x17);
  v102 = v24;
  v104 = *((_OWORD *)a1 + 0x1C);
  v105 = v21;
  sub_146770F50((__int64)v90, (double *)&v104, (float *)v85, (__int64)&v102, (__int64)&v83, !(v19 ^ v20 | v18), v80);
  v25 = (_QWORD *)sub_14035C590((__int64)&v104, (__int64)a2);
  sub_1467E40D0((__int64)v90, v25);
  if ( !v94 )
  {
    v27 = (float **)*((_QWORD *)a1 + 0x17);
    v83 = 0.0;
    v84 = 0.0;
    sub_1467F2210(v90, &v83, v27);
    v83 = 0.0;
    v84 = 0.0;
    sub_1467E41A0((float *)v90, (float *)&v83, v27);
  }
  if ( *((_QWORD *)a1 + 0x58) )
  {
    v28 = (float **)*((_QWORD *)a1 + 0x17);
    v156 = v10;
    v155 = v11;
    v154 = v12;
    v162 = v4;
    v161 = v5;
    v160 = v6;
    v159 = v7;
    v158 = v8;
    v157 = v9;
    v106 = 0;
    DWORD1(v107) = 0xFFF7FFFF;
    v113 = 0xFFBFFFFF;
    v117 = 0xFFFFFFFFFFFFFFFFuLL;
    v116 = v116 & 0xF0 | 8;
    n0x70 = 0x70;
    *(_QWORD *)v85 = 0x8000000000000008uLL;
    *(_DWORD *)&v85[8] = 0x80000000;
    v89 = 0;
    v29 = sub_1467C49B0(v90, (double *)&v104, v28);
    v107 = *(_OWORD *)v29;
    v108 = *((_QWORD *)v29 + 2);
    if ( v28 && (v30 = *v28) != 0 )
    {
      v31 = v30[0x79];
      LODWORD(v32) = *((_DWORD *)v30 + 0x76) ^ 0x80000000;
      LODWORD(v33) = *((_DWORD *)v30 + 0x77) ^ 0x80000000;
      LODWORD(v34) = *((_DWORD *)v30 + 0x78) ^ 0x80000000;
      v35 = (float)(v98 * v31) - (float)((float)((float)(v95 * v32) + (float)(v96 * v33)) + (float)(v97 * v34));
      v36 = (float)((float)((float)(v95 * v34) - (float)(v97 * v32)) + (float)(v96 * v31)) + (float)(v98 * v33);
      v82[0] = (float)((float)((float)(v96 * v32) - (float)(v95 * v33)) + (float)(v97 * v31)) + (float)(v98 * v34);
      v37 = v82[0];
      v38 = (float)((float)((float)(v97 * v33) - (float)(v96 * v34)) + (float)(v95 * v31)) + (float)(v98 * v32);
    }
    else
    {
      v35 = v98;
      v36 = v96;
      v37 = v97;
      v38 = v95;
    }
    v114 = (v94 != 0) + 1;
    v39 = *(_QWORD *)a1;
    v109 = v38;
    v110 = v36;
    v111 = v37;
    v112 = v35;
    (*(void (__fastcall **)(_DWORD *, int *, _QWORD))(v39 + 0x18))(a1, &v106, 0);
    v40 = (float **)*((_QWORD *)a1 + 0x17);
    if ( v40 && (v41 = *v40) != 0 )
    {
      v42 = v41[0x79];
      v43 = v41[0x77];
      v44 = v41[0x78];
      v45 = v41[0x76];
      v46 = (float)((float)(v91 * COERCE_FLOAT(LODWORD(v44) ^ 0x80000000))
                  - (float)(v93 * COERCE_FLOAT(LODWORD(v45) ^ 0x80000000)))
          + (float)(v42 * v92);
      v47 = (float)(v44 * v46)
          - (float)(v43
                  * (float)((float)((float)(v92 * COERCE_FLOAT(LODWORD(v45) ^ 0x80000000))
                                  - (float)(v91 * COERCE_FLOAT(LODWORD(v43) ^ 0x80000000)))
                          + (float)(v42 * v93)));
      v48 = (float)(v43
                  * (float)((float)((float)(v93 * COERCE_FLOAT(LODWORD(v43) ^ 0x80000000))
                                  - (float)(v92 * COERCE_FLOAT(LODWORD(v44) ^ 0x80000000)))
                          + (float)(v42 * v91)))
          - (float)(v45 * v46);
      v49 = LODWORD(v91);
      *(float *)&v49 = (float)(v91 + v47) + v47;
      _XMM3 = v49;
      __asm { vunpcklps xmm0, xmm3, xmm2 }
      *(double *)&v85[0xC] = *(double *)&_XMM0;
      v86 = (float)(v93 + v48) + v48;
    }
    else
    {
      _XMM1 = LODWORD(v91);
      __asm { vunpcklps xmm1, xmm1, xmm0 }
      *(double *)&v85[0xC] = *(double *)&_XMM1;
      v86 = v93;
      if ( !v40 )
        goto LABEL_14;
    }
    v54 = *v40;
    if ( *v40 )
    {
      v55 = v54[0x79];
      v56 = v54[0x77];
      v57 = v54[0x78];
      v58 = v54[0x76];
      v59 = (float)((float)(v99 * COERCE_FLOAT(LODWORD(v57) ^ 0x80000000))
                  - (float)(v101 * COERCE_FLOAT(LODWORD(v58) ^ 0x80000000)))
          + (float)(v100 * v55);
      v60 = (float)(v59 * v57)
          - (float)((float)((float)((float)(v100 * COERCE_FLOAT(LODWORD(v58) ^ 0x80000000))
                                  - (float)(v99 * COERCE_FLOAT(LODWORD(v56) ^ 0x80000000)))
                          + (float)(v101 * v55))
                  * v56);
      v61 = (float)(v56
                  * (float)((float)((float)(v101 * COERCE_FLOAT(LODWORD(v56) ^ 0x80000000))
                                  - (float)(v100 * COERCE_FLOAT(LODWORD(v57) ^ 0x80000000)))
                          + (float)(v99 * v55)))
          - (float)(v59 * v58);
      v62 = LODWORD(v99);
      *(float *)&v62 = (float)(v99 + v60) + v60;
      _XMM4 = v62;
      v64 = (float)(v101 + v61) + v61;
LABEL_15:
      v65 = *(_QWORD *)a1;
      __asm { vunpcklps xmm0, xmm4, xmm2 }
      v88 = v64;
      v87 = *(double *)&_XMM0;
      (*(void (__fastcall **)(_DWORD *, _BYTE *, _QWORD))(v65 + 0x30))(a1, v85, 0);
      goto LABEL_16;
    }
LABEL_14:
    _XMM4 = LODWORD(v99);
    v64 = v101;
    goto LABEL_15;
  }
LABEL_16:
  LOBYTE(v26) = 1;
  if ( (*(unsigned __int8 (__fastcall **)(_QWORD, const char *, __int64))(*(_QWORD *)*a2 + 0x30LL))(
         *a2,
         "constraints",
         v26) )
  {
    sub_142138D90((__int64)v150);
    n0x3F = 0x3F;
    v152 = 1;
    n0x3F_1 = 0x3F;
    v153 = 1;
    do
    {
      v69 = *((_QWORD *)a1 + 0xA0);
      if ( !_bittest64(&v69, (unsigned int)n0x3F)
        || (v70 = *((_QWORD *)a1 + 0x9E), v71 = n0x3F_1 << 8, (*(_BYTE *)(v70 + (n0x3F_1 << 8) + 0x68) & 4) != 0) )
      {
        --n0x3F;
        --n0x3F_1;
      }
      else
      {
        v151 = *(_DWORD *)(v70 + v71 + 8);
        v72 = *(_DWORD *)(v70 + v71 + 8);
        do
        {
          if ( *(_DWORD *)(v70 + v71 + 8) != v72 )
            break;
          --n0x3F;
          v71 -= 0x100;
          --n0x3F_1;
        }
        while ( n0x3F_1 >= 0 );
        (*(void (__fastcall **)(_DWORD *, _BYTE *, _QWORD))(*(_QWORD *)a1 + 0x30LL))(a1, v150, 0);
      }
    }
    while ( n0x3F >= 0 );
    v73 = *a2;
    v82[0] = 0.0;
    (*(void (__fastcall **)(__int64, const char *, float *))(*(_QWORD *)v73 + 0xA8LL))(v73, "count", v82);
    --LODWORD(v82[0]);
    for ( ; v82[0] >= 0.0; --LODWORD(v82[0]) )
    {
      LOBYTE(v74) = 1;
      if ( (*(unsigned __int8 (__fastcall **)(_QWORD, const char *, __int64))(*(_QWORD *)*a2 + 0x30LL))(
             *a2,
             "constraint",
             v74) )
      {
        v75 = *a2;
        n4 = 4;
        v120 = 0;
        n2 = 2;
        v119 = 0x80000000;
        v122 = 0xFFF7FFFF;
        v124 = 0xFFF7FFFF;
        v125 = 0x80000000;
        v126 = 0x80000000;
        v128 = 0xFFBFFFFF;
        v130 = 0xFFBFFFFF;
        v131 = 0xFFBFFFFF;
        v133 = 0xFFBFFFFF;
        v140 = 0xFFFFFFFFFFFFFFFFuLL;
        v136 = 0xFFBFFFFF;
        v137 = 0xFFBFFFFF;
        v138 = 0xFFBFFFFF;
        v139[0] = 0xFFBFFFFF;
        v139[2] = 0xFFBFFFFF;
        v139[5] = 0xFFBFFFFF;
        v139[8] = 0xFFBFFFFF;
        v139[9] = 0xFFBFFFFF;
        v139[1] = 0xFFBFFFFF;
        v142 = 0xFFBFFFFF;
        v143 = 0xFFBFFFFF;
        v144 = 0xFFBFFFFF;
        v145 = 0xFFBFFFFF;
        v146 = 0xFFBFFFFF;
        v147 = 0xFFBFFFFF;
        v148 = 0xFFBFFFFF;
        v149 = 0xFFBFFFFF;
        v141 = 1;
        (*(void (__fastcall **)(__int64, __int16 *, unsigned int *))(*(_QWORD *)v75 + 0xA8LL))(
          v75,
          &word_1480DE8A4,
          &v119);
        v76 = *((_QWORD *)a1 + 0x58);
        *(_QWORD *)v85 = *a2;
        sub_14035CC10(&v85[8]);
        Size = sub_1403E9040(a2 + 1);
        sub_1403E3CD0((void **)&v85[8], (void *)a2[1], Size);
        sub_14035CC10(&v85[0x10]);
        Size_1 = sub_1403E9040(a2 + 2);
        sub_1403E3CD0((void **)&v85[0x10], (void *)a2[2], Size_1);
        v120 = sub_146927890(v76, v85);
        if ( v120 )
        {
          (*(void (__fastcall **)(_QWORD, const char *, char *))(*(_QWORD *)*a2 + 0x60LL))(*a2, "pt0", v121);
          (*(void (__fastcall **)(_QWORD, const char *, char *))(*(_QWORD *)*a2 + 0x60LL))(*a2, "pt1", v123);
          (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xA8LL))(
            *a2,
            "partid0",
            &v125);
          (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xA8LL))(
            *a2,
            "partid1",
            &v126);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xE8LL))(*a2, "qf0used", v81);
          if ( v81[0] )
            (*(void (__fastcall **)(_QWORD, const char *, char *))(*(_QWORD *)*a2 + 0xC8LL))(*a2, "qframe0", v127);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xE8LL))(*a2, "qf1used", v81);
          if ( v81[0] )
            (*(void (__fastcall **)(_QWORD, const char *, char *))(*(_QWORD *)*a2 + 0xC8LL))(*a2, "qframe1", v129);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xE8LL))(*a2, "xlim", v81);
          if ( v81[0] )
          {
            (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xE0LL))(
              *a2,
              "xlim0",
              &v131);
            (*(void (__fastcall **)(_QWORD, const char *, char *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "xlim1", v132);
          }
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xE8LL))(*a2, "yzlim", v81);
          if ( v81[0] )
          {
            (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xE0LL))(
              *a2,
              "yzlim0",
              &v133);
            (*(void (__fastcall **)(_QWORD, const char *, char *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "yzlim1", v134);
          }
          (*(void (__fastcall **)(_QWORD, const char *, int *))(*(_QWORD *)*a2 + 0x88LL))(*a2, "flags", &n2);
          (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xE0LL))(
            *a2,
            "damping",
            &v136);
          (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xE0LL))(*a2, "radius", &v137);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xE8LL))(*a2, "breakableLin", v81);
          if ( v81[0] )
            (*(void (__fastcall **)(_QWORD, const char *, unsigned int *))(*(_QWORD *)*a2 + 0xE0LL))(
              *a2,
              "maxPullForce",
              &v138);
          (*(void (__fastcall **)(_QWORD, const char *, _BYTE *))(*(_QWORD *)*a2 + 0xE8LL))(*a2, "breakableAng", v81);
          if ( v81[0] )
            (*(void (__fastcall **)(_QWORD, const char *, _DWORD *))(*(_QWORD *)*a2 + 0xE0LL))(
              *a2,
              "maxBendTorque",
              v139);
          (*(void (__fastcall **)(_DWORD *, int *, _QWORD))(*(_QWORD *)a1 + 0x30LL))(a1, &n4, 0);
        }
        (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x38LL))(*a2);
      }
    }
    (*(void (__fastcall **)(_QWORD))(*(_QWORD *)*a2 + 0x38LL))(*a2);
  }
  a1[0x12C] = 0;
  sub_1403727A0(a2 + 2);
  sub_1403727A0(a2 + 1);
  return 1;
}

// --- End Function: sub_1467F1480 (0x1467F1480) ---

// --- Function: sub_1467F1FA0 (0x1467F1FA0) ---
__int64 __fastcall sub_1467F1FA0(_DWORD *a1, __int64 a2, unsigned int a3)
{
  _QWORD *v6; // rax
  _BYTE v8[40]; // [rsp+20h] [rbp-28h] BYREF

  v6 = (_QWORD *)sub_14035C590((__int64)v8, a2);
  LODWORD(a1) = sub_1467F1480(a1, v6, a3);
  sub_1403727A0((_QWORD *)(a2 + 0x10));
  sub_1403727A0((_QWORD *)(a2 + 8));
  return (unsigned int)a1;
}

// --- End Function: sub_1467F1FA0 (0x1467F1FA0) ---

// --- Function: CRigidEntity::Shutdown (0x1467F23F0) ---
__int64 __fastcall CRigidEntity::Shutdown(__int64 a1)
{
  __int64 v2; // rcx
  _QWORD *v3; // rsi
  _QWORD *v4; // rdx
  _QWORD *v5; // rbx
  __int64 v6; // rcx
  __int64 v7; // rax
  __int64 v8; // rbx
  __int64 v9; // r14
  char *i; // rsi
  __int64 v11; // rcx
  __int64 v12; // rcx
  __int64 v13; // rax
  __int64 v14; // rcx
  unsigned __int64 n0x200000; // rax

  v2 = *(_QWORD *)(a1 + 0x4C0);
  if ( v2 )
  {
    sub_1402A63C0(v2);
    *(_QWORD *)(a1 + 0x4C0) = 0;
  }
  v3 = (_QWORD *)(a1 + 0x4D0);
  v4 = *(_QWORD **)(a1 + 0x4D0);
  if ( v4 != (_QWORD *)(a1 + 0x4D0) )
  {
    do
    {
      v5 = (_QWORD *)*v4;
      sub_1469222F0(*(_QWORD *)(a1 + 0x2C0));
      v4 = v5;
    }
    while ( v5 != v3 );
  }
  v6 = *(_QWORD *)(a1 + 0x4C8);
  *(_QWORD *)(a1 + 0x4D8) = v3;
  *v3 = v3;
  if ( v6 )
  {
    sub_1402A63C0(v6);
    *(_QWORD *)(a1 + 0x4C8) = 0;
  }
  v7 = *(_QWORD *)(a1 + 0x4E8);
  if ( v7 )
  {
    v8 = *(_QWORD *)(v7 - 8);
    v9 = v7 - 8;
    for ( i = (char *)(v7 + 0x108 * v8); v8; --v8 )
    {
      i += 0xFFFFFEF8;
      memset(i, 0xFF, 0x108u);
    }
    sub_1402A63C0(v9);
    *(_QWORD *)(a1 + 0x4E8) = 0;
  }
  v11 = *(_QWORD *)(a1 + 0x4F0);
  if ( v11 )
  {
    sub_1402A63C0(v11);
    *(_QWORD *)(a1 + 0x4F0) = 0;
  }
  v12 = *(_QWORD *)(a1 + 0x890);
  if ( v12 )
  {
    sub_1402A63C0(v12);
    *(_QWORD *)(a1 + 0x890) = 0;
  }
  v13 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0x200000, 0);
  if ( v13 )
    sub_1403DE750(a1 + 0x8F0, v13, 0, (__int64)"CRigidEntity::Shutdown", (__int64)"m_netDesiredStateLock", 1);
  v14 = *(_QWORD *)(a1 + 0x8E8);
  if ( v14 )
  {
    sub_1402A63C0(v14);
    *(_QWORD *)(a1 + 0x8E8) = 0;
  }
  if ( a1 != 0xFFFFFFFFFFFFF710uLL )
  {
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x8F0), 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x8F0), n0x200000);
  }
  return sub_1468E8E00(a1, v4);
}

// --- End Function: CRigidEntity::Shutdown (0x1467F23F0) ---

// --- Function: sub_1467F2590 (0x1467F2590) ---
__int64 __fastcall sub_1467F2590(__int64 a1)
{
  __int64 *v2; // rbx
  __int64 n0x40; // rsi
  __int64 v4; // rcx
  __int64 v5; // rcx

  sub_146921CE0(*(_QWORD *)(a1 + 0x2C0), a1);
  v2 = (__int64 *)(a1 + 0xB90);
  n0x40 = 0x40;
  do
  {
    v4 = v2[1];
    v2[1] = 0;
    if ( v4 )
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v4 + 0x168LL))(v4, 0);
    v5 = *v2;
    *v2 = 0;
    if ( v5 )
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v5 + 0x168LL))(v5, 0);
    v2 += 0x31;
    --n0x40;
  }
  while ( n0x40 );
  if ( (*(_BYTE *)(a1 + 0x208) & 8) != 0 )
  {
    sub_1469550B0(*(_QWORD *)(a1 + 0x2C0), a1);
    *(_DWORD *)(a1 + 0x208) &= ~8u;
  }
  return CRigidEntity::Shutdown(a1);
}

// --- End Function: sub_1467F2590 (0x1467F2590) ---

// --- Function: sub_1467F26C0 (0x1467F26C0) ---
void __fastcall sub_1467F26C0(__int64 a1, float a2)
{
  __m128 v2; // kr00_16
  __m128 v3; // xmm4
  float v5; // xmm2_4
  double v6; // xmm1_8
  double *v7; // rax
  double v10; // xmm1_8
  float v12; // xmm7_4
  double v13; // xmm9_8
  double v14; // xmm10_8
  __int128 v15; // kr00_16
  __int64 n4; // rsi
  float *v17; // rdi
  __int128 v18; // xmm2
  float *v19; // rcx
  __int128 v20; // xmm5
  __int128 v21; // xmm4
  __int128 v22; // xmm2
  int v29; // r14d
  double *v31; // rax
  __m256i *v38; // rax
  __int64 n0x31; // rcx
  __int128 v40; // xmm10
  __int128 v41; // kr00_16
  double v42; // xmm12_8
  double v43; // xmm13_8
  double v44; // kr00_8
  int v45; // eax
  bool v46; // r12
  double v47; // xmm7_8
  __int128 v48; // xmm15
  double v49; // xmm6_8
  unsigned __int64 v50; // rdx
  double v52; // xmm3_8
  double v53; // xmm4_8
  double v54; // xmm5_8
  double v55; // xmm6_8
  double v56; // xmm4_8
  __int128 v57; // kr00_16
  double v58; // xmm0_8
  __int64 v59; // r15
  __int64 v60; // r13
  int v61; // r14d
  __int64 v62; // rsi
  __int64 *v63; // rdi
  __int64 v64; // rcx
  __int64 v65; // rcx
  int v66; // ecx
  __int128 v67; // kr00_16
  __int128 v71; // kr00_16
  __int128 v79; // kr00_16
  __int64 v80; // r8
  __int64 v81; // rcx
  __int128 v82; // xmm2
  __int64 v83; // rdx
  float v84; // xmm0_4
  float v85; // kr00_4
  float v86; // kr00_4
  unsigned int v87; // eax
  float v88; // xmm0_4
  __int128 v90; // kr00_16
  __int128 v91; // kr00_16
  __int128 v93; // kr00_16
  __int128 n0x40A00000; // xmm1
  __int128 v97; // kr00_16
  int v98; // eax
  float v99; // xmm7_4
  float v100; // xmm8_4
  float v101; // xmm5_4
  float v102; // xmm6_4
  float v103; // xmm13_4
  float v104; // xmm10_4
  float v105; // xmm14_4
  __int128 n3; // xmm0
  float v109; // xmm11_4
  float v110; // xmm15_4
  float v111; // xmm12_4
  float v112; // xmm4_4
  float v113; // xmm7_4
  float v114; // xmm5_4
  float v115; // xmm9_4
  float v116; // xmm1_4
  float v117; // xmm6_4
  double v118; // xmm13_8
  float v119; // xmm4_4
  float v120; // xmm1_4
  double v121; // xmm15_8
  double v122; // xmm9_8
  __int128 v123; // kr00_16
  double v124; // xmm7_8
  __int128 v127; // xmm12
  double v128; // xmm4_8
  double v129; // xmm5_8
  double v130; // xmm6_8
  double v131; // xmm8_8
  __int128 v132; // xmm11
  __int128 v133; // xmm14
  __int128 v134; // kr00_16
  __int128 v135; // xmm10
  double v136; // xmm4_8
  __int128 v137; // xmm6
  __int128 v138; // xmm7
  double v139; // xmm4_8
  __int64 v160; // [rsp+30h] [rbp-D0h]
  float v161; // [rsp+40h] [rbp-C0h]
  float v162; // [rsp+44h] [rbp-BCh]
  float v163; // [rsp+48h] [rbp-B8h]
  int v164; // [rsp+4Ch] [rbp-B4h]
  unsigned int v165; // [rsp+4Ch] [rbp-B4h]
  float v167; // [rsp+54h] [rbp-ACh]
  float v168; // [rsp+58h] [rbp-A8h]
  float v169; // [rsp+5Ch] [rbp-A4h]
  float v170; // [rsp+60h] [rbp-A0h]
  float *v171; // [rsp+68h] [rbp-98h]
  __int64 v172; // [rsp+70h] [rbp-90h]
  float v173; // [rsp+78h] [rbp-88h]
  float v174; // [rsp+7Ch] [rbp-84h]
  float *v175; // [rsp+90h] [rbp-70h]
  __int64 n4_1; // [rsp+98h] [rbp-68h]
  double v177; // [rsp+A0h] [rbp-60h] BYREF
  int v178; // [rsp+A8h] [rbp-58h]
  double v179[4]; // [rsp+B0h] [rbp-50h] BYREF
  int v180; // [rsp+D0h] [rbp-30h] BYREF
  unsigned __int64 v181; // [rsp+D4h] [rbp-2Ch]
  int v182; // [rsp+DCh] [rbp-24h]
  unsigned int v183; // [rsp+F4h] [rbp-Ch]
  unsigned int v184; // [rsp+114h] [rbp+14h]
  unsigned int v185; // [rsp+118h] [rbp+18h]
  int v186; // [rsp+11Ch] [rbp+1Ch]
  unsigned __int64 v187; // [rsp+120h] [rbp+20h]
  float v188; // [rsp+128h] [rbp+28h]
  int v189; // [rsp+12Ch] [rbp+2Ch]
  __int128 v190; // [rsp+130h] [rbp+30h]
  _OWORD v191[294]; // [rsp+140h] [rbp+40h] BYREF

  v2 = (__m128)*(unsigned int *)(a1 + 0x680);
  v2.m128_f32[0] = (float)((float)(*(float *)(a1 + 0x680) * *(float *)(a1 + 0x680))
                         + (float)(*(float *)(a1 + 0x684) * *(float *)(a1 + 0x684)))
                 + (float)(*(float *)(a1 + 0x688) * *(float *)(a1 + 0x688));
  v3 = _mm_sqrt_ps(_mm_shuffle_ps(v2, v2, 0));
  if ( _mm_shuffle_ps(v3, v3, 0xFF).m128_f32[0] > (float)(*(float *)(a1 + 0xAD4) * 0.017453294) )
    return;
  v5 = *(float *)(a1 + 0xA4C);
  if ( v5 == 0.0 )
    return;
  v6 = *(double *)(a1 + 0x638);
  v7 = (double *)(a1 + 0xA80);
  *(_OWORD *)(a1 + 0xAA0) = *(_OWORD *)(a1 + 0x628);
  _XMM0 = *(unsigned int *)(a1 + 0xAD0);
  __asm { vmaxss  xmm0, xmm0, cs:dword_1480E1EC8 }
  *(_DWORD *)(a1 + 0xAF0) = 0;
  *(double *)(a1 + 0xAB0) = v6;
  v10 = *(double *)(a1 + 0xA98);
  _XMM3 = 0;
  v12 = 0.0;
  v163 = 0.0;
  v174 = *(float *)&_XMM0 * v5;
  v162 = 0.0;
  if ( v10 == 1.0
    && *v7 == 0.0
    && *(double *)(a1 + 0xA88) == 0.0
    && *(double *)(a1 + 0xA90) == 0.0
    && *(double *)(a1 + 0xAA0) == 0.0
    && *(double *)(a1 + 0xAA8) == 0.0
    && *(double *)(a1 + 0xAB0) == 0.0 )
  {
    goto LABEL_60;
  }
  v13 = *(double *)(a1 + 0xA88);
  v14 = (float)-(float)(*(float *)&_XMM0 * v5);
  *((_QWORD *)&v15 + 1) = 0;
  n4 = 4;
  v17 = (float *)(a1 + 0xAE0);
  v18 = COERCE_UNSIGNED_INT64(v13 * v14 * *(double *)(a1 + 0xA90));
  v19 = (float *)(a1 + 0xA50);
  *(double *)&v15 = v10 * v14 * v13 - -(*v7 * v14) * v7[2];
  v20 = v15;
  *((_QWORD *)&v15 + 1) = *((_QWORD *)&v18 + 1);
  *(double *)&v15 = *(double *)&v18 - v10 * v14 * *v7;
  v21 = v15;
  *((_QWORD *)&v15 + 1) = 0x8000000000000000uLL;
  *(double *)&v15 = -(*v7 * v14) * *v7 - v13 * v14 * v13;
  v22 = v15;
  *((_QWORD *)&v15 + 1) = *((_QWORD *)&v20 + 1);
  *(double *)&v15 = *(double *)&v20 + *(double *)&v20;
  _XMM1 = v15;
  __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
  *((_QWORD *)&v15 + 1) = *((_QWORD *)&v22 + 1);
  *(double *)&v15 = *(double *)&v22 + v14 + *(double *)&v22;
  _XMM2 = v15;
  __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
  *((_QWORD *)&v15 + 1) = *((_QWORD *)&v21 + 1);
  *(double *)&v15 = *(double *)&v21 + *(double *)&v21;
  _XMM0 = v15;
  __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
  v29 = _XMM1;
  __asm { vunpcklps xmm15, xmm3, xmm0 }
  v164 = _XMM1;
  v168 = *(float *)&_XMM3;
  v167 = *(float *)&_XMM0;
  v169 = *(float *)&_XMM1;
  v171 = v17;
  v175 = v19;
  n4_1 = 4;
  v190 = _XMM15;
  do
  {
    v31 = sub_140936430(v179, v7, v19);
    _XMM9 = *(unsigned __int64 *)v31;
    _XMM6 = *((unsigned __int64 *)v31 + 1);
    _XMM7 = *((unsigned __int64 *)v31 + 2);
    __asm
    {
      vcvtpd2ps xmm9, xmm9
      vcvtpd2ps xmm6, xmm6
      vcvtpd2ps xmm7, xmm7
    }
    v161 = *(float *)&_XMM9;
    v173 = *(float *)&_XMM6;
    v170 = *(float *)&_XMM7;
    memset(v191, 0, sizeof(v191));
    v38 = (__m256i *)v191;
    n0x31 = 0x31;
    do
    {
      v38[2].m256i_i64[3] = 0;
      v38 += 3;
      v38[0xFFFFFFFDLL] = (__m256i)0LL;
      *(_OWORD *)v38[0xFFFFFFFE].m256i_i8 = 0;
      --n0x31;
    }
    while ( n0x31 );
    v160 = *(_QWORD *)(a1 + 0xB8);
    v178 = v29;
    *((_QWORD *)&v41 + 1) = *((_QWORD *)&_XMM9 + 1);
    *(double *)&v41 = *(float *)&_XMM9;
    v40 = v41;
    v42 = *(float *)&_XMM6;
    v44 = *(float *)&_XMM7;
    v43 = *(float *)&_XMM7;
    v179[0] = *(double *)&v40;
    v179[1] = *(float *)&_XMM6;
    v179[2] = *(float *)&_XMM7;
    v177 = *(double *)&_XMM15;
    __asm { vzeroupper }
    v45 = sub_146799350(a1, (__int64)v191, 0, 0x31, v179, (float *)&v177, v160);
    v46 = 0;
    v47 = 0.0;
    v48 = 0;
    v49 = 0.0;
    if ( *(_BYTE *)(a1 + 0xB18) )
    {
      v50 = *(_QWORD *)(a1 + 0xB10);
      if ( ((v50 >> 0x34) & 0x7FF) != 0x7FF || (v50 & 0xFFFFFFFFFFFFFLL) == 0 )
      {
        v52 = *(double *)(a1 + 0xB00);
        v53 = *(double *)(a1 + 0xAF8);
        v54 = *(double *)(a1 + 0xB08);
        *(double *)&_XMM9 = v169;
        v55 = v168 * v53 + v167 * v52 + v54 * v169;
        if ( v55 > -9.999999999999999e-12
          || (v56 = (v53 * *(double *)&v40 + v52 * v42 + v54 * v44 + *(double *)(a1 + 0xB10)) / v55, v56 > 0.0) )
        {
          v47 = 0.0;
          *(float *)&_XMM9 = v161;
          v49 = 0.0;
        }
        else
        {
          *((_QWORD *)&v57 + 1) = *((_QWORD *)&v40 + 1);
          *(double *)&v57 = *(double *)&v40 - v56 * v168;
          v48 = v57;
          v58 = v56 * *(double *)&_XMM9;
          *(float *)&_XMM9 = v161;
          v47 = v43 - v58;
          v49 = v42 - v56 * v167;
          v46 = (*(double *)&v48 - *(double *)&v40) * (*(double *)&v48 - *(double *)&v40)
              + (v49 - v42) * (v49 - v42)
              + (v47 - v43) * (v47 - v43) <= (float)((float)((float)(v167 * v167) + (float)(v168 * v168))
                                                   + (float)(v169 * v169));
        }
      }
    }
    if ( v45 <= 0 )
    {
      if ( !v46 )
      {
        v12 = v162;
        _XMM3 = LODWORD(v163);
        if ( !v45 )
          *v17 = 0.0;
        goto LABEL_59;
      }
LABEL_44:
      *((_QWORD *)&v71 + 1) = *((_QWORD *)&v48 + 1);
      *(double *)&v71 = (*(double *)&v48 - *(float *)&_XMM9) * (*(double *)&v48 - *(float *)&_XMM9)
                      + (v49 - v173) * (v49 - v173)
                      + (v47 - v170) * (v47 - v170);
      _XMM2 = v71;
      __asm
      {
        vmovddup xmm1, xmm2
        vsqrtpd xmm4, xmm1
        vunpckhpd xmm4, xmm4, xmm4
        vcvtsd2ss xmm1, xmm4, xmm4
      }
      goto LABEL_45;
    }
    v172 = *((_QWORD *)&v191[0] + 1);
    v59 = 0;
    v60 = v45;
    v61 = 0;
    v62 = 0;
    v63 = (__int64 *)v191 + 1;
    while ( 1 )
    {
      v64 = v63[0xFFFFFFFF];
      if ( !v64 )
        goto LABEL_35;
      v188 = 0.0;
      v180 = 1;
      v181 = 0xFFFFFFFFFFFFFFFFuLL;
      v182 = 0;
      v186 = 0;
      v189 = 0;
      v187 = 0xFFFFFFFFFFFFFFFFuLL;
      v183 = 0xFFF7FFFF;
      v184 = 0xFFBFFFFF;
      v185 = 0xFFBFFFFF;
      (*(void (__fastcall **)(__int64, int *))(*(_QWORD *)v64 + 0x28LL))(v64, &v180);
      v65 = *v63;
      if ( *v63 != v172 )
        break;
      if ( v65 && (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v65 + 8LL))(v65) == 0xA
        || v187
        && ((*(float (__fastcall **)(unsigned __int64))(*(_QWORD *)v187 + 0x130LL))(v187) < 0.0
         || (*(float (__fastcall **)(unsigned __int64))(*(_QWORD *)v187 + 0x130LL))(v187) > 250.0) )
      {
        v66 = v61;
        v59 = v62;
        goto LABEL_37;
      }
LABEL_35:
      ++v61;
      ++v62;
      v63 += 0xC;
      if ( v62 >= v60 )
      {
        v66 = 0;
        goto LABEL_37;
      }
    }
    v66 = v61 - 1;
    v59 = v62 - 1;
LABEL_37:
    v17 = v171;
    if ( v66 < 0 )
      goto LABEL_44;
    if ( !v46 )
      goto LABEL_43;
    *((_QWORD *)&v67 + 1) = *((_QWORD *)&v48 + 1);
    *(double *)&v67 = (*(double *)&v48 - *(double *)&v40) * (*(double *)&v48 - *(double *)&v40)
                    + (v49 - v42) * (v49 - v42)
                    + (v47 - v43) * (v47 - v43);
    _XMM2 = v67;
    __asm { vcvtsd2ss xmm4, xmm2, xmm2 }
    if ( (float)(*(float *)&v191[6 * v59 + 1] * *(float *)&v191[6 * v59 + 1]) >= *(float *)&_XMM4 )
      LODWORD(_XMM1) = fsqrt(*(float *)&_XMM4);
    else
LABEL_43:
      LODWORD(_XMM1) = v191[6 * v59 + 1];
LABEL_45:
    ++*(_DWORD *)(a1 + 0xAF0);
    _XMM3 = *(unsigned int *)(a1 + 0xA40);
    if ( (float)(v174 - *(float *)&_XMM1) >= 0.0 )
    {
      v79 = *(unsigned int *)(a1 + 0xA40);
      *(float *)&v79 = *(float *)&_XMM3 * v174;
      _XMM0 = v79;
      __asm { vminss  xmm4, xmm0, xmm2 }
    }
    else
    {
      _XMM4 = 0;
    }
    v80 = *(_QWORD *)(a1 + 0xAB8);
    v12 = *(float *)&_XMM1 + v162;
    v81 = (*(_QWORD *)(a1 + 0xAC0) - v80) >> 2;
    v162 = *(float *)&_XMM1 + v162;
    v82 = _XMM4;
    if ( v81 )
    {
      v83 = (unsigned int)(v81 - 2);
      if ( v81 < 0 )
      {
        v85 = (float)(((*(_QWORD *)(a1 + 0xAC0) - v80) >> 2) & 1
                    | ((unsigned __int64)((*(_QWORD *)(a1 + 0xAC0) - v80) >> 2) >> 1));
        v84 = v85 + v85;
      }
      else
      {
        v84 = (float)v81;
      }
      v86 = v84 * *(float *)&_XMM4;
      v87 = (int)(float)(v84 * *(float *)&_XMM4);
      if ( (unsigned int)v83 >= v87 )
        v83 = v87;
      v88 = (float)(unsigned int)v83;
      if ( (float)((float)((float)(1.0 - (float)(v86 - v88)) * *(float *)(v80 + 4 * v83))
                 + (float)((float)(v86 - v88) * *(float *)(v80 + 4LL * (unsigned int)(v83 + 1)))) >= 0.0 )
        __asm { vminss  xmm0, xmm3, xmm5 }
      else
        _XMM0 = 0;
      v90 = _XMM0;
      *(float *)&v90 = *(float *)&_XMM0 * v174;
      v82 = v90;
    }
    v91 = v82;
    *(float *)&v91 = *(float *)&v82 * *(float *)(a1 + 0xA48);
    n4 = n4_1;
    v29 = v164;
    v93 = v91 ^ xmmword_1480DD750;
    *(float *)&v93 = *(float *)&v93 - (float)((float)((float)(*(float *)&_XMM4 - *v17) / a2) * *(float *)(a1 + 0xA44));
    _XMM3 = v93;
    n0x40A00000 = 0x40A00000u;
    __asm
    {
      vcmpltss xmm1, xmm1, xmm0
      vblendvps xmm0, xmm3, xmm11, xmm1
    }
    v97 = _XMM0;
    *(float *)&v97 = *(float *)&_XMM0 + v163;
    _XMM3 = v97;
    v163 = *(float *)&_XMM0 + v163;
    *v17 = *(float *)&_XMM4;
LABEL_59:
    v7 = (double *)(a1 + 0xA80);
    *(_QWORD *)&_XMM15 = v190;
    v19 = v175 + 3;
    ++v17;
    --n4;
    v175 += 3;
    n4_1 = n4;
    v171 = v17;
  }
  while ( n4 );
LABEL_60:
  v98 = *(_DWORD *)(a1 + 0xAF0);
  if ( v98 > 0 )
    *(float *)(a1 + 0xB1C) = v12 / (float)v98;
  v99 = *(float *)(a1 + 0x6CC);
  v100 = *(float *)(a1 + 0x6C8);
  v101 = *(float *)(a1 + 0x848);
  v102 = *(float *)(a1 + 0x6D0);
  v103 = *(float *)(a1 + 0x854);
  v104 = *(float *)(a1 + 0x84C);
  v105 = *(float *)(a1 + 0x6D4);
  n3 = 3u;
  __asm
  {
    vpcmpgtd xmm2, xmm0, xmm1
    vblendvps xmm0, xmm3, xmm11, xmm2
  }
  v109 = *(float *)(a1 + 0x850);
  v165 = _XMM0;
  v110 = (float)(v105 * v103) - (float)((float)((float)(v101 * v100) + (float)(v99 * v104)) + (float)(v102 * v109));
  v111 = (float)((float)((float)(v102 * v104) - (float)(v109 * v99)) + (float)(v100 * v103)) + (float)(v101 * v105);
  v112 = (float)((float)(v109 * v100) - (float)(v102 * v101)) + (float)(v99 * v103);
  *(float *)&_XMM2 = v101 * v99;
  v113 = *(float *)(a1 + 0x68C);
  v114 = *(float *)(a1 + 0x690);
  v115 = v112 + (float)(v104 * v105);
  v116 = v102 * v103;
  v117 = *(float *)(a1 + 0x694);
  v118 = *(double *)(a1 + 0xA90);
  v119 = (float)((float)((float)(v111 * v117)
                       - (float)((float)((float)((float)(*(float *)&_XMM2 - (float)(v100 * v104)) + v116)
                                       + (float)(v109 * v105))
                               * v113))
               + (float)(v110 * v114))
       * (float)((float)((float)(*(float *)&_XMM2 - (float)(v100 * v104)) + v116) + (float)(v109 * v105));
  v120 = v110 * v117;
  v121 = *(double *)(a1 + 0xA88);
  *(float *)&_XMM0 = (float)((float)((float)(v115 * v113) - (float)(v111 * v114)) + v120) * v115;
  v122 = *(double *)(a1 + 0xA80);
  v123 = LODWORD(v113);
  *(float *)&v123 = v113 + (float)(v119 - *(float *)&_XMM0);
  v124 = *(double *)(a1 + 0xA98);
  *(float *)&v123 = (float)((float)(*(float *)&v123 + (float)(v119 - *(float *)&_XMM0)) * *(float *)(a1 + 0xAD8))
                  * (float)(a2 * a2);
  *((_QWORD *)&v123 + 1) = (v123 ^ (unsigned __int128)xmmword_1480DD750) >> 0x40;
  *(double *)&v123 = COERCE_FLOAT(v123 ^ 0x80000000) * *(double *)(a1 + 0x6B0);
  _XMM2 = v123;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  *((_QWORD *)&v123 + 1) = *((_QWORD *)&_XMM0 + 1);
  *(double *)&v123 = *(float *)&_XMM0;
  v127 = v123;
  v128 = -(v121 * *(float *)&_XMM0);
  v129 = v118 * *(float *)&_XMM0;
  v130 = *(float *)&_XMM0 * v124;
  v131 = v121 * v128 - v118 * v129;
  v132 = COERCE_UNSIGNED_INT64(v118 * v130 - v122 * v128);
  v133 = COERCE_UNSIGNED_INT64(v122 * v129 - v121 * v130);
  v134 = v165;
  *(float *)&v134 = *(float *)&v165 * a2;
  *((_QWORD *)&v134 + 1) = (v134 ^ (unsigned __int128)xmmword_1480DD750) >> 0x40;
  *(double *)&v134 = (float)-(float)(*(float *)&v165 * a2);
  v135 = v134;
  v136 = -(v122 * *(double *)&v134);
  v137 = COERCE_UNSIGNED_INT64(v121 * (v124 * *(double *)&v134) - v118 * v136);
  v138 = COERCE_UNSIGNED_INT64(v118 * (*(double *)&v134 * v121) - v122 * (v124 * *(double *)&v134));
  v139 = v122 * v136 - v121 * (*(double *)&v134 * v121);
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&v127 + 1);
  *(double *)&v134 = *(double *)&v127 + v131 + v131;
  _XMM0 = v134;
  __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&v137 + 1);
  *(double *)&v134 = *(double *)&v137 + *(double *)&v137;
  _XMM2 = v134;
  __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&_XMM3 + 1);
  *(double *)&v134 = (float)(*(float *)&_XMM3 + *(float *)&_XMM1) + *(double *)(a1 + 0x650);
  _XMM8 = v134;
  *(double *)(a1 + 0x650) = *(double *)&v134;
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&v138 + 1);
  *(double *)&v134 = *(double *)&v138 + *(double *)&v138;
  _XMM0 = v134;
  __asm { vcvtsd2ss xmm3, xmm0, xmm0 }
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&v132 + 1);
  *(double *)&v134 = *(double *)&v132 + *(double *)&v132;
  _XMM1 = v134;
  __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&_XMM3 + 1);
  *(double *)&v134 = (float)(*(float *)&_XMM3 + *(float *)&_XMM2) + *(double *)(a1 + 0x658);
  _XMM6 = v134;
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&v135 + 1);
  *(double *)&v134 = *(double *)&v135 + v139 + v139;
  _XMM1 = v134;
  *(double *)(a1 + 0x658) = *(double *)&_XMM6;
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&v133 + 1);
  *(double *)&v134 = *(double *)&v133 + *(double *)&v133;
  _XMM2 = v134;
  __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
  _XMM2 = *(unsigned __int64 *)(a1 + 0x6B8);
  __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
  *((_QWORD *)&v134 + 1) = *((_QWORD *)&_XMM3 + 1);
  *(double *)&v134 = (float)(*(float *)&_XMM3 + *(float *)&_XMM0) + *(double *)(a1 + 0x660);
  _XMM5 = v134;
  __asm
  {
    vcvtpd2ps xmm2, xmm2
    vcvtsd2ss xmm0, xmm8, xmm8
  }
  *(float *)&v139 = *(float *)&_XMM0 * *(float *)&_XMM2;
  *(double *)(a1 + 0x660) = *(double *)&v134;
  __asm { vcvtsd2ss xmm1, xmm6, xmm6 }
  __asm { vcvtsd2ss xmm0, xmm5, xmm5 }
  *(float *)(a1 + 0x694) = *(float *)&_XMM0 * *(float *)&_XMM2;
  *(float *)(a1 + 0x68C) = *(float *)&v139;
  *(float *)(a1 + 0x690) = *(float *)&_XMM1 * *(float *)&_XMM2;
}

// --- End Function: sub_1467F26C0 (0x1467F26C0) ---

// --- Function: sub_1467F8160 (0x1467F8160) ---
bool __fastcall sub_1467F8160(__int64 a1)
{
  return *(_BYTE *)(a1 + 0x514) && !*(_DWORD *)(a1 + 0x844);
}

// --- End Function: sub_1467F8160 (0x1467F8160) ---

// --- Function: CRigidEntity::StartStep (0x1467F8350) ---
unsigned __int64 __fastcall CRigidEntity::StartStep(_DWORD *a1, float a2)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  unsigned __int64 n0xA; // rax
  unsigned int v6; // ecx
  float *v7; // rcx
  float *v8; // rax
  float v9; // xmm3_4
  float v10; // xmm2_4
  float v11; // xmm2_4
  float v12; // xmm3_4
  __int64 v13; // rax
  __int64 v14; // rax
  double v15; // xmm1_8
  __int128 v16; // xmm0
  double v17; // xmm1_8
  unsigned __int64 n0x200000; // rax
  int n0x40; // r14d
  unsigned __int64 n0xA_1; // rbx
  __int64 v21; // r15
  __int64 v22; // rsi
  __int64 v23; // rcx
  __int64 v24; // rax
  int v25; // ecx
  __int64 v26; // rax
  _BYTE v27[16]; // [rsp+30h] [rbp-D0h] BYREF
  _DWORD v28[38]; // [rsp+40h] [rbp-C0h] BYREF
  __int64 n2; // [rsp+D8h] [rbp-28h]
  unsigned int v30; // [rsp+E0h] [rbp-20h]
  unsigned int v31; // [rsp+ECh] [rbp-14h]
  unsigned int v32; // [rsp+F8h] [rbp-8h]
  unsigned int v33; // [rsp+104h] [rbp+4h]
  unsigned int v34; // [rsp+110h] [rbp+10h]
  unsigned int v35; // [rsp+128h] [rbp+28h]
  unsigned int v36; // [rsp+12Ch] [rbp+2Ch]
  unsigned int v37; // [rsp+138h] [rbp+38h]
  __int128 v38; // [rsp+160h] [rbp+60h]
  __int128 v39; // [rsp+170h] [rbp+70h]

  v39 = v2;
  if ( (a1[0x82] & 0x20) == 0
    || (n0xA = (*(__int64 (__fastcall **)(_DWORD *))(*(_QWORD *)a1 + 8LL))(a1), (_DWORD)n0xA == 0xA)
    && (n0xA = (unsigned int)(8 * a1[0x82]), (_DWORD)n0xA) )
  {
    if ( a1[0x52] )
    {
      if ( a1[0x12D] )
      {
        v6 = 1;
        if ( a1[0x12E] >> 1 > 1u )
          v6 = a1[0x12E] >> 1;
      }
      else
      {
        v6 = 0;
      }
    }
    else
    {
      v6 = a1[0x12E] + 1;
      if ( v6 >= a1[0x12D] )
        v6 = a1[0x12D];
    }
    a1[0x12E] = v6;
    *((_QWORD *)a1 + 0xF2) = 0;
    *((_QWORD *)a1 + 0xF3) = 0;
    *((_QWORD *)a1 + 0xF4) = 0;
    *((_QWORD *)a1 + 0xF5) = 0;
    *((_QWORD *)a1 + 0xF6) = 0;
    *((_QWORD *)a1 + 0xF7) = 0;
    *((float *)a1 + 0x148) = a2;
    a1[0x149] = 0;
    a1[0x14D] = 0;
    *(_QWORD *)(a1 + 0x1F7) = 0;
    a1[0x1F6] = 0;
    *((_QWORD *)a1 + 0xFD) = 0;
    a1[0x1F9] = 0;
    *(_QWORD *)(a1 + 0x1FD) = 0;
    a1[0x1FC] = 0;
    *((_QWORD *)a1 + 0x100) = 0;
    a1[0x1FF] = 0;
    v7 = (float *)*((_QWORD *)a1 + 0x131);
    v8 = (float *)*((_QWORD *)a1 + 0x130);
    if ( v8 != v7 )
    {
      v38 = v3;
      do
      {
        if ( v8[6] < 0.0 )
          v8[6] = a2;
        v9 = v8[2];
        v10 = v8[1];
        *((float *)a1 + 0x1FC) = *((float *)a1 + 0x1FC) + *v8;
        *((float *)a1 + 0x1FD) = v10 + *((float *)a1 + 0x1FD);
        *((float *)a1 + 0x1FE) = v9 + *((float *)a1 + 0x1FE);
        v11 = v8[4];
        v12 = v8[5];
        *((float *)a1 + 0x1FF) = v8[3] + *((float *)a1 + 0x1FF);
        *((float *)a1 + 0x200) = v11 + *((float *)a1 + 0x200);
        v8 += 8;
        *((float *)a1 + 0x201) = v12 + *((float *)a1 + 0x201);
      }
      while ( v8 != v7 );
    }
    if ( (int)a1[0x3D] <= 2 )
    {
      v13 = _InterlockedCompareExchange64((volatile signed __int64 *)a1 + 0x19, 0x200000, 0);
      if ( v13 )
        sub_1403DE750((__int64)(a1 + 0x32), v13, 0, (__int64)"CRigidEntity::StartStep", (__int64)"m_lockUpdate", 1);
      if ( *(_DWORD *)(*((_QWORD *)a1 + 0x54) + 0x184LL) )
      {
        v14 = (*(__int64 (__fastcall **)(_DWORD *, _BYTE *))(*(_QWORD *)a1 + 0x98LL))(a1, v27);
        if ( (unsigned __int8)sub_14660C430((__int64)(a1 + 0x8A), v14, 0xFFFFFFFF) )
        {
          *((_WORD *)a1 + 0x83) |= 0x100u;
          sub_14693A1E0(*((_QWORD *)a1 + 0x58), a1);
        }
      }
      (*(void (__fastcall **)(_DWORD *, _DWORD *, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, a1 + 0xFA, 2);
      v15 = *((double *)a1 + 0x7F);
      *((_OWORD *)a1 + 1) = *(_OWORD *)(a1 + 0xFA);
      v16 = *((_OWORD *)a1 + 0x40);
      *((double *)a1 + 4) = v15;
      v17 = *((double *)a1 + 0x82);
      *(_OWORD *)(a1 + 0xA) = v16;
      *((double *)a1 + 7) = v17;
      a1[0x12A] |= 0x200u;
      *((_OWORD *)a1 + 0x45) = *((_OWORD *)a1 + 0x1C);
      *((double *)a1 + 0x8C) = *((double *)a1 + 0x3A);
      a1[0x120] = a1[0x76];
      a1[0x121] = a1[0x77];
      a1[0x122] = a1[0x78];
      a1[0x123] = a1[0x79];
      if ( a1 != (_DWORD *)0xFFFFFFFFFFFFFF38LL )
      {
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)a1 + 0x19, 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)a1 + 0x19, n0x200000);
      }
    }
    n0x40 = 0;
    n0xA_1 = 1;
    v21 = 0;
    v22 = 0;
    do
    {
      n0xA = *((_QWORD *)a1 + 0xA0);
      if ( n0xA_1 > n0xA )
        break;
      if ( (n0xA_1 & n0xA) != 0 )
      {
        n0xA = *((_QWORD *)a1 + 0x9D);
        v23 = *(_QWORD *)(n0xA + v22 + 0x20);
        if ( (__int64 *)v23 != &qword_15145C180 && (*(_BYTE *)(v23 + 0x208) & 0x20) != 0 )
        {
          v24 = *((_QWORD *)a1 + 0x9E);
          v28[0] = 5;
          v28[7] = 0xFFF7FFFF;
          v28[0xD] = 0xFFF7FFFF;
          v28[0x15] = 0xFFBFFFFF;
          v28[0x19] = 0xFFBFFFFF;
          v28[0x1A] = 0xFFBFFFFF;
          v28[0x1B] = 0xFFBFFFFF;
          v28[0x1C] = 0xFFBFFFFF;
          v28[0x1D] = 0xFFBFFFFF;
          v28[0x1E] = 0xFFBFFFFF;
          v28[0x21] = 0xFFBFFFFF;
          v28[0x24] = 0xFFBFFFFF;
          v28[0x25] = 0xFFBFFFFF;
          v30 = 0xFFBFFFFF;
          v31 = 0xFFBFFFFF;
          v32 = 0xFFBFFFFF;
          v33 = 0xFFBFFFFF;
          v34 = 0xFFBFFFFF;
          v35 = 0xFFBFFFFF;
          v36 = 0xFFBFFFFF;
          v37 = 0xFFBFFFFF;
          v28[2] = 0;
          v28[3] = 0xFFFFFFFF;
          n2 = 2;
          v28[4] = 1;
          v25 = *(_DWORD *)(v24 + v21 + 8);
          v26 = *(_QWORD *)a1;
          v28[1] = v25;
          n0xA = (*(__int64 (__fastcall **)(_DWORD *, _DWORD *, __int64))(v26 + 0x30))(a1, v28, 1);
        }
      }
      ++n0x40;
      n0xA_1 = __ROL8__(n0xA_1, 1);
      v22 += 0x108;
      v21 += 0x100;
    }
    while ( n0x40 < 0x40 );
  }
  return n0xA;
}

// --- End Function: CRigidEntity::StartStep (0x1467F8350) ---

// --- Function: sub_1467FB750 (0x1467FB750) ---
// local variable allocation has failed, the output may be wrong!
__int64 __fastcall sub_1467FB750(Parameter *Parameter, double a2)
{
  __int128 v2; // xmm9
  __int128 v3; // xmm10
  __int128 v4; // xmm11
  __int128 v5; // xmm12
  __int128 v6; // xmm13
  __int128 v7; // xmm14
  __int128 v9; // xmm7
  volatile signed __int64 *v10; // rbx
  LARGE_INTEGER v11; // rax
  LARGE_INTEGER v12; // r8
  __int64 TlsIndex; // rdx
  float v14; // xmm15_4
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v16; // rax
  __int64 v17; // r14
  __int64 v18; // rcx
  int v19; // eax
  double v20; // xmm1_8
  __m256 v21; // ymm1
  __m128 v22; // xmm2
  float v23; // xmm0_4
  __int64 v24; // rax
  float v25; // xmm2_4
  int v26; // edx
  unsigned __int8 v27; // r15
  __int128 v29; // kr00_16
  int v30; // r12d
  unsigned int v31; // r8d
  int v32; // r13d
  int v33; // eax
  signed int v34; // edi
  float v36; // xmm7_4
  float v37; // xmm1_4
  __int128 v39; // kr00_16
  float v41; // xmm1_4
  __m128 v42; // xmm2
  float v45; // xmm1_4
  float v46; // xmm1_4
  __int128 v48; // kr00_16
  __int128 v50; // xmm8
  __int128 v51; // kr00_16
  float v52; // xmm9_4
  float v53; // xmm12_4
  float v54; // xmm14_4
  float v55; // xmm13_4
  float v56; // xmm15_4
  float v57; // xmm11_4
  float v58; // xmm7_4
  float v59; // xmm6_4
  float v60; // xmm4_4
  float v61; // xmm5_4
  __int128 v62; // kr00_16
  __int128 v63; // xmm4
  __int128 v64; // xmm1
  __int128 v65; // kr00_16
  __int128 v66; // kr00_16
  __int128 v67; // xmm6
  float v73; // xmm7_4
  __int64 v74; // r8
  float v75; // xmm5_4
  float v76; // xmm2_4
  float v77; // xmm8_4
  float v78; // xmm7_4
  float v79; // xmm4_4
  float v80; // xmm5_4
  float v81; // xmm9_4
  float v82; // xmm6_4
  float v83; // xmm10_4
  float v84; // xmm11_4
  float v85; // xmm13_4
  float v86; // xmm14_4
  float v87; // xmm12_4
  float v88; // xmm7_4
  float v89; // xmm11_4
  float v90; // xmm10_4
  float v91; // xmm9_4
  float v92; // xmm8_4
  float v93; // xmm5_4
  float v94; // xmm4_4
  float v95; // xmm6_4
  float v96; // kr00_4
  double v97; // xmm5_8
  float v98; // xmm1_4
  double v99; // xmm4_8
  float v100; // xmm5_4
  __m128 v101; // xmm6
  float v102; // xmm7_4
  __m128 v103; // kr00_16
  float v106; // xmm1_4
  float v107; // xmm4_4
  float v108; // xmm2_4
  bool v109; // zf
  int v110; // eax
  double v111; // xmm0_8
  double v112; // xmm1_8
  __int128 v113; // xmm0
  double v114; // xmm1_8
  float v115; // eax
  double v116; // xmm1_8
  __int64 v119; // rax
  float v120; // xmm6_4
  float v121; // xmm8_4
  __m128 v122; // xmm9
  float v123; // xmm7_4
  float v124; // xmm14_4
  __m128 v131; // kr00_16
  float v134; // xmm12_4
  __int64 v135; // rax
  char v136; // r13
  __int128 v137; // xmm7
  double v138; // xmm8_8
  double v139; // xmm1_8
  float v140; // xmm13_4
  float v141; // xmm9_4
  float v142; // xmm11_4
  __int64 v143; // rax
  unsigned __int64 n0x200000; // rax
  float v145; // xmm2_4
  float v146; // xmm0_4
  float v147; // kr00_4
  __int64 v148; // rdi
  double v149; // xmm2_8
  __int64 v150; // r15
  double v153; // xmm14_8
  double v154; // xmm13_8
  float v155; // xmm10_4
  float v156; // xmm11_4
  float v157; // xmm15_4
  float v158; // xmm7_4
  float v159; // xmm12_4
  float v160; // xmm4_4
  float v161; // xmm9_4
  float v162; // xmm6_4
  float v163; // xmm4_4
  float v164; // xmm8_4
  float v165; // xmm4_4
  double v166; // xmm10_8
  double v167; // xmm11_8
  float v168; // xmm9_4
  float v169; // xmm8_4
  float v170; // xmm7_4
  float v171; // xmm6_4
  float v172; // xmm4_4
  float v173; // xmm6_4
  float v174; // kr00_4
  double v175; // xmm1_8
  signed __int64 v176; // rdx
  int v177; // r15d
  __int64 v178; // rdi
  Parameter *Parameter_1; // rdx
  __int64 v180; // rdx
  __int64 v182; // rcx
  __int128 v185; // xmm0
  __int128 v188; // kr00_16
  __int128 v189; // xmm0
  char v191; // di
  unsigned __int64 v192; // rdx
  __int64 v193; // rax
  char *v194; // rdx
  char *v195; // r12
  volatile signed __int64 *v196; // r8
  volatile signed __int64 *v197; // r15
  __int64 v198; // rax
  __int64 v199; // rcx
  unsigned __int64 n0x200000_1; // rax
  int v201; // edi
  int n8_4; // eax
  __int64 v203; // r13
  int n8; // r15d
  __int64 v205; // rcx
  float v206; // xmm7_4
  float v207; // xmm8_4
  float v208; // xmm10_4
  float v209; // xmm13_4
  float v210; // xmm12_4
  float v211; // xmm4_4
  float v212; // xmm11_4
  float v213; // xmm9_4
  float v214; // xmm6_4
  float v215; // xmm4_4
  float v216; // xmm1_4
  float v217; // kr00_4
  double v218; // xmm4_8
  float v219; // xmm5_4
  float v220; // kr00_4
  double v221; // xmm6_8
  int n8_1; // eax
  __m128 v223; // xmm2
  __m128 v224; // xmm2
  __int128 v229; // xmm0
  __m128 v230; // xmm2
  __m128 v231; // xmm2
  __int128 v236; // xmm0
  int v237; // r10d
  __int64 v238; // r9
  __m256i *v239; // r8
  __int64 TlsIndex_1; // rcx
  _QWORD *ThreadLocalStoragePointer_1; // rax
  signed __int64 v242; // rdx
  char *v243; // rax
  double *v244; // rcx
  __int64 v245; // rdx
  double v246; // xmm8_8
  double v247; // xmm9_8
  double v248; // xmm10_8
  double v249; // xmm6_8
  double v250; // xmm4_8
  float v257; // xmm6_4
  float v258; // kr00_4
  double v259; // xmm2_8
  double v262; // xmm6_8
  double v263; // xmm5_8
  float v264; // kr00_4
  double v265; // kr00_8
  unsigned __int64 v266; // rdx
  unsigned int v267; // r12d
  __int64 n8_3; // rax
  __int64 v269; // rdi
  __int64 v270; // rcx
  int v271; // r11d
  __int64 v272; // r14
  double v273; // rbx
  __m128 v275; // xmm1
  int v276; // r15d
  int n0x80000; // r9d
  __int64 v278; // r8
  float v280; // xmm14_4
  float v281; // xmm0_4
  int v282; // edx
  float v283; // xmm3_4
  float v284; // xmm13_4
  float v286; // xmm8_4
  float v287; // xmm9_4
  float v288; // xmm10_4
  float v289; // xmm5_4
  float v290; // xmm3_4
  int v291; // xmm2_4
  int v292; // xmm0_4
  int v293; // xmm3_4
  int v294; // ebx
  __int64 v296; // rcx
  __int64 v297; // rax
  __int64 v298; // r10
  __int128 v299; // xmm0
  __int128 v300; // kr00_16
  int v303; // r12d
  float v304; // xmm15_4
  int v305; // ecx
  __int64 v306; // r15
  __int64 v307; // rax
  double v308; // xmm7_8
  double v309; // xmm11_8
  double v311; // xmm12_8
  __int128 v313; // kr00_16
  __int64 v316; // rcx
  __int64 v317; // rdx
  __int64 v318; // rax
  __int64 v319; // r8
  double v321; // xmm11_8
  double v322; // xmm7_8
  double v323; // xmm12_8
  __int64 v327; // r8
  __int64 v328; // rcx
  __int64 v329; // rax
  __int128 v330; // xmm0
  __int128 v331; // kr00_16
  __int128 v336; // kr00_16
  int v340; // ebx
  int v341; // r15d
  __int64 v342; // rax
  double v343; // xmm7_8
  double v345; // xmm3_8
  double v347; // xmm2_8
  __int128 v348; // kr00_16
  int v352; // eax
  double v353; // xmm0_8
  double v354; // xmm1_8
  double v355; // xmm0_8
  double v356; // xmm1_8
  __int128 v357; // xmm0
  double v358; // xmm1_8
  float *v359; // rdx
  int v360; // eax
  float *v361; // rcx
  float v362; // edi
  bool v363; // cf
  double v364; // xmm7_8
  double v365; // kr00_8
  double v366; // xmm5_8
  double v367; // xmm6_8
  __m128 v368; // xmm1
  __m128 v369; // xmm1
  __int128 v370; // kr00_16
  double v373; // xmm5_8
  float v374; // xmm0_4
  __m128 v375; // xmm3
  __m128 v376; // xmm4
  int v377; // eax
  double v378; // xmm0_8
  int v379; // eax
  int v380; // r15d
  int v381; // xmm0_4
  double v382; // xmm0_8
  __int64 v383; // rax
  double v384; // xmm0_8
  unsigned int v385; // eax
  int v386; // eax
  double v387; // xmm0_8
  __int64 v388; // rax
  unsigned int v389; // edi
  unsigned __int64 n0x200000_2; // rax
  int v392; // [rsp+28h] [rbp-E0h]
  char v393; // [rsp+30h] [rbp-D8h]
  int v394; // [rsp+30h] [rbp-D8h]
  int v395; // [rsp+30h] [rbp-D8h]
  int v396; // [rsp+38h] [rbp-D0h]
  int v397; // [rsp+38h] [rbp-D0h]
  int v398; // [rsp+38h] [rbp-D0h]
  char v399; // [rsp+40h] [rbp-C8h]
  char v400; // [rsp+40h] [rbp-C8h]
  char v401; // [rsp+40h] [rbp-C8h]
  int v402; // [rsp+68h] [rbp-A0h]
  float v403; // [rsp+68h] [rbp-A0h]
  float v404; // [rsp+6Ch] [rbp-9Ch]
  int v405; // [rsp+6Ch] [rbp-9Ch]
  int v406; // [rsp+70h] [rbp-98h]
  float v407; // [rsp+70h] [rbp-98h]
  int v408; // [rsp+78h] [rbp-90h]
  float v409; // [rsp+7Ch] [rbp-8Ch]
  float v410; // [rsp+80h] [rbp-88h]
  int v411; // [rsp+84h] [rbp-84h]
  unsigned __int8 v412; // [rsp+88h] [rbp-80h]
  int v413; // [rsp+8Ch] [rbp-7Ch] BYREF
  float v414; // [rsp+90h] [rbp-78h]
  int v415; // [rsp+94h] [rbp-74h] BYREF
  float v416; // [rsp+98h] [rbp-70h]
  float v417; // [rsp+A0h] [rbp-68h]
  float v418; // [rsp+A4h] [rbp-64h]
  double v419; // [rsp+A8h] [rbp-60h]
  float v420; // [rsp+B8h] [rbp-50h] BYREF
  float v421; // [rsp+BCh] [rbp-4Ch]
  float v422; // [rsp+C0h] [rbp-48h]
  float v423; // [rsp+C8h] [rbp-40h] BYREF
  float v424; // [rsp+CCh] [rbp-3Ch]
  float v425; // [rsp+D0h] [rbp-38h]
  double v426; // [rsp+D8h] [rbp-30h]
  double v427; // [rsp+E0h] [rbp-28h]
  __int64 n8_2; // [rsp+E8h] [rbp-20h]
  __int64 v429; // [rsp+F0h] [rbp-18h] BYREF
  float v430; // [rsp+F8h] [rbp-10h]
  __int64 v431; // [rsp+100h] [rbp-8h]
  float v432[4]; // [rsp+108h] [rbp+0h] BYREF
  float v433[4]; // [rsp+118h] [rbp+10h] BYREF
  float v434[4]; // [rsp+128h] [rbp+20h] BYREF
  float v435[4]; // [rsp+138h] [rbp+30h] BYREF
  float v436[12]; // [rsp+148h] [rbp+40h] BYREF
  __int64 v437[2]; // [rsp+178h] [rbp+70h] BYREF
  double v438; // [rsp+188h] [rbp+80h]
  float v439; // [rsp+190h] [rbp+88h]
  float v440; // [rsp+194h] [rbp+8Ch]
  __int128 v441; // [rsp+198h] [rbp+90h]
  float v442; // [rsp+1A8h] [rbp+A0h]
  float v443; // [rsp+1ACh] [rbp+A4h]
  float v444; // [rsp+1B0h] [rbp+A8h]
  float v445; // [rsp+1B4h] [rbp+ACh]
  _BYTE v446[20]; // [rsp+1B8h] [rbp+B0h]
  float v447; // [rsp+1CCh] [rbp+C4h]
  _BYTE v448[24]; // [rsp+1D0h] [rbp+C8h]
  int v449; // [rsp+1E8h] [rbp+E0h]
  _DWORD v450[3]; // [rsp+1F8h] [rbp+F0h] BYREF
  double v451; // [rsp+204h] [rbp+FCh]
  int v452; // [rsp+20Ch] [rbp+104h]
  double v453; // [rsp+210h] [rbp+108h]
  int v454; // [rsp+218h] [rbp+110h]
  int v455; // [rsp+21Ch] [rbp+114h]
  _DWORD v456[3]; // [rsp+220h] [rbp+118h] BYREF
  __int64 v457; // [rsp+22Ch] [rbp+124h]
  int v458; // [rsp+234h] [rbp+12Ch]
  double v459; // [rsp+238h] [rbp+130h]
  int v460; // [rsp+240h] [rbp+138h]
  int v461; // [rsp+244h] [rbp+13Ch]
  int n0x2800; // [rsp+248h] [rbp+140h] BYREF
  __int64 v463; // [rsp+24Ch] [rbp+144h]
  int v464; // [rsp+254h] [rbp+14Ch]
  __int64 v465; // [rsp+258h] [rbp+150h]
  unsigned __int64 v466; // [rsp+260h] [rbp+158h]
  __int64 v467; // [rsp+268h] [rbp+160h]
  __int64 v468; // [rsp+270h] [rbp+168h]
  __int64 v469[2]; // [rsp+298h] [rbp+190h] BYREF
  double v470[3]; // [rsp+2A8h] [rbp+1A0h] BYREF
  double v471[3]; // [rsp+2C0h] [rbp+1B8h] BYREF
  double v472[3]; // [rsp+2D8h] [rbp+1D0h] BYREF
  char v473[8]; // [rsp+2F0h] [rbp+1E8h] BYREF
  __int64 v474; // [rsp+2F8h] [rbp+1F0h] BYREF
  char v475[8]; // [rsp+300h] [rbp+1F8h] BYREF
  __int128 v476; // [rsp+308h] [rbp+200h] BYREF
  __int64 v477; // [rsp+318h] [rbp+210h]
  char v478[96]; // [rsp+328h] [rbp+220h] BYREF
  __m256i v479; // [rsp+388h] [rbp+280h]
  __m256i v480; // [rsp+3A8h] [rbp+2A0h]
  __m256i v481; // [rsp+3C8h] [rbp+2C0h]
  __m256i v482; // [rsp+3E8h] [rbp+2E0h]
  __m256i v483; // [rsp+408h] [rbp+300h]
  __m256i v484; // [rsp+428h] [rbp+320h]
  int v485; // [rsp+448h] [rbp+340h] BYREF
  float v486; // [rsp+44Ch] [rbp+344h]
  float v487; // [rsp+450h] [rbp+348h]
  float v488; // [rsp+454h] [rbp+34Ch]
  float v489; // [rsp+458h] [rbp+350h]
  float v490; // [rsp+45Ch] [rbp+354h]
  float v491; // [rsp+460h] [rbp+358h]
  float v492; // [rsp+464h] [rbp+35Ch]
  float v493; // [rsp+468h] [rbp+360h]
  float v494; // [rsp+46Ch] [rbp+364h]
  float v495; // [rsp+470h] [rbp+368h]
  float v496; // [rsp+474h] [rbp+36Ch]
  float v497; // [rsp+478h] [rbp+370h]
  float v498; // [rsp+47Ch] [rbp+374h]
  float v499; // [rsp+480h] [rbp+378h]
  float v500; // [rsp+484h] [rbp+37Ch]
  float v501; // [rsp+488h] [rbp+380h]
  float v502; // [rsp+48Ch] [rbp+384h]
  _BYTE v503[40]; // [rsp+490h] [rbp+388h]
  double v504; // [rsp+4B8h] [rbp+3B0h]
  int v505; // [rsp+4C0h] [rbp+3B8h]
  __int16 v506; // [rsp+4C4h] [rbp+3BCh]
  bool v507; // [rsp+4C6h] [rbp+3BEh]
  __int64 v508; // [rsp+4C8h] [rbp+3C0h]
  __int64 v509; // [rsp+4D4h] [rbp+3CCh]
  __int64 v510; // [rsp+4E0h] [rbp+3D8h]
  __int64 v511; // [rsp+4E8h] [rbp+3E0h] BYREF
  unsigned int v512; // [rsp+4F0h] [rbp+3E8h]
  unsigned int v513; // [rsp+4F4h] [rbp+3ECh]
  unsigned int v514; // [rsp+4F8h] [rbp+3F0h]
  unsigned int v515; // [rsp+4FCh] [rbp+3F4h]
  unsigned int v516; // [rsp+500h] [rbp+3F8h]
  unsigned int v517; // [rsp+50Ch] [rbp+404h]
  unsigned int v518; // [rsp+510h] [rbp+408h]
  unsigned int v519; // [rsp+524h] [rbp+41Ch]
  unsigned int v520; // [rsp+538h] [rbp+430h]
  __int64 v521; // [rsp+540h] [rbp+438h]
  int v522; // [rsp+548h] [rbp+440h]
  float v523; // [rsp+54Ch] [rbp+444h]
  float v524; // [rsp+550h] [rbp+448h]
  float v525; // [rsp+554h] [rbp+44Ch]
  unsigned int v526; // [rsp+558h] [rbp+450h]
  int v527; // [rsp+55Ch] [rbp+454h]
  float v528; // [rsp+560h] [rbp+458h]
  float v529; // [rsp+564h] [rbp+45Ch]
  float v530; // [rsp+568h] [rbp+460h]
  __int64 v531; // [rsp+570h] [rbp+468h]
  int v532; // [rsp+578h] [rbp+470h]
  int n0xC; // [rsp+580h] [rbp+478h]
  unsigned int v534; // [rsp+584h] [rbp+47Ch]
  unsigned int v535; // [rsp+588h] [rbp+480h]
  unsigned int v536; // [rsp+58Ch] [rbp+484h]
  unsigned int v537; // [rsp+590h] [rbp+488h]
  unsigned int v538; // [rsp+594h] [rbp+48Ch]
  unsigned int v539; // [rsp+598h] [rbp+490h]
  unsigned int v540; // [rsp+5A4h] [rbp+49Ch]
  unsigned int v541; // [rsp+5A8h] [rbp+4A0h]
  unsigned int v542; // [rsp+5BCh] [rbp+4B4h]
  unsigned int v543; // [rsp+5D0h] [rbp+4C8h]
  __int64 v544; // [rsp+5D8h] [rbp+4D0h]
  int v545; // [rsp+5E0h] [rbp+4D8h]
  float v546; // [rsp+5E4h] [rbp+4DCh]
  float v547; // [rsp+5E8h] [rbp+4E0h]
  float v548; // [rsp+5ECh] [rbp+4E4h]
  unsigned int v549; // [rsp+5F0h] [rbp+4E8h]
  int v550; // [rsp+5F4h] [rbp+4ECh]
  float v551; // [rsp+5F8h] [rbp+4F0h]
  float v552; // [rsp+5FCh] [rbp+4F4h]
  float v553; // [rsp+600h] [rbp+4F8h]
  __int64 v554; // [rsp+608h] [rbp+500h]
  int v555; // [rsp+610h] [rbp+508h]
  int n0xC_1; // [rsp+618h] [rbp+510h]
  unsigned int v557; // [rsp+61Ch] [rbp+514h]
  unsigned int v558; // [rsp+620h] [rbp+518h]
  unsigned int v559; // [rsp+624h] [rbp+51Ch]
  unsigned int v560; // [rsp+628h] [rbp+520h]
  unsigned int v561; // [rsp+62Ch] [rbp+524h]
  unsigned int v562; // [rsp+630h] [rbp+528h]
  unsigned int v563; // [rsp+63Ch] [rbp+534h]
  unsigned int v564; // [rsp+640h] [rbp+538h]
  unsigned int v565; // [rsp+654h] [rbp+54Ch]
  unsigned int v566; // [rsp+668h] [rbp+560h]
  __int64 v567; // [rsp+670h] [rbp+568h]
  int v568; // [rsp+678h] [rbp+570h]
  float v569; // [rsp+67Ch] [rbp+574h]
  float v570; // [rsp+680h] [rbp+578h]
  float v571; // [rsp+684h] [rbp+57Ch]
  unsigned int v572; // [rsp+688h] [rbp+580h]
  int v573; // [rsp+68Ch] [rbp+584h]
  float v574; // [rsp+690h] [rbp+588h]
  float v575; // [rsp+694h] [rbp+58Ch]
  float v576; // [rsp+698h] [rbp+590h]
  __int64 v577; // [rsp+6A0h] [rbp+598h]
  int v578; // [rsp+6A8h] [rbp+5A0h]
  int n0xC_2; // [rsp+6B0h] [rbp+5A8h]
  unsigned int v580; // [rsp+6B4h] [rbp+5ACh]
  unsigned int v581; // [rsp+6B8h] [rbp+5B0h]
  unsigned int v582; // [rsp+6BCh] [rbp+5B4h]
  unsigned int v583; // [rsp+6C0h] [rbp+5B8h]
  unsigned int v584; // [rsp+6C4h] [rbp+5BCh]
  unsigned int v585; // [rsp+6C8h] [rbp+5C0h]
  unsigned int v586; // [rsp+6D4h] [rbp+5CCh]
  unsigned int v587; // [rsp+6D8h] [rbp+5D0h]
  unsigned int v588; // [rsp+6ECh] [rbp+5E4h]
  unsigned int v589; // [rsp+700h] [rbp+5F8h]
  __int64 v590; // [rsp+708h] [rbp+600h]
  int v591; // [rsp+710h] [rbp+608h]
  float v592; // [rsp+714h] [rbp+60Ch]
  float v593; // [rsp+718h] [rbp+610h]
  float v594; // [rsp+71Ch] [rbp+614h]
  unsigned int v595; // [rsp+720h] [rbp+618h]
  int v596; // [rsp+724h] [rbp+61Ch]
  float v597; // [rsp+728h] [rbp+620h]
  float v598; // [rsp+72Ch] [rbp+624h]
  float v599; // [rsp+730h] [rbp+628h]
  __int64 v600; // [rsp+738h] [rbp+630h]
  int v601; // [rsp+740h] [rbp+638h]
  __int128 v602; // [rsp+768h] [rbp+660h]
  __int128 v603; // [rsp+778h] [rbp+670h]
  __int128 v604; // [rsp+788h] [rbp+680h]
  __int128 v605; // [rsp+798h] [rbp+690h]
  __int128 v606; // [rsp+7A8h] [rbp+6A0h]
  __int128 v607; // [rsp+7B8h] [rbp+6B0h]

  v9 = *(_OWORD *)&a2;
  n0x2800 = 0x2800;
  v463 = 0;
  v464 = 0;
  v466 = 0;
  v467 = 0;
  v468 = 0;
  v465 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v10 = (volatile signed __int64 *)((char *)Parameter + 0xA08);
  if ( _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x141, 0x200000, 0) )
    __debugbreak();
  v469[0] = (__int64)Parameter;
  v11 = sub_1403E4CF0();
  TlsIndex = (unsigned int)::TlsIndex;
  v14 = 0.0;
  v469[1] = v11.QuadPart;
  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  v492 = 100.0;
  v16 = ThreadLocalStoragePointer[::TlsIndex];
  *(__m256 *)&v503[8] = ymmword_148773180;
  v493 = 0.000001;
  v17 = *(int *)(v16 + 0x800);
  v408 = *(_DWORD *)(v16 + 0x800);
  v494 = 0.017453292;
  v416 = 0.0;
  v495 = 0.0;
  v486 = 0.0;
  v487 = 0.0;
  v488 = 0.0;
  v499 = 0.0;
  v500 = 0.0;
  v501 = 1.0;
  v496 = 0.0;
  v497 = 0.0;
  v498 = 0.0;
  v489 = 0.0;
  v490 = 0.0;
  v491 = 0.0;
  *(double *)v503 = 1.999999999998e12;
  v504 = 1.999999999998e12;
  v502 = 1.0e10;
  v485 = 0;
  v510 = 0;
  v505 = 0;
  v506 = 0;
  v507 = 0;
  v508 = 0;
  v509 = 0;
  if ( *((_BYTE *)Parameter + 0x960) )
  {
    v18 = *((_QWORD *)Parameter + 0x58);
    *((_BYTE *)Parameter + 0x960) = 0;
    __asm { vzeroupper }
    sub_146954FE0(v18, Parameter);
  }
  __asm { vzeroupper }
  v19 = sub_1467E1BA0(Parameter, TlsIndex, v12.QuadPart);
  v20 = *((double *)Parameter + 0xC7);
  *((_OWORD *)Parameter + 0x7C) = *(_OWORD *)((char *)Parameter + 0x628);
  *((double *)Parameter + 0xFA) = v20;
  v21 = *(__m256 *)((char *)Parameter + 0x790);
  *((_DWORD *)Parameter + 0x212) = *((_DWORD *)Parameter + 0x190);
  *((_DWORD *)Parameter + 0x213) = *((_DWORD *)Parameter + 0x191);
  *((_DWORD *)Parameter + 0x214) = *((_DWORD *)Parameter + 0x192);
  v406 = v19;
  *((_DWORD *)Parameter + 0x215) = *((_DWORD *)Parameter + 0x193);
  v22 = *((__m128 *)Parameter + 0x7B);
  *(__m256 *)((char *)Parameter + 0x790) = _mm256_add_pd(v21, *((__m256 *)Parameter + 0x3B));
  *((__m128 *)Parameter + 0x7B) = _mm_add_pd(v22, *((__m128 *)Parameter + 0x78));
  v23 = *((float *)Parameter + 0x148);
  *((_QWORD *)Parameter + 0xB2) = 0;
  *((_DWORD *)Parameter + 0x163) = 0;
  *(_QWORD *)((char *)Parameter + 0x59C) = 0;
  *((_DWORD *)Parameter + 0x166) = 0;
  v24 = *((_QWORD *)Parameter + 0x58);
  *((_QWORD *)Parameter + 0xB5) = 0;
  *((_DWORD *)Parameter + 0x15F) = 0;
  if ( (float)(v23 - *(float *)(v24 + 0x114)) < *((float *)Parameter + 0x149)
    || !*((_DWORD *)Parameter + 0xA4)
    || (*((_BYTE *)Parameter + 0x208) & 0x20) != 0 )
  {
    if ( (*((_DWORD *)Parameter + 0x259) & 0xFFA00000) != 0xFFA00000
      || (*((_DWORD *)Parameter + 0x25C) & 0xFFA00000) != 0xFFA00000 )
    {
      v386 = *((_DWORD *)Parameter + 0x25B);
      v457 = *(_QWORD *)((char *)Parameter + 0x964);
      v387 = *((double *)Parameter + 0x12E);
      v458 = v386;
      v460 = *((_DWORD *)Parameter + 0x25E);
      v388 = *(_QWORD *)Parameter;
      v459 = v387;
      v456[0] = 8;
      v456[1] = 0x80000000;
      v456[2] = 0x80000000;
      v461 = 0;
      __asm { vzeroupper }
      (*(void (__fastcall **)(Parameter *, _DWORD *, __int64))(v388 + 0x30))(Parameter, v456, 1);
      *((_DWORD *)Parameter + 0x259) = 0xFFBFFFFF;
      *((_DWORD *)Parameter + 0x25C) = 0xFFBFFFFF;
    }
    if ( (*((_BYTE *)Parameter + 0x208) & 0x20) != 0 )
    {
      __asm { vzeroupper }
      if ( (*(unsigned int (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 8LL))(Parameter) != 0xA
        || (*((_BYTE *)Parameter + 0x208) & 8) == 0 )
      {
        goto LABEL_162;
      }
    }
    if ( !*((_DWORD *)Parameter + 0xA4) )
    {
LABEL_162:
      __asm { vzeroupper }
      (*(void (__fastcall **)(Parameter *, _QWORD, _QWORD))(*(_QWORD *)Parameter + 0x268LL))(Parameter, 0, 0);
    }
    __asm { vzeroupper }
    v385 = (*(__int64 (__fastcall **)(Parameter *, __int64))(*(_QWORD *)Parameter + 0x3B8LL))(Parameter, 1);
    goto LABEL_164;
  }
  v607 = v2;
  v606 = v3;
  v605 = v4;
  v604 = v5;
  v603 = v6;
  __asm { vzeroupper }
  sub_146773990(Parameter, *(float *)&v9);
  v25 = *((float *)Parameter + 0x14C);
  ++*((_DWORD *)Parameter + 0x14D);
  v26 = *((_DWORD *)Parameter + 0x12B);
  *((float *)Parameter + 0x149) = *(float *)&v9 + *((float *)Parameter + 0x149);
  *((float *)Parameter + 0x14A) = *(float *)&v9;
  *((_DWORD *)Parameter + 0x14C) = 0;
  *((_DWORD *)Parameter + 0x161) = 0x3DCCCCCD;
  v27 = 0;
  v29 = v9;
  *(float *)&v29 = *(float *)&v9
                 + (float)((float)(COERCE_UNSIGNED_INT(0.0000000099999999 - v25) >> 0x1F) * (float)(v25 - *(float *)&v9));
  _XMM9 = v29;
  v30 = 0;
  v412 = 0;
  v31 = *((_DWORD *)Parameter + 0x129) & ((v26 << 0x1C) | 0xEFFFFFFF);
  v427 = *((double *)Parameter + 0xDD) * *((double *)Parameter + 0xDD)
       + *((double *)Parameter + 0xDE) * *((double *)Parameter + 0xDE)
       + *((double *)Parameter + 0xDF) * *((double *)Parameter + 0xDF);
  *(double *)&v29 = v427;
  *((_DWORD *)Parameter + 0x129) = v31;
  v402 = 0;
  v32 = -((__int64)((v29 & 0x7FFFFFFFFFFFFFFFLL) - 1) >> 0x3F);
  v33 = (*((_DWORD *)Parameter + 0x12A) >> 5) & 0xF;
  *(_QWORD *)&v426 = (unsigned int)-((__int64)((v29 & 0x7FFFFFFFFFFFFFFFLL) - 1) >> 0x3F);
  v409 = *(float *)&_XMM9;
  v34 = (unsigned int)(4 - v32 * v33) >> 0x1F;
  *((_DWORD *)Parameter + 0x82) ^= (*((_DWORD *)Parameter + 0x82) ^ -((v31 >> 0x1C) & 1)) & 0x100;
  if ( !v26 )
  {
    if ( (v31 & 0x3FC0000) != 0 )
      sub_1467C4DF0(Parameter, &v474, 0.0, 1, 0);
    (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x378LL))(Parameter);
    v356 = *((double *)Parameter + 4);
    *(_OWORD *)((char *)Parameter + 0x418) = *((_OWORD *)Parameter + 1);
    v357 = *(_OWORD *)((char *)Parameter + 0x28);
    *((double *)Parameter + 0x85) = v356;
    v358 = *((double *)Parameter + 7);
    *((_OWORD *)Parameter + 0x43) = v357;
    *((double *)Parameter + 0x88) = v358;
    goto LABEL_143;
  }
  *(_OWORD *)v446 = 0;
  __asm { vmovupd xmmword ptr [rbp+720h+var_6B0], xmm0 }
  v441 = xmmword_148153550;
  _XMM0 = 0;
  __asm { vmovupd [rbp+720h+var_658+8], xmm0 }
  *(float *)&v446[0x10] = 0.0;
  v447 = 0.0;
  v438 = 0.0;
  v439 = 1.0;
  v440 = 0.0;
  v442 = 0.0;
  v443 = 0.0;
  v444 = 1.0;
  *(double *)v448 = 0.0;
  v445 = 1.0;
  v602 = v7;
  v449 = 0;
  *(_QWORD *)((char *)Parameter + 0x86C) = 0;
  *((_DWORD *)Parameter + 0x21A) = 0;
  *((_QWORD *)Parameter + 0x10F) = 0;
  *((_DWORD *)Parameter + 0x21D) = 0;
  v36 = 1.0 / *(float *)&_XMM9;
  if ( *((_DWORD *)Parameter + 0x211) || *((double *)Parameter + 0xD7) <= 0.0 )
  {
    v37 = *((float *)Parameter + 0x278);
    if ( v37 > 0.0 )
    {
      if ( v37 > 0.000001 )
      {
        v39 = *((unsigned int *)Parameter + 0x278);
        *(float *)&v39 = v37 * v36;
        _XMM0 = v39;
        __asm { vminss  xmm2, xmm0, xmm6 }
        *((float *)Parameter + 0x278) = v37 - *(float *)&_XMM9;
        v41 = *(float *)&_XMM2 * *((float *)Parameter + 0x276);
        *(float *)&_XMM0 = *(float *)&_XMM2 * *((float *)Parameter + 0x275);
        *(float *)&_XMM2 = *(float *)&_XMM2 * *((float *)Parameter + 0x277);
        *((float *)Parameter + 0x1A3) = *(float *)&_XMM0;
        *((float *)Parameter + 0x1A5) = *(float *)&_XMM2;
        *((float *)Parameter + 0x1A4) = v41;
        v42 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
        _XMM5 = *((unsigned __int64 *)Parameter + 0xD6);
        __asm { vcvtpd2ps xmm5, xmm5 }
        v45 = *((float *)Parameter + 0x1A5);
        *((double *)Parameter + 0xCA) = (float)(v42.m128_f32[0] * *(float *)&_XMM5);
        *((double *)Parameter + 0xCB) = (float)(_mm_shuffle_ps(v42, v42, 0x55).m128_f32[0] * *(float *)&_XMM5);
        v419 = *(double *)v42.m128_u64;
        *((double *)Parameter + 0xCC) = (float)(v45 * *(float *)&_XMM5);
        *((_DWORD *)Parameter + 0x1A6) = *((_DWORD *)Parameter + 0x1A3);
        *((_DWORD *)Parameter + 0x1A7) = *((_DWORD *)Parameter + 0x1A4);
        *((_DWORD *)Parameter + 0x1A8) = *((_DWORD *)Parameter + 0x1A5);
        (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter);
      }
      else
      {
        *((_DWORD *)Parameter + 0x278) = 0;
        *((_DWORD *)Parameter + 0x279) = 0xFFFFFFFF;
        *(_QWORD *)((char *)Parameter + 0x9D4) = 0;
        *((_DWORD *)Parameter + 0x277) = 0;
        *(_QWORD *)((char *)Parameter + 0x68C) = 0;
        *(_QWORD *)((char *)Parameter + 0x694) = 0;
        *((_QWORD *)Parameter + 0xCA) = 0;
        *((_QWORD *)Parameter + 0xCB) = 0;
        *((_QWORD *)Parameter + 0xCC) = 0;
        *(_QWORD *)((char *)Parameter + 0x69C) = 0;
      }
    }
    v46 = *((float *)Parameter + 0x27D);
    if ( v46 > 0.0 )
    {
      if ( v46 > 0.000001 )
      {
        v48 = *((unsigned int *)Parameter + 0x27D);
        *(float *)&v48 = v46 * v36;
        _XMM0 = v48;
        __asm { vminss  xmm2, xmm0, xmm6 }
        *((float *)Parameter + 0x27D) = v46 - *(float *)&_XMM9;
        v51 = _XMM2;
        *(float *)&v51 = *(float *)&_XMM2 * *((float *)Parameter + 0x27A);
        v50 = v51;
        v52 = *(float *)&_XMM2 * *((float *)Parameter + 0x27B);
        v53 = *(float *)&_XMM2 * *((float *)Parameter + 0x27C);
        *((float *)Parameter + 0x1A0) = *(float *)&v51;
        *((float *)Parameter + 0x1A1) = v52;
        *((float *)Parameter + 0x1A2) = v53;
        v54 = *((float *)Parameter + 0x191);
        v55 = *((float *)Parameter + 0x192);
        v56 = *((float *)Parameter + 0x190);
        v57 = *((float *)Parameter + 0x193);
        v58 = (float)((float)(v55 * v52) - (float)(v54 * v53)) + (float)(v57 * *(float *)&v51);
        v59 = (float)((float)(v53 * v56) - (float)(v55 * *(float *)&v51)) + (float)(v57 * v52);
        v60 = (float)((float)(v54 * *(float *)&v51) - (float)(v52 * v56)) + (float)(v57 * v53);
        v61 = (float)(v55 * v59) - (float)(v54 * v60);
        v62 = LODWORD(v56);
        *(float *)&v62 = (float)(v56 * v60) - (float)(v55 * v58);
        v63 = v62;
        v65 = v50;
        *(float *)&v65 = *(float *)&v50 + v61;
        v64 = v65;
        v66 = LODWORD(v54);
        *(float *)&v66 = (float)(v54 * v58) - (float)(v56 * v59);
        v67 = v66;
        *((_QWORD *)&v66 + 1) = *((_QWORD *)&v64 + 1);
        *(double *)&v66 = (float)(*(float *)&v64 + v61) * *((double *)Parameter + 0xBF);
        _XMM3 = v66;
        __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
        *((_QWORD *)&v66 + 1) = *((_QWORD *)&v63 + 1);
        *(double *)&v66 = (float)((float)(*(float *)&v63 + v52) + *(float *)&v63) * *((double *)Parameter + 0xC0);
        _XMM3 = v66;
        __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
        *((_QWORD *)&v66 + 1) = *((_QWORD *)&v67 + 1);
        *(double *)&v66 = (float)((float)(*(float *)&v67 + v53) + *(float *)&v67) * *((double *)Parameter + 0xC1);
        _XMM3 = v66;
        __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
        v73 = (float)((float)(*(float *)&_XMM8 * v54) - (float)(*(float *)&_XMM9 * v55))
            + (float)(*(float *)&_XMM10 * v57);
        *(float *)&v67 = (float)((float)(*(float *)&_XMM10 * v55) - (float)(*(float *)&_XMM8 * v56))
                       + (float)(*(float *)&_XMM9 * v57);
        *(float *)&v63 = (float)((float)(*(float *)&_XMM9 * v56) - (float)(*(float *)&_XMM10 * v54))
                       + (float)(*(float *)&_XMM8 * v57);
        *((double *)Parameter + 0xCD) = (float)((float)(*(float *)&_XMM10
                                                      + (float)((float)(v54 * *(float *)&v63)
                                                              - (float)(v55 * *(float *)&v67)))
                                              + (float)((float)(v54 * *(float *)&v63) - (float)(v55 * *(float *)&v67)));
        *((double *)Parameter + 0xCE) = (float)((float)(*(float *)&_XMM9
                                                      + (float)((float)(v55 * v73) - (float)(v56 * *(float *)&v63)))
                                              + (float)((float)(v55 * v73) - (float)(v56 * *(float *)&v63)));
        *((double *)Parameter + 0xCF) = (float)((float)(*(float *)&_XMM8
                                                      + (float)((float)(v56 * *(float *)&v67) - (float)(v54 * v73)))
                                              + (float)((float)(v56 * *(float *)&v67) - (float)(v54 * v73)));
        *((_DWORD *)Parameter + 0x1A9) = *((_DWORD *)Parameter + 0x1A0);
        *((_DWORD *)Parameter + 0x1AA) = *((_DWORD *)Parameter + 0x1A1);
        *((_DWORD *)Parameter + 0x1AB) = *((_DWORD *)Parameter + 0x1A2);
        (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter);
        v14 = v416;
        *(float *)&_XMM9 = v409;
      }
      else
      {
        *((_DWORD *)Parameter + 0x27D) = 0;
        *((_DWORD *)Parameter + 0x27E) = 0xFFFFFFFF;
        *((_QWORD *)Parameter + 0x13D) = 0;
        *((_DWORD *)Parameter + 0x27C) = 0;
        *((_QWORD *)Parameter + 0xD0) = 0;
        *((_DWORD *)Parameter + 0x1A2) = 0;
        *((_QWORD *)Parameter + 0xCD) = 0;
        *((_QWORD *)Parameter + 0xCE) = 0;
        *((_QWORD *)Parameter + 0xCF) = 0;
        *(_QWORD *)((char *)Parameter + 0x6A4) = 0;
        *((_DWORD *)Parameter + 0x1AB) = 0;
      }
    }
  }
  sub_1467385F0((__int64)Parameter + 0x5B0, *(float *)&_XMM9, *((_BYTE *)Parameter + 0x384) & 1);
  v75 = *((float *)Parameter + 0x222);
  v76 = *((float *)Parameter + 0x221);
  *((double *)Parameter + 0xC5) = *((float *)Parameter + 0x220) + *((double *)Parameter + 0xC5);
  *((double *)Parameter + 0xC6) = v76 + *((double *)Parameter + 0xC6);
  *((double *)Parameter + 0xC7) = v75 + *((double *)Parameter + 0xC7);
  *(_QWORD *)((char *)Parameter + 0x884) = 0;
  *((_DWORD *)Parameter + 0x220) = 0;
  v77 = *((float *)Parameter + 0x191);
  v78 = *((float *)Parameter + 0x1B3);
  v79 = *((float *)Parameter + 0x190);
  v80 = *((float *)Parameter + 0x1B2);
  v81 = *((float *)Parameter + 0x192);
  v82 = *((float *)Parameter + 0x1B4);
  v83 = *((float *)Parameter + 0x193);
  v84 = *((float *)Parameter + 0x1B5);
  v85 = (float)(v84 * v83) - (float)((float)((float)(v80 * v79) + (float)(v78 * v77)) + (float)(v82 * v81));
  v86 = (float)((float)((float)(v82 * v77) - (float)(v81 * v78)) + (float)(v80 * v83)) + (float)(v79 * v84);
  v87 = (float)((float)((float)(v81 * v80) - (float)(v82 * v79)) + (float)(v78 * v83)) + (float)(v77 * v84);
  v88 = (float)((float)((float)(v79 * v78) - (float)(v80 * v77)) + (float)(v82 * v83)) + (float)(v81 * v84);
  *((float *)Parameter + 0xF8) = v88;
  *((float *)Parameter + 0xF6) = v86;
  *((float *)Parameter + 0xF7) = v87;
  *((float *)Parameter + 0xF9) = v85;
  v89 = *((float *)Parameter + 0x1B8);
  v90 = *((float *)Parameter + 0x1B7);
  v91 = *((float *)Parameter + 0x1B6);
  v92 = (float)((float)(v87 * v89) - (float)(v88 * v90)) + (float)(v85 * v91);
  v93 = (float)((float)(v91 * v88) - (float)(v86 * v89)) + (float)(v90 * v85);
  v94 = (float)((float)(v90 * v86) - (float)(v91 * v87)) + (float)(v89 * v85);
  v95 = (float)(v87 * v94) - (float)(v88 * v93);
  v96 = v86 * v93;
  v97 = *((double *)Parameter + 0xC7);
  v98 = v86 * v94;
  v99 = *((double *)Parameter + 0xC6);
  *((double *)Parameter + 0x78) = *((double *)Parameter + 0xC5) - (float)((float)(v95 + v91) + v95);
  *((double *)Parameter + 0x79) = v99
                                - (float)((float)((float)((float)(v88 * v92) - v98) + v90)
                                        + (float)((float)(v88 * v92) - v98));
  *((double *)Parameter + 0x7A) = v97
                                - (float)((float)((float)(v96 - (float)(v87 * v92)) + v89)
                                        + (float)(v96 - (float)(v87 * v92)));
  v100 = *((float *)Parameter + 0x14F);
  v101 = (__m128)*((unsigned int *)Parameter + 0x14E);
  v102 = *((float *)Parameter + 0x150);
  v103 = v101;
  v103.m128_f32[0] = (float)((float)(v101.m128_f32[0] * v101.m128_f32[0]) + (float)(v100 * v100)) + (float)(v102 * v102);
  if ( v103.m128_f32[0] <= 9.9999997e-21 )
  {
    v107 = v14;
    v108 = 1.0;
  }
  else
  {
    _XMM0 = _mm_shuffle_ps(v103, v103, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v106 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v103.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
         * _XMM3.m128_f32[0];
    v107 = v100 * v106;
    v108 = v102 * v106;
    v14 = v101.m128_f32[0] * v106;
  }
  v109 = (*((_BYTE *)Parameter + 0x4A4) & 1) == 0;
  v110 = *((_DWORD *)Parameter + 0x1A5);
  LODWORD(v499) = LODWORD(v14) ^ 0x80000000;
  LODWORD(v501) = LODWORD(v108) ^ 0x80000000;
  v111 = *((double *)Parameter + 0xD0);
  LODWORD(v500) = LODWORD(v107) ^ 0x80000000;
  v112 = *(double *)((char *)Parameter + 0x68C);
  *(double *)&v446[0xC] = v111;
  v113 = *(_OWORD *)((char *)Parameter + 0x628);
  *(double *)v446 = v112;
  v114 = *((double *)Parameter + 0xC7);
  *(_DWORD *)&v446[8] = v110;
  v115 = *((float *)Parameter + 0x1A2);
  *(_OWORD *)v448 = v113;
  v447 = v115;
  *(double *)&v448[0x10] = v114;
  if ( !v109
    || *((_DWORD *)Parameter + 0xA4) == 1
    && (*(unsigned int (__fastcall **)(_QWORD))(****((_QWORD ****)Parameter + 0x47) + 0xC8LL))(***((_QWORD ***)Parameter
                                                                                                 + 0x47)) )
  {
    v116 = *((double *)Parameter + 0xC7);
    *(_OWORD *)v503 = *(_OWORD *)((char *)Parameter + 0x628);
    *(double *)&v503[0x10] = v116;
  }
  _XMM1 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 5) - *((double *)Parameter + 2));
  _XMM0 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 6) - *((double *)Parameter + 3));
  v119 = *((_QWORD *)Parameter + 0x58);
  v120 = *((float *)Parameter + 0xF9);
  v121 = *((float *)Parameter + 0xF7);
  v122 = (__m128)*((unsigned int *)Parameter + 0xF8);
  v123 = *((float *)Parameter + 0xF6);
  v124 = v409;
  __asm
  {
    vcvtsd2ss xmm4, xmm0, xmm0
    vcvtsd2ss xmm5, xmm1, xmm1
  }
  _XMM2 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 7) - *((double *)Parameter + 4));
  __asm
  {
    vcvtsd2ss xmm3, xmm2, xmm2
    vmaxss  xmm0, xmm4, xmm5
    vmaxss  xmm1, xmm3, xmm0
  }
  v494 = 0.061086528;
  v502 = *(float *)&_XMM1;
  v131 = v122;
  v131.m128_f32[0] = (float)((float)(v122.m128_f32[0] * v122.m128_f32[0]) + (float)(v121 * v121))
                   + (float)((float)(v123 * v123) + (float)(v120 * v120));
  HIDWORD(v508) = 1;
  v507 = *(_DWORD *)(v119 + 0x4C4) != 0;
  v415 = 0xFFFFFFFF;
  _XMM3 = _mm_shuffle_ps(v131, v131, 0);
  __asm { vrsqrtps xmm5, xmm3 }
  _XMM5.m128_f32[0] = _mm_shuffle_ps(_XMM5, _XMM5, 0xFF).m128_f32[0];
  _XMM3.m128_f32[0] = (float)(1.5
                            - (float)((float)((float)(_XMM5.m128_f32[0] * v131.m128_f32[0]) * _XMM5.m128_f32[0]) * 0.5))
                    * _XMM5.m128_f32[0];
  *((float *)Parameter + 0xF9) = v120 * _XMM3.m128_f32[0];
  *((float *)Parameter + 0xF8) = v122.m128_f32[0] * _XMM3.m128_f32[0];
  v134 = v123 * _XMM3.m128_f32[0];
  *((float *)Parameter + 0xF6) = v123 * _XMM3.m128_f32[0];
  *((float *)Parameter + 0xF7) = v121 * _XMM3.m128_f32[0];
  v135 = *((_QWORD *)Parameter + 0x58);
  v136 = 0;
  LODWORD(_XMM2) = *((_DWORD *)Parameter + 0x147);
  v414 = v123 * _XMM3.m128_f32[0];
  v410 = 0.5 * *(float *)(v135 + 0x13C);
  if ( (float)((float)(v409 - (float)v34) * *((float *)Parameter + 0x146)) <= (float)(*(float *)&_XMM2 * 0.70999998) )
  {
    if ( (*((_DWORD *)Parameter + 0x129) & 0x10000000) != 0 )
      (*(void (__fastcall **)(Parameter *, char *, __int64, _QWORD))(*(_QWORD *)Parameter + 0x390LL))(
        Parameter,
        v473,
        v74,
        0);
    v492 = v409;
  }
  else
  {
    v137 = *((_OWORD *)Parameter + 0x3C);
    v138 = *((double *)Parameter + 0x7A);
    v139 = *((double *)Parameter + 0x3A);
    *((_OWORD *)Parameter + 0x3C) = *((_OWORD *)Parameter + 0x1C);
    *((double *)Parameter + 0x7A) = v139;
    v140 = *((float *)Parameter + 0xF7);
    v141 = *((float *)Parameter + 0xF8);
    v142 = *((float *)Parameter + 0xF9);
    *((_DWORD *)Parameter + 0xF6) = *((_DWORD *)Parameter + 0x76);
    *((_DWORD *)Parameter + 0xF7) = *((_DWORD *)Parameter + 0x77);
    *((_DWORD *)Parameter + 0xF8) = *((_DWORD *)Parameter + 0x78);
    *((_DWORD *)Parameter + 0xF9) = *((_DWORD *)Parameter + 0x79);
    v418 = v140;
    v404 = v141;
    v403 = v142;
    v143 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x19, 0x200000, 0);
    if ( v143 )
      sub_1403DE750((__int64)Parameter + 0xC8, v143, 0, (__int64)"CRigidEntity::Step", (__int64)"m_lockUpdate", 1);
    (*(void (__fastcall **)(Parameter *, char *, __int64))(*(_QWORD *)Parameter + 0x130LL))(
      Parameter,
      (char *)Parameter + 0x418,
      2);
    v136 = 1;
    if ( Parameter != (Parameter *)0xFFFFFFFFFFFFFF38LL )
    {
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x19, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)Parameter + 0x19, n0x200000);
    }
    v145 = v409 * *(float *)&v446[8];
    v146 = v409 * *(float *)&v446[4];
    v417 = v502 - 1.0;
    v147 = v409 * *(float *)v446;
    LOBYTE(v505) = 1;
    *((_DWORD *)Parameter + 0x82) |= -(COERCE_UNSIGNED_INT(v502 - 1.0) >> 0x1F) & 0x100;
    v492 = v409;
    v432[0] = v147;
    v432[1] = v146;
    v432[2] = v145;
    sub_1467A19A0(Parameter, (__int128 *)v437, (__int64)&v485, (unsigned int *)&v415, (__int64)v432, 0, 0xFFFFFFFF);
    v148 = v510;
    if ( v415 < 0 )
    {
      *((_OWORD *)Parameter + 0x3C) = v137;
      *((double *)Parameter + 0x7A) = v138;
    }
    else
    {
      v149 = *((double *)Parameter + 0x79);
      v150 = 0xC0LL * v415;
      _XMM1 = COERCE_UNSIGNED_INT64(v410 + *(double *)(v150 + v510));
      __asm { vcvtsd2ss xmm5, xmm1, xmm1 }
      v419 = *(double *)(v150 + v510 + 0x6C);
      v153 = v149
           - (float)(_mm_shuffle_ps((__m128)*(unsigned __int64 *)&v419, (__m128)*(unsigned __int64 *)&v419, 0x55).m128_f32[0]
                   * *(float *)&_XMM5);
      v154 = *((double *)Parameter + 0x7A) - (float)(*(float *)(v150 + v510 + 0x74) * *(float *)&_XMM5);
      *((double *)Parameter + 0x78) = *((double *)Parameter + 0x78) - (float)(*(float *)&v419 * *(float *)&_XMM5);
      *((double *)Parameter + 0x79) = v153;
      *((double *)Parameter + 0x7A) = v154;
      v155 = *((float *)Parameter + 0xF7);
      LODWORD(_XMM5) = *((_DWORD *)Parameter + 0xF8);
      v156 = *((float *)Parameter + 0x1B7);
      v157 = *((float *)Parameter + 0x1B6);
      v158 = *((float *)Parameter + 0xF6);
      v159 = *((float *)Parameter + 0x1B8);
      v160 = *((float *)Parameter + 0xF9);
      v161 = (float)((float)(v159 * v155) - (float)(v156 * *(float *)&_XMM5)) + (float)(v157 * v160);
      v162 = (float)((float)(v157 * *(float *)&_XMM5) - (float)(v158 * v159)) + (float)(v160 * v156);
      v163 = (float)((float)(v158 * v156) - (float)(v157 * v155)) + (float)(v160 * v159);
      v164 = (float)(v163 * v155) - (float)(v162 * *(float *)&_XMM5);
      *(float *)&_XMM5 = (float)(v161 * *(float *)&_XMM5) - (float)(v163 * v158);
      v165 = (float)(v162 * v158) - (float)(v161 * v155);
      v166 = (float)((float)(*(float *)&_XMM5 + v156) + *(float *)&_XMM5) + v153;
      v167 = (float)((float)(v165 + v159) + v165) + v154;
      v140 = v418;
      *((double *)Parameter + 0xC5) = (float)((float)(v164 + v157) + v164) + *((double *)Parameter + 0x78);
      *((double *)Parameter + 0xC6) = v166;
      *((double *)Parameter + 0xC7) = v167;
      v168 = *((float *)Parameter + 0x1B8);
      v169 = *((float *)Parameter + 0x1B7);
      v170 = (float)((float)(v140 * v168) - (float)(v404 * v169)) + (float)(v403 * v157);
      v134 = v414;
      v171 = (float)((float)(v404 * v157) - (float)(v414 * v168)) + (float)(v403 * v169);
      v172 = (float)((float)(v414 * v169) - (float)(v140 * v157)) + (float)(v403 * v168);
      *(float *)&_XMM5 = (float)(v172 * v140) - (float)(v171 * v404);
      v173 = (float)(v171 * v414) - (float)(v170 * v140);
      v174 = (float)(v170 * v404) - (float)(v172 * v414);
      *((double *)Parameter + 0x78) = *((double *)Parameter + 0xC5)
                                    - (float)((float)(*(float *)&_XMM5 + v157) + *(float *)&_XMM5);
      *((double *)Parameter + 0x79) = v166 - (float)((float)(v174 + v169) + v174);
      *((double *)Parameter + 0x7A) = v167 - (float)((float)(v173 + v168) + v173);
      v30 = 1;
      if ( *((_DWORD *)Parameter + 0x52) )
        *((_DWORD *)Parameter + 0x161) = 0x40400000;
      if ( (*((_BYTE *)Parameter + 0x4A4) & 1) != 0
        || *((_DWORD *)Parameter + 0xA4) == 1
        && (*(unsigned int (__fastcall **)(_QWORD))(****((_QWORD ****)Parameter + 0x47) + 0xC8LL))(***((_QWORD ***)Parameter + 0x47)) )
      {
        v175 = *((double *)Parameter + 0xC7);
        *(_OWORD *)v503 = *(_OWORD *)((char *)Parameter + 0x628);
        *(double *)&v503[0x10] = v175;
      }
      v124 = v409;
      v141 = v404;
      v142 = v403;
      v479 = *(__m256i *)(v150 + v148);
      v480 = *(__m256i *)(v150 + v148 + 0x20);
      v481 = *(__m256i *)(v150 + v148 + 0x40);
      v482 = *(__m256i *)(v150 + v148 + 0x60);
      v483 = *(__m256i *)(v150 + v148 + 0x80);
      v484 = *(__m256i *)(v150 + v148 + 0xA0);
    }
    v402 = v30;
    v176 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x2A);
    if ( (v176 & 0x200000) != 0 )
    {
      __asm { vzeroupper }
      sub_1403CD0A0(
        (volatile signed __int64 *)Parameter + 0x2A,
        v176,
        (__int64)"CRigidEntity::Step",
        (__int64)"m_lockColliders",
        1);
    }
    v177 = 0;
    if ( *((int *)Parameter + 0x52) <= 0 )
    {
LABEL_53:
      v191 = 0;
    }
    else
    {
      v178 = 0;
      while ( 1 )
      {
        Parameter_1 = *(_QWORD *)(v178 + *((_QWORD *)Parameter + 0x28));
        if ( Parameter_1 )
        {
          if ( *(int *)(Parameter_1 + 0xF4) <= 2 && (Parameter *)Parameter_1 != Parameter )
          {
            __asm { vzeroupper }
            if ( !sub_1467CE520(Parameter, Parameter_1) )
            {
              v180 = *(_QWORD *)(v178 + *((_QWORD *)Parameter + 0x28));
              if ( *(_DWORD *)(v180 + 0x370) != *((_DWORD *)Parameter + 0xDC) || (*(_BYTE *)(v180 + 0x382) & 0x7F) != 0 )
              {
                _XMM1 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 0x78) - *((double *)Parameter + 0x38));
                v182 = *((_QWORD *)Parameter + 0x58);
                __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
                _XMM1 = COERCE_UNSIGNED_INT64(*((double *)Parameter + 0x79) - *((double *)Parameter + 0x39));
                v185 = *((unsigned __int64 *)Parameter + 0x7A);
                v433[0] = *(float *)&_XMM2;
                __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
                *((_QWORD *)&v188 + 1) = *((_QWORD *)&v185 + 1);
                *(double *)&v188 = *(double *)&v185 - *((double *)Parameter + 0x3A);
                _XMM1 = v188;
                v189 = *((_OWORD *)Parameter + 0x7C);
                v433[1] = *(float *)&_XMM2;
                __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
                v477 = *((_QWORD *)Parameter + 0xFA);
                v433[2] = *(float *)&_XMM2;
                v476 = v189;
                if ( (unsigned int)sub_146938980(v182, v180, (double *)&v476, v433, (__int64)v478, 0, 3) )
                  break;
              }
            }
          }
        }
        ++v177;
        v178 += 8;
        if ( v177 >= *((_DWORD *)Parameter + 0x52) )
          goto LABEL_53;
      }
      v223 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
      *((float *)Parameter + 0x1A3) = v223.m128_f32[0] * 0.5;
      *((float *)Parameter + 0x1A4) = _mm_shuffle_ps(v223, v223, 0x55).m128_f32[0] * 0.5;
      v419 = *(double *)v223.m128_u64;
      *((float *)Parameter + 0x1A5) = 0.5 * *((float *)Parameter + 0x1A5);
      v224 = (__m128)*((unsigned __int64 *)Parameter + 0xD0);
      *((float *)Parameter + 0x1A0) = v224.m128_f32[0] * 0.5;
      *((float *)Parameter + 0x1A1) = _mm_shuffle_ps(v224, v224, 0x55).m128_f32[0] * 0.5;
      v419 = *(double *)v224.m128_u64;
      *((float *)Parameter + 0x1A2) = 0.5 * *((float *)Parameter + 0x1A2);
      _XMM1 = *((_OWORD *)Parameter + 0x65);
      *((double *)Parameter + 0xCA) = *(double *)&_XMM1 * 0.5;
      __asm { vunpckhpd xmm1, xmm1, xmm1 }
      *((double *)Parameter + 0xCB) = *(double *)&_XMM1 * 0.5;
      *((double *)Parameter + 0xCC) = 0.5 * *((double *)Parameter + 0xCC);
      _XMM1 = *(_OWORD *)((char *)Parameter + 0x668);
      *((double *)Parameter + 0xCD) = *(double *)&_XMM1 * 0.5;
      __asm { vunpckhpd xmm1, xmm1, xmm1 }
      *((double *)Parameter + 0xCE) = *(double *)&_XMM1 * 0.5;
      *((double *)Parameter + 0xCF) = 0.5 * *((double *)Parameter + 0xCF);
      *(_QWORD *)&_XMM1 = *((_QWORD *)Parameter + 0x3A);
      *((_OWORD *)Parameter + 0x3C) = *((_OWORD *)Parameter + 0x1C);
      v229 = *((_OWORD *)Parameter + 0x7C);
      *((double *)Parameter + 0x7A) = *(double *)&_XMM1;
      *(_QWORD *)&_XMM1 = *((_QWORD *)Parameter + 0xFA);
      *(_OWORD *)((char *)Parameter + 0x628) = v229;
      v191 = 1;
      v136 = 0;
      *((double *)Parameter + 0xC7) = *(double *)&_XMM1;
    }
    v192 = _InterlockedDecrement64((volatile signed __int64 *)Parameter + 0x2A);
    if ( (v192 & 0x3FF) == 0 && (v192 & 0xFFFF0000FFC00000uLL) != 0 )
    {
      __asm { vzeroupper }
      sub_1403CD3A0((volatile signed __int64 *)Parameter + 0x2A, v192);
    }
    LOBYTE(v505) = 0;
    v492 = v124 * 3.0;
    *((float *)Parameter + 0xF6) = v134;
    *((float *)Parameter + 0xF7) = v140;
    *((float *)Parameter + 0xF8) = v141;
    *((float *)Parameter + 0xF9) = v142;
    if ( v191 )
    {
LABEL_58:
      if ( v136 && !v30 )
        goto LABEL_69;
      goto LABEL_60;
    }
  }
  if ( (*((_DWORD *)Parameter + 0x129) & 0x20000000) == 0 )
    goto LABEL_58;
  v230 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
  *((float *)Parameter + 0x1A3) = v230.m128_f32[0] * 0.5;
  *((float *)Parameter + 0x1A4) = _mm_shuffle_ps(v230, v230, 0x55).m128_f32[0] * 0.5;
  v419 = *(double *)v230.m128_u64;
  *((float *)Parameter + 0x1A5) = 0.5 * *((float *)Parameter + 0x1A5);
  v231 = (__m128)*((unsigned __int64 *)Parameter + 0xD0);
  *((float *)Parameter + 0x1A0) = v231.m128_f32[0] * 0.5;
  *((float *)Parameter + 0x1A1) = _mm_shuffle_ps(v231, v231, 0x55).m128_f32[0] * 0.5;
  v419 = *(double *)v231.m128_u64;
  *((float *)Parameter + 0x1A2) = 0.5 * *((float *)Parameter + 0x1A2);
  _XMM1 = *((_OWORD *)Parameter + 0x65);
  *((double *)Parameter + 0xCA) = *(double *)&_XMM1 * 0.5;
  __asm { vunpckhpd xmm1, xmm1, xmm1 }
  *((double *)Parameter + 0xCB) = *(double *)&_XMM1 * 0.5;
  *((double *)Parameter + 0xCC) = 0.5 * *((double *)Parameter + 0xCC);
  _XMM1 = *(_OWORD *)((char *)Parameter + 0x668);
  *((double *)Parameter + 0xCD) = *(double *)&_XMM1 * 0.5;
  __asm { vunpckhpd xmm1, xmm1, xmm1 }
  *((double *)Parameter + 0xCE) = *(double *)&_XMM1 * 0.5;
  *((double *)Parameter + 0xCF) = 0.5 * *((double *)Parameter + 0xCF);
  *(_QWORD *)&_XMM1 = *((_QWORD *)Parameter + 0x3A);
  *((_OWORD *)Parameter + 0x3C) = *((_OWORD *)Parameter + 0x1C);
  v236 = *((_OWORD *)Parameter + 0x7C);
  *((double *)Parameter + 0x7A) = *(double *)&_XMM1;
  *(_QWORD *)&_XMM1 = *((_QWORD *)Parameter + 0xFA);
  *(_OWORD *)((char *)Parameter + 0x628) = v236;
  *((double *)Parameter + 0xC7) = *(double *)&_XMM1;
LABEL_60:
  v193 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x19, 0x200000, 0);
  v194 = (char *)Parameter + 0xC8;
  v195 = (char *)Parameter + 0xC8;
  v196 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  v197 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  if ( v193 )
  {
    __asm { vzeroupper }
    sub_1403DE750((__int64)Parameter + 0xC8, v193, 0, (__int64)"CRigidEntity::Step", (__int64)"m_lockUpdate", 1);
    v194 = (char *)Parameter + 0xC8;
    v196 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
  }
  if ( *(_DWORD *)(*((_QWORD *)Parameter + 0x54) + 0x184LL) )
  {
    v195 = v194;
    v197 = v196;
    __asm { vzeroupper }
    v198 = (*(__int64 (__fastcall **)(Parameter *, char *))(*(_QWORD *)Parameter + 0x98LL))(Parameter, v475);
    if ( (unsigned __int8)sub_14660C430((__int64)Parameter + 0x228, v198, 0xFFFFFFFF) )
    {
      v199 = *((_QWORD *)Parameter + 0x58);
      *((_WORD *)Parameter + 0x83) |= 0x100u;
      sub_14693A1E0(v199, (__int64)Parameter);
      v195 = (char *)Parameter + 0xC8;
      v197 = (volatile signed __int64 *)((char *)Parameter + 0xC8);
    }
  }
  __asm { vzeroupper }
  (*(void (__fastcall **)(Parameter *, char *, __int64))(*(_QWORD *)Parameter + 0x130LL))(
    Parameter,
    (char *)Parameter + 0x418,
    2);
  if ( v195 )
  {
    n0x200000_1 = _InterlockedCompareExchange64(v197, 0, 0x200000);
    if ( n0x200000_1 != 0x200000 )
      sub_1403DEBA0(v197, n0x200000_1);
  }
  v30 = v402;
LABEL_69:
  __asm { vzeroupper }
  (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x378LL))(Parameter);
  v14 = v416;
  v201 = 0;
  v493 = 1.0e10;
  v423 = v416;
  v424 = v416;
  v425 = v416;
  n8_4 = sub_1467A19A0(
           Parameter,
           (__int128 *)v437,
           (__int64)&v485,
           (unsigned int *)&v413,
           (__int64)&v423,
           0,
           0xFFFFFFFF);
  v203 = v510;
  n8 = n8_4;
  if ( n8_4 )
  {
LABEL_82:
    if ( n8 > 8 )
      goto LABEL_84;
  }
  else
  {
    v205 = v510;
    while ( v30 )
    {
      if ( ++v201 != 1 )
      {
        v237 = v415;
        v434[0] = v14;
        v238 = 0xC0LL * v415;
        *(__m256i *)(v238 + v205) = v479;
        *(__m256i *)(v238 + v205 + 0x20) = v480;
        *(__m256i *)(v238 + v205 + 0x40) = v481;
        v239 = (__m256i *)(v238 + v205);
        TlsIndex_1 = (unsigned int)::TlsIndex;
        v239[3] = v482;
        v239[4] = v483;
        ThreadLocalStoragePointer_1 = NtCurrentTeb()->ThreadLocalStoragePointer;
        v239[5] = v484;
        v434[1] = v14;
        v434[2] = v14;
        __asm { vzeroupper }
        sub_1467D9C50(
          (__int64)Parameter,
          v237,
          (__int64)&v239[1].m256i_i64[2],
          v203,
          *(_DWORD *)(v238 + v203 + 0x8C),
          *(_DWORD *)(v238 + v203 + 0x94),
          *(_DWORD *)(v238 + v203 + 0x90),
          *(_DWORD *)(v238 + v203 + 0x98),
          0x40,
          v14,
          *(_DWORD *)(ThreadLocalStoragePointer_1[TlsIndex_1] + 0x800LL),
          (__int64)v434);
        goto LABEL_82;
      }
      *((_DWORD *)Parameter + 0xF6) = *((_DWORD *)Parameter + 0x76);
      *((_DWORD *)Parameter + 0xF7) = *((_DWORD *)Parameter + 0x77);
      *((_DWORD *)Parameter + 0xF8) = *((_DWORD *)Parameter + 0x78);
      *((_DWORD *)Parameter + 0xF9) = *((_DWORD *)Parameter + 0x79);
      v206 = *((float *)Parameter + 0x78);
      v207 = *((float *)Parameter + 0x76);
      v208 = *((float *)Parameter + 0x77);
      v209 = *((float *)Parameter + 0x1B8);
      v210 = *((float *)Parameter + 0x1B7);
      v211 = *((float *)Parameter + 0x79);
      v212 = *((float *)Parameter + 0x1B6);
      v213 = (float)((float)(v209 * v208) - (float)(v210 * v206)) + (float)(v212 * v211);
      v214 = (float)((float)(v212 * v206) - (float)(v207 * v209)) + (float)(v211 * v210);
      v215 = (float)((float)(v207 * v210) - (float)(v212 * v208)) + (float)(v211 * v209);
      v216 = v207 * v215;
      v217 = v208 * v215;
      v218 = *((double *)Parameter + 0xC6);
      v219 = v217 - (float)(v206 * v214);
      v220 = v207 * v214;
      v221 = *((double *)Parameter + 0xC7);
      *((double *)Parameter + 0x78) = *((double *)Parameter + 0xC5) - (float)((float)(v212 + v219) + v219);
      *((double *)Parameter + 0x79) = v218
                                    - (float)((float)(v210 + (float)((float)(v206 * v213) - v216))
                                            + (float)((float)(v206 * v213) - v216));
      *((double *)Parameter + 0x7A) = v221
                                    - (float)((float)(v209 + (float)(v220 - (float)(v208 * v213)))
                                            + (float)(v220 - (float)(v208 * v213)));
      v423 = v14;
      v424 = v14;
      v425 = v14;
      n8_1 = sub_1467A19A0(
               Parameter,
               (__int128 *)v437,
               (__int64)&v485,
               (unsigned int *)&v413,
               (__int64)&v423,
               0,
               0xFFFFFFFF);
      v203 = v510;
      n8 = n8_1;
      v205 = v510;
      if ( n8_1 )
        goto LABEL_82;
    }
  }
  sub_14679E530(Parameter, v203, n8, v17);
LABEL_84:
  if ( v413 >= 0 )
  {
    v242 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x119);
    if ( (v242 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)Parameter + 0x119,
        v242,
        (__int64)"CRigidEntity::Step",
        (__int64)"m_lockContacts",
        1);
    v243 = (char *)Parameter + 0x4D0;
    v244 = (double *)*((_QWORD *)Parameter + 0x9A);
    v245 = 0xC0LL * v413;
    if ( *(_DWORD *)(v245 + v203 + 0x78) )
    {
      if ( v244 != (double *)v243 )
      {
        v246 = *(float *)(v245 + v203 + 0x70);
        v247 = *(float *)(v245 + v203 + 0x74);
        v248 = *(float *)(v245 + v203 + 0x6C);
        do
        {
          v249 = v244[8] - v486;
          v250 = v244[0xA] - v488;
          _XMM0 = COERCE_UNSIGNED_INT64(v246 * v250 - v247 * (v244[9] - v487));
          __asm { vcvtsd2ss xmm7, xmm0, xmm0 }
          _XMM0 = COERCE_UNSIGNED_INT64(v247 * v249 - v250 * v248);
          __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
          _XMM0 = COERCE_UNSIGNED_INT64((v244[9] - v487) * v248 - v246 * v249);
          __asm { vcvtsd2ss xmm5, xmm0, xmm0 }
          v257 = (float)((float)(*(float *)&_XMM4 * *(float *)&_XMM4) + (float)(*(float *)&_XMM7 * *(float *)&_XMM7))
               + (float)(*(float *)&_XMM5 * *(float *)&_XMM5);
          if ( v257 > (float)(v495 * v495) )
          {
            v258 = (float)((float)(*(float *)&_XMM4 * *((float *)v244 + 0x1D))
                         + (float)(*(float *)&_XMM7 * *((float *)v244 + 0x1C)))
                 + (float)(*(float *)&_XMM5 * *((float *)v244 + 0x1E));
            if ( (float)(COERCE_FLOAT(LODWORD(v258) & 0x7FFFFFFF) * v258) < (float)(v257 * -0.001) )
              break;
          }
          v244 = *(double **)v244;
        }
        while ( v244 != (double *)v243 );
        v124 = v409;
      }
    }
    else if ( v244 != (double *)v243 )
    {
      while ( (float)((float)((float)(*(float *)(v245 + v203 + 0x70) * *((float *)v244 + 0x1D))
                            + (float)(*(float *)(v245 + v203 + 0x6C) * *((float *)v244 + 0x1C)))
                    + (float)(*(float *)(v245 + v203 + 0x74) * *((float *)v244 + 0x1E))) > -0.001 )
      {
        v244 = *(double **)v244;
        if ( v244 == (double *)v243 )
          goto LABEL_99;
      }
LABEL_104:
      v266 = _InterlockedDecrement64((volatile signed __int64 *)Parameter + 0x119);
      if ( (v266 & 0x3FF) == 0 && (v266 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0((volatile signed __int64 *)Parameter + 0x119, v266);
      sub_1467B2AD0(Parameter);
      v485 = 0;
      v493 = 1.0e10;
      v494 = v14;
      v435[0] = v14;
      v435[1] = v14;
      v435[2] = v14;
      n8 = sub_1467A19A0(
             Parameter,
             (__int128 *)v437,
             (__int64)&v485,
             (unsigned int *)&v413,
             (__int64)v435,
             0,
             0xFFFFFFFF);
      goto LABEL_109;
    }
    if ( v244 == (double *)((char *)Parameter + 0x4D0) )
    {
LABEL_99:
      if ( !*(_DWORD *)(0xC0LL * v413 + v203 + 0x78)
        && (!v406 || (float)(v502 * 0.1) < *(double *)(0xC0LL * v413 + v203)) )
      {
        v259 = *(double *)(0xC0LL * v413 + v203);
        if ( v259 < (float)((float)(v124 * *(float *)(0xC0LL * v413 + v203 + 0x7C)) * 1.1) )
        {
          _XMM1 = COERCE_UNSIGNED_INT64(v259 - v410);
          __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
          v402 = 1;
          v419 = *(double *)(0xC0LL * v413 + v203 + 0x6C);
          v262 = (float)(*(float *)&v419 * *(float *)&_XMM4);
          v263 = (float)(_mm_shuffle_ps((__m128)*(unsigned __int64 *)&v419, (__m128)*(unsigned __int64 *)&v419, 0x55).m128_f32[0]
                       * *(float *)&_XMM4);
          v264 = *(float *)(0xC0LL * v413 + v203 + 0x74) * *(float *)&_XMM4;
          *((double *)Parameter + 0x78) = v262 + *((double *)Parameter + 0x78);
          v265 = v264;
          *((double *)Parameter + 0x79) = v263 + *((double *)Parameter + 0x79);
          *((double *)Parameter + 0x7A) = v265 + *((double *)Parameter + 0x7A);
          *((double *)Parameter + 0xC5) = v262 + *((double *)Parameter + 0xC5);
          *((double *)Parameter + 0xC6) = v263 + *((double *)Parameter + 0xC6);
          *((double *)Parameter + 0xC7) = v265 + *((double *)Parameter + 0xC7);
        }
      }
    }
    goto LABEL_104;
  }
  sub_1467B2AD0(Parameter);
LABEL_109:
  *((_BYTE *)Parameter + 0x864) *= 2;
  v267 = 0;
  v405 = 0;
  n8_2 = n8;
  if ( n8 <= 0 )
    goto LABEL_139;
  n8_3 = n8_2;
  v269 = v203 + 0x20;
  v270 = v17;
  v271 = v17;
  v431 = v17;
  v272 = 0;
  v273 = 0.0;
  v427 = 0.0;
  do
  {
    _XMM0 = *(unsigned __int64 *)(v269 - 0x20);
    if ( *(double *)&_XMM0 < 0.0 )
      goto LABEL_137;
    if ( (*(_QWORD *)(*((_QWORD *)Parameter + 0x48) + 8LL
                                                    * *(int *)&byte_1513CBD60[0x4008 * v270 + 8 * *(_QWORD *)&v273])
        & 0x1000000000LL) != 0 )
    {
      sub_1467D2D90((__int64)Parameter, v203, v267, v124, v271);
      goto LABEL_136;
    }
    v275 = (__m128)*(unsigned __int64 *)(v269 + 0x4C);
    v276 = 0;
    n0x80000 = 0x80000;
    v278 = *(_QWORD *)(v269 + 8);
    __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
    v280 = _mm_shuffle_ps(v275, v275, 0x55).m128_f32[0] * *(float *)&_XMM4;
    v281 = *(float *)(v269 + 0x54);
    v282 = -((*(int *)(v269 + 0x7C) >> 0x1F) & (*(int *)(v269 + 0x80) >> 0x1F));
    v417 = *(float *)&v282;
    v283 = v281 * *(float *)&_XMM4;
    v284 = v275.m128_f32[0] * *(float *)&_XMM4;
    v418 = v281 * *(float *)&_XMM4;
    v420 = v14;
    v421 = v14;
    v422 = v14;
    v407 = v275.m128_f32[0] * *(float *)&_XMM4;
    v414 = v280;
    *(float *)&_XMM6 = v14;
    v286 = v14;
    v287 = v14;
    v288 = v14;
    if ( v278 && *(int *)(v278 + 4) >= 2 )
    {
      v286 = *(float *)(v278 + 0x38);
      v419 = *(double *)(v278 + 0x30);
      v288 = *(float *)&v419;
      v287 = _mm_shuffle_ps((__m128)*(unsigned __int64 *)&v419, (__m128)*(unsigned __int64 *)&v419, 0x55).m128_f32[0];
      v289 = (float)(v287 * *(float *)(v269 + 0x48)) - (float)(v286 * *(float *)(v269 + 0x44));
      v290 = (float)(v286 * *(float *)(v269 + 0x40)) - (float)(*(float *)&v419 * *(float *)(v269 + 0x48));
      v291 = *(_DWORD *)(v269 + 0x50);
      v422 = (float)(*(float *)&v419 * *(float *)(v269 + 0x44)) - (float)(v287 * *(float *)(v269 + 0x40));
      v292 = *(_DWORD *)(v269 + 0x4C);
      v421 = v290;
      v293 = *(_DWORD *)(v269 + 0x54);
      *(float *)(v269 + 0x40) = COERCE_FLOAT(v292 ^ 0x80000000);
      v420 = v289;
      *(float *)(v269 + 0x44) = COERCE_FLOAT(v291 ^ 0x80000000);
      *(float *)(v269 + 0x48) = COERCE_FLOAT(v293 ^ 0x80000000);
      v294 = *(_DWORD *)(v278 + 4);
      *(float *)&_XMM6 = v502;
      if ( v294 > 0 )
      {
        v296 = *(_QWORD *)(v278 + 0x3C);
        v297 = 0;
        v298 = (unsigned int)v294;
        do
        {
          v299 = *(unsigned int *)(v296 + v297 + 4);
          v297 += 0xC;
          *((_QWORD *)&v300 + 1) = *((_QWORD *)&v299 + 1);
          *(double *)&v300 = (*(float *)&v299 + *(double *)(v278 + 0x4C) - *(double *)(v269 + 0x18)) * v287
                           + (*(float *)(v296 + v297 - 0xC) + *(double *)(v278 + 0x44) - *(double *)(v269 + 0x10))
                           * v288
                           + (*(float *)(v296 + v297 - 4) + *(double *)(v278 + 0x54) - *(double *)(v269 + 0x20)) * v286;
          _XMM4 = v300;
          __asm
          {
            vminsd  xmm0, xmm4, xmm2
            vcvtsd2ss xmm6, xmm0, xmm0
          }
          --v298;
        }
        while ( v298 );
        v284 = v407;
        v280 = v414;
      }
      v303 = 0;
      if ( (-v282 & v294) > 0 )
      {
        v304 = v418;
        v411 = -v282;
        v305 = -v282;
        v306 = 0;
        do
        {
          v307 = *(_QWORD *)(v278 + 0x3C);
          v308 = *(float *)(v306 + v307) + *(double *)(v278 + 0x44);
          v309 = *(float *)(v306 + v307 + 4) + *(double *)(v278 + 0x4C);
          _XMM1 = *(unsigned __int64 *)(v269 - 0x20);
          v311 = *(float *)(v306 + v307 + 8) + *(double *)(v278 + 0x54);
          __asm { vcvtpd2ps xmm1, xmm1 }
          *((_QWORD *)&v313 + 1) = *((_QWORD *)&_XMM1 + 1);
          *(double *)&v313 = *(float *)&_XMM1
                           - ((v309 - *(double *)(v269 + 0x18)) * v287
                            + (v308 - *(double *)(v269 + 0x10)) * v288
                            + (v311 - *(double *)(v269 + 0x20)) * v286)
                           + *(float *)&_XMM6;
          _XMM1 = v313;
          __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
          if ( *(float *)&_XMM4 > COERCE_FLOAT(LODWORD(v410) ^ 0x80000000) )
          {
            v316 = *(_QWORD *)(v278 + 0x18);
            v317 = *(_QWORD *)(v278 + 0x20);
            v318 = *(_QWORD *)(v278 + 0x28);
            v319 = *(_QWORD *)(v278 + 0x10);
            LODWORD(v318) = *(_DWORD *)(v318 + v272);
            v470[1] = v309 - v280;
            __asm { vmaxss  xmm0, xmm4, cs:dword_1480EA67C }
            v399 = v318;
            v396 = *(_DWORD *)(v316 + v272);
            v393 = *(_DWORD *)(v317 + v272);
            LODWORD(v318) = *(_DWORD *)(v319 + v272);
            v470[0] = v308 - v284;
            v470[2] = v311 - v304;
            sub_1467D9C50(
              (__int64)Parameter,
              v405,
              (__int64)v470,
              v203,
              v318,
              v393,
              v396,
              v399,
              n0x80000 | 0x1040040,
              *(float *)&_XMM0,
              v271,
              (__int64)&v420);
            v305 = v411;
            v271 = v408;
            n0x80000 = 0;
          }
          v278 = *(_QWORD *)(v269 + 8);
          ++v303;
          v306 += 0xC;
          v272 += 4;
        }
        while ( v303 < (v305 & *(_DWORD *)(v278 + 4)) );
        v14 = v416;
        *(float *)&v282 = v417;
        v272 = 0;
      }
      v321 = *(double *)(v269 + 0x18);
      v322 = *(double *)(v269 + 0x10);
      v323 = *(double *)(v269 + 0x20);
      _XMM0 = 0;
      __asm { vcvtsi2sd xmm0, xmm0, eax }
      _XMM1 = COERCE_UNSIGNED_INT64(
                ((*(double *)(v269 + 0x30) - v321) * v287
               + (*(double *)(v269 + 0x28) - v322) * v288
               + (*(double *)(v269 + 0x38) - v323) * v286)
              * *(double *)&_XMM0);
      __asm { vcvtsd2ss xmm6, xmm1, xmm1 }
      v327 = *(_DWORD *)(v269 + 0x90) & (unsigned int)(v282 - 1);
      if ( (*(_DWORD *)(v269 + 0x90) & (v282 - 1)) > 0 )
      {
        v328 = *(_QWORD *)(v269 - 0x18);
        v329 = 0;
        do
        {
          v330 = *(unsigned int *)(v328 + v329 + 4);
          v329 += 0xC;
          *((_QWORD *)&v331 + 1) = *((_QWORD *)&v330 + 1);
          *(double *)&v331 = (*(float *)&v330 + *(double *)(v269 - 8) - v321) * v287
                           + (*(float *)(v328 + v329 - 0xC) + *(double *)(v269 - 0x10) - v322) * v288
                           + (*(float *)(v328 + v329 - 4) + *(double *)v269 - v323) * v286;
          _XMM4 = v331;
          __asm
          {
            vminsd  xmm0, xmm4, xmm2
            vcvtsd2ss xmm6, xmm0, xmm0
          }
          --v327;
        }
        while ( v327 );
      }
      v267 = v405;
      v276 = ((**(_DWORD **)(v269 + 8) ^ (**(_DWORD **)(v269 + 8) - 1)) >> 0x1F) & 0x1000000;
      if ( *(float *)&v282 != 0.0 )
        goto LABEL_132;
LABEL_129:
      _XMM0 = *(unsigned __int64 *)(v269 - 0x20);
      __asm { vcvtpd2ps xmm0, xmm0 }
      *((_QWORD *)&v336 + 1) = *((_QWORD *)&_XMM0 + 1);
      *(double *)&v336 = *(float *)&_XMM0
                       - ((*(double *)(v269 + 0x28) - *(double *)(v269 + 0x10)) * v288
                        + (*(double *)(v269 + 0x30) - *(double *)(v269 + 0x18)) * v287
                        + (*(double *)(v269 + 0x38) - *(double *)(v269 + 0x20)) * v286)
                       + *(float *)&_XMM6;
      _XMM0 = v336;
      __asm { vmaxsd  xmm2, xmm0, xmm12 }
      __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
      sub_1467D9C50(
        (__int64)Parameter,
        v267,
        v203 + 0xC0LL * v267 + 0x48,
        v203,
        *(_DWORD *)(v269 + 0x6C),
        *(_DWORD *)(v269 + 0x74),
        *(_DWORD *)(v269 + 0x70),
        *(_DWORD *)(v269 + 0x78),
        v276 | 0x80040,
        *(float *)&_XMM1,
        v271,
        (__int64)&v420);
      if ( *(int *)(v269 + 0x90) > 1 )
      {
        v340 = 0;
        v341 = v276 | 0x40;
        do
        {
          v342 = *(_QWORD *)(v269 - 0x18);
          v343 = *(float *)(v272 + v342 + 8) + *(double *)v269;
          _XMM0 = *(unsigned __int64 *)(v269 - 0x20);
          v345 = *(float *)(v272 + v342 + 4) + *(double *)(v269 - 8);
          __asm { vcvtpd2ps xmm0, xmm0 }
          v471[0] = *(float *)(v272 + v342) + *(double *)(v269 - 0x10);
          v347 = v471[0] - *(double *)(v269 + 0x10);
          *((_QWORD *)&v348 + 1) = *((_QWORD *)&_XMM0 + 1);
          v471[1] = v345;
          *(double *)&v348 = *(float *)&_XMM0
                           - (v347 * v288
                            + (v345 - *(double *)(v269 + 0x18)) * v287
                            + (v343 - *(double *)(v269 + 0x20)) * v286)
                           + *(float *)&_XMM6;
          _XMM0 = v348;
          __asm
          {
            vmaxsd  xmm1, xmm0, xmm12
            vcvtsd2ss xmm2, xmm1, xmm1
          }
          v400 = *(_DWORD *)(v269 + 0x78);
          v397 = *(_DWORD *)(v269 + 0x70);
          v394 = *(_DWORD *)(v269 + 0x74);
          v392 = *(_DWORD *)(v269 + 0x6C);
          v471[2] = v343;
          sub_1467D9C50(
            (__int64)Parameter,
            v267,
            (__int64)v471,
            v203,
            v392,
            v394,
            v397,
            v400,
            v341,
            *(float *)&_XMM2,
            v408,
            (__int64)&v420);
          ++v340;
          v272 += 0xC;
        }
        while ( v340 < *(_DWORD *)(v269 + 0x90) );
      }
      goto LABEL_132;
    }
    if ( *(float *)&v282 == 0.0 )
      goto LABEL_129;
    v401 = *(_DWORD *)(v269 + 0x78);
    v398 = *(_DWORD *)(v269 + 0x70);
    v395 = *(_DWORD *)(v269 + 0x74);
    v352 = *(_DWORD *)(v269 + 0x6C);
    v353 = *(double *)(v269 + 0x18);
    v472[0] = *(double *)(v269 + 0x10) - (float)(v275.m128_f32[0] * *(float *)&_XMM4);
    v354 = v353 - v280;
    v355 = *(double *)(v269 + 0x20);
    v472[1] = v354;
    v436[0] = v14;
    v436[1] = v14;
    v436[2] = v14;
    v472[2] = v355 - v283;
    sub_1467D9C50(
      (__int64)Parameter,
      v267,
      (__int64)v472,
      v203,
      v352,
      v395,
      v398,
      v401,
      0x80040,
      *(float *)&_XMM4,
      v271,
      (__int64)v436);
LABEL_132:
    v273 = v427;
    v412 |= COERCE_UNSIGNED_INT64((float)(v502 * 0.5) - *(double *)(v269 - 0x20)) >> 0x3F;
    v272 = 0;
LABEL_136:
    v270 = v431;
    n8_3 = n8_2;
    v271 = v408;
LABEL_137:
    v124 = v409;
    ++v267;
    ++*(_QWORD *)&v273;
    v269 += 0xC0;
    v405 = v267;
    v427 = v273;
  }
  while ( *(__int64 *)&v273 < n8_3 );
  LODWORD(v17) = v408;
  v10 = (volatile signed __int64 *)((char *)Parameter + 0xA08);
LABEL_139:
  sub_1467B0A90(Parameter, v17);
  _XMM9 = LODWORD(v409);
  v30 = v402;
  v27 = v412;
  v32 = LODWORD(v426);
LABEL_143:
  sub_1468103D0(Parameter);
  sub_14693D8B0(*((_QWORD *)Parameter + 0x58), (__int64)Parameter, 1, (_DWORD)Parameter + 0x418);
  (*(void (__fastcall **)(Parameter *, _QWORD, _QWORD, __int64))(*(_QWORD *)Parameter + 0x360LL))(Parameter, 0, 0, 1);
  v511 = 0xFFBFFFFF0000000CuLL;
  v527 = 0;
  v521 = 0;
  v522 = 0;
  v531 = 0;
  v532 = 0;
  v550 = 0;
  v544 = 0;
  v545 = 0;
  v554 = 0;
  v555 = 0;
  v573 = 0;
  v567 = 0;
  v568 = 0;
  v523 = v14;
  v524 = v14;
  v525 = v14;
  v528 = v14;
  v529 = v14;
  v530 = v14;
  v546 = v14;
  v547 = v14;
  v548 = v14;
  v551 = v14;
  v552 = v14;
  v553 = v14;
  v569 = v14;
  v570 = v14;
  v571 = v14;
  v574 = v14;
  v512 = 0xFFBFFFFF;
  v513 = 0xFFBFFFFF;
  v518 = 0xFFBFFFFF;
  v519 = 0xFFF7FFFF;
  v520 = 0xFFBFFFFF;
  v526 = 0xFFBFFFFF;
  v514 = 0xFFBFFFFF;
  v515 = 0xFFBFFFFF;
  v516 = 0xFFBFFFFF;
  v517 = 0xFFBFFFFF;
  n0xC = 0xC;
  v534 = 0xFFBFFFFF;
  v535 = 0xFFBFFFFF;
  v536 = 0xFFBFFFFF;
  v541 = 0xFFBFFFFF;
  v542 = 0xFFF7FFFF;
  v543 = 0xFFBFFFFF;
  v549 = 0xFFBFFFFF;
  v537 = 0xFFBFFFFF;
  v538 = 0xFFBFFFFF;
  v539 = 0xFFBFFFFF;
  v540 = 0xFFBFFFFF;
  n0xC_1 = 0xC;
  v557 = 0xFFBFFFFF;
  v558 = 0xFFBFFFFF;
  v559 = 0xFFBFFFFF;
  v564 = 0xFFBFFFFF;
  v565 = 0xFFF7FFFF;
  v566 = 0xFFBFFFFF;
  v572 = 0xFFBFFFFF;
  v560 = 0xFFBFFFFF;
  v561 = 0xFFBFFFFF;
  v562 = 0xFFBFFFFF;
  v563 = 0xFFBFFFFF;
  v577 = 0;
  v578 = 0;
  n0xC_2 = 0xC;
  v575 = v14;
  v576 = v14;
  v592 = v14;
  v593 = v14;
  v594 = v14;
  v597 = v14;
  v598 = v14;
  v599 = v14;
  v596 = 0;
  v580 = 0xFFBFFFFF;
  v581 = 0xFFBFFFFF;
  v582 = 0xFFBFFFFF;
  v587 = 0xFFBFFFFF;
  v588 = 0xFFF7FFFF;
  v589 = 0xFFBFFFFF;
  v595 = 0xFFBFFFFF;
  v583 = 0xFFBFFFFF;
  v584 = 0xFFBFFFFF;
  v585 = 0xFFBFFFFF;
  v586 = 0xFFBFFFFF;
  v590 = 0;
  v591 = 0;
  v600 = 0;
  v601 = 0;
  v360 = sub_1467D1F00((__int64 *)Parameter, v359, (int)&v511, 4);
  v361 = (float *)((char *)Parameter + 0x538);
  if ( !*((_DWORD *)Parameter + 0x52) )
    v361 = (float *)((char *)Parameter + 0x544);
  v362 = v361[2];
  v363 = *((double *)Parameter + 0xD6) > 0.0;
  v429 = *(_QWORD *)v361;
  v430 = v362;
  if ( v363 )
    sub_146789AE0((__int64)Parameter, *(float *)&_XMM9, (float *)&v429, (__int64)&v511, v360);
  v365 = *((double *)Parameter + 0xEC) + *((double *)Parameter + 0xCA);
  v364 = v365;
  v366 = *((double *)Parameter + 0xED) + *((double *)Parameter + 0xCB);
  v367 = *((double *)Parameter + 0xEE) + *((double *)Parameter + 0xCC);
  v368 = *(__m128 *)((char *)Parameter + 0x668);
  *((double *)Parameter + 0xCB) = v366;
  *((double *)Parameter + 0xCC) = v367;
  *((double *)Parameter + 0xCA) = v365;
  *((_QWORD *)Parameter + 0xEE) = 0;
  *((_QWORD *)Parameter + 0xED) = 0;
  *((_QWORD *)Parameter + 0xEC) = 0;
  v369 = _mm_add_pd(v368, *(__m128 *)((char *)Parameter + 0x778));
  *((double *)Parameter + 0xCF) = *((double *)Parameter + 0xF1) + *((double *)Parameter + 0xCF);
  *(__m128 *)((char *)Parameter + 0x668) = v369;
  *((_QWORD *)Parameter + 0xF1) = 0;
  *((_QWORD *)Parameter + 0xF0) = 0;
  *((_QWORD *)Parameter + 0xEF) = 0;
  *((_QWORD *)&v370 + 1) = *((_QWORD *)&_XMM9 + 1);
  *(double *)&v370 = *(float *)&_XMM9 * *((double *)Parameter + 0xD6);
  _XMM1 = v370;
  __asm { vcvtsd2ss xmm4, xmm1, xmm1 }
  v373 = (float)(*(float *)&_XMM4 * *((float *)&v429 + 1)) + v366;
  *((double *)Parameter + 0xCB) = v373;
  *(double *)&v370 = (float)(*(float *)&_XMM4 * v362) + v367;
  v374 = *(float *)&_XMM4 * *(float *)&v429;
  *((double *)Parameter + 0xCC) = *(double *)&v370;
  v375 = (__m128)*((unsigned __int64 *)Parameter + 0x10D);
  *((double *)Parameter + 0xCA) = v374 + v364 + (float)(v375.m128_f32[0] * *(float *)&_XMM9);
  *((double *)Parameter + 0xCB) = (float)(_mm_shuffle_ps(v375, v375, 0x55).m128_f32[0] * *(float *)&_XMM9) + v373;
  *((double *)Parameter + 0xCC) = (float)(*((float *)Parameter + 0x21C) * *(float *)&_XMM9) + *(double *)&v370;
  v376 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x874);
  *((double *)Parameter + 0xCD) = (float)(v376.m128_f32[0] * *(float *)&_XMM9) + *((double *)Parameter + 0xCD);
  *((double *)Parameter + 0xCE) = (float)(_mm_shuffle_ps(v376, v376, 0x55).m128_f32[0] * *(float *)&_XMM9)
                                + *((double *)Parameter + 0xCE);
  *((double *)Parameter + 0xCF) = (float)(*((float *)Parameter + 0x21F) * *(float *)&_XMM9)
                                + *((double *)Parameter + 0xCF);
  sub_14673B940((__int64)Parameter + 0x5B0);
  (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter);
  (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x380LL))(Parameter);
  *((_QWORD *)Parameter + 0xDF) = 0;
  *((_QWORD *)Parameter + 0xDE) = 0;
  *((_QWORD *)Parameter + 0xDD) = 0;
  *((_QWORD *)Parameter + 0xE2) = 0;
  *((_QWORD *)Parameter + 0xE1) = 0;
  *((_QWORD *)Parameter + 0xE0) = 0;
  sub_14673B940((__int64)Parameter + 0x5B0);
  (*(void (__fastcall **)(Parameter *))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter);
  v377 = *((_DWORD *)Parameter + 0x1A5);
  *((double *)Parameter + 0x101) = *(double *)((char *)Parameter + 0x68C);
  v378 = *((double *)Parameter + 0xD0);
  *((_DWORD *)Parameter + 0x204) = v377;
  v379 = *((_DWORD *)Parameter + 0x1A2);
  *(double *)((char *)Parameter + 0x814) = v378;
  *((_DWORD *)Parameter + 0x207) = v379;
  v426 = (float)(*(float *)(*((_QWORD *)Parameter + 0x58) + 0x48LL * (int)v17 + 0x836F8) * 0.001)
       - *((double *)Parameter + 0xD6);
  v380 = (v426 < 0.0) & v27;
  if ( ((*((_DWORD *)Parameter + 0x129) >> 0xB) & v380) != 0 )
  {
    if ( (float)((float)((float)((float)((float)((float)((float)(*((float *)Parameter + 0x1A0)
                                                               * *((float *)Parameter + 0x1A0))
                                                       + (float)(*((float *)Parameter + 0x1A1)
                                                               * *((float *)Parameter + 0x1A1)))
                                               + (float)(*((float *)Parameter + 0x1A2) * *((float *)Parameter + 0x1A2)))
                                       * (float)((float)(0.5 * v502) * (float)(0.5 * v502)))
                               + (float)(*((float *)Parameter + 0x1A4) * *((float *)Parameter + 0x1A4)))
                       + (float)((float)(*((float *)Parameter + 0x1A5) * *((float *)Parameter + 0x1A5))
                               + (float)(*((float *)Parameter + 0x1A3) * *((float *)Parameter + 0x1A3))))
               * (float)(*(float *)&_XMM9 * *(float *)&_XMM9)) >= (float)((float)(0.1 * v502) * (float)(0.1 * v502)) )
    {
      *((_QWORD *)Parameter + 0xD2) = 0;
      *((_QWORD *)Parameter + 0xD1) = 0;
      *((_QWORD *)Parameter + 0xD0) = 0;
      *((_QWORD *)Parameter + 0xCC) = 0;
      *((_QWORD *)Parameter + 0xCB) = 0;
      *((_QWORD *)Parameter + 0xCA) = 0;
      *((_QWORD *)Parameter + 0xCF) = 0;
      *((_QWORD *)Parameter + 0xCE) = 0;
      *((_QWORD *)Parameter + 0xCD) = 0;
      *(_QWORD *)((char *)Parameter + 0x69C) = 0;
      *((_DWORD *)Parameter + 0x1A6) = 0;
      *((_QWORD *)Parameter + 0xD5) = 0;
      *((_DWORD *)Parameter + 0x1A9) = 0;
    }
    else
    {
      v380 = 0;
    }
  }
  v381 = *((_DWORD *)Parameter + 0x259);
  *((_DWORD *)Parameter + 0x129) = (v380 << 0xB) & 0xFFFFEFFF | *((_DWORD *)Parameter + 0x129) & 0xFFFFE7FF;
  *((_DWORD *)Parameter + 0x12A) = *((_DWORD *)Parameter + 0x12A) & 0xFFFFFE1F
                                 | (0x20 * (-v32 & 0xF)) & (*((_DWORD *)Parameter + 0x12A) + 0x20 * v30);
  if ( (v381 & 0xFFA00000) != 0xFFA00000 || (*((_DWORD *)Parameter + 0x25C) & 0xFFA00000) != 0xFFA00000 )
  {
    v382 = *(double *)((char *)Parameter + 0x964);
    v452 = *((_DWORD *)Parameter + 0x25B);
    v454 = *((_DWORD *)Parameter + 0x25E);
    v383 = *(_QWORD *)Parameter;
    v451 = v382;
    v384 = *((double *)Parameter + 0x12E);
    v455 = 0;
    v450[0] = 8;
    v450[1] = 0x80000000;
    v450[2] = 0x80000000;
    v453 = v384;
    (*(void (__fastcall **)(Parameter *, _DWORD *, __int64))(v383 + 0x30))(Parameter, v450, 1);
    *((_DWORD *)Parameter + 0x259) = 0xFFBFFFFF;
    *((_DWORD *)Parameter + 0x25C) = 0xFFBFFFFF;
  }
  v385 = (*(__int64 (__fastcall **)(Parameter *, _QWORD))(*(_QWORD *)Parameter + 0x3B8LL))(
           Parameter,
           ((*((_DWORD *)Parameter + 0x129) & 0x800) == 0)
         | ((3 - ((*((_DWORD *)Parameter + 0x129) >> 0xD) & 0xFu)) >> 0x1F));
LABEL_164:
  v389 = v385;
  sub_146771B90(v469);
  n0x200000_2 = _InterlockedCompareExchange64(v10, 0, 0x200000);
  if ( n0x200000_2 != 0x200000 )
    sub_1403DEBA0(v10, n0x200000_2);
  v466 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v389;
}

// --- End Function: sub_1467FB750 (0x1467FB750) ---

// --- Function: sub_1467FF810 (0x1467FF810) ---
__int64 __fastcall sub_1467FF810(Parameter *Parameter, float a2)
{
  double v3; // xmm1_8
  float v4; // xmm7_4
  float v5; // xmm5_4
  float v6; // xmm14_4
  float v7; // xmm11_4
  float v8; // xmm6_4
  float v9; // xmm9_4
  float v10; // xmm13_4
  float v11; // xmm8_4
  float v12; // xmm2_4
  float v13; // xmm10_4
  float v14; // xmm12_4
  float v15; // xmm5_4
  float v16; // xmm7_4
  double v17; // xmm3_8
  double v18; // xmm15_8
  double v19; // xmm7_8
  double v20; // xmm8_8
  double v21; // xmm13_8
  double v22; // xmm12_8
  double v23; // xmm6_8
  float v24; // xmm4_4
  float v25; // xmm5_4
  float v26; // xmm14_4
  float v27; // xmm11_4
  float v28; // xmm10_4
  float v29; // xmm9_4
  float v30; // xmm5_4
  float v31; // xmm4_4
  double v32; // xmm5_8
  double v33; // xmm4_8
  float v34; // xmm1_4
  float v35; // xmm2_4
  float v37; // xmm1_4
  float v38; // xmm2_4
  __m128 v39; // xmm2
  float v40; // xmm1_4
  double v42; // xmm4_8
  float v43; // xmm9_4
  float v44; // xmm8_4
  float v45; // xmm11_4
  __int128 v46; // xmm13
  float v47; // xmm14_4
  float v48; // xmm15_4
  float v49; // xmm12_4
  __int128 v50; // kr00_16
  __int128 v51; // xmm7
  float v52; // xmm6_4
  __int128 v53; // kr00_16
  __int128 v54; // xmm5
  __int128 v55; // xmm3
  __int128 v56; // kr00_16
  __int128 v57; // kr00_16
  __int128 v58; // xmm4
  __int128 v59; // xmm1
  __int128 v60; // kr00_16
  __int128 v61; // xmm6
  __int128 v62; // kr00_16
  __int64 v69; // rax
  __int64 result; // rax
  __int64 i; // rdx
  __int64 v72; // r8
  double v73; // [rsp+20h] [rbp-F8h]
  double v74; // [rsp+28h] [rbp-F0h]
  double v75; // [rsp+30h] [rbp-E8h]
  double v76; // [rsp+50h] [rbp-C8h]
  double v77; // [rsp+58h] [rbp-C0h]
  float v78; // [rsp+120h] [rbp+8h]
  float v79; // [rsp+128h] [rbp+10h]
  float v80; // [rsp+130h] [rbp+18h]
  float v81; // [rsp+138h] [rbp+20h]

  if ( a2 <= 0.0 )
  {
    *((_DWORD *)Parameter + 0x14C) = *(_DWORD *)(Parameter[0x58] + 0x114);
  }
  else
  {
    v3 = *((double *)Parameter + 0xFA);
    *(_OWORD *)(Parameter + 0xC5) = *((_OWORD *)Parameter + 0x7C);
    *((double *)Parameter + 0xC7) = v3;
    v4 = *((float *)Parameter + 0x212);
    *((float *)Parameter + 0x190) = v4;
    v5 = *((float *)Parameter + 0x213);
    *((float *)Parameter + 0x191) = v5;
    v6 = *((float *)Parameter + 0x214);
    v7 = (float)(v5 + v5) * v5;
    v8 = (float)(v5 + v5) * v4;
    v9 = (float)(v6 + v6) * v5;
    *((float *)Parameter + 0x192) = v6;
    v10 = *((float *)Parameter + 0x215);
    v11 = (float)(v5 + v5) * v10;
    v12 = (float)(v6 + v6) * v10;
    v13 = (float)(v4 + v4) * v10;
    v14 = 1.0 - (float)((float)(v4 + v4) * v4);
    *((float *)Parameter + 0x193) = v10;
    v78 = v5;
    v15 = (float)(v6 + v6) * v6;
    v73 = (float)((float)(1.0 - v7) - v15);
    v74 = (float)(v8 - v12);
    v80 = v4;
    v16 = (float)(v6 + v6) * v4;
    v17 = (float)(v12 + v8);
    v18 = (float)(v16 + v11);
    v75 = (float)(v14 - v15);
    *(float *)&v3 = v16 - v11;
    v19 = *((double *)Parameter + 0xC3);
    v20 = *((double *)Parameter + 0xC4);
    v79 = v10;
    v21 = *(float *)&v3;
    *(float *)&v3 = v14 - v7;
    v22 = *((double *)Parameter + 0xC2);
    v81 = v6;
    v76 = (float)(v9 - v13);
    v77 = (float)(v9 + v13);
    v23 = v20 * *(float *)&v3;
    *((double *)Parameter + 0xB7) = v17 * (v22 * v73) + v19 * v74 * v75 + v76 * (v20 * v18);
    *((double *)Parameter + 0xB8) = v21 * (v22 * v73) + v77 * (v19 * v74) + *(float *)&v3 * (v20 * v18);
    *((double *)Parameter + 0xB9) = v22 * v17 * v73 + v19 * v75 * v74 + v20 * v76 * v18;
    *((double *)Parameter + 0xBA) = v22 * v17 * v17 + v19 * v75 * v75 + v20 * v76 * v76;
    *((double *)Parameter + 0xBB) = v22 * v17 * v21 + v19 * v75 * v77 + *(float *)&v3 * (v20 * v76);
    *((double *)Parameter + 0xBC) = v22 * v21 * v73 + v19 * v77 * v74 + v23 * v18;
    *((double *)Parameter + 0xBD) = v22 * v21 * v17 + v19 * v77 * v75 + v23 * v76;
    *((double *)Parameter + 0xBE) = v22 * v21 * v21 + v19 * v77 * v77 + v23 * *(float *)&v3;
    *((double *)Parameter + 0xB6) = v22 * v73 * v73 + v19 * v74 * v74 + v18 * (v20 * v18);
    LODWORD(v19) = *((_DWORD *)Parameter + 0x1B5);
    v24 = *((float *)Parameter + 0x1B3);
    v25 = *((float *)Parameter + 0x1B2);
    LODWORD(v23) = *((_DWORD *)Parameter + 0x1B4);
    *(float *)&v21 = (float)(*(float *)&v19 * v79)
                   - (float)((float)((float)(v24 * v78) + (float)(v25 * v80)) + (float)(*(float *)&v23 * v6));
    v26 = (float)((float)((float)(*(float *)&v23 * v78) - (float)(v24 * v6)) + (float)(v25 * v79))
        + (float)(*(float *)&v19 * v80);
    *(float *)&v22 = (float)((float)((float)(v25 * v81) - (float)(*(float *)&v23 * v80)) + (float)(v24 * v79))
                   + (float)(*(float *)&v19 * v78);
    *(float *)&v19 = (float)((float)((float)(v24 * v80) - (float)(v25 * v78)) + (float)(*(float *)&v23 * v79))
                   + (float)(*(float *)&v19 * v81);
    *((float *)Parameter + 0xF6) = v26;
    *((float *)Parameter + 0xF7) = *(float *)&v22;
    *((float *)Parameter + 0xF8) = *(float *)&v19;
    *((float *)Parameter + 0xF9) = *(float *)&v21;
    v27 = *((float *)Parameter + 0x1B8);
    v28 = *((float *)Parameter + 0x1B7);
    v29 = *((float *)Parameter + 0x1B6);
    *(float *)&v20 = (float)((float)(v27 * *(float *)&v22) - (float)(v28 * *(float *)&v19))
                   + (float)(v29 * *(float *)&v21);
    v30 = (float)((float)(v29 * *(float *)&v19) - (float)(v27 * v26)) + (float)(v28 * *(float *)&v21);
    v31 = (float)((float)(v28 * v26) - (float)(v29 * *(float *)&v22)) + (float)(v27 * *(float *)&v21);
    *(float *)&v23 = (float)(v31 * *(float *)&v22) - (float)(v30 * *(float *)&v19);
    *(float *)&v17 = v30 * v26;
    v32 = *((double *)Parameter + 0xC7);
    *(float *)&v3 = v31 * v26;
    v33 = *((double *)Parameter + 0xC6);
    *((double *)Parameter + 0x78) = *((double *)Parameter + 0xC5)
                                  - (float)((float)(v29 + *(float *)&v23) + *(float *)&v23);
    *((double *)Parameter + 0x79) = v33
                                  - (float)((float)(v28
                                                  + (float)((float)(*(float *)&v20 * *(float *)&v19) - *(float *)&v3))
                                          + (float)((float)(*(float *)&v20 * *(float *)&v19) - *(float *)&v3));
    *((double *)Parameter + 0x7A) = v32
                                  - (float)((float)(v27
                                                  + (float)(*(float *)&v17 - (float)(*(float *)&v20 * *(float *)&v22)))
                                          + (float)(*(float *)&v17 - (float)(*(float *)&v20 * *(float *)&v22)));
    *((_DWORD *)Parameter + 0x129) |= 0x1000u;
    sub_1467B2AD0((Parameter *)Parameter);
    sub_14693D8B0(Parameter[0x58], Parameter, 1);
    (*(void (__fastcall **)(__int64 *, _QWORD, _QWORD, _QWORD))(*Parameter + 0x360))(Parameter, 0, 0, 0);
  }
  v34 = *((float *)Parameter + 0x203);
  v35 = *((float *)Parameter + 0x204);
  _XMM5 = (unsigned __int64)Parameter[0xD6];
  *((float *)Parameter + 0x1A3) = *((float *)Parameter + 0x202);
  *((float *)Parameter + 0x1A4) = v34;
  *((float *)Parameter + 0x1A5) = v35;
  v37 = *((float *)Parameter + 0x206);
  v38 = *((float *)Parameter + 0x207);
  *((float *)Parameter + 0x1A0) = *((float *)Parameter + 0x205);
  *((float *)Parameter + 0x1A1) = v37;
  *((float *)Parameter + 0x1A2) = v38;
  v39 = (__m128)*(unsigned __int64 *)((char *)Parameter + 0x68C);
  v40 = _mm_shuffle_ps(v39, v39, 0x55).m128_f32[0];
  __asm { vcvtpd2ps xmm5, xmm5 }
  v42 = (float)(v39.m128_f32[0] * *(float *)&_XMM5);
  v39.m128_f32[0] = *((float *)Parameter + 0x1A5) * *(float *)&_XMM5;
  *((double *)Parameter + 0xCB) = (float)(v40 * *(float *)&_XMM5);
  *((double *)Parameter + 0xCA) = v42;
  *((double *)Parameter + 0xCC) = v39.m128_f32[0];
  v43 = *((float *)Parameter + 0x1A1);
  v44 = *((float *)Parameter + 0x1A0);
  v45 = *((float *)Parameter + 0x1A2);
  v46 = *((unsigned int *)Parameter + 0x192);
  v47 = *((float *)Parameter + 0x191);
  v48 = *((float *)Parameter + 0x190);
  v49 = *((float *)Parameter + 0x193);
  v50 = v46;
  *(float *)&v50 = (float)((float)(*(float *)&v46 * v43) - (float)(v47 * v45)) + (float)(v44 * v49);
  v51 = v50;
  v52 = (float)((float)(v48 * v45) - (float)(*(float *)&v46 * v44)) + (float)(v43 * v49);
  v53 = v46;
  *(float *)&v42 = (float)((float)(v47 * v44) - (float)(v48 * v43)) + (float)(v45 * v49);
  *(float *)&v53 = (float)(*(float *)&v46 * v52) - (float)(v47 * *(float *)&v42);
  v54 = v53;
  v56 = v51;
  *(float *)&v56 = *(float *)&v51 * v47;
  v55 = v56;
  v57 = LODWORD(v48);
  *(float *)&v57 = (float)(v48 * *(float *)&v42) - (float)(*(float *)&v51 * *(float *)&v46);
  v58 = v57;
  v60 = v54;
  *(float *)&v60 = *(float *)&v54 + v44;
  v59 = v60;
  v62 = v55;
  *(float *)&v62 = *(float *)&v55 - (float)(v48 * v52);
  v61 = v62;
  *((_QWORD *)&v62 + 1) = *((_QWORD *)&v59 + 1);
  *(double *)&v62 = (float)(*(float *)&v59 + *(float *)&v54) * *((double *)Parameter + 0xBF);
  _XMM3 = v62;
  __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
  *((_QWORD *)&v62 + 1) = *((_QWORD *)&v58 + 1);
  *(double *)&v62 = (float)((float)(*(float *)&v58 + v43) + *(float *)&v58) * *((double *)Parameter + 0xC0);
  _XMM3 = v62;
  __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
  *((_QWORD *)&v62 + 1) = *((_QWORD *)&v61 + 1);
  *(double *)&v62 = (float)((float)(*(float *)&v61 + v45) + *(float *)&v61) * *((double *)Parameter + 0xC1);
  _XMM3 = v62;
  __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
  *(float *)&v51 = (float)((float)(*(float *)&_XMM8 * v47) - (float)(*(float *)&_XMM9 * *(float *)&v46))
                 + (float)(*(float *)&_XMM10 * v49);
  v69 = *Parameter;
  *(float *)&v61 = (float)((float)(*(float *)&_XMM10 * *(float *)&v46) - (float)(*(float *)&_XMM8 * v48))
                 + (float)(*(float *)&_XMM9 * v49);
  *(float *)&v58 = (float)((float)(*(float *)&_XMM9 * v48) - (float)(*(float *)&_XMM10 * v47))
                 + (float)(*(float *)&_XMM8 * v49);
  *((double *)Parameter + 0xCF) = (float)((float)((float)((float)(*(float *)&v61 * v48) - (float)(*(float *)&v51 * v47))
                                                + *(float *)&_XMM8)
                                        + (float)((float)(*(float *)&v61 * v48) - (float)(*(float *)&v51 * v47)));
  *((double *)Parameter + 0xCD) = (float)((float)((float)((float)(*(float *)&v58 * v47)
                                                        - (float)(*(float *)&v61 * *(float *)&v46))
                                                + *(float *)&_XMM10)
                                        + (float)((float)(*(float *)&v58 * v47)
                                                - (float)(*(float *)&v61 * *(float *)&v46)));
  *((double *)Parameter + 0xCE) = (float)((float)((float)((float)(*(float *)&v51 * *(float *)&v46)
                                                        - (float)(*(float *)&v58 * v48))
                                                + *(float *)&_XMM9)
                                        + (float)((float)(*(float *)&v51 * *(float *)&v46)
                                                - (float)(*(float *)&v58 * v48)));
  result = (*(__int64 (__fastcall **)(__int64 *))(v69 + 0x3A0))(Parameter);
  if ( Parameter[0x112] )
  {
    result = Parameter[0x58];
    if ( *(_DWORD *)(result + 0x84A00) == *((_DWORD *)Parameter + 0x226) )
    {
      for ( i = 0; (unsigned int)i < *((_DWORD *)Parameter + 0x12C); i = (unsigned int)(i + 1) )
      {
        result = Parameter[0x112];
        v72 = *(_QWORD *)(result + 8 * i);
        if ( v72 )
        {
          result = *(_QWORD *)(v72 + 0x18) & 0xFFFFFFFFFFFFLL;
          if ( *(char *)(result + 0x208) < 0 )
            *(_DWORD *)(v72 + 0x88) = 0x3C23D70A;
        }
      }
    }
  }
  return result;
}

// --- End Function: sub_1467FF810 (0x1467FF810) ---

// --- Function: sub_146807C70 (0x146807C70) ---
__int64 __fastcall sub_146807C70(volatile signed __int64 *a1, __int64 a2, __int64 a3)
{
  volatile signed __int64 *v3; // rdi
  int v4; // r9d
  unsigned int v5; // ebx
  volatile signed __int64 *v6; // rsi
  unsigned __int64 n0x200000; // rax
  unsigned __int64 n0x200000_1; // rax

  v3 = a1 + 0x119;
  v4 = 0;
  v5 = 1;
  if ( _InterlockedCompareExchange64(a1 + 0x119, 0x200000, 0)
    || (v4 = 1, v6 = a1 + 0x2A, _InterlockedCompareExchange64(a1 + 0x2A, 0x200000, 0)) )
  {
    v5 = 0;
    if ( !v4 )
      return v5;
  }
  else
  {
    (*(void (__fastcall **)(volatile signed __int64 *, __int64, __int64, __int64))(*a1 + 0x220))(a1, a2, a3, 1);
    n0x200000 = _InterlockedCompareExchange64(v6, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v6, n0x200000);
  }
  n0x200000_1 = _InterlockedCompareExchange64(v3, 0, 0x200000);
  if ( n0x200000_1 != 0x200000 )
    sub_1403DEBA0(v3, n0x200000_1);
  return v5;
}

// --- End Function: sub_146807C70 (0x146807C70) ---

// --- Function: sub_146807D10 (0x146807D10) ---
void __fastcall sub_146807D10(Parameter *Parameter, unsigned __int64 a2, char a3)
{
  int n0x40; // ebx
  int v6; // r11d
  __int64 v7; // r10
  Parameter *Parameter_1; // rax
  int v9; // eax
  unsigned __int64 v10; // r8
  __int64 v11; // r10
  __int64 v12; // r11
  Parameter *Parameter_2; // rdx

  n0x40 = 0;
  v6 = 0;
  if ( *((int *)Parameter + 0x52) > 0 )
  {
    v7 = 0;
    do
    {
      Parameter_1 = *(_QWORD *)(v7 + *((_QWORD *)Parameter + 0x28));
      if ( (Parameter *)Parameter_1 != Parameter )
      {
        v9 = *(_DWORD *)(Parameter_1 + 0xF8);
        if ( _bittest(&v9, a3) )
          _InterlockedExchangeAdd(
            (volatile signed __int32 *)(*(_QWORD *)(v7 + *((_QWORD *)Parameter + 0x28)) + 0xF8LL),
            0xFFFFFFFF << a3);
      }
      ++v6;
      v7 += 8;
    }
    while ( v6 < *((_DWORD *)Parameter + 0x52) );
  }
  v10 = 1;
  v11 = 0;
  v12 = 0;
  do
  {
    if ( v10 > a2 )
      break;
    if ( (v10 & a2) != 0 && (*(_DWORD *)(*((_QWORD *)Parameter + 0x9E) + v12 + 0x68) & 0x200) != 0 )
    {
      Parameter_2 = *(_QWORD *)(v11 + *((_QWORD *)Parameter + 0x9D) + 0x20);
      if ( (Parameter *)Parameter_2 != Parameter )
        _InterlockedExchangeAdd(
          (volatile signed __int32 *)(*(_QWORD *)(*((_QWORD *)Parameter + 0x9D) + v11 + 0x20) + 0xF8LL),
          -((1 << a3) & *(_DWORD *)(Parameter_2 + 0xF8)));
    }
    ++n0x40;
    v10 = __ROL8__(v10, 1);
    v12 += 0x100;
    v11 += 0x108;
  }
  while ( n0x40 < 0x40 );
}

// --- End Function: sub_146807D10 (0x146807D10) ---

// --- Function: sub_146809080 (0x146809080) ---
// local variable allocation has failed, the output may be wrong!
__int64 __fastcall sub_146809080(__int64 Parameter, float Y, double _XMM2_8)
{
  __int128 v4; // xmm7
  int v5; // r10d
  unsigned int v9; // r9d
  int v10; // r13d
  float v11; // xmm0_4
  unsigned __int64 v12; // r8
  int n0x40; // ecx
  __int64 v14; // rdx
  int v15; // r8d
  __m128 v16; // xmm2
  __m128 v17; // xmm1
  __int64 v22; // rcx
  __int64 v23; // rax
  float X; // xmm0_4
  float v25; // xmm0_4
  __m128 v26; // xmm3
  double v28; // xmm2_8
  float v30; // xmm12_4
  float v31; // xmm9_4
  float v32; // xmm10_4
  float v33; // xmm7_4
  float v34; // xmm13_4
  float v35; // xmm8_4
  float v36; // xmm14_4
  float v37; // xmm15_4
  float v38; // xmm7_4
  float v39; // xmm8_4
  float v40; // xmm10_4
  float v41; // xmm12_4
  float v42; // xmm4_4
  float v43; // xmm11_4
  float v44; // xmm13_4
  float v45; // xmm9_4
  float v46; // xmm5_4
  float v47; // xmm4_4
  float v48; // xmm1_4
  float v49; // kr00_4
  double v50; // xmm4_8
  float v51; // xmm6_4
  float v52; // kr00_4
  double v53; // xmm5_8
  int v54; // r8d
  int v55; // eax
  float v56; // xmm2_4
  int v57; // ecx
  __int64 v58; // rax
  __int64 v59; // rdx
  __int64 v60; // rcx
  __int64 v61; // rax
  __int64 v62; // rcx
  unsigned __int64 v63; // rdx
  __int64 *v64; // rax
  unsigned __int64 v65; // r8
  __int64 v66; // rdx
  int n0x40_1; // ebx
  int v68; // ebx
  __int64 v69; // rdi
  __int64 v70; // rax
  __int64 v71; // r9
  int *v72; // rdx
  int v73; // r8d
  int v74; // ecx
  __int64 *v75; // r8
  int n0x40_2; // eax
  __int64 v77; // r15
  __int64 v78; // rsi
  __int64 v79; // r13
  double v80; // xmm11_8
  double v81; // xmm12_8
  double v82; // xmm13_8
  double v83; // xmm14_8
  unsigned __int64 v84; // rdx
  unsigned __int64 v85; // rax
  __int64 v86; // r12
  __int64 v87; // rcx
  __int64 v88; // rbx
  __int64 v89; // rdi
  double *v90; // rax
  double v92; // xmm7_8
  double *v93; // rax
  __int128 v95; // xmm1
  __int64 v96; // rax
  __int128 v98; // kr00_16
  __int128 v104; // kr00_16
  char v105; // r9
  __int64 v106; // rax
  __int64 v107; // rcx
  _QWORD *ThreadLocalStoragePointer; // rcx
  __int64 v110; // rax
  int n0x1E; // r8d
  __int64 v113; // rcx
  __int64 v115; // rcx
  double *v116; // rcx
  double v117; // xmm3_8
  double v118; // xmm2_8
  double v119; // xmm4_8
  __int128 v120; // xmm2
  __int128 v121; // kr00_16
  double *v128; // rax
  const char *p_UNKNOWN_ENTITY_NAME; // rdi
  int v130; // ebx
  _QWORD *v131; // rsi
  int v132; // eax
  const char *v133; // r13
  __int64 v134; // rcx
  const char *p_UNKNOWN_ENTITY_NAME_1; // rdi
  int v136; // ebx
  _QWORD *v137; // rsi
  int v138; // eax
  const char *p_ROOT; // rdi
  __int64 v140; // xmm15_8
  __int64 v141; // xmm10_8
  __int64 v142; // xmm14_8
  Server **p_Client_1; // rbx
  Server **p_Client; // rdx
  int v145; // esi
  double v146; // xmm0_8
  double v147; // xmm1_8
  double v148; // xmm0_8
  int *ThreadLogContextSlot; // rax
  int n0x40_3; // esi
  unsigned __int64 v151; // rdi
  __int64 v152; // r13
  __int64 v153; // r12
  unsigned __int64 v154; // rax
  __int64 v155; // r8
  __int64 v156; // rbx
  double *v157; // rax
  double v158; // xmm2_8
  double v159; // xmm3_8
  __int64 v160; // rax
  double v161; // xmm2_8
  double v162; // xmm1_8
  __int64 v163; // rax
  double v164; // xmm1_8
  __int64 v165; // rax
  int v166; // r15d
  int v167; // r12d
  signed __int64 v168; // rdx
  __int64 v169; // rbx
  int v170; // r9d
  int v171; // ecx
  __int64 v172; // rdx
  int *v173; // rcx
  __int128 v174; // xmm5
  __int128 v175; // xmm7
  __int128 v176; // xmm11
  float v177; // xmm12_4
  float v178; // xmm13_4
  float v179; // xmm3_4
  double *v180; // rax
  float v181; // xmm2_4
  float v182; // xmm1_4
  double v183; // xmm10_8
  double v184; // xmm6_8
  double v185; // xmm9_8
  __int128 v186; // kr00_16
  __int128 v187; // xmm8
  __int128 v188; // xmm5
  __int128 v189; // xmm4
  float v192; // xmm7_4
  __int128 v200; // kr00_16
  float v202; // xmm2_4
  float v203; // xmm14_4
  float v204; // xmm13_4
  float v205; // xmm11_4
  float v206; // xmm12_4
  float v207; // xmm15_4
  float v208; // xmm7_4
  __int128 v209; // kr00_16
  __int128 v210; // xmm6
  __int128 v211; // kr00_16
  __int128 v212; // xmm4
  __int128 v213; // kr00_16
  __int128 v214; // xmm5
  __int64 v215; // rax
  __int128 v216; // kr00_16
  __int128 v217; // xmm4
  __int128 v218; // xmm1
  __int128 v219; // kr00_16
  __int128 v220; // kr00_16
  __int128 v221; // xmm6
  float v228; // xmm7_4
  int v229; // r10d
  float *v230; // r9
  int i; // ebx
  __int64 v232; // rdx
  float v233; // xmm6_4
  float v234; // xmm5_4
  float v235; // xmm7_4
  float v236; // kr00_4
  float v237; // xmm1_4
  __int64 v238; // r8
  unsigned __int64 v239; // rdx
  float v241; // xmm7_4
  __m128 v243; // xmm0
  __int128 v245; // kr00_16
  __int64 v248; // r10
  int v249; // edx
  int v250; // r9d
  float v251; // xmm4_4
  float v252; // xmm5_4
  __int128 v254; // kr00_16
  float v256; // xmm2_4
  float v257; // xmm2_4
  unsigned int v258; // ecx
  bool v259; // zf
  float v260; // xmm2_4
  float v261; // xmm3_4
  float v262; // xmm10_4
  __int128 v263; // xmm9
  __int128 v264; // kr00_16
  float v265; // xmm14_4
  float v266; // xmm13_4
  float v267; // xmm12_4
  float v268; // xmm15_4
  float v269; // xmm8_4
  float v270; // xmm7_4
  float v271; // xmm6_4
  float v272; // xmm4_4
  float v273; // xmm5_4
  __int128 v274; // kr00_16
  __int128 v275; // xmm4
  __int128 v276; // kr00_16
  float v283; // xmm8_4
  float v284; // xmm7_4
  int v285; // edx
  float v286; // xmm5_4
  float v287; // xmm4_4
  double v288; // xmm2_8
  __m128 v289; // xmm0
  __int128 v291; // kr00_16
  __int64 v293; // rax
  int v294; // ecx
  __int64 v295; // rcx
  int v296; // ecx
  __int64 v297; // rcx
  __int128 v299; // kr00_16
  int v301; // eax
  float v302; // kr00_4
  int v303; // ecx
  __int64 v304; // [rsp+28h] [rbp-110h]
  char v305; // [rsp+B8h] [rbp-80h]
  float v307; // [rsp+BCh] [rbp-7Ch]
  int n0x40_4; // [rsp+C0h] [rbp-78h]
  double v309; // [rsp+C0h] [rbp-78h]
  float v310; // [rsp+C8h] [rbp-70h]
  float v311; // [rsp+C8h] [rbp-70h]
  __int64 *v312; // [rsp+D0h] [rbp-68h]
  double v313; // [rsp+D0h] [rbp-68h]
  int v314; // [rsp+D8h] [rbp-60h]
  float v315; // [rsp+D8h] [rbp-60h]
  double v316; // [rsp+E0h] [rbp-58h] BYREF
  float v317; // [rsp+E8h] [rbp-50h]
  _DWORD v318[2]; // [rsp+F0h] [rbp-48h] BYREF
  _DWORD v319[2]; // [rsp+F8h] [rbp-40h] BYREF
  float v320[4]; // [rsp+100h] [rbp-38h] BYREF
  double v321[2]; // [rsp+110h] [rbp-28h] BYREF
  double v322; // [rsp+120h] [rbp-18h]
  _QWORD v323[2]; // [rsp+128h] [rbp-10h] BYREF
  __int64 v324; // [rsp+138h] [rbp+0h]
  __int64 v325[2]; // [rsp+140h] [rbp+8h] BYREF
  __int64 v326; // [rsp+150h] [rbp+18h]
  __int64 v327[2]; // [rsp+158h] [rbp+20h] BYREF
  __int64 v328; // [rsp+168h] [rbp+30h]
  _DWORD v329[3]; // [rsp+170h] [rbp+38h] BYREF
  __int128 v330; // [rsp+17Ch] [rbp+44h]
  float v331; // [rsp+18Ch] [rbp+54h]
  float v332; // [rsp+190h] [rbp+58h]
  int v333; // [rsp+194h] [rbp+5Ch]
  _DWORD v334[3]; // [rsp+198h] [rbp+60h] BYREF
  __int128 v335; // [rsp+1A4h] [rbp+6Ch]
  float v336; // [rsp+1B4h] [rbp+7Ch]
  float v337; // [rsp+1B8h] [rbp+80h]
  int v338; // [rsp+1BCh] [rbp+84h]
  int n0x2800; // [rsp+1C8h] [rbp+90h] BYREF
  __int64 v340; // [rsp+1CCh] [rbp+94h]
  int v341; // [rsp+1D4h] [rbp+9Ch]
  __int64 v342; // [rsp+1D8h] [rbp+A0h]
  unsigned __int64 v343; // [rsp+1E0h] [rbp+A8h]
  __int64 v344; // [rsp+1E8h] [rbp+B0h]
  __int64 v345; // [rsp+1F0h] [rbp+B8h]
  __int64 v346[2]; // [rsp+218h] [rbp+E0h] BYREF
  __int64 v347[2]; // [rsp+228h] [rbp+F0h] BYREF
  __int64 v348[2]; // [rsp+238h] [rbp+100h] BYREF
  __int64 v349[2]; // [rsp+248h] [rbp+110h] BYREF
  __int64 v350[2]; // [rsp+258h] [rbp+120h] BYREF
  _QWORD v351[2]; // [rsp+268h] [rbp+130h] BYREF
  __int64 v352[2]; // [rsp+278h] [rbp+140h] BYREF
  __int64 v353[2]; // [rsp+288h] [rbp+150h] BYREF
  __int64 v354[2]; // [rsp+298h] [rbp+160h] BYREF
  __int64 v355[2]; // [rsp+2A8h] [rbp+170h] BYREF
  __int64 v356[2]; // [rsp+2B8h] [rbp+180h] BYREF
  __int64 v357; // [rsp+2C8h] [rbp+190h] BYREF
  __int64 v358; // [rsp+2D0h] [rbp+198h]
  __int64 v359; // [rsp+2D8h] [rbp+1A0h]
  int v360; // [rsp+2E8h] [rbp+1B0h] BYREF
  double v361; // [rsp+2F0h] [rbp+1B8h]
  double v362; // [rsp+2F8h] [rbp+1C0h]
  double v363; // [rsp+300h] [rbp+1C8h]
  unsigned int v364; // [rsp+314h] [rbp+1DCh]
  unsigned int v365; // [rsp+318h] [rbp+1E0h]
  unsigned int v366; // [rsp+31Ch] [rbp+1E4h]
  int n0x121; // [rsp+320h] [rbp+1E8h]
  char v368; // [rsp+324h] [rbp+1ECh]
  __int64 *v369; // [rsp+328h] [rbp+1F0h]
  int v370; // [rsp+338h] [rbp+200h] BYREF
  double v371; // [rsp+340h] [rbp+208h]
  double v372; // [rsp+348h] [rbp+210h]
  double v373; // [rsp+350h] [rbp+218h]
  unsigned int v374; // [rsp+364h] [rbp+22Ch]
  unsigned int v375; // [rsp+368h] [rbp+230h]
  unsigned int v376; // [rsp+36Ch] [rbp+234h]
  int n0x121_1; // [rsp+370h] [rbp+238h]
  char v378; // [rsp+374h] [rbp+23Ch]
  __int64 *v379; // [rsp+378h] [rbp+240h]
  __int128 v380; // [rsp+388h] [rbp+250h]
  double v381; // [rsp+398h] [rbp+260h]
  __int128 v382; // [rsp+3A0h] [rbp+268h]
  double v383; // [rsp+3B0h] [rbp+278h]
  _OWORD v384[2]; // [rsp+3B8h] [rbp+280h] BYREF
  double v385[22]; // [rsp+3D8h] [rbp+2A0h] BYREF
  double v386[3]; // [rsp+488h] [rbp+350h] BYREF
  double v387[3]; // [rsp+4A0h] [rbp+368h] BYREF
  double v388[4]; // [rsp+4B8h] [rbp+380h] BYREF
  char v389; // [rsp+4D8h] [rbp+3A0h] BYREF
  float v390; // [rsp+4E8h] [rbp+3B0h]
  double v391[8]; // [rsp+538h] [rbp+400h] BYREF
  int n5; // [rsp+578h] [rbp+440h] BYREF
  unsigned int v393; // [rsp+57Ch] [rbp+444h]
  int v394; // [rsp+580h] [rbp+448h]
  unsigned int v395; // [rsp+584h] [rbp+44Ch]
  int v396; // [rsp+588h] [rbp+450h]
  unsigned int v397; // [rsp+594h] [rbp+45Ch]
  unsigned int v398; // [rsp+5ACh] [rbp+474h]
  unsigned int v399; // [rsp+5CCh] [rbp+494h]
  unsigned int v400; // [rsp+5DCh] [rbp+4A4h]
  unsigned int v401; // [rsp+5E0h] [rbp+4A8h]
  unsigned int v402; // [rsp+5E4h] [rbp+4ACh]
  unsigned int v403; // [rsp+5E8h] [rbp+4B0h]
  unsigned int v404; // [rsp+5ECh] [rbp+4B4h]
  unsigned int v405; // [rsp+5F0h] [rbp+4B8h]
  unsigned int v406; // [rsp+5FCh] [rbp+4C4h]
  unsigned int v407; // [rsp+608h] [rbp+4D0h]
  unsigned int v408; // [rsp+60Ch] [rbp+4D4h]
  int n2; // [rsp+610h] [rbp+4D8h]
  int v410; // [rsp+614h] [rbp+4DCh]
  unsigned int v411; // [rsp+618h] [rbp+4E0h]
  unsigned int v412; // [rsp+624h] [rbp+4ECh]
  unsigned int v413; // [rsp+630h] [rbp+4F8h]
  unsigned int v414; // [rsp+63Ch] [rbp+504h]
  unsigned int v415; // [rsp+648h] [rbp+510h]
  unsigned int v416; // [rsp+660h] [rbp+528h]
  unsigned int v417; // [rsp+664h] [rbp+52Ch]
  unsigned int v418; // [rsp+670h] [rbp+538h]
  __int128 v419; // [rsp+718h] [rbp+5E0h]
  __int128 v420; // [rsp+728h] [rbp+5F0h]

  v420 = _XMM6;
  v419 = v4;
  v5 = *(_DWORD *)(Parameter + 0x208);
  LODWORD(_XMM6) = LODWORD(_XMM2_8);
  if ( (v5 & 0x20) != 0 )
  {
    *(_DWORD *)(Parameter + 0x838) = 0xFFBFFFFF;
    return 0;
  }
  v9 = *(_DWORD *)(Parameter + 0x4A4);
  v10 = *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
  v314 = v10;
  if ( (v9 & 0x4000000) == 0 || *(_DWORD *)(Parameter + 0x148) + *(_DWORD *)(Parameter + 0x50C) )
    v11 = *(float *)(Parameter + 0x550);
  else
    v11 = *(float *)(Parameter + 0x8AC);
  v12 = *(_QWORD *)(Parameter + 0x500);
  n0x40 = 0;
  v14 = 0;
  v310 = v11;
  while ( 1LL << n0x40 <= v12 )
  {
    if ( (v12 & (1LL << n0x40)) != 0 && (*(_DWORD *)(v14 + *(_QWORD *)(Parameter + 0x4F0) + 0x68) & 0x100) == 0 )
    {
      v310 = *(float *)(Parameter + 0x8AC);
      break;
    }
    ++n0x40;
    v14 += 0x100;
    if ( n0x40 >= 0x40 )
      break;
  }
  *(_DWORD *)(Parameter + 0x4A4) = v9 ^ (v9 ^ ((v9 & (0xFFFFE000 * ((v9 >> 0xC) & 1))) + 2 * (v9 & 0x1000))) & 0x1E000;
  if ( (v5 & 1) != 0 )
    __asm { vmaxss  xmm6, xmm2, xmm0 }
  (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)Parameter + 0x3A0LL))(Parameter, v14);
  v15 = (unsigned __int8)*(_DWORD *)(Parameter + 0x864)
      | (((*(int *)(Parameter + 0x864) >> 8)
        - ((((*(_BYTE *)(Parameter + 0x864) & 3) - 2) ^ ((*(_BYTE *)(Parameter + 0x864) & 3) - 3)) >> 0x1F)) << 8);
  *(_DWORD *)(Parameter + 0x864) = v15;
  *(float *)(Parameter + 0x860) = *(float *)(Parameter + 0x860)
                                - (float)((float)(((((v15 >> 8) & 3) - 3) ^ (((v15 >> 8) & 3) - 4)) >> 0x1F) * 3.0);
  v16 = (__m128)*(unsigned __int64 *)(Parameter + 0x68C);
  *(float *)(Parameter + 0x68C) = v16.m128_f32[0] * *(float *)&_XMM6;
  *(float *)(Parameter + 0x690) = _mm_shuffle_ps(v16, v16, 0x55).m128_f32[0] * *(float *)&_XMM6;
  v316 = *(double *)v16.m128_u64;
  *(float *)(Parameter + 0x694) = *(float *)&_XMM6 * *(float *)(Parameter + 0x694);
  v17 = (__m128)*(unsigned __int64 *)(Parameter + 0x680);
  *(float *)(Parameter + 0x680) = v17.m128_f32[0] * *(float *)&_XMM6;
  *(float *)(Parameter + 0x684) = _mm_shuffle_ps(v17, v17, 0x55).m128_f32[0] * *(float *)&_XMM6;
  v316 = *(double *)v17.m128_u64;
  *(float *)(Parameter + 0x688) = *(float *)&_XMM6 * *(float *)(Parameter + 0x688);
  v16.m128_u64[0] = *(_QWORD *)(Parameter + 0x660);
  _XMM1 = *(_OWORD *)(Parameter + 0x650);
  *(double *)(Parameter + 0x650) = *(double *)&_XMM1 * *(float *)&_XMM6;
  __asm { vunpckhpd xmm1, xmm1, xmm1 }
  *(double *)(Parameter + 0x658) = *(double *)&_XMM1 * *(float *)&_XMM6;
  *(double *)(Parameter + 0x660) = *(double *)v16.m128_u64 * *(float *)&_XMM6;
  _XMM1 = *(_OWORD *)(Parameter + 0x668);
  v322 = *(double *)v16.m128_u64;
  v16.m128_u64[0] = *(_QWORD *)(Parameter + 0x678);
  *(double *)(Parameter + 0x668) = *(double *)&_XMM1 * *(float *)&_XMM6;
  __asm { vunpckhpd xmm1, xmm1, xmm1 }
  *(double *)(Parameter + 0x670) = *(double *)&_XMM1 * *(float *)&_XMM6;
  *(double *)(Parameter + 0x678) = *(double *)v16.m128_u64 * *(float *)&_XMM6;
  v22 = *(_QWORD *)(Parameter + 0x2C0);
  v322 = *(double *)v16.m128_u64;
  v23 = v22;
  X = *(float *)(v22 + 0x228);
  if ( *(int *)(v22 + 0x224) >= 0
    && X >= 0.0
    && X < 1.0
    && (float)((float)((float)(*(float *)(Parameter + 0x680) * *(float *)(Parameter + 0x680))
                     + (float)(*(float *)(Parameter + 0x684) * *(float *)(Parameter + 0x684)))
             + (float)(*(float *)(Parameter + 0x688) * *(float *)(Parameter + 0x688))) > (float)(*(float *)(v22 + 0x224)
                                                                                               * *(float *)(v22 + 0x224)) )
  {
    v25 = powf(X, Y);
    v26 = (__m128)*(unsigned __int64 *)(Parameter + 0x680);
    *(float *)(Parameter + 0x680) = v26.m128_f32[0] * v25;
    *(float *)(Parameter + 0x684) = _mm_shuffle_ps(v26, v26, 0x55).m128_f32[0] * v25;
    v316 = *(double *)v26.m128_u64;
    *(float *)(Parameter + 0x688) = v25 * *(float *)(Parameter + 0x688);
    _XMM1 = *(_OWORD *)(Parameter + 0x668);
    v28 = *(double *)(Parameter + 0x678);
    *(double *)(Parameter + 0x668) = *(double *)&_XMM1 * v25;
    __asm { vunpckhpd xmm1, xmm1, xmm1 }
    *(double *)(Parameter + 0x670) = *(double *)&_XMM1 * v25;
    *(double *)(Parameter + 0x678) = v28 * v25;
    v23 = *(_QWORD *)(Parameter + 0x2C0);
    v322 = v28;
  }
  if ( *(double *)(Parameter + 0x718) > 0.0 )
  {
    v30 = *(float *)(Parameter + 0x644);
    v31 = *(float *)(Parameter + 0x6CC);
    v32 = *(float *)(Parameter + 0x6C8);
    v33 = *(float *)(Parameter + 0x640);
    v34 = *(float *)(Parameter + 0x648);
    v35 = *(float *)(Parameter + 0x6D0);
    v36 = *(float *)(Parameter + 0x64C);
    v37 = *(float *)(Parameter + 0x6D4);
    *(float *)(Parameter + 0x3E4) = (float)(v37 * v36)
                                  - (float)((float)((float)(v33 * v32) + (float)(v31 * v30)) + (float)(v35 * v34));
    *(float *)(Parameter + 0x3D8) = (float)((float)((float)(v35 * v30) - (float)(v34 * v31)) + (float)(v32 * v36))
                                  + (float)(v33 * v37);
    *(float *)(Parameter + 0x3DC) = (float)((float)((float)(v34 * v32) - (float)(v35 * v33)) + (float)(v31 * v36))
                                  + (float)(v30 * v37);
    *(float *)(Parameter + 0x3E0) = (float)((float)((float)(v33 * v31) - (float)(v32 * v30)) + (float)(v35 * v36))
                                  + (float)(v34 * v37);
    v38 = *(float *)(Parameter + 0x1E0);
    v39 = *(float *)(Parameter + 0x1D8);
    v40 = *(float *)(Parameter + 0x1DC);
    v41 = *(float *)(Parameter + 0x6DC);
    v42 = *(float *)(Parameter + 0x1E4);
    v43 = *(float *)(Parameter + 0x6D8);
    v44 = *(float *)(Parameter + 0x6E0);
    v45 = (float)((float)(v44 * v40) - (float)(v41 * v38)) + (float)(v43 * v42);
    v46 = (float)((float)(v43 * v38) - (float)(v39 * v44)) + (float)(v42 * v41);
    v47 = (float)((float)(v39 * v41) - (float)(v43 * v40)) + (float)(v42 * v44);
    v48 = v39 * v47;
    v49 = v40 * v47;
    v50 = *(double *)(Parameter + 0x630);
    v51 = v49 - (float)(v38 * v46);
    v52 = v39 * v46;
    v53 = *(double *)(Parameter + 0x638);
    *(double *)(Parameter + 0x3C0) = *(double *)(Parameter + 0x628) - (float)((float)(v43 + v51) + v51);
    *(double *)(Parameter + 0x3C8) = v50
                                   - (float)((float)(v41 + (float)((float)(v38 * v45) - v48))
                                           + (float)((float)(v38 * v45) - v48));
    *(double *)(Parameter + 0x3D0) = v53
                                   - (float)((float)(v44 + (float)(v52 - (float)(v40 * v45)))
                                           + (float)(v52 - (float)(v40 * v45)));
    sub_1467B2AD0((Parameter *)Parameter);
    sub_14693D8B0(*(_QWORD *)(Parameter + 0x2C0), Parameter, 1, Parameter + 0x418);
    (*(void (__fastcall **)(__int64, _QWORD, _QWORD, _QWORD))(*(_QWORD *)Parameter + 0x360LL))(Parameter, 0, 0, 0);
    v23 = *(_QWORD *)(Parameter + 0x2C0);
  }
  if ( (*(_DWORD *)(Parameter + 0x208) & 0x2000000) != 0 )
  {
    if ( *(_DWORD *)(Parameter + 0x4B4) )
    {
      v54 = 0;
      v55 = *(_DWORD *)(v23 + 0x84A00) - *(_DWORD *)(Parameter + 0x898);
      v56 = *(float *)(Parameter + 0x89C);
      v57 = v55 ^ (v55 - 1);
      v58 = *(_QWORD *)(Parameter + 0x2C0);
      v57 >>= 0x1F;
      *(_DWORD *)(Parameter + 0x4B0) &= v57;
      *(float *)(Parameter + 0x89C) = (float)((float)(-v57 ^ 1) * (float)(1.0e10 - v56)) + v56;
      *(_DWORD *)(Parameter + 0x898) = *(_DWORD *)(v58 + 0x84A00);
      if ( *(int *)(Parameter + 0x4B0) > 0 )
      {
        v59 = 0;
        do
        {
          v60 = *(_QWORD *)(v59 + *(_QWORD *)(Parameter + 0x890));
          v61 = *(_QWORD *)(v60 + 0xA8);
          if ( v61 )
          {
            *(float *)(v60 + 0xA0) = *(float *)(v61 + 0xA8) + *(float *)(v60 + 0xA0);
            *(_QWORD *)(*(_QWORD *)(v59 + *(_QWORD *)(Parameter + 0x890)) + 0xA8LL) = 0;
          }
          ++v54;
          v59 += 8;
        }
        while ( v54 < *(_DWORD *)(Parameter + 0x4B0) );
      }
    }
  }
  v62 = *(unsigned int *)(Parameter + 0x148);
  v63 = 0;
  n5 = 5;
  v393 = 0x80000000;
  v397 = 0xFFF7FFFF;
  v398 = 0xFFF7FFFF;
  v399 = 0xFFBFFFFF;
  v400 = 0xFFBFFFFF;
  v401 = 0xFFBFFFFF;
  v402 = 0xFFBFFFFF;
  v403 = 0xFFBFFFFF;
  v404 = 0xFFBFFFFF;
  v405 = 0xFFBFFFFF;
  v406 = 0xFFBFFFFF;
  v407 = 0xFFBFFFFF;
  v408 = 0xFFBFFFFF;
  v411 = 0xFFBFFFFF;
  v412 = 0xFFBFFFFF;
  v413 = 0xFFBFFFFF;
  v414 = 0xFFBFFFFF;
  v415 = 0xFFBFFFFF;
  v416 = 0xFFBFFFFF;
  v417 = 0xFFBFFFFF;
  v418 = 0xFFBFFFFF;
  v394 = 0;
  v395 = 0xFFFFFFFF;
  n2 = 2;
  v396 = 1;
  v410 = 1;
  *(_QWORD *)(Parameter + 0x500) = 0;
  if ( (int)v62 > 0 )
  {
    v64 = *(__int64 **)(Parameter + 0x4C8);
    v65 = 0;
    do
    {
      v66 = *v64++;
      v63 = v65 | v66;
      *(_QWORD *)(Parameter + 0x500) = v63;
      v65 = v63;
      --v62;
    }
    while ( v62 );
  }
  for ( n0x40_1 = 0; n0x40_1 < 0x40; ++n0x40_1 )
  {
    if ( 1LL << n0x40_1 > v63 )
      break;
  }
  v68 = n0x40_1 - 1;
  if ( v68 >= 0 )
  {
    v69 = v68;
    do
    {
      v70 = *(_QWORD *)(Parameter + 0x500);
      if ( _bittest64(&v70, (unsigned int)v68) )
      {
        v71 = *(_QWORD *)(Parameter + 0x4F0);
        if ( (*(_DWORD *)((v69 << 8) + v71 + 0x68) & 0x10000) != 0 )
        {
          if ( v68 > 0 )
          {
            v72 = (int *)((v69 << 8) + v71 + 8);
            v73 = *v72;
            do
            {
              v74 = v72[0xFFFFFFC0];
              v72 += 0xFFFFFFC0;
              if ( v73 != v74 )
                break;
              --v68;
              --v69;
              v73 = v74;
            }
            while ( v69 > 0 );
          }
          v393 = *(_DWORD *)((v69 << 8) + v71 + 8);
          (*(void (__fastcall **)(__int64, int *, __int64))(*(_QWORD *)Parameter + 0x30LL))(Parameter, &n5, 1);
        }
      }
      --v69;
      --v68;
    }
    while ( v68 >= 0 );
  }
  if ( !*(_DWORD *)(*(_QWORD *)(Parameter + 0x2C0) + 0x388LL) )
    goto LABEL_93;
  n0x2800 = 0x2800;
  v340 = 0;
  v341 = 0;
  v343 = 0;
  v344 = 0;
  v345 = 0;
  v342 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v75 = *(__int64 **)(Parameter + 0xB8);
  LOBYTE(n0x40_2) = 0;
  v312 = v75;
  v77 = 0;
  n0x40_4 = 0;
  v78 = 0;
  v305 = 0;
  v79 = 0;
  v80 = 0.0;
  v81 = 0.0;
  v82 = 0.0;
  v83 = 0.0;
  while ( 1 )
  {
    v84 = *(_QWORD *)(Parameter + 0x500);
    v85 = 1LL << n0x40_2;
    if ( v85 > v84 )
      break;
    if ( (v85 & v84) == 0 )
      goto LABEL_70;
    v86 = *(_QWORD *)(Parameter + 0x4F0);
    if ( (*(_DWORD *)(v78 + v86 + 0x68) & 0x20100) != 0x20000 )
      goto LABEL_70;
    v87 = *(_QWORD *)(Parameter + 0x4E8);
    if ( *(__int64 **)(*(_QWORD *)(v87 + v79 + 0x20) + 0xB8LL) != v75 )
      goto LABEL_70;
    v88 = v87 + 0x108LL * n0x40_4;
    v89 = (__int64)n0x40_4 << 8;
    v90 = sub_1467CE650(v386, v88, (double *)(v86 + v89 + 0x30), 0);
    v92 = v90[2];
    v380 = *(_OWORD *)v90;
    _XMM6 = v380;
    v93 = sub_1467CE650(v387, v88, (double *)(v86 + v89 + 0x48), 1);
    v381 = v92;
    _XMM0 = *(_OWORD *)v93;
    v95 = *((unsigned __int64 *)v93 + 2);
    v96 = *(_QWORD *)(Parameter + 0x2C0);
    *((_QWORD *)&v98 + 1) = *((_QWORD *)&_XMM0 + 1);
    *(double *)&v98 = *(double *)&_XMM0 - *(double *)&_XMM6;
    _XMM9 = v98;
    v382 = _XMM0;
    __asm { vunpckhpd xmm0, xmm0, xmm0 }
    v383 = *(double *)&v95;
    *((_QWORD *)&v98 + 1) = *((_QWORD *)&v95 + 1);
    *(double *)&v98 = *(double *)&v95 - v92;
    _XMM7 = v98;
    __asm { vunpckhpd xmm6, xmm6, xmm6 }
    *((_QWORD *)&v104 + 1) = *((_QWORD *)&_XMM0 + 1);
    *(double *)&v104 = *(double *)&_XMM0 - *(double *)&_XMM6;
    _XMM10 = v104;
    *(double *)&v104 = *(double *)&_XMM10 * *(double *)&_XMM10
                     + *(double *)&_XMM9 * *(double *)&_XMM9
                     + *(double *)&_XMM7 * *(double *)&_XMM7;
    _XMM6 = v104;
    if ( *(double *)&v104 < (float)(*(float *)(v96 + 0x38C) * *(float *)(v96 + 0x38C)) )
    {
      *(_DWORD *)(v78 + v86 + 0xA4) = 0;
LABEL_69:
      v75 = v312;
LABEL_70:
      v105 = v305;
      goto LABEL_71;
    }
    if ( *(double *)&v104 <= (float)((float)(*(float *)(v96 + 0x2A0) * *(float *)(v96 + 0x2A0)) * 0.0625) )
    {
      if ( !v77 )
      {
        v106 = sub_1402A63D0(0x60u);
        v77 = v106;
        if ( v106 )
        {
          *(_QWORD *)v106 = 0;
          *(_QWORD *)(v106 + 8) = 0;
          *(_QWORD *)(v106 + 0x10) = 0;
          *(_QWORD *)(v106 + 0x18) = 0;
          *(_QWORD *)(v106 + 0x20) = 0;
          *(_QWORD *)(v106 + 0x28) = 0;
          *(_QWORD *)(v106 + 0x30) = 0;
          *(_QWORD *)(v106 + 0x38) = 0;
          *(_QWORD *)(v106 + 0x40) = 0;
          *(_DWORD *)(v106 + 0x48) = 0;
          *(_DWORD *)(v106 + 0x4C) = 8;
          *(_QWORD *)(v106 + 0x50) = 0;
          *(_DWORD *)(v106 + 0x58) = 0xFFFFFFFF;
          *(_DWORD *)(v106 + 0x5C) = 0;
        }
        else
        {
          v77 = 0;
        }
      }
      sub_1420987C0(v77);
      sub_14132ED70(v77, Parameter | (*(_QWORD *)(Parameter + 8) << 0x30));
      v107 = *(_QWORD *)(*(_QWORD *)(Parameter + 0x4E8) + v79 + 0x20);
      if ( v107 )
        sub_14132ED70(v77, v107 | (*(_QWORD *)(v107 + 8) << 0x30));
      memset(v385, 0, 0xA8u);
      ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
      *(_QWORD *)&v385[0x11] = "constraint_sandwich_teleport";
      *(_QWORD *)&v385[9] = &v389;
      *(_OWORD *)&v385[3] = v380;
      __asm { vcvtsd2ss xmm0, xmm9, xmm9 }
      *(_QWORD *)&v385[0x10] = v312;
      v110 = ThreadLocalStoragePointer[TlsIndex];
      *(float *)&v385[6] = *(float *)&_XMM0;
      v385[5] = v381;
      __asm { vcvtsd2ss xmm1, xmm10, xmm10 }
      n0x1E = *(_DWORD *)(v110 + 0x800);
      v113 = *(_QWORD *)(Parameter + 0x2C0);
      __asm { vcvtsd2ss xmm0, xmm7, xmm7 }
      *((float *)&v385[6] + 1) = *(float *)&_XMM1;
      *(float *)&v385[7] = *(float *)&_XMM0;
      HIDWORD(v385[7]) = 0x11F;
      LODWORD(v385[0xA]) = 1;
      *(_QWORD *)&v385[8] = 0x840F;
      *(_QWORD *)&v385[0xE] = v77;
      if ( !(unsigned int)sub_146711430(v113, (__int64)v385, n0x1E) || v390 <= 0.0 )
      {
        *(_DWORD *)(*(_QWORD *)(Parameter + 0x4F0) + v78 + 0xA4) = 0;
        goto LABEL_69;
      }
      v115 = *(_QWORD *)(Parameter + 0x4F0);
      if ( ++*(_DWORD *)(v115 + v78 + 0xA4) <= *(_DWORD *)(*(_QWORD *)(Parameter + 0x2C0) + 0x390LL) )
        goto LABEL_69;
      v75 = v312;
      v116 = *(double **)(*(_QWORD *)(Parameter + 0x4E8) + v79 + 0x20);
      v117 = v116[5] - v116[2];
      v118 = v116[6] - v116[3];
      v119 = v116[7] - v116[4];
      v120 = COERCE_UNSIGNED_INT64(v118 * v118);
      *((_QWORD *)&v121 + 1) = *((_QWORD *)&v120 + 1);
      *(double *)&v121 = (*(double *)&v120 + v117 * v117 + v119 * v119) * 0.5;
      _XMM1 = v121;
      __asm { vmaxsd  xmm4, xmm1, xmm6 }
      if ( *(double *)&_XMM4 <= v83 )
        goto LABEL_70;
      __asm
      {
        vsqrtsd xmm2, xmm4, xmm4
        vmovddup xmm0, xmm6
        vsqrtpd xmm1, xmm0
      }
      __asm { vunpckhpd xmm1, xmm1, xmm1 }
      v80 = 1.0 / *(double *)&_XMM1 * *(double *)&_XMM9 * *(double *)&_XMM2;
      v105 = 1;
      v82 = 1.0 / *(double *)&_XMM1 * *(double *)&_XMM7 * *(double *)&_XMM2;
      v305 = 1;
      v83 = *(double *)&_XMM4;
      v81 = 1.0 / *(double *)&_XMM1 * *(double *)&_XMM10 * *(double *)&_XMM2;
    }
    else
    {
      ++*(_DWORD *)(v78 + v86 + 0xA4);
      v75 = v312;
      if ( *(_DWORD *)(v78 + v86 + 0xA4) <= *(_DWORD *)(*(_QWORD *)(Parameter + 0x2C0) + 0x390LL) )
        goto LABEL_70;
      v105 = 1;
      v305 = 1;
    }
LABEL_71:
    v79 += 0x108;
    n0x40_2 = n0x40_4 + 1;
    v78 += 0x100;
    n0x40_4 = n0x40_2;
    if ( n0x40_2 >= 0x40 )
      goto LABEL_74;
  }
  v105 = v305;
LABEL_74:
  if ( v105 )
  {
    v128 = sub_1469264A0(*(_QWORD *)(Parameter + 0x2C0), v391, v75, 1);
    sub_140339170((double *)&v357, v128, (double *)(Parameter + 0x1C0));
    p_UNKNOWN_ENTITY_NAME = *(const char **)(Parameter + 0xD0);
    v130 = *(_DWORD *)(Parameter + 0xEC);
    v131 = *(_QWORD **)(Parameter + 0xC0);
    v132 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)Parameter + 8LL))(Parameter);
    v133 = sub_1468FA8F0(v132, v131, (__int16)v130, (unsigned int)(v130 >> 0x10), p_UNKNOWN_ENTITY_NAME, 0);
    v134 = *v312;
    if ( *v312 )
    {
      p_UNKNOWN_ENTITY_NAME_1 = *(const char **)(v134 + 0xD0);
      v136 = *(_DWORD *)(v134 + 0xEC);
      v137 = *(_QWORD **)(v134 + 0xC0);
      v138 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v134 + 8LL))(v134);
      p_ROOT = sub_1468FA8F0(v138, v137, (__int16)v136, (unsigned int)(v136 >> 0x10), p_UNKNOWN_ENTITY_NAME_1, 0);
    }
    else
    {
      p_ROOT = "ROOT";
    }
    v140 = v357;
    v141 = v359;
    v142 = v358;
    p_Client_1 = "Server";
    p_Client = "Server";
    if ( byte_149A147E5 )
      p_Client = "Client";
    LogTraceConditional(
      "WARNING: (%s) Teleporting physical entity %s due to constraint sandwich conflict (world pos %f %f %f, grid host %s"
      ", grid pos %f %f %f, delta %f %f %f)",
      p_Client,
      v133,
      v357,
      v358,
      v359,
      p_ROOT,
      *(_QWORD *)(Parameter + 0x1C0),
      *(_OWORD *)(Parameter + 0x1C8),
      *(_QWORD *)&v80 ^ 0x8000000000000000uLL,
      *(_QWORD *)&v81 ^ 0x8000000000000000uLL,
      *(_QWORD *)&v82 ^ 0x8000000000000000uLL);
    v318[0] = 0xD0;
    v351[0] = v318;
    v318[1] = 0x6A;
    v351[1] = v319;
    v145 = invokeGlobalCallbackAndMaskStatusBits(
             5,
             (__int64)v351,
             (__int64)"CRigidEntity::Update",
             "WARNING: ($$) Teleporting physical entity [$$] due to constraint sandwich conflict (world pos {$$, $$, $$},"
             " grid host $$, grid pos {$$, $$, $$}, delta {$$, $$, $$})");
    if ( (v145 & 0xFFFFF) != 0 )
    {
      v146 = *(double *)(Parameter + 0x1D0);
      v147 = *(double *)(Parameter + 0x1C8);
      v327[1] = (__int64)p_ROOT;
      *(double *)&v355[1] = v146;
      v148 = *(double *)(Parameter + 0x1C0);
      if ( byte_149A147E5 )
        p_Client_1 = "Client";
      v352[0] = 0;
      v323[1] = p_Client_1;
      v352[1] = *(_QWORD *)&v82 ^ 0x8000000000000000uLL;
      v353[1] = *(_QWORD *)&v81 ^ 0x8000000000000000uLL;
      v354[1] = *(_QWORD *)&v80 ^ 0x8000000000000000uLL;
      *(double *)&v356[1] = v147;
      *(double *)&v346[1] = v148;
      v347[1] = v141;
      v348[1] = v142;
      v349[1] = v140;
      v353[0] = 0;
      v354[0] = 0;
      v355[0] = 0;
      v356[0] = 0;
      v346[0] = 0;
      v327[0] = 0;
      v328 = 0;
      v347[0] = 0;
      v348[0] = 0;
      v349[0] = 0;
      v325[0] = 0;
      v325[1] = (__int64)v133;
      v326 = 0;
      v323[0] = 0;
      v324 = 0;
      ThreadLogContextSlot = getThreadLogContextSlot();
      v319[0] = 0xD0;
      v350[0] = (__int64)v319;
      v319[1] = 0x6A;
      v350[1] = (__int64)v320;
      v384[0] = 0;
      sub_14676C820(
        5,
        (__int64)v350,
        "CRigidEntity::Update",
        "WARNING: ($$) Teleporting physical entity [$$] due to constraint sandwich conflict (world pos {$$, $$, $$}, grid"
        " host $$, grid pos {$$, $$, $$}, delta {$$, $$, $$})",
        1,
        v145,
        v384,
        0,
        ThreadLogContextSlot,
        v323,
        (__int64)v325,
        (__int64)v349,
        (__int64)v348,
        (__int64)v347,
        (__int64)v327,
        (__int64)v346,
        (__int64)v356,
        (__int64)v355,
        (__int64)v354,
        (__int64)v353,
        (__int64)v352);
      sub_1402A63C0(v324);
      sub_1402A63C0(v326);
      sub_1402A63C0(v328);
    }
    n0x40_3 = 0;
    v151 = 1;
    v152 = 0;
    v153 = 0;
    do
    {
      v154 = *(_QWORD *)(Parameter + 0x500);
      if ( v151 > v154 )
        break;
      if ( (v151 & v154) != 0 )
      {
        v155 = *(_QWORD *)(Parameter + 0x4F0) + 0x30LL;
        v360 = 0;
        v156 = *(_QWORD *)(Parameter + 0x4E8);
        v365 = 0xFFBFFFFF;
        v364 = 0xFFBFFFFF;
        v366 = 0x80000000;
        v368 = v368 & 0xF0 | 8;
        v369 = v312;
        n0x121 = 0x121;
        v157 = sub_1467CE650(v388, v156 + 0x108LL * n0x40_3, (double *)(((__int64)n0x40_3 << 8) + v155), 0);
        v158 = v157[1];
        v159 = v157[2];
        v361 = *v157 - v80;
        v363 = v159 - v82;
        v362 = v158 - v81;
        (*(void (__fastcall **)(_QWORD, int *, _QWORD))(**(_QWORD **)(v153 + v156 + 0x20) + 0x18LL))(
          *(_QWORD *)(v153 + v156 + 0x20),
          &v360,
          0);
        v160 = *(_QWORD *)(Parameter + 0x4E8);
        v331 = 0.0;
        v332 = 0.0;
        v329[0] = 8;
        v329[1] = 0x80000000;
        v329[2] = 0x80000000;
        v333 = 0;
        v330 = 0;
        (*(void (__fastcall **)(_QWORD, _DWORD *, _QWORD))(**(_QWORD **)(v153 + v160 + 0x20) + 0x30LL))(
          *(_QWORD *)(v153 + v160 + 0x20),
          v329,
          0);
        *(_DWORD *)(*(_QWORD *)(Parameter + 0x4F0) + v152 + 0xA4) = 0;
      }
      ++n0x40_3;
      v151 = __ROL8__(v151, 1);
      v153 += 0x108;
      v152 += 0x100;
    }
    while ( n0x40_3 < 0x40 );
    v161 = *(double *)(Parameter + 0x1C8);
    v162 = *(double *)(Parameter + 0x1C0) - v80;
    v370 = 0;
    v375 = 0xFFBFFFFF;
    v378 = v378 & 0xF0 | 8;
    v163 = *(_QWORD *)Parameter;
    v371 = v162;
    v164 = *(double *)(Parameter + 0x1D0);
    v372 = v161 - v81;
    v373 = v164 - v82;
    v374 = 0xFFBFFFFF;
    v376 = 0x80000000;
    v379 = v312;
    n0x121_1 = 0x121;
    (*(void (__fastcall **)(__int64, int *, _QWORD))(v163 + 0x18))(Parameter, &v370, 0);
    v165 = *(_QWORD *)Parameter;
    v334[0] = 8;
    v334[1] = 0x80000000;
    v336 = 0.0;
    v337 = 0.0;
    v334[2] = 0x80000000;
    v338 = 0;
    v335 = 0;
    (*(void (__fastcall **)(__int64, _DWORD *, _QWORD))(v165 + 0x30))(Parameter, v334, 0);
  }
  if ( v77 )
  {
    sub_1404659E0(v77);
    sub_1402A63C0(v77);
  }
  v343 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  v10 = v314;
LABEL_93:
  v166 = *(_DWORD *)(Parameter + 0x694);
  v167 = *(_DWORD *)(Parameter + 0x688);
  v313 = *(double *)(Parameter + 0x68C);
  v309 = *(double *)(Parameter + 0x680);
  v168 = _InterlockedIncrement64((volatile signed __int64 *)(Parameter + 0x8C8));
  if ( (v168 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(Parameter + 0x8C8),
      v168,
      (__int64)"CRigidEntity::Update",
      (__int64)"m_lockContacts",
      1);
  v169 = *(_QWORD *)(Parameter + 0x5A8);
  if ( (*(_DWORD *)(Parameter + 0x4A4) & 0x600) == 0x400 )
  {
LABEL_102:
    if ( v169 )
    {
      v173 = *(int **)(v169 + 0x20);
      if ( v173[0x3D] > 0 )
      {
        (*(void (__fastcall **)(int *, _QWORD, double *, float *))(*(_QWORD *)v173 + 0x200LL))(
          v173,
          (unsigned int)*(__int16 *)(v169 + 0x7E),
          &v316,
          v320);
        v174 = LODWORD(v320[1]);
        v175 = LODWORD(v320[2]);
        v176 = LODWORD(v320[0]);
        v177 = *((float *)&v316 + 1);
        v178 = v317;
        v179 = *(float *)&v316;
        if ( (float)((float)((float)((float)(*(float *)&v174 * *(float *)&v174)
                                   + (float)(*(float *)&v175 * *(float *)&v175))
                           + (float)(*(float *)&v176 * *(float *)&v176))
                   + (float)((float)((float)(v177 * v177) + (float)(v178 * v178)) + (float)(v179 * v179))) != 0.0 )
        {
          v180 = *(double **)(v169 + 0x30);
          if ( v180[0x20] > 0.0 )
          {
            v181 = *(float *)(Parameter + 0x684);
            *(float *)(Parameter + 0x680) = *(float *)(Parameter + 0x680) - v320[0];
            v182 = *(float *)(Parameter + 0x688);
            *(float *)(Parameter + 0x684) = v181 - *(float *)&v174;
            *(float *)(Parameter + 0x688) = v182 - *(float *)&v175;
            v183 = *(double *)(v169 + 0x40) - v180[0xF];
            v184 = *(double *)(v169 + 0x50) - v180[0x11];
            v185 = *(double *)(v169 + 0x48) - v180[0x10];
            *((_QWORD *)&v186 + 1) = *((_QWORD *)&v174 + 1);
            *(double *)&v186 = (float)(*(float *)&v174 + v177);
            v187 = v186;
            *((_QWORD *)&v186 + 1) = *((_QWORD *)&v176 + 1);
            *(double *)&v186 = (float)(*(float *)&v176 + v179);
            v188 = v186;
            *((_QWORD *)&v186 + 1) = *((_QWORD *)&v175 + 1);
            *(double *)&v186 = (float)(*(float *)&v175 + v178);
            v189 = v186;
            *((_QWORD *)&v186 + 1) = *((_QWORD *)&v187 + 1);
            *(double *)&v186 = *(double *)&v187 * v184 - *(double *)&v186 * v185;
            _XMM1 = v186;
            __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
            v192 = *(float *)(Parameter + 0x68C) - *(float *)&_XMM3;
            *((_QWORD *)&v186 + 1) = *((_QWORD *)&v189 + 1);
            *(double *)&v186 = *(double *)&v189 * v183 - *(double *)&v188 * v184;
            _XMM1 = v186;
            __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
            *((_QWORD *)&v186 + 1) = *((_QWORD *)&v188 + 1);
            *(double *)&v186 = *(double *)&v188 * v185;
            _XMM5 = *(unsigned __int64 *)(Parameter + 0x6B0);
            __asm { vcvtpd2ps xmm5, xmm5 }
            *(double *)&v186 = *(double *)&v186 - *(double *)&v187 * v183;
            _XMM1 = v186;
            __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
            *(float *)(Parameter + 0x694) = *(float *)(Parameter + 0x694) - *(float *)&_XMM3;
            v200 = *(unsigned __int64 *)(Parameter + 0x68C);
            *(float *)&v200 = v192;
            _XMM0 = v200;
            __asm { vinsertps xmm1, xmm0, xmm4, 10h }
            *(double *)(Parameter + 0x68C) = *(double *)_XMM1.m128_u64;
            v202 = *(float *)&_XMM5 * *(float *)(Parameter + 0x694);
            *(double *)(Parameter + 0x650) = (float)(*(float *)&_XMM5 * _XMM1.m128_f32[0]);
            *(double *)(Parameter + 0x658) = (float)(*(float *)&_XMM5 * _mm_shuffle_ps(_XMM1, _XMM1, 0x55).m128_f32[0]);
            *(double *)(Parameter + 0x660) = v202;
            v203 = *(float *)(Parameter + 0x644);
            v204 = *(float *)(Parameter + 0x648);
            v205 = *(float *)(Parameter + 0x688);
            LODWORD(v185) = *(_DWORD *)(Parameter + 0x684);
            v206 = *(float *)(Parameter + 0x64C);
            LODWORD(v187) = *(_DWORD *)(Parameter + 0x680);
            v207 = *(float *)(Parameter + 0x640);
            v208 = (float)((float)(*(float *)&v185 * v204) - (float)(v205 * v203)) + (float)(*(float *)&v187 * v206);
            v209 = LODWORD(v205);
            *(float *)&v209 = (float)((float)(v205 * v207) - (float)(*(float *)&v187 * v204))
                            + (float)(*(float *)&v185 * v206);
            v210 = v209;
            v211 = (unsigned int)v187;
            *(float *)&v211 = (float)((float)(*(float *)&v187 * v203) - (float)(*(float *)&v185 * v207))
                            + (float)(v205 * v206);
            v212 = v211;
            *(float *)&_XMM0 = *(float *)&v211 * v203;
            v213 = v210;
            *(float *)&v213 = (float)(*(float *)&v210 * v204) - *(float *)&_XMM0;
            v214 = v213;
            v215 = *(_QWORD *)Parameter;
            v216 = v212;
            *(float *)&v216 = (float)(*(float *)&v212 * v207) - (float)(v204 * v208);
            v217 = v216;
            v219 = v214;
            *(float *)&v219 = *(float *)&v214 + *(float *)&v187;
            v218 = v219;
            v220 = LODWORD(v203);
            *(float *)&v220 = (float)(v203 * v208) - (float)(*(float *)&v210 * v207);
            v221 = v220;
            *((_QWORD *)&v220 + 1) = *((_QWORD *)&v218 + 1);
            *(double *)&v220 = (float)(*(float *)&v218 + *(float *)&v214) * *(double *)(Parameter + 0x5F8);
            _XMM3 = v220;
            __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
            *((_QWORD *)&v220 + 1) = *((_QWORD *)&v217 + 1);
            *(double *)&v220 = (float)((float)(*(float *)&v217 + *(float *)&v185) + *(float *)&v217)
                             * *(double *)(Parameter + 0x600);
            _XMM3 = v220;
            __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
            *((_QWORD *)&v220 + 1) = *((_QWORD *)&v221 + 1);
            *(double *)&v220 = (float)((float)(*(float *)&v221 + v205) + *(float *)&v221)
                             * *(double *)(Parameter + 0x608);
            _XMM3 = v220;
            __asm { vcvtsd2ss xmm8, xmm3, xmm3 }
            v228 = (float)((float)(*(float *)&_XMM8 * v203) - (float)(*(float *)&_XMM9 * v204))
                 + (float)(*(float *)&_XMM10 * v206);
            *(float *)&v221 = (float)((float)(*(float *)&_XMM10 * v204) - (float)(*(float *)&_XMM8 * v207))
                            + (float)(*(float *)&_XMM9 * v206);
            *(float *)&v217 = (float)((float)(*(float *)&_XMM9 * v207) - (float)(*(float *)&_XMM10 * v203))
                            + (float)(*(float *)&_XMM8 * v206);
            *(double *)(Parameter + 0x678) = (float)((float)(*(float *)&_XMM8
                                                           + (float)((float)(v207 * *(float *)&v221)
                                                                   - (float)(v203 * v228)))
                                                   + (float)((float)(v207 * *(float *)&v221) - (float)(v203 * v228)));
            *(double *)(Parameter + 0x668) = (float)((float)(*(float *)&_XMM10
                                                           + (float)((float)(v203 * *(float *)&v217)
                                                                   - (float)(v204 * *(float *)&v221)))
                                                   + (float)((float)(v203 * *(float *)&v217)
                                                           - (float)(v204 * *(float *)&v221)));
            *(double *)(Parameter + 0x670) = (float)((float)(*(float *)&_XMM9
                                                           + (float)((float)(v204 * v228)
                                                                   - (float)(v207 * *(float *)&v217)))
                                                   + (float)((float)(v204 * v228) - (float)(v207 * *(float *)&v217)));
            (*(void (__fastcall **)(__int64))(v215 + 0x3A0))(Parameter);
          }
        }
      }
    }
  }
  else
  {
    v170 = *(_DWORD *)(Parameter + 0x148);
    v171 = 0;
    if ( v170 > 0 )
    {
      v172 = *(_QWORD *)(Parameter + 0x140);
      do
      {
        if ( *(_DWORD *)(*(_QWORD *)v172 + 0xF4LL) )
          break;
        ++v171;
        v172 += 8;
      }
      while ( v171 < v170 );
    }
    if ( v171 < v170 )
    {
      v169 = *(_QWORD *)(*(_QWORD *)(Parameter + 0x4C0) + 8LL * v171);
      goto LABEL_102;
    }
  }
  v229 = 0;
  v230 = *(float **)(Parameter + 0x4D0);
  for ( i = 0;
        v230 != (float *)(Parameter + 0x4D0);
        i |= v238
           & (COERCE_UNSIGNED_INT(
                (float)(fabs(v236 + v237) * (float)(v236 + v237))
              + (float)((float)((float)((float)(v234 * v234) + (float)(v233 * v233)) + (float)(v235 * v235)) * 0.5)) >> 0x1F)
           & *(_DWORD *)((v232 & v238 | Parameter & ~v238) + 0x4AC) )
  {
    if ( v229 >= 0x10 - 0x10 * i )
      break;
    v232 = *((_QWORD *)v230 + 4);
    ++v229;
    v233 = *(float *)(Parameter + 0x53C);
    v234 = *(float *)(Parameter + 0x538);
    v235 = *(float *)(Parameter + 0x540);
    v236 = (float)(v233 * v230[0x1D]) + (float)(v234 * v230[0x1C]);
    v237 = v235 * v230[0x1E];
    v230 = *(float **)v230;
    v238 = (__int64)((*(_DWORD *)(v232 + 0xF4) - 2) ^ (unsigned __int64)(*(_DWORD *)(v232 + 0xF4) - 3)) >> 0x1F;
  }
  v239 = _InterlockedDecrement64((volatile signed __int64 *)(Parameter + 0x8C8));
  if ( (v239 & 0x3FF) == 0 && (v239 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0((volatile signed __int64 *)(Parameter + 0x8C8), v239);
  _XMM0 = *(unsigned int *)(Parameter + 0x52C);
  v241 = (float)(1.0
               - (float)((float)(int)(i
                                    | ((unsigned int)(*(_DWORD *)(Parameter + 0x4E0) - 3) >> 0x1F)
                                    & -(((*(_DWORD *)(Parameter + 0x148) - 1) ^ (*(_DWORD *)(Parameter + 0x148) - 2)) >> 0x1F))
                       * 0.89999998))
       * v310;
  __asm { vmaxss  xmm0, xmm0, xmm8 }
  v304 = *(_QWORD *)(Parameter + 0x6B8);
  v315 = v241;
  *(float *)(Parameter + 0x52C) = *(float *)&_XMM0 - Y;
  v243 = COERCE_UNSIGNED_INT64_w(
           Parameter + 0x5B0,
           (float *)(Parameter + 0x68C),
           (float *)(Parameter + 0x680),
           (double *)(Parameter + 0x668),
           *(double *)&v304);
  *((_QWORD *)&v245 + 1) = v243.m128_u64[1];
  *(double *)&v245 = *(double *)v243.m128_u64 + *(double *)(Parameter + 0x718);
  _XMM0 = v245;
  __asm { vcvtsd2ss xmm6, xmm0, xmm0 }
  v311 = *(float *)&_XMM6;
  if ( (*(_BYTE *)(Parameter + 0x208) & 1) != 0 )
  {
    _XMM0 = *(unsigned int *)(Parameter + 0x85C);
    __asm { vminss  xmm6, xmm0, xmm6 }
    v311 = *(float *)&_XMM6;
  }
  v248 = *(_QWORD *)(Parameter + 0x2C0);
  v249 = *(_DWORD *)(Parameter + 0x8B4);
  v250 = *(_DWORD *)(Parameter + 0x148) + *(_DWORD *)(Parameter + 0x50C);
  v251 = (float)*(int *)(v248 + 0x48LL * v10 + 0x836F4);
  v252 = (float)((float)((float)(*(float *)(Parameter + 0x520) - Y) * v251)
               * (float)((float)v249 * (float)*(int *)(v248 + 0x144)))
       + Y;
  v254 = *(unsigned int *)(Parameter + 0x368);
  *(float *)&v254 = *(float *)(Parameter + 0x368)
                  - (float)((float)-((COERCE_INT(fabs((float)(v251 * *(float *)(Parameter + 0x8B0)) + (float)v250)) - 1) >> 0x1F)
                          * v252);
  _XMM3 = v254;
  __asm { vmaxss  xmm4, xmm3, xmm8 }
  LODWORD(_XMM3) = *(_DWORD *)(Parameter + 0x36C);
  *(float *)(Parameter + 0x368) = *(float *)&_XMM4;
  v256 = (float)(*(_DWORD *)(v248 + 0x144) * *(_DWORD *)(v248 + 0x48LL * v10 + 0x836F4) * v249) * *(float *)&_XMM4;
  *(float *)(Parameter + 0x368) = v256;
  v307 = *(float *)(v248 + 0x114) - *(float *)&_XMM3;
  v257 = (float)((float)(LODWORD(v307) >> 0x1F) * v252) + v256;
  v258 = (v307 >= 0.0) | (COERCE_UNSIGNED_INT(v257 - *(float *)&_XMM3) >> 0x1F);
  v259 = (v258 & *(_DWORD *)(Parameter + 0x4AC)) == 0;
  *(_DWORD *)(Parameter + 0x4AC) &= v258;
  *(float *)(Parameter + 0x368) = v257;
  if ( v259 )
  {
    if ( v258 )
    {
      v260 = *(float *)(Parameter + 0x690);
      v261 = *(float *)(Parameter + 0x694);
      *(float *)(Parameter + 0x558) = *(float *)(Parameter + 0x68C) + *(float *)(Parameter + 0x558);
      *(float *)(Parameter + 0x55C) = v260 + *(float *)(Parameter + 0x55C);
      *(float *)(Parameter + 0x560) = v261 + *(float *)(Parameter + 0x560);
      v262 = *(float *)(Parameter + 0x684) + *(float *)(Parameter + 0x568);
      v264 = *(unsigned int *)(Parameter + 0x688);
      *(float *)&v264 = *(float *)(Parameter + 0x688) + *(float *)(Parameter + 0x56C);
      v263 = v264;
      *(float *)(Parameter + 0x564) = *(float *)(Parameter + 0x680) + *(float *)(Parameter + 0x564);
      *(float *)(Parameter + 0x568) = v262;
      *(float *)(Parameter + 0x56C) = *(float *)&v264;
      v265 = *(float *)(Parameter + 0x644);
      v266 = *(float *)(Parameter + 0x648);
      v267 = *(float *)(Parameter + 0x64C);
      v268 = *(float *)(Parameter + 0x640);
      v269 = *(float *)(Parameter + 0x564);
      v270 = (float)((float)(v262 * v266) - (float)(v265 * *(float *)&v264)) + (float)(v269 * v267);
      v271 = (float)((float)(v268 * *(float *)&v264) - (float)(v269 * v266)) + (float)(v267 * v262);
      v272 = (float)((float)(v265 * v269) - (float)(v268 * v262)) + (float)(*(float *)&v264 * v267);
      v273 = (float)(v271 * v266) - (float)(v272 * v265);
      v274 = LODWORD(v268);
      *(float *)&v274 = (float)(v268 * v272) - (float)(v270 * v266);
      v275 = v274;
      v276 = LODWORD(v269);
      *(double *)&v276 = (float)((float)(v269 + v273) + v273) * *(double *)(Parameter + 0x5F8);
      _XMM3 = v276;
      __asm { vcvtsd2ss xmm11, xmm3, xmm3 }
      *((_QWORD *)&v276 + 1) = *((_QWORD *)&v275 + 1);
      *(double *)&v276 = (float)((float)(*(float *)&v275 + v262) + *(float *)&v275) * *(double *)(Parameter + 0x600);
      _XMM3 = v276;
      __asm { vcvtsd2ss xmm10, xmm3, xmm3 }
      *((_QWORD *)&v276 + 1) = *((_QWORD *)&v263 + 1);
      *(double *)&v276 = (float)((float)(*(float *)&v263 + (float)((float)(v270 * v265) - (float)(v271 * v268)))
                               + (float)((float)(v270 * v265) - (float)(v271 * v268)))
                       * *(double *)(Parameter + 0x608);
      _XMM3 = v276;
      __asm { vcvtsd2ss xmm9, xmm3, xmm3 }
      v283 = (float)((float)(*(float *)&_XMM9 * v265) - (float)(*(float *)&_XMM10 * v266))
           + (float)(v267 * *(float *)&_XMM11);
      v284 = (float)((float)(*(float *)&_XMM11 * v266) - (float)(*(float *)&_XMM9 * v268))
           + (float)(v267 * *(float *)&_XMM10);
      *(float *)&v275 = (float)((float)(*(float *)&_XMM10 * v268) - (float)(*(float *)&_XMM11 * v265))
                      + (float)(v267 * *(float *)&_XMM9);
      v285 = *(_DWORD *)(Parameter + 0x4A4);
      v286 = (float)(v266 * v283) - (float)(v268 * *(float *)&v275);
      v287 = (float)(*(float *)&_XMM11 + (float)((float)(v265 * *(float *)&v275) - (float)(v266 * v284)))
           + (float)((float)(v265 * *(float *)&v275) - (float)(v266 * v284));
      if ( (v285 & 0x600u) >= 0x400 || (int)__popcnt(*(_DWORD *)(Parameter + 0x508)) >= 0x14 )
      {
        *(float *)&_XMM1 = v311;
      }
      else
      {
        v288 = *(double *)(Parameter + 0x6B8);
        v321[0] = v287;
        v322 = (float)((float)(*(float *)&_XMM9 + (float)((float)(v268 * v284) - (float)(v265 * v283)))
                     + (float)((float)(v268 * v284) - (float)(v265 * v283)));
        v321[1] = (float)((float)(*(float *)&_XMM10 + v286) + v286);
        v289 = COERCE_UNSIGNED_INT64_w(
                 Parameter + 0x5B0,
                 (float *)(Parameter + 0x558),
                 (float *)(Parameter + 0x564),
                 v321,
                 v288);
        *((_QWORD *)&v291 + 1) = v289.m128_u64[1];
        *(double *)&v291 = *(double *)v289.m128_u64 + *(double *)(Parameter + 0x718);
        _XMM0 = v291;
        v285 = *(_DWORD *)(Parameter + 0x4A4);
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
      }
      if ( *(float *)&_XMM1 <= v315 )
      {
        if ( !(*(_BYTE *)(Parameter + 0x208) & 1 | ((v285 & 0x4000000) != 0)) )
        {
          *(double *)(Parameter + 0x58C) = v313;
          *(double *)(Parameter + 0x598) = v309;
          *(_DWORD *)(Parameter + 0x5A0) = v167;
          *(_DWORD *)(Parameter + 0x594) = v166;
          *(_QWORD *)(Parameter + 0x660) = 0;
          *(_QWORD *)(Parameter + 0x658) = 0;
          *(_QWORD *)(Parameter + 0x650) = 0;
          *(_QWORD *)(Parameter + 0x678) = 0;
          *(_QWORD *)(Parameter + 0x670) = 0;
          *(_QWORD *)(Parameter + 0x668) = 0;
          *(_QWORD *)(Parameter + 0x690) = 0;
          *(_QWORD *)(Parameter + 0x688) = 0;
          *(_QWORD *)(Parameter + 0x680) = 0;
        }
        v296 = *(_DWORD *)(Parameter + 0x4A8);
        *(_DWORD *)(Parameter + 0x4A8) = v296 ^ ((unsigned __int8)(v296 + 1) ^ (unsigned __int8)v296) & 0x1F;
        if ( (((_BYTE)v296 + 1) & 0x1Fu) >= 2 && *(_DWORD *)(Parameter + 0xF4) == 2 )
        {
          v297 = *(_QWORD *)(Parameter + 0x2C0);
          *(_DWORD *)(Parameter + 0xF4) = 1;
          sub_14693D8B0(v297, Parameter, 2, 0);
          v299 = *(unsigned int *)(Parameter + 0x860);
          *(float *)&v299 = *(float *)(Parameter + 0x860) - 1.5;
          _XMM1 = v299;
          __asm { vmaxss  xmm0, xmm1, cs:dword_1480F9B58 }
          *(_DWORD *)(Parameter + 0x4A8) &= 0xFFFFFFE0;
          *(float *)(Parameter + 0x860) = *(float *)&_XMM0;
          *(_QWORD *)(Parameter + 0x55C) = 0;
          *(_DWORD *)(Parameter + 0x558) = 0;
          *(_QWORD *)(Parameter + 0x568) = 0;
          *(_DWORD *)(Parameter + 0x564) = 0;
        }
      }
      else
      {
        v293 = *(_QWORD *)(Parameter + 0x2C0);
        *(_DWORD *)(Parameter + 0x4A8) &= 0xFFFFFFE0;
        *(_DWORD *)(Parameter + 0x4AC) = 1;
        v294 = *(_DWORD *)(v293 + 0x4B8);
        *(_QWORD *)(Parameter + 0x55C) = 0;
        *(_DWORD *)(Parameter + 0x558) = 0;
        *(_QWORD *)(Parameter + 0x568) = 0;
        *(_DWORD *)(Parameter + 0x564) = 0;
        v259 = *(_DWORD *)(Parameter + 0xF4) == 1;
        *(_DWORD *)(Parameter + 0x52C) = v294;
        if ( v259 )
        {
          v295 = *(_QWORD *)(Parameter + 0x2C0);
          *(_DWORD *)(Parameter + 0xF4) = 2;
          sub_14693D8B0(v295, Parameter, 2, 0);
        }
      }
    }
    else if ( *(_DWORD *)(Parameter + 0xF4) == 2 )
    {
      *(_DWORD *)(Parameter + 0xF4) = 1;
      sub_14693D8B0(v248, Parameter, 2, 0);
      if ( !(*(_BYTE *)(Parameter + 0x208) & 1 | ((*(_DWORD *)(Parameter + 0x4A4) & 0x4000000) != 0)) )
      {
        *(_QWORD *)(Parameter + 0x690) = 0;
        *(_QWORD *)(Parameter + 0x688) = 0;
        *(_QWORD *)(Parameter + 0x680) = 0;
        *(_QWORD *)(Parameter + 0x660) = 0;
        *(_QWORD *)(Parameter + 0x658) = 0;
        *(_QWORD *)(Parameter + 0x650) = 0;
        *(_QWORD *)(Parameter + 0x678) = 0;
        *(_QWORD *)(Parameter + 0x670) = 0;
        *(_QWORD *)(Parameter + 0x668) = 0;
        *(_QWORD *)(Parameter + 0x69C) = 0;
        *(_DWORD *)(Parameter + 0x698) = 0;
        *(_QWORD *)(Parameter + 0x6A8) = 0;
        *(_DWORD *)(Parameter + 0x6A4) = 0;
      }
    }
  }
  else
  {
    if ( *(float *)&_XMM6 < v241
      && (v250
       || (*(_DWORD *)(Parameter + 0x4A4) & 0x4000000) == 0
       || (float)((float)((float)(*(float *)(Parameter + 0x538) * *(float *)(Parameter + 0x538))
                        + (float)(*(float *)(Parameter + 0x53C) * *(float *)(Parameter + 0x53C)))
                + (float)(*(float *)(Parameter + 0x540) * *(float *)(Parameter + 0x540))) == 0.0)
      && *(float *)(Parameter + 0x52C) <= 0.0 )
    {
      *(_DWORD *)(Parameter + 0x4AC) = 0;
    }
    else
    {
      *(_DWORD *)(Parameter + 0x4A8) &= 0xFFFFFFE0;
    }
    *(_QWORD *)(Parameter + 0x55C) = 0;
    *(_DWORD *)(Parameter + 0x558) = 0;
    *(_QWORD *)(Parameter + 0x568) = 0;
    *(_DWORD *)(Parameter + 0x564) = 0;
  }
  v301 = *(_DWORD *)(Parameter + 0x508);
  *(_DWORD *)(Parameter + 0x4A4) &= 0xDFFFF9FF;
  v302 = *(float *)(Parameter + 0x520) - *(float *)(Parameter + 0x524);
  v303 = *(_DWORD *)(Parameter + 0x4AC) ^ 1;
  *(_DWORD *)(Parameter + 0x508) = v303 | (2 * v301);
  return v303 | (COERCE_UNSIGNED_INT(v302 - *(float *)(*(_QWORD *)(Parameter + 0x2C0) + 0x114LL)) >> 0x1F);
}

// --- End Function: sub_146809080 (0x146809080) ---

// --- Function: sub_14680B2D0 (0x14680B2D0) ---
__int64 __fastcall sub_14680B2D0(Parameter *Parameter, float Y, double _XMM2)
{
  int v4; // edi
  __int64 v5; // rcx
  int v6; // eax

  v4 = sub_146809080((Parameter *)Parameter, Y, _XMM2);
  if ( *(_BYTE *)(Parameter + 0x6D60) && !*(_DWORD *)(Parameter + 0x4AC) && !*(_DWORD *)(Parameter + 0x844) )
  {
    v5 = *(_QWORD *)(Parameter + 0x2C0);
    *(_DWORD *)(Parameter + 0x4AC) = 1;
    *(_DWORD *)(Parameter + 0xF4) = 2;
    sub_14693D8B0(v5, Parameter, 2);
  }
  v6 = *(_DWORD *)(Parameter + 0x4AC) ^ 1;
  *(_BYTE *)(Parameter + 0x6D60) = 0;
  return v4 | (unsigned int)v6;
}

// --- End Function: sub_14680B2D0 (0x14680B2D0) ---

// --- Function: sub_14680B4A0 (0x14680B4A0) ---
__int64 __fastcall sub_14680B4A0(__int64 a1)
{
  __int64 n3; // r8
  unsigned __int64 *v3; // rdi
  double v4; // xmm1_8
  __int128 v5; // xmm0
  double v6; // xmm1_8
  int n0x2800; // [rsp+30h] [rbp-58h] BYREF
  __int64 v19; // [rsp+34h] [rbp-54h]
  int v20; // [rsp+3Ch] [rbp-4Ch]
  __int64 v21; // [rsp+40h] [rbp-48h]
  unsigned __int64 v22; // [rsp+48h] [rbp-40h]
  __int64 v23; // [rsp+50h] [rbp-38h]
  __int64 v24; // [rsp+58h] [rbp-30h]

  n0x2800 = 0x2800;
  v19 = 0;
  v20 = 0;
  v22 = 0;
  v23 = 0;
  v24 = 0;
  v21 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( (*(_BYTE *)(a1 + 0x384) & 0x20) == 0 || (n3 = 2, (*(_BYTE *)(a1 + 0x106) & 2) != 0) )
    n3 = 3;
  v3 = (unsigned __int64 *)(a1 + 0x418);
  (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, a1 + 0x418, n3);
  if ( (*(_BYTE *)(a1 + 0x208) & 0x20) != 0 || (*(_DWORD *)(a1 + 0x4A8) & 0x200) == 0 )
  {
    v4 = *(double *)(a1 + 0x428);
    *(_OWORD *)(a1 + 0x3E8) = *(_OWORD *)v3;
    v5 = *(_OWORD *)(a1 + 0x430);
    *(double *)(a1 + 0x3F8) = v4;
    v6 = *(double *)(a1 + 0x440);
    *(_OWORD *)(a1 + 0x400) = v5;
    *(double *)(a1 + 0x410) = v6;
  }
  _XMM0 = *v3;
  __asm { vminsd  xmm1, xmm0, qword ptr [rbx+3E8h] }
  _XMM5 = *(unsigned __int64 *)(a1 + 0x3F8);
  _XMM3 = *(unsigned __int64 *)(a1 + 0x3F0);
  *(double *)(a1 + 0x10) = *(double *)&_XMM1;
  __asm
  {
    vminsd  xmm0, xmm5, xmm4
    vminsd  xmm2, xmm3, xmm2
  }
  *(double *)(a1 + 0x18) = *(double *)&_XMM2;
  *(double *)(a1 + 0x20) = *(double *)&_XMM0;
  _XMM1 = *(_OWORD *)(a1 + 0x400);
  _XMM5 = *(unsigned __int64 *)(a1 + 0x410);
  __asm { vmaxpd  xmm1, xmm1, xmmword ptr [rbx+430h] }
  *(_OWORD *)(a1 + 0x28) = _XMM1;
  __asm { vmaxsd  xmm0, xmm5, qword ptr [rbx+440h] }
  *(double *)(a1 + 0x38) = *(double *)&_XMM0;
  v22 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_14680B4A0 (0x14680B4A0) ---

// --- Function: CRigidEntity::UpdatePosition (0x14680F9C0) ---
void __fastcall CRigidEntity::UpdatePosition(__int64 a1, int a2, int a3, int a4)
{
  volatile signed __int64 *v7; // rbp
  __int64 v9; // rax
  __int64 v10; // rcx
  __int64 v11; // rcx
  int v12; // ebx
  __int64 v13; // rsi
  __int64 v14; // r8
  __int64 v15; // rax
  __int64 v16; // rcx
  double v27; // xmm1_8
  __int128 v28; // xmm0
  double v29; // xmm1_8
  unsigned __int64 n0x200000; // rax
  char v31; // [rsp+60h] [rbp+8h] BYREF

  v7 = (volatile signed __int64 *)(a1 + 0xC8);
  if ( !a2 )
  {
    v9 = _InterlockedCompareExchange64(v7, 0x200000, 0);
    if ( v9 )
      sub_1403DE750(a1 + 0xC8, v9, 0, (__int64)"CRigidEntity::UpdatePosition", (__int64)"m_lockUpdate", 1);
  }
  if ( !a4 || a3 || *(double *)(a1 + 0x6B0) > 0.0 )
  {
    v11 = *(_QWORD *)(a1 + 0x210);
    v12 = 0;
    *(_OWORD *)(a1 + 0x1C0) = *(_OWORD *)v11;
    *(double *)(a1 + 0x1D0) = *(double *)(v11 + 0x10);
    *(_DWORD *)(a1 + 0x1D8) = *(_DWORD *)(v11 + 0x18);
    *(_DWORD *)(a1 + 0x1DC) = *(_DWORD *)(v11 + 0x1C);
    *(_DWORD *)(a1 + 0x1E0) = *(_DWORD *)(v11 + 0x20);
    *(_DWORD *)(a1 + 0x1E4) = *(_DWORD *)(v11 + 0x24);
    if ( *(int *)(a1 + 0x290) > 0 )
    {
      v13 = 0;
      do
      {
        v14 = *(_QWORD *)(v13 + *(_QWORD *)(a1 + 0x280));
        if ( v14 != *(_QWORD *)(a1 + 0x230) + 0x20LL * v12 )
          sub_14662E360(a1 + 0x228, v12, v14);
        ++v12;
        v13 += 8;
      }
      while ( v12 < *(_DWORD *)(a1 + 0x290) );
    }
    if ( a3 )
    {
      v27 = *(double *)(a1 + 0x3F8);
      *(_OWORD *)(a1 + 0x418) = *(_OWORD *)(a1 + 0x3E8);
      v28 = *(_OWORD *)(a1 + 0x400);
      *(double *)(a1 + 0x428) = v27;
      v29 = *(double *)(a1 + 0x410);
      *(_OWORD *)(a1 + 0x430) = v28;
      *(double *)(a1 + 0x440) = v29;
      if ( (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
    }
    else
    {
      if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2A0) + 0x184LL) )
      {
        v15 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, &v31);
        if ( (unsigned __int8)sub_14660C430(a1 + 0x228, v15, 0xFFFFFFFF) )
        {
          v16 = *(_QWORD *)(a1 + 0x2C0);
          *(_WORD *)(a1 + 0x106) |= 0x100u;
          sub_14693A1E0(v16, a1);
        }
      }
      (*(void (__fastcall **)(__int64, __int64, _QWORD))(*(_QWORD *)a1 + 0x130LL))(
        a1,
        a1 + 0x418,
        ((*(_BYTE *)(a1 + 0x384) & 0x20) == 0) | 2u);
      _XMM0 = *(unsigned __int64 *)(a1 + 0x418);
      __asm { vminsd  xmm1, xmm0, qword ptr [rdi+3E8h] }
      _XMM4 = *(unsigned __int64 *)(a1 + 0x428);
      _XMM3 = *(unsigned __int64 *)(a1 + 0x3F0);
      *(double *)(a1 + 0x10) = *(double *)&_XMM1;
      __asm { vminsd  xmm2, xmm3, qword ptr [rdi+420h] }
      *(double *)(a1 + 0x18) = *(double *)&_XMM2;
      __asm { vminsd  xmm0, xmm4, qword ptr [rdi+3F8h] }
      *(double *)(a1 + 0x20) = *(double *)&_XMM0;
      _XMM1 = *(_OWORD *)(a1 + 0x430);
      _XMM5 = *(unsigned __int64 *)(a1 + 0x410);
      __asm { vmaxpd  xmm1, xmm1, xmmword ptr [rdi+400h] }
      *(_OWORD *)(a1 + 0x28) = _XMM1;
      __asm { vmaxsd  xmm0, xmm5, qword ptr [rdi+440h] }
      *(double *)(a1 + 0x38) = *(double *)&_XMM0;
      if ( (*(_BYTE *)(a1 + 0x208) & 8) == 0 )
        (*(void (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
      *(_OWORD *)(a1 + 0x468) = *(_OWORD *)(a1 + 0x1C0);
      *(double *)(a1 + 0x478) = *(double *)(a1 + 0x1D0);
      *(_DWORD *)(a1 + 0x490) = *(_DWORD *)(a1 + 0x1D8);
      *(_DWORD *)(a1 + 0x494) = *(_DWORD *)(a1 + 0x1DC);
      *(_DWORD *)(a1 + 0x498) = *(_DWORD *)(a1 + 0x1E0);
      *(_DWORD *)(a1 + 0x49C) = *(_DWORD *)(a1 + 0x1E4);
    }
  }
  else
  {
    v10 = *(_QWORD *)(a1 + 0x2C0);
    *(_WORD *)(a1 + 0x106) |= 0x808u;
    sub_14693A1E0(v10, a1);
  }
  if ( v7 && !a2 )
  {
    n0x200000 = _InterlockedCompareExchange64(v7, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v7, n0x200000);
  }
}

// --- End Function: CRigidEntity::UpdatePosition (0x14680F9C0) ---

// --- Function: sub_1468101F0 (0x1468101F0) ---
char __fastcall sub_1468101F0(__int64 a1, _DWORD *a2, int a3, __int64 a4, char a5)
{
  __int64 v6; // rax
  int v7; // edi
  int *ThreadLogContextSlot; // rax
  _DWORD v10[2]; // [rsp+50h] [rbp-48h] BYREF
  int *p_n0xD0; // [rsp+58h] [rbp-40h] BYREF
  char *v12; // [rsp+60h] [rbp-38h]
  __int64 v13; // [rsp+68h] [rbp-30h]
  _QWORD v14[2]; // [rsp+70h] [rbp-28h] BYREF
  __int128 v15; // [rsp+80h] [rbp-18h] BYREF
  int n0xD0; // [rsp+B8h] [rbp+20h] BYREF
  int n0x6A; // [rsp+BCh] [rbp+24h]

  if ( a3 )
    return 1;
  if ( ((*a2 - 1) & 0xFFFFFFF7) != 0 )
    return 1;
  if ( *(_BYTE *)(a1 + 0x94D) )
    return 1;
  if ( *(_BYTE *)(a1 + 0x94E) )
    return 1;
  v6 = *(_QWORD *)(a1 + 0x8E8);
  if ( !v6 || !*(_BYTE *)(v6 + 0xBD) )
    return 1;
  if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x1D0LL) )
  {
    LogTraceConditional(
      "%s: Modifying dynamics of physical entity %s without having authority over physics!",
      "CRigidEntity::ValidateActionAuthority",
      *(const char **)(a1 + 0xD0));
    n0xD0 = 0xD0;
    p_n0xD0 = &n0xD0;
    n0x6A = 0x6A;
    v12 = &a5;
    v7 = invokeGlobalCallbackAndMaskStatusBits(
           5,
           (__int64)&p_n0xD0,
           (__int64)"CRigidEntity::ValidateActionAuthority",
           "Modifying dynamics of physical entity [$$] without having authority over physics!");
    if ( (v7 & 0xFFFFF) != 0 )
    {
      v12 = *(char **)(a1 + 0xD0);
      p_n0xD0 = 0;
      v13 = 0;
      ThreadLogContextSlot = getThreadLogContextSlot();
      v10[0] = 0xD0;
      v14[0] = v10;
      v10[1] = 0x6A;
      v14[1] = &p_n0xD0;
      v15 = 0;
      sub_140445140(
        5,
        (__int64)v14,
        "CRigidEntity::ValidateActionAuthority",
        (__int64)"Modifying dynamics of physical entity [$$] without having authority over physics!",
        1,
        v7,
        &v15,
        0,
        (__int64)ThreadLogContextSlot,
        &p_n0xD0);
      sub_1402A63C0(v13);
    }
    (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)qword_149A142B0 + 0x620LL))(qword_149A142B0, 3, 6);
  }
  return 0;
}

// --- End Function: sub_1468101F0 (0x1468101F0) ---

// --- Function: sub_1468103D0 (0x1468103D0) ---
__int64 __fastcall sub_1468103D0(Parameter *Parameter)
{
  volatile signed __int64 *v1; // rdi
  int v2; // r12d
  signed __int64 v4; // rdx
  volatile signed __int64 *v5; // rbx
  signed __int64 v6; // rdx
  __int64 n0x200000; // rax
  __int64 v8; // r13
  __int64 *v9; // rbx
  unsigned int v10; // edi
  __int64 v11; // r14
  __int64 (__fastcall *v12)(__int64, _QWORD); // rbp
  int v13; // esi
  unsigned __int64 v14; // rdx
  unsigned __int64 v15; // rdx
  Parameter *v16; // rbx
  Parameter *v17; // rdi
  int n0x200000_1; // [rsp+60h] [rbp+8h]

  v1 = (volatile signed __int64 *)((char *)Parameter + 0x8C8);
  v2 = 0;
  v4 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x119);
  if ( (v4 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)Parameter + 0x119,
      v4,
      (__int64)"CRigidEntity::VerifyExistingContacts",
      (__int64)"m_lockContacts",
      1);
  v5 = (volatile signed __int64 *)((char *)Parameter + 0x150);
  v6 = _InterlockedIncrement64((volatile signed __int64 *)Parameter + 0x2A);
  if ( (v6 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)Parameter + 0x2A,
      v6,
      (__int64)"CRigidEntity::VerifyExistingContacts",
      (__int64)"m_lockColliders",
      1);
  n0x200000 = 0;
  n0x200000_1 = 0;
  if ( *((int *)Parameter + 0x52) > 0 )
  {
    v8 = 0;
    do
    {
      v9 = *(__int64 **)(*((_QWORD *)Parameter + 0x98) + v8);
      if ( v9 )
      {
        while ( 1 )
        {
          if ( (*((_BYTE *)v9 + 0x94) & 0x40) == 0 )
          {
            v10 = *((__int16 *)v9 + 0x3F);
            v11 = *(_QWORD *)(*((_QWORD *)Parameter + 0x28) + v8);
            v12 = *(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v11 + 0x270LL);
            v13 = (*(__int64 (__fastcall **)(Parameter *, _QWORD))(*(_QWORD *)Parameter + 0x270LL))(
                    Parameter,
                    (unsigned int)*((__int16 *)v9 + 0x3E));
            if ( (int)(v12(v11, v10) + v13) > 0 )
            {
              *((_DWORD *)v9 + 0x25) |= 0x100000u;
              ++v2;
            }
          }
          *((_DWORD *)v9 + 0x25) &= 0xFFDFFF3F;
          if ( (*((_DWORD *)v9 + 0x25) & 0x80000) != 0 )
            break;
          v9 = (__int64 *)*v9;
        }
        LODWORD(n0x200000) = n0x200000_1;
      }
      n0x200000 = (unsigned int)(n0x200000 + 1);
      v8 += 8;
      n0x200000_1 = n0x200000;
    }
    while ( (int)n0x200000 < *((_DWORD *)Parameter + 0x52) );
    v5 = (volatile signed __int64 *)((char *)Parameter + 0x150);
    v1 = (volatile signed __int64 *)((char *)Parameter + 0x8C8);
  }
  v14 = _InterlockedDecrement64(v5);
  if ( (v14 & 0x3FF) == 0 && (v14 & 0xFFFF0000FFC00000uLL) != 0 )
    n0x200000 = sub_1403CD3A0(v5, v14);
  v15 = _InterlockedDecrement64(v1);
  if ( (v15 & 0x3FF) == 0 && (v15 & 0xFFFF0000FFC00000uLL) != 0 )
    n0x200000 = sub_1403CD3A0(v1, v15);
  if ( v2 )
  {
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x119, 0x200000, 0);
    if ( n0x200000 )
      n0x200000 = sub_1403DE750(
                    (__int64)Parameter + 0x8C8,
                    n0x200000,
                    0,
                    (__int64)"CRigidEntity::VerifyExistingContacts",
                    (__int64)"m_lockContacts",
                    1);
    v16 = (Parameter *)*((_QWORD *)Parameter + 0x9A);
    if ( v16 != (Parameter *)((char *)Parameter + 0x4D0) )
    {
      do
      {
        v17 = *(Parameter **)v16;
        if ( (*((_DWORD *)v16 + 0x25) & 0x100000) != 0 )
        {
          sub_1467B49B0((__int64)Parameter, (unsigned __int64 *)v16, 0xFFFFFFFF, 1, 0);
          n0x200000 = sub_1469222F0(*((_QWORD *)Parameter + 0x58));
        }
        v16 = v17;
      }
      while ( v17 != (Parameter *)((char *)Parameter + 0x4D0) );
    }
    if ( Parameter != (Parameter *)0xFFFFFFFFFFFFF738LL )
    {
      n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)Parameter + 0x119, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        return sub_1403DEBA0((volatile signed __int64 *)Parameter + 0x119, n0x200000);
    }
  }
  return n0x200000;
}

// --- End Function: sub_1468103D0 (0x1468103D0) ---

// --- Function: sub_146810C50 (0x146810C50) ---
float *__fastcall sub_146810C50(float *a1, float *a2, float *a3, float *a4, float a5)
{
  float v5; // xmm6_4
  float v6; // xmm7_4
  float v7; // xmm8_4
  float v8; // xmm9_4
  float v9; // xmm11_4
  float v10; // xmm13_4
  float v11; // xmm14_4
  float v12; // xmm15_4
  __m128 n0x3F800000; // kr00_16
  float v14; // xmm10_4
  float v15; // xmm7_4
  float v16; // xmm6_4
  float v17; // xmm8_4
  float v20; // xmm1_4
  float v21; // xmm9_4
  float v22; // xmm6_4
  float v23; // xmm7_4
  float v24; // xmm8_4
  float v25; // xmm5_4
  float v26; // xmm12_4
  float v27; // xmm11_4
  float v28; // xmm10_4
  float v29; // xmm1_4
  float v30; // xmm5_4
  float v31; // xmm2_4
  float v32; // xmm6_4
  float v33; // xmm1_4
  float v34; // xmm7_4
  float v35; // xmm9_4
  float *result; // rax

  v5 = a3[3];
  v6 = *a3;
  v7 = a3[1];
  v8 = a3[2];
  v9 = a4[3];
  v10 = *a4;
  v11 = a4[1];
  v12 = a4[2];
  if ( (float)((float)((float)(v7 * v11) + (float)(*a3 * *a4)) + (float)((float)(v8 * v12) + (float)(v5 * v9))) < 0.0 )
  {
    LODWORD(v5) ^= 0x80000000;
    LODWORD(v6) ^= 0x80000000;
    LODWORD(v7) ^= 0x80000000;
    LODWORD(v8) ^= 0x80000000;
  }
  n0x3F800000 = (__m128)0x3F800000u;
  v14 = (float)((float)(1.0 - a5) * v10) + (float)(v6 * a5);
  v15 = (float)((float)(1.0 - a5) * v11) + (float)(v7 * a5);
  v16 = (float)(v5 * a5) + (float)((float)(1.0 - a5) * v9);
  v17 = (float)((float)(1.0 - a5) * v12) + (float)(v8 * a5);
  n0x3F800000.m128_f32[0] = (float)((float)(v17 * v17) + (float)(v15 * v15))
                          + (float)((float)(v16 * v16) + (float)(v14 * v14));
  _XMM3 = _mm_shuffle_ps(n0x3F800000, n0x3F800000, 0);
  __asm { vrsqrtps xmm4, xmm3 }
  _XMM4.m128_f32[0] = _mm_shuffle_ps(_XMM4, _XMM4, 0xFF).m128_f32[0];
  v20 = (float)(1.5 - (float)((float)((float)(_XMM4.m128_f32[0] * n0x3F800000.m128_f32[0]) * _XMM4.m128_f32[0]) * 0.5))
      * _XMM4.m128_f32[0];
  v21 = v20 * v16;
  v22 = v20 * v15;
  v23 = v20 * v17;
  v24 = a2[3];
  v25 = v20 * v14;
  v26 = (float)((float)(v11 * v22) + (float)(v9 * v21))
      + (float)((float)(v12 * v23) + (float)(v10 * (float)(v20 * v14)));
  v27 = (float)((float)((float)(v23 * v11) - (float)(v12 * v22)) - (float)(v10 * v21))
      + (float)(v9 * (float)(v20 * v14));
  v28 = (float)((float)((float)(v12 * (float)(v20 * v14)) - (float)(v10 * v23)) - (float)(v21 * v11))
      + (float)(v22 * a4[3]);
  v29 = v25 * v11;
  v30 = a2[1];
  v31 = v10 * v22;
  v32 = *a2;
  _XMM3.m128_f32[0] = v31 - v29;
  v33 = v23 * a4[3];
  v34 = a2[2];
  v35 = (float)(_XMM3.m128_f32[0] - (float)(v12 * v21)) + v33;
  a1[3] = (float)(v24 * v26) - (float)((float)((float)(v30 * v28) + (float)(*a2 * v27)) + (float)(v34 * v35));
  result = a1;
  *a1 = (float)((float)((float)(v34 * v28) - (float)(v30 * v35)) + (float)(v32 * v26)) + (float)(v24 * v27);
  a1[1] = (float)((float)((float)(v32 * v35) - (float)(v34 * v27)) + (float)(v30 * v26)) + (float)(v24 * v28);
  a1[2] = (float)((float)((float)(v30 * v27) - (float)(v32 * v28)) + (float)(v34 * v26)) + (float)(v24 * v35);
  return result;
}

// --- End Function: sub_146810C50 (0x146810C50) ---

// --- Function: sub_1468115C0 (0x1468115C0) ---
__int64 __fastcall sub_1468115C0(__int64 a1, __int64 a2, __int64 a3, __int64 *a4)
{
  __int64 *v4; // rbx
  unsigned int v7; // esi
  signed __int64 v8; // rdx
  __int64 v9; // rdi
  LARGE_INTEGER v10; // rbx
  unsigned __int64 v11; // rdx
  __int64 v12; // r14
  char v13; // dl
  int v14; // eax
  __int64 n0x1E; // r15
  __int64 n0x1E_1; // rcx
  volatile signed __int64 *v17; // rbx
  bool v18; // zf
  signed __int64 v19; // r12
  bool v20; // r12
  __int64 v21; // rdx
  __int64 *v22; // rax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v24; // rdi
  int n0x2800_1; // [rsp+30h] [rbp-69h] BYREF
  __int64 v27; // [rsp+34h] [rbp-65h]
  int v28; // [rsp+3Ch] [rbp-5Dh]
  __int64 v29; // [rsp+40h] [rbp-59h]
  unsigned __int64 v30; // [rsp+48h] [rbp-51h]
  __int64 v31; // [rsp+50h] [rbp-49h]
  __int64 v32; // [rsp+58h] [rbp-41h]
  int n0x2800; // [rsp+80h] [rbp-19h] BYREF
  __int64 v34; // [rsp+84h] [rbp-15h]
  int v35; // [rsp+8Ch] [rbp-Dh]
  __int64 v36; // [rsp+90h] [rbp-9h]
  unsigned __int64 v37; // [rsp+98h] [rbp-1h]
  __int64 v38; // [rsp+A0h] [rbp+7h]
  __int64 v39; // [rsp+A8h] [rbp+Fh]

  n0x2800 = 0x2800;
  v4 = a4;
  v34 = 0;
  v35 = 0;
  v37 = 0;
  v38 = 0;
  v39 = 0;
  v36 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  n0x2800_1 = 0x2800;
  v27 = 0;
  v28 = 0;
  v30 = 0;
  v31 = 0;
  v32 = 0;
  v29 = 1;
  qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
  v7 = 0;
  v8 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x84B40));
  if ( (v8 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x84B40),
      v8,
      (__int64)"CPhysicalWorld::SignalEvent",
      (__int64)"m_lockEventClients",
      1);
  v9 = *(_QWORD *)(a1 + 0x83138);
  if ( v9 )
  {
    do
    {
      v10 = sub_1403E4CF0();
      v7 += (*(__int64 (__fastcall **)(__int64))v9)(a3);
      *(_QWORD *)(v9 + 0x10) += *(_QWORD *)&sub_1403E4CF0() - v10.QuadPart;
      v9 = *(_QWORD *)(v9 + 8);
    }
    while ( v9 );
    v4 = a4;
  }
  v11 = _InterlockedDecrement64((volatile signed __int64 *)(a1 + 0x84B40));
  if ( (v11 & 0x3FF) == 0 && (v11 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x84B40), v11);
  v30 = __rdtsc();
  qword_149A0FD88(&n0x2800_1);
  v12 = sub_146916200(a1, 0x11, 0x38);
  v13 = *(_BYTE *)(v12 + 0xC);
  *(__m256i *)v12 = *(__m256i *)a3;
  *(_OWORD *)(v12 + 0x20) = *(_OWORD *)(a3 + 0x20);
  *(double *)(v12 + 0x30) = *(double *)(a3 + 0x30);
  *(_BYTE *)(v12 + 0xC) = v13;
  *(_QWORD *)v12 = 0;
  __asm { vzeroupper }
  v14 = InterlockedIncrement_w_0(0x11);
  *(_DWORD *)(v12 + 0xC) = (unsigned __int8)*(_DWORD *)(v12 + 0xC);
  *(_DWORD *)(v12 + 0xC) |= v14 << 8;
  if ( v4 )
    *v4 = v12;
  n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
  n0x1E_1 = n0x1E;
  v17 = (volatile signed __int64 *)(a1 + 0x83358 + 8 * n0x1E);
  v18 = (_DWORD)n0x1E == 0x1E;
  if ( (_DWORD)n0x1E != 0x1E )
  {
    v19 = _InterlockedIncrement64(v17);
    if ( (v19 & 0x200000) != 0 )
    {
      sub_1403CD0A0(
        (volatile signed __int64 *)(a1 + 0x83358 + 8 * n0x1E),
        v19,
        (__int64)"CPhysicalWorld::OnEvent",
        (__int64)"m_lockEventsQueue[iCaller]",
        1);
      v20 = 0;
LABEL_18:
      n0x1E_1 = n0x1E;
      goto LABEL_19;
    }
    v18 = (_DWORD)n0x1E == 0x1E;
  }
  v20 = v18;
  if ( v18 )
  {
    v21 = _InterlockedCompareExchange64(v17, 0x200000, 0);
    if ( v21 )
    {
      sub_1403DE750(
        a1 + 0x83358 + 8 * n0x1E,
        v21,
        0,
        (__int64)"CPhysicalWorld::OnEvent",
        (__int64)"m_lockEventsQueue[iCaller]",
        1);
      goto LABEL_18;
    }
  }
LABEL_19:
  v22 = *(__int64 **)(a1 + 8 * n0x1E_1 + 0x82F30);
  if ( !v22 )
    v22 = (__int64 *)(a1 + 0x82E38 + 8 * n0x1E_1);
  *v22 = v12;
  *(_QWORD *)(a1 + 8 * n0x1E_1 + 0x82F30) = v12;
  if ( v17 )
  {
    if ( v20 )
    {
      n0x200000 = _InterlockedCompareExchange64(v17, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x83358 + 8 * n0x1E), n0x200000);
    }
  }
  if ( (_DWORD)n0x1E != 0x1E )
  {
    v24 = _InterlockedDecrement64(v17);
    if ( (v24 & 0x3FF) == 0 && (v24 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0((volatile signed __int64 *)(a1 + 0x83358 + 8 * n0x1E), v24);
  }
  v37 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v7;
}

// --- End Function: sub_1468115C0 (0x1468115C0) ---

// --- Function: sub_1468B2400 (0x1468B2400) ---
__int64 __fastcall sub_1468B2400(__int64 a1, int a2, __m256i *a3, __m256i **a4)
{
  int v5; // edi
  __int64 v6; // rbx
  __int64 v7; // r14
  unsigned int v8; // r12d
  volatile signed __int64 *v9; // r14
  signed __int64 v10; // rdx
  __int64 v11; // rdi
  LARGE_INTEGER v12; // rbx
  unsigned __int64 v13; // rdx
  __m256i *v14; // rdi
  __int8 v15; // dl
  int v16; // eax
  __int64 n0x1E; // r14
  volatile signed __int64 *v18; // rbx
  bool v19; // zf
  signed __int64 v20; // r15
  bool v21; // r15
  __int64 v22; // rdx
  __m256i **v23; // rax
  unsigned __int64 n0x200000; // rax
  unsigned __int64 v25; // rsi
  __int64 v27; // [rsp+30h] [rbp-99h]
  int n0x2800_1; // [rsp+40h] [rbp-89h] BYREF
  __int64 v29; // [rsp+44h] [rbp-85h]
  int v30; // [rsp+4Ch] [rbp-7Dh]
  __int64 v31; // [rsp+50h] [rbp-79h]
  unsigned __int64 v32; // [rsp+58h] [rbp-71h]
  __int64 v33; // [rsp+60h] [rbp-69h]
  __int64 v34; // [rsp+68h] [rbp-61h]
  int n0x2800; // [rsp+90h] [rbp-39h] BYREF
  __int64 v36; // [rsp+94h] [rbp-35h]
  int v37; // [rsp+9Ch] [rbp-2Dh]
  __int64 v38; // [rsp+A0h] [rbp-29h]
  unsigned __int64 v39; // [rsp+A8h] [rbp-21h]
  __int64 v40; // [rsp+B0h] [rbp-19h]
  __int64 v41; // [rsp+B8h] [rbp-11h]
  int v44; // [rsp+140h] [rbp+77h]

  n0x2800 = 0x2800;
  v36 = 0;
  v5 = a2;
  v37 = 0;
  v6 = a1;
  v39 = 0;
  v40 = 0;
  v41 = 0;
  v38 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v7 = a3->m256i_i64[2] & 0xFFFFFFFFFFFFLL;
  v8 = 0;
  v27 = v7;
  a3[1].m256i_i64[1] = **(_QWORD **)(v7 + 0xB8);
  v44 = *(_DWORD *)(v7 + 0xFC);
  if ( (v5 & 0x80000) != 0 )
  {
    n0x2800_1 = 0x2800;
    v29 = 0;
    v30 = 0;
    v32 = 0;
    v33 = 0;
    v34 = 0;
    v31 = 1;
    qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
    v9 = (volatile signed __int64 *)(v6 + 0x84B40);
    v10 = _InterlockedIncrement64((volatile signed __int64 *)(v6 + 0x84B40));
    if ( (v10 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)(v6 + 0x84B40),
        v10,
        (__int64)"CPhysicalWorld::SignalEvent",
        (__int64)"m_lockEventClients",
        1);
    v11 = *(_QWORD *)(v6 + 0x83068);
    if ( v11 )
    {
      do
      {
        v12 = sub_1403E4CF0();
        v8 += (*(__int64 (__fastcall **)(__m256i *))v11)(a3);
        *(_QWORD *)(v11 + 0x10) += *(_QWORD *)&sub_1403E4CF0() - v12.QuadPart;
        v11 = *(_QWORD *)(v11 + 8);
      }
      while ( v11 );
      v6 = a1;
    }
    v13 = _InterlockedDecrement64(v9);
    if ( (v13 & 0x3FF) == 0 && (v13 & 0xFFFF0000FFC00000uLL) != 0 )
      sub_1403CD3A0(v9, v13);
    v32 = __rdtsc();
    qword_149A0FD88(&n0x2800_1);
    v7 = v27;
    v5 = a2;
  }
  if ( (v5 & 0x8000000) != 0 )
  {
    v14 = (__m256i *)sub_146916200(v6, 4, 0x60);
    v15 = v14->m256i_i8[0xC];
    *v14 = *a3;
    v14[1] = a3[1];
    v14[2] = a3[2];
    v14->m256i_i8[0xC] = v15;
    v14->m256i_i64[0] = 0;
    __asm { vzeroupper }
    v16 = InterlockedIncrement_w_0(4);
    v14->m256i_i32[3] = (unsigned __int8)v14->m256i_i32[3];
    v14->m256i_i32[3] |= v16 << 8;
    if ( a4 )
      *a4 = v14;
    if ( (v44 & 0x10000) != 0 )
      _InterlockedExchangeAdd((volatile signed __int32 *)(v7 + 0xFC), 0xFFFF0000);
    n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    v18 = (volatile signed __int64 *)(v6 + 8 * n0x1E + 0x83358);
    v19 = (_DWORD)n0x1E == 0x1E;
    if ( (_DWORD)n0x1E != 0x1E )
    {
      v20 = _InterlockedIncrement64(v18);
      if ( (v20 & 0x200000) != 0 )
      {
        sub_1403CD0A0(v18, v20, (__int64)"CPhysicalWorld::OnEvent", (__int64)"m_lockEventsQueue[iCaller]", 1);
        v21 = 0;
LABEL_23:
        v23 = *(__m256i ***)(a1 + 8 * n0x1E + 0x82F30);
        if ( !v23 )
          v23 = (__m256i **)(a1 + 0x82E38 + 8 * n0x1E);
        *v23 = v14;
        *(_QWORD *)(a1 + 8 * n0x1E + 0x82F30) = v14;
        if ( v18 )
        {
          if ( v21 )
          {
            n0x200000 = _InterlockedCompareExchange64(v18, 0, 0x200000);
            if ( n0x200000 != 0x200000 )
              sub_1403DEBA0(v18, n0x200000);
          }
        }
        if ( (_DWORD)n0x1E != 0x1E )
        {
          v25 = _InterlockedDecrement64(v18);
          if ( (v25 & 0x3FF) == 0 && (v25 & 0xFFFF0000FFC00000uLL) != 0 )
            sub_1403CD3A0(v18, v25);
        }
        goto LABEL_33;
      }
      v19 = (_DWORD)n0x1E == 0x1E;
    }
    v21 = v19;
    if ( v19 )
    {
      v22 = _InterlockedCompareExchange64(v18, 0x200000, 0);
      if ( v22 )
        sub_1403DE750(
          (__int64)v18,
          v22,
          0,
          (__int64)"CPhysicalWorld::OnEvent",
          (__int64)"m_lockEventsQueue[iCaller]",
          1);
    }
    goto LABEL_23;
  }
LABEL_33:
  v39 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v8;
}

// --- End Function: sub_1468B2400 (0x1468B2400) ---

// --- Function: sub_1468B3180 (0x1468B3180) ---
__int64 __fastcall sub_1468B3180(__int64 **a1, __int64 a2, unsigned int *a3)
{
  __int64 *v3; // rsi
  unsigned int *v4; // rdi
  __int64 **v6; // r14
  __int64 *v7; // r11
  char v8; // r10
  __int64 *v9; // r9
  char v10; // al
  unsigned __int8 v11; // al
  __int64 v12; // rax
  __int128 v13; // xmm0
  __int128 v15; // [rsp+20h] [rbp-38h] BYREF

  v3 = *a1;
  v4 = a3;
  DWORD2(v15) = 0;
  v6 = a1;
  v7 = v3;
  v8 = 0xFF;
  v9 = (__int64 *)v3[1];
  *(_QWORD *)&v15 = v9;
  if ( !*((_BYTE *)v9 + 0x19) )
  {
    a3 = (unsigned int *)*a3;
    do
    {
      *(_QWORD *)&v15 = v9;
      if ( *((_DWORD *)v9 + 7) == (_DWORD)a3 )
      {
        a1 = (__int64 **)*((unsigned __int8 *)v9 + 0x20);
        if ( (_BYTE)a1 == *((_BYTE *)v4 + 4) )
        {
          v10 = 0;
        }
        else
        {
          v10 = 0xFF;
          if ( (unsigned __int8)a1 >= *((_BYTE *)v4 + 4) )
            v10 = 1;
        }
      }
      else
      {
        v10 = 0xFF;
        if ( *((_DWORD *)v9 + 7) >= (int)a3 )
          v10 = 1;
      }
      if ( v10 >= 0 )
      {
        v7 = v9;
        DWORD2(v15) = 1;
        v9 = (__int64 *)*v9;
      }
      else
      {
        v9 = (__int64 *)v9[2];
        DWORD2(v15) = 0;
      }
    }
    while ( !*((_BYTE *)v9 + 0x19) );
  }
  if ( *((_BYTE *)v7 + 0x19) )
    goto LABEL_24;
  if ( *v4 == *((_DWORD *)v7 + 7) )
  {
    v11 = *((_BYTE *)v4 + 4);
    if ( v11 == *((_BYTE *)v7 + 0x20) )
    {
      v8 = 0;
    }
    else if ( v11 >= *((_BYTE *)v7 + 0x20) )
    {
      v8 = 1;
    }
  }
  else if ( (signed int)*v4 >= *((_DWORD *)v7 + 7) )
  {
    v8 = 1;
  }
  if ( v8 < 0 )
  {
LABEL_24:
    if ( v6[1] == (__int64 *)0x666666666666666LL )
      unknown_libname_7(a1, a2, a3, v9);
    v12 = sub_1402A63D0(0x28u);
    v13 = v15;
    *(_QWORD *)(v12 + 0x1C) = *(_QWORD *)v4;
    *(_QWORD *)v12 = v3;
    *(_QWORD *)(v12 + 8) = v3;
    *(_QWORD *)(v12 + 0x10) = v3;
    *(_WORD *)(v12 + 0x18) = 0;
    v15 = v13;
    *(_QWORD *)a2 = std::_Tree_val<std::_Tree_simple_types<std::pair<openvdb::v8_1::math::Coord const,openvdb::v8_1::tree::RootNode<openvdb::v8_1::tree::InternalNode<openvdb::v8_1::tree::InternalNode<openvdb::v8_1::tree::LeafNode<openvdb::v8_1::math::Vec4<float>,3>,4>,5>>::NodeStruct>>>::_Insert_node(
                      v6,
                      (__int64)&v15,
                      v12);
    *(_BYTE *)(a2 + 8) = 1;
  }
  else
  {
    *(_QWORD *)a2 = v7;
    *(_BYTE *)(a2 + 8) = 0;
  }
  return a2;
}

// --- End Function: sub_1468B3180 (0x1468B3180) ---

// --- Function: sub_1468B54B0 (0x1468B54B0) ---
_QWORD *__fastcall sub_1468B54B0(_QWORD *a1, __int64 a2)
{
  unsigned __int64 v4; // rdx
  unsigned __int64 v5; // rbx
  __int64 v6; // rax
  _QWORD *v7; // rdi
  signed __int64 Size; // rbx
  unsigned __int64 allocSize; // rbx
  __int64 v10; // rax
  __int64 v11; // rcx
  unsigned __int64 v12; // rax
  const void *v13; // rdx
  char *v14; // rdi
  size_t Size_1; // rbx

  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  v4 = (*(_QWORD *)(a2 + 8) - *(_QWORD *)a2) / 0xCLL;
  if ( v4 )
  {
    if ( v4 > 0x1555555555555555LL )
      unknown_libname_10();
    v5 = 0xC * v4;
    if ( 0xC * v4 < 0x1000 )
    {
      if ( v5 )
        v7 = (_QWORD *)sub_1402A63D0(0xC * v4);
      else
        v7 = 0;
    }
    else
    {
      if ( v5 + 0x27 < v5 )
        goto LABEL_21;
      v6 = sub_1402A63D0(v5 + 0x27);
      if ( !v6 )
        goto LABEL_17;
      v7 = (_QWORD *)((v6 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
      v7[0xFFFFFFFF] = v6;
    }
    *a1 = v7;
    a1[1] = v7;
    a1[2] = (char *)v7 + v5;
    Size = *(_QWORD *)(a2 + 8) - *(_QWORD *)a2;
    memmove(v7, *(const void **)a2, Size);
    a1[1] = (char *)v7 + 0xC * (Size / 0xC);
  }
  sub_14035E4C0(a1 + 3, (_QWORD *)(a2 + 0x18));
  a1[6] = 0;
  a1[7] = 0;
  a1[8] = 0;
  allocSize = *(_QWORD *)(a2 + 0x38) - *(_QWORD *)(a2 + 0x30);
  if ( allocSize )
  {
    if ( allocSize > 0x7FFFFFFFFFFFFFFFLL )
      unknown_libname_10();
    if ( allocSize < 0x1000 )
    {
      v12 = sub_1402A63D0(allocSize);
      goto LABEL_19;
    }
    if ( allocSize + 0x27 >= allocSize )
    {
      v10 = sub_1402A63D0(allocSize + 0x27);
      v11 = v10;
      if ( v10 )
      {
        v12 = (v10 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL;
        *(_QWORD *)(v12 - 8) = v11;
LABEL_19:
        a1[6] = v12;
        a1[7] = v12;
        a1[8] = allocSize + v12;
        v13 = *(const void **)(a2 + 0x30);
        v14 = (char *)a1[6];
        Size_1 = *(_QWORD *)(a2 + 0x38) - (_QWORD)v13;
        memmove(v14, v13, Size_1);
        a1[7] = &v14[Size_1];
        goto LABEL_20;
      }
LABEL_17:
      invalid_parameter_noinfo_noreturn();
    }
LABEL_21:
    sub_1402E2610();
  }
LABEL_20:
  sub_14035E4C0(a1 + 9, (_QWORD *)(a2 + 0x48));
  return a1;
}

// --- End Function: sub_1468B54B0 (0x1468B54B0) ---

// --- Function: sub_1468B6F50 (0x1468B6F50) ---
_UNKNOWN **__fastcall sub_1468B6F50(__int64 a1, double *a2)
{
  _UNKNOWN **result; // rax
  double v3; // xmm4_8
  double v4; // xmm7_8
  double v5; // xmm11_8
  double v6; // xmm12_8
  double v7; // xmm13_8
  double v8; // xmm9_8
  double v9; // xmm5_8
  double v10; // xmm4_8
  double v11; // xmm3_8
  double v12; // xmm1_8
  double v13; // xmm4_8
  double v14; // xmm6_8
  double v15; // xmm7_8
  double v16; // xmm0_8
  double v17; // xmm9_8
  double v18; // xmm3_8
  double v19; // xmm5_8
  float v20; // xmm10_4
  float v21; // xmm8_4
  _UNKNOWN *retaddr; // [rsp+88h] [rbp+0h] BYREF

  result = &retaddr;
  v3 = a2[3];
  v4 = a2[2];
  v5 = a2[1];
  v6 = *(double *)(a1 + 8);
  v7 = *(double *)(a1 + 0x10);
  v8 = v7 * v5 - v6 * v4 + *(double *)a1 * v3;
  v9 = *(double *)a1 * v4 - *a2 * v7 + v3 * v6;
  v10 = *a2 * v6 - *(double *)a1 * v5 + v3 * v7;
  v11 = v5 * v10;
  v12 = *a2 * v10;
  v13 = a2[5];
  v14 = v11 - v4 * v9;
  v15 = v4 * v8 - v12;
  v16 = v5 * v8;
  v17 = a2[7];
  v18 = *a2 * v9;
  v19 = a2[6];
  *(double *)a1 = (*(double *)a1 + v14 + v14) * v17 + a2[4];
  *(double *)(a1 + 8) = (v6 + v15 + v15) * v17 + v13;
  *(double *)(a1 + 0x10) = (v7 + v18 - v16 + v18 - v16) * v17 + v19;
  v20 = *(float *)(a1 + 0x1C);
  v21 = *(float *)(a1 + 0x18);
  LODWORD(v7) = *(_DWORD *)(a1 + 0x20);
  _XMM12 = *((unsigned __int64 *)a2 + 1);
  _XMM9 = *((unsigned __int64 *)a2 + 2);
  _XMM4 = *((unsigned __int64 *)a2 + 3);
  _XMM11 = *(unsigned __int64 *)a2;
  __asm
  {
    vcvtpd2ps xmm12, xmm12
    vcvtpd2ps xmm9, xmm9
  }
  __asm
  {
    vcvtpd2ps xmm4, xmm4
    vcvtpd2ps xmm11, xmm11
  }
  *(float *)&v15 = (float)((float)(*(float *)&_XMM12 * *(float *)&v7) - (float)(*(float *)&_XMM9 * v20))
                 + (float)(*(float *)&_XMM4 * v21);
  *(float *)&v14 = (float)((float)(*(float *)&_XMM9 * v21) - (float)(*(float *)&_XMM11 * *(float *)&v7))
                 + (float)(*(float *)&_XMM4 * v20);
  *(float *)&_XMM4 = (float)((float)(*(float *)&_XMM11 * v20) - (float)(*(float *)&_XMM12 * v21))
                   + (float)(*(float *)&_XMM4 * *(float *)&v7);
  *(float *)(a1 + 0x18) = (float)(v21
                                + (float)((float)(*(float *)&_XMM4 * *(float *)&_XMM12)
                                        - (float)(*(float *)&v14 * *(float *)&_XMM9)))
                        + (float)((float)(*(float *)&_XMM4 * *(float *)&_XMM12)
                                - (float)(*(float *)&v14 * *(float *)&_XMM9));
  *(float *)(a1 + 0x1C) = (float)(v20
                                + (float)((float)(*(float *)&v15 * *(float *)&_XMM9)
                                        - (float)(*(float *)&_XMM4 * *(float *)&_XMM11)))
                        + (float)((float)(*(float *)&v15 * *(float *)&_XMM9)
                                - (float)(*(float *)&_XMM4 * *(float *)&_XMM11));
  *(float *)(a1 + 0x20) = (float)(*(float *)&v7
                                + (float)((float)(*(float *)&v14 * *(float *)&_XMM11)
                                        - (float)(*(float *)&v15 * *(float *)&_XMM12)))
                        + (float)((float)(*(float *)&v14 * *(float *)&_XMM11)
                                - (float)(*(float *)&v15 * *(float *)&_XMM12));
  return result;
}

// --- End Function: sub_1468B6F50 (0x1468B6F50) ---

// --- Function: sub_1468BCCE0 (0x1468BCCE0) ---
__int64 __fastcall sub_1468BCCE0(__int64 a1, _DWORD *a2, __int64 a3, int n10102016, int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  unsigned int v14; // r15d
  volatile signed __int64 *v15; // r12
  signed __int64 v16; // rdx
  int value_by_id; // ebx
  __int64 v18; // rdi
  int v19; // ebx
  __int64 v20; // rsi
  int v21; // eax
  const char *v22; // rax
  unsigned __int64 v23; // rdx
  unsigned __int64 v24; // rdx
  __int64 v25; // rax
  __int64 v26; // rax
  float v27; // xmm0_4
  float *v28; // rcx
  __int64 v29; // rdx
  float v30; // xmm1_4
  float v31; // xmm2_4
  double *v32; // r10
  float v33; // xmm0_4
  float v34; // xmm1_4
  float v35; // xmm2_4
  float v36; // xmm3_4
  float v37; // xmm4_4
  float v38; // xmm5_4
  float v39; // xmm6_4
  float v40; // xmm7_4
  float v41; // xmm8_4
  float v42; // xmm9_4
  float v43; // xmm10_4
  double v44; // rcx
  float v51; // xmm0_4
  float v52; // xmm0_4
  __m128 v53; // kr00_16
  __m128 v54; // xmm0
  float v55; // xmm0_4
  int v56; // eax
  __int64 v57; // rdi
  __int64 *v58; // rbx
  __int64 v59; // r10
  __int64 v60; // r9
  __int64 v61; // r12
  __int64 v62; // rax
  bool v63; // zf
  unsigned int n2; // eax
  float v65; // xmm0_4
  __int64 v66; // rcx
  int v67; // edi
  int v68; // eax
  char *v69; // rbx
  __int64 v70; // rcx
  int v71; // eax
  __int64 v72; // rdi
  __int64 v73; // rdi
  char *v74; // rax
  size_t Size; // r8
  char *v76; // rbx
  __m256i *v77; // rcx
  __m256i *v78; // rax
  __int64 v79; // rcx
  __int64 v80; // rax
  __int64 v81; // rdx
  double *v82; // rcx
  float v83; // xmm1_4
  float v84; // xmm2_4
  __int64 v85; // rdx
  __int64 v86; // rcx
  __int64 v87; // rcx
  __int64 v88; // rax
  __int64 v89; // r8
  __int16 n0x10; // bx
  unsigned int v91; // edi
  __int64 v92; // r8
  __int64 v93; // rdx
  __int64 v94; // rcx
  _DWORD *v95; // rax
  __int64 v96; // rdx
  __int64 v97; // r8
  __int64 v98; // r10
  __int64 v99; // r8
  __int64 v100; // rcx
  __int64 v101; // rcx
  __int64 v102; // rdx
  __int64 v103; // r8
  _DWORD *v104; // rcx
  __int64 v105; // r8
  void (__fastcall ***v106)(_QWORD); // rcx
  __int64 v107; // rax
  __int64 v108; // rcx
  __int64 v109; // rcx
  __int64 v110; // rax
  double v111; // xmm1_8
  __int128 v112; // xmm0
  double v113; // xmm1_8
  __int64 v114; // rcx
  unsigned int n0x40000000; // edx
  __int64 v116; // rax
  __int64 v117; // rcx
  __int64 v118; // rax
  __int64 v119; // rcx
  __int64 n0x10_1; // rbx
  unsigned __int64 n0x200000; // rax
  int v124; // [rsp+40h] [rbp-828h]
  _DWORD *v125; // [rsp+48h] [rbp-820h] BYREF
  double v126; // [rsp+50h] [rbp-818h] BYREF
  double v127; // [rsp+58h] [rbp-810h]
  double v128; // [rsp+60h] [rbp-808h]
  __int64 v129; // [rsp+68h] [rbp-800h]
  unsigned __int64 v130; // [rsp+70h] [rbp-7F8h]
  __int64 v131; // [rsp+78h] [rbp-7F0h]
  __int64 v132; // [rsp+80h] [rbp-7E8h] BYREF
  int n0x19; // [rsp+88h] [rbp-7E0h]
  int n0x1E; // [rsp+8Ch] [rbp-7DCh]
  __int64 v135; // [rsp+90h] [rbp-7D8h]
  __int64 v136; // [rsp+98h] [rbp-7D0h]
  unsigned int n2_1; // [rsp+A0h] [rbp-7C8h]
  int v138; // [rsp+A4h] [rbp-7C4h]
  __int64 v139; // [rsp+A8h] [rbp-7C0h]
  int v140; // [rsp+B0h] [rbp-7B8h]
  int v141; // [rsp+B4h] [rbp-7B4h]
  float v142; // [rsp+B8h] [rbp-7B0h]
  float v143; // [rsp+BCh] [rbp-7ACh]
  int v144; // [rsp+C0h] [rbp-7A8h]
  int n0x2800_1; // [rsp+D0h] [rbp-798h] BYREF
  __int64 v146; // [rsp+D4h] [rbp-794h]
  int v147; // [rsp+DCh] [rbp-78Ch]
  __int64 v148; // [rsp+E0h] [rbp-788h]
  unsigned __int64 v149; // [rsp+E8h] [rbp-780h]
  __int64 v150; // [rsp+F0h] [rbp-778h]
  __int64 v151; // [rsp+F8h] [rbp-770h]
  int n0x2800; // [rsp+120h] [rbp-748h] BYREF
  __int64 v153; // [rsp+124h] [rbp-744h]
  int v154; // [rsp+12Ch] [rbp-73Ch]
  __int64 v155; // [rsp+130h] [rbp-738h]
  unsigned __int64 v156; // [rsp+138h] [rbp-730h]
  __int64 v157; // [rsp+140h] [rbp-728h]
  __int64 v158; // [rsp+148h] [rbp-720h]
  double v159[12]; // [rsp+170h] [rbp-6F8h] BYREF
  char v160[8]; // [rsp+1D0h] [rbp-698h] BYREF
  __int128 v161; // [rsp+1D8h] [rbp-690h] BYREF
  double v162; // [rsp+1E8h] [rbp-680h]
  __int128 v163; // [rsp+1F0h] [rbp-678h]
  double v164; // [rsp+200h] [rbp-668h]
  float v165[4]; // [rsp+208h] [rbp-660h] BYREF
  char v166[32]; // [rsp+218h] [rbp-650h] BYREF
  int v167; // [rsp+238h] [rbp-630h]
  unsigned int v168; // [rsp+23Ch] [rbp-62Ch]
  char v169[32]; // [rsp+240h] [rbp-628h] BYREF
  char v170[64]; // [rsp+260h] [rbp-608h] BYREF
  char v171[8]; // [rsp+2A0h] [rbp-5C8h] BYREF
  int v172; // [rsp+2A8h] [rbp-5C0h]
  int v173; // [rsp+2D0h] [rbp-598h]
  wchar_t String[512]; // [rsp+3C0h] [rbp-4A8h] BYREF
  __int128 v175; // [rsp+7D0h] [rbp-98h]
  __int128 v176; // [rsp+7E0h] [rbp-88h]
  __int128 v177; // [rsp+7F0h] [rbp-78h]
  __int128 v178; // [rsp+800h] [rbp-68h]
  __int128 v179; // [rsp+810h] [rbp-58h]
  __int128 v180; // [rsp+820h] [rbp-48h]

  v125 = a2;
  v153 = 0;
  v154 = 0;
  v156 = 0;
  v157 = 0;
  v158 = 0;
  n0x2800 = 0x2800;
  v155 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( !v125 || !*(_QWORD *)v125 || *(int *)(a1 + 0xE8) < 0 )
  {
    v14 = 0xFFFFFFFF;
    goto LABEL_105;
  }
  n0x2800_1 = 0x2800;
  v146 = 0;
  v147 = 0;
  v149 = 0;
  v150 = 0;
  v151 = 0;
  v148 = 1;
  qword_149A0FD80(&n0x2800_1, 0, &Source, &Source, 0);
  sub_14676E6D0((__int64)v166, a1, *(_QWORD *)(a1 + 0x2C0), (int *)a3, a5, (__int64)v125, n10102016, 0);
  if ( !v167 )
  {
    v14 = 0xFFFFFFFF;
    if ( n10102016 >= 0 )
    {
      v15 = (volatile signed __int64 *)(a1 + 0xC8);
      v16 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
      if ( (v16 & 0x200000) != 0 )
        sub_1403CD0A0(
          (volatile signed __int64 *)(a1 + 0xC8),
          v16,
          (__int64)"CPhysicalEntity::AddGeometry",
          (__int64)"m_lockUpdate",
          1);
      value_by_id = *(_DWORD *)(a1 + 0x290);
      if ( (int)map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), n10102016, 0) < value_by_id )
      {
        memset(String, 0, sizeof(String));
        v18 = *(_QWORD *)(a1 + 0xD0);
        v19 = *(_DWORD *)(a1 + 0xEC);
        v20 = *(_QWORD *)(a1 + 0xC0);
        v21 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
        v22 = (const char *)sub_1468FA8F0(v21, v20, (__int16)v19, v19 >> 0x10, v18, 0);
        swprintf(
          String,
          0x400u,
          "Physics Debug Validation Error: Overriding existing part id %d in AddGeometry on '%s, please use SetParams(pe_"
          "params_part) instead'",
          n10102016,
          v22);
        LogTraceConditional((const char *)&format_string_, String);
        v23 = _InterlockedDecrement64(v15);
        if ( (v23 & 0x3FF) == 0 && (v23 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v23);
        goto LABEL_103;
      }
      v24 = _InterlockedDecrement64(v15);
      if ( (v24 & 0x3FF) == 0 && (v24 & 0xFFFF0000FFC00000uLL) != 0 )
        sub_1403CD3A0((volatile signed __int64 *)(a1 + 0xC8), v24);
    }
    v25 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v25 )
      sub_1403DE750(a1 + 0xC8, v25, 0, (__int64)"CPhysicalEntity::AddGeometry", (__int64)"m_lockUpdate", 1);
    v26 = *(_QWORD *)(a1 + 0x2C0);
    v27 = *(float *)(a3 + 0xC);
    v28 = *(float **)(a3 + 0x30);
    v29 = v26 + 0x10;
    v126 = NAN;
    if ( !v26 )
      v29 = 0;
    v127 = NAN;
    v128 = NAN;
    if ( (LODWORD(v27) & 0x7F800000) != 0x7F800000 )
    {
      v30 = *(float *)(a3 + 0x10);
      if ( (LODWORD(v30) & 0x7F800000) != 0x7F800000 )
      {
        v31 = *(float *)(a3 + 0x14);
        if ( (LODWORD(v31) & 0x7F800000) != 0x7F800000 )
        {
          v126 = v27;
          v127 = v30;
          v128 = v31;
        }
      }
    }
    v32 = 0;
    if ( v28 )
    {
      v33 = *v28;
      v34 = v28[1];
      v35 = v28[2];
      v36 = v28[3];
      v37 = v28[4];
      v38 = v28[5];
      v180 = v5;
      v32 = v159;
      v39 = v28[6];
      v179 = v6;
      v40 = v28[7];
      v178 = v7;
      v41 = v28[8];
      v177 = v8;
      v42 = v28[9];
      v176 = v9;
      v43 = v28[0xA];
      v175 = v10;
      v159[0xB] = v28[0xB];
      v159[6] = v39;
      v159[7] = v40;
      v159[8] = v41;
      v159[9] = v42;
      v159[0xA] = v43;
      v159[0] = v33;
      v159[1] = v34;
      v159[2] = v35;
      v159[3] = v36;
      v159[4] = v37;
      v159[5] = v38;
    }
    sub_146602B90(v165, v32, 0, &v126, (float *)(a3 + 0x18), (float *)(a3 + 0x28), &v125, v29);
    if ( (*(_QWORD *)&v126 & 0x7FF0000000000000LL) != 0x7FF0000000000000LL
      && (*(_QWORD *)&v127 & 0x7FF0000000000000LL) != 0x7FF0000000000000LL )
    {
      v44 = v128;
      if ( (*(_QWORD *)&v128 & 0x7FF0000000000000LL) != 0x7FF0000000000000LL )
      {
        _XMM0 = *(unsigned __int64 *)&v127;
        __asm { vcvtsd2ss xmm4, xmm0, xmm0 }
        _XMM0 = *(unsigned __int64 *)&v126;
        __asm { vcvtsd2ss xmm2, xmm0, xmm0 }
        *(float *)(a3 + 0xC) = *(float *)&_XMM2;
        _XMM1 = *(unsigned __int64 *)&v44;
        __asm { vcvtsd2ss xmm3, xmm1, xmm1 }
        *(float *)(a3 + 0x10) = *(float *)&_XMM4;
        *(float *)(a3 + 0x14) = *(float *)&_XMM3;
      }
    }
    v51 = *(float *)(a3 + 8);
    if ( (LODWORD(v51) & 0xFFA00000) != 0xFFA00000
      && ((float)(v51 * v51) < 0.0 || (float)(v51 * v51) >= 1.0e30 || v51 < -100000000.0 || v51 > 100000000.0)
      || (v52 = *(float *)(a3 + 4), (LODWORD(v52) & 0xFFA00000) != 0xFFA00000)
      && ((float)(v52 * v52) < 0.0 || (float)(v52 * v52) >= 1.0e30 || v52 < -100000000.0 || v52 > 100000000.0)
      || (*(_DWORD *)(a3 + 0xC) & 0xFFA00000) != 0xFFA00000
      && ((v53 = (__m128)*(unsigned int *)(a3 + 0xC),
           v53.m128_f32[0] = (float)((float)(*(float *)(a3 + 0xC) * *(float *)(a3 + 0xC))
                                   + (float)(*(float *)(a3 + 0x10) * *(float *)(a3 + 0x10)))
                           + (float)(*(float *)(a3 + 0x14) * *(float *)(a3 + 0x14)),
           v54 = _mm_sqrt_ps(_mm_shuffle_ps(v53, v53, 0)),
           v55 = _mm_shuffle_ps(v54, v54, 0xFF).m128_f32[0],
           (float)(v55 * v55) < 0.0)
       || (float)(v55 * v55) >= 1.0e30) )
    {
LABEL_100:
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
        if ( n0x200000 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000);
      }
      goto LABEL_103;
    }
    (*(void (__fastcall **)(_QWORD, char *))(**(_QWORD **)v125 + 0x30LL))(*(_QWORD *)v125, v170);
    if ( *(_QWORD *)(a1 + 0x2E8) )
      *(_QWORD *)(a3 + 0x48) |= 0x4000000000uLL;
    v56 = (*(__int64 (__fastcall **)(__int64, _QWORD, __int64))(*(_QWORD *)a1 + 0x50LL))(a1, (unsigned int)n10102016, 1);
    v57 = *(int *)(a1 + 0x290);
    v124 = v56;
    if ( *(_QWORD *)(a3 + 0xB0) == 0xFFFFFFFFFFFFFFFFuLL && *(_WORD *)(a1 + 0xEC) != 2 )
      *(_QWORD *)(a3 + 0xB0) = 0;
    v58 = (__int64 *)(a1 + 0x228);
    sub_1465E5BD0((__int64 *)(a1 + 0x228), v56, (__int64)v125, a3);
    v59 = *(_QWORD *)(a1 + 0x2C0);
    if ( ((*(unsigned __int8 *)(a1 + 0x384) >> 4) & 1) != *(_DWORD *)(v59 + 0x43C) > 0 )
    {
      sub_1403721C0((__int64)v171);
      v172 = v57;
      v173 = 1;
      sub_146631960(a1 + 0x228, (__int64)v171);
      v59 = *(_QWORD *)(a1 + 0x2C0);
    }
    v60 = *(_QWORD *)(a1 + 0x2A0);
    v132 = 0;
    v138 = 0;
    v61 = v57;
    v62 = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
    n0x1E = 0x1E;
    v63 = (*(_BYTE *)(a1 + 0xEC) & 2) == 0;
    v135 = v62;
    n2 = 0xFFFFFFFF;
    if ( !v63 )
      n2 = 2;
    n0x19 = 0x19;
    n2_1 = n2;
    v136 = *(_QWORD *)(a1 + 0xC0);
    v143 = -1.0;
    v139 = *(_QWORD *)(*(_QWORD *)(v60 + 0x80) + 0x10 * v57);
    v140 = *(_DWORD *)(*(_QWORD *)(v60 + 0x80) + 0x10 * v57 + 8);
    v141 = v124;
    v65 = *(float *)((v57 << 6) + *(_QWORD *)(v60 + 0x70) + 0x38);
    v144 = 1;
    v143 = v65;
    v142 = v65;
    sub_1467163B0(v59, 2, (__int64)&v132, 0);
    v66 = *(_QWORD *)(a1 + 0x2E8);
    v129 = v66;
    if ( v66 )
    {
      if ( *(_DWORD *)(v66 + 0x54) >= *(_DWORD *)(a1 + 0x290) + 1 )
      {
        v78 = (__m256i *)(*(_QWORD *)(v66 + 8) + 0x60 * v57);
        *v78 = (__m256i)0LL;
        v78[1] = (__m256i)0LL;
        v78[2] = (__m256i)0LL;
        v79 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL);
        if ( v79 )
        {
          v80 = v79 + 0x58 * v57;
          *(__m256i *)v80 = (__m256i)0LL;
          *(__m256i *)(v80 + 0x20) = (__m256i)0LL;
          *(_OWORD *)(v80 + 0x40) = 0;
          *(_QWORD *)(v80 + 0x50) = 0;
        }
      }
      else
      {
        v67 = v57 + 1;
        v68 = 1;
        if ( v67 > 1 )
          v68 = v67;
        v130 = v68;
        v69 = (char *)sub_1402A63D0(saturated_mul(v68, 0x60u));
        v70 = 0x60 * v61;
        *(__m256i *)&v69[v70] = (__m256i)0LL;
        *(__m256i *)&v69[v70 + 0x20] = (__m256i)0LL;
        *(__m256i *)&v69[v70 + 0x40] = (__m256i)0LL;
        v71 = v61;
        if ( v67 < (int)v61 )
          v71 = v67;
        v72 = v129;
        v131 = v71;
        __asm { vzeroupper }
        memcpy(v69, *(const void **)(v129 + 8), 0x60LL * v71);
        sub_1402A63C0(*(_QWORD *)(v72 + 8));
        *(_QWORD *)(v72 + 8) = v69;
        v73 = *(_QWORD *)(a1 + 0x2E8);
        if ( *(_QWORD *)(v73 + 0x20) )
        {
          v74 = (char *)sub_1402A63D0(saturated_mul(v130, 0x58u));
          Size = 0x58 * v131;
          v76 = v74;
          v77 = (__m256i *)&v74[0x58 * v61];
          *v77 = (__m256i)0LL;
          v77[1] = (__m256i)0LL;
          *(_OWORD *)v77[2].m256i_i8 = 0;
          v77[2].m256i_i64[2] = 0;
          __asm { vzeroupper }
          memcpy(v74, *(const void **)(v73 + 0x20), Size);
          sub_1402A63C0(*(_QWORD *)(v73 + 0x20));
          *(_QWORD *)(v73 + 0x20) = v76;
        }
        v58 = (__int64 *)(a1 + 0x228);
        LODWORD(v57) = v61;
        *(_DWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x54LL) = *(_DWORD *)(a1 + 0x290) + 1;
      }
    }
    v81 = v58[1];
    v82 = *(double **)(v58[0xC] + 8 * v61);
    v83 = *(float *)(0x20 * v61 + v81 + 0x14);
    v84 = *(float *)(0x20 * v61 + v81 + 0x18);
    v82[3] = *(float *)(0x20 * v61 + v81 + 0x10);
    v82[4] = v83;
    v82[5] = v84;
    v85 = 6 * v61;
    v86 = *(_QWORD *)(v58[0xC] + 8 * v61);
    *(_OWORD *)v86 = *(_OWORD *)(v86 + 0x18);
    *(double *)(v86 + 0x10) = *(double *)(v86 + 0x28);
    v87 = *(_QWORD *)(v58[0xC] + 8 * v61);
    v88 = *v58;
    *(__m256i *)(v88 + 8 * v85) = *(__m256i *)v87;
    *(_OWORD *)(v88 + 8 * v85 + 0x20) = *(_OWORD *)(v87 + 0x20);
    if ( (*(_QWORD *)(a3 + 0x48) & 0x4000000000000LL) != 0 )
    {
      __asm { vzeroupper }
      sub_146628210(
        a1 + 0x228,
        a1 + 0x1C0,
        a1 + 0x1D8,
        *(float *)(a1 + 0x200),
        *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x84A04LL));
    }
    v89 = *(_QWORD *)(a1 + 0x2D8);
    n0x10 = 0;
    if ( v89 )
    {
      switch ( v125[0x13] >> 0x1E )
      {
        case 1:
          __asm { vzeroupper }
          sub_1465AAC40((__int64 *)(v89 + 0xD0), *(_DWORD *)(v89 + 0x1D8) + 1);
          *(_DWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D8LL)
                    + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL)
                    + 0x64) = v57;
          v91 = v124;
          *(_DWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D8LL)
                    + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL)
                    + 0x60) = v124;
          *(_QWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D8LL)
                    + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL)) = *(_QWORD *)(*(_QWORD *)v125 + 0x38LL);
          v101 = *(_QWORD *)(a1 + 0x2D8);
          v102 = *(_QWORD *)(v101 + 0xD0);
          v103 = 0x68LL * *(int *)(v101 + 0x1D8);
          v104 = *(_DWORD **)(v103 + v102);
          *(_DWORD *)(v103 + v102 + 0x40) = v104[0x1C];
          *(_DWORD *)(v103 + v102 + 0x44) = v104[0x1D];
          *(_DWORD *)(v103 + v102 + 0x48) = v104[0x1E];
          *(_DWORD *)(v103 + v102 + 0x4C) = v104[0x1F];
          *(_DWORD *)(v103 + v102 + 0x50) = v104[0x20];
          *(_DWORD *)(v103 + v102 + 0x54) = v104[0x21];
          *(_DWORD *)(v103 + v102 + 0x58) = v104[0x22];
          *(_DWORD *)(v103 + v102 + 0x5C) = 0x3F800000;
          v105 = *(_QWORD *)(a1 + 0x2D8);
          v106 = *(void (__fastcall ****)(_QWORD))(0x68LL * (int)(*(_DWORD *)(v105 + 0x1D8))++ + *(_QWORD *)(v105 + 0xD0));
          (**v106)(v106);
          n0x10 = 0x10;
          goto LABEL_73;
        case 2:
          __asm { vzeroupper }
          sub_1465AAC40((__int64 *)(v89 + 0x78), *(_DWORD *)(v89 + 0x1D4) + 1);
          *(_DWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL)
                    + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL)
                    + 0x64) = v57;
          v91 = v124;
          *(_DWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL)
                    + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL)
                    + 0x60) = v124;
          *(_QWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL)
                    + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL)) = *(_QWORD *)(*(_QWORD *)v125 + 0x38LL);
          v95 = (_DWORD *)(*(__int64 (__fastcall **)(_QWORD, char *))(**(_QWORD **)(0x68LL
                                                                                  * *(int *)(*(_QWORD *)(a1 + 0x2D8)
                                                                                           + 0x1D4LL)
                                                                                  + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8)
                                                                                              + 0x78LL))
                                                                    + 0x68LL))(
                            *(_QWORD *)(0x68LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL)
                                      + *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL)),
                            v169);
          v96 = *(_QWORD *)(a1 + 0x2D8);
          v97 = *(_QWORD *)(v96 + 0x78);
          v98 = 0x68LL * *(int *)(v96 + 0x1D4);
          *(_DWORD *)(v98 + v97 + 0x40) = *v95;
          *(_DWORD *)(v98 + v97 + 0x44) = v95[1];
          *(_DWORD *)(v98 + v97 + 0x48) = v95[2];
          *(_DWORD *)(v98 + v97 + 0x4C) = v95[3];
          *(_DWORD *)(v98 + v97 + 0x50) = v95[4];
          *(_DWORD *)(v98 + v97 + 0x54) = v95[5];
          *(_DWORD *)(v98 + v97 + 0x58) = v95[6];
          *(_DWORD *)(v98 + v97 + 0x5C) = 0x3F800000;
          v99 = *(_QWORD *)(a1 + 0x2D8);
          v100 = *(_QWORD *)(0x68LL * (int)(*(_DWORD *)(v99 + 0x1D4))++ + *(_QWORD *)(v99 + 0x78));
          InterlockedIncrement_w_1(v100);
          n0x10 = 0x20;
          goto LABEL_73;
        case 3:
          __asm { vzeroupper }
          sub_1465AAC70((__int64 *)(v89 + 0x20), *(_DWORD *)(v89 + 0x1D0) + 1);
          *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                    + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)
                    + 0x44) = v57;
          v91 = v124;
          *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                    + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)
                    + 0x40) = v124;
          *(_QWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL)
                    + 0x48LL * *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL)) = *(_QWORD *)v125;
          v92 = *(_QWORD *)(a1 + 0x2D8);
          v93 = *(int *)(v92 + 0x1D0);
          v94 = *(_QWORD *)(*(_QWORD *)(v92 + 0x20) + 0x48 * v93);
          *(_DWORD *)(v92 + 0x1D0) = v93 + 1;
          (*(void (__fastcall **)(__int64))(*(_QWORD *)v94 + 0x10LL))(v94);
          n0x10 = 0x40;
LABEL_73:
          if ( *(_BYTE *)(a3 + 0xAC) )
          {
            v107 = *(_QWORD *)(a1 + 0x2C0);
            v108 = v107 + 0x10;
            if ( !v107 )
              v108 = 0;
            __asm { vzeroupper }
            (*(void (__fastcall **)(__int64, _DWORD *))(*(_QWORD *)v108 + 0x60LL))(v108, v125);
          }
          if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
          {
            if ( (*(_DWORD *)(a1 + 0x208) & 0x400) != 0 )
            {
              *(_WORD *)(a1 + 0x100) |= 1u;
              __asm { vzeroupper }
              sub_14693A310(*(_QWORD *)(a1 + 0x2C0), a1);
            }
            v109 = *(_QWORD *)(a1 + 0x2C0);
            *(_WORD *)(a1 + 0x106) |= n0x10 | 3;
            __asm { vzeroupper }
            sub_14693A1E0(v109, a1);
          }
          else
          {
            __asm { vzeroupper }
            v110 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, v160);
            sub_14660C430(a1 + 0x228, v110, 0xFFFFFFFF);
            if ( *(_DWORD *)(a3 + 0x74) )
            {
              (*(void (__fastcall **)(__int64, __int128 *, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, &v161, 3);
              sub_14693D8B0(*(_QWORD *)(a1 + 0x2C0), a1, 1);
              v111 = v162;
              *(_OWORD *)(a1 + 0x10) = v161;
              v112 = v163;
              *(double *)(a1 + 0x20) = v111;
              v113 = v164;
              *(_OWORD *)(a1 + 0x28) = v112;
              *(double *)(a1 + 0x38) = v113;
            }
            v114 = *(_QWORD *)(a1 + 0x2D8);
            if ( v114 )
              sub_1465E2DD0(v114, n0x10);
          }
          n0x40000000 = v125[0x13];
          if ( (n0x40000000 & 0x10000000) != 0
            && (n0x40000000 < 0x40000000 || *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x3F4LL)) )
          {
            if ( !*(_QWORD *)(a1 + 0x220) )
            {
              *(_QWORD *)(a1 + 0x220) = sub_1402A63D0(0x10u);
              v116 = sub_1402A63D0(0x68u);
              v117 = v116;
              if ( v116 )
              {
                *(_QWORD *)v116 = 0;
                *(_QWORD *)(v116 + 8) = 0;
                *(_QWORD *)(v116 + 0x10) = 0;
                *(_QWORD *)(v116 + 0x18) = 0;
                *(_QWORD *)(v116 + 0x20) = 0;
                *(_QWORD *)(v116 + 0x28) = 0;
                *(_DWORD *)(v116 + 0x30) = 0x40000000;
                *(_QWORD *)(v116 + 0x38) = 0xFFFFFFFFFFFFFFFFuLL;
                *(_QWORD *)(v116 + 0x40) = 0;
                *(_QWORD *)(v116 + 0x48) = 0;
                *(_DWORD *)(v116 + 0x50) = 0;
                *(_DWORD *)(v116 + 0x5C) = 0;
                *(_WORD *)(v116 + 0x60) = 0;
                *(_DWORD *)(v116 + 0x54) = 0xFFBFFFFF;
                *(_DWORD *)(v116 + 0x58) = 0x80000000;
              }
              else
              {
                v117 = 0;
              }
              **(_QWORD **)(a1 + 0x220) = v117;
              v118 = sub_1402A63D0(0x68u);
              v119 = v118;
              if ( v118 )
              {
                *(_QWORD *)v118 = 0;
                *(_QWORD *)(v118 + 0x18) = 0;
                *(_QWORD *)(v118 + 8) = 0;
                *(_QWORD *)(v118 + 0x20) = 0;
                *(_QWORD *)(v118 + 0x10) = 0;
                *(_QWORD *)(v118 + 0x28) = 0;
                *(_DWORD *)(v118 + 0x30) = 0x40000000;
                *(_QWORD *)(v118 + 0x38) = 0xFFFFFFFFFFFFFFFFuLL;
                *(_QWORD *)(v118 + 0x40) = 0;
                *(_QWORD *)(v118 + 0x48) = 0;
                *(_DWORD *)(v118 + 0x50) = 0;
                *(_DWORD *)(v118 + 0x5C) = 0;
                *(_WORD *)(v118 + 0x60) = 0;
                *(_DWORD *)(v118 + 0x54) = 0xFFBFFFFF;
                *(_DWORD *)(v118 + 0x58) = 0x80000000;
              }
              else
              {
                v119 = 0;
              }
              *(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL) = v119;
              *(_DWORD *)(**(_QWORD **)(a1 + 0x220) + 0x50LL) = 1;
              *(_BYTE *)(**(_QWORD **)(a1 + 0x220) + 0x61LL) = 1;
            }
            for ( n0x10_1 = 0; n0x10_1 < 0x10; n0x10_1 += 8 )
              sub_1468FAE40(
                *(_QWORD *)(*(_QWORD *)(a1 + 0x220) + n0x10_1),
                a1,
                (unsigned int)(*(_DWORD *)(a1 + 0x290) - 1));
            ++*(_DWORD *)(a1 + 0x2A8);
          }
          sub_1468C2190(a1 + 0x2F8);
          v14 = v91;
          goto LABEL_100;
      }
    }
    v91 = v124;
    goto LABEL_73;
  }
  v14 = v168;
LABEL_103:
  v149 = __rdtsc();
  qword_149A0FD88(&n0x2800_1);
LABEL_105:
  v156 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v14;
}

// --- End Function: sub_1468BCCE0 (0x1468BCCE0) ---

// --- Function: sub_1468BDE10 (0x1468BDE10) ---
__int64 __fastcall sub_1468BDE10(__int64 a1)
{
  _InterlockedIncrement((volatile signed __int32 *)(a1 + 0x378));
  return *(unsigned int *)(a1 + 0x378);
}

// --- End Function: sub_1468BDE10 (0x1468BDE10) ---

// --- Function: sub_1468BDE30 (0x1468BDE30) ---
__int64 __fastcall sub_1468BDE30(__int64 *a1)
{
  __int64 v1; // rax
  unsigned __int64 v3; // [rsp+30h] [rbp+8h] BYREF

  v1 = *a1;
  v3 = 0xFFFFFFFFFFFFFFFFuLL;
  return (*(__int64 (__fastcall **)(__int64 *, unsigned __int64 *))(v1 + 0x160))(a1, &v3);
}

// --- End Function: sub_1468BDE30 (0x1468BDE30) ---

// --- Function: sub_1468BDE50 (0x1468BDE50) ---
__int64 __fastcall sub_1468BDE50(__int64 a1, unsigned int a2)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  __int128 v4; // xmm8
  __int128 v5; // xmm9
  __int128 v6; // xmm10
  __int128 v7; // xmm11
  __int128 v8; // xmm12
  int v9; // esi
  __int64 v12; // r8
  __int64 v13; // rcx
  volatile signed __int64 *v14; // r14
  volatile signed __int64 *v15; // r15
  int n0x80; // r13d
  const char *p_m_lockColliders; // rdx
  __int64 v18; // rax
  __int64 v19; // rax
  char v20; // r12
  __int64 v21; // rdi
  __int64 v22; // rcx
  char v23; // di
  unsigned __int64 n0x200000; // rax
  unsigned __int64 n0x200000_1; // rax
  unsigned __int64 n0x200000_2; // rax
  unsigned __int64 n0x200000_3; // rax
  unsigned int v28; // r14d
  __int64 v29; // r10
  __int128 v30; // xmm2
  _QWORD *ThreadLocalStoragePointer; // rax
  float v32; // xmm0_4
  __int128 v33; // xmm7
  __int64 v34; // rax
  __int128 v35; // xmm8
  float v36; // xmm9_4
  double v37; // xmm10_8
  __int128 v39; // kr00_16
  double v41; // xmm6_8
  double v42; // xmm11_8
  double v45; // xmm5_8
  double v46; // xmm12_8
  double v49; // xmm4_8
  int v50; // eax
  __int64 i; // rdi
  __int64 v52; // rcx
  __int64 v53; // r8
  __int64 v54; // rax
  int v55; // eax
  __int64 v56; // rdi
  __int64 v57; // rdx
  int v58; // edi
  __int64 v59; // rsi
  __int64 v60; // rcx
  int v62; // [rsp+30h] [rbp-D0h]
  int n0x2800; // [rsp+50h] [rbp-B0h] BYREF
  __int64 v64; // [rsp+54h] [rbp-ACh]
  int v65; // [rsp+5Ch] [rbp-A4h]
  __int64 v66; // [rsp+60h] [rbp-A0h]
  unsigned __int64 v67; // [rsp+68h] [rbp-98h]
  __int64 v68; // [rsp+70h] [rbp-90h]
  __int64 v69; // [rsp+78h] [rbp-88h]
  double v70[3]; // [rsp+A0h] [rbp-60h] BYREF
  double v71[3]; // [rsp+B8h] [rbp-48h] BYREF
  __int128 v72; // [rsp+D0h] [rbp-30h]
  __int128 v73; // [rsp+E0h] [rbp-20h]
  __int128 v74; // [rsp+F0h] [rbp-10h]
  __int128 v75; // [rsp+100h] [rbp+0h]
  __int128 v76; // [rsp+110h] [rbp+10h]
  __int128 v77; // [rsp+120h] [rbp+20h]
  __int128 v78; // [rsp+130h] [rbp+30h]
  int v80; // [rsp+1A0h] [rbp+A0h]
  __int64 v81; // [rsp+1A8h] [rbp+A8h] BYREF

  v9 = 0;
  n0x2800 = 0x2800;
  v64 = 0;
  v65 = 0;
  v67 = 0;
  v68 = 0;
  v69 = 0;
  v66 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v13 = *(_QWORD *)(a1 + 0x2F0);
  if ( v13 && !*(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x81994LL) )
  {
    *(_QWORD *)(a1 + 0x2F0) = 0;
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v13 + 0x168LL))(v13, 0);
  }
  if ( *(int *)(a1 + 0xF4) <= 3 )
  {
    if ( !*(_DWORD *)(a1 + 0x148) || (a2 & 0x10) != 0 )
    {
      v28 = a2 & 0xFFFFFFEF;
    }
    else
    {
      v14 = (volatile signed __int64 *)(a1 + 0xC8);
      v15 = (volatile signed __int64 *)(a1 + 0x150);
      n0x80 = 0;
      v80 = 0;
      while ( 1 )
      {
        p_m_lockColliders = "m_lockColliders";
        v18 = _InterlockedCompareExchange64(v14, 0x200000, 0);
        if ( v18 )
        {
          sub_1403DE750(a1 + 0xC8, v18, 0, (__int64)"CPhysicalEntity::AlertNeighbourhoodND", (__int64)"m_lockUpdate", 1);
          p_m_lockColliders = "m_lockColliders";
        }
        v19 = _InterlockedCompareExchange64(v15, 0x200000, 0);
        if ( v19 )
          sub_1403DE750(
            a1 + 0x150,
            v19,
            0,
            (__int64)"CPhysicalEntity::AlertNeighbourhoodND",
            (__int64)"m_lockColliders",
            1);
        v20 = 1;
        if ( *(int *)(a1 + 0x148) <= 0 )
          break;
        v21 = 0;
        do
        {
          v22 = *(_QWORD *)(v21 + *(_QWORD *)(a1 + 0x140));
          if ( v22 && v22 != a1 )
          {
            LOBYTE(v12) = 1;
            if ( (*(unsigned int (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)v22 + 0x230LL))(v22, a1, v12) )
            {
              (*(void (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v21 + *(_QWORD *)(a1 + 0x140)) + 0x268LL))(
                *(_QWORD *)(v21 + *(_QWORD *)(a1 + 0x140)),
                1);
              *(_QWORD *)(v21 + *(_QWORD *)(a1 + 0x140)) = 0;
            }
            else
            {
              v20 = 0;
            }
          }
          ++v9;
          v21 += 8;
        }
        while ( v9 < *(_DWORD *)(a1 + 0x148) );
        if ( v20 )
          break;
        ++n0x80;
        v9 = 0;
        if ( n0x80 <= 0x80 )
        {
          v23 = 0;
        }
        else
        {
          n0x80 = 0;
          if ( ++v80 > 0x20 )
            LogFatalError("physics deadlock trying to remove colliders during AlertNeighbourhoodND", p_m_lockColliders);
          v23 = 1;
        }
        if ( a1 != 0xFFFFFFFFFFFFFEB0uLL )
        {
          n0x200000 = _InterlockedCompareExchange64(v15, 0, 0x200000);
          if ( n0x200000 != 0x200000 )
            sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x150), n0x200000);
        }
        if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
        {
          n0x200000_1 = _InterlockedCompareExchange64(v14, 0, 0x200000);
          if ( n0x200000_1 != 0x200000 )
            sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_1);
        }
        if ( v23 )
          Sleep(1u);
        else
          _mm_pause();
      }
      v9 = 0;
      *(_DWORD *)(a1 + 0x148) = 0;
      if ( a1 != 0xFFFFFFFFFFFFFEB0uLL )
      {
        n0x200000_2 = _InterlockedCompareExchange64(v15, 0, 0x200000);
        if ( n0x200000_2 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x150), n0x200000_2);
      }
      if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
      {
        n0x200000_3 = _InterlockedCompareExchange64(v14, 0, 0x200000);
        if ( n0x200000_3 != 0x200000 )
          sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_3);
      }
      v28 = a2;
    }
    if ( ((*(_BYTE *)(a1 + 0x208) & 0x20) == 0 || *(int *)(a1 + 0xE8) < 0)
      && (*(int *)(a1 + 0x378) > 0
       && *(int *)(a1 + 0xF4) < 3
       && *(int *)(a1 + 0x148) > 0
       && (*(_DWORD *)(a1 + 0x208) & 0x20000) == 0
       || (*(_DWORD *)(a1 + 0x208) & 0x100000) != 0) )
    {
      v29 = *(_QWORD *)(a1 + 0x2C0);
      v30 = *(unsigned __int64 *)(a1 + 0x28);
      ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
      v32 = *(float *)(v29 + 0x13C);
      v78 = v2;
      v77 = v3;
      v33 = *(unsigned __int64 *)(a1 + 0x30);
      v34 = ThreadLocalStoragePointer[TlsIndex];
      v76 = v4;
      v35 = *(unsigned __int64 *)(a1 + 0x38);
      v75 = v5;
      v36 = v32 * 4.0;
      v74 = v6;
      v37 = *(double *)(a1 + 0x10);
      *((_QWORD *)&v39 + 1) = *((_QWORD *)&v30 + 1);
      *(double *)&v39 = *(double *)&v30 - v37;
      _XMM0 = v39;
      __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
      v41 = (float)((float)(*(float *)&_XMM1 * 0.001) + v36);
      v73 = v7;
      v42 = *(double *)(a1 + 0x18);
      *((_QWORD *)&v39 + 1) = *((_QWORD *)&v33 + 1);
      *(double *)&v39 = *(double *)&v33 - v42;
      _XMM0 = v39;
      __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
      v70[0] = v41 + *(double *)&v30;
      v45 = (float)((float)(*(float *)&_XMM1 * 0.001) + v36);
      v70[1] = v45 + *(double *)&v33;
      v72 = v8;
      v46 = *(double *)(a1 + 0x20);
      *((_QWORD *)&v39 + 1) = *((_QWORD *)&v35 + 1);
      *(double *)&v39 = *(double *)&v35 - v46;
      _XMM1 = v39;
      __asm { vcvtsd2ss xmm2, xmm1, xmm1 }
      v49 = (float)((float)(*(float *)&_XMM2 * 0.001) + v36);
      v70[2] = v49 + *(double *)&v35;
      v71[0] = v37 - v41;
      v62 = *(_DWORD *)(v34 + 0x800);
      v71[1] = v42 - v45;
      v71[2] = v46 - v49;
      v50 = sub_146922A80(v29, (unsigned int)v71, (unsigned int)v70, (unsigned int)&v81, 0x5E, a1, v62, 0, 0) - 1;
      for ( i = v50; i >= 0; --i )
      {
        v52 = *(_QWORD *)(v81 + 8 * i);
        if ( v52 != a1 )
        {
          if ( (*(_DWORD *)(a1 + 0x208) & 0x20000) == 0 )
            (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v52 + 0x268LL))(v52, 1);
          if ( !v28
            && (*(unsigned int (__fastcall **)(_QWORD, __int64))(**(_QWORD **)(v81 + 8 * i) + 0x240LL))(
                 *(_QWORD *)(v81 + 8 * i),
                 a1) )
          {
            LOBYTE(v53) = 1;
            (*(void (__fastcall **)(_QWORD, __int64, __int64))(**(_QWORD **)(v81 + 8 * i) + 0x218LL))(
              *(_QWORD *)(v81 + 8 * i),
              a1,
              v53);
          }
        }
      }
    }
    v54 = *(_QWORD *)(a1 + 0x2E8);
    if ( v54 && *(_QWORD *)(v54 + 0x20) )
    {
      v55 = *(_DWORD *)(a1 + 0x290);
      if ( v55 > 0 )
      {
        v56 = 0;
        do
        {
          v57 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL);
          if ( *(_QWORD *)(v57 + v56) )
            sub_14691E890(*(_QWORD *)(a1 + 0x2C0), *(_QWORD *)(v57 + v56 + 8), 0);
          v55 = *(_DWORD *)(a1 + 0x290);
          ++v9;
          v56 += 0x58;
        }
        while ( v9 < v55 );
      }
      if ( !v28 )
      {
        v58 = 0;
        if ( v55 > 0 )
        {
          v59 = 0;
          do
          {
            v60 = *(_QWORD *)(v59 + *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL));
            if ( v60 )
              sub_1402A63C0(v60);
            ++v58;
            v59 += 0x58;
          }
          while ( v58 < *(_DWORD *)(a1 + 0x290) );
        }
        sub_1402A63C0(*(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL));
        *(_QWORD *)(*(_QWORD *)(a1 + 0x2E8) + 0x20LL) = 0;
      }
    }
  }
  v67 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_1468BDE50 (0x1468BDE50) ---

// --- Function: sub_1468C1E40 (0x1468C1E40) ---
bool __fastcall sub_1468C1E40(__int64 a1, double *a2, unsigned __int64 *a3, unsigned __int8 a4, int a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  float v12; // xmm5_4
  __int128 v13; // xmm2
  double v18; // xmm9_8
  __int128 v19; // kr00_16
  double v20; // xmm5_8
  __int128 v24; // xmm1
  int v25; // eax
  int v32; // eax
  BOOL v33; // eax
  __int64 v36; // rcx
  __int128 v48; // [rsp+30h] [rbp-108h] BYREF
  double v49; // [rsp+40h] [rbp-F8h]
  float v50; // [rsp+48h] [rbp-F0h]
  float v51; // [rsp+4Ch] [rbp-ECh]
  float v52; // [rsp+50h] [rbp-E8h]
  double v53[3]; // [rsp+58h] [rbp-E0h] BYREF
  __m256 v54; // [rsp+70h] [rbp-C8h] BYREF
  float v55; // [rsp+90h] [rbp-A8h]
  int v56; // [rsp+94h] [rbp-A4h]
  double v57; // [rsp+98h] [rbp-A0h]
  int v58; // [rsp+A0h] [rbp-98h]
  __int64 v59; // [rsp+A4h] [rbp-94h]
  int v60; // [rsp+ACh] [rbp-8Ch]
  __int128 v61; // [rsp+B0h] [rbp-88h]
  __int128 v62; // [rsp+C0h] [rbp-78h]
  __int128 v63; // [rsp+D0h] [rbp-68h]
  __int128 v64; // [rsp+E0h] [rbp-58h]
  __int128 v65; // [rsp+F0h] [rbp-48h]
  __int128 v66; // [rsp+100h] [rbp-38h]
  __int128 v67; // [rsp+110h] [rbp-28h]

  v12 = *(float *)(a1 + 0x1E8);
  v13 = *(unsigned int *)(a1 + 0x1F4);
  v67 = v5;
  v66 = v6;
  v65 = v7;
  v64 = v8;
  v18 = (float)(v12 - *(float *)&v13);
  v63 = v9;
  v62 = v10;
  *((_QWORD *)&v19 + 1) = *((_QWORD *)&v13 + 1);
  v61 = v11;
  v20 = (float)(*(float *)&v13 + v12);
  *(double *)&v19 = v20 + v18 - (*a2 + *a2);
  *((_QWORD *)&v19 + 1) = (v19 & (unsigned __int128)0x7FFFFFFFFFFFFFFFuLL) >> 0x40;
  *(double *)&v19 = fabs(*(double *)&v19) - (v20 - v18);
  _XMM4 = v19;
  __asm { vmaxsd  xmm5, xmm4, xmm1 }
  __asm { vmaxsd  xmm4, xmm5, xmm0 }
  if ( *(double *)&_XMM4 < 0.0 )
    goto LABEL_3;
  v24 = *(_OWORD *)a2;
  v57 = *(double *)(a1 + 0x1E8);
  v25 = *(_DWORD *)(a1 + 0x1F0);
  v59 = *(_QWORD *)(a1 + 0x1F4);
  v54 = ymmword_148199FE0;
  v48 = v24;
  _XMM1 = *a3;
  v55 = 1.0;
  __asm { vcvtpd2ps xmm1, xmm1 }
  v49 = a2[2];
  _XMM0 = a3[1];
  v50 = *(float *)&_XMM1;
  _XMM1 = a3[2];
  __asm
  {
    vcvtpd2ps xmm0, xmm0
    vcvtpd2ps xmm1, xmm1
  }
  v58 = v25;
  v32 = *(_DWORD *)(a1 + 0x1FC);
  v51 = *(float *)&_XMM0;
  v52 = *(float *)&_XMM1;
  v60 = v32;
  v56 = 0;
  __asm { vzeroupper }
  v33 = sub_1466E0CD0((__int64)&v48, (__int64)&v54, 0, 0);
  if ( v33 )
  {
LABEL_3:
    _XMM0 = *a3;
    _XMM2 = a3[1];
    v36 = *(_QWORD *)(a1 + 0x2D8);
    __asm { vcvtpd2ps xmm0, xmm0 }
    __asm { vcvtpd2ps xmm2, xmm2 }
    v53[0] = *(float *)&_XMM0;
    _XMM1 = a3[2];
    __asm { vcvtpd2ps xmm1, xmm1 }
    v53[1] = *(float *)&_XMM2;
    _XMM0 = *(unsigned __int64 *)a2;
    v53[2] = *(float *)&_XMM1;
    _XMM2 = *((unsigned __int64 *)a2 + 1);
    __asm { vcvtpd2ps xmm0, xmm0 }
    *(double *)&v48 = *(float *)&_XMM0;
    _XMM1 = *((unsigned __int64 *)a2 + 2);
    __asm { vcvtpd2ps xmm2, xmm2 }
    __asm { vcvtpd2ps xmm1, xmm1 }
    v49 = *(float *)&_XMM1;
    *((double *)&v48 + 1) = *(float *)&_XMM2;
    LOBYTE(v33) = (unsigned int)sub_1465C09F0(v36, (double *)&v48, v53, a4, a5) != 0;
  }
  return v33;
}

// --- End Function: sub_1468C1E40 (0x1468C1E40) ---

// --- Function: sub_1468C2420 (0x1468C2420) ---
__int64 __fastcall sub_1468C2420(__int64 a1, __int64 a2, unsigned int a3)
{
  __int64 n0x10; // rdi
  char v7; // bp
  volatile signed __int64 *v8; // rdi
  __int64 v9; // rax
  __int64 v10; // rax
  unsigned __int64 n0x200000; // rax
  int n0x2800; // [rsp+30h] [rbp-68h] BYREF
  __int64 v14; // [rsp+34h] [rbp-64h]
  int v15; // [rsp+3Ch] [rbp-5Ch]
  __int64 v16; // [rsp+40h] [rbp-58h]
  unsigned __int64 v17; // [rsp+48h] [rbp-50h]
  __int64 v18; // [rsp+50h] [rbp-48h]
  __int64 v19; // [rsp+58h] [rbp-40h]

  n0x2800 = 0x2800;
  v14 = 0;
  v15 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v16 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( *(_QWORD *)(a1 + 0x220) )
  {
    for ( n0x10 = 0; n0x10 < 0x10; n0x10 += 8 )
      sub_1468FB910(*(_QWORD *)(n0x10 + *(_QWORD *)(a1 + 0x220)), a1, 0);
  }
  if ( (*(_BYTE *)(a1 + 0x384) & 0x20) != 0 )
  {
    if ( (a3 & 2) != 0 || !*(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x49CLL) )
    {
      v7 = 0;
      v8 = (volatile signed __int64 *)(a1 + 0xC8);
    }
    else
    {
      v7 = 1;
      v8 = (volatile signed __int64 *)(a1 + 0xC8);
      v9 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
      if ( v9 )
      {
        sub_1403DE750(a1 + 0xC8, v9, 0, (__int64)"CPhysicalEntity::ComputeBBox", (__int64)"m_lockUpdate", 1);
        sub_1468C2CE0(a1, a2, a3);
        goto LABEL_17;
      }
    }
    sub_1468C2CE0(a1, a2, a3);
    goto LABEL_17;
  }
  if ( (a3 & 2) != 0 || !*(_DWORD *)(a1 + 0x290) )
  {
    v7 = 0;
    v8 = (volatile signed __int64 *)(a1 + 0xC8);
  }
  else
  {
    v7 = 1;
    v8 = (volatile signed __int64 *)(a1 + 0xC8);
    v10 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v10 )
      sub_1403DE750(a1 + 0xC8, v10, 0, (__int64)"CPhysicalEntity::ComputeBBox", (__int64)"m_lockUpdate", 1);
  }
  sub_1468C2610(a1, a2, a3);
LABEL_17:
  if ( v8 )
  {
    if ( v7 )
    {
      n0x200000 = _InterlockedCompareExchange64(v8, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v8, n0x200000);
    }
  }
  v17 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_1468C2420 (0x1468C2420) ---

// --- Function: sub_1468C2610 (0x1468C2610) ---
__int64 __fastcall sub_1468C2610(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int64 v6; // rsi
  __int64 v7; // rcx
  __int64 result; // rax
  float v9; // xmm0_4
  float v10; // xmm3_4
  float v11; // xmm5_4
  float v12; // xmm4_4
  float v13; // xmm2_4
  float v14; // xmm1_4
  float v15; // xmm0_4
  __int64 *v18; // rcx
  __int64 n2; // rdx
  float v24; // xmm14_4
  float v25; // xmm11_4
  __int128 v26; // xmm12
  float v27; // xmm4_4
  float v28; // xmm15_4
  float v29; // xmm13_4
  float v30; // xmm8_4
  float v31; // xmm10_4
  float v32; // xmm9_4
  float v33; // xmm7_4
  float v34; // xmm6_4
  float v35; // xmm4_4
  float v36; // xmm5_4
  float v37; // xmm1_4
  float v38; // xmm13_4
  float v39; // xmm15_4
  float v40; // xmm1_4
  __int128 v41; // kr00_16
  __int128 v42; // xmm7
  float v43; // xmm3_4
  __int128 n0x3F800000_1; // xmm12
  __int128 n0x3F800000; // kr00_16
  float v46; // xmm4_4
  float v47; // xmm11_4
  float v48; // xmm9_4
  float v49; // xmm10_4
  __int128 n0x3F800000_2; // kr00_16
  float v51; // xmm6_4
  float v52; // xmm8_4
  float v53; // xmm5_4
  __int128 v54; // kr00_16
  __int128 v55; // xmm14
  __int128 n0x3F800000_3; // kr00_16
  __int128 v57; // kr00_16
  __int128 v58; // xmm4
  __int128 v59; // kr00_16
  float v62; // xmm0_4
  __int128 v65; // kr00_16
  float v66; // xmm1_4
  __int128 v69; // xmm3
  double v82; // xmm1_8
  __int128 v83; // xmm0
  double v84; // xmm1_8
  double v85; // xmm1_8
  float v86; // [rsp+30h] [rbp-148h]
  float v87; // [rsp+34h] [rbp-144h]
  float v88; // [rsp+38h] [rbp-140h]
  float v89; // [rsp+3Ch] [rbp-13Ch]
  float v90; // [rsp+40h] [rbp-138h]
  __int128 v91; // [rsp+78h] [rbp-100h] BYREF
  double v92; // [rsp+88h] [rbp-F0h]
  __int128 v93; // [rsp+90h] [rbp-E8h]
  double v94; // [rsp+A0h] [rbp-D8h]
  double v95; // [rsp+A8h] [rbp-D0h]
  double v96; // [rsp+B0h] [rbp-C8h]
  double v97; // [rsp+B8h] [rbp-C0h]
  float v98; // [rsp+180h] [rbp+8h]
  float v99; // [rsp+198h] [rbp+20h]

  if ( *(_DWORD *)(a1 + 0x290) )
  {
    v6 = *(_QWORD *)(a1 + 0x210);
    sub_146629E10(a1 + 0x228, v6, v6 + 0x18, a4, (__int64)&v91);
    v7 = *(_QWORD *)(a1 + 0x2A0);
    *(double *)(a1 + 0x1E8) = *(double *)(v7 + 0x100);
    *(_DWORD *)(a1 + 0x1F0) = *(_DWORD *)(v7 + 0x108);
    *(double *)(a1 + 0x1F4) = *(double *)(v7 + 0x110);
    result = *(unsigned int *)(v7 + 0x118);
    v9 = *(float *)(a1 + 0x200);
    *(_DWORD *)(a1 + 0x1FC) = result;
    v10 = v9 * *(float *)(a1 + 0x1FC);
    v11 = v9 * *(float *)(a1 + 0x1F4);
    v12 = v9 * *(float *)(a1 + 0x1F8);
    v13 = v9 * *(float *)(a1 + 0x1E8);
    v14 = v9 * *(float *)(a1 + 0x1EC);
    v15 = v9 * *(float *)(a1 + 0x1F0);
    *(float *)(a1 + 0x1FC) = v10;
    *(float *)&_XMM9 = v15 - v10;
    *(float *)&_XMM12 = v15 + v10;
    *(float *)(a1 + 0x1F0) = v15;
    *(float *)(a1 + 0x1F4) = v11;
    *(float *)(a1 + 0x1F8) = v12;
    *(float *)(a1 + 0x1E8) = v13;
    *(float *)(a1 + 0x1EC) = v14;
    v18 = *(__int64 **)(a1 + 0x220);
    *(float *)&_XMM7 = v13 - v11;
    *(float *)&_XMM8 = v14 - v12;
    *(float *)&_XMM10 = v13 + v11;
    *(float *)&_XMM11 = v14 + v12;
    v99 = v13 - v11;
    v86 = v14 - v12;
    v87 = v15 - v10;
    v88 = v13 + v11;
    v89 = v14 + v12;
    v90 = v15 + v10;
    if ( v18 )
    {
      n2 = 2;
      do
      {
        result = *v18;
        v24 = *(float *)(v6 + 0x18);
        v25 = *(float *)(v6 + 0x1C);
        v26 = *(unsigned int *)(v6 + 0x20);
        v27 = *(float *)(v6 + 0x24);
        v28 = *(float *)(*v18 + 0x18);
        v29 = *(float *)(*v18 + 0x1C);
        v30 = (float)(v28 + *(float *)(*v18 + 0x24)) * 0.5;
        v31 = (float)(*(float *)(*v18 + 0x2C) + *(float *)(*v18 + 0x20)) * 0.5;
        v32 = (float)(v29 + *(float *)(*v18 + 0x28)) * 0.5;
        v33 = (float)((float)(v25 * v31) - (float)(*(float *)&v26 * v32)) + (float)(v30 * v27);
        v34 = (float)((float)(v30 * *(float *)&v26) - (float)(v24 * v31)) + (float)(v27 * v32);
        v35 = (float)((float)(v24 * v32) - (float)(v30 * v25)) + (float)(v27 * v31);
        v36 = *(float *)(v6 + 0x24);
        v95 = (float)((float)(v30 + (float)((float)(v25 * v35) - (float)(*(float *)&v26 * v34)))
                    + (float)((float)(v25 * v35) - (float)(*(float *)&v26 * v34)))
            + *(double *)v6;
        v96 = (float)((float)(v32 + (float)((float)(*(float *)&v26 * v33) - (float)(v24 * v35)))
                    + (float)((float)(*(float *)&v26 * v33) - (float)(v24 * v35)))
            + *(double *)(v6 + 8);
        v37 = *(float *)(result + 0x24);
        v97 = (float)((float)(v31 + (float)((float)(v24 * v34) - (float)(v25 * v33)))
                    + (float)((float)(v24 * v34) - (float)(v25 * v33)))
            + *(double *)(v6 + 0x10);
        v38 = (float)(*(float *)(result + 0x28) - v29) * 0.5;
        v39 = (float)(v37 - v28) * 0.5;
        v41 = v26;
        v40 = *(float *)&v26 + *(float *)&v26;
        *(float *)&v41 = (float)(*(float *)&v26 + *(float *)&v26) * *(float *)(v6 + 0x1C);
        v42 = v41;
        v98 = (float)(*(float *)(result + 0x2C) - *(float *)(result + 0x20)) * 0.5;
        v43 = v25 + v25;
        n0x3F800000 = 0x3F800000u;
        *(float *)&n0x3F800000 = 1.0 - (float)(v24 * (float)(v24 + v24));
        n0x3F800000_1 = n0x3F800000;
        v46 = v40 * *(float *)(v6 + 0x20);
        v47 = v25 * (float)(v25 + v25);
        v48 = v36 * (float)(v24 + v24);
        v49 = v36 * v43;
        n0x3F800000_2 = 0x3F800000u;
        v51 = v24 * v43;
        v52 = v24 * v40;
        v53 = v36 * v40;
        *(float *)&n0x3F800000_2 = (float)(1.0 - v47) - v46;
        v54 = n0x3F800000_2 & 0x7FFFFFFF;
        *(double *)&v54 = (float)((float)((float)(*(float *)&v54 * v39) + (float)(fabs((float)(v24 * v43) - v53) * v38))
                                + (float)(fabs((float)(v24 * v40) + v49) * v98));
        v55 = v54;
        n0x3F800000_3 = n0x3F800000_1;
        *(float *)&n0x3F800000_3 = *(float *)&n0x3F800000_1 - v46;
        v57 = n0x3F800000_3 & xmmword_1480DCEE0;
        *(double *)&v57 = (float)((float)((float)(*(float *)&v57 * v38) + (float)(fabs(v53 + v51) * v39))
                                + (float)(fabs(*(float *)&v42 - v48) * v98));
        v58 = v57;
        v59 = v42;
        *(float *)&v59 = *(float *)&v42 + v48;
        _XMM7 = LODWORD(v99);
        __asm { vminss  xmm7, xmm7, dword ptr [rax+18h] }
        _XMM9 = LODWORD(v87);
        __asm { vminss  xmm9, xmm9, dword ptr [rax+20h] }
        v62 = v52 - v49;
        _XMM8 = LODWORD(v86);
        __asm { vminss  xmm8, xmm8, dword ptr [rax+1Ch] }
        _XMM10 = LODWORD(v88);
        __asm { vmaxss  xmm10, xmm10, dword ptr [rax+24h] }
        v65 = v59 & 0x7FFFFFFF;
        v66 = *(float *)&n0x3F800000_1 - v47;
        _XMM11 = LODWORD(v89);
        __asm { vmaxss  xmm11, xmm11, dword ptr [rax+28h] }
        _XMM12 = LODWORD(v90);
        __asm { vmaxss  xmm12, xmm12, dword ptr [rax+2Ch] }
        *(double *)&v65 = (float)((float)((float)(*(float *)&v65 * v38)
                                        + (float)(COERCE_FLOAT(LODWORD(v62) & 0x7FFFFFFF) * v39))
                                + (float)(COERCE_FLOAT(LODWORD(v66) & 0x7FFFFFFF) * v98));
        v69 = v65;
        _XMM0 = COERCE_UNSIGNED_INT64(v95 - *(double *)&v55);
        __asm { vminsd  xmm15, xmm0, [rsp+178h+var_130] }
        _XMM1 = COERCE_UNSIGNED_INT64(v96 - *(double *)&v58);
        __asm { vminsd  xmm13, xmm1, [rsp+178h+var_128] }
        _XMM0 = COERCE_UNSIGNED_INT64(v97 - *(double *)&v65);
        __asm { vminsd  xmm1, xmm0, [rsp+178h+var_120] }
        *((_QWORD *)&v65 + 1) = *((_QWORD *)&v55 + 1);
        *(double *)&v65 = *(double *)&v55 + v95;
        _XMM0 = v65;
        __asm { vmaxsd  xmm6, xmm0, [rsp+178h+var_118] }
        v92 = *(double *)&_XMM1;
        *((_QWORD *)&v65 + 1) = *((_QWORD *)&v58 + 1);
        *(double *)&v65 = *(double *)&v58 + v96;
        _XMM1 = v65;
        __asm { vmaxsd  xmm4, xmm1, [rsp+178h+var_110] }
        *((_QWORD *)&v65 + 1) = *((_QWORD *)&v69 + 1);
        *(double *)&v65 = *(double *)&v69 + v97;
        _XMM0 = v65;
        __asm { vmaxsd  xmm1, xmm0, [rsp+178h+var_108] }
        v99 = *(float *)&_XMM7;
        v86 = *(float *)&_XMM8;
        v87 = *(float *)&_XMM9;
        v88 = *(float *)&_XMM10;
        v89 = *(float *)&_XMM11;
        v90 = *(float *)&_XMM12;
        *(double *)&v91 = *(double *)&_XMM15;
        *((double *)&v91 + 1) = *(double *)&_XMM13;
        *(double *)&v93 = *(double *)&_XMM6;
        ++v18;
        *((double *)&v93 + 1) = *(double *)&_XMM4;
        v94 = *(double *)&_XMM1;
        --n2;
      }
      while ( n2 );
    }
    v82 = v92;
    *(_OWORD *)a2 = v91;
    v83 = v93;
    *(double *)(a2 + 0x10) = v82;
    v84 = v94;
    *(_OWORD *)(a2 + 0x18) = v83;
    *(double *)(a2 + 0x28) = v84;
    *(float *)(a1 + 0x1E8) = (float)(*(float *)&_XMM7 + *(float *)&_XMM10) * 0.5;
    *(float *)(a1 + 0x1EC) = (float)(*(float *)&_XMM11 + *(float *)&_XMM8) * 0.5;
    *(float *)(a1 + 0x1F0) = (float)(*(float *)&_XMM9 + *(float *)&_XMM12) * 0.5;
    *(float *)(a1 + 0x1F4) = (float)(*(float *)&_XMM10 - *(float *)&_XMM7) * 0.5;
    *(float *)(a1 + 0x1F8) = (float)(*(float *)&_XMM11 - *(float *)&_XMM8) * 0.5;
    *(float *)(a1 + 0x1FC) = (float)(*(float *)&_XMM12 - *(float *)&_XMM9) * 0.5;
  }
  else
  {
    *(_QWORD *)(a1 + 0x1F4) = 0;
    *(_DWORD *)(a1 + 0x1FC) = 0;
    *(double *)(a1 + 0x1E8) = *(double *)(a1 + 0x1F4);
    *(_DWORD *)(a1 + 0x1F0) = 0;
    result = *(_QWORD *)(a1 + 0x210);
    *(_OWORD *)(a2 + 0x18) = *(_OWORD *)result;
    v85 = *(double *)(result + 0x10);
    *(double *)(a2 + 0x28) = v85;
    *(_OWORD *)a2 = *(_OWORD *)(a2 + 0x18);
    *(double *)(a2 + 0x10) = v85;
  }
  return result;
}

// --- End Function: sub_1468C2610 (0x1468C2610) ---

// --- Function: sub_1468C2CE0 (0x1468C2CE0) ---
__int64 __fastcall sub_1468C2CE0(__int64 a1, double *a2, char a3)
{
  __int64 v5; // rdx
  float v6; // xmm10_4
  float v7; // xmm9_4
  float v8; // xmm8_4
  float v9; // xmm13_4
  float v10; // xmm12_4
  float v11; // xmm4_4
  float v12; // xmm11_4
  float v13; // xmm15_4
  float v14; // xmm7_4
  float v15; // xmm6_4
  float v16; // xmm4_4
  float v17; // xmm3_4
  float v18; // xmm4_4
  float v19; // xmm5_4
  float v20; // kr00_4
  float v21; // xmm8_4
  float v22; // xmm1_4
  float v23; // xmm9_4
  float v24; // xmm3_4
  float v25; // xmm13_4
  float v26; // xmm3_4
  double v27; // xmm12_8
  float v28; // xmm2_4
  float v29; // xmm4_4
  double v30; // xmm11_8
  double v31; // kr00_8
  double v32; // xmm6_8
  double v33; // xmm5_8
  double v34; // xmm4_8
  __int64 result; // rax
  float v36; // [rsp+20h] [rbp-C8h]
  float v37; // [rsp+28h] [rbp-C0h]
  float v38; // [rsp+2Ch] [rbp-BCh]
  float v39; // [rsp+30h] [rbp-B8h]
  float v40; // [rsp+F0h] [rbp+8h]
  float v41; // [rsp+F8h] [rbp+10h]
  float v42; // [rsp+108h] [rbp+20h]

  if ( (float)((float)((float)(*(float *)(a1 + 0x1F4) * *(float *)(a1 + 0x1F4))
                     + (float)(*(float *)(a1 + 0x1F8) * *(float *)(a1 + 0x1F8)))
             + (float)(*(float *)(a1 + 0x1FC) * *(float *)(a1 + 0x1FC))) == 0.0
    || (a3 & 1) != 0 )
  {
    sub_1468C3060();
  }
  v5 = *(_QWORD *)(a1 + 0x210);
  v6 = *(float *)(a1 + 0x1F0);
  v7 = *(float *)(a1 + 0x1EC);
  v8 = *(float *)(a1 + 0x1E8);
  v9 = *(float *)(v5 + 0x18);
  v10 = *(float *)(v5 + 0x1C);
  v11 = *(float *)(v5 + 0x24);
  v12 = *(float *)(v5 + 0x20);
  v13 = v11 * (float)(v12 + v12);
  v41 = 1.0 - (float)((float)(v9 + v9) * v9);
  v42 = (float)(v10 + v10) * v10;
  v39 = (float)(v9 + v9) * v11;
  v38 = (float)(v12 + v12) * v10;
  v40 = v11 * (float)(v10 + v10);
  v37 = v9 * (float)(v12 + v12);
  v36 = (float)(v12 + v12) * v12;
  v14 = (float)((float)(v6 * v10) - (float)(v7 * v12)) + (float)(v8 * v11);
  v15 = (float)((float)(v8 * v12) - (float)(v6 * v9)) + (float)(v7 * v11);
  v16 = (float)((float)(v7 * v9) - (float)(v8 * v10)) + (float)(v6 * v11);
  v17 = v16 * v10;
  v18 = (float)(v14 * v12) - (float)(v9 * v16);
  v19 = v17 - (float)(v15 * v12);
  v20 = v8 + v19;
  v21 = *(float *)(a1 + 0x1F8);
  v22 = v7 + v18;
  v23 = *(float *)(a1 + 0x1FC);
  v24 = v9 * v15;
  v25 = v9 * (float)(v10 + v10);
  v26 = v24 - (float)(v14 * v10);
  v27 = (float)(v20 + v19) + *(double *)v5;
  v28 = v22 + v18;
  v29 = *(float *)(a1 + 0x1F4);
  v30 = v28 + *(double *)(v5 + 8);
  v31 = (float)((float)(v6 + v26) + v26) + *(double *)(v5 + 0x10);
  v32 = (float)((float)((float)(fabs((float)(1.0 - v42) - v36) * v29) + (float)(fabs(v25 - v13) * v21))
              + (float)(fabs(v37 + v40) * v23));
  *a2 = v27 - v32;
  v33 = (float)((float)((float)(fabs(v13 + v25) * v29) + (float)(fabs(v41 - v36) * v21)) + (float)(fabs(v38 - v39) * v23));
  a2[1] = v30 - v33;
  v34 = (float)((float)((float)(fabs(v37 - v40) * v29) + (float)(fabs(v38 + v39) * v21)) + (float)(fabs(v41 - v42) * v23));
  a2[2] = v31 - v34;
  a2[3] = v32 + v27;
  a2[4] = v30 + v33;
  a2[5] = v31 + v34;
  result = *(_QWORD *)(a1 + 0x2C0);
  if ( *(_DWORD *)(result + 0x49C) )
    return sub_146638AD0(a1 + 0x228, v5, v5 + 0x18);
  return result;
}

// --- End Function: sub_1468C2CE0 (0x1468C2CE0) ---

// --- Function: sub_1468C3270 (0x1468C3270) ---
__int64 *__fastcall sub_1468C3270(int *a1, __int64 *a2, __int64 a3, void (__fastcall ***a4)(_QWORD, int *, __int64))
{
  __int64 v8; // rdi
  int v9; // ebx
  __int64 v10; // rsi
  int v11; // eax
  const char *v12; // rax
  volatile signed __int64 *v13; // rdi
  __int64 v14; // rax
  __int64 v16; // rdx
  __int64 v17; // rcx
  __int64 v21; // rax
  __int64 v22; // r12
  __int64 v23; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v25; // rdx
  __int64 v26; // rcx
  unsigned __int64 v27; // rax
  float v29[4]; // [rsp+30h] [rbp-69h] BYREF
  _QWORD v30[4]; // [rsp+40h] [rbp-59h] BYREF
  int v31; // [rsp+60h] [rbp-39h]
  int v32; // [rsp+64h] [rbp-35h]
  __int64 v33; // [rsp+68h] [rbp-31h]
  char v34; // [rsp+70h] [rbp-29h]
  char v35; // [rsp+71h] [rbp-28h]
  int v36; // [rsp+72h] [rbp-27h]
  __int16 v37; // [rsp+76h] [rbp-23h]
  int n0x2800; // [rsp+80h] [rbp-19h] BYREF
  __int64 v39; // [rsp+84h] [rbp-15h]
  int v40; // [rsp+8Ch] [rbp-Dh]
  __int64 v41; // [rsp+90h] [rbp-9h]
  unsigned __int64 v42; // [rsp+98h] [rbp-1h]
  __int64 v43; // [rsp+A0h] [rbp+7h]
  __int64 v44; // [rsp+A8h] [rbp+Fh]

  n0x2800 = 0x2800;
  v39 = 0;
  v40 = 0;
  v42 = 0;
  v43 = 0;
  v44 = 0;
  v41 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  *a2 = 0;
  if ( a1[0x3A] >= 0 )
  {
    v13 = (volatile signed __int64 *)(*((_QWORD *)a1 + 0x58) + 0x84A20LL);
    v14 = _InterlockedCompareExchange64(v13, 0x200000, 0);
    if ( v14 )
      sub_1403DE750(
        (__int64)v13,
        v14,
        0,
        (__int64)"CPhysicalEntity::CreateLocalGrid",
        (__int64)"m_pWorld->m_lockStep",
        1);
    _XMM3 = *(unsigned int *)(a3 + 0x1C);
    v16 = *(unsigned int *)(a3 + 0x2C);
    v17 = *((_QWORD *)a1 + 0x58);
    _XMM0 = *(_DWORD *)(a3 + 0x1C) & 0xFFA00000;
    __asm
    {
      vpcmpeqd xmm2, xmm0, xmm1
      vblendvps xmm0, xmm3, xmm4, xmm2
    }
    v29[0] = *(float *)&_XMM0;
    v29[1] = *(float *)&_XMM0;
    v29[2] = *(float *)&_XMM0;
    v21 = sub_146942330(v17, v16, v29, a1);
    v22 = v21;
    if ( v21 )
      sub_140524420(v21);
    v23 = *a2;
    *a2 = v22;
    if ( v23 )
      sub_140524440(v23);
    InterlockedIncrement_w_3(*a2);
    *(_DWORD *)(*a2 + 0x154) = *(unsigned __int8 *)(a3 + 0x67);
    *(_DWORD *)(*a2 + 0x158) = *(unsigned __int8 *)(a3 + 0x6C);
    if ( v13 )
    {
      n0x200000 = _InterlockedCompareExchange64(v13, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v13, n0x200000);
    }
    v25 = (unsigned int)a1[0x82];
    v26 = *((_QWORD *)a1 + 0x58);
    v27 = (unsigned __int64)a1 | (*((_QWORD *)a1 + 1) << 0x30);
    v30[0] = 0;
    v30[2] = v27;
    v30[3] = *((_QWORD *)a1 + 0x18);
    v31 = *((__int16 *)a1 + 0x76);
    v32 = *((__int16 *)a1 + 0x77);
    v33 = *a2;
    v34 = *(_BYTE *)(a3 + 0x64);
    v35 = *(_BYTE *)(a3 + 0x65);
    v30[1] = 0x11;
    v36 = 0;
    v37 = 0;
    sub_1468115C0(v26, v25, (__int64)v30, 0);
    if ( *(_QWORD *)(a3 + 0x48) )
      LogFatalError("Serious error: Cannot create a grid twice!");
    *(_QWORD *)(a3 + 0x48) = *a2;
    if ( a4 )
      (**a4)(a4, a1, a3);
    else
      (*(void (__fastcall **)(int *, __int64, _QWORD))(*(_QWORD *)a1 + 0x18LL))(a1, a3, 0);
  }
  else
  {
    v8 = *((_QWORD *)a1 + 0x1A);
    v9 = a1[0x3B];
    v10 = *((_QWORD *)a1 + 0x18);
    v11 = (*(__int64 (__fastcall **)(int *))(*(_QWORD *)a1 + 8LL))(a1);
    v12 = (const char *)sub_1468FA8F0(v11, v10, (__int16)v9, v9 >> 0x10, v8, 0);
    LogTraceConditional("Trying to create a local grid on a dead physical entity %s", v12);
  }
  v42 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return a2;
}

// --- End Function: sub_1468C3270 (0x1468C3270) ---

// --- Function: sub_1468C3D00 (0x1468C3D00) ---
__int64 __fastcall sub_1468C3D00(__int64 *a1, unsigned int a2)
{
  __int64 v2; // rax
  bool v5; // zf
  int n0x400; // r8d
  __int64 v7; // rax
  _DWORD v9[6]; // [rsp+20h] [rbp-18h] BYREF

  v2 = *a1;
  v9[0] = 0xF;
  v9[1] = 0x80000000;
  v9[2] = 0x20;
  v5 = (*(__int64 (__fastcall **)(__int64 *))(v2 + 0x198))(a1) == 0;
  n0x400 = 0x400;
  v7 = *a1;
  if ( !v5 )
    n0x400 = 0x410;
  v9[3] = ~n0x400;
  return (*(__int64 (__fastcall **)(__int64 *, _DWORD *, _QWORD))(v7 + 0x18))(a1, v9, a2);
}

// --- End Function: sub_1468C3D00 (0x1468C3D00) ---

// --- Function: sub_1468C3D70 (0x1468C3D70) ---
void __fastcall sub_1468C3D70(_DWORD *a1, __int64 a2, _DWORD *a3)
{
  if ( a1[0xAA] && (*(int (__fastcall **)(_DWORD *))(*(_QWORD *)a1 + 8LL))(a1) <= 2 )
  {
    *a3 = 1;
    sub_1468C3DF0(a1, a2);
  }
  else
  {
    *a3 = 0xFFFFFFFF;
  }
}

// --- End Function: sub_1468C3D70 (0x1468C3D70) ---

// --- Function: sub_1468C3DF0 (0x1468C3DF0) ---
__m128 __fastcall sub_1468C3DF0(__int64 a1, double *a2)
{
  __int64 *v2; // rax
  __int128 n0x7F7FFFFF; // xmm3
  double v5; // xmm12_8
  double v6; // xmm14_8
  double v7; // xmm15_8
  __int64 v8; // rax
  float v9; // xmm8_4
  double v10; // xmm1_8
  _QWORD *v11; // rsi
  _QWORD *v12; // rbx
  double v13; // xmm8_8
  float *v14; // rdi
  float v15; // xmm10_4
  __int64 v16; // rcx
  double v17; // xmm4_8
  double v18; // xmm7_8
  double v19; // xmm10_8
  double v20; // xmm6_8
  double v21; // xmm5_8
  double v22; // xmm4_8
  double v23; // xmm9_8
  double v24; // xmm13_8
  double v25; // xmm11_8
  double v26; // xmm5_8
  double v27; // xmm8_8
  double v28; // xmm6_8
  double v29; // xmm7_8
  double v30; // xmm15_8
  double v31; // xmm14_8
  double v32; // xmm12_8
  double v33; // xmm5_8
  double v34; // xmm10_8
  double v35; // xmm2_8
  __int128 v37; // xmm9
  double v38; // xmm8_8
  __int128 v39; // xmm7
  double v40; // xmm6_8
  double v41; // xmm4_8
  __int128 v42; // kr00_16
  __int128 v43; // xmm5
  double v44; // xmm4_8
  __int128 v45; // xmm7
  __int128 v50; // xmm0
  __int128 v53; // kr00_16
  double v57; // [rsp+20h] [rbp-138h]
  double v58; // [rsp+28h] [rbp-130h]
  float v59[4]; // [rsp+30h] [rbp-128h] BYREF
  double v60; // [rsp+40h] [rbp-118h]
  double v61; // [rsp+48h] [rbp-110h]
  double v62; // [rsp+50h] [rbp-108h]
  double v63; // [rsp+58h] [rbp-100h]
  __int128 v64; // [rsp+80h] [rbp-D8h]
  double v65; // [rsp+90h] [rbp-C8h]
  double v66; // [rsp+170h] [rbp+18h]
  double v67; // [rsp+178h] [rbp+20h]

  v2 = *(__int64 **)(a1 + 0x220);
  n0x7F7FFFFF = 0x7F7FFFFFu;
  if ( v2 )
  {
    v5 = *(float *)(a1 + 0x1D8);
    v58 = v5;
    v6 = *(float *)(a1 + 0x1DC);
    v67 = v6;
    v7 = *(float *)(a1 + 0x1E0);
    v66 = v7;
    v8 = *v2;
    v9 = *(float *)(a1 + 0x1E4);
    v10 = *(double *)(a1 + 0x1D0);
    v11 = *(_QWORD **)(v8 + 8);
    v12 = *(_QWORD **)v8;
    v64 = *(_OWORD *)(a1 + 0x1C0);
    v13 = v9;
    v57 = v13;
    v60 = *(float *)(a1 + 0x200);
    v65 = v10;
    if ( v12 != v11 )
    {
      v14 = (float *)v12 + 0xF;
      do
      {
        if ( ((_DWORD)v14[0xFFFFFFF3] & 0x40000LL) == 0 )
        {
          v15 = v14[0xFFFFFFFF];
          v16 = *v12;
          v17 = *v14;
          v18 = v14[1];
          v61 = v17;
          v19 = v15;
          v20 = v6 * v18 - v17 * v7 + v13 * v19;
          v21 = v7 * v19 - v5 * v18 + v17 * v13;
          v22 = v17 * v5 - v6 * v19 + v13 * v18;
          v23 = v6 * v22 - v7 * v21;
          v24 = v5 * v21 - v6 * v20;
          v25 = v7 * v20 - v5 * v22;
          v26 = v14[0xFFFFFFFE];
          v27 = v14[0xFFFFFFFD];
          v28 = v14[0xFFFFFFFB];
          v62 = v18;
          v29 = v14[0xFFFFFFFC];
          v30 = v6 * v27 - v7 * v29 + v28 * v57 + v5 * v26;
          v31 = v28 * v66 - v5 * v27 + v29 * v57 + v6 * v26;
          v32 = v5 * v29 - v28 * v67 + v27 * v57 + v26 * v66;
          v33 = v26 * v57 - v28 * v58 - v29 * v67 - v27 * v66;
          v63 = v14[2] * v60;
          v34 = *a2 - ((v23 + v19 + v23) * v60 + *(double *)&v64);
          v35 = v25 + v61 + v25;
          _XMM11 = *(unsigned __int64 *)&v63;
          v37 = COERCE_UNSIGNED_INT64(a2[1] - (v35 * v60 + *((double *)&v64 + 1)));
          v38 = a2[2] - ((v24 + v62 + v24) * v60 + v65);
          v39 = COERCE_UNSIGNED_INT64(*(double *)&v37 * v32 - v38 * v31 + v34 * v33);
          v40 = v38 * v30 - v34 * v32 + *(double *)&v37 * v33;
          v41 = v34 * v31 - *(double *)&v37 * v30 + v38 * v33;
          *((_QWORD *)&v42 + 1) = 0;
          *(double *)&v42 = v40 * v32 - v41 * v31;
          v43 = v42;
          v44 = v41 * v30 - *(double *)&v39 * v32;
          *((_QWORD *)&v42 + 1) = *((_QWORD *)&v39 + 1);
          *(double *)&v42 = *(double *)&v39 * v31 - v40 * v30;
          v45 = v42;
          *((_QWORD *)&v42 + 1) = *((_QWORD *)&v43 + 1);
          *(double *)&v42 = (*(double *)&v43 + v34 + *(double *)&v43) * (1.0 / v63);
          _XMM2 = v42;
          __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
          v59[0] = *(float *)&_XMM3;
          *((_QWORD *)&v42 + 1) = *((_QWORD *)&v37 + 1);
          *(double *)&v42 = (*(double *)&v37 + v44 + v44) * (1.0 / v63);
          _XMM2 = v42;
          __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
          v59[1] = *(float *)&_XMM3;
          *((_QWORD *)&v42 + 1) = *((_QWORD *)&v45 + 1);
          *((_QWORD *)&v50 + 1) = *((_QWORD *)&v45 + 1);
          *(double *)&v42 = (*(double *)&v45 + v38 + *(double *)&v45) * (1.0 / v63);
          _XMM2 = v42;
          __asm { vcvtsd2ss xmm3, xmm2, xmm2 }
          v59[2] = *(float *)&_XMM3;
          *(double *)&v50 = (*(double (__fastcall **)(__int64, float *, _QWORD))(*(_QWORD *)v16 + 0x48LL))(v16, v59, 0);
          v53 = v50;
          v5 = v58;
          v6 = v67;
          v7 = v66;
          v13 = v57;
          __asm { vcvtsd2ss xmm1, xmm11, xmm11 }
          *(float *)&v53 = (float)(*(float *)&v50 - v14[0xA]) * *(float *)&_XMM1;
          _XMM2 = v53;
          __asm { vminss  xmm3, xmm2, [rsp+158h+arg_0] }
        }
        v12 += 0xF;
        v14 += 0x1E;
      }
      while ( v12 != v11 );
    }
  }
  return (__m128)n0x7F7FFFFF;
}

// --- End Function: sub_1468C3DF0 (0x1468C3DF0) ---

// --- Function: sub_1468CDB40 (0x1468CDB40) ---
__int64 (__fastcall **__fastcall sub_1468CDB40(__int64 a1, __int64 *a2, __int64 a3, double *a4))()
{
  __int128 v4; // xmm6
  __int128 v5; // xmm7
  __int128 v6; // xmm8
  __int128 v7; // xmm9
  __int128 v8; // xmm10
  __int128 v9; // xmm11
  __int128 v10; // xmm12
  __int128 v11; // xmm13
  __int128 v12; // xmm14
  __int128 v13; // xmm15
  __int64 v14; // rsi
  unsigned __int64 v16; // r13
  __int64 v18; // r15
  const char *v19; // r14
  _QWORD *v20; // rax
  _QWORD *v21; // rax
  double v25; // xmm10_8
  double v26; // xmm8_8
  double v27; // xmm9_8
  double v28; // xmm14_8
  double v29; // xmm12_8
  double v30; // xmm13_8
  double v31; // xmm7_8
  int v40; // eax
  int v41; // eax
  __int64 v42; // rax
  unsigned __int64 n4; // rdx
  __int64 v44; // rdx
  unsigned __int64 v45; // rcx
  __int64 v46; // rdx
  __int64 v47; // rdi
  __int64 v48; // rbx
  __int64 v49; // r12
  unsigned int v50; // r13d
  double v51; // r8
  __int64 v52; // rcx
  float v53; // xmm0_4
  float v54; // xmm0_4
  float v55; // xmm0_4
  float v56; // xmm0_4
  float v57; // xmm0_4
  float v58; // xmm0_4
  float v59; // xmm0_4
  float v60; // xmm0_4
  float v61; // xmm0_4
  float v62; // xmm2_4
  float v63; // xmm1_4
  __int64 v64; // rax
  float v65; // xmm2_4
  float v66; // xmm0_4
  __int64 v67; // rcx
  __int64 v68; // rdx
  float v69; // xmm13_4
  float v70; // xmm14_4
  float v71; // xmm12_4
  float v72; // xmm11_4
  float v73; // xmm10_4
  float v74; // xmm9_4
  float v75; // xmm8_4
  float v76; // xmm3_4
  float v77; // r8d
  float v78; // xmm5_4
  float v79; // kr00_4
  float v80; // xmm2_4
  float v81; // xmm1_4
  float v82; // xmm4_4
  float v83; // xmm15_4
  float v84; // xmm6_4
  __int64 v85; // rcx
  float v86; // xmm9_4
  float v87; // xmm7_4
  float v88; // xmm4_4
  float v89; // xmm8_4
  float v90; // xmm0_4
  double v91; // xmm4_8
  double v92; // xmm3_8
  __int64 v93; // rcx
  float v94; // xmm10_4
  float v95; // xmm9_4
  __int64 v96; // rcx
  double v97; // xmm12_8
  double v98; // xmm11_8
  double v99; // xmm7_8
  double v100; // xmm3_8
  __int64 v101; // rcx
  double v102; // xmm2_8
  double v103; // xmm1_8
  __int64 *v116; // rax
  int n0x2000; // r12d
  __int64 *v118; // rax
  __int64 v119; // rax
  __int64 v120; // rsi
  __int64 v121; // rdi
  int v122; // ebx
  int v123; // eax
  __int64 v124; // rax
  __int64 v125; // rdi
  __int64 v126; // rbx
  __int64 v127; // rsi
  float v128; // xmm13_4
  float v129; // xmm11_4
  __int64 v130; // rax
  float v131; // xmm15_4
  float v132; // xmm12_4
  float v133; // xmm6_4
  float v134; // xmm9_4
  float v135; // xmm10_4
  float v136; // xmm5_4
  float v137; // xmm14_4
  float v138; // xmm8_4
  float v139; // xmm7_4
  float v140; // xmm0_4
  float v141; // xmm9_4
  float v142; // xmm2_4
  float v143; // xmm1_4
  float v144; // xmm12_4
  float v145; // xmm6_4
  float v146; // xmm7_4
  float v147; // xmm5_4
  float v148; // xmm10_4
  float v149; // xmm11_4
  float v150; // xmm2_4
  float v151; // xmm1_4
  float v152; // xmm8_4
  float v153; // xmm11_4
  __int128 v154; // xmm12
  float v155; // xmm9_4
  float v156; // xmm10_4
  float v157; // xmm4_4
  float v158; // xmm6_4
  __int128 v159; // kr00_16
  float v160; // xmm7_4
  __int128 v161; // xmm8
  __int128 v162; // kr00_16
  __int128 v163; // xmm5
  __int128 v164; // kr00_16
  float v165; // xmm4_4
  __int128 v166; // xmm6
  __int128 v167; // kr00_16
  float v168; // xmm9_4
  float v169; // xmm1_4
  float v170; // xmm10_4
  __int128 v171; // xmm4
  float v178; // xmm7_4
  __int128 v179; // xmm10
  double v180; // xmm11_8
  double v181; // xmm6_8
  double v182; // xmm7_8
  double v183; // xmm8_8
  double v184; // xmm9_8
  __int64 v185; // rcx
  __int64 v186; // rax
  unsigned int v187; // r15d
  __int64 v188; // rsi
  __int64 v189; // rcx
  __int64 v190; // rdi
  int n0x2000_2; // r9d
  __int64 v204; // rax
  __int64 v205; // rdx
  __int64 v206; // r12
  double v209; // kr00_8
  unsigned __int128 v213; // xmm2
  __int128 v214; // xmm15
  __int64 v215; // rbx
  __int64 v216; // rsi
  __int64 v217; // rdi
  __int64 v218; // r8
  double v219; // xmm12_8
  double v220; // xmm14_8
  __int64 v221; // rax
  __int128 v222; // xmm1
  __int64 v223; // rcx
  float v224; // xmm6_4
  float v225; // xmm8_4
  __int128 v226; // xmm9
  float v227; // xmm5_4
  double v228; // xmm6_8
  double v229; // xmm8_8
  __int128 v230; // kr00_16
  double v231; // xmm5_8
  __int128 v232; // xmm13
  double v233; // xmm7_8
  double v234; // xmm4_8
  double v235; // xmm2_8
  __int128 v236; // xmm6
  double v237; // xmm0_8
  double v238; // xmm11_8
  double v239; // xmm5_8
  __int128 v240; // xmm2
  __int128 v241; // xmm9
  double v242; // xmm8_8
  __int128 v243; // xmm7
  double v244; // xmm4_8
  __int128 v245; // xmm3
  double v246; // xmm10_8
  __int128 v248; // xmm12
  __int64 v260; // rcx
  __int64 v267; // rdx
  __int64 v268; // rax
  double v269; // xmm10_8
  double v270; // xmm5_8
  double v271; // xmm4_8
  double v272; // xmm5_8
  __int128 v273; // xmm3
  BOOL v280; // eax
  __int64 v281; // rdx
  unsigned __int64 v289; // rdx
  __int64 v295; // rcx
  _QWORD *v296; // rcx
  _QWORD *buf; // rax
  __int64 n2; // rsi
  __int64 **v299; // rbx
  __int64 n2_1; // rdi
  __int64 v301; // rax
  _QWORD *buf_1; // rax
  __int64 v303; // r15
  __int64 v304; // r8
  __int64 v305; // rdi
  unsigned int v306; // r13d
  __int64 v307; // r14
  float *v308; // rbx
  __int64 v309; // rdx
  float *v310; // rax
  __int64 v311; // rcx
  float v312; // xmm5_4
  float v313; // xmm2_4
  float v314; // xmm3_4
  float v315; // xmm9_4
  float v316; // xmm12_4
  float v317; // xmm6_4
  float v318; // xmm7_4
  float v319; // xmm10_4
  float v320; // xmm8_4
  float v321; // xmm3_4
  float v322; // xmm9_4
  float v323; // xmm11_4
  float v324; // xmm13_4
  float v325; // xmm0_4
  float v326; // xmm8_4
  float v327; // xmm13_4
  float v328; // xmm6_4
  float v329; // xmm4_4
  float v330; // xmm11_4
  float v331; // xmm6_4
  float v332; // xmm3_4
  float v333; // xmm5_4
  float v334; // xmm12_4
  float v335; // xmm1_4
  float v336; // xmm10_4
  float v337; // xmm3_4
  float v338; // xmm2_4
  float v339; // xmm4_4
  float v340; // xmm9_4
  float v341; // xmm0_4
  float v342; // xmm8_4
  float v343; // xmm14_4
  float v344; // xmm5_4
  float v345; // xmm15_4
  float v346; // xmm13_4
  float v347; // xmm7_4
  float v348; // xmm10_4
  float v349; // xmm6_4
  float v350; // xmm12_4
  float v351; // xmm3_4
  float v352; // xmm0_4
  float v353; // xmm5_4
  float v354; // xmm1_4
  float v355; // xmm6_4
  float v356; // xmm4_4
  __int128 v357; // kr00_16
  __int128 v362; // kr00_16
  __int128 v367; // xmm5
  float v368; // xmm13_4
  __int128 v369; // xmm12
  float v370; // xmm11_4
  float v371; // xmm10_4
  float v372; // xmm4_4
  float v373; // xmm7_4
  __int64 v374; // rax
  __int128 v375; // xmm3
  __int128 v376; // kr00_16
  __int128 v377; // kr00_16
  __int128 v378; // xmm9
  __int128 v379; // kr00_16
  __int128 v380; // xmm6
  __int128 v381; // kr00_16
  float v382; // xmm4_4
  __int128 v383; // xmm8
  __int128 v384; // kr00_16
  __int128 v385; // xmm5
  __int128 v386; // xmm3
  __int128 v387; // xmm2
  __int128 v388; // kr00_16
  float v391; // xmm10_4
  float v396; // xmm7_4
  unsigned __int64 buf_4; // rax
  int v398; // ecx
  float v399; // xmm11_4
  float v400; // xmm12_4
  float v401; // xmm14_4
  float v402; // xmm15_4
  __int64 v403; // rcx
  float *v404; // rax
  float v405; // xmm10_4
  float v406; // xmm9_4
  float v407; // xmm5_4
  float v408; // xmm13_4
  float v409; // xmm8_4
  float v410; // xmm7_4
  float v411; // xmm3_4
  float v412; // xmm12_4
  float v413; // xmm11_4
  float v414; // xmm10_4
  float v415; // xmm1_4
  float v416; // xmm6_4
  float v417; // xmm9_4
  float v418; // xmm8_4
  float v419; // xmm2_4
  float v420; // xmm7_4
  float v421; // xmm8_4
  float v422; // xmm12_4
  float v423; // xmm11_4
  float v424; // xmm10_4
  float v425; // xmm9_4
  float v426; // xmm6_4
  float v427; // xmm7_4
  float v428; // xmm5_4
  float v429; // xmm4_4
  float v430; // xmm8_4
  float v431; // xmm6_4
  float v432; // xmm0_4
  float v433; // xmm7_4
  float *v434; // rcx
  float v435; // xmm12_4
  float v436; // xmm13_4
  float v437; // xmm6_4
  float v438; // xmm14_4
  float v439; // xmm11_4
  float v440; // xmm10_4
  float v441; // xmm5_4
  float v442; // xmm15_4
  float v443; // xmm8_4
  float v444; // xmm3_4
  float v445; // xmm7_4
  float v446; // xmm6_4
  float v447; // xmm9_4
  float v448; // xmm3_4
  float v449; // xmm11_4
  float v450; // xmm8_4
  float v451; // xmm10_4
  float v452; // xmm1_4
  float v453; // xmm12_4
  float v454; // xmm2_4
  float v455; // xmm7_4
  float v456; // xmm13_4
  float v457; // xmm11_4
  float v458; // xmm6_4
  float v459; // xmm4_4
  float v460; // xmm12_4
  float v461; // xmm10_4
  float v462; // xmm8_4
  float v463; // xmm9_4
  float v464; // xmm5_4
  float v465; // xmm4_4
  float v466; // xmm7_4
  float v467; // xmm6_4
  float v468; // xmm3_4
  float v469; // xmm5_4
  double v470; // xmm4_8
  double v471; // xmm3_8
  int v472; // ebx
  bool v473; // bl
  volatile signed __int64 *v474; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 *j; // rbx
  float v477; // xmm14_4
  float v478; // xmm11_4
  float v479; // xmm12_4
  __int64 v480; // r12
  __int64 v481; // rcx
  float *v482; // rax
  float v483; // xmm9_4
  float v484; // xmm10_4
  float v485; // xmm5_4
  float v486; // xmm13_4
  float v487; // xmm8_4
  float v488; // xmm7_4
  float v489; // xmm6_4
  float v490; // xmm3_4
  float v491; // xmm12_4
  float v492; // xmm10_4
  float v493; // xmm9_4
  float v494; // xmm11_4
  float v495; // xmm8_4
  float v496; // xmm1_4
  float v497; // xmm4_4
  float v498; // xmm2_4
  float v499; // xmm3_4
  float v500; // xmm0_4
  float v501; // xmm7_4
  float v502; // xmm6_4
  float v503; // xmm5_4
  float v504; // xmm8_4
  float v505; // xmm10_4
  float v506; // xmm9_4
  float v507; // xmm6_4
  float v508; // xmm7_4
  float v509; // xmm5_4
  float v510; // xmm4_4
  float v511; // xmm8_4
  float v512; // xmm6_4
  float v513; // xmm0_4
  float v514; // xmm7_4
  float v515; // kr00_4
  __int64 v516; // rax
  __int64 v517; // rcx
  __int64 **v518; // rax
  __int64 *i; // rax
  __int64 *v520; // rcx
  __int64 *m; // rbx
  double *v522; // r15
  __int64 v523; // r13
  __int64 v524; // r14
  __int64 v525; // rsi
  float v526; // xmm4_4
  __int64 v527; // rdi
  float v528; // xmm12_4
  __int128 v529; // xmm14
  float v530; // xmm11_4
  float v531; // xmm6_4
  float v532; // xmm10_4
  float v533; // xmm9_4
  float v534; // xmm8_4
  float v535; // xmm5_4
  float v536; // xmm4_4
  float v537; // xmm7_4
  float v538; // xmm6_4
  float v539; // xmm3_4
  float v540; // xmm5_4
  double v541; // xmm4_8
  double v542; // xmm3_8
  double *v543; // rax
  __int128 v544; // xmm13
  double v545; // xmm8_8
  __int128 v546; // xmm7
  __int128 v547; // xmm10
  double v548; // xmm15_8
  double v549; // xmm12_8
  __int128 v550; // kr00_16
  double v551; // xmm11_8
  __int128 v552; // xmm2
  __int128 v553; // xmm14
  double v554; // xmm1_8
  __int128 v555; // xmm7
  double v559; // xmm1_8
  double v562; // xmm1_8
  __int64 v566; // rcx
  __int64 **v567; // rax
  __int64 *k; // rax
  __int64 *v569; // rcx
  _QWORD *buf_5; // rdi
  _QWORD *buf_6; // rbx
  float v572; // kr00_4
  __m256 *_Al; // rdi
  __int64 v574; // rax
  __int64 v575; // rbx
  __int64 v576; // rcx
  const char *v578; // [rsp+40h] [rbp-C8h]
  float v579; // [rsp+58h] [rbp-B0h]
  int n0x2000_1; // [rsp+58h] [rbp-B0h]
  float v581; // [rsp+58h] [rbp-B0h]
  float v582; // [rsp+58h] [rbp-B0h]
  float v583; // [rsp+5Ch] [rbp-ACh]
  int v584; // [rsp+5Ch] [rbp-ACh]
  int v585; // [rsp+5Ch] [rbp-ACh]
  float v586; // [rsp+60h] [rbp-A8h]
  float v587; // [rsp+60h] [rbp-A8h]
  float v588; // [rsp+60h] [rbp-A8h]
  float v589; // [rsp+64h] [rbp-A4h]
  float v590; // [rsp+64h] [rbp-A4h]
  float v591; // [rsp+64h] [rbp-A4h]
  float v592; // [rsp+68h] [rbp-A0h]
  float v593; // [rsp+68h] [rbp-A0h]
  int v594; // [rsp+68h] [rbp-A0h]
  float v595; // [rsp+6Ch] [rbp-9Ch]
  int v596; // [rsp+6Ch] [rbp-9Ch]
  unsigned int v597; // [rsp+6Ch] [rbp-9Ch]
  float v598; // [rsp+70h] [rbp-98h]
  float v599; // [rsp+70h] [rbp-98h]
  float v600; // [rsp+70h] [rbp-98h]
  float v601; // [rsp+74h] [rbp-94h]
  int v602; // [rsp+74h] [rbp-94h]
  float v603; // [rsp+78h] [rbp-90h]
  int v604; // [rsp+78h] [rbp-90h]
  float v605; // [rsp+7Ch] [rbp-8Ch]
  float v606; // [rsp+7Ch] [rbp-8Ch]
  int v607; // [rsp+80h] [rbp-88h]
  __int64 v608; // [rsp+80h] [rbp-88h]
  unsigned __int64 v609; // [rsp+80h] [rbp-88h]
  __int64 v610; // [rsp+88h] [rbp-80h]
  __int64 v611; // [rsp+88h] [rbp-80h]
  int *v612; // [rsp+88h] [rbp-80h]
  int v613; // [rsp+90h] [rbp-78h]
  float v614; // [rsp+94h] [rbp-74h]
  float v615; // [rsp+94h] [rbp-74h]
  float v616; // [rsp+98h] [rbp-70h]
  float v617; // [rsp+98h] [rbp-70h]
  float v618; // [rsp+9Ch] [rbp-6Ch]
  float v619; // [rsp+9Ch] [rbp-6Ch]
  float v620; // [rsp+A0h] [rbp-68h]
  float v621; // [rsp+A0h] [rbp-68h]
  float v622; // [rsp+A8h] [rbp-60h]
  __int64 v623; // [rsp+A8h] [rbp-60h]
  float v624; // [rsp+A8h] [rbp-60h]
  __int64 v625; // [rsp+B0h] [rbp-58h]
  __int64 v626; // [rsp+B8h] [rbp-50h]
  double v627; // [rsp+B8h] [rbp-50h]
  float v628; // [rsp+B8h] [rbp-50h]
  float v629; // [rsp+C0h] [rbp-48h]
  __int64 v630; // [rsp+C8h] [rbp-40h]
  float v631; // [rsp+D0h] [rbp-38h]
  float v632; // [rsp+D0h] [rbp-38h]
  float v633; // [rsp+D8h] [rbp-30h]
  double v634; // [rsp+D8h] [rbp-30h]
  float v635; // [rsp+D8h] [rbp-30h]
  __int64 v636; // [rsp+E0h] [rbp-28h] BYREF
  double v637; // [rsp+E8h] [rbp-20h]
  float v638; // [rsp+F0h] [rbp-18h]
  float v639; // [rsp+F4h] [rbp-14h]
  float v640; // [rsp+F8h] [rbp-10h]
  __int64 v641; // [rsp+100h] [rbp-8h]
  __m256 v642; // [rsp+108h] [rbp+0h] BYREF
  __int128 v643; // [rsp+128h] [rbp+20h]
  float v644; // [rsp+138h] [rbp+30h]
  __int128 v645; // [rsp+140h] [rbp+38h] BYREF
  __m256 v646; // [rsp+150h] [rbp+48h] BYREF
  __int128 v647; // [rsp+170h] [rbp+68h]
  __int128 v648; // [rsp+188h] [rbp+80h] BYREF
  double v649; // [rsp+198h] [rbp+90h]
  float v650; // [rsp+1A0h] [rbp+98h]
  float v651; // [rsp+1A4h] [rbp+9Ch]
  float v652; // [rsp+1A8h] [rbp+A0h]
  float v653; // [rsp+1ACh] [rbp+A4h]
  float v654; // [rsp+1B0h] [rbp+A8h]
  float v655; // [rsp+1B4h] [rbp+ACh]
  float v656; // [rsp+1B8h] [rbp+B0h]
  float v657; // [rsp+1BCh] [rbp+B4h]
  float v658; // [rsp+1C0h] [rbp+B8h]
  float v659; // [rsp+1C4h] [rbp+BCh]
  __int128 v660; // [rsp+1C8h] [rbp+C0h]
  float v661; // [rsp+1D8h] [rbp+D0h]
  float v662; // [rsp+1DCh] [rbp+D4h]
  double v663; // [rsp+1E0h] [rbp+D8h]
  int v665; // [rsp+1F8h] [rbp+F0h]
  unsigned int v666; // [rsp+208h] [rbp+100h] BYREF
  bool v667; // [rsp+20Ch] [rbp+104h]
  __int128 v668; // [rsp+210h] [rbp+108h] BYREF
  __int128 v669; // [rsp+220h] [rbp+118h]
  unsigned int v670; // [rsp+230h] [rbp+128h] BYREF
  bool v671; // [rsp+234h] [rbp+12Ch]
  __int128 v672; // [rsp+238h] [rbp+130h] BYREF
  double v673; // [rsp+248h] [rbp+140h]
  volatile signed __int64 *v674; // [rsp+250h] [rbp+148h] BYREF
  char v675; // [rsp+258h] [rbp+150h]
  float v676[13]; // [rsp+268h] [rbp+160h] BYREF
  __int64 v677; // [rsp+29Ch] [rbp+194h]
  int v678; // [rsp+2A4h] [rbp+19Ch]
  __int64 v679; // [rsp+2A8h] [rbp+1A0h] BYREF
  __int64 v680; // [rsp+2B0h] [rbp+1A8h]
  double v681; // [rsp+2B8h] [rbp+1B0h]
  __int64 v682; // [rsp+2C8h] [rbp+1C0h] BYREF
  _QWORD *buf_2; // [rsp+2D0h] [rbp+1C8h]
  __int64 v684; // [rsp+2D8h] [rbp+1D0h]
  unsigned __int64 *v685; // [rsp+2E0h] [rbp+1D8h] BYREF
  __int128 v686; // [rsp+2E8h] [rbp+1E0h]
  __int64 n7; // [rsp+2F8h] [rbp+1F0h]
  __int64 n8; // [rsp+300h] [rbp+1F8h]
  __int64 *v689[2]; // [rsp+308h] [rbp+200h] BYREF
  __int64 **v690; // [rsp+318h] [rbp+210h] BYREF
  __m256 v691; // [rsp+328h] [rbp+220h] BYREF
  float v692; // [rsp+348h] [rbp+240h]
  int v693; // [rsp+34Ch] [rbp+244h]
  __int64 v694; // [rsp+350h] [rbp+248h]
  int v695; // [rsp+358h] [rbp+250h]
  double v696; // [rsp+35Ch] [rbp+254h]
  int v697; // [rsp+364h] [rbp+25Ch]
  __int64 v698; // [rsp+368h] [rbp+260h] BYREF
  _QWORD *buf_3; // [rsp+370h] [rbp+268h]
  __int64 v700; // [rsp+378h] [rbp+270h]
  unsigned __int64 *v701; // [rsp+380h] [rbp+278h] BYREF
  __int128 v702; // [rsp+388h] [rbp+280h]
  __int64 n7_1; // [rsp+398h] [rbp+290h]
  __int64 n8_1; // [rsp+3A0h] [rbp+298h]
  double v705[4]; // [rsp+3A8h] [rbp+2A0h] BYREF
  double v706[3]; // [rsp+3C8h] [rbp+2C0h] BYREF
  float v707; // [rsp+3E0h] [rbp+2D8h]
  float v708; // [rsp+3E4h] [rbp+2DCh]
  float v709; // [rsp+3E8h] [rbp+2E0h]
  float v710; // [rsp+3ECh] [rbp+2E4h]
  float v711; // [rsp+3F0h] [rbp+2E8h]
  float v712; // [rsp+3F4h] [rbp+2ECh]
  float v713; // [rsp+3F8h] [rbp+2F0h]
  float v714; // [rsp+3FCh] [rbp+2F4h]
  float v715; // [rsp+400h] [rbp+2F8h]
  float v716; // [rsp+404h] [rbp+2FCh]
  __int128 v717; // [rsp+408h] [rbp+300h]
  float v718; // [rsp+418h] [rbp+310h]
  float v719; // [rsp+41Ch] [rbp+314h]
  double v720; // [rsp+420h] [rbp+318h]
  int v722; // [rsp+438h] [rbp+330h]
  double v723[3]; // [rsp+448h] [rbp+340h] BYREF
  float v724; // [rsp+460h] [rbp+358h]
  float v725; // [rsp+464h] [rbp+35Ch]
  float v726; // [rsp+468h] [rbp+360h]
  float v727; // [rsp+46Ch] [rbp+364h]
  float v728; // [rsp+470h] [rbp+368h]
  float v729; // [rsp+474h] [rbp+36Ch]
  float v730; // [rsp+478h] [rbp+370h]
  float v731; // [rsp+47Ch] [rbp+374h]
  float v732; // [rsp+480h] [rbp+378h]
  float v733; // [rsp+484h] [rbp+37Ch]
  __int128 v734; // [rsp+488h] [rbp+380h]
  float v735; // [rsp+498h] [rbp+390h]
  float v736; // [rsp+49Ch] [rbp+394h]
  double v737; // [rsp+4A0h] [rbp+398h]
  int v739; // [rsp+4B8h] [rbp+3B0h]
  _QWORD v740[2]; // [rsp+4C8h] [rbp+3C0h] BYREF
  float v741; // [rsp+4D8h] [rbp+3D0h]
  int n3; // [rsp+4DCh] [rbp+3D4h]
  int v743; // [rsp+4E0h] [rbp+3D8h]
  __int64 (__fastcall **v744)(); // [rsp+500h] [rbp+3F8h]
  _QWORD *v745; // [rsp+508h] [rbp+400h]
  __int64 v746; // [rsp+550h] [rbp+448h]
  __int128 v747; // [rsp+558h] [rbp+450h] BYREF
  __int128 v748; // [rsp+568h] [rbp+460h] BYREF
  char v749[8]; // [rsp+578h] [rbp+470h] BYREF
  __int128 v750; // [rsp+580h] [rbp+478h] BYREF
  __int128 v751; // [rsp+590h] [rbp+488h] BYREF
  __int128 v752; // [rsp+5A0h] [rbp+498h] BYREF
  __int128 v753[4]; // [rsp+5B0h] [rbp+4A8h] BYREF
  unsigned __int64 v754; // [rsp+5F0h] [rbp+4E8h]
  int v755; // [rsp+5F8h] [rbp+4F0h]
  __int64 v756; // [rsp+5FCh] [rbp+4F4h]
  float v757; // [rsp+604h] [rbp+4FCh]
  _DWORD v758[20]; // [rsp+608h] [rbp+500h] BYREF
  char v759[16]; // [rsp+658h] [rbp+550h] BYREF
  char v760[16]; // [rsp+668h] [rbp+560h] BYREF
  char v761[16]; // [rsp+678h] [rbp+570h] BYREF
  char v762[16]; // [rsp+688h] [rbp+580h] BYREF
  double v763[3]; // [rsp+698h] [rbp+590h] BYREF
  _QWORD *v764; // [rsp+6B0h] [rbp+5A8h] BYREF
  int v765; // [rsp+6B8h] [rbp+5B0h]
  int v766; // [rsp+6BCh] [rbp+5B4h]
  __m256 *v767; // [rsp+6C0h] [rbp+5B8h]
  __m256 *v768; // [rsp+6C8h] [rbp+5C0h]
  __int128 v769; // [rsp+6D8h] [rbp+5D0h]
  __int128 v770; // [rsp+6E8h] [rbp+5E0h]
  __int128 v771; // [rsp+6F8h] [rbp+5F0h]
  __int128 v772; // [rsp+708h] [rbp+600h]
  __int128 v773; // [rsp+718h] [rbp+610h]
  __int128 v774; // [rsp+728h] [rbp+620h]
  __int128 v775; // [rsp+738h] [rbp+630h]
  __int128 v776; // [rsp+748h] [rbp+640h]
  __int128 v777; // [rsp+758h] [rbp+650h]
  __int128 v778; // [rsp+768h] [rbp+660h]

  v778 = v4;
  v777 = v5;
  v776 = v6;
  v775 = v7;
  v774 = v8;
  v773 = v9;
  v772 = v10;
  v771 = v11;
  v770 = v12;
  v769 = v13;
  v14 = 0;
  *(_QWORD *)&v645 = a2;
  v607 = 0;
  *(_QWORD *)&v668 = a4;
  v16 = 0;
  v636 = 0;
  v18 = a1;
  v641 = a1;
  v758[0] = 0xFFFFFFFF;
  v19 = sub_1465FEB70();
  if ( !*((_QWORD *)v19 + 0x1E) )
  {
    v20 = (_QWORD *)sub_1402A63D0(0x70u);
    if ( v20 )
      v21 = sub_1465AEDF0(v20);
    else
      v21 = 0;
    *((_QWORD *)v19 + 0x1E) = v21;
  }
  __asm
  {
    vmovupd ymm0, cs:ymmword_148ACECC0
    vmovupd xmm1, cs:xmmword_148ACEC60
    vmovupd [rbp+6A0h+var_658], ymm0
    vmovupd [rbp+6A0h+var_638], xmm1
    vmovupd [rbp+6A0h+var_6A0], ymm0
  }
  _XMM0 = 0;
  __asm { vmovupd [rbp+6A0h+var_680], xmm1 }
  v638 = 0.0;
  v661 = 0.0;
  v662 = 0.0;
  v681 = 0.0;
  v663 = 0.0;
  v660 = 0;
  __asm { vmovupd [rbp+6A0h+var_5C0], xmm0 }
  v665 = 0;
  __asm { vzeroupper }
  sub_140339170((double *)&v672, a4, (double *)(v18 + 0x1C0));
  v25 = a4[1];
  v26 = a4[3];
  v27 = a4[2];
  v28 = *(float *)(v18 + 0x1DC);
  v29 = *(float *)(v18 + 0x1D8);
  v30 = *(float *)(v18 + 0x1E0);
  v31 = *(float *)(v18 + 0x1E4);
  _XMM11 = COERCE_UNSIGNED_INT64(v28 * *a4 - v29 * v25 + v30 * v26 + v31 * v27);
  _XMM6 = COERCE_UNSIGNED_INT64(v29 * v27 - v30 * *a4 + v28 * v26 + v31 * v25);
  _XMM5 = COERCE_UNSIGNED_INT64(v30 * v25 - v28 * v27 + v29 * v26 + v31 * *a4);
  __asm
  {
    vcvtsd2ss xmm4, xmm5, xmm5
    vcvtsd2ss xmm5, xmm6, xmm6
  }
  _XMM0 = COERCE_UNSIGNED_INT64(v31 * v26 - (v28 * v25 + v29 * *a4 + v30 * v27));
  __asm
  {
    vcvtsd2ss xmm14, xmm0, xmm0
    vcvtsd2ss xmm13, xmm11, xmm11
  }
  *(float *)&v29 = 1.0 - (float)((float)(*(float *)&_XMM4 + *(float *)&_XMM4) * *(float *)&_XMM4);
  v639 = *(float *)&_XMM14;
  v644 = *(float *)&_XMM4;
  v629 = *(float *)&_XMM5;
  v640 = *(float *)&_XMM13;
  *(float *)&_XMM11 = (float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM5;
  *(float *)&v25 = (float)(*(float *)&_XMM4 + *(float *)&_XMM4) * *(float *)&_XMM14;
  *(float *)&_XMM6 = (float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM4;
  *(float *)&v27 = (float)(*(float *)&_XMM13 + *(float *)&_XMM13) * *(float *)&_XMM5;
  *(float *)&v26 = (float)(*(float *)&_XMM5 + *(float *)&_XMM5) * *(float *)&_XMM14;
  *(float *)&v31 = (float)(*(float *)&_XMM13 + *(float *)&_XMM13) * *(float *)&_XMM4;
  v40 = *(_DWORD *)(v18 + 0x1F0);
  v653 = (float)((float)(*(float *)&_XMM13 + *(float *)&_XMM13) * *(float *)&_XMM14) + *(float *)&_XMM6;
  v648 = v672;
  v691 = ymmword_148199FE0;
  v694 = *(_QWORD *)(v18 + 0x1E8);
  *(_QWORD *)&_XMM0 = *(_QWORD *)(v18 + 0x1F4);
  v654 = *(float *)&v29 - (float)((float)(*(float *)&_XMM13 + *(float *)&_XMM13) * *(float *)&_XMM13);
  v695 = v40;
  v41 = *(_DWORD *)(v18 + 0x1FC);
  v696 = *(double *)&_XMM0;
  v650 = (float)(1.0 - *(float *)&_XMM11) - (float)((float)(*(float *)&_XMM13 + *(float *)&_XMM13) * *(float *)&_XMM13);
  v651 = *(float *)&_XMM6 - (float)((float)(*(float *)&_XMM13 + *(float *)&_XMM13) * *(float *)&_XMM14);
  v652 = *(float *)&v31 + *(float *)&v26;
  v655 = *(float *)&v27 - *(float *)&v25;
  v656 = *(float *)&v31 - *(float *)&v26;
  v657 = *(float *)&v27 + *(float *)&v25;
  v658 = *(float *)&v29 - *(float *)&_XMM11;
  v659 = 1.0;
  v692 = 1.0;
  v649 = v673;
  v697 = v41;
  v693 = 0;
  __asm { vzeroupper }
  sub_146646860((__int64)v740);
  v743 = 1;
  _InterlockedIncrement(&dword_14A135B7C);
  v746 = 1;
  v740[0] = &off_148ABFE50;
  v744 = &off_148ABFD68;
  v745 = v740;
  v741 = 0.0;
  n3 = 3;
  sub_146666E30((__int64)v740);
  sub_146670E80((__int64)v740, a2, (double *)&v648, 1, *(_DWORD *)(v18 + 0xF4));
  v42 = *((_QWORD *)v19 + 0x1E);
  n4 = *(int *)(v18 + 0x290);
  if ( n4 >= *(_QWORD *)(v42 + 0x68) )
  {
    *(_QWORD *)(v42 + 0x68) = n4;
    sub_14676E0F0((__int64 *)(*((_QWORD *)v19 + 0x1E) + 0x60LL), n4);
  }
  v44 = *((_QWORD *)v19 + 0x1E);
  v45 = *(int *)(v18 + 0x290);
  if ( v45 >= *(_QWORD *)(v44 + 0x40) )
  {
    *(_QWORD *)(v44 + 0x40) = (int)v45 + 1;
    sub_14676E0B0((__int64 *)(*((_QWORD *)v19 + 0x1E) + 0x30LL), 2LL * ((int)v45 + 1));
  }
  v46 = 0x2000000000LL;
  v613 = 0;
  v610 = 0x2000000000LL;
  v625 = *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x60LL);
  if ( *(int *)(v18 + 0x290) > 0 )
  {
    v47 = 0;
    v48 = *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x60LL) + 0x34LL;
    v49 = 0;
    v50 = 0;
    do
    {
      v51 = *(double *)(v14 + *(_QWORD *)(v18 + 0x248));
      v637 = v51;
      if ( v51 != 0.0 && (*(_DWORD *)(*(_QWORD *)(v14 + *(_QWORD *)(v18 + 0x238)) + 0x4CLL) & 0x10000000) == 0 )
      {
        v610 = *(_QWORD *)&v51 | v46;
        (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v18 + 0x270LL))(v18, v50);
        *(_QWORD *)(v48 - 0x34) = **(_QWORD **)(v14 + *(_QWORD *)(v18 + 0x238));
        v52 = *(_QWORD *)(v18 + 0x260);
        v53 = *(float *)(v49 + v52);
        *(float *)(v48 - 0x2C) = v53;
        v605 = v53;
        v54 = *(float *)(v49 + v52 + 4);
        *(float *)(v48 - 0x28) = v54;
        v603 = v54;
        v55 = *(float *)(v49 + v52 + 8);
        *(float *)(v48 - 0x24) = v55;
        v589 = v55;
        v56 = *(float *)(v49 + v52 + 0xC);
        *(float *)(v48 - 0x20) = v56;
        v592 = v56;
        v57 = *(float *)(v49 + v52 + 0x10);
        *(float *)(v48 - 0x1C) = v57;
        v601 = v57;
        v58 = *(float *)(v49 + v52 + 0x14);
        *(float *)(v48 - 0x18) = v58;
        v583 = v58;
        v59 = *(float *)(v49 + v52 + 0x18);
        *(float *)(v48 - 0x14) = v59;
        v579 = v59;
        v60 = *(float *)(v49 + v52 + 0x1C);
        *(float *)(v48 - 0x10) = v60;
        v586 = v60;
        v61 = *(float *)(v49 + v52 + 0x20);
        *(float *)(v48 - 0xC) = v61;
        *(_DWORD *)(v48 - 8) = *(_DWORD *)(v49 + v52 + 0x24);
        v598 = v61;
        *(double *)(v48 - 4) = *(double *)(v49 + v52 + 0x28);
        *(_DWORD *)(v48 + 4) = *(_DWORD *)(v49 + v52 + 0x30);
        *(double *)(v48 + 8) = *(double *)(v49 + v52 + 0x34);
        *(_DWORD *)(v48 + 0x10) = *(_DWORD *)(v49 + v52 + 0x3C);
        v62 = *(float *)(v18 + 0x200);
        v63 = v62 * *(float *)v48;
        v64 = *(_QWORD *)(v18 + 0x240);
        *(float *)(v48 - 4) = v62 * *(float *)(v48 - 4);
        *(float *)(v48 + 4) = v62 * *(float *)(v48 + 4);
        *(float *)v48 = v63;
        v65 = *(float *)(v18 + 0x200);
        v66 = v65 * *(float *)(v48 + 0xC);
        *(float *)(v48 + 8) = v65 * *(float *)(v48 + 8);
        *(float *)(v48 + 0x10) = v65 * *(float *)(v48 + 0x10);
        *(float *)(v48 + 0xC) = v66;
        v67 = *(_QWORD *)(v14 + v64);
        *(double *)(v48 + 0x94) = v637;
        *(_QWORD *)(v48 + 0x8C) = v67;
        *(_DWORD *)(v48 + 0x9C) = v50;
        v68 = *(_QWORD *)(v18 + 0x210);
        v69 = *(float *)(v68 + 0x18);
        v70 = *(float *)(v68 + 0x1C);
        v71 = *(float *)(v68 + 0x20);
        v72 = *(float *)(v68 + 0x24);
        v73 = 1.0 - (float)((float)(v69 + v69) * v69);
        v74 = (float)(v70 + v70) * v70;
        v75 = v72 * (float)(v69 + v69);
        v76 = v69 * (float)(v70 + v70);
        LODWORD(v64) = *(_DWORD *)(v48 + 4);
        v77 = *(float *)(v48 + 0x10);
        v78 = v72 * (float)(v70 + v70);
        v79 = v70 * (float)(v71 + v71);
        v80 = (float)(v71 + v71) * v71;
        v622 = (float)(1.0 - v74) - v80;
        v81 = v72 * (float)(v71 + v71);
        v614 = v76 - v81;
        v82 = v69 * (float)(v71 + v71);
        v595 = v82 + v78;
        v618 = v81 + v76;
        v754 = *(_QWORD *)(v48 - 4);
        v620 = v73 - v80;
        v633 = v82 - v78;
        v756 = *(_QWORD *)(v48 + 8);
        v616 = v79 - v75;
        v755 = v64;
        v631 = v73 - v74;
        v83 = v79 + v75;
        v84 = _mm_shuffle_ps((__m128)v754, (__m128)v754, 0x55).m128_f32[0];
        v85 = *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x30LL);
        v86 = (float)((float)(v70 * *(float *)&v64) - (float)(v71 * v84)) + (float)(v72 * *(float *)&v754);
        v757 = v77;
        v87 = (float)((float)(v71 * *(float *)&v754) - (float)(v69 * *(float *)&v64)) + (float)(v72 * v84);
        v88 = (float)((float)(v69 * v84) - (float)(v70 * *(float *)&v754)) + (float)(v72 * *(float *)&v64);
        v89 = (float)((float)(v88 * v70) - (float)(v87 * v71))
            + (float)((float)((float)(v88 * v70) - (float)(v87 * v71)) + *(float *)&v754);
        v90 = v88 * v69;
        v91 = *(double *)(v68 + 0x10);
        v92 = *(double *)(v68 + 8);
        *(double *)(v85 + v47 + 0x18) = v89 + *(double *)v68;
        *(double *)(v85 + v47 + 0x20) = (float)((float)((float)(v86 * v71) - v90)
                                              + (float)((float)((float)(v86 * v71) - v90) + v84))
                                      + v92;
        *(double *)(v85 + v47 + 0x28) = (float)((float)((float)(v87 * v69) - (float)(v86 * v70))
                                              + (float)((float)((float)(v87 * v69) - (float)(v86 * v70)) + *(float *)&v64))
                                      + v91;
        v93 = *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x30LL);
        *(_OWORD *)(v93 + v47) = *(_OWORD *)(v93 + v47 + 0x18);
        v94 = *((float *)&v756 + 1);
        v95 = *(float *)&v756;
        *(double *)(v93 + v47 + 0x10) = *(double *)(v93 + v47 + 0x28);
        v96 = *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x30LL);
        v97 = (float)((float)((float)(fabs((float)((float)(v83 * v601) + (float)(v633 * v592)) + (float)(v631 * v583))
                                    * v94)
                            + (float)(fabs((float)((float)(v83 * v603) + (float)(v633 * v605)) + (float)(v631 * v589))
                                    * v95))
                    + (float)(fabs((float)((float)(v83 * v586) + (float)(v633 * v579)) + (float)(v631 * v598)) * v77));
        v98 = *(double *)(v47 + v96 + 0x10) - v97;
        v99 = (float)((float)((float)(fabs((float)((float)(v620 * v601) + (float)(v618 * v592)) + (float)(v616 * v583))
                                    * v94)
                            + (float)(fabs((float)((float)(v620 * v603) + (float)(v618 * v605)) + (float)(v616 * v589))
                                    * v95))
                    + (float)(fabs((float)((float)(v620 * v586) + (float)(v618 * v579)) + (float)(v616 * v598)) * v77));
        ++v613;
        v48 += 0xD8;
        v46 = v610;
        *(double *)(v47 + v96 + 8) = *(double *)(v47 + v96 + 8) - v99;
        *(double *)(v47 + v96 + 0x10) = v98;
        v100 = (float)((float)((float)(fabs((float)((float)(v614 * v601) + (float)(v622 * v592)) + (float)(v595 * v583))
                                     * v94)
                             + (float)(fabs((float)((float)(v614 * v603) + (float)(v622 * v605)) + (float)(v595 * v589))
                                     * v95))
                     + (float)(fabs((float)((float)(v614 * v586) + (float)(v622 * v579)) + (float)(v595 * v598)) * v77));
        *(double *)(v47 + v96) = *(double *)(v47 + v96) - v100;
        v101 = *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x30LL);
        v102 = v97 + *(double *)(v101 + v47 + 0x28);
        v103 = v99 + *(double *)(v101 + v47 + 0x20);
        *(double *)(v101 + v47 + 0x18) = v100 + *(double *)(v101 + v47 + 0x18);
        *(double *)(v101 + v47 + 0x28) = v102;
        *(double *)(v101 + v47 + 0x20) = v103;
        _XMM0 = *(unsigned __int64 *)v646.m256_f32;
        _XMM2 = *(unsigned __int64 *)&v646.m256_f32[2];
        __asm { vminsd  xmm1, xmm0, qword ptr [rdi+rcx] }
        *(double *)v646.m256_f32 = *(double *)&_XMM1;
        _XMM1 = *(unsigned __int64 *)&v646.m256_f32[4];
        __asm { vminsd  xmm0, xmm2, xmm3 }
        *(double *)&v646.m256_f32[2] = *(double *)&_XMM0;
        _XMM0 = *(unsigned __int64 *)&v646.m256_f32[6];
        __asm { vminsd  xmm2, xmm1, xmm4 }
        *(double *)&v646.m256_f32[4] = *(double *)&_XMM2;
        _XMM2 = (unsigned __int64)v647;
        __asm { vmaxsd  xmm1, xmm0, qword ptr [rcx+rdi+18h] }
        __asm { vmaxsd  xmm0, xmm2, xmm3 }
        *(double *)&v646.m256_f32[6] = *(double *)&_XMM1;
        _XMM1 = *((unsigned __int64 *)&v647 + 1);
        __asm { vmaxsd  xmm2, xmm1, xmm4 }
        *((double *)&v647 + 1) = *(double *)&_XMM2;
        *(double *)&v647 = *(double *)&_XMM0;
        v47 += 0x30;
      }
      ++v50;
      v14 += 8;
      v49 += 0x40;
    }
    while ( (signed int)v50 < *(_DWORD *)(v18 + 0x290) );
    v16 = 0;
  }
  v116 = (__int64 *)*((_QWORD *)v19 + 0x1F);
  n0x2000 = 0x2000;
  v584 = 0;
  if ( !v116 )
  {
    v118 = (__int64 *)sub_1402A63D0(0x18u);
    if ( v118 )
      v116 = sub_1465B1390(v118);
    else
      v116 = 0;
    *((_QWORD *)v19 + 0x1F) = v116;
  }
  v119 = sub_1465E5B30(v116, 0x220000u);
  v120 = *(_QWORD *)(v18 + 0x2C0);
  v121 = *(_QWORD *)(v18 + 0xB8);
  v630 = v119;
  v122 = *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
  v123 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v18 + 0x340LL))(v18);
  v602 = sub_146922A80(v120, (int)v18 + 0x10, (int)v18 + 0x28, (unsigned int)&v679, v123, v18, v122, v121, 0);
  if ( v602 > 0 )
  {
    v124 = 0;
    v623 = 0;
    v125 = 0;
    v626 = 0;
    do
    {
      v126 = *(_QWORD *)(v679 + 8 * v124);
      v127 = *(int *)(v126 + 0x290);
      v596 = *(_DWORD *)(v126 + 0x290);
      if ( v126 != v18 || (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v126 + 8LL))(v126) == 6 )
      {
        v128 = *(float *)(v126 + 0x1D8);
        v129 = *(float *)(v126 + 0x1E4);
        v130 = *(_QWORD *)(v18 + 0x210);
        LODWORD(v131) = *(_DWORD *)(v126 + 0x1E0) ^ 0x80000000;
        LODWORD(v132) = *(_DWORD *)(v126 + 0x1DC) ^ 0x80000000;
        v133 = *(float *)(v130 + 0x1C);
        v134 = *(float *)(v130 + 0x18);
        v135 = *(float *)(v130 + 0x20);
        v136 = *(float *)(v130 + 0x24);
        LODWORD(v676[9]) = 1;
        v137 = (float)((float)(v135 * v129) - (float)((float)(v132 * v134) + (float)(v128 * v133)))
             + (float)(v131 * v136);
        v138 = (float)((float)(v132 * v136) + (float)(v133 * v129))
             + (float)((float)(v131 * v134) + (float)(v128 * v135));
        v139 = (float)((float)((float)(v132 * v135) - (float)(v131 * v133)) + (float)(v134 * v129))
             - (float)(v128 * v136);
        v140 = v128 * v134;
        v141 = v138 * (float)(v137 + v137);
        v142 = (float)((float)(v132 * v133) - v140) + (float)(v131 * v135);
        v143 = v139 + v139;
        v144 = 1.0 - (float)((float)(v139 + v139) * v139);
        v145 = (float)(v138 + v138) * v139;
        v146 = (float)(v137 + v137) * v139;
        v147 = (float)(v136 * v129) - v142;
        v148 = v143 * v147;
        v149 = v138 * (float)(v138 + v138);
        v150 = (float)(v137 + v137) * v137;
        v151 = (float)(v137 + v137) * v147;
        v676[1] = v145 - v151;
        v152 = (float)(v138 + v138) * v147;
        v676[3] = v151 + v145;
        v676[0] = (float)(1.0 - v149) - v150;
        v676[4] = v144 - v150;
        v676[6] = v146 - v152;
        v676[2] = v146 + v152;
        v676[5] = v141 - v148;
        v676[7] = v141 + v148;
        v676[8] = v144 - v149;
        v153 = *(float *)(v126 + 0x1DC);
        v154 = *(unsigned int *)(v126 + 0x1F0);
        v155 = *(float *)(v126 + 0x1E0);
        v156 = *(float *)(v126 + 0x1EC);
        v157 = *(float *)(v126 + 0x1E4);
        v158 = *(float *)(v126 + 0x1E8);
        v159 = v154;
        v160 = *(float *)(v126 + 0x1D8);
        *(float *)&v159 = (float)((float)(*(float *)&v154 * v153) - (float)(v156 * v155)) + (float)(v158 * v157);
        v161 = v159;
        v162 = LODWORD(v158);
        *(float *)&v162 = (float)((float)(v158 * v155) - (float)(v160 * *(float *)&v154)) + (float)(v157 * v156);
        v163 = v162;
        v164 = LODWORD(v160);
        v165 = (float)((float)(v160 * v156) - (float)(v158 * v153)) + (float)(v157 * *(float *)&v154);
        *(float *)&v164 = (float)((float)(v165 * v153) - (float)(*(float *)&v163 * v155))
                        + (float)((float)((float)(v165 * v153) - (float)(*(float *)&v163 * v155)) + v158);
        v166 = v164;
        v167 = v161;
        *(float *)&v167 = *(float *)&v161 * v155;
        v168 = *(float *)(v130 + 0x18);
        *(float *)&v167 = *(float *)&v167 - (float)(v165 * v160);
        v169 = *(float *)&v167 + v156;
        v170 = *(float *)(v130 + 0x1C);
        *(float *)&v167 = *(float *)&v167 + v169;
        v171 = v167;
        *((_QWORD *)&v167 + 1) = *((_QWORD *)&v163 + 1);
        *(double *)&v167 = (float)((float)((float)(*(float *)&v163 * v160) - (float)(*(float *)&v161 * v153))
                                 + (float)((float)((float)(*(float *)&v163 * v160) - (float)(*(float *)&v161 * v153))
                                         + *(float *)&v154))
                         + *(double *)(v126 + 0x1D0)
                         - *(double *)(v130 + 0x10);
        _XMM5 = v167;
        *((_QWORD *)&v167 + 1) = *((_QWORD *)&v171 + 1);
        *(double *)&v167 = *(float *)&v171 + *(double *)(v126 + 0x1C8) - *(double *)(v130 + 8);
        _XMM4 = v167;
        __asm { vcvtsd2ss xmm11, xmm4, xmm4 }
        LODWORD(_XMM4) = *(_DWORD *)(v130 + 0x24);
        __asm { vcvtsd2ss xmm12, xmm5, xmm5 }
        LODWORD(_XMM5) = *(_DWORD *)(v130 + 0x20);
        *((_QWORD *)&v167 + 1) = *((_QWORD *)&v166 + 1);
        *(double *)&v167 = *(float *)&v166 + *(double *)(v126 + 0x1C0) - *(double *)v130;
        _XMM2 = v167;
        __asm { vcvtsd2ss xmm6, xmm2, xmm2 }
        *(float *)&v161 = (float)((float)(*(float *)&_XMM5 * *(float *)&_XMM11) - (float)(v170 * *(float *)&_XMM12))
                        + (float)(*(float *)&_XMM4 * *(float *)&_XMM6);
        v178 = (float)((float)(v168 * *(float *)&_XMM12) - (float)(*(float *)&_XMM5 * *(float *)&_XMM6))
             + (float)(*(float *)&_XMM4 * *(float *)&_XMM11);
        *(float *)&v167 = (float)((float)(v170 * *(float *)&_XMM6) - (float)(v168 * *(float *)&_XMM11))
                        + (float)(*(float *)&_XMM4 * *(float *)&_XMM12);
        v676[0xA] = (float)((float)(v178 * *(float *)&_XMM5) - (float)(*(float *)&v167 * v170))
                  + (float)((float)((float)(v178 * *(float *)&_XMM5) - (float)(*(float *)&v167 * v170))
                          + *(float *)&_XMM6);
        v676[0xB] = (float)((float)(*(float *)&v167 * v168) - (float)(*(float *)&v161 * *(float *)&_XMM5))
                  + (float)((float)((float)(*(float *)&v167 * v168) - (float)(*(float *)&v161 * *(float *)&_XMM5))
                          + *(float *)&_XMM11);
        v676[0xC] = (float)((float)(*(float *)&v161 * v170) - (float)(v178 * v168))
                  + (float)((float)((float)(*(float *)&v161 * v170) - (float)(v178 * v168)) + *(float *)&_XMM12);
        v677 = *(_QWORD *)(v126 + 0x1F4);
        v678 = *(_DWORD *)(v126 + 0x1FC);
        v179 = *(_OWORD *)(v126 + 0x1C0);
        v180 = *(double *)(v126 + 0x1D0);
        v181 = *(float *)(v126 + 0x1D8);
        v182 = *(float *)(v126 + 0x1DC);
        v183 = *(float *)(v126 + 0x1E0);
        v184 = *(float *)(v126 + 0x1E4);
        sub_146666E30((__int64)v740);
        sub_146670E80((__int64)v740, (__int64 *)v645, (double *)&v648, 1, 3u);
        v758[0] = 0xFFFFFFFF;
        if ( sub_1466DE670((__int64)&v691, (__int64)v676, (__int64)v758) )
        {
          v185 = *((_QWORD *)v19 + 0x1E);
          if ( v127 + v16 >= *(_QWORD *)(v185 + 0x48) )
          {
            v186 = v127 + v16 + 1;
            *(_QWORD *)(v185 + 0x48) = v186;
            sub_14676E0B0((__int64 *)(*((_QWORD *)v19 + 0x1E) + 0x38LL), 2 * v186);
          }
          v187 = 0;
          if ( (int)v127 > 0 )
          {
            v188 = 0;
            n0x2000_1 = v584 + 1;
            v189 = v610;
            v608 = 0x110 * v125;
            v190 = 0x30 * v16;
            do
            {
              if ( (v189 & *(_QWORD *)(v188 + *(_QWORD *)(v126 + 0x240))) != 0 )
              {
                if ( (*(_DWORD *)(*(_QWORD *)(v188 + *(_QWORD *)(v126 + 0x238)) + 0x4CLL) & 0x10000000) == 0 )
                {
                  sub_1468DE490(v126, v187, v190 + *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x38LL));
                  ++v16;
                  _XMM0 = *(unsigned __int64 *)v642.m256_f32;
                  _XMM2 = *(unsigned __int64 *)&v642.m256_f32[2];
                  n0x2000_2 = n0x2000_1;
                  __asm { vminsd  xmm1, xmm0, qword ptr [rdi+rcx] }
                  *(double *)v642.m256_f32 = *(double *)&_XMM1;
                  _XMM1 = *(unsigned __int64 *)&v642.m256_f32[4];
                  __asm { vminsd  xmm0, xmm2, xmm3 }
                  *(double *)&v642.m256_f32[2] = *(double *)&_XMM0;
                  _XMM0 = *(unsigned __int64 *)&v642.m256_f32[6];
                  __asm { vminsd  xmm2, xmm1, xmm4 }
                  *(double *)&v642.m256_f32[4] = *(double *)&_XMM2;
                  _XMM2 = (unsigned __int64)v643;
                  __asm { vmaxsd  xmm1, xmm0, qword ptr [rcx+rdi+18h] }
                  __asm { vmaxsd  xmm0, xmm2, xmm3 }
                  *(double *)&v642.m256_f32[6] = *(double *)&_XMM1;
                  _XMM1 = *((unsigned __int64 *)&v643 + 1);
                  v190 += 0x30;
                  __asm { vmaxsd  xmm2, xmm1, xmm4 }
                  *((double *)&v643 + 1) = *(double *)&_XMM2;
                  *(double *)&v643 = *(double *)&_XMM0;
                  if ( n0x2000_1 <= n0x2000 )
                  {
                    v204 = v630;
                  }
                  else
                  {
                    n0x2000 += 0x2000;
                    v204 = sub_1465E5B30(*((_QWORD **)v19 + 0x1F), 0x110LL * n0x2000);
                    n0x2000_2 = n0x2000_1;
                    v630 = v204;
                  }
                  ++v584;
                  v205 = v608 + v204;
                  ++v626;
                  *(_QWORD *)v205 = v126;
                  n0x2000_1 = n0x2000_2 + 1;
                  v608 += 0x110;
                  *(_QWORD *)(v205 + 8) = **(_QWORD **)(v188 + *(_QWORD *)(v126 + 0x238));
                  *(_DWORD *)(v205 + 0x34) = 2;
                  *(_DWORD *)(v205 + 0x108) = 0;
                  *(double *)(v205 + 0xC8) = v181;
                  *(double *)(v205 + 0xD0) = v182;
                  *(double *)(v205 + 0xD8) = v183;
                  *(double *)(v205 + 0xE0) = v184;
                  *(_OWORD *)(v205 + 0xE8) = v179;
                  *(double *)(v205 + 0xF8) = v180;
                  *(_QWORD *)(v205 + 0x100) = *(_QWORD *)(v188 + *(_QWORD *)(v126 + 0x240));
                  *(_DWORD *)(v205 + 0x10C) = v187;
                }
                v189 = v610;
              }
              ++v187;
              v188 += 8;
            }
            while ( (int)v187 < v596 );
            v125 = v626;
            v607 = v16;
          }
          v18 = v641;
        }
      }
      v124 = v623 + 1;
      v623 = v124;
    }
    while ( v124 < v602 );
  }
  v206 = v630;
  v680 = v16;
  if ( v16 )
  {
    _XMM2 = COERCE_UNSIGNED_INT64(
              (*(double *)&v642.m256_f32[6]
             - *(double *)v642.m256_f32
             + *((double *)&v643 + 1)
             - *(double *)&v642.m256_f32[4])
            * (*(double *)&v643 - *(double *)&v642.m256_f32[2])
            + (*(double *)&v642.m256_f32[6] - *(double *)v642.m256_f32)
            * (*((double *)&v643 + 1) - *(double *)&v642.m256_f32[4]));
    __asm { vminsd  xmm0, xmm2, xmm5 }
    v209 = *(double *)&_XMM0 * 500.0;
    __asm { vmaxsd  xmm0, xmm2, xmm5 }
    if ( v209 < *(double *)&_XMM0 )
    {
      __asm
      {
        vmovupd ymm0, cs:ymmword_148ACECC0
        vmovupd xmm1, cs:xmmword_148ACEC60
      }
      v213 = 0x8000000000000000uLL;
      v214 = 0x3FF0000000000000uLL;
      v215 = v630 + 0xF0;
      v216 = 0;
      v609 = 0;
      v217 = 0x110LL * v584 + v630 + 0x70;
      v611 = 0x30 * v16;
      __asm
      {
        vmovupd [rbp+6A0h+var_6A0], ymm0
        vmovupd [rbp+6A0h+var_680], xmm1
      }
      do
      {
        v218 = *(_QWORD *)(v215 - 0xF0);
        if ( *(_DWORD *)(v215 - 0xBC) == 2 )
        {
          v219 = *(double *)(v215 - 0x10);
          v220 = *(double *)(v215 - 0x28);
          v221 = *(_QWORD *)(v18 + 0x210);
          v222 = *(unsigned __int64 *)(v215 - 0x20);
          v223 = *(int *)(v215 + 0x1C);
          v224 = *(float *)(v221 + 0x1C);
          v225 = *(float *)(v221 + 0x18);
          v226 = *(unsigned int *)(v221 + 0x20);
          v227 = *(float *)(v221 + 0x24);
          v627 = *(double *)(v215 - 0x18);
          v637 = *(double *)&v222;
          v228 = v224;
          v229 = v225;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v226 + 1);
          *(double *)&v226 = *(float *)&v226;
          v231 = v227;
          *(double *)&v230 = *(double *)&v226 * v219
                           - (COERCE_DOUBLE(v222 ^ v213) * v229
                            + v228 * v220)
                           + COERCE_DOUBLE(*(_QWORD *)&v627 ^ v213) * v231;
          v232 = v230;
          *((_QWORD *)&v230 + 1) = (v222 ^ v213) >> 0x40;
          v233 = COERCE_DOUBLE(v222 ^ v213) * v231
               + v228 * v219
               + COERCE_DOUBLE(*(_QWORD *)&v627 ^ v213) * v229
               + *(double *)&v226 * v220;
          v234 = COERCE_DOUBLE(v222 ^ v213) * *(double *)&v226
               - COERCE_DOUBLE(*(_QWORD *)&v627 ^ v213) * v228
               + v229 * v219
               - v231 * v220;
          v235 = COERCE_DOUBLE(v222 ^ v213) * v228
               - v229 * v220
               + COERCE_DOUBLE(*(_QWORD *)&v627 ^ v213) * *(double *)&v226;
          *(double *)&v230 = (v233 + v233) * v234;
          v236 = v230;
          *(double *)&v222 = v234 + v234;
          v237 = (v234 + v234) * v234;
          v238 = (v233 + v233) * v233;
          v239 = v231 * v219 - v235;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v232 + 1);
          *(double *)&v230 = *(double *)&v232 + *(double *)&v232;
          v240 = v230;
          *(double *)&v230 = (*(double *)&v232 + *(double *)&v232) * v233;
          v241 = v230;
          v242 = (v233 + v233) * v239;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v240 + 1);
          *(double *)&v230 = *(double *)&v240 * v234;
          v243 = v230;
          v244 = *(double *)&v240 * *(double *)&v232;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v240 + 1);
          *(double *)&v230 = *(double *)&v240 * v239;
          v245 = v230;
          v246 = *(double *)&v222 * v239;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v236 + 1);
          *(double *)&v230 = *(double *)&v236 - *(double *)&v245;
          _XMM2 = v230;
          v634 = v219;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v214 + 1);
          *(double *)&v230 = *(double *)&v214 - v237;
          v248 = v230;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v214 + 1);
          *(double *)&v230 = *(double *)&v214 - v238 - v244;
          _XMM1 = v230;
          __asm { vcvtsd2ss xmm13, xmm1, xmm1 }
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v245 + 1);
          *(double *)&v230 = *(double *)&v245 + *(double *)&v236;
          _XMM1 = v230;
          __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
          v590 = *(float *)&_XMM0;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v243 + 1);
          *(double *)&v230 = *(double *)&v243 + v242;
          _XMM0 = v230;
          __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
          v587 = *(float *)&_XMM0;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v248 + 1);
          *(double *)&v230 = *(double *)&v248 - v244;
          _XMM0 = v230;
          __asm
          {
            vcvtsd2ss xmm3, xmm0, xmm0
            vcvtsd2ss xmm15, xmm1, xmm1
          }
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v241 + 1);
          *(double *)&v230 = *(double *)&v241 - v246;
          _XMM1 = v230;
          __asm { vcvtsd2ss xmm0, xmm1, xmm1 }
          v260 = *(_QWORD *)(v218 + 0x260) + (v223 << 6);
          v581 = *(float *)&_XMM0;
          v599 = *(float *)&_XMM13;
          v593 = *(float *)&_XMM3;
          LODWORD(v244) = *(_DWORD *)(v260 + 4);
          LODWORD(v236) = *(_DWORD *)(v260 + 8);
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v241 + 1);
          *(double *)&v230 = *(double *)&v241 + v246;
          _XMM1 = v230;
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v243 + 1);
          *(double *)&v230 = *(double *)&v243 - v242;
          _XMM0 = v230;
          __asm
          {
            vcvtsd2ss xmm8, xmm1, xmm1
            vcvtsd2ss xmm7, xmm0, xmm0
          }
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v248 + 1);
          *(double *)&v230 = *(double *)&v248 - v238;
          _XMM0 = v230;
          __asm { vcvtsd2ss xmm9, xmm0, xmm0 }
          *(float *)&v230 = (float)((float)(*(float *)&v244 * *(float *)&_XMM15)
                                  + (float)(*(float *)v260 * *(float *)&_XMM13))
                          + (float)(*(float *)&v236 * *(float *)&_XMM7);
          *(float *)&_XMM2 = (float)(*(float *)&v244 * *(float *)&_XMM3) + (float)(*(float *)v260 * v590);
          LODWORD(v239) = *(_DWORD *)(v260 + 0xC);
          *(float *)&_XMM3 = *(float *)&v244 * v581;
          LODWORD(v244) = *(_DWORD *)(v260 + 0x10);
          *(float *)&_XMM13 = *(float *)&_XMM2 + (float)(*(float *)&v236 * *(float *)&_XMM8);
          *(float *)&_XMM1 = *(float *)&v236 * *(float *)&_XMM9;
          LODWORD(v236) = *(_DWORD *)(v260 + 0x14);
          *(float *)&v248 = (float)(*(float *)&_XMM3 + (float)(*(float *)v260 * v587)) + *(float *)&_XMM1;
          *(float *)&v238 = (float)((float)(*(float *)&v244 * *(float *)&_XMM15) + (float)(*(float *)&v239 * v599))
                          + (float)(*(float *)&v236 * *(float *)&_XMM7);
          *(float *)&_XMM2 = (float)(*(float *)&v244 * v593) + (float)(*(float *)&v239 * v590);
          *(float *)&_XMM0 = *(float *)&v239 * v587;
          LODWORD(v239) = *(_DWORD *)(v260 + 0x18);
          *(float *)&_XMM3 = *(float *)&v244 * v581;
          LODWORD(v244) = *(_DWORD *)(v260 + 0x1C);
          *(float *)&v246 = *(float *)&_XMM2 + (float)(*(float *)&v236 * *(float *)&_XMM8);
          *(float *)&_XMM1 = *(float *)&v236 * *(float *)&_XMM9;
          LODWORD(v236) = *(_DWORD *)(v260 + 0x20);
          *(float *)(v215 - 0xDC) = *(float *)&_XMM13;
          *(double *)&_XMM13 = v637;
          *(float *)(v215 - 0xD0) = *(float *)&v246;
          *(float *)(v215 - 0xCC) = (float)(*(float *)&_XMM3 + *(float *)&_XMM0) + *(float *)&_XMM1;
          *(float *)(v215 - 0xD8) = *(float *)&v248;
          *(float *)(v215 - 0xD4) = *(float *)&v238;
          *(float *)(v215 - 0xC8) = (float)((float)(*(float *)&v244 * *(float *)&_XMM15)
                                          + (float)(*(float *)&v239 * v599))
                                  + (float)(*(float *)&v236 * *(float *)&_XMM7);
          *(float *)(v215 - 0xC4) = (float)((float)(*(float *)&v244 * v593) + (float)(*(float *)&v239 * v590))
                                  + (float)(*(float *)&v236 * *(float *)&_XMM8);
          *(float *)(v215 - 0xC0) = (float)((float)(*(float *)&v244 * v581) + (float)(*(float *)&v239 * v587))
                                  + (float)(*(float *)&v236 * *(float *)&_XMM9);
          v267 = v215 - 0xE0;
          *(float *)(v215 - 0xE0) = *(float *)&v230;
          v268 = *(_QWORD *)(v18 + 0x210);
          v269 = *(float *)(v260 + 0x30);
          *(double *)&_XMM9 = *(float *)(v260 + 0x2C);
          v270 = *(float *)(v260 + 0x28);
          *(double *)&_XMM8 = v269 * *(double *)&_XMM13 - *(double *)&_XMM9 * v627 + v270 * v634;
          *(double *)&v236 = v270 * v627 - v269 * v220 + *(double *)&_XMM9 * v634;
          v271 = *(double *)&_XMM9 * v220 - v270 * *(double *)&_XMM13 + v269 * v634;
          *(double *)&_XMM7 = *(double *)&_XMM13 * v271
                            - v627 * *(double *)&v236
                            + v270
                            + *(double *)&_XMM13 * v271
                            - v627 * *(double *)&v236;
          *(double *)&_XMM2 = v627 * *(double *)&_XMM8 - v220 * v271;
          *(double *)&_XMM1 = *(double *)&_XMM9 + *(double *)&_XMM2;
          LODWORD(_XMM9) = *(_DWORD *)(v268 + 0x20);
          v272 = *(double *)&_XMM2 + *(double *)&_XMM1;
          *(double *)&_XMM3 = v220 * *(double *)&v236;
          *(double *)&_XMM0 = *(double *)&_XMM13 * *(double *)&_XMM8;
          LODWORD(_XMM8) = *(_DWORD *)(v268 + 0x18);
          *(double *)&_XMM1 = v269 + v220 * *(double *)&v236 - *(double *)&_XMM0;
          LODWORD(v269) = *(_DWORD *)(v268 + 0x1C);
          *(double *)&v236 = *(float *)(v218 + 0x200);
          v273 = COERCE_UNSIGNED_INT64(
                   *(double *)&v236 * (*(double *)&_XMM3 - *(double *)&_XMM0 + *(double *)&_XMM1)
                 + *(double *)(v215 + 8));
          _XMM4 = COERCE_UNSIGNED_INT64(*(double *)&v236 * v272 + *(double *)v215 - *(double *)(v268 + 8));
          *((_QWORD *)&v230 + 1) = *((_QWORD *)&v273 + 1);
          *(double *)&v230 = *(double *)&v273 - *(double *)(v268 + 0x10);
          _XMM5 = v230;
          __asm { vcvtsd2ss xmm12, xmm4, xmm4 }
          LODWORD(_XMM4) = *(_DWORD *)(v268 + 0x24);
          __asm { vcvtsd2ss xmm13, xmm5, xmm5 }
          _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v236 * *(double *)&_XMM7 + *(double *)(v215 - 8) - *(double *)v268);
          __asm { vcvtsd2ss xmm11, xmm2, xmm2 }
          *(float *)&_XMM7 = (float)((float)(*(float *)&_XMM9 * *(float *)&_XMM12)
                                   - (float)(*(float *)&v269 * *(float *)&_XMM13))
                           + (float)(*(float *)&_XMM4 * *(float *)&_XMM11);
          *(float *)&v236 = (float)((float)(*(float *)&_XMM8 * *(float *)&_XMM13)
                                  - (float)(*(float *)&_XMM9 * *(float *)&_XMM11))
                          + (float)(*(float *)&_XMM4 * *(float *)&_XMM12);
          *(float *)&_XMM4 = (float)((float)(*(float *)&v269 * *(float *)&_XMM11)
                                   - (float)(*(float *)&_XMM8 * *(float *)&_XMM12))
                           + (float)(*(float *)&_XMM4 * *(float *)&_XMM13);
          *(float *)(v215 - 0xB8) = (float)(*(float *)&_XMM11
                                          + (float)((float)(*(float *)&_XMM9 * *(float *)&v236)
                                                  - (float)(*(float *)&v269 * *(float *)&_XMM4)))
                                  + (float)((float)(*(float *)&_XMM9 * *(float *)&v236)
                                          - (float)(*(float *)&v269 * *(float *)&_XMM4));
          *(float *)(v215 - 0xB4) = (float)((float)((float)(*(float *)&_XMM8 * *(float *)&_XMM4)
                                                  - (float)(*(float *)&_XMM9 * *(float *)&_XMM7))
                                          + *(float *)&_XMM12)
                                  + (float)((float)(*(float *)&_XMM8 * *(float *)&_XMM4)
                                          - (float)(*(float *)&_XMM9 * *(float *)&_XMM7));
          *(float *)(v215 - 0xB0) = (float)((float)((float)(*(float *)&v269 * *(float *)&_XMM7)
                                                  - (float)(*(float *)&_XMM8 * *(float *)&v236))
                                          + *(float *)&_XMM13)
                                  + (float)((float)(*(float *)&v269 * *(float *)&_XMM7)
                                          - (float)(*(float *)&_XMM8 * *(float *)&v236));
          LODWORD(v273) = *(_DWORD *)(v218 + 0x200);
          LODWORD(v268) = *(_DWORD *)(v260 + 0x3C);
          *(_QWORD *)&v669 = *(_QWORD *)(v260 + 0x34);
          *(float *)(v215 - 0xAC) = *(float *)&v669 * *(float *)&v273;
          *(float *)(v215 - 0xA8) = *(float *)&v273 * *((float *)&v669 + 1);
          *(float *)(v215 - 0xA4) = *(float *)&v268 * *(float *)&v273;
          v214 = 0x3FF0000000000000uLL;
          *(_DWORD *)(v215 - 0xBC) = 1;
        }
        else
        {
          v267 = v215 - 0xE0;
        }
        v758[0] = 0xFFFFFFFF;
        __asm { vzeroupper }
        v280 = sub_1466DE670((__int64)&v691, v267, (__int64)v758);
        v281 = *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x38LL);
        if ( v280 )
        {
          _XMM0 = *(unsigned __int64 *)v642.m256_f32;
          __asm { vminsd  xmm1, xmm0, qword ptr [rdx+rsi] }
          _XMM2 = *(unsigned __int64 *)&v642.m256_f32[2];
          v215 += 0x110;
          *(double *)v642.m256_f32 = *(double *)&_XMM1;
          _XMM1 = *(unsigned __int64 *)&v642.m256_f32[4];
          __asm { vminsd  xmm0, xmm2, xmm3 }
          *(double *)&v642.m256_f32[2] = *(double *)&_XMM0;
          _XMM0 = *(unsigned __int64 *)&v642.m256_f32[6];
          __asm { vminsd  xmm2, xmm1, xmm4 }
          *(double *)&v642.m256_f32[4] = *(double *)&_XMM2;
          v289 = v609 + 1;
          _XMM2 = (unsigned __int64)v643;
          ++v609;
          __asm { vmaxsd  xmm1, xmm0, qword ptr [rcx+rsi+18h] }
          __asm { vmaxsd  xmm0, xmm2, xmm3 }
          *(double *)&v642.m256_f32[6] = *(double *)&_XMM1;
          _XMM1 = *((unsigned __int64 *)&v643 + 1);
          __asm { vmaxsd  xmm2, xmm1, xmm4 }
          *((double *)&v643 + 1) = *(double *)&_XMM2;
          *(double *)&v643 = *(double *)&_XMM0;
          v216 += 0x30;
        }
        else
        {
          v217 -= 0x110;
          --v16;
          v611 -= 0x30;
          *(_OWORD *)(v281 + v216) = *(_OWORD *)(v281 + v611);
          *(double *)(v281 + v216 + 0x10) = *(double *)(v281 + v611 + 0x10);
          v295 = *(_QWORD *)(*((_QWORD *)v19 + 0x1E) + 0x38LL);
          *(_OWORD *)(v295 + v216 + 0x18) = *(_OWORD *)(v295 + v611 + 0x18);
          *(double *)(v295 + v216 + 0x28) = *(double *)(v295 + v611 + 0x28);
          *(_QWORD *)(v215 - 0xF0) = *(_QWORD *)(v217 - 0x70);
          *(_QWORD *)(v215 - 0xE8) = *(_QWORD *)(v217 - 0x68);
          *(_DWORD *)(v215 - 0xE0) = *(_DWORD *)(v217 - 0x60);
          *(_DWORD *)(v215 - 0xDC) = *(_DWORD *)(v217 - 0x5C);
          *(_DWORD *)(v215 - 0xD8) = *(_DWORD *)(v217 - 0x58);
          *(_DWORD *)(v215 - 0xD4) = *(_DWORD *)(v217 - 0x54);
          *(_DWORD *)(v215 - 0xD0) = *(_DWORD *)(v217 - 0x50);
          *(_DWORD *)(v215 - 0xCC) = *(_DWORD *)(v217 - 0x4C);
          *(_DWORD *)(v215 - 0xC8) = *(_DWORD *)(v217 - 0x48);
          *(_DWORD *)(v215 - 0xC4) = *(_DWORD *)(v217 - 0x44);
          *(_DWORD *)(v215 - 0xC0) = *(_DWORD *)(v217 - 0x40);
          *(_DWORD *)(v215 - 0xBC) = *(_DWORD *)(v217 - 0x3C);
          *(double *)(v215 - 0xB8) = *(double *)(v217 - 0x38);
          *(_DWORD *)(v215 - 0xB0) = *(_DWORD *)(v217 - 0x30);
          *(double *)(v215 - 0xAC) = *(double *)(v217 - 0x2C);
          *(_DWORD *)(v215 - 0xA4) = *(_DWORD *)(v217 - 0x24);
          *(_OWORD *)(v215 - 0xA0) = *(_OWORD *)(v217 - 0x20);
          *(double *)(v215 - 0x90) = *(double *)(v217 - 0x10);
          *(_DWORD *)(v215 - 0x88) = *(_DWORD *)(v217 - 8);
          *(_DWORD *)(v215 - 0x84) = *(_DWORD *)(v217 - 4);
          *(_DWORD *)(v215 - 0x80) = *(_DWORD *)v217;
          *(_DWORD *)(v215 - 0x7C) = *(_DWORD *)(v217 + 4);
          *(_DWORD *)(v215 - 0x78) = *(_DWORD *)(v217 + 8);
          *(_DWORD *)(v215 - 0x74) = *(_DWORD *)(v217 + 0xC);
          *(_DWORD *)(v215 - 0x70) = *(_DWORD *)(v217 + 0x10);
          *(_DWORD *)(v215 - 0x6C) = *(_DWORD *)(v217 + 0x14);
          *(_DWORD *)(v215 - 0x68) = *(_DWORD *)(v217 + 0x18);
          *(_DWORD *)(v215 - 0x64) = *(_DWORD *)(v217 + 0x1C);
          *(double *)(v215 - 0x60) = *(double *)(v217 + 0x20);
          *(_DWORD *)(v215 - 0x58) = *(_DWORD *)(v217 + 0x28);
          *(double *)(v215 - 0x54) = *(double *)(v217 + 0x2C);
          *(_DWORD *)(v215 - 0x4C) = *(_DWORD *)(v217 + 0x34);
          *(_OWORD *)(v215 - 0x48) = *(_OWORD *)(v217 + 0x38);
          *(double *)(v215 - 0x38) = *(double *)(v217 + 0x48);
          *(_DWORD *)(v215 - 0x30) = *(_DWORD *)(v217 + 0x50);
          *(_QWORD *)(v215 - 0x28) = *(_QWORD *)(v217 + 0x58);
          *(_QWORD *)(v215 - 0x20) = *(_QWORD *)(v217 + 0x60);
          *(_QWORD *)(v215 - 0x18) = *(_QWORD *)(v217 + 0x68);
          *(_QWORD *)(v215 - 0x10) = *(_QWORD *)(v217 + 0x70);
          v289 = v609;
          *(_OWORD *)(v215 - 8) = *(_OWORD *)(v217 + 0x78);
          *(double *)(v215 + 8) = *(double *)(v217 + 0x88);
          *(_QWORD *)(v215 + 0x10) = *(_QWORD *)(v217 + 0x90);
          *(_DWORD *)(v215 + 0x18) = *(_DWORD *)(v217 + 0x98);
          *(_DWORD *)(v215 + 0x1C) = *(_DWORD *)(v217 + 0x9C);
        }
        v213 = 0x8000000000000000uLL;
      }
      while ( v289 < v16 );
      v206 = v630;
      v607 = v16;
    }
  }
  v296 = (_QWORD *)*((_QWORD *)v19 + 0x1E);
  v766 = v16;
  v764 = v296 + 6;
  v765 = v613;
  v767 = &v646;
  v768 = &v642;
  v604 = sub_1465ED1F0(*v296, (__int64)&v764, (__int64)&v636);
  v585 = 0;
  v594 = 0;
  v684 = 0;
  buf = (_QWORD *)sub_1402A63D0(0x18u);
  *buf = buf;
  buf[1] = buf;
  *(float *)&v682 = 1.0;
  buf_2 = buf;
  v685 = 0;
  v686 = 0;
  n7 = 7;
  n8 = 8;
  *(_QWORD *)&v637 = 8;
  std::_Hash_vec<std::allocator<std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<vraudio::Node::Output<vraudio::AudioBuffer const *> * const,std::shared_ptr<vraudio::Node>>>>>>>::_Assign_grow(
    &v685,
    0x10u,
    (unsigned __int64)buf);
  n2 = 2;
  v299 = v689;
  n2_1 = 2;
  do
  {
    *v299 = 0;
    v299[1] = 0;
    v301 = sub_1402A63D0(0x28u);
    v299 += 2;
    *(_QWORD *)v301 = v301;
    *(_QWORD *)(v301 + 8) = v301;
    *(_QWORD *)(v301 + 0x10) = v301;
    *(_WORD *)(v301 + 0x18) = 0x101;
    v299[0xFFFFFFFE] = (__int64 *)v301;
    --n2_1;
  }
  while ( n2_1 );
  v700 = 0;
  buf_1 = (_QWORD *)sub_1402A63D0(0x18u);
  *buf_1 = buf_1;
  buf_1[1] = buf_1;
  *(float *)&v698 = 1.0;
  buf_3 = buf_1;
  v701 = 0;
  v702 = 0;
  n7_1 = 7;
  n8_1 = 8;
  std::_Hash_vec<std::allocator<std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<vraudio::Node::Output<vraudio::AudioBuffer const *> * const,std::shared_ptr<vraudio::Node>>>>>>>::_Assign_grow(
    &v701,
    0x10u,
    (unsigned __int64)buf_1);
  v303 = v641;
  if ( v604 > 0 )
  {
    v304 = v625;
    v305 = 0;
    v306 = 0;
    while ( 1 )
    {
      v307 = *(int *)(v636 + 8 * v305);
      v308 = (float *)(v206 + 0x110LL * *(int *)(v636 + 8 * v305 + 4));
      v309 = *(_QWORD *)v308;
      if ( (*(_QWORD *)(0xD8 * v307 + v304 + 0xC8) & *((_QWORD *)v308 + 0x20)) != 0 )
        break;
LABEL_77:
      ++v306;
      if ( ++v305 >= v604 )
      {
        LODWORD(v16) = v607;
        goto LABEL_79;
      }
    }
    if ( *((_DWORD *)v308 + 0xD) == 2 )
    {
      v310 = *(float **)(v303 + 0x210);
      v311 = *(_QWORD *)(v309 + 0x260) + ((__int64)*((int *)v308 + 0x43) << 6);
      v312 = v310[6];
      v313 = v310[9];
      v314 = v310[7];
      v315 = v310[8];
      v316 = (float)(v314 + v314) * v314;
      v317 = (float)(v314 + v314) * v312;
      v318 = (float)(v314 + v314) * v313;
      v319 = v315 + v315;
      v320 = v314 * (float)(v315 + v315);
      v321 = (float)(v315 + v315) * v315;
      v322 = *(float *)(v309 + 0x1E4);
      v323 = (float)(v312 + v312) * v313;
      v324 = 1.0 - (float)((float)(v312 + v312) * v312);
      v588 = (float)(1.0 - v316) - v321;
      v591 = v317 - (float)(v319 * v313);
      v632 = (float)(v319 * v312) + v318;
      v582 = (float)(v319 * v313) + v317;
      v617 = v324 - v321;
      v619 = v320 - v323;
      v615 = (float)(v319 * v312) - v318;
      v325 = v320 + v323;
      v326 = *(float *)(v309 + 0x1D8);
      v606 = v325;
      v635 = v324 - v316;
      LODWORD(v327) = *(_DWORD *)(v309 + 0x1E0) ^ 0x80000000;
      LODWORD(v328) = *(_DWORD *)(v309 + 0x1DC) ^ 0x80000000;
      v329 = v328 + v328;
      v330 = (float)(v328 + v328) * v328;
      v331 = (float)(v327 + v327) * v328;
      v332 = -(float)(v326 + v326);
      v333 = -(float)(v329 * v326);
      v334 = 1.0 - (float)-(float)(v326 * v332);
      v335 = (float)(v327 + v327) * v322;
      v336 = v332 * v322;
      v337 = -(float)((float)(v327 + v327) * v326);
      v338 = (float)(v327 + v327) * v327;
      v339 = v329 * v322;
      v340 = (float)(1.0 - v330) - v338;
      v341 = v339 - (float)((float)(v327 + v327) * v326);
      v342 = v335 + v333;
      v343 = v333 - v335;
      v344 = *(float *)(v311 + 4);
      v345 = v331 - v336;
      v346 = v334 - v338;
      v347 = v337 - v339;
      v600 = v341;
      v348 = v331 + v336;
      v349 = *(float *)(v311 + 8);
      v350 = v334 - v330;
      v628 = (float)((float)(*(float *)v311 * v340) + (float)(v344 * v342)) + (float)(v349 * (float)(v337 - v339));
      v351 = *(float *)v311 * v341;
      *(float *)&v641 = (float)((float)(*(float *)v311 * v343) + (float)(v344 * v346)) + (float)(v349 * v348);
      v352 = v344 * v345;
      v353 = *(float *)(v311 + 0x10);
      v354 = v349 * v350;
      v355 = *(float *)(v311 + 0x14);
      v356 = *(float *)(v311 + 0xC);
      v621 = (float)((float)(v356 * v340) + (float)(v353 * v342)) + (float)(v355 * v347);
      *(float *)&v597 = (float)((float)(v356 * v343) + (float)(v353 * v346)) + (float)(v355 * v348);
      v624 = (float)((float)(v356 * v600) + (float)(v353 * v345)) + (float)(v355 * v350);
      v357 = (unsigned int)v641;
      *(float *)&v357 = (float)((float)(*(float *)&v641 * v582) + (float)(v628 * v588))
                      + (float)((float)((float)(v351 + v352) + v354) * v615);
      _XMM5 = v357;
      __asm { vinsertps xmm5, xmm5, xmm4, 10h }
      v308[0xC] = (float)((float)((float)((float)((float)(*(float *)(v311 + 0x18) * v343)
                                                + (float)(*(float *)(v311 + 0x1C) * v346))
                                        + (float)(*(float *)(v311 + 0x20) * v348))
                                * v619)
                        + (float)((float)((float)((float)(*(float *)(v311 + 0x18) * v340)
                                                + (float)(*(float *)(v311 + 0x1C) * v342))
                                        + (float)(*(float *)(v311 + 0x20) * v347))
                                * v632))
                + (float)((float)((float)((float)(*(float *)(v311 + 0x18) * v600)
                                        + (float)(*(float *)(v311 + 0x1C) * v345))
                                + (float)(*(float *)(v311 + 0x20) * v350))
                        * v635);
      __asm
      {
        vinsertps xmm5, xmm5, xmm6, 20h ; ' '
        vinsertps xmm5, xmm5, xmm7, 30h ; '0'
      }
      *((_OWORD *)v308 + 1) = _XMM5;
      v362 = v597;
      *(float *)&v362 = (float)((float)(*(float *)&v597 * v617) + (float)(v621 * v591)) + (float)(v624 * v606);
      _XMM5 = v362;
      __asm
      {
        vinsertps xmm5, xmm5, xmm4, 10h
        vinsertps xmm5, xmm5, xmm6, 20h ; ' '
        vinsertps xmm5, xmm5, xmm7, 30h ; '0'
      }
      *((_OWORD *)v308 + 2) = _XMM5;
      v367 = *(unsigned int *)(v311 + 0x28);
      v368 = *(float *)(v311 + 0x30);
      v369 = *(unsigned int *)(v309 + 0x1DC);
      v370 = *(float *)(v311 + 0x2C);
      v371 = *(float *)(v309 + 0x1E0);
      v372 = *(float *)(v309 + 0x1E4);
      v373 = *(float *)(v309 + 0x1D8);
      v374 = *(_QWORD *)(v303 + 0x210);
      v376 = v367;
      *(float *)&v376 = *(float *)&v367 * v371;
      v375 = v376;
      v377 = v369;
      *(float *)&v377 = (float)((float)(*(float *)&v369 * v368) - (float)(v371 * v370))
                      + (float)(*(float *)&v367 * v372);
      v378 = v377;
      v379 = v375;
      *(float *)&v379 = (float)(*(float *)&v375 - (float)(v373 * v368)) + (float)(v372 * v370);
      v380 = v379;
      v381 = LODWORD(v373);
      v382 = (float)((float)(v373 * v370) - (float)(*(float *)&v367 * *(float *)&v369)) + (float)(v372 * v368);
      *(float *)&v381 = (float)((float)(v382 * *(float *)&v369) - (float)(*(float *)&v380 * v371))
                      + (float)((float)((float)(v382 * *(float *)&v369) - (float)(*(float *)&v380 * v371))
                              + *(float *)&v367);
      v383 = v381;
      v384 = v378;
      *(float *)&v384 = (float)((float)(*(float *)&v378 * v371) - (float)(v382 * v373))
                      + (float)((float)((float)(*(float *)&v378 * v371) - (float)(v382 * v373)) + v370);
      v385 = v384;
      *((_QWORD *)&v384 + 1) = *((_QWORD *)&v380 + 1);
      *(float *)&v384 = *(float *)&v380 * v373;
      LODWORD(v380) = *(_DWORD *)(v309 + 0x200);
      *(double *)&v384 = (float)((float)((float)(*(float *)&v384 - (float)(*(float *)&v378 * *(float *)&v369))
                                       + (float)((float)(*(float *)&v384 - (float)(*(float *)&v378 * *(float *)&v369))
                                               + v368))
                               * *(float *)&v380)
                       + *(double *)(v309 + 0x1D0);
      v386 = v384;
      v388 = v385;
      *(float *)&v388 = *(float *)&v385 * *(float *)&v380;
      v387 = v388;
      *((_QWORD *)&v388 + 1) = *((_QWORD *)&v386 + 1);
      *(double *)&v388 = *(double *)&v386 - *(double *)(v374 + 0x10);
      _XMM5 = v388;
      *((_QWORD *)&v388 + 1) = *((_QWORD *)&v387 + 1);
      *(double *)&v388 = *(float *)&v387 + *(double *)(v309 + 0x1C8) - *(double *)(v374 + 8);
      _XMM4 = v388;
      LODWORD(v378) = *(_DWORD *)(v374 + 0x20);
      v391 = *(float *)(v374 + 0x1C);
      __asm { vcvtsd2ss xmm12, xmm4, xmm4 }
      LODWORD(_XMM4) = *(_DWORD *)(v374 + 0x24);
      __asm { vcvtsd2ss xmm13, xmm5, xmm5 }
      *((_QWORD *)&v388 + 1) = *((_QWORD *)&v383 + 1);
      *(float *)&v388 = *(float *)&v383 * *(float *)&v380;
      LODWORD(v383) = *(_DWORD *)(v374 + 0x18);
      *(double *)&v388 = *(float *)&v388 + *(double *)(v309 + 0x1C0) - *(double *)v374;
      _XMM3 = v388;
      __asm { vcvtsd2ss xmm11, xmm3, xmm3 }
      v396 = (float)((float)(*(float *)&v378 * *(float *)&_XMM12) - (float)(v391 * *(float *)&_XMM13))
           + (float)(*(float *)&_XMM11 * *(float *)&_XMM4);
      *(float *)&v380 = (float)((float)(*(float *)&v383 * *(float *)&_XMM13)
                              - (float)(*(float *)&_XMM11 * *(float *)&v378))
                      + (float)(*(float *)&_XMM4 * *(float *)&_XMM12);
      *(float *)&_XMM4 = (float)((float)(*(float *)&_XMM11 * v391) - (float)(*(float *)&v383 * *(float *)&_XMM12))
                       + (float)(*(float *)&_XMM4 * *(float *)&_XMM13);
      v308[0xE] = (float)(*(float *)&_XMM11
                        + (float)((float)(*(float *)&v380 * *(float *)&v378) - (float)(*(float *)&_XMM4 * v391)))
                + (float)((float)(*(float *)&v380 * *(float *)&v378) - (float)(*(float *)&_XMM4 * v391));
      v308[0xF] = (float)((float)((float)(*(float *)&_XMM4 * *(float *)&v383) - (float)(v396 * *(float *)&v378))
                        + *(float *)&_XMM12)
                + (float)((float)(*(float *)&_XMM4 * *(float *)&v383) - (float)(v396 * *(float *)&v378));
      v308[0x10] = (float)((float)((float)(v396 * v391) - (float)(*(float *)&v380 * *(float *)&v383)) + *(float *)&_XMM13)
                 + (float)((float)(v396 * v391) - (float)(*(float *)&v380 * *(float *)&v383));
      LODWORD(_XMM3) = *(_DWORD *)(v309 + 0x200);
      LODWORD(v374) = *(_DWORD *)(v311 + 0x3C);
      *(_QWORD *)&v669 = *(_QWORD *)(v311 + 0x34);
      v308[0x11] = *(float *)&v669 * *(float *)&_XMM3;
      v308[0x12] = *(float *)&_XMM3 * *((float *)&v669 + 1);
      v308[0x13] = *(float *)&v374 * *(float *)&_XMM3;
      *((_DWORD *)v308 + 0xD) = 1;
    }
    buf_4 = v685[2
               * (n7
                & (0x100000001B3LL
                 * (*(unsigned __int8 *)(v636 + 8 * v305 + 7)
                  ^ (0x100000001B3LL
                   * (*(unsigned __int8 *)(v636 + 8 * v305 + 6)
                    ^ (0x100000001B3LL
                     * (*(unsigned __int8 *)(v636 + 8 * v305 + 5)
                      ^ (0x100000001B3LL * (*(unsigned __int8 *)(v636 + 8 * v305 + 4) ^ 0xCBF29CE484222325uLL)))))))))
               + 1];
    if ( (_QWORD *)buf_4 != buf_2 )
    {
      v398 = *(_DWORD *)(v636 + 8 * v305 + 4);
      if ( v398 == *(_DWORD *)(buf_4 + 0x10) )
        goto LABEL_66;
      while ( buf_4 != v685[2
                          * (n7
                           & (0x100000001B3LL
                            * (*(unsigned __int8 *)(v636 + 8 * v305 + 7)
                             ^ (0x100000001B3LL
                              * (*(unsigned __int8 *)(v636 + 8 * v305 + 6)
                               ^ (0x100000001B3LL
                                * (*(unsigned __int8 *)(v636 + 8 * v305 + 5)
                                 ^ (0x100000001B3LL * (*(unsigned __int8 *)(v636 + 8 * v305 + 4) ^ 0xCBF29CE484222325uLL)))))))))] )
      {
        buf_4 = *(_QWORD *)(buf_4 + 8);
        if ( v398 == *(_DWORD *)(buf_4 + 0x10) )
          goto LABEL_66;
      }
    }
    buf_4 = 0;
LABEL_66:
    if ( !buf_4 || (_QWORD *)buf_4 == buf_2 )
    {
      sub_146666E30((__int64)v740);
      sub_146670E80((__int64)v740, (__int64 *)v645, (double *)&v648, 1, 4u);
      sub_1421247E0((__int64)&v682, (__int64)v759, (unsigned __int8 *)(v636 + 4 + 8LL * v306));
    }
    v758[0] = 0xFFFFFFFF;
    if ( sub_1466DE670(v625 + 0xD8 * v307 + 8, (__int64)(v308 + 4), (__int64)v758) )
    {
      v399 = *(float *)(v303 + 0x1D8);
      v400 = *(float *)(v303 + 0x1DC);
      v401 = *(float *)(v303 + 0x1E4);
      v402 = *(float *)(v303 + 0x1E0);
      ++v585;
      v403 = *(int *)(v636 + 8 * v305 + 4);
      v734 = 0;
      __asm { vmovupd [rbp+6A0h+var_300], xmm0 }
      v717 = 0;
      __asm { vmovupd [rbp+6A0h+var_380], xmm0 }
      v735 = v638;
      v736 = v638;
      v718 = v638;
      v719 = v638;
      v737 = v681;
      v720 = v681;
      v739 = 0;
      v722 = 0;
      v404 = (float *)(*(_QWORD *)(v303 + 0x230) + 0x20LL * *(int *)(0xD8 * v307 + v625 + 0xD0));
      v612 = (int *)(v206 + 0x110 * v403);
      v405 = v404[1];
      v406 = v404[2];
      v407 = v404[3];
      v408 = (float)((float)((float)(v399 * v405) - (float)(v400 * *v404)) + (float)(v401 * v406))
           + (float)(v402 * v407);
      v409 = (float)((float)((float)(v402 * *v404) - (float)(v399 * v406)) + (float)(v401 * v405))
           + (float)(v400 * v407);
      v410 = (float)((float)((float)(v400 * v406) - (float)(v402 * v405)) + (float)(v401 * *v404))
           + (float)(v399 * v407);
      v411 = (float)(v401 * v407)
           - (float)((float)((float)(v399 * *v404) + (float)(v400 * v405)) + (float)(v402 * v406));
      v412 = 1.0 - (float)((float)(v410 + v410) * v410);
      v413 = (float)(v409 + v409) * v409;
      v414 = (float)(v410 + v410) * v411;
      v415 = (float)(v408 + v408) * v411;
      v416 = (float)(v409 + v409) * v410;
      v417 = (float)(v408 + v408) * v409;
      v418 = (float)(v409 + v409) * v411;
      v419 = (float)(v408 + v408) * v408;
      v420 = (float)(v408 + v408) * v410;
      v724 = (float)(1.0 - v413) - v419;
      v727 = v415 + v416;
      v725 = v416 - v415;
      v726 = v420 + v418;
      v728 = v412 - v419;
      v730 = v420 - v418;
      v729 = v417 - v414;
      v731 = v417 + v414;
      v421 = v412 - v413;
      v422 = *(float *)(v303 + 0x1DC);
      v423 = *(float *)(v303 + 0x1D8);
      v732 = v421;
      v424 = v404[6];
      v425 = v404[5];
      v426 = v404[4];
      v427 = (float)((float)(v424 * v422) - (float)(v425 * v402)) + (float)(v426 * v401);
      v428 = (float)((float)(v426 * v402) - (float)(v424 * v423)) + (float)(v425 * v401);
      v429 = (float)((float)(v425 * v423) - (float)(v426 * v422)) + (float)(v424 * v401);
      v430 = (float)((float)(v422 * v429) - (float)(v402 * v428))
           + (float)(v426 + (float)((float)(v422 * v429) - (float)(v402 * v428)));
      v431 = (float)((float)(v402 * v427) - (float)(v423 * v429))
           + (float)(v425 + (float)((float)(v402 * v427) - (float)(v423 * v429)));
      v432 = v422 * v427;
      v433 = *(float *)(v303 + 0x200);
      v723[2] = (float)(v433
                      * (float)((float)((float)(v423 * v428) - v432)
                              + (float)(v424 + (float)((float)(v423 * v428) - v432))))
              + *(double *)(v303 + 0x1D0);
      v723[1] = (float)(v433 * v431) + *(double *)(v303 + 0x1C8);
      v723[0] = (float)(v433 * v430) + *(double *)(v303 + 0x1C0);
      v733 = v433 * v404[7];
      v434 = (float *)(*(_QWORD *)(*(_QWORD *)v612 + 0x230LL) + 0x20LL * v612[0x43]);
      v435 = *(float *)(*(_QWORD *)v612 + 0x1D8LL);
      v436 = *(float *)(*(_QWORD *)v612 + 0x1DCLL);
      v437 = *(float *)(*(_QWORD *)v612 + 0x1E4LL);
      v438 = v434[1];
      v439 = v434[2];
      v440 = *(float *)(*(_QWORD *)v612 + 0x1E0LL);
      v441 = v434[3];
      v442 = (float)((float)((float)(v435 * v438) - (float)(v436 * *v434)) + (float)(v437 * v439))
           + (float)(v440 * v441);
      v443 = (float)((float)((float)(v440 * *v434) - (float)(v435 * v439)) + (float)(v437 * v438))
           + (float)(v436 * v441);
      v444 = v437 * v441;
      v445 = (float)((float)((float)(v436 * v439) - (float)(v440 * v438)) + (float)(v437 * *v434))
           + (float)(v435 * v441);
      v446 = (float)(v443 + v443) * v445;
      v447 = (float)(v442 + v442) * v443;
      v448 = v444 - (float)((float)((float)(v435 * *v434) + (float)(v436 * v438)) + (float)(v440 * v439));
      v449 = (float)(v443 + v443) * v443;
      v450 = (float)(v443 + v443) * v448;
      v451 = (float)(v445 + v445) * v448;
      v452 = (float)(v442 + v442) * v448;
      v708 = v446 - v452;
      v453 = 1.0 - (float)((float)(v445 + v445) * v445);
      v454 = (float)(v442 + v442) * v442;
      v455 = (float)(v442 + v442) * v445;
      v709 = v455 + v450;
      v707 = (float)(1.0 - v449) - v454;
      v710 = v452 + v446;
      v711 = v453 - v454;
      v713 = v455 - v450;
      v712 = v447 - v451;
      v715 = v453 - v449;
      v714 = v447 + v451;
      v456 = v434[6];
      v457 = v434[5];
      v458 = v434[4];
      v459 = *(float *)(*(_QWORD *)v612 + 0x1E4LL);
      v460 = *(float *)(*(_QWORD *)v612 + 0x1DCLL);
      v461 = *(float *)(*(_QWORD *)v612 + 0x1E0LL);
      v462 = *(float *)(*(_QWORD *)v612 + 0x1D8LL);
      v463 = (float)((float)(v456 * v460) - (float)(v457 * v461)) + (float)(v458 * v459);
      v464 = (float)((float)(v458 * v461) - (float)(v462 * v456)) + (float)(v459 * v457);
      v465 = (float)((float)(v462 * v457) - (float)(v458 * v460)) + (float)(v459 * v456);
      v466 = (float)((float)(v465 * v460) - (float)(v464 * v461))
           + (float)((float)((float)(v465 * v460) - (float)(v464 * v461)) + v458);
      v467 = (float)((float)(v463 * v461) - (float)(v465 * v462))
           + (float)((float)((float)(v463 * v461) - (float)(v465 * v462)) + v457);
      v468 = v464 * v462;
      v469 = *(float *)(*(_QWORD *)v612 + 0x200LL);
      v470 = (float)(v469
                   * (float)((float)(v468 - (float)(v463 * v460)) + (float)((float)(v468 - (float)(v463 * v460)) + v456)))
           + *(double *)(*(_QWORD *)v612 + 0x1D0LL);
      v471 = (float)(v469 * v467) + *(double *)(*(_QWORD *)v612 + 0x1C8LL);
      v706[0] = (float)(v469 * v466) + *(double *)(*(_QWORD *)v612 + 0x1C0LL);
      v706[1] = v471;
      v706[2] = v470;
      v716 = *(float *)(*(_QWORD *)v612 + 0x200LL) * v434[7];
      v674 = 0;
      v675 = 0;
      v472 = (*(__int64 (__fastcall **)(_QWORD, _QWORD, double *, double *, _QWORD, char *, volatile signed __int64 **, int))(**(_QWORD **)(0xD8 * v307 + v625) + 0x48LL))(
               *(_QWORD *)(0xD8 * v307 + v625),
               **(_QWORD **)(*(_QWORD *)(*(_QWORD *)v612 + 0x238LL) + 8LL * v612[0x43]),
               v723,
               v706,
               0,
               v749,
               &v674,
               0x1E);
      if ( v472 > 0 )
      {
        sub_1403F39C0((__int64)&v698, (__int64)v760, (unsigned __int8 *)v612);
        v594 += v472;
      }
      v670 = v307;
      v473 = v472 > 0;
      v671 = v473;
      sub_1468B3180(v689, (__int64)v761, &v670);
      v667 = v473;
      v666 = *(_DWORD *)(v636 + 8 * v305 + 4);
      sub_1468B3180((__int64 **)&v690, (__int64)v762, &v666);
      v474 = v674;
      if ( v674 )
      {
        if ( v675 )
        {
          n0x200000 = _InterlockedCompareExchange64(v674, 0, 0x200000);
          if ( n0x200000 != 0x200000 )
            sub_1403DEBA0(v474, n0x200000);
        }
      }
      v304 = v625;
    }
    else
    {
      v304 = v625;
    }
    goto LABEL_77;
  }
LABEL_79:
  j = (__int64 *)*v689[0];
  if ( !*(_BYTE *)(*v689[0] + 0x19) )
  {
    v477 = v644;
    v478 = v640;
    v479 = v639;
    v480 = v645;
    do
    {
      v481 = 0xD8LL * *((int *)j + 7);
      v482 = (float *)(*(_QWORD *)(v303 + 0x230) + 0x20LL * *(int *)(v481 + v625 + 0xD0));
      v483 = v482[1];
      v484 = v482[2];
      v485 = v482[3];
      v486 = (float)((float)((float)(v483 * v477) - (float)(*v482 * v629)) + (float)(v484 * v479))
           + (float)(v485 * v478);
      v487 = (float)((float)((float)(*v482 * v478) - (float)(v484 * v477)) + (float)(v483 * v479))
           + (float)(v485 * v629);
      v488 = (float)((float)((float)(v484 * v629) - (float)(v483 * v478)) + (float)(*v482 * v479))
           + (float)(v485 * v477);
      v489 = (float)(v487 + v487) * v488;
      v490 = (float)(v485 * v479)
           - (float)((float)((float)(*v482 * v477) + (float)(v483 * v629)) + (float)(v484 * v478));
      v491 = 1.0 - (float)((float)(v488 + v488) * v488);
      v492 = (float)(v488 + v488) * v490;
      v493 = (float)(v486 + v486) * v487;
      v494 = (float)(v487 + v487) * v487;
      v495 = (float)(v487 + v487) * v490;
      v496 = (float)(v486 + v486) * v490;
      v497 = v489 - v496;
      v498 = (float)(v486 + v486) * v486;
      v499 = (float)(1.0 - v494) - v498;
      v500 = v496 + v489;
      v654 = v491 - v498;
      v501 = (float)(v486 + v486) * v488;
      v502 = v501 - v495;
      v503 = v501 + v495;
      v655 = v493 - v492;
      v657 = v493 + v492;
      v653 = v500;
      v504 = v491 - v494;
      v478 = v640;
      v479 = v639;
      v658 = v504;
      v650 = v499;
      v651 = v497;
      v652 = v503;
      v656 = v502;
      v505 = v482[6];
      v506 = v482[5];
      v507 = v482[4];
      v508 = (float)((float)(v505 * v629) - (float)(v506 * v640)) + (float)(v507 * v639);
      v509 = (float)((float)(v507 * v640) - (float)(v505 * v477)) + (float)(v506 * v639);
      v510 = (float)((float)(v506 * v477) - (float)(v507 * v629)) + (float)(v505 * v639);
      v511 = (float)((float)(v510 * v629) - (float)(v509 * v640))
           + (float)((float)((float)(v510 * v629) - (float)(v509 * v640)) + v507);
      v512 = (float)((float)(v508 * v640) - (float)(v510 * v477))
           + (float)((float)((float)(v508 * v640) - (float)(v510 * v477)) + v506);
      v513 = v508 * v629;
      v514 = *(float *)(v303 + 0x200);
      v649 = (float)(v514
                   * (float)((float)((float)(v509 * v477) - v513) + (float)((float)((float)(v509 * v477) - v513) + v505)))
           + v673;
      *((double *)&v648 + 1) = (float)(v514 * v512) + *((double *)&v672 + 1);
      *(double *)&v648 = (float)(v514 * v511) + *(double *)&v672;
      v515 = v514 * v482[7];
      v516 = *(_QWORD *)(v303 + 0x238);
      v659 = v515;
      v517 = **(_QWORD **)(v516 + 8LL * *(int *)(v481 + v625 + 0xD0));
      (*(void (__fastcall **)(__int64, __int64, __int128 *, _QWORD, int, int, int))(*(_QWORD *)v517 + 0x88LL))(
        v517,
        v480,
        &v648,
        0,
        2,
        (*((_BYTE *)j + 0x20) != 0) + 1,
        0xFF);
      v518 = (__int64 **)j[2];
      if ( *((_BYTE *)v518 + 0x19) )
      {
        for ( i = (__int64 *)j[1]; !*((_BYTE *)i + 0x19); i = (__int64 *)i[1] )
        {
          if ( j != (__int64 *)i[2] )
            break;
          j = i;
        }
        j = i;
      }
      else
      {
        v520 = *v518;
        for ( j = (__int64 *)j[2]; !*((_BYTE *)v520 + 0x19); v520 = (__int64 *)*v520 )
          j = v520;
      }
    }
    while ( !*((_BYTE *)j + 0x19) );
    LODWORD(v16) = v607;
    v206 = v630;
  }
  m = *v690;
  if ( !*((_BYTE *)*v690 + 0x19) )
  {
    v522 = (double *)v668;
    v523 = v645;
    do
    {
      v524 = 0x110LL * *((int *)m + 7);
      v525 = *(_QWORD *)(v524 + v206);
      v526 = *(float *)(v525 + 0x1E4);
      v527 = *(_QWORD *)(v525 + 0x230) + 0x20LL * *(int *)(v524 + v206 + 0x10C);
      v528 = *(float *)(v525 + 0x1DC);
      v529 = *(unsigned int *)(v525 + 0x1E0);
      v530 = *(float *)(v525 + 0x1D8);
      v531 = *(float *)(v527 + 0x10);
      v532 = *(float *)(v527 + 0x18);
      v533 = *(float *)(v527 + 0x14);
      v534 = (float)((float)(v528 * v532) - (float)(*(float *)&v529 * v533)) + (float)(v531 * v526);
      v535 = (float)((float)(v531 * *(float *)&v529) - (float)(v530 * v532)) + (float)(v526 * v533);
      v536 = (float)((float)(v530 * v533) - (float)(v531 * v528)) + (float)(v526 * v532);
      v537 = (float)((float)(v528 * v536) - (float)(*(float *)&v529 * v535))
           + (float)(v531 + (float)((float)(v528 * v536) - (float)(*(float *)&v529 * v535)));
      v538 = (float)((float)(v534 * *(float *)&v529) - (float)(v530 * v536))
           + (float)(v533 + (float)((float)(v534 * *(float *)&v529) - (float)(v530 * v536)));
      v539 = v530 * v535;
      v540 = *(float *)(v525 + 0x200);
      v541 = (float)(v540
                   * (float)((float)(v539 - (float)(v534 * v528)) + (float)(v532 + (float)(v539 - (float)(v534 * v528)))))
           + *(double *)(v525 + 0x1D0);
      v542 = (float)(v540 * v538) + *(double *)(v525 + 0x1C8);
      v705[0] = (float)(v540 * v537) + *(double *)(v525 + 0x1C0);
      v705[1] = v542;
      v705[2] = v541;
      v543 = sub_140339170(v763, v522, v705);
      v544 = *(unsigned __int64 *)v522;
      v545 = v522[3];
      v546 = *(unsigned int *)(v525 + 0x1E4);
      v547 = *((unsigned __int64 *)v522 + 2);
      v669 = *(_OWORD *)v543;
      v672 = v669;
      v548 = v528;
      v549 = v522[1];
      *(double *)&v668 = v543[2];
      v673 = *(double *)&v668;
      *((_QWORD *)&v550 + 1) = *((_QWORD *)&v544 + 1);
      v551 = v530;
      *(double *)&v550 = *(double *)&v544 * v548 - v549 * v551;
      v552 = v550;
      *((_QWORD *)&v550 + 1) = *((_QWORD *)&v529 + 1);
      *(double *)&v550 = *(float *)&v529;
      v553 = v550;
      v554 = v545 * *(double *)&v550;
      *((_QWORD *)&v550 + 1) = *((_QWORD *)&v546 + 1);
      *(double *)&v550 = *(float *)&v546;
      v555 = v550;
      *((_QWORD *)&v550 + 1) = *((_QWORD *)&v552 + 1);
      *(double *)&v550 = *(double *)&v552 + v554 + *(double *)&v547 * *(double *)&v555;
      _XMM9 = v550;
      *((_QWORD *)&v550 + 1) = *((_QWORD *)&v547 + 1);
      *(double *)&v550 = *(double *)&v547 * v551
                       - *(double *)&v553 * *(double *)&v544
                       + v545 * v548
                       + *(double *)&v555 * v549;
      _XMM6 = v550;
      *((_QWORD *)&v550 + 1) = *((_QWORD *)&v553 + 1);
      *(double *)&v550 = *(double *)&v553 * v549
                       - *(double *)&v547 * v548
                       + v545 * v551
                       + *(double *)&v555 * *(double *)&v544;
      _XMM5 = v550;
      *((_QWORD *)&v550 + 1) = *((_QWORD *)&v555 + 1);
      v559 = v551 * *(double *)&v544;
      __asm { vcvtsd2ss xmm11, xmm6, xmm6 }
      LODWORD(_XMM6) = *(_DWORD *)(v527 + 4);
      __asm { vcvtsd2ss xmm13, xmm5, xmm5 }
      LODWORD(_XMM5) = *(_DWORD *)(v527 + 0xC);
      *(double *)&v552 = v559 + v549 * v548;
      v562 = *(double *)&v547 * *(double *)&v553;
      LODWORD(v547) = *(_DWORD *)(v527 + 8);
      *(double *)&v550 = *(double *)&v555 * v545 - (*(double *)&v552 + v562);
      _XMM0 = v550;
      __asm
      {
        vcvtsd2ss xmm12, xmm0, xmm0
        vcvtsd2ss xmm14, xmm9, xmm9
      }
      *(float *)&v548 = (float)((float)((float)(*(float *)&_XMM6 * *(float *)&_XMM13)
                                      - (float)(*(float *)v527 * *(float *)&_XMM11))
                              + (float)(*(float *)&v547 * *(float *)&_XMM12))
                      + (float)(*(float *)&_XMM5 * *(float *)&_XMM14);
      *(float *)&v545 = (float)((float)((float)(*(float *)v527 * *(float *)&_XMM14)
                                      - (float)(*(float *)&v547 * *(float *)&_XMM13))
                              + (float)(*(float *)&_XMM6 * *(float *)&_XMM12))
                      + (float)(*(float *)&_XMM5 * *(float *)&_XMM11);
      *(float *)&v555 = (float)((float)((float)(*(float *)&v547 * *(float *)&_XMM11)
                                      - (float)(*(float *)&_XMM6 * *(float *)&_XMM14))
                              + (float)(*(float *)v527 * *(float *)&_XMM12))
                      + (float)(*(float *)&_XMM5 * *(float *)&_XMM13);
      *(float *)&v552 = (float)(*(float *)&_XMM6 * *(float *)&_XMM11) + (float)(*(float *)v527 * *(float *)&_XMM13);
      *(float *)&_XMM6 = (float)(*(float *)&v545 + *(float *)&v545) * *(float *)&v555;
      *(float *)&_XMM9 = (float)(*(float *)&v548 + *(float *)&v548) * *(float *)&v545;
      *(float *)&v542 = (float)(*(float *)&_XMM5 * *(float *)&_XMM12)
                      - (float)(*(float *)&v552 + (float)(*(float *)&v547 * *(float *)&_XMM14));
      *(float *)&v547 = (float)(*(float *)&v555 + *(float *)&v555) * *(float *)&v542;
      *(float *)&v562 = (float)(*(float *)&v548 + *(float *)&v548) * *(float *)&v542;
      *(float *)&_XMM11 = (float)(*(float *)&v545 + *(float *)&v545) * *(float *)&v545;
      *(float *)&v545 = (float)(*(float *)&v545 + *(float *)&v545) * *(float *)&v542;
      *(float *)&_XMM12 = 1.0 - (float)((float)(*(float *)&v555 + *(float *)&v555) * *(float *)&v555);
      *(float *)&v555 = (float)(*(float *)&v548 + *(float *)&v548) * *(float *)&v555;
      v653 = *(float *)&v562 + *(float *)&_XMM6;
      v648 = v669;
      v649 = *(double *)&v668;
      v650 = (float)(1.0 - *(float *)&_XMM11) - (float)((float)(*(float *)&v548 + *(float *)&v548) * *(float *)&v548);
      v651 = *(float *)&_XMM6 - *(float *)&v562;
      v652 = *(float *)&v555 + *(float *)&v545;
      v654 = *(float *)&_XMM12 - (float)((float)(*(float *)&v548 + *(float *)&v548) * *(float *)&v548);
      v655 = *(float *)&_XMM9 - *(float *)&v547;
      v656 = *(float *)&v555 - *(float *)&v545;
      v657 = *(float *)&_XMM9 + *(float *)&v547;
      v658 = *(float *)&_XMM12 - *(float *)&_XMM11;
      v659 = *(float *)(v527 + 0x1C) * *(float *)(v525 + 0x200);
      v566 = **(_QWORD **)(*(_QWORD *)(v525 + 0x238) + 8LL * *(int *)(v524 + v206 + 0x10C));
      (*(void (__fastcall **)(__int64, __int64, __int128 *, _QWORD, int, int, int))(*(_QWORD *)v566 + 0x88LL))(
        v566,
        v523,
        &v648,
        0,
        0xA,
        (*((_BYTE *)m + 0x20) != 0) + 1,
        0xFF);
      v567 = (__int64 **)m[2];
      if ( *((_BYTE *)v567 + 0x19) )
      {
        for ( k = (__int64 *)m[1]; !*((_BYTE *)k + 0x19); k = (__int64 *)k[1] )
        {
          if ( m != (__int64 *)k[2] )
            break;
          m = k;
        }
        m = k;
      }
      else
      {
        v569 = *v567;
        for ( m = (__int64 *)m[2]; !*((_BYTE *)v569 + 0x19); v569 = (__int64 *)*v569 )
          m = v569;
      }
    }
    while ( !*((_BYTE *)m + 0x19) );
    LODWORD(v16) = v607;
    n2 = 2;
  }
  v668 = xmmword_1480E1F40;
  sub_1402C6E20((__int64 *)qword_149A142E8, 20.0, 20.0, 1.6, &v668, 0, (__int64)"local parts: %d", v613);
  v645 = xmmword_1480E1F40;
  sub_1402C6E20((__int64 *)qword_149A142E8, 20.0, 36.0, 1.6, &v645, 0, (__int64)"candidate entities: %d", v602);
  v750 = xmmword_1480E1F40;
  sub_1402C6E20((__int64 *)qword_149A142E8, 20.0, 52.0, 1.6, &v750, 0, (__int64)"total candidate parts: %d", v680);
  v751 = xmmword_1480E1F40;
  sub_1402C6E20(
    (__int64 *)qword_149A142E8,
    20.0,
    68.0,
    1.6,
    &v751,
    0,
    (__int64)"mid phase overlaps: %d (out of %d tests)",
    v604,
    v613 * v16);
  v752 = xmmword_1480E1F40;
  sub_1402C6E20((__int64 *)qword_149A142E8, 20.0, 84.0, 1.6, &v752, 0, (__int64)"final intersection requests: %d", v585);
  v753[0] = xmmword_1480E1F40;
  sub_1402C6E20((__int64 *)qword_149A142E8, 20.0, 100.0, 1.6, v753, 0, (__int64)"total contacts: %d", v594);
  v747 = xmmword_1480E1F40;
  sub_1402C6E20((__int64 *)qword_149A142E8, 20.0, 132.0, 1.6, &v747, 0, (__int64)"collides with: ");
  buf_5 = buf_3;
  buf_6 = (_QWORD *)*buf_3;
  if ( (_QWORD *)*buf_3 != buf_3 )
  {
    v748 = xmmword_1480E1F40;
    do
    {
      v578 = *(const char **)(buf_6[2] + 0xD0LL);
      v572 = (float)((float)SLODWORD(v637) * 16.0) + 20.0;
      *(_QWORD *)&v637 = (unsigned int)(LODWORD(v637) + 1);
      sub_1402C6E20((__int64 *)qword_149A142E8, 20.0, v572, 1.6, &v748, 0, (__int64)"  %s: ", v578);
      buf_6 = (_QWORD *)*buf_6;
    }
    while ( buf_6 != buf_5 );
  }
  sub_1403F8280(&v698);
  _Al = &v691;
  do
  {
    v574 = *(_QWORD *)&_Al[0xFFFFFFFF].m256_f32[4];
    _Al = (__m256 *)((char *)_Al + 0xFFFFFFF0);
    --n2;
    v575 = *(_QWORD *)(v574 + 8);
    while ( !*(_BYTE *)(v575 + 0x19) )
    {
      std::_Tree_val<std::_Tree_simple_types<gte::Logger::Listener *>>::_Erase_tree<std::allocator<std::_Tree_node<gte::Logger::Listener *,void *>>>(
        (std::_Tree_val<std::_Tree_simple_types<gte::Logger::Listener *> > *)_Al,
        (std::allocator<std::_Tree_node<gte::Logger::Listener *,void *> > *)_Al,
        *(std::_Tree_node<gte::Logger::Listener *,void *> **)(v575 + 0x10));
      v576 = v575;
      v575 = *(_QWORD *)v575;
      sub_1402A63C0(v576);
    }
    sub_1402A63C0(*(_QWORD *)_Al->m256_f32);
  }
  while ( n2 );
  sub_1403F8280(&v682);
  v744 = &off_148ABF6C8;
  _InterlockedDecrement(&dword_14A135B7C);
  return sub_146647D40((__int64)v740);
}

// --- End Function: sub_1468CDB40 (0x1468CDB40) ---

// --- Function: sub_1468D1260 (0x1468D1260) ---
__int64 __fastcall sub_1468D1260(__int64 *a1, unsigned int a2, int a3)
{
  __int64 v3; // rax
  int n0x400; // ebx
  bool v8; // zf
  int n0x10; // esi
  int n5; // eax
  __int64 v11; // rax
  _DWORD v13[6]; // [rsp+20h] [rbp-18h] BYREF

  v3 = *a1;
  v13[0] = 0xF;
  v13[1] = 0x80000000;
  n0x400 = 0;
  if ( !(*(__int64 (__fastcall **)(__int64 *))(v3 + 0x198))(a1) || (v8 = a3 == 0, n0x10 = 0x10, v8) )
    n0x10 = 0;
  n5 = (*(__int64 (__fastcall **)(__int64 *))(*a1 + 8))(a1);
  v13[3] = 0xFFFFFFDF;
  v8 = n5 == 5;
  v11 = *a1;
  if ( !v8 )
    n0x400 = 0x400;
  v13[2] = n0x10 | n0x400;
  return (*(__int64 (__fastcall **)(__int64 *, _DWORD *, _QWORD))(v11 + 0x18))(a1, v13, a2);
}

// --- End Function: sub_1468D1260 (0x1468D1260) ---

// --- Function: sub_1468D12F0 (0x1468D12F0) ---
void __fastcall sub_1468D12F0(__int64 a1, double *a2, __int128 *p_ptr_to_free, __int64 *a4, __int64 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  __int128 v9; // xmm10
  __int128 v10; // xmm11
  __int128 v11; // xmm12
  __int128 v12; // xmm13
  __int128 v13; // xmm14
  __int128 v14; // xmm15
  volatile signed __int64 *v16; // rbx
  double *v17; // r8
  __int64 v19; // r13
  signed __int64 v20; // rdx
  __int64 v21; // rcx
  __int64 v22; // rbx
  __int64 v23; // r12
  double v24; // xmm14_8
  double v25; // xmm13_8
  __int64 v26; // rax
  double v27; // xmm12_8
  double v28; // xmm4_8
  double v29; // xmm7_8
  double v30; // xmm15_8
  double v31; // xmm6_8
  double v32; // xmm5_8
  double v33; // xmm4_8
  double v34; // xmm8_8
  double v35; // xmm9_8
  double v36; // xmm11_8
  double v37; // xmm6_8
  double v38; // xmm5_8
  double v39; // xmm4_8
  double v40; // kr00_8
  double v41; // xmm14_8
  double v42; // xmm3_8
  __int64 v43; // r15
  __int64 v44; // rdi
  double v45; // xmm15_8
  __int64 v46; // rcx
  __int64 v47; // rax
  __int64 v48; // r9
  unsigned __int64 v49; // r11
  __int64 v50; // r10
  __int64 v51; // r8
  __int64 ptr_to_free; // rax
  double v53; // xmm10_8
  double v54; // xmm9_8
  double v55; // xmm8_8
  double v56; // xmm7_8
  double v57; // xmm6_8
  double v58; // xmm4_8
  unsigned __int64 v59; // r8
  __int64 v60; // rcx
  int v61; // edx
  __int64 v62; // rcx
  __int64 v63; // rax
  __int64 v64; // rax
  __int64 v65; // rbx
  unsigned __int64 v66; // r8
  __int64 v67; // rdx
  int v68; // eax
  float *v69; // rcx
  __int64 ptr_to_free_1; // rax
  double v71; // xmm10_8
  double v72; // xmm9_8
  double v73; // xmm8_8
  double v74; // xmm7_8
  double v75; // xmm6_8
  double v76; // xmm4_8
  unsigned __int64 i; // r8
  __int64 v78; // rax
  __int64 v79; // rbx
  unsigned __int64 n4; // r12
  unsigned __int64 v81; // r13
  unsigned __int64 n4_1; // r9
  double v83; // xmm11_8
  double v84; // xmm12_8
  double v85; // xmm13_8
  __int64 v86; // r8
  __int64 v87; // rcx
  unsigned __int64 v88; // rdx
  __int64 ptr_to_free_3; // rax
  double v90; // xmm10_8
  double v91; // xmm9_8
  double v92; // xmm8_8
  double v93; // xmm7_8
  double v94; // xmm6_8
  double v95; // xmm4_8
  __int64 ptr_to_free_4; // rax
  double v97; // xmm8_8
  double v98; // xmm10_8
  double v99; // xmm9_8
  double v100; // xmm7_8
  double v101; // xmm6_8
  double v102; // xmm4_8
  __int64 ptr_to_free_5; // rax
  double v104; // xmm10_8
  double v105; // xmm9_8
  double v106; // xmm8_8
  double v107; // xmm7_8
  double v108; // xmm6_8
  double v109; // xmm4_8
  double v110; // xmm10_8
  double v111; // xmm9_8
  double v112; // xmm8_8
  double v113; // xmm7_8
  double v114; // xmm6_8
  double v115; // xmm4_8
  __int64 ptr_to_free_6; // rax
  __int64 v117; // rdx
  __int64 v118; // rcx
  unsigned __int64 v119; // r12
  __int64 ptr_to_free_2; // rax
  float v121; // xmm10_4
  float v122; // xmm9_4
  float v123; // xmm8_4
  double v124; // xmm10_8
  double v125; // xmm9_8
  double v126; // xmm8_8
  double v127; // xmm7_8
  double v128; // xmm6_8
  double v129; // xmm4_8
  __int64 v130; // rbx
  unsigned __int64 v131; // r8
  __int64 v132; // rdx
  int v133; // ecx
  __int64 v134; // rcx
  __int64 v135; // rcx
  unsigned __int64 v136; // rdx
  double v137; // [rsp+30h] [rbp-D0h]
  double v138; // [rsp+38h] [rbp-C8h]
  double v139; // [rsp+40h] [rbp-C0h]
  int v140; // [rsp+48h] [rbp-B8h]
  double v141; // [rsp+50h] [rbp-B0h]
  double v142; // [rsp+58h] [rbp-A8h]
  double v143; // [rsp+60h] [rbp-A0h]
  __int64 v144; // [rsp+68h] [rbp-98h]
  __int64 v145; // [rsp+70h] [rbp-90h]
  __int64 v146; // [rsp+78h] [rbp-88h]
  __int128 v147; // [rsp+80h] [rbp-80h] BYREF
  __int64 v148; // [rsp+90h] [rbp-70h]
  __int128 v149; // [rsp+98h] [rbp-68h] BYREF
  __int64 v150; // [rsp+A8h] [rbp-58h]
  volatile signed __int64 *v151; // [rsp+B0h] [rbp-50h]
  _QWORD v152[3]; // [rsp+C0h] [rbp-40h] BYREF
  __int64 v153; // [rsp+D8h] [rbp-28h]
  __int128 v154; // [rsp+E0h] [rbp-20h]
  __int64 v155; // [rsp+F0h] [rbp-10h]
  __int64 v156; // [rsp+F8h] [rbp-8h]
  __int64 v157; // [rsp+100h] [rbp+0h]
  __int64 v158; // [rsp+108h] [rbp+8h]
  __int128 v159; // [rsp+110h] [rbp+10h]
  __int128 v160; // [rsp+120h] [rbp+20h]
  __int128 v161; // [rsp+130h] [rbp+30h]
  __int128 v162; // [rsp+140h] [rbp+40h]
  __int128 v163; // [rsp+150h] [rbp+50h]
  __int128 v164; // [rsp+160h] [rbp+60h]
  __int128 v165; // [rsp+170h] [rbp+70h]
  __int128 v166; // [rsp+180h] [rbp+80h]
  __int128 v167; // [rsp+190h] [rbp+90h]
  __int128 v168; // [rsp+1A0h] [rbp+A0h]
  __int128 v169; // [rsp+1B0h] [rbp+B0h]

  v16 = (volatile signed __int64 *)(a1 + 0xC8);
  v17 = a2;
  v151 = (volatile signed __int64 *)(a1 + 0xC8);
  v19 = a1;
  v20 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
  if ( (v20 & 0x200000) != 0 )
  {
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0xC8),
      v20,
      (__int64)"CPhysicalEntity::ExportToObj",
      (__int64)"m_lockUpdate",
      1);
    v17 = a2;
  }
  v169 = v5;
  v168 = v6;
  v167 = v7;
  v166 = v8;
  v165 = v9;
  v164 = v10;
  v163 = v11;
  v162 = v12;
  v161 = v13;
  v160 = v14;
  v140 = 0;
  if ( *(int *)(v19 + 0x290) > 0 )
  {
    v21 = a5;
    v22 = 0;
    v144 = 0;
    v23 = 0;
    v146 = 0;
    while ( 1 )
    {
      if ( (v21 & *(_QWORD *)(v22 + *(_QWORD *)(v19 + 0x240))) != 0 )
      {
        v24 = v17[2];
        v25 = v17[1];
        v26 = *(_QWORD *)(v19 + 0x230);
        v27 = v17[3];
        v28 = *(float *)(v23 + v26 + 0x14);
        v29 = *(float *)(v23 + v26 + 0x18);
        v30 = *(float *)(v23 + v26 + 0x10);
        v31 = v25 * v29 - v24 * v28 + v27 * v30;
        v32 = v30 * v24 - *v17 * v29 + v27 * v28;
        v33 = *v17 * v28 - v30 * v25 + v27 * v29;
        v34 = v25 * v33 - v24 * v32;
        v35 = v24 * v31 - *v17 * v33;
        v36 = *v17 * v32 - v25 * v31;
        v37 = *(float *)(v23 + v26 + 4);
        v38 = *(float *)(v23 + v26);
        v39 = *(float *)(v23 + v26 + 0xC);
        v40 = *(float *)(v23 + v26 + 8);
        v143 = v40 * v25 - v37 * v24 + v38 * v27 + v39 * *v17;
        v142 = v38 * v24 - v40 * *v17 + v37 * v27 + v39 * v25;
        v141 = v37 * *v17 - v38 * v25 + v40 * v27 + v39 * v24;
        v41 = v39 * v27 - v38 * *v17 - v37 * v25 - v40 * v24;
        v42 = v17[7];
        v138 = (v30 + v34 + v34) * v42 + v17[4];
        v139 = (v35 + *(float *)(v23 + v26 + 0x14) + v35) * v42 + v17[5];
        v137 = (v36 + v29 + v36) * v42 + v17[6];
        v43 = (a4[1] - *a4) >> 2;
        v44 = (*((_QWORD *)p_ptr_to_free + 1) - *(_QWORD *)p_ptr_to_free) / 0x18LL;
        v45 = *(float *)(v23 + v26 + 0x1C) * v42;
        v46 = **(_QWORD **)(v22 + *(_QWORD *)(v19 + 0x238));
        switch ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v46 + 8LL))(v46) )
        {
          case 0u:
          case 4u:
          case 5u:
          case 6u:
            v150 = 0;
            v148 = 0;
            v47 = *(_QWORD *)(v19 + 0x2C0);
            v149 = 0;
            v147 = 0;
            (*(void (__fastcall **)(_QWORD, _QWORD, __int128 *, __int128 *))(**(_QWORD **)(v47 + 0x538) + 0x68LL))(
              *(_QWORD *)(v47 + 0x538),
              **(_QWORD **)(v22 + *(_QWORD *)(v19 + 0x238)),
              &v149,
              &v147);
            sub_142515FC0(p_ptr_to_free, v44 + (*((_QWORD *)&v149 + 1) - (_QWORD)v149) / 0xCLL);
            sub_1402E5310(a4, v43 + ((__int64)(*((_QWORD *)&v147 + 1) - v147) >> 2));
            v48 = v149;
            v49 = 0;
            if ( (*((_QWORD *)&v149 + 1) - (_QWORD)v149) / 0xCLL )
            {
              v50 = 0;
              v51 = 0x18 * v44;
              do
              {
                ptr_to_free = *(_QWORD *)p_ptr_to_free;
                v51 += 0x18;
                v53 = *(float *)(v50 + v48 + 8);
                v54 = *(float *)(v50 + v48 + 4);
                v55 = *(float *)(v50 + v48);
                v56 = v53 * v142 - v141 * v54 + v41 * v55;
                v57 = v141 * v55 - v53 * v143 + v41 * v54;
                v58 = v54 * v143 - v55 * v142 + v41 * v53;
                *(double *)(ptr_to_free + v51 - 0x18) = (v55 + v142 * v58 - v141 * v57 + v142 * v58 - v141 * v57) * v45
                                                      + v138;
                *(double *)(ptr_to_free + v51 - 0x10) = (v54 + v141 * v56 - v143 * v58 + v141 * v56 - v143 * v58) * v45
                                                      + v139;
                *(double *)(ptr_to_free + v51 - 8) = (v53 + v143 * v57 - v142 * v56 + v143 * v57 - v142 * v56) * v45
                                                   + v137;
                v50 += 0xC;
                v48 = v149;
                ++v49;
              }
              while ( v49 < (*((_QWORD *)&v149 + 1) - (_QWORD)v149) / 0xCLL );
              v23 = v146;
            }
            v59 = 0;
            v60 = v147;
            if ( (__int64)(*((_QWORD *)&v147 + 1) - v147) >> 2 )
            {
              do
              {
                v61 = v44 + *(_DWORD *)(v60 + 4 * v59);
                v62 = *a4 + 4 * v59++;
                *(_DWORD *)(v62 + 4 * v43) = v61;
                v60 = v147;
              }
              while ( v59 < (__int64)(*((_QWORD *)&v147 + 1) - v147) >> 2 );
              v48 = v149;
            }
            if ( !v60 )
              goto LABEL_18;
            v63 = v60;
            if ( ((v148 - v60) & 0xFFFFFFFFFFFFFFFCuLL) >= 0x1000 )
            {
              v60 = *(_QWORD *)(v60 - 8);
              if ( (unsigned __int64)(v63 - v60 - 8) > 0x1F )
                goto LABEL_57;
            }
            sub_1402A63C0(v60);
            v48 = v149;
            v147 = 0;
            v148 = 0;
LABEL_18:
            if ( v48 )
            {
              v64 = v48;
              if ( (unsigned __int64)(0xC * ((v150 - v48) / 0xC)) >= 0x1000 )
              {
                v48 = *(_QWORD *)(v48 - 8);
                if ( (unsigned __int64)(v64 - v48 - 8) > 0x1F )
LABEL_57:
                  invalid_parameter_noinfo_noreturn();
              }
              sub_1402A63C0(v48);
            }
            goto LABEL_54;
          case 1u:
          case 9u:
            v65 = **(_QWORD **)(v22 + *(_QWORD *)(v19 + 0x238));
            sub_142515FC0(p_ptr_to_free, v44 + *(int *)(v65 + 0x84));
            sub_1402E5310(a4, v43 + 3 * *(_DWORD *)(v65 + 0x80));
            v66 = 0;
            if ( *(_DWORD *)(v65 + 0x84) )
            {
              v67 = 0x18 * v44;
              do
              {
                v67 += 0x18;
                v68 = *(_DWORD *)(v65 + 0x60) * v66++;
                v69 = (float *)(*(_QWORD *)(v65 + 0x58) + v68);
                ptr_to_free_1 = *(_QWORD *)p_ptr_to_free;
                v71 = v69[2];
                v72 = v69[1];
                v73 = *v69;
                v74 = v71 * v142 - v72 * v141 + v73 * v41;
                v75 = v73 * v141 - v71 * v143 + v72 * v41;
                v76 = v72 * v143 - v73 * v142 + v71 * v41;
                *(double *)(ptr_to_free_1 + v67 - 0x18) = (v73 + v76 * v142 - v75 * v141 + v76 * v142 - v75 * v141)
                                                        * v45
                                                        + v138;
                *(double *)(ptr_to_free_1 + v67 - 0x10) = (v72 + v74 * v141 - v76 * v143 + v74 * v141 - v76 * v143)
                                                        * v45
                                                        + v139;
                *(double *)(ptr_to_free_1 + v67 - 8) = (v71 + v75 * v143 - v74 * v142 + v75 * v143 - v74 * v142) * v45
                                                     + v137;
              }
              while ( v66 < *(int *)(v65 + 0x84) );
            }
            for ( i = 0; i < 3 * *(_DWORD *)(v65 + 0x80); ++i )
              *(_DWORD *)(*a4 + 4 * v43 + 4 * i) = v44 + *(_DWORD *)(*(_QWORD *)(v65 + 0x40) + 4 * i);
            goto LABEL_53;
          case 0xCu:
            v78 = sub_146683520(**(_QWORD **)(v22 + *(_QWORD *)(v19 + 0x238)));
            sub_1468B54B0(v152, v78);
            v79 = v152[0];
            n4 = (v152[1] - v152[0]) / 0xCLL;
            sub_142515FC0(p_ptr_to_free, n4 + v44);
            v145 = v153;
            v81 = ((__int64)v154 - v153) >> 2;
            sub_1402E5310(a4, v43 + v81);
            n4_1 = 0;
            if ( n4 < 4 )
            {
              if ( !n4 )
                goto LABEL_37;
              v83 = v141;
              v84 = v142;
              v85 = v143;
LABEL_35:
              v117 = 0x18 * (n4_1 + v44);
              v118 = 0xC * n4_1;
              v119 = n4 - n4_1;
              do
              {
                ptr_to_free_2 = *(_QWORD *)p_ptr_to_free;
                v117 += 0x18;
                v121 = *(float *)(v118 + v79 + 8);
                v122 = *(float *)(v118 + v79 + 4);
                v123 = *(float *)(v118 + v79);
                v118 += 0xC;
                v124 = v121;
                v125 = v122;
                v126 = v123;
                v127 = v124 * v84 - v125 * v83 + v126 * v41;
                v128 = v126 * v83 - v124 * v85 + v125 * v41;
                v129 = v125 * v85 - v126 * v84 + v124 * v41;
                *(double *)(v117 + ptr_to_free_2 - 0x18) = (v126 + v84 * v129 - v83 * v128 + v84 * v129 - v83 * v128)
                                                         * v45
                                                         + v138;
                *(double *)(v117 + ptr_to_free_2 - 0x10) = (v125 + v83 * v127 - v85 * v129 + v83 * v127 - v85 * v129)
                                                         * v45
                                                         + v139;
                *(double *)(v117 + ptr_to_free_2 - 8) = (v124 + v85 * v128 - v84 * v127 + v85 * v128 - v84 * v127) * v45
                                                      + v137;
                --v119;
              }
              while ( v119 );
              goto LABEL_37;
            }
            v83 = v141;
            v84 = v142;
            v85 = v143;
            v86 = 0;
            v87 = 0x18 * v44;
            v88 = ((n4 - 4) >> 2) + 1;
            n4_1 = 4 * v88;
            do
            {
              ptr_to_free_3 = *(_QWORD *)p_ptr_to_free;
              v90 = *(float *)(v79 + v86 + 8);
              v91 = *(float *)(v79 + v86 + 4);
              v92 = *(float *)(v79 + v86);
              v93 = v142 * v90 - v141 * v91 + v41 * v92;
              v94 = v141 * v92 - v143 * v90 + v41 * v91;
              v95 = v143 * v91 - v142 * v92 + v41 * v90;
              *(double *)(v87 + ptr_to_free_3) = (v95 * v142 - v94 * v141 + v92 + v95 * v142 - v94 * v141) * v45 + v138;
              *(double *)(v87 + ptr_to_free_3 + 8) = (v93 * v141 - v95 * v143 + v91 + v93 * v141 - v95 * v143) * v45
                                                   + v139;
              *(double *)(v87 + ptr_to_free_3 + 0x10) = (v94 * v143 - v93 * v142 + v90 + v94 * v143 - v93 * v142) * v45
                                                      + v137;
              ptr_to_free_4 = *(_QWORD *)p_ptr_to_free;
              v97 = *(float *)(v79 + v86 + 0xC);
              v98 = *(float *)(v79 + v86 + 0x14);
              v99 = *(float *)(v79 + v86 + 0x10);
              v100 = v98 * v142 - v99 * v141 + v97 * v41;
              v101 = v97 * v141 - v98 * v143 + v99 * v41;
              v102 = v99 * v143 - v97 * v142 + v98 * v41;
              *(double *)(v87 + ptr_to_free_4 + 0x18) = (v102 * v142 - v101 * v141 + v97 + v102 * v142 - v101 * v141)
                                                      * v45
                                                      + v138;
              *(double *)(v87 + ptr_to_free_4 + 0x20) = (v100 * v141 - v102 * v143 + v99 + v100 * v141 - v102 * v143)
                                                      * v45
                                                      + v139;
              *(double *)(v87 + ptr_to_free_4 + 0x28) = (v101 * v143 - v100 * v142 + v98 + v101 * v143 - v100 * v142)
                                                      * v45
                                                      + v137;
              ptr_to_free_5 = *(_QWORD *)p_ptr_to_free;
              v104 = *(float *)(v86 + v79 + 0x20);
              v105 = *(float *)(v86 + v79 + 0x1C);
              v106 = *(float *)(v86 + v79 + 0x18);
              v107 = v104 * v142 - v105 * v141 + v106 * v41;
              v108 = v106 * v141 - v104 * v143 + v105 * v41;
              v109 = v105 * v143 - v106 * v142 + v104 * v41;
              *(double *)(v87 + ptr_to_free_5 + 0x30) = (v106 + v109 * v142 - v108 * v141 + v109 * v142 - v108 * v141)
                                                      * v45
                                                      + v138;
              *(double *)(v87 + ptr_to_free_5 + 0x38) = (v105 + v107 * v141 - v109 * v143 + v107 * v141 - v109 * v143)
                                                      * v45
                                                      + v139;
              *(double *)(v87 + ptr_to_free_5 + 0x40) = (v104 + v108 * v143 - v107 * v142 + v108 * v143 - v107 * v142)
                                                      * v45
                                                      + v137;
              v110 = *(float *)(v86 + v79 + 0x2C);
              v111 = *(float *)(v86 + v79 + 0x28);
              v112 = *(float *)(v86 + v79 + 0x24);
              v113 = v110 * v142 - v111 * v141 + v112 * v41;
              v114 = v112 * v141 - v110 * v143 + v111 * v41;
              v115 = v111 * v143 - v112 * v142 + v110 * v41;
              ptr_to_free_6 = *(_QWORD *)p_ptr_to_free;
              v87 += 0x60;
              v86 += 0x30;
              *(double *)(v87 + ptr_to_free_6 - 0x18) = (v112 + v115 * v142 - v114 * v141 + v115 * v142 - v114 * v141)
                                                      * v45
                                                      + v138;
              *(double *)(v87 + ptr_to_free_6 - 0x10) = (v111 + v113 * v141 - v115 * v143 + v113 * v141 - v115 * v143)
                                                      * v45
                                                      + v139;
              *(double *)(v87 + ptr_to_free_6 - 8) = (v110 + v114 * v143 - v113 * v142 + v114 * v143 - v113 * v142)
                                                   * v45
                                                   + v137;
              --v88;
            }
            while ( v88 );
            if ( n4_1 < n4 )
              goto LABEL_35;
LABEL_37:
            v130 = v145;
            v131 = 0;
            if ( v81 )
            {
              v132 = 4 * v43;
              do
              {
                v133 = *(_DWORD *)(v145 - 4 * v43 + v132);
                v132 += 4;
                ++v131;
                *(_DWORD *)(v132 + *a4 - 4) = v44 + v133;
              }
              while ( v131 < v81 );
            }
            v134 = v158;
            if ( v158 )
            {
              if ( ((*((_QWORD *)&v159 + 1) - v158) & 0xFFFFFFFFFFFFFFFCuLL) >= 0x1000 )
              {
                v134 = *(_QWORD *)(v158 - 8);
                if ( (unsigned __int64)(v158 - v134 - 8) > 0x1F )
LABEL_58:
                  invalid_parameter_noinfo_noreturn();
              }
              sub_1402A63C0(v134);
              v158 = 0;
              v159 = 0;
            }
            v135 = v155;
            if ( v155 )
            {
              if ( (unsigned __int64)(v157 - v155) >= 0x1000 )
              {
                v135 = *(_QWORD *)(v155 - 8);
                if ( (unsigned __int64)(v155 - v135 - 8) > 0x1F )
                  goto LABEL_58;
              }
              sub_1402A63C0(v135);
              v155 = 0;
              v156 = 0;
              v157 = 0;
            }
            if ( v145 )
            {
              if ( ((*((_QWORD *)&v154 + 1) - v145) & 0xFFFFFFFFFFFFFFFCuLL) >= 0x1000 )
              {
                v130 = *(_QWORD *)(v145 - 8);
                if ( (unsigned __int64)(v145 - v130 - 8) > 0x1F )
                  goto LABEL_58;
              }
              sub_1402A63C0(v130);
              v154 = 0;
              v153 = 0;
            }
            std::vector<gte::TriangleKey<1>>::_Tidy((std::vector<gte::TriangleKey<1>> *)v152);
            v23 = v146;
            v19 = a1;
LABEL_53:
            v22 = v144;
LABEL_54:
            v21 = a5;
            break;
          default:
            goto LABEL_54;
        }
      }
      v23 += 0x20;
      v146 = v23;
      v22 += 8;
      ++v140;
      v144 = v22;
      if ( v140 >= *(_DWORD *)(v19 + 0x290) )
        break;
      v17 = a2;
    }
    v16 = v151;
  }
  v136 = _InterlockedDecrement64(v16);
  if ( (v136 & 0x3FF) == 0 && (v136 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v16, v136);
}

// --- End Function: sub_1468D12F0 (0x1468D12F0) ---

// --- Function: sub_1468D22B0 (0x1468D22B0) ---
int __fastcall sub_1468D22B0(__int64 *a1, const char *FileName, __int64 a3)
{
  __int128 v3; // xmm6
  __int64 v8; // rax
  __int64 v9; // rdi
  __int64 v10; // rsi
  unsigned __int64 v11; // r15
  unsigned __int64 v12; // r14
  FILE *File_1; // rax
  FILE *File; // rbp
  unsigned __int64 v15; // rbx
  unsigned __int64 v16; // rdi
  __int64 v17; // rbx
  __int64 v18; // rcx
  __int64 v19; // r8
  __int128 v21; // [rsp+30h] [rbp-98h] BYREF
  __int64 v22; // [rsp+40h] [rbp-88h]
  __int128 v23; // [rsp+48h] [rbp-80h] BYREF
  __int64 v24; // [rsp+58h] [rbp-70h]
  _BYTE v25[16]; // [rsp+60h] [rbp-68h] BYREF
  double v26; // [rsp+70h] [rbp-58h]
  double v27; // [rsp+78h] [rbp-50h]
  __int128 v28; // [rsp+A0h] [rbp-28h]
  _UNKNOWN *retaddr; // [rsp+C8h] [rbp+0h] BYREF

  _RAX = &retaddr;
  v23 = 0;
  v21 = 0;
  _XMM1 = 0;
  v27 = 1.0;
  __asm
  {
    vmovupd xmmword ptr [rax-68h], xmm1
    vmovupd ymm1, cs:ymmword_1480E1F80
  }
  v26 = 0.0;
  __asm { vmovupd ymmword ptr [rax-48h], ymm1 }
  v24 = 0;
  v8 = *a1;
  v22 = 0;
  __asm { vzeroupper }
  (*(void (__fastcall **)(__int64 *, _BYTE *, __int128 *, __int128 *, __int64))(v8 + 0x150))(a1, v25, &v23, &v21, a3);
  v9 = v23;
  v10 = v21;
  v11 = (__int64)(*((_QWORD *)&v21 + 1) - v21) >> 2;
  v12 = (*((_QWORD *)&v23 + 1) - (_QWORD)v23) / 0x18LL;
  File_1 = fopen(FileName, "wb");
  File = File_1;
  if ( File_1 )
  {
    v15 = 0;
    if ( v12 )
    {
      v28 = v3;
      do
      {
        fprintf(
          File,
          "v %0.9f %0.9f %0.9f\n",
          *(double *)(0x18 * (int)v15 + v9),
          *(double *)(0x18 * (int)v15 + v9 + 0x10),
          COERCE_DOUBLE(*(_QWORD *)(0x18 * (int)v15 + v9 + 8) ^ 0x8000000000000000uLL));
        ++v15;
      }
      while ( v15 < v12 );
    }
    v16 = v11 / 3;
    if ( v11 / 3 )
    {
      v17 = 0;
      do
      {
        fprintf(
          File,
          "f %d %d %d\n",
          *(_DWORD *)(v17 + v10) + 1,
          *(_DWORD *)(v17 + v10 + 4) + 1,
          *(_DWORD *)(v17 + v10 + 8) + 1);
        v17 += 0xC;
        --v16;
      }
      while ( v16 );
    }
    LODWORD(File_1) = fclose(File);
  }
  v18 = v21;
  if ( (_QWORD)v21 )
  {
    if ( ((v22 - (_QWORD)v21) & 0xFFFFFFFFFFFFFFFCuLL) >= 0x1000 )
    {
      v18 = *(_QWORD *)(v21 - 8);
      if ( (unsigned __int64)(v21 - v18 - 8) > 0x1F )
LABEL_16:
        invalid_parameter_noinfo_noreturn();
    }
    LODWORD(File_1) = sub_1402A63C0(v18);
    v21 = 0;
    v22 = 0;
  }
  v19 = v23;
  if ( (_QWORD)v23 )
  {
    if ( (unsigned __int64)(0x18 * ((v24 - (__int64)v23) / 0x18)) >= 0x1000 )
    {
      v19 = *(_QWORD *)(v23 - 8);
      if ( (unsigned __int64)(v23 - v19 - 8) > 0x1F )
        goto LABEL_16;
    }
    LODWORD(File_1) = sub_1402A63C0(v19);
  }
  return (int)File_1;
}

// --- End Function: sub_1468D22B0 (0x1468D22B0) ---

// --- Function: sub_1468D2560 (0x1468D2560) ---
__int64 __fastcall sub_1468D2560(__int64 a1, std::vector<vraudio::AudioBuffer const *> *a2)
{
  __int64 v2; // rdi
  int v3; // r12d
  __int64 v4; // r15
  const char *v5; // r13
  _QWORD *v6; // rax
  _QWORD *v7; // rax
  int v8; // eax
  unsigned __int64 n4; // rdx
  double v10; // xmm0_8
  int v11; // eax
  __int64 v12; // rax
  __int64 v13; // r8
  unsigned __int64 v14; // rcx
  int v15; // edx
  const vraudio::AudioBuffer *__Val_0___1; // rbx
  __int64 v17; // r14
  __int64 v18; // rsi
  char *v19; // rbx
  __int64 v20; // r12
  __int64 v21; // r8
  __int64 v22; // rcx
  float v23; // xmm0_4
  float v24; // xmm0_4
  float v25; // xmm0_4
  float v26; // xmm0_4
  float v27; // xmm0_4
  float v28; // xmm0_4
  float v29; // xmm0_4
  float v30; // xmm0_4
  float v31; // xmm0_4
  float v32; // xmm2_4
  float v33; // xmm1_4
  __int64 v34; // rax
  float v35; // xmm1_4
  __int64 v36; // rcx
  __int64 v37; // rdx
  float v38; // xmm15_4
  float v39; // xmm14_4
  float v40; // xmm13_4
  float v41; // xmm12_4
  float v42; // xmm10_4
  float v43; // xmm9_4
  float v44; // xmm8_4
  float v45; // r8d
  float v46; // xmm3_4
  float v47; // xmm6_4
  float v48; // xmm7_4
  float v49; // xmm4_4
  float v50; // xmm2_4
  float v51; // xmm1_4
  float v52; // xmm11_4
  __int64 v53; // rax
  float v54; // xmm5_4
  __int64 v55; // rcx
  float v56; // xmm10_4
  float v57; // xmm8_4
  float v58; // xmm5_4
  float v59; // xmm4_4
  float v60; // xmm6_4
  float v61; // xmm2_4
  double v62; // xmm5_8
  float v63; // xmm1_4
  double v64; // xmm4_8
  __int64 v65; // rcx
  float v66; // xmm6_4
  float v67; // xmm10_4
  float v68; // xmm14_4
  float v69; // xmm12_4
  float v70; // xmm15_4
  float v71; // xmm9_4
  float v72; // xmm8_4
  __int64 v73; // rcx
  double v74; // xmm10_8
  double v75; // xmm6_8
  double v76; // xmm3_8
  double v77; // xmm0_8
  double v78; // xmm1_8
  __int64 v79; // rcx
  double v80; // xmm1_8
  __int64 *v81; // rax
  int n0x2000; // r14d
  __int64 *v83; // rax
  __int64 v84; // rax
  __int64 v85; // rsi
  __int64 v86; // rdi
  __int64 v87; // rdx
  int v88; // ebx
  int v89; // eax
  int v90; // eax
  __int64 v91; // rcx
  __int64 v92; // r12
  __int64 v93; // rbx
  __int64 v94; // rdi
  __int64 v95; // rax
  float v96; // xmm14_4
  float v97; // xmm12_4
  float v98; // xmm11_4
  float v99; // xmm9_4
  float v100; // xmm10_4
  float v101; // xmm13_4
  float v102; // xmm7_4
  float v103; // xmm8_4
  float v104; // xmm4_4
  float v105; // xmm15_4
  float v106; // xmm5_4
  float v107; // xmm8_4
  float v108; // kr00_4
  float v109; // xmm0_4
  float v110; // xmm9_4
  float v111; // kr00_4
  float v112; // xmm6_4
  float v113; // xmm5_4
  float v114; // xmm3_4
  float v115; // xmm7_4
  float v116; // xmm9_4
  float v117; // xmm4_4
  float v118; // xmm3_4
  float v119; // xmm11_4
  float v120; // xmm9_4
  float v121; // xmm12_4
  float v122; // xmm10_4
  float v123; // xmm7_4
  __int128 v124; // xmm14
  float v125; // xmm4_4
  __int128 v126; // kr00_16
  __int128 v127; // xmm8
  float v128; // xmm6_4
  float v129; // xmm4_4
  __int128 v130; // kr00_16
  __int128 v131; // xmm5
  __int128 v132; // kr00_16
  float v133; // xmm9_4
  __int128 v134; // xmm4
  float v135; // xmm10_4
  float v136; // xmm0_4
  float v137; // xmm6_4
  float v144; // xmm7_4
  float v145; // xmm6_4
  __int64 v146; // r9
  __int64 v147; // rax
  __int64 v148; // rdx
  unsigned int v149; // esi
  __int64 v150; // rcx
  __int64 v151; // rax
  __int64 v152; // rdi
  int n0x2000_1; // r12d
  __int64 v154; // r15
  __int64 v155; // rax
  __int64 v156; // r8
  __int64 v157; // rdx
  __int64 v158; // rax
  _QWORD *v159; // rcx
  int v160; // esi
  char *v161; // rbx
  __int64 n3; // rdi
  _QWORD *buf; // rax
  _QWORD *buf_1; // rax
  unsigned int v165; // r14d
  __int64 v166; // rdi
  __int64 v167; // rbx
  const vraudio::AudioBuffer *__Val_0___2; // r13
  __int64 v169; // r12
  float *v170; // rsi
  __int64 v171; // rdx
  float *v172; // rax
  __int64 v173; // rcx
  float v174; // xmm9_4
  float v175; // xmm3_4
  float v176; // xmm6_4
  float v177; // xmm1_4
  float v178; // xmm8_4
  float v179; // xmm11_4
  float v180; // xmm5_4
  float v181; // xmm4_4
  float v182; // xmm3_4
  float v183; // xmm10_4
  float v184; // xmm1_4
  float v185; // xmm0_4
  float v186; // xmm9_4
  float v187; // xmm12_4
  float v188; // xmm2_4
  float v189; // xmm0_4
  float v190; // xmm1_4
  float v191; // xmm0_4
  float v192; // xmm10_4
  float v193; // xmm0_4
  float v194; // xmm2_4
  float v195; // xmm8_4
  float v196; // xmm3_4
  float v197; // xmm11_4
  float v198; // xmm5_4
  float v199; // xmm12_4
  float v200; // xmm4_4
  float v201; // xmm7_4
  float v202; // xmm2_4
  float v203; // xmm6_4
  float v204; // xmm3_4
  float v205; // xmm13_4
  float v206; // xmm10_4
  float v207; // xmm15_4
  float v208; // xmm5_4
  float v209; // xmm4_4
  float v210; // xmm14_4
  float v211; // xmm9_4
  float v212; // xmm6_4
  float v213; // xmm7_4
  float v214; // xmm8_4
  float v215; // xmm12_4
  float v216; // xmm11_4
  float v217; // xmm0_4
  float v218; // xmm5_4
  float v219; // xmm1_4
  float v220; // xmm6_4
  float v221; // xmm4_4
  __int128 v222; // kr00_16
  __int128 v227; // kr00_16
  float v232; // xmm7_4
  float v233; // xmm10_4
  float v234; // xmm9_4
  float v235; // xmm12_4
  float v236; // xmm4_4
  float v237; // xmm11_4
  float v238; // xmm14_4
  __int64 v239; // rax
  float v240; // xmm8_4
  float v241; // xmm4_4
  float v242; // xmm6_4
  float v243; // xmm3_4
  float v244; // xmm1_4
  float v245; // xmm7_4
  float v246; // xmm4_4
  __int128 v247; // kr00_16
  __int128 v249; // kr00_16
  float v252; // xmm9_4
  float v253; // xmm10_4
  float v254; // xmm4_4
  float v255; // xmm8_4
  __int128 v257; // kr00_16
  float v260; // xmm7_4
  float v261; // xmm6_4
  float v262; // xmm4_4
  float v263; // xmm4_4
  __int64 v264; // rcx
  int v265; // eax
  __int64 v266; // rax
  float v267; // xmm13_4
  float v268; // xmm8_4
  float v269; // xmm4_4
  char *v270; // r8
  __int64 v271; // rcx
  float v272; // xmm7_4
  __int64 v273; // rsi
  __int64 v274; // rcx
  int *v275; // rsi
  float *v276; // rax
  float v277; // xmm11_4
  float v278; // xmm9_4
  float v279; // xmm12_4
  float v280; // xmm15_4
  float v281; // xmm6_4
  float v282; // xmm5_4
  float v283; // xmm7_4
  float v284; // xmm14_4
  float v285; // xmm4_4
  float v286; // xmm8_4
  float v287; // xmm1_4
  float v288; // xmm9_4
  float v289; // xmm13_4
  float v290; // xmm6_4
  float v291; // xmm4_4
  float v292; // xmm5_4
  float v293; // xmm11_4
  float v294; // xmm9_4
  float v295; // xmm8_4
  float v296; // xmm12_4
  float v297; // xmm10_4
  float v298; // xmm6_4
  float v299; // xmm7_4
  float v300; // xmm14_4
  float v301; // xmm3_4
  float v302; // xmm4_4
  float v303; // xmm8_4
  float v304; // xmm12_4
  float v305; // xmm11_4
  __int64 v306; // rax
  float v307; // xmm8_4
  float v308; // xmm10_4
  float v309; // xmm9_4
  float v310; // xmm7_4
  float v311; // xmm5_4
  float v312; // xmm4_4
  float v313; // xmm0_4
  float v314; // xmm2_4
  float v315; // xmm7_4
  float *v316; // rax
  float v317; // xmm10_4
  float v318; // xmm8_4
  float v319; // xmm9_4
  float v320; // xmm14_4
  float v321; // xmm12_4
  float v322; // xmm5_4
  float v323; // xmm13_4
  float v324; // xmm4_4
  float v325; // xmm6_4
  float v326; // xmm7_4
  float v327; // xmm13_4
  float v328; // xmm2_4
  float v329; // xmm8_4
  float v330; // xmm15_4
  float v331; // xmm6_4
  float v332; // kr00_4
  float v333; // xmm5_4
  float v334; // xmm3_4
  float v335; // xmm12_4
  float v336; // xmm9_4
  float v337; // xmm7_4
  float v338; // xmm4_4
  float v339; // xmm3_4
  __int64 v340; // rcx
  float v341; // xmm7_4
  float v342; // xmm8_4
  float v343; // xmm10_4
  float v344; // xmm4_4
  __int64 v345; // rax
  float v346; // xmm13_4
  float v347; // xmm12_4
  float v348; // xmm11_4
  float v349; // xmm9_4
  float v350; // xmm5_4
  float v351; // kr00_4
  float v352; // xmm1_4
  double v353; // xmm4_8
  float v354; // xmm6_4
  float v355; // kr00_4
  double v356; // xmm5_8
  float v357; // xmm8_4
  float v358; // kr00_4
  float v359; // xmm9_4
  __int64 v360; // rax
  __int64 v361; // rcx
  volatile signed __int64 *v362; // rcx
  unsigned __int64 n0x200000; // rax
  _QWORD *buf_3; // rdi
  _QWORD *buf_4; // rbx
  __int64 v366; // rcx
  const vraudio::AudioBuffer *__Val_0___3; // rax
  std::vector<vraudio::AudioBuffer const *> *v368; // rcx
  const vraudio::AudioBuffer **_Whereptr; // rdx
  int v371; // [rsp+58h] [rbp-B0h]
  int v372; // [rsp+58h] [rbp-B0h]
  float v373; // [rsp+58h] [rbp-B0h]
  float v374; // [rsp+5Ch] [rbp-ACh]
  float v375; // [rsp+5Ch] [rbp-ACh]
  float v376; // [rsp+64h] [rbp-A4h]
  float v377; // [rsp+64h] [rbp-A4h]
  int v378; // [rsp+68h] [rbp-A0h]
  float v379; // [rsp+68h] [rbp-A0h]
  float v380; // [rsp+6Ch] [rbp-9Ch]
  float v381; // [rsp+6Ch] [rbp-9Ch]
  float v382; // [rsp+6Ch] [rbp-9Ch]
  float v383; // [rsp+70h] [rbp-98h]
  float v384; // [rsp+70h] [rbp-98h]
  float v385; // [rsp+74h] [rbp-94h]
  float v386; // [rsp+74h] [rbp-94h]
  float v387; // [rsp+78h] [rbp-90h]
  float v388; // [rsp+78h] [rbp-90h]
  float v389; // [rsp+7Ch] [rbp-8Ch]
  float v390; // [rsp+7Ch] [rbp-8Ch]
  __int64 v391; // [rsp+80h] [rbp-88h]
  float v392; // [rsp+80h] [rbp-88h]
  int v393; // [rsp+80h] [rbp-88h]
  float v394; // [rsp+80h] [rbp-88h]
  unsigned int v395; // [rsp+80h] [rbp-88h]
  float v396; // [rsp+80h] [rbp-88h]
  __int64 v397; // [rsp+88h] [rbp-80h]
  float v398; // [rsp+88h] [rbp-80h]
  float v399; // [rsp+88h] [rbp-80h]
  float v400; // [rsp+88h] [rbp-80h]
  float v401; // [rsp+90h] [rbp-78h]
  float v402; // [rsp+90h] [rbp-78h]
  float v403; // [rsp+94h] [rbp-74h] BYREF
  __int64 v404; // [rsp+98h] [rbp-70h]
  __int64 v405; // [rsp+A0h] [rbp-68h]
  __int64 v406; // [rsp+A8h] [rbp-60h]
  __int64 v407; // [rsp+B0h] [rbp-58h]
  __int64 v408; // [rsp+B8h] [rbp-50h] BYREF
  float v409; // [rsp+C0h] [rbp-48h]
  float v410; // [rsp+C4h] [rbp-44h]
  __int64 v411; // [rsp+C8h] [rbp-40h] BYREF
  const vraudio::AudioBuffer *__Val_0__; // [rsp+D8h] [rbp-30h] BYREF
  __int64 v413; // [rsp+E0h] [rbp-28h]
  __int64 v414; // [rsp+F0h] [rbp-18h] BYREF
  volatile signed __int64 *v415; // [rsp+100h] [rbp-8h] BYREF
  char v416; // [rsp+108h] [rbp+0h]
  __int64 v417; // [rsp+110h] [rbp+8h] BYREF
  std::vector<vraudio::AudioBuffer const *> *v418; // [rsp+118h] [rbp+10h]
  float v419[13]; // [rsp+128h] [rbp+20h] BYREF
  __int64 v420; // [rsp+15Ch] [rbp+54h]
  int v421; // [rsp+164h] [rbp+5Ch]
  __int64 v422; // [rsp+168h] [rbp+60h] BYREF
  _QWORD *buf_2; // [rsp+170h] [rbp+68h]
  __int64 v424; // [rsp+178h] [rbp+70h]
  unsigned __int64 *v425; // [rsp+180h] [rbp+78h] BYREF
  __int128 v426; // [rsp+188h] [rbp+80h]
  __int64 n7; // [rsp+198h] [rbp+90h]
  __int64 n8; // [rsp+1A0h] [rbp+98h]
  double v429[3]; // [rsp+1A8h] [rbp+A0h] BYREF
  float v430; // [rsp+1C0h] [rbp+B8h]
  float v431; // [rsp+1C4h] [rbp+BCh]
  float v432; // [rsp+1C8h] [rbp+C0h]
  float v433; // [rsp+1CCh] [rbp+C4h]
  float v434; // [rsp+1D0h] [rbp+C8h]
  float v435; // [rsp+1D4h] [rbp+CCh]
  float v436; // [rsp+1D8h] [rbp+D0h]
  float v437; // [rsp+1DCh] [rbp+D4h]
  float v438; // [rsp+1E0h] [rbp+D8h]
  float v439; // [rsp+1E4h] [rbp+DCh]
  __int128 v440; // [rsp+1E8h] [rbp+E0h]
  float v441; // [rsp+1F8h] [rbp+F0h]
  float v442; // [rsp+1FCh] [rbp+F4h]
  double v443; // [rsp+200h] [rbp+F8h]
  int v445; // [rsp+218h] [rbp+110h]
  double v446[3]; // [rsp+228h] [rbp+120h] BYREF
  float v447; // [rsp+240h] [rbp+138h]
  float v448; // [rsp+244h] [rbp+13Ch]
  float v449; // [rsp+248h] [rbp+140h]
  float v450; // [rsp+24Ch] [rbp+144h]
  float v451; // [rsp+250h] [rbp+148h]
  float v452; // [rsp+254h] [rbp+14Ch]
  float v453; // [rsp+258h] [rbp+150h]
  float v454; // [rsp+25Ch] [rbp+154h]
  float v455; // [rsp+260h] [rbp+158h]
  float v456; // [rsp+264h] [rbp+15Ch]
  __int128 v457; // [rsp+268h] [rbp+160h]
  float v458; // [rsp+278h] [rbp+170h]
  float v459; // [rsp+27Ch] [rbp+174h]
  double v460; // [rsp+280h] [rbp+178h]
  int v462; // [rsp+298h] [rbp+190h]
  __m256 v463; // [rsp+2A8h] [rbp+1A0h] BYREF
  float v464; // [rsp+2C8h] [rbp+1C0h]
  int v465; // [rsp+2CCh] [rbp+1C4h]
  __int64 v466; // [rsp+2D0h] [rbp+1C8h]
  int v467; // [rsp+2D8h] [rbp+1D0h]
  double v468; // [rsp+2DCh] [rbp+1D4h]
  int v469; // [rsp+2E4h] [rbp+1DCh]
  char v470[56]; // [rsp+2E8h] [rbp+1E0h] BYREF
  unsigned __int64 v471; // [rsp+320h] [rbp+218h]
  float v472; // [rsp+328h] [rbp+220h]
  __int64 v473; // [rsp+32Ch] [rbp+224h]
  float v474; // [rsp+334h] [rbp+22Ch]
  _DWORD v475[20]; // [rsp+338h] [rbp+230h] BYREF
  char v476[16]; // [rsp+388h] [rbp+280h] BYREF
  char v477[16]; // [rsp+398h] [rbp+290h] BYREF
  _QWORD *v478; // [rsp+3A8h] [rbp+2A0h] BYREF
  int v479; // [rsp+3B0h] [rbp+2A8h]
  int v480; // [rsp+3B4h] [rbp+2ACh]
  __int128 v481; // [rsp+3B8h] [rbp+2B0h]
  __int64 v482[4]; // [rsp+3C8h] [rbp+2C0h] BYREF
  char v483; // [rsp+3E8h] [rbp+2E0h] BYREF
  __int64 v484[8]; // [rsp+408h] [rbp+300h] BYREF
  __int64 v485; // [rsp+448h] [rbp+340h] BYREF
  __int64 v486; // [rsp+450h] [rbp+348h]
  __int64 v487; // [rsp+460h] [rbp+358h]
  __int64 v488; // [rsp+478h] [rbp+370h]

  v2 = 0;
  v3 = 0;
  v4 = a1;
  v418 = a2;
  v413 = a1;
  v475[0] = 0xFFFFFFFF;
  v411 = 0;
  v408 = 0;
  v5 = sub_1465FEB70();
  if ( !*((_QWORD *)v5 + 0x1E) )
  {
    v6 = (_QWORD *)sub_1402A63D0(0x70u);
    if ( v6 )
      v7 = sub_1465AEDF0(v6);
    else
      v7 = 0;
    *((_QWORD *)v5 + 0x1E) = v7;
  }
  v8 = *(_DWORD *)(v4 + 0x1F0);
  n4 = *(int *)(v4 + 0x290);
  v463 = ymmword_148199FE0;
  v466 = *(_QWORD *)(v4 + 0x1E8);
  v10 = *(double *)(v4 + 0x1F4);
  v467 = v8;
  v11 = *(_DWORD *)(v4 + 0x1FC);
  v468 = v10;
  v464 = 1.0;
  v469 = v11;
  v465 = 0;
  v12 = *((_QWORD *)v5 + 0x1E);
  if ( n4 >= *(_QWORD *)(v12 + 0x68) )
  {
    *(_QWORD *)(v12 + 0x68) = n4;
    __asm { vzeroupper }
    sub_14676E0F0((__int64 *)(*((_QWORD *)v5 + 0x1E) + 0x60LL), n4);
  }
  v13 = *((_QWORD *)v5 + 0x1E);
  v14 = *(int *)(v4 + 0x290);
  if ( v14 >= *(_QWORD *)(v13 + 0x40) )
  {
    *(_QWORD *)(v13 + 0x40) = (int)v14 + 1;
    __asm { vzeroupper }
    sub_14676E0B0((__int64 *)(*((_QWORD *)v5 + 0x1E) + 0x30LL), 2LL * ((int)v14 + 1));
  }
  v15 = 0;
  __Val_0___1 = *(const vraudio::AudioBuffer **)(*((_QWORD *)v5 + 0x1E) + 0x60LL);
  v397 = 0x2000000000LL;
  __Val_0__ = __Val_0___1;
  v378 = 0;
  v371 = 0;
  if ( *(int *)(v4 + 0x290) > 0 )
  {
    v17 = 0;
    v18 = 0;
    v19 = (char *)__Val_0___1 + 0x34;
    v20 = 0x2000000000LL;
    do
    {
      v21 = *(_QWORD *)(v17 + *(_QWORD *)(v4 + 0x248));
      v391 = v21;
      if ( v21 && (*(_DWORD *)(*(_QWORD *)(v17 + *(_QWORD *)(v4 + 0x238)) + 0x4CLL) & 0x10000000) == 0 )
      {
        v20 |= v21;
        __asm { vzeroupper }
        (*(void (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x270LL))(v4);
        *(_QWORD *)(v19 + 0xFFFFFFCC) = **(_QWORD **)(v17 + *(_QWORD *)(v4 + 0x238));
        v22 = *(_QWORD *)(v4 + 0x260);
        v23 = *(float *)(v2 + v22);
        *((float *)v19 + 0xFFFFFFF5) = v23;
        v385 = v23;
        v24 = *(float *)(v2 + v22 + 4);
        *((float *)v19 + 0xFFFFFFF6) = v24;
        v383 = v24;
        v25 = *(float *)(v2 + v22 + 8);
        *((float *)v19 + 0xFFFFFFF7) = v25;
        v387 = v25;
        v26 = *(float *)(v2 + v22 + 0xC);
        *((float *)v19 + 0xFFFFFFF8) = v26;
        v409 = v26;
        v27 = *(float *)(v2 + v22 + 0x10);
        *((float *)v19 + 0xFFFFFFF9) = v27;
        v380 = v27;
        v28 = *(float *)(v2 + v22 + 0x14);
        *((float *)v19 + 0xFFFFFFFA) = v28;
        *(float *)&v414 = v28;
        v29 = *(float *)(v2 + v22 + 0x18);
        *((float *)v19 + 0xFFFFFFFB) = v29;
        v376 = v29;
        v30 = *(float *)(v2 + v22 + 0x1C);
        *((float *)v19 + 0xFFFFFFFC) = v30;
        v389 = v30;
        v31 = *(float *)(v2 + v22 + 0x20);
        *((float *)v19 + 0xFFFFFFFD) = v31;
        *((_DWORD *)v19 + 0xFFFFFFFE) = *(_DWORD *)(v2 + v22 + 0x24);
        *(double *)(v19 + 0xFFFFFFFC) = *(double *)(v2 + v22 + 0x28);
        *((_DWORD *)v19 + 1) = *(_DWORD *)(v2 + v22 + 0x30);
        *((double *)v19 + 1) = *(double *)(v2 + v22 + 0x34);
        *((_DWORD *)v19 + 4) = *(_DWORD *)(v2 + v22 + 0x3C);
        v32 = *(float *)(v4 + 0x200);
        v33 = v32 * *(float *)v19;
        v34 = *(_QWORD *)(v4 + 0x240);
        *((float *)v19 + 0xFFFFFFFF) = v32 * *((float *)v19 + 0xFFFFFFFF);
        *((float *)v19 + 1) = v32 * *((float *)v19 + 1);
        *(float *)v19 = v33;
        v35 = *(float *)(v4 + 0x200);
        *((float *)v19 + 2) = v35 * *((float *)v19 + 2);
        *((float *)v19 + 3) = v35 * *((float *)v19 + 3);
        *((float *)v19 + 4) = v35 * *((float *)v19 + 4);
        v36 = *(_QWORD *)(v17 + v34);
        *(_QWORD *)(v19 + 0x94) = v391;
        *((_DWORD *)v19 + 0x27) = v371;
        *(_QWORD *)(v19 + 0x8C) = v36;
        v37 = *(_QWORD *)(v4 + 0x210);
        v38 = *(float *)(v37 + 0x18);
        v39 = *(float *)(v37 + 0x1C);
        v40 = *(float *)(v37 + 0x20);
        v41 = *(float *)(v37 + 0x24);
        v42 = 1.0 - (float)((float)(v38 + v38) * v38);
        v43 = (float)(v39 + v39) * v39;
        v44 = (float)(v38 + v38) * v41;
        v45 = *((float *)v19 + 4);
        v46 = (float)(v39 + v39) * v38;
        v47 = (float)(v39 + v39) * v41;
        v48 = (float)(v40 + v40) * v39;
        v49 = (float)(v40 + v40) * v38;
        v50 = (float)(v40 + v40) * v40;
        v51 = (float)(v40 + v40) * v41;
        v52 = *((float *)v19 + 1);
        v401 = (float)(1.0 - v43) - v50;
        v403 = v46 - v51;
        v410 = v49 + v47;
        *(float *)&v404 = v48 - v44;
        v473 = *((_QWORD *)v19 + 1);
        v398 = v49 - v47;
        *(float *)&v405 = v48 + v44;
        v472 = v52;
        v53 = *((_QWORD *)v5 + 0x1E);
        *(float *)&v407 = v51 + v46;
        v54 = v42 - v50;
        v55 = *(_QWORD *)(v53 + 0x30);
        v392 = v42 - v43;
        v471 = *(_QWORD *)(v19 + 0xFFFFFFFC);
        v56 = _mm_shuffle_ps((__m128)v471, (__m128)v471, 0x55).m128_f32[0];
        v474 = v45;
        v57 = (float)((float)(v39 * v52) - (float)(v40 * v56)) + (float)(v41 * *(float *)&v471);
        *(float *)&v406 = v54;
        v58 = (float)((float)(v40 * *(float *)&v471) - (float)(v38 * v52)) + (float)(v41 * v56);
        v59 = (float)((float)(v38 * v56) - (float)(v39 * *(float *)&v471)) + (float)(v41 * v52);
        v60 = (float)(v39 * v59) - (float)(v40 * v58);
        v61 = v38 * v58;
        v62 = *(double *)(v37 + 0x10);
        v63 = v38 * v59;
        v64 = *(double *)(v37 + 8);
        *(double *)(v55 + v18 + 0x18) = (float)((float)(*(float *)&v471 + v60) + v60) + *(double *)v37;
        *(double *)(v55 + v18 + 0x20) = (float)((float)(v56 + (float)((float)(v40 * v57) - v63))
                                              + (float)((float)(v40 * v57) - v63))
                                      + v64;
        *(double *)(v55 + v18 + 0x28) = (float)((float)(v52 + (float)(v61 - (float)(v39 * v57)))
                                              + (float)(v61 - (float)(v39 * v57)))
                                      + v62;
        v65 = *(_QWORD *)(*((_QWORD *)v5 + 0x1E) + 0x30LL);
        v66 = v403;
        v67 = v410;
        v68 = *(float *)&v414;
        v69 = *(float *)&v404;
        v70 = v409;
        v71 = *((float *)&v473 + 1);
        v72 = *(float *)&v473;
        *(_OWORD *)(v65 + v18) = *(_OWORD *)(v65 + v18 + 0x18);
        *(double *)(v65 + v18 + 0x10) = *(double *)(v65 + v18 + 0x28);
        v73 = *(_QWORD *)(*((_QWORD *)v5 + 0x1E) + 0x30LL);
        v74 = (float)((float)((float)(fabs((float)((float)(v380 * v66) + (float)(v70 * v401)) + (float)(v68 * v67)) * v71)
                            + (float)(fabs((float)((float)(v66 * v383) + (float)(v401 * v385)) + (float)(v67 * v387))
                                    * v72))
                    + (float)(fabs((float)((float)(v66 * v389) + (float)(v401 * v376)) + (float)(v67 * v31)) * v45));
        v75 = (float)((float)((float)(fabs(
                                        (float)((float)(v380 * *(float *)&v406) + (float)(v70 * *(float *)&v407))
                                      + (float)(v68 * v69))
                                    * v71)
                            + (float)(fabs(
                                        (float)((float)(*(float *)&v406 * v383) + (float)(*(float *)&v407 * v385))
                                      + (float)(v69 * v387))
                                    * v72))
                    + (float)(fabs(
                                (float)((float)(*(float *)&v406 * v389) + (float)(*(float *)&v407 * v376))
                              + (float)(v69 * v31))
                            * v45));
        ++v378;
        v19 += 0xD8;
        v15 = v371;
        v76 = (float)((float)((float)(fabs(
                                        (float)((float)(v380 * *(float *)&v405) + (float)(v70 * v398))
                                      + (float)(v68 * v392))
                                    * v71)
                            + (float)(fabs(
                                        (float)((float)(*(float *)&v405 * v383) + (float)(v398 * v385))
                                      + (float)(v392 * v387))
                                    * v72))
                    + (float)(fabs((float)((float)(*(float *)&v405 * v389) + (float)(v398 * v376)) + (float)(v392 * v31))
                            * v45));
        v77 = *(double *)(v18 + v73 + 8);
        *(double *)(v18 + v73) = *(double *)(v18 + v73) - v74;
        v78 = *(double *)(v18 + v73 + 0x10);
        *(double *)(v18 + v73 + 8) = v77 - v75;
        *(double *)(v18 + v73 + 0x10) = v78 - v76;
        v79 = *(_QWORD *)(*((_QWORD *)v5 + 0x1E) + 0x30LL);
        v80 = v75 + *(double *)(v79 + v18 + 0x20);
        *(double *)(v79 + v18 + 0x18) = v74 + *(double *)(v79 + v18 + 0x18);
        *(double *)(v79 + v18 + 0x28) = v76 + *(double *)(v79 + v18 + 0x28);
        *(double *)(v79 + v18 + 0x20) = v80;
        v18 += 0x30;
      }
      ++v15;
      v17 += 8;
      v2 += 0x40;
      v371 = v15;
    }
    while ( v15 < *(_DWORD *)(v4 + 0x290) );
    v397 = v20;
    v3 = v411;
  }
  v81 = (__int64 *)*((_QWORD *)v5 + 0x1F);
  n0x2000 = 0x2000;
  v372 = 0;
  if ( !v81 )
  {
    __asm { vzeroupper }
    v83 = (__int64 *)sub_1402A63D0(0x18u);
    if ( v83 )
      v81 = sub_1465B1390(v83);
    else
      v81 = 0;
    *((_QWORD *)v5 + 0x1F) = v81;
  }
  __asm { vzeroupper }
  v84 = sub_1465E5B30(v81, 0x1B0000u);
  v85 = *(_QWORD *)(v4 + 0x2C0);
  v86 = *(_QWORD *)(v4 + 0xB8);
  v87 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex);
  v404 = v84;
  v88 = *(_DWORD *)(v87 + 0x800);
  v89 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v4 + 0x340LL))(v4);
  v90 = sub_146922A80(v85, (int)v4 + 0x10, (int)v4 + 0x28, (unsigned int)&v417, v89, v4, v88, v86, 0);
  v414 = v90;
  if ( v90 > 0 )
  {
    v91 = 0;
    v92 = 0;
    v406 = 0;
    v405 = 0;
    do
    {
      v93 = *(_QWORD *)(v417 + 8 * v91);
      v94 = *(int *)(v93 + 0x290);
      v393 = *(_DWORD *)(v93 + 0x290);
      if ( (v93 != v4 || (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v93 + 8LL))(v93) == 6)
        && !(*(unsigned __int8 (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)v4 + 0x1F8LL))(v4, v93, 1) )
      {
        v95 = *(_QWORD *)(v4 + 0x210);
        v96 = *(float *)(v93 + 0x1D8);
        v97 = *(float *)(v93 + 0x1E0);
        v98 = *(float *)(v93 + 0x1DC);
        v99 = *(float *)(v95 + 0x18);
        v100 = *(float *)(v95 + 0x24);
        v101 = *(float *)(v95 + 0x1C);
        v102 = *(float *)(v95 + 0x20);
        v103 = *(float *)(v93 + 0x1E4);
        v374 = (float)((float)(v97 * v102) + (float)(v99 * v96)) + (float)((float)(v100 * v103) + (float)(v101 * v98));
        v104 = (float)(v101 * v97) - (float)(v98 * v102);
        v105 = (float)((float)(v99 * v103) + v104) - (float)(v100 * v96);
        v106 = (float)(v96 * v102) - (float)(v99 * v97);
        v107 = (float)((float)(v101 * v103) + v106) - (float)(v100 * v98);
        v108 = v99 * v98;
        v109 = v99 + v99;
        v110 = *(float *)(v93 + 0x1E4);
        v111 = v108 - (float)(v101 * v96);
        v112 = (float)((float)((float)((float)(v109 * v110) + v104) - (float)(v100 * v96)) + v104) - (float)(v100 * v96);
        v113 = (float)((float)((float)((float)((float)(v110 + v110) * v101) + v106) - (float)(v100 * v98)) + v106)
             - (float)(v100 * v98);
        v114 = (float)((float)((float)((float)((float)(v110 + v110) * v102) + v111) - (float)(v100 * v97)) + v111)
             - (float)(v100 * v97);
        v115 = v105 * v114;
        v116 = v114 * v107;
        v117 = (float)((float)((float)(*(float *)(v95 + 0x20) * *(float *)(v93 + 0x1E4)) + v111) - (float)(v100 * v97))
             * v114;
        v118 = v114 * v374;
        v419[1] = (float)(v105 * v113) - v118;
        v419[0] = (float)(1.0 - (float)(v113 * v107)) - v117;
        v419[3] = v118 + (float)(v105 * v113);
        v419[4] = (float)(1.0 - (float)(v112 * v105)) - v117;
        v419[5] = v116 - (float)(v112 * v374);
        v419[6] = v115 - (float)(v113 * v374);
        v419[2] = v115 + (float)(v113 * v374);
        v419[7] = v116 + (float)(v112 * v374);
        v419[8] = (float)(1.0 - (float)(v112 * v105)) - (float)(v113 * v107);
        LODWORD(v419[9]) = 1;
        v119 = *(float *)(v93 + 0x1DC);
        v120 = *(float *)(v93 + 0x1E0);
        v121 = *(float *)(v93 + 0x1EC);
        v122 = *(float *)(v93 + 0x1E8);
        v123 = *(float *)(v93 + 0x1D8);
        v124 = *(unsigned int *)(v93 + 0x1F0);
        v125 = *(float *)(v93 + 0x1E4);
        v126 = v124;
        *(float *)&v126 = (float)((float)(*(float *)&v124 * v119) - (float)(v121 * v120)) + (float)(v122 * v125);
        v127 = v126;
        v128 = (float)((float)(v122 * v120) - (float)(*(float *)&v124 * v123)) + (float)(v125 * v121);
        v129 = (float)((float)(v123 * v121) - (float)(v119 * v122)) + (float)(*(float *)&v124 * v125);
        v130 = LODWORD(v119);
        *(float *)&v130 = (float)(v119 * v129) - (float)(v128 * v120);
        v131 = v130;
        v132 = v127;
        *(float *)&v132 = *(float *)&v127 * v120;
        v133 = *(float *)(v95 + 0x20);
        *(float *)&v132 = *(float *)&v132 - (float)(v129 * v123);
        v134 = v132;
        *((_QWORD *)&v132 + 1) = *((_QWORD *)&v131 + 1);
        *(float *)&v132 = *(float *)&v131 + v122;
        v135 = *(float *)(v95 + 0x1C);
        v136 = v119 * *(float *)&v127;
        LODWORD(v127) = *(_DWORD *)(v95 + 0x18);
        v137 = (float)(v128 * v123) - v136;
        *(double *)&v132 = (float)(*(float *)&v132 + *(float *)&v131) + *(double *)(v93 + 0x1C0) - *(double *)v95;
        _XMM1 = v132;
        __asm { vcvtsd2ss xmm13, xmm1, xmm1 }
        *((_QWORD *)&v132 + 1) = *((_QWORD *)&v134 + 1);
        *(float *)&v132 = (float)(*(float *)&v134 + v121) + *(float *)&v134;
        LODWORD(v134) = *(_DWORD *)(v95 + 0x24);
        *(double *)&v132 = *(float *)&v132 + *(double *)(v93 + 0x1C8) - *(double *)(v95 + 8);
        _XMM0 = v132;
        __asm { vcvtsd2ss xmm12, xmm0, xmm0 }
        *((_QWORD *)&v132 + 1) = *((_QWORD *)&v124 + 1);
        *(double *)&v132 = (float)((float)(*(float *)&v124 + v137) + v137)
                         + *(double *)(v93 + 0x1D0)
                         - *(double *)(v95 + 0x10);
        _XMM1 = v132;
        __asm { vcvtsd2ss xmm11, xmm1, xmm1 }
        v144 = (float)((float)(*(float *)&_XMM12 * v133) - (float)(*(float *)&_XMM11 * v135))
             + (float)(*(float *)&_XMM13 * *(float *)&v134);
        v145 = (float)((float)(*(float *)&_XMM11 * *(float *)&v127) - (float)(*(float *)&_XMM13 * v133))
             + (float)(*(float *)&_XMM12 * *(float *)&v134);
        *(float *)&v134 = (float)((float)(*(float *)&_XMM13 * v135) - (float)(*(float *)&_XMM12 * *(float *)&v127))
                        + (float)(*(float *)&_XMM11 * *(float *)&v134);
        v419[0xA] = (float)(*(float *)&_XMM13 + (float)((float)(v145 * v133) - (float)(*(float *)&v134 * v135)))
                  + (float)((float)(v145 * v133) - (float)(*(float *)&v134 * v135));
        v419[0xB] = (float)(*(float *)&_XMM12
                          + (float)((float)(*(float *)&v134 * *(float *)&v127) - (float)(v144 * v133)))
                  + (float)((float)(*(float *)&v134 * *(float *)&v127) - (float)(v144 * v133));
        v419[0xC] = (float)(*(float *)&_XMM11 + (float)((float)(v144 * v135) - (float)(v145 * *(float *)&v127)))
                  + (float)((float)(v144 * v135) - (float)(v145 * *(float *)&v127));
        v420 = *(_QWORD *)(v93 + 0x1F4);
        v421 = *(_DWORD *)(v93 + 0x1FC);
        v475[0] = 0xFFFFFFFF;
        if ( sub_1466DE670((__int64)&v463, (__int64)v419, (__int64)v475) )
        {
          v146 = v411;
          v147 = *((_QWORD *)v5 + 0x1E);
          if ( (unsigned __int64)(v411 + v94) >= *(_QWORD *)(v147 + 0x48) )
          {
            v148 = v411 + v94 + 1;
            *(_QWORD *)(v147 + 0x48) = v148;
            sub_14676E0B0((__int64 *)(*((_QWORD *)v5 + 0x1E) + 0x38LL), 2 * v148);
            v146 = v411;
          }
          v149 = 0;
          if ( (int)v94 > 0 )
          {
            v150 = v397;
            v151 = 0xD8 * v92;
            v152 = 0;
            n0x2000_1 = v372 + 1;
            v407 = v151;
            v154 = 0x30 * v146;
            do
            {
              if ( (v150 & *(_QWORD *)(v152 + *(_QWORD *)(v93 + 0x240))) != 0 )
              {
                if ( (*(_DWORD *)(*(_QWORD *)(v152 + *(_QWORD *)(v93 + 0x238)) + 0x4CLL) & 0x10000000) == 0 )
                {
                  sub_1468DE490(v93, v149, v154 + *(_QWORD *)(*((_QWORD *)v5 + 0x1E) + 0x38LL));
                  ++v411;
                  v154 += 0x30;
                  if ( n0x2000_1 <= n0x2000 )
                  {
                    v155 = v404;
                  }
                  else
                  {
                    n0x2000 += 0x2000;
                    v155 = sub_1465E5B30(*((_QWORD **)v5 + 0x1F), 0xD8LL * n0x2000);
                    v404 = v155;
                  }
                  v156 = v407;
                  ++n0x2000_1;
                  ++v372;
                  v157 = v407 + v155;
                  ++v405;
                  *(_QWORD *)v157 = v93;
                  v158 = *(_QWORD *)(v93 + 0x238);
                  v407 = v156 + 0xD8;
                  *(_QWORD *)(v157 + 8) = **(_QWORD **)(v152 + v158);
                  *(_DWORD *)(v157 + 0x34) = 2;
                  *(_DWORD *)(v157 + 0xD0) = 0;
                  *(_QWORD *)(v157 + 0xC8) = *(_QWORD *)(v152 + *(_QWORD *)(v93 + 0x240));
                  *(_DWORD *)(v157 + 0xD4) = v149;
                }
                v150 = v397;
              }
              ++v149;
              v152 += 8;
            }
            while ( (int)v149 < v393 );
            v4 = v413;
            v92 = v405;
          }
        }
      }
      v91 = v406 + 1;
      v406 = v91;
    }
    while ( v91 < v414 );
    v3 = v411;
  }
  v159 = (_QWORD *)*((_QWORD *)v5 + 0x1E);
  v480 = v3;
  v481 = 0;
  v478 = v159 + 6;
  v479 = v378;
  v160 = sub_1465ED1F0(*v159, (__int64)&v478, (__int64)&v408);
  LODWORD(v406) = v160;
  v161 = &v483;
  n3 = 3;
  do
  {
    *((_DWORD *)v161 + 0xFFFFFFF8) = 0;
    *((_QWORD *)v161 + 0xFFFFFFFD) = 0;
    *((_QWORD *)v161 + 0xFFFFFFFE) = 0;
    buf = (_QWORD *)sub_1402A63D0(0x18u);
    *buf = buf;
    buf[1] = buf;
    *((_QWORD *)v161 + 0xFFFFFFFD) = buf;
    *((_QWORD *)v161 + 0xFFFFFFFF) = 0;
    *(_QWORD *)v161 = 0;
    *((_QWORD *)v161 + 1) = 0;
    *((_QWORD *)v161 + 2) = 7;
    *((_QWORD *)v161 + 3) = 8;
    *((_DWORD *)v161 + 0xFFFFFFF8) = 0x3F800000;
    std::_Hash_vec<std::allocator<std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<vraudio::Node::Output<vraudio::AudioBuffer const *> * const,std::shared_ptr<vraudio::Node>>>>>>>::_Assign_grow(
      (unsigned __int64 **)v161 + 0xFFFFFFFF,
      0x10u,
      (unsigned __int64)buf);
    v161 += 0x40;
    --n3;
  }
  while ( n3 );
  v424 = 0;
  buf_1 = (_QWORD *)sub_1402A63D0(0x18u);
  *buf_1 = buf_1;
  buf_1[1] = buf_1;
  *(float *)&v422 = 1.0;
  buf_2 = buf_1;
  v425 = 0;
  v426 = 0;
  n7 = 7;
  n8 = 8;
  std::_Hash_vec<std::allocator<std::_List_unchecked_iterator<std::_List_val<std::_List_simple_types<std::pair<vraudio::Node::Output<vraudio::AudioBuffer const *> * const,std::shared_ptr<vraudio::Node>>>>>>>::_Assign_grow(
    &v425,
    0x10u,
    (unsigned __int64)buf_1);
  v165 = 0;
  if ( v160 > 0 )
  {
    v166 = v404;
    v167 = 0;
    __Val_0___2 = __Val_0__;
    while ( 1 )
    {
      v169 = 0xD8LL * *(int *)(v408 + 8 * v167);
      v170 = (float *)(v166 + 0xD8LL * *(int *)(v408 + 8 * v167 + 4));
      v403 = *(float *)(v408 + 8 * v167);
      v171 = *(_QWORD *)v170;
      if ( (*(_QWORD *)((_BYTE *)__Val_0___2 + v169 + 0xC8) & *((_QWORD *)v170 + 0x19)) != 0 )
        break;
LABEL_67:
      ++v165;
      if ( ++v167 >= (int)v406 )
        goto LABEL_68;
    }
    if ( *((_DWORD *)v170 + 0xD) == 2 )
    {
      v172 = *(float **)(v4 + 0x210);
      v173 = *(_QWORD *)(v171 + 0x260) + ((__int64)*((int *)v170 + 0x35) << 6);
      v174 = v172[6];
      v175 = v172[7];
      v176 = v172[8];
      v177 = v172[9];
      v178 = (float)(v176 + v176) * v175;
      v179 = (float)(v175 + v175) * v175;
      v180 = (float)(v175 + v175) * v174;
      v181 = (float)(v175 + v175) * v177;
      v182 = (float)(v176 + v176) * v174;
      v183 = (float)(v174 + v174) * v177;
      v184 = (float)(v176 + v176) * v177;
      v185 = (float)(v174 + v174) * v174;
      v186 = *(float *)(v171 + 0x1E4);
      v187 = 1.0 - v185;
      v188 = (float)(v176 + v176) * v176;
      v373 = (float)(1.0 - v179) - v188;
      v375 = v180 - v184;
      v402 = v182 + v181;
      v189 = v184 + v180;
      v190 = *(float *)(v171 + 0x1DC);
      v379 = v189;
      v388 = v187 - v188;
      v386 = v178 - v183;
      v390 = v182 - v181;
      v191 = v178 + v183;
      v192 = *(float *)(v171 + 0x1E0);
      v377 = v191;
      v381 = v187 - v179;
      v193 = *(float *)(v171 + 0x1D8);
      v194 = -(float)(v193 + v193);
      v195 = v194 * v186;
      v196 = -(float)(v190 + v190);
      v197 = v196 * COERCE_FLOAT(LODWORD(v190) ^ 0x80000000);
      v198 = v196 * COERCE_FLOAT(LODWORD(v193) ^ 0x80000000);
      v199 = 1.0 - (float)(v194 * COERCE_FLOAT(LODWORD(v193) ^ 0x80000000));
      v200 = -(float)(v192 + v192);
      v201 = v200 * COERCE_FLOAT(LODWORD(v190) ^ 0x80000000);
      v202 = -(float)(v200 * v192);
      v203 = v196 * v186;
      v204 = v200 * COERCE_FLOAT(LODWORD(v193) ^ 0x80000000);
      v205 = (float)(1.0 - v197) - v202;
      v206 = (float)(v200 * v186) + v198;
      v207 = v198 - (float)(v200 * v186);
      v208 = *(float *)(v173 + 4);
      v394 = v204 + v203;
      v209 = *(float *)v173;
      v399 = v201 - v195;
      v210 = v199 - v202;
      v211 = v204 - v203;
      v212 = *(float *)(v173 + 8);
      v213 = v201 + v195;
      v214 = v199 - v197;
      v215 = v394;
      v216 = v399;
      *(float *)&v404 = (float)((float)(v205 * *(float *)v173) + (float)(v206 * v208)) + (float)(v211 * v212);
      *(float *)&v405 = (float)((float)(v207 * v209) + (float)(v210 * v208)) + (float)(v213 * v212);
      v217 = v399 * v208;
      v218 = *(float *)(v173 + 0x10);
      v219 = v214 * v212;
      v220 = *(float *)(v173 + 0x14);
      *(float *)&v407 = (float)((float)(v394 * v209) + v217) + v219;
      v221 = *(float *)(v173 + 0xC);
      v384 = (float)((float)(v205 * v221) + (float)(v206 * v218)) + (float)(v211 * v220);
      *(float *)&v395 = (float)((float)(v207 * v221) + (float)(v210 * v218)) + (float)(v213 * v220);
      v400 = (float)((float)(v215 * v221) + (float)(v399 * v218)) + (float)(v214 * v220);
      v222 = (unsigned int)v405;
      *(float *)&v222 = (float)((float)(*(float *)&v405 * v379) + (float)(*(float *)&v404 * v373))
                      + (float)(*(float *)&v407 * v390);
      _XMM5 = v222;
      __asm { vinsertps xmm5, xmm5, xmm4, 10h }
      v170[0xC] = (float)((float)((float)((float)((float)(v207 * *(float *)(v173 + 0x18))
                                                + (float)(v210 * *(float *)(v173 + 0x1C)))
                                        + (float)(v213 * *(float *)(v173 + 0x20)))
                                * v386)
                        + (float)((float)((float)((float)(v205 * *(float *)(v173 + 0x18))
                                                + (float)(v206 * *(float *)(v173 + 0x1C)))
                                        + (float)(v211 * *(float *)(v173 + 0x20)))
                                * v402))
                + (float)((float)((float)((float)(v215 * *(float *)(v173 + 0x18))
                                        + (float)(v216 * *(float *)(v173 + 0x1C)))
                                + (float)(v214 * *(float *)(v173 + 0x20)))
                        * v381);
      __asm
      {
        vinsertps xmm5, xmm5, xmm6, 20h ; ' '
        vinsertps xmm5, xmm5, xmm7, 30h ; '0'
      }
      *((_OWORD *)v170 + 1) = _XMM5;
      v227 = v395;
      *(float *)&v227 = (float)((float)(*(float *)&v395 * v388) + (float)(v384 * v375)) + (float)(v400 * v377);
      _XMM5 = v227;
      __asm
      {
        vinsertps xmm5, xmm5, xmm4, 10h
        vinsertps xmm5, xmm5, xmm6, 20h ; ' '
        vinsertps xmm5, xmm5, xmm7, 30h ; '0'
      }
      *((_OWORD *)v170 + 2) = _XMM5;
      v232 = *(float *)(v171 + 0x1D8);
      v233 = *(float *)(v171 + 0x1DC);
      v234 = *(float *)(v171 + 0x1E0);
      v235 = *(float *)(v173 + 0x2C);
      v236 = *(float *)(v171 + 0x1E4);
      v237 = *(float *)(v173 + 0x28);
      v238 = *(float *)(v173 + 0x30);
      v239 = *(_QWORD *)(v4 + 0x210);
      v240 = (float)((float)(v238 * v233) - (float)(v235 * v234)) + (float)(v237 * v236);
      *(float *)&_XMM5 = (float)((float)(v237 * v234) - (float)(v232 * v238)) + (float)(v236 * v235);
      v241 = (float)((float)(v232 * v235) - (float)(v237 * v233)) + (float)(v236 * v238);
      v242 = (float)(v233 * v241) - (float)(v234 * *(float *)&_XMM5);
      v243 = v232 * *(float *)&_XMM5;
      LODWORD(_XMM5) = *(_DWORD *)(v171 + 0x200);
      v244 = v232 * v241;
      v245 = v243 - (float)(v233 * v240);
      v246 = (float)(v234 * v240) - v244;
      v247 = LODWORD(v237);
      *(double *)&v247 = (float)((float)((float)(v237 + v242) + v242) * *(float *)&_XMM5)
                       + *(double *)(v171 + 0x1C0)
                       - *(double *)v239;
      _XMM1 = v247;
      v249 = LODWORD(v235);
      __asm { vcvtsd2ss xmm13, xmm1, xmm1 }
      *(double *)&v249 = (float)((float)((float)(v235 + v246) + v246) * *(float *)&_XMM5)
                       + *(double *)(v171 + 0x1C8)
                       - *(double *)(v239 + 8);
      _XMM0 = v249;
      v252 = *(float *)(v239 + 0x20);
      v253 = *(float *)(v239 + 0x1C);
      v254 = *(float *)(v239 + 0x24);
      v255 = *(float *)(v239 + 0x18);
      __asm { vcvtsd2ss xmm12, xmm0, xmm0 }
      v257 = LODWORD(v238);
      *(double *)&v257 = (float)((float)((float)(v238 + v245) + v245) * *(float *)&_XMM5)
                       + *(double *)(v171 + 0x1D0)
                       - *(double *)(v239 + 0x10);
      _XMM2 = v257;
      __asm { vcvtsd2ss xmm11, xmm2, xmm2 }
      v260 = (float)((float)(v252 * *(float *)&_XMM12) - (float)(*(float *)&_XMM11 * v253))
           + (float)(v254 * *(float *)&_XMM13);
      v261 = (float)((float)(v255 * *(float *)&_XMM11) - (float)(v252 * *(float *)&_XMM13))
           + (float)(v254 * *(float *)&_XMM12);
      v262 = (float)((float)(v253 * *(float *)&_XMM13) - (float)(v255 * *(float *)&_XMM12))
           + (float)(v254 * *(float *)&_XMM11);
      v170[0xE] = (float)(*(float *)&_XMM13 + (float)((float)(v252 * v261) - (float)(v253 * v262)))
                + (float)((float)(v252 * v261) - (float)(v253 * v262));
      v170[0xF] = (float)(*(float *)&_XMM12 + (float)((float)(v255 * v262) - (float)(v252 * v260)))
                + (float)((float)(v255 * v262) - (float)(v252 * v260));
      v170[0x10] = (float)(*(float *)&_XMM11 + (float)((float)(v253 * v260) - (float)(v255 * v261)))
                 + (float)((float)(v253 * v260) - (float)(v255 * v261));
      v263 = *(float *)(v171 + 0x200);
      LODWORD(v239) = *(_DWORD *)(v173 + 0x3C);
      v413 = *(_QWORD *)(v173 + 0x34);
      v170[0x11] = *(float *)&v413 * v263;
      v170[0x12] = v263 * *((float *)&v413 + 1);
      v170[0x13] = *(float *)&v239 * v263;
      *((_DWORD *)v170 + 0xD) = 1;
    }
    v264 = *(_QWORD *)(v487
                     + 0x10
                     * (v488
                      & (0x100000001B3LL
                       * (*(unsigned __int8 *)(v408 + 8 * v167 + 7)
                        ^ (0x100000001B3LL
                         * (*(unsigned __int8 *)(v408 + 8 * v167 + 6)
                          ^ (0x100000001B3LL
                           * (*(unsigned __int8 *)(v408 + 8 * v167 + 5)
                            ^ (0x100000001B3LL * (*(unsigned __int8 *)(v408 + 8 * v167 + 4) ^ 0xCBF29CE484222325uLL)))))))))
                     + 8);
    if ( v264 != v486 )
    {
      v265 = *(_DWORD *)(v408 + 8 * v167 + 4);
      if ( v265 == *(_DWORD *)(v264 + 0x10) )
      {
LABEL_56:
        v266 = v486;
        if ( v264 )
          v266 = v264;
        if ( v266 == v486 )
          sub_1421247E0((__int64)&v485, (__int64)&v411, (unsigned __int8 *)(v408 + 4 + 8LL * v165));
        v475[0] = 0xFFFFFFFF;
        if ( sub_1466DE670((__int64)__Val_0___2 + v169 + 8, (__int64)(v170 + 4), (__int64)v475) )
        {
          sub_1421247E0((__int64)v482, (__int64)&v414, (unsigned __int8 *)&v403);
          sub_1421247E0((__int64)v484, (__int64)v476, (unsigned __int8 *)(v408 + 4 + 8LL * v165));
          v267 = *(float *)(v4 + 0x1E4);
          v268 = *(float *)(v4 + 0x1DC);
          v269 = *(float *)(v4 + 0x1E0);
          v270 = (char *)__Val_0___2 + 0xD8 * SLODWORD(v403);
          v271 = *(int *)(v408 + 8 * v167 + 4);
          v457 = 0;
          __asm
          {
            vmovupd [rbp+460h+var_2E0], xmm0
            vmovupd [rbp+460h+var_360], xmm0
          }
          v440 = 0;
          v458 = 0.0;
          v459 = 0.0;
          v460 = 0.0;
          v441 = 0.0;
          v442 = 0.0;
          v443 = 0.0;
          v272 = *(float *)(v4 + 0x1D8);
          v462 = 0;
          v445 = 0;
          v273 = 0xD8 * v271;
          v274 = *(_QWORD *)(v4 + 0x230);
          v275 = (int *)(v166 + v273);
          v276 = (float *)(v274 + 0x20LL * *((int *)v270 + 0x34));
          v277 = v276[1];
          v278 = v276[2];
          v279 = v276[3];
          v280 = (float)(v267 * v279)
               - (float)((float)((float)(*v276 * v272) + (float)(v268 * v277)) + (float)(v269 * v278));
          v281 = (float)(v278 * v268) - (float)(v269 * v277);
          v282 = v272 * v279;
          v283 = (float)(v269 * *v276) - (float)(v278 * v272);
          v284 = (float)((float)(*v276 * v267) + v281) + v282;
          v285 = v268 * v279;
          v286 = (float)((float)(v277 * v267) + v283) + (float)(v268 * v279);
          v287 = v278 * v267;
          v288 = *(float *)(v4 + 0x1E4);
          v289 = (float)((float)(v277 * *(float *)(v4 + 0x1D8)) - (float)(*v276 * *(float *)(v4 + 0x1DC))) + v287;
          v290 = (float)((float)((float)(*v276 + *v276) * v288) + (float)(v282 + v282)) + (float)(v281 + v281);
          v291 = (float)((float)((float)(v288 + v288) * v277) + (float)(v285 + v285)) + (float)(v283 + v283);
          v292 = (float)((float)((float)(*(float *)(v4 + 0x1E0) + *(float *)(v4 + 0x1E0)) * v279) + v289) + v289;
          v293 = v286 * v291;
          v294 = v292 * v286;
          v295 = v280 * v291;
          v296 = 1.0 - (float)(v284 * v290);
          v297 = v280 * v290;
          v298 = v284 * v291;
          v299 = v292 * v284;
          v300 = *(float *)(v4 + 0x1E0);
          v301 = (float)((float)(v300 * v276[3]) + v289) * v292;
          v447 = (float)(1.0 - v293) - v301;
          v450 = (float)(v292 * v280) + v298;
          v451 = v296 - v301;
          v448 = v298 - (float)(v292 * v280);
          v302 = *(float *)(v4 + 0x1E4);
          v449 = v299 + v295;
          v453 = v299 - v295;
          v452 = v294 - v297;
          v454 = v294 + v297;
          v303 = v296 - v293;
          v304 = *(float *)(v4 + 0x1DC);
          v305 = *(float *)(v4 + 0x1D8);
          v455 = v303;
          v306 = 0x20LL * *((int *)v270 + 0x34);
          v307 = *(float *)(v306 + v274 + 0x10);
          v308 = *(float *)(v306 + v274 + 0x18);
          v309 = *(float *)(v306 + v274 + 0x14);
          v310 = (float)((float)(v308 * v304) - (float)(v309 * v300)) + (float)(v307 * v302);
          v311 = (float)((float)(v307 * v300) - (float)(v308 * v305)) + (float)(v309 * v302);
          v312 = (float)((float)(v309 * v305) - (float)(v307 * v304)) + (float)(v308 * v302);
          v313 = v310 * v304;
          v314 = v310 * v300;
          v315 = *(float *)(v4 + 0x200);
          v446[0] = (float)((float)((float)(v307 + (float)((float)(v312 * v304) - (float)(v311 * v300)))
                                  + (float)((float)(v312 * v304) - (float)(v311 * v300)))
                          * v315)
                  + *(double *)(v4 + 0x1C0);
          v446[1] = (float)((float)((float)(v309 + (float)(v314 - (float)(v312 * v305)))
                                  + (float)(v314 - (float)(v312 * v305)))
                          * v315)
                  + *(double *)(v4 + 0x1C8);
          v446[2] = (float)((float)((float)(v308 + (float)((float)(v311 * v305) - v313))
                                  + (float)((float)(v311 * v305) - v313))
                          * v315)
                  + *(double *)(v4 + 0x1D0);
          v456 = v315 * *(float *)(0x20LL * *((int *)v270 + 0x34) + v274 + 0x1C);
          v316 = (float *)(*(_QWORD *)(*(_QWORD *)v275 + 0x230LL) + 0x20LL * v275[0x35]);
          v317 = *(float *)(*(_QWORD *)v275 + 0x1DCLL);
          v318 = *(float *)(*(_QWORD *)v275 + 0x1D8LL);
          v319 = *(float *)(*(_QWORD *)v275 + 0x1E0LL);
          v320 = v316[1];
          v321 = v316[3];
          v322 = v316[2];
          v323 = *(float *)(*(_QWORD *)v275 + 0x1E4LL);
          v324 = v318 * v321;
          v382 = (float)(v323 * v321)
               - (float)((float)((float)(*v316 * v318) + (float)(v317 * v320)) + (float)(v319 * v322));
          v325 = (float)(v322 * v317) - (float)(v319 * v320);
          v396 = (float)((float)(*v316 * v323) + v325) + (float)(v318 * v321);
          v326 = (float)(v319 * *v316) - (float)(v322 * v318);
          v327 = (float)((float)(v320 * v323) + v326) + (float)(v317 * v321);
          v328 = v318 * v320;
          v329 = *(float *)(*(_QWORD *)v275 + 0x1E4LL);
          v330 = v328 - (float)(*v316 * v317);
          v331 = (float)((float)((float)(*v316 + *v316) * v329) + (float)(v324 + v324)) + (float)(v325 + v325);
          v332 = v319 * v321;
          v333 = (float)((float)((float)(v329 + v329) * v320) + (float)((float)(v317 * v321) + (float)(v317 * v321)))
               + (float)(v326 + v326);
          v334 = (float)((float)((float)(v329 + v329) * v316[2]) + (float)(v332 + v332)) + (float)(v330 + v330);
          v335 = 1.0 - (float)(v396 * v331);
          v336 = v327 * v334;
          v337 = v396 * v334;
          v338 = (float)((float)((float)(v316[2] * v329) + v330) + v332) * v334;
          v339 = v334 * v382;
          v431 = (float)(v396 * v333) - v339;
          v432 = v337 + (float)(v333 * v382);
          v430 = (float)(1.0 - (float)(v327 * v333)) - v338;
          v433 = v339 + (float)(v396 * v333);
          v436 = v337 - (float)(v333 * v382);
          v434 = v335 - v338;
          v435 = v336 - (float)(v331 * v382);
          v437 = v336 + (float)(v331 * v382);
          v438 = v335 - (float)(v327 * v333);
          v340 = 0x20LL * v275[0x35];
          v341 = *(float *)(*(_QWORD *)v275 + 0x1E0LL);
          v342 = *(float *)(*(_QWORD *)v275 + 0x1D8LL);
          v343 = *(float *)(*(_QWORD *)v275 + 0x1DCLL);
          v344 = *(float *)(*(_QWORD *)v275 + 0x1E4LL);
          v345 = *(_QWORD *)(*(_QWORD *)v275 + 0x230LL);
          v346 = *(float *)(v340 + v345 + 0x18);
          v347 = *(float *)(v340 + v345 + 0x14);
          v348 = *(float *)(v340 + v345 + 0x10);
          v349 = (float)((float)(v343 * v346) - (float)(v341 * v347)) + (float)(v348 * v344);
          v350 = (float)((float)(v348 * v341) - (float)(v342 * v346)) + (float)(v344 * v347);
          v351 = (float)((float)(v342 * v347) - (float)(v348 * v343)) + (float)(v344 * v346);
          v352 = v351 * v342;
          v353 = *(double *)(*(_QWORD *)v275 + 0x1C8LL);
          v354 = (float)(v351 * v343) - (float)(v350 * v341);
          v355 = v350 * v342;
          v356 = *(double *)(*(_QWORD *)v275 + 0x1D0LL);
          v357 = v355 - (float)(v349 * v343);
          v358 = v349 * v341;
          v359 = *(float *)(*(_QWORD *)v275 + 0x200LL);
          v429[0] = (float)((float)((float)(v354 + v348) + v354) * v359) + *(double *)(*(_QWORD *)v275 + 0x1C0LL);
          v429[1] = (float)((float)((float)((float)(v358 - v352) + v347) + (float)(v358 - v352)) * v359) + v353;
          v429[2] = (float)((float)((float)(v357 + v346) + v357) * v359) + v356;
          v360 = *(_QWORD *)(v4 + 0x238);
          v439 = *(float *)(0x20LL * v275[0x35] + *(_QWORD *)(*(_QWORD *)v275 + 0x230LL) + 0x1C)
               * *(float *)(*(_QWORD *)v275 + 0x200LL);
          v415 = 0;
          v416 = 0;
          v361 = **(_QWORD **)(v360 + 8LL * *((int *)v270 + 0x34));
          if ( (*(int (__fastcall **)(__int64, _QWORD, double *, double *, _QWORD, char *, volatile signed __int64 **, int))(*(_QWORD *)v361 + 0x48LL))(
                 v361,
                 **(_QWORD **)(*(_QWORD *)(*(_QWORD *)v275 + 0x238LL) + 8LL * v275[0x35]),
                 v446,
                 v429,
                 0,
                 v470,
                 &v415,
                 0x1E) > 0 )
            sub_1403F39C0((__int64)&v422, (__int64)v477, (unsigned __int8 *)v275);
          v362 = v415;
          if ( v415 )
          {
            if ( v416 )
            {
              n0x200000 = _InterlockedCompareExchange64(v415, 0, 0x200000);
              if ( n0x200000 != 0x200000 )
                sub_1403DEBA0(v362, n0x200000);
            }
          }
        }
        goto LABEL_67;
      }
      while ( v264 != *(_QWORD *)(v487
                                + 0x10
                                * (v488
                                 & (0x100000001B3LL
                                  * (*(unsigned __int8 *)(v408 + 8 * v167 + 7)
                                   ^ (0x100000001B3LL
                                    * (*(unsigned __int8 *)(v408 + 8 * v167 + 6)
                                     ^ (0x100000001B3LL
                                      * (*(unsigned __int8 *)(v408 + 8 * v167 + 5)
                                       ^ (0x100000001B3LL
                                        * (*(unsigned __int8 *)(v408 + 8 * v167 + 4) ^ 0xCBF29CE484222325uLL)))))))))) )
      {
        v264 = *(_QWORD *)(v264 + 8);
        if ( v265 == *(_DWORD *)(v264 + 0x10) )
          goto LABEL_56;
      }
    }
    v264 = 0;
    goto LABEL_56;
  }
LABEL_68:
  buf_3 = buf_2;
  for ( buf_4 = (_QWORD *)*buf_2; buf_4 != buf_3; buf_4 = (_QWORD *)*buf_4 )
  {
    v366 = buf_4[2];
    if ( v366 )
      __Val_0___3 = (const vraudio::AudioBuffer *)(v366 | (*(_QWORD *)(v366 + 8) << 0x30));
    else
      __Val_0___3 = 0;
    v368 = v418;
    __Val_0__ = __Val_0___3;
    _Whereptr = (const vraudio::AudioBuffer **)*((_QWORD *)v418 + 1);
    if ( _Whereptr == *((const vraudio::AudioBuffer ***)v418 + 2) )
    {
      std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        v418,
        _Whereptr,
        &__Val_0__);
    }
    else
    {
      *_Whereptr = __Val_0___3;
      *((_QWORD *)v368 + 1) += 8LL;
    }
  }
  sub_1403F8280(&v422);
  sub_1403F8280(&v485);
  sub_1403F8280(v484);
  return sub_1403F8280(v482);
}

// --- End Function: sub_1468D2560 (0x1468D2560) ---

// --- Function: sub_1468D4470 (0x1468D4470) ---
double __fastcall sub_1468D4470(__int64 a1, int n3_1)
{
  __int64 v2; // r8
  int v3; // ebx
  __int64 n3; // r12
  __int64 v6; // rax
  __int64 v7; // rsi
  unsigned __int64 v8; // r10
  int v9; // r9d
  int v10; // r15d
  int v11; // eax
  unsigned __int64 v12; // rdx
  int v13; // ecx
  int v14; // ebp
  int v15; // eax
  unsigned __int64 v16; // rax
  __int64 v17; // r8
  __int64 v18; // rbp
  __int64 v19; // r14
  _QWORD *v20; // rdx
  float v21; // xmm6_4
  double v22; // xmm0_8
  __int64 v23; // rax
  double result; // xmm0_8
  int v25; // [rsp+88h] [rbp+10h] BYREF

  v2 = *(_QWORD *)(a1 + 0x2F8);
  v3 = 0;
  n3 = n3_1;
  if ( !v2 )
  {
    v6 = sub_1402A63D0(0x48u);
    if ( v6 )
    {
      *(_QWORD *)v6 = 4;
      v2 = v6 + 8;
      *(_DWORD *)(v6 + 0x10) = 0;
      *(_QWORD *)(v6 + 8) = (unsigned __int64)&byte_1499FF307 & 0xFFFFFFFFFFFFFFFCuLL;
      *(_QWORD *)(v6 + 0x18) = (unsigned __int64)&byte_1499FF307 & 0xFFFFFFFFFFFFFFFCuLL;
      *(_DWORD *)(v6 + 0x20) = 0;
      *(_QWORD *)(v6 + 0x28) = (unsigned __int64)&byte_1499FF307 & 0xFFFFFFFFFFFFFFFCuLL;
      *(_DWORD *)(v6 + 0x30) = 0;
      *(_QWORD *)(v6 + 0x38) = (unsigned __int64)&byte_1499FF307 & 0xFFFFFFFFFFFFFFFCuLL;
      *(_DWORD *)(v6 + 0x40) = 0;
    }
    else
    {
      v2 = 0;
    }
    *(_QWORD *)(a1 + 0x2F8) = v2;
  }
  v7 = v2 + 0x10 * n3;
  v8 = *(_QWORD *)v7;
  v9 = *(_DWORD *)(*(_QWORD *)v7 - 4LL);
  v10 = v9 & 0x7FFFFFFF;
  v11 = 4 * v9;
  v12 = (unsigned __int64)(4 * v9) >> 2;
  if ( v9 >= 0 )
    v13 = (unsigned __int64)(4 * v9) >> 2;
  else
    v13 = *(_DWORD *)(v11 + v8);
  if ( !(*(_DWORD *)(v7 + 8) + v13) )
  {
    v14 = *(_DWORD *)(a1 + 0x290);
    if ( v9 >= 0 )
      v15 = (unsigned __int64)(4 * v9) >> 2;
    else
      v15 = *(_DWORD *)(v8 + v11);
    if ( v14 <= v15 )
    {
LABEL_25:
      if ( *(int *)(a1 + 0x290) > 0 )
      {
        v18 = 0;
        v19 = 0;
        do
        {
          v20 = *(_QWORD **)(v19 + *(_QWORD *)(a1 + 0x238));
          if ( (*(_DWORD *)(v19 + *(_QWORD *)(a1 + 0x240)) & 0x7FFLL) != 0 && v20 && *v20 )
          {
            v21 = *(float *)(*(_QWORD *)(a1 + 0x230) + v18 + 0x1C);
            if ( (_DWORD)n3 != 1 )
            {
              if ( (_DWORD)n3 == 2 )
              {
                v21 = v21 * v21;
              }
              else if ( (_DWORD)n3 == 3 )
              {
                v21 = (float)(v21 * v21) * v21;
              }
              else
              {
                v21 = 1.0;
              }
            }
            v22 = (*(double (__fastcall **)(_QWORD, _QWORD))(*(_QWORD *)*v20 + 0x198LL))(*v20, (unsigned int)n3);
            sub_1408F9890((__int64 *)v7, *(float *)&v22 * v21);
          }
          else
          {
            ++*(_DWORD *)(v7 + 8);
          }
          ++v3;
          v19 += 8;
          v18 += 0x20;
        }
        while ( v3 < *(_DWORD *)(a1 + 0x290) );
      }
      goto LABEL_39;
    }
    if ( v9 < 0 )
      LODWORD(v12) = *(_DWORD *)(v8 + 4 * v9);
    if ( v14 != (_DWORD)v12 )
    {
      v25 = *(_DWORD *)(a1 + 0x290);
      if ( !v9 )
        v8 = 0;
      v16 = sub_140601970(v7, v8, v10, &v25, 4u, 0);
      *(_QWORD *)v7 = v16;
      v8 = v16;
      if ( !v16 )
      {
        *(_QWORD *)v7 = (unsigned __int64)&byte_1499FF307 & 0xFFFFFFFFFFFFFFFCuLL;
LABEL_24:
        sub_1407E76D0((unsigned __int64 *)v7, v10, 1u);
        goto LABEL_25;
      }
      LODWORD(v12) = v25;
    }
    v17 = 4 * v14;
    *(_DWORD *)(v8 - 4) = v14;
    if ( 4LL * (int)v12 >= (unsigned __int64)(v17 + 4) )
    {
      *(_DWORD *)(v8 - 4) = v14 | 0x80000000;
      *(_DWORD *)(v8 + v17) = v12;
    }
    goto LABEL_24;
  }
LABEL_39:
  v23 = *(unsigned int *)(*(_QWORD *)v7 - 4LL);
  if ( (v23 & 0x7FFFFFFF) == 0 )
    return 0.0;
  LODWORD(v23) = v23 & 0x7FFFFFFF;
  *(_QWORD *)&result = *(unsigned int *)(*(_QWORD *)v7 + 4 * v23 - 4);
  return result;
}

// --- End Function: sub_1468D4470 (0x1468D4470) ---

// --- Function: sub_1468D4710 (0x1468D4710) ---
_QWORD *__fastcall sub_1468D4710(__int64 a1, _QWORD *a2)
{
  __int16 n4; // ax
  __int64 v5; // rdi
  int v6; // ebx
  __int64 v7; // rsi
  int v8; // eax
  __int64 v9; // rax
  __int64 v10; // r9
  _QWORD *v11; // r10
  __int64 v12; // rax
  __int64 v13; // r9
  __int16 v14; // r11
  bool v15; // zf
  __int64 v16; // rdi
  __int64 (__fastcall *v17)(__int64, _QWORD); // rbx
  _QWORD *v18; // rax
  __int64 v19; // rax
  __int64 v20; // rdi
  int v21; // ebx
  __int64 v22; // rsi
  int v23; // eax
  __int64 v24; // rax
  unsigned __int64 v26; // [rsp+50h] [rbp+8h] BYREF
  char v27; // [rsp+58h] [rbp+10h] BYREF

  n4 = *(_WORD *)(a1 + 0xEC);
  *a2 = 0;
  if ( n4 == 2 )
  {
    v26 = *(_QWORD *)(a1 + 0xC0);
    if ( !is_valid_handle_typeB(&v26)
      || (*(unsigned __int8 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v26 & 0xFFFFFFFFFFFFLL) + 0x58LL))(v26 & 0xFFFFFFFFFFFFLL) )
    {
      v5 = *(_QWORD *)(a1 + 0xD0);
      v6 = *(_DWORD *)(a1 + 0xEC);
      v7 = *(_QWORD *)(a1 + 0xC0);
      v8 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
      v9 = sub_1468FA8F0(v8, v7, (__int16)v6, v6 >> 0x10, v5, 0);
      LogTraceConditional(
        "Physics Error: cannot extract entity id for physical entity %s with m_iForeignData == PHYS_FOREIGN_ID_ENTITY",
        v9);
    }
    else
    {
      *a2 = *(_QWORD *)(*(__int64 (__fastcall **)(unsigned __int64, char *))(*(_QWORD *)(v26 & 0xFFFFFFFFFFFFLL) + 8LL))(
                         v26 & 0xFFFFFFFFFFFFLL,
                         &v27);
    }
  }
  else if ( n4 == 4 )
  {
    v10 = *(_QWORD *)(a1 + 0xC0);
    if ( !v10 )
      goto LABEL_16;
    v11 = (_QWORD *)(v10 & 0xFFFFFFFFFFFFLL);
    if ( (v10 & 0xF000000000000000uLL) != 0 )
    {
      v12 = map_flag_to_mask(HIWORD(v10) & 0xF000);
      v15 = *(_WORD *)((v13 & -v12 & 0xFFFFFFFFFFFFLL) + 2) == (v14 & 0xFFF);
    }
    else
    {
      v15 = *((_WORD *)v11 + 0xFFFFFFFE) == HIWORD(v10);
    }
    if ( !v15 || !v11 )
      goto LABEL_16;
    v16 = qword_149A14290;
    v17 = *(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149A14290 + 0x118LL);
    v18 = (_QWORD *)(*(__int64 (__fastcall **)(_QWORD, unsigned __int64 *))(*(_QWORD *)*v11 + 0x208LL))(*v11, &v26);
    v19 = v17(v16, *v18);
    if ( v19 )
      *a2 = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)v19 + 8LL))(v19, &v27);
    if ( !*a2 )
    {
LABEL_16:
      v20 = *(_QWORD *)(a1 + 0xD0);
      v21 = *(_DWORD *)(a1 + 0xEC);
      v22 = *(_QWORD *)(a1 + 0xC0);
      v23 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1);
      v24 = sub_1468FA8F0(v23, v22, (__int16)v21, v21 >> 0x10, v20, 0);
      LogTraceConditional(
        "Physics Error: cannot extract entity id for physical entity %s with m_iForeignData == PHYS_FOREIGN_ID_ROPE",
        v24);
    }
  }
  return a2;
}

// --- End Function: sub_1468D4710 (0x1468D4710) ---

// --- Function: sub_1468D4900 (0x1468D4900) ---
_QWORD *__fastcall sub_1468D4900(__int64 a1, _QWORD *a2)
{
  if ( *(_WORD *)(a1 + 0xEC) == 2 )
    *a2 = *(_QWORD *)(a1 + 0xC0);
  else
    *a2 = 0;
  return a2;
}

// --- End Function: sub_1468D4900 (0x1468D4900) ---

// --- Function: sub_1468D4F30 (0x1468D4F30) ---
__int64 __fastcall sub_1468D4F30(__int64 a1)
{
  __int64 result; // rax

  result = *(_QWORD *)(a1 + 0x2D8);
  if ( result )
    return *(_QWORD *)result;
  return result;
}

// --- End Function: sub_1468D4F30 (0x1468D4F30) ---

// --- Function: sub_1468D4F50 (0x1468D4F50) ---
float *__fastcall sub_1468D4F50(__int64 a1, unsigned int a2, __int64 a3, float *a4, float *a5)
{
  __int64 v5; // rax
  float v6; // xmm9_4
  float v7; // xmm12_4
  float v8; // xmm13_4
  float v9; // xmm14_4
  __int64 v10; // rdx
  float v11; // xmm11_4
  float v12; // xmm10_4
  float v13; // xmm7_4
  float v14; // xmm15_4
  float v15; // xmm8_4
  float v16; // xmm4_4
  __int64 v17; // rax
  float v18; // xmm10_4
  float v19; // xmm7_4
  float v20; // xmm13_4
  float v21; // xmm12_4
  float v22; // xmm11_4
  float v23; // xmm9_4
  float v24; // xmm5_4
  float v25; // xmm4_4
  float v26; // xmm6_4
  float v27; // xmm1_4
  double v28; // xmm4_8
  float v29; // xmm3_4
  float v30; // xmm7_4
  double v31; // xmm5_8
  float *result; // rax

  if ( a2 >= *(_DWORD *)(a1 + 0x290) )
  {
    *a4 = *(float *)(a1 + 0x1D8);
    a4[1] = *(float *)(a1 + 0x1DC);
    a4[2] = *(float *)(a1 + 0x1E0);
    a4[3] = *(float *)(a1 + 0x1E4);
    result = a5;
    *(_OWORD *)a3 = *(_OWORD *)(a1 + 0x1C0);
    *(double *)(a3 + 0x10) = *(double *)(a1 + 0x1D0);
    *a5 = *(float *)(a1 + 0x200);
  }
  else
  {
    v5 = *(_QWORD *)(a1 + 0x230);
    v6 = *(float *)(a1 + 0x1D8);
    v7 = *(float *)(a1 + 0x1E0);
    v8 = *(float *)(a1 + 0x1DC);
    v9 = *(float *)(a1 + 0x1E4);
    v10 = 0x20LL * (int)a2;
    v11 = *(float *)(v10 + v5 + 4);
    v12 = *(float *)(v10 + v5);
    v13 = *(float *)(v10 + v5 + 8);
    v14 = *(float *)(v10 + v5 + 0xC);
    a4[3] = (float)(v14 * v9) - (float)((float)((float)(v12 * v6) + (float)(v11 * v8)) + (float)(v13 * v7));
    *a4 = (float)((float)((float)(v13 * v8) - (float)(v7 * v11)) + (float)(v12 * v9)) + (float)(v6 * v14);
    a4[1] = (float)((float)((float)(v7 * v12) - (float)(v13 * v6)) + (float)(v11 * v9)) + (float)(v8 * v14);
    a4[2] = (float)((float)((float)(v6 * v11) - (float)(v12 * v8)) + (float)(v13 * v9)) + (float)(v7 * v14);
    v15 = *(float *)(a1 + 0x1E0);
    v16 = *(float *)(a1 + 0x1E4);
    v17 = *(_QWORD *)(a1 + 0x230);
    v18 = *(float *)(a1 + 0x1DC);
    v19 = *(float *)(a1 + 0x1D8);
    v20 = *(float *)(v10 + v17 + 0x18);
    v21 = *(float *)(v10 + v17 + 0x14);
    v22 = *(float *)(v10 + v17 + 0x10);
    v23 = (float)((float)(v20 * v18) - (float)(v21 * v15)) + (float)(v22 * v16);
    v24 = (float)((float)(v22 * v15) - (float)(v19 * v20)) + (float)(v16 * v21);
    v25 = (float)((float)(v19 * v21) - (float)(v22 * v18)) + (float)(v16 * v20);
    v26 = (float)(v18 * v25) - (float)(v15 * v24);
    v27 = v19 * v25;
    v28 = *(double *)(a1 + 0x1C8);
    v29 = v19 * v24;
    v30 = *(float *)(a1 + 0x200);
    v31 = *(double *)(a1 + 0x1D0);
    *(double *)a3 = (float)((float)((float)(v22 + v26) + v26) * v30) + *(double *)(a1 + 0x1C0);
    *(double *)(a3 + 8) = (float)((float)((float)(v21 + (float)((float)(v15 * v23) - v27))
                                        + (float)((float)(v15 * v23) - v27))
                                * v30)
                        + v28;
    *(double *)(a3 + 0x10) = (float)((float)((float)(v20 + (float)(v29 - (float)(v18 * v23)))
                                           + (float)(v29 - (float)(v18 * v23)))
                                   * v30)
                           + v31;
    result = a5;
    *a5 = *(float *)(v10 + *(_QWORD *)(a1 + 0x230) + 0x1C) * *(float *)(a1 + 0x200);
  }
  return result;
}

// --- End Function: sub_1468D4F50 (0x1468D4F50) ---

// --- Function: sub_1468D5390 (0x1468D5390) ---
const char *__fastcall sub_1468D5390(__int64 a1)
{
  const char *p_Debug_name_not_set_on_physical_entity; // rax

  p_Debug_name_not_set_on_physical_entity = "Debug name not set on physical entity";
  if ( *(_QWORD *)(a1 + 0xD0) )
    return *(const char **)(a1 + 0xD0);
  return p_Debug_name_not_set_on_physical_entity;
}

// --- End Function: sub_1468D5390 (0x1468D5390) ---

// --- Function: CPhysicalEntity::GetNextFreePartId (0x1468D5420) ---
__int64 __fastcall CPhysicalEntity::GetNextFreePartId(unsigned __int64 a1)
{
  __int64 v2; // rdx
  volatile signed __int64 *v3; // rbx
  __int64 v4; // rax
  unsigned int v5; // edi
  unsigned __int64 n0x200000; // rax

  v2 = (unsigned __int8)(a1 >> 0xA);
  v3 = &qword_15145C5C0[v2];
  v4 = _InterlockedCompareExchange64(v3, 0x200000, 0);
  if ( v4 )
    sub_1403DE750(
      (__int64)&qword_15145C5C0[v2],
      v4,
      0,
      (__int64)"CPhysicalEntity::GetNextFreePartId",
      (__int64)"s_lockPartIdx[(alias_cast<uint64_t>(this)>>10)&(NUM_PARTIDX_LOCKS-1)]",
      1);
  v5 = *(_DWORD *)(a1 + 0x364);
  if ( v3 )
  {
    n0x200000 = _InterlockedCompareExchange64(v3, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v3, n0x200000);
  }
  return v5;
}

// --- End Function: CPhysicalEntity::GetNextFreePartId (0x1468D5420) ---

// --- Function: sub_1468D6870 (0x1468D6870) ---
__int64 __fastcall sub_1468D6870(__int64 a1, int a2, __int64 a3)
{
  __int64 v3; // r9
  __int64 result; // rax

  v3 = *(_QWORD *)(a1 + 0x260) + ((__int64)a2 << 6);
  *(_DWORD *)a3 = *(_DWORD *)v3;
  *(_DWORD *)(a3 + 4) = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(a3 + 8) = *(_DWORD *)(v3 + 8);
  *(_DWORD *)(a3 + 0xC) = *(_DWORD *)(v3 + 0xC);
  *(_DWORD *)(a3 + 0x10) = *(_DWORD *)(v3 + 0x10);
  *(_DWORD *)(a3 + 0x14) = *(_DWORD *)(v3 + 0x14);
  *(_DWORD *)(a3 + 0x18) = *(_DWORD *)(v3 + 0x18);
  *(_DWORD *)(a3 + 0x1C) = *(_DWORD *)(v3 + 0x1C);
  *(_DWORD *)(a3 + 0x20) = *(_DWORD *)(v3 + 0x20);
  *(_DWORD *)(a3 + 0x24) = *(_DWORD *)(v3 + 0x24);
  *(double *)(a3 + 0x28) = *(double *)(v3 + 0x28);
  *(_DWORD *)(a3 + 0x30) = *(_DWORD *)(v3 + 0x30);
  *(double *)(a3 + 0x34) = *(double *)(v3 + 0x34);
  result = *(unsigned int *)(v3 + 0x3C);
  *(_DWORD *)(a3 + 0x3C) = result;
  return result;
}

// --- End Function: sub_1468D6870 (0x1468D6870) ---

// --- Function: sub_1468D6900 (0x1468D6900) ---
__int64 __fastcall sub_1468D6900(__int64 a1, __int64 a2, unsigned int a3)
{
  int v3; // ebx
  __int64 v4; // rax
  __int64 *v8; // rdi
  float v9; // xmm0_4
  __int64 result; // rax
  __int64 v11; // r9
  int v12; // ecx
  float v13; // kr00_4
  __int64 v14; // r8
  int v15; // edx
  int v16; // ecx
  float v17; // xmm0_4
  int v18; // eax
  __int64 v19; // rbx
  __int64 v20; // rcx
  int v21; // eax
  __int64 v22; // rax
  float v23; // xmm14_4
  float v24; // xmm15_4
  float v25; // xmm12_4
  float v26; // xmm10_4
  float v27; // xmm9_4
  float v28; // xmm8_4
  float v29; // xmm13_4
  float v30; // xmm7_4
  float v31; // xmm6_4
  float v32; // xmm5_4
  float v33; // xmm3_4
  float v34; // xmm6_4
  __int128 v35; // kr00_16
  double v37; // xmm10_8
  float v38; // xmm7_4
  float v39; // xmm8_4
  float v40; // xmm5_4
  float v42[3]; // [rsp+20h] [rbp-128h] BYREF
  double v43; // [rsp+2Ch] [rbp-11Ch]
  int v44; // [rsp+34h] [rbp-114h]
  __m256 v45; // [rsp+38h] [rbp-110h]
  double v46; // [rsp+58h] [rbp-F0h]
  double v47[4]; // [rsp+60h] [rbp-E8h] BYREF
  __int128 v48; // [rsp+80h] [rbp-C8h]
  double v49; // [rsp+90h] [rbp-B8h]
  double v50; // [rsp+98h] [rbp-B0h]

  v3 = 0;
  v4 = *(_QWORD *)(a1 + 0x2F8);
  if ( v4 )
  {
    v8 = (__int64 *)(v4 + 0x10LL * (int)a3);
  }
  else
  {
    if ( (dword_1513C4100 & 1) == 0 )
    {
      dword_1513C40F8 = 0;
      dword_1513C4100 |= 1u;
      qword_1513C40F0 = (unsigned __int64)&byte_1499FF307 & 0xFFFFFFFFFFFFFFFCuLL;
      atexit(sub_1480A9820);
    }
    v8 = &qword_1513C40F0;
  }
  LODWORD(v9) = sub_14056E1D0().m128_u32[0];
  result = *v8;
  v11 = *(unsigned int *)(*v8 - 4);
  LODWORD(v11) = v11 & 0x7FFFFFFF;
  v12 = v11 - 1;
  if ( (int)v11 - 1 > 0 )
  {
    v13 = v9 * *(float *)(result + 4 * v11 - 4);
    v14 = *v8;
    v15 = v11 - 1;
    do
    {
      v16 = (v15 + v3) >> 1;
      if ( v16 >= (*(_DWORD *)(v14 - 4) & 0x7FFFFFFF) )
        __debugbreak();
      v14 = *v8;
      v17 = *(float *)(*v8 + 4LL * v16);
      v18 = (v15 + v3) >> 1;
      if ( v17 <= v13 )
        v18 = v15;
      v15 = v18;
      result = (unsigned int)(v16 + 1);
      v12 = v3;
      if ( v17 <= v13 )
        v12 = result;
      v3 = v12;
    }
    while ( v12 < v15 );
  }
  if ( v12 >= 0 && v12 < *(_DWORD *)(a1 + 0x290) )
  {
    v19 = v12;
    v20 = **(_QWORD **)(*(_QWORD *)(a1 + 0x238) + 8LL * v12);
    (*(void (__fastcall **)(__int64, float *, _QWORD))(*(_QWORD *)v20 + 0x1A0LL))(v20, v42, a3);
    v21 = v44;
    *(double *)v45.m256_f32 = v42[0];
    *(double *)&v45.m256_f32[2] = v42[1];
    *(double *)&v45.m256_f32[6] = v43;
    *(double *)&v45.m256_f32[4] = v42[2];
    *(__m256 *)a2 = v45;
    v19 *= 0x20;
    LODWORD(v46) = v21;
    *(double *)(a2 + 0x20) = v46;
    v22 = *(_QWORD *)(a1 + 0x230);
    v23 = *(float *)(a1 + 0x1DC);
    v24 = *(float *)(a1 + 0x1E0);
    v25 = *(float *)(a1 + 0x1D8);
    v26 = *(float *)(v19 + v22 + 0x18);
    v27 = *(float *)(v19 + v22 + 0x14);
    v28 = *(float *)(v19 + v22 + 0x10);
    v29 = *(float *)(a1 + 0x1E4);
    v30 = (float)((float)(v26 * v23) - (float)(v27 * v24)) + (float)(v28 * v29);
    v31 = (float)((float)(v28 * v24) - (float)(v25 * v26)) + (float)(v29 * v27);
    v32 = (float)(v23 * (float)((float)((float)(v25 * v27) - (float)(v28 * v23)) + (float)(v29 * v26)))
        - (float)(v24 * v31);
    v33 = v25 * v31;
    v34 = *(float *)(v19 + v22 + 0xC);
    v35 = LODWORD(v28);
    *(double *)&v35 = (float)((float)(v28 + v32) + v32) + *(double *)(a1 + 0x1C0);
    _XMM11 = v35;
    v37 = (float)((float)(v26 + (float)(v33 - (float)(v23 * v30))) + (float)(v33 - (float)(v23 * v30)))
        + *(double *)(a1 + 0x1D0);
    v38 = *(float *)(v19 + v22 + 4);
    v39 = *(float *)(v19 + v22 + 8);
    v40 = *(float *)(v19 + v22);
    v47[0] = (float)((float)((float)((float)(v39 * v23) - (float)(v38 * v24)) + (float)(v40 * v29)) + (float)(v34 * v25));
    v47[1] = (float)((float)((float)((float)(v40 * v24) - (float)(v39 * v25)) + (float)(v38 * v29)) + (float)(v34 * v23));
    v47[2] = (float)((float)((float)((float)(v38 * v25) - (float)(v40 * v23)) + (float)(v39 * v29)) + (float)(v34 * v24));
    __asm { vunpcklpd xmm1, xmm11, xmm9 }
    v50 = *(float *)(v19 + v22 + 0x1C);
    v47[3] = (float)((float)(v34 * v29) - (float)((float)((float)(v40 * v25) + (float)(v38 * v23)) + (float)(v39 * v24)));
    v48 = _XMM1;
    v49 = v37;
    __asm { vzeroupper }
    return (__int64)sub_1468B6F50(a2, v47);
  }
  return result;
}

// --- End Function: sub_1468D6900 (0x1468D6900) ---

// --- Function: sub_1468DA230 (0x1468DA230) ---
__int64 __fastcall sub_1468DA230(__int64 a1, unsigned __int64 *a2)
{
  __int128 v2; // xmm6
  __int128 v3; // xmm7
  __int128 v4; // xmm8
  __int128 v5; // xmm9
  __int128 v6; // xmm10
  int n2_1; // ebx
  __int64 v9; // rcx
  BOOL v11; // edx
  float v18; // xmm4_4
  float v19; // xmm2_4
  float v20; // xmm3_4
  float v21; // xmm7_4
  float v22; // xmm6_4
  float v23; // xmm5_4
  double v24; // xmm8_8
  double v25; // xmm10_8
  double v26; // xmm4_8
  double v27; // xmm3_8
  int n2; // eax
  double v29; // xmm1_8
  double v30; // xmm0_8
  float v32[4]; // [rsp+30h] [rbp-68h] BYREF
  __int128 v33; // [rsp+40h] [rbp-58h]
  __int128 v34; // [rsp+50h] [rbp-48h]
  __int128 v35; // [rsp+60h] [rbp-38h]
  __int128 v36; // [rsp+70h] [rbp-28h]
  __int128 v37; // [rsp+80h] [rbp-18h]

  v37 = v2;
  n2_1 = 0;
  v36 = v3;
  v9 = *(_QWORD *)(a1 + 0x2D8);
  v35 = v4;
  v11 = 0;
  v34 = v5;
  v33 = v6;
  if ( v9 )
  {
    _XMM0 = *a2;
    _XMM1 = a2[1];
    __asm { vcvtpd2ps xmm0, xmm0 }
    v32[0] = *(float *)&_XMM0;
    _XMM0 = a2[2];
    __asm { vcvtpd2ps xmm1, xmm1 }
    v32[1] = *(float *)&_XMM1;
    __asm { vcvtpd2ps xmm0, xmm0 }
    v32[2] = *(float *)&_XMM0;
    v32[3] = 0.25;
    v11 = sub_1465C1F80(v9, v32, a2, 0xFFFFFFFF, 0) == 0;
  }
  v18 = *(float *)(a1 + 0x1EC);
  v19 = *(float *)(a1 + 0x1F8);
  v20 = *(float *)(a1 + 0x1FC);
  v21 = *(float *)(a1 + 0x1E8);
  v22 = *(float *)(a1 + 0x1F4);
  v23 = *(float *)(a1 + 0x1F0);
  v24 = (float)(v19 + v18);
  v25 = (float)(v20 + v23);
  v26 = (float)(v18 - v19);
  v27 = (float)(v23 - v20);
  if ( *(double *)a2 < (float)(v21 - v22)
    || (v29 = *((double *)a2 + 1), v29 < v26)
    || (v30 = *((double *)a2 + 2), v30 < v27)
    || *(double *)a2 > (float)(v22 + v21) )
  {
    n2 = 2;
  }
  else
  {
    n2 = 2;
    if ( v29 <= v24 )
    {
      if ( v30 > v25 )
        n2_1 = 2;
      n2 = n2_1;
    }
  }
  return v11 | (unsigned int)n2;
}

// --- End Function: sub_1468DA230 (0x1468DA230) ---

// --- Function: sub_1468DE200 (0x1468DE200) ---
__int64 __fastcall sub_1468DE200(__int64 actorEntity, float a2, double *a3, __int128 *a4)
{
  __int128 v5; // xmm0
  __int64 v6; // rax
  __int64 v7; // rax
  double v8; // xmm1_8
  __int128 v9; // xmm0
  int v10; // ecx
  __int64 *v11; // rax
  int v12; // edx
  int v13; // edx
  __int64 v14; // rcx
  __int64 result; // rax
  __m256 v16; // [rsp+20h] [rbp-60h] BYREF
  double v17; // [rsp+40h] [rbp-40h]
  __int64 v18; // [rsp+48h] [rbp-38h]
  __int128 v19; // [rsp+50h] [rbp-30h]
  double v20; // [rsp+60h] [rbp-20h]
  __int128 v21; // [rsp+68h] [rbp-18h]
  float v22; // [rsp+78h] [rbp-8h]
  int v23; // [rsp+7Ch] [rbp-4h]

  if ( (*(_DWORD *)(actorEntity + 0x208) & 0x8080000) != 0 )
  {
    v5 = *(_OWORD *)a3;
    v6 = actorEntity | (*(_QWORD *)(actorEntity + 8) << 0x30);
    *(_QWORD *)v16.m256_f32 = 0;
    *(_QWORD *)&v16.m256_f32[4] = v6;
    *(_QWORD *)&v16.m256_f32[6] = *(_QWORD *)(actorEntity + 0xC0);
    LODWORD(v17) = *(__int16 *)(actorEntity + 0xEC);
    HIDWORD(v17) = *(__int16 *)(actorEntity + 0xEE);
    v7 = *(_QWORD *)(actorEntity + 0x2C0);
    v22 = a2;
    v8 = a3[2];
    v19 = v5;
    v9 = *a4;
    *(_QWORD *)&v16.m256_f32[2] = 0x1E00000004LL;
    v20 = v8;
    v21 = v9;
    v10 = *(_DWORD *)(v7 + 0x83354);
    v11 = *(__int64 **)(actorEntity + 0xB8);
    v12 = *(_DWORD *)(actorEntity + 0x208);
    v23 = v10;
    v18 = *v11;
    v13 = v12 & 0x80000;
    if ( v13 )
      sub_1468B2400(*(_QWORD *)(actorEntity + 0x2C0), v13, (__m256i *)&v16, 0);
    if ( (*(_DWORD *)(actorEntity + 0x208) & 0x8000000) != 0 )
    {
      if ( *(_DWORD *)(actorEntity + 0x188) == *(_DWORD *)(*(_QWORD *)(actorEntity + 0x2C0) + 0x84A00LL) )
        v22 = v22 + *(float *)(*(_QWORD *)(actorEntity + 0x178) + 0x58LL);
      else
        *(_DWORD *)(actorEntity + 0x188) = *(_DWORD *)(*(_QWORD *)(actorEntity + 0x2C0) + 0x84A00LL);
      v14 = *(_QWORD *)(actorEntity + 0x178);
      *(__m256 *)v14 = v16;
      *(double *)(v14 + 0x20) = v17;
      *(_QWORD *)(v14 + 0x28) = v18;
      *(_OWORD *)(v14 + 0x30) = v19;
      *(double *)(v14 + 0x40) = v20;
      *(_OWORD *)(v14 + 0x48) = v21;
      *(float *)(v14 + 0x58) = v22;
      *(_DWORD *)(v14 + 0x5C) = v23;
      __asm { vzeroupper }
      sub_146939FD0(*(_QWORD *)(actorEntity + 0x2C0), actorEntity);
    }
  }
  else
  {
    *(_DWORD *)(actorEntity + 0x188) = 1;
  }
  result = *(unsigned int *)(actorEntity + 0xFC);
  if ( (result & 0x10000) != 0 )
    return (unsigned int)(_InterlockedExchangeAdd((volatile signed __int32 *)(actorEntity + 0xFC), 0xFFFF0000) - 0x10000);
  return result;
}

// --- End Function: sub_1468DE200 (0x1468DE200) ---

// --- Function: sub_1468DE490 (0x1468DE490) ---
__int64 __fastcall sub_1468DE490(__int64 a1, int a2, __int64 a3)
{
  float v3; // xmm0_4
  float v4; // xmm1_4
  float v5; // xmm10_4
  float v6; // xmm11_4
  float v7; // xmm2_4
  float v8; // xmm3_4
  float v9; // xmm12_4
  float v10; // xmm4_4
  float v11; // xmm9_4
  float v12; // xmm3_4
  float v13; // xmm13_4
  float v14; // xmm6_4
  float v15; // xmm8_4
  float v16; // xmm2_4
  __int64 result; // rax
  float v18; // xmm8_4
  float v19; // xmm6_4
  float v20; // xmm9_4
  float v21; // xmm14_4
  float v22; // xmm15_4
  float v23; // xmm7_4
  float v24; // xmm12_4
  float v25; // xmm11_4
  double v26; // xmm11_8
  float v27; // xmm4_4
  float v28; // xmm7_4
  float v29; // xmm5_4
  float v30; // xmm6_4
  float v31; // xmm10_4
  float v32; // xmm4_4
  double v33; // xmm9_8
  double v34; // xmm8_8
  double v35; // xmm5_8
  double v36; // kr00_8
  __int64 v37; // rcx
  float v38; // [rsp+0h] [rbp-D8h]
  float v39; // [rsp+4h] [rbp-D4h]
  float v40; // [rsp+8h] [rbp-D0h]
  float v41; // [rsp+Ch] [rbp-CCh]
  float v42; // [rsp+10h] [rbp-C8h]
  float v43; // [rsp+14h] [rbp-C4h]
  float v44; // [rsp+18h] [rbp-C0h]
  double v45; // [rsp+20h] [rbp-B8h]
  float v46; // [rsp+E0h] [rbp+8h]

  if ( (*(_BYTE *)(a1 + 0x384) & 0x20) == 0 || *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x49CLL) )
  {
    result = a2;
    v37 = *(_QWORD *)(a1 + 0x228) + 0x30LL * a2;
    *(_OWORD *)a3 = *(_OWORD *)v37;
    *(double *)(a3 + 0x10) = *(double *)(v37 + 0x10);
    *(_OWORD *)(a3 + 0x18) = *(_OWORD *)(v37 + 0x18);
    *(double *)(a3 + 0x28) = *(double *)(v37 + 0x28);
  }
  else
  {
    v3 = *(float *)(a1 + 0x1D8);
    v4 = *(float *)(a1 + 0x1DC);
    v5 = *(float *)(a1 + 0x1E0);
    v6 = *(float *)(a1 + 0x1E4);
    v7 = -(float)(v3 + v3);
    v8 = -(float)(v4 + v4);
    v9 = v8 * COERCE_FLOAT(LODWORD(v4) ^ 0x80000000);
    v10 = v8 * COERCE_FLOAT(LODWORD(v3) ^ 0x80000000);
    v11 = v6 * v7;
    v12 = v6 * v8;
    v13 = 1.0 - (float)(v7 * COERCE_FLOAT(LODWORD(v3) ^ 0x80000000));
    v14 = -(float)(v5 + v5);
    v15 = v14 * COERCE_FLOAT(LODWORD(v4) ^ 0x80000000);
    v16 = -(float)(v5 * v14);
    v46 = v10 - (float)(v6 * v14);
    v42 = (float)(v14 * COERCE_FLOAT(LODWORD(v3) ^ 0x80000000)) + v12;
    v41 = v15 - v11;
    v44 = v13 - v9;
    v40 = v15 + v11;
    v38 = (float)(1.0 - v9) - v16;
    v39 = (float)(v6 * v14) + v10;
    result = *(_QWORD *)(a1 + 0x260) + ((__int64)a2 << 6);
    v43 = (float)(v14 * COERCE_FLOAT(LODWORD(v3) ^ 0x80000000)) - v12;
    v18 = *(float *)(result + 0x10);
    v19 = *(float *)(result + 0xC);
    v20 = *(float *)(result + 0x14);
    v21 = *(float *)(result + 4);
    v22 = *(float *)(result + 8);
    v23 = *(float *)(result + 0x38);
    v24 = *(float *)(result + 0x34);
    v25 = *(float *)(result + 0x18);
    v45 = (float)((float)((float)((float)(fabs((float)((float)(v38 * v19) + (float)(v39 * v18)) + (float)(v43 * v20))
                                        * v23)
                                + (float)(fabs(
                                            (float)((float)(*(float *)result * v38) + (float)(v21 * v39))
                                          + (float)(v43 * v22))
                                        * v24))
                        + (float)(fabs(
                                    (float)((float)(v25 * v38) + (float)(v39 * *(float *)(result + 0x1C)))
                                  + (float)(v43 * *(float *)(result + 0x20)))
                                * *(float *)(result + 0x3C)))
                * *(float *)(a1 + 0x200));
    v26 = (float)((float)((float)((float)(fabs(
                                            (float)((float)(v19 * v46) + (float)(v18 * (float)(v13 - v16)))
                                          + (float)(v20 * v40))
                                        * v23)
                                + (float)(fabs(
                                            (float)((float)(*(float *)result * v46) + (float)(v21 * (float)(v13 - v16)))
                                          + (float)(v22 * v40))
                                        * v24))
                        + (float)(fabs(
                                    (float)((float)(v25 * v46) + (float)((float)(v13 - v16) * *(float *)(result + 0x1C)))
                                  + (float)(v40 * *(float *)(result + 0x20)))
                                * *(float *)(result + 0x3C)))
                * *(float *)(a1 + 0x200));
    v27 = fabs((float)((float)(v19 * v42) + (float)(v18 * v41)) + (float)(v44 * v20)) * v23;
    v28 = *(float *)(result + 0x30);
    v29 = v27 + (float)(fabs((float)((float)(*(float *)result * v42) + (float)(v41 * v21)) + (float)(v44 * v22)) * v24);
    v30 = *(float *)(result + 0x2C);
    v31 = *(float *)(a1 + 0x200);
    v32 = *(float *)(result + 0x28);
    v33 = (float)((float)(v29
                        + (float)(fabs(
                                    (float)((float)(v42 * *(float *)(result + 0x18))
                                          + (float)(v41 * *(float *)(result + 0x1C)))
                                  + (float)(v44 * *(float *)(result + 0x20)))
                                * *(float *)(result + 0x3C)))
                * v31);
    v34 = (float)((float)((float)((float)(v32 * v38) + (float)(v30 * v39)) + (float)(v28 * v43)) * v31)
        + *(double *)(a1 + 0x1C0);
    v35 = (float)((float)((float)((float)(v32 * v46) + (float)(v30 * (float)(v13 - v16))) + (float)(v28 * v40)) * v31)
        + *(double *)(a1 + 0x1C8);
    v36 = (float)((float)((float)((float)(v42 * v32) + (float)(v41 * v30)) + (float)(v28 * v44)) * v31)
        + *(double *)(a1 + 0x1D0);
    *(double *)a3 = v34 - v45;
    *(double *)(a3 + 8) = v35 - v26;
    *(double *)(a3 + 0x10) = v36 - v33;
    *(double *)(a3 + 0x18) = v34 + v45;
    *(double *)(a3 + 0x20) = v35 + v26;
    *(double *)(a3 + 0x28) = v36 + v33;
  }
  return result;
}

// --- End Function: sub_1468DE490 (0x1468DE490) ---

// --- Function: sub_1468DE980 (0x1468DE980) ---
__int64 __fastcall sub_1468DE980(__int64 a1, unsigned __int64 *a2, __int64 n0x7FF)
{
  __int128 v3; // xmm6
  __int128 v4; // xmm7
  __int128 v5; // xmm8
  __int128 v6; // xmm9
  __int128 v7; // xmm10
  __int128 v8; // xmm11
  __int128 v9; // xmm12
  __int128 v10; // xmm13
  __int128 v11; // xmm14
  __int128 v12; // xmm15
  unsigned int v13; // r12d
  double v20; // xmm4_8
  double v21; // xmm7_8
  double v22; // xmm10_8
  double v23; // xmm9_8
  double v24; // xmm8_8
  double v25; // xmm6_8
  double v26; // xmm4_8
  double v27; // xmm5_8
  double v28; // xmm14_8
  double v29; // xmm15_8
  __int128 v31; // kr00_16
  __int128 v35; // kr00_16
  int v38; // r15d
  __int64 v39; // r14
  __int64 v40; // rsi
  __int64 v41; // rbx
  __int64 v42; // rax
  __int64 v43; // rax
  float v44; // xmm2_4
  float v45; // xmm0_4
  float v46; // xmm9_4
  float v47; // xmm10_4
  float v48; // xmm4_4
  float v49; // xmm1_4
  float v50; // kr00_4
  float v51; // xmm8_4
  __int64 v52; // rax
  float v53; // xmm7_4
  float v54; // xmm6_4
  float v55; // xmm4_4
  float v57[4]; // [rsp+30h] [rbp-D0h] BYREF
  double v58[4]; // [rsp+40h] [rbp-C0h] BYREF
  int n0x2800; // [rsp+60h] [rbp-A0h] BYREF
  __int64 v60; // [rsp+64h] [rbp-9Ch]
  int v61; // [rsp+6Ch] [rbp-94h]
  __int64 v62; // [rsp+70h] [rbp-90h]
  unsigned __int64 v63; // [rsp+78h] [rbp-88h]
  __int64 v64; // [rsp+80h] [rbp-80h]
  __int64 v65; // [rsp+88h] [rbp-78h]
  __int128 v66; // [rsp+B0h] [rbp-50h]
  __int128 v67; // [rsp+C0h] [rbp-40h]
  __int128 v68; // [rsp+D0h] [rbp-30h]
  __int128 v69; // [rsp+E0h] [rbp-20h]
  __int128 v70; // [rsp+F0h] [rbp-10h]
  __int128 v71; // [rsp+100h] [rbp+0h]
  __int128 v72; // [rsp+110h] [rbp+10h]
  __int128 v73; // [rsp+120h] [rbp+20h]
  __int128 v74; // [rsp+130h] [rbp+30h]
  __int128 v75; // [rsp+140h] [rbp+40h]
  float v76; // [rsp+190h] [rbp+90h]
  float v77; // [rsp+198h] [rbp+98h]
  float v78; // [rsp+1A8h] [rbp+A8h]

  v75 = v3;
  v74 = v4;
  v13 = 0;
  v73 = v5;
  v72 = v6;
  v71 = v7;
  v70 = v8;
  v69 = v9;
  v68 = v10;
  v67 = v11;
  v66 = v12;
  n0x2800 = 0x2800;
  v60 = 0;
  v61 = 0;
  v63 = 0;
  v64 = 0;
  v65 = 0;
  v62 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  _XMM13 = a2[2];
  _XMM12 = a2[1];
  _XMM11 = *a2;
  v20 = *(float *)(a1 + 0x1E4);
  v21 = *(float *)(a1 + 0x1D8);
  v22 = *(float *)(a1 + 0x1DC);
  v23 = *(float *)(a1 + 0x1E0);
  v24 = *(double *)&_XMM13 * v22 - *(double *)&_XMM12 * v23 + *(double *)&_XMM11 * v20;
  v25 = *(double *)&_XMM11 * v23 - v21 * *(double *)&_XMM13 + v20 * *(double *)&_XMM12;
  v26 = v21 * *(double *)&_XMM12 - *(double *)&_XMM11 * v22 + v20 * *(double *)&_XMM13;
  v27 = *(double *)&_XMM11 + v22 * v26 - v23 * v25 + v22 * v26 - v23 * v25 + *(double *)(a1 + 0x1C0);
  v28 = *(double *)&_XMM12 + *(double *)(a1 + 0x1C8) + v23 * v24 - v21 * v26 + v23 * v24 - v21 * v26;
  v29 = *(double *)&_XMM13 + *(double *)(a1 + 0x1D0) + v21 * v25 - v22 * v24 + v21 * v25 - v22 * v24;
  __asm { vcvtsd2ss xmm8, xmm13, xmm13 }
  v31 = _XMM8;
  *(float *)&v31 = *(float *)&_XMM8 - *(float *)(a1 + 0x1F0);
  __asm
  {
    vcvtsd2ss xmm4, xmm11, xmm11
    vcvtsd2ss xmm7, xmm12, xmm12
  }
  v58[2] = v29;
  v58[0] = v27;
  v58[1] = v28;
  v76 = *(float *)&_XMM4;
  v77 = *(float *)&_XMM7;
  v78 = *(float *)&_XMM8;
  v35 = v31 & 0x7FFFFFFF;
  *(float *)&v35 = *(float *)&v35 - *(float *)(a1 + 0x1FC);
  _XMM1 = v35;
  __asm { vmaxss  xmm2, xmm1, xmm0 }
  __asm { vmaxss  xmm2, xmm2, xmm0 }
  if ( *(float *)&_XMM2 < 0.0 )
  {
    if ( *(_DWORD *)(a1 + 0x2A8) )
    {
      if ( (*(int (__fastcall **)(__int64))(*(_QWORD *)a1 + 8LL))(a1) <= 2 )
      {
        LOBYTE(v13) = sub_1468C3DF0(a1, v58).m128_f32[0] < 0.0;
        goto LABEL_20;
      }
      v27 = v58[0];
      *(float *)&_XMM4 = v76;
    }
    v38 = 0;
    if ( *(int *)(a1 + 0x290) > 0 )
    {
      v39 = 0;
      v40 = 0;
      v41 = 0;
      while ( 1 )
      {
        if ( (n0x7FF & *(_QWORD *)(v39 + *(_QWORD *)(a1 + 0x240))) != 0 )
        {
          v42 = *(_QWORD *)(a1 + 0x228);
          if ( v27 >= *(double *)(v41 + v42)
            && v28 >= *(double *)(v41 + v42 + 8)
            && v29 >= *(double *)(v41 + v42 + 0x10)
            && v27 <= *(double *)(v41 + v42 + 0x18)
            && v28 <= *(double *)(v41 + v42 + 0x20)
            && v29 <= *(double *)(v41 + v42 + 0x28) )
          {
            v43 = *(_QWORD *)(a1 + 0x230);
            v44 = 1.0 / *(float *)(v40 + v43 + 0x1C);
            v45 = *(float *)&_XMM4 - *(float *)(v40 + v43 + 0x10);
            v46 = *(float *)(v40 + v43 + 8);
            v47 = *(float *)(v40 + v43 + 4);
            v48 = *(float *)(v40 + v43 + 0xC);
            v49 = *(float *)&_XMM7 - *(float *)(v40 + v43 + 0x14);
            v50 = *(float *)&_XMM8 - *(float *)(v40 + v43 + 0x18);
            v51 = *(float *)(v40 + v43);
            v52 = *(_QWORD *)(a1 + 0x238);
            v53 = (float)((float)(v46 * (float)(v49 * v44)) - (float)(v47 * (float)(v50 * v44)))
                + (float)(v48 * (float)(v45 * v44));
            v54 = (float)((float)(v51 * (float)(v50 * v44)) - (float)(v46 * (float)(v45 * v44)))
                + (float)(v48 * (float)(v49 * v44));
            v55 = (float)((float)(v47 * (float)(v45 * v44)) - (float)(v51 * (float)(v49 * v44)))
                + (float)(v48 * (float)(v50 * v44));
            v57[0] = (float)((float)(v45 * v44) + (float)((float)(v46 * v54) - (float)(v47 * v55)))
                   + (float)((float)(v46 * v54) - (float)(v47 * v55));
            v57[1] = (float)((float)(v49 * v44) + (float)((float)(v51 * v55) - (float)(v46 * v53)))
                   + (float)((float)(v51 * v55) - (float)(v46 * v53));
            v57[2] = (float)((float)(v50 * v44) + (float)((float)(v47 * v53) - (float)(v51 * v54)))
                   + (float)((float)(v47 * v53) - (float)(v51 * v54));
            if ( (*(unsigned int (__fastcall **)(_QWORD, float *))(***(_QWORD ***)(v39 + v52) + 0x40LL))(
                   **(_QWORD **)(v39 + v52),
                   v57) )
            {
              v13 = 1;
              break;
            }
            *(float *)&_XMM7 = v77;
            *(float *)&_XMM8 = v78;
          }
        }
        ++v38;
        v41 += 0x30;
        v40 += 0x20;
        v39 += 8;
        if ( v38 >= *(_DWORD *)(a1 + 0x290) )
          break;
        v27 = v58[0];
        *(float *)&_XMM4 = v76;
      }
    }
  }
LABEL_20:
  v63 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return v13;
}

// --- End Function: sub_1468DE980 (0x1468DE980) ---

// --- Function: sub_1468DEFA0 (0x1468DEFA0) ---
__int64 __fastcall sub_1468DEFA0(__int64 a1)
{
  signed __int32 v1; // eax

  do
    v1 = *(_DWORD *)(a1 + 0x378);
  while ( v1 != _InterlockedCompareExchange((volatile signed __int32 *)(a1 + 0x378), v1 - 1, v1) );
  return (unsigned int)(v1 - 1);
}

// --- End Function: sub_1468DEFA0 (0x1468DEFA0) ---

// --- Function: sub_1468DEFE0 (0x1468DEFE0) ---
void __fastcall sub_1468DEFE0(__int64 a1, unsigned int a2, __int64 a3, _QWORD *a4, __int64 a5)
{
  __int128 v5; // xmm6
  __int128 v6; // xmm7
  __int128 v7; // xmm8
  __int128 v8; // xmm9
  unsigned __int64 v9; // rbp
  __int64 v10; // r14
  __int64 v13; // r14
  _QWORD *v14; // rdi
  _QWORD *v15; // r14
  __int64 v16; // rcx
  _QWORD *v17; // rbx
  float v18; // xmm2_4
  __int128 v19; // xmm4
  __int64 v20; // rsi
  __int64 v24; // rax
  int n0x200_1; // ecx
  int n0x200; // eax
  __m128 v31; // xmm1
  __int128 n0x40000000_1; // xmm7
  __int128 n0x40000000; // kr00_16
  float v36; // xmm8_4
  int v39; // edx
  int v42; // ecx
  float v45; // xmm3_4
  float v46; // xmm3_4
  int v47; // [rsp+60h] [rbp+0h] BYREF
  __int128 v48; // [rsp+7110h] [rbp+70B0h]
  __int128 v49; // [rsp+7120h] [rbp+70C0h]
  _OWORD v50[2]; // [rsp+7130h] [rbp+70D0h]

  v50[1] = v5;
  v50[0] = v6;
  v49 = v7;
  v48 = v8;
  v9 = (unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL;
  v10 = *(_QWORD *)(a1 + 0x220);
  if ( v10 )
  {
    if ( a2 <= 1 )
    {
      v13 = *(_QWORD *)(v10 + 8LL * (int)a2);
      if ( *(_DWORD *)(v13 + 0x50) )
      {
        sub_1465AF6A0(v9 + 0x80);
        v14 = *(_QWORD **)v13;
        v15 = *(_QWORD **)(v13 + 8);
        v16 = *(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x7080);
        if ( v14 != v15 )
        {
          v17 = v14 + 6;
          do
          {
            if ( (unsigned __int64)(v16 + 1) < 0x80 )
            {
              v18 = *((float *)v17 + 4);
              v19 = *(_OWORD *)(v17 + 0xFFFFFFFF);
              v20 = *(_QWORD *)(a1 + 0x2C0);
              _XMM1 = COERCE_UNSIGNED_INT64(*((float *)v17 + 2));
              __asm { vunpcklpd xmm0, xmm1, xmm0 }
              _XMM7 = COERCE_UNSIGNED_INT64(*((float *)v17 + 5));
              *(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x80 + (v16 << 6)) = *v14;
              v24 = *(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x7080) << 6;
              *(_OWORD *)(v9 + 0x88 + v24) = _XMM0;
              *(double *)(v9 + 0x98 + v24) = v18;
              __asm { vcvtsd2ss xmm0, xmm7, xmm7 }
              *(_OWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL)
                        + 0xA0
                        + (*(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x7080) << 6)) = v19;
              *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL)
                       + 0xB0
                       + (*(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x7080) << 6)) = *(float *)&_XMM0;
              _XMM0 = COERCE_UNSIGNED_INT64(1.0 / *(double *)&_XMM7);
              __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
              *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL)
                       + 0xB4
                       + (*(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x7080) << 6)) = *(float *)&_XMM1;
              LODWORD(_XMM0) = *((_DWORD *)v17 + 0xD);
              if ( *(_DWORD *)(v20 + 0x3D4) == 1 )
              {
                LODWORD(_XMM0) = *(_DWORD *)(v20 + 0x3F0);
              }
              else if ( *(_DWORD *)(v20 + 0x3D4) == 2 )
              {
                _XMM0 = COERCE_UNSIGNED_INT64(sin(0.25 * *(double *)(v20 + 0x81928)) * *(float *)(v20 + 0x3F0));
                __asm { vcvtsd2ss xmm0, xmm0, xmm0 }
              }
              *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL)
                       + 0xB8
                       + (*(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x7080) << 6)) = *(float *)&_XMM0;
              v16 = *(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x7080) + 1LL;
              *(_QWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x7080) = v16;
            }
            v14 += 0xF;
            v17 += 0xF;
          }
          while ( v14 != v15 );
        }
        if ( v16 )
        {
          n0x200_1 = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x3E0LL);
          if ( n0x200_1 >= 8 )
          {
            n0x200 = 0x200;
            if ( n0x200_1 < 0x200 )
              n0x200 = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x3E0LL);
          }
          else
          {
            n0x200 = 8;
          }
          v31 = (__m128)*(unsigned __int64 *)(a1 + 0x1F4);
          n0x40000000 = 0x40000000u;
          *(float *)&n0x40000000 = 2.0 * *(float *)(a1 + 0x1FC);
          n0x40000000_1 = n0x40000000;
          _mm_shuffle_ps(v31, v31, 0x55);
          *(double *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10) = *(double *)v31.m128_u64;
          __asm
          {
            vmaxss  xmm1, xmm7, xmm5
            vmaxss  xmm2, xmm1, xmm3
          }
          v36 = *(float *)&_XMM2 / (float)n0x200;
          _XMM2 = 0;
          __asm { vroundss xmm2, xmm2, xmm1, 2 }
          v39 = (int)*(float *)&_XMM2;
          _XMM2 = 0;
          __asm { vroundss xmm2, xmm2, xmm1, 2 }
          v42 = (int)*(float *)&_XMM2;
          _XMM2 = 0;
          __asm { vroundss xmm2, xmm2, xmm1, 2 }
          *(float *)v9 = (float)v39 * v36;
          *(_DWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x14) = v42;
          *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 8) = (float)(int)*(float *)&_XMM2 * v36;
          *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 4) = (float)v42 * v36;
          *(_DWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x10) = v39;
          *(_DWORD *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x18) = (int)*(float *)&_XMM2;
          sub_1465CD790(v9 + 0x80);
          v45 = 0.5 * *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 4);
          LODWORD(_XMM1) = *(_DWORD *)(a1 + 0x1EC);
          *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x20) = *(float *)(a1 + 0x1E8)
                                                                              - (float)(0.5
                                                                                      * *(float *)((unsigned __int64)&v47
                                                                                                 & 0xFFFFFFFFFFFFFFE0uLL));
          *(float *)&_XMM2 = *(float *)&_XMM1 - v45;
          v46 = 0.5 * *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 8);
          LODWORD(_XMM1) = *(_DWORD *)(a1 + 0x1F0);
          *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x24) = *(float *)&_XMM2;
          *(float *)(((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL) + 0x28) = *(float *)&_XMM1 - v46;
          sub_1465D2350(
            v9 + 0x80,
            (int *)(v9 + 0x10),
            (float *)(v9 + 0x20),
            (float *)((unsigned __int64)&v47 & 0xFFFFFFFFFFFFFFE0uLL),
            0.0,
            a4,
            a5,
            1);
        }
      }
    }
  }
}

// --- End Function: sub_1468DEFE0 (0x1468DEFE0) ---

// --- Function: sub_1468DF870 (0x1468DF870) ---
__int64 __fastcall sub_1468DF870(__int64 a1, int n10102016, int a3)
{
  int v3; // r15d
  volatile signed __int64 *v7; // r15
  __int64 v8; // rax
  int value_by_id; // eax
  __int64 value_by_id_1; // rsi
  __int64 v11; // rbx
  __int64 v12; // rcx
  __int64 v13; // rdi
  __int64 v14; // rdx
  unsigned __int64 n0x200000; // rax
  char v16; // bl
  __int64 v17; // rcx
  __int64 value_by_id_6; // r13
  int value_by_id_2; // eax
  __int64 value_by_id_3; // r12
  __int64 v21; // r10
  __int64 v22; // rax
  bool v23; // zf
  unsigned int n2; // eax
  __int64 v25; // rax
  __int64 v26; // rcx
  float v27; // xmm0_4
  __int64 **v28; // rbx
  __int64 *v29; // rdx
  int v30; // r10d
  __int64 v31; // r8
  __int64 v32; // r9
  __int64 v33; // rcx
  __m256i v34; // ymm0
  __m256i v35; // ymm1
  __m256i v36; // ymm2
  __m256i v37; // ymm3
  __int128 v38; // xmm4
  __int64 v39; // rcx
  __int64 v40; // rsi
  int value_by_id_4; // eax
  unsigned int v42; // edx
  int value_by_id_5; // eax
  unsigned int v44; // edx
  __int64 v45; // r8
  __int64 **v46; // rsi
  __int64 value_by_id_7; // r10
  __int64 v48; // r9
  __int64 v49; // rdx
  __int64 v50; // rbx
  _QWORD **v51; // r15
  __int64 v52; // rdx
  __int64 v53; // rcx
  __int64 v54; // rbx
  __int64 v55; // rax
  __int64 v56; // r10
  int v57; // r8d
  int v58; // edx
  _DWORD *v59; // rax
  __int64 v60; // rbx
  __int64 v61; // rcx
  __int64 v62; // rdx
  __int64 v63; // r8
  __int64 v64; // rcx
  __int64 v65; // rdx
  __int64 v66; // rcx
  __int64 v67; // r10
  int v68; // r8d
  int v69; // edx
  _DWORD *v70; // rax
  __int64 v71; // rbx
  __int64 v72; // rdx
  __int64 v73; // r8
  __int64 v74; // rcx
  __int64 v75; // rdx
  __int64 v76; // rcx
  __int64 v77; // r10
  int v78; // r8d
  int v79; // edx
  _DWORD *v80; // rax
  __int64 v81; // rbx
  __int64 v82; // rdx
  __int64 v83; // r8
  __int64 v84; // rcx
  __int64 v85; // rdx
  __int64 v86; // rcx
  unsigned __int64 n0x200000_1; // rax
  volatile signed __int64 *v88; // r15
  int v89; // esi
  __int64 v90; // rax
  unsigned int n0x40000000; // eax
  __int64 ***v92; // rsi
  __int64 n2_2; // rbx
  __int64 *v94; // r10
  __int64 *v95; // rcx
  __int64 v96; // r9
  unsigned __int64 v97; // rdx
  __int64 v98; // rax
  __int64 *v99; // r8
  __int64 v100; // rdx
  __int64 v101; // rax
  __int64 v102; // rdx
  __int64 v103; // rcx
  __int64 v104; // rax
  __int64 *v105; // r14
  __int64 *v106; // rbx
  __int64 *v107; // rsi
  char v108; // r14
  __int64 v109; // rax
  __int64 v110; // rax
  unsigned __int64 n0x200000_2; // rax
  __int64 v113; // [rsp+40h] [rbp-C0h] BYREF
  int n0x19; // [rsp+48h] [rbp-B8h]
  int n0x1E; // [rsp+4Ch] [rbp-B4h]
  __int64 v116; // [rsp+50h] [rbp-B0h]
  __int64 v117; // [rsp+58h] [rbp-A8h]
  unsigned int n2_1; // [rsp+60h] [rbp-A0h]
  int v119; // [rsp+64h] [rbp-9Ch]
  __int64 v120; // [rsp+68h] [rbp-98h]
  int v121; // [rsp+70h] [rbp-90h]
  int n10102016_1; // [rsp+74h] [rbp-8Ch]
  float v123; // [rsp+78h] [rbp-88h]
  float v124; // [rsp+7Ch] [rbp-84h]
  int n4; // [rsp+80h] [rbp-80h]
  int n0x2800; // [rsp+90h] [rbp-70h] BYREF
  __int64 v127; // [rsp+94h] [rbp-6Ch]
  int v128; // [rsp+9Ch] [rbp-64h]
  __int64 v129; // [rsp+A0h] [rbp-60h]
  unsigned __int64 v130; // [rsp+A8h] [rbp-58h]
  __int64 v131; // [rsp+B0h] [rbp-50h]
  __int64 v132; // [rsp+B8h] [rbp-48h]
  char v133[32]; // [rsp+E0h] [rbp-20h] BYREF
  int v134; // [rsp+100h] [rbp+0h]
  char v135; // [rsp+150h] [rbp+50h] BYREF
  int v136; // [rsp+168h] [rbp+68h]

  v3 = 0;
  n0x2800 = 0x2800;
  v127 = 0;
  v128 = 0;
  v130 = 0;
  v131 = 0;
  v132 = 0;
  v129 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  sub_14676F3E0((__int64)v133, a1, *(_QWORD *)(a1 + 0x2C0), 0, a3, 0, n10102016, 0);
  if ( v134 )
  {
    v7 = (volatile signed __int64 *)(a1 + 0xC8);
    v8 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
    if ( v8 )
      sub_1403DE750(a1 + 0xC8, v8, 0, (__int64)"CPhysicalEntity::RemoveGeometry", (__int64)"m_lockUpdate", 1);
    value_by_id = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), n10102016, 0);
    if ( value_by_id < *(_DWORD *)(a1 + 0x290) )
    {
      value_by_id_1 = value_by_id;
      v11 = a1 + 0x228;
      v12 = a1 + 0x228;
      v13 = *(_QWORD *)(*(_QWORD *)(a1 + 0x240) + 8LL * value_by_id);
      sub_146615C30(v12);
      v14 = *(_QWORD *)(v11 + 0x78);
      _InterlockedOr((volatile signed __int32 *)(v14 + 0x184), 0x10u);
      *(_QWORD *)(*(_QWORD *)(v14 + 0x20) + 8 * value_by_id_1) = v13 | 0x400000000000LL;
    }
    if ( v7 )
    {
      n0x200000 = _InterlockedCompareExchange64(v7, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v7, n0x200000);
    }
  }
  else
  {
    v16 = *(_BYTE *)(a1 + 0x385);
    v17 = *(_QWORD *)(a1 + 0x2A0);
    value_by_id_6 = *(int *)(a1 + 0x290);
    v135 = v16;
    value_by_id_2 = map_get_value_by_id(v17, n10102016, 0);
    value_by_id_3 = value_by_id_2;
    if ( value_by_id_2 > (int)0xFFFFFFFF && value_by_id_2 < (int)value_by_id_6 )
    {
      v21 = *(_QWORD *)(a1 + 0x2A0);
      v22 = a1 | (*(_QWORD *)(a1 + 8) << 0x30);
      v113 = 0;
      v23 = (*(_BYTE *)(a1 + 0xEC) & 2) == 0;
      v116 = v22;
      n2 = 0xFFFFFFFF;
      if ( !v23 )
        n2 = 2;
      n0x1E = 0x1E;
      n2_1 = n2;
      v25 = *(_QWORD *)(a1 + 0xC0);
      v124 = -1.0;
      v117 = v25;
      v119 = 0;
      n0x19 = 0x19;
      v120 = *(_QWORD *)(*(_QWORD *)(v21 + 0x80) + 0x10 * value_by_id_3);
      v121 = *(_DWORD *)(*(_QWORD *)(v21 + 0x80) + 0x10 * value_by_id_3 + 8);
      v26 = *(_QWORD *)(a1 + 0x2C0);
      n10102016_1 = n10102016;
      v27 = *(float *)((value_by_id_3 << 6) + *(_QWORD *)(v21 + 0x70) + 0x38);
      n4 = 4;
      v124 = v27;
      v123 = v27;
      sub_1467163B0(v26, 2, (__int64)&v113, 0);
      if ( !*(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) && !v16 )
        (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)a1 + 0x260LL))(a1, 0);
      v28 = (__int64 **)(a1 + 0x2E8);
      v29 = *(__int64 **)(a1 + 0x2E8);
      if ( v29 )
      {
        v30 = 0;
        if ( *((int *)v29 + 0x10) > 0 )
        {
          v31 = 0;
          do
          {
            v32 = *v29;
            if ( *(_DWORD *)(v31 + *v29 + 0xC) == n10102016 || *(_DWORD *)(v31 + v32 + 0x10) == n10102016 )
            {
              v33 = *((int *)v29 + 0x10);
              --v30;
              *((_DWORD *)v29 + 0x10) = v33 - 1;
              v33 *= 0x12;
              v34 = *(__m256i *)(v32 + 8 * v33 - 0x90);
              v35 = *(__m256i *)(v32 + 8 * v33 - 0x70);
              v36 = *(__m256i *)(v32 + 8 * v33 - 0x50);
              v37 = *(__m256i *)(v32 + 8 * v33 - 0x30);
              v38 = *(_OWORD *)(v32 + 8 * v33 - 0x10);
              v39 = **v28;
              *(__m256i *)(v39 + v31) = v34;
              *(__m256i *)(v39 + v31 + 0x20) = v35;
              *(__m256i *)(v39 + v31 + 0x40) = v36;
              *(__m256i *)(v39 + v31 + 0x60) = v37;
              *(_OWORD *)(v39 + v31 + 0x80) = v38;
              v31 -= 0x90;
              ++*((_DWORD *)*v28 + 0x13);
            }
            v29 = *v28;
            ++v30;
            v31 += 0x90;
          }
          while ( v30 < *((_DWORD *)*v28 + 0x10) );
          v28 = (__int64 **)(a1 + 0x2E8);
          if ( *((int *)v29 + 0x10) > 0 )
          {
            v40 = 0;
            do
            {
              __asm { vzeroupper }
              value_by_id_4 = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(v40 + *v29 + 0xC), 0);
              *(_DWORD *)(**v28 + v40 + 4) = value_by_id_4;
              if ( value_by_id_4 >= *(_DWORD *)(a1 + 0x290) )
                v42 = 0xFFFFFFFF;
              else
                v42 = *(_DWORD *)(**v28 + v40 + 4);
              *(_DWORD *)(**v28 + v40 + 4) = v42;
              value_by_id_5 = map_get_value_by_id(*(_QWORD *)(a1 + 0x2A0), *(_DWORD *)(**v28 + v40 + 0x10), 0);
              *(_DWORD *)(**v28 + v40 + 8) = value_by_id_5;
              if ( value_by_id_5 >= *(_DWORD *)(a1 + 0x290) )
                v44 = 0xFFFFFFFF;
              else
                v44 = *(_DWORD *)(**v28 + v40 + 8);
              ++v3;
              *(_DWORD *)(**v28 + v40 + 8) = v44;
              v40 += 0x90;
              v29 = *v28;
            }
            while ( v3 < *((_DWORD *)*v28 + 0x10) );
            v28 = (__int64 **)(a1 + 0x2E8);
          }
        }
        v45 = v29[1];
        v46 = v28;
        if ( v45 )
        {
          __asm { vzeroupper }
          memmove(
            (void *)(v45 + 0x60 * value_by_id_3),
            (const void *)(v45 + 0x60 * value_by_id_3 + 0x60),
            0x60LL * ((int)value_by_id_6 - (int)value_by_id_3 - 1));
          value_by_id_7 = value_by_id_6;
          if ( (int)value_by_id_6 > 0 )
          {
            v48 = 0;
            do
            {
              v48 += 0x60;
              *(_DWORD *)((*v28)[1] + v48 - 0x18) &= ~((int)((value_by_id_3 - *(_DWORD *)((*v28)[1] + v48 - 0x18))
                                                           ^ (value_by_id_3 - *(_DWORD *)((*v28)[1] + v48 - 0x18) + 1)) >> 0x1F);
              *(_DWORD *)((*v28)[1] + v48 - 0x18) -= (unsigned int)(value_by_id_3 - *(_DWORD *)((*v28)[1] + v48 - 0x18)) >> 0x1F;
              --value_by_id_7;
            }
            while ( value_by_id_7 );
            v46 = (__int64 **)(a1 + 0x2E8);
          }
        }
        v49 = (*v46)[2];
        if ( v49 )
        {
          __asm { vzeroupper }
          memmove(
            (void *)(v49 + 0xC * value_by_id_3),
            (const void *)(v49 + 0xC * value_by_id_3 + 0xC),
            0xCLL * ((int)value_by_id_6 - (int)value_by_id_3 - 1));
          v50 = a1 + 0x2E8;
        }
        else
        {
          v50 = (__int64)v46;
        }
        v51 = v46;
        v52 = (*v46)[3];
        if ( v52 )
        {
          __asm { vzeroupper }
          memmove(
            (void *)(v52 + 0xC * value_by_id_3),
            (const void *)(v52 + 0xC * value_by_id_3 + 0xC),
            0xCLL * ((int)value_by_id_6 - (int)value_by_id_3 - 1));
          v51 = (_QWORD **)v50;
        }
        v53 = (*v46)[4];
        if ( v53 )
        {
          v54 = 0x58 * value_by_id_3;
          if ( *(_QWORD *)(0x58 * value_by_id_3 + v53 + 8) )
          {
            __asm { vzeroupper }
            sub_1402A63C0(*(_QWORD *)(v54 + v53));
            sub_14691E890(*(_QWORD *)(a1 + 0x2C0), *(_QWORD *)((*v51)[4] + v54 + 8), 0);
          }
          __asm { vzeroupper }
          memmove(
            (void *)(v54 + (*v51)[4]),
            (const void *)(v54 + (*v51)[4] + 0x58),
            0x58LL * ((int)value_by_id_6 - (int)value_by_id_3 - 1));
        }
      }
      if ( *(_QWORD *)(a1 + 0x2D8) )
      {
        v55 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0x200000, 0);
        if ( v55 )
        {
          __asm { vzeroupper }
          sub_1403DE750(a1 + 0xC8, v55, 0, (__int64)"CPhysicalEntity::RemoveGeometry", (__int64)"m_lockUpdate", 1);
        }
        switch ( *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x238) + 8 * value_by_id_3) + 0x4CLL) >> 0x1E )
        {
          case 1:
            v77 = *(_QWORD *)(a1 + 0x2D8);
            v78 = 0;
            v79 = *(_DWORD *)(v77 + 0x1D8);
            if ( v79 > 0 )
            {
              v80 = (_DWORD *)(*(_QWORD *)(v77 + 0xD0) + 0x60LL);
              while ( *v80 != *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4 * value_by_id_3) )
              {
                ++v78;
                v80 += 0x1A;
                if ( v78 >= v79 )
                  goto LABEL_71;
              }
              v81 = 0x68LL * v78;
              __asm { vzeroupper }
              (*(void (__fastcall **)(_QWORD))(**(_QWORD **)(v81 + *(_QWORD *)(v77 + 0xD0)) + 8LL))(*(_QWORD *)(v81 + *(_QWORD *)(v77 + 0xD0)));
              v82 = *(_QWORD *)(a1 + 0x2D8);
              v83 = *(_QWORD *)(v82 + 0xD0);
              v84 = *(int *)(v82 + 0x1D8);
              *(_DWORD *)(v82 + 0x1D8) = v84 - 1;
              v85 = 0x68 * v84;
              v86 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL);
              *(_QWORD *)(v81 + v86) = *(_QWORD *)(v85 + v83 - 0x68);
              *(double *)(v81 + v86 + 8) = *(double *)(v85 + v83 - 0x60);
              *(_DWORD *)(v81 + v86 + 0x10) = *(_DWORD *)(v85 + v83 - 0x58);
              *(double *)(v81 + v86 + 0x14) = *(double *)(v85 + v83 - 0x54);
              *(_DWORD *)(v81 + v86 + 0x1C) = *(_DWORD *)(v85 + v83 - 0x4C);
              *(_DWORD *)(v81 + v86 + 0x20) = *(_DWORD *)(v85 + v83 - 0x48);
              *(_DWORD *)(v81 + v86 + 0x24) = *(_DWORD *)(v85 + v83 - 0x44);
              *(_DWORD *)(v81 + v86 + 0x28) = *(_DWORD *)(v85 + v83 - 0x40);
              *(_DWORD *)(v81 + v86 + 0x2C) = *(_DWORD *)(v85 + v83 - 0x3C);
              *(double *)(v81 + v86 + 0x30) = *(double *)(v85 + v83 - 0x38);
              *(_DWORD *)(v81 + v86 + 0x38) = *(_DWORD *)(v85 + v83 - 0x30);
              *(_DWORD *)(v81 + v86 + 0x3C) = *(_DWORD *)(v85 + v83 - 0x2C);
              *(_DWORD *)(v81 + v86 + 0x40) = *(_DWORD *)(v85 + v83 - 0x28);
              *(_DWORD *)(v81 + v86 + 0x44) = *(_DWORD *)(v85 + v83 - 0x24);
              *(_DWORD *)(v81 + v86 + 0x48) = *(_DWORD *)(v85 + v83 - 0x20);
              *(_DWORD *)(v81 + v86 + 0x4C) = *(_DWORD *)(v85 + v83 - 0x1C);
              *(double *)(v81 + v86 + 0x50) = *(double *)(v85 + v83 - 0x18);
              *(_DWORD *)(v81 + v86 + 0x58) = *(_DWORD *)(v85 + v83 - 0x10);
              *(_DWORD *)(v81 + v86 + 0x5C) = *(_DWORD *)(v85 + v83 - 0xC);
              *(_DWORD *)(v81 + v86 + 0x60) = *(_DWORD *)(v85 + v83 - 8);
              *(_DWORD *)(v81 + v86 + 0x64) = *(_DWORD *)(v85 + v83 - 4);
              sub_1465AAC40((__int64 *)(*(_QWORD *)(a1 + 0x2D8) + 0xD0LL), *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D8LL));
            }
            break;
          case 2:
            v67 = *(_QWORD *)(a1 + 0x2D8);
            v68 = 0;
            v69 = *(_DWORD *)(v67 + 0x1D4);
            if ( v69 > 0 )
            {
              v70 = (_DWORD *)(*(_QWORD *)(v67 + 0x78) + 0x60LL);
              while ( *v70 != *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4 * value_by_id_3) )
              {
                ++v68;
                v70 += 0x1A;
                if ( v68 >= v69 )
                  goto LABEL_71;
              }
              v71 = 0x68LL * v68;
              __asm { vzeroupper }
              sub_1465D1910(*(volatile signed __int32 **)(*(_QWORD *)(v67 + 0x78) + v71));
              v72 = *(_QWORD *)(a1 + 0x2D8);
              v73 = *(_QWORD *)(v72 + 0x78);
              v74 = *(int *)(v72 + 0x1D4);
              *(_DWORD *)(v72 + 0x1D4) = v74 - 1;
              v75 = 0x68 * v74;
              v76 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL);
              *(_QWORD *)(v71 + v76) = *(_QWORD *)(v75 + v73 - 0x68);
              *(double *)(v71 + v76 + 8) = *(double *)(v75 + v73 - 0x60);
              *(_DWORD *)(v71 + v76 + 0x10) = *(_DWORD *)(v75 + v73 - 0x58);
              *(double *)(v71 + v76 + 0x14) = *(double *)(v75 + v73 - 0x54);
              *(_DWORD *)(v71 + v76 + 0x1C) = *(_DWORD *)(v75 + v73 - 0x4C);
              *(_DWORD *)(v71 + v76 + 0x20) = *(_DWORD *)(v75 + v73 - 0x48);
              *(_DWORD *)(v71 + v76 + 0x24) = *(_DWORD *)(v75 + v73 - 0x44);
              *(_DWORD *)(v71 + v76 + 0x28) = *(_DWORD *)(v75 + v73 - 0x40);
              *(_DWORD *)(v71 + v76 + 0x2C) = *(_DWORD *)(v75 + v73 - 0x3C);
              *(double *)(v71 + v76 + 0x30) = *(double *)(v75 + v73 - 0x38);
              *(_DWORD *)(v71 + v76 + 0x38) = *(_DWORD *)(v75 + v73 - 0x30);
              *(_DWORD *)(v71 + v76 + 0x3C) = *(_DWORD *)(v75 + v73 - 0x2C);
              *(_DWORD *)(v71 + v76 + 0x40) = *(_DWORD *)(v75 + v73 - 0x28);
              *(_DWORD *)(v71 + v76 + 0x44) = *(_DWORD *)(v75 + v73 - 0x24);
              *(_DWORD *)(v71 + v76 + 0x48) = *(_DWORD *)(v75 + v73 - 0x20);
              *(_DWORD *)(v71 + v76 + 0x4C) = *(_DWORD *)(v75 + v73 - 0x1C);
              *(double *)(v71 + v76 + 0x50) = *(double *)(v75 + v73 - 0x18);
              *(_DWORD *)(v71 + v76 + 0x58) = *(_DWORD *)(v75 + v73 - 0x10);
              *(_DWORD *)(v71 + v76 + 0x5C) = *(_DWORD *)(v75 + v73 - 0xC);
              *(_DWORD *)(v71 + v76 + 0x60) = *(_DWORD *)(v75 + v73 - 8);
              *(_DWORD *)(v71 + v76 + 0x64) = *(_DWORD *)(v75 + v73 - 4);
              sub_1465AAC40((__int64 *)(*(_QWORD *)(a1 + 0x2D8) + 0x78LL), *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D4LL));
            }
            break;
          case 3:
            v56 = *(_QWORD *)(a1 + 0x2D8);
            v57 = 0;
            v58 = *(_DWORD *)(v56 + 0x1D0);
            if ( v58 > 0 )
            {
              v59 = (_DWORD *)(*(_QWORD *)(v56 + 0x20) + 0x40LL);
              while ( *v59 != *(_DWORD *)(*(_QWORD *)(a1 + 0x250) + 4 * value_by_id_3) )
              {
                ++v57;
                v59 += 0x12;
                if ( v57 >= v58 )
                  goto LABEL_71;
              }
              v60 = 9LL * v57;
              v61 = *(_QWORD *)(*(_QWORD *)(v56 + 0x20) + 0x48LL * v57);
              __asm { vzeroupper }
              (*(void (__fastcall **)(__int64))(*(_QWORD *)v61 + 0x18LL))(v61);
              v62 = *(_QWORD *)(a1 + 0x2D8);
              v63 = *(_QWORD *)(v62 + 0x20);
              v64 = *(int *)(v62 + 0x1D0);
              *(_DWORD *)(v62 + 0x1D0) = v64 - 1;
              v65 = 9 * v64;
              v66 = *(_QWORD *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL);
              *(_QWORD *)(v66 + 8 * v60) = *(_QWORD *)(v63 + 8 * v65 - 0x48);
              *(double *)(v66 + 8 * v60 + 8) = *(double *)(v63 + 8 * v65 - 0x40);
              *(_DWORD *)(v66 + 8 * v60 + 0x10) = *(_DWORD *)(v63 + 8 * v65 - 0x38);
              *(double *)(v66 + 8 * v60 + 0x14) = *(double *)(v63 + 8 * v65 - 0x34);
              *(_DWORD *)(v66 + 8 * v60 + 0x1C) = *(_DWORD *)(v63 + 8 * v65 - 0x2C);
              *(_DWORD *)(v66 + 8 * v60 + 0x20) = *(_DWORD *)(v63 + 8 * v65 - 0x28);
              *(_DWORD *)(v66 + 8 * v60 + 0x24) = *(_DWORD *)(v63 + 8 * v65 - 0x24);
              *(_DWORD *)(v66 + 8 * v60 + 0x28) = *(_DWORD *)(v63 + 8 * v65 - 0x20);
              *(_DWORD *)(v66 + 8 * v60 + 0x2C) = *(_DWORD *)(v63 + 8 * v65 - 0x1C);
              *(double *)(v66 + 8 * v60 + 0x30) = *(double *)(v63 + 8 * v65 - 0x18);
              *(_DWORD *)(v66 + 8 * v60 + 0x38) = *(_DWORD *)(v63 + 8 * v65 - 0x10);
              *(_DWORD *)(v66 + 8 * v60 + 0x3C) = *(_DWORD *)(v63 + 8 * v65 - 0xC);
              *(_DWORD *)(v66 + 8 * v60 + 0x40) = *(_DWORD *)(v63 + 8 * v65 - 8);
              *(_DWORD *)(v66 + 8 * v60 + 0x44) = *(_DWORD *)(v63 + 8 * v65 - 4);
              sub_1465AAC70((__int64 *)(*(_QWORD *)(a1 + 0x2D8) + 0x20LL), *(int *)(*(_QWORD *)(a1 + 0x2D8) + 0x1D0LL));
            }
            break;
        }
LABEL_71:
        if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
        {
          *(_WORD *)(a1 + 0x106) |= 0x70u;
          __asm { vzeroupper }
          sub_14693A1E0(*(_QWORD *)(a1 + 0x2C0), a1);
        }
        else
        {
          __asm { vzeroupper }
          sub_1465E2DD0(*(_QWORD *)(a1 + 0x2D8), 0xFFFFFFFF);
        }
        if ( a1 != 0xFFFFFFFFFFFFFF38uLL )
        {
          n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xC8), 0, 0x200000);
          if ( n0x200000_1 != 0x200000 )
            sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xC8), n0x200000_1);
        }
      }
      v88 = (volatile signed __int64 *)(a1 + 0xC8);
      v89 = *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x2ECLL);
      v136 = v89;
      if ( v89 )
      {
        v90 = _InterlockedCompareExchange64(v88, 0x200000, 0);
        if ( v90 )
        {
          __asm { vzeroupper }
          sub_1403DE750(a1 + 0xC8, v90, 0, (__int64)"CPhysicalEntity::RemoveGeometry", (__int64)"m_lockUpdate", 1);
        }
      }
      n0x40000000 = *(_DWORD *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x238) + 8 * value_by_id_3) + 0x4CLL);
      if ( (n0x40000000 & 0x10000000) != 0
        && (n0x40000000 < 0x40000000 || *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x3F4LL)) )
      {
        v92 = (__int64 ***)(a1 + 0x220);
        if ( *(_QWORD *)(a1 + 0x220) )
        {
          for ( n2_2 = 0; n2_2 < 2; ++n2_2 )
          {
            v94 = (*v92)[n2_2];
            v95 = (__int64 *)v94[1];
            v96 = *v94;
            v97 = ((__int64)v95 - *v94) / 0x78;
            while ( (__int64)v97 > 0 )
            {
              v98 = 0x78 * (v97 >> 1);
              if ( *(_DWORD *)(v98 + v96 + 0x6C) >= n10102016 )
              {
                v97 >>= 1;
              }
              else
              {
                v96 += v98 + 0x78;
                v97 += 0xFFFFFFFFFFFFFFFFuLL - (v97 >> 1);
              }
            }
            if ( (__int64 *)v96 != v95 && *(_DWORD *)(v96 + 0x6C) == n10102016 )
            {
              v99 = (__int64 *)(v96 + 0x78);
              if ( (__int64 *)(v96 + 0x78) != v95 )
              {
                v100 = v96 + 0x30;
                do
                {
                  v101 = *v99;
                  v99 += 0xF;
                  *(_QWORD *)(v100 - 0x30) = v101;
                  *(_QWORD *)(v100 - 0x28) = *(_QWORD *)(v100 + 0x50);
                  *(double *)(v100 - 0x20) = *(double *)(v100 + 0x58);
                  *(_DWORD *)(v100 - 0x18) = *(_DWORD *)(v100 + 0x60);
                  *(double *)(v100 - 0x14) = *(double *)(v100 + 0x64);
                  *(_DWORD *)(v100 - 0xC) = *(_DWORD *)(v100 + 0x6C);
                  *(_DWORD *)(v100 - 8) = *(_DWORD *)(v100 + 0x70);
                  *(_DWORD *)(v100 - 4) = *(_DWORD *)(v100 + 0x74);
                  *(_DWORD *)v100 = *(_DWORD *)(v100 + 0x78);
                  *(_DWORD *)(v100 + 4) = *(_DWORD *)(v100 + 0x7C);
                  *(double *)(v100 + 8) = *(double *)(v100 + 0x80);
                  *(_DWORD *)(v100 + 0x10) = *(_DWORD *)(v100 + 0x88);
                  *(_DWORD *)(v100 + 0x14) = *(_DWORD *)(v100 + 0x8C);
                  *(_DWORD *)(v100 + 0x18) = *(_DWORD *)(v100 + 0x90);
                  *(_DWORD *)(v100 + 0x1C) = *(_DWORD *)(v100 + 0x94);
                  *(_DWORD *)(v100 + 0x20) = *(_DWORD *)(v100 + 0x98);
                  *(_DWORD *)(v100 + 0x24) = *(_DWORD *)(v100 + 0x9C);
                  *(double *)(v100 + 0x28) = *(double *)(v100 + 0xA0);
                  *(_DWORD *)(v100 + 0x30) = *(_DWORD *)(v100 + 0xA8);
                  *(_DWORD *)(v100 + 0x34) = *(_DWORD *)(v100 + 0xAC);
                  *(_DWORD *)(v100 + 0x38) = *(_DWORD *)(v100 + 0xB0);
                  *(_DWORD *)(v100 + 0x3C) = *(_DWORD *)(v100 + 0xB4);
                  *(_DWORD *)(v100 + 0x40) = *(_DWORD *)(v100 + 0xB8);
                  v100 += 0x78;
                }
                while ( v99 != v95 );
              }
              v94[1] -= 0x78;
              v102 = v94[1];
              *((_BYTE *)v94 + 0x60) = 1;
              v94[9] = 0;
              v103 = *v94;
              if ( *v94 != v102 )
              {
                v104 = 0;
                do
                {
                  v104 |= *(_QWORD *)(v103 + 8);
                  v103 += 0x78;
                  v94[9] = v104;
                }
                while ( v103 != v102 );
              }
            }
          }
          v92 = (__int64 ***)(a1 + 0x220);
          v88 = (volatile signed __int64 *)(a1 + 0xC8);
        }
        v23 = (*(_DWORD *)(a1 + 0x2A8))-- == 1;
        if ( v23 )
        {
          if ( *v92 )
          {
            v105 = **v92;
            v106 = (__int64 *)v92;
            if ( v105 )
            {
              __asm { vzeroupper }
              sub_141637CD0(v105);
              sub_1402A63C0((__int64)v105);
              v106 = (__int64 *)(a1 + 0x220);
            }
            v107 = (*v92)[1];
            if ( v107 )
            {
              __asm { vzeroupper }
              sub_141637CD0(v107);
              sub_1402A63C0((__int64)v107);
            }
            __asm { vzeroupper }
            sub_1402A63C0(*v106);
            v92 = (__int64 ***)v106;
          }
          *v92 = 0;
        }
        v89 = v136;
      }
      __asm { vzeroupper }
      sub_146628960(a1 + 0x228, value_by_id_3);
      v108 = v135;
      if ( !v135 )
      {
        v109 = *(_QWORD *)(a1 + 0x220);
        if ( v109 )
        {
          *(_BYTE *)(*(_QWORD *)v109 + 0x60LL) = 1;
          *(_BYTE *)(*(_QWORD *)(*(_QWORD *)(a1 + 0x220) + 8LL) + 0x60LL) = 1;
        }
        if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x2C0) + 0x82E34LL) )
        {
          *(_WORD *)(a1 + 0x106) |= 3u;
          sub_14693A1E0(*(_QWORD *)(a1 + 0x2C0), a1);
        }
        else
        {
          v110 = (*(__int64 (__fastcall **)(__int64, char *))(*(_QWORD *)a1 + 0x98LL))(a1, &v135);
          sub_14660C430(a1 + 0x228, v110, 0xFFFFFFFF);
          (*(void (__fastcall **)(__int64, __int64, __int64))(*(_QWORD *)a1 + 0x130LL))(a1, a1 + 0x10, 3);
        }
      }
      if ( v88 )
      {
        if ( v89 )
        {
          n0x200000_2 = _InterlockedCompareExchange64(v88, 0, 0x200000);
          if ( n0x200000_2 != 0x200000 )
            sub_1403DEBA0(v88, n0x200000_2);
        }
      }
      if ( !v108 )
        sub_14693D8B0(*(_QWORD *)(a1 + 0x2C0), a1, 0xC1);
    }
  }
  v130 = __rdtsc();
  return qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_1468DF870 (0x1468DF870) ---

// --- Function: CPhysicalEntity::ReservePartIds (0x1468E0A60) ---
__int64 __fastcall CPhysicalEntity::ReservePartIds(unsigned __int64 a1, int a2, int a3)
{
  volatile signed __int64 *v6; // rdi
  __int64 v7; // rax
  int v8; // ecx
  int v9; // eax
  unsigned __int64 n0x200000; // rax

  v6 = &qword_15145C5C0[(unsigned __int8)(a1 >> 0xA)];
  v7 = _InterlockedCompareExchange64(v6, 0x200000, 0);
  if ( v7 )
    sub_1403DE750(
      (__int64)v6,
      v7,
      0,
      (__int64)"CPhysicalEntity::ReservePartIds",
      (__int64)"s_lockPartIdx[(alias_cast<uint64_t>(this)>>10)&(NUM_PARTIDX_LOCKS-1)]",
      1);
  v8 = *(_DWORD *)(a1 + 0x364);
  if ( a2 < 0 )
  {
    v9 = v8 + a3;
    a2 = *(_DWORD *)(a1 + 0x364);
  }
  else
  {
    if ( v8 < a2 + a3 )
      v8 = a2 + a3;
    v9 = v8;
  }
  *(_DWORD *)(a1 + 0x364) = v9;
  if ( v6 )
  {
    n0x200000 = _InterlockedCompareExchange64(v6, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v6, n0x200000);
  }
  return (unsigned int)a2;
}

// --- End Function: CPhysicalEntity::ReservePartIds (0x1468E0A60) ---

// --- Function: sub_1468E0B30 (0x1468E0B30) ---
__int64 __fastcall sub_1468E0B30(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int64 v6; // rdi
  volatile signed __int64 *v7; // rdi
  __int64 v8; // rax
  __int64 v9; // rdx
  unsigned __int64 n0x200000; // rax
  __int64 result; // rax
  __int64 v12; // r9
  __int64 *v13; // rcx
  __int64 i; // rdx
  int v15; // r8d
  _DWORD *v16; // rax
  volatile signed __int64 *v17; // rdi
  __int64 v18; // rax
  __int64 v19; // rdx
  _QWORD *v20; // rax
  unsigned __int64 n0x200000_1; // rax

  if ( *(_DWORD *)(a1 + 0x88) != 0xFFFFFFFF )
    __debugbreak();
  v6 = *(_QWORD *)(a1 + 0xB8);
  if ( v6 )
  {
    v7 = (volatile signed __int64 *)(v6 + 0x1A0);
    v8 = _InterlockedCompareExchange64(v7, 0x200000, 0);
    if ( v8 )
      sub_1403DE750((__int64)v7, v8, 0, (__int64)"CPhysicalPlaceholder::SetGrid", (__int64)"m_pGrid->m_lockPentList", 1);
    v9 = a1 + 0xA0;
    *(_QWORD *)(*(_QWORD *)(a1 + 0xA0) + 8LL) = *(_QWORD *)(a1 + 0xA8);
    **(_QWORD **)(a1 + 0xA8) = *(_QWORD *)(a1 + 0xA0);
    *(_QWORD *)(a1 + 0xA8) = a1 + 0xA0;
    *(_QWORD *)(a1 + 0xA0) = a1 + 0xA0;
    if ( **(_QWORD **)(a1 + 0xB8) && (*(unsigned __int8 (__fastcall **)(__int64))(*(_QWORD *)a1 + 0x10LL))(a1) )
      sub_14693B3E0(*(_QWORD *)(a1 + 0xB8), a1);
    if ( v7 )
    {
      n0x200000 = _InterlockedCompareExchange64(v7, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0(v7, n0x200000);
    }
    sub_14693A450(*(_QWORD *)(a1 + 0xB8), v9, a3, a4);
  }
  result = 0;
  if ( *(_DWORD *)(a1 + 0xF4) < 7u )
    result = a2;
  *(_QWORD *)(a1 + 0xB8) = result;
  if ( result )
  {
    v12 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)a1 + 0xC8LL))(a1);
    if ( v12 )
    {
      v13 = *(__int64 **)(a1 + 0xB8);
      for ( i = *v13; *v13; i = *v13 )
      {
        if ( *(_DWORD *)(i + 0xF4) != 7 )
        {
          v15 = *(_DWORD *)(i + 0xE8);
          if ( 4 * v15 <= 0x10 && v15 >= 0 )
            break;
        }
        v13 = *(__int64 **)(i + 0xB8);
        *(_QWORD *)(a1 + 0xB8) = v13;
      }
      if ( !*v13 && (!v13 || (v16 = (_DWORD *)v13[0x37]) == 0 || *v16 != 5) )
        *(_QWORD *)(a1 + 0xB8) = v12 + 0xB40;
    }
    v17 = (volatile signed __int64 *)(*(_QWORD *)(a1 + 0xB8) + 0x1A0LL);
    v18 = _InterlockedCompareExchange64(v17, 0x200000, 0);
    if ( v18 )
      sub_1403DE750(
        (__int64)v17,
        v18,
        0,
        (__int64)"CPhysicalPlaceholder::SetGrid",
        (__int64)"m_pGrid->m_lockPentList",
        1);
    v19 = *(_QWORD *)(a1 + 0xB8) + 0x10LL;
    *(_QWORD *)(*(_QWORD *)(a1 + 0xA0) + 8LL) = *(_QWORD *)(a1 + 0xA8);
    **(_QWORD **)(a1 + 0xA8) = *(_QWORD *)(a1 + 0xA0);
    *(_QWORD *)(a1 + 0xA8) = a1 + 0xA0;
    *(_QWORD *)(a1 + 0xA0) = a1 + 0xA0;
    v20 = *(_QWORD **)(v19 + 8);
    *(_QWORD *)(v19 + 8) = a1 + 0xA0;
    *(_QWORD *)(a1 + 0xA0) = v19;
    *(_QWORD *)(a1 + 0xA8) = v20;
    *v20 = a1 + 0xA0;
    if ( **(_QWORD **)(a1 + 0xB8)
      && (*(unsigned __int8 (__fastcall **)(__int64, __int64, __int64, __int64))(*(_QWORD *)a1 + 0x10LL))(
           a1,
           v19,
           a1 + 0xA0,
           v12) )
    {
      sub_146915950(*(_QWORD *)(a1 + 0xB8), a1);
    }
    if ( v17 )
    {
      n0x200000_1 = _InterlockedCompareExchange64(v17, 0, 0x200000);
      if ( n0x200000_1 != 0x200000 )
        sub_1403DEBA0(v17, n0x200000_1);
    }
    return InterlockedIncrement_w_3(*(_QWORD *)(a1 + 0xB8));
  }
  return result;
}

// --- End Function: sub_1468E0B30 (0x1468E0B30) ---

// --- Function: sub_1468E9610 (0x1468E9610) ---
__int64 __fastcall sub_1468E9610(__int64 a1, __int128 *a2, float a3)
{
  volatile signed __int64 *v3; // r12
  signed __int64 v6; // rdx
  unsigned int v8; // ebx
  __int64 TlsIndex; // r13
  __int64 v12; // rdi
  _QWORD *ThreadLocalStoragePointer; // r8
  __int64 v14; // r14
  float v15; // xmm14_4
  float v16; // xmm15_4
  float v17; // xmm11_4
  __int64 v18; // rax
  float v19; // xmm13_4
  float v20; // xmm10_4
  float v21; // xmm9_4
  float v22; // xmm5_4
  float v23; // xmm8_4
  float v24; // xmm7_4
  float v25; // xmm4_4
  float v26; // xmm3_4
  float v27; // xmm9_4
  float v28; // xmm8_4
  float v29; // xmm10_4
  float v30; // xmm6_4
  float v31; // xmm12_4
  float v32; // xmm7_4
  float v33; // xmm5_4
  float v34; // xmm3_4
  float v35; // xmm4_4
  float v36; // xmm9_4
  float v37; // xmm11_4
  float v38; // xmm8_4
  float v39; // xmm10_4
  float v40; // xmm7_4
  float v41; // xmm3_4
  float v42; // xmm1_4
  float v43; // kr00_4
  __int64 v44; // rax
  unsigned __int64 v45; // r15
  float v47[4]; // [rsp+50h] [rbp-B8h] BYREF
  __int128 v48; // [rsp+68h] [rbp-A0h] BYREF
  double v49; // [rsp+78h] [rbp-90h]
  float v50; // [rsp+80h] [rbp-88h]
  float v51; // [rsp+84h] [rbp-84h]
  __int128 v52; // [rsp+88h] [rbp-80h]
  float v53; // [rsp+98h] [rbp-70h]
  float v54; // [rsp+9Ch] [rbp-6Ch]
  float v55; // [rsp+A0h] [rbp-68h]
  float v56; // [rsp+A4h] [rbp-64h]
  __int128 v57; // [rsp+A8h] [rbp-60h]
  float v58; // [rsp+B8h] [rbp-50h]
  float v59; // [rsp+BCh] [rbp-4Ch]
  double v60; // [rsp+C0h] [rbp-48h]
  int v62; // [rsp+D8h] [rbp-30h]
  double v63; // [rsp+E0h] [rbp-28h] BYREF
  __int128 v64; // [rsp+E8h] [rbp-20h]
  __m256 v65; // [rsp+F8h] [rbp-10h]
  float v66; // [rsp+118h] [rbp+10h]
  float v67; // [rsp+11Ch] [rbp+14h]
  float v68; // [rsp+120h] [rbp+18h]
  float v69; // [rsp+124h] [rbp+1Ch]
  __int128 v70; // [rsp+128h] [rbp+20h]
  double v72; // [rsp+148h] [rbp+40h]
  int v73; // [rsp+150h] [rbp+48h]
  _BYTE v74[16]; // [rsp+158h] [rbp+50h] BYREF
  _QWORD v75[2]; // [rsp+168h] [rbp+60h] BYREF
  float v76; // [rsp+178h] [rbp+70h]
  int n3; // [rsp+17Ch] [rbp+74h]
  int v78; // [rsp+180h] [rbp+78h]
  __int64 (__fastcall **v79)(); // [rsp+1B0h] [rbp+A8h]
  __int64 v80; // [rsp+200h] [rbp+F8h]
  _DWORD v81[18]; // [rsp+208h] [rbp+100h] BYREF
  double v82; // [rsp+250h] [rbp+148h]
  __m256 v83; // [rsp+258h] [rbp+150h]
  double v84; // [rsp+278h] [rbp+170h]
  __int16 v85; // [rsp+280h] [rbp+178h]
  char v86; // [rsp+282h] [rbp+17Ah]
  __int16 n0x101; // [rsp+283h] [rbp+17Bh]
  __int16 v88; // [rsp+285h] [rbp+17Dh]
  __int64 v89; // [rsp+288h] [rbp+180h]
  __int64 v90; // [rsp+294h] [rbp+18Ch]
  __int64 v91; // [rsp+2A0h] [rbp+198h]

  v3 = (volatile signed __int64 *)(a1 + 0xC8);
  v6 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0xC8));
  if ( (v6 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0xC8),
      v6,
      (__int64)"CPhysicalEntity::TouchesSphere",
      (__int64)"m_lockUpdate",
      1);
  v57 = 0;
  __asm { vmovupd [rsp+380h+var_328+8], xmm0 }
  v52 = xmmword_148153550;
  _XMM0 = 0;
  v8 = 0;
  __asm { vmovupd [rbp+280h+var_2C0], xmm0 }
  v70 = 0;
  v65 = ymmword_148199FE0;
  _XMM0 = 0;
  __asm { vmovupd [rbp+280h+var_250], xmm0 }
  *(float *)&v81[8] = 0.000001;
  *(float *)&v81[9] = 0.017453292;
  _XMM1 = 0;
  v83 = ymmword_148773180;
  v49 = 0.0;
  v60 = 0.0;
  v63 = 0.0;
  v72 = 0.0;
  __asm { vmovupd [rbp+280h+var_2A0], xmm1 }
  *(float *)&v81[0x11] = 1.0e10;
  v58 = 0.0;
  v59 = 0.0;
  v50 = 1.0;
  v51 = 0.0;
  v53 = 0.0;
  v54 = 0.0;
  v55 = 1.0;
  v56 = 1.0;
  v68 = 0.0;
  v69 = 0.0;
  v66 = 1.0;
  v67 = 1.0;
  *(float *)&v81[7] = 100.0;
  *(float *)&v81[0xA] = 0.0;
  *(float *)&v81[1] = 0.0;
  *(float *)&v81[2] = 0.0;
  *(float *)&v81[3] = 0.0;
  *(float *)&v81[0xE] = 0.0;
  *(float *)&v81[0xF] = 0.0;
  *(float *)&v81[0x10] = 1.0;
  *(float *)&v81[0xB] = 0.0;
  *(float *)&v81[0xC] = 0.0;
  *(float *)&v81[0xD] = 0.0;
  *(float *)&v81[4] = 0.0;
  *(float *)&v81[5] = 0.0;
  *(float *)&v81[6] = 0.0;
  v82 = 1.999999999998e12;
  v84 = 1.999999999998e12;
  v62 = 0;
  v73 = 0;
  v81[0] = 0;
  v91 = 0;
  v85 = 0;
  v88 = 0;
  v89 = 0;
  v90 = 0;
  __asm { vzeroupper }
  sub_146646860((__int64)v75);
  v78 = 1;
  _InterlockedIncrement(&dword_1513C4138);
  v80 = 1;
  v75[0] = &off_148AC9160;
  v79 = &off_148ABFD68;
  v76 = 0.0;
  v47[2] = 0.0;
  v47[1] = 0.0;
  v47[0] = 0.0;
  v47[3] = a3;
  n3 = 3;
  sub_14666AF50((__int64)v75, (__int64)v47);
  n0x101 = 0x101;
  *(_QWORD *)&_XMM1 = *((_QWORD *)a2 + 2);
  v48 = *a2;
  v49 = *(double *)&_XMM1;
  v86 = 1;
  if ( *(int *)(a1 + 0x290) > 0 )
  {
    TlsIndex = (unsigned int)::TlsIndex;
    v12 = 0;
    ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
    v14 = 0;
    do
    {
      if ( (*(_QWORD *)(v12 + *(_QWORD *)(a1 + 0x240)) & 0x4FBLL) != 0 )
      {
        v15 = *(float *)(a1 + 0x1DC);
        v16 = *(float *)(a1 + 0x1E0);
        v17 = *(float *)(a1 + 0x1D8);
        v18 = *(_QWORD *)(a1 + 0x230);
        v19 = *(float *)(a1 + 0x1E4);
        v20 = *(float *)(v18 + v14 + 0x18);
        v21 = *(float *)(v18 + v14 + 0x14);
        v22 = *(float *)(v18 + v14 + 0x10);
        v23 = (float)((float)(v20 * v15) - (float)(v21 * v16)) + (float)(v22 * v19);
        v24 = (float)((float)(v22 * v16) - (float)(v17 * v20)) + (float)(v19 * v21);
        v25 = (float)((float)(v17 * v21) - (float)(v22 * v15)) + (float)(v19 * v20);
        v26 = *(float *)(a1 + 0x200);
        v63 = (float)((float)((float)((float)(v15 * v25) - (float)(v16 * v24))
                            + (float)(v22 + (float)((float)(v15 * v25) - (float)(v16 * v24))))
                    * v26)
            + *(double *)(a1 + 0x1C0);
        *(double *)&v64 = (float)((float)((float)((float)(v16 * v23) - (float)(v17 * v25))
                                        + (float)(v21 + (float)((float)(v16 * v23) - (float)(v17 * v25))))
                                * v26)
                        + *(double *)(a1 + 0x1C8);
        *((double *)&v64 + 1) = (float)((float)((float)((float)(v17 * v24) - (float)(v15 * v23))
                                              + (float)(v20 + (float)((float)(v17 * v24) - (float)(v15 * v23))))
                                      * v26)
                              + *(double *)(a1 + 0x1D0);
        v27 = *(float *)(v18 + v14 + 4);
        v28 = *(float *)(v18 + v14);
        v29 = *(float *)(v18 + v14 + 8);
        v30 = *(float *)(v18 + v14 + 0xC);
        v31 = (float)((float)((float)(v27 * v17) - (float)(v28 * v15)) + (float)(v29 * v19)) + (float)(v30 * v16);
        v32 = (float)((float)((float)(v28 * v16) - (float)(v29 * v17)) + (float)(v27 * v19)) + (float)(v30 * v15);
        v33 = (float)((float)((float)(v29 * v15) - (float)(v27 * v16)) + (float)(v28 * v19)) + (float)(v30 * v17);
        v34 = (float)(v30 * v19) - (float)((float)((float)(v28 * v17) + (float)(v27 * v15)) + (float)(v29 * v16));
        v35 = v32 + v32;
        v36 = (float)(v33 + v33) * v34;
        v37 = 1.0 - (float)((float)(v33 + v33) * v33);
        v38 = (float)(v31 + v31) * v32;
        v39 = (float)(v32 + v32) * v32;
        v40 = (float)(v32 + v32) * v34;
        v65.m256_f32[0] = (float)(1.0 - v39) - (float)((float)(v31 + v31) * v31);
        v41 = (float)(v31 + v31) * v34;
        v65.m256_f32[2] = (float)((float)(v31 + v31) * v33) + v40;
        v65.m256_f32[3] = v41 + (float)(v35 * v33);
        v65.m256_f32[4] = v37 - (float)((float)(v31 + v31) * v31);
        v65.m256_f32[5] = v38 - v36;
        v65.m256_f32[6] = (float)((float)(v31 + v31) * v33) - v40;
        v65.m256_f32[7] = v38 + v36;
        v42 = *(float *)(a1 + 0x200);
        v65.m256_f32[1] = (float)(v35 * v33) - v41;
        v66 = v37 - v39;
        v43 = v42 * *(float *)(v18 + v14 + 0x1C);
        v44 = *(_QWORD *)(a1 + 0x238);
        v67 = v43;
        if ( (unsigned int)sub_1466919E0(
                             (__int64)v75,
                             **(_QWORD **)(v12 + v44),
                             (__int64)&v48,
                             (__int64)&v63,
                             (__int64)v81,
                             (__int64)v74,
                             *(_DWORD *)(ThreadLocalStoragePointer[TlsIndex] + 0x800LL)) )
          goto LABEL_10;
        ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
      }
      ++v8;
      v14 += 0x20;
      v12 += 8;
    }
    while ( (signed int)v8 < *(_DWORD *)(a1 + 0x290) );
  }
  v8 = 0xFFFFFFFF;
LABEL_10:
  v79 = &off_148ABF6C8;
  _InterlockedDecrement(&dword_1513C4138);
  sub_146647D40((__int64)v75);
  v45 = _InterlockedDecrement64(v3);
  if ( (v45 & 0x3FF) == 0 && (v45 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v3, v45);
  return v8;
}

// --- End Function: sub_1468E9610 (0x1468E9610) ---

// --- Function: sub_1468FA8F0 (0x1468FA8F0) ---
const char *__fastcall sub_1468FA8F0(
        int a1,
        _QWORD *a2,
        int a3,
        __int64 a4,
        const char *p_UNKNOWN_ENTITY_NAME_1,
        char a6)
{
  const char *p_LOST_ENTITY_PTR_3; // rsi
  char n2; // r15
  __int64 v8; // r13
  const char *p_LOST_ENTITY_PTR_1; // r14
  __int64 v12; // rax
  bool v13; // zf
  const char *p_UNKNOWN_ENTITY_NAME_3; // rax
  char n0x25; // cl
  const char *p_UNKNOWN_ENTITY_NAME_4; // rdx
  const char *p_[%s]_%s; // rdx
  const char *p_UNKNOWN_ENTITY_NAME_2; // r9
  const char *p_LOST_RENDER_NODE_POINTER_1; // r14
  __int64 v20; // rdi
  _QWORD *v21; // rax
  _QWORD *v22; // r12
  __int64 v23; // rdi
  __int64 (__fastcall *v24)(__int64, _QWORD); // rbx
  _QWORD *v25; // rax
  __int64 v26; // rax
  __int64 p_LOST_RENDER_NODE_POINTER; // rax
  const char *p_LOST_ENTITY_PTR; // rdi
  __int64 v29; // rbx
  _BYTE *v30; // rax
  __int64 v31; // rdx
  const char *p_UNKNOWN_ENTITY_NAME; // r8
  const char *p_LOST_ENTITY_PTR_2; // rax
  _BYTE v34[8]; // [rsp+30h] [rbp-99h] BYREF
  unsigned __int64 v35; // [rsp+38h] [rbp-91h] BYREF
  _QWORD v36[2]; // [rsp+40h] [rbp-89h] BYREF
  _QWORD v37[16]; // [rsp+50h] [rbp-79h]

  p_LOST_ENTITY_PTR_3 = p_UNKNOWN_ENTITY_NAME_1;
  n2 = 0;
  v8 = a1;
  LODWORD(v35) = 0;
  if ( !a2 && !p_UNKNOWN_ENTITY_NAME_1 )
    return "*invalid foreign data*";
  v37[0] = "NONE";
  v37[1] = "STATIC";
  v37[2] = "RIGID";
  v37[3] = "WHEELEDVEHICLE";
  v37[4] = "LIVING";
  v37[5] = "PARTICLE";
  v37[6] = "ARTICULATED";
  v37[7] = "ROPE";
  v37[8] = "SOFT";
  v37[9] = "AREA";
  v37[0xA] = "SPACESHIP";
  v37[0xB] = "ACTOR";
  v37[0xC] = "PLANET";
  v37[0xD] = "SOFT_EX";
  v37[0xE] = "HOVER";
  switch ( a3 )
  {
    case 2:
      v35 = (unsigned __int64)a2;
      if ( a6 )
      {
        if ( p_UNKNOWN_ENTITY_NAME_1 )
        {
LABEL_79:
          p_UNKNOWN_ENTITY_NAME = p_LOST_ENTITY_PTR_3;
          return (const char *)sub_1468B6690((__int64)v34, (const char *)&format_string_, p_UNKNOWN_ENTITY_NAME);
        }
        if ( is_valid_handle_typeB(&v35) )
        {
          p_LOST_ENTITY_PTR_3 = (const char *)(*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v35 & 0xFFFFFFFFFFFFLL)
                                                                                          + 0x70LL))(v35 & 0xFFFFFFFFFFFFLL);
          goto LABEL_79;
        }
LABEL_78:
        p_LOST_ENTITY_PTR_3 = "LOST ENTITY PTR";
        goto LABEL_79;
      }
      if ( is_valid_handle_typeB(&v35) )
      {
        n2 = 1;
        p_LOST_ENTITY_PTR_1 = *(const char **)(*(__int64 (__fastcall **)(unsigned __int64, _QWORD *))(*(_QWORD *)(v35 & 0xFFFFFFFFFFFFLL) + 0x78LL))(
                                                v35 & 0xFFFFFFFFFFFFLL,
                                                v36);
      }
      else
      {
        p_LOST_ENTITY_PTR_1 = "LOST ENTITY PTR";
      }
      if ( !p_UNKNOWN_ENTITY_NAME_1 )
      {
        if ( is_valid_handle_typeB(&v35) )
          p_LOST_ENTITY_PTR_3 = (const char *)(*(__int64 (__fastcall **)(unsigned __int64))(*(_QWORD *)(v35 & 0xFFFFFFFFFFFFLL)
                                                                                          + 0x70LL))(v35 & 0xFFFFFFFFFFFFLL);
        else
          p_LOST_ENTITY_PTR_3 = "LOST ENTITY PTR";
      }
      v12 = sub_1468B6690(
              (__int64)v34,
              "[%s] %s (CEntity: %s)",
              (const char *)v37[v8],
              p_LOST_ENTITY_PTR_3,
              p_LOST_ENTITY_PTR_1);
      v13 = (n2 & 1) == 0;
      goto LABEL_55;
    case 1:
      if ( p_UNKNOWN_ENTITY_NAME_1 )
        p_UNKNOWN_ENTITY_NAME_3 = p_UNKNOWN_ENTITY_NAME_1;
      else
        p_UNKNOWN_ENTITY_NAME_3 = (const char *)(*(__int64 (__fastcall **)(_QWORD *))(*a2 + 0x28LL))(a2);
      while ( 1 )
      {
        n0x25 = *p_UNKNOWN_ENTITY_NAME_3;
        p_UNKNOWN_ENTITY_NAME_4 = p_UNKNOWN_ENTITY_NAME_3;
        if ( !*p_UNKNOWN_ENTITY_NAME_3 )
          break;
        while ( n0x25 != 0x25 )
        {
          n0x25 = *++p_UNKNOWN_ENTITY_NAME_4;
          if ( !n0x25 )
            goto LABEL_24;
        }
        p_UNKNOWN_ENTITY_NAME_3 = p_UNKNOWN_ENTITY_NAME_4;
        do
        {
          if ( n0x25 == 0x5C )
            break;
          n0x25 = *++p_UNKNOWN_ENTITY_NAME_3;
        }
        while ( n0x25 );
      }
LABEL_24:
      if ( a6 )
        goto LABEL_25;
      p_[%s]_%s = "[%s] %s (CBrush)";
      if ( p_UNKNOWN_ENTITY_NAME_1 )
        p_UNKNOWN_ENTITY_NAME_3 = p_UNKNOWN_ENTITY_NAME_1;
      p_UNKNOWN_ENTITY_NAME_2 = p_UNKNOWN_ENTITY_NAME_3;
      return (const char *)sub_1468B6690((__int64)v34, p_[%s]_%s, v37[v8], p_UNKNOWN_ENTITY_NAME_2);
    case 3:
      if ( !a6 )
      {
        p_[%s]_%s = "[%s] %s (*foliage rope*)";
        goto LABEL_93;
      }
      goto LABEL_90;
    case 4:
      p_LOST_RENDER_NODE_POINTER_1 = 0;
      v36[0] = a2;
      v20 = 0;
      v21 = (_QWORD *)sub_1407E55B0(v36);
      v22 = v21;
      if ( v21 )
      {
        v23 = qword_149A14290;
        v24 = *(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149A14290 + 0x118LL);
        v25 = (_QWORD *)(*(__int64 (__fastcall **)(_QWORD, unsigned __int64 *))(*(_QWORD *)*v21 + 0x208LL))(*v21, &v35);
        v26 = v24(v23, *v25);
        v20 = v26;
        if ( v26 )
          p_LOST_RENDER_NODE_POINTER = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v26 + 0x70LL))(v26);
        else
          p_LOST_RENDER_NODE_POINTER = (*(__int64 (__fastcall **)(_QWORD))(*(_QWORD *)*v22 + 0x28LL))(*v22);
        p_LOST_RENDER_NODE_POINTER_1 = (const char *)p_LOST_RENDER_NODE_POINTER;
      }
      if ( a6 )
      {
        if ( !p_UNKNOWN_ENTITY_NAME_1 )
        {
          p_LOST_ENTITY_PTR_3 = "LOST RENDER NODE POINTER";
          if ( p_LOST_RENDER_NODE_POINTER_1 )
            p_LOST_ENTITY_PTR_3 = p_LOST_RENDER_NODE_POINTER_1;
        }
        goto LABEL_79;
      }
      if ( v20 )
      {
        n2 = 2;
        p_LOST_ENTITY_PTR = *(const char **)(*(__int64 (__fastcall **)(__int64, _QWORD *))(*(_QWORD *)v20 + 0x78LL))(
                                              v20,
                                              v36);
      }
      else
      {
        p_LOST_ENTITY_PTR = "LOST ENTITY PTR";
      }
      if ( !p_UNKNOWN_ENTITY_NAME_1 )
      {
        p_LOST_ENTITY_PTR_3 = "LOST RENDER NODE PTR";
        if ( p_LOST_RENDER_NODE_POINTER_1 )
          p_LOST_ENTITY_PTR_3 = p_LOST_RENDER_NODE_POINTER_1;
      }
      v12 = sub_1468B6690(
              (__int64)v34,
              "[%s] %s (Rope; CEntity: %s)",
              (const char *)v37[v8],
              p_LOST_ENTITY_PTR_3,
              p_LOST_ENTITY_PTR);
      v13 = (n2 & 2) == 0;
LABEL_55:
      v29 = v12;
      if ( !v13 )
        sub_1403727A0(v36);
      return (const char *)v29;
    case 0xB:
      v30 = (_BYTE *)(*(__int64 (__fastcall **)(_QWORD *))(*a2 + 0x358LL))(a2);
      v31 = *a2;
      if ( *v30 )
        p_UNKNOWN_ENTITY_NAME_3 = (const char *)(*(__int64 (__fastcall **)(_QWORD *))(v31 + 0x358))(a2);
      else
        p_UNKNOWN_ENTITY_NAME_3 = (const char *)(*(__int64 (__fastcall **)(_QWORD *))(v31 + 0x28))(a2);
      if ( a6 )
      {
LABEL_25:
        if ( p_UNKNOWN_ENTITY_NAME_1 )
          p_UNKNOWN_ENTITY_NAME_3 = p_UNKNOWN_ENTITY_NAME_1;
        return (const char *)sub_1468B6690((__int64)v34, (const char *)&format_string_, p_UNKNOWN_ENTITY_NAME_3);
      }
      p_[%s]_%s = "[%s] %s (Rigid Particle)";
      if ( p_UNKNOWN_ENTITY_NAME_1 )
        p_UNKNOWN_ENTITY_NAME_3 = p_UNKNOWN_ENTITY_NAME_1;
      p_UNKNOWN_ENTITY_NAME_2 = p_UNKNOWN_ENTITY_NAME_3;
      return (const char *)sub_1468B6690((__int64)v34, p_[%s]_%s, v37[v8], p_UNKNOWN_ENTITY_NAME_2);
    case 8:
      if ( a6 )
      {
        p_UNKNOWN_ENTITY_NAME = "UNKNOWN ENTITY NAME";
        if ( p_UNKNOWN_ENTITY_NAME_1 )
          p_UNKNOWN_ENTITY_NAME = p_UNKNOWN_ENTITY_NAME_1;
        return (const char *)sub_1468B6690((__int64)v34, (const char *)&format_string_, p_UNKNOWN_ENTITY_NAME);
      }
      if ( !p_UNKNOWN_ENTITY_NAME_1 )
        p_LOST_ENTITY_PTR_3 = (const char *)(*(__int64 (__fastcall **)(_QWORD *))(*a2 + 0x28LL))(a2);
      return (const char *)sub_1468B6690((__int64)v34, "[%s] %s (Water Volume)", v37[v8], p_LOST_ENTITY_PTR_3);
    case 0x14:
      if ( a6 )
      {
        if ( p_UNKNOWN_ENTITY_NAME_1 )
          goto LABEL_79;
        if ( a2 )
        {
          p_LOST_ENTITY_PTR_3 = (const char *)a2[0x1A];
          goto LABEL_79;
        }
        goto LABEL_78;
      }
      if ( a2 )
        p_LOST_ENTITY_PTR_2 = (const char *)a2[0x1A];
      else
        p_LOST_ENTITY_PTR_2 = "LOST ENTITY PTR";
      if ( !p_UNKNOWN_ENTITY_NAME_1 )
      {
        if ( a2 )
          p_LOST_ENTITY_PTR_3 = (const char *)a2[0x1A];
        else
          p_LOST_ENTITY_PTR_3 = "LOST ENTITY PTR";
      }
      return (const char *)sub_1468B6690(
                             (__int64)v34,
                             "[%s] %s (Quantum Obstacle; Shadowed Phys Entity %s)",
                             (const char *)v37[a1],
                             p_LOST_ENTITY_PTR_3,
                             p_LOST_ENTITY_PTR_2);
    default:
      if ( !a6 )
      {
        p_[%s]_%s = "[%s] %s";
LABEL_93:
        p_UNKNOWN_ENTITY_NAME_2 = "UNKNOWN ENTITY NAME";
        if ( p_UNKNOWN_ENTITY_NAME_1 )
          p_UNKNOWN_ENTITY_NAME_2 = p_UNKNOWN_ENTITY_NAME_1;
        return (const char *)sub_1468B6690((__int64)v34, p_[%s]_%s, v37[v8], p_UNKNOWN_ENTITY_NAME_2);
      }
LABEL_90:
      p_UNKNOWN_ENTITY_NAME = "UNKNOWN ENTITY NAME";
      if ( p_UNKNOWN_ENTITY_NAME_1 )
        p_UNKNOWN_ENTITY_NAME = p_UNKNOWN_ENTITY_NAME_1;
      return (const char *)sub_1468B6690((__int64)v34, (const char *)&format_string_, p_UNKNOWN_ENTITY_NAME);
  }
}

// --- End Function: sub_1468FA8F0 (0x1468FA8F0) ---

// --- Function: sub_1468FB910 (0x1468FB910) ---
void __fastcall sub_1468FB910(__int64 *a1, __int64 a2, char a3)
{
  int v5; // xmm0_4
  int v6; // r12d
  __int64 v7; // rbp
  __int64 v8; // r15
  unsigned int v9; // r14d
  __int64 v10; // rdi
  __int64 v11; // r8
  int value_by_id; // eax
  __int64 v13; // rdx
  float v14; // xmm0_4
  int v15; // edx
  __int64 v16; // rax
  float v17; // xmm9_4
  float v18; // xmm4_4
  __int64 v19; // rcx
  float *v20; // rax
  float v21; // xmm10_4
  float v22; // xmm7_4
  float v23; // xmm11_4
  float v24; // xmm6_4
  float v25; // xmm5_4
  float v26; // xmm8_4
  float v27; // xmm1_4
  float v28; // xmm9_4
  __int128 v29; // kr00_16
  __int128 v30; // xmm12
  float v31; // xmm0_4
  float v32; // xmm6_4
  float v33; // xmm5_4
  float v34; // xmm14_4
  float v35; // xmm11_4
  float v36; // xmm10_4
  float v37; // xmm7_4
  float v38; // xmm0_4
  float v39; // xmm8_4
  __int128 v40; // kr00_16
  float v41; // xmm6_4
  float v43; // xmm4_4
  float v45; // xmm4_4
  float v46; // xmm6_4
  float v47; // xmm7_4
  unsigned __int128 v48; // kr00_16
  unsigned __int128 v49; // xmm9
  unsigned __int128 v50; // kr00_16
  unsigned __int128 v51; // xmm8
  unsigned __int128 v52; // kr00_16
  unsigned __int128 v53; // xmm1
  __int128 v55; // kr00_16
  unsigned __int128 v56; // kr00_16
  __int128 v57; // xmm1
  unsigned __int128 v58; // xmm7
  __int128 v60; // kr00_16
  unsigned __int128 v66; // kr00_16
  unsigned __int128 v68; // kr00_16
  unsigned __int128 v70; // kr00_16
  int n0x2800; // [rsp+30h] [rbp-118h] BYREF
  __int64 v75; // [rsp+34h] [rbp-114h]
  int v76; // [rsp+3Ch] [rbp-10Ch]
  __int64 v77; // [rsp+40h] [rbp-108h]
  unsigned __int64 v78; // [rsp+48h] [rbp-100h]
  __int64 v79; // [rsp+50h] [rbp-F8h]
  __int64 v80; // [rsp+58h] [rbp-F0h]
  float v81; // [rsp+150h] [rbp+8h]

  if ( !*((_BYTE *)a1 + 0x60) && !a3 )
    return;
  v75 = 0;
  v76 = 0;
  v78 = 0;
  v79 = 0;
  v80 = 0;
  n0x2800 = 0x2800;
  v77 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  *((_BYTE *)a1 + 0x60) = 0;
  *((_DWORD *)a1 + 6) = 0x7F7FFFFF;
  *((_DWORD *)a1 + 7) = 0x7F7FFFFF;
  *((_DWORD *)a1 + 8) = 0x7F7FFFFF;
  *((_DWORD *)a1 + 9) = 0xFF7FFFFF;
  *((_DWORD *)a1 + 0xA) = 0xFF7FFFFF;
  *((_DWORD *)a1 + 0xB) = 0xFF7FFFFF;
  v5 = *((_DWORD *)a1 + 0x15);
  v6 = *((_DWORD *)a1 + 0x16);
  a1[9] = 0;
  v7 = *a1;
  v8 = a1[1];
  v9 = v5 & 0xFFA00000;
  if ( *a1 != v8 )
  {
    ++*((_DWORD *)a1 + 0x17);
    v10 = v7 + 0x5C;
    while ( 1 )
    {
      v11 = *(int *)(v10 + 0x14);
      if ( (int)v11 < *(_DWORD *)(a2 + 0x290)
        && *(_DWORD *)(*(_QWORD *)(a2 + 0x250) + 4 * v11) == *(_DWORD *)(v10 + 0x10) )
      {
        goto LABEL_11;
      }
      value_by_id = map_get_value_by_id(*(_QWORD *)(a2 + 0x2A0), *(_DWORD *)(v10 + 0x10), 0);
      LODWORD(v11) = value_by_id;
      if ( value_by_id < *(_DWORD *)(a2 + 0x290) )
        break;
      __debugbreak();
LABEL_18:
      v7 += 0x78;
      v10 += 0x78;
      if ( v7 == v8 )
        goto LABEL_19;
    }
    *(_DWORD *)(v10 + 0x14) = value_by_id;
LABEL_11:
    v13 = a1[8] | a1[7] & *(_QWORD *)(*(_QWORD *)(a2 + 0x240) + 8LL * (int)v11);
    *(_QWORD *)(v10 - 0x54) = v13;
    a1[9] |= v13;
    if ( v9 == 0xFFA00000 )
      v14 = *(float *)(*(_QWORD *)(a2 + 0x258) + 0x18LL * *(int *)(v10 + 0x14) + 0x10);
    else
      v14 = *((float *)a1 + 0x15);
    v81 = v14;
    *(float *)(v10 + 8) = v14;
    if ( v6 == 0x80000000 )
      v15 = (int)(*(_DWORD *)(*(_QWORD *)(a2 + 0x270) + 0x18LL * *(int *)(v10 + 0x14) + 0x10) << 0xE) >> 0x16;
    else
      v15 = *((_DWORD *)a1 + 0x16);
    v16 = *(int *)(v10 + 0x14);
    *(_DWORD *)(v10 + 0xC) = v15;
    v17 = *(float *)(v10 + 4);
    v18 = *(float *)(v10 - 4);
    v19 = *(_QWORD *)(a2 + 0x260) + (v16 << 6);
    v20 = (float *)(*(_QWORD *)(a2 + 0x230) + 0x20 * v16);
    v21 = v20[1];
    v22 = v20[3];
    v23 = v20[2];
    v24 = (float)((float)(v21 * v17) - (float)(*(float *)v10 * v23)) + (float)(v22 * v18);
    v25 = (float)((float)(v23 * v18) - (float)(*v20 * v17)) + (float)(*(float *)v10 * v22);
    v26 = *(float *)(v10 - 0x10);
    v27 = v22 * v17;
    v28 = *(float *)(v10 - 0xC);
    v29 = LODWORD(v21);
    *(float *)&v29 = (float)(v21 * (float)((float)((float)(*(float *)v10 * *v20) - (float)(v21 * v18)) + v27))
                   - (float)(v23 * v25);
    v30 = v29;
    v31 = v21 * v24;
    v32 = *(float *)(v10 - 0x14);
    *(float *)&v29 = *v20 * v25;
    v33 = *(float *)(v10 - 8);
    v34 = *(float *)&v29 - v31;
    v35 = (float)((float)((float)(v21 * v28) - (float)(v23 * v26)) + (float)(v22 * v32)) + (float)(*v20 * v33);
    v36 = (float)((float)((float)(v32 * v20[2]) - (float)(*v20 * v28)) + (float)(v22 * v26)) + (float)(v21 * v33);
    v37 = (float)((float)((float)(*v20 * v26) - (float)(v32 * v20[1])) + (float)(v22 * v28)) + (float)(v33 * v20[2]);
    v38 = v26 * v20[1];
    v39 = v20[7];
    v40 = v30;
    v41 = (float)((float)((float)(v33 * v20[3]) - (float)(*v20 * v32)) - v38) - (float)(v28 * v20[2]);
    *(float *)&v40 = (float)((float)((float)(*(float *)&v30 + v18) + *(float *)&v30) * v39) + v20[4];
    _XMM5 = v40;
    v43 = (float)((float)((float)(v34 + *(float *)(v10 + 4)) + v34) * v39) + v20[6];
    *(float *)(v10 - 0x34) = v35;
    *(float *)(v10 - 0x30) = v36;
    *(float *)(v10 - 0x2C) = v37;
    *(float *)(v10 - 0x28) = v41;
    *(float *)(v10 - 0x18) = v39;
    __asm { vunpcklps xmm0, xmm5, xmm3 }
    *(double *)(v10 - 0x24) = *(double *)&_XMM0;
    *(float *)(v10 - 0x1C) = v43;
    LODWORD(_XMM5) = *(_DWORD *)(v19 + 0x38);
    v45 = *(float *)(v19 + 0x34);
    v46 = *(float *)(v19 + 0x3C);
    v47 = *(float *)(a2 + 0x200);
    v48 = *(unsigned int *)(v19 + 0xC) & (unsigned __int128)0x7FFFFFFFu;
    *(float *)&v48 = (float)((float)((float)((float)(COERCE_FLOAT(*(_DWORD *)(v19 + 0xC) & 0x7FFFFFFF) * *(float *)&_XMM5)
                                           + (float)(COERCE_FLOAT(*(_DWORD *)v19 & 0x7FFFFFFF) * v45))
                                   + (float)(COERCE_FLOAT(*(_DWORD *)(v19 + 0x18) & 0x7FFFFFFF) * v46))
                           * v47)
                   + v81;
    v49 = v48;
    v50 = *(unsigned int *)(v19 + 4) & (unsigned __int128)0x7FFFFFFFu;
    *(float *)&v50 = (float)((float)((float)((float)(COERCE_FLOAT(*(_DWORD *)(v19 + 4) & 0x7FFFFFFF) * v45)
                                           + (float)(COERCE_FLOAT(*(_DWORD *)(v19 + 0x10) & 0x7FFFFFFF)
                                                   * *(float *)&_XMM5))
                                   + (float)(COERCE_FLOAT(*(_DWORD *)(v19 + 0x1C) & 0x7FFFFFFF) * v46))
                           * v47)
                   + v81;
    v51 = v50;
    v52 = *(unsigned int *)(v19 + 8) & (unsigned __int128)0x7FFFFFFFu;
    *(float *)&v52 = (float)((float)(COERCE_FLOAT(*(_DWORD *)(v19 + 8) & 0x7FFFFFFF) * v45)
                           + (float)(COERCE_FLOAT(*(_DWORD *)(v19 + 0x14) & 0x7FFFFFFF) * *(float *)&_XMM5))
                   + (float)(COERCE_FLOAT(*(_DWORD *)(v19 + 0x20) & 0x7FFFFFFF) * v46);
    v53 = v52;
    v55 = *(unsigned int *)(v19 + 0x2C);
    *(float *)&v55 = *(float *)(v19 + 0x2C) - *(float *)&v51;
    _XMM6 = v55;
    v56 = v53;
    *(float *)&v56 = *(float *)&v53 * v47;
    v57 = *(unsigned int *)(v19 + 0x30);
    *(float *)(v10 - 0x4C) = *(float *)(v19 + 0x28) - *(float *)&v49;
    *(float *)(v10 - 0x48) = *(float *)&_XMM6;
    *(float *)&v56 = *(float *)&v56 + v81;
    v58 = v56;
    v60 = v57;
    *(float *)&v60 = *(float *)&v57 - *(float *)&v58;
    _XMM5 = v60;
    *(float *)(v10 - 0x44) = *(float *)&v57 - *(float *)&v58;
    _XMM0 = *((unsigned int *)a1 + 6);
    __asm { vminss  xmm1, xmm0, xmm4 }
    *((float *)a1 + 6) = *(float *)&_XMM1;
    __asm { vminss  xmm2, xmm6, dword ptr [rbx+1Ch] }
    *((float *)a1 + 7) = *(float *)&_XMM2;
    __asm { vminss  xmm0, xmm5, dword ptr [rbx+20h] }
    *((float *)a1 + 8) = *(float *)&_XMM0;
    v66 = v49;
    *(float *)&v66 = *(float *)&v49 + *(float *)(v19 + 0x28);
    _XMM0 = v66;
    v68 = v51;
    *(float *)&v68 = *(float *)&v51 + *(float *)(v19 + 0x2C);
    _XMM3 = v68;
    v70 = v58;
    *(float *)&v70 = *(float *)&v58 + *(float *)(v19 + 0x30);
    _XMM4 = v70;
    *(float *)(v10 - 0x40) = *(float *)&_XMM0;
    *(float *)(v10 - 0x3C) = *(float *)&_XMM3;
    *(float *)(v10 - 0x38) = *(float *)&v70;
    __asm { vmaxss  xmm0, xmm0, dword ptr [rbx+24h] }
    *((float *)a1 + 9) = *(float *)&_XMM0;
    __asm { vmaxss  xmm1, xmm3, dword ptr [rbx+28h] }
    *((float *)a1 + 0xA) = *(float *)&_XMM1;
    __asm { vmaxss  xmm0, xmm4, dword ptr [rbx+2Ch] }
    *((float *)a1 + 0xB) = *(float *)&_XMM0;
    goto LABEL_18;
  }
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
LABEL_19:
  v78 = __rdtsc();
  qword_149A0FD88(&n0x2800);
}

// --- End Function: sub_1468FB910 (0x1468FB910) ---

// --- Function: _InterlockedIncrement_w_3 (0x146915910) ---
__int64 __fastcall sub_146915910(__int64 a1)
{
  return (unsigned int)_InterlockedIncrement((volatile signed __int32 *)(a1 + 0x1A8));
}

// --- End Function: _InterlockedIncrement_w_3 (0x146915910) ---

// --- Function: sub_14691FB20 (0x14691FB20) ---
__int64 __fastcall sub_14691FB20(__int64 a1, __int64 a2)
{
  __int64 result; // rax

  result = a2;
  if ( *(_DWORD *)(a2 + 0x88) != 0xFFFFFFFF )
    return sub_1466292D0(*(_QWORD *)(*(_QWORD *)(a2 + 0xB8) + 0x1B8LL), a2 + 0x40);
  return result;
}

// --- End Function: sub_14691FB20 (0x14691FB20) ---

// --- Function: sub_146921CE0 (0x146921CE0) ---
void __fastcall sub_146921CE0(__int64 a1, __int64 a2)
{
  LARGE_INTEGER v4; // rbp
  __int64 v5; // rax
  _QWORD *v6; // r9
  _QWORD *v7; // r8
  _QWORD *v8; // r10
  _QWORD *v9; // r11
  _QWORD *v10; // rdx
  unsigned __int64 n0x200000; // rax
  __int64 QuadPart; // rbx
  const char *v13; // rax
  _BYTE v14[16]; // [rsp+30h] [rbp-78h] BYREF
  int n0x2800; // [rsp+40h] [rbp-68h] BYREF
  __int64 v16; // [rsp+44h] [rbp-64h]
  int v17; // [rsp+4Ch] [rbp-5Ch]
  __int64 v18; // [rsp+50h] [rbp-58h]
  unsigned __int64 v19; // [rsp+58h] [rbp-50h]
  __int64 v20; // [rsp+60h] [rbp-48h]
  __int64 v21; // [rsp+68h] [rbp-40h]

  n0x2800 = 0x2800;
  v16 = 0;
  v17 = 0;
  v19 = 0;
  v20 = 0;
  v21 = 0;
  v4 = sub_1403E4CF0();
  v18 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  v5 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x87308), 0x200000, 0);
  if ( v5 )
    sub_1403DE750(a1 + 0x87308, v5, 0, (__int64)"CPhysicalWorld::EraseSpawnBoxFor", (__int64)"m_spawn_box_lock", 1);
  v6 = *(_QWORD **)(a1 + 0x87318);
  v7 = *(_QWORD **)(a1 + 0x87310);
  if ( v7 != v6 )
  {
    do
    {
      if ( *v7 == a2 )
        break;
      v7 += 0xA;
    }
    while ( v7 != v6 );
    if ( v7 != v6 )
    {
      v8 = v7 + 0xA;
      if ( v7 + 0xA != v6 )
      {
        v9 = v7 + 6;
        v10 = v7 + 0x10;
        do
        {
          if ( *v8 != a2 )
          {
            *v7 = *v8;
            v7 += 0xA;
            v9[0xFFFFFFFB] = v10[0xFFFFFFFB];
            *((_OWORD *)v9 + 0xFFFFFFFE) = *((_OWORD *)v10 + 0xFFFFFFFE);
            *((double *)v9 + 0xFFFFFFFE) = *((double *)v10 + 0xFFFFFFFE);
            *((_DWORD *)v9 + 0xFFFFFFFE) = *((_DWORD *)v10 + 0xFFFFFFFE);
            *((_DWORD *)v9 + 0xFFFFFFFF) = *((_DWORD *)v10 + 0xFFFFFFFF);
            *(_DWORD *)v9 = *(_DWORD *)v10;
            *((_DWORD *)v9 + 1) = *((_DWORD *)v10 + 1);
            *((double *)v9 + 1) = *((double *)v10 + 1);
            *((_DWORD *)v9 + 4) = *((_DWORD *)v10 + 4);
            *((_DWORD *)v9 + 5) = *((_DWORD *)v10 + 5);
            *((_DWORD *)v9 + 6) = *((_DWORD *)v10 + 6);
            v9 += 0xA;
          }
          v8 += 0xA;
          v10 += 0xA;
        }
        while ( v8 != v6 );
      }
    }
  }
  sub_1469559F0(a1 + 0x87310, v14);
  if ( a1 != 0xFFFFFFFFFFF78CF8uLL )
  {
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x87308), 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x87308), n0x200000);
  }
  v19 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  QuadPart = sub_1403E4CF0().QuadPart;
  sub_1466184B0((__int64)qword_14A043B40, 0x1E, QuadPart - v4.QuadPart);
  v13 = sub_140524700(0x1E);
  sub_146618270((__int64)qword_14A043B40, (__int64)v13, v4.QuadPart, QuadPart);
}

// --- End Function: sub_146921CE0 (0x146921CE0) ---

// --- Function: sub_1469222F0 (0x1469222F0) ---
__int64 __fastcall sub_1469222F0(__int64 a1, _QWORD *a2)
{
  volatile signed __int64 *v3; // rbx
  __int64 result; // rax

  v3 = (volatile signed __int64 *)(a1 + 0x83480);
  _InterlockedDecrement((volatile signed __int32 *)(a1 + 0x83474));
  sub_14660EC20((_QWORD *)(a1 + 0x83590), 0, (__int64)a2, (volatile signed __int64 *)(a1 + 0x835D0));
  memset(a2, 0xFF, 0x108u);
  result = sub_1403E4BC0(&v3[2 * (((unsigned __int8)_InterlockedExchangeAdd64(v3 + 0x27, 1u) + 1) & 0xF) + 2], a2);
  _InterlockedDecrement64(v3 + 0x25);
  _InterlockedIncrement64(v3 + 0x26);
  return result;
}

// --- End Function: sub_1469222F0 (0x1469222F0) ---

// --- Function: sub_146922A80 (0x146922A80) ---
__int64 __fastcall sub_146922A80(
        __int64 a1,
        double *a2,
        double *a3,
        __int64 a4,
        int a5,
        __int64 a6,
        int a7,
        __int64 a8,
        __int64 a9)
{
  double v9; // xmm1_8
  int v12; // r14d
  __int128 v13; // xmm0
  double v14; // xmm1_8
  __int64 v15; // rdi
  double v17; // xmm1_8
  __int128 v18; // xmm0
  double v19; // xmm1_8
  const char *p_Unknown; // rax
  signed __int64 v21; // rbx
  unsigned int v22; // ebx
  __int64 v23; // rdx
  __int64 v24; // r8
  __int64 v25; // r9
  const char *v27; // [rsp+88h] [rbp-2C0h]
  __int128 v29; // [rsp+98h] [rbp-2B0h] BYREF
  double v30; // [rsp+A8h] [rbp-2A0h]
  __int128 v31; // [rsp+B0h] [rbp-298h] BYREF
  double v32; // [rsp+C0h] [rbp-288h]
  __int128 v33; // [rsp+C8h] [rbp-280h] BYREF
  double v34; // [rsp+D8h] [rbp-270h]
  __int128 v35; // [rsp+E0h] [rbp-268h]
  double v36; // [rsp+F0h] [rbp-258h]
  wchar_t Source_[256]; // [rsp+100h] [rbp-248h] BYREF

  v9 = a2[2];
  v12 = 0;
  v31 = *(_OWORD *)a2;
  v13 = *(_OWORD *)a3;
  v32 = v9;
  v14 = a3[2];
  v29 = v13;
  v30 = v14;
  v27 = sub_1465FEB70();
  v15 = a8;
  if ( !a8 )
    v15 = a1 + 0xB40;
  if ( a6 )
  {
    v12 = (((*(_DWORD *)(a6 + 0x208) & 0x8000) - 1) >> 0x1F) & (1 << *(_DWORD *)(a6 + 0xF4));
    if ( a8 )
    {
      v15 = a8;
      goto LABEL_9;
    }
    v15 = *(_QWORD *)(a6 + 0xB8);
  }
  if ( !v15 )
    __debugbreak();
LABEL_9:
  if ( *(_QWORD *)(v15 + 0x1B8) )
  {
    _InterlockedIncrement((volatile signed __int32 *)(v15 + 0x1A8));
    if ( (a5 & 0x100) != 0 && **(_DWORD **)(v15 + 0x1B8) == 1 )
    {
      LOBYTE(Source_[0]) = 0;
      v17 = a2[2];
      v33 = *(_OWORD *)a2;
      v18 = *(_OWORD *)a3;
      v34 = v17;
      v19 = a3[2];
      v35 = v18;
      v36 = v19;
      if ( a6 )
        p_Unknown = (const char *)(*(__int64 (__fastcall **)(__int64, __int64))(*(_QWORD *)a6 + 0x118LL))(a6, 1);
      else
        p_Unknown = "Unknown";
      swprintf(Source_, 0x200u, "%s - %s", p_Unknown, "CPhysicalWorld::GetEntitiesAround");
      sub_14683D6C0(*(_QWORD *)v15, (__int64)&v33, (char *)Source_, 1);
    }
    v21 = _InterlockedIncrement64((volatile signed __int64 *)(v15 + 0x198));
    if ( (v21 & 0x200000) != 0 )
      sub_1403CD0A0((volatile signed __int64 *)(v15 + 0x198), v21, (__int64)&Source, (__int64)&Source, 1);
    v22 = sub_14694A960(
            a1,
            (unsigned int)&v31,
            (unsigned int)&v29,
            a5,
            v12,
            a7,
            a6,
            v15,
            a4,
            0,
            v15 + 0x198,
            (__int64)v27,
            a9);
    sub_14693A450(v15, v23, v24, v25);
    return v22;
  }
  else
  {
    LogTraceConditional("calling GetEntitiesAround on an uninitialized grid - skipping");
    if ( *(_DWORD *)(a1 + 0x234) )
      __debugbreak();
    return 0;
  }
}

// --- End Function: sub_146922A80 (0x146922A80) ---

// --- Function: sub_146924B00 (0x146924B00) ---
__int64 *__fastcall sub_146924B00(__int64 a1, int a2)
{
  unsigned __int64 v2; // rbx
  volatile signed __int64 *v3; // rdi
  signed __int64 v5; // rdx
  __int64 *v6; // rbx
  unsigned __int16 v7; // cx
  __int64 v8; // rbx
  unsigned __int64 v9; // rdx

  v2 = a2;
  v3 = (volatile signed __int64 *)(a1 + 0x84A10);
  v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x84A10));
  if ( (v5 & 0x200000) != 0 )
    sub_1403CD0A0(v3, v5, (__int64)"CPhysicalWorld::GetPhysicalEntityById", (__int64)"m_lockEntIdList", 1);
  if ( (_DWORD)v2 == 0xFFFFFFFE )
  {
    v6 = &qword_15145C180;
  }
  else if ( (v2 & 0x80000000) == 0LL && (v7 = v2, (v8 = *(_QWORD *)(a1 + 8 * (v2 >> 0x10) + 0xD60)) != 0) )
  {
    v6 = *(__int64 **)(v8 + 8LL * v7);
  }
  else
  {
    v6 = 0;
  }
  v9 = _InterlockedDecrement64(v3);
  if ( (v9 & 0x3FF) == 0 && (v9 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v3, v9);
  return v6;
}

// --- End Function: sub_146924B00 (0x146924B00) ---

// --- Function: sub_146924BE0 (0x146924BE0) ---
__int64 __fastcall sub_146924BE0(__int64 a1, __int64 a2)
{
  if ( a2 == 0xFFFFFFFFFFFFFFF6uLL )
    return 0xFFFFFFFELL;
  if ( a2 )
    return *(unsigned int *)(a2 + 0xF0);
  return 0xFFFFFFFFLL;
}

// --- End Function: sub_146924BE0 (0x146924BE0) ---

// --- Function: sub_146924C70 (0x146924C70) ---
__int64 __fastcall sub_146924C70(__int64 a1, __int64 a2)
{
  volatile signed __int64 *v5; // rdi
  signed __int64 v6; // rdx
  _QWORD *i; // rdx
  _DWORD *v8; // rax
  _QWORD *v9; // r11
  _QWORD *v10; // rcx
  unsigned __int64 v11; // r8
  __int64 v12; // rbx
  unsigned __int64 v13; // r10

  if ( !a2 )
    return 0;
  if ( *(_WORD *)(a2 + 0xEC) == 0x14 )
    return *(_QWORD *)(a2 + 0xB8);
  v5 = (volatile signed __int64 *)(a1 + 0x84BB0);
  v6 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x84BB0));
  if ( (v6 & 0x200000) != 0 )
    sub_1403CD0A0(
      (volatile signed __int64 *)(a1 + 0x84BB0),
      v6,
      (__int64)"CPhysicalWorld::GetQuantumGridForEntity",
      (__int64)"m_lockQuantumGridMap",
      1);
  for ( i = *(_QWORD **)(a2 + 0xB8); i; i = *(_QWORD **)(*i + 0xB8LL) )
  {
    v8 = (_DWORD *)i[0x37];
    if ( v8 && *v8 == 5 )
      break;
  }
  v9 = *(_QWORD **)(a1 + 0xD48);
  v10 = *(_QWORD **)(a1 + 0xD40);
  if ( !i )
    i = (_QWORD *)(a1 + 0xB40);
  v11 = (__int64)(*(_QWORD *)(a1 + 0xD48) - (_QWORD)v10) >> 4;
  while ( v11 )
  {
    if ( v10[2 * (v11 >> 1)] >= (unsigned __int64)i )
    {
      v11 >>= 1;
    }
    else
    {
      v10 += 2 * (v11 >> 1) + 2;
      v11 += 0xFFFFFFFFFFFFFFFFuLL - (v11 >> 1);
    }
  }
  if ( v10 == v9 )
    goto LABEL_22;
  if ( (unsigned __int64)i < *v10 )
    v10 = *(_QWORD **)(a1 + 0xD48);
  if ( v10 == v9 )
LABEL_22:
    v12 = 0;
  else
    v12 = v10[1];
  v13 = _InterlockedDecrement64(v5);
  if ( (v13 & 0x3FF) == 0 && (v13 & 0xFFFF0000FFC00000uLL) != 0 )
    sub_1403CD3A0(v5, v13);
  return v12;
}

// --- End Function: sub_146924C70 (0x146924C70) ---

// --- Function: sub_146926410 (0x146926410) ---
_QWORD *__fastcall sub_146926410(__int64 a1, __int64 a2)
{
  _QWORD *result; // rax
  _DWORD *v3; // rdx

  for ( result = *(_QWORD **)(a2 + 0xB8); result; result = *(_QWORD **)(*result + 0xB8LL) )
  {
    v3 = (_DWORD *)result[0x37];
    if ( v3 && *v3 == 5 )
      break;
  }
  if ( !result )
    return (_QWORD *)(a1 + 0xB40);
  return result;
}

// --- End Function: sub_146926410 (0x146926410) ---

// --- Function: sub_1469264A0 (0x1469264A0) ---
double *__fastcall sub_1469264A0(__int64 a1, double *a2, __int64 *a3, char a4)
{
  char v8; // r15
  volatile signed __int64 *v9; // rsi
  signed __int64 v10; // r14
  volatile signed __int64 *v11; // rcx
  unsigned __int64 v12; // rdx
  double v13; // xmm4_8
  double v15; // xmm3_8
  double v16; // xmm7_8
  double v17; // xmm8_8
  double v18; // xmm9_8
  __int64 v19; // rax
  float v20; // xmm13_4
  float v21; // xmm15_4
  float v22; // xmm4_4
  float v23; // xmm11_4
  double v24; // xmm11_8
  double v25; // xmm13_8
  double v26; // xmm15_8
  double v27; // xmm6_8
  double v28; // xmm5_8
  double v29; // xmm4_8
  double v30; // xmm10_8
  double v31; // xmm14_8
  double v32; // xmm7_8
  double v33; // xmm5_8
  double v34; // xmm12_8
  double v35; // kr00_8
  double v36; // xmm8_8
  double v37; // xmm2_8
  unsigned __int64 v41; // rdx
  __int128 v43; // [rsp+30h] [rbp-D0h]
  __int128 v44; // [rsp+50h] [rbp-B0h]
  double v45; // [rsp+60h] [rbp-A0h]
  double v46; // [rsp+68h] [rbp-98h]
  int n0x2800; // [rsp+70h] [rbp-90h] BYREF
  __int64 v48; // [rsp+74h] [rbp-8Ch]
  int v49; // [rsp+7Ch] [rbp-84h]
  __int64 v50; // [rsp+80h] [rbp-80h]
  unsigned __int64 v51; // [rsp+88h] [rbp-78h]
  __int64 v52; // [rsp+90h] [rbp-70h]
  __int64 v53; // [rsp+98h] [rbp-68h]
  __int128 v54; // [rsp+E0h] [rbp-20h]
  double v55; // [rsp+F0h] [rbp-10h]
  double v56; // [rsp+1D0h] [rbp+D0h]
  double v57; // [rsp+1E0h] [rbp+E0h]

  n0x2800 = 0x2800;
  v48 = 0;
  v49 = 0;
  v51 = 0;
  v52 = 0;
  v53 = 0;
  v50 = 1;
  qword_149A0FD80(&n0x2800, 0, &Source, &Source, 0);
  if ( !a3 || a3 == (__int64 *)(a1 + 0xB40) )
  {
    *a2 = 0.0;
    a2[3] = 1.0;
    a2[1] = 0.0;
    a2[2] = 0.0;
    a2[4] = 0.0;
    a2[5] = 0.0;
    a2[6] = 0.0;
  }
  else
  {
    if ( a4
      || *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL) != 0x1E )
    {
      v11 = (volatile signed __int64 *)(a1 + 0x84B90);
      v8 = 0;
      v9 = (volatile signed __int64 *)(a1 + 0x84B90);
    }
    else
    {
      v8 = 1;
      v9 = (volatile signed __int64 *)(a1 + 0x84B90);
      v10 = _InterlockedIncrement64(v9);
      v11 = v9;
      if ( (v10 & 0x200000) != 0 )
      {
        sub_1403CD0A0(v9, v10, (__int64)"CPhysicalWorld::GetWorldTransform", (__int64)"m_lockGridHierarchy", 1);
        v11 = v9;
      }
    }
    if ( *a3 || *((_DWORD *)a3 + 0x53) )
    {
      v13 = 1.0;
      _XMM0 = 0;
      v15 = 0.0;
      v16 = 0.0;
      v45 = 0.0;
      v57 = 1.0;
      v56 = 0.0;
      __asm
      {
        vmovupd [rsp+1C0h+var_190], xmm0
        vmovupd [rsp+1C0h+var_170], xmm0
      }
      v17 = *((double *)&v44 + 1);
      v18 = *(double *)&v44;
      do
      {
        v19 = *a3;
        if ( !*a3 )
          break;
        v20 = *(float *)(v19 + 0x1DC);
        v21 = *(float *)(v19 + 0x1E0);
        v22 = *(float *)(v19 + 0x1E4);
        v23 = *(float *)(v19 + 0x1D8);
        a3 = *(__int64 **)(v19 + 0xB8);
        v54 = *(_OWORD *)(v19 + 0x1C0);
        v24 = v23;
        v25 = v20;
        v26 = v21;
        v46 = v22;
        v27 = v25 * v16 - v26 * v17 + v22 * v18;
        v28 = v26 * v18 - v24 * v16 + v22 * v17;
        v29 = v24 * v17 - v25 * v18 + v22 * v16;
        v30 = v25 * v29 - v26 * v28;
        v31 = v24 * v28 - v25 * v27;
        v32 = v24 * *(double *)&v43;
        v33 = v25 * *(double *)&v43;
        v34 = v26 * v27 - v24 * v29;
        v35 = v24 * *((double *)&v43 + 1);
        v36 = v25 * *((double *)&v43 + 1);
        v37 = v26 * *(double *)&v43 - v24 * v56;
        *(double *)&v43 = v25 * v56 - v26 * *((double *)&v43 + 1) + v46 * *(double *)&v43 + v24 * v57;
        *((double *)&v43 + 1) = v37 + v46 * *((double *)&v43 + 1) + v25 * v57;
        v15 = v35 - v33 + v46 * v56 + v26 * v57;
        v13 = v46 * v57 - v32 - v36 - v26 * v56;
        _XMM2 = *(_OWORD *)(v19 + 0x1C0);
        v18 = v30 + *(double *)&v44 + *(double *)&_XMM2 + v30;
        *(double *)&v44 = v18;
        v56 = v15;
        v57 = v13;
        __asm { vunpckhpd xmm2, xmm2, xmm2 }
        v17 = v34 + *((double *)&v44 + 1) + *(double *)&_XMM2 + v34;
        v55 = *(double *)(v19 + 0x1D0);
        v16 = v31 + v45 + v55 + v31;
        v45 = v16;
        *((double *)&v44 + 1) = v17;
      }
      while ( a3 );
      __asm { vmovupd xmm0, [rsp+1C0h+var_170] }
      *(_OWORD *)a2 = v43;
      a2[3] = v13;
      a2[2] = v15;
      *((_OWORD *)a2 + 2) = _XMM0;
      a2[6] = v45;
      if ( v8 )
      {
        v41 = _InterlockedDecrement64(v9);
        if ( (v41 & 0x3FF) == 0 && (v41 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(v9, v41);
      }
    }
    else
    {
      *a2 = 0.0;
      a2[3] = 1.0;
      a2[1] = 0.0;
      a2[2] = 0.0;
      a2[4] = 0.0;
      a2[5] = 0.0;
      a2[6] = 0.0;
      if ( v8 )
      {
        v12 = _InterlockedDecrement64(v11);
        if ( (v12 & 0x3FF) == 0 && (v12 & 0xFFFF0000FFC00000uLL) != 0 )
          sub_1403CD3A0(v11, v12);
      }
    }
  }
  v51 = __rdtsc();
  qword_149A0FD88(&n0x2800);
  return a2;
}

// --- End Function: sub_1469264A0 (0x1469264A0) ---

// --- Function: sub_146938980 (0x146938980) ---
__int64 __fastcall sub_146938980(__int64 a1, __int64 a2, double *a3, float *a4, __int64 a5, __int64 a6, __int64 n3)
{
  __int128 v7; // xmm6
  __int128 v8; // xmm15
  int v13; // r13d
  double v14; // r12
  __int64 v15; // rax
  __int128 v16; // xmm0
  float v17; // xmm4_4
  __m128 v18; // xmm5
  float v19; // xmm8_4
  __m128 v20; // kr00_16
  int v21; // eax
  float v24; // xmm1_4
  float v25; // xmm2_4
  __m128 v27; // kr00_16
  bool v30; // zf
  double v31; // xmm1_8
  float v32; // xmm11_4
  float v33; // xmm12_4
  float v34; // xmm4_4
  float v35; // xmm0_4
  double v36; // xmm1_8
  float v37; // xmm11_4
  float v38; // xmm12_4
  float v39; // xmm4_4
  double v40; // xmm1_8
  float v41; // eax
  __m128 v42; // kr00_16
  float v45; // xmm1_4
  float v46; // xmm2_4
  __int128 v47; // kr00_16
  __int64 v49; // rax
  int v50; // eax
  __int64 *v51; // rdi
  __int64 v52; // rbx
  __int64 *v55; // rax
  __int64 n3_1; // r8
  int v57; // edx
  int v58; // ebx
  __int64 v59; // r12
  __int64 v60; // r13
  __int64 v61; // r15
  __int64 v62; // rax
  double v63; // xmm7_8
  double v64; // xmm8_8
  double v65; // xmm9_8
  double v66; // xmm10_8
  double v67; // xmm11_8
  double v68; // xmm12_8
  __int64 v81; // rax
  float v82; // xmm10_4
  float v83; // xmm6_4
  float v84; // xmm7_4
  float v85; // xmm9_4
  float v86; // xmm15_4
  float v87; // xmm4_4
  float v88; // xmm14_4
  float v89; // xmm5_4
  float v90; // xmm8_4
  float v91; // kr00_4
  float v92; // xmm4_4
  float v93; // xmm3_4
  float v94; // xmm6_4
  float v95; // xmm11_4
  float v96; // xmm5_4
  float v97; // xmm9_4
  float v98; // xmm8_4
  float v99; // xmm3_4
  float v100; // xmm8_4
  float v101; // xmm10_4
  float v102; // xmm9_4
  float v103; // xmm7_4
  float v104; // xmm6_4
  float v105; // xmm4_4
  float v106; // kr00_4
  __int64 v107; // rax
  int v108; // eax
  int v109; // r8d
  __int64 *v110; // r13
  __int64 v111; // rdx
  float *v112; // rcx
  __int64 v113; // rbx
  __int16 v116; // ax
  __int64 v117; // rcx
  __int64 v118; // rcx
  __int64 *v119; // rax
  __int64 v120; // rbx
  unsigned __int64 n0x200000; // rax
  int v123; // [rsp+48h] [rbp-C0h]
  float v124; // [rsp+4Ch] [rbp-BCh]
  float v125; // [rsp+50h] [rbp-B8h]
  float v126; // [rsp+54h] [rbp-B4h]
  float v127; // [rsp+58h] [rbp-B0h]
  float v128; // [rsp+5Ch] [rbp-ACh]
  __int64 *v129; // [rsp+60h] [rbp-A8h] BYREF
  __int64 v130; // [rsp+68h] [rbp-A0h]
  __int64 v131; // [rsp+70h] [rbp-98h]
  __int64 v132; // [rsp+78h] [rbp-90h]
  double v133; // [rsp+80h] [rbp-88h]
  __int128 v134; // [rsp+88h] [rbp-80h] BYREF
  __int128 v135; // [rsp+98h] [rbp-70h]
  float v136; // [rsp+A8h] [rbp-60h]
  float v137[4]; // [rsp+B0h] [rbp-58h] BYREF
  __int128 v138; // [rsp+C0h] [rbp-48h]
  double v139; // [rsp+D0h] [rbp-38h]
  __int64 v140; // [rsp+D8h] [rbp-30h]
  double v141; // [rsp+E0h] [rbp-28h]
  float v142; // [rsp+E8h] [rbp-20h]
  double v143; // [rsp+ECh] [rbp-1Ch]
  float v144; // [rsp+F4h] [rbp-14h]
  _QWORD *v145; // [rsp+F8h] [rbp-10h] BYREF
  __int64 *v146; // [rsp+100h] [rbp-8h]
  __int128 v147; // [rsp+108h] [rbp+0h] BYREF
  double v148; // [rsp+118h] [rbp+10h]
  float v149; // [rsp+120h] [rbp+18h]
  float v150; // [rsp+124h] [rbp+1Ch]
  __int128 v151; // [rsp+128h] [rbp+20h]
  float v152; // [rsp+138h] [rbp+30h]
  float v153; // [rsp+13Ch] [rbp+34h]
  float v154; // [rsp+140h] [rbp+38h]
  float v155; // [rsp+144h] [rbp+3Ch]
  __int128 v156; // [rsp+148h] [rbp+40h]
  float v157; // [rsp+158h] [rbp+50h]
  float v158; // [rsp+15Ch] [rbp+54h]
  double v159; // [rsp+160h] [rbp+58h]
  int v161; // [rsp+178h] [rbp+70h]
  __m256 v162; // [rsp+188h] [rbp+80h] BYREF
  float v163; // [rsp+1A8h] [rbp+A0h]
  int v164; // [rsp+1ACh] [rbp+A4h]
  float v165; // [rsp+1B0h] [rbp+A8h]
  float v166; // [rsp+1B4h] [rbp+ACh]
  float v167; // [rsp+1B8h] [rbp+B0h]
  float v168; // [rsp+1BCh] [rbp+B4h]
  float v169; // [rsp+1C0h] [rbp+B8h]
  float v170; // [rsp+1C4h] [rbp+BCh]
  _QWORD v171[2]; // [rsp+1C8h] [rbp+C0h] BYREF
  float v172; // [rsp+1D8h] [rbp+D0h]
  int v173; // [rsp+1DCh] [rbp+D4h]
  _OWORD v174[2]; // [rsp+1F8h] [rbp+F0h] BYREF
  float v175; // [rsp+218h] [rbp+110h]
  double v176; // [rsp+220h] [rbp+118h]
  float v177; // [rsp+228h] [rbp+120h]
  __int64 (__fastcall **v178)(); // [rsp+230h] [rbp+128h]
  _QWORD *v179; // [rsp+238h] [rbp+130h]
  _OWORD *v180; // [rsp+240h] [rbp+138h]
  _QWORD v181[2]; // [rsp+248h] [rbp+140h] BYREF
  float v182; // [rsp+258h] [rbp+150h]
  int v183; // [rsp+25Ch] [rbp+154h]
  __int128 v184; // [rsp+278h] [rbp+170h] BYREF
  __int64 v185; // [rsp+288h] [rbp+180h]
  double v186; // [rsp+290h] [rbp+188h]
  int v187; // [rsp+298h] [rbp+190h]
  double v188; // [rsp+2A0h] [rbp+198h]
  float v189; // [rsp+2A8h] [rbp+1A0h]
  __int64 (__fastcall **v190)(); // [rsp+2B0h] [rbp+1A8h]
  _QWORD *v191; // [rsp+2B8h] [rbp+1B0h]
  __int128 *v192; // [rsp+2C0h] [rbp+1B8h]
  _DWORD v193[18]; // [rsp+2C8h] [rbp+1C0h] BYREF
  double v194; // [rsp+310h] [rbp+208h]
  __m256 v195; // [rsp+318h] [rbp+210h]
  double v196; // [rsp+338h] [rbp+230h]
  int v197; // [rsp+340h] [rbp+238h]
  __int16 v198; // [rsp+344h] [rbp+23Ch]
  char v199; // [rsp+346h] [rbp+23Eh]
  __int64 v200; // [rsp+348h] [rbp+240h]
  __int64 v201; // [rsp+354h] [rbp+24Ch]
  __int64 v202; // [rsp+360h] [rbp+258h]
  __int128 v203; // [rsp+378h] [rbp+270h]
  __int128 v204; // [rsp+408h] [rbp+300h]

  v204 = v7;
  v203 = v8;
  _XMM6 = 0;
  if ( (float)((float)((float)(*a4 * *a4) + (float)(a4[1] * a4[1])) + (float)(a4[2] * a4[2])) <= 0.0
    || *a3 * *a3 + a3[1] * a3[1] + a3[2] * a3[2] < 0.0 )
  {
    return 0;
  }
  LODWORD(v130) = *(_DWORD *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
  v13 = v130;
  *(_QWORD *)&v14 = a1 + 0x84A38 + 8LL * (int)v130;
  v133 = v14;
  v15 = _InterlockedCompareExchange64(*(volatile signed __int64 **)&v14, 0x200000, 0);
  if ( v15 )
    sub_1403DE750(
      *(__int64 *)&v14,
      v15,
      0,
      (__int64)"CPhysicalWorld::RayTraceEntity",
      (__int64)"m_lockCaller[iCaller]",
      1);
  v128 = 1.0;
  sub_146646860((__int64)v181);
  v16 = *(_OWORD *)a3;
  v17 = a4[1];
  v18 = (__m128)*(unsigned int *)a4;
  v19 = a4[2];
  v185 = *((_QWORD *)a3 + 2);
  v184 = v16;
  *(_QWORD *)&v16 = *(_QWORD *)a4;
  v20 = v18;
  v181[0] = off_148ABFB00;
  v186 = *(double *)&v16;
  v20.m128_f32[0] = (float)((float)(v18.m128_f32[0] * v18.m128_f32[0]) + (float)(v17 * v17)) + (float)(v19 * v19);
  v190 = off_148ABFA18;
  v21 = *((_DWORD *)a4 + 2);
  v183 = 0;
  v187 = v21;
  if ( v20.m128_f32[0] <= 9.9999997e-21 )
  {
    v142 = 1.0;
    _XMM0 = 0;
    v25 = 1.0;
  }
  else
  {
    _XMM0 = _mm_shuffle_ps(v20, v20, 0);
    __asm { vrsqrtps xmm3, xmm0 }
    _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
    v24 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v20.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
        * _XMM3.m128_f32[0];
    v25 = v19 * v24;
    v142 = v19 * v24;
    v27 = v18;
    v27.m128_f32[0] = v18.m128_f32[0] * v24;
    _XMM0 = v27;
  }
  __asm { vunpcklps xmm0, xmm0, xmm3 }
  v141 = *(double *)&_XMM0;
  v188 = *(double *)&_XMM0;
  v156 = 0;
  __asm { vmovupd [rbp+340h+var_340], xmm0 }
  v151 = xmmword_148153550;
  _XMM0 = 0;
  __asm { vmovupd [rbp+340h+var_2E0], xmm0 }
  *(float *)&v193[8] = 0.000001;
  *(float *)&v193[9] = 0.017453292;
  *(_DWORD *)(a5 + 0x10) = 0x501502F9;
  v30 = *(_DWORD *)(a2 + 0xF4) == 5;
  v195 = ymmword_148773180;
  v189 = v25;
  v191 = v181;
  *(float *)&v193[0x11] = 1.0e10;
  v182 = 1.0;
  v157 = 0.0;
  v158 = 0.0;
  v148 = 0.0;
  v149 = 1.0;
  v150 = 0.0;
  v152 = 0.0;
  v153 = 0.0;
  v154 = 1.0;
  v159 = 0.0;
  v155 = 1.0;
  *(float *)&v193[7] = 100.0;
  *(float *)&v193[0xA] = 0.0;
  *(float *)&v193[1] = 0.0;
  *(float *)&v193[2] = 0.0;
  *(float *)&v193[3] = 0.0;
  *(float *)&v193[0xE] = 0.0;
  *(float *)&v193[0xF] = 0.0;
  *(float *)&v193[0x10] = 1.0;
  *(float *)&v193[0xB] = 0.0;
  *(float *)&v193[0xC] = 0.0;
  *(float *)&v193[0xD] = 0.0;
  *(float *)&v193[4] = 0.0;
  *(float *)&v193[5] = 0.0;
  *(float *)&v193[6] = 0.0;
  v194 = 1.999999999998e12;
  v196 = 1.999999999998e12;
  v192 = &v184;
  v161 = 0;
  v193[0] = 0;
  v202 = 0;
  v197 = 0;
  v198 = 0;
  v199 = 0;
  v200 = 0;
  v201 = 0;
  if ( v30 )
  {
    __asm { vzeroupper }
    LODWORD(v120) = sub_146896A90(a2, a3, a4, a5, a6, v13, 0);
  }
  else
  {
    if ( a6 )
    {
      v31 = *(double *)(a6 + 0x18);
      v32 = *(float *)(a6 + 0x20);
      v33 = *(float *)(a6 + 0x24);
      v34 = *(float *)(a6 + 0x2C);
      v138 = *(_OWORD *)(a6 + 8);
      v124 = *(float *)(a6 + 0x28);
      v35 = *(float *)(a6 + 0x30);
      v127 = v32;
      v125 = v33;
      v126 = v34;
      v139 = v31;
      if ( (LODWORD(v35) & 0xFFA00000) != 0xFFA00000 )
        v128 = v35;
    }
    else
    {
      v36 = *(double *)(a2 + 0x1D0);
      v37 = *(float *)(a2 + 0x1D8);
      v38 = *(float *)(a2 + 0x1DC);
      v39 = *(float *)(a2 + 0x1E4);
      v138 = *(_OWORD *)(a2 + 0x1C0);
      v124 = *(float *)(a2 + 0x1E0);
      v127 = v37;
      v125 = v38;
      v126 = v39;
      v139 = v36;
    }
    v30 = (*(_BYTE *)(a2 + 0x384) & 4) == 0;
    v40 = a3[2];
    v41 = a4[2];
    *((_QWORD *)&v135 + 1) = *(_QWORD *)a4;
    v134 = *(_OWORD *)a3;
    v136 = v41;
    *(double *)&v135 = v40;
    if ( v30 )
    {
      n3_1 = n3;
      v164 = 0;
      v163 = 1.0;
      v167 = 0.0;
      v166 = 0.0;
      v165 = 0.0;
      v162 = ymmword_148199FE0;
      if ( (n3 & 0xFFFFFFFFFFFFF800uLL) != 0 )
        v57 = *(_DWORD *)(a2 + 0x290);
      else
        v57 = *(_DWORD *)(a2 + 0x290) & (*(int *)(a2 + 0x294) >> 0x1F)
            | *(_DWORD *)(a2 + 0x294) & ~(*(int *)(a2 + 0x294) >> 0x1F);
      v58 = 0;
      v123 = 0;
      v140 = v57;
      if ( v57 > 0 )
      {
        v59 = 0;
        v132 = 0;
        v60 = 0;
        v131 = 0;
        v61 = 0;
        do
        {
          if ( (*(_QWORD *)(*(_QWORD *)(a2 + 0x240) + 8 * v59)
              & (((*(__int64 *)(*(_QWORD *)(a2 + 0x240) + 8 * v59) >> 0x12) & 1) - 1)
              & n3_1) != 0 )
          {
            v62 = *(_QWORD *)(a2 + 0x228);
            v63 = *(double *)(v62 + v61 + 0x18);
            v64 = *(double *)(v62 + v61);
            v65 = *(double *)(v62 + v61 + 0x20);
            v66 = *(double *)(v62 + v61 + 8);
            v67 = *(double *)(v62 + v61 + 0x28);
            v68 = *(double *)(v62 + v61 + 0x10);
            _XMM4 = COERCE_UNSIGNED_INT64(v63 - v64);
            _XMM5 = COERCE_UNSIGNED_INT64(v65 - v66);
            _XMM6 = COERCE_UNSIGNED_INT64(v67 - v68);
            if ( *(double *)&_XMM5 * *(double *)&_XMM5
               + *(double *)&_XMM4 * *(double *)&_XMM4
               + *(double *)&_XMM6 * *(double *)&_XMM6 == 0.0 )
              goto LABEL_48;
            __asm { vcvtsd2ss xmm0, xmm4, xmm4 }
            v168 = *(float *)&_XMM0 * 0.5;
            __asm { vcvtsd2ss xmm2, xmm5, xmm5 }
            v169 = *(float *)&_XMM2 * 0.5;
            __asm { vcvtsd2ss xmm1, xmm6, xmm6 }
            v170 = *(float *)&_XMM1 * 0.5;
            _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v134 - (v64 + v63) * 0.5);
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            v137[0] = *(float *)&_XMM0;
            _XMM2 = COERCE_UNSIGNED_INT64(*((double *)&v134 + 1) - (v66 + v65) * 0.5);
            __asm { vcvtsd2ss xmm1, xmm2, xmm2 }
            v137[1] = *(float *)&_XMM1;
            _XMM2 = COERCE_UNSIGNED_INT64(*(double *)&v135 - (v68 + v67) * 0.5);
            __asm { vcvtsd2ss xmm0, xmm2, xmm2 }
            v137[2] = *(float *)&_XMM0;
            __asm { vzeroupper }
            if ( sub_1466E09B0((__int64)&v162, (__int64)&v134, 0, (__int64)v137) )
            {
LABEL_48:
              v81 = *(_QWORD *)(a2 + 0x230);
              v82 = *(float *)(v81 + v60 + 0xC);
              v83 = *(float *)(v81 + v60 + 4);
              v84 = *(float *)(v81 + v60);
              v85 = *(float *)(v81 + v60 + 8);
              v86 = (float)(v126 * v82)
                  - (float)((float)((float)(v127 * v84) + (float)(v125 * v83)) + (float)(v124 * v85));
              v87 = (float)((float)(v125 * v85) - (float)(v124 * v83)) + (float)(v126 * v84);
              v88 = (float)(v127 * v82) + v87;
              v89 = (float)((float)(v124 * v84) - (float)(v127 * v85)) + (float)(v126 * v83);
              v90 = (float)(v125 * v82) + v89;
              v91 = (float)((float)(v127 * v83) - (float)(v125 * v84)) + (float)(v126 * v85);
              v92 = (float)((float)((float)(v127 + v127) * v82) + v87) + v87;
              v93 = (float)((float)((float)(v125 + v125) * v82) + v89) + v89;
              v94 = v93 * v88;
              v95 = v93 * v90;
              v96 = (float)((float)((float)(v124 + v124) * v82) + v91) + v91;
              v97 = v96 * v90;
              v98 = v93 * v86;
              v99 = (float)((float)(v124 * v82) + v91) * v96;
              *((float *)&v151 + 3) = v97 - (float)(v92 * v86);
              v153 = v97 + (float)(v92 * v86);
              v149 = (float)(1.0 - v95) - v99;
              v150 = v94 - (float)(v96 * v86);
              *(float *)&v151 = (float)(v96 * v88) + v98;
              *((float *)&v151 + 1) = (float)(v96 * v86) + v94;
              *((float *)&v151 + 2) = (float)(1.0 - (float)(v92 * v88)) - v99;
              v152 = (float)(v96 * v88) - v98;
              v154 = (float)(1.0 - (float)(v92 * v88)) - v95;
              v100 = *(float *)(v81 + v60 + 0x10);
              v101 = *(float *)(v81 + v60 + 0x18);
              v102 = *(float *)(v81 + v60 + 0x14);
              v103 = (float)((float)(v125 * v101) - (float)(v124 * v102)) + (float)(v126 * v100);
              v104 = (float)((float)(v124 * v100) - (float)(v127 * v101)) + (float)(v126 * v102);
              v105 = (float)((float)(v127 * v102) - (float)(v125 * v100)) + (float)(v126 * v101);
              *(double *)&v147 = (float)((float)((float)(v100 + (float)((float)(v125 * v105) - (float)(v124 * v104)))
                                               + (float)((float)(v125 * v105) - (float)(v124 * v104)))
                                       * v128)
                               + *(double *)&v138;
              *((double *)&v147 + 1) = (float)((float)((float)(v102
                                                             + (float)((float)(v124 * v103) - (float)(v127 * v105)))
                                                     + (float)((float)(v124 * v103) - (float)(v127 * v105)))
                                             * v128)
                                     + *((double *)&v138 + 1);
              v148 = (float)((float)((float)(v101 + (float)((float)(v127 * v104) - (float)(v125 * v103)))
                                   + (float)((float)(v127 * v104) - (float)(v125 * v103)))
                           * v128)
                   + v139;
              v106 = v128 * *(float *)(v81 + v60 + 0x1C);
              v107 = *(_QWORD *)(a2 + 0x238);
              v155 = v106;
              __asm { vzeroupper }
              v108 = (*(__int64 (__fastcall **)(_QWORD, _QWORD *, __int128 *, _QWORD, _DWORD *, __int64 **, _DWORD))(***(_QWORD ***)(v107 + 8 * v59) + 0x50LL))(
                       **(_QWORD **)(v107 + 8 * v59),
                       v181,
                       &v147,
                       0,
                       v193,
                       &v129,
                       v130);
              v109 = v108;
              if ( v108 > 0 )
              {
                v110 = v129;
                v111 = v108;
                v112 = (float *)&v129[0x18 * v108 + 0xFFFFFFF5LL];
                do
                {
                  if ( *(float *)(a5 + 0x10) >= *((double *)v112 + 0xFFFFFFF3)
                    && (float)((float)((float)(v112[0xFFFFFFFF] * a4[1]) + (float)(v112[0xFFFFFFFE] * *a4))
                             + (float)(*v112 * a4[2])) <= 0.0 )
                  {
                    break;
                  }
                  --v109;
                  --v111;
                  v112 += 0xFFFFFFD0;
                }
                while ( v111 > 0 );
                if ( v109 > 0 )
                {
                  v113 = 0x18LL * v109;
                  _XMM0 = (unsigned __int64)v129[v113 - 0x18];
                  *(_QWORD *)a5 = a2;
                  *(_DWORD *)(a5 + 0x14) = v123;
                  __asm { vcvtpd2ps xmm0, xmm0 }
                  *(float *)(a5 + 0x10) = *(float *)&_XMM0;
                  *(_DWORD *)(a5 + 0x18) = *(_DWORD *)(*(_QWORD *)(a2 + 0x250) + 4 * v59);
                  v116 = sub_14670D0F0(a2, *((_DWORD *)&v110[v113 - 7] + 0xFFFFFFFF), v123);
                  v117 = v132;
                  *(_WORD *)(a5 + 0x1C) = v116;
                  *(_WORD *)(a5 + 0x1E) = *((_DWORD *)&v110[v113 - 7] + 0xFFFFFFFF)
                                        + ((*((int *)&v110[v113 - 7] + 0xFFFFFFFF) >> 0x1F)
                                         & (((__int16)(*(_DWORD *)(*(_QWORD *)(a2 + 0x270) + v117 + 0x10) >> 2) >> 6) + 1));
                  v118 = **(_QWORD **)(*(_QWORD *)(a2 + 0x238) + 8 * v59);
                  *(_DWORD *)(a5 + 0x20) = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v118 + 0xB0LL))(
                                             v118,
                                             *((unsigned int *)&v110[v113 - 6] + 0xFFFFFFFF));
                  v119 = v129;
                  *(_OWORD *)(a5 + 0x30) = *(_OWORD *)&v129[v113 - 0x12];
                  *(double *)(a5 + 0x40) = *(double *)&v119[v113 - 0x10];
                  *(double *)(a5 + 0x48) = *(double *)&v119[v113 - 0xC];
                  LODWORD(v119) = v119[v113 - 0xB];
                  v58 = v123;
                  *(_DWORD *)(a5 + 0x50) = (_DWORD)v119;
                }
                v60 = v131;
              }
            }
            n3_1 = n3;
          }
          v132 += 0x18;
          ++v58;
          v60 += 0x20;
          v123 = v58;
          ++v59;
          v131 = v60;
          v61 += 0x30;
        }
        while ( v59 < v140 );
        v14 = v133;
      }
    }
    else
    {
      __asm { vzeroupper }
      sub_146646860((__int64)v171);
      v174[1] = v135;
      v171[0] = off_148ABFB00;
      v42 = (__m128)DWORD2(v135);
      v178 = off_148ABFA18;
      v174[0] = v134;
      v42.m128_f32[0] = (float)((float)(v42.m128_f32[0] * v42.m128_f32[0])
                              + (float)(*((float *)&v135 + 3) * *((float *)&v135 + 3)))
                      + (float)(v136 * v136);
      v173 = 0;
      v175 = v136;
      if ( v42.m128_f32[0] <= 9.9999997e-21 )
      {
        v144 = 1.0;
        v46 = 1.0;
      }
      else
      {
        _XMM0 = _mm_shuffle_ps(v42, v42, 0);
        __asm { vrsqrtps xmm3, xmm0 }
        _XMM3.m128_f32[0] = _mm_shuffle_ps(_XMM3, _XMM3, 0xFF).m128_f32[0];
        v45 = (float)(1.5 - (float)((float)((float)(_XMM3.m128_f32[0] * v42.m128_f32[0]) * _XMM3.m128_f32[0]) * 0.5))
            * _XMM3.m128_f32[0];
        v46 = v136 * v45;
        v144 = v136 * v45;
        v47 = DWORD2(v135);
        *(float *)&v47 = *((float *)&v135 + 2) * v45;
        _XMM6 = v47;
      }
      __asm { vunpcklps xmm0, xmm6, xmm0 }
      v179 = v171;
      v180 = v174;
      v145 = v171;
      v146 = qword_151461710;
      v49 = *(_QWORD *)a2;
      v177 = v46;
      v172 = 1.0;
      v143 = *(double *)&_XMM0;
      v176 = *(double *)&_XMM0;
      v50 = (*(__int64 (__fastcall **)(__int64, _QWORD **))(v49 + 0x278))(a2, &v145);
      v51 = v146;
      v129 = v146;
      if ( v50 > 0 )
      {
        *(_DWORD *)(a5 + 0x14) = 0;
        v52 = 0x18LL * v50;
        _XMM0 = (unsigned __int64)v51[v52 - 0x18];
        *(_QWORD *)a5 = a2;
        __asm { vcvtpd2ps xmm0, xmm0 }
        *(float *)(a5 + 0x10) = *(float *)&_XMM0;
        *(_DWORD *)(a5 + 0x18) = **(_DWORD **)(a2 + 0x250);
        *(_WORD *)(a5 + 0x1C) = sub_14670D0F0(a2, *((_DWORD *)&v51[v52 - 7] + 0xFFFFFFFF), 0);
        *(_WORD *)(a5 + 0x1E) = *((_DWORD *)&v51[v52 - 7] + 0xFFFFFFFF)
                              + ((*((int *)&v51[v52 - 7] + 0xFFFFFFFF) >> 0x1F)
                               & (((__int16)(*(_DWORD *)(*(_QWORD *)(a2 + 0x270) + 0x10LL) >> 2) >> 6) + 1));
        *(_DWORD *)(a5 + 0x20) = (*(__int64 (__fastcall **)(_QWORD, _QWORD))(****(_QWORD ****)(a2 + 0x238) + 0xB0LL))(
                                   ***(_QWORD ***)(a2 + 0x238),
                                   *((unsigned int *)&v51[v52 - 6] + 0xFFFFFFFF));
        v55 = v129;
        *(_OWORD *)(a5 + 0x30) = *(_OWORD *)&v129[v52 - 0x12];
        *(double *)(a5 + 0x40) = *(double *)&v55[v52 - 0x10];
        *(double *)(a5 + 0x48) = *(double *)&v55[v52 - 0xC];
        *(_DWORD *)(a5 + 0x50) = v55[v52 - 0xB];
      }
      v178 = &off_148ABF6C8;
      sub_146647D40((__int64)v171);
    }
    v133 = *(float *)(a5 + 0x10) - 1000000000.0;
    v120 = *(_QWORD *)&v133 >> 0x3F;
  }
  v190 = &off_148ABF6C8;
  __asm { vzeroupper }
  sub_146647D40((__int64)v181);
  if ( v14 != 0.0 )
  {
    n0x200000 = _InterlockedCompareExchange64(*(volatile signed __int64 **)&v14, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(*(volatile signed __int64 **)&v14, n0x200000);
  }
  return (unsigned int)v120;
}

// --- End Function: sub_146938980 (0x146938980) ---

// --- Function: sub_146939C90 (0x146939C90) ---
void __fastcall sub_146939C90(__int64 a1, __int64 a2)
{
  __int64 n0x1E; // rdi
  volatile signed __int64 *v4; // rbx
  __int64 v5; // rax
  _BYTE *v6; // rdx
  __int64 v7; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v9; // [rsp+58h] [rbp+10h] BYREF

  v9 = a2;
  if ( *(int *)(a2 + 0xE8) >= 0 && !_InterlockedCompareExchange16((volatile signed __int16 *)(a2 + 0x104), 1, 0) )
  {
    n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    v4 = (volatile signed __int64 *)(a1 + 0x864E8 + 8 * n0x1E);
    if ( (_DWORD)n0x1E == 0x1E )
    {
      v5 = _InterlockedCompareExchange64(v4, 0x200000, 0);
      if ( v5 )
        sub_1403DE750(
          a1 + 0x864E8 + 8 * n0x1E,
          v5,
          0,
          (__int64)"CPhysicalWorld::RegisterForAwakeEnv",
          (__int64)"m_lockAwakeEnvList[iCaller]",
          1);
    }
    v6 = *(_BYTE **)(a1 + 0x18 * (n0x1E + 0x5918) + 8);
    v7 = a1 + 0x18 * (n0x1E + 0x5918);
    if ( v6 == *(_BYTE **)(v7 + 0x10) )
    {
      sub_1402A9170(v7, v6, &v9);
    }
    else
    {
      *(_QWORD *)v6 = v9;
      *(_QWORD *)(v7 + 8) += 8LL;
    }
    if ( v4 && (_DWORD)n0x1E == 0x1E )
    {
      n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x864E8 + 8 * n0x1E), n0x200000);
    }
  }
}

// --- End Function: sub_146939C90 (0x146939C90) ---

// --- Function: sub_146939FD0 (0x146939FD0) ---
void __fastcall sub_146939FD0(__int64 a1, __int64 actorEntity)
{
  _BYTE *v2; // r14
  int v4; // edi
  volatile signed __int64 *v5; // rbx
  __int64 n0x1F; // r15
  bool v7; // bp
  __int64 v8; // rax
  __int64 n0x1F_1; // rcx
  __int64 v10; // rax
  __int64 v11; // rcx
  _BYTE *v12; // rax
  unsigned __int64 n0x200000; // rax
  __int64 actorEntity_1; // [rsp+68h] [rbp+10h] BYREF

  actorEntity_1 = actorEntity;
  v2 = (_BYTE *)(actorEntity + 0x380);
  if ( *(_BYTE *)(actorEntity + 0x380) != 0xFF )
    return;
  if ( *(_QWORD *)(actorEntity + 0x2D8) )
  {
    LOBYTE(v4) = 0x1F;
    v5 = (volatile signed __int64 *)(a1 + 0xAB8);
    n0x1F = 0x1F;
    v7 = 1;
LABEL_5:
    v10 = _InterlockedCompareExchange64(v5, 0x200000, 0);
    if ( v10 )
      sub_1403DE750(
        (__int64)v5,
        v10,
        0,
        (__int64)"CPhysicalWorld::RegisterForPostStepNotification",
        (__int64)"m_post_step_events_lock[listIdx]",
        1);
    actorEntity = actorEntity_1;
    goto LABEL_8;
  }
  v8 = *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex);
  n0x1F_1 = *(int *)(v8 + 0x800);
  v4 = *(_DWORD *)(v8 + 0x800);
  n0x1F = n0x1F_1;
  v7 = (int)n0x1F_1 >= 0x1E;
  v5 = (volatile signed __int64 *)(a1 + 0x9C0 + 8 * n0x1F_1);
  if ( (int)n0x1F_1 >= 0x1E )
    goto LABEL_5;
LABEL_8:
  v11 = a1 + 0x18 * (n0x1F + 0x48);
  v12 = *(_BYTE **)(v11 + 8);
  if ( v12 == *(_BYTE **)(v11 + 0x10) )
  {
    sub_1402A9170(v11, v12, &actorEntity_1);
  }
  else
  {
    *(_QWORD *)v12 = actorEntity;
    *(_QWORD *)(v11 + 8) += 8LL;
  }
  *v2 = v4;
  if ( v5 && v7 )
  {
    n0x200000 = _InterlockedCompareExchange64(v5, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0(v5, n0x200000);
  }
}

// --- End Function: sub_146939FD0 (0x146939FD0) ---

// --- Function: sub_14693A110 (0x14693A110) ---
unsigned __int64 __fastcall sub_14693A110(__int64 a1, __int64 a2)
{
  volatile signed __int64 *v3; // rbx
  __int64 v5; // rax
  unsigned __int64 n0x200000; // rax
  __int64 v7; // rcx

  v3 = (volatile signed __int64 *)(a1 + 0x668);
  v5 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x668), 0x200000, 0);
  if ( v5 )
    sub_1403DE750(
      a1 + 0x668,
      v5,
      0,
      (__int64)"CPhysicalWorld::RegisterForQuantumTravelingUpdate",
      (__int64)"m_qtraveling_ship_list_lock",
      1);
  n0x200000 = *(_QWORD *)(a2 + 0x6D78);
  *(_QWORD *)(*(_QWORD *)(a2 + 0x6D70) + 8LL) = n0x200000;
  **(_QWORD **)(a2 + 0x6D78) = *(_QWORD *)(a2 + 0x6D70);
  *(_QWORD *)(a2 + 0x6D78) = a2 + 0x6D70;
  *(_QWORD *)(a2 + 0x6D70) = a2 + 0x6D70;
  v7 = *(_QWORD *)(a1 + 0x6A0);
  *(_QWORD *)(v7 + 8) = a2 + 0x6D70;
  *(_QWORD *)(a2 + 0x6D70) = v7;
  *(_QWORD *)(a2 + 0x6D78) = a1 + 0x6A0;
  *(_QWORD *)(a1 + 0x6A0) = a2 + 0x6D70;
  if ( v3 )
  {
    n0x200000 = _InterlockedCompareExchange64(v3, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v3, n0x200000);
  }
  return n0x200000;
}

// --- End Function: sub_14693A110 (0x14693A110) ---

// --- Function: sub_14693A1E0 (0x14693A1E0) ---
void __fastcall sub_14693A1E0(__int64 a1, __int64 a2)
{
  __int64 n0x1E; // rdi
  volatile signed __int64 *v4; // rbx
  __int64 v5; // rax
  _BYTE *v6; // rdx
  __int64 v7; // rcx
  unsigned __int64 n0x200000; // rax
  __int64 v9; // [rsp+58h] [rbp+10h] BYREF

  v9 = a2;
  if ( *(int *)(a2 + 0xE8) >= 0 && !_InterlockedCompareExchange16((volatile signed __int16 *)(a2 + 0x108), 1, 0) )
  {
    n0x1E = *(int *)(*((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x800LL);
    v4 = (volatile signed __int64 *)(a1 + 0x862F8 + 8 * n0x1E);
    if ( (_DWORD)n0x1E == 0x1E )
    {
      v5 = _InterlockedCompareExchange64(v4, 0x200000, 0);
      if ( v5 )
        sub_1403DE750(
          a1 + 0x862F8 + 8 * n0x1E,
          v5,
          0,
          (__int64)"CPhysicalWorld::RegisterForRecompute",
          (__int64)"m_lockRecomputeList[iCaller]",
          1);
    }
    v6 = *(_BYTE **)(a1 + 0x18 * (n0x1E + 0x589C) + 8);
    v7 = a1 + 0x18 * (n0x1E + 0x589C);
    if ( v6 == *(_BYTE **)(v7 + 0x10) )
    {
      sub_1402A9170(v7, v6, &v9);
    }
    else
    {
      *(_QWORD *)v6 = v9;
      *(_QWORD *)(v7 + 8) += 8LL;
    }
    if ( v4 && (_DWORD)n0x1E == 0x1E )
    {
      n0x200000 = _InterlockedCompareExchange64(v4, 0, 0x200000);
      if ( n0x200000 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x862F8 + 8 * n0x1E), n0x200000);
    }
  }
}

// --- End Function: sub_14693A1E0 (0x14693A1E0) ---

// --- Function: sub_14693D8B0 (0x14693D8B0) ---
void __fastcall sub_14693D8B0(__int64 a1, __int64 a2, int a3, int a4)
{
  int v7; // esi

  v7 = a1;
  if ( *(_DWORD *)(a1 + 0x438) )
  {
    _InterlockedOr16((volatile signed __int16 *)(a2 + 0x100), a3);
    sub_14693A310(a1, a2);
  }
  else
  {
    if ( (a3 & 0x40) != 0 )
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)a2 + 0x260LL))(
        a2,
        (unsigned int)((*(_DWORD *)(a2 + 0x208) & 0x400) != 0) + 1);
    if ( (a3 & 0x80u) != 0 )
      sub_1467B4760(a2);
    sub_14693D950(v7, a2, a3, a4, 0, 0);
  }
}

// --- End Function: sub_14693D8B0 (0x14693D8B0) ---

// --- Function: sub_14693FC00 (0x14693FC00) ---
void __fastcall sub_14693FC00(__int64 a1, _QWORD *a2, double a3, double a4)
{
  const char *v6; // rbp
  double v7; // xmm9_8
  const char *p_no_host_ptr(ROOT?); // rdi
  const char *p_entity_ptr_not_set(ROOT?); // rax
  double v12; // [rsp+60h] [rbp-78h]
  double v13; // [rsp+E0h] [rbp+8h]

  if ( *(_DWORD *)(a1 + 0x158) )
  {
    v12 = a3 - a4 - *(double *)(a1 + 0x168);
    v13 = v12 + *(double *)(a1 + 0x160);
    *(double *)(a1 + 0x168) = v13 - *(double *)(a1 + 0x160) - v12;
    if ( *(_DWORD *)(a2[0x58] + 0x45CLL) )
    {
      v6 = (const char *)a2[0x1A];
      v7 = *(double *)(a1 + 0x160);
      if ( *(_QWORD *)a1 )
      {
        p_no_host_ptr(ROOT?) = "unnamed_host";
        if ( *(_QWORD *)(*(_QWORD *)a1 + 0xD0LL) )
          p_no_host_ptr(ROOT?) = *(const char **)(*(_QWORD *)a1 + 0xD0LL);
      }
      else
      {
        p_no_host_ptr(ROOT?) = "no_host_ptr(ROOT?)";
      }
      if ( is_valid_handle_typeB((unsigned __int64 *)(a1 + 0x178)) )
        p_entity_ptr_not_set(ROOT?) = (const char *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)(*(_QWORD *)(a1 + 0x178) & 0xFFFFFFFFFFFFLL)
                                                                                       + 0x70LL))(*(_QWORD *)(a1 + 0x178) & 0xFFFFFFFFFFFFLL);
      else
        p_entity_ptr_not_set(ROOT?) = "entity_ptr_not_set(ROOT?)";
      LogTraceConditional(
        "GridMass %p:%s[%s] before: %f kg, after %f kg (rigid %p %s updated mass, before: %f kg, after: %f kg, delta %f kg)",
        (const void *)a1,
        p_entity_ptr_not_set(ROOT?),
        p_no_host_ptr(ROOT?),
        v7,
        v13,
        a2,
        v6,
        a4,
        a3,
        a3 - a4);
    }
    _XMM1 = *(unsigned __int64 *)&v13;
    __asm { vmaxsd  xmm0, xmm1, xmm0 }
    *(double *)(a1 + 0x160) = *(double *)&_XMM0;
  }
}

// --- End Function: sub_14693FC00 (0x14693FC00) ---

// --- Function: sub_146941DA0 (0x146941DA0) ---
__int64 __fastcall sub_146941DA0(__int64 a1, __int64 a2, __int64 a3)
{
  __int64 v3; // rax
  __int64 v5; // rdx
  __int64 v7; // r11
  unsigned __int64 v8; // rax
  __int64 v9; // r10
  unsigned __int64 v10; // r9
  __int64 v11; // rcx
  __int64 v12; // rax
  _QWORD v14[4]; // [rsp+20h] [rbp-39h] BYREF
  int v15; // [rsp+40h] [rbp-19h]
  int v16; // [rsp+44h] [rbp-15h]
  __int64 v17; // [rsp+48h] [rbp-11h]
  __int64 v18; // [rsp+50h] [rbp-9h]
  unsigned __int64 v19; // [rsp+58h] [rbp-1h]
  __int64 v20; // [rsp+60h] [rbp+7h]
  __int64 v21; // [rsp+68h] [rbp+Fh]
  __int64 v22; // [rsp+70h] [rbp+17h]
  unsigned int v23; // [rsp+78h] [rbp+1Fh]
  unsigned int v24; // [rsp+7Ch] [rbp+23h]
  __int128 v25; // [rsp+80h] [rbp+27h]
  int v26; // [rsp+90h] [rbp+37h]
  int v27; // [rsp+94h] [rbp+3Bh]

  v3 = 0;
  v14[1] = 0x10;
  v14[0] = 0;
  v5 = 0;
  v17 = 0;
  v27 = 0;
  v25 = 0;
  if ( a2 )
    v3 = a2 | (*(_QWORD *)(a2 + 8) << 0x30);
  v7 = *(_QWORD *)(a2 + 0xB8);
  v14[2] = v3;
  v14[3] = *(_QWORD *)(a2 + 0xC0);
  v15 = *(__int16 *)(a2 + 0xEC);
  v16 = *(__int16 *)(a2 + 0xEE);
  v17 = v7;
  if ( !*(_QWORD *)v7 )
  {
    v8 = 0;
    v19 = 0;
    v10 = 0;
    v9 = 0;
LABEL_7:
    v23 = 0xFFFFFFFF;
    if ( !v8 )
      goto LABEL_10;
    goto LABEL_8;
  }
  v8 = *(_QWORD *)v7 | (*(_QWORD *)(*(_QWORD *)v7 + 8LL) << 0x30);
  v19 = v8;
  v9 = v8 & 0xFFFFFFFFFFFFLL;
  v10 = HIWORD(v8);
  if ( *(_QWORD *)((v8 & 0xFFFFFFFFFFFFLL) + 8) != HIWORD(v8) )
    goto LABEL_7;
  v23 = *(__int16 *)(*(_QWORD *)v7 + 0xECLL);
LABEL_8:
  if ( *(_QWORD *)(v9 + 8) == v10 )
  {
    v11 = *(_QWORD *)(*(_QWORD *)v7 + 0xC0LL);
    goto LABEL_11;
  }
LABEL_10:
  v11 = 0;
LABEL_11:
  v21 = v11;
  if ( a3 )
  {
    v5 = *(_QWORD *)(a3 + 0xC0);
    v12 = a3 | (*(_QWORD *)(a3 + 8) << 0x30);
    v18 = **(_QWORD **)(a3 + 0x2D8);
    v20 = v12;
    v24 = *(__int16 *)(a3 + 0xEC);
  }
  else
  {
    v20 = 0;
    v18 = a1 + 0xB40;
    v24 = 0xFFFFFFFF;
  }
  v22 = v5;
  v26 = 1;
  return sub_1468B20C0(a1, 0, (__int64)v14, 0);
}

// --- End Function: sub_146941DA0 (0x146941DA0) ---

// --- Function: sub_146942330 (0x146942330) ---
__int64 *__fastcall sub_146942330(__int64 a1, __int64 n6_1, float *a3, __int64 *a4)
{
  int n6; // r13d
  __int64 v8; // rax
  _QWORD *v9; // rdi
  __int64 n0x10000; // rsi
  __int64 n0x80000; // rbx
  __int64 v12; // rcx
  __int64 i; // rbx
  unsigned __int64 n0x200000; // rax
  __int64 *v15; // rbx
  __int64 *v16; // rax
  float v17; // xmm1_4
  _DWORD *v18; // rcx
  double *v19; // rax
  __int64 v20; // rax
  __int64 v21; // rcx
  __int64 v22; // rdi
  __int64 v23; // rax
  __int64 j; // rcx
  unsigned __int64 n0x200000_1; // rax
  __int64 *result; // rax
  __int64 v27; // [rsp+30h] [rbp-58h] BYREF
  float v28[4]; // [rsp+38h] [rbp-50h] BYREF

  n6 = n6_1;
  if ( a4 )
    goto LABEL_22;
  v8 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xCD8), 0x200000, 0);
  if ( v8 )
    sub_1403DE750(a1 + 0xCD8, v8, 0, (__int64)"CPhysicalWorld::SetupEntityGrid", (__int64)"m_grid.m_lockGrid", 1);
  v9 = (_QWORD *)(a1 + 0xD60);
  n0x10000 = 0x10000;
  do
  {
    if ( *v9 )
    {
      for ( n0x80000 = 0; n0x80000 < 0x80000; n0x80000 += 8 )
      {
        n6_1 = *(_QWORD *)(n0x80000 + *v9);
        if ( n6_1 )
        {
          v12 = *(_QWORD *)(n6_1 + 0xB8);
          if ( v12 == a1 + 0xB40 && *(_DWORD *)(n6_1 + 0x88) != 0xFFFFFFFF )
            sub_1466292D0(*(_QWORD *)(v12 + 0x1B8), n6_1 + 0x40);
        }
      }
    }
    ++v9;
    --n0x10000;
  }
  while ( n0x10000 );
  for ( i = *(_QWORD *)(a1 + 0xB88); i; i = *(_QWORD *)(i + 0x3C8) )
  {
    if ( *(_DWORD *)(i + 0x88) != 0xFFFFFFFF )
      sub_1466292D0(*(_QWORD *)(*(_QWORD *)(i + 0xB8) + 0x1B8LL), i + 0x40);
  }
  if ( a1 != 0xFFFFFFFFFFFFF328uLL )
  {
    n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0xCD8), 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      sub_1403DEBA0((volatile signed __int64 *)(a1 + 0xCD8), n0x200000);
  }
  if ( n6 == 6 )
  {
LABEL_22:
    v16 = (__int64 *)allocWithProfilerInfo_w(0x200u, (struct _exception *)0x20);
    if ( v16 )
      v15 = sub_146905E60(v16);
    else
      v15 = 0;
  }
  else
  {
    v15 = (__int64 *)(a1 + 0xB40);
  }
  v17 = a3[1];
  v28[0] = *a3;
  v28[2] = a3[2];
  v28[1] = v17;
  v18 = (_DWORD *)v15[0x37];
  if ( v18 )
  {
    sub_1465F70E0(v18, n6_1, (__int64)a3);
    v15[0x37] = 0;
  }
  v19 = (double *)sub_1465F5D70(n6, n6_1);
  v15[0x37] = (__int64)v19;
  sub_146603690(v19, v28);
  sub_1404F2780(v15[0x37], (__int64)v15);
  if ( a4 )
  {
    v20 = *a4;
    v27 = 0;
    (*(void (__fastcall **)(__int64 *, __int64 *))(v20 + 0x160))(a4, &v27);
  }
  v21 = *v15;
  *v15 = (__int64)a4;
  if ( v21 )
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v21 + 0x168LL))(v21, 0);
  v22 = a1 + 0xB40;
  if ( v15 != (__int64 *)(a1 + 0xB40) )
  {
    v23 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x84B78), 0x200000, 0);
    if ( v23 )
      sub_1403DE750(a1 + 0x84B78, v23, 0, (__int64)"CPhysicalWorld::SetupEntityGrid", (__int64)"m_lockGridList", 1);
    for ( j = *(_QWORD *)(a1 + 0xB60); j; j = *(_QWORD *)(j + 0x20) )
      v22 = j;
    *(_QWORD *)(v22 + 0x20) = v15;
    if ( a1 != 0xFFFFFFFFFFF7B488uLL )
    {
      n0x200000_1 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x84B78), 0, 0x200000);
      if ( n0x200000_1 != 0x200000 )
        sub_1403DEBA0((volatile signed __int64 *)(a1 + 0x84B78), n0x200000_1);
    }
  }
  result = v15;
  v15[0x36] = a1;
  return result;
}

// --- End Function: sub_146942330 (0x146942330) ---

// --- Function: sub_146954FE0 (0x146954FE0) ---
unsigned __int64 __fastcall sub_146954FE0(__int64 a1, Parameter *Parameter)
{
  volatile signed __int64 *v3; // rbx
  __int64 v5; // rax
  unsigned __int64 n0x200000; // rax
  int v7; // ecx

  v3 = (volatile signed __int64 *)(a1 + 0x660);
  v5 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x660), 0x200000, 0);
  if ( v5 )
    sub_1403DE750(
      a1 + 0x660,
      v5,
      0,
      (__int64)"CPhysicalWorld::UnregisterForNetworkedStateUpdate",
      (__int64)"m_networked_rigids_list_lock",
      1);
  n0x200000 = (unsigned __int64)Parameter + 0x950;
  if ( *((Parameter **)Parameter + 0x12B) != (Parameter *)((char *)Parameter + 0x950)
    || (v7 = 0, *(_QWORD *)n0x200000 != n0x200000) )
  {
    v7 = 1;
  }
  *(_DWORD *)(a1 + 0x6B8) -= v7;
  *(_QWORD *)(*(_QWORD *)n0x200000 + 8LL) = *((_QWORD *)Parameter + 0x12B);
  **((_QWORD **)Parameter + 0x12B) = *(_QWORD *)n0x200000;
  *((_QWORD *)Parameter + 0x12B) = (char *)Parameter + 0x950;
  *(_QWORD *)n0x200000 = n0x200000;
  if ( v3 )
  {
    n0x200000 = _InterlockedCompareExchange64(v3, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v3, n0x200000);
  }
  return n0x200000;
}

// --- End Function: sub_146954FE0 (0x146954FE0) ---

// --- Function: sub_1469550B0 (0x1469550B0) ---
signed __int64 __fastcall sub_1469550B0(__int64 a1, __int64 a2)
{
  volatile signed __int64 *v3; // rbx
  signed __int64 n0x200000; // rax

  v3 = (volatile signed __int64 *)(a1 + 0x668);
  n0x200000 = _InterlockedCompareExchange64((volatile signed __int64 *)(a1 + 0x668), 0x200000, 0);
  if ( n0x200000 )
    n0x200000 = sub_1403DE750(
                  a1 + 0x668,
                  n0x200000,
                  0,
                  (__int64)"CPhysicalWorld::UnregisterForQuantumTravelingUpdate",
                  (__int64)"m_qtraveling_ship_list_lock",
                  1);
  *(_QWORD *)(*(_QWORD *)(a2 + 0x6D70) + 8LL) = *(_QWORD *)(a2 + 0x6D78);
  **(_QWORD **)(a2 + 0x6D78) = *(_QWORD *)(a2 + 0x6D70);
  *(_QWORD *)(a2 + 0x6D78) = a2 + 0x6D70;
  *(_QWORD *)(a2 + 0x6D70) = a2 + 0x6D70;
  if ( v3 )
  {
    n0x200000 = _InterlockedCompareExchange64(v3, 0, 0x200000);
    if ( n0x200000 != 0x200000 )
      return sub_1403DEBA0(v3, n0x200000);
  }
  return n0x200000;
}

// --- End Function: sub_1469550B0 (0x1469550B0) ---

// --- Function: sub_14753C530 (0x14753C530) ---
__int64 __fastcall sub_14753C530(const void *a1)
{
  __int64 result; // rax

  if ( a1 )
  {
    if ( qword_149A143C8 && qword_149A141F8 && a1 == (const void *)qword_149A141F8 )
      __debugbreak();
    if ( (unsigned __int64)a1 < qword_1499C4808
      || (result = qword_1499C4808 + 0x8000000000LL, (unsigned __int64)a1 >= qword_1499C4808 + 0x8000000000LL) )
    {
      if ( (unsigned __int64)a1 >= qword_1499C47E8 && (unsigned __int64)a1 < qword_1499C47E8 + 0x200000000LL )
        LogFatalError("Address %p was allocated by persistent malloc and cannot be freed!", a1);
      return sub_147539550((__int64)a1);
    }
  }
  return result;
}

// --- End Function: sub_14753C530 (0x14753C530) ---

// --- Function: atexit (0x147F6A778) ---
int __cdecl atexit(void (__cdecl *Func)())
{
  return (onexit((_onexit_t)Func) != 0) - 1;
}

// --- End Function: atexit (0x147F6A778) ---

// --- Function: __alloca_probe (0x147F6A820) ---
unsigned __int64 __fastcall _alloca_probe()
{
  unsigned __int64 result; // rax
  char *StackLimit_1; // r10
  char *StackLimit; // r11
  char v3; // [rsp+18h] [rbp+8h] BYREF

  StackLimit_1 = &v3 - result;
  if ( (unsigned __int64)&v3 < result )
    StackLimit_1 = 0;
  StackLimit = (char *)NtCurrentTeb()->NtTib.StackLimit;
  if ( StackLimit_1 < StackLimit )
  {
    LOWORD(StackLimit_1) = (unsigned __int16)StackLimit_1 & 0xF000;
    do
    {
      StackLimit += 0xFFFFF000;
      *StackLimit = 0;
    }
    while ( StackLimit_1 != StackLimit );
  }
  return result;
}

// --- End Function: __alloca_probe (0x147F6A820) ---

// --- Function: __security_check_cookie (0x147F6A880) ---
void __cdecl _security_check_cookie(uintptr_t StackCookie)
{
  __int64 v1; // rcx

  if ( StackCookie != _security_cookie )
ReportFailure:
    _report_gsfailure(StackCookie);
  v1 = __ROL8__(StackCookie, 0x10);
  if ( (_WORD)v1 )
  {
    StackCookie = __ROR8__(v1, 0x10);
    goto ReportFailure;
  }
}

// --- End Function: __security_check_cookie (0x147F6A880) ---

// --- Function: memmove (0x147FB92B1) ---
// attributes: thunk
void *__cdecl memmove(void *a1, const void *Src, size_t Size)
{
  return __imp_memmove(a1, Src, Size);
}

// --- End Function: memmove (0x147FB92B1) ---

// --- Function: memset (0x147FB92B7) ---
// attributes: thunk
void *__cdecl memset(void *a1, int Val, size_t Size)
{
  return __imp_memset(a1, Val, Size);
}

// --- End Function: memset (0x147FB92B7) ---

// --- Function: sin (0x147FB940D) ---
// attributes: thunk
double __cdecl sin(double X)
{
  return __imp_sin(X);
}

// --- End Function: sin (0x147FB940D) ---

// --- Function: sub_1480A9820 (0x1480A9820) ---
void __fastcall sub_1480A9820()
{
  sub_1407E76D0((unsigned __int64 *)&qword_1513C40F0, 0, 0);
}

// --- End Function: sub_1480A9820 (0x1480A9820) ---

