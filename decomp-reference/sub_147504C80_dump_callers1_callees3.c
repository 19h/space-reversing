// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Function: 0x147504C80 (sub_147504C80)
// Caller Depth: 1
// Callee/Ref Depth: 3
// Total Functions Found: 75
// ------------------------------------------------------------

// --- Function: sub_1402A63C0 (0x1402A63C0) ---
__int64 __fastcall sub_1402A63C0(__int64 a1)
{
  return sub_14753C530(a1, (unsigned int)dword_1497E7C00);
}

// --- End Function: sub_1402A63C0 (0x1402A63C0) ---

// --- Function: sub_1402A63D0 (0x1402A63D0) ---
__int64 __fastcall sub_1402A63D0(unsigned __int64 allocSize)
{
  return allocWithProfilerInfo(allocSize, 0);
}

// --- End Function: sub_1402A63D0 (0x1402A63D0) ---

// --- Function: sub_1402A6A10 (0x1402A6A10) ---
__int64 *sub_1402A6A10()
{
  return &qword_1499FEA00;
}

// --- End Function: sub_1402A6A10 (0x1402A6A10) ---

// --- Function: ??$_Emplace_reallocate@PEBVAudioBuffer@vraudio@@@?$vector@PEBVAudioBuffer@vraudio@@V?$allocator@PEBVAudioBuffer@vraudio@@@std@@@std@@QEAAPEAPEBVAudioBuffer@vraudio@@QEAPEBV23@$$QEAPEBV23@@Z (0x1402A8DA0) ---
const vraudio::AudioBuffer **__fastcall std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        std::vector<vraudio::AudioBuffer const *> *this,
        const vraudio::AudioBuffer **const _Whereptr,
        const vraudio::AudioBuffer **<_Val_0>)
{
  __int64 v3; // rbp
  __int64 v5; // rax
  unsigned __int64 v8; // rcx
  unsigned __int64 v9; // r12
  unsigned __int64 v10; // rdx
  unsigned __int64 v11; // rsi
  unsigned __int64 allocSize; // rsi
  __int64 v13; // rax
  _QWORD *v14; // rbx
  _QWORD *v15; // r14
  void *v16; // rcx
  const vraudio::AudioBuffer **_Whereptr_2; // r8
  const vraudio::AudioBuffer **_Whereptr_1; // rdx
  size_t Size; // r8
  __int64 v20; // rcx
  const vraudio::AudioBuffer **result; // rax

  v3 = ((__int64)_Whereptr - *(_QWORD *)this) >> 3;
  v5 = (__int64)(*((_QWORD *)this + 1) - *(_QWORD *)this) >> 3;
  if ( v5 == 0x1FFFFFFFFFFFFFFFLL )
    unknown_libname_10(this);
  v8 = (__int64)(*((_QWORD *)this + 2) - *(_QWORD *)this) >> 3;
  v9 = v5 + 1;
  v10 = v8 >> 1;
  if ( v8 > 0x1FFFFFFFFFFFFFFFLL - (v8 >> 1) )
    goto LABEL_24;
  v11 = v5 + 1;
  if ( v10 + v8 >= v9 )
    v11 = v10 + v8;
  if ( v11 > 0x1FFFFFFFFFFFFFFFLL )
    goto LABEL_24;
  allocSize = 8 * v11;
  if ( allocSize < 0x1000 )
  {
    if ( allocSize )
      v14 = (_QWORD *)sub_1402A63D0(allocSize);
    else
      v14 = 0;
    goto LABEL_13;
  }
  if ( allocSize + 0x27 < allocSize )
LABEL_24:
    sub_1402E2610();
  v13 = sub_1402A63D0(allocSize + 0x27);
  if ( !v13 )
    goto LABEL_22;
  v14 = (_QWORD *)((v13 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
  v14[0xFFFFFFFF] = v13;
LABEL_13:
  v15 = &v14[v3];
  *v15 = *<_Val_0>;
  v16 = v14;
  _Whereptr_2 = (const vraudio::AudioBuffer **)*((_QWORD *)this + 1);
  _Whereptr_1 = *(const vraudio::AudioBuffer ***)this;
  if ( _Whereptr == _Whereptr_2 )
  {
    Size = (char *)_Whereptr_2 - (char *)_Whereptr_1;
  }
  else
  {
    memmove(v14, _Whereptr_1, (char *)_Whereptr - (char *)_Whereptr_1);
    v16 = v15 + 1;
    Size = *((_QWORD *)this + 1) - (_QWORD)_Whereptr;
    _Whereptr_1 = _Whereptr;
  }
  memmove(v16, _Whereptr_1, Size);
  v20 = *(_QWORD *)this;
  if ( *(_QWORD *)this )
  {
    if ( ((*((_QWORD *)this + 2) - v20) & 0xFFFFFFFFFFFFFFF8uLL) < 0x1000 )
    {
LABEL_20:
      sub_1402A63C0(v20);
      goto LABEL_21;
    }
    if ( (unsigned __int64)(v20 - *(_QWORD *)(v20 - 8) - 8) <= 0x1F )
    {
      v20 = *(_QWORD *)(v20 - 8);
      goto LABEL_20;
    }
LABEL_22:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_21:
  *(_QWORD *)this = v14;
  result = (const vraudio::AudioBuffer **)&v14[v3];
  *((_QWORD *)this + 1) = &v14[v9];
  *((_QWORD *)this + 2) = &v14[allocSize / 8];
  return result;
}

// --- End Function: ??$_Emplace_reallocate@PEBVAudioBuffer@vraudio@@@?$vector@PEBVAudioBuffer@vraudio@@V?$allocator@PEBVAudioBuffer@vraudio@@@std@@@std@@QEAAPEAPEBVAudioBuffer@vraudio@@QEAPEBV23@$$QEAPEBV23@@Z (0x1402A8DA0) ---

// --- Function: sub_1402B3A80 (0x1402B3A80) ---
_QWORD *__fastcall sub_1402B3A80(_QWORD *a1)
{
  a1[1] = "bad array new length";
  *a1 = off_1480DDD28;
  return a1;
}

// --- End Function: sub_1402B3A80 (0x1402B3A80) ---

// --- Function: NtCurrentTeb_w (0x1402C8360) ---
__int64 sub_1402C8360()
{
  return *((_QWORD *)NtCurrentTeb()->ThreadLocalStoragePointer + (unsigned int)TlsIndex) + 0x310LL;
}

// --- End Function: NtCurrentTeb_w (0x1402C8360) ---

// --- Function: sub_1402D42F0 (0x1402D42F0) ---
__int64 __fastcall sub_1402D42F0(__int64 a1)
{
  __int64 result; // rax
  signed __int64 v3; // rdx

  result = NtCurrentTeb_w();
  if ( *(_DWORD *)(a1 + 8) == *(_DWORD *)(result + 0x18) && (result = *(unsigned int *)(a1 + 0xC), (_DWORD)result) )
  {
    result = (unsigned int)(result - 1);
    *(_DWORD *)(a1 + 0xC) = result;
  }
  else
  {
    v3 = _InterlockedDecrement64((volatile signed __int64 *)a1);
    if ( (v3 & 0x3FF) == 0 )
    {
      result = 0xFFFF0000FFC00000uLL;
      if ( (v3 & 0xFFFF0000FFC00000uLL) != 0 )
        return sub_1403CD3A0(a1);
    }
  }
  return result;
}

// --- End Function: sub_1402D42F0 (0x1402D42F0) ---

// --- Function: ?_Raise@exception@stdext@@QEBAXXZ (0x1402E23F0) ---
void __fastcall __noreturn stdext::exception::_Raise(stdext::exception *this)
{
  if ( std::_Raise_handler )
    std::_Raise_handler(this);
  (*(void (__fastcall **)(stdext::exception *))(*(_QWORD *)this + 0x10LL))(this);
  invoke_watson(0, 0, 0, 0, 0);
}

// --- End Function: ?_Raise@exception@stdext@@QEBAXXZ (0x1402E23F0) ---

// --- Function: sub_1402E2610 (0x1402E2610) ---
void __noreturn sub_1402E2610()
{
  stdext::exception *v0; // rax
  _QWORD v1[3]; // [rsp+20h] [rbp-18h] BYREF

  v0 = (stdext::exception *)sub_1402B3A80(v1);
  stdext::exception::_Raise(v0);
}

// --- End Function: sub_1402E2610 (0x1402E2610) ---

// --- Function: unknown_libname_10 (0x1402E3430) ---
// Microsoft VisualC v14 64bit runtime
void __noreturn unknown_libname_10()
{
  std::_Xlength_error("vector too long");
}

// --- End Function: unknown_libname_10 (0x1402E3430) ---

// --- Function: fprintf (0x1402F8910) ---
int fprintf(FILE *File, const char *Format, ...)
{
  __int64 *v4; // rax
  va_list va; // [rsp+60h] [rbp+18h] BYREF

  va_start(va, Format);
  v4 = sub_1402A6A10();
  return _stdio_common_vfprintf(*v4, File, Format, 0, va);
}

// --- End Function: fprintf (0x1402F8910) ---

// --- Function: ?_Change_array@?$vector@CV?$allocator@C@std@@@std@@AEAAXQEAC_K1@Z (0x1402FC310) ---
__int64 __fastcall std::vector<signed char>::_Change_array(__int64 *a1, __int64 a2, __int64 a3, __int64 a4)
{
  __int64 v6; // rcx
  __int64 result; // rax

  v6 = *a1;
  if ( v6 )
  {
    if ( (unsigned __int64)(a1[2] - v6) >= 0x1000 )
    {
      if ( (unsigned __int64)(v6 - *(_QWORD *)(v6 - 8) - 8) > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v6 = *(_QWORD *)(v6 - 8);
    }
    sub_1402A63C0(v6);
  }
  *a1 = a2;
  a1[1] = a2 + a3;
  result = a2 + a4;
  a1[2] = a2 + a4;
  return result;
}

// --- End Function: ?_Change_array@?$vector@CV?$allocator@C@std@@@std@@AEAAXQEAC_K1@Z (0x1402FC310) ---

// --- Function: invokeGlobalCallbackAndMaskStatusBits (0x140301FB0) ---
// Executes a global callback function if registered, otherwise defaults to a
// status of 1. Subsequently, it masks specific status bits (bits 2 and 3) based on
// the state of global configuration flags (`qword_149B3B208` and
// `qword_149B3B210`).
__int64 invokeGlobalCallbackAndMaskStatusBits(__int64 a1, __int64 a2, __int64 a3, const char *a4, ...)
{
  __int64 result; // rax

  if ( qword_1499FF110 )
    result = qword_1499FF110(a1, a2, a3, a4);
  else
    result = 1;
  if ( !qword_1499FF128 )
    result = (unsigned int)result & 0xFFFFFFFB;
  if ( !qword_1499FF130 )
    return (unsigned int)result & 0xFFFFFFF7;
  return result;
}

// --- End Function: invokeGlobalCallbackAndMaskStatusBits (0x140301FB0) ---

// --- Function: sub_140305B00 (0x140305B00) ---
char __fastcall sub_140305B00(
        int n4_1,
        __int64 a2,
        void *Src_1,
        __int64 a4,
        __int64 __Val_0___8,
        unsigned __int64 _Newcapacity,
        __int64 a7,
        __int64 a8,
        _QWORD *a9,
        __int64 *a10)
{
  _QWORD *v10; // rdi
  __int64 *v11; // rbx
  __int64 v12; // r14
  char result; // al
  unsigned __int64 n0x10; // rax
  __int64 *v15; // r12
  unsigned __int64 n0x400; // rbx
  __int64 v17; // r13
  char *v18; // r15
  __int64 v19; // r14
  const vraudio::AudioBuffer *__Val_0___2; // rdi
  unsigned __int8 v21; // si
  const vraudio::AudioBuffer *__Val_0___5; // r15
  __int64 *v23; // rax
  __int64 *v24; // rdi
  unsigned __int64 n0x400_1; // r14
  __int64 v26; // rcx
  const vraudio::AudioBuffer **__Val_0_; // rbx
  const vraudio::AudioBuffer **_Whereptr; // rdx
  const vraudio::AudioBuffer **_Whereptr_1; // rdx
  unsigned __int64 v30; // r13
  __int64 (__fastcall *v31)(_QWORD, unsigned __int64 *, unsigned __int64 *); // rax
  __int64 v32; // rax
  unsigned __int64 v33; // rcx
  __int64 *v34; // rdi
  _QWORD *v35; // r13
  bool v36; // zf
  _QWORD *v37; // rbx
  _QWORD *v38; // rax
  _BYTE *v39; // rdx
  unsigned __int64 Size_2; // rbx
  size_t Size_1; // r8
  _BYTE *v42; // r9
  __int64 v43; // rcx
  __m256 *v44; // r14
  char *v45; // r14
  const vraudio::AudioBuffer *__Val_0___4; // r12
  unsigned __int64 n0xF; // r13
  __int64 Buf2_1; // r15
  _QWORD *v49; // r14
  _QWORD *v50; // rbx
  __int64 Size_4; // r12
  size_t Size_3; // r8
  _QWORD *Buf1; // rcx
  __m256 *Buf2; // rdx
  __int64 v55; // rax
  __int64 *v56; // rcx
  __int64 v57; // rcx
  _QWORD *v58; // rbx
  __int64 v59; // rcx
  __int64 *v60; // r14
  __int64 Buf2_2; // rax
  __int64 *v62; // rax
  unsigned __int64 n0x400_3; // r15
  __int64 v64; // rcx
  const vraudio::AudioBuffer **__Val_0__1; // rbx
  const vraudio::AudioBuffer **_Whereptr_2; // rdx
  const vraudio::AudioBuffer **_Whereptr_3; // rdx
  __int64 v68; // rax
  char *v69; // r11
  __int64 v70; // r8
  unsigned __int64 _Newcapacity_1; // r10
  char *v72; // rdi
  int v73; // r13d
  __int64 v74; // rcx
  __int64 v75; // r9
  unsigned __int64 n0x400_4; // r8
  __int64 v77; // rdx
  unsigned __int64 n0x8000; // rsi
  unsigned __int64 Size; // rbx
  __int64 n0x100000; // rcx
  unsigned __int64 *p_n0x8000; // rax
  __int64 v82; // rax
  __int64 v83; // r15
  char *v84; // r14
  __int64 v85; // rax
  void *v86; // rsp
  __int64 (__fastcall *v87)(_QWORD, _QWORD, void *, __int64, __int64, __int64, unsigned __int64, _QWORD *, unsigned __int64, __int64 *); // rax
  int v88; // edx
  int v89; // r12d
  char v90; // cl
  int v91; // eax
  FILE *File; // rax
  int n2; // r8d
  FILE *File_1; // rax
  char v95; // al
  bool v96; // dl
  bool v97; // cl
  unsigned __int64 *p_n0x8000_1; // rcx
  __int64 v99; // rax
  unsigned __int64 n0x8000_2; // rbx
  __int64 Buffer_2; // rax
  __int64 Buffer_3; // rsi
  double *Buffer_1; // r8
  __int64 v104; // rax
  void *v105; // rsp
  char v106; // dl
  Stream *Stream; // rax
  Stream *Stream_1; // rax
  __int64 *v109; // rsi
  _QWORD **v110; // rcx
  _QWORD *v111; // rbx
  unsigned __int64 n0xF_1; // rdx
  _QWORD *v113; // rdi
  __int64 v114; // rcx
  __int64 *v115; // rbx
  __int64 v116; // rcx
  int v117; // [rsp+90h] [rbp-10h]
  unsigned __int8 v118; // [rsp+A0h] [rbp+0h] BYREF
  unsigned __int64 n0x400_2; // [rsp+A8h] [rbp+8h]
  __int64 *v120; // [rsp+B0h] [rbp+10h]
  __int64 v121; // [rsp+B8h] [rbp+18h]
  int n4; // [rsp+C0h] [rbp+20h]
  __int64 v123; // [rsp+C8h] [rbp+28h] BYREF
  unsigned __int64 v124; // [rsp+D0h] [rbp+30h]
  char *v125; // [rsp+D8h] [rbp+38h]
  struct _FILETIME FileTime; // [rsp+E0h] [rbp+40h] BYREF
  unsigned __int64 n0x10_1; // [rsp+E8h] [rbp+48h]
  __int64 __Val_0___7; // [rsp+F0h] [rbp+50h]
  int v129[2]; // [rsp+F8h] [rbp+58h]
  unsigned __int64 __Val_0__; // [rsp+100h] [rbp+60h] BYREF
  unsigned __int64 v131; // [rsp+108h] [rbp+68h] BYREF
  __int64 __Val_0___3; // [rsp+110h] [rbp+70h]
  __int64 v133; // [rsp+118h] [rbp+78h]
  void *Src; // [rsp+120h] [rbp+80h]
  __int64 v135; // [rsp+128h] [rbp+88h]
  const vraudio::AudioBuffer *__Val_0___6; // [rsp+130h] [rbp+90h]
  _QWORD *v137; // [rsp+138h] [rbp+98h]
  const vraudio::AudioBuffer *__Val_0___1; // [rsp+140h] [rbp+A0h] BYREF
  unsigned __int64 _Newcapacity_2; // [rsp+148h] [rbp+A8h]
  __int64 n0x100000_1; // [rsp+150h] [rbp+B0h] BYREF
  unsigned __int64 n0x8000_1; // [rsp+158h] [rbp+B8h] BYREF
  __int64 *v142; // [rsp+160h] [rbp+C0h] BYREF
  __int64 *v143; // [rsp+168h] [rbp+C8h] BYREF
  unsigned __int64 v144; // [rsp+170h] [rbp+D0h]
  __m256 v145; // [rsp+180h] [rbp+E0h] BYREF
  _SYSTEMTIME SystemTime; // [rsp+1A0h] [rbp+100h] BYREF
  _QWORD v147[16]; // [rsp+1B0h] [rbp+110h] BYREF
  _QWORD v148[1024]; // [rsp+230h] [rbp+190h] BYREF
  char Buffer[32]; // [rsp+2230h] [rbp+2190h] BYREF
  wchar_t String[20]; // [rsp+2250h] [rbp+21B0h] BYREF

  v10 = a9;
  v11 = a10;
  v133 = a4;
  Src = Src_1;
  v135 = a2;
  n4 = n4_1;
  __Val_0___7 = __Val_0___8;
  if ( qword_1499FF0A8 )
  {
    v12 = qword_1499FF0A8();
  }
  else
  {
    GetSystemTime(&SystemTime);
    SystemTimeToFileTime(&SystemTime, &FileTime);
    v12 = SystemTime.wMilliseconds + 0x3E8LL * (int)((*(_QWORD *)&FileTime - 0x19DB1DED53E8000LL) / 0x989680uLL);
  }
  *(_QWORD *)v129 = v12;
  if ( v11 )
  {
    result = sub_1403011F0(v12, v10, v11, __Val_0___8, _Newcapacity);
    if ( !result )
      return result;
  }
  if ( qword_1499FF100 )
  {
    FileTime = (struct _FILETIME)((__int64 (__fastcall *)(wchar_t *, __int64))qword_1499FF100)(String, 0x25);
  }
  else
  {
    FileTime = (struct _FILETIME)qword_1499FF170++;
    swprintf(String, 0x25u, "00000000-0000-0000-0000-000000000000");
  }
  sub_140301EF0(Buffer, 0x20u, v12);
  v143 = (__int64 *)&v142;
  n0x10 = 0;
  v142 = 0;
  v15 = 0;
  v120 = 0;
  n0x400 = 0;
  n0x400_2 = 0;
  v17 = 0;
  v121 = 0;
  v18 = 0;
  n0x10_1 = 0;
  v19 = 0;
  v125 = 0;
  v123 = 0;
  _Newcapacity_2 = 0;
  if ( !_Newcapacity )
  {
LABEL_105:
    v72 = (char *)v148;
    goto LABEL_106;
  }
  __Val_0___2 = (const vraudio::AudioBuffer *)__Val_0___7;
  v21 = v118;
  __Val_0___3 = __Val_0___7;
  while ( 2 )
  {
    __Val_0___5 = __Val_0___2;
    if ( *((_BYTE *)__Val_0___2 + 0x59) && n0x10 < 0x10 )
    {
      v147[n0x10++] = __Val_0___2;
      n0x10_1 = n0x10;
    }
    *(_QWORD *)&SystemTime.wYear = n0x10;
    __Val_0__ = (unsigned __int64)__Val_0___2;
    if ( n0x400 < 0x400 )
    {
      v148[n0x400] = __Val_0___2;
LABEL_30:
      n0x400_2 = ++n0x400;
      goto LABEL_31;
    }
    if ( byte_1497E7748 )
    {
      if ( !v15 )
      {
        __asm { vzeroupper }
        v23 = (__int64 *)sub_1402A63D0(0x18u);
        v15 = v23;
        v120 = v23;
        if ( v23 )
        {
          v24 = v23;
          *v23 = 0;
          n0x400_1 = 0;
          v23[1] = 0;
          v26 = (__int64)v23;
          v23[2] = 0;
        }
        else
        {
          v15 = 0;
          v24 = 0;
          n0x400_1 = 0;
          v120 = 0;
          v26 = 0;
        }
        sub_140305A10(v26, _Newcapacity);
        __Val_0_ = (const vraudio::AudioBuffer **)v148;
        do
        {
          _Whereptr = (const vraudio::AudioBuffer **)v24[1];
          if ( _Whereptr == (const vraudio::AudioBuffer **)v24[2] )
          {
            std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
              (std::vector<vraudio::AudioBuffer const *> *)v15,
              _Whereptr,
              __Val_0_);
          }
          else
          {
            *_Whereptr = *__Val_0_;
            v24[1] += 8;
          }
          ++n0x400_1;
          ++__Val_0_;
        }
        while ( n0x400_1 < 0x400 );
        n0x400 = n0x400_2;
        __Val_0___2 = (const vraudio::AudioBuffer *)__Val_0___3;
        v19 = v123;
      }
      _Whereptr_1 = (const vraudio::AudioBuffer **)v15[1];
      if ( _Whereptr_1 == (const vraudio::AudioBuffer **)v15[2] )
      {
        __asm { vzeroupper }
        std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
          (std::vector<vraudio::AudioBuffer const *> *)v15,
          _Whereptr_1,
          (const vraudio::AudioBuffer **)&__Val_0__);
      }
      else
      {
        *_Whereptr_1 = __Val_0___2;
        v15[1] += 8;
      }
      goto LABEL_30;
    }
LABEL_31:
    v121 = *((_QWORD *)__Val_0___2 + 0xD) + v17;
    __asm { vzeroupper }
    *((_QWORD *)__Val_0___2 + 1) = sub_140300900(&v143, (__int64)__Val_0___2);
    v30 = v19;
    v31 = (__int64 (__fastcall *)(_QWORD, unsigned __int64 *, unsigned __int64 *))*((_QWORD *)__Val_0___2 + 7);
    v144 = v19++;
    v123 = v19;
    if ( !v31 )
    {
      v69 = v125;
      goto LABEL_98;
    }
    __Val_0__ = 0;
    v131 = 0;
    v32 = v31(*(_QWORD *)__Val_0___2, &v131, &__Val_0__);
    v33 = 0;
    v124 = 0;
    if ( !v131 )
      goto LABEL_94;
    v34 = v143;
    v35 = (_QWORD *)(v32 + 0x10);
    v137 = (_QWORD *)(v32 + 0x10);
    do
    {
      __Val_0___5 = (const vraudio::AudioBuffer *)(v35 + 0xFFFFFFFE);
      __Val_0___6 = (const vraudio::AudioBuffer *)(v35 + 0xFFFFFFFE);
      v36 = *v35 == 0;
      v123 = v19 + 1;
      v35[8] = v19;
      if ( v36 )
      {
        v58 = (_QWORD *)v35[0xFFFFFFFF];
        v60 = 0;
      }
      else
      {
        if ( !*v34 )
        {
          __asm { vzeroupper }
          v37 = (_QWORD *)sub_1402A63D0(0x10u);
          if ( v37 )
          {
            *v37 = 0;
            v37[1] = 0;
            v38 = (_QWORD *)sub_1402A63D0(0x30u);
            *v38 = v38;
            v38[1] = v38;
            *v37 = v38;
          }
          else
          {
            v37 = 0;
          }
          *v34 = (__int64)v37;
        }
        v39 = (_BYTE *)v35[0xFFFFFFFF];
        Size_2 = 0xFFFFFFFFFFFFFFFFuLL;
        memset(&v145, 0, sizeof(v145));
        Size_1 = 0xFFFFFFFFFFFFFFFFuLL;
        do
          ++Size_1;
        while ( v39[Size_1] );
        __asm { vzeroupper }
        sub_1402FC640(&v145, v39, Size_1);
        v42 = (_BYTE *)*v35;
        do
          ++Size_2;
        while ( v42[Size_2] );
        v43 = *(_QWORD *)&v145.m256_f32[4];
        if ( Size_2 > *(_QWORD *)&v145.m256_f32[6] - *(_QWORD *)&v145.m256_f32[4] )
        {
          sub_1402ABCE0((const void **)&v145, Size_2, v21, v42, Size_2);
        }
        else
        {
          v44 = &v145;
          *(_QWORD *)&v145.m256_f32[4] += Size_2;
          if ( *(_QWORD *)&v145.m256_f32[6] > 0xFu )
            v44 = *(__m256 **)v145.m256_f32;
          v45 = (char *)v44 + v43;
          memmove(v45, v42, Size_2);
          v45[Size_2] = 0;
        }
        __Val_0___4 = (const vraudio::AudioBuffer *)*v34;
        n0xF = *(_QWORD *)&v145.m256_f32[6];
        Buf2_1 = *(_QWORD *)v145.m256_f32;
        __Val_0___1 = __Val_0___4;
        v49 = *(_QWORD **)__Val_0___4;
        v50 = **(_QWORD ***)__Val_0___4;
        if ( v50 == *(_QWORD **)__Val_0___4 )
          goto LABEL_59;
        Size_4 = *(_QWORD *)&v145.m256_f32[4];
        do
        {
          Size_3 = v50[4];
          Buf1 = v50 + 2;
          Buf2 = &v145;
          if ( n0xF > 0xF )
            Buf2 = (__m256 *)Buf2_1;
          if ( v50[5] > 0xFu )
            Buf1 = (_QWORD *)*Buf1;
          if ( Size_3 == Size_4 && !memcmp(Buf1, Buf2, Size_3) )
            break;
          v50 = (_QWORD *)*v50;
        }
        while ( v50 != v49 );
        __Val_0___4 = __Val_0___1;
        if ( v50 == v49 )
        {
LABEL_59:
          if ( *((_QWORD *)__Val_0___4 + 1) == 0x555555555555555LL )
            std::_Xlength_error("list too long");
          v55 = sub_1402A63D0(0x30u);
          *(_QWORD *)(v55 + 0x20) = 0;
          *(_QWORD *)(v55 + 0x28) = 0;
          *(__m256 *)(v55 + 0x10) = v145;
          *(_QWORD *)&v145.m256_f32[4] = 0;
          *(_QWORD *)&v145.m256_f32[6] = 0xF;
          LOBYTE(v145.m256_f32[0]) = 0;
          ++*((_QWORD *)__Val_0___4 + 1);
          v56 = (__int64 *)v49[1];
          *(_QWORD *)v55 = v49;
          *(_QWORD *)(v55 + 8) = v56;
          v49[1] = v55;
          *v56 = v55;
          v57 = *(_QWORD *)*v34;
          v58 = (_QWORD *)(*(_QWORD *)(v57 + 8) + 0x10LL);
          if ( *(_QWORD *)(*(_QWORD *)(v57 + 8) + 0x28LL) > 0xFu )
            v58 = (_QWORD *)*v58;
          if ( *(_QWORD *)&v145.m256_f32[6] > 0xFu )
          {
            v59 = *(_QWORD *)v145.m256_f32;
            if ( (unsigned __int64)(*(_QWORD *)&v145.m256_f32[6] + 1LL) >= 0x1000 )
            {
              v59 = *(_QWORD *)(*(_QWORD *)v145.m256_f32 - 8LL);
              if ( (unsigned __int64)(*(_QWORD *)v145.m256_f32 - v59 - 8) > 0x1F )
                goto LABEL_100;
            }
            __asm { vzeroupper }
            sub_1402A63C0(v59);
          }
LABEL_66:
          v15 = v120;
          v60 = 0;
          v35 = v137;
          __Val_0___5 = __Val_0___6;
          v33 = v124;
          *(_QWORD *)&v145.m256_f32[4] = 0;
          LOBYTE(v145.m256_f32[0]) = 0;
          *(_QWORD *)&v145.m256_f32[6] = 0xF;
          goto LABEL_74;
        }
        v58 = v50 + 2;
        if ( v58[3] > 0xFu )
          v58 = (_QWORD *)*v58;
        if ( n0xF <= 0xF )
          goto LABEL_66;
        Buf2_2 = Buf2_1;
        if ( n0xF + 1 >= 0x1000 )
        {
          Buf2_1 = *(_QWORD *)(Buf2_1 - 8);
          if ( (unsigned __int64)(Buf2_2 - Buf2_1 - 8) > 0x1F )
          {
LABEL_100:
            __asm { vzeroupper }
            invalid_parameter_noinfo_noreturn();
          }
        }
        sub_1402A63C0(Buf2_1);
        v15 = v120;
        v60 = 0;
        v35 = v137;
        __Val_0___5 = __Val_0___6;
        v33 = v124;
        *(_QWORD *)&v145.m256_f32[4] = 0;
        LOBYTE(v145.m256_f32[0]) = 0;
        *(_QWORD *)&v145.m256_f32[6] = 0xF;
      }
LABEL_74:
      *((_QWORD *)__Val_0___5 + 1) = v58;
      n0x400 = n0x400_2;
      __Val_0___1 = __Val_0___5;
      if ( n0x400_2 >= 0x400 )
      {
        if ( !byte_1497E7748 )
          goto LABEL_92;
        if ( !v15 )
        {
          __asm { vzeroupper }
          v62 = (__int64 *)sub_1402A63D0(0x18u);
          n0x400_3 = 0;
          v120 = v62;
          v15 = v62;
          if ( v62 )
          {
            *v62 = 0;
            v64 = (__int64)v62;
            v62[1] = 0;
            v62[2] = 0;
            v60 = v62;
          }
          else
          {
            v15 = 0;
            v120 = 0;
            v64 = 0;
          }
          sub_140305A10(v64, _Newcapacity);
          __Val_0__1 = (const vraudio::AudioBuffer **)v148;
          do
          {
            _Whereptr_2 = (const vraudio::AudioBuffer **)v60[1];
            if ( _Whereptr_2 == (const vraudio::AudioBuffer **)v60[2] )
            {
              std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
                (std::vector<vraudio::AudioBuffer const *> *)v15,
                _Whereptr_2,
                __Val_0__1);
            }
            else
            {
              *_Whereptr_2 = *__Val_0__1;
              v60[1] += 8;
            }
            ++n0x400_3;
            ++__Val_0__1;
          }
          while ( n0x400_3 < 0x400 );
          n0x400 = n0x400_2;
          __Val_0___5 = __Val_0___6;
        }
        _Whereptr_3 = (const vraudio::AudioBuffer **)v15[1];
        if ( _Whereptr_3 == (const vraudio::AudioBuffer **)v15[2] )
        {
          __asm { vzeroupper }
          std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
            (std::vector<vraudio::AudioBuffer const *> *)v15,
            _Whereptr_3,
            &__Val_0___1);
        }
        else
        {
          *_Whereptr_3 = __Val_0___5;
          v15[1] += 8;
        }
        v33 = v124;
      }
      else
      {
        v148[n0x400_2] = __Val_0___5;
      }
      n0x400_2 = ++n0x400;
LABEL_92:
      ++v33;
      v68 = v35[0xB] + v121;
      v35 += 0xE;
      v19 = v123;
      v121 = v68;
      v124 = v33;
      v137 = v35;
    }
    while ( v33 < v131 );
    __Val_0___2 = (const vraudio::AudioBuffer *)__Val_0___3;
    v30 = v144;
LABEL_94:
    if ( __Val_0__ > 1 )
      v30 = 0xFFFFFFFFFFFFFFFFuLL;
    v69 = &v125[__Val_0__];
    v125 += __Val_0__;
LABEL_98:
    __Val_0___2 = (const vraudio::AudioBuffer *)((char *)__Val_0___2 + 0x70);
    v70 = v121;
    _Newcapacity_1 = _Newcapacity_2 + 1;
    *((_QWORD *)__Val_0___5 + 0xA) = v30;
    _Newcapacity_2 = _Newcapacity_1;
    __Val_0___3 = (__int64)__Val_0___2;
    if ( _Newcapacity_1 < _Newcapacity )
    {
      n0x10 = n0x10_1;
      v17 = v70;
      continue;
    }
    break;
  }
  v18 = v69;
  n0x10_1 = *(_QWORD *)&SystemTime.wYear;
  v120 = v15;
  n0x400_2 = n0x400;
  v121 = v70;
  v125 = v69;
  if ( !v15 )
    goto LABEL_105;
  if ( !((v15[1] - *v15) >> 3) )
    __debugbreak();
  v72 = (char *)*v15;
  v120 = v15;
  n0x400_2 = n0x400;
  v121 = v70;
  n0x10_1 = *(_QWORD *)&SystemTime.wYear;
  v125 = v69;
LABEL_106:
  __asm { vzeroupper }
  sub_1402FF400(v72, &v72[8 * n0x400], (__int64)(8 * n0x400) >> 3, v118);
  v73 = 0;
  v74 = 0;
  v75 = 0;
  for ( n0x400_4 = 0; n0x400_4 < n0x400; ++n0x400_4 )
  {
    v77 = *(_QWORD *)&v72[8 * n0x400_4];
    if ( v75 == *(_QWORD *)(v77 + 8) )
    {
      if ( ++v74 == 1 )
        *(_QWORD *)(*(_QWORD *)&v72[8 * n0x400_4 - 8] + 0x50LL) = 0;
      *(_QWORD *)(*(_QWORD *)&v72[8 * n0x400_4] + 0x50LL) = v74;
    }
    else
    {
      v74 = 0;
      *(_QWORD *)(v77 + 0x50) = -(__int64)(*(_QWORD *)(v77 + 0x50) != 0xFFFFFFFFFFFFFFFFuLL);
      v75 = *(_QWORD *)(*(_QWORD *)&v72[8 * n0x400_4] + 8LL);
    }
  }
  n0x8000 = 0x8000;
  Size = Size_0;
  n0x100000 = 0x100000;
  if ( ::n0x8000 )
    n0x8000 = ::n0x8000;
  n0x8000_1 = n0x8000;
  if ( ::n0x100000 )
    n0x100000 = ::n0x100000;
  n0x100000_1 = n0x100000;
  p_n0x8000 = (unsigned __int64 *)&n0x100000_1;
  if ( !byte_1497E7748 )
    p_n0x8000 = &n0x8000_1;
  if ( !Size_0 )
    Size = (_QWORD)(v18 + 1) << 0xA;
  if ( *p_n0x8000 < Size )
    Size = *p_n0x8000;
  if ( Size <= n0x8000 )
  {
    v83 = 0;
  }
  else
  {
    v82 = sub_1402A63D0(Size);
    v83 = v82;
    if ( v82 )
    {
      v84 = (char *)v82;
      goto LABEL_130;
    }
  }
  v85 = Size + 0xF;
  if ( Size + 0xF < Size )
    v85 = 0xFFFFFFFFFFFFFF0LL;
  v86 = alloca(v85 & 0xFFFFFFFFFFFFFFF0uLL);
  v84 = (char *)&v118;
LABEL_130:
  v87 = (__int64 (__fastcall *)(_QWORD, _QWORD, void *, __int64, __int64, __int64, unsigned __int64, _QWORD *, unsigned __int64, __int64 *))qword_1499FF118;
  v88 = 1;
  *v84 = 0;
  v89 = 0;
  LODWORD(v123) = 0;
  LODWORD(v124) = 1;
  if ( v87 && qword_1499FF120 && byte_1497E7748 )
  {
    v88 = v87(*(_QWORD *)v129, (unsigned int)n4, Src, v135, v133, __Val_0___7, _Newcapacity, v147, n0x10_1, &a8);
    LODWORD(v124) = v88;
  }
  v90 = a8;
  if ( (a8 & 0xFFFFF) != 0 )
  {
    v91 = sub_140303880(
            *(_QWORD *)&FileTime,
            *(__int64 *)v129,
            (__int64)String,
            n4,
            (__int64 *)v135,
            Src,
            v133,
            (_QWORD *)__Val_0___7,
            _Newcapacity,
            a7,
            v84,
            Size,
            (int *)&v123,
            v88,
            &a8);
    v90 = a8;
    v89 = v91;
    v73 = v123;
  }
  if ( ::n2 == 1 && (v90 & 1) != 0 )
  {
    File = __acrt_iob_func(1u);
    fprintf(File, "%s %s\n", Buffer, v84);
    v90 = a8;
  }
  n2 = n2_0;
  if ( n2_0 == 1 && (v90 & 2) != 0 )
  {
    File_1 = __acrt_iob_func(n2_0 + 1);
    fprintf(File_1, "%s %s\n", Buffer, v84);
    n2 = n2_0;
  }
  v84[v89] = 0;
  v95 = a8;
  v96 = (a8 & 1) != 0 && ::n2 == 2;
  v97 = (a8 & 2) != 0 && n2 == 2;
  if ( (a8 & 0xFFF18) != 0 || v96 || v97 )
  {
    p_n0x8000_1 = (unsigned __int64 *)&n0x100000_1;
    if ( !byte_1497E7748 )
      p_n0x8000_1 = &n0x8000_1;
    v99 = qword_1499FF158;
    if ( !qword_1499FF158 )
      v99 = v121 + v89 + ((_QWORD)(v125 + 4) << 9);
    n0x8000_2 = v99 + 0x80;
    if ( *p_n0x8000_1 < v99 + 0x80 )
      n0x8000_2 = *p_n0x8000_1;
    if ( n0x8000_2 <= n0x8000 )
    {
      Buffer_3 = 0;
    }
    else
    {
      Buffer_2 = sub_1402A63D0(n0x8000_2);
      Buffer_3 = Buffer_2;
      if ( Buffer_2 )
      {
        Buffer_1 = (double *)Buffer_2;
        goto LABEL_166;
      }
    }
    v104 = n0x8000_2 + 0xF;
    if ( n0x8000_2 + 0xF < n0x8000_2 )
      v104 = 0xFFFFFFFFFFFFFF0LL;
    v105 = alloca(v104 & 0xFFFFFFFFFFFFFFF0uLL);
    Buffer_1 = (double *)&v118;
LABEL_166:
    v117 = v124;
    *(_BYTE *)Buffer_1 = 0;
    sub_140304380(
      *(_QWORD *)&FileTime,
      *(__int64 *)v129,
      Buffer,
      String,
      n4,
      (_QWORD *)v135,
      Src,
      v133,
      __Val_0___7,
      _Newcapacity,
      a7,
      (__int64)v72,
      n0x400_2,
      Buffer_1,
      n0x8000_2 - 0x80,
      (__int64)&v84[v73],
      v89 - v73,
      a8,
      v117);
    sub_1402A63C0(Buffer_3);
    v95 = a8;
  }
  v106 = byte_1499FEDC8;
  if ( byte_1499FEDC8 )
  {
    if ( (v95 & 1) != 0 )
    {
      Stream = __acrt_iob_func(1u);
      fflush(Stream);
      v95 = a8;
      v106 = byte_1499FEDC8;
    }
    if ( v106 )
    {
      if ( (v95 & 2) != 0 )
      {
        Stream_1 = __acrt_iob_func(2u);
        fflush(Stream_1);
      }
    }
  }
  result = sub_1402A63C0(v83);
  v109 = v142;
  if ( v142 )
  {
    v110 = (_QWORD **)*v142;
    **(_QWORD **)(*v142 + 8) = 0;
    v111 = *v110;
    if ( *v110 )
    {
      do
      {
        n0xF_1 = v111[5];
        v113 = (_QWORD *)*v111;
        if ( n0xF_1 > 0xF )
        {
          v114 = v111[2];
          if ( n0xF_1 + 1 >= 0x1000 )
          {
            if ( (unsigned __int64)(v114 - *(_QWORD *)(v114 - 8) - 8) > 0x1F )
              goto LABEL_189;
            v114 = *(_QWORD *)(v114 - 8);
          }
          sub_1402A63C0(v114);
        }
        v111[4] = 0;
        v111[5] = 0xF;
        *((_BYTE *)v111 + 0x10) = 0;
        sub_1402A63C0((__int64)v111);
        v111 = v113;
      }
      while ( v113 );
    }
    sub_1402A63C0(*v109);
    result = sub_1402A63C0((__int64)v109);
  }
  v115 = v120;
  if ( v120 )
  {
    v116 = *v120;
    if ( *v120 )
    {
      if ( ((v120[2] - v116) & 0xFFFFFFFFFFFFFFF8uLL) >= 0x1000 )
      {
        if ( (unsigned __int64)(v116 - *(_QWORD *)(v116 - 8) - 8) > 0x1F )
LABEL_189:
          invalid_parameter_noinfo_noreturn();
        v116 = *(_QWORD *)(v116 - 8);
      }
      sub_1402A63C0(v116);
      *v115 = 0;
      v115[1] = 0;
      v115[2] = 0;
    }
    return sub_1402A63C0((__int64)v115);
  }
  return result;
}

// --- End Function: sub_140305B00 (0x140305B00) ---

// --- Function: sub_14034EA00 (0x14034EA00) ---
__int64 __fastcall sub_14034EA00(__int64 a1, unsigned __int64 allocSize_2, unsigned __int8 *a3)
{
  unsigned __int64 allocSize; // rbx
  __int64 v7; // rbp
  unsigned __int64 v8; // rcx
  unsigned __int64 v9; // rdx
  unsigned __int64 allocSize_1; // rcx
  __int64 v11; // rax
  _QWORD *v12; // rdi

  allocSize = 0x7FFFFFFFFFFFFFFFLL;
  if ( allocSize_2 > 0x7FFFFFFFFFFFFFFFLL )
    unknown_libname_10();
  v7 = *(_QWORD *)(a1 + 8) - *(_QWORD *)a1;
  v8 = *(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1;
  v9 = v8 >> 1;
  if ( v8 <= 0x7FFFFFFFFFFFFFFFLL - (v8 >> 1) )
  {
    allocSize = v9 + v8;
    if ( v9 + v8 < allocSize_2 )
      allocSize = allocSize_2;
    if ( allocSize < 0x1000 )
    {
      if ( allocSize )
        v12 = (_QWORD *)sub_1402A63D0(allocSize);
      else
        v12 = 0;
      goto LABEL_15;
    }
    allocSize_1 = allocSize + 0x27;
    if ( allocSize + 0x27 < allocSize )
      sub_1402E2610();
  }
  else
  {
    allocSize_1 = 0x8000000000000026uLL;
  }
  v11 = sub_1402A63D0(allocSize_1);
  if ( !v11 )
    invalid_parameter_noinfo_noreturn();
  v12 = (_QWORD *)((v11 + 0x27) & 0xFFFFFFFFFFFFFFE0uLL);
  v12[0xFFFFFFFF] = v11;
LABEL_15:
  memset((char *)v12 + v7, *a3, allocSize_2 - v7);
  memmove(v12, *(const void **)a1, *(_QWORD *)(a1 + 8) - *(_QWORD *)a1);
  return std::vector<signed char>::_Change_array((__int64 *)a1, (__int64)v12, allocSize_2, allocSize);
}

// --- End Function: sub_14034EA00 (0x14034EA00) ---

// --- Function: assignCStringToStringStructure (0x140379990) ---
// Assigns the content of the null-terminated C-string `a2` to the custom string
// structure pointed to by `a1`. Calculates the length of `a2` and calls
// `sub_1403D9750` to handle buffer management and copying.
__int64 __fastcall assignCStringToStringStructure(__int64 a1, __int64 a2)
{
  unsigned __int64 v4; // rax

  if ( a2 )
  {
    v4 = 0xFFFFFFFFFFFFFFFFuLL;
    do
      ++v4;
    while ( *(_BYTE *)(a2 + v4) );
    sub_1403DF8F0(a1, a2, (int)v4);
    return a1;
  }
  else
  {
    sub_1403DF8F0(a1, 0, 0);
    return a1;
  }
}

// --- End Function: assignCStringToStringStructure (0x140379990) ---

// --- Function: sub_14039C6F0 (0x14039C6F0) ---
char __fastcall sub_14039C6F0(__int64 a1, __int64 a2)
{
  signed __int64 v5; // rdx
  char v6; // bl
  __int64 v7; // r14
  unsigned __int64 v8; // rsi
  char *v9; // rcx
  char n0x2D; // bp
  bool v11; // al
  char v12; // bl

  if ( !*(_QWORD *)(a1 + 0x10) )
    return 1;
  if ( *(_DWORD *)(a1 + 0x28) == *(_DWORD *)(NtCurrentTeb_w() + 0x18) )
  {
    ++*(_DWORD *)(a1 + 0x2C);
  }
  else
  {
    v5 = _InterlockedIncrement64((volatile signed __int64 *)(a1 + 0x20));
    if ( (v5 & 0x200000) != 0 )
      sub_1403CD0A0(
        (volatile signed __int64 *)(a1 + 0x20),
        v5,
        (__int64)"SStringFilterCheck::Check",
        (__int64)"m_rwLock",
        1);
  }
  v6 = *(_BYTE *)(a1 + 0x30);
  v7 = 0;
  v8 = 0;
  if ( *(_QWORD *)(a1 + 8) )
  {
    do
    {
      v9 = *(char **)(*(_QWORD *)a1 + 8 * v8);
      if ( v9 )
      {
        n0x2D = *v9;
        v11 = a2 && sub_1403EC1C0(a2, &v9[n0x2D == 0x2D]);
        if ( n0x2D == 0x2D )
        {
          if ( v11 )
            goto LABEL_24;
        }
        else
        {
          ++v7;
          if ( *(_BYTE *)(a1 + 0x30) )
            v6 &= v11;
          else
            v6 |= v11;
        }
      }
      ++v8;
    }
    while ( v8 < *(_QWORD *)(a1 + 8) );
    if ( v7 && v6 != 1 )
    {
LABEL_24:
      v12 = 0;
      goto LABEL_23;
    }
  }
  v12 = 1;
LABEL_23:
  sub_1402D42F0(a1 + 0x20);
  return v12;
}

// --- End Function: sub_14039C6F0 (0x14039C6F0) ---

// --- Function: sub_1403C51B0 (0x1403C51B0) ---
__int64 __fastcall sub_1403C51B0(volatile signed __int32 *a1, unsigned __int32 a2, __int64 a3, char a4)
{
  __int64 result; // rax
  char v8; // r14
  signed __int32 v9; // ecx
  bool v10; // zf
  unsigned __int32 v11; // esi
  signed __int32 v12; // eax
  unsigned __int32 v13; // [rsp+30h] [rbp-69h] BYREF
  unsigned __int32 v14[3]; // [rsp+34h] [rbp-65h] BYREF
  int n0x1600; // [rsp+40h] [rbp-59h] BYREF
  __int64 v16; // [rsp+44h] [rbp-55h]
  int v17; // [rsp+4Ch] [rbp-4Dh]
  __int64 v18; // [rsp+50h] [rbp-49h]
  unsigned __int64 v19; // [rsp+58h] [rbp-41h]
  __int64 v20; // [rsp+60h] [rbp-39h]
  __int64 v21; // [rsp+68h] [rbp-31h]
  int n0x1600_1; // [rsp+90h] [rbp-9h] BYREF
  __int64 v23; // [rsp+94h] [rbp-5h]
  int v24; // [rsp+9Ch] [rbp+3h]
  __int64 v25; // [rsp+A0h] [rbp+7h]
  unsigned __int64 v26; // [rsp+A8h] [rbp+Fh]
  __int64 v27; // [rsp+B0h] [rbp+17h]
  __int64 v28; // [rsp+B8h] [rbp+1Fh]

  if ( a4 && *(_BYTE *)(NtCurrentTeb_w() + 0x1C) && qword_149A143C8 )
    return sub_1403C5370(a1, a2, a3);
  v8 = 0;
  do
  {
    while ( (a2 & 1) != 0 )
    {
      if ( v8 )
      {
        n0x1600 = 0x1600;
        v16 = 0;
        v17 = 0;
        v19 = 0;
        v20 = 0;
        v21 = 0;
        v18 = 1;
        qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
        v13 = a2;
        qword_1499FF3E8(a1, &v13, 4, 0xFFFFFFFFLL);
        a2 = *a1;
        v19 = __rdtsc();
        qword_149A0FD88(&n0x1600);
      }
      else
      {
        v11 = a2 + 2;
        v12 = _InterlockedCompareExchange(a1, a2 + 2, a2);
        v10 = a2 == v12;
        a2 = v12;
        if ( v10 )
        {
          n0x1600_1 = 0x1600;
          v23 = 0;
          v24 = 0;
          v26 = 0;
          v8 = 1;
          v27 = 0;
          v28 = 0;
          v25 = 1;
          qword_149A0FD80(&n0x1600_1, 0, &Source, &Source, 0);
          v14[0] = v11;
          qword_1499FF3E8(a1, v14, 4, 0xFFFFFFFFLL);
          a2 = *a1;
          v26 = __rdtsc();
          qword_149A0FD88(&n0x1600_1);
        }
      }
    }
    v9 = (a2 | 1) - 2;
    if ( !v8 )
      v9 = a2 | 1;
    result = (unsigned int)_InterlockedCompareExchange(a1, v9, a2);
    v10 = a2 == (_DWORD)result;
    a2 = result;
  }
  while ( !v10 );
  return result;
}

// --- End Function: sub_1403C51B0 (0x1403C51B0) ---

// --- Function: sub_1403C5370 (0x1403C5370) ---
__int64 __fastcall sub_1403C5370(volatile signed __int32 *a1, unsigned __int32 a2)
{
  __int64 v2; // r15
  __int64 v5; // rax
  __int64 v6; // rsi
  unsigned int v7; // r14d
  __int64 result; // rax
  unsigned __int32 v9; // ett
  int v10; // edx
  bool v11; // zf
  signed __int32 v12; // eax
  unsigned __int32 v13; // ett
  int n0x1600; // [rsp+30h] [rbp-69h] BYREF
  __int64 v15; // [rsp+34h] [rbp-65h]
  int v16; // [rsp+3Ch] [rbp-5Dh]
  __int64 v17; // [rsp+40h] [rbp-59h]
  unsigned __int64 v18; // [rsp+48h] [rbp-51h]
  __int64 v19; // [rsp+50h] [rbp-49h]
  __int64 v20; // [rsp+58h] [rbp-41h]
  int n0x1600_1; // [rsp+80h] [rbp-19h] BYREF
  __int64 v22; // [rsp+84h] [rbp-15h]
  int v23; // [rsp+8Ch] [rbp-Dh]
  __int64 v24; // [rsp+90h] [rbp-9h]
  unsigned __int64 v25; // [rsp+98h] [rbp-1h]
  __int64 v26; // [rsp+A0h] [rbp+7h]
  __int64 v27; // [rsp+A8h] [rbp+Fh]
  char v28; // [rsp+100h] [rbp+67h] BYREF
  char v29; // [rsp+108h] [rbp+6Fh] BYREF

  v2 = qword_149A14308;
  v5 = NtCurrentTeb_w();
  v6 = *(_QWORD *)v5;
  v7 = *(_DWORD *)(*(_QWORD *)v5 + 0x1CLL);
  (*(void (__fastcall **)(__int64, char *, char *))(*(_QWORD *)v2 + 0xF8LL))(v2, &v28, &v29);
  do
  {
    while ( (a2 & 1) != 0 )
    {
      v10 = v7 << 0x10;
      if ( (a2 & 0xFFFF0000) != 0 )
      {
        *(_DWORD *)(v6 + 0x24) = HIWORD(a2);
        v12 = _InterlockedCompareExchange(a1, v10 | (unsigned __int16)a2, a2);
        v11 = a2 == v12;
        a2 = v12;
        if ( v11 )
        {
          n0x1600 = 0x1600;
          v15 = 0;
          v16 = 0;
          v18 = 0;
          v19 = 0;
          v20 = 0;
          v17 = 1;
          qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v2 + 0xE8LL))(v2, v7);
          a2 = *a1;
          v7 = *(_DWORD *)(v6 + 0x1C);
          v18 = __rdtsc();
          qword_149A0FD88(&n0x1600);
        }
      }
      else
      {
        *(_DWORD *)(v6 + 0x24) = 0xFFFFFFFF;
        v13 = a2;
        a2 = _InterlockedCompareExchange(a1, a2 | v10, a2);
        if ( v13 == a2 )
        {
          n0x1600_1 = 0x1600;
          v22 = 0;
          v23 = 0;
          v25 = 0;
          v26 = 0;
          v27 = 0;
          v24 = 1;
          qword_149A0FD80(&n0x1600_1, 0, &Source, &Source, 0);
          (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v2 + 0xE8LL))(v2, v7);
          a2 = *a1;
          v7 = *(_DWORD *)(v6 + 0x1C);
          v25 = __rdtsc();
          qword_149A0FD88(&n0x1600_1);
        }
      }
    }
    v9 = a2;
    result = (unsigned int)_InterlockedCompareExchange(a1, a2 | 1, a2);
    a2 = result;
  }
  while ( v9 != (_DWORD)result );
  return result;
}

// --- End Function: sub_1403C5370 (0x1403C5370) ---

// --- Function: sub_1403CD0A0 (0x1403CD0A0) ---
void __fastcall sub_1403CD0A0(volatile signed __int64 *a1, signed __int64 a2, __int64 a3, __int64 a4, char a5)
{
  int *p_n0x1600; // rcx
  int v10; // esi
  bool v11; // zf
  signed __int64 v12; // rax
  int v13; // [rsp+30h] [rbp-61h] BYREF
  _DWORD v14[3]; // [rsp+34h] [rbp-5Dh] BYREF
  int n0x1600_1; // [rsp+40h] [rbp-51h] BYREF
  __int64 v16; // [rsp+44h] [rbp-4Dh]
  int v17; // [rsp+4Ch] [rbp-45h]
  __int64 v18; // [rsp+50h] [rbp-41h]
  unsigned __int64 v19; // [rsp+58h] [rbp-39h]
  __int64 v20; // [rsp+60h] [rbp-31h]
  __int64 v21; // [rsp+68h] [rbp-29h]
  int n0x1600; // [rsp+90h] [rbp-1h] BYREF
  __int64 v23; // [rsp+94h] [rbp+3h]
  int v24; // [rsp+9Ch] [rbp+Bh]
  __int64 v25; // [rsp+A0h] [rbp+Fh]
  unsigned __int64 v26; // [rsp+A8h] [rbp+17h]
  __int64 v27; // [rsp+B0h] [rbp+1Fh]
  __int64 v28; // [rsp+B8h] [rbp+27h]

  if ( a5 && *(_BYTE *)(NtCurrentTeb_w() + 0x1C) && qword_149A143C8 )
  {
    sub_1403CD260(a1, a2, a3, a4);
    return;
  }
  if ( (a2 & 0x200000) != 0 )
  {
    while ( 1 )
    {
      if ( (a2 & 0xFFC00) != 0 )
        (*(void (__fastcall **)(__int64, volatile signed __int64 *))(*(_QWORD *)qword_149A14308 + 0x128LL))(
          qword_149A14308,
          a1);
      if ( (a2 & 0x100000) != 0 )
        break;
      v10 = a2 | 0x100000;
      v12 = _InterlockedCompareExchange64(a1, a2 | 0x100000, a2);
      v11 = a2 == v12;
      a2 = v12;
      if ( v11 )
      {
        n0x1600 = 0x1600;
        v23 = 0;
        v24 = 0;
        v26 = 0;
        v27 = 0;
        v28 = 0;
        v25 = 1;
        qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
        v14[0] = v10;
        qword_1499FF3E8(a1, v14, 4, 0xFFFFFFFFLL);
        a2 = *a1;
        p_n0x1600 = &n0x1600;
        v26 = __rdtsc();
        goto LABEL_12;
      }
LABEL_13:
      if ( (a2 & 0x200000) == 0 )
        return;
    }
    n0x1600_1 = 0x1600;
    v16 = 0;
    v17 = 0;
    v19 = 0;
    v20 = 0;
    v21 = 0;
    v18 = 1;
    qword_149A0FD80(&n0x1600_1, 0, &Source, &Source, 0);
    v13 = a2;
    qword_1499FF3E8(a1, &v13, 4, 0xFFFFFFFFLL);
    a2 = *a1;
    p_n0x1600 = &n0x1600_1;
    v19 = __rdtsc();
LABEL_12:
    qword_149A0FD88(p_n0x1600);
    goto LABEL_13;
  }
}

// --- End Function: sub_1403CD0A0 (0x1403CD0A0) ---

// --- Function: sub_1403CD260 (0x1403CD260) ---
__int64 __fastcall sub_1403CD260(volatile signed __int64 *a1, signed __int64 a2)
{
  __int64 v2; // r14
  __int64 v5; // rax
  __int64 v6; // rsi
  unsigned int v7; // r15d
  __int64 result; // rax
  unsigned __int64 v9; // rdx
  signed __int64 v10; // rax
  unsigned __int64 v11; // rcx
  signed __int64 v12; // rtt
  _BYTE v13[16]; // [rsp+30h] [rbp-19h] BYREF
  int n0x1600; // [rsp+40h] [rbp-9h] BYREF
  __int64 v15; // [rsp+44h] [rbp-5h]
  int v16; // [rsp+4Ch] [rbp+3h]
  __int64 v17; // [rsp+50h] [rbp+7h]
  unsigned __int64 v18; // [rsp+58h] [rbp+Fh]
  __int64 v19; // [rsp+60h] [rbp+17h]
  __int64 v20; // [rsp+68h] [rbp+1Fh]
  char v21; // [rsp+B8h] [rbp+6Fh] BYREF

  v2 = qword_149A14308;
  v5 = NtCurrentTeb_w();
  v6 = *(_QWORD *)v5;
  v7 = *(_DWORD *)(*(_QWORD *)v5 + 0x1CLL);
  result = (*(__int64 (__fastcall **)(__int64, _BYTE *, char *))(*(_QWORD *)v2 + 0xF8LL))(v2, v13, &v21);
  if ( (a2 & 0x200000) != 0 )
  {
    v9 = (unsigned __int64)v7 << 0x20;
    while ( 1 )
    {
      v10 = a2;
      if ( (a2 & 0xFFFF00000000LL) != 0 )
      {
        *(_DWORD *)(v6 + 0x24) = WORD2(a2);
        v11 = v9 | a2 & 0xFFFF0000FFFFFFFFuLL;
        v10 = a2;
      }
      else
      {
        *(_DWORD *)(v6 + 0x24) = 0xFFFFFFFF;
        v11 = a2 | v9;
      }
      v12 = v10;
      result = _InterlockedCompareExchange64(a1, v11, v10);
      a2 = result;
      if ( v12 == result )
        break;
      if ( (result & 0x200000) == 0 )
        return result;
    }
    n0x1600 = 0x1600;
    v15 = 0;
    v16 = 0;
    v18 = 0;
    v19 = 0;
    v20 = 0;
    v17 = 1;
    qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v2 + 0xE8LL))(v2, v7);
    v18 = __rdtsc();
    return qword_149A0FD88(&n0x1600);
  }
  return result;
}

// --- End Function: sub_1403CD260 (0x1403CD260) ---

// --- Function: sub_1403CD3A0 (0x1403CD3A0) ---
__int64 __fastcall sub_1403CD3A0(volatile signed __int64 *a1, unsigned __int64 a2)
{
  signed __int64 v4; // rdx
  unsigned int v5; // r8d
  __int64 result; // rax
  unsigned __int64 v7; // rbx
  int v8; // [rsp+60h] [rbp+8h] BYREF
  int v9; // [rsp+68h] [rbp+10h] BYREF
  __int64 v10; // [rsp+70h] [rbp+18h] BYREF
  __int64 v11; // [rsp+78h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2;
    if ( (a2 & 0xFFC00000) == 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
        qword_149A14308,
        &v10,
        &v8);
      v4 = a2 & 0xFFFFFFFFFFFFLL;
      v5 = *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned int)(v8 - 1)) + v10 + 0x24);
      if ( v5 != 0xFFFFFFFF )
        v4 |= (unsigned __int64)v5 << 0x30;
    }
    result = _InterlockedCompareExchange64(a1, v4, a2);
    if ( a2 == result )
      break;
    if ( (result & 0x3FF) != 0 || (result & 0x200000) != 0 || (result & 0xFFFF0000FFC00000uLL) == 0 )
      return result;
    a2 = result;
  }
  if ( (a2 & 0xFFC00000) != 0 )
    return qword_1499FF3F0(a1);
  result = 0xFFFF000000000000uLL;
  if ( (a2 & 0xFFFF000000000000uLL) != 0 )
  {
    (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
      qword_149A14308,
      &v11,
      &v9);
    v7 = HIWORD(a2);
    *(_DWORD *)(0xC0LL * ((unsigned int)v7 & (v9 - 1)) + v11 + 0x1C) = (unsigned __int16)(v7 + v9);
    return (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149A14308 + 0xD8LL))(
             qword_149A14308,
             (unsigned int)v7);
  }
  return result;
}

// --- End Function: sub_1403CD3A0 (0x1403CD3A0) ---

// --- Function: sub_1403DCC00 (0x1403DCC00) ---
__int64 __fastcall sub_1403DCC00(volatile signed __int32 *a1, unsigned __int32 a2)
{
  signed __int32 v4; // ebx
  int v5; // edx
  __int64 result; // rax
  int v7; // [rsp+50h] [rbp+8h] BYREF
  int v8; // [rsp+58h] [rbp+10h] BYREF
  __int64 v9; // [rsp+60h] [rbp+18h] BYREF
  __int64 v10; // [rsp+68h] [rbp+20h] BYREF

  while ( 1 )
  {
    v4 = a2 & 0xFFFFFFFE;
    if ( (a2 & 0xFFFE) == 0 && (a2 & 0xFFFF0000) != 0 )
    {
      (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
        qword_149A14308,
        &v9,
        &v8);
      v4 = (unsigned __int16)v4;
      v5 = *(_DWORD *)(0xC0 * (((unsigned __int64)a2 >> 0x10) & (unsigned int)(v8 - 1)) + v9 + 0x24);
      if ( v5 != 0xFFFFFFFF )
        v4 = (v5 << 0x10) | (unsigned __int16)v4;
    }
    result = (unsigned int)_InterlockedCompareExchange(a1, v4, a2);
    if ( a2 == (_DWORD)result )
      break;
    a2 = result;
  }
  if ( (a2 & 0xFFFE) != 0 )
    return qword_1499FF3F0(a1);
  if ( (a2 & 0xFFFF0000) != 0 )
  {
    (*(void (__fastcall **)(__int64, __int64 *, int *))(*(_QWORD *)qword_149A14308 + 0xF8LL))(
      qword_149A14308,
      &v10,
      &v7);
    *(_DWORD *)(0xC0 * (HIWORD(a2) & (unsigned __int64)(unsigned int)(v7 - 1)) + v10 + 0x1C) = (unsigned __int16)(HIWORD(a2) + v7);
    return (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149A14308 + 0xD8LL))(qword_149A14308);
  }
  return result;
}

// --- End Function: sub_1403DCC00 (0x1403DCC00) ---

// --- Function: sub_1403DF8F0 (0x1403DF8F0) ---
void *__fastcall sub_1403DF8F0(void **a1, void *a2, size_t Size)
{
  char *v5; // rcx
  int *v7; // rcx
  _DWORD *v8; // rax
  void *result; // rax

  v5 = (char *)*a1;
  if ( Size > *((int *)v5 + 0xFFFFFFFF) )
  {
    v7 = (int *)(v5 + 0xFFFFFFF8);
    if ( v7[1] > 0 )
      sub_14753C530(v7, (unsigned int)dword_1497E7C00);
    *a1 = (char *)&qword_1499FF28C + 4;
    if ( Size )
    {
      v8 = (_DWORD *)allocWithProfilerInfo(Size + 9, 0);
      *a1 = v8 + 2;
      *v8 = Size;
      v8[1] = Size;
      *((_BYTE *)*a1 + Size) = 0;
    }
  }
  if ( *a1 != a2 )
    memcpy(*a1, a2, Size);
  *((_DWORD *)*a1 + 0xFFFFFFFE) = Size;
  result = *a1;
  *((_BYTE *)*a1 + Size) = 0;
  return result;
}

// --- End Function: sub_1403DF8F0 (0x1403DF8F0) ---

// --- Function: AcquireSRWLockShared (0x1403E4D30) ---
// attributes: thunk
void __stdcall AcquireSRWLockShared(PSRWLOCK SRWLock)
{
  __imp_AcquireSRWLockShared(SRWLock);
}

// --- End Function: AcquireSRWLockShared (0x1403E4D30) ---

// --- Function: ReleaseSRWLockShared (0x1403E4D40) ---
// attributes: thunk
void __stdcall ReleaseSRWLockShared(PSRWLOCK SRWLock)
{
  __imp_ReleaseSRWLockShared(SRWLock);
}

// --- End Function: ReleaseSRWLockShared (0x1403E4D40) ---

// --- Function: sub_1403E6140 (0x1403E6140) ---
__int64 sub_1403E6140()
{
  return sub_1402A63D0(1u);
}

// --- End Function: sub_1403E6140 (0x1403E6140) ---

// --- Function: sub_1403E6180 (0x1403E6180) ---
_QWORD *__fastcall sub_1403E6180(_QWORD *a1)
{
  _QWORD *result; // rax
  _QWORD *v3; // rdi
  _BYTE *v4; // rbx
  unsigned __int64 v5; // rcx
  size_t Size; // rsi
  void *v8; // rax

  result = (_QWORD *)sub_1402A63D0(0x18u);
  v3 = result;
  if ( result )
  {
    result[2] = 0;
    *result = *a1;
    v4 = (_BYTE *)a1[1];
    sub_1402A63C0(0);
    v5 = 0xFFFFFFFFFFFFFFFFuLL;
    while ( v4[++v5] != 0 )
      ;
    Size = v5 + 1;
    v8 = (void *)sub_1402A63D0(v5 + 1);
    v3[2] = v8;
    v3[1] = v8;
    if ( Size )
    {
      if ( v8 )
      {
        if ( v4 )
        {
          memcpy(v8, v4, Size);
          return v3;
        }
        memset(v8, 0, Size);
      }
      *errno() = 0x16;
      invalid_parameter_noinfo();
    }
    return v3;
  }
  return result;
}

// --- End Function: sub_1403E6180 (0x1403E6180) ---

// --- Function: sub_1403E6440 (0x1403E6440) ---
__int64 __fastcall sub_1403E6440(__int64 a1)
{
  return sub_1402A63C0(a1);
}

// --- End Function: sub_1403E6440 (0x1403E6440) ---

// --- Function: sub_1403E6460 (0x1403E6460) ---
__int64 __fastcall sub_1403E6460(__int64 a1)
{
  __int64 result; // rax

  if ( a1 )
  {
    sub_1402A63C0(*(_QWORD *)(a1 + 0x10));
    return sub_1402A63C0(a1);
  }
  return result;
}

// --- End Function: sub_1403E6460 (0x1403E6460) ---

// --- Function: sub_1403E8C30 (0x1403E8C30) ---
bool __fastcall sub_1403E8C30(__int64 a1, __int64 a2)
{
  unsigned __int8 *v2; // rax
  unsigned __int8 *v3; // r8
  signed __int64 v4; // r8
  int v5; // ecx
  int v6; // edx

  v2 = *(unsigned __int8 **)(a1 + 8);
  v3 = *(unsigned __int8 **)(a2 + 8);
  if ( v2 == v3 )
    return 1;
  if ( !v2 || !v3 )
    return 0;
  v4 = v3 - v2;
  do
  {
    v5 = v2[v4];
    v6 = *v2 - v5;
    if ( v6 )
      break;
    ++v2;
  }
  while ( v5 );
  return !v6;
}

// --- End Function: sub_1403E8C30 (0x1403E8C30) ---

// --- Function: sub_1403E8DD0 (0x1403E8DD0) ---
char __fastcall sub_1403E8DD0(__int64 a1, _BYTE *a2)
{
  unsigned int n0x10; // r8d
  __int64 v3; // rcx

  n0x10 = 0;
  v3 = a1 - (_QWORD)a2;
  while ( a2[v3] == *a2 )
  {
    ++n0x10;
    ++a2;
    if ( n0x10 >= 0x10 )
      return 1;
  }
  return 0;
}

// --- End Function: sub_1403E8DD0 (0x1403E8DD0) ---

// --- Function: sub_1403EC1C0 (0x1403EC1C0) ---
__int64 __fastcall sub_1403EC1C0(__int64 a1, const char *String2)
{
  unsigned __int64 v2; // rbx
  unsigned __int64 MaxCount_1; // rax
  int v6; // edi
  int v7; // ebx
  size_t MaxCount; // r15

  v2 = 0xFFFFFFFFFFFFFFFFuLL;
  MaxCount_1 = 0xFFFFFFFFFFFFFFFFuLL;
  do
    ++MaxCount_1;
  while ( String2[MaxCount_1] );
  v6 = 0;
  do
    ++v2;
  while ( *(_BYTE *)(a1 + v2) );
  v7 = v2 - MaxCount_1;
  if ( v7 < 0 )
    return 0;
  MaxCount = (int)MaxCount_1;
  while ( _strnicmp((const char *)(a1 + v6), String2, MaxCount) )
  {
    if ( ++v6 > v7 )
      return 0;
  }
  return a1 + v6;
}

// --- End Function: sub_1403EC1C0 (0x1403EC1C0) ---

// --- Function: sub_1403EC580 (0x1403EC580) ---
__int64 __fastcall sub_1403EC580(__int64 a1, __int64 a2, __int64 a3, __int64 a4)
{
  const char *p_null; // r8

  p_null = "null";
  LOBYTE(a4) = 1;
  if ( *(_QWORD *)(a1 + 8) )
    p_null = *(const char **)(a1 + 8);
  return sub_140302250(a2, a3, p_null, a4);
}

// --- End Function: sub_1403EC580 (0x1403EC580) ---

// --- Function: sub_1403EC6E0 (0x1403EC6E0) ---
__int64 __fastcall sub_1403EC6E0(__int64 a1, __int64 a2, unsigned __int64 n0xC_1)
{
  int v3; // edi
  int n0xC; // ebx
  int v8; // eax
  void *v9; // rcx
  int v10; // eax
  __int64 v11; // rcx
  int v12; // eax
  void *v13; // rcx
  int v14; // eax
  _WORD *v15; // rax

  v3 = 0;
  n0xC = 0;
  if ( (int)n0xC_1 > 0 )
  {
    if ( n0xC_1 <= 0xC )
    {
      v3 = 1;
    }
    else
    {
      if ( a2 )
      {
        *(double *)a2 = 0x496563617254227BLL;
        *(_DWORD *)(a2 + 8) = 0x223A2264;
      }
      else
      {
        *errno() = 0x16;
        invalid_parameter_noinfo();
      }
      n0xC = 0xC;
      if ( (int)n0xC_1 <= 0xC )
        goto LABEL_52;
    }
    v8 = sub_1404F5A60(a1, (unsigned int)n0xC + a2, n0xC_1 - (unsigned int)n0xC);
    if ( v8 < 0 )
    {
      v3 = 1;
    }
    else
    {
      n0xC += v8;
      if ( n0xC >= (int)n0xC_1 )
        goto LABEL_52;
    }
    if ( n0xC_1 - n0xC <= 0x13 )
    {
      v3 = 1;
    }
    else
    {
      v9 = (void *)(a2 + n0xC);
      if ( v9 )
      {
        qmemcpy(v9, "\",\"TraceParentId\":\"", 0x13);
      }
      else
      {
        *errno() = 0x16;
        invalid_parameter_noinfo();
      }
      n0xC += 0x13;
      if ( n0xC >= (int)n0xC_1 )
        goto LABEL_52;
    }
    v10 = sub_1404F5400(a1, n0xC + a2, n0xC_1 - n0xC);
    if ( v10 < 0 )
    {
      v3 = 1;
    }
    else
    {
      n0xC += v10;
      if ( n0xC >= (int)n0xC_1 )
        goto LABEL_52;
    }
    if ( n0xC_1 - n0xC <= 0xC )
    {
      v3 = 1;
    }
    else
    {
      v11 = a2 + n0xC;
      if ( v11 )
      {
        *(double *)v11 = 0x496E617053222C22LL;
        *(_DWORD *)(v11 + 8) = 0x223A2264;
      }
      else
      {
        *errno() = 0x16;
        invalid_parameter_noinfo();
      }
      n0xC += 0xC;
      if ( n0xC >= (int)n0xC_1 )
        goto LABEL_52;
    }
    v12 = sub_1404F5650(a1, n0xC + a2, n0xC_1 - n0xC);
    if ( v12 < 0 )
    {
      v3 = 1;
    }
    else
    {
      n0xC += v12;
      if ( n0xC >= (int)n0xC_1 )
        goto LABEL_52;
    }
    if ( n0xC_1 - n0xC <= 0x12 )
    {
      v3 = 1;
    }
    else
    {
      v13 = (void *)(a2 + n0xC);
      if ( v13 )
      {
        qmemcpy(v13, "\",\"ParentSpanId\":\"", 0x12);
      }
      else
      {
        *errno() = 0x16;
        invalid_parameter_noinfo();
      }
      n0xC += 0x12;
      if ( n0xC >= (int)n0xC_1 )
        goto LABEL_52;
    }
    v14 = sub_1404F52B0(a1, n0xC + a2, n0xC_1 - n0xC);
    if ( v14 < 0 )
    {
      v3 = 1;
      goto LABEL_46;
    }
    n0xC += v14;
    if ( n0xC < (int)n0xC_1 )
    {
LABEL_46:
      if ( n0xC_1 - n0xC <= 2 )
      {
        v3 = 1;
      }
      else
      {
        v15 = (_WORD *)(a2 + n0xC);
        if ( v15 )
        {
          *v15 = 0x7D22;
        }
        else
        {
          *errno() = 0x16;
          invalid_parameter_noinfo();
        }
        n0xC += 2;
      }
    }
  }
LABEL_52:
  if ( v3 )
    return 0xFFFFFFFF;
  return (unsigned int)n0xC;
}

// --- End Function: sub_1403EC6E0 (0x1403EC6E0) ---

// --- Function: sub_1403ECA20 (0x1403ECA20) ---
__int64 __fastcall sub_1403ECA20(__int64 a1, void *a2, size_t Size_1, __int64 a4, char a5)
{
  const char *p_null; // rdx
  __int64 result; // rax
  size_t Size; // rbx

  p_null = "null";
  if ( *(_QWORD *)(a1 + 8) )
    p_null = *(const char **)(a1 + 8);
  if ( a5 )
    return sub_140302250(a2, Size_1, p_null, 0);
  result = 0xFFFFFFFFFFFFFFFFuLL;
  Size = 0xFFFFFFFFFFFFFFFFuLL;
  do
    ++Size;
  while ( p_null[Size] );
  if ( Size < Size_1 )
  {
    if ( Size )
    {
      if ( a2 )
      {
        if ( p_null )
        {
          memcpy(a2, p_null, Size);
          return (unsigned int)Size;
        }
        memset(a2, 0, Size_1);
      }
      *errno() = 0x16;
      invalid_parameter_noinfo();
    }
    return (unsigned int)Size;
  }
  return result;
}

// --- End Function: sub_1403ECA20 (0x1403ECA20) ---

// --- Function: sub_1403ECB40 (0x1403ECB40) ---
// attributes: thunk
__int64 __fastcall sub_1403ECB40(__int64 a1, __int64 a2, __int64 a3)
{
  return sub_1404F5A60(a1, a2, a3);
}

// --- End Function: sub_1403ECB40 (0x1403ECB40) ---

// --- Function: sub_1404B5860 (0x1404B5860) ---
_QWORD *sub_1404B5860()
{
  __int64 v0; // rbx
  _QWORD *result; // rax
  _QWORD *v2; // rax
  _QWORD *v3; // rdx
  __int64 n0x10; // rcx
  _QWORD *v5; // rax
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 TlsIndex; // rcx
  __int64 v8; // rcx
  int v9; // eax

  v0 = *(_QWORD *)(NtCurrentTeb_w() + 0x10);
  if ( !v0 )
  {
    sub_14053B400("fallback thread");
    v0 = *(_QWORD *)(NtCurrentTeb_w() + 0x10);
  }
  result = *(_QWORD **)(v0 + 0x18);
  if ( !result )
  {
    v2 = (_QWORD *)sub_1402A63D0(0xB08u);
    v3 = v2;
    if ( v2 )
    {
      *v2 = 0;
      n0x10 = 0x10;
      v5 = v2 + 1;
      do
      {
        *(__m256i *)v5 = (__m256i)0LL;
        v5[4] = 0;
        v5[5] = 0;
        *(__m256i *)(v5 + 6) = (__m256i)0LL;
        *(__m256i *)(v5 + 0xA) = (__m256i)0LL;
        *(__m256i *)(v5 + 0xE) = (__m256i)0LL;
        *(__m256i *)(v5 + 0x12) = (__m256i)0LL;
        v5 += 0x16;
        --n0x10;
      }
      while ( n0x10 );
    }
    else
    {
      v3 = 0;
    }
    ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
    TlsIndex = (unsigned int)::TlsIndex;
    *(_QWORD *)(v0 + 0x18) = v3;
    v8 = ThreadLocalStoragePointer[TlsIndex];
    v9 = *(_DWORD *)(v8 + 0xF0);
    if ( (v9 & 1) == 0 )
    {
      *(_DWORD *)(v8 + 0xF0) = v9 | 1;
      __asm { vzeroupper }
      _tlregdtor(sub_147FF5D90);
      v3 = *(_QWORD **)(v0 + 0x18);
    }
    result = v3;
  }
  __asm { vzeroupper }
  return result;
}

// --- End Function: sub_1404B5860 (0x1404B5860) ---

// --- Function: getThreadLogContextSlot (0x1404BF640) ---
// Retrieves a pointer to the current thread's logging context slot from Thread
// Local Storage (TLS). The specific slot is determined by an index stored within
// the TLS data block.
int *getThreadLogContextSlot()
{
  unsigned __int64 *v0; // rax
  unsigned __int64 *v1; // rcx
  unsigned __int64 n0xF; // rax

  v0 = sub_1404B5860();
  v1 = v0;
  if ( !v0 )
    return &qword_149A09EF0;
  n0xF = *v0;
  if ( n0xF > 0xF )
    n0xF = 0xF;
  return (int *)&v1[0x16 * n0xF + 1];
}

// --- End Function: getThreadLogContextSlot (0x1404BF640) ---

// --- Function: ?__scrt_is_event_api_used@@YA_NQEAX@Z (0x14053A5D0) ---
bool __fastcall __scrt_is_event_api_used(void *const a1)
{
  return a1 != 0;
}

// --- End Function: ?__scrt_is_event_api_used@@YA_NQEAX@Z (0x14053A5D0) ---

// --- Function: sub_14053AF50 (0x14053AF50) ---
__int64 __fastcall sub_14053AF50(HANDLE hFile, __int64 a2, unsigned __int64 nNumberOfBytesToWrite_2, _QWORD *a4)
{
  __int64 nNumberOfBytesToWrite_3; // rdi
  unsigned __int64 nNumberOfBytesToWrite_1; // rsi
  DWORD nNumberOfBytesToWrite; // ebp
  unsigned __int32 err; // eax
  DWORD NumberOfBytesWritten; // [rsp+68h] [rbp+10h] BYREF

  nNumberOfBytesToWrite_3 = 0;
  nNumberOfBytesToWrite_1 = nNumberOfBytesToWrite_2;
  do
  {
    NumberOfBytesWritten = 0;
    nNumberOfBytesToWrite = nNumberOfBytesToWrite_1;
    if ( nNumberOfBytesToWrite_1 > 0xFFFFFFFF )
      nNumberOfBytesToWrite = 0xFFFFFFFF;
    if ( !WriteFile(hFile, (LPCVOID)(nNumberOfBytesToWrite_3 + a2), nNumberOfBytesToWrite, &NumberOfBytesWritten, 0) )
    {
      err = GetLastError();
      return sub_14053AD90(err);
    }
    nNumberOfBytesToWrite_3 += nNumberOfBytesToWrite;
    nNumberOfBytesToWrite_1 -= nNumberOfBytesToWrite;
  }
  while ( nNumberOfBytesToWrite_3 != nNumberOfBytesToWrite_2 );
  if ( a4 )
    *a4 = nNumberOfBytesToWrite_3;
  return 0;
}

// --- End Function: sub_14053AF50 (0x14053AF50) ---

// --- Function: sub_140567BF0 (0x140567BF0) ---
__int64 sub_140567BF0()
{
  struct _FILETIME FileTime; // [rsp+20h] [rbp-28h] BYREF
  struct _SYSTEMTIME SystemTime; // [rsp+28h] [rbp-20h] BYREF

  GetSystemTime(&SystemTime);
  SystemTimeToFileTime(&SystemTime, &FileTime);
  return SystemTime.wMilliseconds + 0x3E8LL * (int)((*(_QWORD *)&FileTime - 0x19DB1DED53E8000LL) / 0x989680uLL);
}

// --- End Function: sub_140567BF0 (0x140567BF0) ---

// --- Function: sub_14056ADD0 (0x14056ADD0) ---
int __fastcall sub_14056ADD0(const CHAR *lpText, const CHAR *lpCaption, UINT uType)
{
  __int64 v6; // rax

  if ( qword_149A142A0 )
  {
    v6 = (*(__int64 (__fastcall **)(__int64, const char *))(*(_QWORD *)qword_149A142A0 + 0xC0LL))(
           qword_149A142A0,
           "sys_no_crash_dialog");
    if ( v6 )
    {
      if ( (*(unsigned int (__fastcall **)(__int64))(*(_QWORD *)v6 + 0x10LL))(v6) )
        return 0;
    }
  }
  if ( byte_149A14492 )
    return 0;
  byte_149A144A8 = 1;
  return MessageBoxA(0, lpText, lpCaption, uType);
}

// --- End Function: sub_14056ADD0 (0x14056ADD0) ---

// --- Function: sub_140598C00 (0x140598C00) ---
_QWORD *__fastcall sub_140598C00(_QWORD *a1, _QWORD *a2, _QWORD *a3)
{
  *a2 = *a1 - *a3;
  return a2;
}

// --- End Function: sub_140598C00 (0x140598C00) ---

// --- Function: sub_140598C70 (0x140598C70) ---
bool __fastcall sub_140598C70(_QWORD *a1, _QWORD *a2)
{
  return *a1 < *a2;
}

// --- End Function: sub_140598C70 (0x140598C70) ---

// --- Function: sub_140598DA0 (0x140598DA0) ---
__m128 sub_140598DA0()
{
  __int128 v3; // kr00_16

  _XMM0 = 0;
  __asm { vcvtsi2sd xmm0, xmm0, qword ptr [rcx] }
  *((_QWORD *)&v3 + 1) = *((_QWORD *)&_XMM0 + 1);
  *(double *)&v3 = *(double *)&_XMM0 * 0.0000001;
  return (__m128)v3;
}

// --- End Function: sub_140598DA0 (0x140598DA0) ---

// --- Function: sub_14749F4C0 (0x14749F4C0) ---
char __fastcall sub_14749F4C0(
        int n4,
        __int64 a2,
        void *a3,
        __int64 a4,
        __int64 a5,
        int a6,
        _QWORD *a7,
        __int64 *a8,
        __int64 a9,
        _QWORD *a10,
        _QWORD *a11)
{
  void *v14; // rsp
  const char *p_null; // r8
  unsigned __int64 v16; // rax
  const char *p_null_1; // rdx
  unsigned __int64 v18; // rcx
  __int64 v20; // [rsp+18h] [rbp-168h]
  _QWORD __Val_0___[11]; // [rsp+30h] [rbp-150h] BYREF
  __int16 n0x100; // [rsp+88h] [rbp-F8h]
  __int64 n0xB0; // [rsp+90h] [rbp-F0h]
  __int64 n0xA8; // [rsp+98h] [rbp-E8h]
  _QWORD *v25; // [rsp+A0h] [rbp-E0h]
  const char *p_LegacyLog; // [rsp+A8h] [rbp-D8h]
  __int64 v27; // [rsp+B0h] [rbp-D0h]
  __int64 (__fastcall *p_sub_1403ECA20)(__int64, void *, size_t, __int64, char); // [rsp+B8h] [rbp-C8h]
  __int64 (__fastcall *p_sub_1403EC580)(__int64, __int64, __int64, __int64); // [rsp+C0h] [rbp-C0h]
  __int64 v30; // [rsp+C8h] [rbp-B8h]
  bool (__fastcall *p_sub_1403E8C30)(__int64, __int64); // [rsp+D0h] [rbp-B0h]
  __int64 v32; // [rsp+D8h] [rbp-A8h]
  __int64 (__fastcall *p_sub_1403E6460)(__int64); // [rsp+E0h] [rbp-A0h]
  _QWORD *(__fastcall *p_sub_1403E6180)(_QWORD *); // [rsp+E8h] [rbp-98h]
  unsigned __int64 v35; // [rsp+F0h] [rbp-90h]
  char v36; // [rsp+F8h] [rbp-88h]
  char v37; // [rsp+F9h] [rbp-87h]
  __int64 n0x18; // [rsp+100h] [rbp-80h]
  unsigned __int64 v39; // [rsp+108h] [rbp-78h]
  _QWORD *v40; // [rsp+110h] [rbp-70h]
  const char *p_LegacyLogType; // [rsp+118h] [rbp-68h]
  __int64 v42; // [rsp+120h] [rbp-60h]
  __int64 (__fastcall *p_sub_1403ECA20_1)(__int64, void *, size_t, __int64, char); // [rsp+128h] [rbp-58h]
  __int64 (__fastcall *p_sub_1403EC580_1)(__int64, __int64, __int64, __int64); // [rsp+130h] [rbp-50h]
  __int64 v45; // [rsp+138h] [rbp-48h]
  bool (__fastcall *p_sub_1403E8C30_1)(__int64, __int64); // [rsp+140h] [rbp-40h]
  __int64 v47; // [rsp+148h] [rbp-38h]
  __int64 (__fastcall *p_sub_1403E6460_1)(__int64); // [rsp+150h] [rbp-30h]
  _QWORD *(__fastcall *p_sub_1403E6180_1)(_QWORD *); // [rsp+158h] [rbp-28h]
  unsigned __int64 v50; // [rsp+160h] [rbp-20h]
  char v51; // [rsp+168h] [rbp-18h]
  char v52; // [rsp+169h] [rbp-17h]
  __int64 n0x18_1; // [rsp+170h] [rbp-10h]
  unsigned __int64 v54; // [rsp+178h] [rbp-8h]

  v14 = alloca(0x150);
  p_null = "null";
  __Val_0___[0] = a9;
  p_LegacyLog = "LegacyLog";
  __Val_0___[1] = "TraceContext";
  __Val_0___[3] = sub_1403ECB40;
  __Val_0___[4] = sub_1403EC6E0;
  __Val_0___[6] = sub_1403E8DD0;
  __Val_0___[8] = sub_1403E6440;
  v25 = a10;
  __Val_0___[9] = sub_1403E6140;
  v16 = 0xFFFFFFFFFFFFFFFFuLL;
  __Val_0___[0xA] = 0xFFFFFFFFFFFFFFFFuLL;
  n0x100 = 0x100;
  __Val_0___[2] = 0;
  __Val_0___[5] = 0;
  __Val_0___[7] = 0;
  n0xB0 = 0xB0;
  n0xA8 = 0xA8;
  v37 = 0;
  v27 = *a10;
  p_sub_1403ECA20 = sub_1403ECA20;
  p_sub_1403EC580 = sub_1403EC580;
  p_sub_1403E8C30 = sub_1403E8C30;
  p_sub_1403E6460 = sub_1403E6460;
  p_sub_1403E6180 = sub_1403E6180;
  v30 = 0;
  v32 = 0;
  v35 = 0xFFFFFFFFFFFFFFFFuLL;
  v36 = 0;
  n0x18 = 0x18;
  p_null_1 = "null";
  if ( a10[1] )
    p_null_1 = (const char *)a10[1];
  v18 = 0xFFFFFFFFFFFFFFFFuLL;
  do
    ++v18;
  while ( p_null_1[v18] );
  v39 = v18;
  p_LegacyLogType = "LegacyLogType";
  v40 = a11;
  v52 = 0;
  v42 = *a11;
  p_sub_1403ECA20_1 = sub_1403ECA20;
  p_sub_1403EC580_1 = sub_1403EC580;
  p_sub_1403E8C30_1 = sub_1403E8C30;
  p_sub_1403E6460_1 = sub_1403E6460;
  p_sub_1403E6180_1 = sub_1403E6180;
  v45 = 0;
  v47 = 0;
  v50 = 0xFFFFFFFFFFFFFFFFuLL;
  v51 = 0;
  n0x18_1 = 0x18;
  if ( a11[1] )
    p_null = (const char *)a11[1];
  do
    ++v16;
  while ( p_null[v16] );
  v54 = v16;
  LODWORD(v20) = a6;
  return sub_140305B00(n4, a2, a3, a4, (__int64)__Val_0___, 3u, a5, v20, a7, a8);
}

// --- End Function: sub_14749F4C0 (0x14749F4C0) ---

// --- Function: sub_1474B3000 (0x1474B3000) ---
_QWORD *sub_1474B3000()
{
  _QWORD *ThreadLocalStoragePointer; // rax
  _QWORD *v1; // rdx
  __int64 v2; // rcx
  _QWORD *result; // rax
  _QWORD *v4; // rdi
  char *v5; // rax
  char *v6; // rbx

  ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
  v1 = (_QWORD *)(ThreadLocalStoragePointer[TlsIndex] + 0xDC8LL);
  v2 = *(_QWORD *)(ThreadLocalStoragePointer[TlsIndex] + 0xDD0LL);
  if ( (v2 - *v1) >> 3 )
  {
    result = *(_QWORD **)(v2 - 8);
    v1[1] = v2 - 8;
  }
  else
  {
    result = (_QWORD *)sub_1402A63D0(0x20u);
    v4 = result;
    if ( result )
    {
      *result = 0;
      result[1] = 0;
      result[2] = 0;
      v5 = (char *)sub_1402A63D0(0x400u);
      *v4 = v5;
      v6 = v5;
      v4[2] = v5 + 0x400;
      memset(v5, 0, 0x400u);
      result = v4;
      v4[1] = v6 + 0x400;
      v4[3] = 0;
    }
  }
  return result;
}

// --- End Function: sub_1474B3000 (0x1474B3000) ---

// --- Function: sub_1474B30D0 (0x1474B30D0) ---
char *__fastcall sub_1474B30D0(__int64 __Val_0__, const char *$4[Error], va_list ArgList_1)
{
  char *BufferCount_2; // rax
  __int64 v7; // rbx
  __int64 v8; // rdi
  size_t BufferCount; // rbp
  __int64 *v10; // r13
  int BufferCount_1; // ebx
  char *v12; // rdi
  __int64 v13; // rdx
  char *v14; // rcx
  char *v15; // rax
  char *v16; // rbx
  char *v17; // rbx
  __int64 v18; // rbx
  __int64 v19; // rdi
  int *v20; // rax
  unsigned __int8 v21; // [rsp+80h] [rbp+18h] BYREF

  if ( !ArgList_1 )
    return (char *)sub_1474B3490((const vraudio::AudioBuffer *)__Val_0__, $4[Error], 0xFFFFFFFFFFFFFFFFuLL);
  v7 = *(_QWORD *)__Val_0__;
  v8 = *(_QWORD *)(__Val_0__ + 0x18);
  BufferCount = *(_QWORD *)(__Val_0__ + 8) - *(_QWORD *)__Val_0__ - v8;
  *errno() = 0;
  v10 = sub_1402A6A10();
  BufferCount_1 = _stdio_common_vsnprintf_s(
                    *v10,
                    (char *)(v7 + v8),
                    BufferCount,
                    0xFFFFFFFFFFFFFFFFuLL,
                    $4[Error],
                    0,
                    ArgList_1);
  if ( BufferCount_1 < 0 )
    BufferCount_1 = 0xFFFFFFFF;
  if ( *errno() )
  {
LABEL_16:
    v20 = errno();
    return strerror(*v20);
  }
  while ( 1 )
  {
    BufferCount_2 = (char *)BufferCount_1;
    if ( BufferCount_1 < BufferCount )
      break;
    v12 = *(char **)(__Val_0__ + 8);
    v13 = *(_QWORD *)__Val_0__;
    v14 = &v12[-*(_QWORD *)__Val_0__];
    v21 = 0;
    v15 = &v12[(_QWORD)v14];
    v16 = &v12[(_QWORD)v14 - v13];
    if ( v16 < v14 )
      goto LABEL_12;
    if ( v16 > v14 )
    {
      if ( (unsigned __int64)v16 <= *(_QWORD *)(__Val_0__ + 0x10) - v13 )
      {
        v17 = &v12[-v13];
        memset(v12, 0, (size_t)&v12[-v13]);
        v15 = &v12[(_QWORD)v17];
LABEL_12:
        *(_QWORD *)(__Val_0__ + 8) = v15;
        goto LABEL_13;
      }
      sub_14034EA00(__Val_0__, (unsigned __int64)&v12[(_QWORD)v14 - v13], &v21);
    }
LABEL_13:
    v18 = *(_QWORD *)__Val_0__;
    v19 = *(_QWORD *)(__Val_0__ + 0x18);
    BufferCount = *(_QWORD *)(__Val_0__ + 8) - *(_QWORD *)__Val_0__ - v19;
    *errno() = 0;
    BufferCount_1 = _stdio_common_vsnprintf_s(
                      *v10,
                      (char *)(v18 + v19),
                      BufferCount,
                      0xFFFFFFFFFFFFFFFFuLL,
                      $4[Error],
                      0,
                      ArgList_1);
    if ( BufferCount_1 < 0 )
      BufferCount_1 = 0xFFFFFFFF;
    if ( *errno() )
      goto LABEL_16;
  }
  *(_QWORD *)(__Val_0__ + 0x18) += BufferCount_1;
  return BufferCount_2;
}

// --- End Function: sub_1474B30D0 (0x1474B30D0) ---

// --- Function: sub_1474B3280 (0x1474B3280) ---
char *sub_1474B3280(__int64 __Val_0__, const char *$4[Error], ...)
{
  va_list va; // [rsp+40h] [rbp+18h] BYREF

  va_start(va, $4[Error]);
  return sub_1474B30D0(__Val_0__, $4[Error], va);
}

// --- End Function: sub_1474B3280 (0x1474B3280) ---

// --- Function: sub_1474B32B0 (0x1474B32B0) ---
__int64 __fastcall sub_1474B32B0(__int64 a1)
{
  struct tm *v2; // rax
  __time64_t Time; // [rsp+38h] [rbp+10h] BYREF

  _time64(&Time);
  v2 = _localtime64(&Time);
  return sub_1474B3580(a1, "<%H:%M:%S> ", v2);
}

// --- End Function: sub_1474B32B0 (0x1474B32B0) ---

// --- Function: sub_1474B32F0 (0x1474B32F0) ---
void __fastcall sub_1474B32F0(__int64 __Val_0__, char a2)
{
  __m128 v4; // xmm0
  __int128 v6; // kr00_16
  __int64 v8; // [rsp+40h] [rbp+18h] BYREF
  __int64 v9; // [rsp+48h] [rbp+20h] BYREF

  if ( qword_149A14250 )
  {
    (*(void (__fastcall **)(__int64, __int64 *))(*(_QWORD *)qword_149A14250 + 0x48LL))(qword_149A14250, &v8);
    if ( (dword_15156FA58 & 1) == 0 )
    {
      dword_15156FA58 |= 1u;
      qword_15156FA50 = v8;
    }
    if ( unknown_libname_23(&qword_15156FA50, &v8) )
    {
      sub_140598C00(&v8, &v9, &qword_15156FA50);
      v4 = sub_140598DA0();
      *((_QWORD *)&v6 + 1) = v4.m128_u64[1];
      *(double *)&v6 = *(double *)v4.m128_u64 * 1000.0;
      _XMM0 = v6;
      __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
      sub_1474B3280(__Val_0__, "<%3u.%.3u>: ", (int)*(float *)&_XMM1 / 0x3E8u, (int)*(float *)&_XMM1 % 0x3E8u);
    }
    if ( a2 )
      qword_15156FA50 = v8;
  }
}

// --- End Function: sub_1474B32F0 (0x1474B32F0) ---

// --- Function: sub_1474B33C0 (0x1474B33C0) ---
_BYTE *__fastcall sub_1474B33C0(_QWORD *a1, char a2)
{
  char *v2; // rsi
  _BYTE *v4; // r8
  char *v6; // rcx
  __int64 v7; // rax
  char *v8; // rax
  unsigned __int64 allocSize; // rdi
  size_t Size; // rdi
  _BYTE *result; // rax
  unsigned __int8 v12; // [rsp+38h] [rbp+10h] BYREF

  v2 = (char *)a1[1];
  v4 = (_BYTE *)*a1;
  if ( (unsigned __int64)&v2[-*a1 - a1[3]] < 2 )
  {
    v12 = 0;
    v6 = (char *)(v2 - v4);
    v7 = v2 - v4;
    if ( v2 == v4 )
      v7 = 1;
    v8 = &v2[v7];
    allocSize = v8 - v4;
    if ( v8 - v4 < (unsigned __int64)v6 )
      goto LABEL_9;
    if ( v8 - v4 > (unsigned __int64)v6 )
    {
      if ( allocSize > a1[2] - (_QWORD)v4 )
      {
        sub_14034EA00((__int64)a1, allocSize, &v12);
        goto LABEL_10;
      }
      Size = allocSize - (_QWORD)v6;
      memset(v2, 0, Size);
      v8 = &v2[Size];
LABEL_9:
      a1[1] = v8;
    }
  }
LABEL_10:
  *(_BYTE *)(a1[3] + *a1) = a2;
  result = (_BYTE *)*a1;
  *(_BYTE *)(a1[3] + *a1 + 1LL) = 0;
  ++a1[3];
  return result;
}

// --- End Function: sub_1474B33C0 (0x1474B33C0) ---

// --- Function: sub_1474B3490 (0x1474B3490) ---
errno_t __fastcall sub_1474B3490(const vraudio::AudioBuffer *__Val_0__, const char *$4[Error], unsigned __int64 n10)
{
  void *v5; // r14
  __int64 v6; // rax
  __int64 v7; // rcx
  rsize_t n10_1; // rbp
  rsize_t n10_2; // rdx
  unsigned __int64 v10; // rax
  char *v11; // rdx
  char *v12; // r8
  char *v13; // r8
  unsigned __int64 allocSize; // rdi
  size_t Size; // rdi
  errno_t result; // eax
  unsigned __int8 v17; // [rsp+50h] [rbp+18h] BYREF

  if ( (_DWORD)n10 == 0xFFFFFFFF )
  {
    n10 = 0xFFFFFFFFFFFFFFFFuLL;
    do
      ++n10;
    while ( $4[Error][n10] );
  }
  v5 = (void *)*((_QWORD *)__Val_0__ + 1);
  v6 = *((_QWORD *)__Val_0__ + 3);
  v7 = *(_QWORD *)__Val_0__;
  n10_1 = (int)n10;
  n10_2 = (rsize_t)v5 - v7 - v6;
  if ( n10_2 <= (int)n10 )
  {
    v17 = 0;
    v10 = (int)n10 - n10_2 + 1;
    v11 = (char *)v5 - v7;
    v12 = (char *)v5 - v7;
    if ( (char *)v5 - v7 < (char *)v10 )
      v12 = (char *)v10;
    v13 = &v12[(_QWORD)v5];
    allocSize = (unsigned __int64)&v13[-v7];
    if ( &v13[-v7] >= v11 )
    {
      if ( &v13[-v7] > v11 )
      {
        if ( allocSize <= *((_QWORD *)__Val_0__ + 2) - v7 )
        {
          Size = allocSize - (_QWORD)v11;
          memset(v5, 0, Size);
          *((_QWORD *)__Val_0__ + 1) = (char *)v5 + Size;
        }
        else
        {
          sub_14034EA00((__int64)__Val_0__, allocSize, &v17);
        }
      }
    }
    else
    {
      *((_QWORD *)__Val_0__ + 1) = v13;
    }
    v7 = *(_QWORD *)__Val_0__;
    v6 = *((_QWORD *)__Val_0__ + 3);
    n10_2 = *((_QWORD *)__Val_0__ + 1) - *(_QWORD *)__Val_0__ - v6;
  }
  result = strncpy_s((char *)(v6 + v7), n10_2, $4[Error], n10_1);
  *((_QWORD *)__Val_0__ + 3) += n10_1;
  return result;
}

// --- End Function: sub_1474B3490 (0x1474B3490) ---

// --- Function: sub_1474B3580 (0x1474B3580) ---
size_t __fastcall sub_1474B3580(__int64 a1, const char *_%H:%M:%S_, const struct tm *Tm)
{
  size_t result; // rax
  __int64 v7; // rsi
  unsigned __int64 v8; // rcx
  size_t v9; // rax
  unsigned __int64 v10; // rdi
  size_t Size; // rdi
  unsigned __int8 v12; // [rsp+40h] [rbp+8h] BYREF

  result = strftime(
             (char *)(*(_QWORD *)a1 + *(_QWORD *)(a1 + 0x18)),
             *(_QWORD *)(a1 + 8) - *(_QWORD *)a1 - *(_QWORD *)(a1 + 0x18),
             _%H:%M:%S_,
             Tm);
  if ( !result )
  {
    v12 = 0;
    do
    {
      v7 = *(_QWORD *)(a1 + 8);
      v8 = v7 - *(_QWORD *)a1;
      v9 = v8 + v7;
      v10 = v8 + v7 - *(_QWORD *)a1;
      if ( v10 < v8 )
        goto LABEL_8;
      if ( v10 > v8 )
      {
        if ( v10 <= *(_QWORD *)(a1 + 0x10) - *(_QWORD *)a1 )
        {
          Size = v7 - *(_QWORD *)a1;
          memset(*(void **)(a1 + 8), 0, Size);
          v9 = Size + v7;
LABEL_8:
          *(_QWORD *)(a1 + 8) = v9;
          goto LABEL_9;
        }
        sub_14034EA00(a1, v8 + v7 - *(_QWORD *)a1, &v12);
      }
LABEL_9:
      result = strftime(
                 (char *)(*(_QWORD *)a1 + *(_QWORD *)(a1 + 0x18)),
                 *(_QWORD *)(a1 + 8) - *(_QWORD *)a1 - *(_QWORD *)(a1 + 0x18),
                 _%H:%M:%S_,
                 Tm);
    }
    while ( !result );
  }
  *(_QWORD *)(a1 + 0x18) += result;
  return result;
}

// --- End Function: sub_1474B3580 (0x1474B3580) ---

// --- Function: sub_147502250 (0x147502250) ---
void sub_147502250(__int64 a1, const vraudio::AudioBuffer *__Val_0__, ...)
{
  va_list va; // [rsp+50h] [rbp+18h] BYREF

  va_start(va, __Val_0__);
  sub_147504C80(a1, 0, 0, __Val_0__, (__int64)va);
}

// --- End Function: sub_147502250 (0x147502250) ---

// --- Function: sub_1475022B0 (0x1475022B0) ---
void sub_1475022B0(__int64 a1, const vraudio::AudioBuffer *__Val_0__, ...)
{
  va_list va; // [rsp+50h] [rbp+18h] BYREF

  va_start(va, __Val_0__);
  sub_147504C80(a1, 3u, 0, __Val_0__, (__int64)va);
}

// --- End Function: sub_1475022B0 (0x1475022B0) ---

// --- Function: sub_147503460 (0x147503460) ---
void sub_147503460(__int64 a1, const vraudio::AudioBuffer *__Val_0__, ...)
{
  va_list va; // [rsp+50h] [rbp+18h] BYREF

  va_start(va, __Val_0__);
  sub_147504C80(a1, 2u, 0, __Val_0__, (__int64)va);
}

// --- End Function: sub_147503460 (0x147503460) ---

// --- Function: sub_147503630 (0x147503630) ---
void __fastcall sub_147503630(__int64 a1, _QWORD *__Val_0__, int a3)
{
  unsigned __int64 v6; // rdi
  struct tm *Tm; // rax
  __time64_t Time; // [rsp+48h] [rbp+20h] BYREF

  switch ( a3 )
  {
    case 1:
      sub_1474B32B0((__int64)__Val_0__);
      break;
    case 2:
      sub_1474B32F0((__int64)__Val_0__, 1);
      break;
    case 3:
      sub_1474B32F0((__int64)__Val_0__, 1);
      sub_1474B32B0((__int64)__Val_0__);
      break;
    case 4:
      sub_1474B32F0((__int64)__Val_0__, 0);
      break;
    case 5:
      sub_1474B32B0((__int64)__Val_0__);
      if ( qword_149A14288 )
      {
        Time = *(_QWORD *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)qword_149A14250 + 0x38LL))(
                            qword_149A14250,
                            0);
        _XMM0 = sub_140598DA0();
        __asm { vcvtsd2ss xmm1, xmm0, xmm0 }
        sub_1474B3280((__int64)__Val_0__, "<%.2f> ", *(float *)&_XMM1);
      }
      break;
    case 6:
      v6 = sub_140567BF0();
      Time = v6 / 0x3E8;
      sub_1474B33C0(__Val_0__, 0x3C);
      Tm = gmtime64(&Time);
      sub_1474B3580((__int64)__Val_0__, "%Y-%m-%dT%H:%M:%S", Tm);
      sub_1474B3280((__int64)__Val_0__, ".%03lluZ> ", v6 % 0x3E8);
      break;
    default:
      return;
  }
}

// --- End Function: sub_147503630 (0x147503630) ---

// --- Function: sub_1475037A0 (0x1475037A0) ---
void __fastcall sub_1475037A0(__int64 a1, const char *$4[Error], char a3, unsigned __int8 n3)
{
  const vraudio::AudioBuffer *__Val_0__; // rsi
  int v8; // r8d
  __int64 v9; // rcx
  int v10; // ebx
  unsigned __int32 v11; // eax
  __int64 v12; // rcx
  __int64 v13; // r15
  __int64 *v14; // rbx
  __int64 v15; // rax
  _QWORD *v16; // rax
  _QWORD *v17; // rbx
  unsigned __int8 v18; // r12
  int v19; // eax
  unsigned __int32 v20; // eax
  __int64 TlsIndex; // rcx
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v23; // r9
  const vraudio::AudioBuffer **_Whereptr; // rdx
  int n0x1600_1; // [rsp+38h] [rbp-69h] BYREF
  __int64 v26; // [rsp+3Ch] [rbp-65h]
  int v27; // [rsp+44h] [rbp-5Dh]
  __int64 v28; // [rsp+48h] [rbp-59h]
  unsigned __int64 v29; // [rsp+50h] [rbp-51h]
  __int64 v30; // [rsp+58h] [rbp-49h]
  __int64 v31; // [rsp+60h] [rbp-41h]
  int n0x1600; // [rsp+88h] [rbp-19h] BYREF
  __int64 v33; // [rsp+8Ch] [rbp-15h]
  int v34; // [rsp+94h] [rbp-Dh]
  __int64 v35; // [rsp+98h] [rbp-9h]
  unsigned __int64 v36; // [rsp+A0h] [rbp-1h]
  __int64 v37; // [rsp+A8h] [rbp+7h]
  __int64 v38; // [rsp+B0h] [rbp+Fh]
  const vraudio::AudioBuffer *__Val_0___1; // [rsp+110h] [rbp+6Fh] BYREF

  if ( $4[Error] )
  {
    n0x1600 = 0x1600;
    v33 = 0;
    v34 = 0;
    v35 = 1;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
    __Val_0__ = (const vraudio::AudioBuffer *)sub_1474B3000();
    v8 = *(_DWORD *)(*(_QWORD *)(a1 + 0x488) + 0xE8LL);
    if ( v8 > 0 && qword_149A14250 )
      sub_147503630(a1, __Val_0__, v8);
    sub_1474B3490(__Val_0__, $4[Error], 0xFFFFFFFF);
    v9 = *((_QWORD *)__Val_0__ + 3);
    if ( v9 && *(_BYTE *)(*(_QWORD *)__Val_0__ + v9 - 1) != 0xA )
      sub_1474B33C0(__Val_0__, 0xA);
    v10 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( *(_DWORD *)(a1 + 0x14) == v10 )
    {
      ++*(_DWORD *)(a1 + 0x18);
    }
    else
    {
      v11 = _InterlockedCompareExchange((volatile signed __int32 *)(a1 + 0x10), 1, 0);
      if ( v11 )
        sub_1403C51B0((volatile signed __int32 *)(a1 + 0x10), v11, (__int64)"CLog::LogStringToConsole", 1);
      *(_DWORD *)(a1 + 0x14) = v10;
    }
    v12 = *(_QWORD *)(a1 + 8);
    v13 = *(_QWORD *)__Val_0__;
    if ( v12 )
    {
      if ( !*(_BYTE *)(a1 + 0x4D8) )
      {
        v14 = (__int64 *)(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v12 + 0x290LL))(v12);
        if ( v14 )
        {
          if ( (*(_BYTE *)(*(_QWORD *)(a1 + 0x488) + 0x1D8LL) & 1) == 0 || !v13 || sub_14039C6F0(a1 + 0x4A0, v13) )
          {
            v15 = *v14;
            if ( a3 )
              (*(void (__fastcall **)(__int64 *, __int64))(v15 + 0xF0))(v14, v13);
            else
              (*(void (__fastcall **)(__int64 *, __int64))(v15 + 0xE8))(v14, v13);
            if ( *(_QWORD *)(a1 + 0x498) )
            {
              n0x1600_1 = 0x1600;
              v26 = 0;
              v27 = 0;
              v29 = 0;
              v30 = 0;
              v31 = 0;
              v28 = 1;
              qword_149A0FD80(&n0x1600_1, 0, &Source, &Source, 0);
              v16 = *(_QWORD **)(a1 + 0x490);
              v17 = (_QWORD *)*v16;
              if ( (_QWORD *)*v16 != v16 )
              {
                v18 = a3 ^ 1;
                do
                {
                  (*(void (__fastcall **)(_QWORD, __int64, _QWORD))(*(_QWORD *)v17[2] + 8LL))(v17[2], v13, v18);
                  v17 = (_QWORD *)*v17;
                }
                while ( v17 != *(_QWORD **)(a1 + 0x490) );
              }
              v29 = __rdtsc();
              qword_149A0FD88(&n0x1600_1);
            }
          }
        }
      }
    }
    v19 = *(_DWORD *)(a1 + 0x18);
    if ( v19 )
    {
      *(_DWORD *)(a1 + 0x18) = v19 - 1;
    }
    else
    {
      *(_DWORD *)(a1 + 0x14) = 0xFFFFFFFF;
      v20 = _InterlockedCompareExchange((volatile signed __int32 *)(a1 + 0x10), 0, 1);
      if ( v20 != 1 )
        sub_1403DCC00((volatile signed __int32 *)(a1 + 0x10), v20);
    }
    TlsIndex = (unsigned int)::TlsIndex;
    ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
    *((_QWORD *)__Val_0__ + 3) = 0;
    v23 = ThreadLocalStoragePointer[TlsIndex] + 0xDC8LL;
    __Val_0___1 = __Val_0__;
    _Whereptr = *(const vraudio::AudioBuffer ***)(v23 + 8);
    if ( _Whereptr == *(const vraudio::AudioBuffer ***)(v23 + 0x10) )
    {
      std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        (std::vector<vraudio::AudioBuffer const *> *)v23,
        _Whereptr,
        &__Val_0___1);
    }
    else
    {
      *_Whereptr = __Val_0__;
      *(_QWORD *)(v23 + 8) += 8LL;
    }
    v36 = __rdtsc();
    qword_149A0FD88(&n0x1600);
  }
}

// --- End Function: sub_1475037A0 (0x1475037A0) ---

// --- Function: sub_147503A80 (0x147503A80) ---
void __fastcall sub_147503A80(__int64 a1, char *a2, unsigned __int8 a3, unsigned __int8 n3)
{
  char *v5; // rdi
  unsigned __int64 v7; // rbp
  unsigned __int64 v8; // rsi
  const vraudio::AudioBuffer *__Val_0__; // rbx
  __int64 v10; // rax
  int v11; // r8d
  void *v12; // rbp
  __int64 v13; // rdx
  unsigned __int64 v14; // rax
  unsigned __int64 v15; // rax
  char *v16; // rcx
  char *v17; // r8
  char *v18; // r8
  unsigned __int64 allocSize; // rsi
  size_t Size; // rsi
  char n0x24; // r8
  unsigned __int64 v22; // rcx
  __int64 v23; // rax
  int v24; // esi
  unsigned __int32 v25; // eax
  int v26; // eax
  unsigned __int32 v27; // eax
  __int64 TlsIndex; // rcx
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v30; // r9
  const vraudio::AudioBuffer **_Whereptr; // rdx
  int n0x1600; // [rsp+30h] [rbp-78h] BYREF
  __int64 v33; // [rsp+34h] [rbp-74h]
  int v34; // [rsp+3Ch] [rbp-6Ch]
  __int64 v35; // [rsp+40h] [rbp-68h]
  unsigned __int64 v36; // [rsp+48h] [rbp-60h]
  __int64 v37; // [rsp+50h] [rbp-58h]
  __int64 v38; // [rsp+58h] [rbp-50h]
  const vraudio::AudioBuffer *__Val_0___1; // [rsp+B8h] [rbp+10h] BYREF

  if ( a2 )
  {
    v5 = a2;
    n0x1600 = 0x1600;
    v33 = 0;
    v35 = 1;
    v34 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
    v7 = 0xFFFFFFFFFFFFFFFFuLL;
    v8 = 0xFFFFFFFFFFFFFFFFuLL;
    do
      ++v8;
    while ( v5[v8] );
    if ( v8 && *v5 < 0x20 )
    {
      ++v5;
      LODWORD(v8) = v8 - 1;
    }
    __Val_0__ = (const vraudio::AudioBuffer *)sub_1474B3000();
    v10 = *(_QWORD *)(a1 + 0x488);
    if ( (*(int *)(v10 + 0xE8) > 0 || *(int *)(v10 + 0x110) > 0) && qword_149A14250 )
    {
      v11 = *(_DWORD *)(v10 + 0x110);
      if ( v11 < 0 )
        v11 = *(_DWORD *)(v10 + 0xE8);
      sub_147503630(a1, __Val_0__, v11);
    }
    if ( (_DWORD)v8 == 0xFFFFFFFF )
    {
      do
        ++v7;
      while ( v5[v7] );
      LODWORD(v8) = v7;
    }
    v12 = (void *)*((_QWORD *)__Val_0__ + 1);
    v13 = *(_QWORD *)__Val_0__;
    v14 = (unsigned __int64)v12 - *((_QWORD *)__Val_0__ + 3) - *(_QWORD *)__Val_0__;
    if ( v14 <= (int)v8 )
    {
      LOBYTE(__Val_0___1) = 0;
      v15 = (int)v8 - v14 + 1;
      v16 = (char *)v12 - v13;
      v17 = (char *)v12 - v13;
      if ( (char *)v12 - v13 < (char *)v15 )
        v17 = (char *)v15;
      v18 = &v17[(_QWORD)v12];
      allocSize = (unsigned __int64)&v18[-v13];
      if ( &v18[-v13] >= v16 )
      {
        if ( &v18[-v13] > v16 )
        {
          if ( allocSize <= *((_QWORD *)__Val_0__ + 2) - v13 )
          {
            Size = allocSize - (_QWORD)v16;
            memset(v12, 0, Size);
            *((_QWORD *)__Val_0__ + 1) = (char *)v12 + Size;
          }
          else
          {
            sub_14034EA00((__int64)__Val_0__, allocSize, (unsigned __int8 *)&__Val_0___1);
          }
        }
      }
      else
      {
        *((_QWORD *)__Val_0__ + 1) = v18;
      }
    }
    for ( n0x24 = *v5; *v5; n0x24 = *v5 )
    {
      if ( n0x24 == 0x24 && (unsigned __int8)(v5[1] - 0x30) <= 9u )
      {
        v5 += 2;
      }
      else
      {
        *(_BYTE *)(*(_QWORD *)__Val_0__ + (*((_QWORD *)__Val_0__ + 3))++) = n0x24;
        ++v5;
      }
    }
    *(_BYTE *)(*((_QWORD *)__Val_0__ + 3) + *(_QWORD *)__Val_0__) = 0;
    v22 = *((_QWORD *)__Val_0__ + 3);
    if ( v22 && *(_BYTE *)(*(_QWORD *)__Val_0__ + v22 - 1) == 0xA )
    {
      v23 = *((_QWORD *)__Val_0__ + 3);
      if ( v22 > 1 )
        v23 = 1;
      *((_QWORD *)__Val_0__ + 3) = v22 - v23;
    }
    sub_1474B3490(__Val_0__, "\r\n", 2u);
    v24 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
    if ( *(_DWORD *)(a1 + 0x14) == v24 )
    {
      ++*(_DWORD *)(a1 + 0x18);
    }
    else
    {
      v25 = _InterlockedCompareExchange((volatile signed __int32 *)(a1 + 0x10), 1, 0);
      if ( v25 )
        sub_1403C51B0((volatile signed __int32 *)(a1 + 0x10), v25, (__int64)"CLog::LogStringToFile", 1);
      *(_DWORD *)(a1 + 0x14) = v24;
    }
    sub_147503D90(a1, *(_QWORD *)__Val_0__, *((_QWORD *)__Val_0__ + 3), a3);
    v26 = *(_DWORD *)(a1 + 0x18);
    if ( v26 )
    {
      *(_DWORD *)(a1 + 0x18) = v26 - 1;
    }
    else
    {
      *(_DWORD *)(a1 + 0x14) = 0xFFFFFFFF;
      v27 = _InterlockedCompareExchange((volatile signed __int32 *)(a1 + 0x10), 0, 1);
      if ( v27 != 1 )
        sub_1403DCC00((volatile signed __int32 *)(a1 + 0x10), v27);
    }
    TlsIndex = (unsigned int)::TlsIndex;
    ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
    *((_QWORD *)__Val_0__ + 3) = 0;
    v30 = ThreadLocalStoragePointer[TlsIndex] + 0xDC8LL;
    __Val_0___1 = __Val_0__;
    _Whereptr = *(const vraudio::AudioBuffer ***)(v30 + 8);
    if ( _Whereptr == *(const vraudio::AudioBuffer ***)(v30 + 0x10) )
    {
      std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        (std::vector<vraudio::AudioBuffer const *> *)v30,
        _Whereptr,
        &__Val_0___1);
    }
    else
    {
      *_Whereptr = __Val_0__;
      *(_QWORD *)(v30 + 8) += 8LL;
    }
    v36 = __rdtsc();
    qword_149A0FD88(&n0x1600);
  }
}

// --- End Function: sub_147503A80 (0x147503A80) ---

// --- Function: sub_147503D90 (0x147503D90) ---
void __fastcall sub_147503D90(__int64 a1, __int64 a2, unsigned __int64 nNumberOfBytesToWrite, char a4)
{
  int n0xC; // esi
  _QWORD *v9; // rax
  _QWORD *v10; // rbx
  unsigned __int8 v11; // r15
  FILE *File; // rax
  Stream *Stream; // rax
  int n0x1600; // [rsp+30h] [rbp-50h] BYREF
  __int64 v15; // [rsp+34h] [rbp-4Ch]
  int v16; // [rsp+3Ch] [rbp-44h]
  __int64 v17; // [rsp+40h] [rbp-40h]
  unsigned __int64 v18; // [rsp+48h] [rbp-38h]
  __int64 v19; // [rsp+50h] [rbp-30h]
  __int64 v20; // [rsp+58h] [rbp-28h]

  if ( *(_QWORD *)(a1 + 8)
    && ((*(_BYTE *)(*(_QWORD *)(a1 + 0x488) + 0x1D8LL) & 2) == 0 || !a2 || sub_14039C6F0(a1 + 0x4A0, a2)) )
  {
    n0xC = 0;
    if ( *(_QWORD *)(a1 + 0x498) && !*(_BYTE *)(a1 + 0x4D8) )
    {
      n0x1600 = 0x1600;
      v15 = 0;
      v16 = 0;
      v18 = 0;
      v19 = 0;
      v20 = 0;
      v17 = 1;
      qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
      v9 = *(_QWORD **)(a1 + 0x490);
      v10 = (_QWORD *)*v9;
      if ( (_QWORD *)*v9 != v9 )
      {
        v11 = a4 ^ 1;
        do
        {
          (*(void (__fastcall **)(_QWORD, __int64, _QWORD))(*(_QWORD *)v10[2] + 0x10LL))(v10[2], a2, v11);
          v10 = (_QWORD *)*v10;
        }
        while ( v10 != *(_QWORD **)(a1 + 0x490) );
      }
      v18 = __rdtsc();
      qword_149A0FD88(&n0x1600);
    }
    if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x488) + 0x250LL) )
    {
      n0x1600 = 0x1600;
      v15 = 0;
      v16 = 0;
      v18 = 0;
      v19 = 0;
      v20 = 0;
      v17 = 1;
      qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
      AcquireSRWLockShared((PSRWLOCK)(a1 + 0x4E0));
      if ( __scrt_is_event_api_used(*(void *const *)(a1 + 0x230)) )
        n0xC = sub_14053AF50(*(HANDLE *)(a1 + 0x230), a2, nNumberOfBytesToWrite, 0);
      ReleaseSRWLockShared((PSRWLOCK)(a1 + 0x4E0));
      if ( n0xC == 0xC )
        sub_14056ADD0("File writing failed because harddrive is full", "Logfile writing error", 0);
      v18 = __rdtsc();
      qword_149A0FD88(&n0x1600);
    }
    if ( *(_DWORD *)(*(_QWORD *)(a1 + 0x488) + 0x2F0LL) )
    {
      File = __acrt_iob_func(1u);
      fprintf(File, (const char *)&format_string_, a2);
      Stream = __acrt_iob_func(1u);
      fflush(Stream);
    }
  }
}

// --- End Function: sub_147503D90 (0x147503D90) ---

// --- Function: sub_147503FE0 (0x147503FE0) ---
__int64 __fastcall sub_147503FE0(__int64 a1, int n2, __int64 a3)
{
  __int64 n2_1; // rdi
  unsigned int n5; // ebx
  unsigned __int8 v6; // al
  void *v7; // rdi
  int v8; // esi
  int v9; // r14d
  int *ThreadLogContextSlot; // rax
  int v12; // [rsp+60h] [rbp-A0h] BYREF
  int n0x56; // [rsp+64h] [rbp-9Ch]
  _QWORD v14[2]; // [rsp+68h] [rbp-98h] BYREF
  __int64 v15; // [rsp+78h] [rbp-88h]
  _QWORD v16[2]; // [rsp+80h] [rbp-80h] BYREF
  __int64 v17; // [rsp+90h] [rbp-70h]
  int n0x1600; // [rsp+A0h] [rbp-60h] BYREF
  __int64 v19; // [rsp+A4h] [rbp-5Ch]
  int v20; // [rsp+ACh] [rbp-54h]
  __int64 v21; // [rsp+B0h] [rbp-50h]
  unsigned __int64 v22; // [rsp+B8h] [rbp-48h]
  __int64 v23; // [rsp+C0h] [rbp-40h]
  __int64 v24; // [rsp+C8h] [rbp-38h]
  _QWORD v25[2]; // [rsp+F0h] [rbp-10h] BYREF
  _QWORD v26[2]; // [rsp+100h] [rbp+0h] BYREF
  __int128 v27; // [rsp+110h] [rbp+10h] BYREF
  _QWORD v28[10]; // [rsp+120h] [rbp+20h]

  n2_1 = n2;
  v19 = 0;
  v20 = 0;
  v22 = 0;
  v23 = 0;
  v24 = 0;
  n0x1600 = 0x1600;
  v21 = 1;
  qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
  v28[0] = "LOG: Message";
  v28[1] = "LOG: Warning";
  v28[2] = "LOG: Error";
  v28[3] = "LOG: Always";
  v28[4] = "LOG: WarningAlways";
  v28[5] = "LOG: ErrorAlways";
  v28[6] = "LOG: Input";
  v28[7] = "LOG: InputResponse";
  v28[8] = "LOG: Comment";
  n5 = 5;
  switch ( (int)n2_1 )
  {
    case 1:
    case 4:
      n5 = 4;
      break;
    case 2:
    case 5:
      n5 = 3;
      break;
    case 6:
    case 7:
    case 8:
      n5 = 6;
      break;
    default:
      break;
  }
  if ( qword_149A143C8 && qword_149A142B0 )
    v6 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149A142B0 + 0x728LL))(qword_149A142B0);
  else
    v6 = 0;
  v7 = (void *)v28[n2_1];
  n0x56 = 0x56;
  v25[0] = &v12;
  v8 = v6 + 0xC8;
  v12 = v8;
  v25[1] = v14;
  v9 = invokeGlobalCallbackAndMaskStatusBits(n5, (__int64)v25, (__int64)v7, "$$");
  if ( (v9 & 0xFFFFF) != 0 )
  {
    v16[0] = 0;
    v16[1] = v7;
    v17 = 0;
    v14[0] = 0;
    v14[1] = a3;
    v15 = 0;
    ThreadLogContextSlot = getThreadLogContextSlot();
    v12 = v8;
    v26[0] = &v12;
    n0x56 = 0x56;
    v26[1] = v14;
    v27 = 0;
    sub_14749F4C0(n5, (__int64)v26, v7, (__int64)"$$", 1, v9, &v27, 0, (__int64)ThreadLogContextSlot, v14, v16);
    sub_1402A63C0(v15);
    sub_1402A63C0(v17);
  }
  v22 = __rdtsc();
  return qword_149A0FD88(&n0x1600);
}

// --- End Function: sub_147503FE0 (0x147503FE0) ---

// --- Function: sub_147504C80 (0x147504C80) ---
void __fastcall sub_147504C80(
        __int64 a1,
        unsigned int n2_1,
        int a3,
        const vraudio::AudioBuffer *__Val_0___2,
        __int64 a5)
{
  __int64 n0xA; // rbx
  unsigned __int8 n3; // r12
  _DWORD *v10; // rax
  int n3_1; // r9d
  int n3_2; // r10d
  int n3_4; // edx
  int n3_5; // r8d
  bool v15; // cl
  __int64 v16; // r14
  __int64 v17; // rdi
  const vraudio::AudioBuffer *__Val_0___5; // rbx
  _QWORD *ThreadLocalStoragePointer; // rax
  __int64 v20; // r9
  const vraudio::AudioBuffer **_Whereptr; // rdx
  const vraudio::AudioBuffer *__Val_0___3; // rdi
  const char *$4[Error]; // rdx
  __int64 v24; // rax
  float *v25; // rcx
  float v26; // xmm0_4
  float *v27; // rax
  float v28; // xmm6_4
  volatile signed __int32 *v29; // rbx
  int v30; // esi
  unsigned __int32 v31; // eax
  __int64 v32; // rax
  __int64 *v33; // rax
  int v34; // r14d
  __int64 v35; // rcx
  __int64 v36; // rax
  __int64 v37; // rsi
  _QWORD *v38; // rax
  _DWORD *v39; // rcx
  int v40; // eax
  unsigned __int32 v41; // eax
  __int64 v42; // rsi
  __int64 v43; // r14
  int v44; // eax
  unsigned __int32 v45; // eax
  __int64 v46; // r8
  __int64 TlsIndex; // rcx
  _QWORD *ThreadLocalStoragePointer_1; // rax
  __int64 v49; // r9
  const vraudio::AudioBuffer **_Whereptr_1; // rdx
  bool v51; // [rsp+38h] [rbp-D0h]
  int n3_3; // [rsp+3Ch] [rbp-CCh]
  int n0x10; // [rsp+40h] [rbp-C8h]
  const vraudio::AudioBuffer *__Val_0___4; // [rsp+48h] [rbp-C0h]
  float v55; // [rsp+50h] [rbp-B8h] BYREF
  float v56; // [rsp+54h] [rbp-B4h] BYREF
  float v57; // [rsp+58h] [rbp-B0h] BYREF
  int v58; // [rsp+5Ch] [rbp-ACh]
  __int64 n3_6; // [rsp+60h] [rbp-A8h]
  __int64 n2; // [rsp+68h] [rbp-A0h]
  __int64 n0xA_1; // [rsp+70h] [rbp-98h]
  const vraudio::AudioBuffer *__Val_0___1; // [rsp+78h] [rbp-90h] BYREF
  int n0x1600_1; // [rsp+88h] [rbp-80h] BYREF
  __int64 v64; // [rsp+8Ch] [rbp-7Ch]
  int v65; // [rsp+94h] [rbp-74h]
  __int64 v66; // [rsp+98h] [rbp-70h]
  unsigned __int64 v67; // [rsp+A0h] [rbp-68h]
  __int64 v68; // [rsp+A8h] [rbp-60h]
  __int64 v69; // [rsp+B0h] [rbp-58h]
  __int64 v70; // [rsp+D8h] [rbp-30h] BYREF
  __int64 v71; // [rsp+E0h] [rbp-28h] BYREF
  __int64 v72; // [rsp+E8h] [rbp-20h]
  int n0x1600; // [rsp+F8h] [rbp-10h] BYREF
  __int64 v74; // [rsp+FCh] [rbp-Ch]
  int v75; // [rsp+104h] [rbp-4h]
  __int64 v76; // [rsp+108h] [rbp+0h]
  unsigned __int64 v77; // [rsp+110h] [rbp+8h]
  __int64 v78; // [rsp+118h] [rbp+10h]
  __int64 v79; // [rsp+120h] [rbp+18h]
  _DWORD v80[2]; // [rsp+148h] [rbp+40h] BYREF
  __int64 v81; // [rsp+150h] [rbp+48h]
  __int128 v82; // [rsp+158h] [rbp+50h]
  const ULONG_PTR *p_Source; // [rsp+168h] [rbp+60h]
  int v84; // [rsp+170h] [rbp+68h]
  __int64 v85; // [rsp+178h] [rbp+70h] BYREF
  const vraudio::AudioBuffer *__Val_0__; // [rsp+1F0h] [rbp+E8h] BYREF

  if ( __Val_0___2 )
  {
    __Val_0__ = __Val_0___2;
    n0xA = 0;
    v76 = 1;
    n0x1600 = 0x1600;
    v74 = 0;
    v75 = 0;
    v77 = 0;
    v78 = 0;
    v79 = 0;
    qword_149A0FD80(&n0x1600, 0, &Source, &Source, 0);
    n3 = 0;
    switch ( n2_1 )
    {
      case 0u:
        n3 = 3;
        break;
      case 1u:
        n3 = 2;
        break;
      case 2u:
        n3 = 1;
        break;
      case 8u:
        n3 = 4;
        break;
      default:
        break;
    }
    v10 = *(_DWORD **)(a1 + 0x488);
    n3_1 = n3;
    n3_2 = v10[0x4E];
    n3_4 = v10[0x62];
    n3_5 = v10[0x6C];
    v15 = n3_2 >= n3;
    n3_3 = n3_2;
    LODWORD(n3_6) = v10[0x58];
    if ( n3_4 == 0xFFFFFFFE )
      v51 = n3_2 >= n3;
    else
      v51 = n3_4 >= n3;
    if ( n3_5 != 0xFFFFFFFE )
      v15 = n3_5 >= n3;
    v16 = a5;
    if ( v15 )
    {
      v17 = (*(__int64 (__fastcall **)(__int64))(*(_QWORD *)qword_149A142B0 + 0x298LL))(qword_149A142B0);
      if ( v17 )
      {
        n0x1600_1 = 0x1600;
        v66 = 1;
        v64 = 0;
        v65 = 0;
        v67 = 0;
        v68 = 0;
        v69 = 0;
        qword_149A0FD80(&n0x1600_1, 0, &Source, &Source, 0);
        __Val_0___5 = (const vraudio::AudioBuffer *)sub_1474B3000();
        sub_1474B30D0(__Val_0___5, __Val_0___2, v16);
        if ( (*(_BYTE *)(*(_QWORD *)(a1 + 0x488) + 0x1D8LL) & 4) == 0
          || !*(_QWORD *)__Val_0___5
          || (unsigned __int8)sub_14039C6F0(a1 + 0x4A0) )
        {
          switch ( n2_1 )
          {
            case 0u:
            case 3u:
            case 6u:
            case 7u:
            case 8u:
              (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v17 + 0x20LL))(v17, *(_QWORD *)__Val_0___5);
              break;
            case 1u:
            case 4u:
              (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v17 + 0x28LL))(v17, *(_QWORD *)__Val_0___5);
              break;
            case 2u:
            case 5u:
              (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v17 + 0x30LL))(v17, *(_QWORD *)__Val_0___5);
              break;
            default:
              break;
          }
        }
        ThreadLocalStoragePointer = NtCurrentTeb()->ThreadLocalStoragePointer;
        *((_QWORD *)__Val_0___5 + 3) = 0;
        __Val_0___1 = __Val_0___5;
        v20 = ThreadLocalStoragePointer[::TlsIndex] + 0xDC8LL;
        _Whereptr = *(const vraudio::AudioBuffer ***)(ThreadLocalStoragePointer[::TlsIndex] + 0xDD0LL);
        if ( _Whereptr == *(const vraudio::AudioBuffer ***)(ThreadLocalStoragePointer[::TlsIndex] + 0xDD8LL) )
        {
          std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
            (std::vector<vraudio::AudioBuffer const *> *)(ThreadLocalStoragePointer[::TlsIndex] + 0xDC8LL),
            _Whereptr,
            &__Val_0___1);
        }
        else
        {
          *_Whereptr = __Val_0___5;
          *(_QWORD *)(v20 + 8) += 8LL;
        }
        v67 = __rdtsc();
        qword_149A0FD88(&n0x1600_1);
        n0xA = 0;
      }
      n3_2 = n3_3;
      n3_1 = n3;
    }
    if ( !v51 && n3_2 < n3_1 )
    {
LABEL_85:
      v77 = __rdtsc();
      qword_149A0FD88(&n0x1600);
      return;
    }
    __Val_0___3 = (const vraudio::AudioBuffer *)sub_1474B3000();
    n2 = 0;
    n0xA_1 = 0;
    v58 = a3 & 0x100;
    if ( (a3 & 0x100) == 0 )
    {
      switch ( n2_1 )
      {
        case 1u:
          goto LABEL_34;
        case 2u:
LABEL_33:
          n0xA = 0xA;
          $4[Error] = "$4[Error] ";
LABEL_35:
          n0xA_1 = n0xA;
          sub_1474B3490(__Val_0___3, $4[Error], (unsigned int)n0xA);
          n2 = 2;
          break;
        case 4u:
LABEL_34:
          n0xA = 0xC;
          $4[Error] = "$6[Warning] ";
          goto LABEL_35;
        case 5u:
          goto LABEL_33;
      }
    }
    sub_1474B30D0(__Val_0___3, __Val_0___2, v16);
    if ( *(_BYTE *)__Val_0___2 == 0x25 )
      __Val_0___4 = (const vraudio::AudioBuffer *)(n0xA + *(_QWORD *)__Val_0___3);
    else
      __Val_0___4 = __Val_0___2;
    v24 = *(_QWORD *)(a1 + 0x488);
    v25 = &v55;
    v57 = 10000.0;
    v26 = *(float *)(v24 + 0x278);
    if ( v26 >= 0.0 )
      v25 = &v56;
    v27 = &v57;
    v55 = 0.0;
    if ( v26 <= 10000.0 )
      v27 = v25;
    v56 = v26;
    v28 = *v27;
    if ( *v27 > 0.0 && ((n2_1 - 3) & 0xFFFFFFFB) != 0 )
    {
      v29 = (volatile signed __int32 *)(a1 + 0x47C);
      v30 = *(_DWORD *)(NtCurrentTeb_w() + 0x18);
      if ( *(_DWORD *)(a1 + 0x480) == v30 )
      {
        ++*(_DWORD *)(a1 + 0x484);
      }
      else
      {
        v31 = _InterlockedCompareExchange(v29, 1, 0);
        if ( v31 )
          sub_1403C51B0(a1 + 0x47C, v31, "CLog::LogV", 1);
        *(_DWORD *)(a1 + 0x480) = v30;
      }
      v32 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 8) + 0x2E8LL))(*(_QWORD *)(a1 + 8));
      v33 = (__int64 *)(*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v32 + 0x38LL))(v32, 0);
      v34 = *(_DWORD *)(a1 + 0x478);
      v35 = *v33;
      n0x10 = 0;
      v36 = (unsigned int)(int)(float)(v28 * 10000000.0);
      v72 = v36;
      v70 = v35;
      while ( 1 )
      {
        v37 = 0x20LL * v34;
        v71 = v36;
        v38 = sub_140598C00(&v70, &v85, &v71);
        if ( sub_140598C70((_QWORD *)(v37 + a1 + 0x290), v38) )
        {
LABEL_62:
          v42 = ((unsigned __int8)*(_DWORD *)(a1 + 0x478) + 1) & 0xF;
          v43 = 0x20 * v42;
          *(_DWORD *)(a1 + 0x478) = v42;
          assignCStringToStringStructure(0x20 * v42 + a1 + 0x278, (__int64)__Val_0___4);
          *(_DWORD *)(v43 + a1 + 0x288) = n2_1;
          *(_QWORD *)(0x20 * (v42 + 0x14) + a1) = __Val_0___4;
          *(_QWORD *)(v43 + a1 + 0x290) = v70;
          v44 = *(_DWORD *)(a1 + 0x484);
          if ( v44 )
          {
            *(_DWORD *)(a1 + 0x484) = v44 - 1;
          }
          else
          {
            *(_DWORD *)(a1 + 0x480) = 0xFFFFFFFF;
            v45 = _InterlockedCompareExchange(v29, 0, 1);
            if ( v45 != 1 )
              sub_1403DCC00(a1 + 0x47C, v45);
          }
          goto LABEL_66;
        }
        if ( *(_DWORD *)(v37 + a1 + 0x288) == n2_1 )
        {
          v39 = *(_DWORD **)(v37 + a1 + 0x278);
          if ( *(const vraudio::AudioBuffer **)(v37 + a1 + 0x280) == __Val_0___4 && *v39 == *(_DWORD *)__Val_0__ )
            break;
          if ( (unsigned int)sub_147506E00(v39) )
            break;
        }
        ++n0x10;
        v34 = ((_BYTE)v34 - 1) & 0xF;
        if ( n0x10 >= 0x10 )
          goto LABEL_62;
        v36 = v72;
      }
      v40 = *(_DWORD *)(a1 + 0x484);
      if ( v40 )
      {
        *(_DWORD *)(a1 + 0x484) = v40 - 1;
      }
      else
      {
        *(_DWORD *)(a1 + 0x480) = 0xFFFFFFFF;
        v41 = _InterlockedCompareExchange(v29, 0, 1);
        if ( v41 != 1 )
          sub_1403DCC00(a1 + 0x47C, v41);
      }
    }
    else
    {
LABEL_66:
      if ( v51 )
        sub_147503A80(a1, *(_QWORD *)__Val_0___3 + n2, 0, n3);
      if ( n3_3 >= n3 )
        sub_1475037A0(a1, *(_QWORD *)__Val_0___3, 0, n3);
      if ( !v58 && (int)n3_6 >= n3 )
        sub_147503FE0(a1, n2_1, *(_QWORD *)__Val_0___3 + n0xA_1);
      if ( n2_1 - 4 <= 1 || n2_1 - 1 <= 1 )
      {
        n0x1600_1 = 0x1600;
        v64 = 0;
        v65 = 0;
        v67 = 0;
        v68 = 0;
        v69 = 0;
        v66 = 1;
        qword_149A0FD80(&n0x1600_1, 0, &Source, &Source, 0);
        v46 = (*(__int64 (__fastcall **)(_QWORD))(**(_QWORD **)(a1 + 8) + 0x1F0LL))(*(_QWORD *)(a1 + 8));
        if ( v46 && (a3 & 0x80u) == 0 )
        {
          v81 = *(_QWORD *)__Val_0___3;
          v80[1] = 8;
          v80[0] = 2;
          p_Source = &Source;
          v84 = a3;
          v82 = 0;
          if ( n2_1 == 2 || n2_1 == 5 )
            v80[0] = 0;
          (*(void (__fastcall **)(__int64, _DWORD *))(*(_QWORD *)v46 + 8LL))(v46, v80);
        }
        v67 = __rdtsc();
        qword_149A0FD88(&n0x1600_1);
      }
    }
    TlsIndex = (unsigned int)::TlsIndex;
    *((_QWORD *)__Val_0___3 + 3) = 0;
    ThreadLocalStoragePointer_1 = NtCurrentTeb()->ThreadLocalStoragePointer;
    __Val_0__ = __Val_0___3;
    v49 = ThreadLocalStoragePointer_1[TlsIndex] + 0xDC8LL;
    _Whereptr_1 = *(const vraudio::AudioBuffer ***)(ThreadLocalStoragePointer_1[TlsIndex] + 0xDD0LL);
    if ( _Whereptr_1 == *(const vraudio::AudioBuffer ***)(ThreadLocalStoragePointer_1[TlsIndex] + 0xDD8LL) )
    {
      std::vector<vraudio::AudioBuffer const *>::_Emplace_reallocate<vraudio::AudioBuffer const *>(
        (std::vector<vraudio::AudioBuffer const *> *)(ThreadLocalStoragePointer_1[TlsIndex] + 0xDC8LL),
        _Whereptr_1,
        &__Val_0__);
    }
    else
    {
      *_Whereptr_1 = __Val_0___3;
      *(_QWORD *)(v49 + 8) += 8LL;
    }
    goto LABEL_85;
  }
}

// --- End Function: sub_147504C80 (0x147504C80) ---

// --- Function: sub_1475053D0 (0x1475053D0) ---
void __fastcall sub_1475053D0(__int64 a1, unsigned int n2, const vraudio::AudioBuffer *__Val_0__, __int64 a4)
{
  sub_147504C80(a1, n2, 0, __Val_0__, a4);
}

// --- End Function: sub_1475053D0 (0x1475053D0) ---

// --- Function: sub_1475053F0 (0x1475053F0) ---
void sub_1475053F0(__int64 a1, const vraudio::AudioBuffer *__Val_0__, ...)
{
  va_list va; // [rsp+50h] [rbp+18h] BYREF

  va_start(va, __Val_0__);
  sub_147504C80(a1, 1u, 0, __Val_0__, (__int64)va);
}

// --- End Function: sub_1475053F0 (0x1475053F0) ---

// --- Function: sub_147506E00 (0x147506E00) ---
__int64 __fastcall sub_147506E00(char *a1, char *a2)
{
  __int128 v2; // xmm6
  unsigned int v3; // r12d
  int v4; // ebp
  int v5; // r8d
  int n2; // edx
  char **v7; // rcx
  char *i; // rax
  char *v9; // r14
  int v10; // r13d
  char *v11; // rdi
  int v12; // edx
  int v13; // r11d
  int v14; // ebx
  int v15; // r15d
  int v16; // esi
  int v17; // r10d
  int v20; // r12d
  int v23; // r10d
  int v24; // eax
  char *v26; // [rsp+10h] [rbp-68h] BYREF
  char *v27; // [rsp+18h] [rbp-60h]
  __int128 v28; // [rsp+20h] [rbp-58h]
  char v29; // [rsp+80h] [rbp+8h]
  int v30; // [rsp+88h] [rbp+10h]
  int v31; // [rsp+90h] [rbp+18h]
  int v32; // [rsp+98h] [rbp+20h]

  v3 = 0;
  v28 = v2;
  v4 = 0;
  v30 = 0;
  v5 = 0;
  v32 = 0;
  v26 = a1;
  v27 = a2;
  do
  {
    n2 = 0;
    v7 = &v26;
    do
    {
      for ( i = *v7; *i == 0x20; *v7 = i )
        ++i;
      ++n2;
      ++v7;
    }
    while ( n2 < 2 );
    v9 = v27;
    LOBYTE(v10) = 0;
    v11 = v26;
    v12 = 0;
    v29 = 0;
    v13 = 0;
    v31 = 0;
    v14 = 0;
    v15 = 0;
    do
    {
      v16 = 0;
      v17 = 0;
      if ( !v13 )
      {
        do
        {
          v10 = *v11++;
          _XMM0 = 0;
          __asm { vcvtsi2sd xmm0, xmm0, r13d }
          v15 |= -(((v10 - 0x5C) ^ (v10 - 0x5D)) >> 0x1F)
               | -(((v10 - 0x2F) ^ (v10 - 0x30)) >> 0x1F)
               | -(((v10 - 0x5F) ^ (v10 - 0x60)) >> 0x1F);
          v16 = (COERCE_UNSIGNED_INT64(fabs(155.0 - (*(double *)&_XMM0 + *(double *)&_XMM0)) - 27.0) >> 0x3F)
              | (COERCE_UNSIGNED_INT64(fabs(219.0 - (*(double *)&_XMM0 + *(double *)&_XMM0)) - 27.0) >> 0x3F);
          v13 = -(((v10 - 0x20) ^ (v10 - 0x21)) >> 0x1F);
          v4 |= -((v10 ^ (v10 - 1)) >> 0x1F);
        }
        while ( !(v4 | v13 | v16) );
        v12 = v31;
        v5 = v30;
        v26 = v11;
      }
      if ( !v14 )
      {
        do
        {
          v20 = *v9++;
          _XMM0 = 0;
          __asm { vcvtsi2sd xmm0, xmm0, r12d }
          v29 = v20;
          v15 |= -(((v20 - 0x5C) ^ (v20 - 0x5D)) >> 0x1F)
               | -(((v20 - 0x2F) ^ (v20 - 0x30)) >> 0x1F)
               | -(((v20 - 0x5F) ^ (v20 - 0x60)) >> 0x1F);
          v17 = (COERCE_UNSIGNED_INT64(fabs(155.0 - (*(double *)&_XMM0 + *(double *)&_XMM0)) - 27.0) >> 0x3F)
              | (COERCE_UNSIGNED_INT64(fabs(219.0 - (*(double *)&_XMM0 + *(double *)&_XMM0)) - 27.0) >> 0x3F);
          v14 = -(((v20 - 0x20) ^ (v20 - 0x21)) >> 0x1F);
          v4 |= -((v20 ^ (v20 - 1)) >> 0x1F);
        }
        while ( !(v4 | v14 | v17) );
        v12 = v31;
        v3 = 0;
        v5 = v30;
        v27 = v9;
      }
      v23 = v16 & v17;
      v5 += v23;
      v30 = v5;
      v12 += v23 & (((((char)v10 - v29) ^ ((char)v10 - v29 - 1)) >> 0x1F) + 1);
      v31 = v12;
    }
    while ( (((1 - v14) | (1 - v13)) & (1 - v4)) != 0 );
    v24 = (v12 & (v15 - 1)) + v32;
    v32 = v24;
  }
  while ( !v4 );
  LOBYTE(v3) = 0xA * v24 < v5;
  return v3;
}

// --- End Function: sub_147506E00 (0x147506E00) ---

// --- Function: sub_14753C530 (0x14753C530) ---
__int64 __fastcall sub_14753C530(const void *a1)
{
  __int64 result; // rax

  if ( a1 )
  {
    if ( qword_149A143C8 && qword_149A141F8 && a1 == (const void *)qword_149A141F8 )
      __debugbreak();
    if ( (unsigned __int64)a1 < qword_1499C4808
      || (result = qword_1499C4808 + 0x8000000000LL, (unsigned __int64)a1 >= qword_1499C4808 + 0x8000000000LL) )
    {
      if ( (unsigned __int64)a1 >= qword_1499C47E8 && (unsigned __int64)a1 < qword_1499C47E8 + 0x200000000LL )
        LogFatalError("Address %p was allocated by persistent malloc and cannot be freed!", a1);
      return sub_147539550((__int64)a1);
    }
  }
  return result;
}

// --- End Function: sub_14753C530 (0x14753C530) ---

// --- Function: allocWithProfilerInfo (0x14753C5E0) ---
__int64 __fastcall allocWithProfilerInfo(unsigned __int64 allocSize, struct _exception *profilerInfo)
{
  char tls_byte_at_offset_3401; // al
  unsigned __int8 v5; // bl
  __int64 v6; // rax
  __int64 result; // rax

  if ( allocSize )
  {
    tls_byte_at_offset_3401 = get_tls_byte_at_offset_3401();
    v5 = sub_14056BB30(tls_byte_at_offset_3401);
    v6 = AK::MemoryMgr::StopProfileThreadUsage(profilerInfo);
    result = sub_147539CD0(v6 + allocSize, profilerInfo, v5);
    if ( result )
      return result;
    sub_14753BEF0(allocSize);
  }
  return 0;
}

// --- End Function: allocWithProfilerInfo (0x14753C5E0) ---

// --- Function: ?_Xlength_error@std@@YAXPEBD@Z (0x147F6990E) ---
// attributes: thunk
void __fastcall __noreturn std::_Xlength_error(const char *a1)
{
  __imp_?_Xlength_error@std@@YAXPEBD@Z(a1);
}

// --- End Function: ?_Xlength_error@std@@YAXPEBD@Z (0x147F6990E) ---

// --- Function: __security_check_cookie (0x147F6A880) ---
void __cdecl _security_check_cookie(uintptr_t StackCookie)
{
  __int64 v1; // rcx

  if ( StackCookie != _security_cookie )
ReportFailure:
    _report_gsfailure(StackCookie);
  v1 = __ROL8__(StackCookie, 0x10);
  if ( (_WORD)v1 )
  {
    StackCookie = __ROR8__(v1, 0x10);
    goto ReportFailure;
  }
}

// --- End Function: __security_check_cookie (0x147F6A880) ---

// --- Function: __report_gsfailure (0x147F6AA7C) ---
void __cdecl __noreturn _report_gsfailure(uintptr_t StackCookie)
{
  DWORD64 retaddr; // [rsp+38h] [rbp+0h]
  DWORD64 StackCookie_1; // [rsp+40h] [rbp+8h] BYREF

  StackCookie_1 = StackCookie;
  if ( IsProcessorFeaturePresent(0x17u) )
    __fastfail(2u);
  capture_previous_context(&ContextRecord);
  ContextRecord.Rip = retaddr;
  ContextRecord.Rsp = (DWORD64)&StackCookie_1;
  qword_1515EE080 = retaddr;
  ContextRecord.Rcx = StackCookie_1;
  dword_1515EE070 = 0xC0000409;
  dword_1515EE074 = 1;
  dword_1515EE088 = 1;
  qword_1515EE090[0] = 2;
  _raise_securityfailure((struct _EXCEPTION_POINTERS *)&ExceptionInfo);
}

// --- End Function: __report_gsfailure (0x147F6AA7C) ---

// --- Function: memcpy (0x147FB92AB) ---
// attributes: thunk
void *__cdecl memcpy(void *a1, const void *Src, size_t Size)
{
  return __imp_memcpy(a1, Src, Size);
}

// --- End Function: memcpy (0x147FB92AB) ---

// --- Function: memmove (0x147FB92B1) ---
// attributes: thunk
void *__cdecl memmove(void *a1, const void *Src, size_t Size)
{
  return __imp_memmove(a1, Src, Size);
}

// --- End Function: memmove (0x147FB92B1) ---

// --- Function: memset (0x147FB92B7) ---
// attributes: thunk
void *__cdecl memset(void *a1, int Val, size_t Size)
{
  return __imp_memset(a1, Val, Size);
}

// --- End Function: memset (0x147FB92B7) ---

