// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Functions:
//   - 0x146A54710 (sub_146A54710)
//   - 0x146A56400 (sub_146A56400)
// Caller Depth: 0
// Callee/Ref Depth: 5
// Total Functions Found: 6
// ------------------------------------------------------------

// --- Function: getModuleFunction (0x14039B170) ---
FARPROC __fastcall getModuleFunction(LPCSTR lpLibFileName, LPCSTR lpProcName, char a3)
{
  HMODULE hModule; // rax
  FARPROC v7; // rbx
  FARPROC result; // rax
  HMODULE hModule_1; // rax

  hModule = GetModuleHandleA(0);
  if ( a3 )
  {
    v7 = 0;
  }
  else
  {
    result = GetProcAddress(hModule, lpProcName);
    v7 = result;
    if ( result )
      return result;
  }
  hModule_1 = LoadLibraryA(lpLibFileName);
  if ( hModule_1 )
    return GetProcAddress(hModule_1, lpProcName);
  else
    return v7;
}

// --- End Function: getModuleFunction (0x14039B170) ---

// --- Function: sub_14056D9B0 (0x14056D9B0) ---
__int64 __fastcall sub_14056D9B0(_QWORD *a1, __int64 a2, __int64 a3, __int64 a4)
{
  void (__cdecl **IMemoryManagerInterface)(void *); // rax

  IMemoryManagerInterface = cryGetIMemoryManagerInterface();
  return *a1
       + a3 * a2
       + (a2 + 1)
       * (*((__int64 (__fastcall **)(void (__cdecl **)(void *), __int64))*IMemoryManagerInterface + 0xF))(
           IMemoryManagerInterface,
           a4);
}

// --- End Function: sub_14056D9B0 (0x14056D9B0) ---

// --- Function: cryGetIMemoryManagerInterface (0x1405ABF30) ---
void (__cdecl **cryGetIMemoryManagerInterface())(void *Memory)
{
  void (__cdecl **result)(void *); // rax
  FARPROC ModuleFunction; // rax

  result = qword_149B4F9C0;
  if ( !qword_149B4F9C0 )
  {
    ModuleFunction = getModuleFunction("CrySystem", "CryGetIMemoryManagerInterface", 0);
    if ( ModuleFunction )
      ((void (__fastcall *)(void (__cdecl ***)(void *)))ModuleFunction)(&qword_149B4F9C0);
    return qword_149B4F9C0;
  }
  return result;
}

// --- End Function: cryGetIMemoryManagerInterface (0x1405ABF30) ---

// --- Function: sub_146A54710 (0x146A54710) ---
__int64 __fastcall sub_146A54710(__int64 a1, _DWORD *a2)
{
  if ( *a2 == 0xF0000000 )
    return 0;
  else
    return *(unsigned int *)sub_146A54FA0(a1, a2);
}

// --- End Function: sub_146A54710 (0x146A54710) ---

// --- Function: sub_146A54FA0 (0x146A54FA0) ---
__int64 __fastcall sub_146A54FA0(_QWORD *a1, int *a2)
{
  int v2; // eax
  __int64 v3; // rdx
  unsigned int v4; // eax

  v2 = *a2;
  v3 = *a2 & 0xFFFFFFF;
  v4 = v2 & 0xF0000000;
  switch ( v4 )
  {
    case 0xA0000000:
      return *(_QWORD *)sub_14056D9B0(a1 + 0x62, v3, 8, 0x10);
    case 0xB0000000:
      return sub_14056D9B0(a1 + 0x56, v3, 0x50, 0x10);
    case 0xC0000000:
      return sub_14056D9B0(a1 + 0x4A, v3, 0x40, 0x10);
    case 0xD0000000:
      return sub_14056D9B0(a1 + 0x3E, v3, 0x30, 0x10);
    case 0xE0000000:
      return sub_14056D9B0(a1 + 0x32, v3, 0x20, 0x10);
  }
  __debugbreak();
  return 0;
}

// --- End Function: sub_146A54FA0 (0x146A54FA0) ---

// --- Function: sub_146A56400 (0x146A56400) ---
char __fastcall sub_146A56400(__int64 a1, _DWORD *a2, _WORD *a3)
{
  _DWORD *v4; // rax
  __int64 v5; // rcx

  if ( *a2 == 0xF0000000 )
    return 0;
  v4 = (_DWORD *)sub_146A54FA0(a1, a2);
  v5 = 0;
  if ( !*v4 )
    return 0;
  while ( *((_WORD *)v4 + v5 + 8) != *a3 )
  {
    if ( ++v5 >= (unsigned __int64)(unsigned int)*v4 )
      return 0;
  }
  return 1;
}

// --- End Function: sub_146A56400 (0x146A56400) ---

