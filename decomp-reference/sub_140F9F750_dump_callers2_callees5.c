// Decompiled code dump generated by Code Dumper (Callers/Callees/Refs)
// Start Function: 0x140F9F750 (sub_140F9F750)
// Caller Depth: 2
// Callee/Ref Depth: 5
// Total Functions Found: 52
// ------------------------------------------------------------

// --- Function: sub_1402A3D30 (0x1402A3D30) ---
__int64 __fastcall sub_1402A3D30(__int64 a1)
{
  return sub_147605980(a1, (unsigned int)dword_149924818);
}

// --- End Function: sub_1402A3D30 (0x1402A3D30) ---

// --- Function: sub_1402A3D40 (0x1402A3D40) ---
__int64 __fastcall sub_1402A3D40(unsigned __int64 allocSize)
{
  return allocWithProfilerInfo(allocSize, 0);
}

// --- End Function: sub_1402A3D40 (0x1402A3D40) ---

// --- Function: sub_1402A9870 (0x1402A9870) ---
const void **__fastcall sub_1402A9870(const void **Src, unsigned __int64 a2, __int64 a3, const void *a4, size_t Size)
{
  size_t Size_1; // r15
  __int64 v6; // rbx
  unsigned __int64 n0xF; // rbp
  size_t v10; // r14
  unsigned __int64 v11; // rdx
  __int64 v12; // rcx
  unsigned __int64 allocSize; // rcx
  __int64 v14; // rax
  _QWORD *v15; // rdi
  char *v16; // r14
  __int64 v17; // rbx

  Size_1 = (size_t)Src[2];
  v6 = 0x7FFFFFFFFFFFFFFFLL;
  if ( 0x7FFFFFFFFFFFFFFFLL - Size_1 < a2 )
    unknown_libname_9();
  n0xF = (unsigned __int64)Src[3];
  v10 = Size_1 + a2;
  v11 = (Size_1 + a2) | 0xF;
  if ( v11 > 0x7FFFFFFFFFFFFFFFLL || (v12 = n0xF >> 1, n0xF > 0x7FFFFFFFFFFFFFFFLL - (n0xF >> 1)) )
  {
    allocSize = 0x8000000000000027uLL;
  }
  else
  {
    v6 = v11;
    if ( v11 < v12 + n0xF )
      v6 = v12 + n0xF;
    if ( (unsigned __int64)(v6 + 1) < 0x1000 )
    {
      if ( v6 == -1 )
        v15 = 0;
      else
        v15 = (_QWORD *)sub_1402A3D40(v6 + 1);
      goto LABEL_15;
    }
    allocSize = v6 + 40;
    if ( v6 + 40 < (unsigned __int64)(v6 + 1) )
      sub_1402E1170();
  }
  v14 = sub_1402A3D40(allocSize);
  if ( !v14 )
    goto LABEL_20;
  v15 = (_QWORD *)((v14 + 39) & 0xFFFFFFFFFFFFFFE0uLL);
  *(v15 - 1) = v14;
LABEL_15:
  Src[2] = (const void *)v10;
  v16 = (char *)v15 + Size_1;
  Src[3] = (const void *)v6;
  if ( n0xF <= 0xF )
  {
    memcpy(v15, Src, Size_1);
    memcpy((char *)v15 + Size_1, a4, Size);
    v16[Size] = 0;
    goto LABEL_22;
  }
  v17 = (__int64)*Src;
  memcpy(v15, *Src, Size_1);
  memcpy((char *)v15 + Size_1, a4, Size);
  v16[Size] = 0;
  if ( n0xF + 1 >= 0x1000 )
  {
    if ( (unsigned __int64)(v17 - *(_QWORD *)(v17 - 8) - 8) <= 0x1F )
    {
      v17 = *(_QWORD *)(v17 - 8);
      goto LABEL_19;
    }
LABEL_20:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_19:
  sub_1402A3D30(v17);
LABEL_22:
  *Src = v15;
  return Src;
}

// --- End Function: sub_1402A9870 (0x1402A9870) ---

// --- Function: sub_1402B1680 (0x1402B1680) ---
_QWORD *__fastcall sub_1402B1680(_QWORD *a1)
{
  a1[1] = "bad array new length";
  *a1 = off_1481A05A8;
  return a1;
}

// --- End Function: sub_1402B1680 (0x1402B1680) ---

// --- Function: ?_Raise@exception@stdext@@QEBAXXZ (0x1402E0F50) ---
void __fastcall __noreturn stdext::exception::_Raise(stdext::exception *this)
{
  if ( std::_Raise_handler )
    std::_Raise_handler(this);
  (*(void (__fastcall **)(stdext::exception *))(*(_QWORD *)this + 16LL))(this);
  invoke_watson(0, 0, 0, 0, 0);
}

// --- End Function: ?_Raise@exception@stdext@@QEBAXXZ (0x1402E0F50) ---

// --- Function: sub_1402E1170 (0x1402E1170) ---
void __noreturn sub_1402E1170()
{
  stdext::exception *v0; // rax
  _QWORD v1[3]; // [rsp+20h] [rbp-18h] BYREF

  v0 = (stdext::exception *)sub_1402B1680(v1);
  stdext::exception::_Raise(v0);
}

// --- End Function: sub_1402E1170 (0x1402E1170) ---

// --- Function: unknown_libname_9 (0x1402E1F70) ---
// Microsoft VisualC v14 64bit runtime
void __noreturn unknown_libname_9()
{
  std::_Xlength_error("string too long");
}

// --- End Function: unknown_libname_9 (0x1402E1F70) ---

// --- Function: sub_1402E2330 (0x1402E2330) ---
const void **__fastcall sub_1402E2330(const void **Src, const void *a2, unsigned __int64 Size_1)
{
  char *v5; // rcx
  unsigned __int64 n0xF; // r8
  void *Src_1; // rax
  char *v8; // rbx
  unsigned __int8 v10; // [rsp+40h] [rbp+8h]

  v5 = (char *)Src[2];
  n0xF = (unsigned __int64)Src[3];
  if ( Size_1 > n0xF - (unsigned __int64)v5 )
    return sub_1402A9870(Src, Size_1, v10, a2, Size_1);
  Src[2] = &v5[Size_1];
  Src_1 = Src;
  if ( n0xF > 0xF )
    Src_1 = (void *)*Src;
  v8 = &v5[(_QWORD)Src_1];
  memmove(&v5[(_QWORD)Src_1], a2, Size_1);
  v8[Size_1] = 0;
  return Src;
}

// --- End Function: sub_1402E2330 (0x1402E2330) ---

// --- Function: sub_1402FAE70 (0x1402FAE70) ---
__int64 *__fastcall sub_1402FAE70(__int64 *a1, void *Src, size_t Size)
{
  unsigned __int64 n0xF; // rbp
  void *v7; // rdi
  size_t v8; // rdi
  __int64 v9; // rdx
  unsigned __int64 allocSize; // rcx
  __int64 v11; // rax
  _QWORD *v12; // r14
  __int64 v13; // rcx

  n0xF = a1[3];
  if ( Size > n0xF )
  {
    v8 = 0x7FFFFFFFFFFFFFFFLL;
    if ( Size > 0x7FFFFFFFFFFFFFFFLL )
      unknown_libname_9();
    if ( (Size | 0xF) > 0x7FFFFFFFFFFFFFFFLL || (v9 = n0xF >> 1, n0xF > 0x7FFFFFFFFFFFFFFFLL - (n0xF >> 1)) )
    {
      allocSize = 0x8000000000000027uLL;
    }
    else
    {
      v8 = Size | 0xF;
      if ( (Size | 0xF) < v9 + n0xF )
        v8 = v9 + n0xF;
      if ( v8 + 1 < 0x1000 )
      {
        if ( v8 == -1 )
          v12 = 0;
        else
          v12 = (_QWORD *)sub_1402A3D40(v8 + 1);
        goto LABEL_19;
      }
      allocSize = v8 + 40;
      if ( v8 + 40 < v8 + 1 )
        sub_1402E1170();
    }
    v11 = sub_1402A3D40(allocSize);
    if ( !v11 )
      goto LABEL_26;
    v12 = (_QWORD *)((v11 + 39) & 0xFFFFFFFFFFFFFFE0uLL);
    *(v12 - 1) = v11;
LABEL_19:
    a1[2] = Size;
    a1[3] = v8;
    memcpy(v12, Src, Size);
    *((_BYTE *)v12 + Size) = 0;
    if ( n0xF <= 0xF )
    {
LABEL_24:
      *a1 = (__int64)v12;
      return a1;
    }
    v13 = *a1;
    if ( n0xF + 1 < 0x1000 )
    {
LABEL_23:
      sub_1402A3D30(v13);
      goto LABEL_24;
    }
    if ( (unsigned __int64)(v13 - *(_QWORD *)(v13 - 8) - 8) <= 0x1F )
    {
      v13 = *(_QWORD *)(v13 - 8);
      goto LABEL_23;
    }
LABEL_26:
    invalid_parameter_noinfo_noreturn();
  }
  v7 = a1;
  if ( n0xF > 0xF )
    v7 = (void *)*a1;
  a1[2] = Size;
  memmove(v7, Src, Size);
  *((_BYTE *)v7 + Size) = 0;
  return a1;
}

// --- End Function: sub_1402FAE70 (0x1402FAE70) ---

// --- Function: sub_140C58D20 (0x140C58D20) ---
const void **__fastcall sub_140C58D20(const void **Src, unsigned __int64 a2, __int64 a3, size_t Size_1, char Val)
{
  size_t Size; // r14
  __int64 v6; // rbx
  size_t v9; // rbp
  unsigned __int64 v10; // rdx
  unsigned __int64 n0xF; // r13
  __int64 v12; // rcx
  unsigned __int64 allocSize; // rcx
  __int64 v14; // rax
  _QWORD *v15; // rdi
  char *v16; // rbp
  __int64 v17; // rbx

  Size = (size_t)Src[2];
  v6 = 0x7FFFFFFFFFFFFFFFLL;
  if ( 0x7FFFFFFFFFFFFFFFLL - Size < a2 )
    unknown_libname_9();
  v9 = Size + a2;
  v10 = (Size + a2) | 0xF;
  n0xF = (unsigned __int64)Src[3];
  if ( v10 > 0x7FFFFFFFFFFFFFFFLL || (v12 = n0xF >> 1, n0xF > 0x7FFFFFFFFFFFFFFFLL - (n0xF >> 1)) )
  {
    allocSize = 0x8000000000000027uLL;
  }
  else
  {
    v6 = v10;
    if ( v10 < v12 + n0xF )
      v6 = v12 + n0xF;
    if ( (unsigned __int64)(v6 + 1) < 0x1000 )
    {
      if ( v6 == -1 )
        v15 = 0;
      else
        v15 = (_QWORD *)sub_1402A3D40(v6 + 1);
      goto LABEL_15;
    }
    allocSize = v6 + 40;
    if ( v6 + 40 < (unsigned __int64)(v6 + 1) )
      sub_1402E1170();
  }
  v14 = sub_1402A3D40(allocSize);
  if ( !v14 )
    goto LABEL_20;
  v15 = (_QWORD *)((v14 + 39) & 0xFFFFFFFFFFFFFFE0uLL);
  *(v15 - 1) = v14;
LABEL_15:
  Src[2] = (const void *)v9;
  v16 = (char *)v15 + Size;
  Src[3] = (const void *)v6;
  if ( n0xF <= 0xF )
  {
    memcpy(v15, Src, Size);
    memset((char *)v15 + Size, Val, Size_1);
    v16[Size_1] = 0;
    goto LABEL_22;
  }
  v17 = (__int64)*Src;
  memcpy(v15, *Src, Size);
  memset((char *)v15 + Size, Val, Size_1);
  v16[Size_1] = 0;
  if ( n0xF + 1 >= 0x1000 )
  {
    if ( (unsigned __int64)(v17 - *(_QWORD *)(v17 - 8) - 8) <= 0x1F )
    {
      v17 = *(_QWORD *)(v17 - 8);
      goto LABEL_19;
    }
LABEL_20:
    invalid_parameter_noinfo_noreturn();
  }
LABEL_19:
  sub_1402A3D30(v17);
LABEL_22:
  *Src = v15;
  return Src;
}

// --- End Function: sub_140C58D20 (0x140C58D20) ---

// --- Function: sub_140CB11B0 (0x140CB11B0) ---
const void **__fastcall sub_140CB11B0(_QWORD *a1, unsigned __int64 a2, char Val)
{
  unsigned __int64 v3; // r10
  unsigned __int64 *v4; // r9
  unsigned __int64 n0xF; // r11
  size_t Size; // rdi
  char *v7; // rbx
  const void **result; // rax
  unsigned __int8 v9; // [rsp+40h] [rbp+8h]

  v3 = a1[2];
  v4 = a1 + 2;
  if ( a2 > v3 )
  {
    n0xF = a1[3];
    Size = a2 - v3;
    if ( a2 - v3 > n0xF - v3 )
    {
      return sub_140C58D20((const void **)a1, a2 - v3, v9, a2 - v3, Val);
    }
    else
    {
      *v4 = a2;
      if ( n0xF > 0xF )
        a1 = (_QWORD *)*a1;
      v7 = (char *)a1 + v3;
      result = (const void **)memset((char *)a1 + v3, Val, Size);
      v7[Size] = 0;
    }
  }
  else
  {
    if ( a1[3] > 0xFu )
      a1 = (_QWORD *)*a1;
    *v4 = a2;
    *((_BYTE *)a1 + a2) = 0;
  }
  return result;
}

// --- End Function: sub_140CB11B0 (0x140CB11B0) ---

// --- Function: sub_140D14440 (0x140D14440) ---
__int64 __fastcall sub_140D14440(_QWORD *a1, __int64 a2, _QWORD *a3, _BYTE *a4)
{
  signed __int64 n128; // rdi
  _QWORD *v6; // r10
  unsigned int n0x200000; // r8d
  __int64 n2; // r9
  unsigned int n0x80_1; // r8d
  _BYTE *i; // rbx
  char n0x80_2; // al
  unsigned int n0x80; // r8d
  void *v13; // rbx

  n128 = a3[2];
  v6 = a3;
  if ( n128 >= 128 )
    return sub_147BFFD00(a1, a2, v6, a4);
  n0x200000 = 8 * a2;
  if ( (unsigned int)(8 * a2) >= 0x80 )
  {
    if ( n0x200000 >= 0x4000 )
      n2 = n0x200000 >= 0x200000 ? 5LL - (n0x200000 < 0x10000000) : 3LL;
    else
      n2 = 2;
  }
  else
  {
    n2 = 1;
  }
  if ( *a1 - n2 - (__int64)a4 + 15 < n128 )
    return sub_147BFFD00(a1, a2, v6, a4);
  n0x80_1 = n0x200000 | 2;
  *a4 = n0x80_1;
  i = a4 + 1;
  if ( n0x80_1 >= 0x80 )
  {
    n0x80_2 = n0x80_1;
    n0x80 = n0x80_1 >> 7;
    *i = n0x80;
    *a4 = n0x80_2 | 0x80;
    for ( i = a4 + 2; n0x80 >= 0x80; ++i )
    {
      *(i - 1) |= 0x80u;
      n0x80 >>= 7;
      *i = n0x80;
    }
  }
  *i = n128;
  v13 = i + 1;
  if ( v6[3] > 0xFu )
    v6 = (_QWORD *)*v6;
  memcpy(v13, v6, n128);
  return (__int64)v13 + n128;
}

// --- End Function: sub_140D14440 (0x140D14440) ---

// --- Function: sub_140F9F750 (0x140F9F750) ---
__int64 __fastcall sub_140F9F750(__int64 a1, _BYTE *i, _QWORD *a3)
{
  _QWORD *v6; // rcx
  __int64 v7; // rdx
  _QWORD *v8; // rcx
  __int64 v9; // rdx
  _QWORD *v10; // rcx
  __int64 v11; // rdx
  unsigned __int64 n0x80_1; // rax
  _BYTE *v13; // rdx
  unsigned __int64 n0x80; // rcx
  unsigned __int64 n0x80_3; // rax
  _BYTE *v16; // rdx
  unsigned __int64 n0x80_2; // rcx
  char v18; // al
  _QWORD *v19; // rcx
  __int64 v20; // rdx
  _QWORD *v21; // rcx
  __int64 v22; // rdx
  _QWORD *v23; // rcx
  __int64 v24; // rdx
  unsigned int n0x80_5; // ecx
  _BYTE *v26; // rdx
  char n0x80_10; // al
  unsigned int n0x80_4; // ecx
  unsigned __int64 n0x80_7; // rax
  _BYTE *v30; // rdx
  unsigned __int64 n0x80_6; // rcx
  _QWORD *v32; // rcx
  __int64 v33; // rdx
  _QWORD *v34; // rcx
  __int64 v35; // rdx
  unsigned __int64 n0x80_9; // rax
  _BYTE *v37; // rdx
  unsigned __int64 n0x80_8; // rcx

  v6 = (_QWORD *)(*(_QWORD *)(a1 + 16) & 0xFFFFFFFFFFFFFFFCuLL);
  v7 = v6[2];
  if ( v7 )
  {
    if ( v6[3] > 0xFu )
      v6 = (_QWORD *)*v6;
    sub_147BF01A0(v6, v7, 1, "sc.internal.services.entitlement.v1.GrantCommand.Grant.urn");
    i = (_BYTE *)sub_140D14440(a3, 1, *(_QWORD *)(a1 + 16) & 0xFFFFFFFFFFFFFFFCuLL, i);
  }
  v8 = (_QWORD *)(*(_QWORD *)(a1 + 24) & 0xFFFFFFFFFFFFFFFCuLL);
  v9 = v8[2];
  if ( v9 )
  {
    if ( v8[3] > 0xFu )
      v8 = (_QWORD *)*v8;
    sub_147BF01A0(v8, v9, 1, "sc.internal.services.entitlement.v1.GrantCommand.Grant.account_urn");
    i = (_BYTE *)sub_140D14440(a3, 2, *(_QWORD *)(a1 + 24) & 0xFFFFFFFFFFFFFFFCuLL, i);
  }
  v10 = (_QWORD *)(*(_QWORD *)(a1 + 32) & 0xFFFFFFFFFFFFFFFCuLL);
  v11 = v10[2];
  if ( v11 )
  {
    if ( v10[3] > 0xFu )
      v10 = (_QWORD *)*v10;
    sub_147BF01A0(v10, v11, 1, "sc.internal.services.entitlement.v1.GrantCommand.Grant.player_urn");
    i = (_BYTE *)sub_140D14440(a3, 3, *(_QWORD *)(a1 + 32) & 0xFFFFFFFFFFFFFFFCuLL, i);
  }
  if ( *(_DWORD *)(a1 + 96) )
  {
    if ( (unsigned __int64)i >= *a3 )
      i = (_BYTE *)sub_147BFEC20(a3, i);
    n0x80_1 = *(int *)(a1 + 96);
    v13 = i + 1;
    *i = 32;
    i[1] = n0x80_1;
    i += 2;
    if ( n0x80_1 >= 0x80 )
    {
      n0x80 = n0x80_1 >> 7;
      *i = n0x80_1 >> 7;
      i = v13 + 2;
      for ( *v13 = n0x80_1 | 0x80; n0x80 >= 0x80; ++i )
      {
        *(i - 1) |= 0x80u;
        n0x80 >>= 7;
        *i = n0x80;
      }
    }
  }
  if ( *(_DWORD *)(a1 + 100) )
  {
    if ( (unsigned __int64)i >= *a3 )
      i = (_BYTE *)sub_147BFEC20(a3, i);
    n0x80_3 = *(int *)(a1 + 100);
    v16 = i + 1;
    *i = 40;
    i[1] = n0x80_3;
    i += 2;
    if ( n0x80_3 >= 0x80 )
    {
      n0x80_2 = n0x80_3 >> 7;
      *i = n0x80_3 >> 7;
      i = v16 + 2;
      for ( *v16 = n0x80_3 | 0x80; n0x80_2 >= 0x80; ++i )
      {
        *(i - 1) |= 0x80u;
        n0x80_2 >>= 7;
        *i = n0x80_2;
      }
    }
  }
  if ( *(_BYTE *)(a1 + 104) )
  {
    if ( (unsigned __int64)i >= *a3 )
      i = (_BYTE *)sub_147BFEC20(a3, i);
    v18 = *(_BYTE *)(a1 + 104);
    *i = 48;
    i[1] = v18 != 0;
    i += 2;
  }
  v19 = (_QWORD *)(*(_QWORD *)(a1 + 40) & 0xFFFFFFFFFFFFFFFCuLL);
  v20 = v19[2];
  if ( v20 )
  {
    if ( v19[3] > 0xFu )
      v19 = (_QWORD *)*v19;
    sub_147BF01A0(v19, v20, 1, "sc.internal.services.entitlement.v1.GrantCommand.Grant.source_sku");
    i = (_BYTE *)sub_140D14440(a3, 7, *(_QWORD *)(a1 + 40) & 0xFFFFFFFFFFFFFFFCuLL, i);
  }
  v21 = (_QWORD *)(*(_QWORD *)(a1 + 48) & 0xFFFFFFFFFFFFFFFCuLL);
  v22 = v21[2];
  if ( v22 )
  {
    if ( v21[3] > 0xFu )
      v21 = (_QWORD *)*v21;
    sub_147BF01A0(v21, v22, 1, "sc.internal.services.entitlement.v1.GrantCommand.Grant.name");
    i = (_BYTE *)sub_140D14440(a3, 8, *(_QWORD *)(a1 + 48) & 0xFFFFFFFFFFFFFFFCuLL, i);
  }
  v23 = (_QWORD *)(*(_QWORD *)(a1 + 56) & 0xFFFFFFFFFFFFFFFCuLL);
  v24 = v23[2];
  if ( v24 )
  {
    if ( v23[3] > 0xFu )
      v23 = (_QWORD *)*v23;
    sub_147BF01A0(v23, v24, 1, "sc.internal.services.entitlement.v1.GrantCommand.Grant.entity_class_guid");
    i = (_BYTE *)sub_140D14440(a3, 9, *(_QWORD *)(a1 + 56) & 0xFFFFFFFFFFFFFFFCuLL, i);
  }
  if ( *(_DWORD *)(a1 + 108) )
  {
    if ( (unsigned __int64)i >= *a3 )
      i = (_BYTE *)sub_147BFEC20(a3, i);
    n0x80_5 = *(_DWORD *)(a1 + 108);
    v26 = i + 1;
    *i = 80;
    i += 2;
    *v26 = n0x80_5;
    if ( n0x80_5 >= 0x80 )
    {
      n0x80_10 = n0x80_5;
      n0x80_4 = n0x80_5 >> 7;
      *i = n0x80_4;
      *v26 = n0x80_10 | 0x80;
      for ( i = v26 + 2; n0x80_4 >= 0x80; ++i )
      {
        *(i - 1) |= 0x80u;
        n0x80_4 >>= 7;
        *i = n0x80_4;
      }
    }
  }
  if ( *(_DWORD *)(a1 + 112) )
  {
    if ( (unsigned __int64)i >= *a3 )
      i = (_BYTE *)sub_147BFEC20(a3, i);
    n0x80_7 = *(int *)(a1 + 112);
    v30 = i + 1;
    *i = 96;
    i[1] = n0x80_7;
    i += 2;
    if ( n0x80_7 >= 0x80 )
    {
      n0x80_6 = n0x80_7 >> 7;
      *i = n0x80_7 >> 7;
      i = v30 + 2;
      for ( *v30 = n0x80_7 | 0x80; n0x80_6 >= 0x80; ++i )
      {
        *(i - 1) |= 0x80u;
        n0x80_6 >>= 7;
        *i = n0x80_6;
      }
    }
  }
  v32 = (_QWORD *)(*(_QWORD *)(a1 + 64) & 0xFFFFFFFFFFFFFFFCuLL);
  v33 = v32[2];
  if ( v33 )
  {
    if ( v32[3] > 0xFu )
      v32 = (_QWORD *)*v32;
    sub_147BF01A0(v32, v33, 1, "sc.internal.services.entitlement.v1.GrantCommand.Grant.log_message");
    i = (_BYTE *)sub_140D14440(a3, 13, *(_QWORD *)(a1 + 64) & 0xFFFFFFFFFFFFFFFCuLL, i);
  }
  v34 = (_QWORD *)(*(_QWORD *)(a1 + 72) & 0xFFFFFFFFFFFFFFFCuLL);
  v35 = v34[2];
  if ( v35 )
  {
    if ( v34[3] > 0xFu )
      v34 = (_QWORD *)*v34;
    sub_147BF01A0(v34, v35, 1, "sc.internal.services.entitlement.v1.GrantCommand.Grant.target_inventory");
    i = (_BYTE *)sub_140D14440(a3, 14, *(_QWORD *)(a1 + 72) & 0xFFFFFFFFFFFFFFFCuLL, i);
  }
  if ( (__int64 (__fastcall ***)())a1 != &off_14994CF30 )
  {
    if ( *(_QWORD *)(a1 + 80) )
    {
      i = (_BYTE *)sub_147BEFB60(
                     15,
                     *(_QWORD *)(a1 + 80),
                     *(_DWORD *)(*(_QWORD *)(a1 + 80) + 32LL),
                     (_DWORD)i,
                     (__int64)a3);
    }
    else if ( (__int64 (__fastcall ***)())a1 == &off_14994CF30 )
    {
      goto LABEL_67;
    }
    if ( *(_QWORD *)(a1 + 88) )
      i = (_BYTE *)sub_147BEFB60(
                     16,
                     *(_QWORD *)(a1 + 88),
                     *(_DWORD *)(*(_QWORD *)(a1 + 88) + 48LL),
                     (_DWORD)i,
                     (__int64)a3);
  }
LABEL_67:
  if ( *(_DWORD *)(a1 + 116) )
  {
    if ( (unsigned __int64)i >= *a3 )
      i = (_BYTE *)sub_147BFEC20(a3, i);
    n0x80_9 = *(int *)(a1 + 116);
    v37 = i + 2;
    *(_WORD *)i = 392;
    i[2] = n0x80_9;
    i += 3;
    if ( n0x80_9 >= 0x80 )
    {
      n0x80_8 = n0x80_9 >> 7;
      *i = n0x80_9 >> 7;
      i = v37 + 2;
      for ( *v37 = n0x80_9 | 0x80; n0x80_8 >= 0x80; ++i )
      {
        *(i - 1) |= 0x80u;
        n0x80_8 >>= 7;
        *i = n0x80_8;
      }
    }
  }
  if ( (*(_BYTE *)(a1 + 8) & 1) != 0 )
    return sub_147BFB370((*(_QWORD *)(a1 + 8) & 0xFFFFFFFFFFFFFFFCuLL) + 8, i, a3);
  else
    return (__int64)i;
}

// --- End Function: sub_140F9F750 (0x140F9F750) ---

// --- Function: sub_147605980 (0x147605980) ---
__int64 __fastcall sub_147605980(const void *a1)
{
  __int64 result; // rax

  if ( a1 )
  {
    if ( qword_149B4FDB8 && qword_149B4FBE8 && a1 == (const void *)qword_149B4FBE8 )
      __debugbreak();
    if ( (unsigned __int64)a1 < qword_149B00898
      || (result = qword_149B00898 + 0x8000000000LL, (unsigned __int64)a1 >= qword_149B00898 + 0x8000000000LL) )
    {
      if ( (unsigned __int64)a1 >= qword_149B00878 && (unsigned __int64)a1 < qword_149B00878 + 0x200000000LL )
        LogFatalError("Address %p was allocated by persistent malloc and cannot be freed!", a1);
      return sub_147602930((__int64)a1);
    }
  }
  return result;
}

// --- End Function: sub_147605980 (0x147605980) ---

// --- Function: allocWithProfilerInfo (0x147605A30) ---
__int64 __fastcall allocWithProfilerInfo(unsigned __int64 allocSize, struct _exception *profilerInfo)
{
  char v4; // al
  unsigned __int8 v5; // bl
  __int64 v6; // rax
  __int64 result; // rax

  if ( allocSize )
  {
    v4 = sub_1474DA7B0();
    v5 = sub_14056A7D0(v4);
    v6 = AK::MemoryMgr::StopProfileThreadUsage(profilerInfo);
    result = sub_1476030D0(v6 + allocSize, profilerInfo, v5);
    if ( result )
      return result;
    sub_1476052F0(allocSize);
  }
  return 0;
}

// --- End Function: allocWithProfilerInfo (0x147605A30) ---

// --- Function: ??1?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QEAA@XZ (0x1478AF9B0) ---
void __fastcall std::string::~string(std::string *this)
{
  unsigned __int64 n0x10; // rdx
  __int64 v3; // rcx

  n0x10 = *((_QWORD *)this + 3);
  if ( n0x10 >= 0x10 )
  {
    v3 = *(_QWORD *)this;
    if ( n0x10 + 1 >= 0x1000 )
    {
      if ( (unsigned __int64)(v3 - *(_QWORD *)(v3 - 8) - 8) > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v3 = *(_QWORD *)(v3 - 8);
    }
    sub_1402A3D30(v3);
  }
  *((_QWORD *)this + 2) = 0;
  *((_QWORD *)this + 3) = 15;
  *(_BYTE *)this = 0;
}

// --- End Function: ??1?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QEAA@XZ (0x1478AF9B0) ---

// --- Function: sub_147BE05F0 (0x147BE05F0) ---
void __fastcall sub_147BE05F0(int a1, const char *a2, int a3, __int64 a4)
{
  const char *v4; // rdi
  __int64 v7; // rbx
  FILE *File; // rax
  Stream *Stream; // rax

  if ( a1 >= 0 )
  {
    v4 = (const char *)a4;
    if ( *(_QWORD *)(a4 + 24) >= 0x10u )
      v4 = *(const char **)a4;
    v7 = a1;
    File = __acrt_iob_func(2u);
    fprintf(File, "[libprotobuf %s %s:%d] %s\n", off_149B11BE0[v7], a2, a3, v4);// "INFO"
    Stream = __acrt_iob_func(2u);
    fflush(Stream);
  }
}

// --- End Function: sub_147BE05F0 (0x147BE05F0) ---

// --- Function: sub_147BE0710 (0x147BE0710) ---
_BYTE *__fastcall sub_147BE0710(_BYTE *p_pExceptionObject, __int64 a2, int a3, __int64 a4)
{
  *((_QWORD *)p_pExceptionObject + 1) = 0;
  *((_QWORD *)p_pExceptionObject + 2) = 0;
  *(_QWORD *)p_pExceptionObject = &google::protobuf::FatalException::`vftable';
  *((_QWORD *)p_pExceptionObject + 3) = a2;
  *((_DWORD *)p_pExceptionObject + 8) = a3;
  sub_1402FBA60((__int64)(p_pExceptionObject + 40), a4);
  return p_pExceptionObject;
}

// --- End Function: sub_147BE0710 (0x147BE0710) ---

// --- Function: sub_147BE0760 (0x147BE0760) ---
__int64 __fastcall sub_147BE0760(__int64 a1, int a2, __int64 a3, int a4)
{
  __int64 result; // rax

  *(_DWORD *)a1 = a2;
  result = a1;
  *(_QWORD *)(a1 + 8) = a3;
  *(_DWORD *)(a1 + 16) = a4;
  *(_QWORD *)(a1 + 40) = 0;
  *(_QWORD *)(a1 + 48) = 15;
  *(_BYTE *)(a1 + 24) = 0;
  return result;
}

// --- End Function: sub_147BE0760 (0x147BE0760) ---

// --- Function: ??1DsDevice@@QEAA@XZ (0x147BE0810) ---
void __fastcall DsDevice::~DsDevice(DsDevice *this)
{
  unsigned __int64 n0x10; // rdx
  __int64 v3; // rcx

  n0x10 = *((_QWORD *)this + 6);
  if ( n0x10 >= 0x10 )
  {
    v3 = *((_QWORD *)this + 3);
    if ( n0x10 + 1 >= 0x1000 )
    {
      if ( (unsigned __int64)(v3 - *(_QWORD *)(v3 - 8) - 8) > 0x1F )
        invalid_parameter_noinfo_noreturn();
      v3 = *(_QWORD *)(v3 - 8);
    }
    sub_1402A3D30(v3);
  }
  *((_QWORD *)this + 5) = 0;
  *((_QWORD *)this + 6) = 15;
  *((_BYTE *)this + 24) = 0;
}

// --- End Function: ??1DsDevice@@QEAA@XZ (0x147BE0810) ---

// --- Function: sub_147BE0880 (0x147BE0880) ---
__int64 __fastcall sub_147BE0880(__int64 a1, __int64 a2)
{
  return sub_147BE0AE0(a2);
}

// --- End Function: sub_147BE0880 (0x147BE0880) ---

// --- Function: sub_147BE0890 (0x147BE0890) ---
__int64 __fastcall sub_147BE0890(__int64 a1, unsigned __int64 *a2)
{
  const void *v3; // rax

  v3 = a2;
  if ( a2[3] >= 0x10 )
    v3 = (const void *)*a2;
  sub_1402E2330((const void **)(a1 + 24), v3, a2[2]);
  return a1;
}

// --- End Function: sub_147BE0890 (0x147BE0890) ---

// --- Function: sub_147BE0AE0 (0x147BE0AE0) ---
void __fastcall sub_147BE0AE0(__int64 a1)
{
  __int64 v2; // rdi
  _BYTE pExceptionObject[80]; // [rsp+20h] [rbp-68h] BYREF

  if ( *(_DWORD *)a1 == 3 || dword_15170F880 <= 0 )
  {
    v2 = a1 + 24;
    psub_147BE05F0(*(_DWORD *)a1, *(const char **)(a1 + 8), *(_DWORD *)(a1 + 16), a1 + 24);
  }
  else
  {
    v2 = a1 + 24;
  }
  if ( *(_DWORD *)a1 == 3 )
  {
    sub_147BE0710((__int64)pExceptionObject, *(_QWORD *)(a1 + 8), *(_DWORD *)(a1 + 16), v2);
    throw (google::protobuf::FatalException *)pExceptionObject;
  }
}

// --- End Function: sub_147BE0AE0 (0x147BE0AE0) ---

// --- Function: sub_147BEFB60 (0x147BEFB60) ---
__int64 __fastcall sub_147BEFB60(int a1, __int64 a2, unsigned int n0x80_3, _BYTE *a4, _QWORD *a5)
{
  unsigned int n0x80_1; // r8d
  _BYTE *i; // rcx
  unsigned int n0x80; // r8d
  _BYTE *j; // rdx
  char n0x80_4; // al
  unsigned int n0x80_2; // ebx

  if ( (unsigned __int64)a4 >= *a5 )
    a4 = (_BYTE *)sub_147BFEC20(a5, a4);
  n0x80_1 = (8 * a1) | 2;
  i = a4 + 1;
  *a4 = (8 * a1) | 2;
  if ( n0x80_1 >= 0x80 )
  {
    n0x80 = n0x80_1 >> 7;
    *i = n0x80;
    *a4 = (8 * a1) | 0x82;
    for ( i = a4 + 2; n0x80 >= 0x80; ++i )
    {
      *(i - 1) |= 0x80u;
      n0x80 >>= 7;
      *i = n0x80;
    }
  }
  *i = n0x80_3;
  j = i + 1;
  if ( n0x80_3 >= 0x80 )
  {
    n0x80_4 = n0x80_3;
    n0x80_2 = n0x80_3 >> 7;
    *j = n0x80_2;
    *i = n0x80_4 | 0x80;
    for ( j = i + 2; n0x80_2 >= 0x80; ++j )
    {
      *(j - 1) |= 0x80u;
      n0x80_2 >>= 7;
      *j = n0x80_2;
    }
  }
  return (*(__int64 (__fastcall **)(__int64, _BYTE *, _QWORD *))(*(_QWORD *)a2 + 88LL))(a2, j, a5);
}

// --- End Function: sub_147BEFB60 (0x147BEFB60) ---

// --- Function: sub_147BEFC50 (0x147BEFC50) ---
void __fastcall sub_147BEFC50(__m128i *a1, __m128i *a2, const char *__3)
{
  __m128i v6; // xmm0
  __m128i v7; // xmm0
  __int64 v8; // rbx
  __int64 v9; // rcx
  __int64 v10; // rbx
  const char *__2; // rax
  __int64 n2_3; // rax
  const char *p_; // rax
  __int64 v14; // rax
  __int64 v15; // rax
  __int64 v16; // rcx
  __int64 p___3; // rcx
  __int64 __5; // rcx
  _QWORD v19[2]; // [rsp+48h] [rbp-C0h] BYREF
  __int128 p___2; // [rsp+58h] [rbp-B0h] BYREF
  __int128 v21; // [rsp+68h] [rbp-A0h]
  const char *__4; // [rsp+78h] [rbp-90h] BYREF
  __int64 n2_2; // [rsp+88h] [rbp-80h]
  unsigned __int64 n15; // [rsp+90h] [rbp-78h]
  unsigned __int64 v25[2]; // [rsp+98h] [rbp-70h] BYREF
  __m128i si128; // [rsp+A8h] [rbp-60h]
  _QWORD v27[3]; // [rsp+B8h] [rbp-50h] BYREF
  unsigned __int64 n0x10; // [rsp+D0h] [rbp-38h]
  const char *__1; // [rsp+E8h] [rbp-20h] BYREF
  __int64 n2_1; // [rsp+F0h] [rbp-18h]
  const char *_a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send; // [rsp+118h] [rbp+10h] BYREF
  unsigned __int64 n74; // [rsp+120h] [rbp+18h]
  const char *_; // [rsp+148h] [rbp+40h] BYREF
  __int64 n2; // [rsp+150h] [rbp+48h]
  const char *p__; // [rsp+178h] [rbp+70h] BYREF
  __int64 v36; // [rsp+180h] [rbp+78h]
  const char *_contains_invalid_UTF_8_data_when; // [rsp+1A8h] [rbp+A0h] BYREF
  unsigned __int64 n34; // [rsp+1B0h] [rbp+A8h]
  _BYTE v39[56]; // [rsp+1D8h] [rbp+D0h] BYREF

  v19[1] = -2;
  n2_2 = 0;
  n15 = 15;
  LOBYTE(__4) = 0;
  *(_QWORD *)&v21 = 0;
  *((_QWORD *)&v21 + 1) = 15;
  LOBYTE(p___2) = 0;
  sub_1402FAE70((__int64 *)&p___2, (void *)&Source, 0);
  if ( a2->m128i_i64[1] )
  {
    v6 = *a2;
    if ( a1->m128i_i64[1] )
    {
      p__ = "'";
      v36 = 1;
      _contains_invalid_UTF_8_data_when = (const char *)v6.m128i_i64[0];
      n34 = _mm_srli_si128(v6, 8).m128i_u64[0];
      __1 = ".";
      n2_1 = 1;
      v7 = *a1;
      _a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send = (const char *)a1->m128i_i64[0];
      n74 = _mm_srli_si128(v7, 8).m128i_u64[0];
      _ = " '";
      n2 = 2;
      v8 = sub_147C66E30(
             (unsigned int)v27,
             (unsigned int)&_,
             (unsigned int)&_a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send,
             (unsigned int)&__1,
             (__int64)&_contains_invalid_UTF_8_data_when,
             (__int64)&p__);
      if ( &p___2 != (__int128 *)v8 )
      {
        std::string::~string((std::string *)&p___2);
        p___2 = *(_OWORD *)v8;
        v21 = *(_OWORD *)(v8 + 16);
        *(_QWORD *)(v8 + 16) = 0;
        *(_QWORD *)(v8 + 24) = 15;
        *(_BYTE *)v8 = 0;
      }
      if ( n0x10 >= 0x10 )
      {
        v9 = v27[0];
        if ( n0x10 + 1 >= 0x1000 )
        {
          v9 = *(_QWORD *)(v27[0] - 8LL);
          if ( (unsigned __int64)(v27[0] - v9 - 8) > 0x1F )
            invalid_parameter_noinfo_noreturn();
        }
LABEL_15:
        sub_1402A3D30(v9);
      }
    }
    else
    {
      _ = "'";
      n2 = 1;
      _a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send = (const char *)v6.m128i_i64[0];
      n74 = _mm_srli_si128(v6, 8).m128i_u64[0];
      __1 = " '";
      n2_1 = 2;
      v10 = sub_147C66F70(v27, &__1, &_a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send, &_);
      if ( &p___2 != (__int128 *)v10 )
      {
        std::string::~string((std::string *)&p___2);
        p___2 = *(_OWORD *)v10;
        v21 = *(_OWORD *)(v10 + 16);
        *(_QWORD *)(v10 + 16) = 0;
        *(_QWORD *)(v10 + 24) = 15;
        *(_BYTE *)v10 = 0;
      }
      if ( n0x10 >= 0x10 )
      {
        v9 = v27[0];
        if ( n0x10 + 1 >= 0x1000 )
        {
          v9 = *(_QWORD *)(v27[0] - 8LL);
          if ( (unsigned __int64)(v27[0] - v9 - 8) > 0x1F )
            invalid_parameter_noinfo_noreturn();
        }
        goto LABEL_15;
      }
    }
  }
  __2 = (const char *)&__4;
  if ( n15 >= 0x10 )
    __2 = __4;
  _ = __2;
  n2 = n2_2;
  _a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send = " a protocol buffer. Use the 'bytes' type if you inten"
                                                                   "d to send raw bytes. ";
  n74 = 74;
  __1 = __3;
  n2_3 = -1;
  do
    ++n2_3;
  while ( __3[n2_3] );
  n2_1 = n2_3;
  _contains_invalid_UTF_8_data_when = " contains invalid UTF-8 data when ";
  n34 = 34;
  p_ = (const char *)&p___2;
  if ( *((_QWORD *)&v21 + 1) >= 0x10u )
    p_ = (const char *)p___2;
  p__ = p_;
  v36 = v21;
  v27[0] = "String field";
  v27[1] = 12;
  sub_147C66D70(
    (unsigned int)v25,
    (unsigned int)v27,
    (unsigned int)&p__,
    (unsigned int)&_contains_invalid_UTF_8_data_when,
    (__int64)&__1,
    (__int64)&_a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send,
    (__int64)&_);
  v14 = sub_147BE0760(
          (__int64)v39,
          2,
          (__int64)"D:\\grpc_build\\v1.49.2\\grpc\\third_party\\protobuf\\src\\google\\protobuf\\wire_format_lite.cc",
          618);
  v15 = sub_147BE0890(v14, v25);
  sub_147BE0880((__int64)v19, v15);
  DsDevice::~DsDevice((DsDevice *)v39);
  if ( si128.m128i_i64[1] >= 0x10uLL )
  {
    v16 = v25[0];
    if ( (unsigned __int64)(si128.m128i_i64[1] + 1) >= 0x1000 )
    {
      v16 = *(_QWORD *)(v25[0] - 8);
      if ( v25[0] - v16 - 8 > 0x1F )
        invalid_parameter_noinfo_noreturn();
    }
    sub_1402A3D30(v16);
  }
  si128 = _mm_load_si128((const __m128i *)&xmmword_1481AA760);
  LOBYTE(v25[0]) = 0;
  if ( *((_QWORD *)&v21 + 1) >= 0x10u )
  {
    p___3 = p___2;
    if ( (unsigned __int64)(*((_QWORD *)&v21 + 1) + 1LL) >= 0x1000 )
    {
      p___3 = *(_QWORD *)(p___2 - 8);
      if ( (unsigned __int64)(p___2 - p___3 - 8) > 0x1F )
        invalid_parameter_noinfo_noreturn();
    }
    sub_1402A3D30(p___3);
  }
  *(_QWORD *)&v21 = 0;
  *((_QWORD *)&v21 + 1) = 15;
  LOBYTE(p___2) = 0;
  if ( n15 >= 0x10 )
  {
    __5 = (__int64)__4;
    if ( n15 + 1 >= 0x1000 )
    {
      __5 = *((_QWORD *)__4 - 1);
      if ( (unsigned __int64)&__4[-__5 - 8] > 0x1F )
        invalid_parameter_noinfo_noreturn();
    }
    sub_1402A3D30(__5);
  }
}

// --- End Function: sub_147BEFC50 (0x147BEFC50) ---

// --- Function: sub_147BF01A0 (0x147BF01A0) ---
char __fastcall sub_147BF01A0(__int64 a1, unsigned int a2, int a3, unsigned __int64 a4)
{
  const char *p_parsing; // r8
  __int64 v7; // rax
  __m128i v8; // xmm0
  __m128i v10; // [rsp+20h] [rbp-28h] BYREF
  __m128i v11; // [rsp+30h] [rbp-18h] BYREF

  if ( sub_147C7CED0(a1, a2) )
    return 1;
  p_parsing = 0;
  if ( a3 )
  {
    if ( a3 == 1 )
      p_parsing = "serializing";
  }
  else
  {
    p_parsing = "parsing";
  }
  v10 = (__m128i)a4;
  if ( a4 )
  {
    v7 = -1;
    do
      ++v7;
    while ( *(_BYTE *)(a4 + v7) );
    v10.m128i_i64[1] = v7;
  }
  v8 = v10;
  v10.m128i_i64[1] = 0;
  v10.m128i_i64[0] = (__int64)&Source;
  v11 = v8;
  sub_147BEFC50(&v10, &v11, p_parsing);
  return 0;
}

// --- End Function: sub_147BF01A0 (0x147BF01A0) ---

// --- Function: sub_147BFB370 (0x147BFB370) ---
char *__fastcall sub_147BFB370(__int64 *a1, char *j, unsigned __int64 *a3)
{
  __int64 v3; // rbx
  int v4; // ebp
  __int64 v7; // r14
  int v8; // ecx
  int v9; // ecx
  int v10; // ecx
  int v11; // ecx
  unsigned int n0x80_1; // ecx
  _BYTE *i; // rdx
  char n0x80_14; // al
  unsigned int n0x80; // ecx
  unsigned __int64 v16; // rax
  _BYTE *v17; // r8
  unsigned int n0x80_3; // ecx
  char n0x80_15; // al
  unsigned int n0x80_2; // ecx
  _QWORD *v21; // r10
  unsigned int v22; // r11d
  signed __int64 Size; // rdi
  unsigned int n0x4000; // ecx
  __int64 n3; // r8
  unsigned int n0x80_5; // ecx
  _BYTE *k; // rbx
  char n0x80_16; // al
  unsigned int n0x80_4; // ecx
  char *v30; // rbx
  __int64 v31; // r8
  unsigned int n0x80_7; // ecx
  _QWORD *v33; // rdx
  char n0x80_17; // al
  unsigned int n0x80_6; // ecx
  _BYTE *m; // rdx
  int v37; // r8d
  unsigned int n0x80_9; // ecx
  _DWORD *v39; // rdx
  char n0x80_18; // al
  unsigned int n0x80_8; // ecx
  _BYTE *n; // rdx
  unsigned __int64 n0x80_13; // r9
  unsigned int n0x80_11; // r8d
  _BYTE *v45; // rcx
  char v46; // al
  unsigned int n0x80_10; // r8d
  char n0x80_19; // al
  unsigned __int64 n0x80_12; // r9

  v3 = *a1;
  v4 = 0;
  if ( (int)((a1[1] - *a1) >> 4) > 0 )
  {
    v7 = 0;
    do
    {
      if ( (unsigned __int64)j >= *a3 )
        j = (char *)sub_147BFEC20(a3, j);
      v8 = *(_DWORD *)(v7 + v3 + 4);
      if ( v8 )
      {
        v9 = v8 - 1;
        if ( v9 )
        {
          v10 = v9 - 1;
          if ( v10 )
          {
            v11 = v10 - 1;
            if ( v11 )
            {
              if ( v11 == 1 )
              {
                n0x80_1 = (8 * *(_DWORD *)(v7 + v3)) | 3;
                *j = (8 * *(_BYTE *)(v7 + v3)) | 3;
                if ( n0x80_1 >= 0x80 )
                {
                  n0x80_14 = n0x80_1;
                  n0x80 = n0x80_1 >> 7;
                  j[1] = n0x80;
                  *j = n0x80_14 | 0x80;
                  for ( i = j + 2; n0x80 >= 0x80; ++i )
                  {
                    *(i - 1) |= 0x80u;
                    n0x80 >>= 7;
                    *i = n0x80;
                  }
                }
                else
                {
                  i = j + 1;
                }
                v16 = sub_147BFB370(*(_QWORD *)(v7 + v3 + 8), i, a3);
                v17 = (_BYTE *)v16;
                if ( v16 >= *a3 )
                  v17 = (_BYTE *)sub_147BFEC20(a3, v16);
                j = v17 + 1;
                n0x80_3 = (8 * *(_DWORD *)(v7 + v3)) | 4;
                *v17 = (8 * *(_BYTE *)(v7 + v3)) | 4;
                if ( n0x80_3 >= 0x80 )
                {
                  n0x80_15 = n0x80_3;
                  n0x80_2 = n0x80_3 >> 7;
                  *j = n0x80_2;
                  *v17 = n0x80_15 | 0x80;
                  for ( j = v17 + 2; n0x80_2 >= 0x80; ++j )
                  {
                    *(j - 1) |= 0x80u;
                    n0x80_2 >>= 7;
                    *j = n0x80_2;
                  }
                }
              }
            }
            else
            {
              v21 = *(_QWORD **)(v7 + v3 + 8);
              v22 = *(_DWORD *)(v7 + v3);
              Size = v21[2];
              if ( Size >= 128
                || ((n0x4000 = 8 * v22, 8 * v22 >= 0x80)
                  ? (n0x4000 >= 0x4000
                   ? (n0x4000 >= 0x200000
                    ? (n3 = 5LL - (n0x4000 < 0x10000000))
                    : (n3 = 3))
                   : (n3 = 2))
                  : (n3 = 1),
                    (__int64)(*a3 - n3 - (_QWORD)j + 15) < Size) )
              {
                j = (char *)sub_147BFFE10(a3, v22, *(_QWORD *)(v7 + v3 + 8), j);
              }
              else
              {
                n0x80_5 = n0x4000 | 2;
                k = j + 1;
                *j = n0x80_5;
                if ( n0x80_5 >= 0x80 )
                {
                  n0x80_16 = n0x80_5;
                  n0x80_4 = n0x80_5 >> 7;
                  *k = n0x80_4;
                  *j = n0x80_16 | 0x80;
                  for ( k = j + 2; n0x80_4 >= 0x80; ++k )
                  {
                    *(k - 1) |= 0x80u;
                    n0x80_4 >>= 7;
                    *k = n0x80_4;
                  }
                }
                *k = Size;
                v30 = k + 1;
                if ( v21[3] >= 0x10u )
                  v21 = (_QWORD *)*v21;
                memcpy(v30, v21, Size);
                j = &v30[Size];
              }
            }
          }
          else
          {
            v31 = *(_QWORD *)(v7 + v3 + 8);
            n0x80_7 = (8 * *(_DWORD *)(v7 + v3)) | 1;
            *j = (8 * *(_BYTE *)(v7 + v3)) | 1;
            if ( n0x80_7 >= 0x80 )
            {
              n0x80_17 = n0x80_7;
              n0x80_6 = n0x80_7 >> 7;
              j[1] = n0x80_6;
              *j = n0x80_17 | 0x80;
              for ( m = j + 2; n0x80_6 >= 0x80; ++m )
              {
                *(m - 1) |= 0x80u;
                n0x80_6 >>= 7;
                *m = n0x80_6;
              }
              *(_QWORD *)m = v31;
              j = m + 8;
            }
            else
            {
              v33 = j + 1;
              *v33 = v31;
              j = (char *)(v33 + 1);
            }
          }
        }
        else
        {
          v37 = *(_DWORD *)(v7 + v3 + 8);
          n0x80_9 = (8 * *(_DWORD *)(v7 + v3)) | 5;
          *j = (8 * *(_BYTE *)(v7 + v3)) | 5;
          if ( n0x80_9 >= 0x80 )
          {
            n0x80_18 = n0x80_9;
            n0x80_8 = n0x80_9 >> 7;
            j[1] = n0x80_8;
            *j = n0x80_18 | 0x80;
            for ( n = j + 2; n0x80_8 >= 0x80; ++n )
            {
              *(n - 1) |= 0x80u;
              n0x80_8 >>= 7;
              *n = n0x80_8;
            }
            *(_DWORD *)n = v37;
            j = n + 4;
          }
          else
          {
            v39 = j + 1;
            *v39 = v37;
            j = (char *)(v39 + 1);
          }
        }
      }
      else
      {
        n0x80_13 = *(_QWORD *)(v7 + v3 + 8);
        n0x80_11 = 8 * *(_DWORD *)(v7 + v3);
        *j = 8 * *(_BYTE *)(v7 + v3);
        if ( n0x80_11 >= 0x80 )
        {
          v45 = j + 2;
          v46 = n0x80_11 | 0x80;
          n0x80_10 = n0x80_11 >> 7;
          *j = v46;
          for ( j[1] = n0x80_10; n0x80_10 >= 0x80; ++v45 )
          {
            *(v45 - 1) |= 0x80u;
            n0x80_10 >>= 7;
            *v45 = n0x80_10;
          }
        }
        else
        {
          v45 = j + 1;
        }
        *v45 = n0x80_13;
        j = v45 + 1;
        if ( n0x80_13 >= 0x80 )
        {
          n0x80_19 = n0x80_13;
          n0x80_12 = n0x80_13 >> 7;
          *j = n0x80_12;
          *v45 = n0x80_19 | 0x80;
          for ( j = v45 + 2; n0x80_12 >= 0x80; ++j )
          {
            *(j - 1) |= 0x80u;
            n0x80_12 >>= 7;
            *j = n0x80_12;
          }
        }
      }
      v3 = *a1;
      ++v4;
      v7 += 16;
    }
    while ( v4 < (int)((a1[1] - *a1) >> 4) );
  }
  return j;
}

// --- End Function: sub_147BFB370 (0x147BFB370) ---

// --- Function: sub_147BFEC20 (0x147BFEC20) ---
__int128 **__fastcall sub_147BFEC20(char *a1, int a2)
{
  char *v2; // r14
  int v4; // r14d
  __int128 *v5; // rcx
  __int64 n16_1; // rbp
  __int128 *v7; // rsi
  __int128 *v8; // rdx
  __int64 v9; // rax
  char *v10; // rax
  __int128 v11; // xmm0
  int n16; // [rsp+20h] [rbp-48h] BYREF
  __int128 *v14; // [rsp+28h] [rbp-40h] BYREF

  LODWORD(v2) = a2;
  while ( !a1[56] )
  {
    v4 = (_DWORD)v2 - *(_DWORD *)a1;
    if ( !*((_QWORD *)a1 + 6) )
      goto LABEL_4;
    v5 = (__int128 *)*((_QWORD *)a1 + 1);
    if ( v5 )
    {
      memcpy(v5, a1 + 16, *(_QWORD *)a1 - (_QWORD)a1 - 16LL);
      while ( (*(unsigned __int8 (__fastcall **)(__int128 *, __int128 **, int *))(**((_QWORD **)a1 + 6) + 8LL))(
                *((__int128 **)a1 + 6),
                &v14,
                &n16) )
      {
        n16_1 = n16;
        v7 = v14;
        if ( n16 )
        {
          v8 = *(__int128 **)a1;
          if ( n16 > 16 )
          {
            *v14 = *v8;
            v9 = n16 - 16LL;
            *((_QWORD *)a1 + 1) = 0;
            v10 = (char *)v7 + v9;
            goto LABEL_15;
          }
          memmove(a1 + 16, v8, 0x10u);
          *((_QWORD *)a1 + 1) = v7;
          v10 = &a1[n16_1 + 16];
          goto LABEL_14;
        }
      }
LABEL_4:
      a1[56] = 1;
      goto LABEL_13;
    }
    v11 = *(_OWORD *)*(_QWORD *)a1;
    *((_QWORD *)a1 + 1) = *(_QWORD *)a1;
    *((_OWORD *)a1 + 1) = v11;
LABEL_13:
    v10 = a1 + 32;
LABEL_14:
    v7 = (__int128 *)(a1 + 16);
LABEL_15:
    v2 = (char *)v7 + v4;
    *(_QWORD *)a1 = v10;
    if ( v2 < v10 )
      return (__int128 **)v2;
  }
  return (__int128 **)(a1 + 16);
}

// --- End Function: sub_147BFEC20 (0x147BFEC20) ---

// --- Function: sub_147BFED50 (0x147BFED50) ---
__int64 __fastcall sub_147BFED50(__int64 a1, unsigned __int64 a2)
{
  void *v4; // rcx
  _OWORD *v5; // rax
  int v6; // ebp
  _OWORD *v7; // rsi
  __int64 n16_1; // rdi
  _OWORD *v9; // r14
  _OWORD *v10; // rdx
  __int64 v11; // rax
  char *v12; // rax
  unsigned int v13; // ecx
  int n16; // [rsp+20h] [rbp-48h] BYREF
  _OWORD *v16; // [rsp+28h] [rbp-40h] BYREF

  v4 = *(void **)(a1 + 8);
  if ( v4 )
  {
    while ( 1 )
    {
      v5 = *(_OWORD **)a1;
      if ( a2 <= *(_QWORD *)a1 )
        break;
      v6 = a2 - (_DWORD)v5;
      v7 = (_OWORD *)(a1 + 16);
      if ( *(_QWORD *)(a1 + 48) )
      {
        memcpy(v4, (const void *)(a1 + 16), (size_t)v5 - a1 - 16);
        while ( (*(unsigned __int8 (__fastcall **)(_QWORD, _OWORD **, int *))(**(_QWORD **)(a1 + 48) + 8LL))(
                  *(_QWORD *)(a1 + 48),
                  &v16,
                  &n16) )
        {
          n16_1 = n16;
          v9 = v16;
          if ( n16 )
          {
            v10 = *(_OWORD **)a1;
            if ( n16 <= 16 )
            {
              memmove((void *)(a1 + 16), v10, 0x10u);
              *(_QWORD *)(a1 + 8) = v9;
              v12 = (char *)(a1 + n16_1 + 16);
            }
            else
            {
              v7 = v16;
              *v16 = *v10;
              v11 = n16 - 16LL;
              *(_QWORD *)(a1 + 8) = 0;
              v12 = (char *)v9 + v11;
            }
            goto LABEL_11;
          }
        }
      }
      *(_BYTE *)(a1 + 56) = 1;
      v12 = (char *)(a1 + 32);
LABEL_11:
      a2 = (unsigned __int64)v7 + v6;
      *(_QWORD *)a1 = v12;
      if ( *(_BYTE *)(a1 + 56) )
        return 0;
      v4 = *(void **)(a1 + 8);
      if ( !v4 )
      {
        v4 = 0;
        break;
      }
    }
    if ( !v4 )
      goto LABEL_17;
    memcpy(v4, (const void *)(a1 + 16), a2 - a1 - 16);
    v13 = *(_DWORD *)a1 - a2;
    a2 = *(_QWORD *)(a1 + 8) - 16LL + a2 - a1;
  }
  else
  {
LABEL_17:
    v13 = *(_DWORD *)a1 - a2 + 16;
  }
  *(_QWORD *)(a1 + 8) = a2;
  return v13;
}

// --- End Function: sub_147BFED50 (0x147BFED50) ---

// --- Function: sub_147BFFB60 (0x147BFFB60) ---
unsigned __int64 __fastcall sub_147BFFB60(__int64 a1, unsigned __int64 a2)
{
  unsigned __int64 result; // rax
  unsigned int v4; // eax

  if ( *(_BYTE *)(a1 + 56) )
    return a2;
  v4 = sub_147BFED50(a1, a2);
  (*(void (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)(a1 + 48) + 16LL))(*(_QWORD *)(a1 + 48), v4);
  result = a1 + 16;
  *(_QWORD *)a1 = a1 + 16;
  *(_QWORD *)(a1 + 8) = a1 + 16;
  return result;
}

// --- End Function: sub_147BFFB60 (0x147BFFB60) ---

// --- Function: sub_147BFFBA0 (0x147BFFBA0) ---
__int64 __fastcall sub_147BFFBA0(__int64 a1, const void *a2, unsigned int Size, void *a4)
{
  __int64 Size_2; // r14
  __int64 Size_1; // rcx
  unsigned __int64 v10; // rdi

  Size_2 = (int)Size;
  Size_1 = *(_QWORD *)a1 - (_QWORD)a4;
  if ( (int)Size >= Size_1 + 16 )
  {
    v10 = sub_147BFFB60(a1, (unsigned __int64)a4);
    if ( (*(unsigned __int8 (__fastcall **)(_QWORD, const void *, _QWORD))(**(_QWORD **)(a1 + 48) + 32LL))(
           *(_QWORD *)(a1 + 48),
           a2,
           (unsigned int)Size_2) )
    {
      return v10;
    }
    else
    {
      *(_BYTE *)(a1 + 56) = 1;
      *(_QWORD *)a1 = a1 + 32;
      return a1 + 16;
    }
  }
  else if ( Size_1 >= (int)Size )
  {
    memcpy(a4, a2, (int)Size);
    return (__int64)a4 + Size_2;
  }
  else
  {
    return sub_147BFFC50(a1, a2, Size);
  }
}

// --- End Function: sub_147BFFBA0 (0x147BFFBA0) ---

// --- Function: sub_147BFFC50 (0x147BFFC50) ---
char *__fastcall sub_147BFFC50(char *a1, char *a2, int Size_2, __int128 **a4)
{
  __int128 **v4; // rsi
  int Size_1; // ebp
  int Size; // ebx

  v4 = a4;
  Size_1 = Size_2;
  Size = *(_DWORD *)a1 - (_DWORD)a4 + 16;
  if ( Size < Size_2 )
  {
    do
    {
      memcpy(v4, a2, Size);
      Size_1 -= Size;
      a2 += Size;
      v4 = sub_147BFEC20(a1, Size + (int)v4);
      Size = *(_DWORD *)a1 - (_DWORD)v4 + 16;
    }
    while ( Size < Size_1 );
  }
  memcpy(v4, a2, Size_1);
  return (char *)v4 + Size_1;
}

// --- End Function: sub_147BFFC50 (0x147BFFC50) ---

// --- Function: sub_147BFFD00 (0x147BFFD00) ---
char *__fastcall sub_147BFFD00(char *a1, int a2, _QWORD *a3, __int128 **a4)
{
  signed __int64 Size; // r8
  unsigned int n0x80_1; // edx
  _BYTE *i; // rax
  unsigned int n0x80; // edx
  unsigned int n0x80_2; // r9d
  char n0x80_3; // cl
  __int128 **v13; // rbx
  signed __int64 Size_1; // rsi

  if ( (unsigned __int64)a4 >= *(_QWORD *)a1 )
    a4 = sub_147BFEC20(a1, (int)a4);
  Size = *((int *)a3 + 4);
  n0x80_1 = (8 * a2) | 2;
  i = (char *)a4 + 1;
  *(_BYTE *)a4 = (8 * a2) | 2;
  if ( n0x80_1 >= 0x80 )
  {
    n0x80 = n0x80_1 >> 7;
    *i = n0x80;
    *(_BYTE *)a4 = (8 * a2) | 0x82;
    for ( i = (char *)a4 + 2; n0x80 >= 0x80; ++i )
    {
      *(i - 1) |= 0x80u;
      n0x80 >>= 7;
      *i = n0x80;
    }
  }
  for ( n0x80_2 = Size; n0x80_2 >= 0x80; ++i )
  {
    n0x80_3 = n0x80_2;
    n0x80_2 >>= 7;
    *i = n0x80_3 | 0x80;
  }
  *i = n0x80_2;
  v13 = (__int128 **)(i + 1);
  if ( a3[3] >= 0x10u )
    a3 = (_QWORD *)*a3;
  if ( a1[57] )
    return (char *)sub_147BFFBA0((__int64)a1, a3, Size, i + 1);
  Size_1 = Size;
  if ( *(_QWORD *)a1 - (_QWORD)v13 < Size )
    return sub_147BFFC50(a1, (char *)a3, Size, v13);
  memcpy(v13, a3, Size);
  return (char *)v13 + Size_1;
}

// --- End Function: sub_147BFFD00 (0x147BFFD00) ---

// --- Function: sub_147BFFE10 (0x147BFFE10) ---
char *__fastcall sub_147BFFE10(char *a1, int a2, char *a3, __int128 **a4)
{
  signed __int64 Size; // r8
  unsigned int n0x80_1; // edx
  _BYTE *i; // rax
  unsigned int n0x80; // edx
  unsigned int n0x80_2; // edx
  char n0x80_3; // cl
  __int128 **v13; // rbx
  signed __int64 Size_1; // rdi

  if ( (unsigned __int64)a4 >= *(_QWORD *)a1 )
    a4 = sub_147BFEC20(a1, (int)a4);
  Size = *((int *)a3 + 4);
  n0x80_1 = (8 * a2) | 2;
  i = (char *)a4 + 1;
  *(_BYTE *)a4 = (8 * a2) | 2;
  if ( n0x80_1 >= 0x80 )
  {
    n0x80 = n0x80_1 >> 7;
    *i = n0x80;
    *(_BYTE *)a4 = (8 * a2) | 0x82;
    for ( i = (char *)a4 + 2; n0x80 >= 0x80; ++i )
    {
      *(i - 1) |= 0x80u;
      n0x80 >>= 7;
      *i = n0x80;
    }
  }
  for ( n0x80_2 = Size; n0x80_2 >= 0x80; ++i )
  {
    n0x80_3 = n0x80_2;
    n0x80_2 >>= 7;
    *i = n0x80_3 | 0x80;
  }
  *i = n0x80_2;
  v13 = (__int128 **)(i + 1);
  if ( *((_QWORD *)a3 + 3) >= 0x10u )
    a3 = *(char **)a3;
  Size_1 = Size;
  if ( *(_QWORD *)a1 - (_QWORD)v13 < Size )
    return sub_147BFFC50(a1, a3, Size, v13);
  memcpy(v13, a3, Size);
  return (char *)v13 + Size_1;
}

// --- End Function: sub_147BFFE10 (0x147BFFE10) ---

// --- Function: sub_147C64FD0 (0x147C64FD0) ---
char *__fastcall sub_147C64FD0(char *a1, const char **p_)
{
  const char *Size; // r8
  char *v4; // rbx

  Size = p_[1];
  v4 = a1;
  if ( Size )
  {
    memcpy(a1, *p_, (size_t)Size);
    return &v4[(_QWORD)p_[1]];
  }
  return v4;
}

// --- End Function: sub_147C64FD0 (0x147C64FD0) ---

// --- Function: sub_147C65010 (0x147C65010) ---
char *__fastcall sub_147C65010(
        char *a1,
        const char **p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send,
        __int64 a3)
{
  const char *Size; // r8
  char *v6; // rbx
  size_t Size_1; // r8

  Size = p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send[1];
  v6 = a1;
  if ( Size )
  {
    memcpy(a1, *p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send, (size_t)Size);
    v6 = &v6[(_QWORD)p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send[1]];
  }
  Size_1 = *(_QWORD *)(a3 + 8);
  if ( Size_1 )
  {
    memcpy(v6, *(const void **)a3, Size_1);
    v6 += *(_QWORD *)(a3 + 8);
  }
  return v6;
}

// --- End Function: sub_147C65010 (0x147C65010) ---

// --- Function: sub_147C65070 (0x147C65070) ---
char *__fastcall sub_147C65070(
        char *a1,
        __int64 p__,
        __int64 p_,
        __int64 p__contains_invalid_UTF_8_data_when,
        const char **p__a)
{
  size_t Size; // r8
  char *v9; // rbx
  size_t Size_1; // r8
  size_t Size_2; // r8
  const char *Size_3; // r8

  Size = *(_QWORD *)(p__ + 8);
  v9 = a1;
  if ( Size )
  {
    memcpy(a1, *(const void **)p__, Size);
    v9 += *(_QWORD *)(p__ + 8);
  }
  Size_1 = *(_QWORD *)(p_ + 8);
  if ( Size_1 )
  {
    memcpy(v9, *(const void **)p_, Size_1);
    v9 += *(_QWORD *)(p_ + 8);
  }
  Size_2 = *(_QWORD *)(p__contains_invalid_UTF_8_data_when + 8);
  if ( Size_2 )
  {
    memcpy(v9, *(const void **)p__contains_invalid_UTF_8_data_when, Size_2);
    v9 += *(_QWORD *)(p__contains_invalid_UTF_8_data_when + 8);
  }
  Size_3 = p__a[1];
  if ( Size_3 )
  {
    memcpy(v9, *p__a, (size_t)Size_3);
    return &v9[(_QWORD)p__a[1]];
  }
  return v9;
}

// --- End Function: sub_147C65070 (0x147C65070) ---

// --- Function: sub_147C66D70 (0x147C66D70) ---
// Hidden C++ exception states: #wind=2
char *__fastcall sub_147C66D70(
        char *a1,
        __int64 p___1,
        __int64 p_,
        __int64 p__contains_invalid_UTF_8_data_when,
        const char **p__,
        const char **p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send,
        const char **a7)
{
  char *v11; // rcx
  char *v12; // rax

  *((_QWORD *)a1 + 2) = 0;
  *((_QWORD *)a1 + 3) = 15;
  *a1 = 0;
  sub_140CB11B0(
    a1,
    (unsigned __int64)&p__[1][(unsigned __int64)&a7[1][(_QWORD)p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send[1]
                                                     + *(_QWORD *)(p__contains_invalid_UTF_8_data_when + 8)]
                            + *(_QWORD *)(p___1 + 8)
                            + *(_QWORD *)(p_ + 8)],
    0);
  v11 = a1;
  if ( *((_QWORD *)a1 + 3) >= 0x10u )
    v11 = *(char **)a1;
  v12 = sub_147C65070(v11, p___1, p_, p__contains_invalid_UTF_8_data_when, p__);
  sub_147C65010(v12, p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send, (__int64)a7);
  return a1;
}

// --- End Function: sub_147C66D70 (0x147C66D70) ---

// --- Function: sub_147C66E30 (0x147C66E30) ---
// Hidden C++ exception states: #wind=2
char *__fastcall sub_147C66E30(
        char *a1,
        __int64 p__,
        __int64 p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send,
        __int64 p_p_.,
        const char **p__contains_invalid_UTF_8_data_when,
        const char **p_)
{
  char *v10; // rcx
  char *v11; // rax

  *((_QWORD *)a1 + 2) = 0;
  *((_QWORD *)a1 + 3) = 15;
  *a1 = 0;
  sub_140CB11B0(
    a1,
    (unsigned __int64)&p_[1][*(_QWORD *)(p_p_. + 8)
                           + (_QWORD)p__contains_invalid_UTF_8_data_when[1]
                           + *(_QWORD *)(p__ + 8)
                           + *(_QWORD *)(p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send + 8)],
    0);
  v10 = a1;
  if ( *((_QWORD *)a1 + 3) >= 0x10u )
    v10 = *(char **)a1;
  v11 = sub_147C65070(
          v10,
          p__,
          p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_send,
          p_p_.,
          p__contains_invalid_UTF_8_data_when);
  sub_147C64FD0(v11, p_);
  return a1;
}

// --- End Function: sub_147C66E30 (0x147C66E30) ---

// --- Function: sub_147C66F70 (0x147C66F70) ---
// Hidden C++ exception states: #wind=2
char *__fastcall sub_147C66F70(
        char *a1,
        __int64 p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_sen,
        __int64 a3,
        __int64 p_)
{
  char *v8; // rcx
  char *v9; // rax

  *((_QWORD *)a1 + 2) = 0;
  *((_QWORD *)a1 + 3) = 15;
  *a1 = 0;
  sub_140CB11B0(
    a1,
    *(_QWORD *)(a3 + 8)
  + *(_QWORD *)(p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_sen + 8)
  + *(_QWORD *)(p_ + 8),
    0);
  v8 = a1;
  if ( *((_QWORD *)a1 + 3) >= 0x10u )
    v8 = *(char **)a1;
  v9 = sub_147C65010(v8, (const char **)p__a_protocol_buffer._Use_the__bytes__type_if_you_intend_to_sen, a3);
  sub_147C64FD0(v9, (const char **)p_);
  return a1;
}

// --- End Function: sub_147C66F70 (0x147C66F70) ---

// --- Function: sub_147C7CED0 (0x147C7CED0) ---
// Hidden C++ exception states: #wind=2
bool __fastcall sub_147C7CED0(__int64 a1, unsigned int a2)
{
  int v4; // [rsp+40h] [rbp+18h] BYREF

  if ( !byte_151710C30 )
    return 1;
  v4 = 0;
  sub_147C7D120(&unk_148E9AFC0, a1, a2, &v4);
  return v4 == a2;
}

// --- End Function: sub_147C7CED0 (0x147C7CED0) ---

// --- Function: sub_147C7CF20 (0x147C7CF20) ---
// Hidden C++ exception states: #wind=2
__int64 __fastcall sub_147C7CF20(unsigned int *a1, unsigned __int8 *a2, int n7, _DWORD *a4)
{
  int v7; // r9d
  unsigned __int8 *v8; // rax
  __int64 v9; // r10
  unsigned __int64 v10; // rsi
  unsigned int v11; // r12d
  unsigned int v12; // r14d
  unsigned __int64 v13; // rbx
  unsigned int v14; // r15d
  __int64 v15; // rbp
  unsigned int n0xF0; // r11d
  int v17; // r9d
  int v18; // edx
  __int64 i; // rdx
  __int64 v20; // rcx
  unsigned int v21; // r8d
  unsigned int v22; // edx

  *a4 = 0;
  if ( !n7 )
    return 241;
  v7 = *a1;
  v8 = a2;
  v9 = *((_QWORD *)a1 + 7);
  v10 = (unsigned __int64)a2;
  v11 = a1[7];
  v12 = a1[4];
  v13 = (unsigned __int64)&a2[n7];
  v14 = a1[6];
  if ( n7 >= 7 )
    v10 = v13 - 7;
  v15 = *((_QWORD *)a1 + 4) + *a1;
  do
  {
    n0xF0 = 0;
    if ( ((unsigned __int8)v8 & 7) != 0 )
    {
      do
      {
        if ( (unsigned __int64)v8 >= v13 )
          break;
        if ( *(_BYTE *)(*v8 + v9) )
          break;
        ++v8;
      }
      while ( ((unsigned __int8)v8 & 7) != 0 );
      if ( ((unsigned __int8)v8 & 7) != 0 )
        goto LABEL_20;
    }
    if ( (unsigned __int64)v8 >= v10 )
      goto LABEL_20;
    while ( 1 )
    {
      v17 = *(_DWORD *)v8;
      v18 = *((_DWORD *)v8 + 1);
      v8 += 8;
      if ( (((v17 - v14) | (v18 - v14) | (v17 + v11) | (v18 + v11)) & 0x80808080) == 0 )
        goto LABEL_15;
      if ( *(_BYTE *)(*(v8 - 8) + v9)
         | (unsigned __int8)(*(_BYTE *)(*(v8 - 5) + v9) | *(_BYTE *)(*(v8 - 6) + v9) | *(_BYTE *)(*(v8 - 7) + v9)) )
      {
        break;
      }
      if ( *(_BYTE *)(*(v8 - 4) + v9)
         | (unsigned __int8)(*(_BYTE *)(*(v8 - 1) + v9) | *(_BYTE *)(*(v8 - 2) + v9) | *(_BYTE *)(*(v8 - 3) + v9)) )
      {
        v8 -= 4;
        goto LABEL_19;
      }
LABEL_15:
      if ( (unsigned __int64)v8 >= v10 )
        goto LABEL_19;
    }
    v8 -= 8;
LABEL_19:
    v7 = *a1;
LABEL_20:
    for ( i = v15; (unsigned __int64)v8 < v13; i = v15 + (int)(n0xF0 << v12) )
    {
      v20 = *v8++;
      n0xF0 = *(unsigned __int8 *)(v20 + i);
      if ( n0xF0 >= 0xF0 )
        break;
    }
    v21 = a1[1];
    v22 = i - v7 - a1[8];
    if ( n0xF0 < 0xF0 )
    {
      if ( v22 < v21 )
      {
        n0xF0 = 241;
      }
      else
      {
        n0xF0 = 240;
        do
          --v8;
        while ( v8 > a2 && (*v8 & 0xC0) == 0x80 );
      }
      break;
    }
    --v8;
    if ( v22 >= v21 )
    {
      do
        --v8;
      while ( v8 > a2 && (*v8 & 0xC0) == 0x80 );
    }
  }
  while ( n0xF0 == 253 );
  *a4 = (_DWORD)v8 - (_DWORD)a2;
  return n0xF0;
}

// --- End Function: sub_147C7CF20 (0x147C7CF20) ---

// --- Function: sub_147C7D120 (0x147C7D120) ---
// Hidden C++ exception states: #wind=2
__int64 __fastcall sub_147C7D120(unsigned int *a1, unsigned __int64 a2, int n7, _DWORD *a4)
{
  __int64 n253; // rax
  unsigned __int64 v9; // rbx
  unsigned __int64 v10; // rsi
  unsigned __int64 v11; // rdi
  int v12; // [rsp+60h] [rbp+18h] BYREF

  *a4 = 0;
  if ( !n7 )
    return 241;
  v9 = a2;
  v10 = a2;
  v11 = n7 + a2;
  if ( n7 >= 7 )
    v10 = n7 + a2 - 7;
  do
  {
    if ( (v9 & 7) == 0 )
      goto LABEL_10;
    do
    {
      if ( v9 >= v11 )
        break;
      if ( *(_BYTE *)v9 >= 0x80u )
        break;
      ++v9;
    }
    while ( (v9 & 7) != 0 );
    if ( (v9 & 7) == 0 )
    {
LABEL_10:
      while ( v9 < v10 )
      {
        if ( ((*(_DWORD *)v9 | *(_DWORD *)(v9 + 4)) & 0x80808080) != 0 )
          break;
        v9 += 8LL;
      }
    }
    for ( ; v9 < v11; ++v9 )
    {
      if ( *(_BYTE *)v9 >= 0x80u )
        break;
    }
    n253 = sub_147C7CF20(a1, (unsigned __int8 *)(a2 + (int)v9 - (int)a2), n7 - ((int)v9 - (int)a2), &v12);
    v9 += v12;
  }
  while ( (_DWORD)n253 == 253 );
  *a4 = v9 - a2;
  return n253;
}

// --- End Function: sub_147C7D120 (0x147C7D120) ---

// --- Function: ?_Xlength_error@std@@YAXPEBD@Z (0x14803278E) ---
// Hidden C++ exception states: #wind=2
// attributes: thunk
void __fastcall __noreturn std::_Xlength_error(const char *a1)
{
  __imp_?_Xlength_error@std@@YAXPEBD@Z(a1);
}

// --- End Function: ?_Xlength_error@std@@YAXPEBD@Z (0x14803278E) ---

// --- Function: __security_check_cookie (0x148033700) ---
// Hidden C++ exception states: #wind=2
void __cdecl _security_check_cookie(uintptr_t StackCookie)
{
  __int64 v1; // rcx

  if ( StackCookie != _security_cookie )
ReportFailure:
    _report_gsfailure(StackCookie);
  v1 = __ROL8__(StackCookie, 16);
  if ( (_WORD)v1 )
  {
    StackCookie = __ROR8__(v1, 16);
    goto ReportFailure;
  }
}

// --- End Function: __security_check_cookie (0x148033700) ---

// --- Function: __raise_securityfailure (0x1480338C8) ---
// Hidden C++ exception states: #wind=2
BOOL __fastcall _raise_securityfailure(struct _EXCEPTION_POINTERS *ExceptionInfo)
{
  HANDLE hProcess; // rax

  SetUnhandledExceptionFilter(0);
  UnhandledExceptionFilter(ExceptionInfo);
  hProcess = GetCurrentProcess();
  return TerminateProcess(hProcess, 0xC0000409);
}

// --- End Function: __raise_securityfailure (0x1480338C8) ---

// --- Function: __report_gsfailure (0x1480338FC) ---
// Hidden C++ exception states: #wind=2
void __cdecl __noreturn _report_gsfailure(uintptr_t StackCookie)
{
  DWORD64 retaddr; // [rsp+38h] [rbp+0h]
  DWORD64 StackCookie_1; // [rsp+40h] [rbp+8h] BYREF

  StackCookie_1 = StackCookie;
  if ( IsProcessorFeaturePresent(0x17u) )
    __fastfail(2u);
  capture_previous_context(&ContextRecord);
  ContextRecord.Rip = retaddr;
  ContextRecord.Rsp = (DWORD64)&StackCookie_1;
  qword_151736400 = retaddr;
  ContextRecord.Rcx = StackCookie_1;
  dword_1517363F0 = -1073740791;
  dword_1517363F4 = 1;
  dword_151736408 = 1;
  n2 = 2;
  _raise_securityfailure((struct _EXCEPTION_POINTERS *)&ExceptionInfo);
}

// --- End Function: __report_gsfailure (0x1480338FC) ---

// --- Function: capture_previous_context (0x148033AF0) ---
// Hidden C++ exception states: #wind=2
struct _RUNTIME_FUNCTION *__fastcall capture_previous_context(PCONTEXT ContextRecord)
{
  DWORD64 ControlPc; // rsi
  int n2; // edi
  struct _RUNTIME_FUNCTION *FunctionEntry; // rax
  unsigned __int64 ImageBase; // [rsp+60h] [rbp+8h] BYREF
  unsigned __int64 EstablisherFrame; // [rsp+68h] [rbp+10h] BYREF
  PVOID HandlerData; // [rsp+70h] [rbp+18h] BYREF

  RtlCaptureContext(ContextRecord);
  ControlPc = ContextRecord->Rip;
  for ( n2 = 0; n2 < 2; ++n2 )
  {
    FunctionEntry = RtlLookupFunctionEntry(ControlPc, &ImageBase, 0);
    if ( !FunctionEntry )
      break;
    FunctionEntry = (struct _RUNTIME_FUNCTION *)RtlVirtualUnwind(
                                                  0,
                                                  ImageBase,
                                                  ControlPc,
                                                  FunctionEntry,
                                                  ContextRecord,
                                                  &HandlerData,
                                                  &EstablisherFrame,
                                                  0);
  }
  return FunctionEntry;
}

// --- End Function: capture_previous_context (0x148033AF0) ---

// --- Function: memcpy (0x14808212B) ---
// Hidden C++ exception states: #wind=2
// attributes: thunk
void *__cdecl memcpy(void *a1, const void *Src, size_t Size)
{
  return __imp_memcpy(a1, Src, Size);
}

// --- End Function: memcpy (0x14808212B) ---

// --- Function: memmove (0x148082131) ---
// Hidden C++ exception states: #wind=2
// attributes: thunk
void *__cdecl memmove(void *a1, const void *Src, size_t Size)
{
  return __imp_memmove(a1, Src, Size);
}

// --- End Function: memmove (0x148082131) ---

// --- Function: memset (0x148082137) ---
// Hidden C++ exception states: #wind=2
// attributes: thunk
void *__cdecl memset(void *a1, int Val, size_t Size)
{
  return __imp_memset(a1, Val, Size);
}

// --- End Function: memset (0x148082137) ---

// --- Function: _CxxThrowException (0x14808217F) ---
// Hidden C++ exception states: #wind=2
// attributes: thunk
void __stdcall __noreturn CxxThrowException(void *pExceptionObject, _ThrowInfo *pThrowInfo)
{
  _CxxThrowException(pExceptionObject, pThrowInfo);
}

// --- End Function: _CxxThrowException (0x14808217F) ---

